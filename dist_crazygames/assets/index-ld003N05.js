(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();var mm={exports:{}},zu={};var f0;function eT(){if(f0)return zu;f0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:i,type:a,key:p,ref:l!==void 0?l:null,props:c}}return zu.Fragment=e,zu.jsx=r,zu.jsxs=r,zu}var h0;function tT(){return h0||(h0=1,mm.exports=eT()),mm.exports}var S=tT(),pm={exports:{}},Nt={};var d0;function nT(){if(d0)return Nt;d0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),G=Symbol.iterator;function te(j){return j===null||typeof j!="object"?null:(j=G&&j[G]||j["@@iterator"],typeof j=="function"?j:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},De=Object.assign,we={};function Le(j,oe,Ne){this.props=j,this.context=oe,this.refs=we,this.updater=Ne||z}Le.prototype.isReactComponent={},Le.prototype.setState=function(j,oe){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,oe,"setState")},Le.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=Le.prototype;function je(j,oe,Ne){this.props=j,this.context=oe,this.refs=we,this.updater=Ne||z}var tt=je.prototype=new U;tt.constructor=je,De(tt,Le.prototype),tt.isPureReactComponent=!0;var ct=Array.isArray;function it(){}var X={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function L(j,oe,Ne){var Ae=Ne.ref;return{$$typeof:i,type:j,key:oe,ref:Ae!==void 0?Ae:null,props:Ne}}function q(j,oe){return L(j.type,oe,j.props)}function R(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function P(j){var oe={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Ne){return oe[Ne]})}var N=/\/+/g;function Q(j,oe){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):oe.toString(36)}function ae(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(it,it):(j.status="pending",j.then(function(oe){j.status==="pending"&&(j.status="fulfilled",j.value=oe)},function(oe){j.status==="pending"&&(j.status="rejected",j.reason=oe)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function B(j,oe,Ne,Ae,Ie){var $e=typeof j;($e==="undefined"||$e==="boolean")&&(j=null);var dt=!1;if(j===null)dt=!0;else switch($e){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(j.$$typeof){case i:case e:dt=!0;break;case I:return dt=j._init,B(dt(j._payload),oe,Ne,Ae,Ie)}}if(dt)return Ie=Ie(j),dt=Ae===""?"."+Q(j,0):Ae,ct(Ie)?(Ne="",dt!=null&&(Ne=dt.replace(N,"$&/")+"/"),B(Ie,oe,Ne,"",function(Lt){return Lt})):Ie!=null&&(R(Ie)&&(Ie=q(Ie,Ne+(Ie.key==null||j&&j.key===Ie.key?"":(""+Ie.key).replace(N,"$&/")+"/")+dt)),oe.push(Ie)),1;dt=0;var Rt=Ae===""?".":Ae+":";if(ct(j))for(var ot=0;ot<j.length;ot++)Ae=j[ot],$e=Rt+Q(Ae,ot),dt+=B(Ae,oe,Ne,$e,Ie);else if(ot=te(j),typeof ot=="function")for(j=ot.call(j),ot=0;!(Ae=j.next()).done;)Ae=Ae.value,$e=Rt+Q(Ae,ot++),dt+=B(Ae,oe,Ne,$e,Ie);else if($e==="object"){if(typeof j.then=="function")return B(ae(j),oe,Ne,Ae,Ie);throw oe=String(j),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return dt}function $(j,oe,Ne){if(j==null)return j;var Ae=[],Ie=0;return B(j,Ae,"","",function($e){return oe.call(Ne,$e,Ie++)}),Ae}function me(j){if(j._status===-1){var oe=j._result;oe=oe(),oe.then(function(Ne){(j._status===0||j._status===-1)&&(j._status=1,j._result=Ne)},function(Ne){(j._status===0||j._status===-1)&&(j._status=2,j._result=Ne)}),j._status===-1&&(j._status=0,j._result=oe)}if(j._status===1)return j._result.default;throw j._result}var he=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},xe={map:$,forEach:function(j,oe,Ne){$(j,function(){oe.apply(this,arguments)},Ne)},count:function(j){var oe=0;return $(j,function(){oe++}),oe},toArray:function(j){return $(j,function(oe){return oe})||[]},only:function(j){if(!R(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Nt.Activity=O,Nt.Children=xe,Nt.Component=Le,Nt.Fragment=r,Nt.Profiler=l,Nt.PureComponent=je,Nt.StrictMode=a,Nt.Suspense=w,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return X.H.useMemoCache(j)}},Nt.cache=function(j){return function(){return j.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(j,oe,Ne){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Ae=De({},j.props),Ie=j.key;if(oe!=null)for($e in oe.key!==void 0&&(Ie=""+oe.key),oe)!H.call(oe,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&oe.ref===void 0||(Ae[$e]=oe[$e]);var $e=arguments.length-2;if($e===1)Ae.children=Ne;else if(1<$e){for(var dt=Array($e),Rt=0;Rt<$e;Rt++)dt[Rt]=arguments[Rt+2];Ae.children=dt}return L(j.type,Ie,Ae)},Nt.createContext=function(j){return j={$$typeof:p,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Nt.createElement=function(j,oe,Ne){var Ae,Ie={},$e=null;if(oe!=null)for(Ae in oe.key!==void 0&&($e=""+oe.key),oe)H.call(oe,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(Ie[Ae]=oe[Ae]);var dt=arguments.length-2;if(dt===1)Ie.children=Ne;else if(1<dt){for(var Rt=Array(dt),ot=0;ot<dt;ot++)Rt[ot]=arguments[ot+2];Ie.children=Rt}if(j&&j.defaultProps)for(Ae in dt=j.defaultProps,dt)Ie[Ae]===void 0&&(Ie[Ae]=dt[Ae]);return L(j,$e,Ie)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(j){return{$$typeof:b,render:j}},Nt.isValidElement=R,Nt.lazy=function(j){return{$$typeof:I,_payload:{_status:-1,_result:j},_init:me}},Nt.memo=function(j,oe){return{$$typeof:E,type:j,compare:oe===void 0?null:oe}},Nt.startTransition=function(j){var oe=X.T,Ne={};X.T=Ne;try{var Ae=j(),Ie=X.S;Ie!==null&&Ie(Ne,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(it,he)}catch($e){he($e)}finally{oe!==null&&Ne.types!==null&&(oe.types=Ne.types),X.T=oe}},Nt.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Nt.use=function(j){return X.H.use(j)},Nt.useActionState=function(j,oe,Ne){return X.H.useActionState(j,oe,Ne)},Nt.useCallback=function(j,oe){return X.H.useCallback(j,oe)},Nt.useContext=function(j){return X.H.useContext(j)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(j,oe){return X.H.useDeferredValue(j,oe)},Nt.useEffect=function(j,oe){return X.H.useEffect(j,oe)},Nt.useEffectEvent=function(j){return X.H.useEffectEvent(j)},Nt.useId=function(){return X.H.useId()},Nt.useImperativeHandle=function(j,oe,Ne){return X.H.useImperativeHandle(j,oe,Ne)},Nt.useInsertionEffect=function(j,oe){return X.H.useInsertionEffect(j,oe)},Nt.useLayoutEffect=function(j,oe){return X.H.useLayoutEffect(j,oe)},Nt.useMemo=function(j,oe){return X.H.useMemo(j,oe)},Nt.useOptimistic=function(j,oe){return X.H.useOptimistic(j,oe)},Nt.useReducer=function(j,oe,Ne){return X.H.useReducer(j,oe,Ne)},Nt.useRef=function(j){return X.H.useRef(j)},Nt.useState=function(j){return X.H.useState(j)},Nt.useSyncExternalStore=function(j,oe,Ne){return X.H.useSyncExternalStore(j,oe,Ne)},Nt.useTransition=function(){return X.H.useTransition()},Nt.version="19.2.3",Nt}var m0;function uh(){return m0||(m0=1,pm.exports=nT()),pm.exports}var Ue=uh(),gm={exports:{}},Bu={},ym={exports:{}},vm={};var p0;function rT(){return p0||(p0=1,(function(i){function e(B,$){var me=B.length;B.push($);e:for(;0<me;){var he=me-1>>>1,xe=B[he];if(0<l(xe,$))B[he]=$,B[me]=xe,me=he;else break e}}function r(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var $=B[0],me=B.pop();if(me!==$){B[0]=me;e:for(var he=0,xe=B.length,j=xe>>>1;he<j;){var oe=2*(he+1)-1,Ne=B[oe],Ae=oe+1,Ie=B[Ae];if(0>l(Ne,me))Ae<xe&&0>l(Ie,Ne)?(B[he]=Ie,B[Ae]=me,he=Ae):(B[he]=Ne,B[oe]=me,he=oe);else if(Ae<xe&&0>l(Ie,me))B[he]=Ie,B[Ae]=me,he=Ae;else break e}}return $}function l(B,$){var me=B.sortIndex-$.sortIndex;return me!==0?me:B.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();i.unstable_now=function(){return p.now()-b}}var w=[],E=[],I=1,O=null,G=3,te=!1,z=!1,De=!1,we=!1,Le=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,je=typeof setImmediate<"u"?setImmediate:null;function tt(B){for(var $=r(E);$!==null;){if($.callback===null)a(E);else if($.startTime<=B)a(E),$.sortIndex=$.expirationTime,e(w,$);else break;$=r(E)}}function ct(B){if(De=!1,tt(B),!z)if(r(w)!==null)z=!0,it||(it=!0,P());else{var $=r(E);$!==null&&ae(ct,$.startTime-B)}}var it=!1,X=-1,H=5,L=-1;function q(){return we?!0:!(i.unstable_now()-L<H)}function R(){if(we=!1,it){var B=i.unstable_now();L=B;var $=!0;try{e:{z=!1,De&&(De=!1,U(X),X=-1),te=!0;var me=G;try{t:{for(tt(B),O=r(w);O!==null&&!(O.expirationTime>B&&q());){var he=O.callback;if(typeof he=="function"){O.callback=null,G=O.priorityLevel;var xe=he(O.expirationTime<=B);if(B=i.unstable_now(),typeof xe=="function"){O.callback=xe,tt(B),$=!0;break t}O===r(w)&&a(w),tt(B)}else a(w);O=r(w)}if(O!==null)$=!0;else{var j=r(E);j!==null&&ae(ct,j.startTime-B),$=!1}}break e}finally{O=null,G=me,te=!1}$=void 0}}finally{$?P():it=!1}}}var P;if(typeof je=="function")P=function(){je(R)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Q=N.port2;N.port1.onmessage=R,P=function(){Q.postMessage(null)}}else P=function(){Le(R,0)};function ae(B,$){X=Le(function(){B(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return G},i.unstable_next=function(B){switch(G){case 1:case 2:case 3:var $=3;break;default:$=G}var me=G;G=$;try{return B()}finally{G=me}},i.unstable_requestPaint=function(){we=!0},i.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var me=G;G=B;try{return $()}finally{G=me}},i.unstable_scheduleCallback=function(B,$,me){var he=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?he+me:he):me=he,B){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=me+xe,B={id:I++,callback:$,priorityLevel:B,startTime:me,expirationTime:xe,sortIndex:-1},me>he?(B.sortIndex=me,e(E,B),r(w)===null&&B===r(E)&&(De?(U(X),X=-1):De=!0,ae(ct,me-he))):(B.sortIndex=xe,e(w,B),z||te||(z=!0,it||(it=!0,P()))),B},i.unstable_shouldYield=q,i.unstable_wrapCallback=function(B){var $=G;return function(){var me=G;G=$;try{return B.apply(this,arguments)}finally{G=me}}}})(vm)),vm}var g0;function iT(){return g0||(g0=1,ym.exports=rT()),ym.exports}var _m={exports:{}},hi={};var y0;function aT(){if(y0)return hi;y0=1;var i=uh();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)E+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,I){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:O==null?null:""+O,children:w,containerInfo:E,implementation:I}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hi.createPortal=function(w,E){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,I)},hi.flushSync=function(w){var E=p.T,I=a.p;try{if(p.T=null,a.p=2,w)return w()}finally{p.T=E,a.p=I,a.d.f()}},hi.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(w,E))},hi.prefetchDNS=function(w){typeof w=="string"&&a.d.D(w)},hi.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var I=E.as,O=b(I,E.crossOrigin),G=typeof E.integrity=="string"?E.integrity:void 0,te=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;I==="style"?a.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:O,integrity:G,fetchPriority:te}):I==="script"&&a.d.X(w,{crossOrigin:O,integrity:G,fetchPriority:te,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},hi.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var I=b(E.as,E.crossOrigin);a.d.M(w,{crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(w)},hi.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var I=E.as,O=b(I,E.crossOrigin);a.d.L(w,I,{crossOrigin:O,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},hi.preloadModule=function(w,E){if(typeof w=="string")if(E){var I=b(E.as,E.crossOrigin);a.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(w)},hi.requestFormReset=function(w){a.d.r(w)},hi.unstable_batchedUpdates=function(w,E){return w(E)},hi.useFormState=function(w,E,I){return p.H.useFormState(w,E,I)},hi.useFormStatus=function(){return p.H.useHostTransitionStatus()},hi.version="19.2.3",hi}var v0;function sT(){if(v0)return _m.exports;v0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=aT(),_m.exports}var _0;function oT(){if(_0)return Bu;_0=1;var i=iT(),e=uh(),r=sT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(a(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return w(f),t;if(m===o)return w(f),n;m=m.sibling}throw Error(a(188))}if(s.return!==o.return)s=f,o=m;else{for(var T=!1,M=f.child;M;){if(M===s){T=!0,s=f,o=m;break}if(M===o){T=!0,o=f,s=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===s){T=!0,s=m,o=f;break}if(M===o){T=!0,o=m,s=f;break}M=M.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function I(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=I(t),n!==null)return n;t=t.sibling}return null}var O=Object.assign,G=Symbol.for("react.element"),te=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),De=Symbol.for("react.fragment"),we=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),je=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Q(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case De:return"Fragment";case Le:return"Profiler";case we:return"StrictMode";case ct:return"Suspense";case it:return"SuspenseList";case L:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case je:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return n=t.displayName||null,n!==null?n:Q(t.type)||"Memo";case H:n=t._payload,t=t._init;try{return Q(t(n))}catch{}}return null}var ae=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},he=[],xe=-1;function j(t){return{current:t}}function oe(t){0>xe||(t.current=he[xe],he[xe]=null,xe--)}function Ne(t,n){xe++,he[xe]=t.current,t.current=n}var Ae=j(null),Ie=j(null),$e=j(null),dt=j(null);function Rt(t,n){switch(Ne($e,n),Ne(Ie,t),Ne(Ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kv(n),t=Vv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(Ae),Ne(Ae,t)}function ot(){oe(Ae),oe(Ie),oe($e)}function Lt(t){t.memoizedState!==null&&Ne(dt,t);var n=Ae.current,s=Vv(n,t.type);n!==s&&(Ne(Ie,t),Ne(Ae,s))}function Bt(t){Ie.current===t&&(oe(Ae),oe(Ie)),dt.current===t&&(oe(dt),Pu._currentValue=me)}var ft,It;function Xt(t){if(ft===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ft=n&&n[1]||"",It=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+t+It}var Wt=!1;function Kn(t,n){if(!t||Wt)return"";Wt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ye){var de=ye}Reflect.construct(t,[],Ce)}else{try{Ce.call()}catch(ye){de=ye}t.call(Ce.prototype)}}else{try{throw Error()}catch(ye){de=ye}(Ce=t())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ye){if(ye&&de&&typeof ye.stack=="string")return[ye.stack,de.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var W=T.split(`
`),ce=M.split(`
`);for(f=o=0;o<W.length&&!W[o].includes("DetermineComponentFrameRoot");)o++;for(;f<ce.length&&!ce[f].includes("DetermineComponentFrameRoot");)f++;if(o===W.length||f===ce.length)for(o=W.length-1,f=ce.length-1;1<=o&&0<=f&&W[o]!==ce[f];)f--;for(;1<=o&&0<=f;o--,f--)if(W[o]!==ce[f]){if(o!==1||f!==1)do if(o--,f--,0>f||W[o]!==ce[f]){var Ee=`
`+W[o].replace(" at new "," at ");return t.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",t.displayName)),Ee}while(1<=o&&0<=f);break}}}finally{Wt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Xt(s):""}function Mr(t,n){switch(t.tag){case 26:case 27:case 5:return Xt(t.type);case 16:return Xt("Lazy");case 13:return t.child!==n&&n!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return Kn(t.type,!1);case 11:return Kn(t.type.render,!1);case 1:return Kn(t.type,!0);case 31:return Xt("Activity");default:return""}}function Qt(t){try{var n="",s=null;do n+=Mr(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ke=Object.prototype.hasOwnProperty,St=i.unstable_scheduleCallback,an=i.unstable_cancelCallback,vt=i.unstable_shouldYield,vn=i.unstable_requestPaint,bt=i.unstable_now,_n=i.unstable_getCurrentPriorityLevel,ln=i.unstable_ImmediatePriority,C=i.unstable_UserBlockingPriority,g=i.unstable_NormalPriority,_=i.unstable_LowPriority,V=i.unstable_IdlePriority,J=i.log,ge=i.unstable_setDisableYieldValue,Se=null,He=null;function We(t){if(typeof J=="function"&&ge(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Se,t)}catch{}}var Pe=Math.clz32?Math.clz32:kn,Tt=Math.log,Ft=Math.LN2;function kn(t){return t>>>=0,t===0?32:31-(Tt(t)/Ft|0)|0}var jt=256,Un=262144,nn=4194304;function An(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zn(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?f=An(o):(T&=M,T!==0?f=An(T):s||(s=M&~t,s!==0&&(f=An(s))))):(M=o&~m,M!==0?f=An(M):T!==0?f=An(T):s||(s=o&~t,s!==0&&(f=An(s)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,s=n&-n,m>=s||m===32&&(s&4194048)!==0)?n:f}function Vn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _t(){var t=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),t}function Gn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function $n(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kt(t,n,s,o,f,m){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var M=t.entanglements,W=t.expirationTimes,ce=t.hiddenUpdates;for(s=T&~s;0<s;){var Ee=31-Pe(s),Ce=1<<Ee;M[Ee]=0,W[Ee]=-1;var de=ce[Ee];if(de!==null)for(ce[Ee]=null,Ee=0;Ee<de.length;Ee++){var ye=de[Ee];ye!==null&&(ye.lane&=-536870913)}s&=~Ce}o!==0&&Bn(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Bn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Pe(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Cn(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Pe(s),f=1<<o;f&n|t[o]&n&&(t[o]|=n),s&=~f}}function vi(t,n){var s=n&-n;return s=(s&42)!==0?1:aa(s),(s&(t.suspendedLanes|n))!==0?0:s}function aa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function sa(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:i0(t.type))}function Nr(t,n){var s=$.p;try{return $.p=t,n()}finally{$.p=s}}var yr=Math.random().toString(36).slice(2),un="__reactFiber$"+yr,Pn="__reactProps$"+yr,_i="__reactContainer$"+yr,oa="__reactEvents$"+yr,za="__reactListeners$"+yr,Sa="__reactHandles$"+yr,xa="__reactResources$"+yr,ni="__reactMarker$"+yr;function Dr(t){delete t[un],delete t[Pn],delete t[oa],delete t[za],delete t[Sa]}function er(t){var n=t[un];if(n)return n;for(var s=t.parentNode;s;){if(n=s[_i]||s[un]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Fv(t);t!==null;){if(s=t[un])return s;t=Fv(t)}return n}t=s,s=t.parentNode}return null}function Gr(t){if(t=t[un]||t[_i]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Or(t){var n=t[xa];return n||(n=t[xa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Rn(t){t[ni]=!0}var Ca=new Set,kr={};function Yr(t,n){Vr(t,n),Vr(t+"Capture",n)}function Vr(t,n){for(kr[t]=n,t=0;t<n.length;t++)Ca.add(n[t])}var Ba=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vr={},la={};function Ra(t){return Ke.call(la,t)?!0:Ke.call(vr,t)?!1:Ba.test(t)?la[t]=!0:(vr[t]=!0,!1)}function Ni(t,n,s){if(Ra(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Pr(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function bn(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Jn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ri(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ii(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){s=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function pt(t){if(!t._valueTracker){var n=ri(t)?"checked":"value";t._valueTracker=ii(t,n,""+t[n])}}function rr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=ri(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function mt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fr=/[\n"\\]/g;function Ln(t){return t.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ia(t,n,s,o,f,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jn(n)):t.value!==""+Jn(n)&&(t.value=""+Jn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Ma(t,T,Jn(n)):s!=null?Ma(t,T,Jn(s)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Jn(M):t.removeAttribute("name")}function is(t,n,s,o,f,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){pt(t);return}s=s!=null?""+Jn(s):"",n=n!=null?""+Jn(n):s,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),pt(t)}function Ma(t,n,s){n==="number"&&mt(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function cn(t,n,s,o){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Jn(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Di(t,n,s){if(n!=null&&(n=""+Jn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Jn(s):""}function bi(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ae(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Jn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),pt(t)}function ir(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var ai=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Na(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||ai.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function wi(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&Na(t,f,o)}else for(var m in n)n.hasOwnProperty(m)&&Na(t,m,n[m])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ei=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return Ei.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var Fa=null;function oi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,jr=null;function li(t){var n=Gr(t);if(n&&(t=n.stateNode)){var s=t[Pn]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ia(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ln(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var f=o[Pn]||null;if(!f)throw Error(a(90));Ia(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&rr(o)}break e;case"textarea":Di(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&cn(t,!!s.multiple,n,!1)}}}var Gi=!1;function Xr(t,n,s){if(Gi)return t(n,s);Gi=!0;try{var o=t(n);return o}finally{if(Gi=!1,(Lr!==null||jr!==null)&&(ef(),Lr&&(n=Lr,t=jr,jr=Lr=null,li(n),t)))for(n=0;n<t.length;n++)li(t[n])}}function _r(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Pn]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oi=!1;if(ar)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Oi=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{Oi=!1}var ki=null,Cr=null,Yi=null;function Xi(){if(Yi)return Yi;var t,n=Cr,s=n.length,o,f="value"in ki?ki.value:ki.textContent,m=f.length;for(t=0;t<s&&n[t]===f[t];t++);var T=s-t;for(o=1;o<=T&&n[s-o]===f[m-o];o++);return Yi=f.slice(t,1<o?1-o:void 0)}function Wi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ti(){return!0}function Ai(){return!1}function hr(t){function n(s,o,f,m,T){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(s=t[M],this[M]=s?s(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ti:Ai,this.isPropagationStopped=Ai,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),n}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=hr(sr),Qi=O({},sr,{view:0,detail:0}),as=hr(Qi),Si,ui,Ur,ha=O({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ur&&(Ur&&t.type==="mousemove"?(Si=t.screenX-Ur.screenX,ui=t.screenY-Ur.screenY):ui=Si=0,Ur=t),Si)},movementY:function(t){return"movementY"in t?t.movementY:ui}}),Ha=hr(ha),da=O({},ha,{dataTransfer:0}),ss=hr(da),Y=O({},Qi,{relatedTarget:0}),re=hr(Y),_e=O({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),ve=hr(_e),be=O({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fe=hr(be),Ge=O({},sr,{data:0}),ke=hr(Ge),ut={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=lt[t])?!!n[t]:!1}function or(){return In}var Fn=O({},Qi,{key:function(t){if(t.key){var n=ut[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Wi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ye[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(t){return t.type==="keypress"?Wi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),os=hr(Fn),Ki=O({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Da=hr(Ki),u=O({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),y=hr(u),A=O({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=hr(A),se=O({},ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pe=hr(se),ze=O({},sr,{newState:0,oldState:0}),xt=hr(ze),tr=[9,13,27,32],fn=ar&&"CompositionEvent"in window,Hn=null;ar&&"documentMode"in document&&(Hn=document.documentMode);var ci=ar&&"TextEvent"in window&&!Hn,Pi=ar&&(!fn||Hn&&8<Hn&&11>=Hn),Li=" ",xi=!1;function ma(t,n){switch(t){case"keyup":return tr.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ls(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var us=!1;function Rh(t,n){switch(t){case"compositionend":return ls(n);case"keypress":return n.which!==32?null:(xi=!0,Li);case"textInput":return t=n.data,t===Li&&xi?null:t;default:return null}}function Ec(t,n){if(us)return t==="compositionend"||!fn&&ma(t,n)?(t=Xi(),Yi=Cr=ki=null,us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pi&&n.locale!=="ko"?null:n.data;default:return null}}var tl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tl[t.type]:n==="textarea"}function Yn(t,n,s,o){Lr?jr?jr.push(o):jr=[o]:Lr=o,n=lf(n,"onChange"),0<n.length&&(s=new Vi("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Ci=null,cs=null;function Tc(t){Rv(t,0)}function Mo(t){var n=cr(t);if(rr(n))return t}function au(t,n){if(t==="change")return n}var su=!1;if(ar){var Us;if(ar){var nl="oninput"in document;if(!nl){var h=document.createElement("div");h.setAttribute("oninput","return;"),nl=typeof h.oninput=="function"}Us=nl}else Us=!1;su=Us&&(!document.documentMode||9<document.documentMode)}function d(){Ci&&(Ci.detachEvent("onpropertychange",v),cs=Ci=null)}function v(t){if(t.propertyName==="value"&&Mo(cs)){var n=[];Yn(n,cs,t,oi(t)),Xr(Tc,n)}}function x(t,n,s){t==="focusin"?(d(),Ci=n,cs=s,Ci.attachEvent("onpropertychange",v)):t==="focusout"&&d()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mo(cs)}function F(t,n){if(t==="click")return Mo(n)}function Z(t,n){if(t==="input"||t==="change")return Mo(n)}function ee(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fe=typeof Object.is=="function"?Object.is:ee;function ue(t,n){if(fe(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!Ke.call(n,f)||!fe(t[f],n[f]))return!1}return!0}function Ve(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Je(t,n){var s=Ve(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ve(s)}}function at(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?at(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ne(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mt(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=mt(t.document)}return n}function Be(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var nt=ar&&"documentMode"in document&&11>=document.documentMode,qe=null,dn=null,Ze=null,Ut=!1;function wn(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ut||qe==null||qe!==mt(o)||(o=qe,"selectionStart"in o&&Be(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ze&&ue(Ze,o)||(Ze=o,o=lf(dn,"onSelect"),0<o.length&&(n=new Vi("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=qe)))}function dr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ji={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},Ht={},$i={};ar&&($i=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function fs(t){if(Ht[t])return Ht[t];if(!ji[t])return t;var n=ji[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in $i)return Ht[t]=n[s];return t}var Oe=fs("animationend"),Qe=fs("animationiteration"),zt=fs("animationstart"),Kt=fs("transitionrun"),Ot=fs("transitionstart"),qt=fs("transitioncancel"),sn=fs("transitionend"),hn=new Map,Ri="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ri.push("scrollEnd");function En(t,n){hn.set(t,n),Yr(n,[t])}var Wr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gn=[],hs=0,rl=0;function qa(){for(var t=hs,n=rl=hs=0;n<t;){var s=gn[n];gn[n++]=null;var o=gn[n];gn[n++]=null;var f=gn[n];gn[n++]=null;var m=gn[n];if(gn[n++]=null,o!==null&&f!==null){var T=o.pending;T===null?f.next=f:(f.next=T.next,T.next=f),o.pending=f}m!==0&&ou(s,f,m)}}function Ga(t,n,s,o){gn[hs++]=t,gn[hs++]=n,gn[hs++]=s,gn[hs++]=o,rl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Oa(t,n,s,o){return Ga(t,n,s,o),No(t)}function Ii(t,n){return Ga(t,null,null,n),No(t)}function ou(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&n!==null&&(f=31-Pe(s),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=s|536870912),m):null}function No(t){if(50<Iu)throw Iu=0,jd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ji={};function Ih(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(t,n,s,o){return new Ih(t,n,s,o)}function Mh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ds(t,n){var s=t.alternate;return s===null?(s=fi(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function cg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ac(t,n,s,o,f,m){var T=0;if(o=t,typeof t=="function")Mh(t)&&(T=1);else if(typeof t=="string")T=FE(t,s,Ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case L:return t=fi(31,s,n,f),t.elementType=L,t.lanes=m,t;case De:return Do(s.children,f,m,n);case we:T=8,f|=24;break;case Le:return t=fi(12,s,n,f|2),t.elementType=Le,t.lanes=m,t;case ct:return t=fi(13,s,n,f),t.elementType=ct,t.lanes=m,t;case it:return t=fi(19,s,n,f),t.elementType=it,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case je:T=10;break e;case U:T=9;break e;case tt:T=11;break e;case X:T=14;break e;case H:T=16,o=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=fi(T,s,n,f),n.elementType=t,n.type=o,n.lanes=m,n}function Do(t,n,s,o){return t=fi(7,t,o,n),t.lanes=s,t}function Nh(t,n,s){return t=fi(6,t,null,n),t.lanes=s,t}function fg(t){var n=fi(18,null,null,0);return n.stateNode=t,n}function Dh(t,n,s){return n=fi(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var hg=new WeakMap;function pa(t,n){if(typeof t=="object"&&t!==null){var s=hg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Qt(n)},hg.set(t,n),n)}return{value:t,source:n,stack:Qt(n)}}var il=[],al=0,Sc=null,lu=0,ga=[],ya=0,zs=null,Ya=1,Xa="";function ms(t,n){il[al++]=lu,il[al++]=Sc,Sc=t,lu=n}function dg(t,n,s){ga[ya++]=Ya,ga[ya++]=Xa,ga[ya++]=zs,zs=t;var o=Ya;t=Xa;var f=32-Pe(o)-1;o&=~(1<<f),s+=1;var m=32-Pe(n)+f;if(30<m){var T=f-f%5;m=(o&(1<<T)-1).toString(32),o>>=T,f-=T,Ya=1<<32-Pe(n)+f|s<<f|o,Xa=m+t}else Ya=1<<m|s<<f|o,Xa=t}function Oh(t){t.return!==null&&(ms(t,1),dg(t,1,0))}function kh(t){for(;t===Sc;)Sc=il[--al],il[al]=null,lu=il[--al],il[al]=null;for(;t===zs;)zs=ga[--ya],ga[ya]=null,Xa=ga[--ya],ga[ya]=null,Ya=ga[--ya],ga[ya]=null}function mg(t,n){ga[ya++]=Ya,ga[ya++]=Xa,ga[ya++]=zs,Ya=n.id,Xa=n.overflow,zs=t}var Qr=null,Xn=null,rn=!1,Bs=null,va=!1,Vh=Error(a(519));function Fs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uu(pa(n,t)),Vh}function pg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[un]=t,n[Pn]=o,s){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(s=0;s<Nu.length;s++)Yt(Nu[s],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":Yt("invalid",n),is(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Yt("invalid",n);break;case"textarea":Yt("invalid",n),bi(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Dv(n.textContent,s)?(o.popover!=null&&(Yt("beforetoggle",n),Yt("toggle",n)),o.onScroll!=null&&Yt("scroll",n),o.onScrollEnd!=null&&Yt("scrollend",n),o.onClick!=null&&(n.onclick=si),n=!0):n=!1,n||Fs(t,!0)}function gg(t){for(Qr=t.return;Qr;)switch(Qr.tag){case 5:case 31:case 13:va=!1;return;case 27:case 3:va=!0;return;default:Qr=Qr.return}}function sl(t){if(t!==Qr)return!1;if(!rn)return gg(t),rn=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Zd(t.type,t.memoizedProps)),s=!s),s&&Xn&&Fs(t),gg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Xn=Bv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Xn=Bv(t)}else n===27?(n=Xn,no(t.type)?(t=im,im=null,Xn=t):Xn=n):Xn=Qr?ba(t.stateNode.nextSibling):null;return!0}function Oo(){Xn=Qr=null,rn=!1}function Ph(){var t=Bs;return t!==null&&(Fi===null?Fi=t:Fi.push.apply(Fi,t),Bs=null),t}function uu(t){Bs===null?Bs=[t]:Bs.push(t)}var Lh=j(null),ko=null,ps=null;function Hs(t,n,s){Ne(Lh,n._currentValue),n._currentValue=s}function gs(t){t._currentValue=Lh.current,oe(Lh)}function jh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Uh(t,n,s,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=f;for(var W=0;W<n.length;W++)if(M.context===n[W]){m.lanes|=s,M=m.alternate,M!==null&&(M.lanes|=s),jh(m.return,s,t),o||(T=null);break e}m=M.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=s,m=T.alternate,m!==null&&(m.lanes|=s),jh(T,s,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ol(t,n,s,o){t=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var M=f.type;fe(f.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(f===dt.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Pu):t=[Pu])}f=f.return}t!==null&&Uh(n,t,s,o),n.flags|=262144}function xc(t){for(t=t.firstContext;t!==null;){if(!fe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vo(t){ko=t,ps=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kr(t){return yg(ko,t)}function Cc(t,n){return ko===null&&Vo(t),yg(t,n)}function yg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ps===null){if(t===null)throw Error(a(308));ps=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ps=ps.next=n;return s}var jw=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},Uw=i.unstable_scheduleCallback,zw=i.unstable_NormalPriority,br={$$typeof:je,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new jw,data:new Map,refCount:0}}function cu(t){t.refCount--,t.refCount===0&&Uw(zw,function(){t.controller.abort()})}var fu=null,Bh=0,ll=0,ul=null;function Bw(t,n){if(fu===null){var s=fu=[];Bh=0,ll=qd(),ul={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Bh++,n.then(vg,vg),n}function vg(){if(--Bh===0&&fu!==null){ul!==null&&(ul.status="fulfilled");var t=fu;fu=null,ll=0,ul=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Fw(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var _g=B.S;B.S=function(t,n){nv=bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Bw(t,n),_g!==null&&_g(t,n)};var Po=j(null);function Fh(){var t=Po.current;return t!==null?t:jn.pooledCache}function Rc(t,n){n===null?Ne(Po,Po.current):Ne(Po,n.pool)}function bg(){var t=Fh();return t===null?null:{parent:br._currentValue,pool:t}}var cl=Error(a(460)),Hh=Error(a(474)),Ic=Error(a(542)),Mc={then:function(){}};function wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Eg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(si,si),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ag(t),t;default:if(typeof n.status=="string")n.then(si,si);else{if(t=jn,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ag(t),t}throw jo=n,cl}}function Lo(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(jo=s,cl):s}}var jo=null;function Tg(){if(jo===null)throw Error(a(459));var t=jo;return jo=null,t}function Ag(t){if(t===cl||t===Ic)throw Error(a(483))}var fl=null,hu=0;function Nc(t){var n=hu;return hu+=1,fl===null&&(fl=[]),Eg(fl,t,n)}function du(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Dc(t,n){throw n.$$typeof===G?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Sg(t){function n(ie,K){if(t){var le=ie.deletions;le===null?(ie.deletions=[K],ie.flags|=16):le.push(K)}}function s(ie,K){if(!t)return null;for(;K!==null;)n(ie,K),K=K.sibling;return null}function o(ie){for(var K=new Map;ie!==null;)ie.key!==null?K.set(ie.key,ie):K.set(ie.index,ie),ie=ie.sibling;return K}function f(ie,K){return ie=ds(ie,K),ie.index=0,ie.sibling=null,ie}function m(ie,K,le){return ie.index=le,t?(le=ie.alternate,le!==null?(le=le.index,le<K?(ie.flags|=67108866,K):le):(ie.flags|=67108866,K)):(ie.flags|=1048576,K)}function T(ie){return t&&ie.alternate===null&&(ie.flags|=67108866),ie}function M(ie,K,le,Te){return K===null||K.tag!==6?(K=Nh(le,ie.mode,Te),K.return=ie,K):(K=f(K,le),K.return=ie,K)}function W(ie,K,le,Te){var gt=le.type;return gt===De?Ee(ie,K,le.props.children,Te,le.key):K!==null&&(K.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===H&&Lo(gt)===K.type)?(K=f(K,le.props),du(K,le),K.return=ie,K):(K=Ac(le.type,le.key,le.props,null,ie.mode,Te),du(K,le),K.return=ie,K)}function ce(ie,K,le,Te){return K===null||K.tag!==4||K.stateNode.containerInfo!==le.containerInfo||K.stateNode.implementation!==le.implementation?(K=Dh(le,ie.mode,Te),K.return=ie,K):(K=f(K,le.children||[]),K.return=ie,K)}function Ee(ie,K,le,Te,gt){return K===null||K.tag!==7?(K=Do(le,ie.mode,Te,gt),K.return=ie,K):(K=f(K,le),K.return=ie,K)}function Ce(ie,K,le){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Nh(""+K,ie.mode,le),K.return=ie,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case te:return le=Ac(K.type,K.key,K.props,null,ie.mode,le),du(le,K),le.return=ie,le;case z:return K=Dh(K,ie.mode,le),K.return=ie,K;case H:return K=Lo(K),Ce(ie,K,le)}if(ae(K)||P(K))return K=Do(K,ie.mode,le,null),K.return=ie,K;if(typeof K.then=="function")return Ce(ie,Nc(K),le);if(K.$$typeof===je)return Ce(ie,Cc(ie,K),le);Dc(ie,K)}return null}function de(ie,K,le,Te){var gt=K!==null?K.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return gt!==null?null:M(ie,K,""+le,Te);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case te:return le.key===gt?W(ie,K,le,Te):null;case z:return le.key===gt?ce(ie,K,le,Te):null;case H:return le=Lo(le),de(ie,K,le,Te)}if(ae(le)||P(le))return gt!==null?null:Ee(ie,K,le,Te,null);if(typeof le.then=="function")return de(ie,K,Nc(le),Te);if(le.$$typeof===je)return de(ie,K,Cc(ie,le),Te);Dc(ie,le)}return null}function ye(ie,K,le,Te,gt){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return ie=ie.get(le)||null,M(K,ie,""+Te,gt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case te:return ie=ie.get(Te.key===null?le:Te.key)||null,W(K,ie,Te,gt);case z:return ie=ie.get(Te.key===null?le:Te.key)||null,ce(K,ie,Te,gt);case H:return Te=Lo(Te),ye(ie,K,le,Te,gt)}if(ae(Te)||P(Te))return ie=ie.get(le)||null,Ee(K,ie,Te,gt,null);if(typeof Te.then=="function")return ye(ie,K,le,Nc(Te),gt);if(Te.$$typeof===je)return ye(ie,K,le,Cc(K,Te),gt);Dc(K,Te)}return null}function st(ie,K,le,Te){for(var gt=null,mn=null,ht=K,Pt=K=0,Jt=null;ht!==null&&Pt<le.length;Pt++){ht.index>Pt?(Jt=ht,ht=null):Jt=ht.sibling;var pn=de(ie,ht,le[Pt],Te);if(pn===null){ht===null&&(ht=Jt);break}t&&ht&&pn.alternate===null&&n(ie,ht),K=m(pn,K,Pt),mn===null?gt=pn:mn.sibling=pn,mn=pn,ht=Jt}if(Pt===le.length)return s(ie,ht),rn&&ms(ie,Pt),gt;if(ht===null){for(;Pt<le.length;Pt++)ht=Ce(ie,le[Pt],Te),ht!==null&&(K=m(ht,K,Pt),mn===null?gt=ht:mn.sibling=ht,mn=ht);return rn&&ms(ie,Pt),gt}for(ht=o(ht);Pt<le.length;Pt++)Jt=ye(ht,ie,Pt,le[Pt],Te),Jt!==null&&(t&&Jt.alternate!==null&&ht.delete(Jt.key===null?Pt:Jt.key),K=m(Jt,K,Pt),mn===null?gt=Jt:mn.sibling=Jt,mn=Jt);return t&&ht.forEach(function(oo){return n(ie,oo)}),rn&&ms(ie,Pt),gt}function wt(ie,K,le,Te){if(le==null)throw Error(a(151));for(var gt=null,mn=null,ht=K,Pt=K=0,Jt=null,pn=le.next();ht!==null&&!pn.done;Pt++,pn=le.next()){ht.index>Pt?(Jt=ht,ht=null):Jt=ht.sibling;var oo=de(ie,ht,pn.value,Te);if(oo===null){ht===null&&(ht=Jt);break}t&&ht&&oo.alternate===null&&n(ie,ht),K=m(oo,K,Pt),mn===null?gt=oo:mn.sibling=oo,mn=oo,ht=Jt}if(pn.done)return s(ie,ht),rn&&ms(ie,Pt),gt;if(ht===null){for(;!pn.done;Pt++,pn=le.next())pn=Ce(ie,pn.value,Te),pn!==null&&(K=m(pn,K,Pt),mn===null?gt=pn:mn.sibling=pn,mn=pn);return rn&&ms(ie,Pt),gt}for(ht=o(ht);!pn.done;Pt++,pn=le.next())pn=ye(ht,ie,Pt,pn.value,Te),pn!==null&&(t&&pn.alternate!==null&&ht.delete(pn.key===null?Pt:pn.key),K=m(pn,K,Pt),mn===null?gt=pn:mn.sibling=pn,mn=pn);return t&&ht.forEach(function(ZE){return n(ie,ZE)}),rn&&ms(ie,Pt),gt}function Dn(ie,K,le,Te){if(typeof le=="object"&&le!==null&&le.type===De&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case te:e:{for(var gt=le.key;K!==null;){if(K.key===gt){if(gt=le.type,gt===De){if(K.tag===7){s(ie,K.sibling),Te=f(K,le.props.children),Te.return=ie,ie=Te;break e}}else if(K.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===H&&Lo(gt)===K.type){s(ie,K.sibling),Te=f(K,le.props),du(Te,le),Te.return=ie,ie=Te;break e}s(ie,K);break}else n(ie,K);K=K.sibling}le.type===De?(Te=Do(le.props.children,ie.mode,Te,le.key),Te.return=ie,ie=Te):(Te=Ac(le.type,le.key,le.props,null,ie.mode,Te),du(Te,le),Te.return=ie,ie=Te)}return T(ie);case z:e:{for(gt=le.key;K!==null;){if(K.key===gt)if(K.tag===4&&K.stateNode.containerInfo===le.containerInfo&&K.stateNode.implementation===le.implementation){s(ie,K.sibling),Te=f(K,le.children||[]),Te.return=ie,ie=Te;break e}else{s(ie,K);break}else n(ie,K);K=K.sibling}Te=Dh(le,ie.mode,Te),Te.return=ie,ie=Te}return T(ie);case H:return le=Lo(le),Dn(ie,K,le,Te)}if(ae(le))return st(ie,K,le,Te);if(P(le)){if(gt=P(le),typeof gt!="function")throw Error(a(150));return le=gt.call(le),wt(ie,K,le,Te)}if(typeof le.then=="function")return Dn(ie,K,Nc(le),Te);if(le.$$typeof===je)return Dn(ie,K,Cc(ie,le),Te);Dc(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,K!==null&&K.tag===6?(s(ie,K.sibling),Te=f(K,le),Te.return=ie,ie=Te):(s(ie,K),Te=Nh(le,ie.mode,Te),Te.return=ie,ie=Te),T(ie)):s(ie,K)}return function(ie,K,le,Te){try{hu=0;var gt=Dn(ie,K,le,Te);return fl=null,gt}catch(ht){if(ht===cl||ht===Ic)throw ht;var mn=fi(29,ht,null,ie.mode);return mn.lanes=Te,mn.return=ie,mn}finally{}}}var Uo=Sg(!0),xg=Sg(!1),qs=!1;function qh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(yn&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=No(t),ou(t,null,s),n}return Ga(t,o,n,s),No(t)}function mu(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Cn(t,s)}}function Yh(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,s=s.next}while(s!==null);m===null?f=m=n:m=m.next=n}else f=m=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Xh=!1;function pu(){if(Xh){var t=ul;if(t!==null)throw t}}function gu(t,n,s,o){Xh=!1;var f=t.updateQueue;qs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var W=M,ce=W.next;W.next=null,T===null?m=ce:T.next=ce,T=W;var Ee=t.alternate;Ee!==null&&(Ee=Ee.updateQueue,M=Ee.lastBaseUpdate,M!==T&&(M===null?Ee.firstBaseUpdate=ce:M.next=ce,Ee.lastBaseUpdate=W))}if(m!==null){var Ce=f.baseState;T=0,Ee=ce=W=null,M=m;do{var de=M.lane&-536870913,ye=de!==M.lane;if(ye?($t&de)===de:(o&de)===de){de!==0&&de===ll&&(Xh=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var st=t,wt=M;de=n;var Dn=s;switch(wt.tag){case 1:if(st=wt.payload,typeof st=="function"){Ce=st.call(Dn,Ce,de);break e}Ce=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=wt.payload,de=typeof st=="function"?st.call(Dn,Ce,de):st,de==null)break e;Ce=O({},Ce,de);break e;case 2:qs=!0}}de=M.callback,de!==null&&(t.flags|=64,ye&&(t.flags|=8192),ye=f.callbacks,ye===null?f.callbacks=[de]:ye.push(de))}else ye={lane:de,tag:M.tag,payload:M.payload,callback:M.callback,next:null},Ee===null?(ce=Ee=ye,W=Ce):Ee=Ee.next=ye,T|=de;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;ye=M,M=ye.next,ye.next=null,f.lastBaseUpdate=ye,f.shared.pending=null}}while(!0);Ee===null&&(W=Ce),f.baseState=W,f.firstBaseUpdate=ce,f.lastBaseUpdate=Ee,m===null&&(f.shared.lanes=0),$s|=T,t.lanes=T,t.memoizedState=Ce}}function Cg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Rg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Cg(s[t],n)}var hl=j(null),Oc=j(0);function Ig(t,n){t=Ss,Ne(Oc,t),Ne(hl,n),Ss=t|n.baseLanes}function Wh(){Ne(Oc,Ss),Ne(hl,hl.current)}function Qh(){Ss=Oc.current,oe(hl),oe(Oc)}var Zi=j(null),_a=null;function Xs(t){var n=t.alternate;Ne(mr,mr.current&1),Ne(Zi,t),_a===null&&(n===null||hl.current!==null||n.memoizedState!==null)&&(_a=t)}function Kh(t){Ne(mr,mr.current),Ne(Zi,t),_a===null&&(_a=t)}function Mg(t){t.tag===22?(Ne(mr,mr.current),Ne(Zi,t),_a===null&&(_a=t)):Ws()}function Ws(){Ne(mr,mr.current),Ne(Zi,Zi.current)}function ea(t){oe(Zi),_a===t&&(_a=null),oe(mr)}var mr=j(0);function kc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||nm(s)||rm(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ys=0,Vt=null,Mn=null,wr=null,Vc=!1,dl=!1,zo=!1,Pc=0,yu=0,ml=null,Hw=0;function lr(){throw Error(a(321))}function $h(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!fe(t[s],n[s]))return!1;return!0}function Jh(t,n,s,o,f,m){return ys=m,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?dy:dd,zo=!1,m=s(o,f),zo=!1,dl&&(m=Dg(n,s,o,f)),Ng(t),m}function Ng(t){B.H=bu;var n=Mn!==null&&Mn.next!==null;if(ys=0,wr=Mn=Vt=null,Vc=!1,yu=0,ml=null,n)throw Error(a(300));t===null||Er||(t=t.dependencies,t!==null&&xc(t)&&(Er=!0))}function Dg(t,n,s,o){Vt=t;var f=0;do{if(dl&&(ml=null),yu=0,dl=!1,25<=f)throw Error(a(301));if(f+=1,wr=Mn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=my,m=n(s,o)}while(dl);return m}function qw(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?vu(n):n,t=t.useState()[0],(Mn!==null?Mn.memoizedState:null)!==t&&(Vt.flags|=1024),n}function Zh(){var t=Pc!==0;return Pc=0,t}function ed(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function td(t){if(Vc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Vc=!1}ys=0,wr=Mn=Vt=null,dl=!1,yu=Pc=0,ml=null}function Mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Vt.memoizedState=wr=t:wr=wr.next=t,wr}function pr(){if(Mn===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=Mn.next;var n=wr===null?Vt.memoizedState:wr.next;if(n!==null)wr=n,Mn=t;else{if(t===null)throw Vt.alternate===null?Error(a(467)):Error(a(310));Mn=t,t={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},wr===null?Vt.memoizedState=wr=t:wr=wr.next=t}return wr}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vu(t){var n=yu;return yu+=1,ml===null&&(ml=[]),t=Eg(ml,t,n),n=Vt,(wr===null?n.memoizedState:wr.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?dy:dd),t}function jc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vu(t);if(t.$$typeof===je)return Kr(t)}throw Error(a(438,String(t)))}function nd(t){var n=null,s=Vt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Vt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Lc(),Vt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=q;return n.index++,s}function vs(t,n){return typeof n=="function"?n(t):n}function Uc(t){var n=pr();return rd(n,Mn,t)}function rd(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}n.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{n=f.next;var M=T=null,W=null,ce=n,Ee=!1;do{var Ce=ce.lane&-536870913;if(Ce!==ce.lane?($t&Ce)===Ce:(ys&Ce)===Ce){var de=ce.revertLane;if(de===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Ce===ll&&(Ee=!0);else if((ys&de)===de){ce=ce.next,de===ll&&(Ee=!0);continue}else Ce={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},W===null?(M=W=Ce,T=m):W=W.next=Ce,Vt.lanes|=de,$s|=de;Ce=ce.action,zo&&s(m,Ce),m=ce.hasEagerState?ce.eagerState:s(m,Ce)}else de={lane:Ce,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},W===null?(M=W=de,T=m):W=W.next=de,Vt.lanes|=Ce,$s|=Ce;ce=ce.next}while(ce!==null&&ce!==n);if(W===null?T=m:W.next=M,!fe(m,t.memoizedState)&&(Er=!0,Ee&&(s=ul,s!==null)))throw s;t.memoizedState=m,t.baseState=T,t.baseQueue=W,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function id(t){var n=pr(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,f=s.pending,m=n.memoizedState;if(f!==null){s.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);fe(m,n.memoizedState)||(Er=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,o]}function Og(t,n,s){var o=Vt,f=pr(),m=rn;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=n();var T=!fe((Mn||f).memoizedState,s);if(T&&(f.memoizedState=s,Er=!0),f=f.queue,od(Pg.bind(null,o,f,t),[t]),f.getSnapshot!==n||T||wr!==null&&wr.memoizedState.tag&1){if(o.flags|=2048,pl(9,{destroy:void 0},Vg.bind(null,o,f,s,n),null),jn===null)throw Error(a(349));m||(ys&127)!==0||kg(o,n,s)}return s}function kg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Vt.updateQueue,n===null?(n=Lc(),Vt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Vg(t,n,s,o){n.value=s,n.getSnapshot=o,Lg(n)&&jg(t)}function Pg(t,n,s){return s(function(){Lg(n)&&jg(t)})}function Lg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!fe(t,s)}catch{return!0}}function jg(t){var n=Ii(t,2);n!==null&&Hi(n,t,2)}function ad(t){var n=Mi();if(typeof t=="function"){var s=t;if(t=s(),zo){We(!0);try{s()}finally{We(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:t},n}function Ug(t,n,s,o){return t.baseState=s,rd(t,Mn,typeof o=="function"?o:vs)}function Gw(t,n,s,o,f){if(Fc(t))throw Error(a(485));if(t=n.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};B.T!==null?s(!0):m.isTransition=!1,o(m),s=n.pending,s===null?(m.next=n.pending=m,zg(n,m)):(m.next=s.next,n.pending=s.next=m)}}function zg(t,n){var s=n.action,o=n.payload,f=t.state;if(n.isTransition){var m=B.T,T={};B.T=T;try{var M=s(f,o),W=B.S;W!==null&&W(T,M),Bg(t,n,M)}catch(ce){sd(t,n,ce)}finally{m!==null&&T.types!==null&&(m.types=T.types),B.T=m}}else try{m=s(f,o),Bg(t,n,m)}catch(ce){sd(t,n,ce)}}function Bg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Fg(t,n,o)},function(o){return sd(t,n,o)}):Fg(t,n,s)}function Fg(t,n,s){n.status="fulfilled",n.value=s,Hg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,zg(t,s)))}function sd(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Hg(n),n=n.next;while(n!==o)}t.action=null}function Hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qg(t,n){return n}function Gg(t,n){if(rn){var s=jn.formState;if(s!==null){e:{var o=Vt;if(rn){if(Xn){t:{for(var f=Xn,m=va;f.nodeType!==8;){if(!m){f=null;break t}if(f=ba(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Xn=ba(f.nextSibling),o=f.data==="F!";break e}}Fs(o)}o=!1}o&&(n=s[0])}}return s=Mi(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:n},s.queue=o,s=cy.bind(null,Vt,o),o.dispatch=s,o=ad(!1),m=hd.bind(null,Vt,!1,o.queue),o=Mi(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,s=Gw.bind(null,Vt,f,m,s),f.dispatch=s,o.memoizedState=t,[n,s,!1]}function Yg(t){var n=pr();return Xg(n,Mn,t)}function Xg(t,n,s){if(n=rd(t,n,qg)[0],t=Uc(vs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=vu(n)}catch(T){throw T===cl?Ic:T}else o=n;n=pr();var f=n.queue,m=f.dispatch;return s!==n.memoizedState&&(Vt.flags|=2048,pl(9,{destroy:void 0},Yw.bind(null,f,s),null)),[o,m,t]}function Yw(t,n){t.action=n}function Wg(t){var n=pr(),s=Mn;if(s!==null)return Xg(n,s,t);pr(),n=n.memoizedState,s=pr();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function pl(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=Lc(),Vt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Qg(){return pr().memoizedState}function zc(t,n,s,o){var f=Mi();Vt.flags|=t,f.memoizedState=pl(1|n,{destroy:void 0},s,o===void 0?null:o)}function Bc(t,n,s,o){var f=pr();o=o===void 0?null:o;var m=f.memoizedState.inst;Mn!==null&&o!==null&&$h(o,Mn.memoizedState.deps)?f.memoizedState=pl(n,m,s,o):(Vt.flags|=t,f.memoizedState=pl(1|n,m,s,o))}function Kg(t,n){zc(8390656,8,t,n)}function od(t,n){Bc(2048,8,t,n)}function Xw(t){Vt.flags|=4;var n=Vt.updateQueue;if(n===null)n=Lc(),Vt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function $g(t){var n=pr().memoizedState;return Xw({ref:n,nextImpl:t}),function(){if((yn&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Jg(t,n){return Bc(4,2,t,n)}function Zg(t,n){return Bc(4,4,t,n)}function ey(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ty(t,n,s){s=s!=null?s.concat([t]):null,Bc(4,4,ey.bind(null,n,t),s)}function ld(){}function ny(t,n){var s=pr();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&$h(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function ry(t,n){var s=pr();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&$h(n,o[1]))return o[0];if(o=t(),zo){We(!0);try{t()}finally{We(!1)}}return s.memoizedState=[o,n],o}function ud(t,n,s){return s===void 0||(ys&1073741824)!==0&&($t&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=iv(),Vt.lanes|=t,$s|=t,s)}function iy(t,n,s,o){return fe(s,n)?s:hl.current!==null?(t=ud(t,s,o),fe(t,n)||(Er=!0),t):(ys&42)===0||(ys&1073741824)!==0&&($t&261930)===0?(Er=!0,t.memoizedState=s):(t=iv(),Vt.lanes|=t,$s|=t,n)}function ay(t,n,s,o,f){var m=$.p;$.p=m!==0&&8>m?m:8;var T=B.T,M={};B.T=M,hd(t,!1,n,s);try{var W=f(),ce=B.S;if(ce!==null&&ce(M,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var Ee=Fw(W,o);_u(t,n,Ee,ra(t))}else _u(t,n,o,ra(t))}catch(Ce){_u(t,n,{then:function(){},status:"rejected",reason:Ce},ra())}finally{$.p=m,T!==null&&M.types!==null&&(T.types=M.types),B.T=T}}function Ww(){}function cd(t,n,s,o){if(t.tag!==5)throw Error(a(476));var f=sy(t).queue;ay(t,f,n,me,s===null?Ww:function(){return oy(t),s(o)})}function sy(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:me},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function oy(t){var n=sy(t);n.next===null&&(n=t.alternate.memoizedState),_u(t,n.next.queue,{},ra())}function fd(){return Kr(Pu)}function ly(){return pr().memoizedState}function uy(){return pr().memoizedState}function Qw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=ra();t=Gs(s);var o=Ys(n,t,s);o!==null&&(Hi(o,n,s),mu(o,n,s)),n={cache:zh()},t.payload=n;return}n=n.return}}function Kw(t,n,s){var o=ra();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fc(t)?fy(n,s):(s=Oa(t,n,s,o),s!==null&&(Hi(s,t,o),hy(s,n,o)))}function cy(t,n,s){var o=ra();_u(t,n,s,o)}function _u(t,n,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fc(t))fy(n,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,s);if(f.hasEagerState=!0,f.eagerState=M,fe(M,T))return Ga(t,n,f,0),jn===null&&qa(),!1}catch{}finally{}if(s=Oa(t,n,f,o),s!==null)return Hi(s,t,o),hy(s,n,o),!0}return!1}function hd(t,n,s,o){if(o={lane:2,revertLane:qd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fc(t)){if(n)throw Error(a(479))}else n=Oa(t,s,o,2),n!==null&&Hi(n,t,2)}function Fc(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function fy(t,n){dl=Vc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function hy(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Cn(t,s)}}var bu={readContext:Kr,use:jc,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr};bu.useEffectEvent=lr;var dy={readContext:Kr,use:jc,useCallback:function(t,n){return Mi().memoizedState=[t,n===void 0?null:n],t},useContext:Kr,useEffect:Kg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,zc(4194308,4,ey.bind(null,n,t),s)},useLayoutEffect:function(t,n){return zc(4194308,4,t,n)},useInsertionEffect:function(t,n){zc(4,2,t,n)},useMemo:function(t,n){var s=Mi();n=n===void 0?null:n;var o=t();if(zo){We(!0);try{t()}finally{We(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Mi();if(s!==void 0){var f=s(n);if(zo){We(!0);try{s(n)}finally{We(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Kw.bind(null,Vt,t),[o.memoizedState,t]},useRef:function(t){var n=Mi();return t={current:t},n.memoizedState=t},useState:function(t){t=ad(t);var n=t.queue,s=cy.bind(null,Vt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:ld,useDeferredValue:function(t,n){var s=Mi();return ud(s,t,n)},useTransition:function(){var t=ad(!1);return t=ay.bind(null,Vt,t.queue,!0,!1),Mi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Vt,f=Mi();if(rn){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),jn===null)throw Error(a(349));($t&127)!==0||kg(o,n,s)}f.memoizedState=s;var m={value:s,getSnapshot:n};return f.queue=m,Kg(Pg.bind(null,o,m,t),[t]),o.flags|=2048,pl(9,{destroy:void 0},Vg.bind(null,o,m,s,n),null),s},useId:function(){var t=Mi(),n=jn.identifierPrefix;if(rn){var s=Xa,o=Ya;s=(o&~(1<<32-Pe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Hw++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:fd,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var n=Mi();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=hd.bind(null,Vt,!0,s),s.dispatch=n,[t,n]},useMemoCache:nd,useCacheRefresh:function(){return Mi().memoizedState=Qw.bind(null,Vt)},useEffectEvent:function(t){var n=Mi(),s={impl:t};return n.memoizedState=s,function(){if((yn&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},dd={readContext:Kr,use:jc,useCallback:ny,useContext:Kr,useEffect:od,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ry,useReducer:Uc,useRef:Qg,useState:function(){return Uc(vs)},useDebugValue:ld,useDeferredValue:function(t,n){var s=pr();return iy(s,Mn.memoizedState,t,n)},useTransition:function(){var t=Uc(vs)[0],n=pr().memoizedState;return[typeof t=="boolean"?t:vu(t),n]},useSyncExternalStore:Og,useId:ly,useHostTransitionStatus:fd,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,n){var s=pr();return Ug(s,Mn,t,n)},useMemoCache:nd,useCacheRefresh:uy};dd.useEffectEvent=$g;var my={readContext:Kr,use:jc,useCallback:ny,useContext:Kr,useEffect:od,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ry,useReducer:id,useRef:Qg,useState:function(){return id(vs)},useDebugValue:ld,useDeferredValue:function(t,n){var s=pr();return Mn===null?ud(s,t,n):iy(s,Mn.memoizedState,t,n)},useTransition:function(){var t=id(vs)[0],n=pr().memoizedState;return[typeof t=="boolean"?t:vu(t),n]},useSyncExternalStore:Og,useId:ly,useHostTransitionStatus:fd,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,n){var s=pr();return Mn!==null?Ug(s,Mn,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:nd,useCacheRefresh:uy};my.useEffectEvent=$g;function md(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:O({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var pd={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=ra(),f=Gs(o);f.payload=n,s!=null&&(f.callback=s),n=Ys(t,f,o),n!==null&&(Hi(n,t,o),mu(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=ra(),f=Gs(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Ys(t,f,o),n!==null&&(Hi(n,t,o),mu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=ra(),o=Gs(s);o.tag=2,n!=null&&(o.callback=n),n=Ys(t,o,s),n!==null&&(Hi(n,t,s),mu(n,t,s))}};function py(t,n,s,o,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!ue(s,o)||!ue(f,m):!0}function gy(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&pd.enqueueReplaceState(n,n.state,null)}function Bo(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=O({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function yy(t){Wr(t)}function vy(t){console.error(t)}function _y(t){Wr(t)}function Hc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function by(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function gd(t,n,s){return s=Gs(s),s.tag=3,s.payload={element:null},s.callback=function(){Hc(t,n)},s}function wy(t){return t=Gs(t),t.tag=3,t}function Ey(t,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){by(n,s,o)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){by(n,s,o),typeof f!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function $w(t,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ol(n,s,f,!0),s=Zi.current,s!==null){switch(s.tag){case 31:case 13:return _a===null?tf():s.alternate===null&&ur===0&&(ur=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===Mc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Bd(t,o,f)),!1;case 22:return s.flags|=65536,o===Mc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Bd(t,o,f)),!1}throw Error(a(435,s.tag))}return Bd(t,o,f),tf(),!1}if(rn)return n=Zi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Vh&&(t=Error(a(422),{cause:o}),uu(pa(t,s)))):(o!==Vh&&(n=Error(a(423),{cause:o}),uu(pa(n,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=pa(o,s),f=gd(t.stateNode,o,f),Yh(t,f),ur!==4&&(ur=2)),!1;var m=Error(a(520),{cause:o});if(m=pa(m,s),Ru===null?Ru=[m]:Ru.push(m),ur!==4&&(ur=2),n===null)return!0;o=pa(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=gd(s.stateNode,o,t),Yh(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Js===null||!Js.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=wy(f),Ey(f,t,s,o),Yh(s,f),!1}s=s.return}while(s!==null);return!1}var yd=Error(a(461)),Er=!1;function $r(t,n,s,o){n.child=t===null?xg(n,null,s,o):Uo(n,t.child,s,o)}function Ty(t,n,s,o,f){s=s.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return Vo(n),o=Jh(t,n,s,T,m,f),M=Zh(),t!==null&&!Er?(ed(t,n,f),_s(t,n,f)):(rn&&M&&Oh(n),n.flags|=1,$r(t,n,o,f),n.child)}function Ay(t,n,s,o,f){if(t===null){var m=s.type;return typeof m=="function"&&!Mh(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,Sy(t,n,m,o,f)):(t=Ac(s.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Sd(t,f)){var T=m.memoizedProps;if(s=s.compare,s=s!==null?s:ue,s(T,o)&&t.ref===n.ref)return _s(t,n,f)}return n.flags|=1,t=ds(m,o),t.ref=n.ref,t.return=n,n.child=t}function Sy(t,n,s,o,f){if(t!==null){var m=t.memoizedProps;if(ue(m,o)&&t.ref===n.ref)if(Er=!1,n.pendingProps=o=m,Sd(t,f))(t.flags&131072)!==0&&(Er=!0);else return n.lanes=t.lanes,_s(t,n,f)}return vd(t,n,s,o,f)}function xy(t,n,s,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(o=n.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,n.child=null;return Cy(t,n,m,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rc(n,m!==null?m.cachePool:null),m!==null?Ig(n,m):Wh(),Mg(n);else return o=n.lanes=536870912,Cy(t,n,m!==null?m.baseLanes|s:s,s,o)}else m!==null?(Rc(n,m.cachePool),Ig(n,m),Ws(),n.memoizedState=null):(t!==null&&Rc(n,null),Wh(),Ws());return $r(t,n,f,s),n.child}function wu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Cy(t,n,s,o,f){var m=Fh();return m=m===null?null:{parent:br._currentValue,pool:m},n.memoizedState={baseLanes:s,cachePool:m},t!==null&&Rc(n,null),Wh(),Mg(n),t!==null&&ol(t,n,o,!0),n.childLanes=f,null}function qc(t,n){return n=Yc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ry(t,n,s){return Uo(n,t.child,null,s),t=qc(n,n.pendingProps),t.flags|=2,ea(n),n.memoizedState=null,t}function Jw(t,n,s){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(rn){if(o.mode==="hidden")return t=qc(n,o),n.lanes=536870912,wu(null,t);if(Kh(n),(t=Xn)?(t=zv(t,va),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Ya,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},s=fg(t),s.return=n,n.child=s,Qr=n,Xn=null)):t=null,t===null)throw Fs(n);return n.lanes=536870912,null}return qc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Kh(n),f)if(n.flags&256)n.flags&=-257,n=Ry(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Er||ol(t,n,s,!1),f=(s&t.childLanes)!==0,Er||f){if(o=jn,o!==null&&(T=vi(o,s),T!==0&&T!==m.retryLane))throw m.retryLane=T,Ii(t,T),Hi(o,t,T),yd;tf(),n=Ry(t,n,s)}else t=m.treeContext,Xn=ba(T.nextSibling),Qr=n,rn=!0,Bs=null,va=!1,t!==null&&mg(n,t),n=qc(n,o),n.flags|=4096;return n}return t=ds(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Gc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function vd(t,n,s,o,f){return Vo(n),s=Jh(t,n,s,o,void 0,f),o=Zh(),t!==null&&!Er?(ed(t,n,f),_s(t,n,f)):(rn&&o&&Oh(n),n.flags|=1,$r(t,n,s,f),n.child)}function Iy(t,n,s,o,f,m){return Vo(n),n.updateQueue=null,s=Dg(n,o,s,f),Ng(t),o=Zh(),t!==null&&!Er?(ed(t,n,m),_s(t,n,m)):(rn&&o&&Oh(n),n.flags|=1,$r(t,n,s,m),n.child)}function My(t,n,s,o,f){if(Vo(n),n.stateNode===null){var m=Ji,T=s.contextType;typeof T=="object"&&T!==null&&(m=Kr(T)),m=new s(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=pd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},qh(n),T=s.contextType,m.context=typeof T=="object"&&T!==null?Kr(T):Ji,m.state=n.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(md(n,s,T,o),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&pd.enqueueReplaceState(m,m.state,null),gu(n,o,m,f),pu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,W=Bo(s,M);m.props=W;var ce=m.context,Ee=s.contextType;T=Ji,typeof Ee=="object"&&Ee!==null&&(T=Kr(Ee));var Ce=s.getDerivedStateFromProps;Ee=typeof Ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,Ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||ce!==T)&&gy(n,m,o,T),qs=!1;var de=n.memoizedState;m.state=de,gu(n,o,m,f),pu(),ce=n.memoizedState,M||de!==ce||qs?(typeof Ce=="function"&&(md(n,s,Ce,o),ce=n.memoizedState),(W=qs||py(n,s,W,o,de,ce,T))?(Ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ce),m.props=o,m.state=ce,m.context=T,o=W):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Gh(t,n),T=n.memoizedProps,Ee=Bo(s,T),m.props=Ee,Ce=n.pendingProps,de=m.context,ce=s.contextType,W=Ji,typeof ce=="object"&&ce!==null&&(W=Kr(ce)),M=s.getDerivedStateFromProps,(ce=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Ce||de!==W)&&gy(n,m,o,W),qs=!1,de=n.memoizedState,m.state=de,gu(n,o,m,f),pu();var ye=n.memoizedState;T!==Ce||de!==ye||qs||t!==null&&t.dependencies!==null&&xc(t.dependencies)?(typeof M=="function"&&(md(n,s,M,o),ye=n.memoizedState),(Ee=qs||py(n,s,Ee,o,de,ye,W)||t!==null&&t.dependencies!==null&&xc(t.dependencies))?(ce||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ye,W),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ye,W)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ye),m.props=o,m.state=ye,m.context=W,o=Ee):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Gc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Uo(n,t.child,null,f),n.child=Uo(n,null,s,f)):$r(t,n,s,f),n.memoizedState=m.state,t=n.child):t=_s(t,n,f),t}function Ny(t,n,s,o){return Oo(),n.flags|=256,$r(t,n,s,o),n.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bd(t){return{baseLanes:t,cachePool:bg()}}function wd(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=na),t}function Dy(t,n,s){var o=n.pendingProps,f=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(mr.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(rn){if(f?Xs(n):Ws(),(t=Xn)?(t=zv(t,va),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Ya,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},s=fg(t),s.return=n,n.child=s,Qr=n,Xn=null)):t=null,t===null)throw Fs(n);return rm(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,f?(Ws(),f=n.mode,M=Yc({mode:"hidden",children:M},f),o=Do(o,f,s,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=bd(s),o.childLanes=wd(t,T,s),n.memoizedState=_d,wu(null,o)):(Xs(n),Ed(n,M))}var W=t.memoizedState;if(W!==null&&(M=W.dehydrated,M!==null)){if(m)n.flags&256?(Xs(n),n.flags&=-257,n=Td(t,n,s)):n.memoizedState!==null?(Ws(),n.child=t.child,n.flags|=128,n=null):(Ws(),M=o.fallback,f=n.mode,o=Yc({mode:"visible",children:o.children},f),M=Do(M,f,s,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Uo(n,t.child,null,s),o=n.child,o.memoizedState=bd(s),o.childLanes=wd(t,T,s),n.memoizedState=_d,n=wu(null,o));else if(Xs(n),rm(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var ce=T.dgst;T=ce,o=Error(a(419)),o.stack="",o.digest=T,uu({value:o,source:null,stack:null}),n=Td(t,n,s)}else if(Er||ol(t,n,s,!1),T=(s&t.childLanes)!==0,Er||T){if(T=jn,T!==null&&(o=vi(T,s),o!==0&&o!==W.retryLane))throw W.retryLane=o,Ii(t,o),Hi(T,t,o),yd;nm(M)||tf(),n=Td(t,n,s)}else nm(M)?(n.flags|=192,n.child=t.child,n=null):(t=W.treeContext,Xn=ba(M.nextSibling),Qr=n,rn=!0,Bs=null,va=!1,t!==null&&mg(n,t),n=Ed(n,o.children),n.flags|=4096);return n}return f?(Ws(),M=o.fallback,f=n.mode,W=t.child,ce=W.sibling,o=ds(W,{mode:"hidden",children:o.children}),o.subtreeFlags=W.subtreeFlags&65011712,ce!==null?M=ds(ce,M):(M=Do(M,f,s,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,wu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=bd(s):(f=M.cachePool,f!==null?(W=br._currentValue,f=f.parent!==W?{parent:W,pool:W}:f):f=bg(),M={baseLanes:M.baseLanes|s,cachePool:f}),o.memoizedState=M,o.childLanes=wd(t,T,s),n.memoizedState=_d,wu(t.child,o)):(Xs(n),s=t.child,t=s.sibling,s=ds(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=s,n.memoizedState=null,s)}function Ed(t,n){return n=Yc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Yc(t,n){return t=fi(22,t,null,n),t.lanes=0,t}function Td(t,n,s){return Uo(n,t.child,null,s),t=Ed(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Oy(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),jh(t.return,n,s)}function Ad(t,n,s,o,f,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=s,T.tailMode=f,T.treeForkCount=m)}function ky(t,n,s){var o=n.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var T=mr.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Ne(mr,T),$r(t,n,o,s),o=rn?lu:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Oy(t,s,n);else if(t.tag===19)Oy(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&kc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Ad(n,!1,f,s,m,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&kc(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Ad(n,!0,s,null,m,o);break;case"together":Ad(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function _s(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),$s|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ol(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ds(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ds(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Sd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&xc(t)))}function Zw(t,n,s){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),Hs(n,br,t.memoizedState.cache),Oo();break;case 27:case 5:Lt(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:Hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Kh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Dy(t,n,s):(Xs(n),t=_s(t,n,s),t!==null?t.sibling:null);Xs(n);break;case 19:var f=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ol(t,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return ky(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ne(mr,mr.current),o)break;return null;case 22:return n.lanes=0,xy(t,n,s,n.pendingProps);case 24:Hs(n,br,t.memoizedState.cache)}return _s(t,n,s)}function Vy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Er=!0;else{if(!Sd(t,s)&&(n.flags&128)===0)return Er=!1,Zw(t,n,s);Er=(t.flags&131072)!==0}else Er=!1,rn&&(n.flags&1048576)!==0&&dg(n,lu,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Lo(n.elementType),n.type=t,typeof t=="function")Mh(t)?(o=Bo(t,o),n.tag=1,n=My(null,n,t,o,s)):(n.tag=0,n=vd(null,n,t,o,s));else{if(t!=null){var f=t.$$typeof;if(f===tt){n.tag=11,n=Ty(null,n,t,o,s);break e}else if(f===X){n.tag=14,n=Ay(null,n,t,o,s);break e}}throw n=Q(t)||t,Error(a(306,n,""))}}return n;case 0:return vd(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=Bo(o,n.pendingProps),My(t,n,o,f,s);case 3:e:{if(Rt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var m=n.memoizedState;f=m.element,Gh(t,n),gu(n,o,null,s);var T=n.memoizedState;if(o=T.cache,Hs(n,br,o),o!==m.cache&&Uh(n,[br],s,!0),pu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Ny(t,n,o,s);break e}else if(o!==f){f=pa(Error(a(424)),n),uu(f),n=Ny(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Xn=ba(t.firstChild),Qr=n,rn=!0,Bs=null,va=!0,s=xg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Oo(),o===f){n=_s(t,n,s);break e}$r(t,n,o,s)}n=n.child}return n;case 26:return Gc(t,n),t===null?(s=Yv(n.type,null,n.pendingProps,null))?n.memoizedState=s:rn||(s=n.type,t=n.pendingProps,o=uf($e.current).createElement(s),o[un]=n,o[Pn]=t,Jr(o,s,t),Rn(o),n.stateNode=o):n.memoizedState=Yv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Lt(n),t===null&&rn&&(o=n.stateNode=Hv(n.type,n.pendingProps,$e.current),Qr=n,va=!0,f=Xn,no(n.type)?(im=f,Xn=ba(o.firstChild)):Xn=f),$r(t,n,n.pendingProps.children,s),Gc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&rn&&((f=o=Xn)&&(o=IE(o,n.type,n.pendingProps,va),o!==null?(n.stateNode=o,Qr=n,Xn=ba(o.firstChild),va=!1,f=!0):f=!1),f||Fs(n)),Lt(n),f=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Zd(f,m)?o=null:T!==null&&Zd(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Jh(t,n,qw,null,null,s),Pu._currentValue=f),Gc(t,n),$r(t,n,o,s),n.child;case 6:return t===null&&rn&&((t=s=Xn)&&(s=ME(s,n.pendingProps,va),s!==null?(n.stateNode=s,Qr=n,Xn=null,t=!0):t=!1),t||Fs(n)),null;case 13:return Dy(t,n,s);case 4:return Rt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Uo(n,null,o,s):$r(t,n,o,s),n.child;case 11:return Ty(t,n,n.type,n.pendingProps,s);case 7:return $r(t,n,n.pendingProps,s),n.child;case 8:return $r(t,n,n.pendingProps.children,s),n.child;case 12:return $r(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Hs(n,n.type,o.value),$r(t,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Vo(n),f=Kr(f),o=o(f),n.flags|=1,$r(t,n,o,s),n.child;case 14:return Ay(t,n,n.type,n.pendingProps,s);case 15:return Sy(t,n,n.type,n.pendingProps,s);case 19:return ky(t,n,s);case 31:return Jw(t,n,s);case 22:return xy(t,n,s,n.pendingProps);case 24:return Vo(n),o=Kr(br),t===null?(f=Fh(),f===null&&(f=jn,m=zh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),n.memoizedState={parent:o,cache:f},qh(n),Hs(n,br,f)):((t.lanes&s)!==0&&(Gh(t,n),gu(n,null,null,s),pu()),f=t.memoizedState,m=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Hs(n,br,o)):(o=m.cache,Hs(n,br,o),o!==f.cache&&Uh(n,[br],s,!0))),$r(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function bs(t){t.flags|=4}function xd(t,n,s,o,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(lv())t.flags|=8192;else throw jo=Mc,Hh}else t.flags&=-16777217}function Py(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$v(n))if(lv())t.flags|=8192;else throw jo=Mc,Hh}function Xc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?_t():536870912,t.lanes|=n,_l|=n)}function Eu(t,n){if(!rn)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Wn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function eE(t,n,s){var o=n.pendingProps;switch(kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(n),null;case 1:return Wn(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),gs(br),ot(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(sl(n)?bs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ph())),Wn(n),null;case 26:var f=n.type,m=n.memoizedState;return t===null?(bs(n),m!==null?(Wn(n),Py(n,m)):(Wn(n),xd(n,f,null,o,s))):m?m!==t.memoizedState?(bs(n),Wn(n),Py(n,m)):(Wn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&bs(n),Wn(n),xd(n,f,t,o,s)),null;case 27:if(Bt(n),s=$e.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&bs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Wn(n),null}t=Ae.current,sl(n)?pg(n):(t=Hv(f,o,s),n.stateNode=t,bs(n))}return Wn(n),null;case 5:if(Bt(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&bs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Wn(n),null}if(m=Ae.current,sl(n))pg(n);else{var T=uf($e.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(f,{is:o.is}):T.createElement(f)}}m[un]=n,m[Pn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Jr(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&bs(n)}}return Wn(n),xd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&bs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=$e.current,sl(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,f=Qr,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[un]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Dv(t.nodeValue,s)),t||Fs(n,!0)}else t=uf(t).createTextNode(o),t[un]=n,n.stateNode=t}return Wn(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=sl(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[un]=n}else Oo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wn(n),t=!1}else s=Ph(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(ea(n),n):(ea(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Wn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=sl(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[un]=n}else Oo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wn(n),f=!1}else f=Ph(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ea(n),n):(ea(n),null)}return ea(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Xc(n,n.updateQueue),Wn(n),null);case 4:return ot(),t===null&&Wd(n.stateNode.containerInfo),Wn(n),null;case 10:return gs(n.type),Wn(n),null;case 19:if(oe(mr),o=n.memoizedState,o===null)return Wn(n),null;if(f=(n.flags&128)!==0,m=o.rendering,m===null)if(f)Eu(o,!1);else{if(ur!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=kc(t),m!==null){for(n.flags|=128,Eu(o,!1),t=m.updateQueue,n.updateQueue=t,Xc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)cg(s,t),s=s.sibling;return Ne(mr,mr.current&1|2),rn&&ms(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&bt()>Jc&&(n.flags|=128,f=!0,Eu(o,!1),n.lanes=4194304)}else{if(!f)if(t=kc(m),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,Xc(n,t),Eu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!rn)return Wn(n),null}else 2*bt()-o.renderingStartTime>Jc&&s!==536870912&&(n.flags|=128,f=!0,Eu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=bt(),t.sibling=null,s=mr.current,Ne(mr,f?s&1|2:s&1),rn&&ms(n,o.treeForkCount),t):(Wn(n),null);case 22:case 23:return ea(n),Qh(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Wn(n),n.subtreeFlags&6&&(n.flags|=8192)):Wn(n),s=n.updateQueue,s!==null&&Xc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&oe(Po),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),gs(br),Wn(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function tE(t,n){switch(kh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return gs(br),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Bt(n),null;case 31:if(n.memoizedState!==null){if(ea(n),n.alternate===null)throw Error(a(340));Oo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(ea(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Oo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(mr),null;case 4:return ot(),null;case 10:return gs(n.type),null;case 22:case 23:return ea(n),Qh(),t!==null&&oe(Po),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return gs(br),null;case 25:return null;default:return null}}function Ly(t,n){switch(kh(n),n.tag){case 3:gs(br),ot();break;case 26:case 27:case 5:Bt(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&ea(n);break;case 13:ea(n);break;case 19:oe(mr);break;case 10:gs(n.type);break;case 22:case 23:ea(n),Qh(),t!==null&&oe(Po);break;case 24:gs(br)}}function Tu(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&t)===t){o=void 0;var m=s.create,T=s.inst;o=m(),T.destroy=o}s=s.next}while(s!==f)}}catch(M){xn(n,n.return,M)}}function Qs(t,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,f=n;var W=s,ce=M;try{ce()}catch(Ee){xn(f,W,Ee)}}}o=o.next}while(o!==m)}}catch(Ee){xn(n,n.return,Ee)}}function jy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Rg(n,s)}catch(o){xn(t,t.return,o)}}}function Uy(t,n,s){s.props=Bo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){xn(t,n,o)}}function Au(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(f){xn(t,n,f)}}function Wa(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){xn(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){xn(t,n,f)}else s.current=null}function zy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){xn(t,t.return,f)}}function Cd(t,n,s){try{var o=t.stateNode;TE(o,t.type,s,n),o[Pn]=n}catch(f){xn(t,t.return,f)}}function By(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&no(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||By(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&no(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=si));else if(o!==4&&(o===27&&no(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Id(t,n,s),t=t.sibling;t!==null;)Id(t,n,s),t=t.sibling}function Wc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&no(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Wc(t,n,s),t=t.sibling;t!==null;)Wc(t,n,s),t=t.sibling}function Fy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Jr(n,o,s),n[un]=t,n[Pn]=s}catch(m){xn(t,t.return,m)}}var ws=!1,Tr=!1,Md=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,zr=null;function nE(t,n){if(t=t.containerInfo,$d=gf,t=ne(t),Be(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var T=0,M=-1,W=-1,ce=0,Ee=0,Ce=t,de=null;t:for(;;){for(var ye;Ce!==s||f!==0&&Ce.nodeType!==3||(M=T+f),Ce!==m||o!==0&&Ce.nodeType!==3||(W=T+o),Ce.nodeType===3&&(T+=Ce.nodeValue.length),(ye=Ce.firstChild)!==null;)de=Ce,Ce=ye;for(;;){if(Ce===t)break t;if(de===s&&++ce===f&&(M=T),de===m&&++Ee===o&&(W=T),(ye=Ce.nextSibling)!==null)break;Ce=de,de=Ce.parentNode}Ce=ye}s=M===-1||W===-1?null:{start:M,end:W}}else s=null}s=s||{start:0,end:0}}else s=null;for(Jd={focusedElem:t,selectionRange:s},gf=!1,zr=n;zr!==null;)if(n=zr,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,zr=t;else for(;zr!==null;){switch(n=zr,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=n,f=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var st=Bo(s.type,f);t=o.getSnapshotBeforeUpdate(st,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(wt){xn(s,s.return,wt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)tm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,zr=t;break}zr=n.return}}function qy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ts(t,s),o&4&&Tu(5,s);break;case 1:if(Ts(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){xn(s,s.return,T)}else{var f=Bo(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){xn(s,s.return,T)}}o&64&&jy(s),o&512&&Au(s,s.return);break;case 3:if(Ts(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Rg(t,n)}catch(T){xn(s,s.return,T)}}break;case 27:n===null&&o&4&&Fy(s);case 26:case 5:Ts(t,s),n===null&&o&4&&zy(s),o&512&&Au(s,s.return);break;case 12:Ts(t,s);break;case 31:Ts(t,s),o&4&&Xy(t,s);break;case 13:Ts(t,s),o&4&&Wy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=fE.bind(null,s),NE(t,s))));break;case 22:if(o=s.memoizedState!==null||ws,!o){n=n!==null&&n.memoizedState!==null||Tr,f=ws;var m=Tr;ws=o,(Tr=n)&&!m?As(t,s,(s.subtreeFlags&8772)!==0):Ts(t,s),ws=f,Tr=m}break;case 30:break;default:Ts(t,s)}}function Gy(t){var n=t.alternate;n!==null&&(t.alternate=null,Gy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Dr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Zn=null,Ui=!1;function Es(t,n,s){for(s=s.child;s!==null;)Yy(t,n,s),s=s.sibling}function Yy(t,n,s){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Se,s)}catch{}switch(s.tag){case 26:Tr||Wa(s,n),Es(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Tr||Wa(s,n);var o=Zn,f=Ui;no(s.type)&&(Zn=s.stateNode,Ui=!1),Es(t,n,s),Ou(s.stateNode),Zn=o,Ui=f;break;case 5:Tr||Wa(s,n);case 6:if(o=Zn,f=Ui,Zn=null,Es(t,n,s),Zn=o,Ui=f,Zn!==null)if(Ui)try{(Zn.nodeType===9?Zn.body:Zn.nodeName==="HTML"?Zn.ownerDocument.body:Zn).removeChild(s.stateNode)}catch(m){xn(s,n,m)}else try{Zn.removeChild(s.stateNode)}catch(m){xn(s,n,m)}break;case 18:Zn!==null&&(Ui?(t=Zn,jv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Cl(t)):jv(Zn,s.stateNode));break;case 4:o=Zn,f=Ui,Zn=s.stateNode.containerInfo,Ui=!0,Es(t,n,s),Zn=o,Ui=f;break;case 0:case 11:case 14:case 15:Qs(2,s,n),Tr||Qs(4,s,n),Es(t,n,s);break;case 1:Tr||(Wa(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Uy(s,n,o)),Es(t,n,s);break;case 21:Es(t,n,s);break;case 22:Tr=(o=Tr)||s.memoizedState!==null,Es(t,n,s),Tr=o;break;default:Es(t,n,s)}}function Xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(s){xn(n,n.return,s)}}}function Wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(s){xn(n,n.return,s)}}function rE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Hy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Hy),n;default:throw Error(a(435,t.tag))}}function Qc(t,n){var s=rE(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var f=hE.bind(null,t,o);o.then(f,f)}})}function zi(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(no(M.type)){Zn=M.stateNode,Ui=!1;break e}break;case 5:Zn=M.stateNode,Ui=!1;break e;case 3:case 4:Zn=M.stateNode.containerInfo,Ui=!0;break e}M=M.return}if(Zn===null)throw Error(a(160));Yy(m,T,f),Zn=null,Ui=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Qy(n,t),n=n.sibling}var ka=null;function Qy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zi(n,t),Bi(t),o&4&&(Qs(3,t,t.return),Tu(3,t),Qs(5,t,t.return));break;case 1:zi(n,t),Bi(t),o&512&&(Tr||s===null||Wa(s,s.return)),o&64&&ws&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=ka;if(zi(n,t),Bi(t),o&512&&(Tr||s===null||Wa(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ni]||m[un]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Jr(m,o,s),m[un]=t,Rn(m),o=m;break e;case"link":var T=Qv("link","href",f).get(o+(s.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(M,1);break t}}m=f.createElement(o),Jr(m,o,s),f.head.appendChild(m);break;case"meta":if(T=Qv("meta","content",f).get(o+(s.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(M,1);break t}}m=f.createElement(o),Jr(m,o,s),f.head.appendChild(m);break;default:throw Error(a(468,o))}m[un]=t,Rn(m),o=m}t.stateNode=o}else Kv(f,t.type,t.stateNode);else t.stateNode=Wv(f,o,t.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?Kv(f,t.type,t.stateNode):Wv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,s.memoizedProps)}break;case 27:zi(n,t),Bi(t),o&512&&(Tr||s===null||Wa(s,s.return)),s!==null&&o&4&&Cd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(zi(n,t),Bi(t),o&512&&(Tr||s===null||Wa(s,s.return)),t.flags&32){f=t.stateNode;try{ir(f,"")}catch(st){xn(t,t.return,st)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Cd(t,f,s!==null?s.memoizedProps:f)),o&1024&&(Md=!0);break;case 6:if(zi(n,t),Bi(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(st){xn(t,t.return,st)}}break;case 3:if(hf=null,f=ka,ka=cf(n.containerInfo),zi(n,t),ka=f,Bi(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(st){xn(t,t.return,st)}Md&&(Md=!1,Ky(t));break;case 4:o=ka,ka=cf(t.stateNode.containerInfo),zi(n,t),Bi(t),ka=o;break;case 12:zi(n,t),Bi(t);break;case 31:zi(n,t),Bi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Qc(t,o)));break;case 13:zi(n,t),Bi(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($c=bt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Qc(t,o)));break;case 22:f=t.memoizedState!==null;var W=s!==null&&s.memoizedState!==null,ce=ws,Ee=Tr;if(ws=ce||f,Tr=Ee||W,zi(n,t),Tr=Ee,ws=ce,Bi(t),o&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||W||ws||Tr||Fo(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){W=s=n;try{if(m=W.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=W.stateNode;var Ce=W.memoizedProps.style,de=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;M.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(st){xn(W,W.return,st)}}}else if(n.tag===6){if(s===null){W=n;try{W.stateNode.nodeValue=f?"":W.memoizedProps}catch(st){xn(W,W.return,st)}}}else if(n.tag===18){if(s===null){W=n;try{var ye=W.stateNode;f?Uv(ye,!0):Uv(W.stateNode,!1)}catch(st){xn(W,W.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Qc(t,s))));break;case 19:zi(n,t),Bi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Qc(t,o)));break;case 30:break;case 21:break;default:zi(n,t),Bi(t)}}function Bi(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(By(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,m=Rd(t);Wc(t,m,f);break;case 5:var T=s.stateNode;s.flags&32&&(ir(T,""),s.flags&=-33);var M=Rd(t);Wc(t,M,T);break;case 3:case 4:var W=s.stateNode.containerInfo,ce=Rd(t);Id(t,ce,W);break;default:throw Error(a(161))}}catch(Ee){xn(t,t.return,Ee)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ts(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qy(t,n.alternate,n),n=n.sibling}function Fo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qs(4,n,n.return),Fo(n);break;case 1:Wa(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Uy(n,n.return,s),Fo(n);break;case 27:Ou(n.stateNode);case 26:case 5:Wa(n,n.return),Fo(n);break;case 22:n.memoizedState===null&&Fo(n);break;case 30:Fo(n);break;default:Fo(n)}t=t.sibling}}function As(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:As(f,m,s),Tu(4,m);break;case 1:if(As(f,m,s),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ce){xn(o,o.return,ce)}if(o=m,f=o.updateQueue,f!==null){var M=o.stateNode;try{var W=f.shared.hiddenCallbacks;if(W!==null)for(f.shared.hiddenCallbacks=null,f=0;f<W.length;f++)Cg(W[f],M)}catch(ce){xn(o,o.return,ce)}}s&&T&64&&jy(m),Au(m,m.return);break;case 27:Fy(m);case 26:case 5:As(f,m,s),s&&o===null&&T&4&&zy(m),Au(m,m.return);break;case 12:As(f,m,s);break;case 31:As(f,m,s),s&&T&4&&Xy(f,m);break;case 13:As(f,m,s),s&&T&4&&Wy(f,m);break;case 22:m.memoizedState===null&&As(f,m,s),Au(m,m.return);break;case 30:break;default:As(f,m,s)}n=n.sibling}}function Nd(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&cu(s))}function Dd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cu(t))}function Va(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$y(t,n,s,o),n=n.sibling}function $y(t,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Va(t,n,s,o),f&2048&&Tu(9,n);break;case 1:Va(t,n,s,o);break;case 3:Va(t,n,s,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cu(t)));break;case 12:if(f&2048){Va(t,n,s,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(W){xn(n,n.return,W)}}else Va(t,n,s,o);break;case 31:Va(t,n,s,o);break;case 13:Va(t,n,s,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Va(t,n,s,o):Su(t,n):m._visibility&2?Va(t,n,s,o):(m._visibility|=2,gl(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Nd(T,n);break;case 24:Va(t,n,s,o),f&2048&&Dd(n.alternate,n);break;default:Va(t,n,s,o)}}function gl(t,n,s,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=s,W=o,ce=T.flags;switch(T.tag){case 0:case 11:case 15:gl(m,T,M,W,f),Tu(8,T);break;case 23:break;case 22:var Ee=T.stateNode;T.memoizedState!==null?Ee._visibility&2?gl(m,T,M,W,f):Su(m,T):(Ee._visibility|=2,gl(m,T,M,W,f)),f&&ce&2048&&Nd(T.alternate,T);break;case 24:gl(m,T,M,W,f),f&&ce&2048&&Dd(T.alternate,T);break;default:gl(m,T,M,W,f)}n=n.sibling}}function Su(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,f=o.flags;switch(o.tag){case 22:Su(s,o),f&2048&&Nd(o.alternate,o);break;case 24:Su(s,o),f&2048&&Dd(o.alternate,o);break;default:Su(s,o)}n=n.sibling}}var xu=8192;function yl(t,n,s){if(t.subtreeFlags&xu)for(t=t.child;t!==null;)Jy(t,n,s),t=t.sibling}function Jy(t,n,s){switch(t.tag){case 26:yl(t,n,s),t.flags&xu&&t.memoizedState!==null&&HE(s,ka,t.memoizedState,t.memoizedProps);break;case 5:yl(t,n,s);break;case 3:case 4:var o=ka;ka=cf(t.stateNode.containerInfo),yl(t,n,s),ka=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=xu,xu=16777216,yl(t,n,s),xu=o):yl(t,n,s));break;default:yl(t,n,s)}}function Zy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];zr=o,tv(o,t)}Zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ev(t),t=t.sibling}function ev(t){switch(t.tag){case 0:case 11:case 15:Cu(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:Cu(t);break;case 12:Cu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Kc(t)):Cu(t);break;default:Cu(t)}}function Kc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];zr=o,tv(o,t)}Zy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qs(8,n,n.return),Kc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Kc(n));break;default:Kc(n)}t=t.sibling}}function tv(t,n){for(;zr!==null;){var s=zr;switch(s.tag){case 0:case 11:case 15:Qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:cu(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,zr=o;else e:for(s=t;zr!==null;){o=zr;var f=o.sibling,m=o.return;if(Gy(o),o===s){zr=null;break e}if(f!==null){f.return=m,zr=f;break e}zr=m}}}var iE={getCacheForType:function(t){var n=Kr(br),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Kr(br).controller.signal}},aE=typeof WeakMap=="function"?WeakMap:Map,yn=0,jn=null,Gt=null,$t=0,Sn=0,ta=null,Ks=!1,vl=!1,Od=!1,Ss=0,ur=0,$s=0,Ho=0,kd=0,na=0,_l=0,Ru=null,Fi=null,Vd=!1,$c=0,nv=0,Jc=1/0,Zc=null,Js=null,Rr=0,Zs=null,bl=null,xs=0,Pd=0,Ld=null,rv=null,Iu=0,jd=null;function ra(){return(yn&2)!==0&&$t!==0?$t&-$t:B.T!==null?qd():sa()}function iv(){if(na===0)if(($t&536870912)===0||rn){var t=Un;Un<<=1,(Un&3932160)===0&&(Un=262144),na=t}else na=536870912;return t=Zi.current,t!==null&&(t.flags|=32),na}function Hi(t,n,s){(t===jn&&(Sn===2||Sn===9)||t.cancelPendingCommit!==null)&&(wl(t,0),eo(t,$t,na,!1)),$n(t,s),((yn&2)===0||t!==jn)&&(t===jn&&((yn&2)===0&&(Ho|=s),ur===4&&eo(t,$t,na,!1)),Qa(t))}function av(t,n,s){if((yn&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Vn(t,n),f=o?lE(t,n):zd(t,n,!0),m=o;do{if(f===0){vl&&!o&&eo(t,n,0,!1);break}else{if(s=t.current.alternate,m&&!sE(s)){f=zd(t,n,!1),m=!1;continue}if(f===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;f=Ru;var W=M.current.memoizedState.isDehydrated;if(W&&(wl(M,T).flags|=256),T=zd(M,T,!1),T!==2){if(Od&&!W){M.errorRecoveryDisabledLanes|=m,Ho|=m,f=4;break e}m=Fi,Fi=f,m!==null&&(Fi===null?Fi=m:Fi.push.apply(Fi,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){wl(t,0),eo(t,n,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:eo(o,n,na,!Ks);break e;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=$c+300-bt(),10<f)){if(eo(o,n,na,!Ks),zn(o,0,!0)!==0)break e;xs=n,o.timeoutHandle=Pv(sv.bind(null,o,s,Fi,Zc,Vd,n,na,Ho,_l,Ks,m,"Throttled",-0,0),f);break e}sv(o,s,Fi,Zc,Vd,n,na,Ho,_l,Ks,m,null,-0,0)}}break}while(!0);Qa(t)}function sv(t,n,s,o,f,m,T,M,W,ce,Ee,Ce,de,ye){if(t.timeoutHandle=-1,Ce=n.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},Jy(n,m,Ce);var st=(m&62914560)===m?$c-bt():(m&4194048)===m?nv-bt():0;if(st=qE(Ce,st),st!==null){xs=m,t.cancelPendingCommit=st(mv.bind(null,t,n,m,s,o,f,T,M,W,Ee,Ce,null,de,ye)),eo(t,m,T,!ce);return}}mv(t,n,m,s,o,f,T,M,W)}function sE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],m=f.getSnapshot;f=f.value;try{if(!fe(m(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function eo(t,n,s,o){n&=~kd,n&=~Ho,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var m=31-Pe(f),T=1<<m;o[m]=-1,f&=~T}s!==0&&Bn(t,s,n)}function ef(){return(yn&6)===0?(Mu(0),!1):!0}function Ud(){if(Gt!==null){if(Sn===0)var t=Gt.return;else t=Gt,ps=ko=null,td(t),fl=null,hu=0,t=Gt;for(;t!==null;)Ly(t.alternate,t),t=t.return;Gt=null}}function wl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,xE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),xs=0,Ud(),jn=t,Gt=s=ds(t.current,null),$t=n,Sn=0,ta=null,Ks=!1,vl=Vn(t,n),Od=!1,_l=na=kd=Ho=$s=ur=0,Fi=Ru=null,Vd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-Pe(o),m=1<<f;n|=t[f],o&=~m}return Ss=n,qa(),s}function ov(t,n){Vt=null,B.H=bu,n===cl||n===Ic?(n=Tg(),Sn=3):n===Hh?(n=Tg(),Sn=4):Sn=n===yd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ta=n,Gt===null&&(ur=1,Hc(t,pa(n,t.current)))}function lv(){var t=Zi.current;return t===null?!0:($t&4194048)===$t?_a===null:($t&62914560)===$t||($t&536870912)!==0?t===_a:!1}function uv(){var t=B.H;return B.H=bu,t===null?bu:t}function cv(){var t=B.A;return B.A=iE,t}function tf(){ur=4,Ks||($t&4194048)!==$t&&Zi.current!==null||(vl=!0),($s&134217727)===0&&(Ho&134217727)===0||jn===null||eo(jn,$t,na,!1)}function zd(t,n,s){var o=yn;yn|=2;var f=uv(),m=cv();(jn!==t||$t!==n)&&(Zc=null,wl(t,n)),n=!1;var T=ur;e:do try{if(Sn!==0&&Gt!==null){var M=Gt,W=ta;switch(Sn){case 8:Ud(),T=6;break e;case 3:case 2:case 9:case 6:Zi.current===null&&(n=!0);var ce=Sn;if(Sn=0,ta=null,El(t,M,W,ce),s&&vl){T=0;break e}break;default:ce=Sn,Sn=0,ta=null,El(t,M,W,ce)}}oE(),T=ur;break}catch(Ee){ov(t,Ee)}while(!0);return n&&t.shellSuspendCounter++,ps=ko=null,yn=o,B.H=f,B.A=m,Gt===null&&(jn=null,$t=0,qa()),T}function oE(){for(;Gt!==null;)fv(Gt)}function lE(t,n){var s=yn;yn|=2;var o=uv(),f=cv();jn!==t||$t!==n?(Zc=null,Jc=bt()+500,wl(t,n)):vl=Vn(t,n);e:do try{if(Sn!==0&&Gt!==null){n=Gt;var m=ta;t:switch(Sn){case 1:Sn=0,ta=null,El(t,n,m,1);break;case 2:case 9:if(wg(m)){Sn=0,ta=null,hv(n);break}n=function(){Sn!==2&&Sn!==9||jn!==t||(Sn=7),Qa(t)},m.then(n,n);break e;case 3:Sn=7;break e;case 4:Sn=5;break e;case 7:wg(m)?(Sn=0,ta=null,hv(n)):(Sn=0,ta=null,El(t,n,m,7));break;case 5:var T=null;switch(Gt.tag){case 26:T=Gt.memoizedState;case 5:case 27:var M=Gt;if(T?$v(T):M.stateNode.complete){Sn=0,ta=null;var W=M.sibling;if(W!==null)Gt=W;else{var ce=M.return;ce!==null?(Gt=ce,nf(ce)):Gt=null}break t}}Sn=0,ta=null,El(t,n,m,5);break;case 6:Sn=0,ta=null,El(t,n,m,6);break;case 8:Ud(),ur=6;break e;default:throw Error(a(462))}}uE();break}catch(Ee){ov(t,Ee)}while(!0);return ps=ko=null,B.H=o,B.A=f,yn=s,Gt!==null?0:(jn=null,$t=0,qa(),ur)}function uE(){for(;Gt!==null&&!vt();)fv(Gt)}function fv(t){var n=Vy(t.alternate,t,Ss);t.memoizedProps=t.pendingProps,n===null?nf(t):Gt=n}function hv(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Iy(s,n,n.pendingProps,n.type,void 0,$t);break;case 11:n=Iy(s,n,n.pendingProps,n.type.render,n.ref,$t);break;case 5:td(n);default:Ly(s,n),n=Gt=cg(n,Ss),n=Vy(s,n,Ss)}t.memoizedProps=t.pendingProps,n===null?nf(t):Gt=n}function El(t,n,s,o){ps=ko=null,td(n),fl=null,hu=0;var f=n.return;try{if($w(t,f,n,s,$t)){ur=1,Hc(t,pa(s,t.current)),Gt=null;return}}catch(m){if(f!==null)throw Gt=f,m;ur=1,Hc(t,pa(s,t.current)),Gt=null;return}n.flags&32768?(rn||o===1?t=!0:vl||($t&536870912)!==0?t=!1:(Ks=t=!0,(o===2||o===9||o===3||o===6)&&(o=Zi.current,o!==null&&o.tag===13&&(o.flags|=16384))),dv(n,t)):nf(n)}function nf(t){var n=t;do{if((n.flags&32768)!==0){dv(n,Ks);return}t=n.return;var s=eE(n.alternate,n,Ss);if(s!==null){Gt=s;return}if(n=n.sibling,n!==null){Gt=n;return}Gt=n=t}while(n!==null);ur===0&&(ur=5)}function dv(t,n){do{var s=tE(t.alternate,t);if(s!==null){s.flags&=32767,Gt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=s}while(t!==null);ur=6,Gt=null}function mv(t,n,s,o,f,m,T,M,W){t.cancelPendingCommit=null;do rf();while(Rr!==0);if((yn&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=rl,kt(t,s,m,T,M,W),t===jn&&(Gt=jn=null,$t=0),bl=n,Zs=t,xs=s,Pd=m,Ld=f,rv=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dE(g,function(){return _v(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,f=$.p,$.p=2,T=yn,yn|=4;try{nE(t,n,s)}finally{yn=T,$.p=f,B.T=o}}Rr=1,pv(),gv(),yv()}}function pv(){if(Rr===1){Rr=0;var t=Zs,n=bl,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=B.T,B.T=null;var o=$.p;$.p=2;var f=yn;yn|=4;try{Qy(n,t);var m=Jd,T=ne(t.containerInfo),M=m.focusedElem,W=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&at(M.ownerDocument.documentElement,M)){if(W!==null&&Be(M)){var ce=W.start,Ee=W.end;if(Ee===void 0&&(Ee=ce),"selectionStart"in M)M.selectionStart=ce,M.selectionEnd=Math.min(Ee,M.value.length);else{var Ce=M.ownerDocument||document,de=Ce&&Ce.defaultView||window;if(de.getSelection){var ye=de.getSelection(),st=M.textContent.length,wt=Math.min(W.start,st),Dn=W.end===void 0?wt:Math.min(W.end,st);!ye.extend&&wt>Dn&&(T=Dn,Dn=wt,wt=T);var ie=Je(M,wt),K=Je(M,Dn);if(ie&&K&&(ye.rangeCount!==1||ye.anchorNode!==ie.node||ye.anchorOffset!==ie.offset||ye.focusNode!==K.node||ye.focusOffset!==K.offset)){var le=Ce.createRange();le.setStart(ie.node,ie.offset),ye.removeAllRanges(),wt>Dn?(ye.addRange(le),ye.extend(K.node,K.offset)):(le.setEnd(K.node,K.offset),ye.addRange(le))}}}}for(Ce=[],ye=M;ye=ye.parentNode;)ye.nodeType===1&&Ce.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ce.length;M++){var Te=Ce[M];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}gf=!!$d,Jd=$d=null}finally{yn=f,$.p=o,B.T=s}}t.current=n,Rr=2}}function gv(){if(Rr===2){Rr=0;var t=Zs,n=bl,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=B.T,B.T=null;var o=$.p;$.p=2;var f=yn;yn|=4;try{qy(t,n.alternate,n)}finally{yn=f,$.p=o,B.T=s}}Rr=3}}function yv(){if(Rr===4||Rr===3){Rr=0,vn();var t=Zs,n=bl,s=xs,o=rv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Rr=5:(Rr=0,bl=Zs=null,vv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Js=null),Xe(s),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=B.T,f=$.p,$.p=2,B.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{B.T=n,$.p=f}}(xs&3)!==0&&rf(),Qa(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===jd?Iu++:(Iu=0,jd=t):Iu=0,Mu(0)}}function vv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,cu(n)))}function rf(){return pv(),gv(),yv(),_v()}function _v(){if(Rr!==5)return!1;var t=Zs,n=Pd;Pd=0;var s=Xe(xs),o=B.T,f=$.p;try{$.p=32>s?32:s,B.T=null,s=Ld,Ld=null;var m=Zs,T=xs;if(Rr=0,bl=Zs=null,xs=0,(yn&6)!==0)throw Error(a(331));var M=yn;if(yn|=4,ev(m.current),$y(m,m.current,T,s),yn=M,Mu(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Se,m)}catch{}return!0}finally{$.p=f,B.T=o,vv(t,n)}}function bv(t,n,s){n=pa(s,n),n=gd(t.stateNode,n,2),t=Ys(t,n,2),t!==null&&($n(t,2),Qa(t))}function xn(t,n,s){if(t.tag===3)bv(t,t,s);else for(;n!==null;){if(n.tag===3){bv(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Js===null||!Js.has(o))){t=pa(s,t),s=wy(2),o=Ys(n,s,2),o!==null&&(Ey(s,o,n,t),$n(o,2),Qa(o));break}}n=n.return}}function Bd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new aE;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(Od=!0,f.add(s),t=cE.bind(null,t,n,s),n.then(t,t))}function cE(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,jn===t&&($t&s)===s&&(ur===4||ur===3&&($t&62914560)===$t&&300>bt()-$c?(yn&2)===0&&wl(t,0):kd|=s,_l===$t&&(_l=0)),Qa(t)}function wv(t,n){n===0&&(n=_t()),t=Ii(t,n),t!==null&&($n(t,n),Qa(t))}function fE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),wv(t,s)}function hE(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),wv(t,s)}function dE(t,n){return St(t,n)}var af=null,Tl=null,Fd=!1,sf=!1,Hd=!1,to=0;function Qa(t){t!==Tl&&t.next===null&&(Tl===null?af=Tl=t:Tl=Tl.next=t),sf=!0,Fd||(Fd=!0,pE())}function Mu(t,n){if(!Hd&&sf){Hd=!0;do for(var s=!1,o=af;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-Pe(42|t)+1)-1,m&=f&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,Sv(o,m))}else m=$t,m=zn(o,o===jn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Vn(o,m)||(s=!0,Sv(o,m));o=o.next}while(s);Hd=!1}}function mE(){Ev()}function Ev(){sf=Fd=!1;var t=0;to!==0&&SE()&&(t=to);for(var n=bt(),s=null,o=af;o!==null;){var f=o.next,m=Tv(o,n);m===0?(o.next=null,s===null?af=f:s.next=f,f===null&&(Tl=s)):(s=o,(t!==0||(m&3)!==0)&&(sf=!0)),o=f}Rr!==0&&Rr!==5||Mu(t),to!==0&&(to=0)}function Tv(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Pe(m),M=1<<T,W=f[T];W===-1?((M&s)===0||(M&o)!==0)&&(f[T]=qr(M,n)):W<=n&&(t.expiredLanes|=M),m&=~M}if(n=jn,s=$t,s=zn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Sn===2||Sn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&an(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Vn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&an(o),Xe(s)){case 2:case 8:s=C;break;case 32:s=g;break;case 268435456:s=V;break;default:s=g}return o=Av.bind(null,t),s=St(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&an(o),t.callbackPriority=2,t.callbackNode=null,2}function Av(t,n){if(Rr!==0&&Rr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(rf()&&t.callbackNode!==s)return null;var o=$t;return o=zn(t,t===jn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(av(t,o,n),Tv(t,bt()),t.callbackNode!=null&&t.callbackNode===s?Av.bind(null,t):null)}function Sv(t,n){if(rf())return null;av(t,n,!0)}function pE(){CE(function(){(yn&6)!==0?St(ln,mE):Ev()})}function qd(){if(to===0){var t=ll;t===0&&(t=jt,jt<<=1,(jt&261888)===0&&(jt=256)),to=t}return to}function xv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function Cv(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function gE(t,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var m=xv((f[Pn]||null).action),T=o.submitter;T&&(n=(n=T[Pn]||null)?xv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new Vi("action","action",null,o,f);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(to!==0){var W=T?Cv(f,T):new FormData(f);cd(s,{pending:!0,data:W,method:f.method,action:m},null,W)}}else typeof m=="function"&&(M.preventDefault(),W=T?Cv(f,T):new FormData(f),cd(s,{pending:!0,data:W,method:f.method,action:m},m,W))},currentTarget:f}]})}}for(var Gd=0;Gd<Ri.length;Gd++){var Yd=Ri[Gd],yE=Yd.toLowerCase(),vE=Yd[0].toUpperCase()+Yd.slice(1);En(yE,"on"+vE)}En(Oe,"onAnimationEnd"),En(Qe,"onAnimationIteration"),En(zt,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Kt,"onTransitionRun"),En(Ot,"onTransitionStart"),En(qt,"onTransitionCancel"),En(sn,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function Rv(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],f=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],W=M.instance,ce=M.currentTarget;if(M=M.listener,W!==m&&f.isPropagationStopped())break e;m=M,f.currentTarget=ce;try{m(f)}catch(Ee){Wr(Ee)}f.currentTarget=null,m=W}else for(T=0;T<o.length;T++){if(M=o[T],W=M.instance,ce=M.currentTarget,M=M.listener,W!==m&&f.isPropagationStopped())break e;m=M,f.currentTarget=ce;try{m(f)}catch(Ee){Wr(Ee)}f.currentTarget=null,m=W}}}}function Yt(t,n){var s=n[oa];s===void 0&&(s=n[oa]=new Set);var o=t+"__bubble";s.has(o)||(Iv(n,t,2,!1),s.add(o))}function Xd(t,n,s){var o=0;n&&(o|=4),Iv(s,t,o,n)}var of="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[of]){t[of]=!0,Ca.forEach(function(s){s!=="selectionchange"&&(_E.has(s)||Xd(s,!1,t),Xd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[of]||(n[of]=!0,Xd("selectionchange",!1,n))}}function Iv(t,n,s,o){switch(i0(n)){case 2:var f=XE;break;case 8:f=WE;break;default:f=um}s=f.bind(null,n,s,t),f=void 0,!Oi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function Qd(t,n,s,o,f){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===f)break;if(T===4)for(T=o.return;T!==null;){var W=T.tag;if((W===3||W===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;M!==null;){if(T=er(M),T===null)return;if(W=T.tag,W===5||W===6||W===26||W===27){o=m=T;continue e}M=M.parentNode}}o=o.return}Xr(function(){var ce=m,Ee=oi(s),Ce=[];e:{var de=hn.get(t);if(de!==void 0){var ye=Vi,st=t;switch(t){case"keypress":if(Wi(s)===0)break e;case"keydown":case"keyup":ye=os;break;case"focusin":st="focus",ye=re;break;case"focusout":st="blur",ye=re;break;case"beforeblur":case"afterblur":ye=re;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=ss;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=y;break;case Oe:case Qe:case zt:ye=ve;break;case sn:ye=k;break;case"scroll":case"scrollend":ye=as;break;case"wheel":ye=pe;break;case"copy":case"cut":case"paste":ye=Fe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Da;break;case"toggle":case"beforetoggle":ye=xt}var wt=(n&4)!==0,Dn=!wt&&(t==="scroll"||t==="scrollend"),ie=wt?de!==null?de+"Capture":null:de;wt=[];for(var K=ce,le;K!==null;){var Te=K;if(le=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||le===null||ie===null||(Te=_r(K,ie),Te!=null&&wt.push(Du(K,Te,le))),Dn)break;K=K.return}0<wt.length&&(de=new ye(de,st,null,s,Ee),Ce.push({event:de,listeners:wt}))}}if((n&7)===0){e:{if(de=t==="mouseover"||t==="pointerover",ye=t==="mouseout"||t==="pointerout",de&&s!==Fa&&(st=s.relatedTarget||s.fromElement)&&(er(st)||st[_i]))break e;if((ye||de)&&(de=Ee.window===Ee?Ee:(de=Ee.ownerDocument)?de.defaultView||de.parentWindow:window,ye?(st=s.relatedTarget||s.toElement,ye=ce,st=st?er(st):null,st!==null&&(Dn=c(st),wt=st.tag,st!==Dn||wt!==5&&wt!==27&&wt!==6)&&(st=null)):(ye=null,st=ce),ye!==st)){if(wt=Ha,Te="onMouseLeave",ie="onMouseEnter",K="mouse",(t==="pointerout"||t==="pointerover")&&(wt=Da,Te="onPointerLeave",ie="onPointerEnter",K="pointer"),Dn=ye==null?de:cr(ye),le=st==null?de:cr(st),de=new wt(Te,K+"leave",ye,s,Ee),de.target=Dn,de.relatedTarget=le,Te=null,er(Ee)===ce&&(wt=new wt(ie,K+"enter",st,s,Ee),wt.target=le,wt.relatedTarget=Dn,Te=wt),Dn=Te,ye&&st)t:{for(wt=bE,ie=ye,K=st,le=0,Te=ie;Te;Te=wt(Te))le++;Te=0;for(var gt=K;gt;gt=wt(gt))Te++;for(;0<le-Te;)ie=wt(ie),le--;for(;0<Te-le;)K=wt(K),Te--;for(;le--;){if(ie===K||K!==null&&ie===K.alternate){wt=ie;break t}ie=wt(ie),K=wt(K)}wt=null}else wt=null;ye!==null&&Mv(Ce,de,ye,wt,!1),st!==null&&Dn!==null&&Mv(Ce,Dn,st,wt,!0)}}e:{if(de=ce?cr(ce):window,ye=de.nodeName&&de.nodeName.toLowerCase(),ye==="select"||ye==="input"&&de.type==="file")var mn=au;else if(iu(de))if(su)mn=Z;else{mn=D;var ht=x}else ye=de.nodeName,!ye||ye.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&ua(ce.elementType)&&(mn=au):mn=F;if(mn&&(mn=mn(t,ce))){Yn(Ce,mn,s,Ee);break e}ht&&ht(t,de,ce),t==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&Ma(de,"number",de.value)}switch(ht=ce?cr(ce):window,t){case"focusin":(iu(ht)||ht.contentEditable==="true")&&(qe=ht,dn=ce,Ze=null);break;case"focusout":Ze=dn=qe=null;break;case"mousedown":Ut=!0;break;case"contextmenu":case"mouseup":case"dragend":Ut=!1,wn(Ce,s,Ee);break;case"selectionchange":if(nt)break;case"keydown":case"keyup":wn(Ce,s,Ee)}var Pt;if(fn)e:{switch(t){case"compositionstart":var Jt="onCompositionStart";break e;case"compositionend":Jt="onCompositionEnd";break e;case"compositionupdate":Jt="onCompositionUpdate";break e}Jt=void 0}else us?ma(t,s)&&(Jt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Jt="onCompositionStart");Jt&&(Pi&&s.locale!=="ko"&&(us||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&us&&(Pt=Xi()):(ki=Ee,Cr="value"in ki?ki.value:ki.textContent,us=!0)),ht=lf(ce,Jt),0<ht.length&&(Jt=new ke(Jt,t,null,s,Ee),Ce.push({event:Jt,listeners:ht}),Pt?Jt.data=Pt:(Pt=ls(s),Pt!==null&&(Jt.data=Pt)))),(Pt=ci?Rh(t,s):Ec(t,s))&&(Jt=lf(ce,"onBeforeInput"),0<Jt.length&&(ht=new ke("onBeforeInput","beforeinput",null,s,Ee),Ce.push({event:ht,listeners:Jt}),ht.data=Pt)),gE(Ce,t,ce,s,Ee)}Rv(Ce,n)})}function Du(t,n,s){return{instance:t,listener:n,currentTarget:s}}function lf(t,n){for(var s=n+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=_r(t,s),f!=null&&o.unshift(Du(t,f,m)),f=_r(t,n),f!=null&&o.push(Du(t,f,m))),t.tag===3)return o;t=t.return}return[]}function bE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mv(t,n,s,o,f){for(var m=n._reactName,T=[];s!==null&&s!==o;){var M=s,W=M.alternate,ce=M.stateNode;if(M=M.tag,W!==null&&W===o)break;M!==5&&M!==26&&M!==27||ce===null||(W=ce,f?(ce=_r(s,m),ce!=null&&T.unshift(Du(s,ce,W))):f||(ce=_r(s,m),ce!=null&&T.push(Du(s,ce,W)))),s=s.return}T.length!==0&&t.push({event:n,listeners:T})}var wE=/\r\n?/g,EE=/\u0000|\uFFFD/g;function Nv(t){return(typeof t=="string"?t:""+t).replace(wE,`
`).replace(EE,"")}function Dv(t,n){return n=Nv(n),Nv(t)===n}function Nn(t,n,s,o,f,m){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ir(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ir(t,""+o);break;case"className":Pr(t,"class",o);break;case"tabIndex":Pr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Pr(t,s,o);break;case"style":wi(t,o,m);break;case"data":if(n!=="object"){Pr(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=fa(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&Nn(t,n,"name",f.name,f,null),Nn(t,n,"formEncType",f.formEncType,f,null),Nn(t,n,"formMethod",f.formMethod,f,null),Nn(t,n,"formTarget",f.formTarget,f,null)):(Nn(t,n,"encType",f.encType,f,null),Nn(t,n,"method",f.method,f,null),Nn(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=fa(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=si);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=fa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Yt("beforetoggle",t),Yt("toggle",t),Ni(t,"popover",o);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ni(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ca.get(s)||s,Ni(t,s,o))}}function Kd(t,n,s,o,f,m){switch(s){case"style":wi(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?ir(t,o):(typeof o=="number"||typeof o=="bigint")&&ir(t,""+o);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),m=t[Pn]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,f);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Ni(t,s,o)}}}function Jr(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",t),Yt("load",t);var o=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var T=s[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Nn(t,n,m,T,s,null)}}f&&Nn(t,n,"srcSet",s.srcSet,s,null),o&&Nn(t,n,"src",s.src,s,null);return;case"input":Yt("invalid",t);var M=m=T=f=null,W=null,ce=null;for(o in s)if(s.hasOwnProperty(o)){var Ee=s[o];if(Ee!=null)switch(o){case"name":f=Ee;break;case"type":T=Ee;break;case"checked":W=Ee;break;case"defaultChecked":ce=Ee;break;case"value":m=Ee;break;case"defaultValue":M=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(a(137,n));break;default:Nn(t,n,o,Ee,s,null)}}is(t,m,M,W,ce,T,f,!1);return;case"select":Yt("invalid",t),o=T=m=null;for(f in s)if(s.hasOwnProperty(f)&&(M=s[f],M!=null))switch(f){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:Nn(t,n,f,M,s,null)}n=m,s=T,t.multiple=!!o,n!=null?cn(t,!!o,n,!1):s!=null&&cn(t,!!o,s,!0);return;case"textarea":Yt("invalid",t),m=f=o=null;for(T in s)if(s.hasOwnProperty(T)&&(M=s[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":f=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:Nn(t,n,T,M,s,null)}bi(t,o,f,m);return;case"option":for(W in s)if(s.hasOwnProperty(W)&&(o=s[W],o!=null))switch(W){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Nn(t,n,W,o,s,null)}return;case"dialog":Yt("beforetoggle",t),Yt("toggle",t),Yt("cancel",t),Yt("close",t);break;case"iframe":case"object":Yt("load",t);break;case"video":case"audio":for(o=0;o<Nu.length;o++)Yt(Nu[o],t);break;case"image":Yt("error",t),Yt("load",t);break;case"details":Yt("toggle",t);break;case"embed":case"source":case"link":Yt("error",t),Yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in s)if(s.hasOwnProperty(ce)&&(o=s[ce],o!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Nn(t,n,ce,o,s,null)}return;default:if(ua(n)){for(Ee in s)s.hasOwnProperty(Ee)&&(o=s[Ee],o!==void 0&&Kd(t,n,Ee,o,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(o=s[M],o!=null&&Nn(t,n,M,o,s,null))}function TE(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,M=null,W=null,ce=null,Ee=null;for(ye in s){var Ce=s[ye];if(s.hasOwnProperty(ye)&&Ce!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":W=Ce;default:o.hasOwnProperty(ye)||Nn(t,n,ye,null,o,Ce)}}for(var de in o){var ye=o[de];if(Ce=s[de],o.hasOwnProperty(de)&&(ye!=null||Ce!=null))switch(de){case"type":m=ye;break;case"name":f=ye;break;case"checked":ce=ye;break;case"defaultChecked":Ee=ye;break;case"value":T=ye;break;case"defaultValue":M=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(a(137,n));break;default:ye!==Ce&&Nn(t,n,de,ye,o,Ce)}}Ia(t,T,M,W,ce,Ee,m,f);return;case"select":ye=T=M=de=null;for(m in s)if(W=s[m],s.hasOwnProperty(m)&&W!=null)switch(m){case"value":break;case"multiple":ye=W;default:o.hasOwnProperty(m)||Nn(t,n,m,null,o,W)}for(f in o)if(m=o[f],W=s[f],o.hasOwnProperty(f)&&(m!=null||W!=null))switch(f){case"value":de=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==W&&Nn(t,n,f,m,o,W)}n=M,s=T,o=ye,de!=null?cn(t,!!s,de,!1):!!o!=!!s&&(n!=null?cn(t,!!s,n,!0):cn(t,!!s,s?[]:"",!1));return;case"textarea":ye=de=null;for(M in s)if(f=s[M],s.hasOwnProperty(M)&&f!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Nn(t,n,M,null,o,f)}for(T in o)if(f=o[T],m=s[T],o.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":de=f;break;case"defaultValue":ye=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Nn(t,n,T,f,o,m)}Di(t,de,ye);return;case"option":for(var st in s)if(de=s[st],s.hasOwnProperty(st)&&de!=null&&!o.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Nn(t,n,st,null,o,de)}for(W in o)if(de=o[W],ye=s[W],o.hasOwnProperty(W)&&de!==ye&&(de!=null||ye!=null))switch(W){case"selected":t.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Nn(t,n,W,de,o,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in s)de=s[wt],s.hasOwnProperty(wt)&&de!=null&&!o.hasOwnProperty(wt)&&Nn(t,n,wt,null,o,de);for(ce in o)if(de=o[ce],ye=s[ce],o.hasOwnProperty(ce)&&de!==ye&&(de!=null||ye!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,n));break;default:Nn(t,n,ce,de,o,ye)}return;default:if(ua(n)){for(var Dn in s)de=s[Dn],s.hasOwnProperty(Dn)&&de!==void 0&&!o.hasOwnProperty(Dn)&&Kd(t,n,Dn,void 0,o,de);for(Ee in o)de=o[Ee],ye=s[Ee],!o.hasOwnProperty(Ee)||de===ye||de===void 0&&ye===void 0||Kd(t,n,Ee,de,o,ye);return}}for(var ie in s)de=s[ie],s.hasOwnProperty(ie)&&de!=null&&!o.hasOwnProperty(ie)&&Nn(t,n,ie,null,o,de);for(Ce in o)de=o[Ce],ye=s[Ce],!o.hasOwnProperty(Ce)||de===ye||de==null&&ye==null||Nn(t,n,Ce,de,o,ye)}function Ov(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],m=f.transferSize,T=f.initiatorType,M=f.duration;if(m&&M&&Ov(T)){for(T=0,M=f.responseEnd,o+=1;o<s.length;o++){var W=s[o],ce=W.startTime;if(ce>M)break;var Ee=W.transferSize,Ce=W.initiatorType;Ee&&Ov(Ce)&&(W=W.responseEnd,T+=Ee*(W<M?1:(M-ce)/(W-ce)))}if(--o,n+=8*(m+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $d=null,Jd=null;function uf(t){return t.nodeType===9?t:t.ownerDocument}function kv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Zd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var em=null;function SE(){var t=window.event;return t&&t.type==="popstate"?t===em?!1:(em=t,!0):(em=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,xE=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,CE=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(t){return Lv.resolve(null).then(t).catch(RE)}:Pv;function RE(t){setTimeout(function(){throw t})}function no(t){return t==="head"}function jv(t,n){var s=n,o=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(f),Cl(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Ou(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Ou(s);for(var m=s.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[ni]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=T}}else s==="body"&&Ou(t.ownerDocument.body);s=f}while(s);Cl(n)}function Uv(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function tm(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":tm(s),Dr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function IE(t,n,s,o){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ni])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ba(t.nextSibling),t===null)break}return null}function ME(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ba(t.nextSibling),t===null))return null;return t}function zv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ba(t.nextSibling),t===null))return null;return t}function nm(t){return t.data==="$?"||t.data==="$~"}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function NE(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ba(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var im=null;function Bv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ba(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Fv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Hv(t,n,s){switch(n=uf(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ou(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Dr(t)}var wa=new Map,qv=new Set;function cf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Cs=$.d;$.d={f:DE,r:OE,D:kE,C:VE,L:PE,m:LE,X:UE,S:jE,M:zE};function DE(){var t=Cs.f(),n=ef();return t||n}function OE(t){var n=Gr(t);n!==null&&n.tag===5&&n.type==="form"?oy(n):Cs.r(t)}var Al=typeof document>"u"?null:document;function Gv(t,n,s){var o=Al;if(o&&typeof n=="string"&&n){var f=Ln(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),qv.has(f)||(qv.add(f),t={rel:t,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Jr(n,"link",t),Rn(n),o.head.appendChild(n)))}}function kE(t){Cs.D(t),Gv("dns-prefetch",t,null)}function VE(t,n){Cs.C(t,n),Gv("preconnect",t,n)}function PE(t,n,s){Cs.L(t,n,s);var o=Al;if(o&&t&&n){var f='link[rel="preload"][as="'+Ln(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ln(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ln(s.imageSizes)+'"]')):f+='[href="'+Ln(t)+'"]';var m=f;switch(n){case"style":m=Sl(t);break;case"script":m=xl(t)}wa.has(m)||(t=O({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),wa.set(m,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(ku(m))||n==="script"&&o.querySelector(Vu(m))||(n=o.createElement("link"),Jr(n,"link",t),Rn(n),o.head.appendChild(n)))}}function LE(t,n){Cs.m(t,n);var s=Al;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ln(o)+'"][href="'+Ln(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=xl(t)}if(!wa.has(m)&&(t=O({rel:"modulepreload",href:t},n),wa.set(m,t),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Vu(m)))return}o=s.createElement("link"),Jr(o,"link",t),Rn(o),s.head.appendChild(o)}}}function jE(t,n,s){Cs.S(t,n,s);var o=Al;if(o&&t){var f=Or(o).hoistableStyles,m=Sl(t);n=n||"default";var T=f.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(ku(m)))M.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":n},s),(s=wa.get(m))&&am(t,s);var W=T=o.createElement("link");Rn(W),Jr(W,"link",t),W._p=new Promise(function(ce,Ee){W.onload=ce,W.onerror=Ee}),W.addEventListener("load",function(){M.loading|=1}),W.addEventListener("error",function(){M.loading|=2}),M.loading|=4,ff(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},f.set(m,T)}}}function UE(t,n){Cs.X(t,n);var s=Al;if(s&&t){var o=Or(s).hoistableScripts,f=xl(t),m=o.get(f);m||(m=s.querySelector(Vu(f)),m||(t=O({src:t,async:!0},n),(n=wa.get(f))&&sm(t,n),m=s.createElement("script"),Rn(m),Jr(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function zE(t,n){Cs.M(t,n);var s=Al;if(s&&t){var o=Or(s).hoistableScripts,f=xl(t),m=o.get(f);m||(m=s.querySelector(Vu(f)),m||(t=O({src:t,async:!0,type:"module"},n),(n=wa.get(f))&&sm(t,n),m=s.createElement("script"),Rn(m),Jr(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Yv(t,n,s,o){var f=(f=$e.current)?cf(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Sl(s.href),s=Or(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Sl(s.href);var m=Or(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(ku(t)))&&!m._p&&(T.instance=m,T.state.loading=5),wa.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wa.set(t,s),m||BE(f,t,s,T.state))),n&&o===null)throw Error(a(528,""));return T}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xl(s),s=Or(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Sl(t){return'href="'+Ln(t)+'"'}function ku(t){return'link[rel="stylesheet"]['+t+"]"}function Xv(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function BE(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Jr(n,"link",s),Rn(n),t.head.appendChild(n))}function xl(t){return'[src="'+Ln(t)+'"]'}function Vu(t){return"script[async]"+t}function Wv(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Ln(s.href)+'"]');if(o)return n.instance=o,Rn(o),o;var f=O({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Rn(o),Jr(o,"style",f),ff(o,s.precedence,t),n.instance=o;case"stylesheet":f=Sl(s.href);var m=t.querySelector(ku(f));if(m)return n.state.loading|=4,n.instance=m,Rn(m),m;o=Xv(s),(f=wa.get(f))&&am(o,f),m=(t.ownerDocument||t).createElement("link"),Rn(m);var T=m;return T._p=new Promise(function(M,W){T.onload=M,T.onerror=W}),Jr(m,"link",o),n.state.loading|=4,ff(m,s.precedence,t),n.instance=m;case"script":return m=xl(s.src),(f=t.querySelector(Vu(m)))?(n.instance=f,Rn(f),f):(o=s,(f=wa.get(m))&&(o=O({},s),sm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Rn(f),Jr(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ff(o,s.precedence,t));return n.instance}function ff(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function am(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function sm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var hf=null;function Qv(t,n,s){if(hf===null){var o=new Map,f=hf=new Map;f.set(s,o)}else f=hf,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[ni]||m[un]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function Kv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function FE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $v(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function HE(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Sl(o.href),m=n.querySelector(ku(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=df.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=m,Rn(m);return}m=n.ownerDocument||n,o=Xv(o),(f=wa.get(f))&&am(o,f),m=m.createElement("link"),Rn(m);var T=m;T._p=new Promise(function(M,W){T.onload=M,T.onerror=W}),Jr(m,"link",o),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=df.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var om=0;function qE(t,n){return t.stylesheets&&t.count===0&&pf(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&om===0&&(om=62500*AE());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>om?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function df(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mf=null;function pf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mf=new Map,n.forEach(GE,t),mf=null,df.call(t))}function GE(t,n){if(!(n.state.loading&4)){var s=mf.get(t);if(s)var o=s.get(null);else{s=new Map,mf.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),o=T)}o&&s.set(null,o)}f=n.instance,T=f.getAttribute("data-precedence"),m=s.get(T)||o,m===o&&s.set(null,f),s.set(T,f),this.count++,o=df.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Pu={$$typeof:je,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function YE(t,n,s,o,f,m,T,M,W){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Jv(t,n,s,o,f,m,T,M,W,ce,Ee,Ce){return t=new YE(t,n,s,T,W,ce,Ee,Ce,M),n=1,m===!0&&(n|=24),m=fi(3,null,null,n),t.current=m,m.stateNode=t,n=zh(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:n},qh(m),t}function Zv(t){return t?(t=Ji,t):Ji}function e0(t,n,s,o,f,m){f=Zv(f),o.context===null?o.context=f:o.pendingContext=f,o=Gs(n),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Ys(t,o,n),s!==null&&(Hi(s,t,n),mu(s,t,n))}function t0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function lm(t,n){t0(t,n),(t=t.alternate)&&t0(t,n)}function n0(t){if(t.tag===13||t.tag===31){var n=Ii(t,67108864);n!==null&&Hi(n,t,67108864),lm(t,67108864)}}function r0(t){if(t.tag===13||t.tag===31){var n=ra();n=aa(n);var s=Ii(t,n);s!==null&&Hi(s,t,n),lm(t,n)}}var gf=!0;function XE(t,n,s,o){var f=B.T;B.T=null;var m=$.p;try{$.p=2,um(t,n,s,o)}finally{$.p=m,B.T=f}}function WE(t,n,s,o){var f=B.T;B.T=null;var m=$.p;try{$.p=8,um(t,n,s,o)}finally{$.p=m,B.T=f}}function um(t,n,s,o){if(gf){var f=cm(o);if(f===null)Qd(t,n,o,yf,s),a0(t,o);else if(KE(f,t,n,s,o))o.stopPropagation();else if(a0(t,o),n&4&&-1<QE.indexOf(t)){for(;f!==null;){var m=Gr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=An(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var W=1<<31-Pe(T);M.entanglements[1]|=W,T&=~W}Qa(m),(yn&6)===0&&(Jc=bt()+500,Mu(0))}}break;case 31:case 13:M=Ii(m,2),M!==null&&Hi(M,m,2),ef(),lm(m,2)}if(m=cm(o),m===null&&Qd(t,n,o,yf,s),m===f)break;f=m}f!==null&&o.stopPropagation()}else Qd(t,n,o,null,s)}}function cm(t){return t=oi(t),fm(t)}var yf=null;function fm(t){if(yf=null,t=er(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=p(n),t!==null)return t;t=null}else if(s===31){if(t=b(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yf=t,null}function i0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case ln:return 2;case C:return 8;case g:case _:return 32;case V:return 268435456;default:return 32}default:return 32}}var hm=!1,ro=null,io=null,ao=null,Lu=new Map,ju=new Map,so=[],QE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(t,n){switch(t){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":Lu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(n.pointerId)}}function Uu(t,n,s,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},n!==null&&(n=Gr(n),n!==null&&n0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function KE(t,n,s,o,f){switch(n){case"focusin":return ro=Uu(ro,t,n,s,o,f),!0;case"dragenter":return io=Uu(io,t,n,s,o,f),!0;case"mouseover":return ao=Uu(ao,t,n,s,o,f),!0;case"pointerover":var m=f.pointerId;return Lu.set(m,Uu(Lu.get(m)||null,t,n,s,o,f)),!0;case"gotpointercapture":return m=f.pointerId,ju.set(m,Uu(ju.get(m)||null,t,n,s,o,f)),!0}return!1}function s0(t){var n=er(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){t.blockedOn=n,Nr(t.priority,function(){r0(s)});return}}else if(n===31){if(n=b(s),n!==null){t.blockedOn=n,Nr(t.priority,function(){r0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vf(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=cm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Fa=o,s.target.dispatchEvent(o),Fa=null}else return n=Gr(s),n!==null&&n0(n),t.blockedOn=s,!1;n.shift()}return!0}function o0(t,n,s){vf(t)&&s.delete(n)}function $E(){hm=!1,ro!==null&&vf(ro)&&(ro=null),io!==null&&vf(io)&&(io=null),ao!==null&&vf(ao)&&(ao=null),Lu.forEach(o0),ju.forEach(o0)}function _f(t,n){t.blockedOn===n&&(t.blockedOn=null,hm||(hm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$E)))}var bf=null;function l0(t){bf!==t&&(bf=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bf===t&&(bf=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(fm(o||s)===null)continue;break}var m=Gr(s);m!==null&&(t.splice(n,3),n-=3,cd(m,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Cl(t){function n(W){return _f(W,t)}ro!==null&&_f(ro,t),io!==null&&_f(io,t),ao!==null&&_f(ao,t),Lu.forEach(n),ju.forEach(n);for(var s=0;s<so.length;s++){var o=so[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<so.length&&(s=so[0],s.blockedOn===null);)s0(s),s.blockedOn===null&&so.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],m=s[o+1],T=f[Pn]||null;if(typeof m=="function")T||l0(s);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Pn]||null)M=T.formAction;else if(fm(f)!==null)continue}else M=T.action;typeof M=="function"?s[o+1]=M:(s.splice(o,3),o-=3),l0(s)}}}function u0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function dm(t){this._internalRoot=t}wf.prototype.render=dm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=ra();e0(s,o,t,n,null,null)},wf.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;e0(t.current,2,null,t,null,null),ef(),n[_i]=null}};function wf(t){this._internalRoot=t}wf.prototype.unstable_scheduleHydration=function(t){if(t){var n=sa();t={blockedOn:null,target:t,priority:n};for(var s=0;s<so.length&&n!==0&&n<so[s].priority;s++);so.splice(s,0,t),s===0&&s0(t)}};var c0=e.version;if(c0!=="19.2.3")throw Error(a(527,c0,"19.2.3"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=E(n),t=t!==null?I(t):null,t=t===null?null:t.stateNode,t};var JE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Se=Ef.inject(JE),He=Ef}catch{}}return Bu.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",f=yy,m=vy,T=_y;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Jv(t,1,!1,null,null,s,o,null,f,m,T,u0),t[_i]=n.current,Wd(t),new dm(n)},Bu.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,f="",m=yy,T=vy,M=_y,W=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.formState!==void 0&&(W=s.formState)),n=Jv(t,1,!0,n,s??null,o,f,W,m,T,M,u0),n.context=Zv(null),s=n.current,o=ra(),o=aa(o),f=Gs(o),f.callback=null,Ys(s,f,o),s=o,n.current.lanes=s,$n(n,s),Qa(n),t[_i]=n.current,Wd(t),new wf(n)},Bu.version="19.2.3",Bu}var b0;function lT(){if(b0)return gm.exports;b0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=oT(),gm.exports}var uT=lT();const cT=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fT=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),w0=i=>{const e=fT(i);return e.charAt(0).toUpperCase()+e.slice(1)},hb=(...i)=>i.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),hT=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var dT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mT=Ue.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:p,...b},w)=>Ue.createElement("svg",{ref:w,...dT,width:e,height:e,stroke:i,strokeWidth:a?Number(r)*24/Number(e):r,className:hb("lucide",l),...!c&&!hT(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,I])=>Ue.createElement(E,I)),...Array.isArray(c)?c:[c]]));const On=(i,e)=>{const r=Ue.forwardRef(({className:a,...l},c)=>Ue.createElement(mT,{ref:c,iconNode:e,className:hb(`lucide-${cT(w0(i))}`,`lucide-${i}`,a),...l}));return r.displayName=w0(i),r};const pT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],gT=On("arrow-down-a-z",pT);const yT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],E0=On("arrow-left",yT);const vT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_T=On("book-open",vT);const bT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],wT=On("check-check",bT);const ET=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],TT=On("check",ET);const AT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ST=On("chevron-left",AT);const xT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],CT=On("chevron-right",xT);const RT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],IT=On("circle-alert",RT);const MT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Gm=On("crown",MT);const NT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DT=On("eye",NT);const OT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],T0=On("flag",OT);const kT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],VT=On("heart",kT);const PT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],A0=On("info",PT);const LT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bm=On("log-out",LT);const jT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],wm=On("play",jT);const UT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],S0=On("rotate-ccw",UT);const zT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],x0=On("ruler",zT);const BT=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],FT=On("scroll-text",BT);const HT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Em=On("settings",HT);const qT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],GT=On("share-2",qT);const YT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],XT=On("shuffle",YT);const WT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Tf=On("sparkles",WT);const QT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Tm=On("star",QT);const KT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],C0=On("sun",KT);const $T=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],R0=On("trophy",$T);const JT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],I0=On("volume-2",JT);const ZT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Am=On("x",ZT);const eA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Sm=On("zap",eA);var xm={},Nf={exports:{}},tA=Nf.exports,M0;function nA(){return M0||(M0=1,(function(i,e){(function(a,l){i.exports=l()})(tA,()=>(()=>{var r=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>I});var E=(()=>{var O=typeof document<"u"?document.currentScript?.src:void 0;return(function(G={}){var te,z=G,De,we,Le=new Promise((h,d)=>{De=h,we=d}),U=typeof window=="object",je=typeof importScripts=="function";function tt(){function h(Z){const ee=x;v=d=0,x=new Map,ee.forEach(fe=>{try{fe(Z)}catch(ue){console.error(ue)}}),this.nb(),D&&D.Pb()}let d=0,v=0,x=new Map,D=null,F=null;this.requestAnimationFrame=function(Z){d||=requestAnimationFrame(h.bind(this));const ee=++v;return x.set(ee,Z),ee},this.cancelAnimationFrame=function(Z){x.delete(Z),d&&x.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(Z){F&&(document.body.remove(F),F=null),Z||(F=document.createElement("div"),F.style.backgroundColor="black",F.style.position="fixed",F.style.right=0,F.style.top=0,F.style.color="white",F.style.padding="4px",F.innerHTML="RIVE FPS",Z=function(ee){F.innerHTML="RIVE FPS "+ee.toFixed(1)},document.body.appendChild(F)),D=new function(){let ee=0,fe=0;this.Pb=function(){var ue=performance.now();fe?(++ee,ue-=fe,1e3<ue&&(Z(1e3*ee/ue),ee=fe=0)):(fe=ue,ee=0)}}},this.Kb=function(){F&&(document.body.remove(F),F=null),D=null},this.nb=function(){}}function ct(h){console.assert(!0);const d=new Map;let v=-1/0;this.push=function(x){return x=x+((1<<h)-1)>>h,d.has(x)&&clearTimeout(d.get(x)),d.set(x,setTimeout(function(){d.delete(x),d.length==0?v=-1/0:x==v&&(v=Math.max(...d.keys()),console.assert(v<x))},1e3)),v=Math.max(x,v),v<<h}}const it=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){it&&it();let h=z.decodeAudio;z.decodeAudio=function(D,F){D=h(D),F(D)};let d=z.decodeFont;z.decodeFont=function(D,F){D=d(D),F(D)};const v=z.FileAssetLoader;z.ptrToAsset=D=>{let F=z.ptrToFileAsset(D);return F.isImage?z.ptrToImageAsset(D):F.isFont?z.ptrToFontAsset(D):F.isAudio?z.ptrToAudioAsset(D):F},z.CustomFileAssetLoader=v.extend("CustomFileAssetLoader",{__construct:function({loadContents:D}){this.__parent.__construct.call(this),this.Db=D},loadContents:function(D,F){return D=z.ptrToAsset(D),this.Db(D,F)}}),z.CDNFileAssetLoader=v.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(D){let F=z.ptrToAsset(D);return D=F.cdnUuid,D===""?!1:((function(Z,ee){var fe=new XMLHttpRequest;fe.responseType="arraybuffer",fe.onreadystatechange=function(){fe.readyState==4&&fe.status==200&&ee(fe)},fe.open("GET",Z,!0),fe.send(null)})(F.cdnBaseUrl+"/"+D,Z=>{F.decode(new Uint8Array(Z.response))}),!0)}}),z.FallbackFileAssetLoader=v.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(D){this.jb.push(D)},loadContents:function(D,F){for(let Z of this.jb)if(Z.loadContents(D,F))return!0;return!1}});let x=z.computeAlignment;z.computeAlignment=function(D,F,Z,ee,fe=1){return x.call(this,D,F,Z,ee,fe)}};const X="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),H=new function(){function h(){if(!d){let dn=function(Ze,Ut,wn){if(Ut=qe.createShader(Ut),qe.shaderSource(Ut,wn),qe.compileShader(Ut),wn=qe.getShaderInfoLog(Ut),0<(wn||"").length)throw wn;qe.attachShader(Ze,Ut)};var nt=dn,ne=document.createElement("canvas"),Be={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let qe;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(qe=ne.getContext("webgl",Be),v=1,!qe)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(qe=ne.getContext("webgl2",Be))v=2;else if(qe=ne.getContext("webgl",Be))v=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(qe=new Proxy(qe,{get(Ze,Ut){if(Ze.isContextLost()){if(fe||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ut),fe=!0),typeof Ze[Ut]=="function")return function(){}}else return typeof Ze[Ut]=="function"?function(...wn){return Ze[Ut].apply(Ze,wn)}:Ze[Ut]},set(Ze,Ut,wn){if(Ze.isContextLost())fe||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ut),fe=!0);else return Ze[Ut]=wn,!0}}),x=Math.min(qe.getParameter(qe.MAX_RENDERBUFFER_SIZE),qe.getParameter(qe.MAX_TEXTURE_SIZE)),ne=qe.createProgram(),dn(ne,qe.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),dn(ne,qe.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),qe.bindAttribLocation(ne,0,"vertex"),qe.bindAttribLocation(ne,1,"uv"),qe.linkProgram(ne),Be=qe.getProgramInfoLog(ne),0<(Be||"").trim().length)throw Be;D=qe.getUniformLocation(ne,"mat"),F=qe.getUniformLocation(ne,"translate"),qe.useProgram(ne),qe.bindBuffer(qe.ARRAY_BUFFER,qe.createBuffer()),qe.enableVertexAttribArray(0),qe.enableVertexAttribArray(1),qe.bindBuffer(qe.ELEMENT_ARRAY_BUFFER,qe.createBuffer()),qe.uniform1i(qe.getUniformLocation(ne,"image"),0),qe.pixelStorei(qe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=qe}return!0}let d=null,v=0,x=0,D=null,F=null,Z=0,ee=0,fe=!1;h(),this.ac=function(){return h(),x},this.Jb=function(ne){d.deleteTexture&&d.deleteTexture(ne)},this.Ib=function(ne){if(!h())return null;const Be=d.createTexture();return Be?(d.bindTexture(d.TEXTURE_2D,Be),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,ne),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),v==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),Be):null};const ue=new ct(8),Ve=new ct(8),Je=new ct(10),at=new ct(10);this.Mb=function(ne,Be,nt,qe,dn){if(h()){var Ze=ue.push(ne),Ut=Ve.push(Be);if(d.canvas){(d.canvas.width!=Ze||d.canvas.height!=Ut)&&(d.canvas.width=Ze,d.canvas.height=Ut),d.viewport(0,Ut-Be,ne,Be),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),nt.sort((Ht,$i)=>$i.ub-Ht.ub),Ze=Je.push(qe),Z!=Ze&&(d.bufferData(d.ARRAY_BUFFER,8*Ze,d.DYNAMIC_DRAW),Z=Ze),Ze=0;for(var wn of nt)d.bufferSubData(d.ARRAY_BUFFER,Ze,wn.Sa),Ze+=4*wn.Sa.length;console.assert(Ze==4*qe);for(var dr of nt)d.bufferSubData(d.ARRAY_BUFFER,Ze,dr.Ab),Ze+=4*dr.Ab.length;console.assert(Ze==8*qe),Ze=at.push(dn),ee!=Ze&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Ze,d.DYNAMIC_DRAW),ee=Ze),wn=0;for(var ji of nt)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,wn,ji.indices),wn+=2*ji.indices.length;console.assert(wn==2*dn),ji=0,dr=!0,Ze=wn=0;for(const Ht of nt){Ht.image.Ia!=ji&&(d.bindTexture(d.TEXTURE_2D,Ht.image.Ha||null),ji=Ht.image.Ia),Ht.fc?(d.scissor(Ht.Ya,Ut-Ht.Za-Ht.ib,Ht.tc,Ht.ib),dr=!0):dr&&(d.scissor(0,Ut-Be,ne,Be),dr=!1),nt=2/ne;const $i=-2/Be;d.uniform4f(D,Ht.ga[0]*nt*Ht.za,Ht.ga[1]*$i*Ht.Aa,Ht.ga[2]*nt*Ht.za,Ht.ga[3]*$i*Ht.Aa),d.uniform2f(F,Ht.ga[4]*nt*Ht.za+nt*(Ht.Ya-Ht.bc*Ht.za)-1,Ht.ga[5]*$i*Ht.Aa+$i*(Ht.Za-Ht.cc*Ht.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Ze),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Ze+4*qe),d.drawElements(d.TRIANGLES,Ht.indices.length,d.UNSIGNED_SHORT,wn),Ze+=4*Ht.Sa.length,wn+=2*Ht.indices.length}console.assert(Ze==4*qe),console.assert(wn==2*dn)}}},this.canvas=function(){return h()&&d.canvas}},L=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){function h(Oe){switch(Oe){case ue.srcOver:return"source-over";case ue.screen:return"screen";case ue.overlay:return"overlay";case ue.darken:return"darken";case ue.lighten:return"lighten";case ue.colorDodge:return"color-dodge";case ue.colorBurn:return"color-burn";case ue.hardLight:return"hard-light";case ue.softLight:return"soft-light";case ue.difference:return"difference";case ue.exclusion:return"exclusion";case ue.multiply:return"multiply";case ue.hue:return"hue";case ue.saturation:return"saturation";case ue.color:return"color";case ue.luminosity:return"luminosity"}}function d(Oe){return"rgba("+((16711680&Oe)>>>16)+","+((65280&Oe)>>>8)+","+((255&Oe)>>>0)+","+((4278190080&Oe)>>>24)/255+")"}function v(){0<Ut.length&&(H.Mb(Ze.drawWidth(),Ze.drawHeight(),Ut,wn,dr),Ut=[],dr=wn=0,Ze.reset(512,512));for(const Oe of dn){for(const Qe of Oe.H)Qe();Oe.H=[]}dn.clear()}L&&L();var x=z.RenderPaintStyle;const D=z.RenderPath,F=z.RenderPaint,Z=z.Renderer,ee=z.StrokeCap,fe=z.StrokeJoin,ue=z.BlendMode,Ve=x.fill,Je=x.stroke,at=z.FillRule.evenOdd;let ne=1;var Be=z.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:Oe,va:Qe}={}){this.__parent.__construct.call(this),this.Ia=ne,ne=ne+1&2147483647||1,this.ka=Oe,this.va=Qe},__destruct:function(){this.Ha&&(H.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(Oe){var Qe=this;Qe.va&&Qe.va(Qe);var zt=new Image;Qe.Va=URL.createObjectURL(new Blob([Oe],{type:"image/png"})),zt.onload=function(){Qe.Cb=zt,Qe.Ha=H.Ib(zt),Qe.size(zt.width,zt.height),Qe.ka&&Qe.ka(Qe)},zt.src=Qe.Va}}),nt=D.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(Oe,Qe,zt,Kt,Ot,qt,sn){var hn=this.T,Ri=hn.addPath;Oe=Oe.T;const En=new DOMMatrix;En.a=Qe,En.b=zt,En.c=Kt,En.d=Ot,En.e=qt,En.f=sn,Ri.call(hn,Oe,En)},fillRule:function(Oe){this.Ua=Oe},moveTo:function(Oe,Qe){this.T.moveTo(Oe,Qe)},lineTo:function(Oe,Qe){this.T.lineTo(Oe,Qe)},cubicTo:function(Oe,Qe,zt,Kt,Ot,qt){this.T.bezierCurveTo(Oe,Qe,zt,Kt,Ot,qt)},close:function(){this.T.closePath()}}),qe=F.extend("CanvasRenderPaint",{color:function(Oe){this.Wa=d(Oe)},thickness:function(Oe){this.Fb=Oe},join:function(Oe){switch(Oe){case fe.miter:this.Ga="miter";break;case fe.round:this.Ga="round";break;case fe.bevel:this.Ga="bevel"}},cap:function(Oe){switch(Oe){case ee.butt:this.Fa="butt";break;case ee.round:this.Fa="round";break;case ee.square:this.Fa="square"}},style:function(Oe){this.Eb=Oe},blendMode:function(Oe){this.Bb=h(Oe)},clearGradient:function(){this.ia=null},linearGradient:function(Oe,Qe,zt,Kt){this.ia={wb:Oe,xb:Qe,bb:zt,cb:Kt,Pa:[]}},radialGradient:function(Oe,Qe,zt,Kt){this.ia={wb:Oe,xb:Qe,bb:zt,cb:Kt,Pa:[],$b:!0}},addStop:function(Oe,Qe){this.ia.Pa.push({color:Oe,stop:Qe})},completeGradient:function(){},draw:function(Oe,Qe,zt){let Kt=this.Eb;var Ot=this.Wa,qt=this.ia;if(Oe.globalCompositeOperation=this.Bb,qt!=null){Ot=qt.wb;var sn=qt.xb;const Ri=qt.bb;var hn=qt.cb;const En=qt.Pa;qt.$b?(qt=Ri-Ot,hn-=sn,Ot=Oe.createRadialGradient(Ot,sn,0,Ot,sn,Math.sqrt(qt*qt+hn*hn))):Ot=Oe.createLinearGradient(Ot,sn,Ri,hn);for(let Wr=0,gn=En.length;Wr<gn;Wr++)sn=En[Wr],Ot.addColorStop(sn.stop,d(sn.color));this.Wa=Ot,this.ia=null}switch(Kt){case Je:Oe.strokeStyle=Ot,Oe.lineWidth=this.Fb,Oe.lineCap=this.Fa,Oe.lineJoin=this.Ga,Oe.stroke(Qe);break;case Ve:Oe.fillStyle=Ot,Oe.fill(Qe,zt)}}});const dn=new Set;let Ze=null,Ut=[],wn=0,dr=0;var ji=z.CanvasRenderer=Z.extend("Renderer",{__construct:function(Oe){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=Oe.getContext("2d"),this.Ta=Oe,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const Oe=this.S.length-6;if(6>Oe)throw"restore() called without matching save().";this.S.splice(Oe),this.H.push(this.B.restore.bind(this.B))},transform:function(Oe,Qe,zt,Kt,Ot,qt){const sn=this.S,hn=sn.length-6;sn.splice(hn,6,sn[hn]*Oe+sn[hn+2]*Qe,sn[hn+1]*Oe+sn[hn+3]*Qe,sn[hn]*zt+sn[hn+2]*Kt,sn[hn+1]*zt+sn[hn+3]*Kt,sn[hn]*Ot+sn[hn+2]*qt+sn[hn+4],sn[hn+1]*Ot+sn[hn+3]*qt+sn[hn+5]),this.H.push(this.B.transform.bind(this.B,Oe,Qe,zt,Kt,Ot,qt))},rotate:function(Oe){const Qe=Math.sin(Oe);Oe=Math.cos(Oe),this.transform(Oe,Qe,-Qe,Oe,0,0)},_drawPath:function(Oe,Qe){this.H.push(Qe.draw.bind(Qe,this.B,Oe.T,Oe.Ua===at?"evenodd":"nonzero"))},_drawRiveImage:function(Oe,Qe,zt,Kt){var Ot=Oe.Cb;if(Ot){var qt=this.B,sn=h(zt);this.H.push(function(){qt.globalCompositeOperation=sn,qt.globalAlpha=Kt,qt.drawImage(Ot,0,0),qt.globalAlpha=1})}},_getMatrix:function(Oe){const Qe=this.S,zt=Qe.length-6;for(let Kt=0;6>Kt;++Kt)Oe[Kt]=Qe[zt+Kt]},_drawImageMesh:function(Oe,Qe,zt,Kt,Ot,qt,sn,hn,Ri,En,Wr){Qe=this.B.canvas.width;var gn=this.B.canvas.height;const hs=En-hn,rl=Wr-Ri;hn=Math.max(hn,0),Ri=Math.max(Ri,0),En=Math.min(En,Qe),Wr=Math.min(Wr,gn);const qa=En-hn,Ga=Wr-Ri;if(console.assert(qa<=Math.min(hs,Qe)),console.assert(Ga<=Math.min(rl,gn)),!(0>=qa||0>=Ga)){En=qa<hs||Ga<rl,Qe=Wr=1;var Oa=Math.ceil(qa*Wr),Ii=Math.ceil(Ga*Qe);gn=H.ac(),Oa>gn&&(Wr*=gn/Oa,Oa=gn),Ii>gn&&(Qe*=gn/Ii,Ii=gn),Ze||(Ze=new z.DynamicRectanizer(gn),Ze.reset(512,512)),gn=Ze.addRect(Oa,Ii),0>gn&&(v(),dn.add(this),gn=Ze.addRect(Oa,Ii),console.assert(0<=gn));var ou=gn&65535,No=gn>>16;Ut.push({ga:this.S.slice(this.S.length-6),image:Oe,Ya:ou,Za:No,bc:hn,cc:Ri,tc:Oa,ib:Ii,za:Wr,Aa:Qe,Sa:new Float32Array(Ot),Ab:new Float32Array(qt),indices:new Uint16Array(sn),fc:En,ub:Oe.Ia<<1|(En?1:0)}),wn+=Ot.length,dr+=sn.length;var Ji=this.B,Ih=h(zt);this.H.push(function(){Ji.save(),Ji.resetTransform(),Ji.globalCompositeOperation=Ih,Ji.globalAlpha=Kt;const fi=H.canvas();fi&&Ji.drawImage(fi,ou,No,Oa,Ii,hn,Ri,qa,Ga),Ji.restore()})}},_clipPath:function(Oe){this.H.push(this.B.clip.bind(this.B,Oe.T,Oe.Ua===at?"evenodd":"nonzero"))},clear:function(){dn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(Oe,Qe){this.transform(1,0,0,1,Oe,Qe)}});z.makeRenderer=function(Oe){const Qe=new ji(Oe),zt=Qe.B;return new Proxy(Qe,{get(Kt,Ot){if(typeof Kt[Ot]=="function")return function(...qt){return Kt[Ot].apply(Kt,qt)};if(typeof zt[Ot]=="function"){if(-1<X.indexOf(Ot))throw Error("RiveException: Method call to '"+Ot+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...qt){Qe.H.push(zt[Ot].bind(zt,...qt))}}return Kt[Ot]},set(Kt,Ot,qt){if(Ot in zt)return Qe.H.push(()=>{zt[Ot]=qt}),!0}})},z.decodeImage=function(Oe,Qe){new Be({ka:Qe}).decode(Oe)},z.renderFactory={makeRenderPaint:function(){return new qe},makeRenderPath:function(){return new nt},makeRenderImage:function(){let Oe=$i;return new Be({va:()=>{Oe.total++},ka:()=>{if(Oe.loaded++,Oe.loaded===Oe.total){const Qe=Oe.ready;Qe&&(Qe(),Oe.ready=null)}}})}};let Ht=z.load,$i=null;z.load=function(Oe,Qe,zt=!0){const Kt=new z.FallbackFileAssetLoader;return Qe!==void 0&&Kt.addLoader(Qe),zt&&(Qe=new z.CDNFileAssetLoader,Kt.addLoader(Qe)),new Promise(function(Ot){let qt=null;$i={total:0,loaded:0,ready:function(){Ot(qt)}},qt=Ht(Oe,Kt),$i.total==0&&Ot(qt)})};let fs=z.RendererWrapper.prototype.align;z.RendererWrapper.prototype.align=function(Oe,Qe,zt,Kt,Ot=1){fs.call(this,Oe,Qe,zt,Kt,Ot)},x=new tt,z.requestAnimationFrame=x.requestAnimationFrame.bind(x),z.cancelAnimationFrame=x.cancelAnimationFrame.bind(x),z.enableFPSCounter=x.Nb.bind(x),z.disableFPSCounter=x.Kb,x.nb=v,z.resolveAnimationFrame=v,z.cleanup=function(){Ze&&Ze.delete()}};var q=Object.assign({},z),R="./this.program",P="",N,Q;(U||je)&&(je?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),O&&(P=O),P.startsWith("blob:")?P="":P=P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1),je&&(Q=h=>{var d=new XMLHttpRequest;return d.open("GET",h,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),N=(h,d,v)=>{if(Mr(h)){var x=new XMLHttpRequest;x.open("GET",h,!0),x.responseType="arraybuffer",x.onload=()=>{x.status==200||x.status==0&&x.response?d(x.response):v()},x.onerror=v,x.send(null)}else fetch(h,{credentials:"same-origin"}).then(D=>D.ok?D.arrayBuffer():Promise.reject(Error(D.status+" : "+D.url))).then(d,v)});var ae=z.print||console.log.bind(console),B=z.printErr||console.error.bind(console);Object.assign(z,q),q=null,z.thisProgram&&(R=z.thisProgram);var $;z.wasmBinary&&($=z.wasmBinary);var me,he=!1,xe,j,oe,Ne,Ae,Ie,$e,dt;function Rt(){var h=me.buffer;z.HEAP8=xe=new Int8Array(h),z.HEAP16=oe=new Int16Array(h),z.HEAPU8=j=new Uint8Array(h),z.HEAPU16=Ne=new Uint16Array(h),z.HEAP32=Ae=new Int32Array(h),z.HEAPU32=Ie=new Uint32Array(h),z.HEAPF32=$e=new Float32Array(h),z.HEAPF64=dt=new Float64Array(h)}var ot=[],Lt=[],Bt=[];function ft(){var h=z.preRun.shift();ot.unshift(h)}var It=0,Xt=null;function Wt(h){throw z.onAbort?.(h),h="Aborted("+h+")",B(h),he=!0,h=new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info."),we(h),h}var Kn=h=>h.startsWith("data:application/octet-stream;base64,"),Mr=h=>h.startsWith("file://"),Qt;function Ke(h){if(h==Qt&&$)return new Uint8Array($);if(Q)return Q(h);throw"both async and sync fetching of the wasm failed"}function St(h){return $?Promise.resolve().then(()=>Ke(h)):new Promise((d,v)=>{N(h,x=>d(new Uint8Array(x)),()=>{try{d(Ke(h))}catch(x){v(x)}})})}function an(h,d,v){return St(h).then(x=>WebAssembly.instantiate(x,d)).then(v,x=>{B(`failed to asynchronously prepare wasm: ${x}`),Wt(x)})}function vt(h,d){var v=Qt;return $||typeof WebAssembly.instantiateStreaming!="function"||Kn(v)||Mr(v)||typeof fetch!="function"?an(v,h,d):fetch(v,{credentials:"same-origin"}).then(x=>WebAssembly.instantiateStreaming(x,h).then(d,function(D){return B(`wasm streaming compile failed: ${D}`),B("falling back to ArrayBuffer instantiation"),an(v,h,d)}))}var vn,bt,_n={467618:(h,d,v,x,D)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=h,window.h.I.capture=d,window.h.I.Ja=v,window.h.fa={},window.h.fa.stopped=x,window.h.fa.vb=D;let F=window.h;F.D=[],F.rc=function(Z){for(var ee=0;ee<F.D.length;++ee)if(F.D[ee]==null)return F.D[ee]=Z,ee;return F.D.push(Z),F.D.length-1},F.zb=function(Z){for(F.D[Z]=null;0<F.D.length&&F.D[F.D.length-1]==null;)F.D.pop()},F.Oc=function(Z){for(var ee=0;ee<F.D.length;++ee)if(F.D[ee]==Z)return F.zb(ee)},F.pa=function(Z){return F.D[Z]},F.Ra=["touchend","click"],F.unlock=function(){for(var Z=0;Z<F.D.length;++Z){var ee=F.D[Z];ee!=null&&ee.K!=null&&ee.state===F.fa.vb&&ee.K.resume().then(()=>{Mo(ee.ob)},fe=>{console.error("Failed to resume audiocontext",fe)})}F.Ra.map(function(fe){document.removeEventListener(fe,F.unlock,!0)})},F.Ra.map(function(Z){document.addEventListener(Z,F.unlock,!0)})}return window.h.ya+=1,1},469796:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(h){document.removeEventListener(h,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},470100:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,470204:()=>{try{var h=new(window.AudioContext||window.webkitAudioContext),d=h.sampleRate;return h.close(),d}catch{return 0}},470375:(h,d,v,x,D,F)=>{if(typeof window.h>"u")return-1;var Z={},ee={};return h==window.h.I.wa&&v!=0&&(ee.sampleRate=v),Z.K=new(window.AudioContext||window.webkitAudioContext)(ee),Z.K.suspend(),Z.state=window.h.fa.stopped,v=0,h!=window.h.I.wa&&(v=d),Z.Y=Z.K.createScriptProcessor(x,v,d),Z.Y.onaudioprocess=function(fe){if((Z.qa==null||Z.qa.length==0)&&(Z.qa=new Float32Array($e.buffer,D,x*d)),h==window.h.I.capture||h==window.h.I.Ja){for(var ue=0;ue<d;ue+=1)for(var Ve=fe.inputBuffer.getChannelData(ue),Je=Z.qa,at=0;at<x;at+=1)Je[at*d+ue]=Ve[at];au(F,x,D)}if(h==window.h.I.wa||h==window.h.I.Ja)for(su(F,x,D),ue=0;ue<fe.outputBuffer.numberOfChannels;++ue)for(Ve=fe.outputBuffer.getChannelData(ue),Je=Z.qa,at=0;at<x;at+=1)Ve[at]=Je[at*d+ue];else for(ue=0;ue<fe.outputBuffer.numberOfChannels;++ue)fe.outputBuffer.getChannelData(ue).fill(0)},h!=window.h.I.capture&&h!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(fe){Z.Ba=Z.K.createMediaStreamSource(fe),Z.Ba.connect(Z.Y),Z.Y.connect(Z.K.destination)}).catch(function(fe){console.log("Failed to get user media: "+fe)}),h==window.h.I.wa&&Z.Y.connect(Z.K.destination),Z.ob=F,window.h.rc(Z)},473252:h=>window.h.pa(h).K.sampleRate,473325:h=>{h=window.h.pa(h),h.Y!==void 0&&(h.Y.onaudioprocess=function(){},h.Y.disconnect(),h.Y=void 0),h.Ba!==void 0&&(h.Ba.disconnect(),h.Ba=void 0),h.K.close(),h.K=void 0,h.ob=void 0},473725:h=>{window.h.zb(h)},473775:h=>{h=window.h.pa(h),h.K.resume(),h.state=window.h.fa.vb},473914:h=>{h=window.h.pa(h),h.K.suspend(),h.state=window.h.fa.stopped}},ln=h=>{for(;0<h.length;)h.shift()(z)};function C(){var h=Ae[+ri>>2];return ri+=4,h}var g=(h,d)=>{for(var v=0,x=h.length-1;0<=x;x--){var D=h[x];D==="."?h.splice(x,1):D===".."?(h.splice(x,1),v++):v&&(h.splice(x,1),v--)}if(d)for(;v;v--)h.unshift("..");return h},_=h=>{var d=h.charAt(0)==="/",v=h.substr(-1)==="/";return(h=g(h.split("/").filter(x=>!!x),!d).join("/"))||d||(h="."),h&&v&&(h+="/"),(d?"/":"")+h},V=h=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=d[0],d=d[1],!h&&!d?".":(d&&=d.substr(0,d.length-1),h+d)},J=h=>{if(h==="/")return"/";h=_(h),h=h.replace(/\/$/,"");var d=h.lastIndexOf("/");return d===-1?h:h.substr(d+1)},ge=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return h=>crypto.getRandomValues(h);Wt("initRandomDevice")},Se=h=>(Se=ge())(h),He=(...h)=>{for(var d="",v=!1,x=h.length-1;-1<=x&&!v;x--){if(v=0<=x?h[x]:"/",typeof v!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!v)return"";d=v+"/"+d,v=v.charAt(0)==="/"}return d=g(d.split("/").filter(D=>!!D),!v).join("/"),(v?"/":"")+d||"."},We=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Pe=(h,d,v)=>{var x=d+v;for(v=d;h[v]&&!(v>=x);)++v;if(16<v-d&&h.buffer&&We)return We.decode(h.subarray(d,v));for(x="";d<v;){var D=h[d++];if(D&128){var F=h[d++]&63;if((D&224)==192)x+=String.fromCharCode((D&31)<<6|F);else{var Z=h[d++]&63;D=(D&240)==224?(D&15)<<12|F<<6|Z:(D&7)<<18|F<<12|Z<<6|h[d++]&63,65536>D?x+=String.fromCharCode(D):(D-=65536,x+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else x+=String.fromCharCode(D)}return x},Tt=[],Ft=h=>{for(var d=0,v=0;v<h.length;++v){var x=h.charCodeAt(v);127>=x?d++:2047>=x?d+=2:55296<=x&&57343>=x?(d+=4,++v):d+=3}return d},kn=(h,d,v,x)=>{if(!(0<x))return 0;var D=v;x=v+x-1;for(var F=0;F<h.length;++F){var Z=h.charCodeAt(F);if(55296<=Z&&57343>=Z){var ee=h.charCodeAt(++F);Z=65536+((Z&1023)<<10)|ee&1023}if(127>=Z){if(v>=x)break;d[v++]=Z}else{if(2047>=Z){if(v+1>=x)break;d[v++]=192|Z>>6}else{if(65535>=Z){if(v+2>=x)break;d[v++]=224|Z>>12}else{if(v+3>=x)break;d[v++]=240|Z>>18,d[v++]=128|Z>>12&63}d[v++]=128|Z>>6&63}d[v++]=128|Z&63}}return d[v]=0,v-D};function jt(h,d){var v=Array(Ft(h)+1);return h=kn(h,v,0,v.length),d&&(v.length=h),v}var Un=[];function nn(h,d){Un[h]={input:[],G:[],V:d},Or(h,An)}var An={open(h){var d=Un[h.node.xa];if(!d)throw new Xe(43);h.s=d,h.seekable=!1},close(h){h.s.V.oa(h.s)},oa(h){h.s.V.oa(h.s)},read(h,d,v,x){if(!h.s||!h.s.V.hb)throw new Xe(60);for(var D=0,F=0;F<x;F++){try{var Z=h.s.V.hb(h.s)}catch{throw new Xe(29)}if(Z===void 0&&D===0)throw new Xe(6);if(Z==null)break;D++,d[v+F]=Z}return D&&(h.node.timestamp=Date.now()),D},write(h,d,v,x){if(!h.s||!h.s.V.Ma)throw new Xe(60);try{for(var D=0;D<x;D++)h.s.V.Ma(h.s,d[v+D])}catch{throw new Xe(29)}return x&&(h.node.timestamp=Date.now()),D}},zn={hb(){e:{if(!Tt.length){var h=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`)),!h){h=null;break e}Tt=jt(h,!0)}h=Tt.shift()}return h},Ma(h,d){d===null||d===10?(ae(Pe(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(ae(Pe(h.G,0)),h.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Vn={Ma(h,d){d===null||d===10?(B(Pe(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(B(Pe(h.G,0)),h.G=[])}};function qr(h,d){var v=h.l?h.l.length:0;v>=d||(d=Math.max(d,v*(1048576>v?2:1.125)>>>0),v!=0&&(d=Math.max(d,256)),v=h.l,h.l=new Uint8Array(d),0<h.v&&h.l.set(v.subarray(0,h.v),0))}var _t={N:null,U(){return _t.createNode(null,"/",16895,0)},createNode(h,d,v,x){if((v&61440)===24576||(v&61440)===4096)throw new Xe(63);return _t.N||(_t.N={dir:{node:{X:_t.j.X,P:_t.j.P,ja:_t.j.ja,ta:_t.j.ta,sb:_t.j.sb,yb:_t.j.yb,tb:_t.j.tb,rb:_t.j.rb,Ca:_t.j.Ca},stream:{aa:_t.m.aa}},file:{node:{X:_t.j.X,P:_t.j.P},stream:{aa:_t.m.aa,read:_t.m.read,write:_t.m.write,Xa:_t.m.Xa,kb:_t.m.kb,mb:_t.m.mb}},link:{node:{X:_t.j.X,P:_t.j.P,la:_t.j.la},stream:{}},$a:{node:{X:_t.j.X,P:_t.j.P},stream:cr}}),v=za(h,d,v,x),(v.mode&61440)===16384?(v.j=_t.N.dir.node,v.m=_t.N.dir.stream,v.l={}):(v.mode&61440)===32768?(v.j=_t.N.file.node,v.m=_t.N.file.stream,v.v=0,v.l=null):(v.mode&61440)===40960?(v.j=_t.N.link.node,v.m=_t.N.link.stream):(v.mode&61440)===8192&&(v.j=_t.N.$a.node,v.m=_t.N.$a.stream),v.timestamp=Date.now(),h&&(h.l[d]=v,h.timestamp=v.timestamp),v},Fc(h){return h.l?h.l.subarray?h.l.subarray(0,h.v):new Uint8Array(h.l):new Uint8Array(0)},j:{X(h){var d={};return d.Dc=(h.mode&61440)===8192?h.id:1,d.Hc=h.id,d.mode=h.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=h.xa,(h.mode&61440)===16384?d.size=4096:(h.mode&61440)===32768?d.size=h.v:(h.mode&61440)===40960?d.size=h.link.length:d.size=0,d.vc=new Date(h.timestamp),d.Jc=new Date(h.timestamp),d.Cc=new Date(h.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(h,d){if(d.mode!==void 0&&(h.mode=d.mode),d.timestamp!==void 0&&(h.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,h.v!=d))if(d==0)h.l=null,h.v=0;else{var v=h.l;h.l=new Uint8Array(d),v&&h.l.set(v.subarray(0,Math.min(d,h.v))),h.v=d}},ja(){throw sa[44]},ta(h,d,v,x){return _t.createNode(h,d,v,x)},sb(h,d,v){if((h.mode&61440)===16384){try{var x=oa(d,v)}catch{}if(x)for(var D in x.l)throw new Xe(55)}delete h.parent.l[h.name],h.parent.timestamp=Date.now(),h.name=v,d.l[v]=h,d.timestamp=h.parent.timestamp},yb(h,d){delete h.l[d],h.timestamp=Date.now()},tb(h,d){var v=oa(h,d),x;for(x in v.l)throw new Xe(55);delete h.l[d],h.timestamp=Date.now()},rb(h){var d=[".",".."],v;for(v of Object.keys(h.l))d.push(v);return d},Ca(h,d,v){return h=_t.createNode(h,d,41471,0),h.link=v,h},la(h){if((h.mode&61440)!==40960)throw new Xe(28);return h.link}},m:{read(h,d,v,x,D){var F=h.node.l;if(D>=h.node.v)return 0;if(h=Math.min(h.node.v-D,x),8<h&&F.subarray)d.set(F.subarray(D,D+h),v);else for(x=0;x<h;x++)d[v+x]=F[D+x];return h},write(h,d,v,x,D,F){if(d.buffer===xe.buffer&&(F=!1),!x)return 0;if(h=h.node,h.timestamp=Date.now(),d.subarray&&(!h.l||h.l.subarray)){if(F)return h.l=d.subarray(v,v+x),h.v=x;if(h.v===0&&D===0)return h.l=d.slice(v,v+x),h.v=x;if(D+x<=h.v)return h.l.set(d.subarray(v,v+x),D),x}if(qr(h,D+x),h.l.subarray&&d.subarray)h.l.set(d.subarray(v,v+x),D);else for(F=0;F<x;F++)h.l[D+F]=d[v+F];return h.v=Math.max(h.v,D+x),x},aa(h,d,v){if(v===1?d+=h.position:v===2&&(h.node.mode&61440)===32768&&(d+=h.node.v),0>d)throw new Xe(28);return d},Xa(h,d,v){qr(h.node,d+v),h.node.v=Math.max(h.node.v,d+v)},kb(h,d,v,x,D){if((h.node.mode&61440)!==32768)throw new Xe(43);if(h=h.node.l,D&2||h.buffer!==xe.buffer){if((0<v||v+d<h.length)&&(h.subarray?h=h.subarray(v,v+d):h=Array.prototype.slice.call(h,v,v+d)),v=!0,Wt(),d=void 0,!d)throw new Xe(48);xe.set(h,d)}else v=!1,d=h.byteOffset;return{o:d,uc:v}},mb(h,d,v,x){return _t.m.write(h,d,0,x,v,!1),0}}},Gn=(h,d)=>{var v=0;return h&&(v|=365),d&&(v|=146),v},$n=null,kt={},Bn=[],Cn=1,vi=null,aa=!0,Xe=class{constructor(h){this.name="ErrnoError",this.$=h}},sa={},Nr=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(h){this.h.flags=h}get position(){return this.h.position}set position(h){this.h.position=h}},yr=class{constructor(h,d,v,x){h||=this,this.parent=h,this.U=h.U,this.ua=null,this.id=Cn++,this.name=d,this.mode=v,this.j={},this.m={},this.xa=x}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function un(h,d={}){if(h=He(h),!h)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Xe(32);h=h.split("/").filter(Z=>!!Z);for(var v=$n,x="/",D=0;D<h.length;D++){var F=D===h.length-1;if(F&&d.parent)break;if(v=oa(v,h[D]),x=_(x+"/"+h[D]),v.ua&&(!F||F&&d.gb)&&(v=v.ua.root),!F||d.fb){for(F=0;(v.mode&61440)===40960;)if(v=Ba(x),x=He(V(x),v),v=un(x,{Oa:d.Oa+1}).node,40<F++)throw new Xe(32)}}return{path:x,node:v}}function Pn(h){for(var d;;){if(h===h.parent)return h=h.U.lb,d?h[h.length-1]!=="/"?`${h}/${d}`:h+d:h;d=d?`${h.name}/${d}`:h.name,h=h.parent}}function _i(h,d){for(var v=0,x=0;x<d.length;x++)v=(v<<5)-v+d.charCodeAt(x)|0;return(h+v>>>0)%vi.length}function oa(h,d){var v=(h.mode&61440)===16384?(v=xa(h,"x"))?v:h.j.ja?0:2:54;if(v)throw new Xe(v);for(v=vi[_i(h.id,d)];v;v=v.ec){var x=v.name;if(v.parent.id===h.id&&x===d)return v}return h.j.ja(h,d)}function za(h,d,v,x){return h=new yr(h,d,v,x),d=_i(h.parent.id,h.name),h.ec=vi[d],vi[d]=h}function Sa(h){var d=["r","w","rw"][h&3];return h&512&&(d+="w"),d}function xa(h,d){if(aa)return 0;if(!d.includes("r")||h.mode&292){if(d.includes("w")&&!(h.mode&146)||d.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function ni(h,d){try{return oa(h,d),20}catch{}return xa(h,"wx")}function Dr(h){if(h=Bn[h],!h)throw new Xe(8);return h}function er(h,d=-1){if(h=Object.assign(new Nr,h),d==-1)e:{for(d=0;4096>=d;d++)if(!Bn[d])break e;throw new Xe(33)}return h.W=d,Bn[d]=h}function Gr(h,d=-1){return h=er(h,d),h.m?.Ec?.(h),h}var cr={open(h){h.m=kt[h.node.xa].m,h.m.open?.(h)},aa(){throw new Xe(70)}};function Or(h,d){kt[h]={m:d}}function Rn(h,d){var v=d==="/";if(v&&$n)throw new Xe(10);if(!v&&d){var x=un(d,{gb:!1});if(d=x.path,x=x.node,x.ua)throw new Xe(10);if((x.mode&61440)!==16384)throw new Xe(54)}d={type:h,Mc:{},lb:d,dc:[]},h=h.U(d),h.U=d,d.root=h,v?$n=h:x&&(x.ua=d,x.U&&x.U.dc.push(d))}function Ca(h,d,v){var x=un(h,{parent:!0}).node;if(h=J(h),!h||h==="."||h==="..")throw new Xe(28);var D=ni(x,h);if(D)throw new Xe(D);if(!x.j.ta)throw new Xe(63);return x.j.ta(x,h,d,v)}function kr(h){return Ca(h,16895,0)}function Yr(h,d,v){typeof v>"u"&&(v=d,d=438),Ca(h,d|8192,v)}function Vr(h,d){if(!He(h))throw new Xe(44);var v=un(d,{parent:!0}).node;if(!v)throw new Xe(44);d=J(d);var x=ni(v,d);if(x)throw new Xe(x);if(!v.j.Ca)throw new Xe(63);v.j.Ca(v,d,h)}function Ba(h){if(h=un(h).node,!h)throw new Xe(44);if(!h.j.la)throw new Xe(28);return He(Pn(h.parent),h.j.la(h))}function vr(h,d,v){if(h==="")throw new Xe(44);if(typeof d=="string"){var x={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof x>"u")throw Error(`Unknown file open mode: ${d}`);d=x}if(v=d&64?(typeof v>"u"?438:v)&4095|32768:0,typeof h=="object")var D=h;else{h=_(h);try{D=un(h,{fb:!(d&131072)}).node}catch{}}if(x=!1,d&64)if(D){if(d&128)throw new Xe(20)}else D=Ca(h,v,0),x=!0;if(!D)throw new Xe(44);if((D.mode&61440)===8192&&(d&=-513),d&65536&&(D.mode&61440)!==16384)throw new Xe(54);if(!x&&(v=D?(D.mode&61440)===40960?32:(D.mode&61440)===16384&&(Sa(d)!=="r"||d&512)?31:xa(D,Sa(d)):44))throw new Xe(v);if(d&512&&!x){if(v=D,v=typeof v=="string"?un(v,{fb:!0}).node:v,!v.j.P)throw new Xe(63);if((v.mode&61440)===16384)throw new Xe(31);if((v.mode&61440)!==32768)throw new Xe(28);if(x=xa(v,"w"))throw new Xe(x);v.j.P(v,{size:0,timestamp:Date.now()})}return d&=-131713,D=er({node:D,path:Pn(D),flags:d,seekable:!0,position:0,m:D.m,sc:[],error:!1}),D.m.open&&D.m.open(D),!z.logReadFiles||d&1||(Jn||={},h in Jn||(Jn[h]=1)),D}function la(h,d,v){if(h.W===null)throw new Xe(8);if(!h.seekable||!h.m.aa)throw new Xe(70);if(v!=0&&v!=1&&v!=2)throw new Xe(28);h.position=h.m.aa(h,d,v),h.sc=[]}var Ra;function Ni(h,d,v){h=_("/dev/"+h);var x=Gn(!!d,!!v);Pr||=64;var D=Pr++<<8|0;Or(D,{open(F){F.seekable=!1},close(){v?.buffer?.length&&v(10)},read(F,Z,ee,fe){for(var ue=0,Ve=0;Ve<fe;Ve++){try{var Je=d()}catch{throw new Xe(29)}if(Je===void 0&&ue===0)throw new Xe(6);if(Je==null)break;ue++,Z[ee+Ve]=Je}return ue&&(F.node.timestamp=Date.now()),ue},write(F,Z,ee,fe){for(var ue=0;ue<fe;ue++)try{v(Z[ee+ue])}catch{throw new Xe(29)}return fe&&(F.node.timestamp=Date.now()),ue}}),Yr(h,x,D)}var Pr,bn={},Jn,ri=void 0,ii=(h,d)=>Object.defineProperty(d,"name",{value:h}),pt=[],rr=[],mt,fr=h=>{if(!h)throw new mt("Cannot use deleted val. handle = "+h);return rr[h]},Ln=h=>{switch(h){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=pt.pop()||rr.length;return rr[d]=h,rr[d+1]=1,d}},Ia=h=>{var d=Error,v=ii(h,function(x){this.name=h,this.message=x,x=Error(x).stack,x!==void 0&&(this.stack=this.toString()+`
`+x.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(d.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},v},is,Ma,cn=h=>{for(var d="";j[h];)d+=Ma[j[h++]];return d},Di=[],bi=()=>{for(;Di.length;){var h=Di.pop();h.g.ea=!1,h.delete()}},ir,ai={},Na=(h,d)=>{if(d===void 0)throw new mt("ptr should not be undefined");for(;h.C;)d=h.ma(d),h=h.C;return d},wi={},ua=h=>{h=Tc(h);var d=cn(h);return Ci(h),d},ca=(h,d)=>{var v=wi[h];if(v===void 0)throw h=`${d} has unknown type ${ua(h)}`,new mt(h);return v},Ei=()=>{},fa=!1,si=(h,d,v)=>d===v?h:v.C===void 0?null:(h=si(h,d,v.C),h===null?null:v.Lb(h)),Fa={},oi=(h,d)=>(d=Na(h,d),ai[d]),Lr,jr=(h,d)=>{if(!d.u||!d.o)throw new Lr("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new Lr("Both smartPtrType and smartPtr must be specified");return d.count={value:1},li(Object.create(h,{g:{value:d,writable:!0}}))},li=h=>typeof FinalizationRegistry>"u"?(li=d=>d,h):(fa=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),li=d=>{var v=d.g;return v.F&&fa.register(d,{g:v},d),d},Ei=d=>{fa.unregister(d)},li(h)),Gi={},Xr=h=>{for(;h.length;){var d=h.pop();h.pop()(d)}};function _r(h){return this.fromWireType(Ie[h>>2])}var ar={},Oi={},Mt=(h,d,v)=>{function x(ee){if(ee=v(ee),ee.length!==h.length)throw new Lr("Mismatched type converter count");for(var fe=0;fe<h.length;++fe)Cr(h[fe],ee[fe])}h.forEach(function(ee){Oi[ee]=d});var D=Array(d.length),F=[],Z=0;d.forEach((ee,fe)=>{wi.hasOwnProperty(ee)?D[fe]=wi[ee]:(F.push(ee),ar.hasOwnProperty(ee)||(ar[ee]=[]),ar[ee].push(()=>{D[fe]=wi[ee],++Z,Z===F.length&&x(D)}))}),F.length===0&&x(D)};function ki(h,d,v={}){var x=d.name;if(!h)throw new mt(`type "${x}" must have a positive integer typeid pointer`);if(wi.hasOwnProperty(h)){if(v.Vb)return;throw new mt(`Cannot register type '${x}' twice`)}wi[h]=d,delete Oi[h],ar.hasOwnProperty(h)&&(d=ar[h],delete ar[h],d.forEach(D=>D()))}function Cr(h,d,v={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return ki(h,d,v)}var Yi=h=>{throw new mt(h.g.u.i.name+" instance already deleted")};function Xi(){}var Wi=(h,d,v)=>{if(h[d].A===void 0){var x=h[d];h[d]=function(...D){if(!h[d].A.hasOwnProperty(D.length))throw new mt(`Function '${v}' called with an invalid number of arguments (${D.length}) - expects one of (${h[d].A})!`);return h[d].A[D.length].apply(this,D)},h[d].A=[],h[d].A[x.da]=x}},Ti=(h,d,v)=>{if(z.hasOwnProperty(h)){if(v===void 0||z[h].A!==void 0&&z[h].A[v]!==void 0)throw new mt(`Cannot register public name '${h}' twice`);if(Wi(z,h,h),z.hasOwnProperty(v))throw new mt(`Cannot register multiple overloads of a function with the same number of arguments (${v})!`);z[h].A[v]=d}else z[h]=d,v!==void 0&&(z[h].Lc=v)},Ai=h=>{if(h===void 0)return"_unknown";h=h.replace(/[^a-zA-Z0-9_]/g,"$");var d=h.charCodeAt(0);return 48<=d&&57>=d?`_${h}`:h};function hr(h,d,v,x,D,F,Z,ee){this.name=h,this.constructor=d,this.M=v,this.O=x,this.C=D,this.Qb=F,this.ma=Z,this.Lb=ee,this.pb=[]}var sr=(h,d,v)=>{for(;d!==v;){if(!d.ma)throw new mt(`Expected null or instance of ${v.name}, got an instance of ${d.name}`);h=d.ma(h),d=d.C}return h};function Vi(h,d){if(d===null){if(this.La)throw new mt(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new mt(`Cannot pass "${In(d)}" as a ${this.name}`);if(!d.g.o)throw new mt(`Cannot pass deleted object as a pointer of type ${this.name}`);return sr(d.g.o,d.g.u.i,this.i)}function Qi(h,d){if(d===null){if(this.La)throw new mt(`null is not a valid ${this.name}`);if(this.sa){var v=this.Na();return h!==null&&h.push(this.O,v),v}return 0}if(!d||!d.g)throw new mt(`Cannot pass "${In(d)}" as a ${this.name}`);if(!d.g.o)throw new mt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new mt(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(v=sr(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new mt("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)v=d.g.F;else throw new mt(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:v=d.g.F;break;case 2:if(d.g.J===this)v=d.g.F;else{var x=d.clone();v=this.ic(v,Ln(()=>x.delete())),h!==null&&h.push(this.O,v)}break;default:throw new mt("Unsupporting sharing policy")}}return v}function as(h,d){if(d===null){if(this.La)throw new mt(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new mt(`Cannot pass "${In(d)}" as a ${this.name}`);if(!d.g.o)throw new mt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new mt(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return sr(d.g.o,d.g.u.i,this.i)}function Si(h,d,v,x,D,F,Z,ee,fe,ue,Ve){this.name=h,this.i=d,this.La=v,this.ra=x,this.sa=D,this.hc=F,this.mc=Z,this.qb=ee,this.Na=fe,this.ic=ue,this.O=Ve,D||d.C!==void 0?this.toWireType=Qi:(this.toWireType=x?Vi:as,this.L=null)}var ui=(h,d,v)=>{if(!z.hasOwnProperty(h))throw new Lr("Replacing nonexistent public symbol");z[h].A!==void 0&&v!==void 0?z[h].A[v]=d:(z[h]=d,z[h].da=v)},Ur=[],ha,Ha=h=>{var d=Ur[h];return d||(h>=Ur.length&&(Ur.length=h+1),Ur[h]=d=ha.get(h)),d},da=(h,d,v=[])=>(h.includes("j")?(h=h.replace(/p/g,"i"),d=(0,z["dynCall_"+h])(d,...v)):d=Ha(d)(...v),d),ss=(h,d)=>(...v)=>da(h,d,v),Y=(h,d)=>{h=cn(h);var v=h.includes("j")?ss(h,d):Ha(d);if(typeof v!="function")throw new mt(`unknown function pointer with signature ${h}: ${d}`);return v},re,_e=(h,d)=>{function v(F){D[F]||wi[F]||(Oi[F]?Oi[F].forEach(v):(x.push(F),D[F]=!0))}var x=[],D={};throw d.forEach(v),new re(`${h}: `+x.map(ua).join([", "]))};function ve(h){for(var d=1;d<h.length;++d)if(h[d]!==null&&h[d].L===void 0)return!0;return!1}function be(h,d,v,x,D){var F=d.length;if(2>F)throw new mt("argTypes array size mismatch! Must at least get return value and 'this' types!");var Z=d[1]!==null&&v!==null,ee=ve(d),fe=d[0].name!=="void",ue=F-2,Ve=Array(ue),Je=[],at=[];return ii(h,function(...ne){if(ne.length!==ue)throw new mt(`function ${h} called with ${ne.length} arguments, expected ${ue}`);if(at.length=0,Je.length=Z?2:1,Je[0]=D,Z){var Be=d[1].toWireType(at,this);Je[1]=Be}for(var nt=0;nt<ue;++nt)Ve[nt]=d[nt+2].toWireType(at,ne[nt]),Je.push(Ve[nt]);if(ne=x(...Je),ee)Xr(at);else for(nt=Z?1:2;nt<d.length;nt++){var qe=nt===1?Be:Ve[nt-2];d[nt].L!==null&&d[nt].L(qe)}return Be=fe?d[0].fromWireType(ne):void 0,Be})}var Fe=(h,d)=>{for(var v=[],x=0;x<h;x++)v.push(Ie[d+4*x>>2]);return v},Ge=h=>{h=h.trim();const d=h.indexOf("(");return d!==-1?h.substr(0,d):h},ke=(h,d,v)=>{if(!(h instanceof Object))throw new mt(`${v} with invalid "this": ${h}`);if(!(h instanceof d.i.constructor))throw new mt(`${v} incompatible with "this" of type ${h.constructor.name}`);if(!h.g.o)throw new mt(`cannot call emscripten binding method ${v} on deleted object`);return sr(h.g.o,h.g.u.i,d.i)},ut=h=>{9<h&&--rr[h+1]===0&&(rr[h]=void 0,pt.push(h))},Ye={name:"emscripten::val",fromWireType:h=>{var d=fr(h);return ut(h),d},toWireType:(h,d)=>Ln(d),argPackAdvance:8,readValueFromPointer:_r,L:null},lt=(h,d,v)=>{switch(d){case 1:return v?function(x){return this.fromWireType(xe[x])}:function(x){return this.fromWireType(j[x])};case 2:return v?function(x){return this.fromWireType(oe[x>>1])}:function(x){return this.fromWireType(Ne[x>>1])};case 4:return v?function(x){return this.fromWireType(Ae[x>>2])}:function(x){return this.fromWireType(Ie[x>>2])};default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},In=h=>{if(h===null)return"null";var d=typeof h;return d==="object"||d==="array"||d==="function"?h.toString():""+h},or=(h,d)=>{switch(d){case 4:return function(v){return this.fromWireType($e[v>>2])};case 8:return function(v){return this.fromWireType(dt[v>>3])};default:throw new TypeError(`invalid float width (${d}): ${h}`)}},Fn=(h,d,v)=>{switch(d){case 1:return v?x=>xe[x]:x=>j[x];case 2:return v?x=>oe[x>>1]:x=>Ne[x>>1];case 4:return v?x=>Ae[x>>2]:x=>Ie[x>>2];default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},os=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ki=(h,d)=>{for(var v=h>>1,x=v+d/2;!(v>=x)&&Ne[v];)++v;if(v<<=1,32<v-h&&os)return os.decode(j.subarray(h,v));for(v="",x=0;!(x>=d/2);++x){var D=oe[h+2*x>>1];if(D==0)break;v+=String.fromCharCode(D)}return v},Da=(h,d,v)=>{if(v??=2147483647,2>v)return 0;v-=2;var x=d;v=v<2*h.length?v/2:h.length;for(var D=0;D<v;++D)oe[d>>1]=h.charCodeAt(D),d+=2;return oe[d>>1]=0,d-x},u=h=>2*h.length,y=(h,d)=>{for(var v=0,x="";!(v>=d/4);){var D=Ae[h+4*v>>2];if(D==0)break;++v,65536<=D?(D-=65536,x+=String.fromCharCode(55296|D>>10,56320|D&1023)):x+=String.fromCharCode(D)}return x},A=(h,d,v)=>{if(v??=2147483647,4>v)return 0;var x=d;v=x+v-4;for(var D=0;D<h.length;++D){var F=h.charCodeAt(D);if(55296<=F&&57343>=F){var Z=h.charCodeAt(++D);F=65536+((F&1023)<<10)|Z&1023}if(Ae[d>>2]=F,d+=4,d+4>v)break}return Ae[d>>2]=0,d-x},k=h=>{for(var d=0,v=0;v<h.length;++v){var x=h.charCodeAt(v);55296<=x&&57343>=x&&++v,d+=4}return d},se=(h,d,v)=>{var x=[];return h=h.toWireType(x,v),x.length&&(Ie[d>>2]=Ln(x)),h},pe={},ze=h=>{var d=pe[h];return d===void 0?cn(h):d},xt=[],tr=h=>{var d=xt.length;return xt.push(h),d},fn=(h,d)=>{for(var v=Array(h),x=0;x<h;++x)v[x]=ca(Ie[d+4*x>>2],"parameter "+x);return v},Hn=Reflect.construct,ci=[],Pi={},Li=()=>{if(!xi){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:R||"./this.program"},d;for(d in Pi)Pi[d]===void 0?delete h[d]:h[d]=Pi[d];var v=[];for(d in h)v.push(`${d}=${h[d]}`);xi=v}return xi},xi,ma=h=>h%4===0&&(h%100!==0||h%400===0),ls=[31,29,31,30,31,30,31,31,30,31,30,31],us=[31,28,31,30,31,30,31,31,30,31,30,31],Rh=(h,d,v,x)=>{function D(ne,Be,nt){for(ne=typeof ne=="number"?ne.toString():ne||"";ne.length<Be;)ne=nt[0]+ne;return ne}function F(ne,Be){return D(ne,Be,"0")}function Z(ne,Be){function nt(dn){return 0>dn?-1:0<dn?1:0}var qe;return(qe=nt(ne.getFullYear()-Be.getFullYear()))===0&&(qe=nt(ne.getMonth()-Be.getMonth()))===0&&(qe=nt(ne.getDate()-Be.getDate())),qe}function ee(ne){switch(ne.getDay()){case 0:return new Date(ne.getFullYear()-1,11,29);case 1:return ne;case 2:return new Date(ne.getFullYear(),0,3);case 3:return new Date(ne.getFullYear(),0,2);case 4:return new Date(ne.getFullYear(),0,1);case 5:return new Date(ne.getFullYear()-1,11,31);case 6:return new Date(ne.getFullYear()-1,11,30)}}function fe(ne){var Be=ne.ba;for(ne=new Date(new Date(ne.ca+1900,0,1).getTime());0<Be;){var nt=ne.getMonth(),qe=(ma(ne.getFullYear())?ls:us)[nt];if(Be>qe-ne.getDate())Be-=qe-ne.getDate()+1,ne.setDate(1),11>nt?ne.setMonth(nt+1):(ne.setMonth(0),ne.setFullYear(ne.getFullYear()+1));else{ne.setDate(ne.getDate()+Be);break}}return nt=new Date(ne.getFullYear()+1,0,4),Be=ee(new Date(ne.getFullYear(),0,4)),nt=ee(nt),0>=Z(Be,ne)?0>=Z(nt,ne)?ne.getFullYear()+1:ne.getFullYear():ne.getFullYear()-1}var ue=Ie[x+40>>2];x={pc:Ae[x>>2],oc:Ae[x+4>>2],Da:Ae[x+8>>2],Qa:Ae[x+12>>2],Ea:Ae[x+16>>2],ca:Ae[x+20>>2],R:Ae[x+24>>2],ba:Ae[x+28>>2],Nc:Ae[x+32>>2],nc:Ae[x+36>>2],qc:ue&&ue?Pe(j,ue):""},v=v?Pe(j,v):"",ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ve in ue)v=v.replace(new RegExp(Ve,"g"),ue[Ve]);var Je="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),at="January February March April May June July August September October November December".split(" ");ue={"%a":ne=>Je[ne.R].substring(0,3),"%A":ne=>Je[ne.R],"%b":ne=>at[ne.Ea].substring(0,3),"%B":ne=>at[ne.Ea],"%C":ne=>F((ne.ca+1900)/100|0,2),"%d":ne=>F(ne.Qa,2),"%e":ne=>D(ne.Qa,2," "),"%g":ne=>fe(ne).toString().substring(2),"%G":fe,"%H":ne=>F(ne.Da,2),"%I":ne=>(ne=ne.Da,ne==0?ne=12:12<ne&&(ne-=12),F(ne,2)),"%j":ne=>{for(var Be=0,nt=0;nt<=ne.Ea-1;Be+=(ma(ne.ca+1900)?ls:us)[nt++]);return F(ne.Qa+Be,3)},"%m":ne=>F(ne.Ea+1,2),"%M":ne=>F(ne.oc,2),"%n":()=>`
`,"%p":ne=>0<=ne.Da&&12>ne.Da?"AM":"PM","%S":ne=>F(ne.pc,2),"%t":()=>"	","%u":ne=>ne.R||7,"%U":ne=>F(Math.floor((ne.ba+7-ne.R)/7),2),"%V":ne=>{var Be=Math.floor((ne.ba+7-(ne.R+6)%7)/7);if(2>=(ne.R+371-ne.ba-2)%7&&Be++,Be)Be==53&&(nt=(ne.R+371-ne.ba)%7,nt==4||nt==3&&ma(ne.ca)||(Be=1));else{Be=52;var nt=(ne.R+7-ne.ba-1)%7;(nt==4||nt==5&&ma(ne.ca%400-1))&&Be++}return F(Be,2)},"%w":ne=>ne.R,"%W":ne=>F(Math.floor((ne.ba+7-(ne.R+6)%7)/7),2),"%y":ne=>(ne.ca+1900).toString().substring(2),"%Y":ne=>ne.ca+1900,"%z":ne=>{ne=ne.nc;var Be=0<=ne;return ne=Math.abs(ne)/60,(Be?"+":"-")+("0000"+(ne/60*100+ne%60)).slice(-4)},"%Z":ne=>ne.qc,"%%":()=>"%"},v=v.replace(/%%/g,"\0\0");for(Ve in ue)v.includes(Ve)&&(v=v.replace(new RegExp(Ve,"g"),ue[Ve](x)));return v=v.replace(/\0\0/g,"%"),Ve=jt(v,!1),Ve.length>d?0:(xe.set(Ve,h),Ve.length-1)};[44].forEach(h=>{sa[h]=new Xe(h),sa[h].stack="<generic error, no stack>"}),vi=Array(4096),Rn(_t,"/"),kr("/tmp"),kr("/home"),kr("/home/web_user"),(function(){kr("/dev"),Or(259,{read:()=>0,write:(x,D,F,Z)=>Z}),Yr("/dev/null",259),nn(1280,zn),nn(1536,Vn),Yr("/dev/tty",1280),Yr("/dev/tty1",1536);var h=new Uint8Array(1024),d=0,v=()=>(d===0&&(d=Se(h).byteLength),h[--d]);Ni("random",v),Ni("urandom",v),kr("/dev/shm"),kr("/dev/shm/tmp")})(),(function(){kr("/proc");var h=kr("/proc/self");kr("/proc/self/fd"),Rn({U(){var d=za(h,"fd",16895,73);return d.j={ja(v,x){var D=Dr(+x);return v={parent:null,U:{lb:"fake"},j:{la:()=>D.path}},v.parent=v}},d}},"/proc/self/fd")})(),mt=z.BindingError=class extends Error{constructor(h){super(h),this.name="BindingError"}},rr.push(0,1,void 0,1,null,1,!0,1,!1,1),z.count_emval_handles=()=>rr.length/2-5-pt.length,is=z.PureVirtualError=Ia("PureVirtualError");for(var Ec=Array(256),tl=0;256>tl;++tl)Ec[tl]=String.fromCharCode(tl);Ma=Ec,z.getInheritedInstanceCount=()=>Object.keys(ai).length,z.getLiveInheritedInstances=()=>{var h=[],d;for(d in ai)ai.hasOwnProperty(d)&&h.push(ai[d]);return h},z.flushPendingDeletes=bi,z.setDelayFunction=h=>{ir=h,Di.length&&ir&&ir(bi)},Lr=z.InternalError=class extends Error{constructor(h){super(h),this.name="InternalError"}},Object.assign(Xi.prototype,{isAliasOf:function(h){if(!(this instanceof Xi&&h instanceof Xi))return!1;var d=this.g.u.i,v=this.g.o;h.g=h.g;var x=h.g.u.i;for(h=h.g.o;d.C;)v=d.ma(v),d=d.C;for(;x.C;)h=x.ma(h),x=x.C;return d===x&&v===h},clone:function(){if(this.g.o||Yi(this),this.g.ha)return this.g.count.value+=1,this;var h=li,d=Object,v=d.create,x=Object.getPrototypeOf(this),D=this.g;return h=h(v.call(d,x,{g:{value:{count:D.count,ea:D.ea,ha:D.ha,o:D.o,u:D.u,F:D.F,J:D.J}}})),h.g.count.value+=1,h.g.ea=!1,h},delete(){if(this.g.o||Yi(this),this.g.ea&&!this.g.ha)throw new mt("Object already scheduled for deletion");Ei(this);var h=this.g;--h.count.value,h.count.value===0&&(h.F?h.J.O(h.F):h.u.i.O(h.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||Yi(this),this.g.ea&&!this.g.ha)throw new mt("Object already scheduled for deletion");return Di.push(this),Di.length===1&&ir&&ir(bi),this.g.ea=!0,this}}),Object.assign(Si.prototype,{Rb(h){return this.qb&&(h=this.qb(h)),h},ab(h){this.O?.(h)},argPackAdvance:8,readValueFromPointer:_r,fromWireType:function(h){function d(){return this.sa?jr(this.i.M,{u:this.hc,o:v,J:this,F:h}):jr(this.i.M,{u:this,o:h})}var v=this.Rb(h);if(!v)return this.ab(h),null;var x=oi(this.i,v);if(x!==void 0)return x.g.count.value===0?(x.g.o=v,x.g.F=h,x.clone()):(x=x.clone(),this.ab(h),x);if(x=this.i.Qb(v),x=Fa[x],!x)return d.call(this);x=this.ra?x.Hb:x.pointerType;var D=si(v,this.i,x.i);return D===null?d.call(this):this.sa?jr(x.i.M,{u:x,o:D,J:this,F:h}):jr(x.i.M,{u:x,o:D})}}),re=z.UnboundTypeError=Ia("UnboundTypeError");var iu={__syscall_fcntl64:function(h,d,v){ri=v;try{var x=Dr(h);switch(d){case 0:var D=C();if(0>D)break;for(;Bn[D];)D++;return Gr(x,D).W;case 1:case 2:return 0;case 3:return x.flags;case 4:return D=C(),x.flags|=D,0;case 12:return D=C(),oe[D+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(F){if(typeof bn>"u"||F.name!=="ErrnoError")throw F;return-F.$}},__syscall_ioctl:function(h,d,v){ri=v;try{var x=Dr(h);switch(d){case 21509:return x.s?0:-59;case 21505:if(!x.s)return-59;if(x.s.V.Xb){h=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var D=C();Ae[D>>2]=25856,Ae[D+4>>2]=5,Ae[D+8>>2]=191,Ae[D+12>>2]=35387;for(var F=0;32>F;F++)xe[D+F+17]=h[F]||0}return 0;case 21510:case 21511:case 21512:return x.s?0:-59;case 21506:case 21507:case 21508:if(!x.s)return-59;if(x.s.V.Yb)for(D=C(),h=[],F=0;32>F;F++)h.push(xe[D+F+17]);return 0;case 21519:return x.s?(D=C(),Ae[D>>2]=0):-59;case 21520:return x.s?-28:-59;case 21531:if(D=C(),!x.m.Wb)throw new Xe(59);return x.m.Wb(x,d,D);case 21523:return x.s?(x.s.V.Zb&&(F=[24,80],D=C(),oe[D>>1]=F[0],oe[D+2>>1]=F[1]),0):-59;case 21524:return x.s?0:-59;case 21515:return x.s?0:-59;default:return-28}}catch(Z){if(typeof bn>"u"||Z.name!=="ErrnoError")throw Z;return-Z.$}},__syscall_openat:function(h,d,v,x){ri=x;try{d=d?Pe(j,d):"";var D=d;if(D.charAt(0)==="/")d=D;else{var F=h===-100?"/":Dr(h).path;if(D.length==0)throw new Xe(44);d=_(F+"/"+D)}var Z=x?C():0;return vr(d,v,Z).W}catch(ee){if(typeof bn>"u"||ee.name!=="ErrnoError")throw ee;return-ee.$}},_abort_js:()=>{Wt("")},_embind_create_inheriting_constructor:(h,d,v)=>{h=cn(h),d=ca(d,"wrapper"),v=fr(v);var x=d.i,D=x.M,F=x.C.M,Z=x.C.constructor;return h=ii(h,function(...ee){x.C.pb.forEach((function(fe){if(this[fe]===F[fe])throw new is(`Pure virtual function ${fe} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:D}),this.__construct(...ee)}),D.__construct=function(...ee){if(this===D)throw new mt("Pass correct 'this' to __construct");ee=Z.implement(this,...ee),Ei(ee);var fe=ee.g;if(ee.notifyOnDestruction(),fe.ha=!0,Object.defineProperties(this,{g:{value:fe}}),li(this),ee=fe.o,ee=Na(x,ee),ai.hasOwnProperty(ee))throw new mt(`Tried to register registered instance: ${ee}`);ai[ee]=this},D.__destruct=function(){if(this===D)throw new mt("Pass correct 'this' to __destruct");Ei(this);var ee=this.g.o;if(ee=Na(x,ee),ai.hasOwnProperty(ee))delete ai[ee];else throw new mt(`Tried to unregister unregistered instance: ${ee}`)},h.prototype=Object.create(D),Object.assign(h.prototype,v),Ln(h)},_embind_finalize_value_object:h=>{var d=Gi[h];delete Gi[h];var v=d.Na,x=d.O,D=d.eb,F=D.map(Z=>Z.Ub).concat(D.map(Z=>Z.kc));Mt([h],F,Z=>{var ee={};return D.forEach((fe,ue)=>{var Ve=Z[ue],Je=fe.Sb,at=fe.Tb,ne=Z[ue+D.length],Be=fe.jc,nt=fe.lc;ee[fe.Ob]={read:qe=>Ve.fromWireType(Je(at,qe)),write:(qe,dn)=>{var Ze=[];Be(nt,qe,ne.toWireType(Ze,dn)),Xr(Ze)}}}),[{name:d.name,fromWireType:fe=>{var ue={},Ve;for(Ve in ee)ue[Ve]=ee[Ve].read(fe);return x(fe),ue},toWireType:(fe,ue)=>{for(var Ve in ee)if(!(Ve in ue))throw new TypeError(`Missing field: "${Ve}"`);var Je=v();for(Ve in ee)ee[Ve].write(Je,ue[Ve]);return fe!==null&&fe.push(x,Je),Je},argPackAdvance:8,readValueFromPointer:_r,L:x}]})},_embind_register_bigint:()=>{},_embind_register_bool:(h,d,v,x)=>{d=cn(d),Cr(h,{name:d,fromWireType:function(D){return!!D},toWireType:function(D,F){return F?v:x},argPackAdvance:8,readValueFromPointer:function(D){return this.fromWireType(j[D])},L:null})},_embind_register_class:(h,d,v,x,D,F,Z,ee,fe,ue,Ve,Je,at)=>{Ve=cn(Ve),F=Y(D,F),ee&&=Y(Z,ee),ue&&=Y(fe,ue),at=Y(Je,at);var ne=Ai(Ve);Ti(ne,function(){_e(`Cannot construct ${Ve} due to unbound types`,[x])}),Mt([h,d,v],x?[x]:[],Be=>{if(Be=Be[0],x)var nt=Be.i,qe=nt.M;else qe=Xi.prototype;Be=ii(Ve,function(...wn){if(Object.getPrototypeOf(this)!==dn)throw new mt("Use 'new' to construct "+Ve);if(Ze.Z===void 0)throw new mt(Ve+" has no accessible constructor");var dr=Ze.Z[wn.length];if(dr===void 0)throw new mt(`Tried to invoke ctor of ${Ve} with invalid number of parameters (${wn.length}) - expected (${Object.keys(Ze.Z).toString()}) parameters instead!`);return dr.apply(this,wn)});var dn=Object.create(qe,{constructor:{value:Be}});Be.prototype=dn;var Ze=new hr(Ve,Be,dn,at,nt,F,ee,ue);if(Ze.C){var Ut;(Ut=Ze.C).na??(Ut.na=[]),Ze.C.na.push(Ze)}return nt=new Si(Ve,Ze,!0,!1,!1),Ut=new Si(Ve+"*",Ze,!1,!1,!1),qe=new Si(Ve+" const*",Ze,!1,!0,!1),Fa[h]={pointerType:Ut,Hb:qe},ui(ne,Be),[nt,Ut,qe]})},_embind_register_class_class_function:(h,d,v,x,D,F,Z)=>{var ee=Fe(v,x);d=cn(d),d=Ge(d),F=Y(D,F),Mt([],[h],fe=>{function ue(){_e(`Cannot call ${Ve} due to unbound types`,ee)}fe=fe[0];var Ve=`${fe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Je=fe.i.constructor;return Je[d]===void 0?(ue.da=v-1,Je[d]=ue):(Wi(Je,d,Ve),Je[d].A[v-1]=ue),Mt([],ee,at=>{if(at=be(Ve,[at[0],null].concat(at.slice(1)),null,F,Z),Je[d].A===void 0?(at.da=v-1,Je[d]=at):Je[d].A[v-1]=at,fe.i.na)for(const ne of fe.i.na)ne.constructor.hasOwnProperty(d)||(ne.constructor[d]=at);return[]}),[]})},_embind_register_class_class_property:(h,d,v,x,D,F,Z,ee)=>{d=cn(d),F=Y(D,F),Mt([],[h],fe=>{fe=fe[0];var ue=`${fe.name}.${d}`,Ve={get(){_e(`Cannot access ${ue} due to unbound types`,[v])},enumerable:!0,configurable:!0};return Ve.set=ee?()=>{_e(`Cannot access ${ue} due to unbound types`,[v])}:()=>{throw new mt(`${ue} is a read-only property`)},Object.defineProperty(fe.i.constructor,d,Ve),Mt([],[v],Je=>{Je=Je[0];var at={get(){return Je.fromWireType(F(x))},enumerable:!0};return ee&&(ee=Y(Z,ee),at.set=ne=>{var Be=[];ee(x,Je.toWireType(Be,ne)),Xr(Be)}),Object.defineProperty(fe.i.constructor,d,at),[]}),[]})},_embind_register_class_constructor:(h,d,v,x,D,F)=>{var Z=Fe(d,v);D=Y(x,D),Mt([],[h],ee=>{ee=ee[0];var fe=`constructor ${ee.name}`;if(ee.i.Z===void 0&&(ee.i.Z=[]),ee.i.Z[d-1]!==void 0)throw new mt(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${ee.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ee.i.Z[d-1]=()=>{_e(`Cannot construct ${ee.name} due to unbound types`,Z)},Mt([],Z,ue=>(ue.splice(1,0,null),ee.i.Z[d-1]=be(fe,ue,null,D,F),[])),[]})},_embind_register_class_function:(h,d,v,x,D,F,Z,ee)=>{var fe=Fe(v,x);d=cn(d),d=Ge(d),F=Y(D,F),Mt([],[h],ue=>{function Ve(){_e(`Cannot call ${Je} due to unbound types`,fe)}ue=ue[0];var Je=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),ee&&ue.i.pb.push(d);var at=ue.i.M,ne=at[d];return ne===void 0||ne.A===void 0&&ne.className!==ue.name&&ne.da===v-2?(Ve.da=v-2,Ve.className=ue.name,at[d]=Ve):(Wi(at,d,Je),at[d].A[v-2]=Ve),Mt([],fe,Be=>(Be=be(Je,Be,ue,F,Z),at[d].A===void 0?(Be.da=v-2,at[d]=Be):at[d].A[v-2]=Be,[])),[]})},_embind_register_class_property:(h,d,v,x,D,F,Z,ee,fe,ue)=>{d=cn(d),D=Y(x,D),Mt([],[h],Ve=>{Ve=Ve[0];var Je=`${Ve.name}.${d}`,at={get(){_e(`Cannot access ${Je} due to unbound types`,[v,Z])},enumerable:!0,configurable:!0};return at.set=fe?()=>_e(`Cannot access ${Je} due to unbound types`,[v,Z]):()=>{throw new mt(Je+" is a read-only property")},Object.defineProperty(Ve.i.M,d,at),Mt([],fe?[v,Z]:[v],ne=>{var Be=ne[0],nt={get(){var dn=ke(this,Ve,Je+" getter");return Be.fromWireType(D(F,dn))},enumerable:!0};if(fe){fe=Y(ee,fe);var qe=ne[1];nt.set=function(dn){var Ze=ke(this,Ve,Je+" setter"),Ut=[];fe(ue,Ze,qe.toWireType(Ut,dn)),Xr(Ut)}}return Object.defineProperty(Ve.i.M,d,nt),[]}),[]})},_embind_register_emval:h=>Cr(h,Ye),_embind_register_enum:(h,d,v,x)=>{function D(){}d=cn(d),D.values={},Cr(h,{name:d,constructor:D,fromWireType:function(F){return this.constructor.values[F]},toWireType:(F,Z)=>Z.value,argPackAdvance:8,readValueFromPointer:lt(d,v,x),L:null}),Ti(d,D)},_embind_register_enum_value:(h,d,v)=>{var x=ca(h,"enum");d=cn(d),h=x.constructor,x=Object.create(x.constructor.prototype,{value:{value:v},constructor:{value:ii(`${x.name}_${d}`,function(){})}}),h.values[v]=x,h[d]=x},_embind_register_float:(h,d,v)=>{d=cn(d),Cr(h,{name:d,fromWireType:x=>x,toWireType:(x,D)=>D,argPackAdvance:8,readValueFromPointer:or(d,v),L:null})},_embind_register_function:(h,d,v,x,D,F)=>{var Z=Fe(d,v);h=cn(h),h=Ge(h),D=Y(x,D),Ti(h,function(){_e(`Cannot call ${h} due to unbound types`,Z)},d-1),Mt([],Z,ee=>(ui(h,be(h,[ee[0],null].concat(ee.slice(1)),null,D,F),d-1),[]))},_embind_register_integer:(h,d,v,x,D)=>{if(d=cn(d),D===-1&&(D=4294967295),D=ee=>ee,x===0){var F=32-8*v;D=ee=>ee<<F>>>F}var Z=d.includes("unsigned")?function(ee,fe){return fe>>>0}:function(ee,fe){return fe};Cr(h,{name:d,fromWireType:D,toWireType:Z,argPackAdvance:8,readValueFromPointer:Fn(d,v,x!==0),L:null})},_embind_register_memory_view:(h,d,v)=>{function x(F){return new D(xe.buffer,Ie[F+4>>2],Ie[F>>2])}var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];v=cn(v),Cr(h,{name:v,fromWireType:x,argPackAdvance:8,readValueFromPointer:x},{Vb:!0})},_embind_register_std_string:(h,d)=>{d=cn(d);var v=d==="std::string";Cr(h,{name:d,fromWireType:function(x){var D=Ie[x>>2],F=x+4;if(v)for(var Z=F,ee=0;ee<=D;++ee){var fe=F+ee;if(ee==D||j[fe]==0){if(Z=Z?Pe(j,Z,fe-Z):"",ue===void 0)var ue=Z;else ue+="\0",ue+=Z;Z=fe+1}}else{for(ue=Array(D),ee=0;ee<D;++ee)ue[ee]=String.fromCharCode(j[F+ee]);ue=ue.join("")}return Ci(x),ue},toWireType:function(x,D){D instanceof ArrayBuffer&&(D=new Uint8Array(D));var F=typeof D=="string";if(!(F||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array))throw new mt("Cannot pass non-string to std::string");var Z=v&&F?Ft(D):D.length,ee=cs(4+Z+1),fe=ee+4;if(Ie[ee>>2]=Z,v&&F)kn(D,j,fe,Z+1);else if(F)for(F=0;F<Z;++F){var ue=D.charCodeAt(F);if(255<ue)throw Ci(fe),new mt("String has UTF-16 code units that do not fit in 8 bits");j[fe+F]=ue}else for(F=0;F<Z;++F)j[fe+F]=D[F];return x!==null&&x.push(Ci,ee),ee},argPackAdvance:8,readValueFromPointer:_r,L(x){Ci(x)}})},_embind_register_std_wstring:(h,d,v)=>{if(v=cn(v),d===2)var x=Ki,D=Da,F=u,Z=ee=>Ne[ee>>1];else d===4&&(x=y,D=A,F=k,Z=ee=>Ie[ee>>2]);Cr(h,{name:v,fromWireType:ee=>{for(var fe=Ie[ee>>2],ue,Ve=ee+4,Je=0;Je<=fe;++Je){var at=ee+4+Je*d;(Je==fe||Z(at)==0)&&(Ve=x(Ve,at-Ve),ue===void 0?ue=Ve:(ue+="\0",ue+=Ve),Ve=at+d)}return Ci(ee),ue},toWireType:(ee,fe)=>{if(typeof fe!="string")throw new mt(`Cannot pass non-string to C++ string type ${v}`);var ue=F(fe),Ve=cs(4+ue+d);return Ie[Ve>>2]=ue/d,D(fe,Ve+4,ue+d),ee!==null&&ee.push(Ci,Ve),Ve},argPackAdvance:8,readValueFromPointer:_r,L(ee){Ci(ee)}})},_embind_register_value_object:(h,d,v,x,D,F)=>{Gi[h]={name:cn(d),Na:Y(v,x),O:Y(D,F),eb:[]}},_embind_register_value_object_field:(h,d,v,x,D,F,Z,ee,fe,ue)=>{Gi[h].eb.push({Ob:cn(d),Ub:v,Sb:Y(x,D),Tb:F,kc:Z,jc:Y(ee,fe),lc:ue})},_embind_register_void:(h,d)=>{d=cn(d),Cr(h,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(h,d,v)=>j.copyWithin(h,d,d+v),_emval_as:(h,d,v)=>(h=fr(h),d=ca(d,"emval::as"),se(d,v,h)),_emval_call_method:(h,d,v,x,D)=>(h=xt[h],d=fr(d),v=ze(v),h(d,d[v],x,D)),_emval_decref:ut,_emval_get_method_caller:(h,d,v)=>{var x=fn(h,d),D=x.shift();h--;var F=Array(h);return d=`methodCaller<(${x.map(Z=>Z.name).join(", ")}) => ${D.name}>`,tr(ii(d,(Z,ee,fe,ue)=>{for(var Ve=0,Je=0;Je<h;++Je)F[Je]=x[Je].readValueFromPointer(ue+Ve),Ve+=x[Je].argPackAdvance;return Z=v===1?Hn(ee,F):ee.apply(Z,F),se(D,fe,Z)}))},_emval_get_module_property:h=>(h=ze(h),Ln(z[h])),_emval_get_property:(h,d)=>(h=fr(h),d=fr(d),Ln(h[d])),_emval_incref:h=>{9<h&&(rr[h+1]+=1)},_emval_new_array:()=>Ln([]),_emval_new_cstring:h=>Ln(ze(h)),_emval_new_object:()=>Ln({}),_emval_run_destructors:h=>{var d=fr(h);Xr(d),ut(h)},_emval_set_property:(h,d,v)=>{h=fr(h),d=fr(d),v=fr(v),h[d]=v},_emval_take_value:(h,d)=>(h=ca(h,"_emval_take_value"),h=h.readValueFromPointer(d),Ln(h)),emscripten_asm_const_int:(h,d,v)=>{ci.length=0;for(var x;x=j[d++];){var D=x!=105;D&=x!=112,v+=D&&v%8?4:0,ci.push(x==112?Ie[v>>2]:x==105?Ae[v>>2]:dt[v>>3]),v+=D?8:4}return _n[h](...ci)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:h=>{var d=j.length;if(h>>>=0,2147483648<h)return!1;for(var v=1;4>=v;v*=2){var x=d*(1+.2/v);x=Math.min(x,h+100663296);var D=Math;x=Math.max(h,x);e:{D=(D.min.call(D,2147483648,x+(65536-x%65536)%65536)-me.buffer.byteLength+65535)/65536;try{me.grow(D),Rt();var F=1;break e}catch{}F=void 0}if(F)return!0}return!1},environ_get:(h,d)=>{var v=0;return Li().forEach((x,D)=>{var F=d+v;for(D=Ie[h+4*D>>2]=F,F=0;F<x.length;++F)xe[D++]=x.charCodeAt(F);xe[D]=0,v+=x.length+1}),0},environ_sizes_get:(h,d)=>{var v=Li();Ie[h>>2]=v.length;var x=0;return v.forEach(D=>x+=D.length+1),Ie[d>>2]=x,0},fd_close:function(h){try{var d=Dr(h);if(d.W===null)throw new Xe(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(v){throw v}finally{Bn[d.W]=null}return d.W=null,0}catch(v){if(typeof bn>"u"||v.name!=="ErrnoError")throw v;return v.$}},fd_read:function(h,d,v,x){try{e:{var D=Dr(h);h=d;for(var F,Z=d=0;Z<v;Z++){var ee=Ie[h>>2],fe=Ie[h+4>>2];h+=8;var ue=D,Ve=F,Je=xe;if(0>fe||0>Ve)throw new Xe(28);if(ue.W===null)throw new Xe(8);if((ue.flags&2097155)===1)throw new Xe(8);if((ue.node.mode&61440)===16384)throw new Xe(31);if(!ue.m.read)throw new Xe(28);var at=typeof Ve<"u";if(!at)Ve=ue.position;else if(!ue.seekable)throw new Xe(70);var ne=ue.m.read(ue,Je,ee,fe,Ve);at||(ue.position+=ne);var Be=ne;if(0>Be){var nt=-1;break e}if(d+=Be,Be<fe)break;typeof F<"u"&&(F+=Be)}nt=d}return Ie[x>>2]=nt,0}catch(qe){if(typeof bn>"u"||qe.name!=="ErrnoError")throw qe;return qe.$}},fd_seek:function(h,d,v,x,D){d=v+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*v:NaN;try{if(isNaN(d))return 61;var F=Dr(h);return la(F,d,x),bt=[F.position>>>0,(vn=F.position,1<=+Math.abs(vn)?0<vn?+Math.floor(vn/4294967296)>>>0:~~+Math.ceil((vn-+(~~vn>>>0))/4294967296)>>>0:0)],Ae[D>>2]=bt[0],Ae[D+4>>2]=bt[1],F.Ka&&d===0&&x===0&&(F.Ka=null),0}catch(Z){if(typeof bn>"u"||Z.name!=="ErrnoError")throw Z;return Z.$}},fd_write:function(h,d,v,x){try{e:{var D=Dr(h);h=d;for(var F,Z=d=0;Z<v;Z++){var ee=Ie[h>>2],fe=Ie[h+4>>2];h+=8;var ue=D,Ve=ee,Je=fe,at=F,ne=xe;if(0>Je||0>at)throw new Xe(28);if(ue.W===null)throw new Xe(8);if((ue.flags&2097155)===0)throw new Xe(8);if((ue.node.mode&61440)===16384)throw new Xe(31);if(!ue.m.write)throw new Xe(28);ue.seekable&&ue.flags&1024&&la(ue,0,2);var Be=typeof at<"u";if(!Be)at=ue.position;else if(!ue.seekable)throw new Xe(70);var nt=ue.m.write(ue,ne,Ve,Je,at,void 0);Be||(ue.position+=nt);var qe=nt;if(0>qe){var dn=-1;break e}d+=qe,typeof F<"u"&&(F+=qe)}dn=d}return Ie[x>>2]=dn,0}catch(Ze){if(typeof bn>"u"||Ze.name!=="ErrnoError")throw Ze;return Ze.$}},isWindowsBrowser:function(){return-1<navigator.platform.indexOf("Win")},strftime_l:(h,d,v,x)=>Rh(h,d,v,x)},Yn=(function(){function h(v){return Yn=v.exports,me=Yn.memory,Rt(),ha=Yn.__indirect_function_table,Lt.unshift(Yn.__wasm_call_ctors),It--,z.monitorRunDependencies?.(It),It==0&&Xt&&(v=Xt,Xt=null,v()),Yn}var d={env:iu,wasi_snapshot_preview1:iu};if(It++,z.monitorRunDependencies?.(It),z.instantiateWasm)try{return z.instantiateWasm(d,h)}catch(v){B(`Module.instantiateWasm callback failed with error: ${v}`),we(v)}return Qt||=Kn("canvas_advanced.wasm")?"canvas_advanced.wasm":z.locateFile?z.locateFile("canvas_advanced.wasm",P):P+"canvas_advanced.wasm",vt(d,function(v){h(v.instance)}).catch(we),{}})(),Ci=h=>(Ci=Yn.free)(h),cs=h=>(cs=Yn.malloc)(h),Tc=h=>(Tc=Yn.__getTypeName)(h),Mo=z._ma_device__on_notification_unlocked=h=>(Mo=z._ma_device__on_notification_unlocked=Yn.ma_device__on_notification_unlocked)(h);z._ma_malloc_emscripten=(h,d)=>(z._ma_malloc_emscripten=Yn.ma_malloc_emscripten)(h,d),z._ma_free_emscripten=(h,d)=>(z._ma_free_emscripten=Yn.ma_free_emscripten)(h,d);var au=z._ma_device_process_pcm_frames_capture__webaudio=(h,d,v)=>(au=z._ma_device_process_pcm_frames_capture__webaudio=Yn.ma_device_process_pcm_frames_capture__webaudio)(h,d,v),su=z._ma_device_process_pcm_frames_playback__webaudio=(h,d,v)=>(su=z._ma_device_process_pcm_frames_playback__webaudio=Yn.ma_device_process_pcm_frames_playback__webaudio)(h,d,v);z.dynCall_iiji=(h,d,v,x,D)=>(z.dynCall_iiji=Yn.dynCall_iiji)(h,d,v,x,D),z.dynCall_jiji=(h,d,v,x,D)=>(z.dynCall_jiji=Yn.dynCall_jiji)(h,d,v,x,D),z.dynCall_iiiji=(h,d,v,x,D,F)=>(z.dynCall_iiiji=Yn.dynCall_iiiji)(h,d,v,x,D,F),z.dynCall_iij=(h,d,v,x)=>(z.dynCall_iij=Yn.dynCall_iij)(h,d,v,x),z.dynCall_jii=(h,d,v)=>(z.dynCall_jii=Yn.dynCall_jii)(h,d,v),z.dynCall_viijii=(h,d,v,x,D,F,Z)=>(z.dynCall_viijii=Yn.dynCall_viijii)(h,d,v,x,D,F,Z),z.dynCall_iiiiij=(h,d,v,x,D,F,Z)=>(z.dynCall_iiiiij=Yn.dynCall_iiiiij)(h,d,v,x,D,F,Z),z.dynCall_iiiiijj=(h,d,v,x,D,F,Z,ee,fe)=>(z.dynCall_iiiiijj=Yn.dynCall_iiiiijj)(h,d,v,x,D,F,Z,ee,fe),z.dynCall_iiiiiijj=(h,d,v,x,D,F,Z,ee,fe,ue)=>(z.dynCall_iiiiiijj=Yn.dynCall_iiiiiijj)(h,d,v,x,D,F,Z,ee,fe,ue);var Us;Xt=function h(){Us||nl(),Us||(Xt=h)};function nl(){function h(){if(!Us&&(Us=!0,z.calledRun=!0,!he)){if(z.noFSInit||Ra||(Ra=!0,z.stdin=z.stdin,z.stdout=z.stdout,z.stderr=z.stderr,z.stdin?Ni("stdin",z.stdin):Vr("/dev/tty","/dev/stdin"),z.stdout?Ni("stdout",null,z.stdout):Vr("/dev/tty","/dev/stdout"),z.stderr?Ni("stderr",null,z.stderr):Vr("/dev/tty1","/dev/stderr"),vr("/dev/stdin",0),vr("/dev/stdout",1),vr("/dev/stderr",1)),aa=!1,ln(Lt),De(z),z.onRuntimeInitialized&&z.onRuntimeInitialized(),z.postRun)for(typeof z.postRun=="function"&&(z.postRun=[z.postRun]);z.postRun.length;){var d=z.postRun.shift();Bt.unshift(d)}ln(Bt)}}if(!(0<It)){if(z.preRun)for(typeof z.preRun=="function"&&(z.preRun=[z.preRun]);z.preRun.length;)ft();ln(ot),0<It||(z.setStatus?(z.setStatus("Running..."),setTimeout(function(){setTimeout(function(){z.setStatus("")},1),h()},1)):h())}}if(z.preInit)for(typeof z.preInit=="function"&&(z.preInit=[z.preInit]);0<z.preInit.length;)z.preInit.pop()();return nl(),te=Le,te})})();const I=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.33.1","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function I(O,G,te,z){this.animation=O,this.artboard=G,this.playing=z,this.loopCount=0,this.scrubTo=null,this.instance=new te.LinearAnimationInstance(O,G)}return Object.defineProperty(I.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"time",{get:function(){return this.instance.time},set:function(O){this.instance.time=O},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),I.prototype.advance=function(O){this.scrubTo===null?this.instance.advance(O):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},I.prototype.apply=function(O){this.instance.apply(O)},I.prototype.cleanup=function(){this.instance.delete()},I})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>O.AudioAssetWrapper,AudioWrapper:()=>O.AudioWrapper,BLANK_URL:()=>I.BLANK_URL,CustomFileAssetLoaderWrapper:()=>O.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>O.FileAssetWrapper,FileFinalizer:()=>O.FileFinalizer,FontAssetWrapper:()=>O.FontAssetWrapper,FontWrapper:()=>O.FontWrapper,ImageAssetWrapper:()=>O.ImageAssetWrapper,ImageWrapper:()=>O.ImageWrapper,createFinalization:()=>O.createFinalization,finalizationRegistry:()=>O.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>I.sanitizeUrl});var E=w(6),I=w(7),O=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>O});var E=void 0,I=function(G,te,z){var De,we,Le=[];if(["touchstart","touchmove"].indexOf(G.type)>-1&&(!((De=G.changedTouches)===null||De===void 0)&&De.length)){te||G.preventDefault();for(var U=0,je=z?G.changedTouches.length:1;U<je;){var tt=G.changedTouches[U];Le.push({clientX:tt.clientX,clientY:tt.clientY,identifier:tt.identifier}),U++}}else if(G.type==="touchend"&&(!((we=G.changedTouches)===null||we===void 0)&&we.length))for(var U=0,je=z?G.changedTouches.length:1;U<je;){var tt=G.changedTouches[U];Le.push({clientX:tt.clientX,clientY:tt.clientY,identifier:tt.identifier}),U++}else Le.push({clientX:G.clientX,clientY:G.clientY,identifier:0});return Le},O=function(G){var te=G.canvas,z=G.artboard,De=G.stateMachines,we=De===void 0?[]:De,Le=G.renderer,U=G.rive,je=G.fit,tt=G.alignment,ct=G.isTouchScrollEnabled,it=ct===void 0?!1:ct,X=G.dispatchPointerExit,H=X===void 0?!0:X,L=G.enableMultiTouch,q=L===void 0?!1:L,R=G.layoutScaleFactor,P=R===void 0?1:R;if(!te||!we.length||!Le||!U||!z||typeof window>"u")return null;var N=null,Q=!1,ae=function($){if(Q&&$ instanceof MouseEvent){$.type=="mouseup"&&(Q=!1);return}Q=it&&$.type==="touchend"&&N==="touchstart",N=$.type;var me=$.currentTarget.getBoundingClientRect(),he=I($,it,q),xe=U.computeAlignment(je,tt,{minX:0,minY:0,maxX:me.width,maxY:me.height},z.bounds,P),j=new U.Mat2D;switch(xe.invert(j),he.forEach(function(Qt){var Ke=Qt.clientX,St=Qt.clientY;if(!(!Ke&&!St)){var an=Ke-me.left,vt=St-me.top,vn=new U.Vec2D(an,vt),bt=U.mapXY(j,vn),_n=bt.x(),ln=bt.y();Qt.transformedX=_n,Qt.transformedY=ln,bt.delete(),vn.delete()}}),j.delete(),xe.delete(),$.type){case"mouseout":for(var oe=function(Qt){H?he.forEach(function(Ke){Qt.pointerExit(Ke.transformedX,Ke.transformedY,Ke.identifier)}):he.forEach(function(Ke){Qt.pointerMove(Ke.transformedX,Ke.transformedY,Ke.identifier)})},Ne=0,Ae=we;Ne<Ae.length;Ne++){var Ie=Ae[Ne];oe(Ie)}break;case"touchmove":case"mouseover":case"mousemove":{for(var $e=function(Qt){he.forEach(function(Ke){Qt.pointerMove(Ke.transformedX,Ke.transformedY,Ke.identifier)})},dt=0,Rt=we;dt<Rt.length;dt++){var Ie=Rt[dt];$e(Ie)}break}case"touchstart":case"mousedown":{for(var ot=function(Qt){he.forEach(function(Ke){Qt.pointerDown(Ke.transformedX,Ke.transformedY,Ke.identifier)})},Lt=0,Bt=we;Lt<Bt.length;Lt++){var Ie=Bt[Lt];ot(Ie)}break}case"touchend":{for(var ft=function(Qt){he.forEach(function(Ke){Qt.pointerUp(Ke.transformedX,Ke.transformedY,Ke.identifier),Qt.pointerExit(Ke.transformedX,Ke.transformedY,Ke.identifier)})},It=0,Xt=we;It<Xt.length;It++){var Ie=Xt[It];ft(Ie)}break}case"mouseup":{for(var Wt=function(Qt){he.forEach(function(Ke){Qt.pointerUp(Ke.transformedX,Ke.transformedY,Ke.identifier)})},Kn=0,Mr=we;Kn<Mr.length;Kn++){var Ie=Mr[Kn];Wt(Ie)}break}}},B=ae.bind(E);return te.addEventListener("mouseover",B),te.addEventListener("mouseout",B),te.addEventListener("mousemove",B),te.addEventListener("mousedown",B),te.addEventListener("mouseup",B),te.addEventListener("touchmove",B,{passive:it}),te.addEventListener("touchstart",B,{passive:it}),te.addEventListener("touchend",B),function(){te.removeEventListener("mouseover",B),te.removeEventListener("mouseout",B),te.removeEventListener("mousemove",B),te.removeEventListener("mousedown",B),te.removeEventListener("mouseup",B),te.removeEventListener("touchmove",B),te.removeEventListener("touchstart",B),te.removeEventListener("touchend",B)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>De,sanitizeUrl:()=>U});var E=/^([^\w]*)(javascript|data|vbscript)/im,I=/&#(\w+)(^\w|;)?/g,O=/&(newline|tab);/gi,G=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,te=/^.+(:|&colon;)/gim,z=[".","/"],De="about:blank";function we(je){return z.indexOf(je[0])>-1}function Le(je){var tt=je.replace(G,"");return tt.replace(I,function(ct,it){return String.fromCharCode(it)})}function U(je){if(!je)return De;var tt=Le(je).replace(O,"").replace(G,"").trim();if(!tt)return De;if(we(tt))return tt;var ct=tt.match(te);if(!ct)return tt;var it=ct[0];return E.test(it)?De:tt}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>je,AudioWrapper:()=>z,CustomFileAssetLoaderWrapper:()=>we,FileAssetWrapper:()=>Le,FileFinalizer:()=>I,FontAssetWrapper:()=>tt,FontWrapper:()=>De,ImageAssetWrapper:()=>U,ImageWrapper:()=>te,createFinalization:()=>H,finalizationRegistry:()=>X});var E=(function(){var L=function(q,R){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,N){P.__proto__=N}||function(P,N){for(var Q in N)Object.prototype.hasOwnProperty.call(N,Q)&&(P[Q]=N[Q])},L(q,R)};return function(q,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");L(q,R);function P(){this.constructor=q}q.prototype=R===null?Object.create(R):(P.prototype=R.prototype,new P)}})(),I=(function(){function L(q){this.selfUnref=!1,this._file=q}return L.prototype.unref=function(){this._file&&this._file.unref()},L})(),O=(function(){function L(q){this._finalizableObject=q}return L.prototype.unref=function(){this._finalizableObject.unref()},L})(),G=(function(){function L(){this.selfUnref=!1}return L.prototype.unref=function(){},L})(),te=(function(L){E(q,L);function q(R){var P=L.call(this)||this;return P._nativeImage=R,P}return Object.defineProperty(q.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),q.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},q})(G),z=(function(L){E(q,L);function q(R){var P=L.call(this)||this;return P._nativeAudio=R,P}return Object.defineProperty(q.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),q.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},q})(G),De=(function(L){E(q,L);function q(R){var P=L.call(this)||this;return P._nativeFont=R,P}return Object.defineProperty(q.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),q.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},q})(G),we=(function(){function L(q,R){this._assetLoaderCallback=R,this.assetLoader=new q.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return L.prototype.loadContents=function(q,R){var P;return q.isImage?P=new U(q):q.isAudio?P=new je(q):q.isFont&&(P=new tt(q)),this._assetLoaderCallback(P,R)},L})(),Le=(function(){function L(q){this._nativeFileAsset=q}return L.prototype.decode=function(q){this._nativeFileAsset.decode(q)},Object.defineProperty(L.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),L})(),U=(function(L){E(q,L);function q(){return L!==null&&L.apply(this,arguments)||this}return q.prototype.setRenderImage=function(R){this._nativeFileAsset.setRenderImage(R.nativeImage)},q})(Le),je=(function(L){E(q,L);function q(){return L!==null&&L.apply(this,arguments)||this}return q.prototype.setAudioSource=function(R){this._nativeFileAsset.setAudioSource(R.nativeAudio)},q})(Le),tt=(function(L){E(q,L);function q(){return L!==null&&L.apply(this,arguments)||this}return q.prototype.setFont=function(R){this._nativeFileAsset.setFont(R.nativeFont)},q})(Le),ct=(function(){function L(q){}return L.prototype.register=function(q){q.selfUnref=!0},L.prototype.unregister=function(q){},L})(),it=typeof FinalizationRegistry<"u"?FinalizationRegistry:ct,X=new it(function(L){L?.unref()}),H=function(L,q){var R=new O(q);X.register(L,R)}})],a={};function l(p){var b=a[p];if(b!==void 0)return b.exports;var w=a[p]={exports:{}};return r[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>U,DataEnum:()=>Rt,DrawOptimizationOptions:()=>je,EventType:()=>Q,Fit:()=>Le,Layout:()=>tt,LoopType:()=>ae,Rive:()=>$e,RiveEventType:()=>H,RiveFile:()=>Ie,RuntimeLoader:()=>ct,StateMachineInput:()=>X,StateMachineInputType:()=>it,Testing:()=>vn,ViewModel:()=>dt,ViewModelInstance:()=>Lt,ViewModelInstanceArtboard:()=>St,ViewModelInstanceAssetImage:()=>Ke,ViewModelInstanceBoolean:()=>Xt,ViewModelInstanceColor:()=>Qt,ViewModelInstanceEnum:()=>Kn,ViewModelInstanceList:()=>Mr,ViewModelInstanceNumber:()=>It,ViewModelInstanceString:()=>ft,ViewModelInstanceTrigger:()=>Wt,ViewModelInstanceValue:()=>Bt,decodeAudio:()=>bt,decodeFont:()=>ln,decodeImage:()=>_n});var p=l(1),b=l(2),w=l(3),E=l(5),I=(function(){var C=function(g,_){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,J){V.__proto__=J}||function(V,J){for(var ge in J)Object.prototype.hasOwnProperty.call(J,ge)&&(V[ge]=J[ge])},C(g,_)};return function(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");C(g,_);function V(){this.constructor=g}g.prototype=_===null?Object.create(_):(V.prototype=_.prototype,new V)}})(),O=function(){return O=Object.assign||function(C){for(var g,_=1,V=arguments.length;_<V;_++){g=arguments[_];for(var J in g)Object.prototype.hasOwnProperty.call(g,J)&&(C[J]=g[J])}return C},O.apply(this,arguments)},G=function(C,g,_,V){function J(ge){return ge instanceof _?ge:new _(function(Se){Se(ge)})}return new(_||(_=Promise))(function(ge,Se){function He(Tt){try{Pe(V.next(Tt))}catch(Ft){Se(Ft)}}function We(Tt){try{Pe(V.throw(Tt))}catch(Ft){Se(Ft)}}function Pe(Tt){Tt.done?ge(Tt.value):J(Tt.value).then(He,We)}Pe((V=V.apply(C,g||[])).next())})},te=function(C,g){var _={label:0,sent:function(){if(ge[0]&1)throw ge[1];return ge[1]},trys:[],ops:[]},V,J,ge,Se=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Se.next=He(0),Se.throw=He(1),Se.return=He(2),typeof Symbol=="function"&&(Se[Symbol.iterator]=function(){return this}),Se;function He(Pe){return function(Tt){return We([Pe,Tt])}}function We(Pe){if(V)throw new TypeError("Generator is already executing.");for(;Se&&(Se=0,Pe[0]&&(_=0)),_;)try{if(V=1,J&&(ge=Pe[0]&2?J.return:Pe[0]?J.throw||((ge=J.return)&&ge.call(J),0):J.next)&&!(ge=ge.call(J,Pe[1])).done)return ge;switch(J=0,ge&&(Pe=[Pe[0]&2,ge.value]),Pe[0]){case 0:case 1:ge=Pe;break;case 4:return _.label++,{value:Pe[1],done:!1};case 5:_.label++,J=Pe[1],Pe=[0];continue;case 7:Pe=_.ops.pop(),_.trys.pop();continue;default:if(ge=_.trys,!(ge=ge.length>0&&ge[ge.length-1])&&(Pe[0]===6||Pe[0]===2)){_=0;continue}if(Pe[0]===3&&(!ge||Pe[1]>ge[0]&&Pe[1]<ge[3])){_.label=Pe[1];break}if(Pe[0]===6&&_.label<ge[1]){_.label=ge[1],ge=Pe;break}if(ge&&_.label<ge[2]){_.label=ge[2],_.ops.push(Pe);break}ge[2]&&_.ops.pop(),_.trys.pop();continue}Pe=g.call(C,_)}catch(Tt){Pe=[6,Tt],J=0}finally{V=ge=0}if(Pe[0]&5)throw Pe[1];return{value:Pe[0]?Pe[1]:void 0,done:!0}}},z=function(C,g,_){if(_||arguments.length===2)for(var V=0,J=g.length,ge;V<J;V++)(ge||!(V in g))&&(ge||(ge=Array.prototype.slice.call(g,0,V)),ge[V]=g[V]);return C.concat(ge||Array.prototype.slice.call(g))},De=(function(C){I(g,C);function g(){var _=C!==null&&C.apply(this,arguments)||this;return _.isHandledError=!0,_}return g})(Error),we=function(C){return C&&C.isHandledError?C.message:"Problem loading file; may be corrupt!"},Le;(function(C){C.Cover="cover",C.Contain="contain",C.Fill="fill",C.FitWidth="fitWidth",C.FitHeight="fitHeight",C.None="none",C.ScaleDown="scaleDown",C.Layout="layout"})(Le||(Le={}));var U;(function(C){C.Center="center",C.TopLeft="topLeft",C.TopCenter="topCenter",C.TopRight="topRight",C.CenterLeft="centerLeft",C.CenterRight="centerRight",C.BottomLeft="bottomLeft",C.BottomCenter="bottomCenter",C.BottomRight="bottomRight"})(U||(U={}));var je;(function(C){C.AlwaysDraw="alwaysDraw",C.DrawOnChanged="drawOnChanged"})(je||(je={}));var tt=(function(){function C(g){var _,V,J,ge,Se,He,We;this.fit=(_=g?.fit)!==null&&_!==void 0?_:Le.Contain,this.alignment=(V=g?.alignment)!==null&&V!==void 0?V:U.Center,this.layoutScaleFactor=(J=g?.layoutScaleFactor)!==null&&J!==void 0?J:1,this.minX=(ge=g?.minX)!==null&&ge!==void 0?ge:0,this.minY=(Se=g?.minY)!==null&&Se!==void 0?Se:0,this.maxX=(He=g?.maxX)!==null&&He!==void 0?He:0,this.maxY=(We=g?.maxY)!==null&&We!==void 0?We:0}return C.new=function(g){var _=g.fit,V=g.alignment,J=g.minX,ge=g.minY,Se=g.maxX,He=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new C({fit:_,alignment:V,minX:J,minY:ge,maxX:Se,maxY:He})},C.prototype.copyWith=function(g){var _=g.fit,V=g.alignment,J=g.layoutScaleFactor,ge=g.minX,Se=g.minY,He=g.maxX,We=g.maxY;return new C({fit:_??this.fit,alignment:V??this.alignment,layoutScaleFactor:J??this.layoutScaleFactor,minX:ge??this.minX,minY:Se??this.minY,maxX:He??this.maxX,maxY:We??this.maxY})},C.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var _;return this.fit===Le.Cover?_=g.Fit.cover:this.fit===Le.Contain?_=g.Fit.contain:this.fit===Le.Fill?_=g.Fit.fill:this.fit===Le.FitWidth?_=g.Fit.fitWidth:this.fit===Le.FitHeight?_=g.Fit.fitHeight:this.fit===Le.ScaleDown?_=g.Fit.scaleDown:this.fit===Le.Layout?_=g.Fit.layout:_=g.Fit.none,this.cachedRuntimeFit=_,_},C.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var _;return this.alignment===U.TopLeft?_=g.Alignment.topLeft:this.alignment===U.TopCenter?_=g.Alignment.topCenter:this.alignment===U.TopRight?_=g.Alignment.topRight:this.alignment===U.CenterLeft?_=g.Alignment.centerLeft:this.alignment===U.CenterRight?_=g.Alignment.centerRight:this.alignment===U.BottomLeft?_=g.Alignment.bottomLeft:this.alignment===U.BottomCenter?_=g.Alignment.bottomCenter:this.alignment===U.BottomRight?_=g.Alignment.bottomRight:_=g.Alignment.center,this.cachedRuntimeAlignment=_,_},C})(),ct=(function(){function C(){}return C.loadRuntime=function(){p.default({locateFile:function(){return C.wasmURL}}).then(function(g){var _;for(C.runtime=g;C.callBackQueue.length>0;)(_=C.callBackQueue.shift())===null||_===void 0||_(C.runtime)}).catch(function(g){var _={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",_);var V="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(C.wasmURL.toLowerCase()!==V)console.warn("Failed to load WASM from ".concat(C.wasmURL," (").concat(_.message,"), trying jsdelivr as a backup")),C.setWasmUrl(V),C.loadRuntime();else{var J=["Could not load Rive WASM file from ".concat(C.wasmURL," or ").concat(V,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(_.type),"- Message: ".concat(_.message),"- WebAssembly-specific error: ".concat(_.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(J)}})},C.getInstance=function(g){C.isLoading||(C.isLoading=!0,C.loadRuntime()),C.runtime?g(C.runtime):C.callBackQueue.push(g)},C.awaitInstance=function(){return new Promise(function(g){return C.getInstance(function(_){return g(_)})})},C.setWasmUrl=function(g){C.wasmURL=g},C.getWasmUrl=function(){return C.wasmURL},C.isLoading=!1,C.callBackQueue=[],C.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),C})(),it;(function(C){C[C.Number=56]="Number",C[C.Trigger=58]="Trigger",C[C.Boolean=59]="Boolean"})(it||(it={}));var X=(function(){function C(g,_){this.type=g,this.runtimeInput=_}return Object.defineProperty(C.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),C.prototype.fire=function(){this.type===it.Trigger&&this.runtimeInput.fire()},C.prototype.delete=function(){this.runtimeInput=null},C})(),H;(function(C){C[C.General=128]="General",C[C.OpenUrl=131]="OpenUrl"})(H||(H={}));var L=(function(){function C(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return C})(),q=(function(C){I(g,C);function g(_,V){var J=C.call(this,!1)||this;return J.nativeArtboard=_,J.file=V,J}return g})(L),R=(function(C){I(g,C);function g(_){var V=C.call(this,!0)||this;return V.selfUnref=!1,V.nativeArtboard=_,V}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(L),P=(function(){function C(g,_,V,J){this.stateMachine=g,this.playing=V,this.artboard=J,this.inputs=[],this.instance=new _.StateMachineInstance(g,J),this.initInputs(_)}return Object.defineProperty(C.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statesChanged",{get:function(){for(var g=[],_=0;_<this.instance.stateChangedCount();_++)g.push(this.instance.stateChangedNameByIndex(_));return g},enumerable:!1,configurable:!0}),C.prototype.advance=function(g){this.instance.advance(g)},C.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},C.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},C.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},C.prototype.initInputs=function(g){for(var _=0;_<this.instance.inputCount();_++){var V=this.instance.input(_);this.inputs.push(this.mapRuntimeInput(V,g))}},C.prototype.mapRuntimeInput=function(g,_){if(g.type===_.SMIInput.bool)return new X(it.Boolean,g.asBool());if(g.type===_.SMIInput.number)return new X(it.Number,g.asNumber());if(g.type===_.SMIInput.trigger)return new X(it.Trigger,g.asTrigger())},C.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},C.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},C})(),N=(function(){function C(g,_,V,J,ge){J===void 0&&(J=[]),ge===void 0&&(ge=[]),this.runtime=g,this.artboard=_,this.eventManager=V,this.animations=J,this.stateMachines=ge}return C.prototype.add=function(g,_,V){if(V===void 0&&(V=!0),g=vt(g),g.length===0)this.animations.forEach(function(jt){return jt.playing=_}),this.stateMachines.forEach(function(jt){return jt.playing=_});else for(var J=this.animations.map(function(jt){return jt.name}),ge=this.stateMachines.map(function(jt){return jt.name}),Se=0;Se<g.length;Se++){var He=J.indexOf(g[Se]),We=ge.indexOf(g[Se]);if(He>=0||We>=0)He>=0?this.animations[He].playing=_:this.stateMachines[We].playing=_;else{var Pe=this.artboard.animationByName(g[Se]);if(Pe){var Tt=new w.Animation(Pe,this.artboard,this.runtime,_);Tt.advance(0),Tt.apply(1),this.animations.push(Tt)}else{var Ft=this.artboard.stateMachineByName(g[Se]);if(Ft){var kn=new P(Ft,this.runtime,_,this.artboard);this.stateMachines.push(kn)}}}}return V&&(_?this.eventManager.fire({type:Q.Play,data:this.playing}):this.eventManager.fire({type:Q.Pause,data:this.paused})),_?this.playing:this.paused},C.prototype.initLinearAnimations=function(g,_){for(var V=this.animations.map(function(We){return We.name}),J=0;J<g.length;J++){var ge=V.indexOf(g[J]);if(ge>=0)this.animations[ge].playing=_;else{var Se=this.artboard.animationByName(g[J]);if(Se){var He=new w.Animation(Se,this.artboard,this.runtime,_);He.advance(0),He.apply(1),this.animations.push(He)}else console.error("Animation with name ".concat(g[J]," not found."))}}},C.prototype.initStateMachines=function(g,_){for(var V=this.stateMachines.map(function(We){return We.name}),J=0;J<g.length;J++){var ge=V.indexOf(g[J]);if(ge>=0)this.stateMachines[ge].playing=_;else{var Se=this.artboard.stateMachineByName(g[J]);if(Se){var He=new P(Se,this.runtime,_,this.artboard);this.stateMachines.push(He)}else console.warn("State Machine with name ".concat(g[J]," not found.")),this.initLinearAnimations([g[J]],_)}}},C.prototype.play=function(g){return this.add(g,!0)},C.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},C.prototype.pause=function(g){return this.add(g,!1)},C.prototype.scrub=function(g,_){var V=this.animations.filter(function(J){return g.includes(J.name)});return V.forEach(function(J){return J.scrubTo=_}),V.map(function(J){return J.name})},Object.defineProperty(C.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),C.prototype.stop=function(g){var _=this;g=vt(g);var V=[];if(g.length===0)V=this.animations.map(function(Se){return Se.name}).concat(this.stateMachines.map(function(Se){return Se.name})),this.animations.forEach(function(Se){return Se.cleanup()}),this.stateMachines.forEach(function(Se){return Se.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var J=this.animations.filter(function(Se){return g.includes(Se.name)});J.forEach(function(Se){Se.cleanup(),_.animations.splice(_.animations.indexOf(Se),1)});var ge=this.stateMachines.filter(function(Se){return g.includes(Se.name)});ge.forEach(function(Se){Se.cleanup(),_.stateMachines.splice(_.stateMachines.indexOf(Se),1)}),V=J.map(function(Se){return Se.name}).concat(ge.map(function(Se){return Se.name}))}return this.eventManager.fire({type:Q.Stop,data:V}),V},Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,_){return g||_.playing},!1)||this.stateMachines.reduce(function(g,_){return g||_.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),C.prototype.atLeastOne=function(g,_){_===void 0&&(_=!0);var V;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([V=this.artboard.animationByIndex(0).name],g,_):this.artboard.stateMachineCount()>0&&this.add([V=this.artboard.stateMachineByIndex(0).name],g,_)),V},C.prototype.handleLooping=function(){for(var g=0,_=this.animations.filter(function(J){return J.playing});g<_.length;g++){var V=_[g];V.loopValue===0&&V.loopCount?(V.loopCount=0,this.stop(V.name)):V.loopValue===1&&V.loopCount?(this.eventManager.fire({type:Q.Loop,data:{animation:V.name,type:ae.Loop}}),V.loopCount=0):V.loopValue===2&&V.loopCount>1&&(this.eventManager.fire({type:Q.Loop,data:{animation:V.name,type:ae.PingPong}}),V.loopCount=0)}},C.prototype.handleStateChanges=function(){for(var g=[],_=0,V=this.stateMachines.filter(function(ge){return ge.playing});_<V.length;_++){var J=V[_];g.push.apply(g,J.statesChanged)}g.length>0&&this.eventManager.fire({type:Q.StateChange,data:g})},C.prototype.handleAdvancing=function(g){this.eventManager.fire({type:Q.Advance,data:g})},C})(),Q;(function(C){C.Load="load",C.LoadError="loaderror",C.Play="play",C.Pause="pause",C.Stop="stop",C.Loop="loop",C.Draw="draw",C.Advance="advance",C.StateChange="statechange",C.RiveEvent="riveevent",C.AudioStatusChange="audiostatuschange"})(Q||(Q={}));var ae;(function(C){C.OneShot="oneshot",C.Loop="loop",C.PingPong="pingpong"})(ae||(ae={}));var B=(function(){function C(g){g===void 0&&(g=[]),this.listeners=g}return C.prototype.getListeners=function(g){return this.listeners.filter(function(_){return _.type===g})},C.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},C.prototype.remove=function(g){for(var _=0;_<this.listeners.length;_++){var V=this.listeners[_];if(V.type===g.type&&V.callback===g.callback){this.listeners.splice(_,1);break}}},C.prototype.removeAll=function(g){var _=this;g?this.listeners.filter(function(V){return V.type===g}).forEach(function(V){return _.remove(V)}):this.listeners.splice(0,this.listeners.length)},C.prototype.fire=function(g){var _=this.getListeners(g.type);_.forEach(function(V){return V.callback(g)})},C})(),$=(function(){function C(g){this.eventManager=g,this.queue=[]}return C.prototype.add=function(g){this.queue.push(g)},C.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},C})(),me;(function(C){C[C.AVAILABLE=0]="AVAILABLE",C[C.UNAVAILABLE=1]="UNAVAILABLE"})(me||(me={}));var he=(function(C){I(g,C);function g(){var _=C!==null&&C.apply(this,arguments)||this;return _._started=!1,_._enabled=!1,_._status=me.UNAVAILABLE,_}return g.prototype.delay=function(_){return G(this,void 0,void 0,function(){return te(this,function(V){return[2,new Promise(function(J){return setTimeout(J,_)})]})})},g.prototype.timeout=function(){return G(this,void 0,void 0,function(){return te(this,function(_){return[2,new Promise(function(V,J){return setTimeout(J,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:Q.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return G(this,void 0,void 0,function(){return te(this,function(_){return this._enabled||(this._enabled=!0,this._status=me.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return G(this,void 0,void 0,function(){return te(this,function(_){switch(_.label){case 0:if(!(this._status===me.UNAVAILABLE&&this._audioContext!==null))return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return _.sent(),this.enableAudio(),[3,4];case 3:return _.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return G(this,void 0,void 0,function(){return te(this,function(_){switch(_.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),_.label=2;case 2:return this._status!==me.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return _.sent(),[4,this.delay(1e3)];case 4:return _.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var _=this,V=function(){return G(_,void 0,void 0,function(){return te(this,function(J){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",V,{once:!0})},g.prototype.establishAudio=function(){return G(this,void 0,void 0,function(){return te(this,function(_){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===me.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(B),xe=new he,j=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),oe=globalThis.ResizeObserver||j,Ne=(function(){function C(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(_){var V=g._elementsMap.get(_.target);V!==null?V.onResize(_.target.clientWidth==0||_.target.clientHeight==0):g._resizeObserver.unobserve(_.target)},this._onObserved=function(_){_.forEach(g._onObservedEntry)},this._resizeObserver=new oe(this._onObserved)}return C.prototype.add=function(g,_){var V={onResize:_,element:g};return this._elementsMap.set(g,V),this._resizeObserver.observe(g),V},C.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},C})(),Ae=new Ne,Ie=(function(){function C(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new B,g.onLoad&&this.on(Q.Load,g.onLoad),g.onLoadError&&this.on(Q.LoadError,g.onLoadError)}return C.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},C.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},C.prototype.initData=function(){return G(this,void 0,void 0,function(){var g,_,V,J,ge;return te(this,function(Se){switch(Se.label){case 0:return this.src?(g=this,[4,an(this.src)]):[3,2];case 1:g.buffer=Se.sent(),Se.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(V=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),_=V.assetLoader),J=this,[4,this.runtime.load(new Uint8Array(this.buffer),_,this.enableRiveAssetCDN)]);case 3:return J.file=Se.sent(),ge=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,ge),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:Q.Load,data:this}):this.fireLoadError(C.fileLoadErrorMessage),[2])}})})},C.prototype.init=function(){return G(this,void 0,void 0,function(){var g,_;return te(this,function(V){switch(V.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(C.missingErrorMessage),[2];V.label=1;case 1:return V.trys.push([1,4,,5]),g=this,[4,ct.awaitInstance()];case 2:return g.runtime=V.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return V.sent(),[3,5];case 4:return _=V.sent(),this.fireLoadError(_ instanceof Error?_.message:C.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},C.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:Q.LoadError,data:g}),new Error(g)},C.prototype.on=function(g,_){this.eventManager.add({type:g,callback:_})},C.prototype.off=function(g,_){this.eventManager.remove({type:g,callback:_})},C.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},C.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},C.prototype.createBindableArtboard=function(g){if(g!=null){var _=new R(g);return(0,E.createFinalization)(_,_.nativeArtboard),this.bindableArtboards.push(_),_}return null},C.prototype.getArtboard=function(g){var _=this.file.artboardByName(g);if(_!=null)return new q(_,this)},C.prototype.getBindableArtboard=function(g){var _=this.file.bindableArtboardByName(g);return this.createBindableArtboard(_)},C.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},C.prototype.internalBindableArtboardFromArtboard=function(g){var _=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(_)},C.missingErrorMessage="Rive source file or data buffer required",C.fileLoadErrorMessage="The file failed to load",C})(),$e=(function(){function C(g){var _=this,V,J;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.drawOptimization=je.DrawOnChanged,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(ge){var Se=_._hasZeroSize!==ge;_._hasZeroSize=ge,ge?(!_._layout.maxX||!_._layout.maxY)&&_.resizeToCanvas():Se&&_.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Ae.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(V=g.layout)!==null&&V!==void 0?V:new tt,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.drawOptimization=(J=g.drawingOptions)!==null&&J!==void 0?J:this.drawOptimization,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new B,g.onLoad&&this.on(Q.Load,g.onLoad),g.onLoadError&&this.on(Q.LoadError,g.onLoadError),g.onPlay&&this.on(Q.Play,g.onPlay),g.onPause&&this.on(Q.Pause,g.onPause),g.onStop&&this.on(Q.Stop,g.onStop),g.onLoop&&this.on(Q.Loop,g.onLoop),g.onStateChange&&this.on(Q.StateChange,g.onStateChange),g.onAdvance&&this.on(Q.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(Q.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(Q.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(Q.Play,g.onplay),g.onpause&&!g.onPause&&this.on(Q.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(Q.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(Q.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(Q.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new $(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(C.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),C.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new C(g)},C.prototype.onSystemAudioChanged=function(){this.volume=this._volume},C.prototype.init=function(g){var _=this,V=g.src,J=g.buffer,ge=g.riveFile,Se=g.animations,He=g.stateMachines,We=g.artboard,Pe=g.autoplay,Tt=Pe===void 0?!1:Pe,Ft=g.useOffscreenRenderer,kn=Ft===void 0?!1:Ft,jt=g.autoBind,Un=jt===void 0?!1:jt;if(!this.destroyed){if(this.src=V,this.buffer=J,this.riveFile=ge,!this.src&&!this.buffer&&!this.riveFile)throw new De(C.missingErrorMessage);var nn=vt(Se),An=vt(He);this.loaded=!1,this.readyForPlaying=!1,ct.awaitInstance().then(function(zn){_.destroyed||(_.runtime=zn,_.removeRiveListeners(),_.deleteRiveRenderer(),_.renderer=_.runtime.makeRenderer(_.canvas,kn),_.canvas.width||_.canvas.height||_.resizeDrawingSurfaceToCanvas(),_.initData(We,nn,An,Tt,Un).then(function(Vn){if(Vn)return _.setupRiveListeners()}).catch(function(Vn){console.error(Vn)}))}).catch(function(zn){console.error(zn)})}},C.prototype.setupRiveListeners=function(g){var _=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var V=(this.animator.stateMachines||[]).filter(function(He){return He.playing&&_.runtime.hasListeners(He.instance)}).map(function(He){return He.instance}),J=this.isTouchScrollEnabled,ge=this.dispatchPointerExit,Se=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(J=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:V,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:J,dispatchPointerExit:ge,enableMultiTouch:Se,layoutScaleFactor:this._layout.layoutScaleFactor})}},C.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},C.prototype.initializeAudio=function(){var g=this,_;xe.status==me.UNAVAILABLE&&!((_=this.artboard)===null||_===void 0)&&_.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:Q.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},xe.add(this._audioEventListener),xe.establishAudio())},C.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},C.prototype.initData=function(g,_,V,J,ge){return G(this,void 0,void 0,function(){var Se,He,We,Pe;return te(this,function(Tt){switch(Tt.label){case 0:return Tt.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Se=new Ie({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Se,[4,Se.init()]);case 1:if(Tt.sent(),this.destroyed)return Se.destroyIfUnused(),[2,!1];Tt.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,_,V,J,ge),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:Q.Load,data:(Pe=this.src)!==null&&Pe!==void 0?Pe:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return He=Tt.sent(),We=we(He),console.warn(We),this.eventManager.fire({type:Q.LoadError,data:We}),[2,Promise.reject(We)];case 4:return[2]}})})},C.prototype.initArtboard=function(g,_,V,J,ge){if(this.file){var Se=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Se){var He="Invalid artboard name or no default artboard";console.warn(He),this.eventManager.fire({type:Q.LoadError,data:He});return}this.artboard=Se,Se.volume=this._volume*xe.systemVolume,this.animator=new N(this.runtime,this.artboard,this.eventManager);var We;if(_.length>0||V.length>0?(We=_.concat(V),this.animator.initLinearAnimations(_,J),this.animator.initStateMachines(V,J)):We=[this.animator.atLeastOne(J,!1)],this.taskQueue.add({event:{type:J?Q.Play:Q.Pause,data:We}}),ge){var Pe=this.file.defaultArtboardViewModel(Se);if(Pe!==null){var Tt=Pe.defaultInstance();if(Tt!==null){var Ft=new Lt(Tt,null);(0,E.createFinalization)(Ft,Ft.runtimeInstance),this.bindViewModelInstance(Ft)}}}}},C.prototype.drawFrame=function(){var g,_;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(_=this.runtime)===null||_===void 0||_.resolveAnimationFrame()):this.scheduleRendering()},C.prototype.draw=function(g,_){var V;this.frameRequestId=null;var J=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,_?.());var ge=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Se=this.animator.animations.filter(function(Bn){return Bn.playing||Bn.needsScrub}).sort(function(Bn){return Bn.needsScrub?-1:1}),He=0,We=Se;He<We.length;He++){var Pe=We[He];Pe.advance(ge),Pe.instance.didLoop&&(Pe.loopCount+=1),Pe.apply(1)}for(var Tt=this.animator.stateMachines.filter(function(Bn){return Bn.playing}),Ft=0,kn=Tt;Ft<kn.length;Ft++){var jt=kn[Ft],Un=jt.reportedEventCount();if(Un)for(var nn=0;nn<Un;nn++){var An=jt.reportedEventAt(nn);if(An)if(An.type===H.OpenUrl){if(this.eventManager.fire({type:Q.RiveEvent,data:An}),this.automaticallyHandleEvents){var zn=document.createElement("a"),Vn=An,qr=Vn.url,_t=Vn.target,Gn=(0,E.sanitizeUrl)(qr);qr&&zn.setAttribute("href",Gn),_t&&zn.setAttribute("target",_t),Gn&&Gn!==E.BLANK_URL&&zn.click()}}else this.eventManager.fire({type:Q.RiveEvent,data:An})}jt.advanceAndApply(ge)}this.animator.stateMachines.length==0&&this.artboard.advance(ge);var $n=this.renderer;this._hasZeroSize||(this.drawOptimization==je.AlwaysDraw||this.artboard.didChange())&&($n.clear(),$n.save(),this.alignRenderer(),this.artboard.draw($n),$n.restore(),$n.flush()),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(ge),this.frameCount++;var kt=performance.now();for(this.frameTimes.push(kt),this.durations.push(kt-J);this.frameTimes[0]<=kt-1e3;)this.frameTimes.shift(),this.durations.shift();(V=this._viewModelInstance)===null||V===void 0||V.handleCallbacks(),this.animator.isPlaying?this.scheduleRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},C.prototype.alignRenderer=function(){var g=this,_=g.renderer,V=g.runtime,J=g._layout,ge=g.artboard;_.align(J.runtimeFit(V),J.runtimeAlignment(V),{minX:J.minX,minY:J.minY,maxX:J.maxX,maxY:J.maxY},ge.bounds,this._devicePixelRatioUsed*J.layoutScaleFactor)},Object.defineProperty(C.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,_){return g+_},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),C.prototype.cleanup=function(){var g,_;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ae.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(xe.remove(this._audioEventListener),this._audioEventListener=null),(_=this._viewModelInstance)===null||_===void 0||_.cleanup(),this._viewModelInstance=null,this._dataEnums=null},C.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},C.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},C.prototype.retrieveTextRun=function(g){var _;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var V=this.artboard.textRun(g);if(!V){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((_=this.artboard)===null||_===void 0?void 0:_.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return V},C.prototype.getTextRunValue=function(g){var _=this.retrieveTextRun(g);return _?_.text:void 0},C.prototype.setTextRunValue=function(g,_){var V=this.retrieveTextRun(g);V&&(V.text=_)},C.prototype.play=function(g,_){var V=this;if(g=vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return V.play(g,_)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},C.prototype.pause=function(g){var _=this;if(g=vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return _.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},C.prototype.scrub=function(g,_){var V=this;if(g=vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return V.scrub(g,_)}});return}this.animator.scrub(g,_||0),this.drawFrame()},C.prototype.stop=function(g){var _=this;if(g=vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return _.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},C.prototype.reset=function(g){var _,V,J=g?.artboard,ge=vt(g?.animations),Se=vt(g?.stateMachines),He=(_=g?.autoplay)!==null&&_!==void 0?_:!1,We=(V=g?.autoBind)!==null&&V!==void 0?V:!1;this.cleanupInstances(),this.initArtboard(J,ge,Se,He,We),this.taskQueue.process()},C.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(C.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),C.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},C.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var _=this.canvas.getBoundingClientRect(),V=_.width,J=_.height,ge=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=ge,this.canvas.width=ge*V,this.canvas.height=ge*J,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Le.Layout){var Se=this._layout.layoutScaleFactor;this.artboard.width=V/Se,this.artboard.height=J/Se}}},Object.defineProperty(C.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],_=0;_<this.artboard.animationCount();_++)g.push(this.artboard.animationByIndex(_).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],_=0;_<this.artboard.stateMachineCount();_++)g.push(this.artboard.stateMachineByIndex(_).name);return g},enumerable:!1,configurable:!0}),C.prototype.stateMachineInputs=function(g){if(this.loaded){var _=this.animator.stateMachines.find(function(V){return V.name===g});return _?.inputs}},C.prototype.retrieveInputAtPath=function(g,_){if(!g){console.warn("No input name provided for path '".concat(_,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(_,"', but the Artboard is null"));return}var V=this.artboard.inputByPath(g,_);if(!V){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(_,"'"));return}return V},C.prototype.setBooleanStateAtPath=function(g,_,V){var J=this.retrieveInputAtPath(g,V);J&&(J.type===it.Boolean?J.asBool().value=_:console.warn("Input with name: '".concat(g,"', at path:'").concat(V,"' is not a boolean")))},C.prototype.setNumberStateAtPath=function(g,_,V){var J=this.retrieveInputAtPath(g,V);J&&(J.type===it.Number?J.asNumber().value=_:console.warn("Input with name: '".concat(g,"', at path:'").concat(V,"' is not a number")))},C.prototype.fireStateAtPath=function(g,_){var V=this.retrieveInputAtPath(g,_);V&&(V.type===it.Trigger?V.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(_,"' is not a trigger")))},C.prototype.retrieveTextAtPath=function(g,_){if(!g){console.warn("No text name provided for path '".concat(_,"'"));return}if(!_){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(_,"', but the Artboard is null"));return}var V=this.artboard.textByPath(g,_);if(!V){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(_,"'"));return}return V},C.prototype.getTextRunValueAtPath=function(g,_){var V=this.retrieveTextAtPath(g,_);if(!V){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(_,"'"));return}return V.text},C.prototype.setTextRunValueAtPath=function(g,_,V){var J=this.retrieveTextAtPath(g,V);if(!J){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(V,"'"));return}J.text=_},Object.defineProperty(C.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),C.prototype.on=function(g,_){this.eventManager.add({type:g,callback:_})},C.prototype.off=function(g,_){this.eventManager.remove({type:g,callback:_})},C.prototype.unsubscribe=function(g,_){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,_)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},C.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},C.prototype.startRendering=function(){this.drawFrame()},C.prototype.scheduleRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},C.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},C.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(C.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},_=0;_<this.file.artboardCount();_++){for(var V=this.file.artboardByIndex(_),J={name:V.name,animations:[],stateMachines:[]},ge=0;ge<V.animationCount();ge++){var Se=V.animationByIndex(ge);J.animations.push(Se.name)}for(var He=0;He<V.stateMachineCount();He++){for(var We=V.stateMachineByIndex(He),Pe=We.name,Tt=new this.runtime.StateMachineInstance(We,V),Ft=[],kn=0;kn<Tt.inputCount();kn++){var jt=Tt.input(kn);Ft.push({name:jt.name,type:jt.type})}J.stateMachines.push({name:Pe,inputs:Ft})}g.artboards.push(J)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*xe.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),C.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(C.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),C.prototype.bindViewModelInstance=function(g){var _;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(_=this._viewModelInstance)===null||_===void 0||_.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(V){return V.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(C.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),C.prototype.viewModelByIndex=function(g){var _=this.file.viewModelByIndex(g);return _!==null?new dt(_):null},C.prototype.viewModelByName=function(g){var _=this.file.viewModelByName(g);return _!==null?new dt(_):null},C.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(_){return new Rt(_)})}return this._dataEnums},C.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new dt(g)}return null},C.prototype.getArtboard=function(g){var _,V;return(V=(_=this.riveFile)===null||_===void 0?void 0:_.getArtboard(g))!==null&&V!==void 0?V:null},C.prototype.getBindableArtboard=function(g){var _,V;return(V=(_=this.riveFile)===null||_===void 0?void 0:_.getBindableArtboard(g))!==null&&V!==void 0?V:null},C.prototype.getDefaultBindableArtboard=function(){var g,_;return(_=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&_!==void 0?_:null},C.missingErrorMessage="Rive source file or data buffer required",C.cleanupErrorMessage="Attempt to use file after calling cleanup.",C})(),dt=(function(){function C(g){this._viewModel=g}return Object.defineProperty(C.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),C.prototype.instanceByIndex=function(g){var _=this._viewModel.instanceByIndex(g);if(_!==null){var V=new Lt(_,null);return(0,E.createFinalization)(V,_),V}return null},C.prototype.instanceByName=function(g){var _=this._viewModel.instanceByName(g);if(_!==null){var V=new Lt(_,null);return(0,E.createFinalization)(V,_),V}return null},C.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var _=new Lt(g,null);return(0,E.createFinalization)(_,g),_}return null},C.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var _=new Lt(g,null);return(0,E.createFinalization)(_,g),_}return null},Object.defineProperty(C.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),C})(),Rt=(function(){function C(g){this._dataEnum=g}return Object.defineProperty(C.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),C})(),ot;(function(C){C.Number="number",C.String="string",C.Boolean="boolean",C.Color="color",C.Trigger="trigger",C.Enum="enum",C.List="list",C.Image="image",C.Artboard="artboard"})(ot||(ot={}));var Lt=(function(){function C(g,_){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,_!==null&&this._parents.push(_)}return Object.defineProperty(C.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),C.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},C.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},C.prototype.removeParent=function(g){var _=this._parents.indexOf(g);if(_!==-1){var V=this._parents[_];V.removeFromViewModelCallbacks(this),this._parents.splice(_,1)}},C.prototype.addToPropertyCallbacks=function(g){var _=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(V){V.addToViewModelCallbacks(_)}))},C.prototype.removeFromPropertyCallbacks=function(g){var _=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(V){return V!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(V){V.removeFromViewModelCallbacks(_)}))},C.prototype.addToViewModelCallbacks=function(g){var _=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(V){V.addToViewModelCallbacks(_)}))},C.prototype.removeFromViewModelCallbacks=function(g){var _=this;this._children.includes(g)&&(this._children=this._children.filter(function(V){return V!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(V){V.removeFromViewModelCallbacks(_)}))},C.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},C.prototype.propertyFromPath=function(g,_){var V=g.split("/");return this.propertyFromPathSegments(V,0,_)},C.prototype.viewModelFromPathSegments=function(g,_){var V=this.internalViewModelInstance(g[_]);return V!==null?_==g.length-1?V:V.viewModelFromPathSegments(g,_++):null},C.prototype.propertyFromPathSegments=function(g,_,V){var J,ge,Se,He,We,Pe,Tt,Ft,kn,jt,Un,nn,An,zn,Vn,qr,_t,Gn;if(_<g.length-1){var $n=this.internalViewModelInstance(g[_]);return $n!==null?$n.propertyFromPathSegments(g,_+1,V):null}var kt=null;switch(V){case ot.Number:if(kt=(ge=(J=this._runtimeInstance)===null||J===void 0?void 0:J.number(g[_]))!==null&&ge!==void 0?ge:null,kt!==null)return new It(kt,this);break;case ot.String:if(kt=(He=(Se=this._runtimeInstance)===null||Se===void 0?void 0:Se.string(g[_]))!==null&&He!==void 0?He:null,kt!==null)return new ft(kt,this);break;case ot.Boolean:if(kt=(Pe=(We=this._runtimeInstance)===null||We===void 0?void 0:We.boolean(g[_]))!==null&&Pe!==void 0?Pe:null,kt!==null)return new Xt(kt,this);break;case ot.Color:if(kt=(Ft=(Tt=this._runtimeInstance)===null||Tt===void 0?void 0:Tt.color(g[_]))!==null&&Ft!==void 0?Ft:null,kt!==null)return new Qt(kt,this);break;case ot.Trigger:if(kt=(jt=(kn=this._runtimeInstance)===null||kn===void 0?void 0:kn.trigger(g[_]))!==null&&jt!==void 0?jt:null,kt!==null)return new Wt(kt,this);break;case ot.Enum:if(kt=(nn=(Un=this._runtimeInstance)===null||Un===void 0?void 0:Un.enum(g[_]))!==null&&nn!==void 0?nn:null,kt!==null)return new Kn(kt,this);break;case ot.List:if(kt=(zn=(An=this._runtimeInstance)===null||An===void 0?void 0:An.list(g[_]))!==null&&zn!==void 0?zn:null,kt!==null)return new Mr(kt,this);break;case ot.Image:if(kt=(qr=(Vn=this._runtimeInstance)===null||Vn===void 0?void 0:Vn.image(g[_]))!==null&&qr!==void 0?qr:null,kt!==null)return new Ke(kt,this);break;case ot.Artboard:if(kt=(Gn=(_t=this._runtimeInstance)===null||_t===void 0?void 0:_t.artboard(g[_]))!==null&&Gn!==void 0?Gn:null,kt!==null)return new St(kt,this);break}return null},C.prototype.internalViewModelInstance=function(g){var _;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var V=(_=this._runtimeInstance)===null||_===void 0?void 0:_.viewModel(g);if(V!==null){var J=new C(V,this);return(0,E.createFinalization)(J,V),J.internalIncrementReferenceCount(),this._viewModelInstances.set(g,J),J}return null},C.prototype.number=function(g){var _=this.propertyFromPath(g,ot.Number);return _},C.prototype.string=function(g){var _=this.propertyFromPath(g,ot.String);return _},C.prototype.boolean=function(g){var _=this.propertyFromPath(g,ot.Boolean);return _},C.prototype.color=function(g){var _=this.propertyFromPath(g,ot.Color);return _},C.prototype.trigger=function(g){var _=this.propertyFromPath(g,ot.Trigger);return _},C.prototype.enum=function(g){var _=this.propertyFromPath(g,ot.Enum);return _},C.prototype.list=function(g){var _=this.propertyFromPath(g,ot.List);return _},C.prototype.image=function(g){var _=this.propertyFromPath(g,ot.Image);return _},C.prototype.artboard=function(g){var _=this.propertyFromPath(g,ot.Artboard);return _},C.prototype.viewModel=function(g){var _=g.split("/"),V=_.length>1?this.viewModelFromPathSegments(_.slice(0,_.length-1),0):this;return V!=null?V.internalViewModelInstance(_[_.length-1]):null},C.prototype.internalReplaceViewModel=function(g,_){var V;if(_.runtimeInstance!==null){var J=((V=this._runtimeInstance)===null||V===void 0?void 0:V.replaceViewModel(g,_.runtimeInstance))||!1;if(J){_.internalIncrementReferenceCount();var ge=this.internalViewModelInstance(g);ge!==null&&(ge.removeParent(this),this._children.includes(ge)&&(this._children=this._children.filter(function(Se){return Se!==ge})),ge.cleanup()),this._viewModelInstances.set(g,_),_.addParent(this)}return J}return!1},C.prototype.replaceViewModel=function(g,_){var V,J=g.split("/"),ge=J.length>1?this.viewModelFromPathSegments(J.slice(0,J.length-1),0):this;return(V=ge?.internalReplaceViewModel(J[J.length-1],_))!==null&&V!==void 0?V:!1},C.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},C.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(C.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(_){return O({},_)}))||[]},enumerable:!1,configurable:!0}),C.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},C.prototype.cleanup=function(){var g=this,_;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((_=this._runtimeInstance)===null||_===void 0||_.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(ge){ge.cleanup()}),this._viewModelInstances.clear();var V=z([],this._children,!0);this._children.length=0;var J=z([],this._parents,!0);this._parents.length=0,V.forEach(function(ge){ge.removeParent(g)}),J.forEach(function(ge){ge.removeFromViewModelCallbacks(g)})}},C})(),Bt=(function(){function C(g,_){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=_}return C.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},C.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(_){return _!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},C.prototype.internalHandleCallback=function(g){},C.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(_){g.internalHandleCallback(_)})},C.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},C.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),C})(),ft=(function(C){I(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Bt),It=(function(C){I(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Bt),Xt=(function(C){I(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Bt),Wt=(function(C){I(g,C);function g(_,V){return C.call(this,_,V)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(_){_()},g})(Bt),Kn=(function(C){I(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(_){this._viewModelInstanceValue.valueIndex=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Bt),Mr=(function(C){I(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(_){_.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(_.runtimeInstance),_.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(_,V){return _.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(_.runtimeInstance,V)?(_.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(_){_.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(_.runtimeInstance),_.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(_){this._viewModelInstanceValue.removeInstanceAt(_)},g.prototype.instanceAt=function(_){var V=this._viewModelInstanceValue.instanceAt(_);if(V!=null){var J=new Lt(V,this._parentViewModel);return(0,E.createFinalization)(J,V),J}return null},g.prototype.swap=function(_,V){this._viewModelInstanceValue.swap(_,V)},g.prototype.internalHandleCallback=function(_){_()},g})(Bt),Qt=(function(C){I(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.rgb=function(_,V,J){this._viewModelInstanceValue.rgb(_,V,J)},g.prototype.rgba=function(_,V,J,ge){this._viewModelInstanceValue.argb(ge,_,V,J)},g.prototype.argb=function(_,V,J,ge){this._viewModelInstanceValue.argb(_,V,J,ge)},g.prototype.alpha=function(_){this._viewModelInstanceValue.alpha(_)},g.prototype.opacity=function(_){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,_))*255))},g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Bt),Ke=(function(C){I(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{set:function(_){var V;this._viewModelInstanceValue.value((V=_?.nativeImage)!==null&&V!==void 0?V:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_()},g})(Bt),St=(function(C){I(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{set:function(_){var V,J;_.isBindableArtboard?J=_:J=_.file.internalBindableArtboardFromArtboard(_.nativeArtboard),this._viewModelInstanceValue.value((V=J?.nativeArtboard)!==null&&V!==void 0?V:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_()},g})(Bt),an=function(C){return G(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(J){switch(J.label){case 0:return g=new Request(C),[4,fetch(g)];case 1:return _=J.sent(),[4,_.arrayBuffer()];case 2:return V=J.sent(),[2,V]}})})},vt=function(C){return typeof C=="string"?[C]:C instanceof Array?C:[]},vn={EventManager:B,TaskQueueManager:$},bt=function(C){return G(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(J){switch(J.label){case 0:return g=new Promise(function(ge){return ct.getInstance(function(Se){Se.decodeAudio(C,ge)})}),[4,g];case 1:return _=J.sent(),V=new E.AudioWrapper(_),E.finalizationRegistry.register(V,_),[2,V]}})})},_n=function(C){return G(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(J){switch(J.label){case 0:return g=new Promise(function(ge){return ct.getInstance(function(Se){Se.decodeImage(C,ge)})}),[4,g];case 1:return _=J.sent(),V=new E.ImageWrapper(_),E.finalizationRegistry.register(V,_),[2,V]}})})},ln=function(C){return G(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(J){switch(J.label){case 0:return g=new Promise(function(ge){return ct.getInstance(function(Se){Se.decodeFont(C,ge)})}),[4,g];case 1:return _=J.sent(),V=new E.FontWrapper(_),E.finalizationRegistry.register(V,_),[2,V]}})})}})(),c})())})(Nf)),Nf.exports}var N0;function rA(){return N0||(N0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=uh(),r=nA();function a(R){return R&&typeof R=="object"&&"default"in R?R:{default:R}}var l=a(e),c=function(){return c=Object.assign||function(R){for(var P,N=1,Q=arguments.length;N<Q;N++)for(var ae in P=arguments[N])Object.prototype.hasOwnProperty.call(P,ae)&&(R[ae]=P[ae]);return R},c.apply(this,arguments)};function p(R,P){var N={};for(var Q in R)Object.prototype.hasOwnProperty.call(R,Q)&&P.indexOf(Q)<0&&(N[Q]=R[Q]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function"){var ae=0;for(Q=Object.getOwnPropertySymbols(R);ae<Q.length;ae++)P.indexOf(Q[ae])<0&&Object.prototype.propertyIsEnumerable.call(R,Q[ae])&&(N[Q[ae]]=R[Q[ae]])}return N}function b(R,P,N,Q){return new(N||(N=Promise))(function(ae,B){function $(xe){try{he(Q.next(xe))}catch(j){B(j)}}function me(xe){try{he(Q.throw(xe))}catch(j){B(j)}}function he(xe){var j;xe.done?ae(xe.value):(j=xe.value,j instanceof N?j:new N(function(oe){oe(j)})).then($,me)}he((Q=Q.apply(R,[])).next())})}function w(R,P){var N,Q,ae,B,$={label:0,sent:function(){if(1&ae[0])throw ae[1];return ae[1]},trys:[],ops:[]};return B={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(B[Symbol.iterator]=function(){return this}),B;function me(he){return function(xe){return(function(j){if(N)throw new TypeError("Generator is already executing.");for(;$;)try{if(N=1,Q&&(ae=2&j[0]?Q.return:j[0]?Q.throw||((ae=Q.return)&&ae.call(Q),0):Q.next)&&!(ae=ae.call(Q,j[1])).done)return ae;switch(Q=0,ae&&(j=[2&j[0],ae.value]),j[0]){case 0:case 1:ae=j;break;case 4:return $.label++,{value:j[1],done:!1};case 5:$.label++,Q=j[1],j=[0];continue;case 7:j=$.ops.pop(),$.trys.pop();continue;default:if(ae=$.trys,!((ae=ae.length>0&&ae[ae.length-1])||j[0]!==6&&j[0]!==2)){$=0;continue}if(j[0]===3&&(!ae||j[1]>ae[0]&&j[1]<ae[3])){$.label=j[1];break}if(j[0]===6&&$.label<ae[1]){$.label=ae[1],ae=j;break}if(ae&&$.label<ae[2]){$.label=ae[2],$.ops.push(j);break}ae[2]&&$.ops.pop(),$.trys.pop();continue}j=P.call(R,$)}catch(oe){j=[6,oe],Q=0}finally{N=ae=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}})([he,xe])}}}function E(R){var P=R||I(),N=e.useState(P),Q=N[0],ae=N[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var B=function(){var me=R||I();ae(me)},$=window.matchMedia("screen and (resolution: ".concat(Q,"dppx)"));return $.hasOwnProperty("addEventListener")?$.addEventListener("change",B):$.addListener(B),function(){$.hasOwnProperty("removeEventListener")?$.removeEventListener("change",B):$.removeListener(B)}}},[Q,R]),Q}function I(){var R=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,R),3)}var O=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),G=globalThis.ResizeObserver||O,te=globalThis.ResizeObserver!==void 0,z=!te;function De(R,P){P===void 0&&(P=!0);var N=e.useState({width:0,height:0}),Q=N[0],ae=N[1];e.useEffect(function(){if(typeof window<"u"&&P){var xe=function(){ae({width:window.innerWidth,height:window.innerHeight})};return z&&(xe(),window.addEventListener("resize",xe)),function(){return window.removeEventListener("resize",xe)}}},[]);var B,$,me,he=e.useRef(new G((B=function(xe){te&&ae({width:xe[xe.length-1].contentRect.width,height:xe[xe.length-1].contentRect.height})},$=0,me=0,function(){for(var xe=this,j=[],oe=0;oe<arguments.length;oe++)j[oe]=arguments[oe];clearTimeout(me),me=window.setTimeout(function(){return B.apply(xe,j)},$)})));return e.useEffect(function(){var xe=he.current;if(P){var j=R.current;return R.current&&te&&xe.observe(R.current),function(){xe.disconnect(),j&&te&&xe.unobserve(j)}}xe.disconnect()},[R,he]),Q}var we={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Le(R){return Object.assign({},we,R)}function U(R){var P=R.riveLoaded,N=P!==void 0&&P,Q=R.canvasElem,ae=R.containerRef,B=R.options,$=B===void 0?{}:B,me=R.onCanvasHasResized,he=R.artboardBounds,xe=Le($),j=e.useState({height:0,width:0}),oe=j[0],Ne=oe.height,Ae=oe.width,Ie=j[1],$e=e.useState({height:0,width:0}),dt=$e[0],Rt=dt.height,ot=dt.width,Lt=$e[1],Bt=e.useState(!0),ft=Bt[0],It=Bt[1],Xt=xe.fitCanvasToArtboardHeight,Wt=xe.shouldResizeCanvasToContainer,Kn=xe.useDevicePixelRatio,Mr=xe.customDevicePixelRatio,Qt=De(ae,Wt),Ke=E(Mr),St=he??{},an=St.maxX,vt=St.maxY,vn=e.useCallback(function(){var bt,_n,ln,C,g=(_n=(bt=ae.current)===null||bt===void 0?void 0:bt.clientWidth)!==null&&_n!==void 0?_n:0,_=(C=(ln=ae.current)===null||ln===void 0?void 0:ln.clientHeight)!==null&&C!==void 0?C:0;return Xt&&he?{width:g,height:g*(he.maxY/he.maxX)}:{width:g,height:_}},[ae,Xt,an,vt]);e.useEffect(function(){if(Wt&&ae.current&&N){var bt=vn(),_n=bt.width,ln=bt.height,C=!1;if(Q){var g=_n!==Ae||ln!==Ne;if(xe.fitCanvasToArtboardHeight&&g&&(ae.current.style.height=ln+"px",C=!0),xe.useDevicePixelRatio){if(g||_n*Ke!==ot||ln*Ke!==Rt){var _=Ke*_n,V=Ke*ln;Q.width=_,Q.height=V,Q.style.width=_n+"px",Q.style.height=ln+"px",Lt({width:_,height:V}),C=!0}}else g&&(Q.width=_n,Q.height=ln,Lt({width:_n,height:ln}),C=!0);Ie({width:_n,height:ln})}me&&(ft||C)&&me&&me(),ft&&It(!1)}},[Q,ae,Qt,Ke,vn,ft,It,Rt,ot,Ne,Ae,me,Wt,Xt,Kn,N]),e.useEffect(function(){Lt({width:0,height:0})},[Q])}var je,tt=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),ct=globalThis.IntersectionObserver||tt,it=(function(){function R(){var P=this;this.elementsMap=new Map,this.onObserved=function(N){N.forEach(function(Q){var ae=P.elementsMap.get(Q.target);ae&&ae(Q)})},this.observer=new ct(this.onObserved)}return R.prototype.registerCallback=function(P,N){this.observer.observe(P),this.elementsMap.set(P,N)},R.prototype.removeCallback=function(P){this.observer.unobserve(P),this.elementsMap.delete(P)},R})(),X=function(){return je||(je=new it),je};function H(R){var P=R.setContainerRef,N=R.setCanvasRef,Q=R.className,ae=Q===void 0?"":Q,B=R.style,$=R.children,me=p(R,["setContainerRef","setCanvasRef","className","style","children"]),he=c({width:"100%",height:"100%"},B);return l.default.createElement("div",c({ref:P,className:ae},!ae&&{style:he}),l.default.createElement("canvas",c({ref:N,style:{verticalAlign:"top",width:0,height:0}},me),$))}function L(R,P){P===void 0&&(P={});var N=e.useState(null),Q=N[0],ae=N[1],B=e.useRef(null),$=e.useRef(null),me=e.useState(null),he=me[0],xe=me[1],j=!!R,oe=Le(P),Ne=E(),Ae=e.useCallback(function(){if(he){if(he.layout&&he.layout.fit===r.Fit.Layout&&Q){var ft=Ne*he.layout.layoutScaleFactor;he.devicePixelRatioUsed=Ne,he.artboardWidth=Q?.width/ft,he.artboardHeight=Q?.height/ft}he.startRendering(),he.resizeToCanvas()}},[he,Ne]);U({riveLoaded:!!he,canvasElem:Q,containerRef:B,options:oe,onCanvasHasResized:Ae,artboardBounds:he?.bounds});var Ie=e.useCallback(function(ft){ft===null&&Q&&(Q.height=0,Q.width=0),ae(ft)},[]);e.useEffect(function(){if(Q&&R){var ft,It=he!=null;if(he==null){var Xt=oe.useOffscreenRenderer,Wt=R.onRiveReady,Kn=p(R,["onRiveReady"]);ft=new r.Rive(c(c({useOffscreenRenderer:Xt},Kn),{canvas:Q})),$.current!=null&&$.current.cleanup(),$.current=ft,ft.on(r.EventType.Load,function(){It=!0,Wt&&Wt(ft),Q?xe(ft):ft.cleanup()})}return function(){It||ft==null||ft.cleanup()}}},[Q,j,he]);var $e=e.useCallback(function(ft){B.current=ft},[]),dt={observe:e.useCallback(function(ft,It){X().registerCallback(ft,It)},[]),unobserve:e.useCallback(function(ft){X().removeCallback(ft)},[])},Rt=dt.observe,ot=dt.unobserve;e.useEffect(function(){var ft,It=!1,Xt=function(){if(Q&&It){var Wt=Q.getBoundingClientRect();Wt.width>0&&Wt.height>0&&Wt.top<(window.innerHeight||document.documentElement.clientHeight)&&Wt.bottom>0&&Wt.left<(window.innerWidth||document.documentElement.clientWidth)&&Wt.right>0&&(he?.startRendering(),It=!1)}};return Q&&oe.shouldUseIntersectionObserver!==!1&&Rt(Q,function(Wt){Wt.isIntersecting?he&&he.startRendering():he&&he.stopRendering(),It=!Wt.isIntersecting,clearTimeout(ft),Wt.isIntersecting||Wt.boundingClientRect.width!==0||(ft=setTimeout(Xt,10))}),function(){Q&&ot(Q)}},[Rt,ot,he,Q,oe.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){he&&(he.cleanup(),xe(null))}},[he,Q]),e.useEffect(function(){return function(){$.current!=null&&$.current.cleanup()}},[]);var Lt=R?.animations;e.useEffect(function(){he&&Lt&&(he.isPlaying?(he.stop(he.animationNames),he.play(Lt)):he.isPaused&&(he.stop(he.animationNames),he.pause(Lt)))},[Lt,he]);var Bt=e.useCallback(function(ft){return l.default.createElement(H,c({setContainerRef:$e,setCanvasRef:Ie},ft))},[Ie,$e]);return{canvas:Q,container:B.current,setCanvasRef:Ie,setContainerRef:$e,rive:he,RiveComponent:Bt}}function q(R,P,N){var Q=e.useState(null),ae=Q[0],B=Q[1],$=e.useState(N.defaultValue),me=$[0],he=$[1],xe=e.useState(null),j=xe[0],oe=xe[1],Ne=e.useRef(null),Ae=e.useRef(R),Ie=e.useRef(N);e.useEffect(function(){Ie.current=N},[N]);var $e=e.useCallback(function(){var Lt=Ne.current,Bt=Ae.current,ft=Ie.current;if(!Lt||!Bt)return B(null),he(ft.defaultValue),oe(null),function(){};var It=ft.getProperty(Lt,Bt);if(It){B(It),he(ft.getValue(It)),ft.getExtendedData&&oe(ft.getExtendedData(It));var Xt=function(){he(ft.getValue(It)),ft.getExtendedData&&oe(ft.getExtendedData(It)),ft.onPropertyEvent&&ft.onPropertyEvent()};return It.on(Xt),function(){It.off(Xt)}}return function(){}},[]);e.useEffect(function(){return Ne.current=P,Ae.current=R,$e()},[P,R,$e]);var dt=e.useCallback(function(Lt){if(ae&&Ne.current===P)try{return Lt(ae),void(Ie.current.getExtendedData&&oe(Ie.current.getExtendedData(ae)))}catch{}if(Ne.current)try{var Bt=Ie.current.getProperty(Ne.current,Ae.current);Bt&&(B(Bt),Lt(Bt),Ie.current.getExtendedData&&oe(Ie.current.getExtendedData(Bt)))}catch{}},[ae,P]),Rt=e.useMemo(function(){return Ie.current.buildPropertyOperations(dt)},[dt]),ot=c({value:me},Rt);return N.getExtendedData&&(ot.extendedData=j),ot}i.default=function(R){var P=R.src,N=R.artboard,Q=R.animations,ae=R.stateMachines,B=R.layout,$=R.useOffscreenRenderer,me=$===void 0||$,he=R.shouldDisableRiveListeners,xe=he!==void 0&&he,j=R.shouldResizeCanvasToContainer,oe=j===void 0||j,Ne=R.automaticallyHandleEvents,Ae=Ne!==void 0&&Ne,Ie=R.children,$e=p(R,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),dt=L({src:P,artboard:N,animations:Q,layout:B,stateMachines:ae,autoplay:!0,shouldDisableRiveListeners:xe,automaticallyHandleEvents:Ae},{useOffscreenRenderer:me,shouldResizeCanvasToContainer:oe}).RiveComponent;return l.default.createElement(dt,c({},$e),Ie)},i.useResizeCanvas=U,i.useRive=L,i.useRiveFile=function(R){var P=this,N=e.useState(null),Q=N[0],ae=N[1],B=e.useState("idle"),$=B[0],me=B[1];return e.useEffect(function(){var he=null;return b(P,void 0,void 0,function(){return w(this,function(xe){try{me("loading"),(he=new r.RiveFile(R)).init(),he.on(r.EventType.Load,function(){he?.getInstance(),ae(he),me("success")}),he.on(r.EventType.LoadError,function(){me("failed")}),ae(he)}catch(j){console.error(j),me("failed")}return[2]})}),function(){he?.cleanup()}},[R.src,R.buffer]),{riveFile:Q,status:$}},i.useStateMachineInput=function(R,P,N,Q){var ae=e.useState(null),B=ae[0],$=ae[1];return e.useEffect(function(){function me(){if(R&&P&&N||$(null),R&&P&&N){var he=R.stateMachineInputs(P);if(he){var xe=he.find(function(j){return j.name===N});Q!==void 0&&xe&&(xe.value=Q),$(xe||null)}}else $(null)}me(),R&&R.on(r.EventType.Load,function(){me()})},[R]),B},i.useViewModel=function(R,P){var N=P??{},Q=N.name,ae=N.useDefault,B=ae!==void 0&&ae,$=e.useState(null),me=$[0],he=$[1];return e.useEffect(function(){function xe(){var j;if(R){var oe=null;oe=Q!=null?((j=R.viewModelByName)===null||j===void 0?void 0:j.call(R,Q))||null:R.defaultViewModel()||null,he(oe)}else he(null)}return xe(),R&&R.on(r.EventType.Load,xe),function(){R&&R.off(r.EventType.Load,xe)}},[R,Q,B]),me},i.useViewModelInstance=function(R,P){var N=P??{},Q=N.name,ae=N.useDefault,B=ae!==void 0&&ae,$=N.useNew,me=$!==void 0&&$,he=N.rive,xe=e.useState(null),j=xe[0],oe=xe[1];return e.useEffect(function(){var Ne,Ae,Ie;if(R){var $e=null;$e=Q!=null?R.instanceByName(Q)||null:B?((Ne=R.defaultInstance)===null||Ne===void 0?void 0:Ne.call(R))||null:me?((Ae=R.instance)===null||Ae===void 0?void 0:Ae.call(R))||null:((Ie=R.defaultInstance)===null||Ie===void 0?void 0:Ie.call(R))||null,oe($e),he&&$e&&he.viewModelInstance!==$e&&he.bindViewModelInstance($e)}else oe(null)},[R,Q,B,me,he]),j},i.useViewModelInstanceArtboard=function(R,P){return{setValue:q(R,P,{getProperty:e.useCallback(function(N,Q){return N.artboard(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(N){return{setValue:function(Q){N(function(ae){ae.value=Q})}}},[])}).setValue}},i.useViewModelInstanceBoolean=function(R,P){var N=q(R,P,{getProperty:e.useCallback(function(Q,ae){return Q.boolean(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(B){B.value=ae})}}},[])});return{value:N.value,setValue:N.setValue}},i.useViewModelInstanceColor=function(R,P){var N=q(R,P,{getProperty:e.useCallback(function(Q,ae){return Q.color(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(B){B.value=ae})},setRgb:function(ae,B,$){Q(function(me){me.rgb(ae,B,$)})},setRgba:function(ae,B,$,me){Q(function(he){he.rgba(ae,B,$,me)})},setAlpha:function(ae){Q(function(B){B.alpha(ae)})},setOpacity:function(ae){Q(function(B){B.opacity(ae)})}}},[])});return{value:N.value,setValue:N.setValue,setRgb:N.setRgb,setRgba:N.setRgba,setAlpha:N.setAlpha,setOpacity:N.setOpacity}},i.useViewModelInstanceEnum=function(R,P){var N=q(R,P,{getProperty:e.useCallback(function(Q,ae){return Q.enum(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(Q){return Q.values},[]),buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(B){B.value=ae})}}},[])});return{value:N.value,values:N.extendedData||[],setValue:N.setValue}},i.useViewModelInstanceImage=function(R,P){return{setValue:q(R,P,{getProperty:e.useCallback(function(N,Q){return N.image(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(N){return{setValue:function(Q){N(function(ae){ae.value=Q})}}},[])}).setValue}},i.useViewModelInstanceList=function(R,P){var N,Q=e.useState(0)[1],ae=q(R,P,{getProperty:e.useCallback(function(B,$){return B.list($)},[]),getValue:e.useCallback(function(B){return B.length},[]),defaultValue:null,onPropertyEvent:function(){Q(function(B){return B+1})},buildPropertyOperations:e.useCallback(function(B){return{addInstance:function($){B(function(me){return me.addInstance($)})},addInstanceAt:function($,me){var he=!1;return B(function(xe){he=xe.addInstanceAt($,me)}),he},removeInstance:function($){B(function(me){return me.removeInstance($)})},removeInstanceAt:function($){B(function(me){return me.removeInstanceAt($)})},getInstanceAt:function($){var me=null;return B(function(he){me=he.instanceAt($)}),me},swap:function($,me){B(function(he){return he.swap($,me)})}}},[])});return{length:(N=ae.value)!==null&&N!==void 0?N:0,addInstance:ae.addInstance,addInstanceAt:ae.addInstanceAt,removeInstance:ae.removeInstance,removeInstanceAt:ae.removeInstanceAt,getInstanceAt:ae.getInstanceAt,swap:ae.swap}},i.useViewModelInstanceNumber=function(R,P){var N=q(R,P,{getProperty:e.useCallback(function(Q,ae){return Q.number(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(B){B.value=ae})}}},[])});return{value:N.value,setValue:N.setValue}},i.useViewModelInstanceString=function(R,P){var N=q(R,P,{getProperty:e.useCallback(function(Q,ae){return Q.string(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(B){B.value=ae})}}},[])});return{value:N.value,setValue:N.setValue}},i.useViewModelInstanceTrigger=function(R,P,N){var Q=(N??{}).onTrigger;return{trigger:q(R,P,{getProperty:e.useCallback(function(ae,B){return ae.trigger(B)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:Q,buildPropertyOperations:e.useCallback(function(ae){return{trigger:function(){ae(function(B){B.trigger()})}}},[])}).trigger}},Object.keys(r).forEach(function(R){R==="default"||i.hasOwnProperty(R)||Object.defineProperty(i,R,{enumerable:!0,get:function(){return r[R]}})})})(xm)),xm}var po=rA();let gi=null;const iA=async()=>{if(window.CrazyGames&&window.CrazyGames.SDK)try{gi=window.CrazyGames.SDK,await gi.init(),console.log("CrazyGames SDK v3 initialized")}catch(i){console.error("Error initializing CrazyGames SDK",i)}else console.log("CrazyGames SDK not found (Local/Web Mode)")},aA=()=>{gi&&gi.game.gameplayStart()},D0=()=>{gi&&gi.game.gameplayStop()},Cm=()=>{gi&&gi.game.happytime()},sA=async()=>{if(gi)try{return await gi.user.getUser()}catch(i){return console.error("CG User Error:",i),null}return null},oA=(i="midgame")=>{gi&&(console.log("CG: Requesting Ad:",i),gi.ad.requestAd(i,{adStarted:()=>console.log("CG: Ad started"),adFinished:()=>console.log("CG: Ad finished"),adError:e=>console.log("CG: Ad error",e)}))},lA=i=>{gi?gi.ad.requestAd("rewarded",{adStarted:()=>console.log("CG: Reward Ad started"),adFinished:()=>{console.log("CG: Reward Ad finished"),i&&i()},adError:e=>console.log("CG: Reward Ad error",e)}):(console.log("CG: Local Mode - Granting Reward"),i&&i())},uA=async()=>{if(gi)try{return await gi.user.showAuthPrompt()}catch(i){return console.error("CG Login Error:",i),null}return null},cA=()=>{};var O0={};const db=function(i){const e=[];let r=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},fA=function(i){const e=[];let r=0,a=0;for(;r<i.length;){const l=i[r++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[r++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[r++],p=i[r++],b=i[r++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[a++]=String.fromCharCode(55296+(w>>10)),e[a++]=String.fromCharCode(56320+(w&1023))}else{const c=i[r++],p=i[r++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},mb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const c=i[l],p=l+1<i.length,b=p?i[l+1]:0,w=l+2<i.length,E=w?i[l+2]:0,I=c>>2,O=(c&3)<<4|b>>4;let G=(b&15)<<2|E>>6,te=E&63;w||(te=64,p||(G=64)),a.push(r[I],r[O],r[G],r[te])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(db(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):fA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const c=r[i.charAt(l++)],b=l<i.length?r[i.charAt(l)]:0;++l;const E=l<i.length?r[i.charAt(l)]:64;++l;const O=l<i.length?r[i.charAt(l)]:64;if(++l,c==null||b==null||E==null||O==null)throw new hA;const G=c<<2|b>>4;if(a.push(G),E!==64){const te=b<<4&240|E>>2;if(a.push(te),O!==64){const z=E<<6&192|O;a.push(z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class hA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dA=function(i){const e=db(i);return mb.encodeByteArray(e,!0)},Ff=function(i){return dA(i).replace(/\./g,"")},pb=function(i){try{return mb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pA=()=>mA().__FIREBASE_DEFAULTS__,gA=()=>{if(typeof process>"u"||typeof O0>"u")return;const i=O0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},yA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&pb(i[1]);return e&&JSON.parse(e)},ch=()=>{try{return cA()||pA()||gA()||yA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},gb=i=>ch()?.emulatorHosts?.[i],vA=i=>{const e=gb(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),a]:[e.substring(0,r),a]},yb=()=>ch()?.config,vb=i=>ch()?.[`_${i}`];class _A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}function Kl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _b(i){return(await fetch(i,{credentials:"include"})).ok}function bA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ff(JSON.stringify(r)),Ff(JSON.stringify(p)),""].join(".")}const Yu={};function wA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Yu))Yu[e]?i.emulator.push(e):i.prod.push(e);return i}function EA(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let k0=!1;function bb(i,e){if(typeof window>"u"||typeof document>"u"||!Kl(window.location.host)||Yu[i]===e||Yu[i]||k0)return;Yu[i]=e;function r(G){return`__firebase__banner__${G}`}const a="__firebase__banner",c=wA().prod.length>0;function p(){const G=document.getElementById(a);G&&G.remove()}function b(G){G.style.display="flex",G.style.background="#7faaf0",G.style.position="fixed",G.style.bottom="5px",G.style.left="5px",G.style.padding=".5em",G.style.borderRadius="5px",G.style.alignItems="center"}function w(G,te){G.setAttribute("width","24"),G.setAttribute("id",te),G.setAttribute("height","24"),G.setAttribute("viewBox","0 0 24 24"),G.setAttribute("fill","none"),G.style.marginLeft="-6px"}function E(){const G=document.createElement("span");return G.style.cursor="pointer",G.style.marginLeft="16px",G.style.fontSize="24px",G.innerHTML=" &times;",G.onclick=()=>{k0=!0,p()},G}function I(G,te){G.setAttribute("id",te),G.innerText="Learn more",G.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",G.setAttribute("target","__blank"),G.style.paddingLeft="5px",G.style.textDecoration="underline"}function O(){const G=EA(a),te=r("text"),z=document.getElementById(te)||document.createElement("span"),De=r("learnmore"),we=document.getElementById(De)||document.createElement("a"),Le=r("preprendIcon"),U=document.getElementById(Le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(G.created){const je=G.element;b(je),I(we,De);const tt=E();w(U,Le),je.append(U,z,we,tt),document.body.appendChild(je)}c?(z.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",te)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}function yi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yi())}function AA(){const i=ch()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function CA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RA(){const i=yi();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function IA(){return!AA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MA(){try{return typeof indexedDB=="object"}catch{return!1}}function NA(){return new Promise((i,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(r){e(r)}})}const DA="FirebaseError";class js extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=DA,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?OA(c,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new js(l,b,a)}}function OA(i,e){return i.replace(kA,(r,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const kA=/\{\$([^}]+)}/g;function VA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Yo(i,e){if(i===e)return!0;const r=Object.keys(i),a=Object.keys(e);for(const l of r){if(!a.includes(l))return!1;const c=i[l],p=e[l];if(V0(c)&&V0(p)){if(!Yo(c,p))return!1}else if(c!==p)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function V0(i){return i!==null&&typeof i=="object"}function fc(i){const e=[];for(const[r,a]of Object.entries(i))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function PA(i,e){const r=new LA(i,e);return r.subscribe.bind(r)}class LA{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let l;if(e===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");jA(e,["next","error","complete"])?l=e:l={next:e,error:r,complete:a},l.next===void 0&&(l.next=Rm),l.error===void 0&&(l.error=Rm),l.complete===void 0&&(l.complete=Rm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jA(i,e){if(typeof i!="object"||i===null)return!1;for(const r of e)if(r in i&&typeof i[r]=="function")return!0;return!1}function Rm(){}function ia(i){return i&&i._delegate?i._delegate:i}class Xo{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qo="[DEFAULT]";class UA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new _A;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BA(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);a===b&&p.resolve(l)}return l}onInit(e,r){const a=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:zA(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zA(i){return i===qo?void 0:i}function BA(i){return i.instantiationMode==="EAGER"}class FA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new UA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var Zt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Zt||(Zt={}));const HA={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},qA=Zt.INFO,GA={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},YA=(i,e,...r)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),l=GA[e];if(l)console[l](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=qA,this._logHandler=YA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...e),this._logHandler(this,Zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...e),this._logHandler(this,Zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...e),this._logHandler(this,Zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...e),this._logHandler(this,Zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...e),this._logHandler(this,Zt.ERROR,...e)}}const XA=(i,e)=>e.some(r=>i instanceof r);let P0,L0;function WA(){return P0||(P0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QA(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wb=new WeakMap,Ym=new WeakMap,Eb=new WeakMap,Im=new WeakMap,wp=new WeakMap;function KA(i){const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",p)},c=()=>{r(yo(i.result)),l()},p=()=>{a(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&wb.set(r,i)}).catch(()=>{}),wp.set(e,i),e}function $A(i){if(Ym.has(i))return;const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",p),i.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",p),i.addEventListener("abort",p)});Ym.set(i,e)}let Xm={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Ym.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Eb.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return yo(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function JA(i){Xm=i(Xm)}function ZA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=i.call(Mm(this),e,...r);return Eb.set(a,e.sort?e.sort():[e]),yo(a)}:QA().includes(i)?function(...e){return i.apply(Mm(this),e),yo(wb.get(this))}:function(...e){return yo(i.apply(Mm(this),e))}}function eS(i){return typeof i=="function"?ZA(i):(i instanceof IDBTransaction&&$A(i),XA(i,WA())?new Proxy(i,Xm):i)}function yo(i){if(i instanceof IDBRequest)return KA(i);if(Im.has(i))return Im.get(i);const e=eS(i);return e!==i&&(Im.set(i,e),wp.set(e,i)),e}const Mm=i=>wp.get(i);function tS(i,e,{blocked:r,upgrade:a,blocking:l,terminated:c}={}){const p=indexedDB.open(i,e),b=yo(p);return a&&p.addEventListener("upgradeneeded",w=>{a(yo(p.result),w.oldVersion,w.newVersion,yo(p.transaction),w)}),r&&p.addEventListener("blocked",w=>r(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const nS=["get","getKey","getAll","getAllKeys","count"],rS=["put","add","delete","clear"],Nm=new Map;function j0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,l=rS.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||nS.includes(r)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return a&&(E=E.index(b.shift())),(await Promise.all([E[r](...b),l&&w.done]))[0]};return Nm.set(e,c),c}JA(i=>({...i,get:(e,r,a)=>j0(e,r)||i.get(e,r,a),has:(e,r)=>!!j0(e,r)||i.has(e,r)}));class iS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(aS(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function aS(i){return i.getComponent()?.type==="VERSION"}const Wm="@firebase/app",U0="0.14.6";const Ds=new bp("@firebase/app"),sS="@firebase/app-compat",oS="@firebase/analytics-compat",lS="@firebase/analytics",uS="@firebase/app-check-compat",cS="@firebase/app-check",fS="@firebase/auth",hS="@firebase/auth-compat",dS="@firebase/database",mS="@firebase/data-connect",pS="@firebase/database-compat",gS="@firebase/functions",yS="@firebase/functions-compat",vS="@firebase/installations",_S="@firebase/installations-compat",bS="@firebase/messaging",wS="@firebase/messaging-compat",ES="@firebase/performance",TS="@firebase/performance-compat",AS="@firebase/remote-config",SS="@firebase/remote-config-compat",xS="@firebase/storage",CS="@firebase/storage-compat",RS="@firebase/firestore",IS="@firebase/ai",MS="@firebase/firestore-compat",NS="firebase",DS="12.6.0";const Qm="[DEFAULT]",OS={[Wm]:"fire-core",[sS]:"fire-core-compat",[lS]:"fire-analytics",[oS]:"fire-analytics-compat",[cS]:"fire-app-check",[uS]:"fire-app-check-compat",[fS]:"fire-auth",[hS]:"fire-auth-compat",[dS]:"fire-rtdb",[mS]:"fire-data-connect",[pS]:"fire-rtdb-compat",[gS]:"fire-fn",[yS]:"fire-fn-compat",[vS]:"fire-iid",[_S]:"fire-iid-compat",[bS]:"fire-fcm",[wS]:"fire-fcm-compat",[ES]:"fire-perf",[TS]:"fire-perf-compat",[AS]:"fire-rc",[SS]:"fire-rc-compat",[xS]:"fire-gcs",[CS]:"fire-gcs-compat",[RS]:"fire-fst",[MS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[NS]:"fire-js-all"};const Hf=new Map,kS=new Map,Km=new Map;function z0(i,e){try{i.container.addComponent(e)}catch(r){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Hl(i){const e=i.name;if(Km.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,i);for(const r of Hf.values())z0(r,i);for(const r of kS.values())z0(r,i);return!0}function Ep(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function Ea(i){return i==null?!1:i.settings!==void 0}const VS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new cc("app","Firebase",VS);class PS{constructor(e,r,a){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}const $l=DS;function Tb(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const a={name:Qm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw vo.create("bad-app-name",{appName:String(l)});if(r||(r=yb()),!r)throw vo.create("no-options");const c=Hf.get(l);if(c){if(Yo(r,c.options)&&Yo(a,c.config))return c;throw vo.create("duplicate-app",{appName:l})}const p=new FA(l);for(const w of Km.values())p.addComponent(w);const b=new PS(r,a,p);return Hf.set(l,b),b}function Ab(i=Qm){const e=Hf.get(i);if(!e&&i===Qm&&yb())return Tb();if(!e)throw vo.create("no-app",{appName:i});return e}function _o(i,e,r){let a=OS[i]??i;r&&(a+=`-${r}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(p.join(" "));return}Hl(new Xo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const LS="firebase-heartbeat-database",jS=1,Zu="firebase-heartbeat-store";let Dm=null;function Sb(){return Dm||(Dm=tS(LS,jS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zu)}catch(r){console.warn(r)}}}}).catch(i=>{throw vo.create("idb-open",{originalErrorMessage:i.message})})),Dm}async function US(i){try{const r=(await Sb()).transaction(Zu),a=await r.objectStore(Zu).get(xb(i));return await r.done,a}catch(e){if(e instanceof js)Ds.warn(e.message);else{const r=vo.create("idb-get",{originalErrorMessage:e?.message});Ds.warn(r.message)}}}async function B0(i,e){try{const a=(await Sb()).transaction(Zu,"readwrite");await a.objectStore(Zu).put(e,xb(i)),await a.done}catch(r){if(r instanceof js)Ds.warn(r.message);else{const a=vo.create("idb-set",{originalErrorMessage:r?.message});Ds.warn(a.message)}}}function xb(i){return`${i.name}!${i.options.appId}`}const zS=1024,BS=30;class FS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new qS(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>BS){const l=GS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ds.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F0(),{heartbeatsToSend:r,unsentEntries:a}=HS(this._heartbeatsCache.heartbeats),l=Ff(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ds.warn(e),""}}}function F0(){return new Date().toISOString().substring(0,10)}function HS(i,e=zS){const r=[];let a=i.slice();for(const l of i){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),H0(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),H0(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class qS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MA()?NA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await US(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function H0(i){return Ff(JSON.stringify({version:2,heartbeats:i})).length}function GS(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,e=a);return e}function YS(i){Hl(new Xo("platform-logger",e=>new iS(e),"PRIVATE")),Hl(new Xo("heartbeat",e=>new FS(e),"PRIVATE")),_o(Wm,U0,i),_o(Wm,U0,"esm2020"),_o("fire-js","")}YS("");var XS="firebase",WS="12.7.0";_o(XS,WS,"app");function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QS=Cb,Rb=new cc("auth","Firebase",Cb());const qf=new bp("@firebase/auth");function KS(i,...e){qf.logLevel<=Zt.WARN&&qf.warn(`Auth (${$l}): ${i}`,...e)}function Df(i,...e){qf.logLevel<=Zt.ERROR&&qf.error(`Auth (${$l}): ${i}`,...e)}function Os(i,...e){throw Tp(i,...e)}function $a(i,...e){return Tp(i,...e)}function Ib(i,e,r){const a={...QS(),[e]:r};return new cc("auth","Firebase",a).create(e,{appName:i.name})}function Ms(i){return Ib(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tp(i,...e){if(typeof i!="string"){const r=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(r,...a)}return Rb.create(i,...e)}function At(i,e,...r){if(!i)throw Tp(e,...r)}function Rs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Df(e),new Error(e)}function ks(i,e){i||Rs(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function $S(){return q0()==="http:"||q0()==="https:"}function q0(){return typeof self<"u"&&self.location?.protocol||null}function JS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($S()||xA()||"connection"in navigator)?navigator.onLine:!0}function ZS(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class hc{constructor(e,r){this.shortDelay=e,this.longDelay=r,ks(r>e,"Short delay should be less than long delay!"),this.isMobile=TA()||CA()}get(){return JS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ap(i,e){ks(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}class Mb{static initialize(e,r,a){this.fetchImpl=e,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const e2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const t2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],n2=new hc(3e4,6e4);function dc(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Jl(i,e,r,a,l={}){return Nb(i,l,async()=>{let c={},p={};a&&(e==="GET"?p=a:c={body:JSON.stringify(a)});const b=fc({key:i.config.apiKey,...p}).slice(1),w=await i._getAdditionalHeaders();w["Content-Type"]="application/json",i.languageCode&&(w["X-Firebase-Locale"]=i.languageCode);const E={method:e,headers:w,...c};return SA()||(E.referrerPolicy="no-referrer"),i.emulatorConfig&&Kl(i.emulatorConfig.host)&&(E.credentials="include"),Mb.fetch()(await Db(i,i.config.apiHost,r,b),E)})}async function Nb(i,e,r){i._canInitEmulator=!1;const a={...e2,...e};try{const l=new r2(i),c=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw Af(i,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw Af(i,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw Af(i,"email-already-in-use",p);if(w==="USER_DISABLED")throw Af(i,"user-disabled",p);const I=a[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Ib(i,I,E);Os(i,I)}}catch(l){if(l instanceof js)throw l;Os(i,"network-request-failed",{message:String(l)})}}async function Sp(i,e,r,a,l={}){const c=await Jl(i,e,r,a,l);return"mfaPendingCredential"in c&&Os(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Db(i,e,r,a){const l=`${e}${r}?${a}`,c=i,p=c.config.emulator?Ap(i.config,l):`${i.config.apiScheme}://${l}`;return t2.includes(r)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class r2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a($a(this.auth,"network-request-failed")),n2.get())})}}function Af(i,e,r){const a={appName:i.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const l=$a(i,e,a);return l.customData._tokenResponse=r,l}async function i2(i,e){return Jl(i,"POST","/v1/accounts:delete",e)}async function Gf(i,e){return Jl(i,"POST","/v1/accounts:lookup",e)}function Xu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a2(i,e=!1){const r=ia(i),a=await r.getIdToken(e),l=xp(a);At(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:a,authTime:Xu(Om(l.auth_time)),issuedAtTime:Xu(Om(l.iat)),expirationTime:Xu(Om(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Om(i){return Number(i)*1e3}function xp(i){const[e,r,a]=i.split(".");if(e===void 0||r===void 0||a===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const l=pb(r);return l?JSON.parse(l):(Df("Failed to decode base64 JWT payload"),null)}catch(l){return Df("Caught error parsing JWT payload as JSON",l?.toString()),null}}function G0(i){const e=xp(i);return At(e,"internal-error"),At(typeof e.exp<"u","internal-error"),At(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ec(i,e,r=!1){if(r)return e;try{return await e}catch(a){throw a instanceof js&&s2(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function s2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class o2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jm{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yf(i){const e=i.auth,r=await i.getIdToken(),a=await ec(i,Gf(e,{idToken:r}));At(a?.users.length,e,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?Ob(l.providerUserInfo):[],p=u2(i.providerData,c),b=i.isAnonymous,w=!(i.email&&l.passwordHash)&&!p?.length,E=b?w:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Jm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(i,I)}async function l2(i){const e=ia(i);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u2(i,e){return[...i.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Ob(i){return i.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function c2(i,e){const r=await Nb(i,{},async()=>{const a=fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,p=await Db(i,l,"/v1/token",`key=${c}`),b=await i._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:a};return i.emulatorConfig&&Kl(i.emulatorConfig.host)&&(w.credentials="include"),Mb.fetch()(p,w)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function f2(i,e){return Jl(i,"POST","/v2/accounts:revokeToken",dc(i,e))}class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At(typeof e.idToken<"u","internal-error"),At(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){At(e.length!==0,"internal-error");const r=G0(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:a,refreshToken:l,expiresIn:c}=await c2(e,r);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,r,a){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,r){const{refreshToken:a,accessToken:l,expirationTime:c}=r,p=new Ll;return a&&(At(typeof a=="string","internal-error",{appName:e}),p.refreshToken=a),l&&(At(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(At(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return Rs("not implemented")}}function lo(i,e){At(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class La{constructor({uid:e,auth:r,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new o2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const r=await ec(this,this.stsTokenManager.getToken(this.auth,e));return At(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return a2(this,e)}reload(){return l2(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new La({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),r&&await Yf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ea(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await ec(this,i2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const a=r.displayName??void 0,l=r.email??void 0,c=r.phoneNumber??void 0,p=r.photoURL??void 0,b=r.tenantId??void 0,w=r._redirectEventId??void 0,E=r.createdAt??void 0,I=r.lastLoginAt??void 0,{uid:O,emailVerified:G,isAnonymous:te,providerData:z,stsTokenManager:De}=r;At(O&&De,e,"internal-error");const we=Ll.fromJSON(this.name,De);At(typeof O=="string",e,"internal-error"),lo(a,e.name),lo(l,e.name),At(typeof G=="boolean",e,"internal-error"),At(typeof te=="boolean",e,"internal-error"),lo(c,e.name),lo(p,e.name),lo(b,e.name),lo(w,e.name),lo(E,e.name),lo(I,e.name);const Le=new La({uid:O,auth:e,email:l,emailVerified:G,displayName:a,isAnonymous:te,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:we,createdAt:E,lastLoginAt:I});return z&&Array.isArray(z)&&(Le.providerData=z.map(U=>({...U}))),w&&(Le._redirectEventId=w),Le}static async _fromIdTokenResponse(e,r,a=!1){const l=new Ll;l.updateFromServerResponse(r);const c=new La({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Yf(c),c}static async _fromGetAccountInfoResponse(e,r,a){const l=r.users[0];At(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Ob(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Ll;b.updateFromIdToken(a);const w=new La({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Jm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const Y0=new Map;function Is(i){ks(i instanceof Function,"Expected a class definition");let e=Y0.get(i);return e?(ks(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Y0.set(i,e),e)}class kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}kb.type="NONE";const X0=kb;function Of(i,e,r){return`firebase:${i}:${e}:${r}`}class jl{constructor(e,r,a){this.persistence=e,this.auth=r,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Of(this.userKey,l.apiKey,c),this.fullPersistenceKey=Of("persistence",l.apiKey,c),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Gf(this.auth,{idToken:e}).catch(()=>{});return r?La._fromGetAccountInfoResponse(this.auth,r,e):null}return La._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,a="authUser"){if(!r.length)return new jl(Is(X0),e,a);const l=(await Promise.all(r.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||Is(X0);const p=Of(a,e.config.apiKey,e.name);let b=null;for(const E of r)try{const I=await E._get(p);if(I){let O;if(typeof I=="string"){const G=await Gf(e,{idToken:I}).catch(()=>{});if(!G)break;O=await La._fromGetAccountInfoResponse(e,G,I)}else O=La._fromJSON(e,I);E!==c&&(b=O),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new jl(c,e,a):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(r.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new jl(c,e,a))}}function W0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zb(e))return"Blackberry";if(Bb(e))return"Webos";if(Pb(e))return"Safari";if((e.includes("chrome/")||Lb(e))&&!e.includes("edge/"))return"Chrome";if(Ub(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(r);if(a?.length===2)return a[1]}return"Other"}function Vb(i=yi()){return/firefox\//i.test(i)}function Pb(i=yi()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lb(i=yi()){return/crios\//i.test(i)}function jb(i=yi()){return/iemobile/i.test(i)}function Ub(i=yi()){return/android/i.test(i)}function zb(i=yi()){return/blackberry/i.test(i)}function Bb(i=yi()){return/webos/i.test(i)}function Cp(i=yi()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function h2(i=yi()){return Cp(i)&&!!window.navigator?.standalone}function d2(){return RA()&&document.documentMode===10}function Fb(i=yi()){return Cp(i)||Ub(i)||Bb(i)||zb(i)||/windows phone/i.test(i)||jb(i)}function Hb(i,e=[]){let r;switch(i){case"Browser":r=W0(yi());break;case"Worker":r=`${W0(yi())}-${i}`;break;default:r=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${$l}/${a}`}class m2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const a=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});a.onAbort=r,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const a of this.queue)await a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function p2(i,e={}){return Jl(i,"GET","/v2/passwordPolicy",dc(i,e))}const g2=6;class y2{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??g2,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=e.length>=a),l&&(r.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,r,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class v2{constructor(e,r,a,l){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q0(this),this.idTokenSubscription=new Q0(this),this.beforeStateQueue=new m2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Is(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Gf(this,{idToken:e}),a=await La._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ea(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ea(this.app))return Promise.reject(Ms(this));const r=e?ia(e):null;return r&&At(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ea(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ea(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p2(this),r=new y2(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,r,a){return this.registerStateListener(this.authStateSubscription,e,r,a)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,a){return this.registerStateListener(this.idTokenSubscription,e,r,a)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await f2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const a=await this.getOrInitRedirectPersistenceManager(r);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Is(e)||this._popupRedirectResolver;At(r,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[Is(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,a,l){if(this._deleted)return()=>{};const c=typeof r=="function"?r:r.next.bind(r);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof r=="function"){const w=e.addObserver(r,a,l);return()=>{p=!0,w()}}else{const w=e.addObserver(r);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function mc(i){return ia(i)}class Q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=PA(r=>this.observer=r)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _2(i){Rp=i}function b2(i){return Rp.loadJS(i)}function w2(){return Rp.gapiScript}function E2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function T2(i,e){const r=Ep(i,"auth");if(r.isInitialized()){const l=r.getImmediate(),c=r.getOptions();if(Yo(c,e??{}))return l;Os(l,"already-initialized")}return r.initialize({options:e})}function A2(i,e){const r=e?.persistence||[],a=(Array.isArray(r)?r:[r]).map(Is);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function S2(i,e,r){const a=mc(i);At(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=qb(e),{host:p,port:b}=x2(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},I=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){At(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),At(Yo(E,a.config.emulator)&&Yo(I,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=I,a.settings.appVerificationDisabledForTesting=!0,Kl(p)?(_b(`${c}//${p}${w}`),bb("Auth",!0)):C2()}function qb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function x2(i){const e=qb(i),r=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:K0(a.substr(c.length+1))}}else{const[c,p]=a.split(":");return{host:c,port:K0(p)}}}function K0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function C2(){function i(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Gb{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,r){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}async function Ul(i,e){return Sp(i,"POST","/v1/accounts:signInWithIdp",dc(i,e))}const R2="http://localhost";class Wo extends Gb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Os("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=r;if(!a||!l)return null;const p=new Wo(a,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const r=this.buildRequest();return Ul(e,r)}_linkToIdToken(e,r){const a=this.buildRequest();return a.idToken=r,Ul(e,a)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ul(e,r)}buildRequest(){const e={requestUri:R2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=fc(r)}return e}}class Yb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pc extends Yb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class co extends pc{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com";co.PROVIDER_ID="facebook.com";class fo extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Wo._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:a}=e;if(!r&&!a)return null;try{return fo.credential(r,a)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";class ho extends pc{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";class mo extends pc{constructor(){super("twitter.com")}static credential(e,r){return Wo._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=e;if(!r||!a)return null;try{return mo.credential(r,a)}catch{return null}}}mo.TWITTER_SIGN_IN_METHOD="twitter.com";mo.PROVIDER_ID="twitter.com";async function I2(i,e){return Sp(i,"POST","/v1/accounts:signUp",dc(i,e))}class Vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,a,l=!1){const c=await La._fromIdTokenResponse(e,a,l),p=$0(a);return new Vs({user:c,providerId:p,_tokenResponse:a,operationType:r})}static async _forOperation(e,r,a){await e._updateTokensIfNecessary(a,!0);const l=$0(a);return new Vs({user:e,providerId:l,_tokenResponse:a,operationType:r})}}function $0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function M2(i){if(Ea(i.app))return Promise.reject(Ms(i));const e=mc(i);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Vs({user:e.currentUser,providerId:null,operationType:"signIn"});const r=await I2(e,{returnSecureToken:!0}),a=await Vs._fromIdTokenResponse(e,"signIn",r,!0);return await e._updateCurrentUser(a.user),a}class Xf extends js{constructor(e,r,a,l){super(r.code,r.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,r,a,l){return new Xf(e,r,a,l)}}function Xb(i,e,r,a){return(e==="reauthenticate"?r._getReauthenticationResolver(i):r._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(i,c,e,a):c})}async function N2(i,e,r=!1){const a=await ec(i,e._linkToIdToken(i.auth,await i.getIdToken()),r);return Vs._forOperation(i,"link",a)}async function D2(i,e,r=!1){const{auth:a}=i;if(Ea(a.app))return Promise.reject(Ms(a));const l="reauthenticate";try{const c=await ec(i,Xb(a,l,e,i),r);At(c.idToken,a,"internal-error");const p=xp(c.idToken);At(p,a,"internal-error");const{sub:b}=p;return At(i.uid===b,a,"user-mismatch"),Vs._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Os(a,"user-mismatch"),c}}async function O2(i,e,r=!1){if(Ea(i.app))return Promise.reject(Ms(i));const a="signIn",l=await Xb(i,a,e),c=await Vs._fromIdTokenResponse(i,a,l);return r||await i._updateCurrentUser(c.user),c}async function k2(i,e){return Sp(i,"POST","/v1/accounts:signInWithCustomToken",dc(i,e))}async function V2(i,e){if(Ea(i.app))return Promise.reject(Ms(i));const r=mc(i),a=await k2(r,{token:e,returnSecureToken:!0}),l=await Vs._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function P2(i,e,r,a){return ia(i).onIdTokenChanged(e,r,a)}function L2(i,e,r){return ia(i).beforeAuthStateChanged(e,r)}function j2(i,e,r,a){return ia(i).onAuthStateChanged(e,r,a)}const Wf="__sak";class Wb{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const U2=1e3,z2=10;class Qb extends Wb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),l=this.localCache[r];a!==l&&e(r,l,a)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const a=e.key;r?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!r&&this.localCache[a]===p||this.notifyListeners(a,p)},c=this.storage.getItem(a);d2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,z2):l()}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:a}),!0)})},U2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qb.type="LOCAL";const B2=Qb;class Kb extends Wb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Kb.type="SESSION";const $b=Kb;function F2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(l=>l.isListeningto(e));if(r)return r;const a=new fh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:a,eventType:l,data:c}=r.data,p=this.handlersMap[l];if(!p?.size)return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async E=>E(r.origin,c)),w=await F2(b);r.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:w})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Ip(i="",e=10){let r="";for(let a=0;a<e;a++)r+=Math.floor(Math.random()*10);return i+r}class H2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=Ip("",20);l.port1.start();const I=setTimeout(()=>{w(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(O){const G=O;if(G.data.eventId===E)switch(G.data.status){case"ack":clearTimeout(I),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(G.data.response);break;default:clearTimeout(I),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:r},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Ja(){return window}function q2(i){Ja().location.href=i}function Jb(){return typeof Ja().WorkerGlobalScope<"u"&&typeof Ja().importScripts=="function"}async function G2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y2(){return navigator?.serviceWorker?.controller||null}function X2(){return Jb()?self:null}const Zb="firebaseLocalStorageDb",W2=1,Qf="firebaseLocalStorage",e1="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function hh(i,e){return i.transaction([Qf],e?"readwrite":"readonly").objectStore(Qf)}function Q2(){const i=indexedDB.deleteDatabase(Zb);return new gc(i).toPromise()}function Zm(){const i=indexedDB.open(Zb,W2);return new Promise((e,r)=>{i.addEventListener("error",()=>{r(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Qf,{keyPath:e1})}catch(l){r(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Qf)?e(a):(a.close(),await Q2(),e(await Zm()))})})}async function J0(i,e,r){const a=hh(i,!0).put({[e1]:e,value:r});return new gc(a).toPromise()}async function K2(i,e){const r=hh(i,!1).get(e),a=await new gc(r).toPromise();return a===void 0?null:a.value}function Z0(i,e){const r=hh(i,!0).delete(e);return new gc(r).toPromise()}const $2=800,J2=3;class t1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let r=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(r++>J2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(X2()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await G2(),!this.activeServiceWorker)return;this.sender=new H2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await J0(e,Wf,"1"),await Z0(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>J0(a,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(a=>K2(a,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Z0(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new gc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t1.type="LOCAL";const Z2=t1;new hc(3e4,6e4);function ex(i,e){return e?Is(e):(At(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Mp extends Gb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ul(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function tx(i){return O2(i.auth,new Mp(i),i.bypassAuthState)}function nx(i){const{auth:e,user:r}=i;return At(r,e,"internal-error"),D2(r,new Mp(i),i.bypassAuthState)}async function rx(i){const{auth:e,user:r}=i;return At(r,e,"internal-error"),N2(r,new Mp(i),i.bypassAuthState)}class n1{constructor(e,r,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:a,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:r,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tx;case"linkViaPopup":case"linkViaRedirect":return rx;case"reauthViaPopup":case"reauthViaRedirect":return nx;default:Os(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ix=new hc(2e3,1e4);class Vl extends n1{constructor(e,r,a,l,c){super(e,r,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Vl.currentPopupAction&&Vl.currentPopupAction.cancel(),Vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject($a(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($a(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ix.get())};e()}}Vl.currentPopupAction=null;const ax="pendingRedirect",kf=new Map;class sx extends n1{constructor(e,r,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let e=kf.get(this.auth._key());if(!e){try{const a=await ox(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(r){e=()=>Promise.reject(r)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ox(i,e){const r=cx(e),a=ux(i);if(!await a._isAvailable())return!1;const l=await a._get(r)==="true";return await a._remove(r),l}function lx(i,e){kf.set(i._key(),e)}function ux(i){return Is(i._redirectPersistence)}function cx(i){return Of(ax,i.config.apiKey,i.name)}async function fx(i,e,r=!1){if(Ea(i.app))return Promise.reject(Ms(i));const a=mc(i),l=ex(a,e),p=await new sx(a,l,r).execute();return p&&!r&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,e)),p}const hx=600*1e3;class dx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(r=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mx(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!r1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";r.onError($a(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const a=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hx&&this.cachedEventUids.clear(),this.cachedEventUids.has(e_(e))}saveEventToCache(e){this.cachedEventUids.add(e_(e)),this.lastProcessedEventTime=Date.now()}}function e_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function r1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function mx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r1(i);default:return!1}}async function px(i,e={}){return Jl(i,"GET","/v1/projects",e)}const gx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yx=/^https?/;async function vx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await px(i);for(const r of e)try{if(_x(r))return}catch{}Os(i,"unauthorized-domain")}function _x(i){const e=$m(),{protocol:r,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const p=new URL(i);return p.hostname===""&&a===""?r==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&p.hostname===a}if(!yx.test(r))return!1;if(gx.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const bx=new hc(3e4,6e4);function t_(){const i=Ja().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let r=0;r<i.CP.length;r++)i.CP[r]=null}}function wx(i){return new Promise((e,r)=>{function a(){t_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t_(),r($a(i,"network-request-failed"))},timeout:bx.get()})}if(Ja().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ja().gapi?.load)a();else{const l=E2("iframefcb");return Ja()[l]=()=>{gapi.load?a():r($a(i,"network-request-failed"))},b2(`${w2()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function Ex(i){return Vf=Vf||wx(i),Vf}const Tx=new hc(5e3,15e3),Ax="__/auth/iframe",Sx="emulator/auth/iframe",xx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rx(i){const e=i.config;At(e.authDomain,i,"auth-domain-config-required");const r=e.emulator?Ap(e,Sx):`https://${i.config.authDomain}/${Ax}`,a={apiKey:e.apiKey,appName:i.name,v:$l},l=Cx.get(i.config.apiHost);l&&(a.eid=l);const c=i._getFrameworks();return c.length&&(a.fw=c.join(",")),`${r}?${fc(a).slice(1)}`}async function Ix(i){const e=await Ex(i),r=Ja().gapi;return At(r,i,"internal-error"),e.open({where:document.body,url:Rx(i),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xx,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const p=$a(i,"network-request-failed"),b=Ja().setTimeout(()=>{c(p)},Tx.get());function w(){Ja().clearTimeout(b),l(a)}a.ping(w).then(w,()=>{c(p)})}))}const Mx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nx=500,Dx=600,Ox="_blank",kx="http://localhost";class n_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vx(i,e,r,a=Nx,l=Dx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const w={...Mx,width:a.toString(),height:l.toString(),top:c,left:p},E=yi().toLowerCase();r&&(b=Lb(E)?Ox:r),Vb(E)&&(e=e||kx,w.scrollbars="yes");const I=Object.entries(w).reduce((G,[te,z])=>`${G}${te}=${z},`,"");if(h2(E)&&b!=="_self")return Px(e||"",b),new n_(null);const O=window.open(e||"",b,I);At(O,i,"popup-blocked");try{O.focus()}catch{}return new n_(O)}function Px(i,e){const r=document.createElement("a");r.href=i,r.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}const Lx="__/auth/handler",jx="emulator/auth/handler",Ux=encodeURIComponent("fac");async function r_(i,e,r,a,l,c){At(i.config.authDomain,i,"auth-domain-config-required"),At(i.config.apiKey,i,"invalid-api-key");const p={apiKey:i.config.apiKey,appName:i.name,authType:r,redirectUrl:a,v:$l,eventId:l};if(e instanceof Yb){e.setDefaultLanguage(i.languageCode),p.providerId=e.providerId||"",VA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[I,O]of Object.entries({}))p[I]=O}if(e instanceof pc){const I=e.getScopes().filter(O=>O!=="");I.length>0&&(p.scopes=I.join(","))}i.tenantId&&(p.tid=i.tenantId);const b=p;for(const I of Object.keys(b))b[I]===void 0&&delete b[I];const w=await i._getAppCheckToken(),E=w?`#${Ux}=${encodeURIComponent(w)}`:"";return`${zx(i)}?${fc(b).slice(1)}${E}`}function zx({config:i}){return i.emulator?Ap(i,jx):`https://${i.authDomain}/${Lx}`}const km="webStorageSupport";class Bx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$b,this._completeRedirectFn=fx,this._overrideRedirectResult=lx}async _openPopup(e,r,a,l){ks(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await r_(e,r,a,$m(),l);return Vx(e,c,Ip())}async _openRedirect(e,r,a,l){await this._originValidation(e);const c=await r_(e,r,a,$m(),l);return q2(c),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:l,promise:c}=this.eventManagers[r];return l?Promise.resolve(l):(ks(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(e){const r=await Ix(e),a=new dx(e);return r.register("authEvent",l=>(At(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=r,a}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(km,{type:km},l=>{const c=l?.[0]?.[km];c!==void 0&&r(!!c),Os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=vx(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Fb()||Pb()||Cp()}}const Fx=Bx;var i_="@firebase/auth",a_="1.12.0";class Hx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gx(i){Hl(new Xo("auth",(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;At(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const w={apiKey:p,authDomain:b,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hb(i)},E=new v2(a,l,c,w);return A2(E,r),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,a)=>{e.getProvider("auth-internal").initialize()})),Hl(new Xo("auth-internal",e=>{const r=mc(e.getProvider("auth").getImmediate());return(a=>new Hx(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),_o(i_,a_,qx(i)),_o(i_,a_,"esm2020")}const Yx=300,Xx=vb("authIdTokenMaxAge")||Yx;let s_=null;const Wx=i=>async e=>{const r=e&&await e.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>Xx)return;const l=r?.token;s_!==l&&(s_=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Qx(i=Ab()){const e=Ep(i,"auth");if(e.isInitialized())return e.getImmediate();const r=T2(i,{popupRedirectResolver:Fx,persistence:[Z2,B2,$b]}),a=vb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const p=Wx(c.toString());L2(r,p,()=>p(r.currentUser)),P2(r,b=>p(b))}}const l=gb("auth");return l&&S2(r,`http://${l}`),r}function Kx(){return document.getElementsByTagName("head")?.[0]??document}_2({loadJS(i){return new Promise((e,r)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=l=>{const c=$a("internal-error");c.customData=l,r(c)},a.type="text/javascript",a.charset="UTF-8",Kx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gx("Browser");var o_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bo,i1;(function(){var i;function e(X,H){function L(){}L.prototype=H.prototype,X.F=H.prototype,X.prototype=new L,X.prototype.constructor=X,X.D=function(q,R,P){for(var N=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)N[Q-2]=arguments[Q];return H.prototype[R].apply(q,N)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,r),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(X,H,L){L||(L=0);const q=Array(16);if(typeof H=="string")for(var R=0;R<16;++R)q[R]=H.charCodeAt(L++)|H.charCodeAt(L++)<<8|H.charCodeAt(L++)<<16|H.charCodeAt(L++)<<24;else for(R=0;R<16;++R)q[R]=H[L++]|H[L++]<<8|H[L++]<<16|H[L++]<<24;H=X.g[0],L=X.g[1],R=X.g[2];let P=X.g[3],N;N=H+(P^L&(R^P))+q[0]+3614090360&4294967295,H=L+(N<<7&4294967295|N>>>25),N=P+(R^H&(L^R))+q[1]+3905402710&4294967295,P=H+(N<<12&4294967295|N>>>20),N=R+(L^P&(H^L))+q[2]+606105819&4294967295,R=P+(N<<17&4294967295|N>>>15),N=L+(H^R&(P^H))+q[3]+3250441966&4294967295,L=R+(N<<22&4294967295|N>>>10),N=H+(P^L&(R^P))+q[4]+4118548399&4294967295,H=L+(N<<7&4294967295|N>>>25),N=P+(R^H&(L^R))+q[5]+1200080426&4294967295,P=H+(N<<12&4294967295|N>>>20),N=R+(L^P&(H^L))+q[6]+2821735955&4294967295,R=P+(N<<17&4294967295|N>>>15),N=L+(H^R&(P^H))+q[7]+4249261313&4294967295,L=R+(N<<22&4294967295|N>>>10),N=H+(P^L&(R^P))+q[8]+1770035416&4294967295,H=L+(N<<7&4294967295|N>>>25),N=P+(R^H&(L^R))+q[9]+2336552879&4294967295,P=H+(N<<12&4294967295|N>>>20),N=R+(L^P&(H^L))+q[10]+4294925233&4294967295,R=P+(N<<17&4294967295|N>>>15),N=L+(H^R&(P^H))+q[11]+2304563134&4294967295,L=R+(N<<22&4294967295|N>>>10),N=H+(P^L&(R^P))+q[12]+1804603682&4294967295,H=L+(N<<7&4294967295|N>>>25),N=P+(R^H&(L^R))+q[13]+4254626195&4294967295,P=H+(N<<12&4294967295|N>>>20),N=R+(L^P&(H^L))+q[14]+2792965006&4294967295,R=P+(N<<17&4294967295|N>>>15),N=L+(H^R&(P^H))+q[15]+1236535329&4294967295,L=R+(N<<22&4294967295|N>>>10),N=H+(R^P&(L^R))+q[1]+4129170786&4294967295,H=L+(N<<5&4294967295|N>>>27),N=P+(L^R&(H^L))+q[6]+3225465664&4294967295,P=H+(N<<9&4294967295|N>>>23),N=R+(H^L&(P^H))+q[11]+643717713&4294967295,R=P+(N<<14&4294967295|N>>>18),N=L+(P^H&(R^P))+q[0]+3921069994&4294967295,L=R+(N<<20&4294967295|N>>>12),N=H+(R^P&(L^R))+q[5]+3593408605&4294967295,H=L+(N<<5&4294967295|N>>>27),N=P+(L^R&(H^L))+q[10]+38016083&4294967295,P=H+(N<<9&4294967295|N>>>23),N=R+(H^L&(P^H))+q[15]+3634488961&4294967295,R=P+(N<<14&4294967295|N>>>18),N=L+(P^H&(R^P))+q[4]+3889429448&4294967295,L=R+(N<<20&4294967295|N>>>12),N=H+(R^P&(L^R))+q[9]+568446438&4294967295,H=L+(N<<5&4294967295|N>>>27),N=P+(L^R&(H^L))+q[14]+3275163606&4294967295,P=H+(N<<9&4294967295|N>>>23),N=R+(H^L&(P^H))+q[3]+4107603335&4294967295,R=P+(N<<14&4294967295|N>>>18),N=L+(P^H&(R^P))+q[8]+1163531501&4294967295,L=R+(N<<20&4294967295|N>>>12),N=H+(R^P&(L^R))+q[13]+2850285829&4294967295,H=L+(N<<5&4294967295|N>>>27),N=P+(L^R&(H^L))+q[2]+4243563512&4294967295,P=H+(N<<9&4294967295|N>>>23),N=R+(H^L&(P^H))+q[7]+1735328473&4294967295,R=P+(N<<14&4294967295|N>>>18),N=L+(P^H&(R^P))+q[12]+2368359562&4294967295,L=R+(N<<20&4294967295|N>>>12),N=H+(L^R^P)+q[5]+4294588738&4294967295,H=L+(N<<4&4294967295|N>>>28),N=P+(H^L^R)+q[8]+2272392833&4294967295,P=H+(N<<11&4294967295|N>>>21),N=R+(P^H^L)+q[11]+1839030562&4294967295,R=P+(N<<16&4294967295|N>>>16),N=L+(R^P^H)+q[14]+4259657740&4294967295,L=R+(N<<23&4294967295|N>>>9),N=H+(L^R^P)+q[1]+2763975236&4294967295,H=L+(N<<4&4294967295|N>>>28),N=P+(H^L^R)+q[4]+1272893353&4294967295,P=H+(N<<11&4294967295|N>>>21),N=R+(P^H^L)+q[7]+4139469664&4294967295,R=P+(N<<16&4294967295|N>>>16),N=L+(R^P^H)+q[10]+3200236656&4294967295,L=R+(N<<23&4294967295|N>>>9),N=H+(L^R^P)+q[13]+681279174&4294967295,H=L+(N<<4&4294967295|N>>>28),N=P+(H^L^R)+q[0]+3936430074&4294967295,P=H+(N<<11&4294967295|N>>>21),N=R+(P^H^L)+q[3]+3572445317&4294967295,R=P+(N<<16&4294967295|N>>>16),N=L+(R^P^H)+q[6]+76029189&4294967295,L=R+(N<<23&4294967295|N>>>9),N=H+(L^R^P)+q[9]+3654602809&4294967295,H=L+(N<<4&4294967295|N>>>28),N=P+(H^L^R)+q[12]+3873151461&4294967295,P=H+(N<<11&4294967295|N>>>21),N=R+(P^H^L)+q[15]+530742520&4294967295,R=P+(N<<16&4294967295|N>>>16),N=L+(R^P^H)+q[2]+3299628645&4294967295,L=R+(N<<23&4294967295|N>>>9),N=H+(R^(L|~P))+q[0]+4096336452&4294967295,H=L+(N<<6&4294967295|N>>>26),N=P+(L^(H|~R))+q[7]+1126891415&4294967295,P=H+(N<<10&4294967295|N>>>22),N=R+(H^(P|~L))+q[14]+2878612391&4294967295,R=P+(N<<15&4294967295|N>>>17),N=L+(P^(R|~H))+q[5]+4237533241&4294967295,L=R+(N<<21&4294967295|N>>>11),N=H+(R^(L|~P))+q[12]+1700485571&4294967295,H=L+(N<<6&4294967295|N>>>26),N=P+(L^(H|~R))+q[3]+2399980690&4294967295,P=H+(N<<10&4294967295|N>>>22),N=R+(H^(P|~L))+q[10]+4293915773&4294967295,R=P+(N<<15&4294967295|N>>>17),N=L+(P^(R|~H))+q[1]+2240044497&4294967295,L=R+(N<<21&4294967295|N>>>11),N=H+(R^(L|~P))+q[8]+1873313359&4294967295,H=L+(N<<6&4294967295|N>>>26),N=P+(L^(H|~R))+q[15]+4264355552&4294967295,P=H+(N<<10&4294967295|N>>>22),N=R+(H^(P|~L))+q[6]+2734768916&4294967295,R=P+(N<<15&4294967295|N>>>17),N=L+(P^(R|~H))+q[13]+1309151649&4294967295,L=R+(N<<21&4294967295|N>>>11),N=H+(R^(L|~P))+q[4]+4149444226&4294967295,H=L+(N<<6&4294967295|N>>>26),N=P+(L^(H|~R))+q[11]+3174756917&4294967295,P=H+(N<<10&4294967295|N>>>22),N=R+(H^(P|~L))+q[2]+718787259&4294967295,R=P+(N<<15&4294967295|N>>>17),N=L+(P^(R|~H))+q[9]+3951481745&4294967295,X.g[0]=X.g[0]+H&4294967295,X.g[1]=X.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,X.g[2]=X.g[2]+R&4294967295,X.g[3]=X.g[3]+P&4294967295}a.prototype.v=function(X,H){H===void 0&&(H=X.length);const L=H-this.blockSize,q=this.C;let R=this.h,P=0;for(;P<H;){if(R==0)for(;P<=L;)l(this,X,P),P+=this.blockSize;if(typeof X=="string"){for(;P<H;)if(q[R++]=X.charCodeAt(P++),R==this.blockSize){l(this,q),R=0;break}}else for(;P<H;)if(q[R++]=X[P++],R==this.blockSize){l(this,q),R=0;break}}this.h=R,this.o+=H},a.prototype.A=function(){var X=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);X[0]=128;for(var H=1;H<X.length-8;++H)X[H]=0;H=this.o*8;for(var L=X.length-8;L<X.length;++L)X[L]=H&255,H/=256;for(this.v(X),X=Array(16),H=0,L=0;L<4;++L)for(let q=0;q<32;q+=8)X[H++]=this.g[L]>>>q&255;return X};function c(X,H){var L=b;return Object.prototype.hasOwnProperty.call(L,X)?L[X]:L[X]=H(X)}function p(X,H){this.h=H;const L=[];let q=!0;for(let R=X.length-1;R>=0;R--){const P=X[R]|0;q&&P==H||(L[R]=P,q=!1)}this.g=L}var b={};function w(X){return-128<=X&&X<128?c(X,function(H){return new p([H|0],H<0?-1:0)}):new p([X|0],X<0?-1:0)}function E(X){if(isNaN(X)||!isFinite(X))return O;if(X<0)return we(E(-X));const H=[];let L=1;for(let q=0;X>=L;q++)H[q]=X/L|0,L*=4294967296;return new p(H,0)}function I(X,H){if(X.length==0)throw Error("number format error: empty string");if(H=H||10,H<2||36<H)throw Error("radix out of range: "+H);if(X.charAt(0)=="-")return we(I(X.substring(1),H));if(X.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=E(Math.pow(H,8));let q=O;for(let P=0;P<X.length;P+=8){var R=Math.min(8,X.length-P);const N=parseInt(X.substring(P,P+R),H);R<8?(R=E(Math.pow(H,R)),q=q.j(R).add(E(N))):(q=q.j(L),q=q.add(E(N)))}return q}var O=w(0),G=w(1),te=w(16777216);i=p.prototype,i.m=function(){if(De(this))return-we(this).m();let X=0,H=1;for(let L=0;L<this.g.length;L++){const q=this.i(L);X+=(q>=0?q:4294967296+q)*H,H*=4294967296}return X},i.toString=function(X){if(X=X||10,X<2||36<X)throw Error("radix out of range: "+X);if(z(this))return"0";if(De(this))return"-"+we(this).toString(X);const H=E(Math.pow(X,6));var L=this;let q="";for(;;){const R=tt(L,H).g;L=Le(L,R.j(H));let P=((L.g.length>0?L.g[0]:L.h)>>>0).toString(X);if(L=R,z(L))return P+q;for(;P.length<6;)P="0"+P;q=P+q}},i.i=function(X){return X<0?0:X<this.g.length?this.g[X]:this.h};function z(X){if(X.h!=0)return!1;for(let H=0;H<X.g.length;H++)if(X.g[H]!=0)return!1;return!0}function De(X){return X.h==-1}i.l=function(X){return X=Le(this,X),De(X)?-1:z(X)?0:1};function we(X){const H=X.g.length,L=[];for(let q=0;q<H;q++)L[q]=~X.g[q];return new p(L,~X.h).add(G)}i.abs=function(){return De(this)?we(this):this},i.add=function(X){const H=Math.max(this.g.length,X.g.length),L=[];let q=0;for(let R=0;R<=H;R++){let P=q+(this.i(R)&65535)+(X.i(R)&65535),N=(P>>>16)+(this.i(R)>>>16)+(X.i(R)>>>16);q=N>>>16,P&=65535,N&=65535,L[R]=N<<16|P}return new p(L,L[L.length-1]&-2147483648?-1:0)};function Le(X,H){return X.add(we(H))}i.j=function(X){if(z(this)||z(X))return O;if(De(this))return De(X)?we(this).j(we(X)):we(we(this).j(X));if(De(X))return we(this.j(we(X)));if(this.l(te)<0&&X.l(te)<0)return E(this.m()*X.m());const H=this.g.length+X.g.length,L=[];for(var q=0;q<2*H;q++)L[q]=0;for(q=0;q<this.g.length;q++)for(let R=0;R<X.g.length;R++){const P=this.i(q)>>>16,N=this.i(q)&65535,Q=X.i(R)>>>16,ae=X.i(R)&65535;L[2*q+2*R]+=N*ae,U(L,2*q+2*R),L[2*q+2*R+1]+=P*ae,U(L,2*q+2*R+1),L[2*q+2*R+1]+=N*Q,U(L,2*q+2*R+1),L[2*q+2*R+2]+=P*Q,U(L,2*q+2*R+2)}for(X=0;X<H;X++)L[X]=L[2*X+1]<<16|L[2*X];for(X=H;X<2*H;X++)L[X]=0;return new p(L,0)};function U(X,H){for(;(X[H]&65535)!=X[H];)X[H+1]+=X[H]>>>16,X[H]&=65535,H++}function je(X,H){this.g=X,this.h=H}function tt(X,H){if(z(H))throw Error("division by zero");if(z(X))return new je(O,O);if(De(X))return H=tt(we(X),H),new je(we(H.g),we(H.h));if(De(H))return H=tt(X,we(H)),new je(we(H.g),H.h);if(X.g.length>30){if(De(X)||De(H))throw Error("slowDivide_ only works with positive integers.");for(var L=G,q=H;q.l(X)<=0;)L=ct(L),q=ct(q);var R=it(L,1),P=it(q,1);for(q=it(q,2),L=it(L,2);!z(q);){var N=P.add(q);N.l(X)<=0&&(R=R.add(L),P=N),q=it(q,1),L=it(L,1)}return H=Le(X,R.j(H)),new je(R,H)}for(R=O;X.l(H)>=0;){for(L=Math.max(1,Math.floor(X.m()/H.m())),q=Math.ceil(Math.log(L)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),P=E(L),N=P.j(H);De(N)||N.l(X)>0;)L-=q,P=E(L),N=P.j(H);z(P)&&(P=G),R=R.add(P),X=Le(X,N)}return new je(R,X)}i.B=function(X){return tt(this,X).h},i.and=function(X){const H=Math.max(this.g.length,X.g.length),L=[];for(let q=0;q<H;q++)L[q]=this.i(q)&X.i(q);return new p(L,this.h&X.h)},i.or=function(X){const H=Math.max(this.g.length,X.g.length),L=[];for(let q=0;q<H;q++)L[q]=this.i(q)|X.i(q);return new p(L,this.h|X.h)},i.xor=function(X){const H=Math.max(this.g.length,X.g.length),L=[];for(let q=0;q<H;q++)L[q]=this.i(q)^X.i(q);return new p(L,this.h^X.h)};function ct(X){const H=X.g.length+1,L=[];for(let q=0;q<H;q++)L[q]=X.i(q)<<1|X.i(q-1)>>>31;return new p(L,X.h)}function it(X,H){const L=H>>5;H%=32;const q=X.g.length-L,R=[];for(let P=0;P<q;P++)R[P]=H>0?X.i(P+L)>>>H|X.i(P+L+1)<<32-H:X.i(P+L);return new p(R,X.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,i1=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=I,bo=p}).apply(typeof o_<"u"?o_:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var a1,Hu,s1,Pf,ep,o1,l1,u1;(function(){var i,e=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=r(this);function l(u,y){if(y)e:{var A=a;u=u.split(".");for(var k=0;k<u.length-1;k++){var se=u[k];if(!(se in A))break e;A=A[se]}u=u[u.length-1],k=A[u],y=y(k),y!=k&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],k;for(k in y)Object.prototype.hasOwnProperty.call(y,k)&&A.push([k,y[k]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function I(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var k=A.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function O(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(k,se,pe){for(var ze=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ze[xt-2]=arguments[xt];return y.prototype[se].apply(k,ze)}}var G=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function te(u){const y=u.length;if(y>0){const A=Array(y);for(let k=0;k<y;k++)A[k]=u[k];return A}return[]}function z(u,y){for(let k=1;k<arguments.length;k++){const se=arguments[k];var A=typeof se;if(A=A!="object"?A:se?Array.isArray(se)?"array":A:"null",A=="array"||A=="object"&&typeof se.length=="number"){A=u.length||0;const pe=se.length||0;u.length=A+pe;for(let ze=0;ze<pe;ze++)u[A+ze]=se[ze]}else u.push(se)}}class De{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function we(u){p.setTimeout(()=>{throw u},0)}function Le(){var u=X;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class U{constructor(){this.h=this.g=null}add(y,A){const k=je.get();k.set(y,A),this.h?this.h.next=k:this.g=k,this.h=k}}var je=new De(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,it=!1,X=new U,H=()=>{const u=Promise.resolve(void 0);ct=()=>{u.then(L)}};function L(){for(var u;u=Le();){try{u.h.call(u.g)}catch(A){we(A)}var y=je;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}it=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Q(u,y){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}O(Q,R),Q.prototype.init=function(u,y){const A=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),B=0;function $(u,y,A,k,se){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!k,this.ha=se,this.key=++B,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,y,A){for(const k in u)y.call(A,u[k],k,u)}function xe(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function j(u){const y={};for(const A in u)y[A]=u[A];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ne(u,y){let A,k;for(let se=1;se<arguments.length;se++){k=arguments[se];for(A in k)u[A]=k[A];for(let pe=0;pe<oe.length;pe++)A=oe[pe],Object.prototype.hasOwnProperty.call(k,A)&&(u[A]=k[A])}}function Ae(u){this.src=u,this.g={},this.h=0}Ae.prototype.add=function(u,y,A,k,se){const pe=u.toString();u=this.g[pe],u||(u=this.g[pe]=[],this.h++);const ze=$e(u,y,k,se);return ze>-1?(y=u[ze],A||(y.fa=!1)):(y=new $(y,this.src,pe,!!k,se),y.fa=A,u.push(y)),y};function Ie(u,y){const A=y.type;if(A in u.g){var k=u.g[A],se=Array.prototype.indexOf.call(k,y,void 0),pe;(pe=se>=0)&&Array.prototype.splice.call(k,se,1),pe&&(me(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function $e(u,y,A,k){for(let se=0;se<u.length;++se){const pe=u[se];if(!pe.da&&pe.listener==y&&pe.capture==!!A&&pe.ha==k)return se}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),Rt={};function ot(u,y,A,k,se){if(Array.isArray(y)){for(let pe=0;pe<y.length;pe++)ot(u,y[pe],A,k,se);return null}return A=Qt(A),u&&u[ae]?u.J(y,A,b(k)?!!k.capture:!1,se):Lt(u,y,A,!1,k,se)}function Lt(u,y,A,k,se,pe){if(!y)throw Error("Invalid event type");const ze=b(se)?!!se.capture:!!se;let xt=Kn(u);if(xt||(u[dt]=xt=new Ae(u)),A=xt.add(y,A,k,ze,pe),A.proxy)return A;if(k=Bt(),A.proxy=k,k.src=u,k.listener=A,u.addEventListener)P||(se=ze),se===void 0&&(se=!1),u.addEventListener(y.toString(),k,se);else if(u.attachEvent)u.attachEvent(Xt(y.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Bt(){function u(A){return y.call(u.src,u.listener,A)}const y=Wt;return u}function ft(u,y,A,k,se){if(Array.isArray(y))for(var pe=0;pe<y.length;pe++)ft(u,y[pe],A,k,se);else k=b(k)?!!k.capture:!!k,A=Qt(A),u&&u[ae]?(u=u.i,pe=String(y).toString(),pe in u.g&&(y=u.g[pe],A=$e(y,A,k,se),A>-1&&(me(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[pe],u.h--)))):u&&(u=Kn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=$e(y,A,k,se)),(A=u>-1?y[u]:null)&&It(A))}function It(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ae])Ie(y.i,u);else{var A=u.type,k=u.proxy;y.removeEventListener?y.removeEventListener(A,k,u.capture):y.detachEvent?y.detachEvent(Xt(A),k):y.addListener&&y.removeListener&&y.removeListener(k),(A=Kn(y))?(Ie(A,u),A.h==0&&(A.src=null,y[dt]=null)):me(u)}}}function Xt(u){return u in Rt?Rt[u]:Rt[u]="on"+u}function Wt(u,y){if(u.da)u=!0;else{y=new Q(y,this);const A=u.listener,k=u.ha||u.src;u.fa&&It(u),u=A.call(k,y)}return u}function Kn(u){return u=u[dt],u instanceof Ae?u:null}var Mr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qt(u){return typeof u=="function"?u:(u[Mr]||(u[Mr]=function(y){return u.handleEvent(y)}),u[Mr])}function Ke(){q.call(this),this.i=new Ae(this),this.M=this,this.G=null}O(Ke,q),Ke.prototype[ae]=!0,Ke.prototype.removeEventListener=function(u,y,A,k){ft(this,u,y,A,k)};function St(u,y){var A,k=u.G;if(k)for(A=[];k;k=k.G)A.push(k);if(u=u.M,k=y.type||y,typeof y=="string")y=new R(y,u);else if(y instanceof R)y.target=y.target||u;else{var se=y;y=new R(k,u),Ne(y,se)}se=!0;let pe,ze;if(A)for(ze=A.length-1;ze>=0;ze--)pe=y.g=A[ze],se=an(pe,k,!0,y)&&se;if(pe=y.g=u,se=an(pe,k,!0,y)&&se,se=an(pe,k,!1,y)&&se,A)for(ze=0;ze<A.length;ze++)pe=y.g=A[ze],se=an(pe,k,!1,y)&&se}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let k=0;k<A.length;k++)me(A[k]);delete u.g[y],u.h--}}this.G=null},Ke.prototype.J=function(u,y,A,k){return this.i.add(String(u),y,!1,A,k)},Ke.prototype.K=function(u,y,A,k){return this.i.add(String(u),y,!0,A,k)};function an(u,y,A,k){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let se=!0;for(let pe=0;pe<y.length;++pe){const ze=y[pe];if(ze&&!ze.da&&ze.capture==A){const xt=ze.listener,tr=ze.ha||ze.src;ze.fa&&Ie(u.i,ze),se=xt.call(tr,k)!==!1&&se}}return se&&!k.defaultPrevented}function vt(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function vn(u){u.g=vt(()=>{u.g=null,u.i&&(u.i=!1,vn(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class bt extends q{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(u){q.call(this),this.h=u,this.g={}}O(_n,q);var ln=[];function C(u){he(u.g,function(y,A){this.g.hasOwnProperty(A)&&It(y)},u),u.g={}}_n.prototype.N=function(){_n.Z.N.call(this),C(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var g=p.JSON.stringify,_=p.JSON.parse,V=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function J(){}function ge(){}var Se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){R.call(this,"d")}O(He,R);function We(){R.call(this,"c")}O(We,R);var Pe={},Tt=null;function Ft(){return Tt=Tt||new Ke}Pe.Ia="serverreachability";function kn(u){R.call(this,Pe.Ia,u)}O(kn,R);function jt(u){const y=Ft();St(y,new kn(y))}Pe.STAT_EVENT="statevent";function Un(u,y){R.call(this,Pe.STAT_EVENT,u),this.stat=y}O(Un,R);function nn(u){const y=Ft();St(y,new Un(y,u))}Pe.Ja="timingevent";function An(u,y){R.call(this,Pe.Ja,u),this.size=y}O(An,R);function zn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Vn(){this.g=!0}Vn.prototype.ua=function(){this.g=!1};function qr(u,y,A,k,se,pe){u.info(function(){if(u.g)if(pe){var ze="",xt=pe.split("&");for(let fn=0;fn<xt.length;fn++){var tr=xt[fn].split("=");if(tr.length>1){const Hn=tr[0];tr=tr[1];const ci=Hn.split("_");ze=ci.length>=2&&ci[1]=="type"?ze+(Hn+"="+tr+"&"):ze+(Hn+"=redacted&")}}}else ze=null;else ze=pe;return"XMLHTTP REQ ("+k+") [attempt "+se+"]: "+y+`
`+A+`
`+ze})}function _t(u,y,A,k,se,pe,ze){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+se+"]: "+y+`
`+A+`
`+pe+" "+ze})}function Gn(u,y,A,k){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+kt(u,A)+(k?" "+k:"")})}function $n(u,y){u.info(function(){return"TIMEOUT: "+y})}Vn.prototype.info=function(){};function kt(u,y){if(!u.g)return y;if(!y)return null;try{const pe=JSON.parse(y);if(pe){for(u=0;u<pe.length;u++)if(Array.isArray(pe[u])){var A=pe[u];if(!(A.length<2)){var k=A[1];if(Array.isArray(k)&&!(k.length<1)){var se=k[0];if(se!="noop"&&se!="stop"&&se!="close")for(let ze=1;ze<k.length;ze++)k[ze]=""}}}}return g(pe)}catch{return y}}var Bn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vi;function aa(){}O(aa,J),aa.prototype.g=function(){return new XMLHttpRequest},vi=new aa;function Xe(u){return encodeURIComponent(String(u))}function sa(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Nr(u,y,A,k){this.j=u,this.i=y,this.l=A,this.S=k||1,this.V=new _n(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}var un={},Pn={};function _i(u,y,A){u.M=1,u.A=rr(bn(y)),u.u=A,u.R=!0,oa(u,null)}function oa(u,y){u.F=Date.now(),ni(u),u.B=bn(u.A);var A=u.B,k=u.S;Array.isArray(k)||(k=[String(k)]),ua(A.i,"t",k),u.C=0,A=u.j.L,u.h=new yr,u.g=lt(u.j,A?y:null,!u.u),u.P>0&&(u.O=new bt(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,k=u.ba;var se="readystatechange";Array.isArray(se)||(se&&(ln[0]=se.toString()),se=ln);for(let pe=0;pe<se.length;pe++){const ze=ot(A,se[pe],k||y.handleEvent,!1,y.h||y);if(!ze)break;y.g[ze.key]=ze}y=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),jt(),qr(u.i,u.v,u.B,u.l,u.S,u.u)}Nr.prototype.ba=function(u){u=u.target;const y=this.O;y&&Ai(u)==3?y.j():this.Y(u)},Nr.prototype.Y=function(u){try{if(u==this.g)e:{const xt=Ai(this.g),tr=this.g.ya(),fn=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||hr(this.g)))){this.K||xt!=4||tr==7||(tr==8||fn<=0?jt(3):jt(2)),er(this);var y=this.g.ca();this.X=y;var A=za(this);if(this.o=y==200,_t(this.i,this.v,this.B,this.l,this.S,xt,y),this.o){if(this.U&&!this.L){t:{if(this.g){var k,se=this.g;if((k=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(k)){var pe=k;break t}}pe=null}if(u=pe)Gn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Or(this,u);else{this.o=!1,this.m=3,nn(12),cr(this),Gr(this);break e}}if(this.R){u=!0;let Hn;for(;!this.K&&this.C<A.length;)if(Hn=xa(this,A),Hn==Pn){xt==4&&(this.m=4,nn(14),u=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==un){this.m=4,nn(15),Gn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Gn(this.i,this.l,Hn,null),Or(this,Hn);if(Sa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||A.length!=0||this.h.h||(this.m=1,nn(16),u=!1),this.o=this.o&&u,!u)Gn(this.i,this.l,A,"[Invalid Chunked Response]"),cr(this),Gr(this);else if(A.length>0&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.aa&&!ze.P&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),_e(ze),ze.P=!0,nn(11))}}else Gn(this.i,this.l,A,null),Or(this,A);xt==4&&cr(this),this.o&&!this.K&&(xt==4?Fe(this.j,this):(this.o=!1,ni(this)))}else sr(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),cr(this),Gr(this)}}}catch{}finally{}};function za(u){if(!Sa(u))return u.g.la();const y=hr(u.g);if(y==="")return"";let A="";const k=y.length,se=Ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cr(u),Gr(u),"";u.h.i=new p.TextDecoder}for(let pe=0;pe<k;pe++)u.h.h=!0,A+=u.h.i.decode(y[pe],{stream:!(se&&pe==k-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function Sa(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function xa(u,y){var A=u.C,k=y.indexOf(`
`,A);return k==-1?Pn:(A=Number(y.substring(A,k)),isNaN(A)?un:(k+=1,k+A>y.length?Pn:(y=y.slice(k,k+A),u.C=k+A,y)))}Nr.prototype.cancel=function(){this.K=!0,cr(this)};function ni(u){u.T=Date.now()+u.H,Dr(u,u.H)}function Dr(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=zn(E(u.aa,u),y)}function er(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Nr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?($n(this.i,this.B),this.M!=2&&(jt(),nn(17)),cr(this),this.m=2,Gr(this)):Dr(this,this.T-u)};function Gr(u){u.j.I==0||u.K||Fe(u.j,u)}function cr(u){er(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,C(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Or(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||Vr(A.h,u))){if(!u.L&&Vr(A.h,u)&&A.I==3){try{var k=A.Ba.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var se=k;if(se[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)be(A),Si(A);else break e;re(A),nn(18)}}else A.xa=se[1],0<A.xa-A.K&&se[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=zn(E(A.Va,A),6e3));Yr(A.h)<=1&&A.ta&&(A.ta=void 0)}else ke(A,11)}else if((u.L||A.g==u)&&be(A),!N(y))for(se=A.Ba.g.parse(y),y=0;y<se.length;y++){let fn=se[y];const Hn=fn[0];if(!(Hn<=A.K))if(A.K=Hn,fn=fn[1],A.I==2)if(fn[0]=="c"){A.M=fn[1],A.ba=fn[2];const ci=fn[3];ci!=null&&(A.ka=ci,A.j.info("VER="+A.ka));const Pi=fn[4];Pi!=null&&(A.za=Pi,A.j.info("SVER="+A.za));const Li=fn[5];Li!=null&&typeof Li=="number"&&Li>0&&(k=1.5*Li,A.O=k,A.j.info("backChannelRequestTimeoutMs_="+k)),k=A;const xi=u.g;if(xi){const ma=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var pe=k.h;pe.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Ba(pe,pe.h),pe.h=null))}if(k.G){const ls=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;ls&&(k.wa=ls,pt(k.J,k.G,ls))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),k=A;var ze=u;if(k.na=Ye(k,k.L?k.ba:null,k.W),ze.L){vr(k.h,ze);var xt=ze,tr=k.O;tr&&(xt.H=tr),xt.D&&(er(xt),ni(xt)),k.g=ze}else Y(k);A.i.length>0&&Ur(A)}else fn[0]!="stop"&&fn[0]!="close"||ke(A,7);else A.I==3&&(fn[0]=="stop"||fn[0]=="close"?fn[0]=="stop"?ke(A,7):as(A):fn[0]!="noop"&&A.l&&A.l.qa(fn),A.A=0)}}jt(4)}catch{}}var Rn=class{constructor(u,y){this.g=u,this.map=y}};function Ca(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yr(u){return u.h?1:u.g?u.g.size:0}function Vr(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ba(u,y){u.g?u.g.add(y):u.h=y}function vr(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Ca.prototype.cancel=function(){if(this.i=la(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function la(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return te(u.i)}var Ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ni(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const k=u[A].indexOf("=");let se,pe=null;k>=0?(se=u[A].substring(0,k),pe=u[A].substring(k+1)):se=u[A],y(se,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Pr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Pr?(this.l=u.l,Jn(this,u.j),this.o=u.o,this.g=u.g,ri(this,u.u),this.h=u.h,ii(this,ca(u.i)),this.m=u.m):u&&(y=String(u).match(Ra))?(this.l=!1,Jn(this,y[1]||"",!0),this.o=mt(y[2]||""),this.g=mt(y[3]||"",!0),ri(this,y[4]),this.h=mt(y[5]||"",!0),ii(this,y[6]||"",!0),this.m=mt(y[7]||"")):(this.l=!1,this.i=new bi(null,this.l))}Pr.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(fr(y,Ia,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(fr(y,Ia,!0),"@"),u.push(Xe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(fr(A,A.charAt(0)=="/"?Ma:is,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",fr(A,Di)),u.join("")},Pr.prototype.resolve=function(u){const y=bn(this);let A=!!u.j;A?Jn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var k=u.h;if(A)ri(y,u.u);else if(A=!!u.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var se=y.h.lastIndexOf("/");se!=-1&&(k=y.h.slice(0,se+1)+k)}if(se=k,se==".."||se==".")k="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){k=se.lastIndexOf("/",0)==0,se=se.split("/");const pe=[];for(let ze=0;ze<se.length;){const xt=se[ze++];xt=="."?k&&ze==se.length&&pe.push(""):xt==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),k&&ze==se.length&&pe.push("")):(pe.push(xt),k=!0)}k=pe.join("/")}else k=se}return A?y.h=k:A=u.i.toString()!=="",A?ii(y,ca(u.i)):A=!!u.m,A&&(y.m=u.m),y};function bn(u){return new Pr(u)}function Jn(u,y,A){u.j=A?mt(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function ri(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function ii(u,y,A){y instanceof bi?(u.i=y,fa(u.i,u.l)):(A||(y=fr(y,cn)),u.i=new bi(y,u.l))}function pt(u,y,A){u.i.set(y,A)}function rr(u){return pt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mt(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,Ln),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ia=/[#\/\?@]/g,is=/[#\?:]/g,Ma=/[#\?]/g,cn=/[#\?@]/g,Di=/#/g;function bi(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function ir(u){u.g||(u.g=new Map,u.h=0,u.i&&Ni(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}i=bi.prototype,i.add=function(u,y){ir(this),this.i=null,u=Ei(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function ai(u,y){ir(u),y=Ei(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Na(u,y){return ir(u),y=Ei(u,y),u.g.has(y)}i.forEach=function(u,y){ir(this),this.g.forEach(function(A,k){A.forEach(function(se){u.call(y,se,k,this)},this)},this)};function wi(u,y){ir(u);let A=[];if(typeof y=="string")Na(u,y)&&(A=A.concat(u.g.get(Ei(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}i.set=function(u,y){return ir(this),this.i=null,u=Ei(this,u),Na(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},i.get=function(u,y){return u?(u=wi(this,u),u.length>0?String(u[0]):y):y};function ua(u,y,A){ai(u,y),A.length>0&&(u.i=null,u.g.set(Ei(u,y),te(A)),u.h+=A.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let k=0;k<y.length;k++){var A=y[k];const se=Xe(A);A=wi(this,A);for(let pe=0;pe<A.length;pe++){let ze=se;A[pe]!==""&&(ze+="="+Xe(A[pe])),u.push(ze)}}return this.i=u.join("&")};function ca(u){const y=new bi;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Ei(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function fa(u,y){y&&!u.j&&(ir(u),u.i=null,u.g.forEach(function(A,k){const se=k.toLowerCase();k!=se&&(ai(this,k),ua(this,se,A))},u)),u.j=y}function si(u,y){const A=new Vn;if(p.Image){const k=new Image;k.onload=I(oi,A,"TestLoadImage: loaded",!0,y,k),k.onerror=I(oi,A,"TestLoadImage: error",!1,y,k),k.onabort=I(oi,A,"TestLoadImage: abort",!1,y,k),k.ontimeout=I(oi,A,"TestLoadImage: timeout",!1,y,k),p.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else y(!1)}function Fa(u,y){const A=new Vn,k=new AbortController,se=setTimeout(()=>{k.abort(),oi(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:k.signal}).then(pe=>{clearTimeout(se),pe.ok?oi(A,"TestPingServer: ok",!0,y):oi(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(se),oi(A,"TestPingServer: error",!1,y)})}function oi(u,y,A,k,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),k(A)}catch{}}function Lr(){this.g=new V}function jr(u){this.i=u.Sb||null,this.h=u.ab||!1}O(jr,J),jr.prototype.g=function(){return new li(this.i,this.h)};function li(u,y){Ke.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}O(li,Ke),i=li.prototype,i.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,_r(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Xr(this):_r(this),this.readyState==3&&Gi(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Xr(this))},i.Na=function(u){this.g&&(this.response=u,Xr(this))},i.ga=function(){this.g&&Xr(this)};function Xr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,_r(u)}i.setRequestHeader=function(u,y){this.A.append(u,y)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function _r(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ar(u){let y="";return he(u,function(A,k){y+=k,y+=":",y+=A,y+=`\r
`}),y}function Oi(u,y,A){e:{for(k in A){var k=!1;break e}k=!0}k||(A=ar(A),typeof u=="string"?A!=null&&Xe(A):pt(u,y,A))}function Mt(u){Ke.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}O(Mt,Ke);var ki=/^https?$/i,Cr=["POST","PUT"];i=Mt.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,y,A,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vi.g(),this.g.onreadystatechange=G(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(pe){Yi(this,pe);return}if(u=A||"",A=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var se in k)A.set(se,k[se]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const pe of k.keys())A.set(pe,k.get(pe));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(A.keys()).find(pe=>pe.toLowerCase()=="content-type"),se=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Cr,y,void 0)>=0)||k||se||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,ze]of A)this.g.setRequestHeader(pe,ze);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(pe){Yi(this,pe)}};function Yi(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Xi(u),Ti(u)}function Xi(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,St(this,"complete"),St(this,"abort"),Ti(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),Mt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Wi(this):this.Xa())},i.Xa=function(){Wi(this)};function Wi(u){if(u.h&&typeof c<"u"){if(u.v&&Ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(St(u,"readystatechange"),Ai(u)==4){u.h=!1;try{const pe=u.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var k;if(k=pe===0){let ze=String(u.D).match(Ra)[1]||null;!ze&&p.self&&p.self.location&&(ze=p.self.location.protocol.slice(0,-1)),k=!ki.test(ze?ze.toLowerCase():"")}A=k}if(A)St(u,"complete"),St(u,"success");else{u.o=6;try{var se=Ai(u)>2?u.g.statusText:""}catch{se=""}u.l=se+" ["+u.ca()+"]",Xi(u)}}finally{Ti(u)}}}}function Ti(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||St(u,"ready");try{A.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ai(u){return u.g?u.g.readyState:0}i.ca=function(){try{return Ai(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),_(y)}};function hr(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function sr(u){const y={};u=(u.g&&Ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(N(u[k]))continue;var A=sa(u[k]);const se=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const pe=y[se]||[];y[se]=pe,pe.push(A)}xe(y,function(k){return k.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Qi(u){this.za=0,this.i=[],this.j=new Vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ca(u&&u.concurrentRequestLimit),this.Ba=new Lr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Qi.prototype,i.ka=8,i.I=1,i.connect=function(u,y,A,k){nn(0),this.W=u,this.H=y||{},A&&k!==void 0&&(this.H.OSID=A,this.H.OAID=k),this.F=this.X,this.J=Ye(this,null,this.W),Ur(this)};function as(u){if(ui(u),u.I==3){var y=u.V++,A=bn(u.J);if(pt(A,"SID",u.M),pt(A,"RID",y),pt(A,"TYPE","terminate"),da(u,A),y=new Nr(u,u.j,y),y.M=2,y.A=rr(bn(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=lt(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ni(y)}ut(u)}function Si(u){u.g&&(_e(u),u.g.cancel(),u.g=null)}function ui(u){Si(u),u.v&&(p.clearTimeout(u.v),u.v=null),be(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function Ur(u){if(!kr(u.h)&&!u.m){u.m=!0;var y=u.Ea;ct||H(),it||(ct(),it=!0),X.add(y,u),u.D=0}}function ha(u,y){return Yr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=zn(E(u.Ea,u,y),Ge(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const se=new Nr(this,this.j,u);let pe=this.o;if(this.U&&(pe?(pe=j(pe),Ne(pe,this.U)):pe=this.U),this.u!==null||this.R||(se.J=pe,pe=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var k=this.i[A];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=ss(this,se,y),A=bn(this.J),pt(A,"RID",u),pt(A,"CVER",22),this.G&&pt(A,"X-HTTP-Session-Id",this.G),da(this,A),pe&&(this.R?y="headers="+Xe(ar(pe))+"&"+y:this.u&&Oi(A,this.u,pe)),Ba(this.h,se),this.Ra&&pt(A,"TYPE","init"),this.S?(pt(A,"$req",y),pt(A,"SID","null"),se.U=!0,_i(se,A,null)):_i(se,A,y),this.I=2}}else this.I==3&&(u?Ha(this,u):this.i.length==0||kr(this.h)||Ha(this))};function Ha(u,y){var A;y?A=y.l:A=u.V++;const k=bn(u.J);pt(k,"SID",u.M),pt(k,"RID",A),pt(k,"AID",u.K),da(u,k),u.u&&u.o&&Oi(k,u.u,u.o),A=new Nr(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=ss(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ba(u.h,A),_i(A,k,y)}function da(u,y){u.H&&he(u.H,function(A,k){pt(y,k,A)}),u.l&&he({},function(A,k){pt(y,k,A)})}function ss(u,y,A){A=Math.min(u.i.length,A);const k=u.l?E(u.l.Ka,u.l,u):null;e:{var se=u.i;let xt=-1;for(;;){const tr=["count="+A];xt==-1?A>0?(xt=se[0].g,tr.push("ofs="+xt)):xt=0:tr.push("ofs="+xt);let fn=!0;for(let Hn=0;Hn<A;Hn++){var pe=se[Hn].g;const ci=se[Hn].map;if(pe-=xt,pe<0)xt=Math.max(0,se[Hn].g-100),fn=!1;else try{pe="req"+pe+"_"||"";try{var ze=ci instanceof Map?ci:Object.entries(ci);for(const[Pi,Li]of ze){let xi=Li;b(Li)&&(xi=g(Li)),tr.push(pe+Pi+"="+encodeURIComponent(xi))}}catch(Pi){throw tr.push(pe+"type="+encodeURIComponent("_badmap")),Pi}}catch{k&&k(ci)}}if(fn){ze=tr.join("&");break e}}ze=void 0}return u=u.i.splice(0,A),y.G=u,ze}function Y(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ct||H(),it||(ct(),it=!0),X.add(y,u),u.A=0}}function re(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=zn(E(u.Da,u),Ge(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,ve(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=zn(E(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),Si(this),ve(this))};function _e(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function ve(u){u.g=new Nr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=bn(u.na);pt(y,"RID","rpc"),pt(y,"SID",u.M),pt(y,"AID",u.K),pt(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&pt(y,"TO",u.ia),pt(y,"TYPE","xmlhttp"),da(u,y),u.u&&u.o&&Oi(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=rr(bn(y)),A.u=null,A.R=!0,oa(A,u)}i.Va=function(){this.C!=null&&(this.C=null,Si(this),re(this),nn(19))};function be(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Fe(u,y){var A=null;if(u.g==y){be(u),_e(u),u.g=null;var k=2}else if(Vr(u.h,y))A=y.G,vr(u.h,y),k=1;else return;if(u.I!=0){if(y.o)if(k==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var se=u.D;k=Ft(),St(k,new An(k,A)),Ur(u)}else Y(u);else if(se=y.m,se==3||se==0&&y.X>0||!(k==1&&ha(u,y)||k==2&&re(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),se){case 1:ke(u,5);break;case 4:ke(u,10);break;case 3:ke(u,6);break;default:ke(u,2)}}}function Ge(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function ke(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),k=u.Ua;const se=!k;k=new Pr(k||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Jn(k,"https"),rr(k),se?si(k.toString(),A):Fa(k.toString(),A)}else nn(2);u.I=0,u.l&&u.l.pa(y),ut(u),ui(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function ut(u){if(u.I=0,u.ja=[],u.l){const y=la(u.h);(y.length!=0||u.i.length!=0)&&(z(u.ja,y),z(u.ja,u.i),u.h.i.length=0,te(u.i),u.i.length=0),u.l.oa()}}function Ye(u,y,A){var k=A instanceof Pr?bn(A):new Pr(A);if(k.g!="")y&&(k.g=y+"."+k.g),ri(k,k.u);else{var se=p.location;k=se.protocol,y=y?y+"."+se.hostname:se.hostname,se=+se.port;const pe=new Pr(null);k&&Jn(pe,k),y&&(pe.g=y),se&&ri(pe,se),A&&(pe.h=A),k=pe}return A=u.G,y=u.wa,A&&y&&pt(k,A,y),pt(k,"VER",u.ka),da(u,k),k}function lt(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Mt(new jr({ab:A})):new Mt(u.ma),y.Fa(u.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function In(){}i=In.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function or(){}or.prototype.g=function(u,y){return new Fn(u,y)};function Fn(u,y){Ke.call(this),this.g=new Qi(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!N(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Da(this)}O(Fn,Ke),Fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){as(this.g)},Fn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=g(u),u=A);y.i.push(new Rn(y.Ya++,u)),y.I==3&&Ur(y)},Fn.prototype.N=function(){this.g.l=null,delete this.j,as(this.g),delete this.g,Fn.Z.N.call(this)};function os(u){He.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}O(os,He);function Ki(){We.call(this),this.status=1}O(Ki,We);function Da(u){this.g=u}O(Da,In),Da.prototype.ra=function(){St(this.g,"a")},Da.prototype.qa=function(u){St(this.g,new os(u))},Da.prototype.pa=function(u){St(this.g,new Ki)},Da.prototype.oa=function(){St(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,u1=function(){return new or},l1=function(){return Ft()},o1=Pe,ep={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bn.NO_ERROR=0,Bn.TIMEOUT=8,Bn.HTTP_ERROR=6,Pf=Bn,Cn.COMPLETE="complete",s1=Cn,ge.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,Hu=ge,Mt.prototype.listenOnce=Mt.prototype.K,Mt.prototype.getLastError=Mt.prototype.Ha,Mt.prototype.getLastErrorCode=Mt.prototype.ya,Mt.prototype.getStatus=Mt.prototype.ca,Mt.prototype.getResponseJson=Mt.prototype.La,Mt.prototype.getResponseText=Mt.prototype.la,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Fa,a1=Mt}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore",u_="4.9.3";class mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let Zl="12.7.0";const Qo=new bp("@firebase/firestore");function Rl(){return Qo.logLevel}function rt(i,...e){if(Qo.logLevel<=Zt.DEBUG){const r=e.map(Np);Qo.debug(`Firestore (${Zl}): ${i}`,...r)}}function Ps(i,...e){if(Qo.logLevel<=Zt.ERROR){const r=e.map(Np);Qo.error(`Firestore (${Zl}): ${i}`,...r)}}function ql(i,...e){if(Qo.logLevel<=Zt.WARN){const r=e.map(Np);Qo.warn(`Firestore (${Zl}): ${i}`,...r)}}function Np(i){if(typeof i=="string")return i;try{return(function(r){return JSON.stringify(r)})(i)}catch{return i}}function Et(i,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,c1(i,a,r)}function c1(i,e,r){let a=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw Ps(a),new Error(a)}function Tn(i,e,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,i||c1(e,l,a)}function Dt(i,e){return i}const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends js{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wo{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}class f1{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $x{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(mi.UNAUTHENTICATED)))}shutdown(){}}class Jx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Zx{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Tn(this.o===void 0,42304);let a=this.i;const l=w=>this.i!==a?(a=this.i,r(w)):Promise.resolve();let c=new wo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new wo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new wo)}}),0),p()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Tn(typeof a.accessToken=="string",31837,{l:a}),new f1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tn(e===null||typeof e=="string",2055,{h:e}),new mi(e)}}class eC{constructor(e,r,a){this.P=e,this.T=r,this.I=a,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tC{constructor(e,r,a){this.P=e,this.T=r,this.I=a}getToken(){return Promise.resolve(new eC(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(mi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nC{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ea(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Tn(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new c_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Tn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new c_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}class Dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=rC(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<r&&(a+=e.charAt(l[c]%62))}return a}}function en(i,e){return i<e?-1:i>e?1:0}function tp(i,e){const r=Math.min(i.length,e.length);for(let a=0;a<r;a++){const l=i.charAt(a),c=e.charAt(a);if(l!==c)return Vm(l)===Vm(c)?en(l,c):Vm(l)?1:-1}return en(i.length,e.length)}const iC=55296,aC=57343;function Vm(i){const e=i.charCodeAt(0);return e>=iC&&e<=aC}function Gl(i,e,r){return i.length===e.length&&i.every(((a,l)=>r(a,e[l])))}const f_="__name__";class Ka{constructor(e,r,a){r===void 0?r=0:r>e.length&&Et(637,{offset:r,range:e.length}),a===void 0?a=e.length-r:a>e.length-r&&Et(1746,{length:a,range:e.length-r}),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return Ka.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ka?e.forEach((a=>{r.push(a)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let l=0;l<a;l++){const c=Ka.compareSegments(e.get(l),r.get(l));if(c!==0)return c}return en(e.length,r.length)}static compareSegments(e,r){const a=Ka.isNumericId(e),l=Ka.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?Ka.extractNumericId(e).compare(Ka.extractNumericId(r)):tp(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bo.fromString(e.substring(4,e.length-2))}}class qn extends Ka{construct(e,r,a){return new qn(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new et(Re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter((l=>l.length>0)))}return new qn(r)}static emptyPath(){return new qn([])}}const sC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ei extends Ka{construct(e,r,a){return new ei(e,r,a)}static isValidIdentifier(e){return sC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ei.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f_}static keyField(){return new ei([f_])}static fromServerFormat(e){const r=[];let a="",l=0;const c=()=>{if(a.length===0)throw new et(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new et(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new et(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(c(),l++)}if(c(),p)throw new et(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ei(r)}static emptyPath(){return new ei([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(qn.fromString(e))}static fromName(e){return new yt(qn.fromString(e).popFirst(5))}static empty(){return new yt(qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return qn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new qn(e.slice()))}}function h1(i,e,r){if(!r)throw new et(Re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function oC(i,e,r,a){if(e===!0&&a===!0)throw new et(Re.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function h_(i){if(!yt.isDocumentKey(i))throw new et(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function d_(i){if(yt.isDocumentKey(i))throw new et(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function d1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function dh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Et(12329,{type:typeof i})}function Kf(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new et(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=dh(i);throw new et(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function lC(i,e){if(e<=0)throw new et(Re.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function xr(i,e){const r={typeString:i};return e&&(r.value=e),r}function yc(i,e){if(!d1(i))throw new et(Re.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){r=`JSON missing required field: '${a}'`;break}const p=i[a];if(l&&typeof p!==l){r=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${a}' field to equal '${c.value}'`;break}}if(r)throw new et(Re.INVALID_ARGUMENT,r);return!0}const m_=-62135596800,p_=1e6;class Qn{static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor((e-1e3*r)*p_);return new Qn(r,a)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new et(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new et(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<m_)throw new et(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yc(e,Qn._jsonSchema))return new Qn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qn._jsonSchemaVersion="firestore/timestamp/1.0",Qn._jsonSchema={type:xr("string",Qn._jsonSchemaVersion),seconds:xr("number"),nanoseconds:xr("number")};class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Qn(0,0))}static max(){return new Ct(new Qn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tc=-1;function uC(i,e){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=Ct.fromTimestamp(a===1e9?new Qn(r+1,0):new Qn(r,a));return new To(l,yt.empty(),e)}function cC(i){return new To(i.readTime,i.key,tc)}class To{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new To(Ct.min(),yt.empty(),tc)}static max(){return new To(Ct.max(),yt.empty(),tc)}}function fC(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=yt.comparator(i.documentKey,e.documentKey),r!==0?r:en(i.largestBatchId,e.largestBatchId))}const hC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function eu(i){if(i.code!==Re.FAILED_PRECONDITION||i.message!==hC)throw i;rt("LocalStore","Unexpectedly lost primary lease")}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Me(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(a,l)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Me?r:Me.resolve(r)}catch(r){return Me.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Me.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Me.reject(r)}static resolve(e){return new Me(((r,a)=>{r(e)}))}static reject(e){return new Me(((r,a)=>{a(e)}))}static waitFor(e){return new Me(((r,a)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&r()}),(w=>a(w)))})),p=!0,c===l&&r()}))}static or(e){let r=Me.resolve(!1);for(const a of e)r=r.next((l=>l?Me.resolve(l):a()));return r}static forEach(e,r){const a=[];return e.forEach(((l,c)=>{a.push(r.call(this,l,c))})),this.waitFor(a)}static mapArray(e,r){return new Me(((a,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;r(e[E]).next((I=>{p[E]=I,++b,b===c&&a(p)}),(I=>l(I)))}}))}static doWhile(e,r){return new Me(((a,l)=>{const c=()=>{e()===!0?r().next((()=>{c()}),l):a()};c()}))}}function mC(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function tu(i){return i.name==="IndexedDbTransactionError"}class mh{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>r.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const Op=-1;function ph(i){return i==null}function $f(i){return i===0&&1/i==-1/0}function pC(i){return typeof i=="number"&&Number.isInteger(i)&&!$f(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const m1="";function gC(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=g_(e)),e=yC(i.get(r),e);return g_(e)}function yC(i,e){let r=e;const a=i.length;for(let l=0;l<a;l++){const c=i.charAt(l);switch(c){case"\0":r+="";break;case m1:r+="";break;default:r+=c}}return r}function g_(i){return i+m1+""}function y_(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function $o(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function p1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class nr{constructor(e,r){this.comparator=e,this.root=r||Zr.EMPTY}insert(e,r){return new nr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,a)=>(e(r,a),!1)))}toString(){const e=[];return this.inorderTraversal(((r,a)=>(e.push(`${r}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xf(this.root,e,this.comparator,!0)}}class xf{constructor(e,r,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?a(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,r,a,l,c){this.key=e,this.value=r,this.color=a??Zr.RED,this.left=l??Zr.EMPTY,this.right=c??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,l,c){return new Zr(e??this.key,r??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,a),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return Zr.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1;Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,r,a,l,c){return this}insert(e,r,a){return new Zr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ir{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,a)=>(e(r),!1)))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((a=>{r=r.add(a)})),r}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Ir(this.comparator);return r.data=e,r}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ja{constructor(e){this.fields=e,e.sort(ei.comparator)}static empty(){return new ja([])}unionWith(e){let r=new Ir(ei.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new ja(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Gl(this.fields,e.fields,((r,a)=>r.isEqual(a)))}}class g1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ti{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new g1("Invalid base64 string: "+c):c}})(e);return new ti(r)}static fromUint8Array(e){const r=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new ti(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const vC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(i){if(Tn(!!i,39018),typeof i=="string"){let e=0;const r=vC.exec(i);if(Tn(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:gr(i.seconds),nanos:gr(i.nanos)}}function gr(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function So(i){return typeof i=="string"?ti.fromBase64String(i):ti.fromUint8Array(i)}const y1="server_timestamp",v1="__type__",_1="__previous_value__",b1="__local_write_time__";function kp(i){return(i?.mapValue?.fields||{})[v1]?.stringValue===y1}function gh(i){const e=i.mapValue.fields[_1];return kp(e)?gh(e):e}function nc(i){const e=Ao(i.mapValue.fields[b1].timestampValue);return new Qn(e.seconds,e.nanos)}class _C{constructor(e,r,a,l,c,p,b,w,E,I){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=I}}const Jf="(default)";class rc{constructor(e,r){this.projectId=e,this.database=r||Jf}static empty(){return new rc("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}const w1="__type__",bC="__max__",Cf={mapValue:{}},E1="__vector__",Zf="value";function xo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kp(i)?4:EC(i)?9007199254740991:wC(i)?10:11:Et(28295,{value:i})}function rs(i,e){if(i===e)return!0;const r=xo(i);if(r!==xo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nc(i).isEqual(nc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=Ao(l.timestampValue),b=Ao(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return So(l.bytesValue).isEqual(So(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return gr(l.geoPointValue.latitude)===gr(c.geoPointValue.latitude)&&gr(l.geoPointValue.longitude)===gr(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return gr(l.integerValue)===gr(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=gr(l.doubleValue),b=gr(c.doubleValue);return p===b?$f(p)===$f(b):isNaN(p)&&isNaN(b)}return!1})(i,e);case 9:return Gl(i.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(y_(p)!==y_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!rs(p[w],b[w])))return!1;return!0})(i,e);default:return Et(52216,{left:i})}}function ic(i,e){return(i.values||[]).find((r=>rs(r,e)))!==void 0}function Yl(i,e){if(i===e)return 0;const r=xo(i),a=xo(e);if(r!==a)return en(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return en(i.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=gr(c.integerValue||c.doubleValue),w=gr(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(i,e);case 3:return __(i.timestampValue,e.timestampValue);case 4:return __(nc(i),nc(e));case 5:return tp(i.stringValue,e.stringValue);case 6:return(function(c,p){const b=So(c),w=So(p);return b.compareTo(w)})(i.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const I=en(b[E],w[E]);if(I!==0)return I}return en(b.length,w.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=en(gr(c.latitude),gr(p.latitude));return b!==0?b:en(gr(c.longitude),gr(p.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return b_(i.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[Zf]?.arrayValue,I=w[Zf]?.arrayValue,O=en(E?.values?.length||0,I?.values?.length||0);return O!==0?O:b_(E,I)})(i.mapValue,e.mapValue);case 11:return(function(c,p){if(c===Cf.mapValue&&p===Cf.mapValue)return 0;if(c===Cf.mapValue)return 1;if(p===Cf.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},I=Object.keys(E);w.sort(),I.sort();for(let O=0;O<w.length&&O<I.length;++O){const G=tp(w[O],I[O]);if(G!==0)return G;const te=Yl(b[w[O]],E[I[O]]);if(te!==0)return te}return en(w.length,I.length)})(i.mapValue,e.mapValue);default:throw Et(23264,{he:r})}}function __(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return en(i,e);const r=Ao(i),a=Ao(e),l=en(r.seconds,a.seconds);return l!==0?l:en(r.nanos,a.nanos)}function b_(i,e){const r=i.values||[],a=e.values||[];for(let l=0;l<r.length&&l<a.length;++l){const c=Yl(r[l],a[l]);if(c)return c}return en(r.length,a.length)}function Xl(i){return np(i)}function np(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const a=Ao(r);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return So(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return yt.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let a="[",l=!0;for(const c of r.values||[])l?l=!1:a+=",",a+=np(c);return a+"]"})(i.arrayValue):"mapValue"in i?(function(r){const a=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of a)c?c=!1:l+=",",l+=`${p}:${np(r.fields[p])}`;return l+"}"})(i.mapValue):Et(61005,{value:i})}function Lf(i){switch(xo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(i);return e?16+Lf(e):16;case 5:return 2*i.stringValue.length;case 6:return So(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Lf(c)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return $o(a.fields,((c,p)=>{l+=c.length+Lf(p)})),l})(i.mapValue);default:throw Et(13486,{value:i})}}function w_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function rp(i){return!!i&&"integerValue"in i}function Vp(i){return!!i&&"arrayValue"in i}function E_(i){return!!i&&"nullValue"in i}function T_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jf(i){return!!i&&"mapValue"in i}function wC(i){return(i?.mapValue?.fields||{})[w1]?.stringValue===E1}function Wu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return $o(i.mapValue.fields,((r,a)=>e.mapValue.fields[r]=Wu(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Wu(i.arrayValue.values[r]);return e}return{...i}}function EC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===bC}class Ta{constructor(e){this.value=e}static empty(){return new Ta({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!jf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(r)}setAll(e){let r=ei.emptyPath(),a={},l=[];e.forEach(((p,b)=>{if(!r.isImmediateParentOf(b)){const w=this.getFieldsMap(r);this.applyChanges(w,a,l),a={},l=[],r=b.popLast()}p?a[b.lastSegment()]=Wu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(r);this.applyChanges(c,a,l)}delete(e){const r=this.field(e.popLast());jf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=r.mapValue.fields[e.get(a)];jf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,a){$o(r,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Ta(Wu(this.value))}}function T1(i){const e=[];return $o(i.fields,((r,a)=>{const l=new ei([r]);if(jf(a)){const c=T1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new ja(e)}class pi{constructor(e,r,a,l,c,p,b){this.key=e,this.documentType=r,this.version=a,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new pi(e,0,Ct.min(),Ct.min(),Ct.min(),Ta.empty(),0)}static newFoundDocument(e,r,a,l){return new pi(e,1,r,Ct.min(),a,l,0)}static newNoDocument(e,r){return new pi(e,2,r,Ct.min(),Ct.min(),Ta.empty(),0)}static newUnknownDocument(e,r){return new pi(e,3,r,Ct.min(),Ct.min(),Ta.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ta.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ta.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(e,r){this.position=e,this.inclusive=r}}function A_(i,e,r){let a=0;for(let l=0;l<i.position.length;l++){const c=e[l],p=i.position[l];if(c.field.isKeyField()?a=yt.comparator(yt.fromName(p.referenceValue),r.key):a=Yl(p,r.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function S_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!rs(i.position[r],e.position[r]))return!1;return!0}class ac{constructor(e,r="asc"){this.field=e,this.dir=r}}function TC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class A1{}class Sr extends A1{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,a):new SC(e,r,a):r==="array-contains"?new RC(e,a):r==="in"?new IC(e,a):r==="not-in"?new MC(e,a):r==="array-contains-any"?new NC(e,a):new Sr(e,r,a)}static createKeyFieldInFilter(e,r,a){return r==="in"?new xC(e,a):new CC(e,a)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Yl(r,this.value)):r!==null&&xo(this.value)===xo(r)&&this.matchesComparison(Yl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ua extends A1{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Ua(e,r)}matches(e){return S1(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S1(i){return i.op==="and"}function x1(i){return AC(i)&&S1(i)}function AC(i){for(const e of i.filters)if(e instanceof Ua)return!1;return!0}function ip(i){if(i instanceof Sr)return i.field.canonicalString()+i.op.toString()+Xl(i.value);if(x1(i))return i.filters.map((e=>ip(e))).join(",");{const e=i.filters.map((r=>ip(r))).join(",");return`${i.op}(${e})`}}function C1(i,e){return i instanceof Sr?(function(a,l){return l instanceof Sr&&a.op===l.op&&a.field.isEqual(l.field)&&rs(a.value,l.value)})(i,e):i instanceof Ua?(function(a,l){return l instanceof Ua&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,p,b)=>c&&C1(p,l.filters[b])),!0):!1})(i,e):void Et(19439)}function R1(i){return i instanceof Sr?(function(r){return`${r.field.canonicalString()} ${r.op} ${Xl(r.value)}`})(i):i instanceof Ua?(function(r){return r.op.toString()+" {"+r.getFilters().map(R1).join(" ,")+"}"})(i):"Filter"}class SC extends Sr{constructor(e,r,a){super(e,r,a),this.key=yt.fromName(a.referenceValue)}matches(e){const r=yt.comparator(e.key,this.key);return this.matchesComparison(r)}}class xC extends Sr{constructor(e,r){super(e,"in",r),this.keys=I1("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class CC extends Sr{constructor(e,r){super(e,"not-in",r),this.keys=I1("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function I1(i,e){return(e.arrayValue?.values||[]).map((r=>yt.fromName(r.referenceValue)))}class RC extends Sr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Vp(r)&&ic(r.arrayValue,this.value)}}class IC extends Sr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ic(this.value.arrayValue,r)}}class MC extends Sr{constructor(e,r){super(e,"not-in",r)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!ic(this.value.arrayValue,r)}}class NC extends Sr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Vp(r)||!r.arrayValue.values)&&r.arrayValue.values.some((a=>ic(this.value.arrayValue,a)))}}class DC{constructor(e,r=null,a=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function x_(i,e=null,r=[],a=[],l=null,c=null,p=null){return new DC(i,e,r,a,l,c,p)}function Pp(i){const e=Dt(i);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((a=>ip(a))).join(","),r+="|ob:",r+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Xl(a))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Xl(a))).join(",")),e.Te=r}return e.Te}function Lp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!TC(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!C1(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!S_(i.startAt,e.startAt)&&S_(i.endAt,e.endAt)}function ap(i){return yt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class nu{constructor(e,r=null,a=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OC(i,e,r,a,l,c,p,b){return new nu(i,e,r,a,l,c,p,b)}function M1(i){return new nu(i)}function C_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function N1(i){return i.collectionGroup!==null}function Qu(i){const e=Dt(i);if(e.Ie===null){e.Ie=[];const r=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),r.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Ir(ei.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{r.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ac(c,a))})),r.has(ei.keyField().canonicalString())||e.Ie.push(new ac(ei.keyField(),a))}return e.Ie}function Za(i){const e=Dt(i);return e.Ee||(e.Ee=kC(e,Qu(i))),e.Ee}function kC(i,e){if(i.limitType==="F")return x_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ac(l.field,c)}));const r=i.endAt?new eh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new eh(i.startAt.position,i.startAt.inclusive):null;return x_(i.path,i.collectionGroup,e,i.filters,i.limit,r,a)}}function sp(i,e){const r=i.filters.concat([e]);return new nu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function th(i,e,r){return new nu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function yh(i,e){return Lp(Za(i),Za(e))&&i.limitType===e.limitType}function D1(i){return`${Pp(Za(i))}|lt:${i.limitType}`}function Il(i){return`Query(target=${(function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map((l=>R1(l))).join(", ")}]`),ph(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map((l=>Xl(l))).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map((l=>Xl(l))).join(",")),`Target(${a})`})(Za(i))}; limitType=${i.limitType})`}function vh(i,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):yt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(i,e)&&(function(a,l){for(const c of Qu(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(a,l){return!(a.startAt&&!(function(p,b,w){const E=A_(p,b,w);return p.inclusive?E<=0:E<0})(a.startAt,Qu(a),l)||a.endAt&&!(function(p,b,w){const E=A_(p,b,w);return p.inclusive?E>=0:E>0})(a.endAt,Qu(a),l))})(i,e)}function VC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function O1(i){return(e,r)=>{let a=!1;for(const l of Qu(i)){const c=PC(l,e,r);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function PC(i,e,r){const a=i.field.isKeyField()?yt.comparator(e.key,r.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Yl(w,E):Et(42886)})(i.field,e,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:i.dir})}}class Jo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,((r,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return p1(this.inner)}size(){return this.innerSize}}const LC=new nr(yt.comparator);function Ls(){return LC}const k1=new nr(yt.comparator);function qu(...i){let e=k1;for(const r of i)e=e.insert(r.key,r);return e}function V1(i){let e=k1;return i.forEach(((r,a)=>e=e.insert(r,a.overlayedDocument))),e}function Go(){return Ku()}function P1(){return Ku()}function Ku(){return new Jo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const jC=new nr(yt.comparator),UC=new Ir(yt.comparator);function tn(...i){let e=UC;for(const r of i)e=e.add(r);return e}const zC=new Ir(en);function BC(){return zC}function jp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$f(e)?"-0":e}}function L1(i){return{integerValue:""+i}}function FC(i,e){return pC(e)?L1(e):jp(i,e)}class _h{constructor(){this._=void 0}}function HC(i,e,r){return i instanceof nh?(function(l,c){const p={fields:{[v1]:{stringValue:y1},[b1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&kp(c)&&(c=gh(c)),c&&(p.fields[_1]=c),{mapValue:p}})(r,e):i instanceof sc?U1(i,e):i instanceof oc?z1(i,e):(function(l,c){const p=j1(l,c),b=R_(p)+R_(l.Ae);return rp(p)&&rp(l.Ae)?L1(b):jp(l.serializer,b)})(i,e)}function qC(i,e,r){return i instanceof sc?U1(i,e):i instanceof oc?z1(i,e):r}function j1(i,e){return i instanceof rh?(function(a){return rp(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class nh extends _h{}class sc extends _h{constructor(e){super(),this.elements=e}}function U1(i,e){const r=B1(e);for(const a of i.elements)r.some((l=>rs(l,a)))||r.push(a);return{arrayValue:{values:r}}}class oc extends _h{constructor(e){super(),this.elements=e}}function z1(i,e){let r=B1(e);for(const a of i.elements)r=r.filter((l=>!rs(l,a)));return{arrayValue:{values:r}}}class rh extends _h{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function R_(i){return gr(i.integerValue||i.doubleValue)}function B1(i){return Vp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function GC(i,e){return i.field.isEqual(e.field)&&(function(a,l){return a instanceof sc&&l instanceof sc||a instanceof oc&&l instanceof oc?Gl(a.elements,l.elements,rs):a instanceof rh&&l instanceof rh?rs(a.Ae,l.Ae):a instanceof nh&&l instanceof nh})(i.transform,e.transform)}class YC{constructor(e,r){this.version=e,this.transformResults=r}}class Ns{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ns}static exists(e){return new Ns(void 0,e)}static updateTime(e){return new Ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class bh{}function F1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new q1(i.key,Ns.none()):new vc(i.key,i.data,Ns.none());{const r=i.data,a=Ta.empty();let l=new Ir(ei.comparator);for(let c of e.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?a.delete(c):a.set(c,p),l=l.add(c)}return new Zo(i.key,a,new ja(l.toArray()),Ns.none())}}function XC(i,e,r){i instanceof vc?(function(l,c,p){const b=l.value.clone(),w=M_(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(i,e,r):i instanceof Zo?(function(l,c,p){if(!Uf(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=M_(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(H1(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(i,e,r):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,r)}function $u(i,e,r,a){return i instanceof vc?(function(c,p,b,w){if(!Uf(c.precondition,p))return b;const E=c.value.clone(),I=N_(c.fieldTransforms,w,p);return E.setAll(I),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(i,e,r,a):i instanceof Zo?(function(c,p,b,w){if(!Uf(c.precondition,p))return b;const E=N_(c.fieldTransforms,w,p),I=p.data;return I.setAll(H1(c)),I.setAll(E),p.convertToFoundDocument(p.version,I).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((O=>O.field)))})(i,e,r,a):(function(c,p,b){return Uf(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(i,e,r)}function WC(i,e){let r=null;for(const a of i.fieldTransforms){const l=e.data.field(a.field),c=j1(a.transform,l||null);c!=null&&(r===null&&(r=Ta.empty()),r.set(a.field,c))}return r||null}function I_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Gl(a,l,((c,p)=>GC(c,p)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class vc extends bh{constructor(e,r,a,l=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Zo extends bh{constructor(e,r,a,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function H1(i){const e=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const a=i.data.field(r);e.set(r,a)}})),e}function M_(i,e,r){const a=new Map;Tn(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let l=0;l<r.length;l++){const c=i[l],p=c.transform,b=e.data.field(c.field);a.set(c.field,qC(p,b,r[l]))}return a}function N_(i,e,r){const a=new Map;for(const l of i){const c=l.transform,p=r.data.field(l.field);a.set(l.field,HC(c,p,e))}return a}class q1 extends bh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QC extends bh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KC{constructor(e,r,a,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&XC(c,e,a[l])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=$u(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=$u(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=P1();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=r.has(l.key)?null:b;const w=F1(p,b);w!==null&&a.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(Ct.min())})),a}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),tn())}isEqual(e){return this.batchId===e.batchId&&Gl(this.mutations,e.mutations,((r,a)=>I_(r,a)))&&Gl(this.baseMutations,e.baseMutations,((r,a)=>I_(r,a)))}}class Up{constructor(e,r,a,l){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(e,r,a){Tn(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return jC})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,a[p].version);return new Up(e,r,a,l)}}class $C{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JC{constructor(e,r){this.count=e,this.unchangedNames=r}}var Ar,on;function ZC(i){switch(i){case Re.OK:return Et(64938);case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return Et(15467,{code:i})}}function G1(i){if(i===void 0)return Ps("GRPC error has no .code"),Re.UNKNOWN;switch(i){case Ar.OK:return Re.OK;case Ar.CANCELLED:return Re.CANCELLED;case Ar.UNKNOWN:return Re.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return Re.INTERNAL;case Ar.UNAVAILABLE:return Re.UNAVAILABLE;case Ar.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case Ar.NOT_FOUND:return Re.NOT_FOUND;case Ar.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case Ar.ABORTED:return Re.ABORTED;case Ar.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case Ar.DATA_LOSS:return Re.DATA_LOSS;default:return Et(39323,{code:i})}}(on=Ar||(Ar={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";function eR(){return new TextEncoder}const tR=new bo([4294967295,4294967295],0);function D_(i){const e=eR().encode(i),r=new i1;return r.update(e),new Uint8Array(r.digest())}function O_(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new bo([r,a],0),new bo([l,c],0)]}class zp{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Gu(`Invalid padding: ${r}`);if(a<0)throw new Gu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${a}`);if(e.length===0&&r!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=bo.fromNumber(this.ge)}ye(e,r,a){let l=e.add(r.multiply(bo.fromNumber(a)));return l.compare(tR)===1&&(l=new bo([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=D_(e),[a,l]=O_(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);if(!this.we(p))return!1}return!0}static create(e,r,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new zp(c,l,r);return a.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const r=D_(e),[a,l]=O_(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);this.Se(p)}}Se(e){const r=Math.floor(e/8),a=e%8;this.bitmap[r]|=1<<a}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,r,a,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const l=new Map;return l.set(e,_c.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new wh(Ct.min(),l,new nr(en),Ls(),tn())}}class _c{constructor(e,r,a,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new _c(a,r,tn(),tn(),tn())}}class zf{constructor(e,r,a,l){this.be=e,this.removedTargetIds=r,this.key=a,this.De=l}}class Y1{constructor(e,r){this.targetId=e,this.Ce=r}}class X1{constructor(e,r,a=ti.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=l}}class k_{constructor(){this.ve=0,this.Fe=V_(),this.Me=ti.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tn(),r=tn(),a=tn();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}})),new _c(this.Me,this.xe,e,r,a)}qe(){this.Oe=!1,this.Fe=V_()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Tn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ls(),this.Je=Rf(),this.He=Rf(),this.Ye=new nr(en)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const a=this.nt(r);switch(e.state){case 0:this.rt(r)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),a.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((a,l)=>{this.rt(l)&&r(l)}))}st(e){const r=e.targetId,a=e.Ce.count,l=this.ot(r);if(l){const c=l.target;if(ap(c))if(a===0){const p=new yt(c.path);this.et(r,p,pi.newNoDocument(p,Ct.min()))}else Tn(a===1,20013,{expectedCount:a});else{const p=this._t(r);if(p!==a){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(r);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,E)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=r;let p,b;try{p=So(a).toUint8Array()}catch(w){if(w instanceof g1)return ql("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new zp(p,l,c)}catch(w){return ql(w instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,r,a){return r.Ce.count===a-this.Pt(e,r.targetId)?0:2}Pt(e,r){const a=this.Ge.getRemoteKeysForTarget(r);let l=0;return a.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(r,c,null),l++)})),l}Tt(e){const r=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&ap(b.target)){const w=new yt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,pi.newNoDocument(w,e))}c.Be&&(r.set(p,c.ke()),c.qe())}}));let a=tn();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new wh(e,r,this.Ye,this.je,a);return this.je=Ls(),this.Je=Rf(),this.He=Rf(),this.Ye=new nr(en),l}Xe(e,r){if(!this.rt(e))return;const a=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,a),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),a&&(this.je=this.je.insert(r,a))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new k_,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Ir(en),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Ir(en),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||rt("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new k_),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Rf(){return new nr(yt.comparator)}function V_(){return new nr(yt.comparator)}const rR={asc:"ASCENDING",desc:"DESCENDING"},iR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aR={and:"AND",or:"OR"};class sR{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function op(i,e){return i.useProto3Json||ph(e)?e:{value:e}}function ih(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function oR(i,e){return ih(i,e.toTimestamp())}function es(i){return Tn(!!i,49232),Ct.fromTimestamp((function(r){const a=Ao(r);return new Qn(a.seconds,a.nanos)})(i))}function Bp(i,e){return lp(i,e).canonicalString()}function lp(i,e){const r=(function(l){return new qn(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?r:r.child(e)}function Q1(i){const e=qn.fromString(i);return Tn(ew(e),10190,{key:e.toString()}),e}function up(i,e){return Bp(i.databaseId,e.path)}function Pm(i,e){const r=Q1(e);if(r.get(1)!==i.databaseId.projectId)throw new et(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new et(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new yt($1(r))}function K1(i,e){return Bp(i.databaseId,e)}function lR(i){const e=Q1(i);return e.length===4?qn.emptyPath():$1(e)}function cp(i){return new qn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function $1(i){return Tn(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function P_(i,e,r){return{name:up(i,e),fields:r.value.mapValue.fields}}function uR(i,e){let r;if("targetChange"in e){e.targetChange;const a=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Et(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,I){return E.useProto3Json?(Tn(I===void 0||typeof I=="string",58123),ti.fromBase64String(I||"")):(Tn(I===void 0||I instanceof Buffer||I instanceof Uint8Array,16193),ti.fromUint8Array(I||new Uint8Array))})(i,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const I=E.code===void 0?Re.UNKNOWN:G1(E.code);return new et(I,E.message||"")})(p);r=new X1(a,l,c,b||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Pm(i,a.document.name),c=es(a.document.updateTime),p=a.document.createTime?es(a.document.createTime):Ct.min(),b=new Ta({mapValue:{fields:a.document.fields}}),w=pi.newFoundDocument(l,c,p,b),E=a.targetIds||[],I=a.removedTargetIds||[];r=new zf(E,I,w.key,w)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Pm(i,a.document),c=a.readTime?es(a.readTime):Ct.min(),p=pi.newNoDocument(l,c),b=a.removedTargetIds||[];r=new zf([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Pm(i,a.document),c=a.removedTargetIds||[];r=new zf([],c,l,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,p=new JC(l,c),b=a.targetId;r=new Y1(b,p)}}return r}function cR(i,e){let r;if(e instanceof vc)r={update:P_(i,e.key,e.value)};else if(e instanceof q1)r={delete:up(i,e.key)};else if(e instanceof Zo)r={update:P_(i,e.key,e.data),updateMask:_R(e.fieldMask)};else{if(!(e instanceof QC))return Et(16599,{Vt:e.type});r={verify:up(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((a=>(function(c,p){const b=p.transform;if(b instanceof nh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof sc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof oc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof rh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw Et(20930,{transform:p.transform})})(0,a)))),e.precondition.isNone||(r.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:oR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(i,e.precondition)),r}function fR(i,e){return i&&i.length>0?(Tn(e!==void 0,14353),i.map((r=>(function(l,c){let p=l.updateTime?es(l.updateTime):es(c);return p.isEqual(Ct.min())&&(p=es(c)),new YC(p,l.transformResults||[])})(r,e)))):[]}function hR(i,e){return{documents:[K1(i,e.path)]}}function dR(i,e){const r={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=K1(i,l);const c=(function(E){if(E.length!==0)return Z1(Ua.create(E,"and"))})(e.filters);c&&(r.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((I=>(function(G){return{field:Ml(G.field),direction:gR(G.dir)}})(I)))})(e.orderBy);p&&(r.structuredQuery.orderBy=p);const b=op(i,e.limit);return b!==null&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:r,parent:l}}function mR(i){let e=lR(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Tn(a===1,65062);const I=r.from[0];I.allDescendants?l=I.collectionId:e=e.child(I.collectionId)}let c=[];r.where&&(c=(function(O){const G=J1(O);return G instanceof Ua&&x1(G)?G.getFilters():[G]})(r.where));let p=[];r.orderBy&&(p=(function(O){return O.map((G=>(function(z){return new ac(Nl(z.field),(function(we){switch(we){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(G)))})(r.orderBy));let b=null;r.limit&&(b=(function(O){let G;return G=typeof O=="object"?O.value:O,ph(G)?null:G})(r.limit));let w=null;r.startAt&&(w=(function(O){const G=!!O.before,te=O.values||[];return new eh(te,G)})(r.startAt));let E=null;return r.endAt&&(E=(function(O){const G=!O.before,te=O.values||[];return new eh(te,G)})(r.endAt)),OC(e,l,p,c,b,"F",w,E)}function pR(i,e){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function J1(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Nl(r.unaryFilter.field);return Sr.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Nl(r.unaryFilter.field);return Sr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Nl(r.unaryFilter.field);return Sr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Nl(r.unaryFilter.field);return Sr.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(i):i.fieldFilter!==void 0?(function(r){return Sr.create(Nl(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return Ua.create(r.compositeFilter.filters.map((a=>J1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(r.compositeFilter.op))})(i):Et(30097,{filter:i})}function gR(i){return rR[i]}function yR(i){return iR[i]}function vR(i){return aR[i]}function Ml(i){return{fieldPath:i.canonicalString()}}function Nl(i){return ei.fromServerFormat(i.fieldPath)}function Z1(i){return i instanceof Sr?(function(r){if(r.op==="=="){if(T_(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NAN"}};if(E_(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(T_(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NOT_NAN"}};if(E_(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(r.field),op:yR(r.op),value:r.value}}})(i):i instanceof Ua?(function(r){const a=r.getFilters().map((l=>Z1(l)));return a.length===1?a[0]:{compositeFilter:{op:vR(r.op),filters:a}}})(i):Et(54877,{filter:i})}function _R(i){const e=[];return i.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function ew(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class go{constructor(e,r,a,l,c=Ct.min(),p=Ct.min(),b=ti.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bR{constructor(e){this.yt=e}}function wR(i){const e=mR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?th(e,e.limit,"L"):e}class ER{constructor(){this.Cn=new TR}addToCollectionParentIndex(e,r){return this.Cn.add(r),Me.resolve()}getCollectionParents(e,r){return Me.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Me.resolve()}deleteFieldIndex(e,r){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,r){return Me.resolve()}getDocumentsMatchingTarget(e,r){return Me.resolve(null)}getIndexType(e,r){return Me.resolve(0)}getFieldIndexes(e,r){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,r){return Me.resolve(To.min())}getMinOffsetFromCollectionGroup(e,r){return Me.resolve(To.min())}updateCollectionGroup(e,r,a){return Me.resolve()}updateIndexEntries(e,r){return Me.resolve()}}class TR{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r]||new Ir(qn.comparator),c=!l.has(a);return this.index[r]=l.add(a),c}has(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Ir(qn.comparator)).toArray()}}const L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tw=41943040;class qi{static withCacheSize(e){return new qi(e,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(tw,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);class Wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wl(0)}static cr(){return new Wl(-1)}}const j_="LruGarbageCollector",AR=1048576;function U_([i,e],[r,a]){const l=en(i,r);return l===0?en(e,a):l}class SR{constructor(e){this.Ir=e,this.buffer=new Ir(U_),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();U_(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class xR{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(j_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){tu(r)?rt(j_,"Ignoring IndexedDB error during garbage collection: ",r):await eu(r)}await this.Vr(3e5)}))}}class CR{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((a=>Math.floor(r/100*a)))}nthSequenceNumber(e,r){if(r===0)return Me.resolve(mh.ce);const a=new SR(r);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,r,a){return this.mr.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(L_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L_):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let a,l,c,p,b,w,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,p=Date.now(),this.nthSequenceNumber(e,l)))).next((O=>(a=O,b=Date.now(),this.removeTargets(e,a,r)))).next((O=>(c=O,w=Date.now(),this.removeOrphanedDocuments(e,a)))).next((O=>(E=Date.now(),Rl()<=Zt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-I}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${O} documents in `+(E-w)+`ms
Total Duration: ${E-I}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O}))))}}function RR(i,e){return new CR(i,e)}class IR{constructor(){this.changes=new Jo((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,pi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?Me.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MR{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class NR{constructor(e,r,a,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,r)))).next((l=>(a!==null&&$u(a.mutation,l,ja.empty(),Qn.now()),l)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.getLocalViewOfDocuments(e,a,tn()).next((()=>a))))}getLocalViewOfDocuments(e,r,a=tn()){const l=Go();return this.populateOverlays(e,l,r).next((()=>this.computeViews(e,r,l,a).next((c=>{let p=qu();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,r){const a=Go();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,tn())))}populateOverlays(e,r,a){const l=[];return a.forEach((c=>{r.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{r.set(p,b)}))}))}computeViews(e,r,a,l){let c=Ls();const p=Ku(),b=(function(){return Ku()})();return r.forEach(((w,E)=>{const I=a.get(E.key);l.has(E.key)&&(I===void 0||I.mutation instanceof Zo)?c=c.insert(E.key,E):I!==void 0?(p.set(E.key,I.mutation.getFieldMask()),$u(I.mutation,E,I.mutation.getFieldMask(),Qn.now())):p.set(E.key,ja.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,I)=>p.set(E,I))),r.forEach(((E,I)=>b.set(E,new MR(I,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,r){const a=Ku();let l=new nr(((p,b)=>p-b)),c=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=r.get(w);if(E===null)return;let I=a.get(w)||ja.empty();I=b.applyToLocalView(E,I),a.set(w,I);const O=(l.get(b.batchId)||tn()).add(w);l=l.insert(b.batchId,O)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,I=w.value,O=P1();I.forEach((G=>{if(!c.has(G)){const te=F1(r.get(G),a.get(G));te!==null&&O.set(G,te),c=c.add(G)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,O))}return Me.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,r,a,l){return(function(p){return yt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):N1(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,l):this.getDocumentsMatchingCollectionQuery(e,r,a,l)}getNextDocuments(e,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,l-c.size):Me.resolve(Go());let b=tc,w=c;return p.next((E=>Me.forEach(E,((I,O)=>(b<O.largestBatchId&&(b=O.largestBatchId),c.get(I)?Me.resolve():this.remoteDocumentCache.getEntry(e,I).next((G=>{w=w.insert(I,G)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,tn()))).next((I=>({batchId:b,changes:V1(I)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new yt(r)).next((a=>{let l=qu();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,r,a,l){const c=r.collectionGroup;let p=qu();return this.indexManager.getCollectionParents(e,c).next((b=>Me.forEach(b,(w=>{const E=(function(O,G){return new nu(G,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(r,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,a,l).next((I=>{I.forEach(((O,G)=>{p=p.insert(O,G)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,r,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,c,l)))).next((p=>{c.forEach(((w,E)=>{const I=E.getKey();p.get(I)===null&&(p=p.insert(I,pi.newInvalidDocument(I)))}));let b=qu();return p.forEach(((w,E)=>{const I=c.get(w);I!==void 0&&$u(I.mutation,E,ja.empty(),Qn.now()),vh(r,E)&&(b=b.insert(w,E))})),b}))}}class DR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Me.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:es(l.createTime)}})(r)),Me.resolve()}getNamedQuery(e,r){return Me.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:wR(l.bundledQuery),readTime:es(l.readTime)}})(r)),Me.resolve()}}class OR{constructor(){this.overlays=new nr(yt.comparator),this.qr=new Map}getOverlay(e,r){return Me.resolve(this.overlays.get(r))}getOverlays(e,r){const a=Go();return Me.forEach(r,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,r,a){return a.forEach(((l,c)=>{this.St(e,r,c)})),Me.resolve()}removeOverlaysForBatchId(e,r,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Me.resolve()}getOverlaysForCollection(e,r,a){const l=Go(),c=r.length+1,p=new yt(r.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>a&&l.set(w.getKey(),w)}return Me.resolve(l)}getOverlaysForCollectionGroup(e,r,a,l){let c=new nr(((E,I)=>E-I));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>a){let I=c.get(E.largestBatchId);I===null&&(I=Go(),c=c.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const b=Go(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,I)=>b.set(E,I))),!(b.size()>=l)););return Me.resolve(b)}St(e,r,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new $C(r,a));let c=this.qr.get(r);c===void 0&&(c=tn(),this.qr.set(r,c)),this.qr.set(r,c.add(a.key))}}class kR{constructor(){this.sessionToken=ti.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Me.resolve()}}class Fp{constructor(){this.Qr=new Ir(Br.$r),this.Ur=new Ir(Br.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const a=new Br(e,r);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,r){e.forEach((a=>this.addReference(a,r)))}removeReference(e,r){this.Gr(new Br(e,r))}zr(e,r){e.forEach((a=>this.removeReference(a,r)))}jr(e){const r=new yt(new qn([])),a=new Br(r,e),l=new Br(r,e+1),c=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new yt(new qn([])),a=new Br(r,e),l=new Br(r,e+1);let c=tn();return this.Ur.forEachInRange([a,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const r=new Br(e,0),a=this.Qr.firstAfterOrEqual(r);return a!==null&&e.isEqual(a.key)}}class Br{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return yt.comparator(e.key,r.key)||en(e.Yr,r.Yr)}static Kr(e,r){return en(e.Yr,r.Yr)||yt.comparator(e.key,r.key)}}class VR{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ir(Br.$r)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new KC(c,r,a,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Br(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Me.resolve(p)}lookupMutationBatch(e,r){return Me.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const a=r+1,l=this.ei(a),c=l<0?0:l;return Me.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?Op:this.tr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Br(r,0),l=new Br(r,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Me.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ir(en);return r.forEach((l=>{const c=new Br(l,0),p=new Br(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{a=a.add(b.Yr)}))})),Me.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,l=a.length+1;let c=a;yt.isDocumentKey(c)||(c=c.child(""));const p=new Br(new yt(c),0);let b=new Ir(en);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!a.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Me.resolve(this.ti(b))}ti(e){const r=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&r.push(l)})),r}removeMutationBatch(e,r){Tn(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Me.forEach(r.mutations,(l=>{const c=new Br(l.key,r.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,r){const a=new Br(r,0),l=this.Zr.firstAfterOrEqual(a);return Me.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class PR{constructor(e){this.ri=e,this.docs=(function(){return new nr(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,l=this.docs.get(a),c=l?l.size:0,p=this.ri(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return Me.resolve(a?a.document.mutableCopy():pi.newInvalidDocument(r))}getEntries(e,r){let a=Ls();return r.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():pi.newInvalidDocument(l))})),Me.resolve(a)}getDocumentsMatchingQuery(e,r,a,l){let c=Ls();const p=r.path,b=new yt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:I}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||fC(cC(I),a)<=0||(l.has(I.key)||vh(r,I))&&(c=c.insert(I.key,I.mutableCopy()))}return Me.resolve(c)}getAllFromCollectionGroup(e,r,a,l){Et(9500)}ii(e,r){return Me.forEach(this.docs,(a=>r(a)))}newChangeBuffer(e){return new LR(this)}getSize(e){return Me.resolve(this.size)}}class LR extends IR{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Me.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}class jR{constructor(e){this.persistence=e,this.si=new Jo((r=>Pp(r)),Lp),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new Fp,this.targetCount=0,this.ai=Wl.ur()}forEachTarget(e,r){return this.si.forEach(((a,l)=>r(l))),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.oi&&(this.oi=r),Me.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Wl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Me.resolve()}updateTargetData(e,r){return this.Pr(r),Me.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,r,a){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=r&&a.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Me.waitFor(c).next((()=>l))}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,r){const a=this.si.get(r)||null;return Me.resolve(a)}addMatchingKeys(e,r,a){return this._i.Wr(r,a),Me.resolve()}removeMatchingKeys(e,r,a){this._i.zr(r,a);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Me.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Me.resolve()}getMatchingKeysForTargetId(e,r){const a=this._i.Hr(r);return Me.resolve(a)}containsKey(e,r){return Me.resolve(this._i.containsKey(r))}}class nw{constructor(e,r){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new kR,this.referenceDelegate=e(this),this.Pi=new jR(this),this.indexManager=new ER,this.remoteDocumentCache=(function(l){return new PR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new bR(r),this.Ii=new DR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new OR,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.ui[e.toKey()];return a||(a=new VR(r,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,a){rt("MemoryPersistence","Starting transaction:",e);const l=new UR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,r){return Me.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,r))))}}class UR extends dC{constructor(e){super(),this.currentSequenceNumber=e}}class Hp{constructor(e){this.persistence=e,this.Ri=new Fp,this.Vi=null}static mi(e){return new Hp(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,r,a){return this.Ri.addReference(a,r),this.fi.delete(a.toString()),Me.resolve()}removeReference(e,r,a){return this.Ri.removeReference(a,r),this.fi.add(a.toString()),Me.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Me.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.fi,(a=>{const l=yt.fromPath(a);return this.gi(e,l).next((c=>{c||r.removeEntry(l,Ct.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((a=>{a?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return Me.or([()=>Me.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class ah{constructor(e,r){this.persistence=e,this.pi=new Jo((a=>gC(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=RR(this,r)}static mi(e,r){return new ah(e,r)}Ei(){}di(e){return Me.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>r.next((l=>a+l))))}wr(e){let r=0;return this.pr(e,(a=>{r++})).next((()=>r))}pr(e,r){return Me.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?Me.resolve():r(l)))))}removeTargets(e,r,a){return this.persistence.getTargetCache().removeTargets(e,r,a)}removeOrphanedDocuments(e,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,r).next((b=>{b||(a++,c.removeEntry(p,Ct.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Me.resolve()}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),Me.resolve()}removeReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),Me.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Me.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Lf(e.data.value)),r}br(e,r,a){return Me.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const l=this.pi.get(r);return Me.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qp{constructor(e,r,a,l){this.targetId=e,this.fromCache=r,this.Es=a,this.ds=l}static As(e,r){let a=tn(),l=tn();for(const c of r.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new qp(e,r.fromCache,a,l)}}class zR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IA()?8:mC(yi())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,a,l){const c={result:null};return this.ys(e,r).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,r,l,a).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new zR;return this.Ss(e,r,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,r,p,b.size)}))})).next((()=>c.result))}bs(e,r,a,l){return a.documentReadCount<this.fs?(Rl()<=Zt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Il(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Me.resolve()):(Rl()<=Zt.DEBUG&&rt("QueryEngine","Query:",Il(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Rl()<=Zt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Il(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Za(r))):Me.resolve())}ys(e,r){if(C_(r))return Me.resolve(null);let a=Za(r);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=th(r,null,"F"),a=Za(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const p=tn(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,a).next((w=>{const E=this.Ds(r,b);return this.Cs(r,E,p,w.readTime)?this.ys(e,th(r,null,"F")):this.vs(e,E,r,w)}))))})))))}ws(e,r,a,l){return C_(r)||l.isEqual(Ct.min())?Me.resolve(null):this.ps.getDocuments(e,a).next((c=>{const p=this.Ds(r,c);return this.Cs(r,p,a,l)?Me.resolve(null):(Rl()<=Zt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Il(r)),this.vs(e,p,r,uC(l,tc)).next((b=>b)))}))}Ds(e,r){let a=new Ir(O1(e));return r.forEach(((l,c)=>{vh(e,c)&&(a=a.add(c))})),a}Cs(e,r,a,l){if(e.limit===null)return!1;if(a.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,r,a){return Rl()<=Zt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Il(r)),this.ps.getDocumentsMatchingQuery(e,r,To.min(),a)}vs(e,r,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(r.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Gp="LocalStore",FR=3e8;class HR{constructor(e,r,a,l){this.persistence=e,this.Fs=r,this.serializer=l,this.Ms=new nr(en),this.xs=new Jo((c=>Pp(c)),Lp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function qR(i,e,r,a){return new HR(i,e,r,a)}async function rw(i,e){const r=Dt(i);return await r.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,r.Bs(e),r.mutationQueue.getAllMutationBatches(a)))).next((c=>{const p=[],b=[];let w=tn();for(const E of l){p.push(E.batchId);for(const I of E.mutations)w=w.add(I.key)}for(const E of c){b.push(E.batchId);for(const I of E.mutations)w=w.add(I.key)}return r.localDocuments.getDocuments(a,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function GR(i,e){const r=Dt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,I){const O=E.batch,G=O.keys();let te=Me.resolve();return G.forEach((z=>{te=te.next((()=>I.getEntry(w,z))).next((De=>{const we=E.docVersions.get(z);Tn(we!==null,48541),De.version.compareTo(we)<0&&(O.applyToRemoteDocument(De,E),De.isValidDocument()&&(De.setReadTime(E.commitVersion),I.addEntry(De)))}))})),te.next((()=>b.mutationQueue.removeMutationBatch(w,O)))})(r,a,e,c).next((()=>c.apply(a))).next((()=>r.mutationQueue.performConsistencyCheck(a))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let w=tn();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>r.localDocuments.getDocuments(a,l)))}))}function iw(i){const e=Dt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function YR(i,e){const r=Dt(i),a=e.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const b=[];e.targetChanges.forEach(((I,O)=>{const G=l.get(O);if(!G)return;b.push(r.Pi.removeMatchingKeys(c,I.removedDocuments,O).next((()=>r.Pi.addMatchingKeys(c,I.addedDocuments,O))));let te=G.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(O)!==null?te=te.withResumeToken(ti.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):I.resumeToken.approximateByteSize()>0&&(te=te.withResumeToken(I.resumeToken,a)),l=l.insert(O,te),(function(De,we,Le){return De.resumeToken.approximateByteSize()===0||we.snapshotVersion.toMicroseconds()-De.snapshotVersion.toMicroseconds()>=FR?!0:Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0})(G,te,I)&&b.push(r.Pi.updateTargetData(c,te))}));let w=Ls(),E=tn();if(e.documentUpdates.forEach((I=>{e.resolvedLimboDocuments.has(I)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(c,I))})),b.push(XR(c,p,e.documentUpdates).next((I=>{w=I.ks,E=I.qs}))),!a.isEqual(Ct.min())){const I=r.Pi.getLastRemoteSnapshotVersion(c).next((O=>r.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));b.push(I)}return Me.waitFor(b).next((()=>p.apply(c))).next((()=>r.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(r.Ms=l,c)))}function XR(i,e,r){let a=tn(),l=tn();return r.forEach((c=>a=a.add(c))),e.getEntries(i,a).next((c=>{let p=Ls();return r.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(Ct.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):rt(Gp,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function WR(i,e){const r=Dt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Op),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function QR(i,e){const r=Dt(i);return r.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return r.Pi.getTargetData(a,e).next((c=>c?(l=c,Me.resolve(l)):r.Pi.allocateTargetId(a).next((p=>(l=new go(e,p,"TargetPurposeListen",a.currentSequenceNumber),r.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=r.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(a.targetId,a),r.xs.set(e,a.targetId)),a}))}async function fp(i,e,r){const a=Dt(i),l=a.Ms.get(e),c=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",c,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!tu(p))throw p;rt(Gp,`Failed to update sequence numbers for target ${e}: ${p}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function z_(i,e,r){const a=Dt(i);let l=Ct.min(),c=tn();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,I){const O=Dt(w),G=O.xs.get(I);return G!==void 0?Me.resolve(O.Ms.get(G)):O.Pi.getTargetData(E,I)})(a,p,Za(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,e,r?l:Ct.min(),r?c:tn()))).next((b=>(KR(a,VC(e),b),{documents:b,Qs:c})))))}function KR(i,e,r){let a=i.Os.get(e)||Ct.min();r.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),i.Os.set(e,a)}class B_{constructor(){this.activeTargetIds=BC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $R{constructor(){this.Mo=new B_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,a){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B_,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JR{Oo(e){}shutdown(){}}const F_="ConnectivityMonitor";class H_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(F_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(F_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let If=null;function hp(){return If===null?If=(function(){return 268435456+Math.round(2147483648*Math.random())})():If++,"0x"+If.toString(16)}const Lm="RestConnection",ZR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Jf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,r,a,l,c){const p=hp(),b=this.zo(e,r.toUriEncodedString());rt(Lm,`Sending RPC '${e}' ${p}:`,b,a);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),I=Kl(E);return this.Jo(e,b,w,a,I).then((O=>(rt(Lm,`Received RPC '${e}' ${p}: `,O),O)),(O=>{throw ql(Lm,`RPC '${e}' ${p} failed with error: `,O,"url: ",b,"request:",a),O}))}Ho(e,r,a,l,c,p){return this.Go(e,r,a,l,c)}jo(e,r,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,r){const a=ZR[e];return`${this.Uo}/v1/${r}:${a}`}terminate(){}}class tI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const di="WebChannelConnection";class nI extends eI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,a,l,c){const p=hp();return new Promise(((b,w)=>{const E=new a1;E.setWithCredentials(!0),E.listenOnce(s1.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Pf.NO_ERROR:const O=E.getResponseJson();rt(di,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(O)),b(O);break;case Pf.TIMEOUT:rt(di,`RPC '${e}' ${p} timed out`),w(new et(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const G=E.getStatus();if(rt(di,`RPC '${e}' ${p} failed with status:`,G,"response text:",E.getResponseText()),G>0){let te=E.getResponseJson();Array.isArray(te)&&(te=te[0]);const z=te?.error;if(z&&z.status&&z.message){const De=(function(Le){const U=Le.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(U)>=0?U:Re.UNKNOWN})(z.status);w(new et(De,z.message))}else w(new et(Re.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new et(Re.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{rt(di,`RPC '${e}' ${p} completed.`)}}));const I=JSON.stringify(l);rt(di,`RPC '${e}' ${p} sending request:`,l),E.send(r,"POST",I,a,15)}))}T_(e,r,a){const l=hp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=u1(),b=l1(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,r,a),w.encodeInitMessageHeaders=!0;const I=c.join("");rt(di,`Creating RPC '${e}' stream ${l}: ${I}`,w);const O=p.createWebChannel(I,w);this.I_(O);let G=!1,te=!1;const z=new tI({Yo:we=>{te?rt(di,`Not sending because RPC '${e}' stream ${l} is closed:`,we):(G||(rt(di,`Opening RPC '${e}' stream ${l} transport.`),O.open(),G=!0),rt(di,`RPC '${e}' stream ${l} sending:`,we),O.send(we))},Zo:()=>O.close()}),De=(we,Le,U)=>{we.listen(Le,(je=>{try{U(je)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return De(O,Hu.EventType.OPEN,(()=>{te||(rt(di,`RPC '${e}' stream ${l} transport opened.`),z.o_())})),De(O,Hu.EventType.CLOSE,(()=>{te||(te=!0,rt(di,`RPC '${e}' stream ${l} transport closed`),z.a_(),this.E_(O))})),De(O,Hu.EventType.ERROR,(we=>{te||(te=!0,ql(di,`RPC '${e}' stream ${l} transport errored. Name:`,we.name,"Message:",we.message),z.a_(new et(Re.UNAVAILABLE,"The operation could not be completed")))})),De(O,Hu.EventType.MESSAGE,(we=>{if(!te){const Le=we.data[0];Tn(!!Le,16349);const U=Le,je=U?.error||U[0]?.error;if(je){rt(di,`RPC '${e}' stream ${l} received error:`,je);const tt=je.status;let ct=(function(H){const L=Ar[H];if(L!==void 0)return G1(L)})(tt),it=je.message;ct===void 0&&(ct=Re.INTERNAL,it="Unknown error status: "+tt+" with message "+je.message),te=!0,z.a_(new et(ct,it)),O.close()}else rt(di,`RPC '${e}' stream ${l} received:`,Le),z.u_(Le)}})),De(b,o1.STAT_EVENT,(we=>{we.stat===ep.PROXY?rt(di,`RPC '${e}' stream ${l} detected buffering proxy`):we.stat===ep.NOPROXY&&rt(di,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function jm(){return typeof document<"u"?document:null}function Eh(i){return new sR(i,!0)}class aw{constructor(e,r,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=r,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const q_="PersistentStream";class sw{constructor(e,r,a,l,c,p,b,w){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aw(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Re.RESOURCE_EXHAUSTED?(Ps(r.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===r&&this.G_(a,l)}),(a=>{e((()=>{const l=new et(Re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,r){const a=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(rt(q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rI extends sw{constructor(e,r,a,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=uR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ct.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Ct.min():p.readTime?es(p.readTime):Ct.min()})(e);return this.listener.H_(r,a)}Y_(e){const r={};r.database=cp(this.serializer),r.addTarget=(function(c,p){let b;const w=p.target;if(b=ap(w)?{documents:hR(c,w)}:{query:dR(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=W1(c,p.resumeToken);const E=op(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(Ct.min())>0){b.readTime=ih(c,p.snapshotVersion.toTimestamp());const E=op(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const a=pR(this.serializer,e);a&&(r.labels=a),this.q_(r)}Z_(e){const r={};r.database=cp(this.serializer),r.removeTarget=e,this.q_(r)}}class iI extends sw{constructor(e,r,a,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Tn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Tn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=fR(e.writeResults,e.commitTime),a=es(e.commitTime);return this.listener.na(a,r)}ra(){const e={};e.database=cp(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((a=>cR(this.serializer,a)))};this.q_(r)}}class aI{}class sI extends aI{constructor(e,r,a,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new et(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,lp(r,a),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new et(Re.UNKNOWN,c.toString())}))}Ho(e,r,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,lp(r,a),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new et(Re.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oI{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(r),this.aa=!1):rt("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ko="RemoteStore";class lI{constructor(e,r,a,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{el(this)&&(rt(Ko,"Restarting streams for network reachability change."),await(async function(w){const E=Dt(w);E.Ea.add(4),await bc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await Th(E)})(this))}))})),this.Ra=new oI(a,l)}}async function Th(i){if(el(i))for(const e of i.da)await e(!0)}async function bc(i){for(const e of i.da)await e(!1)}function ow(i,e){const r=Dt(i);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Qp(r)?Wp(r):ru(r).O_()&&Xp(r,e))}function Yp(i,e){const r=Dt(i),a=ru(r);r.Ia.delete(e),a.O_()&&lw(r,e),r.Ia.size===0&&(a.O_()?a.L_():el(r)&&r.Ra.set("Unknown"))}function Xp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ru(i).Y_(e)}function lw(i,e){i.Va.Ue(e),ru(i).Z_(e)}function Wp(i){i.Va=new nR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ru(i).start(),i.Ra.ua()}function Qp(i){return el(i)&&!ru(i).x_()&&i.Ia.size>0}function el(i){return Dt(i).Ea.size===0}function uw(i){i.Va=void 0}async function uI(i){i.Ra.set("Online")}async function cI(i){i.Ia.forEach(((e,r)=>{Xp(i,e)}))}async function fI(i,e){uw(i),Qp(i)?(i.Ra.ha(e),Wp(i)):i.Ra.set("Unknown")}async function hI(i,e,r){if(i.Ra.set("Online"),e instanceof X1&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(i,e)}catch(a){rt(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await sh(i,a)}else if(e instanceof zf?i.Va.Ze(e):e instanceof Y1?i.Va.st(e):i.Va.tt(e),!r.isEqual(Ct.min()))try{const a=await iw(i.localStore);r.compareTo(a)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const I=c.Ia.get(E);I&&c.Ia.set(E,I.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const I=c.Ia.get(w);if(!I)return;c.Ia.set(w,I.withResumeToken(ti.EMPTY_BYTE_STRING,I.snapshotVersion)),lw(c,w);const O=new go(I.target,w,E,I.sequenceNumber);Xp(c,O)})),c.remoteSyncer.applyRemoteEvent(b)})(i,r)}catch(a){rt(Ko,"Failed to raise snapshot:",a),await sh(i,a)}}async function sh(i,e,r){if(!tu(e))throw e;i.Ea.add(1),await bc(i),i.Ra.set("Offline"),r||(r=()=>iw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{rt(Ko,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await Th(i)}))}function cw(i,e){return e().catch((r=>sh(i,r,e)))}async function Ah(i){const e=Dt(i),r=Co(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Op;for(;dI(e);)try{const l=await WR(e.localStore,a);if(l===null){e.Ta.length===0&&r.L_();break}a=l.batchId,mI(e,l)}catch(l){await sh(e,l)}fw(e)&&hw(e)}function dI(i){return el(i)&&i.Ta.length<10}function mI(i,e){i.Ta.push(e);const r=Co(i);r.O_()&&r.X_&&r.ea(e.mutations)}function fw(i){return el(i)&&!Co(i).x_()&&i.Ta.length>0}function hw(i){Co(i).start()}async function pI(i){Co(i).ra()}async function gI(i){const e=Co(i);for(const r of i.Ta)e.ea(r.mutations)}async function yI(i,e,r){const a=i.Ta.shift(),l=Up.from(a,e,r);await cw(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await Ah(i)}async function vI(i,e){e&&Co(i).X_&&await(async function(a,l){if((function(p){return ZC(p)&&p!==Re.ABORTED})(l.code)){const c=a.Ta.shift();Co(a).B_(),await cw(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(a)}})(i,e),fw(i)&&hw(i)}async function G_(i,e){const r=Dt(i);r.asyncQueue.verifyOperationInProgress(),rt(Ko,"RemoteStore received new credentials");const a=el(r);r.Ea.add(3),await bc(r),a&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Th(r)}async function _I(i,e){const r=Dt(i);e?(r.Ea.delete(2),await Th(r)):e||(r.Ea.add(2),await bc(r),r.Ra.set("Unknown"))}function ru(i){return i.ma||(i.ma=(function(r,a,l){const c=Dt(r);return c.sa(),new rI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:uI.bind(null,i),t_:cI.bind(null,i),r_:fI.bind(null,i),H_:hI.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Qp(i)?Wp(i):i.Ra.set("Unknown")):(await i.ma.stop(),uw(i))}))),i.ma}function Co(i){return i.fa||(i.fa=(function(r,a,l){const c=Dt(r);return c.sa(),new iI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:pI.bind(null,i),r_:vI.bind(null,i),ta:gI.bind(null,i),na:yI.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ah(i)):(await i.fa.stop(),i.Ta.length>0&&(rt(Ko,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Kp{constructor(e,r,a,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,l,c){const p=Date.now()+a,b=new Kp(e,r,p,l,c);return b.start(a),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(i,e){if(Ps("AsyncQueue",`${e}: ${i}`),tu(i))return new et(Re.UNAVAILABLE,`${e}: ${i}`);throw i}class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(r,a)=>e(r,a)||yt.comparator(r.key,a.key):(r,a)=>yt.comparator(r.key,a.key),this.keyedMap=qu(),this.sortedSet=new nr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,a)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const a=new zl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class Y_{constructor(){this.ga=new nr(yt.comparator)}track(e){const r=e.doc.key,a=this.ga.get(r);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(r,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(r,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(r):e.type===1&&a.type===2?this.ga=this.ga.insert(r,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,a)=>{e.push(a)})),e}}class Ql{constructor(e,r,a,l,c,p,b,w,E){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,r,a,l,c){const p=[];return r.forEach((b=>{p.push({type:0,doc:b})})),new Ql(e,r,zl.emptySet(r),p,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class bI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wI{constructor(){this.queries=X_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,a){const l=Dt(r),c=l.queries;l.queries=X_(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(a)}))})(this,new et(Re.ABORTED,"Firestore shutting down"))}}function X_(){return new Jo((i=>D1(i)),yh)}async function EI(i,e){const r=Dt(i);let a=3;const l=e.query;let c=r.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new bI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await r.onListen(l,!0);break;case 1:c.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const b=$p(p,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(b)}r.queries.set(l,c),c.Sa.push(e),e.va(r.onlineState),c.wa&&e.Fa(c.wa)&&Jp(r)}async function TI(i,e){const r=Dt(i),a=e.query;let l=3;const c=r.queries.get(a);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function AI(i,e){const r=Dt(i);let a=!1;for(const l of e){const c=l.query,p=r.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(a=!0);p.wa=l}}a&&Jp(r)}function SI(i,e,r){const a=Dt(i),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(r);a.queries.delete(e)}function Jp(i){i.Ca.forEach((e=>{e.next()}))}var dp,W_;(W_=dp||(dp={})).Ma="default",W_.Cache="cache";class xI{constructor(e,r,a){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Ql(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const a=r!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}class dw{constructor(e){this.key=e}}class mw{constructor(e){this.key=e}}class CI{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tn(),this.mutatedKeys=tn(),this.eu=O1(e),this.tu=new zl(this.eu)}get nu(){return this.Ya}ru(e,r){const a=r?r.iu:new Y_,l=r?r.tu:this.tu;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((I,O)=>{const G=l.get(I),te=vh(this.query,O)?O:null,z=!!G&&this.mutatedKeys.has(G.key),De=!!te&&(te.hasLocalMutations||this.mutatedKeys.has(te.key)&&te.hasCommittedMutations);let we=!1;G&&te?G.data.isEqual(te.data)?z!==De&&(a.track({type:3,doc:te}),we=!0):this.su(G,te)||(a.track({type:2,doc:te}),we=!0,(w&&this.eu(te,w)>0||E&&this.eu(te,E)<0)&&(b=!0)):!G&&te?(a.track({type:0,doc:te}),we=!0):G&&!te&&(a.track({type:1,doc:G}),we=!0,(w||E)&&(b=!0)),we&&(te?(p=p.add(te),c=De?c.add(I):c.delete(I)):(p=p.delete(I),c=c.delete(I)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const I=this.query.limitType==="F"?p.last():p.first();p=p.delete(I.key),c=c.delete(I.key),a.track({type:1,doc:I})}return{tu:p,iu:a,Cs:b,mutatedKeys:c}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((I,O)=>(function(te,z){const De=we=>{switch(we){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:we})}};return De(te)-De(z)})(I.type,O.type)||this.eu(I.doc,O.doc))),this.ou(a),l=l??!1;const b=r&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Ql(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tn(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const r=[];return e.forEach((a=>{this.Xa.has(a)||r.push(new mw(a))})),this.Xa.forEach((a=>{e.has(a)||r.push(new dw(a))})),r}cu(e){this.Ya=e.Qs,this.Xa=tn();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zp="SyncEngine";class RI{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class II{constructor(e){this.key=e,this.hu=!1}}class MI{constructor(e,r,a,l,c,p){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Jo((b=>D1(b)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new nr(yt.comparator),this.Au=new Map,this.Ru=new Fp,this.Vu={},this.mu=new Map,this.fu=Wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NI(i,e,r=!0){const a=bw(i);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await pw(a,e,r,!0),l}async function DI(i,e){const r=bw(i);await pw(r,e,!0,!1)}async function pw(i,e,r,a){const l=await QR(i.localStore,Za(e)),c=l.targetId,p=i.sharedClientState.addLocalQueryTarget(c,r);let b;return a&&(b=await OI(i,e,c,p==="current",l.resumeToken)),i.isPrimaryClient&&r&&ow(i.remoteStore,l),b}async function OI(i,e,r,a,l){i.pu=(O,G,te)=>(async function(De,we,Le,U){let je=we.view.ru(Le);je.Cs&&(je=await z_(De.localStore,we.query,!1).then((({documents:X})=>we.view.ru(X,je))));const tt=U&&U.targetChanges.get(we.targetId),ct=U&&U.targetMismatches.get(we.targetId)!=null,it=we.view.applyChanges(je,De.isPrimaryClient,tt,ct);return K_(De,we.targetId,it.au),it.snapshot})(i,O,G,te);const c=await z_(i.localStore,e,!0),p=new CI(e,c.Qs),b=p.ru(c.documents),w=_c.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",l),E=p.applyChanges(b,i.isPrimaryClient,w);K_(i,r,E.au);const I=new RI(e,r,p);return i.Tu.set(e,I),i.Iu.has(r)?i.Iu.get(r).push(e):i.Iu.set(r,[e]),E.snapshot}async function kI(i,e,r){const a=Dt(i),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((p=>!yh(p,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),r&&Yp(a.remoteStore,l.targetId),mp(a,l.targetId)})).catch(eu)):(mp(a,l.targetId),await fp(a.localStore,l.targetId,!0))}async function VI(i,e){const r=Dt(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Yp(r.remoteStore,a.targetId))}async function PI(i,e,r){const a=HI(i);try{const l=await(function(p,b){const w=Dt(p),E=Qn.now(),I=b.reduce(((te,z)=>te.add(z.key)),tn());let O,G;return w.persistence.runTransaction("Locally write mutations","readwrite",(te=>{let z=Ls(),De=tn();return w.Ns.getEntries(te,I).next((we=>{z=we,z.forEach(((Le,U)=>{U.isValidDocument()||(De=De.add(Le))}))})).next((()=>w.localDocuments.getOverlayedDocuments(te,z))).next((we=>{O=we;const Le=[];for(const U of b){const je=WC(U,O.get(U.key).overlayedDocument);je!=null&&Le.push(new Zo(U.key,je,T1(je.value.mapValue),Ns.exists(!0)))}return w.mutationQueue.addMutationBatch(te,E,Le,b)})).next((we=>{G=we;const Le=we.applyToLocalDocumentSet(O,De);return w.documentOverlayCache.saveOverlays(te,we.batchId,Le)}))})).then((()=>({batchId:G.batchId,changes:V1(O)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new nr(en)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(a,l.batchId,r),await wc(a,l.changes),await Ah(a.remoteStore)}catch(l){const c=$p(l,"Failed to persist write");r.reject(c)}}async function gw(i,e){const r=Dt(i);try{const a=await YR(r.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=r.Au.get(c);p&&(Tn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Tn(p.hu,14607):l.removedDocuments.size>0&&(Tn(p.hu,42227),p.hu=!1))})),await wc(r,a,e)}catch(a){await eu(a)}}function Q_(i,e,r){const a=Dt(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=Dt(p);w.onlineState=b;let E=!1;w.queries.forEach(((I,O)=>{for(const G of O.Sa)G.va(b)&&(E=!0)})),E&&Jp(w)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function LI(i,e,r){const a=Dt(i);a.sharedClientState.updateQueryState(e,"rejected",r);const l=a.Au.get(e),c=l&&l.key;if(c){let p=new nr(yt.comparator);p=p.insert(c,pi.newNoDocument(c,Ct.min()));const b=tn().add(c),w=new wh(Ct.min(),new Map,new nr(en),p,b);await gw(a,w),a.du=a.du.remove(c),a.Au.delete(e),eg(a)}else await fp(a.localStore,e,!1).then((()=>mp(a,e,r))).catch(eu)}async function jI(i,e){const r=Dt(i),a=e.batch.batchId;try{const l=await GR(r.localStore,e);vw(r,a,null),yw(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await wc(r,l)}catch(l){await eu(l)}}async function UI(i,e,r){const a=Dt(i);try{const l=await(function(p,b){const w=Dt(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let I;return w.mutationQueue.lookupMutationBatch(E,b).next((O=>(Tn(O!==null,37113),I=O.keys(),w.mutationQueue.removeMutationBatch(E,O)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,I,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,I))).next((()=>w.localDocuments.getDocuments(E,I)))}))})(a.localStore,e);vw(a,e,r),yw(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),await wc(a,l)}catch(l){await eu(l)}}function yw(i,e){(i.mu.get(e)||[]).forEach((r=>{r.resolve()})),i.mu.delete(e)}function vw(i,e,r){const a=Dt(i);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(r?c.reject(r):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function mp(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),r&&i.Pu.yu(a,r);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||_w(i,a)}))}function _w(i,e){i.Eu.delete(e.path.canonicalString());const r=i.du.get(e);r!==null&&(Yp(i.remoteStore,r),i.du=i.du.remove(e),i.Au.delete(r),eg(i))}function K_(i,e,r){for(const a of r)a instanceof dw?(i.Ru.addReference(a.key,e),zI(i,a)):a instanceof mw?(rt(Zp,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||_w(i,a.key)):Et(19791,{wu:a})}function zI(i,e){const r=e.key,a=r.path.canonicalString();i.du.get(r)||i.Eu.has(a)||(rt(Zp,"New document in limbo: "+r),i.Eu.add(a),eg(i))}function eg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const r=new yt(qn.fromString(e)),a=i.fu.next();i.Au.set(a,new II(r)),i.du=i.du.insert(r,a),ow(i.remoteStore,new go(Za(M1(r.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function wc(i,e,r){const a=Dt(i),l=[],c=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,w)=>{p.push(a.pu(w,e,r).then((E=>{if((E||r)&&a.isPrimaryClient){const I=E?!E.fromCache:r?.targetChanges.get(w.targetId)?.current;a.sharedClientState.updateQueryState(w.targetId,I?"current":"not-current")}if(E){l.push(E);const I=qp.As(w.targetId,E);c.push(I)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(w,E){const I=Dt(w);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>Me.forEach(E,(G=>Me.forEach(G.Es,(te=>I.persistence.referenceDelegate.addReference(O,G.targetId,te))).next((()=>Me.forEach(G.ds,(te=>I.persistence.referenceDelegate.removeReference(O,G.targetId,te)))))))))}catch(O){if(!tu(O))throw O;rt(Gp,"Failed to update sequence numbers: "+O)}for(const O of E){const G=O.targetId;if(!O.fromCache){const te=I.Ms.get(G),z=te.snapshotVersion,De=te.withLastLimboFreeSnapshotVersion(z);I.Ms=I.Ms.insert(G,De)}}})(a.localStore,c))}async function BI(i,e){const r=Dt(i);if(!r.currentUser.isEqual(e)){rt(Zp,"User change. New user:",e.toKey());const a=await rw(r.localStore,e);r.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new et(Re.CANCELLED,p))}))})),c.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await wc(r,a.Ls)}}function FI(i,e){const r=Dt(i),a=r.Au.get(e);if(a&&a.hu)return tn().add(a.key);{let l=tn();const c=r.Iu.get(e);if(!c)return l;for(const p of c){const b=r.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function bw(i){const e=Dt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=gw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LI.bind(null,e),e.Pu.H_=AI.bind(null,e.eventManager),e.Pu.yu=SI.bind(null,e.eventManager),e}function HI(i){const e=Dt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UI.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return qR(this.persistence,new BR,e.initialUser,this.serializer)}Cu(e){return new nw(Hp.mi,this.serializer)}Du(e){return new $R}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class qI extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Tn(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new xR(a,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new nw((a=>ah.mi(a,r)),this.serializer)}}class pp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Q_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=BI.bind(null,this.syncEngine),await _I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wI})()}createDatastore(e){const r=Eh(e.databaseInfo.databaseId),a=(function(c){return new nI(c)})(e.databaseInfo);return(function(c,p,b,w){return new sI(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,a,r)}createRemoteStore(e){return(function(a,l,c,p,b){return new lI(a,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(r=>Q_(this.syncEngine,r,0)),(function(){return H_.v()?new H_:new JR})())}createSyncEngine(e,r){return(function(l,c,p,b,w,E,I){const O=new MI(l,c,p,b,w,E);return I&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const a=Dt(r);rt(Ko,"RemoteStore shutting down."),a.Ea.add(5),await bc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pp.provider={build:()=>new pp};class GI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}const Ro="FirestoreClient";class YI{constructor(e,r,a,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=mi.UNAUTHENTICATED,this.clientId=Dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async p=>{rt(Ro,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(rt(Ro,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const a=$p(r,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Um(i,e){i.asyncQueue.verifyOperationInProgress(),rt(Ro,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let a=r.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await rw(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function $_(i,e){i.asyncQueue.verifyOperationInProgress();const r=await XI(i);rt(Ro,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener((a=>G_(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>G_(e.remoteStore,l))),i._onlineComponents=e}async function XI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){rt(Ro,"Using user provided OfflineComponentProvider");try{await Um(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Re.FAILED_PRECONDITION||l.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;ql("Error using user provided cache. Falling back to memory cache: "+r),await Um(i,new oh)}}else rt(Ro,"Using default OfflineComponentProvider"),await Um(i,new qI(void 0));return i._offlineComponents}async function ww(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(rt(Ro,"Using user provided OnlineComponentProvider"),await $_(i,i._uninitializedComponentsProvider._online)):(rt(Ro,"Using default OnlineComponentProvider"),await $_(i,new pp))),i._onlineComponents}function WI(i){return ww(i).then((e=>e.syncEngine))}async function QI(i){const e=await ww(i),r=e.eventManager;return r.onListen=NI.bind(null,e.syncEngine),r.onUnlisten=kI.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=DI.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=VI.bind(null,e.syncEngine),r}function KI(i,e,r={}){const a=new wo;return i.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,w,E){const I=new GI({next:G=>{I.Nu(),p.enqueueAndForget((()=>TI(c,O))),G.fromCache&&w.source==="server"?E.reject(new et(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(G)},error:G=>E.reject(G)}),O=new xI(b,I,{includeMetadataChanges:!0,qa:!0});return EI(c,O)})(await QI(i),i.asyncQueue,e,r,a))),a.promise}function Ew(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const J_=new Map;const Tw="firestore.googleapis.com",Z_=!0;class eb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tw,this.ssl=Z_}else this.host=e.host,this.ssl=e.ssl??Z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AR)throw new et(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ew(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new et(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new et(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new et(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,r,a,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new $x;switch(a.type){case"firstParty":return new tC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new et(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const a=J_.get(r);a&&(rt("ComponentProvider","Removing Datastore"),J_.delete(r),a.terminate())})(this),Promise.resolve()}}function $I(i,e,r,a={}){i=Kf(i,Sh);const l=Kl(e),c=i._getSettings(),p={...c,emulatorOptions:i._getEmulatorOptions()},b=`${e}:${r}`;l&&(_b(`https://${b}`),bb("Firestore",!0)),c.host!==Tw&&c.host!==b&&ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:a};if(!Yo(w,p)&&(i._setSettings(w),a.mockUserToken)){let E,I;if(typeof a.mockUserToken=="string")E=a.mockUserToken,I=mi.MOCK_USER;else{E=bA(a.mockUserToken,i._app?.options.projectId);const O=a.mockUserToken.sub||a.mockUserToken.user_id;if(!O)throw new et(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new mi(O)}i._authCredentials=new Jx(new f1(E,I))}}class Io{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class Hr{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}toJSON(){return{type:Hr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,a){if(yc(r,Hr._jsonSchema))return new Hr(e,a||null,new yt(qn.fromString(r.referencePath)))}}Hr._jsonSchemaVersion="firestore/documentReference/1.0",Hr._jsonSchema={type:xr("string",Hr._jsonSchemaVersion),referencePath:xr("string")};class Eo extends Io{constructor(e,r,a){super(e,r,M1(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new yt(e))}withConverter(e){return new Eo(this.firestore,e,this._path)}}function Dl(i,e,...r){if(i=ia(i),h1("collection","path",e),i instanceof Sh){const a=qn.fromString(e,...r);return d_(a),new Eo(i,null,a)}{if(!(i instanceof Hr||i instanceof Eo))throw new et(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(qn.fromString(e,...r));return d_(a),new Eo(i.firestore,null,a)}}function JI(i,e,...r){if(i=ia(i),arguments.length===1&&(e=Dp.newId()),h1("doc","path",e),i instanceof Sh){const a=qn.fromString(e,...r);return h_(a),new Hr(i,null,new yt(a))}{if(!(i instanceof Hr||i instanceof Eo))throw new et(Re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(qn.fromString(e,...r));return h_(a),new Hr(i.firestore,i instanceof Eo?i.converter:null,new yt(a))}}const tb="AsyncQueue";class nb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aw(this,"async_queue_retry"),this._c=()=>{const a=jm();a&&rt(tb,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const r=jm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=jm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new wo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tu(e))throw e;rt(tb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",rb(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=r,r}enqueueAfterDelay(e,r,a){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const l=Kp.createAndSchedule(this,e,r,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:rb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,a)=>r.targetTimeMs-a.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function rb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class tg extends Sh{constructor(e,r,a,l){super(e,r,a,l),this.type="firestore",this._queue=new nb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nb(e),this._firestoreClient=void 0,await e}}}function ZI(i,e){const r=typeof i=="object"?i:Ab(),a=typeof i=="string"?i:Jf,l=Ep(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=vA("firestore");c&&$I(l,...c)}return l}function Aw(i){if(i._terminated)throw new et(Re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||eM(i),i._firestoreClient}function eM(i){const e=i._freezeSettings(),r=(function(l,c,p,b){return new _C(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Ew(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new YI(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class Aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Aa(ti.fromBase64String(e))}catch(r){throw new et(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Aa(ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Aa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yc(e,Aa._jsonSchema))return Aa.fromBase64String(e.bytes)}}Aa._jsonSchemaVersion="firestore/bytes/1.0",Aa._jsonSchema={type:xr("string",Aa._jsonSchemaVersion),bytes:xr("string")};class ng{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new et(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sw{constructor(e){this._methodName=e}}class ts{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new et(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new et(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(yc(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:xr("string",ts._jsonSchemaVersion),latitude:xr("number"),longitude:xr("number")};class ns{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yc(e,ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new ns(e.vectorValues);throw new et(Re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:xr("string",ns._jsonSchemaVersion),vectorValues:xr("object")};const tM=/^__.*__$/;class nM{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return this.fieldMask!==null?new Zo(e,this.data,this.fieldMask,r,this.fieldTransforms):new vc(e,this.data,r,this.fieldTransforms)}}function xw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:i})}}class rg{constructor(e,r,a,l,c,p){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.gc(e),a}yc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xw(this.Ac)&&tM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rM{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||Eh(e)}Cc(e,r,a,l=!1){return new rg({Ac:e,methodName:r,Dc:a,path:ei.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cw(i){const e=i._freezeSettings(),r=Eh(i._databaseId);return new rM(i._databaseId,!!e.ignoreUndefinedProperties,r)}function iM(i,e,r,a,l,c={}){const p=i.Cc(c.merge||c.mergeFields?2:0,e,r,l);Mw("Data must be an object, but it was:",p,a);const b=Rw(a,p);let w,E;if(c.merge)w=new ja(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const I=[];for(const O of c.mergeFields){const G=sM(e,O,r);if(!p.contains(G))throw new et(Re.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);lM(I,G)||I.push(G)}w=new ja(I),E=p.fieldTransforms.filter((O=>w.covers(O.field)))}else w=null,E=p.fieldTransforms;return new nM(new Ta(b),w,E)}function aM(i,e,r,a=!1){return ig(r,i.Cc(a?4:3,e))}function ig(i,e){if(Iw(i=ia(i)))return Mw("Unsupported field value:",e,i),Rw(i,e);if(i instanceof Sw)return(function(a,l){if(!xw(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let p=0;for(const b of a){let w=ig(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(i,e)}return(function(a,l){if((a=ia(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return FC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Qn.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof Qn){const c=new Qn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof ts)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Aa)return{bytesValue:W1(l.serializer,a._byteString)};if(a instanceof Hr){const c=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ns)return(function(p,b){return{mapValue:{fields:{[w1]:{stringValue:E1},[Zf]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return jp(b.serializer,E)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${dh(a)}`)})(i,e)}function Rw(i,e){const r={};return p1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(i,((a,l)=>{const c=ig(l,e.mc(a));c!=null&&(r[a]=c)})),{mapValue:{fields:r}}}function Iw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qn||i instanceof ts||i instanceof Aa||i instanceof Hr||i instanceof Sw||i instanceof ns)}function Mw(i,e,r){if(!Iw(r)||!d1(r)){const a=dh(r);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function sM(i,e,r){if((e=ia(e))instanceof ng)return e._internalPath;if(typeof e=="string")return Nw(i,e);throw lh("Field path arguments must be of type string or ",i,!1,void 0,r)}const oM=new RegExp("[~\\*/\\[\\]]");function Nw(i,e,r){if(e.search(oM)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new ng(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function lh(i,e,r,a,l){const c=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${a}`),p&&(w+=` in document ${l}`),w+=")"),new et(Re.INVALID_ARGUMENT,b+i+w)}function lM(i,e){return i.some((r=>r.isEqual(e)))}class Dw{constructor(e,r,a,l,c){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(xh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class uM extends Dw{data(){return super.data()}}function xh(i,e){return typeof e=="string"?Nw(i,e):e instanceof ng?e._internalPath:e._delegate._internalPath}function cM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new et(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class sg extends ag{}function gp(i,e,...r){let a=[];e instanceof ag&&a.push(e),a=a.concat(r),(function(c){const p=c.filter((w=>w instanceof og)).length,b=c.filter((w=>w instanceof Ch)).length;if(p>1||p>0&&b>0)throw new et(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)i=l._apply(i);return i}class Ch extends sg{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new Ch(e,r,a)}_apply(e){const r=this._parse(e);return Ow(e._query,r),new Io(e.firestore,e.converter,sp(e._query,r))}_parse(e){const r=Cw(e.firestore);return(function(c,p,b,w,E,I,O){let G;if(E.isKeyField()){if(I==="array-contains"||I==="array-contains-any")throw new et(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if(I==="in"||I==="not-in"){ab(O,I);const z=[];for(const De of O)z.push(ib(w,c,De));G={arrayValue:{values:z}}}else G=ib(w,c,O)}else I!=="in"&&I!=="not-in"&&I!=="array-contains-any"||ab(O,I),G=aM(b,p,O,I==="in"||I==="not-in");return Sr.create(E,I,G)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Pl(i,e,r){const a=e,l=xh("where",i);return Ch._create(l,a,r)}class og extends ag{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new og(e,r)}_parse(e){const r=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return r.length===1?r[0]:Ua.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)Ow(p,w),p=sp(p,w)})(e._query,r),new Io(e.firestore,e.converter,sp(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lg extends sg{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new lg(e,r)}_apply(e){const r=(function(l,c,p){if(l.startAt!==null)throw new et(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new et(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ac(c,p)})(e._query,this._field,this._direction);return new Io(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new nu(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,r))}}function uo(i,e="asc"){const r=e,a=xh("orderBy",i);return lg._create(a,r)}class ug extends sg{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new ug(e,r,a)}_apply(e){return new Io(e.firestore,e.converter,th(e._query,this._limit,this._limitType))}}function Ju(i){return lC("limit",i),ug._create("limit",i,"F")}function ib(i,e,r){if(typeof(r=ia(r))=="string"){if(r==="")throw new et(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N1(e)&&r.indexOf("/")!==-1)throw new et(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(qn.fromString(r));if(!yt.isDocumentKey(a))throw new et(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return w_(i,new yt(a))}if(r instanceof Hr)return w_(i,r._key);throw new et(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(r)}.`)}function ab(i,e){if(!Array.isArray(i)||i.length===0)throw new et(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ow(i,e){const r=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new et(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class fM{convertValue(e,r="none"){switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return $o(e,((l,c)=>{a[l]=this.convertValue(c,r)})),a}convertVectorValue(e){const r=e.fields?.[Zf].arrayValue?.values?.map((a=>gr(a.doubleValue)));return new ns(r)}convertGeoPoint(e){return new ts(gr(e.latitude),gr(e.longitude))}convertArray(e,r){return(e.values||[]).map((a=>this.convertValue(a,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const a=gh(e);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const r=Ao(e);return new Qn(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=qn.fromString(e);Tn(ew(a),9688,{name:e});const l=new rc(a.get(1),a.get(3)),c=new yt(a.popFirst(5));return l.isEqual(r)||Ps(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}function hM(i,e,r){let a;return a=i?i.toFirestore(e):e,a}class Mf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bl extends Dw{constructor(e,r,a,l,c,p){super(e,r,a,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(xh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Bl._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Bl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bl._jsonSchema={type:xr("string",Bl._jsonSchemaVersion),bundleSource:xr("string","DocumentSnapshot"),bundleName:xr("string"),bundle:xr("string")};class Bf extends Bl{data(e={}){return super.data(e)}}class Fl{constructor(e,r,a,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Mf(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((a=>{e.call(r,new Bf(this._firestore,this._userDataWriter,a.key,a,new Mf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new et(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Bf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Mf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Bf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Mf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,I=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),I=p.indexOf(b.doc.key)),{type:dM(b.type),doc:w,oldIndex:E,newIndex:I}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(r.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:i})}}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:xr("string",Fl._jsonSchemaVersion),bundleSource:xr("string","QuerySnapshot"),bundleName:xr("string"),bundle:xr("string")};class mM extends fM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,r)}}function yp(i){i=Kf(i,Io);const e=Kf(i.firestore,tg),r=Aw(e),a=new mM(e);return cM(i._query),KI(r,i._query).then((l=>new Fl(e,a,i,l)))}function zm(i,e){const r=Kf(i.firestore,tg),a=JI(i),l=hM(i.converter,e);return pM(r,[iM(Cw(i.firestore),"addDoc",a._key,l,i.converter!==null,{}).toMutation(a._key,Ns.exists(!1))]).then((()=>a))}function pM(i,e){return(function(a,l){const c=new wo;return a.asyncQueue.enqueueAndForget((async()=>PI(await WI(a),l,c))),c.promise})(Aw(i),e)}(function(e,r=!0){(function(l){Zl=l})($l),Hl(new Xo("firestore",((a,{instanceIdentifier:l,options:c})=>{const p=a.getProvider("app").getImmediate(),b=new tg(new Zx(a.getProvider("auth-internal")),new nC(p,a.getProvider("app-check-internal")),(function(E,I){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new et(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(E.options.projectId,I)})(p,l),p);return c={useFetchStreams:r,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),_o(l_,u_,e),_o(l_,u_,"esm2020")})();const gM={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},yM=typeof __firebase_config<"u"?JSON.parse(__firebase_config):gM,kw=Tb(yM),Bm=Qx(kw),Ol=ZI(kw),vp=typeof __app_id<"u"?__app_id:"long-jump-game",sb={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWild:"#ffd700",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000",modalBg:"#ffffff",settingsBg:"#ffffff",handBg:"#dcd8cc"},vM={background:"#111827",boardBackground:"#1f2937",boardLines:"#374151",tileLocked:"#374151",tileLockedText:"#f3f4f6",tileTemp:"#854d0e",tileTempRing:"#ca8a04",tileWild:"#b45309",tileWildPlaced:"#78350f",tileObstacle:"#000000",accentPrimary:"#65a30d",accentSecondary:"#4d7c0f",textMain:"#f9fafb",textSub:"#9ca3af",starGold:"#fbbf24",starPurple:"#c084fc",overlayComplete:"#1f2937",startArrow:"#ffffff",modalBg:"#1f2937",settingsBg:"#111827",handBg:"#1f2937"},Fr=5,_p=50,_M=50,Vw=30,bM=30,Pa=40,Pw={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},wM=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),ob=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],lb=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],ub=(i=_p)=>Array(Fr).fill(null).map(()=>Array(i).fill(null)),Fu=(i,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:i,isNew:e,isPlaced:!1}),Lw=i=>{const e=["th","st","nd","rd"],r=i%100;return i+(e[(r-20)%10]||e[r]||e[0])},EM=i=>{const e=new Date(i),r=e.getDate(),a=e.toLocaleDateString("en-GB",{month:"short"});return`${Lw(r)} ${a}`},lc=i=>function(){var e=i+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},uc=i=>{let e=1779033703,r=3144134277,a=1013904242,l=2773480762;for(let c=0,p;c<i.length;c++)p=i.charCodeAt(c),e=r^Math.imul(e^p,597399067),r=a^Math.imul(r^p,2869860233),a=l^Math.imul(a^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(a^e>>>18,597399067),r=Math.imul(l^r>>>22,2869860233),a=Math.imul(e^a>>>17,951274213),l=Math.imul(r^l>>>19,2716044179),(e^r^a^l)>>>0},TM=()=>new Date().toISOString().split("T")[0],AM=(i,e,r)=>{const a=uc(i),l=lc(a),c=[],p=Math.floor(e*.3),b=new Set;for(;c.length<p;){const w=Math.floor(l()*Fr),E=Math.floor(l()*e);if(E===0||r==="maze"&&(E===14||E===29))continue;const I=`${w},${E}`;if(!b.has(I)){b.add(I);const O=l();let G=1,te="star";O>.5&&(G=2),O>.8&&(G=3),c.push({r:w,c:E,val:G,type:te})}}return r==="maze"&&[14,29].forEach(w=>{if(w<e)for(let E=0;E<Fr;E++){if((E+w)%3===0)continue;const O=E*w*13%10/10>.5?3:2;c.push({r:E,c:w,val:O,type:"star"})}}),c},SM=(i,e,r)=>{const a=uc(i+"OBSTACLES"),l=lc(a),c=[];if(r!=="maze"){const G=Math.floor(e*.1),te=new Set;for(;c.length<G;){const z=Math.floor(l()*Fr),De=Math.floor(l()*e);if(De===0)continue;const we=`${z},${De}`;te.has(we)||(te.add(we),c.push({r:z,c:De}))}return c}const p=new Set;for(let G=0;G<Fr;G++)p.add(`${G},14`),p.add(`${G},29`);((G,te)=>{const z=uc(i+G),De=lc(z);let we=te;for(let Le=1;Le<e;Le++){p.add(`${we},${Le}`);const U=De();U<.3&&we>0?we--:U>.7&&we<Fr-1&&we++,p.add(`${we},${Le}`)}})("PATH_MAIN",2);const w=e*Fr,E=Math.floor(w*.45),I=new Set;let O=0;for(;c.length<E&&O<w*5;){O++;const G=Math.floor(l()*Fr),te=Math.floor(l()*e);if(te===0)continue;const z=`${G},${te}`;p.has(z)||I.has(z)||(I.add(z),c.push({r:G,c:te}))}return c},xM=(i,e,r)=>{const a=uc(i+"WILDCARDS_V3"),l=lc(a),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*Fr),w=5,E=Math.min(29,r-2);if(E<=w)break;const I=Math.floor(l()*(E-w+1))+w;if(!(I===14||I===29)){if(!e.some(O=>O.r===b&&O.c===I)){c.push({r:b,c:I});break}p++}}for(p=0;p<100;){const b=Math.floor(l()*Fr),w=30,E=r-5,I=Math.floor(l()*(E-w+1))+w;if(!(I===14||I===29)){if(!e.some(O=>O.r===b&&O.c===I)){c.push({r:b,c:I});break}p++}}return[14,29].forEach(b=>{if(b<r)for(let w=0;w<Fr;w++)(w+b)%3===0&&(e.some(E=>E.r===w&&E.c===b)||c.push({r:w,c:b}))}),c},CM=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],RM=i=>{const e=uc(i),r=lc(e);let a=[];Object.entries(Pw).forEach(([b,w])=>{for(let E=0;E<w;E++)a.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(a);for(let b=l.length-1;b>0;b--){const w=Math.floor(r()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=Vw;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(r()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},IM=i=>{const e=new Date().toISOString().split("T")[0],r=JSON.parse(localStorage.getItem("longJumpStats"))||{gamesPlayed:0,currentStreak:0,maxStreak:0,totalDistance:0,lastPlayedDate:null};let{gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:b}=r;if(a+=1,p+=i,b!==e){const E=new Date;E.setDate(E.getDate()-1);const I=E.toISOString().split("T")[0];b===I?l+=1:l=1}l>c&&(c=l);const w={gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:e};return localStorage.setItem("longJumpStats",JSON.stringify(w)),w},cb=()=>{const i=ob[Math.floor(Math.random()*ob.length)],e=lb[Math.floor(Math.random()*lb.length)],r=Math.floor(Math.random()*90)+10;return`${i}${e}${r}`},Fm=i=>{if(i.length<=1)return!0;const e=i[0].r,r=i[0].c;return i.every(a=>a.r===e)||i.every(a=>a.c===r)},kl={ctx:null,init:()=>{kl.ctx||(kl.ctx=new(window.AudioContext||window.webkitAudioContext))},play:i=>{kl.ctx||kl.init();const e=kl.ctx,r=e.createOscillator(),a=e.createGain();r.connect(a),a.connect(e.destination);const l=e.currentTime,c=.5+Math.random();i==="pop"?(r.type="triangle",r.frequency.setValueAtTime(600*c,l),r.frequency.exponentialRampToValueAtTime(100*c,l+.15),a.gain.setValueAtTime(.5,l),a.gain.exponentialRampToValueAtTime(.01,l+.15),r.start(l),r.stop(l+.15)):i==="success"?(r.type="sine",r.frequency.setValueAtTime(400*c,l),r.frequency.setValueAtTime(600*c,l+.1),a.gain.setValueAtTime(.3,l),a.gain.linearRampToValueAtTime(0,l+.3),r.start(l),r.stop(l+.3)):i==="error"?(r.type="sawtooth",r.frequency.setValueAtTime(150,l),r.frequency.linearRampToValueAtTime(100,l+.2),a.gain.setValueAtTime(.5,l),a.gain.linearRampToValueAtTime(0,l+.2),r.start(l),r.stop(l+.2)):i==="click"?(r.type="square",r.frequency.setValueAtTime(800,l),a.gain.setValueAtTime(.1,l),a.gain.exponentialRampToValueAtTime(.01,l+.05),r.start(l),r.stop(l+.05)):i==="fanfare"&&(r.type="square",r.frequency.setValueAtTime(261.63,l),r.frequency.setValueAtTime(329.63,l+.1),r.frequency.setValueAtTime(392,l+.2),r.frequency.setValueAtTime(523.25,l+.3),a.gain.setValueAtTime(.2,l),a.gain.setValueAtTime(.2,l+.3),a.gain.exponentialRampToValueAtTime(.01,l+.8),r.start(l),r.stop(l+.8))}},MM=i=>{if(navigator.vibrate)switch(i){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(15);break;case"success":navigator.vibrate([10,30,10]);break;case"error":navigator.vibrate([50,20,50]);break;case"heavy":navigator.vibrate(50);break}},NM=({theme:i})=>{const e=Ue.useRef(null);return Ue.useEffect(()=>{const r=e.current;if(!r)return;const a=r.getContext("2d");let l=window.innerWidth,c=window.innerHeight;if(l===0||c===0)return;r.width=l,r.height=c;const p=[],b=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",i.accentPrimary];for(let O=0;O<150;O++)p.push({x:Math.random()*l,y:Math.random()*c-c,vx:Math.random()*2-1,vy:Math.random()*3+2,color:b[Math.floor(Math.random()*b.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let w;const E=()=>{!a||!r.width||!r.height||(a.clearRect(0,0,l,c),p.forEach(O=>{O.y+=O.vy,O.x+=O.vx+Math.sin(O.y/50),O.rotation+=O.rotationSpeed,O.y>c&&(O.y=-10,O.x=Math.random()*l),!(!Number.isFinite(O.x)||!Number.isFinite(O.y)||!Number.isFinite(O.rotation)||!Number.isFinite(O.size))&&(a.save(),a.translate(O.x,O.y),a.rotate(O.rotation*Math.PI/180),a.fillStyle=O.color,a.fillRect(-O.size/2,-O.size/2,O.size,O.size),a.restore())}),w=requestAnimationFrame(E))};E();const I=()=>{r&&(l=window.innerWidth,c=window.innerHeight,l>0&&c>0&&(r.width=l,r.height=c))};return window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I),w&&cancelAnimationFrame(w)}},[i]),S.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},Hm=()=>{const{RiveComponent:i}=po.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new po.Layout({fit:po.Fit.Contain,alignment:po.Alignment.Center})});return S.jsx(i,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},fb=({trigger:i})=>{const{rive:e,RiveComponent:r}=po.useRive({src:"fan.riv",autoplay:!0,layout:new po.Layout({fit:po.Fit.Contain,alignment:po.Alignment.Center})});return Ue.useEffect(()=>{if(i&&e&&e.viewModelInstance)try{const a=e.viewModelInstance("View Model 1");if(a){const l=a.trigger("Celebrate");l&&l.fire()}}catch(a){console.warn("Rive trigger warning:",a)}},[i,e]),r?S.jsx("div",{style:{width:`${Pa}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:S.jsx("div",{style:{width:"39px",height:"60px"},children:S.jsx(r,{})})}):null},qm=({highlightName:i,user:e,onRankFound:r,lastUpdated:a,initialMode:l="standard",onParCalculated:c,theme:p})=>{const[b,w]=Ue.useState([]),[E,I]=Ue.useState(!0),[O,G]=Ue.useState("daily"),[te,z]=Ue.useState(l),[De,we]=Ue.useState(null);Ue.useEffect(()=>{z(l)},[l]);const Le=async()=>{if(!e)return;I(!0),we(null);const U=Dl(Ol,"artifacts",vp,"public","data","scores_crazygames"),je=new Date,tt=je.toISOString().split("T")[0],ct=je.getDay(),it=je.getDate()-ct+(ct===0?-6:1),H=new Date(je.setDate(it)).toISOString().split("T")[0],L=new Date,R=new Date(L.getFullYear(),L.getMonth(),1).toISOString().split("T")[0];let P=[];te==="maze"&&P.push(Pl("mode","==","maze")),O==="daily"?(P.push(Pl("date","==",tt)),P.push(uo("score","desc")),P.push(uo("timestamp","asc")),P.push(Ju(100))):O==="weekly"?(P.push(Pl("date",">=",H)),P.push(uo("date","desc")),P.push(uo("score","desc")),P.push(Ju(500))):(P.push(Pl("date",">=",R)),P.push(uo("date","desc")),P.push(uo("score","desc")),P.push(Ju(500)));try{const N=gp(U,...P),Q=await yp(N);if(Q.empty){w([]),I(!1),c&&O==="daily"&&c(te==="maze"?20:25,te);return}let ae=Q.docs.map(B=>({id:B.id,...B.data()}));if(te==="standard"&&(ae=ae.filter(B=>!B.mode||B.mode==="standard")),O==="daily"&&c){const $=ae.reduce((xe,j)=>xe+j.score,0)/ae.length,he=Math.floor(((te==="maze"?20:25)+$)/2);c(he,te)}if(O==="weekly"||O==="monthly"){const B=new Map;ae.forEach($=>{const me=B.get($.name);me?($.score>me.score||$.score===me.score&&$.timestamp<me.timestamp)&&B.set($.name,$):B.set($.name,$)}),ae=Array.from(B.values()),ae.sort(($,me)=>me.score!==$.score?me.score-$.score:$.timestamp-me.timestamp),ae=ae.slice(0,100)}if(w(ae),I(!1),i&&r){const B=ae.findIndex($=>$.name===i);B!==-1&&r(B+1)}}catch(N){console.error(" FIRESTORE ERROR:",N),we(N.message),I(!1)}};return Ue.useEffect(()=>{Le()},[e,O,te,i,a]),S.jsxs("div",{className:"rounded-2xl p-4 shadow-xl border w-full h-full flex flex-col relative transition-colors duration-300",style:{backgroundColor:p.modalBg+"DD",borderColor:p.boardLines},children:[De&&De.includes("index")&&S.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-4 text-center bg-white/90",children:[S.jsx(IT,{className:"text-red-500 mb-2",size:32}),S.jsx("p",{className:"text-xs font-bold text-red-600 mb-2",children:"DATABASE INDEX MISSING"}),S.jsx("button",{onClick:Le,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:"Retry"})]}),S.jsxs("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b shrink-0",style:{borderColor:p.boardLines},children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Gm,{size:20,className:"text-yellow-500"}),S.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:p.textSub},children:O==="daily"?"Today's Top":O==="weekly"?"Weekly Best":"Monthly Best"})]}),S.jsxs("div",{className:"flex rounded-lg p-1",style:{backgroundColor:p.boardLines},children:[S.jsx("button",{onClick:()=>G("daily"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),S.jsx("button",{onClick:()=>G("weekly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"}),S.jsx("button",{onClick:()=>G("monthly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="monthly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Monthly"})]})]}),S.jsx("div",{className:"flex justify-center",children:S.jsxs("div",{className:"flex rounded-lg p-1 w-full",style:{backgroundColor:p.boardLines},children:[S.jsx("button",{onClick:()=>z("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${te==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Standard"}),S.jsx("button",{onClick:()=>z("maze"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${te==="maze"?"bg-white shadow-sm text-purple-600":"text-gray-400 hover:text-gray-600"}`,children:"Maze Mode"})]})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:E?S.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):b.length===0?S.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",S.jsx("br",{}),"Be the first!"]}):S.jsx("div",{className:"space-y-1",children:b.map((U,je)=>{const tt=U.score>40;let ct="";return O==="weekly"?ct=new Date(U.date).toLocaleDateString(void 0,{weekday:"short"}):O==="monthly"&&(ct=EM(U.date)),S.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${U.name===i?`bg-[${p.accentPrimary}]/10 border-[${p.accentPrimary}]/20`:tt?"bg-amber-100 border-amber-300":"hover:bg-white/10 border-transparent"}`,style:U.name!==i&&!tt?{borderColor:"transparent"}:{},children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:`font-black w-5 text-center ${je===0?"text-yellow-600 text-lg":je===1?"text-gray-500 text-base":je===2?"text-orange-700 text-base":"text-gray-500"}`,children:je+1}),S.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[tt&&S.jsx(Gm,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),S.jsx("span",{className:`font-bold truncate max-w-[90px] ${U.name===i?"":tt?"text-amber-900":""}`,style:{color:U.name===i?p.textMain:tt?"#78350f":p.textMain},children:U.name}),ct&&S.jsx("span",{className:"text-[9px] font-normal ml-1 border-l pl-1",style:{color:p.textSub,borderColor:p.boardLines},children:ct})]})]}),S.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${tt?"bg-amber-200 text-amber-900":"bg-gray-100 text-gray-900"}`,children:[U.score,"m"]})]},je)})})})]})};function DM(){const[i,e]=Ue.useState("menu"),[r,a]=Ue.useState("standard"),[l,c]=Ue.useState(()=>localStorage.getItem("longJumpPlayerName")||cb()),[p,b]=Ue.useState(!1),[w,E]=Ue.useState(!1),[I,O]=Ue.useState(()=>{const Y=localStorage.getItem("longJumpShowFans");return Y===null?!0:Y!=="false"}),[G,te]=Ue.useState(()=>{const Y=localStorage.getItem("longJumpSound");return Y===null?!0:Y!=="false"}),[z,De]=Ue.useState(()=>{const Y=localStorage.getItem("longJumpHaptics");return Y===null?!0:Y!=="false"}),[we,Le]=Ue.useState(()=>localStorage.getItem("longJumpDarkMode")==="true"),U=we?vM:sb,[je,tt]=Ue.useState(!1),[ct,it]=Ue.useState(null),[X,H]=Ue.useState(!1),[L,q]=Ue.useState(null);Ue.useEffect(()=>{window.addEventListener("beforeinstallprompt",Y=>{Y.preventDefault(),q(Y)})},[]);const[R,P]=Ue.useState(""),[N,Q]=Ue.useState("idle"),ae=async()=>{if(R.trim()){Q("submitting");try{const Y=Dl(Ol,"suggestions");await zm(Y,{text:R,player:l,date:new Date().toISOString(),version:"8.11"}),Q("success"),P(""),setTimeout(()=>Q("idle"),3e3)}catch(Y){console.error("Error submitting suggestion:",Y),Q("idle"),We({text:"Could not send suggestion. Try again.",type:"error"})}}},[B,$]=Ue.useState(()=>ub(_p)),[me,he]=Ue.useState([]),[xe,j]=Ue.useState([]),[oe,Ne]=Ue.useState(0),[Ae,Ie]=Ue.useState(!1),[$e,dt]=Ue.useState([]),[Rt,ot]=Ue.useState(0),[Lt,Bt]=Ue.useState([]),[ft,It]=Ue.useState([]),[Xt,Wt]=Ue.useState([]),[Kn,Mr]=Ue.useState([]),[Qt,Ke]=Ue.useState(null),[St,an]=Ue.useState(null),[vt,vn]=Ue.useState([]),[bt,_n]=Ue.useState(0),[ln,C]=Ue.useState(0),[g,_]=Ue.useState(null),[V,J]=Ue.useState(!1),[ge,Se]=Ue.useState(!1),[He,We]=Ue.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[Pe,Tt]=Ue.useState(!1),[Ft,kn]=Ue.useState(!1),[jt,Un]=Ue.useState(!1),[nn,An]=Ue.useState(!1),[zn,Vn]=Ue.useState(!1),[qr,_t]=Ue.useState(null),[Gn,$n]=Ue.useState(!1),[kt,Bn]=Ue.useState(!1),[Cn,vi]=Ue.useState(!1),[aa,Xe]=Ue.useState(!1),[sa,Nr]=Ue.useState(!1),[yr,un]=Ue.useState(null),[Pn,_i]=Ue.useState(null),[oa,za]=Ue.useState(!1),[Sa,xa]=Ue.useState(null),[ni,Dr]=Ue.useState(25),[er,Gr]=Ue.useState(null),[cr,Or]=Ue.useState([]),Rn=Ue.useRef(0),[Ca,kr]=Ue.useState(new Set),[Yr,Vr]=Ue.useState(!1),Ba=Ue.useRef({standard:25,quick:12}),vr=Ue.useRef(null),[la,Ra]=Ue.useState(!1),[Ni,Pr]=Ue.useState(0),[bn,Jn]=Ue.useState(0),ri=B.some(Y=>Y.some(re=>re!==null));Ue.useEffect(()=>{localStorage.setItem("longJumpPlayerName",l)},[l]),Ue.useEffect(()=>{localStorage.setItem("longJumpShowFans",I)},[I]),Ue.useEffect(()=>{localStorage.setItem("longJumpSound",G)},[G]),Ue.useEffect(()=>{localStorage.setItem("longJumpHaptics",z)},[z]),Ue.useEffect(()=>{localStorage.setItem("longJumpDarkMode",we)},[we]),Ue.useEffect(()=>{(async()=>{await iA();const ve=await sA();ve&&(_t(ve),c(ve.username))})(),(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await V2(Bm,__initial_auth_token):await M2(Bm)})();const _e=j2(Bm,ve=>{console.log("Firebase Auth State Changed:",ve?"Logged In":"Logged Out"),_i(ve)});return()=>_e()},[]),Ue.useEffect(()=>{(async()=>{try{const re=gp(Dl(Ol,"missing_words")),_e=await yp(re),ve=new Set;_e.forEach(be=>{be.data().word&&ve.add(be.data().word.toUpperCase())}),kr(ve)}catch(re){console.error("Error loading missing words:",re)}})()},[]),Ue.useEffect(()=>{if(ln===bt)return;const Y=500,re=performance.now(),_e=ln,ve=bt,be=Fe=>{const Ge=Fe-re,ke=Math.min(Ge/Y,1),ut=1-Math.pow(1-ke,3),Ye=Math.floor(_e+(ve-_e)*ut);C(Ye),ke<1&&requestAnimationFrame(be)};requestAnimationFrame(be)},[bt]),Ue.useEffect(()=>{(async()=>{try{const re=Dl(Ol,"artifacts",vp,"public","data","scores_crazygames"),_e=new Date().toISOString().split("T")[0];let ve=[Pl("date","==",_e),uo("score","desc"),uo("timestamp","asc")];r==="quick"?(ve.push(Pl("mode","==","quick")),ve.push(Ju(1))):ve.push(Ju(50));const be=gp(re,...ve),Fe=await yp(be);let Ge=null;if(!Fe.empty){const ke=Fe.docs.map(ut=>ut.data());r==="quick"?Ge=ke[0]:Ge=ke.find(ut=>!ut.mode||ut.mode==="standard")}xa(Ge||null)}catch(re){console.error("Error fetching leader:",re)}})()},[oe,r]);const ii=Ue.useCallback((Y,re)=>{(re==="quick"||re==="standard")&&(Ba.current[re]=Y),Dr(Y)},[]),pt=Y=>{G&&kl.play(Y==="light"?"pop":Y),z&&MM(Y)};Ue.useEffect(()=>{rr("standard")},[]);const rr=(Y="standard")=>{const re=TM(),_e=Y==="maze"?re+"-MAZE":re,ve=RM(_e);dt(ve),a(Y);const be=Y==="maze"?_M:_p,Fe=Y==="maze"?bM:Vw;let Ge;Ge=ve.slice(0,Fe);const ke=Ge.map(lt=>Fu(lt,!1)).sort((lt,In)=>lt.letter.localeCompare(In.letter));he(ke),ot(Fe),$(ub(be)),vn([]),j([]),Or([]),_n(0),C(0),_(null),J(!1),Se(!1),Bt(AM(re,be,Y));const ut=SM(re,be,Y);It(ut),Wt(xM(re,ut,be)),Mr(CM()),We({text:"Goal: Get as far right as you can.",type:"neutral"}),vi(!1),kn(!1),$n(!1),Bn(!1),za(!1),Vn(!1),Xe(!1),Un(!1),Ie(!1),Ke(null),an(null),b(!1);const Ye=Ba.current[Y]||(Y==="maze"?20:25);Dr(Ye),an({r:2,c:0}),Vr(!1),vr.current&&(vr.current.scrollLeft=0)},mt=async()=>{pt("click");const Y=await uA();Y&&(_t(Y),c(Y.username))},fr=Y=>{pt("click"),l.trim()||c(cb()),e("playing"),rr(Y),aA(),$n(!0)},Ln=()=>{pt("click"),e("menu"),rr("standard")},Ia=()=>{if(pt("click"),xe.length!==0){if(Yr){We({text:"Already used Undo this turn!",type:"error"}),pt("error");return}H(!0)}},is=()=>{const Y=xe[xe.length-1],re=xe.slice(0,-1);$(Y.grid),_n(Y.score),ot(Y.drawCount);const _e=Array.from(new Map(Y.hand.map(ve=>[ve.id,{...ve,isPlaced:!1}])).values());he(_e),j(re),vn([]),Ke(null),We({text:"Move undone",type:"info"}),Vr(!0),H(!1)},Ma=Y=>{const re=Y.toUpperCase();return[...me].reverse().find(_e=>_e.letter===re&&!_e.isPlaced)},cn=()=>{if(vt.length===0)return;pt("click");const re=[...vt].sort((Ge,ke)=>Ge.r-ke.r||Ge.c-ke.c)[0],_e=re?re.r:null,ve=re?re.c:null,Fe=vt.map(Ge=>Ge.isWild?"*":Ge.letter).map(Ge=>Fu(Ge,!1));he(Ge=>[...Ge.filter(ut=>!ut.isPlaced),...Fe].sort((ut,Ye)=>ut.letter!==Ye.letter?ut.letter.localeCompare(Ye.letter):ut.isNew===Ye.isNew?0:ut.isNew?1:-1)),vn([]),Ke(null),_e!==null&&ve!==null&&(an(null),setTimeout(()=>{an({r:_e,c:ve})},10))},Di=Y=>{const re=B[0].length;if(!St){an({r:2,c:bt});return}let{r:_e,c:ve}=St;Y==="ArrowUp"&&(_e=Math.max(0,_e-1)),Y==="ArrowDown"&&(_e=Math.min(Fr-1,_e+1)),Y==="ArrowLeft"&&(ve=Math.max(0,ve-1)),Y==="ArrowRight"&&(ve=Math.min(re-1,ve+1)),an({r:_e,c:ve})};Ue.useEffect(()=>{const Y=re=>{if(re.key==="k"||re.key==="K"){if(Rn.current+=1,Rn.current>=10){pt("fanfare"),Or(["TEST","MODE","ACTIVE","RANDOM","WORDS","SHOWN","HERE","FOR","DEBUG","PURPOSES"]),_n(42),C(42),Gr({gamesPlayed:10,currentStreak:5,maxStreak:10,totalDistance:420,lastPlayedDate:new Date().toISOString().split("T")[0]}),e("gameOver"),Rn.current=0;return}}else Rn.current=0;if(!(i!=="playing"||Cn||kt||Gn||Ft||sa||jt||p||je||X)){if(re.code==="Space"){re.preventDefault(),Qi();return}if(re.key==="Escape"){cn();return}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(re.key)){re.preventDefault(),Di(re.key);return}if(re.key==="Backspace"||re.key==="Delete"){if(St){const{r:_e,c:ve}=St;vt.find(Fe=>Fe.r===_e&&Fe.c===ve)?Xr(_e,ve):Di("ArrowLeft")}return}if(re.key==="Enter"){vt.length>0&&Xi();return}if(/^[a-zA-Z]$/.test(re.key)){const _e=B[0].length;if(!St){an({r:2,c:bt});return}const{r:ve,c:be}=St;if(B[ve]&&B[ve][be]||ft.some(ke=>ke.r===ve&&ke.c===be)){Di("ArrowRight");return}let Fe=Ma(re.key),Ge=null;if(!Fe){const ke=Ma("*");ke&&(Fe=ke,Ge=re.key.toUpperCase())}Fe?(Lr(Fe,ve,be,Ge),an({r:ve,c:Math.min(_e-1,be+1)})):(We({text:`No '${re.key.toUpperCase()}' or Wildcard in hand`,type:"error"}),setTimeout(()=>We({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[i,Cn,St,me,vt,kt,Gn,Ft,sa,jt,p,je,X]),Ue.useEffect(()=>{if(St&&vr.current){const Y=vr.current,re=St.c*Pa,_e=re+Pa,ve=Y.scrollLeft,be=ve+Y.clientWidth,Fe=100;re<ve?Y.scrollTo({left:Math.max(0,re-Fe),behavior:"smooth"}):_e>be&&Y.scrollTo({left:_e-Y.clientWidth+Fe,behavior:"smooth"})}},[St]);const bi=()=>An(!0),ir=()=>{lA(()=>{const Y=$e.slice(Rt,Rt+5).map(re=>Fu(re,!0));he(re=>[...re,...Y].sort((_e,ve)=>_e.letter.localeCompare(ve.letter))),ot(re=>re+5),An(!1),We({text:"Revived! +5 Letters",type:"success"}),Cm()})},ai=()=>{An(!1),kn(!0)},Na=async()=>{kn(!1),vi(!0),za(!0),pt("fanfare"),Cm();const Y=l.trim().toLowerCase()==="test";if(Pn&&!Y)try{const be=new Date().toISOString().split("T")[0],Fe=Dl(Ol,"artifacts",vp,"public","data","scores_crazygames");await zm(Fe,{name:l||"Anonymous",score:bt,mode:r,date:be,timestamp:Date.now(),userId:Pn.uid}),Ne(Date.now()),console.log(" SUCCESS: Score saved to 'scores_crazygames'!")}catch(be){console.error("Error saving score:",be)}const re=IM(bt);Gr(re),za(!1);const _e=bt*50+800;setTimeout(()=>{e("gameOver"),D0(),vi(!1)},Math.max(_e,2500))},wi=()=>kn(!1),ua=()=>i==="playing"?Un(!0):e("menu"),ca=()=>{Un(!1),e("menu"),D0(),rr(),Bn(!1)},Ei=async()=>{const Y=g?Lw(g):"top",re="https://www.longjump.co.za",_e=cr.length>0?`

 Words: ${cr.join(", ")}`:"";let ve=g?`${l} placed ${Y} in Long-Jump with a distance of ${bt}m. How far can you get? ${re}${_e}`:`${l} got a distance of ${bt}m in Long-Jump. How far can you get? ${re}${_e}`;try{navigator.share?await navigator.share({title:"Long Jump Result",text:ve}):(await navigator.clipboard.writeText(ve),J(!0),setTimeout(()=>J(!1),1e3))}catch(be){console.error("Failed to copy/share: ",be);try{await navigator.clipboard.writeText(ve),J(!0),setTimeout(()=>J(!1),1e3)}catch{}}},fa=Y=>{Y.target.closest('[draggable="true"]')||Y.target.tagName==="BUTTON"||(Ra(!0),Pr(Y.pageX-vr.current.offsetLeft),Jn(vr.current.scrollLeft))},si=()=>Ra(!1),Fa=()=>Ra(!1),oi=Y=>{if(!la)return;Y.preventDefault();const _e=(Y.pageX-vr.current.offsetLeft-Ni)*1.5;vr.current.scrollLeft=bn-_e},Lr=(Y,re,_e,ve=null)=>{if(pt("light"),Y.letter==="*"&&!ve){un({r:re,c:_e,tileId:Y.id}),Nr(!0);return}const be=Y.letter==="*";jr(Y,re,_e,be,ve)},jr=(Y,re,_e,ve=!1,be=null)=>{if(B.every(ut=>ut.every(Ye=>Ye===null))&&vt.length===0&&_e!==0){Xe(!0),setTimeout(()=>Xe(!1),3e3);return}const Ge=be||Y.letter,ke=[...vt,{r:re,c:_e,letter:Ge,isWild:ve,id:Y.id}];if(!Fm(ke)){We({text:" Tiles must be placed in a single row or column",type:"error"}),pt("error");return}vn(ke),he(ut=>ut.map(Ye=>Ye.id===Y.id?{...Ye,isPlaced:!0}:Ye)),Xe(!1),He.type==="error"&&We({text:"Goal: Get as far right as you can.",type:"neutral"})},li=Y=>{if(pt("light"),yr){const re={id:yr.tileId,letter:"*"};jr(re,yr.r,yr.c,!0,Y),an({r:yr.r,c:Math.min(B[0].length-1,yr.c+1)}),Nr(!1),un(null),Ke(null)}},Gi=Y=>{if(pt("light"),!Cn&&i==="playing"){if(St){const{r:re,c:_e}=St,ve=B[0].length;if(!(B[re]&&B[re][_e]||ft.some(Fe=>Fe.r===re&&Fe.c===_e))){const Fe=me.find(Ge=>Ge.id===Y);Fe&&(Lr(Fe,re,_e),an({r:re,c:Math.min(ve-1,_e+1)}));return}}Ke(Qt===Y?null:Y)}},Xr=(Y,re)=>{if(la||Cn||i!=="playing"||B[Y]&&B[Y][re]||ft.some(ve=>ve.r===Y&&ve.c===re))return;const _e=vt.findIndex(ve=>ve.r===Y&&ve.c===re);if(_e!==-1){pt("light");const ve=vt[_e],be=[...vt];be.splice(_e,1),vn(be),he(Fe=>Fe.map(Ge=>Ge.id===ve.id?{...Ge,isPlaced:!1}:Ge)),Ke(null),an({r:Y,c:re});return}if(Qt){const ve=me.find(be=>be.id===Qt);if(ve){const be=B[0].length;Lr(ve,Y,re),Ke(null),an({r:Y,c:Math.min(be-1,re+1)})}}else an({r:Y,c:re})},_r=(Y,re)=>{Cn||i!=="playing"||(Y.dataTransfer.setData("text/plain",JSON.stringify(re)),Y.dataTransfer.effectAllowed="move")},ar=Y=>{Y.preventDefault(),Y.dataTransfer.dropEffect="move"},Oi=(Y,re,_e)=>{if(Cn||i!=="playing"||(Y.preventDefault(),Y.stopPropagation(),ft.some(be=>be.r===re&&be.c===_e)))return;const ve=Y.dataTransfer.getData("text/plain");if(ve)try{const be=JSON.parse(ve);if(B[re]&&B[re][_e])return;const Fe=vt.findIndex(ke=>ke.r===re&&ke.c===_e),Ge=B[0].length;if(be.type==="hand"){pt("light");const ke=be.tile;if(ke.letter==="*"){un({r:re,c:_e,tileId:ke.id}),Nr(!0);return}if(B.every(Ye=>Ye.every(lt=>lt===null))&&vt.length===0&&_e!==0){Xe(!0),setTimeout(()=>Xe(!1),3e3);return}if(Fe!==-1){const Ye=vt[Fe],lt=[...vt];he(In=>In.map(or=>or.id===ke.id?{...or,isPlaced:!0}:or.id===Ye.id?{...or,isPlaced:!1}:or)),lt.splice(Fe,1,{r:re,c:_e,letter:ke.letter,isWild:!1,id:ke.id}),vn(lt)}else{const Ye=[...vt,{r:re,c:_e,letter:ke.letter,isWild:!1,id:ke.id}];if(!Fm(Ye)){We({text:" Tiles must be placed in a single row or column",type:"error"}),pt("error");return}vn(Ye),he(lt=>lt.map(In=>In.id===ke.id?{...In,isPlaced:!0}:In))}Xe(!1),Ke(null),an({r:re,c:Math.min(Ge-1,_e+1)}),He.type==="error"&&We({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(be.type==="board"){if(be.r===re&&be.c===_e)return;const ke=vt.findIndex(lt=>lt.r===be.r&&lt.c===be.c);if(ke===-1)return;const ut=vt[ke],Ye=[...vt];if(Fe!==-1){const lt=vt[Fe];Ye[Fe]={...lt,r:be.r,c:be.c},Ye[ke]={...ut,r:re,c:_e}}else Ye[ke]={...ut,r:re,c:_e};if(!Fm(Ye)){We({text:" Tiles must be placed in a single row or column",type:"error"}),pt("error");return}vn(Ye),an({r:re,c:Math.min(Ge-1,_e+1)})}}catch{}},Mt=Y=>{if(Cn||i!=="playing")return;Y.preventDefault(),Y.stopPropagation();const re=Y.dataTransfer.getData("text/plain");if(re)try{const _e=JSON.parse(re);if(_e.type==="board"){const ve=vt.find(be=>be.r===_e.r&&be.c===_e.c);vn(be=>be.filter(Fe=>!(Fe.r===_e.r&&Fe.c===_e.c))),he(be=>be.map(Fe=>Fe.id===ve.id?{...Fe,isPlaced:!1}:Fe)),pt("light")}}catch{}},ki=(Y,re)=>{if(!B||!B[Y])return null;if(B[Y][re])return{letter:B[Y][re],type:"locked"};const _e=vt.find(ve=>ve.r===Y&&ve.c===re);return _e?{letter:_e.letter,type:"temp",isWild:_e.isWild}:null},Cr=(Y,re)=>Lt.find(_e=>_e.r===Y&&_e.c===re),Yi=(Y,re)=>ft.find(_e=>_e.r===Y&&_e.c===re),Xi=async()=>{if(vt.length===0)return;Tt(!0),We({text:"Validating...",type:"info"});const Y=B.map(ke=>[...ke]);if(vt.forEach(ke=>{Y[ke.r]&&(Y[ke.r][ke.c]=ke.letter)}),vt.length>1){const ke=[...vt].sort((lt,In)=>lt.r-In.r||lt.c-In.c),ut=ke[0],Ye=ke[ke.length-1];if(ut.r===Ye.r){for(let lt=ut.c;lt<=Ye.c;lt++)if(!Y[ut.r][lt]){sr("Cannot leave gaps between tiles.");return}}else for(let lt=ut.r;lt<=Ye.r;lt++)if(!Y[lt][ut.c]){sr("Cannot leave gaps between tiles.");return}}const re=B.every(ke=>ke.every(ut=>ut===null));let _e=!1,ve=!1;const be=B[0].length;if(vt.forEach(ke=>{ke.c===0&&(_e=!0),[{r:ke.r+1,c:ke.c},{r:ke.r-1,c:ke.c},{r:ke.r,c:ke.c+1},{r:ke.r,c:ke.c-1}].forEach(Ye=>{Ye.r>=0&&Ye.r<Fr&&Ye.c>=0&&Ye.c<be&&B[Ye.r]&&B[Ye.r][Ye.c]&&(ve=!0)})}),re&&!_e){sr("First word must start in Column 1.");return}if(!re&&!ve){sr("Tiles must connect to existing words.");return}const Ge=hr(Y).filter(ke=>ke.cells.some(ut=>vt.some(Ye=>Ye.r===ut.r&&Ye.c===ut.c)));if(Ge.length===0){sr("Words must be at least 2 letters.");return}try{const ke=[];for(const ut of Ge)await Wi(ut.word)||ke.push(ut.word);if(ke.length>0){sr(`Invalid word(s): ${ke.join(", ")}`,ke[0]);return}Vi(Y,Ge)}catch(ke){console.error(ke),sr("Error checking dictionary. Try again.")}},Wi=async Y=>{const re=Y.toLowerCase().trim(),_e=re.toUpperCase();if(Ca.has(_e)||wM.has(_e))return!0;if(re.length===2)return!1;try{const be=`https://dictionaryapi.com/api/v3/references/collegiate/json/${encodeURIComponent(re)}?key=4e64bca3-60b7-40bf-bcda-d8e496a67a7f`,Fe=await fetch(be);if(!Fe.ok)return!1;const Ge=await Fe.json();return!Array.isArray(Ge)||Ge.length===0||typeof Ge[0]=="string"?!1:Ge.some(ut=>typeof ut!="object"||!ut.meta||ut.fl==="abbreviation"||ut.fl==="abbr"?!1:Array.isArray(ut.meta.stems)?ut.meta.stems.map(lt=>lt.toLowerCase()).includes(re):!1)}catch(ve){return console.warn("M-W API Error:",ve),!0}},Ti=Y=>{it(Y),tt(!0)},Ai=async()=>{if(ct){try{const Y=Dl(Ol,"missing_words");await zm(Y,{word:ct.toUpperCase(),reportedBy:l,date:new Date().toISOString()}),kr(re=>new Set(re).add(ct.toUpperCase())),We({text:`Reported '${ct}' - You can use it now!`,type:"success"})}catch(Y){console.error("Error reporting word:",Y),We({text:"Could not report word.",type:"error"})}tt(!1),it(null)}},hr=Y=>{let re=[];const _e=B[0].length;for(let ve=0;ve<Fr;ve++){let be="",Fe=[];for(let Ge=0;Ge<_e;Ge++)Y[ve]&&Y[ve][Ge]?(be+=Y[ve][Ge],Fe.push({r:ve,c:Ge})):(be.length>1&&re.push({word:be,cells:[...Fe],type:"H"}),be="",Fe=[]);be.length>1&&re.push({word:be,cells:[...Fe],type:"H"})}for(let ve=0;ve<_e;ve++){let be="",Fe=[];for(let Ge=0;Ge<Fr;Ge++)Y[Ge]&&Y[Ge][ve]?(be+=Y[Ge][ve],Fe.push({r:Ge,c:ve})):(be.length>1&&re.push({word:be,cells:[...Fe],type:"V"}),be="",Fe=[]);be.length>1&&re.push({word:be,cells:[...Fe],type:"V"})}return re},sr=(Y,re=null)=>{We({text:Y,type:"error",invalidWord:re}),Tt(!1),pt("error")},Vi=(Y,re)=>{pt("success");const _e=JSON.parse(JSON.stringify(B));Or(Ye=>[...Ye,...re.map(lt=>lt.word)]),j(Ye=>[...Ye,{grid:_e,hand:me.map(lt=>({...lt,isPlaced:!1})),score:bt,drawCount:Rt}]),$(Y),Se(!0),setTimeout(()=>Se(!1),200);let ve=0,be=0,Fe=null;re.forEach(Ye=>{Ye.cells.forEach(lt=>{const In=Cr(lt.r,lt.c),or=vt.some(Fn=>Fn.r===lt.r&&Fn.c===lt.c);In&&or&&(In.type&&In.type.startsWith("gift")?Fe=In.type:In.val&&(ve+=In.val)),Xt.some(Fn=>Fn.r===lt.r&&Fn.c===lt.c)&&be++})});let Ge=me.filter(Ye=>!Ye.isPlaced);if(ve>0){const Ye=$e.slice(Rt,Rt+ve).map(lt=>Fu(lt,!0));Ge=[...Ge,...Ye],ot(lt=>lt+ve)}if(be>0){const Ye=Array(be).fill(null).map(()=>Fu("*",!0));Ge=[...Ge,...Ye]}if(Ge.sort((Ye,lt)=>Ye.letter.localeCompare(lt.letter)),he(Ge),Fe){const Ye=$e.slice(Rt,Rt+(Fe==="gift_large"?5:Fe==="gift_medium"?4:3));setActiveGiftType(Fe),setActiveGiftPool(Ye),setSelectedGiftIndices(new Set),setTimeout(()=>setShowGiftModal(!0),500)}else if(ve>0||be>0){Cm();const Ye=be>0?`${be} Wildcard${be>1?"s":""} Unlocked!`:"",lt=ve>0?`+${ve} Tiles!`:"";We({text:`${Ye} ${lt}`,type:"success"})}else We({text:"Valid move!",type:"success"});let ke=bt-1;vt.forEach(Ye=>{Ye.c>ke&&(ke=Ye.c)});const ut=Y[0].length;for(let Ye=0;Ye<Fr;Ye++)for(let lt=0;lt<ut;lt++)Y[Ye]&&Y[Ye][lt]&&lt>ke&&(ke=lt);ke+1>=25&&!zn&&(Vn(!0),oA("midgame")),_n(ke+1),vn([]),Tt(!1),an(null),Vr(!1)},Qi=()=>{pt("click"),he(Y=>[...Y].sort(()=>Math.random()-.5))},as=()=>{pt("click"),he(Y=>[...Y].sort((re,_e)=>re.letter!==_e.letter?re.letter.localeCompare(_e.letter):re.isNew===_e.isNew?0:re.isNew?1:-1))},Si=me.reduce((Y,re)=>(Y[re.letter]||(Y[re.letter]=[]),Y[re.letter].push(re),Y),{}),ui=Array.from(new Set(me.map(Y=>Y.letter))),Ur=ui.length>=6,ha=Math.ceil(ui.length/2),Ha=Ur?ui.slice(0,ha):ui,da=Ur?ui.slice(ha):[],ss=({letter:Y})=>{const re=Si[Y]||[],_e=re.filter(ke=>!ke.isPlaced),ve=Math.min(_e.length,15),be=_e[_e.length-1];if(re.length>0&&ve===0)return S.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg border-2 border-dashed opacity-30",style:{borderColor:U.textSub}});if(ve===0)return null;const Fe=be&&Qt===be.id,Ge=8;return S.jsxs("div",{className:"relative w-8 md:w-10 flex items-end transition-all duration-300",children:[[...Array(ve-1)].map((ke,ut)=>{const Ye=(Y.charCodeAt(0)+ut)%7-3;return S.jsx("div",{className:"absolute w-8 h-8 md:w-10 md:h-10 rounded-lg border shadow-sm bg-white",style:{borderColor:"rgba(0,0,0,0.1)",bottom:`${ut*Ge}px`,zIndex:ut,transform:`rotate(${Ye}deg)`}},ut)}),S.jsxs("button",{draggable:!Cn&&i==="playing",onDragStart:ke=>_r(ke,{type:"hand",tile:be}),onClick:ke=>{ke.stopPropagation(),Gi(be.id)},className:`relative w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center text-lg md:text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.15)] transition-all 
                    ${i==="playing"?"cursor-grab active:cursor-grabbing hover:-translate-y-1":"cursor-default"}
                `,style:{marginBottom:`${(ve-1)*Ge}px`,zIndex:ve+10,backgroundColor:Fe?U.accentPrimary:Y==="*"?U.tileTemp:"#ffffff",color:Fe?"white":"#1f2937",border:"1px solid rgba(0,0,0,0.1)",transform:Fe?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Fe?0:Y.charCodeAt(0)%5-2}deg)`},children:[be.isNew&&S.jsx("div",{className:"absolute -top-1 -right-1 md:-top-2 md:-right-1 bg-green-600 text-white text-[6px] md:text-[7px] font-black px-1 py-0.5 rounded shadow-sm z-50 tracking-tighter leading-none",children:"NEW"}),Y==="*"?S.jsx(Tf,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-500",fill:U.starPurple}):Y]})]})};return i==="menu"?S.jsxs("div",{className:"fixed inset-0 z-50 font-sans flex flex-col lg:flex-row items-center justify-start lg:justify-center p-4 gap-8 lg:gap-12 overflow-y-auto transition-colors duration-300",style:{backgroundColor:U.background,color:U.textMain},children:[S.jsx("div",{className:"fixed top-4 right-4 z-[60]",children:S.jsx("button",{onClick:()=>b(!0),className:"p-2 rounded-full hover:bg-black/5 transition-colors bg-white/50 backdrop-blur-sm shadow-sm",style:{color:U.textSub},children:S.jsx(Em,{size:24})})}),S.jsxs("div",{className:"w-full max-w-md flex flex-col items-center text-center space-y-12 animate-fade-in justify-start pt-0 lg:pt-0 lg:justify-center relative lg:flex-1 lg:h-[600px] lg:self-stretch",children:[S.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full mt-0 lg:mt-24",children:[S.jsx(Hm,{}),S.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400 mt-4",children:[S.jsx("span",{children:"Refreshed Daily"}),S.jsx(Tm,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),S.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[S.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:U.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."}),S.jsxs("div",{className:"text-xs font-bold px-3 py-1 rounded-full border mt-2",style:{backgroundColor:U.tileLocked,color:U.accentSecondary,borderColor:U.accentPrimary},children:["Today's Par: ",ni,"m"]})]})]}),S.jsx("div",{className:"w-full max-w-xs space-y-4",children:qr?S.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-2xl border-2 transition-all animate-fade-in",style:{backgroundColor:U.modalBg,borderColor:U.accentPrimary},children:[S.jsx("img",{src:qr.profilePictureUrl,alt:"Avatar",className:"w-12 h-12 rounded-full border-2 shadow-sm",style:{borderColor:U.boardLines}}),S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",style:{color:U.textSub},children:"Logged in as"}),S.jsx("span",{className:"text-xl font-black",style:{color:U.textMain},children:qr.username})]})]}):S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"group",children:[S.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 mb-1 transition-colors",style:{color:U.textSub},children:"Guest Name"}),S.jsx("input",{type:"text",value:l,onChange:Y=>c(Y.target.value),placeholder:"Player 1",maxLength:12,className:"w-full border-2 border-transparent outline-none px-6 py-3 rounded-2xl text-xl font-bold text-center shadow-sm transition-all",style:{backgroundColor:U.modalBg,color:U.textMain,borderColor:"transparent"},onFocus:Y=>Y.target.style.borderColor=U.accentPrimary,onBlur:Y=>Y.target.style.borderColor="transparent"})]}),S.jsxs("div",{className:"relative flex items-center justify-center",children:[S.jsx("div",{className:"border-t w-full absolute",style:{borderColor:U.boardLines}}),S.jsx("span",{className:"bg-transparent px-2 text-[10px] font-bold uppercase z-10 relative",style:{color:U.textSub,backgroundColor:U.background},children:"OR"})]}),S.jsx("button",{onClick:mt,className:"w-full py-3 rounded-xl font-bold text-sm text-white shadow-md hover:scale-105 transition-transform flex items-center justify-center gap-2",style:{backgroundColor:"#6b21a8"},children:"Login with CrazyGames"})]})}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center",children:[S.jsxs("button",{onClick:()=>fr("standard"),className:"flex-1 py-2 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:U.accentPrimary},children:["Play ",S.jsx(wm,{size:20,fill:"currentColor"})]}),S.jsxs("button",{onClick:()=>fr("maze"),className:"flex-1 py-2 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex flex-col items-center justify-center gap-0 text-white",style:{backgroundColor:"#d97706"},children:[S.jsx("span",{children:"MAZE MODE"}),S.jsx("span",{className:"text-[10px] font-bold text-orange-100/80 tracking-widest",children:"HARDCORE"})]})]}),S.jsxs("div",{className:"flex flex-col items-center gap-3 mt-2 w-full",children:[S.jsxs("div",{className:"flex flex-row items-center justify-center gap-4",children:[S.jsx("button",{onClick:()=>E(!0),className:"group flex items-center gap-2 px-3 py-2 rounded-full font-bold text-xs transition-colors shadow-sm whitespace-nowrap",style:{backgroundColor:U.tileLocked,color:U.textSub},title:"Updates",children:S.jsx(FT,{size:14})}),S.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:opacity-80 border-b border-gray-500 transition-colors pb-0.5 whitespace-nowrap",style:{color:U.textSub},children:"By Richard Bolland"}),S.jsx("span",{style:{color:U.boardLines},children:"|"}),S.jsxs("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap",children:[S.jsx(VT,{size:14,className:"fill-pink-600"}),S.jsx("span",{children:"Tip Jar"})]})]}),S.jsx("span",{className:"text-[10px] text-center max-w-xs leading-tight",style:{color:U.textSub},children:"Help cover server costs & keep the game running."})]}),S.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:S.jsx(qm,{user:Pn,lastUpdated:oe,initialMode:"standard",onParCalculated:ii,theme:U})})]}),S.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:S.jsx(qm,{user:Pn,lastUpdated:oe,initialMode:"standard",onParCalculated:ii,theme:U})}),p&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4 pointer-events-auto",children:S.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar bg-white",style:{backgroundColor:U.modalBg},children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("h3",{className:"text-xl font-black uppercase",style:{color:U.textMain},children:"Settings"}),S.jsx("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:U.textSub},children:S.jsx(Am,{size:24})})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:U.textSub},children:"Username"}),S.jsx("input",{type:"text",value:l,onChange:Y=>c(Y.target.value),maxLength:12,className:"w-full border-2 px-4 py-3 rounded-xl font-bold outline-none transition-all bg-gray-50",style:{borderColor:U.boardLines,color:U.textMain}})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(C0,{size:20,className:"text-yellow-500"}),S.jsx("span",{className:"font-bold text-sm",style:{color:U.textMain},children:"Dark Mode"})]}),S.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"sr-only peer",checked:we,onChange:()=>Le(!we)}),S.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(I0,{size:20,className:"text-blue-500"}),S.jsx("span",{className:"font-bold text-sm",style:{color:U.textMain},children:"Sound Effects"})]}),S.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"sr-only peer",checked:G,onChange:()=>te(!G)}),S.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(Sm,{size:20,className:"text-orange-500"}),S.jsx("span",{className:"font-bold text-sm",style:{color:U.textMain},children:"Haptics"})]}),S.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"sr-only peer",checked:z,onChange:()=>De(!z)}),S.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-xl",children:""}),S.jsx("span",{className:"font-bold text-sm",style:{color:U.textMain},children:"Crowd Fans"})]}),S.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"sr-only peer",checked:I,onChange:()=>O(!I)}),S.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]})]}),S.jsxs("div",{className:"pt-4 border-t",style:{borderColor:U.boardLines},children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:U.textSub},children:"Make a Suggestion"}),S.jsx("textarea",{value:R,onChange:Y=>P(Y.target.value),className:"w-full border-2 px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24 bg-gray-50",style:{borderColor:U.boardLines,color:U.textMain},placeholder:"Ideas..."}),S.jsx("button",{onClick:ae,disabled:N!=="idle"||!R.trim(),className:"w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm bg-gray-500 text-white",children:"Submit Suggestion"})]}),S.jsx("div",{className:"flex justify-center pt-2",children:S.jsx("a",{href:"https://www.richardbolland.co.za/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] opacity-50 hover:opacity-100 font-bold uppercase tracking-widest transition-opacity",style:{color:U.textSub},children:"Privacy Policy"})})]})]})}),w&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:S.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border",style:{backgroundColor:U.modalBg,borderColor:U.boardLines},children:[S.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[S.jsxs("div",{className:"border-l-2 pl-3",style:{borderColor:"#D97706"},children:[S.jsx("div",{className:"text-xs font-bold uppercase",style:{color:"#D97706"},children:"v9.10"}),S.jsx("div",{className:"font-bold",style:{color:U.textMain},children:"Maze Mode Arrives!"}),S.jsx("p",{className:"text-xs",style:{color:U.textSub},children:"New hardcore mode! Navigate dense obstacles with big rewards!."}),S.jsxs("ul",{className:"text-[10px] list-disc list-inside mt-1",style:{color:U.textSub},children:[S.jsx("li",{children:'New "Maze" Leaderboard'}),S.jsx("li",{children:"End Game Word List & Stats"})]})]}),S.jsxs("div",{className:"border-l-2 pl-3 border-gray-200",children:[S.jsx("div",{className:"text-xs font-bold uppercase text-gray-400",children:"v9.01"}),S.jsx("div",{className:"font-bold",style:{color:U.textSub},children:"Christmas Mode (Archived)"}),S.jsx("p",{className:"text-xs",style:{color:U.textSub},children:"New Gift Boxes, Secret Rewards, and festive fixes."})]}),S.jsxs("div",{className:"border-l-2 border-gray-200 pl-3",children:[S.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v8.11"}),S.jsx("div",{className:"font-bold",style:{color:U.textSub},children:"Dictionary Upgrade"}),S.jsx("p",{className:"text-xs",style:{color:U.textSub},children:"Now powered by Merriam-Webster Collegiate Dictionary!"})]})]}),S.jsx("button",{onClick:()=>E(!1),className:"w-full mt-6 py-3 rounded-xl font-bold uppercase tracking-widest transition-all",style:{backgroundColor:U.boardLines,color:U.textMain},children:"Close"})]})})]}):S.jsxs("div",{className:"fixed inset-0 w-full h-full font-sans flex flex-col items-center overflow-hidden touch-none select-none transition-colors duration-300",style:{backgroundColor:U.background,color:U.textMain},children:[i==="gameOver"&&!Ae&&S.jsxs("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6",children:[S.jsx(NM,{theme:U}),S.jsxs("div",{className:"backdrop-blur-md p-8 rounded-3xl shadow-2xl text-center border max-w-md w-full flex flex-col relative z-[101]",style:{backgroundColor:U.modalBg+"EE",borderColor:U.boardLines},children:[S.jsx("h3",{className:"text-xl font-black uppercase tracking-widest mb-6",style:{color:U.textMain},children:"STATISTICS"}),S.jsxs("div",{className:"flex justify-between items-start mb-8 px-1 gap-1",children:[S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:U.textMain},children:er?.gamesPlayed||0}),S.jsx("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:U.textSub},children:"Played"})]}),S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:U.textMain},children:er?.currentStreak||0}),S.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:U.textSub},children:["Current",S.jsx("br",{}),"Streak"]})]}),S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:U.textMain},children:er?.maxStreak||0}),S.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:U.textSub},children:["Max",S.jsx("br",{}),"Streak"]})]}),S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsxs("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:U.textMain},children:[er?.gamesPlayed>0?Math.round(er.totalDistance/er.gamesPlayed):0,"m"]}),S.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:U.textSub},children:["Avg",S.jsx("br",{}),"Dist"]})]}),S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:U.textMain},children:(er?.totalDistance||0)>=1e3?(er.totalDistance/1e3).toFixed(1)+"k":(er?.totalDistance||0)+"m"}),S.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:U.textSub},children:["Total",S.jsx("br",{}),"Dist"]})]})]}),S.jsxs("div",{className:"rounded-2xl overflow-hidden mb-6 shadow-sm border",style:{backgroundColor:U.settingsBg,borderColor:U.boardLines},children:[S.jsxs("div",{className:"flex border-b",style:{borderColor:U.boardLines},children:[S.jsxs("div",{className:"flex-1 p-4 border-r",style:{borderColor:U.boardLines},children:[S.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-1 opacity-60",style:{color:U.textSub},children:"Athlete"}),S.jsx("div",{className:"text-xl font-black truncate",style:{color:U.textMain},children:l})]}),S.jsxs("div",{className:"flex-1 p-4 bg-black/5",children:[S.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-1 opacity-60",style:{color:U.textSub},children:"Distance"}),S.jsxs("div",{className:"text-3xl font-black",style:{color:U.accentPrimary},children:[ln,"m"]})]})]}),S.jsxs("div",{className:"p-4 bg-white/50",children:[S.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2 opacity-60 text-left",style:{color:U.textSub},children:["Words Found (",cr.length,")"]}),S.jsx("div",{className:"flex flex-wrap gap-2 max-h-[120px] overflow-y-auto custom-scrollbar content-start",children:cr.length>0?cr.map((Y,re)=>S.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold border",style:{backgroundColor:U.modalBg,borderColor:U.boardLines,color:U.textMain},children:Y},re)):S.jsx("span",{className:"text-xs italic opacity-50",children:"No words found yet."})})]})]}),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("button",{onClick:Ei,className:"w-full py-4 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 hover:opacity-80",style:{backgroundColor:U.modalBg,borderColor:U.boardLines,color:U.textMain},children:V?S.jsxs(S.Fragment,{children:[S.jsx(wT,{size:20})," Copied"]}):S.jsxs(S.Fragment,{children:[S.jsx(GT,{size:20})," Share Result"]})}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:Ln,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg",style:{backgroundColor:"#111827"},children:"Play Again"}),S.jsx("button",{onClick:()=>Ie(!0),className:"flex-none px-4 py-4 border-2 rounded-xl hover:opacity-80 shadow-sm transition-all flex items-center justify-center",style:{backgroundColor:U.modalBg,borderColor:U.boardLines,color:U.textMain},title:"View Board",children:S.jsx(DT,{size:24})})]})]})]}),S.jsx("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative",children:S.jsx(qm,{highlightName:l,user:Pn,onRankFound:_,lastUpdated:oe,initialMode:r,onParCalculated:ii,theme:U})})]}),sa&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:S.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border",style:{backgroundColor:U.modalBg,borderColor:U.boardLines},children:[S.jsx("h3",{className:"text-xl font-black mb-4 uppercase",style:{color:U.textMain},children:"Pick a Letter"}),S.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(Pw).filter(Y=>Y!=="*").map(Y=>S.jsx("button",{onClick:()=>li(Y),className:"w-10 h-10 rounded-lg font-bold text-xl shadow-sm hover:scale-110 transition-transform border",style:{backgroundColor:U.tileTemp,borderColor:U.tileTempRing,color:U.textMain},children:Y},Y))}),S.jsx("button",{onClick:()=>{Nr(!1),un(null)},className:"mt-6 text-sm font-bold hover:opacity-80",style:{color:U.textSub},children:"Cancel"})]})}),je&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:S.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:U.modalBg,borderColor:U.boardLines},children:[S.jsx("div",{className:"flex justify-center mb-4",children:S.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:S.jsx(T0,{size:32,className:"text-yellow-600"})})}),S.jsx("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:U.textMain},children:"Report Missing Word"}),S.jsxs("p",{className:"mb-4 text-sm font-bold",style:{color:U.textMain},children:['"',ct,'"']}),S.jsx("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100 mb-6 text-left",children:S.jsxs("p",{className:"text-xs text-red-700 leading-relaxed font-medium",children:[S.jsx("strong",{children:" Warning:"})," Moderators check all reported words. If you abuse this feature to create fake words, your high scores will be deleted."]})}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:()=>{tt(!1),it(null)},className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:U.boardLines,color:U.textSub},children:"Cancel"}),S.jsx("button",{onClick:Ai,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-yellow-500 hover:bg-yellow-600",children:"Report & Add"})]})]})}),X&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:S.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:U.modalBg,borderColor:U.boardLines},children:[S.jsx("div",{className:"flex justify-center mb-4",children:S.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:S.jsx(S0,{size:32,className:"text-blue-600"})})}),S.jsx("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:U.textMain},children:"Use Undo?"}),S.jsxs("p",{className:"mb-6 text-sm",style:{color:U.textSub},children:["You can only use Undo ",S.jsx("strong",{style:{color:U.accentPrimary},children:"once per turn"}),". ",S.jsx("br",{}),S.jsx("br",{}),"Are you sure you want to go back?"]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:()=>H(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:U.boardLines,color:U.textSub},children:"Cancel"}),S.jsx("button",{onClick:is,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-blue-500 hover:bg-blue-600",children:"Confirm Undo"})]})]})}),(Gn||kt)&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:S.jsxs("div",{className:"rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border relative",style:{backgroundColor:U.modalBg,borderColor:U.boardLines},children:[S.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 p-4 rounded-full shadow-xl",style:{backgroundColor:U.modalBg},children:S.jsx(_T,{size:48,style:{color:U.accentPrimary}})}),S.jsx("h3",{className:"text-2xl font-black mt-8 mb-4 uppercase tracking-tight",style:{color:U.textMain},children:"Game Rules"}),S.jsxs("div",{className:"text-left mb-6 text-sm space-y-3",style:{color:U.textSub},children:[S.jsxs("p",{className:"flex gap-2",children:[S.jsx("span",{className:"font-bold",style:{color:U.textMain},children:""}),S.jsxs("span",{children:["This is a ",S.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),S.jsxs("p",{className:"flex gap-2",children:[S.jsx("span",{className:"font-bold",style:{color:U.textMain},children:""}),S.jsxs("span",{children:["Place words ",S.jsx("strong",{children:"Left to Right"})," or ",S.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),S.jsxs("p",{className:"flex gap-2",children:[S.jsx("span",{className:"font-bold",style:{color:U.textMain},children:""}),S.jsxs("span",{children:["Minimum ",S.jsx("strong",{children:"2 letter"})," words."]})]}),S.jsxs("p",{className:"flex gap-2",children:[S.jsx("span",{className:"font-bold",style:{color:U.textMain},children:""}),S.jsxs("span",{children:["Start in ",S.jsx("strong",{children:"Column 1"})," (left)."]})]}),S.jsxs("p",{className:"flex gap-2 items-center",children:[S.jsx(Tm,{size:16,className:"text-yellow-500 fill-yellow-500"}),S.jsxs("span",{children:[S.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),S.jsxs("p",{className:"flex gap-2 items-center",children:[S.jsx(Tf,{size:16,className:"text-purple-500 fill-purple-500"}),S.jsxs("span",{children:[S.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]}),S.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded-lg mt-2",children:[S.jsxs("p",{className:"text-xs text-yellow-800 font-bold mb-1 flex items-center gap-1",children:[S.jsx(Sm,{size:10,fill:"currentColor"})," HANDY TIP:"]}),S.jsxs("p",{className:"text-xs text-yellow-800",children:["Stars act like ",S.jsx("b",{children:"Double Word Scores"})," in Scrabble! If you place a vertical AND horizontal word over a star, you get double the letters."]})]})]}),S.jsx("button",{onClick:()=>{$n(!1),Bn(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:U.accentPrimary},children:Gn?"Let's Jump!":"Close"})]})}),jt&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:S.jsxs("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:U.modalBg,borderColor:U.boardLines},children:[S.jsx("div",{className:"flex justify-center mb-4",children:S.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:S.jsx(bm,{size:32,className:"text-red-500"})})}),S.jsx("h3",{className:"text-2xl font-black mb-2",style:{color:U.textMain},children:"Exit Game?"}),S.jsx("p",{className:"mb-8",style:{color:U.textSub},children:"Are you sure you want to quit? You will lose your current progress."}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:()=>Un(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:U.boardLines,color:U.textSub},children:"Cancel"}),S.jsx("button",{onClick:ca,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600",children:"Exit"})]})]})}),nn&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:S.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center bg-white",style:{borderColor:U.boardLines},children:[S.jsx("div",{className:"flex justify-center mb-4",children:S.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:S.jsx(wm,{size:32,className:"text-purple-600"})})}),S.jsx("h3",{className:"text-xl font-black mb-2 text-gray-900",children:"Need a boost?"}),S.jsxs("p",{className:"mb-6 text-sm text-gray-600",children:["Watch a short video to get ",S.jsx("strong",{children:"+5 Extra Letters"})," and continue your run!"]}),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsxs("button",{onClick:ir,className:"w-full py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-purple-600 hover:bg-purple-700 flex items-center justify-center gap-2",children:[S.jsx(wm,{size:16,fill:"currentColor"})," Watch Ad (+5 Letters)"]}),S.jsx("button",{onClick:ai,className:"w-full py-3 rounded-xl font-bold text-gray-500 hover:bg-gray-100 transition-colors",children:"No thanks, end run"}),S.jsx("button",{onClick:()=>An(!1),className:"w-full py-2 rounded-xl font-bold text-gray-400 hover:text-gray-600 transition-colors text-xs uppercase tracking-widest",children:"Return to Game"})]})]})}),Ft&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:S.jsxs("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:U.modalBg,borderColor:U.boardLines},children:[S.jsx("h3",{className:"text-2xl font-black mb-2",style:{color:U.textMain},children:"Submit Score?"}),S.jsxs("p",{className:"mb-8",style:{color:U.textSub},children:["You reached column ",S.jsx("strong",{style:{color:U.accentPrimary},children:bt}),". This will end your current run."]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:wi,className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:U.boardLines,color:U.textSub},children:"Cancel"}),S.jsx("button",{onClick:Na,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:U.accentPrimary},children:"Confirm"})]})]})}),p&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4 pointer-events-auto",children:S.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar bg-white",style:{backgroundColor:U.modalBg},children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("h3",{className:"text-xl font-black uppercase",style:{color:U.textMain},children:"Settings"}),S.jsx("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:U.textSub},children:S.jsx(Am,{size:24})})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:U.textSub},children:"Username"}),S.jsx("input",{type:"text",value:l,onChange:Y=>c(Y.target.value),maxLength:12,className:"w-full border-2 px-4 py-3 rounded-xl font-bold outline-none transition-all bg-gray-50",style:{borderColor:U.boardLines,color:U.textMain}})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(C0,{size:20,className:"text-yellow-500"}),S.jsx("span",{className:"font-bold text-sm",style:{color:U.textMain},children:"Dark Mode"})]}),S.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"sr-only peer",checked:we,onChange:()=>Le(!we)}),S.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(I0,{size:20,className:"text-blue-500"}),S.jsx("span",{className:"font-bold text-sm",style:{color:U.textMain},children:"Sound Effects"})]}),S.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"sr-only peer",checked:G,onChange:()=>te(!G)}),S.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(Sm,{size:20,className:"text-orange-500"}),S.jsx("span",{className:"font-bold text-sm",style:{color:U.textMain},children:"Haptics"})]}),S.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"sr-only peer",checked:z,onChange:()=>De(!z)}),S.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-xl",children:""}),S.jsx("span",{className:"font-bold text-sm",style:{color:U.textMain},children:"Crowd Fans"})]}),S.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"sr-only peer",checked:I,onChange:()=>O(!I)}),S.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]})]}),S.jsxs("div",{className:"pt-4 border-t",style:{borderColor:U.boardLines},children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:U.textSub},children:"Make a Suggestion"}),S.jsx("textarea",{value:R,onChange:Y=>P(Y.target.value),className:"w-full border-2 px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24 bg-gray-50",style:{borderColor:U.boardLines,color:U.textMain},placeholder:"Ideas..."}),S.jsx("button",{onClick:ae,disabled:N!=="idle"||!R.trim(),className:"w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm bg-gray-500 text-white",children:"Submit Suggestion"})]})]})]})}),S.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 relative z-50",children:[S.jsxs("div",{className:"flex lg:hidden justify-between items-start w-full",children:[S.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[S.jsx("div",{className:"w-32 cursor-pointer active:scale-95 transition-transform mb-6",onClick:ua,children:S.jsx(Hm,{})}),i==="playing"&&bt>0&&S.jsxs("button",{onClick:bi,disabled:Cn||Pe,className:"h-9 px-3 rounded-lg bg-[#111827] text-white flex items-center justify-center gap-2 active:scale-95 transition-all shadow-sm border border-gray-800 animate-fade-in",children:[S.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:"End Run"})," ",S.jsx(R0,{size:12,className:"text-yellow-400"})]}),i==="gameOver"&&Ae&&S.jsxs("button",{onClick:()=>Ie(!1),className:"h-9 px-3 rounded-lg bg-[#59AD20] text-white flex items-center justify-center gap-2 active:scale-95 transition-all shadow-sm animate-fade-in",children:[S.jsx(E0,{size:14})," ",S.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:"Results"})]})]}),S.jsxs("div",{className:"flex flex-col items-end gap-1",children:[S.jsxs("div",{className:"flex flex-col items-end",children:[S.jsx("span",{className:"text-[10px] font-bold tracking-widest uppercase opacity-80",style:{color:U.accentPrimary},children:l||"PLAYER 1"}),S.jsxs("div",{className:"flex items-center gap-1 font-black text-xl leading-none",style:{color:U.accentPrimary},children:[S.jsx(x0,{size:18})," ",ln,"m"]})]}),S.jsxs("div",{className:"flex gap-2 mt-1",children:[S.jsx("button",{onClick:()=>Bn(!0),className:"w-9 h-9 flex items-center justify-center rounded-lg bg-black/5 text-gray-500 active:bg-black/10 active:scale-95 transition-all shadow-sm",style:{color:U.textSub},children:S.jsx(A0,{size:20})}),S.jsx("button",{onClick:()=>b(!0),className:"w-9 h-9 flex items-center justify-center rounded-lg bg-black/5 text-gray-500 active:bg-black/10 active:scale-95 transition-all shadow-sm",style:{color:U.textSub},children:S.jsx(Em,{size:20})}),S.jsx("button",{onClick:()=>Un(!0),className:"w-9 h-9 flex items-center justify-center rounded-lg bg-red-50 text-red-500 active:bg-red-100 active:scale-95 transition-all shadow-sm border border-red-100",children:S.jsx(bm,{size:20})})]})]})]}),S.jsxs("div",{className:"hidden lg:flex justify-between items-start w-full",children:[S.jsxs("div",{className:"flex flex-col items-start w-32",children:[S.jsx("div",{className:"text-[10px] md:text-xs font-bold tracking-widest uppercase opacity-60",style:{color:U.textSub},children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),Sa&&S.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] animate-fade-in whitespace-nowrap",children:[S.jsx(Gm,{size:10,className:"text-yellow-500 fill-yellow-500"}),S.jsx("span",{className:"font-bold opacity-80",style:{color:U.textSub},children:"LEADER"}),S.jsx("span",{className:"font-bold truncate max-w-[80px]",style:{color:U.textMain},children:Sa.name}),S.jsxs("span",{className:"font-mono opacity-60",style:{color:U.textSub},children:[Sa.score,"m"]})]})]}),S.jsxs("div",{className:"flex flex-col items-center flex-1 -mt-2",children:[S.jsx("div",{className:"w-64 cursor-pointer hover:opacity-80 transition-opacity",onClick:ua,children:S.jsx(Hm,{})}),S.jsxs("div",{className:"mt-2",children:[i==="playing"&&bt>0&&S.jsxs("button",{onClick:bi,disabled:Cn||Pe,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",S.jsx(R0,{size:10,style:{color:sb.starGold}})]}),i==="gameOver"&&Ae&&S.jsxs("button",{onClick:()=>Ie(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:U.accentPrimary},children:[S.jsx(E0,{size:14})," BACK TO RESULTS"]})]})]}),S.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[S.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:U.accentPrimary},children:l||"PLAYER 1"}),S.jsxs("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:U.accentPrimary},children:[S.jsx(x0,{size:16})," ",ln,"m"]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:()=>Bn(!0),className:"text-[10px] font-bold hover:opacity-70 uppercase tracking-widest flex items-center gap-1 opacity-50 hover:opacity-100",style:{color:U.textSub},children:["Rules ",S.jsx(A0,{size:12})]}),S.jsx("button",{onClick:()=>Un(!0),className:"hover:opacity-70 opacity-50 hover:opacity-100",style:{color:U.textSub},title:"Exit Game",children:S.jsx(bm,{size:14})}),S.jsx("button",{onClick:()=>b(!0),className:"hover:opacity-70 opacity-50 hover:opacity-100",style:{color:U.textSub},children:S.jsx(Em,{size:14})})]})]})]})]}),S.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:fa,onMouseLeave:si,onMouseUp:Fa,onMouseMove:oi,children:S.jsx("div",{ref:vr,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${la?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"},children:S.jsxs("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area",children:[S.jsx("div",{className:"absolute top-0 bottom-0 border-r-2 border-red-400 border-dashed z-20 pointer-events-none opacity-60",style:{left:`${ni*Pa}px`},children:S.jsx("span",{className:"absolute top-[-20px] right-0 translate-x-1/2 text-red-500 text-[10px] font-black tracking-widest",children:"PAR"})}),S.jsx("div",{className:"flex relative mb-3",style:{width:`${B[0].length*Pa}px`,height:"24px"},children:Array(B[0].length).fill(0).map((Y,re)=>{const _e=re===0,ve=(re+1)%5===0;if(!_e&&!ve)return null;const be=bt<3;return S.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:re*Pa+Pa/2,transform:`translateX(-50%) ${_e&&be?"translateY(-45px)":"translateY(0)"}`},children:[S.jsx("span",{className:"text-xs tracking-wider",style:{color:_e?U.textMain:U.textSub},children:_e?"START":`${re+1}m`}),S.jsx("div",{className:"w-0.5 h-1.5 mt-0.5",style:{backgroundColor:_e?U.textMain:U.boardLines}})]},`ruler-${re}`)})}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:I&&Kn.filter(Y=>Y.type==="top").map((Y,re)=>{const _e=Math.max(Y.startCol,bt+Y.offset);return S.jsx("div",{className:"absolute -top-[55px]",style:{left:`${_e*Pa}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:S.jsx(fb,{trigger:ge})},`fan-top-${Y.id}`)})}),S.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${B[0].length}, ${Pa}px)`,gridTemplateRows:`repeat(${Fr}, ${Pa}px)`,backgroundColor:U.boardBackground,borderColor:U.boardLines},children:Array(Fr).fill(0).map((Y,re)=>Array(B[0].length).fill(0).map((_e,ve)=>{const be=ki(re,ve),Fe=Cr(re,ve),Ge=Yi(re,ve),ke=Xt.some(Ki=>Ki.r===re&&Ki.c===ve),Ye=ve===0&&!be&&!ri,lt=be?.type==="locked",In=(ve+1)%5===0,or=ve<ln,Fn=St&&St.r===re&&St.c===ve,os=Cn&&lt?"animate-jump-green":"";return S.jsxs("div",{onClick:()=>Xr(re,ve),onDragOver:ar,onDrop:Ki=>Oi(Ki,re,ve),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${be?be.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Ge?"cursor-not-allowed":"hover:bg-white/20"}  ${be?.type==="temp"?`bg-[${U.tileTemp}] ring-2 ring-[${U.tileTempRing}] -translate-y-[2px] z-10`:""} ${!be&&!Ge&&or?"bg-white/20":ve===0&&!be?"bg-green-100/40":!be&&!Ge&&!Ye&&(re+ve)%2===0?"bg-black/5":"bg-transparent"} ${Fn?"ring-4 ring-blue-400 z-20":""} ${!be&&Fn?"bg-blue-50/20":""} ${!be&&In?"border-r-2 border-r-black/10":"border border-black/5"} ${or?"animate-pop-green":""} ${os}`,style:{...lt?{backgroundColor:or?U.overlayComplete:U.tileLocked,color:U.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:Cn?`${ve*50}ms`:"0ms"}:be?.type==="temp"?{backgroundColor:be.isWild?U.tileWildPlaced:U.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Ge?{backgroundColor:U.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:r==="maze"&&(ve===14||ve===29)?{backgroundColor:"#fef08a",borderLeft:"2px solid #eab308",borderRight:"2px solid #eab308"}:{}},children:[!be&&Ye&&S.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:S.jsx(CT,{size:20,style:{color:U.startArrow}})}),!be&&Ge&&S.jsx("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!be&&Fe&&!Ge&&!ke&&S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[S.jsx(Tm,{className:"w-6 h-6",fill:U.starGold,stroke:U.starGold}),S.jsxs("span",{className:"text-[16px] font-black mt-[-2px]",style:{color:"#000000"},children:["+",Fe.val]})]}),!be&&ke&&!Ge&&S.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:S.jsx(Tf,{className:"w-7 h-7",fill:U.starPurple,stroke:U.starPurple})}),be&&S.jsxs("div",{draggable:be.type==="temp"&&!Cn&&i==="playing",onDragStart:Ki=>_r(Ki,{type:"board",r:re,c:ve,letter:be.letter}),className:`w-full h-full flex items-center justify-center ${be.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:[S.jsx("span",{className:"text-2xl font-bold select-none font-mono",children:be.letter}),be.isWild&&S.jsx(Tf,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})]})]},`${re}-${ve}`)}))}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:I&&Kn.filter(Y=>Y.type==="bottom").map((Y,re)=>{const _e=Math.max(Y.startCol,bt+Y.offset);return S.jsx("div",{className:"absolute -bottom-[35px]",style:{left:`${_e*Pa}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:S.jsx(fb,{trigger:ge})},`fan-bottom-${Y.id}`)})})]}),aa&&S.jsx("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none",children:S.jsxs("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative",children:[S.jsx("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),S.jsx(ST,{size:16}),"Start Here!"]})})]})})}),S.jsxs("div",{className:"w-full max-w-4xl px-4 pb-2 md:pb-6 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50",children:["        ",S.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[S.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${He.type==="error"?"bg-red-100 text-red-700":He.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[S.jsx("span",{children:Pe?"Checking...":He.text}),He.type==="error"&&He.invalidWord&&S.jsxs("button",{onClick:()=>Ti(He.invalidWord),className:"ml-2 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors hover:opacity-80",style:{backgroundColor:U.accentPrimary,color:"white"},children:["Report ",S.jsx(T0,{size:10})]})]}),S.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[S.jsx("button",{onClick:Ia,disabled:Cn||xe.length===0||i!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:U.modalBg,color:U.textMain},title:"Undo last move",children:S.jsx(S0,{size:16})}),S.jsxs("button",{onClick:Qi,disabled:Cn||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:U.modalBg,color:U.textMain},children:[S.jsx(XT,{size:16})," Shuffle"]}),S.jsxs("button",{onClick:as,disabled:Cn||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:U.modalBg,color:U.textMain},children:[S.jsx(gT,{size:16})," Sort A-Z"]}),vt.length>0&&S.jsxs("button",{onClick:Xi,disabled:Pe||Cn||i!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${Pe||Cn?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:Pe||Cn?{}:{backgroundColor:U.accentPrimary,color:"white"},children:[Pe?"Checking...":"JUMP"," ",S.jsx(TT,{size:18,strokeWidth:4})]}),vt.length>0&&S.jsx("button",{onClick:cn,disabled:Cn||i!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:S.jsx(Am,{size:16})})]})]}),S.jsxs("div",{onDragOver:ar,onDrop:Mt,className:"flex flex-col items-center justify-center p-2 md:p-3 rounded-2xl shadow-inner w-full transition-colors border-4 border-white/40 backdrop-blur-sm",style:{backgroundColor:U.handBg},children:[ui.length===0&&S.jsx("div",{className:"italic",style:{color:U.textSub},children:"Empty Hand"}),S.jsx("div",{className:"w-fit max-w-full md:w-auto mx-auto flex flex-nowrap md:flex-wrap overflow-x-auto md:overflow-visible justify-start md:justify-center gap-2 md:gap-3 px-1 md:px-0 no-scrollbar",children:Ha.map(Y=>S.jsx(ss,{letter:Y},Y))}),da.length>0&&S.jsx("div",{className:"w-fit max-w-full md:w-auto mx-auto flex flex-nowrap md:flex-wrap overflow-x-auto md:overflow-visible justify-start md:justify-center gap-2 md:gap-3 mt-1 md:mt-[-5px] px-1 md:px-0 no-scrollbar",children:da.map(Y=>S.jsx(ss,{letter:Y},Y))})]})]}),S.jsx("style",{children:`
        html, body { overflow: hidden; height: 100%; width: 100%; margin: 0; padding: 0; overscroll-behavior: none; }
        .custom-scrollbar::-webkit-scrollbar { height: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `})]})}uT.createRoot(document.getElementById("root")).render(S.jsx(Ue.StrictMode,{children:S.jsx(DM,{})}));
