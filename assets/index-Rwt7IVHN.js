(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var rm={exports:{}},Pu={};var Hv;function O1(){if(Hv)return Pu;Hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Pu.Fragment=e,Pu.jsx=i,Pu.jsxs=i,Pu}var qv;function D1(){return qv||(qv=1,rm.exports=O1()),rm.exports}var Y=D1(),am={exports:{}},Ct={};var Gv;function N1(){if(Gv)return Ct;Gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),H=Symbol.iterator;function te(k){return k===null||typeof k!="object"?null:(k=H&&k[H]||k["@@iterator"],typeof k=="function"?k:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},De=Object.assign,Ae={};function Le(k,ne,Te){this.props=k,this.context=ne,this.refs=Ae,this.updater=Te||B}Le.prototype.isReactComponent={},Le.prototype.setState=function(k,ne){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ne,"setState")},Le.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Ue(){}Ue.prototype=Le.prototype;function Be(k,ne,Te){this.props=k,this.context=ne,this.refs=Ae,this.updater=Te||B}var $e=Be.prototype=new Ue;$e.constructor=Be,De($e,Le.prototype),$e.isPureReactComponent=!0;var Xe=Array.isArray;function Je(){}var F={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function V(k,ne,Te){var _e=Te.ref;return{$$typeof:r,type:k,key:ne,ref:_e!==void 0?_e:null,props:Te}}function z(k,ne){return V(k.type,ne,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function U(k){var ne={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Te){return ne[Te]})}var I=/\/+/g;function W(k,ne){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):ne.toString(36)}function se(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Je,Je):(k.status="pending",k.then(function(ne){k.status==="pending"&&(k.status="fulfilled",k.value=ne)},function(ne){k.status==="pending"&&(k.status="rejected",k.reason=ne)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function q(k,ne,Te,_e,Ce){var Qe=typeof k;(Qe==="undefined"||Qe==="boolean")&&(k=null);var ut=!1;if(k===null)ut=!0;else switch(Qe){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(k.$$typeof){case r:case e:ut=!0;break;case x:return ut=k._init,q(ut(k._payload),ne,Te,_e,Ce)}}if(ut)return Ce=Ce(k),ut=_e===""?"."+W(k,0):_e,Xe(Ce)?(Te="",ut!=null&&(Te=ut.replace(I,"$&/")+"/"),q(Ce,ne,Te,"",function(Mt){return Mt})):Ce!=null&&(C(Ce)&&(Ce=z(Ce,Te+(Ce.key==null||k&&k.key===Ce.key?"":(""+Ce.key).replace(I,"$&/")+"/")+ut)),ne.push(Ce)),1;ut=0;var ht=_e===""?".":_e+":";if(Xe(k))for(var vt=0;vt<k.length;vt++)_e=k[vt],Qe=ht+W(_e,vt),ut+=q(_e,ne,Te,Qe,Ce);else if(vt=te(k),typeof vt=="function")for(k=vt.call(k),vt=0;!(_e=k.next()).done;)_e=_e.value,Qe=ht+W(_e,vt++),ut+=q(_e,ne,Te,Qe,Ce);else if(Qe==="object"){if(typeof k.then=="function")return q(se(k),ne,Te,_e,Ce);throw ne=String(k),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ut}function Z(k,ne,Te){if(k==null)return k;var _e=[],Ce=0;return q(k,_e,"","",function(Qe){return ne.call(Te,Qe,Ce++)}),_e}function ge(k){if(k._status===-1){var ne=k._result;ne=ne(),ne.then(function(Te){(k._status===0||k._status===-1)&&(k._status=1,k._result=Te)},function(Te){(k._status===0||k._status===-1)&&(k._status=2,k._result=Te)}),k._status===-1&&(k._status=0,k._result=ne)}if(k._status===1)return k._result.default;throw k._result}var he=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},we={map:Z,forEach:function(k,ne,Te){Z(k,function(){ne.apply(this,arguments)},Te)},count:function(k){var ne=0;return Z(k,function(){ne++}),ne},toArray:function(k){return Z(k,function(ne){return ne})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ct.Activity=L,Ct.Children=we,Ct.Component=Le,Ct.Fragment=i,Ct.Profiler=l,Ct.PureComponent=Be,Ct.StrictMode=s,Ct.Suspense=w,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(k){return F.H.useMemoCache(k)}},Ct.cache=function(k){return function(){return k.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(k,ne,Te){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var _e=De({},k.props),Ce=k.key;if(ne!=null)for(Qe in ne.key!==void 0&&(Ce=""+ne.key),ne)!P.call(ne,Qe)||Qe==="key"||Qe==="__self"||Qe==="__source"||Qe==="ref"&&ne.ref===void 0||(_e[Qe]=ne[Qe]);var Qe=arguments.length-2;if(Qe===1)_e.children=Te;else if(1<Qe){for(var ut=Array(Qe),ht=0;ht<Qe;ht++)ut[ht]=arguments[ht+2];_e.children=ut}return V(k.type,Ce,_e)},Ct.createContext=function(k){return k={$$typeof:p,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Ct.createElement=function(k,ne,Te){var _e,Ce={},Qe=null;if(ne!=null)for(_e in ne.key!==void 0&&(Qe=""+ne.key),ne)P.call(ne,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ce[_e]=ne[_e]);var ut=arguments.length-2;if(ut===1)Ce.children=Te;else if(1<ut){for(var ht=Array(ut),vt=0;vt<ut;vt++)ht[vt]=arguments[vt+2];Ce.children=ht}if(k&&k.defaultProps)for(_e in ut=k.defaultProps,ut)Ce[_e]===void 0&&(Ce[_e]=ut[_e]);return V(k,Qe,Ce)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(k){return{$$typeof:b,render:k}},Ct.isValidElement=C,Ct.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:ge}},Ct.memo=function(k,ne){return{$$typeof:E,type:k,compare:ne===void 0?null:ne}},Ct.startTransition=function(k){var ne=F.T,Te={};F.T=Te;try{var _e=k(),Ce=F.S;Ce!==null&&Ce(Te,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(Je,he)}catch(Qe){he(Qe)}finally{ne!==null&&Te.types!==null&&(ne.types=Te.types),F.T=ne}},Ct.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ct.use=function(k){return F.H.use(k)},Ct.useActionState=function(k,ne,Te){return F.H.useActionState(k,ne,Te)},Ct.useCallback=function(k,ne){return F.H.useCallback(k,ne)},Ct.useContext=function(k){return F.H.useContext(k)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(k,ne){return F.H.useDeferredValue(k,ne)},Ct.useEffect=function(k,ne){return F.H.useEffect(k,ne)},Ct.useEffectEvent=function(k){return F.H.useEffectEvent(k)},Ct.useId=function(){return F.H.useId()},Ct.useImperativeHandle=function(k,ne,Te){return F.H.useImperativeHandle(k,ne,Te)},Ct.useInsertionEffect=function(k,ne){return F.H.useInsertionEffect(k,ne)},Ct.useLayoutEffect=function(k,ne){return F.H.useLayoutEffect(k,ne)},Ct.useMemo=function(k,ne){return F.H.useMemo(k,ne)},Ct.useOptimistic=function(k,ne){return F.H.useOptimistic(k,ne)},Ct.useReducer=function(k,ne,Te){return F.H.useReducer(k,ne,Te)},Ct.useRef=function(k){return F.H.useRef(k)},Ct.useState=function(k){return F.H.useState(k)},Ct.useSyncExternalStore=function(k,ne,Te){return F.H.useSyncExternalStore(k,ne,Te)},Ct.useTransition=function(){return F.H.useTransition()},Ct.version="19.2.0",Ct}var Yv;function ef(){return Yv||(Yv=1,am.exports=N1()),am.exports}var _t=ef(),sm={exports:{}},Lu={},om={exports:{}},lm={};var Xv;function V1(){return Xv||(Xv=1,(function(r){function e(q,Z){var ge=q.length;q.push(Z);e:for(;0<ge;){var he=ge-1>>>1,we=q[he];if(0<l(we,Z))q[he]=Z,q[ge]=we,ge=he;else break e}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var Z=q[0],ge=q.pop();if(ge!==Z){q[0]=ge;e:for(var he=0,we=q.length,k=we>>>1;he<k;){var ne=2*(he+1)-1,Te=q[ne],_e=ne+1,Ce=q[_e];if(0>l(Te,ge))_e<we&&0>l(Ce,Te)?(q[he]=Ce,q[_e]=ge,he=_e):(q[he]=Te,q[ne]=ge,he=ne);else if(_e<we&&0>l(Ce,ge))q[he]=Ce,q[_e]=ge,he=_e;else break e}}return Z}function l(q,Z){var ge=q.sortIndex-Z.sortIndex;return ge!==0?ge:q.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var w=[],E=[],x=1,L=null,H=3,te=!1,B=!1,De=!1,Ae=!1,Le=typeof setTimeout=="function"?setTimeout:null,Ue=typeof clearTimeout=="function"?clearTimeout:null,Be=typeof setImmediate<"u"?setImmediate:null;function $e(q){for(var Z=i(E);Z!==null;){if(Z.callback===null)s(E);else if(Z.startTime<=q)s(E),Z.sortIndex=Z.expirationTime,e(w,Z);else break;Z=i(E)}}function Xe(q){if(De=!1,$e(q),!B)if(i(w)!==null)B=!0,Je||(Je=!0,U());else{var Z=i(E);Z!==null&&se(Xe,Z.startTime-q)}}var Je=!1,F=-1,P=5,V=-1;function z(){return Ae?!0:!(r.unstable_now()-V<P)}function C(){if(Ae=!1,Je){var q=r.unstable_now();V=q;var Z=!0;try{e:{B=!1,De&&(De=!1,Ue(F),F=-1),te=!0;var ge=H;try{t:{for($e(q),L=i(w);L!==null&&!(L.expirationTime>q&&z());){var he=L.callback;if(typeof he=="function"){L.callback=null,H=L.priorityLevel;var we=he(L.expirationTime<=q);if(q=r.unstable_now(),typeof we=="function"){L.callback=we,$e(q),Z=!0;break t}L===i(w)&&s(w),$e(q)}else s(w);L=i(w)}if(L!==null)Z=!0;else{var k=i(E);k!==null&&se(Xe,k.startTime-q),Z=!1}}break e}finally{L=null,H=ge,te=!1}Z=void 0}}finally{Z?U():Je=!1}}}var U;if(typeof Be=="function")U=function(){Be(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,W=I.port2;I.port1.onmessage=C,U=function(){W.postMessage(null)}}else U=function(){Le(C,0)};function se(q,Z){F=Le(function(){q(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return H},r.unstable_next=function(q){switch(H){case 1:case 2:case 3:var Z=3;break;default:Z=H}var ge=H;H=Z;try{return q()}finally{H=ge}},r.unstable_requestPaint=function(){Ae=!0},r.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ge=H;H=q;try{return Z()}finally{H=ge}},r.unstable_scheduleCallback=function(q,Z,ge){var he=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?he+ge:he):ge=he,q){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ge+we,q={id:x++,callback:Z,priorityLevel:q,startTime:ge,expirationTime:we,sortIndex:-1},ge>he?(q.sortIndex=ge,e(E,q),i(w)===null&&q===i(E)&&(De?(Ue(F),F=-1):De=!0,se(Xe,ge-he))):(q.sortIndex=we,e(w,q),B||te||(B=!0,Je||(Je=!0,U()))),q},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(q){var Z=H;return function(){var ge=H;H=Z;try{return q.apply(this,arguments)}finally{H=ge}}}})(lm)),lm}var Qv;function k1(){return Qv||(Qv=1,om.exports=V1()),om.exports}var um={exports:{}},ji={};var Kv;function P1(){if(Kv)return ji;Kv=1;var r=ef();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)E+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,x){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:L==null?null:""+L,children:w,containerInfo:E,implementation:x}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return ji.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ji.createPortal=function(w,E){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,x)},ji.flushSync=function(w){var E=p.T,x=s.p;try{if(p.T=null,s.p=2,w)return w()}finally{p.T=E,s.p=x,s.d.f()}},ji.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(w,E))},ji.prefetchDNS=function(w){typeof w=="string"&&s.d.D(w)},ji.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var x=E.as,L=b(x,E.crossOrigin),H=typeof E.integrity=="string"?E.integrity:void 0,te=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;x==="style"?s.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:L,integrity:H,fetchPriority:te}):x==="script"&&s.d.X(w,{crossOrigin:L,integrity:H,fetchPriority:te,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},ji.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var x=b(E.as,E.crossOrigin);s.d.M(w,{crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(w)},ji.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var x=E.as,L=b(x,E.crossOrigin);s.d.L(w,x,{crossOrigin:L,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},ji.preloadModule=function(w,E){if(typeof w=="string")if(E){var x=b(E.as,E.crossOrigin);s.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(w)},ji.requestFormReset=function(w){s.d.r(w)},ji.unstable_batchedUpdates=function(w,E){return w(E)},ji.useFormState=function(w,E,x){return p.H.useFormState(w,E,x)},ji.useFormStatus=function(){return p.H.useHostTransitionStatus()},ji.version="19.2.0",ji}var Wv;function L1(){if(Wv)return um.exports;Wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=P1(),um.exports}var $v;function U1(){if($v)return Lu;$v=1;var r=k1(),e=ef(),i=L1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(s(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return w(h),t;if(m===o)return w(h),n;m=m.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=m;else{for(var T=!1,M=h.child;M;){if(M===a){T=!0,a=h,o=m;break}if(M===o){T=!0,o=h,a=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===a){T=!0,a=m,o=h;break}if(M===o){T=!0,o=m,a=h;break}M=M.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var L=Object.assign,H=Symbol.for("react.element"),te=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),De=Symbol.for("react.fragment"),Ae=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),Ue=Symbol.for("react.consumer"),Be=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function W(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case De:return"Fragment";case Le:return"Profiler";case Ae:return"StrictMode";case Xe:return"Suspense";case Je:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case Be:return t.displayName||"Context";case Ue:return(t._context.displayName||"Context")+".Consumer";case $e:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return n=t.displayName||null,n!==null?n:W(t.type)||"Memo";case P:n=t._payload,t=t._init;try{return W(t(n))}catch{}}return null}var se=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},he=[],we=-1;function k(t){return{current:t}}function ne(t){0>we||(t.current=he[we],he[we]=null,we--)}function Te(t,n){we++,he[we]=t.current,t.current=n}var _e=k(null),Ce=k(null),Qe=k(null),ut=k(null);function ht(t,n){switch(Te(Qe,n),Te(Ce,t),Te(_e,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?fv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=fv(n),t=dv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(_e),Te(_e,t)}function vt(){ne(_e),ne(Ce),ne(Qe)}function Mt(t){t.memoizedState!==null&&Te(ut,t);var n=_e.current,a=dv(n,t.type);n!==a&&(Te(Ce,t),Te(_e,a))}function an(t){Ce.current===t&&(ne(_e),ne(Ce)),ut.current===t&&(ne(ut),Du._currentValue=ge)}var He,Tt;function Wt(t){if(He===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);He=n&&n[1]||"",Tt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+t+Tt}var Vt=!1;function On(t,n){if(!t||Vt)return"";Vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(me){var ce=me}Reflect.construct(t,[],be)}else{try{be.call()}catch(me){ce=me}t.call(be.prototype)}}else{try{throw Error()}catch(me){ce=me}(be=t())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(me){if(me&&ce&&typeof me.stack=="string")return[me.stack,ce.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var G=T.split(`
`),le=M.split(`
`);for(h=o=0;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;for(;h<le.length&&!le[h].includes("DetermineComponentFrameRoot");)h++;if(o===G.length||h===le.length)for(o=G.length-1,h=le.length-1;1<=o&&0<=h&&G[o]!==le[h];)h--;for(;1<=o&&0<=h;o--,h--)if(G[o]!==le[h]){if(o!==1||h!==1)do if(o--,h--,0>h||G[o]!==le[h]){var pe=`
`+G[o].replace(" at new "," at ");return t.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",t.displayName)),pe}while(1<=o&&0<=h);break}}}finally{Vt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Wt(a):""}function Zn(t,n){switch(t.tag){case 26:case 27:case 5:return Wt(t.type);case 16:return Wt("Lazy");case 13:return t.child!==n&&n!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return On(t.type,!1);case 11:return On(t.type.render,!1);case 1:return On(t.type,!0);case 31:return Wt("Activity");default:return""}}function jt(t){try{var n="",a=null;do n+=Zn(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ot=Object.prototype.hasOwnProperty,mn=r.unstable_scheduleCallback,pn=r.unstable_cancelCallback,pi=r.unstable_shouldYield,qn=r.unstable_requestPaint,Ht=r.unstable_now,Rn=r.unstable_getCurrentPriorityLevel,R=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,v=r.unstable_NormalPriority,D=r.unstable_LowPriority,Q=r.unstable_IdlePriority,de=r.log,Ie=r.unstable_setDisableYieldValue,Ze=null,it=null;function qe(t){if(typeof de=="function"&&Ie(t),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Ze,t)}catch{}}var et=Math.clz32?Math.clz32:cn,$t=Math.log,Dn=Math.LN2;function cn(t){return t>>>=0,t===0?32:31-($t(t)/Dn|0)|0}var Bn=256,Qn=262144,Lt=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?h=Cn(o):(T&=M,T!==0?h=Cn(T):a||(a=M&~t,a!==0&&(h=Cn(a))))):(M=o&~m,M!==0?h=Cn(M):T!==0?h=Cn(T):a||(a=o&~t,a!==0&&(h=Cn(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function Kn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Gi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(){var t=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),t}function Fn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function St(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yi(t,n,a,o,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var M=t.entanglements,G=t.expirationTimes,le=t.hiddenUpdates;for(a=T&~a;0<a;){var pe=31-et(a),be=1<<pe;M[pe]=0,G[pe]=-1;var ce=le[pe];if(ce!==null)for(le[pe]=null,pe=0;pe<ce.length;pe++){var me=ce[pe];me!==null&&(me.lane&=-536870913)}a&=~be}o!==0&&Xi(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Xi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-et(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function pa(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-et(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Sr(t,n){var a=n&-n;return a=(a&42)!==0?1:jr(a),(a&(t.suspendedLanes|n))!==0?0:a}function jr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ge(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ga(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:Pv(t.type))}function ei(t,n){var a=Z.p;try{return Z.p=t,n()}finally{Z.p=a}}var Qi=Math.random().toString(36).slice(2),gn="__reactFiber$"+Qi,Gn="__reactProps$"+Qi,Ki="__reactContainer$"+Qi,si="__reactEvents$"+Qi,za="__reactListeners$"+Qi,ya="__reactHandles$"+Qi,ia="__reactResources$"+Qi,Wi="__reactMarker$"+Qi;function gi(t){delete t[gn],delete t[Gn],delete t[si],delete t[za],delete t[ya]}function re(t){var n=t[gn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ki]||a[gn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=bv(t);t!==null;){if(a=t[gn])return a;t=bv(t)}return n}t=a,a=t.parentNode}return null}function ye(t){if(t=t[gn]||t[Ki]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ee(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Me(t){var n=t[ia];return n||(n=t[ia]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(t){t[Wi]=!0}var ft=new Set,Ve={};function Ye(t,n){je(t,n),je(t+"Capture",n)}function je(t,n){for(Ve[t]=n,t=0;t<n.length;t++)ft.add(n[t])}var wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hn={},In={};function $i(t){return ot.call(In,t)?!0:ot.call(hn,t)?!1:wt.test(t)?In[t]=!0:(hn[t]=!0,!1)}function Ji(t,n,a){if($i(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function xn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function sn(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Wn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function or(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zr(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function tn(t){if(!t._valueTracker){var n=or(t)?"checked":"value";t._valueTracker=zr(t,n,""+t[n])}}function Si(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=or(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function ct(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ei=/[\n"\\]/g;function Pn(t){return t.replace(Ei,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ba(t,n,a,o,h,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wn(n)):t.value!==""+Wn(n)&&(t.value=""+Wn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Ss(t,T,Wn(n)):a!=null?Ss(t,T,Wn(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Wn(M):t.removeAttribute("name")}function bo(t,n,a,o,h,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){tn(t);return}a=a!=null?""+Wn(a):"",n=n!=null?""+Wn(n):a,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),tn(t)}function Ss(t,n,a){n==="number"&&ct(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function yn(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Wn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function va(t,n,a){if(n!=null&&(n=""+Wn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Wn(a):""}function Br(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(se(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Wn(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),tn(t)}function oi(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fa(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||lr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Rr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Fa(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&Fa(t,m,n[m])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _a=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Cr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ur(){}var Rs=null;function cr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hr=null,Zi=null;function fr(t){var n=ye(t);if(n&&(t=n.stateNode)){var a=t[Gn]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Gn]||null;if(!h)throw Error(s(90));Ba(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Si(o)}break e;case"textarea":va(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&yn(t,!!a.multiple,n,!1)}}}var ra=!1;function dr(t,n,a){if(ra)return t(n,a);ra=!0;try{var o=t(n);return o}finally{if(ra=!1,(hr!==null||Zi!==null)&&(Qc(),hr&&(n=hr,t=Zi,Zi=hr=null,fr(n),t)))for(n=0;n<t.length;n++)fr(t[n])}}function Ri(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Gn]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(yi)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{Fr=!1}var Hr=null,Pi=null,aa=null;function wa(){if(aa)return aa;var t,n=Pi,a=n.length,o,h="value"in Hr?Hr.value:Hr.textContent,m=h.length;for(t=0;t<a&&n[t]===h[t];t++);var T=a-t;for(o=1;o<=T&&n[a-o]===h[m-o];o++);return aa=h.slice(t,1<o?1-o:void 0)}function sa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ir(){return!0}function xr(){return!1}function vi(t){function n(a,o,h,m,T){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(a=t[M],this[M]=a?a(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ir:xr,this.isPropagationStopped=xr,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),n}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qr=vi(mr),Ea=L({},mr,{view:0,detail:0}),wo=vi(Ea),Mr,qa,er,Ga=L({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==er&&(er&&t.type==="mousemove"?(Mr=t.screenX-er.screenX,qa=t.screenY-er.screenY):qa=Mr=0,er=t),Mr)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),Cs=vi(Ga),Ya=L({},Ga,{dataTransfer:0}),$o=vi(Ya),ti=L({},Ea,{relatedTarget:0}),Ta=vi(ti),tr=L({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=vi(tr),oa=L({},mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xa=vi(oa),Is=L({},mr,{data:0}),Or=vi(Is),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},el={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ms(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=el[t])?!!n[t]:!1}function Aa(){return Ms}var Ci=L({},Ea,{key:function(t){if(t.key){var n=xs[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(t){return t.type==="keypress"?sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Eo=vi(Ci),tl=L({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),la=vi(tl),u=L({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),y=vi(u),A=L({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=vi(A),ie=L({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=vi(ie),ke=L({},mr,{newState:0,oldState:0}),At=vi(ke),Yn=[9,13,27,32],nn=yi&&"CompositionEvent"in window,Nn=null;yi&&"documentMode"in document&&(Nn=document.documentMode);var Li=yi&&"TextEvent"in window&&!Nn,pr=yi&&(!nn||Nn&&8<Nn&&11>=Nn),gr=" ",nr=!1;function Gr(t,n){switch(t){case"keyup":return Yn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function vf(t,n){switch(t){case"compositionend":return Qa(n);case"keypress":return n.which!==32?null:(nr=!0,gr);case"textInput":return t=n.data,t===gr&&nr?null:t;default:return null}}function gc(t,n){if(Ka)return t==="compositionend"||!nn&&Gr(t,n)?(t=wa(),aa=Pi=Hr=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pr&&n.locale!=="ko"?null:n.data;default:return null}}var nl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nl[t.type]:n==="textarea"}function Ln(t,n,a,o){hr?Zi?Zi.push(o):Zi=[o]:hr=o,n=th(n,"onChange"),0<n.length&&(a=new qr("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var ir=null,Wa=null;function yc(t){sv(t,0)}function To(t){var n=Ee(t);if(Si(n))return t}function tu(t,n){if(t==="change")return n}var nu=!1;if(yi){var Os;if(yi){var il="oninput"in document;if(!il){var f=document.createElement("div");f.setAttribute("oninput","return;"),il=typeof f.oninput=="function"}Os=il}else Os=!1;nu=Os&&(!document.documentMode||9<document.documentMode)}function d(){ir&&(ir.detachEvent("onpropertychange",_),Wa=ir=null)}function _(t){if(t.propertyName==="value"&&To(Wa)){var n=[];Ln(n,Wa,t,cr(t)),dr(yc,n)}}function S(t,n,a){t==="focusin"?(d(),ir=n,Wa=a,ir.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return To(Wa)}function j(t,n){if(t==="click")return To(n)}function K(t,n){if(t==="input"||t==="change")return To(n)}function $(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ue=typeof Object.is=="function"?Object.is:$;function oe(t,n){if(ue(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ot.call(n,h)||!ue(t[h],n[h]))return!1}return!0}function Oe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ke(t,n){var a=Oe(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Oe(a)}}function at(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?at(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function J(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ct(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ct(t.document)}return n}function Pe(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var tt=yi&&"documentMode"in document&&11>=document.documentMode,ze=null,on=null,We=null,kt=!1;function vn(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kt||ze==null||ze!==ct(o)||(o=ze,"selectionStart"in o&&Pe(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),We&&oe(We,o)||(We=o,o=th(on,"onSelect"),0<o.length&&(n=new qr("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ze)))}function ni(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var yr={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionrun:ni("Transition","TransitionRun"),transitionstart:ni("Transition","TransitionStart"),transitioncancel:ni("Transition","TransitionCancel"),transitionend:ni("Transition","TransitionEnd")},Ut={},Dr={};yi&&(Dr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function $a(t){if(Ut[t])return Ut[t];if(!yr[t])return t;var n=yr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Dr)return Ut[t]=n[a];return t}var xe=$a("animationend"),Fe=$a("animationiteration"),Pt=$a("animationstart"),qt=$a("transitionrun"),xt=$a("transitionstart"),zt=$a("transitioncancel"),Zt=$a("transitionend"),rn=new Map,rr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rr.push("scrollEnd");function _n(t,n){rn.set(t,n),Ye(n,[t])}var Ii=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fn=[],Ja=0,rl=0;function Sa(){for(var t=Ja,n=rl=Ja=0;n<t;){var a=fn[n];fn[n++]=null;var o=fn[n];fn[n++]=null;var h=fn[n];fn[n++]=null;var m=fn[n];if(fn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&iu(a,h,m)}}function Ra(t,n,a,o){fn[Ja++]=t,fn[Ja++]=n,fn[Ja++]=a,fn[Ja++]=o,rl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ua(t,n,a,o){return Ra(t,n,a,o),Ao(t)}function ar(t,n){return Ra(t,null,null,n),Ao(t)}function iu(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-et(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),m):null}function Ao(t){if(50<Su)throw Su=0,Id=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Nr={};function _f(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(t,n,a,o){return new _f(t,n,a,o)}function bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Za(t,n){var a=t.alternate;return a===null?(a=Ui(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function vc(t,n,a,o,h,m){var T=0;if(o=t,typeof t=="function")bf(t)&&(T=1);else if(typeof t=="string")T=_1(t,a,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=Ui(31,a,n,h),t.elementType=V,t.lanes=m,t;case De:return So(a.children,h,m,n);case Ae:T=8,h|=24;break;case Le:return t=Ui(12,a,n,h|2),t.elementType=Le,t.lanes=m,t;case Xe:return t=Ui(13,a,n,h),t.elementType=Xe,t.lanes=m,t;case Je:return t=Ui(19,a,n,h),t.elementType=Je,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Be:T=10;break e;case Ue:T=9;break e;case $e:T=11;break e;case F:T=14;break e;case P:T=16,o=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=Ui(T,a,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function So(t,n,a,o){return t=Ui(7,t,o,n),t.lanes=a,t}function wf(t,n,a){return t=Ui(6,t,null,n),t.lanes=a,t}function Hp(t){var n=Ui(18,null,null,0);return n.stateNode=t,n}function Ef(t,n,a){return n=Ui(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qp=new WeakMap;function Yr(t,n){if(typeof t=="object"&&t!==null){var a=qp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:jt(n)},qp.set(t,n),n)}return{value:t,source:n,stack:jt(n)}}var al=[],sl=0,_c=null,ru=0,Xr=[],Qr=0,Ds=null,Ca=1,Ia="";function es(t,n){al[sl++]=ru,al[sl++]=_c,_c=t,ru=n}function Gp(t,n,a){Xr[Qr++]=Ca,Xr[Qr++]=Ia,Xr[Qr++]=Ds,Ds=t;var o=Ca;t=Ia;var h=32-et(o)-1;o&=~(1<<h),a+=1;var m=32-et(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,Ca=1<<32-et(n)+h|a<<h|o,Ia=m+t}else Ca=1<<m|a<<h|o,Ia=t}function Tf(t){t.return!==null&&(es(t,1),Gp(t,1,0))}function Af(t){for(;t===_c;)_c=al[--sl],al[sl]=null,ru=al[--sl],al[sl]=null;for(;t===Ds;)Ds=Xr[--Qr],Xr[Qr]=null,Ia=Xr[--Qr],Xr[Qr]=null,Ca=Xr[--Qr],Xr[Qr]=null}function Yp(t,n){Xr[Qr++]=Ca,Xr[Qr++]=Ia,Xr[Qr++]=Ds,Ca=n.id,Ia=n.overflow,Ds=t}var xi=null,Un=null,Jt=!1,Ns=null,Kr=!1,Sf=Error(s(519));function Vs(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(Yr(n,t)),Sf}function Xp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[gn]=t,n[Gn]=o,a){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(a=0;a<Cu.length;a++)Ft(Cu[a],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":Ft("invalid",n),bo(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ft("invalid",n);break;case"textarea":Ft("invalid",n),Br(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||cv(n.textContent,a)?(o.popover!=null&&(Ft("beforetoggle",n),Ft("toggle",n)),o.onScroll!=null&&Ft("scroll",n),o.onScrollEnd!=null&&Ft("scrollend",n),o.onClick!=null&&(n.onclick=ur),n=!0):n=!1,n||Vs(t,!0)}function Qp(t){for(xi=t.return;xi;)switch(xi.tag){case 5:case 31:case 13:Kr=!1;return;case 27:case 3:Kr=!0;return;default:xi=xi.return}}function ol(t){if(t!==xi)return!1;if(!Jt)return Qp(t),Jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&Un&&Vs(t),Qp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Un=_v(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Un=_v(t)}else n===27?(n=Un,Qs(t.type)?(t=Qd,Qd=null,Un=t):Un=n):Un=xi?$r(t.stateNode.nextSibling):null;return!0}function Ro(){Un=xi=null,Jt=!1}function Rf(){var t=Ns;return t!==null&&(wr===null?wr=t:wr.push.apply(wr,t),Ns=null),t}function au(t){Ns===null?Ns=[t]:Ns.push(t)}var Cf=k(null),Co=null,ts=null;function ks(t,n,a){Te(Cf,n._currentValue),n._currentValue=a}function ns(t){t._currentValue=Cf.current,ne(Cf)}function If(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function xf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=h;for(var G=0;G<n.length;G++)if(M.context===n[G]){m.lanes|=a,M=m.alternate,M!==null&&(M.lanes|=a),If(m.return,a,t),o||(T=null);break e}m=M.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),If(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ll(t,n,a,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var M=h.type;ue(h.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(h===ut.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Du):t=[Du])}h=h.return}t!==null&&xf(n,t,a,o),n.flags|=262144}function bc(t){for(t=t.firstContext;t!==null;){if(!ue(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Io(t){Co=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Mi(t){return Kp(Co,t)}function wc(t,n){return Co===null&&Io(t),Kp(t,n)}function Kp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ts===null){if(t===null)throw Error(s(308));ts=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ts=ts.next=n;return a}var pE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},gE=r.unstable_scheduleCallback,yE=r.unstable_NormalPriority,li={$$typeof:Be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new pE,data:new Map,refCount:0}}function su(t){t.refCount--,t.refCount===0&&gE(yE,function(){t.controller.abort()})}var ou=null,Of=0,ul=0,cl=null;function vE(t,n){if(ou===null){var a=ou=[];Of=0,ul=Vd(),cl={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Of++,n.then(Wp,Wp),n}function Wp(){if(--Of===0&&ou!==null){cl!==null&&(cl.status="fulfilled");var t=ou;ou=null,ul=0,cl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _E(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var $p=q.S;q.S=function(t,n){Vy=Ht(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vE(t,n),$p!==null&&$p(t,n)};var xo=k(null);function Df(){var t=xo.current;return t!==null?t:Mn.pooledCache}function Ec(t,n){n===null?Te(xo,xo.current):Te(xo,n.pool)}function Jp(){var t=Df();return t===null?null:{parent:li._currentValue,pool:t}}var hl=Error(s(460)),Nf=Error(s(474)),Tc=Error(s(542)),Ac={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function eg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ur,ur),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ng(t),t;default:if(typeof n.status=="string")n.then(ur,ur);else{if(t=Mn,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ng(t),t}throw Oo=n,hl}}function Mo(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Oo=a,hl):a}}var Oo=null;function tg(){if(Oo===null)throw Error(s(459));var t=Oo;return Oo=null,t}function ng(t){if(t===hl||t===Tc)throw Error(s(483))}var fl=null,lu=0;function Sc(t){var n=lu;return lu+=1,fl===null&&(fl=[]),eg(fl,t,n)}function uu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Rc(t,n){throw n.$$typeof===H?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ig(t){function n(ee,X){if(t){var ae=ee.deletions;ae===null?(ee.deletions=[X],ee.flags|=16):ae.push(X)}}function a(ee,X){if(!t)return null;for(;X!==null;)n(ee,X),X=X.sibling;return null}function o(ee){for(var X=new Map;ee!==null;)ee.key!==null?X.set(ee.key,ee):X.set(ee.index,ee),ee=ee.sibling;return X}function h(ee,X){return ee=Za(ee,X),ee.index=0,ee.sibling=null,ee}function m(ee,X,ae){return ee.index=ae,t?(ae=ee.alternate,ae!==null?(ae=ae.index,ae<X?(ee.flags|=67108866,X):ae):(ee.flags|=67108866,X)):(ee.flags|=1048576,X)}function T(ee){return t&&ee.alternate===null&&(ee.flags|=67108866),ee}function M(ee,X,ae,ve){return X===null||X.tag!==6?(X=wf(ae,ee.mode,ve),X.return=ee,X):(X=h(X,ae),X.return=ee,X)}function G(ee,X,ae,ve){var dt=ae.type;return dt===De?pe(ee,X,ae.props.children,ve,ae.key):X!==null&&(X.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===P&&Mo(dt)===X.type)?(X=h(X,ae.props),uu(X,ae),X.return=ee,X):(X=vc(ae.type,ae.key,ae.props,null,ee.mode,ve),uu(X,ae),X.return=ee,X)}function le(ee,X,ae,ve){return X===null||X.tag!==4||X.stateNode.containerInfo!==ae.containerInfo||X.stateNode.implementation!==ae.implementation?(X=Ef(ae,ee.mode,ve),X.return=ee,X):(X=h(X,ae.children||[]),X.return=ee,X)}function pe(ee,X,ae,ve,dt){return X===null||X.tag!==7?(X=So(ae,ee.mode,ve,dt),X.return=ee,X):(X=h(X,ae),X.return=ee,X)}function be(ee,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=wf(""+X,ee.mode,ae),X.return=ee,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case te:return ae=vc(X.type,X.key,X.props,null,ee.mode,ae),uu(ae,X),ae.return=ee,ae;case B:return X=Ef(X,ee.mode,ae),X.return=ee,X;case P:return X=Mo(X),be(ee,X,ae)}if(se(X)||U(X))return X=So(X,ee.mode,ae,null),X.return=ee,X;if(typeof X.then=="function")return be(ee,Sc(X),ae);if(X.$$typeof===Be)return be(ee,wc(ee,X),ae);Rc(ee,X)}return null}function ce(ee,X,ae,ve){var dt=X!==null?X.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return dt!==null?null:M(ee,X,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case te:return ae.key===dt?G(ee,X,ae,ve):null;case B:return ae.key===dt?le(ee,X,ae,ve):null;case P:return ae=Mo(ae),ce(ee,X,ae,ve)}if(se(ae)||U(ae))return dt!==null?null:pe(ee,X,ae,ve,null);if(typeof ae.then=="function")return ce(ee,X,Sc(ae),ve);if(ae.$$typeof===Be)return ce(ee,X,wc(ee,ae),ve);Rc(ee,ae)}return null}function me(ee,X,ae,ve,dt){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ee=ee.get(ae)||null,M(X,ee,""+ve,dt);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case te:return ee=ee.get(ve.key===null?ae:ve.key)||null,G(X,ee,ve,dt);case B:return ee=ee.get(ve.key===null?ae:ve.key)||null,le(X,ee,ve,dt);case P:return ve=Mo(ve),me(ee,X,ae,ve,dt)}if(se(ve)||U(ve))return ee=ee.get(ae)||null,pe(X,ee,ve,dt,null);if(typeof ve.then=="function")return me(ee,X,ae,Sc(ve),dt);if(ve.$$typeof===Be)return me(ee,X,ae,wc(X,ve),dt);Rc(X,ve)}return null}function st(ee,X,ae,ve){for(var dt=null,ln=null,lt=X,Nt=X=0,Yt=null;lt!==null&&Nt<ae.length;Nt++){lt.index>Nt?(Yt=lt,lt=null):Yt=lt.sibling;var un=ce(ee,lt,ae[Nt],ve);if(un===null){lt===null&&(lt=Yt);break}t&&lt&&un.alternate===null&&n(ee,lt),X=m(un,X,Nt),ln===null?dt=un:ln.sibling=un,ln=un,lt=Yt}if(Nt===ae.length)return a(ee,lt),Jt&&es(ee,Nt),dt;if(lt===null){for(;Nt<ae.length;Nt++)lt=be(ee,ae[Nt],ve),lt!==null&&(X=m(lt,X,Nt),ln===null?dt=lt:ln.sibling=lt,ln=lt);return Jt&&es(ee,Nt),dt}for(lt=o(lt);Nt<ae.length;Nt++)Yt=me(lt,ee,Nt,ae[Nt],ve),Yt!==null&&(t&&Yt.alternate!==null&&lt.delete(Yt.key===null?Nt:Yt.key),X=m(Yt,X,Nt),ln===null?dt=Yt:ln.sibling=Yt,ln=Yt);return t&&lt.forEach(function(Zs){return n(ee,Zs)}),Jt&&es(ee,Nt),dt}function yt(ee,X,ae,ve){if(ae==null)throw Error(s(151));for(var dt=null,ln=null,lt=X,Nt=X=0,Yt=null,un=ae.next();lt!==null&&!un.done;Nt++,un=ae.next()){lt.index>Nt?(Yt=lt,lt=null):Yt=lt.sibling;var Zs=ce(ee,lt,un.value,ve);if(Zs===null){lt===null&&(lt=Yt);break}t&&lt&&Zs.alternate===null&&n(ee,lt),X=m(Zs,X,Nt),ln===null?dt=Zs:ln.sibling=Zs,ln=Zs,lt=Yt}if(un.done)return a(ee,lt),Jt&&es(ee,Nt),dt;if(lt===null){for(;!un.done;Nt++,un=ae.next())un=be(ee,un.value,ve),un!==null&&(X=m(un,X,Nt),ln===null?dt=un:ln.sibling=un,ln=un);return Jt&&es(ee,Nt),dt}for(lt=o(lt);!un.done;Nt++,un=ae.next())un=me(lt,ee,Nt,un.value,ve),un!==null&&(t&&un.alternate!==null&&lt.delete(un.key===null?Nt:un.key),X=m(un,X,Nt),ln===null?dt=un:ln.sibling=un,ln=un);return t&&lt.forEach(function(M1){return n(ee,M1)}),Jt&&es(ee,Nt),dt}function Sn(ee,X,ae,ve){if(typeof ae=="object"&&ae!==null&&ae.type===De&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case te:e:{for(var dt=ae.key;X!==null;){if(X.key===dt){if(dt=ae.type,dt===De){if(X.tag===7){a(ee,X.sibling),ve=h(X,ae.props.children),ve.return=ee,ee=ve;break e}}else if(X.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===P&&Mo(dt)===X.type){a(ee,X.sibling),ve=h(X,ae.props),uu(ve,ae),ve.return=ee,ee=ve;break e}a(ee,X);break}else n(ee,X);X=X.sibling}ae.type===De?(ve=So(ae.props.children,ee.mode,ve,ae.key),ve.return=ee,ee=ve):(ve=vc(ae.type,ae.key,ae.props,null,ee.mode,ve),uu(ve,ae),ve.return=ee,ee=ve)}return T(ee);case B:e:{for(dt=ae.key;X!==null;){if(X.key===dt)if(X.tag===4&&X.stateNode.containerInfo===ae.containerInfo&&X.stateNode.implementation===ae.implementation){a(ee,X.sibling),ve=h(X,ae.children||[]),ve.return=ee,ee=ve;break e}else{a(ee,X);break}else n(ee,X);X=X.sibling}ve=Ef(ae,ee.mode,ve),ve.return=ee,ee=ve}return T(ee);case P:return ae=Mo(ae),Sn(ee,X,ae,ve)}if(se(ae))return st(ee,X,ae,ve);if(U(ae)){if(dt=U(ae),typeof dt!="function")throw Error(s(150));return ae=dt.call(ae),yt(ee,X,ae,ve)}if(typeof ae.then=="function")return Sn(ee,X,Sc(ae),ve);if(ae.$$typeof===Be)return Sn(ee,X,wc(ee,ae),ve);Rc(ee,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,X!==null&&X.tag===6?(a(ee,X.sibling),ve=h(X,ae),ve.return=ee,ee=ve):(a(ee,X),ve=wf(ae,ee.mode,ve),ve.return=ee,ee=ve),T(ee)):a(ee,X)}return function(ee,X,ae,ve){try{lu=0;var dt=Sn(ee,X,ae,ve);return fl=null,dt}catch(lt){if(lt===hl||lt===Tc)throw lt;var ln=Ui(29,lt,null,ee.mode);return ln.lanes=ve,ln.return=ee,ln}finally{}}}var Do=ig(!0),rg=ig(!1),Ps=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(dn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ao(t),iu(t,null,a),n}return Ra(t,o,n,a),Ao(t)}function cu(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,pa(t,a)}}function Pf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Lf=!1;function hu(){if(Lf){var t=cl;if(t!==null)throw t}}function fu(t,n,a,o){Lf=!1;var h=t.updateQueue;Ps=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var G=M,le=G.next;G.next=null,T===null?m=le:T.next=le,T=G;var pe=t.alternate;pe!==null&&(pe=pe.updateQueue,M=pe.lastBaseUpdate,M!==T&&(M===null?pe.firstBaseUpdate=le:M.next=le,pe.lastBaseUpdate=G))}if(m!==null){var be=h.baseState;T=0,pe=le=G=null,M=m;do{var ce=M.lane&-536870913,me=ce!==M.lane;if(me?(Gt&ce)===ce:(o&ce)===ce){ce!==0&&ce===ul&&(Lf=!0),pe!==null&&(pe=pe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var st=t,yt=M;ce=n;var Sn=a;switch(yt.tag){case 1:if(st=yt.payload,typeof st=="function"){be=st.call(Sn,be,ce);break e}be=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=yt.payload,ce=typeof st=="function"?st.call(Sn,be,ce):st,ce==null)break e;be=L({},be,ce);break e;case 2:Ps=!0}}ce=M.callback,ce!==null&&(t.flags|=64,me&&(t.flags|=8192),me=h.callbacks,me===null?h.callbacks=[ce]:me.push(ce))}else me={lane:ce,tag:M.tag,payload:M.payload,callback:M.callback,next:null},pe===null?(le=pe=me,G=be):pe=pe.next=me,T|=ce;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;me=M,M=me.next,me.next=null,h.lastBaseUpdate=me,h.shared.pending=null}}while(!0);pe===null&&(G=be),h.baseState=G,h.firstBaseUpdate=le,h.lastBaseUpdate=pe,m===null&&(h.shared.lanes=0),Hs|=T,t.lanes=T,t.memoizedState=be}}function ag(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function sg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ag(a[t],n)}var dl=k(null),Cc=k(0);function og(t,n){t=hs,Te(Cc,t),Te(dl,n),hs=t|n.baseLanes}function Uf(){Te(Cc,hs),Te(dl,dl.current)}function jf(){hs=Cc.current,ne(dl),ne(Cc)}var Vr=k(null),Wr=null;function js(t){var n=t.alternate;Te(ii,ii.current&1),Te(Vr,t),Wr===null&&(n===null||dl.current!==null||n.memoizedState!==null)&&(Wr=t)}function zf(t){Te(ii,ii.current),Te(Vr,t),Wr===null&&(Wr=t)}function lg(t){t.tag===22?(Te(ii,ii.current),Te(Vr,t),Wr===null&&(Wr=t)):zs()}function zs(){Te(ii,ii.current),Te(Vr,Vr.current)}function kr(t){ne(Vr),Wr===t&&(Wr=null),ne(ii)}var ii=k(0);function Ic(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yd(a)||Xd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,Dt=null,Tn=null,ui=null,xc=!1,ml=!1,No=!1,Mc=0,du=0,pl=null,bE=0;function $n(){throw Error(s(321))}function Bf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ue(t[a],n[a]))return!1;return!0}function Ff(t,n,a,o,h,m){return is=m,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Gg:id,No=!1,m=a(o,h),No=!1,ml&&(m=cg(n,a,o,h)),ug(t),m}function ug(t){q.H=gu;var n=Tn!==null&&Tn.next!==null;if(is=0,ui=Tn=Dt=null,xc=!1,du=0,pl=null,n)throw Error(s(300));t===null||ci||(t=t.dependencies,t!==null&&bc(t)&&(ci=!0))}function cg(t,n,a,o){Dt=t;var h=0;do{if(ml&&(pl=null),du=0,ml=!1,25<=h)throw Error(s(301));if(h+=1,ui=Tn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=Yg,m=n(a,o)}while(ml);return m}function wE(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?mu(n):n,t=t.useState()[0],(Tn!==null?Tn.memoizedState:null)!==t&&(Dt.flags|=1024),n}function Hf(){var t=Mc!==0;return Mc=0,t}function qf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Gf(t){if(xc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xc=!1}is=0,ui=Tn=Dt=null,ml=!1,du=Mc=0,pl=null}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?Dt.memoizedState=ui=t:ui=ui.next=t,ui}function ri(){if(Tn===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=Tn.next;var n=ui===null?Dt.memoizedState:ui.next;if(n!==null)ui=n,Tn=t;else{if(t===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Tn=t,t={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},ui===null?Dt.memoizedState=ui=t:ui=ui.next=t}return ui}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(t){var n=du;return du+=1,pl===null&&(pl=[]),t=eg(pl,t,n),n=Dt,(ui===null?n.memoizedState:ui.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Gg:id),t}function Dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mu(t);if(t.$$typeof===Be)return Mi(t)}throw Error(s(438,String(t)))}function Yf(t){var n=null,a=Dt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Oc(),Dt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=z;return n.index++,a}function rs(t,n){return typeof n=="function"?n(t):n}function Nc(t){var n=ri();return Xf(n,Tn,t)}function Xf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var M=T=null,G=null,le=n,pe=!1;do{var be=le.lane&-536870913;if(be!==le.lane?(Gt&be)===be:(is&be)===be){var ce=le.revertLane;if(ce===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),be===ul&&(pe=!0);else if((is&ce)===ce){le=le.next,ce===ul&&(pe=!0);continue}else be={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},G===null?(M=G=be,T=m):G=G.next=be,Dt.lanes|=ce,Hs|=ce;be=le.action,No&&a(m,be),m=le.hasEagerState?le.eagerState:a(m,be)}else ce={lane:be,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},G===null?(M=G=ce,T=m):G=G.next=ce,Dt.lanes|=be,Hs|=be;le=le.next}while(le!==null&&le!==n);if(G===null?T=m:G.next=M,!ue(m,t.memoizedState)&&(ci=!0,pe&&(a=cl,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=G,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Qf(t){var n=ri(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ue(m,n.memoizedState)||(ci=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function hg(t,n,a){var o=Dt,h=ri(),m=Jt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var T=!ue((Tn||h).memoizedState,a);if(T&&(h.memoizedState=a,ci=!0),h=h.queue,$f(mg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||ui!==null&&ui.memoizedState.tag&1){if(o.flags|=2048,gl(9,{destroy:void 0},dg.bind(null,o,h,a,n),null),Mn===null)throw Error(s(349));m||(is&127)!==0||fg(o,n,a)}return a}function fg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Dt.updateQueue,n===null?(n=Oc(),Dt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function dg(t,n,a,o){n.value=a,n.getSnapshot=o,pg(n)&&gg(t)}function mg(t,n,a){return a(function(){pg(n)&&gg(t)})}function pg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ue(t,a)}catch{return!0}}function gg(t){var n=ar(t,2);n!==null&&Er(n,t,2)}function Kf(t){var n=sr();if(typeof t=="function"){var a=t;if(t=a(),No){qe(!0);try{a()}finally{qe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},n}function yg(t,n,a,o){return t.baseState=a,Xf(t,Tn,typeof o=="function"?o:rs)}function EE(t,n,a,o,h){if(Pc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};q.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,vg(n,m)):(m.next=a.next,n.pending=a.next=m)}}function vg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=q.T,T={};q.T=T;try{var M=a(h,o),G=q.S;G!==null&&G(T,M),_g(t,n,M)}catch(le){Wf(t,n,le)}finally{m!==null&&T.types!==null&&(m.types=T.types),q.T=m}}else try{m=a(h,o),_g(t,n,m)}catch(le){Wf(t,n,le)}}function _g(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){bg(t,n,o)},function(o){return Wf(t,n,o)}):bg(t,n,a)}function bg(t,n,a){n.status="fulfilled",n.value=a,wg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,vg(t,a)))}function Wf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,wg(n),n=n.next;while(n!==o)}t.action=null}function wg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Eg(t,n){return n}function Tg(t,n){if(Jt){var a=Mn.formState;if(a!==null){e:{var o=Dt;if(Jt){if(Un){t:{for(var h=Un,m=Kr;h.nodeType!==8;){if(!m){h=null;break t}if(h=$r(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Un=$r(h.nextSibling),o=h.data==="F!";break e}}Vs(o)}o=!1}o&&(n=a[0])}}return a=sr(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},a.queue=o,a=Fg.bind(null,Dt,o),o.dispatch=a,o=Kf(!1),m=nd.bind(null,Dt,!1,o.queue),o=sr(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=EE.bind(null,Dt,h,m,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Ag(t){var n=ri();return Sg(n,Tn,t)}function Sg(t,n,a){if(n=Xf(t,n,Eg)[0],t=Nc(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=mu(n)}catch(T){throw T===hl?Tc:T}else o=n;n=ri();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(Dt.flags|=2048,gl(9,{destroy:void 0},TE.bind(null,h,a),null)),[o,m,t]}function TE(t,n){t.action=n}function Rg(t){var n=ri(),a=Tn;if(a!==null)return Sg(n,a,t);ri(),n=n.memoizedState,a=ri();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function gl(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Oc(),Dt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Cg(){return ri().memoizedState}function Vc(t,n,a,o){var h=sr();Dt.flags|=t,h.memoizedState=gl(1|n,{destroy:void 0},a,o===void 0?null:o)}function kc(t,n,a,o){var h=ri();o=o===void 0?null:o;var m=h.memoizedState.inst;Tn!==null&&o!==null&&Bf(o,Tn.memoizedState.deps)?h.memoizedState=gl(n,m,a,o):(Dt.flags|=t,h.memoizedState=gl(1|n,m,a,o))}function Ig(t,n){Vc(8390656,8,t,n)}function $f(t,n){kc(2048,8,t,n)}function AE(t){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=Oc(),Dt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function xg(t){var n=ri().memoizedState;return AE({ref:n,nextImpl:t}),function(){if((dn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Mg(t,n){return kc(4,2,t,n)}function Og(t,n){return kc(4,4,t,n)}function Dg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ng(t,n,a){a=a!=null?a.concat([t]):null,kc(4,4,Dg.bind(null,n,t),a)}function Jf(){}function Vg(t,n){var a=ri();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Bf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function kg(t,n){var a=ri();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Bf(n,o[1]))return o[0];if(o=t(),No){qe(!0);try{t()}finally{qe(!1)}}return a.memoizedState=[o,n],o}function Zf(t,n,a){return a===void 0||(is&1073741824)!==0&&(Gt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Py(),Dt.lanes|=t,Hs|=t,a)}function Pg(t,n,a,o){return ue(a,n)?a:dl.current!==null?(t=Zf(t,a,o),ue(t,n)||(ci=!0),t):(is&42)===0||(is&1073741824)!==0&&(Gt&261930)===0?(ci=!0,t.memoizedState=a):(t=Py(),Dt.lanes|=t,Hs|=t,n)}function Lg(t,n,a,o,h){var m=Z.p;Z.p=m!==0&&8>m?m:8;var T=q.T,M={};q.T=M,nd(t,!1,n,a);try{var G=h(),le=q.S;if(le!==null&&le(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=_E(G,o);pu(t,n,pe,Ur(t))}else pu(t,n,o,Ur(t))}catch(be){pu(t,n,{then:function(){},status:"rejected",reason:be},Ur())}finally{Z.p=m,T!==null&&M.types!==null&&(T.types=M.types),q.T=T}}function SE(){}function ed(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=Ug(t).queue;Lg(t,h,n,ge,a===null?SE:function(){return jg(t),a(o)})}function Ug(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:ge},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jg(t){var n=Ug(t);n.next===null&&(n=t.alternate.memoizedState),pu(t,n.next.queue,{},Ur())}function td(){return Mi(Du)}function zg(){return ri().memoizedState}function Bg(){return ri().memoizedState}function RE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ur();t=Ls(a);var o=Us(n,t,a);o!==null&&(Er(o,n,a),cu(o,n,a)),n={cache:Mf()},t.payload=n;return}n=n.return}}function CE(t,n,a){var o=Ur();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Pc(t)?Hg(n,a):(a=ua(t,n,a,o),a!==null&&(Er(a,t,o),qg(a,n,o)))}function Fg(t,n,a){var o=Ur();pu(t,n,a,o)}function pu(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pc(t))Hg(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,a);if(h.hasEagerState=!0,h.eagerState=M,ue(M,T))return Ra(t,n,h,0),Mn===null&&Sa(),!1}catch{}finally{}if(a=ua(t,n,h,o),a!==null)return Er(a,t,o),qg(a,n,o),!0}return!1}function nd(t,n,a,o){if(o={lane:2,revertLane:Vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pc(t)){if(n)throw Error(s(479))}else n=ua(t,a,o,2),n!==null&&Er(n,t,2)}function Pc(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function Hg(t,n){ml=xc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function qg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,pa(t,a)}}var gu={readContext:Mi,use:Dc,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};gu.useEffectEvent=$n;var Gg={readContext:Mi,use:Dc,useCallback:function(t,n){return sr().memoizedState=[t,n===void 0?null:n],t},useContext:Mi,useEffect:Ig,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Vc(4194308,4,Dg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Vc(4194308,4,t,n)},useInsertionEffect:function(t,n){Vc(4,2,t,n)},useMemo:function(t,n){var a=sr();n=n===void 0?null:n;var o=t();if(No){qe(!0);try{t()}finally{qe(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=sr();if(a!==void 0){var h=a(n);if(No){qe(!0);try{a(n)}finally{qe(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=CE.bind(null,Dt,t),[o.memoizedState,t]},useRef:function(t){var n=sr();return t={current:t},n.memoizedState=t},useState:function(t){t=Kf(t);var n=t.queue,a=Fg.bind(null,Dt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,n){var a=sr();return Zf(a,t,n)},useTransition:function(){var t=Kf(!1);return t=Lg.bind(null,Dt,t.queue,!0,!1),sr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Dt,h=sr();if(Jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Mn===null)throw Error(s(349));(Gt&127)!==0||fg(o,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,Ig(mg.bind(null,o,m,t),[t]),o.flags|=2048,gl(9,{destroy:void 0},dg.bind(null,o,m,a,n),null),a},useId:function(){var t=sr(),n=Mn.identifierPrefix;if(Jt){var a=Ia,o=Ca;a=(o&~(1<<32-et(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Mc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=bE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:td,useFormState:Tg,useActionState:Tg,useOptimistic:function(t){var n=sr();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=nd.bind(null,Dt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Yf,useCacheRefresh:function(){return sr().memoizedState=RE.bind(null,Dt)},useEffectEvent:function(t){var n=sr(),a={impl:t};return n.memoizedState=a,function(){if((dn&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Mi,use:Dc,useCallback:Vg,useContext:Mi,useEffect:$f,useImperativeHandle:Ng,useInsertionEffect:Mg,useLayoutEffect:Og,useMemo:kg,useReducer:Nc,useRef:Cg,useState:function(){return Nc(rs)},useDebugValue:Jf,useDeferredValue:function(t,n){var a=ri();return Pg(a,Tn.memoizedState,t,n)},useTransition:function(){var t=Nc(rs)[0],n=ri().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:hg,useId:zg,useHostTransitionStatus:td,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,n){var a=ri();return yg(a,Tn,t,n)},useMemoCache:Yf,useCacheRefresh:Bg};id.useEffectEvent=xg;var Yg={readContext:Mi,use:Dc,useCallback:Vg,useContext:Mi,useEffect:$f,useImperativeHandle:Ng,useInsertionEffect:Mg,useLayoutEffect:Og,useMemo:kg,useReducer:Qf,useRef:Cg,useState:function(){return Qf(rs)},useDebugValue:Jf,useDeferredValue:function(t,n){var a=ri();return Tn===null?Zf(a,t,n):Pg(a,Tn.memoizedState,t,n)},useTransition:function(){var t=Qf(rs)[0],n=ri().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:hg,useId:zg,useHostTransitionStatus:td,useFormState:Rg,useActionState:Rg,useOptimistic:function(t,n){var a=ri();return Tn!==null?yg(a,Tn,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:Bg};Yg.useEffectEvent=xg;function rd(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:L({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ad={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Ur(),h=Ls(o);h.payload=n,a!=null&&(h.callback=a),n=Us(t,h,o),n!==null&&(Er(n,t,o),cu(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Ur(),h=Ls(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Us(t,h,o),n!==null&&(Er(n,t,o),cu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Ur(),o=Ls(a);o.tag=2,n!=null&&(o.callback=n),n=Us(t,o,a),n!==null&&(Er(n,t,a),cu(n,t,a))}};function Xg(t,n,a,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!oe(a,o)||!oe(h,m):!0}function Qg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&ad.enqueueReplaceState(n,n.state,null)}function Vo(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=L({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Kg(t){Ii(t)}function Wg(t){console.error(t)}function $g(t){Ii(t)}function Lc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Jg(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sd(t,n,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){Lc(t,n)},a}function Zg(t){return t=Ls(t),t.tag=3,t}function ey(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){Jg(n,a,o)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Jg(n,a,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function IE(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ll(n,a,h,!0),a=Vr.current,a!==null){switch(a.tag){case 31:case 13:return Wr===null?Kc():a.alternate===null&&Jn===0&&(Jn=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ac?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Od(t,o,h)),!1;case 22:return a.flags|=65536,o===Ac?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Od(t,o,h)),!1}throw Error(s(435,a.tag))}return Od(t,o,h),Kc(),!1}if(Jt)return n=Vr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Sf&&(t=Error(s(422),{cause:o}),au(Yr(t,a)))):(o!==Sf&&(n=Error(s(423),{cause:o}),au(Yr(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Yr(o,a),h=sd(t.stateNode,o,h),Pf(t,h),Jn!==4&&(Jn=2)),!1;var m=Error(s(520),{cause:o});if(m=Yr(m,a),Au===null?Au=[m]:Au.push(m),Jn!==4&&(Jn=2),n===null)return!0;o=Yr(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sd(a.stateNode,o,t),Pf(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qs===null||!qs.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zg(h),ey(h,t,a,o),Pf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(s(461)),ci=!1;function Oi(t,n,a,o){n.child=t===null?rg(n,null,a,o):Do(n,t.child,a,o)}function ty(t,n,a,o,h){a=a.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return Io(n),o=Ff(t,n,a,T,m,h),M=Hf(),t!==null&&!ci?(qf(t,n,h),as(t,n,h)):(Jt&&M&&Tf(n),n.flags|=1,Oi(t,n,o,h),n.child)}function ny(t,n,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!bf(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,iy(t,n,m,o,h)):(t=vc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!pd(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:oe,a(T,o)&&t.ref===n.ref)return as(t,n,h)}return n.flags|=1,t=Za(m,o),t.ref=n.ref,t.return=n,n.child=t}function iy(t,n,a,o,h){if(t!==null){var m=t.memoizedProps;if(oe(m,o)&&t.ref===n.ref)if(ci=!1,n.pendingProps=o=m,pd(t,h))(t.flags&131072)!==0&&(ci=!0);else return n.lanes=t.lanes,as(t,n,h)}return ld(t,n,a,o,h)}function ry(t,n,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return ay(t,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ec(n,m!==null?m.cachePool:null),m!==null?og(n,m):Uf(),lg(n);else return o=n.lanes=536870912,ay(t,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(Ec(n,m.cachePool),og(n,m),zs(),n.memoizedState=null):(t!==null&&Ec(n,null),Uf(),zs());return Oi(t,n,h,a),n.child}function yu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(t,n,a,o,h){var m=Df();return m=m===null?null:{parent:li._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&Ec(n,null),Uf(),lg(n),t!==null&&ll(t,n,o,!0),n.childLanes=h,null}function Uc(t,n){return n=zc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function sy(t,n,a){return Do(n,t.child,null,a),t=Uc(n,n.pendingProps),t.flags|=2,kr(n),n.memoizedState=null,t}function xE(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Jt){if(o.mode==="hidden")return t=Uc(n,o),n.lanes=536870912,yu(null,t);if(zf(n),(t=Un)?(t=vv(t,Kr),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ca,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},a=Hp(t),a.return=n,n.child=a,xi=n,Un=null)):t=null,t===null)throw Vs(n);return n.lanes=536870912,null}return Uc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(zf(n),h)if(n.flags&256)n.flags&=-257,n=sy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(ci||ll(t,n,a,!1),h=(a&t.childLanes)!==0,ci||h){if(o=Mn,o!==null&&(T=Sr(o,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,ar(t,T),Er(o,t,T),od;Kc(),n=sy(t,n,a)}else t=m.treeContext,Un=$r(T.nextSibling),xi=n,Jt=!0,Ns=null,Kr=!1,t!==null&&Yp(n,t),n=Uc(n,o),n.flags|=4096;return n}return t=Za(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function jc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function ld(t,n,a,o,h){return Io(n),a=Ff(t,n,a,o,void 0,h),o=Hf(),t!==null&&!ci?(qf(t,n,h),as(t,n,h)):(Jt&&o&&Tf(n),n.flags|=1,Oi(t,n,a,h),n.child)}function oy(t,n,a,o,h,m){return Io(n),n.updateQueue=null,a=cg(n,o,a,h),ug(t),o=Hf(),t!==null&&!ci?(qf(t,n,m),as(t,n,m)):(Jt&&o&&Tf(n),n.flags|=1,Oi(t,n,a,m),n.child)}function ly(t,n,a,o,h){if(Io(n),n.stateNode===null){var m=Nr,T=a.contextType;typeof T=="object"&&T!==null&&(m=Mi(T)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ad,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Vf(n),T=a.contextType,m.context=typeof T=="object"&&T!==null?Mi(T):Nr,m.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(rd(n,a,T,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&ad.enqueueReplaceState(m,m.state,null),fu(n,o,m,h),hu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,G=Vo(a,M);m.props=G;var le=m.context,pe=a.contextType;T=Nr,typeof pe=="object"&&pe!==null&&(T=Mi(pe));var be=a.getDerivedStateFromProps;pe=typeof be=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,pe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||le!==T)&&Qg(n,m,o,T),Ps=!1;var ce=n.memoizedState;m.state=ce,fu(n,o,m,h),hu(),le=n.memoizedState,M||ce!==le||Ps?(typeof be=="function"&&(rd(n,a,be,o),le=n.memoizedState),(G=Ps||Xg(n,a,G,o,ce,le,T))?(pe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=le),m.props=o,m.state=le,m.context=T,o=G):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,kf(t,n),T=n.memoizedProps,pe=Vo(a,T),m.props=pe,be=n.pendingProps,ce=m.context,le=a.contextType,G=Nr,typeof le=="object"&&le!==null&&(G=Mi(le)),M=a.getDerivedStateFromProps,(le=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==be||ce!==G)&&Qg(n,m,o,G),Ps=!1,ce=n.memoizedState,m.state=ce,fu(n,o,m,h),hu();var me=n.memoizedState;T!==be||ce!==me||Ps||t!==null&&t.dependencies!==null&&bc(t.dependencies)?(typeof M=="function"&&(rd(n,a,M,o),me=n.memoizedState),(pe=Ps||Xg(n,a,pe,o,ce,me,G)||t!==null&&t.dependencies!==null&&bc(t.dependencies))?(le||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,me,G),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,me,G)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=me),m.props=o,m.state=me,m.context=G,o=pe):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,jc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Do(n,t.child,null,h),n.child=Do(n,null,a,h)):Oi(t,n,a,h),n.memoizedState=m.state,t=n.child):t=as(t,n,h),t}function uy(t,n,a,o){return Ro(),n.flags|=256,Oi(t,n,a,o),n.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Jp()}}function hd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Lr),t}function cy(t,n,a){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ii.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(Jt){if(h?js(n):zs(),(t=Un)?(t=vv(t,Kr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ca,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},a=Hp(t),a.return=n,n.child=a,xi=n,Un=null)):t=null,t===null)throw Vs(n);return Xd(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,h?(zs(),h=n.mode,M=zc({mode:"hidden",children:M},h),o=So(o,h,a,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=cd(a),o.childLanes=hd(t,T,a),n.memoizedState=ud,yu(null,o)):(js(n),fd(n,M))}var G=t.memoizedState;if(G!==null&&(M=G.dehydrated,M!==null)){if(m)n.flags&256?(js(n),n.flags&=-257,n=dd(t,n,a)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),M=o.fallback,h=n.mode,o=zc({mode:"visible",children:o.children},h),M=So(M,h,a,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Do(n,t.child,null,a),o=n.child,o.memoizedState=cd(a),o.childLanes=hd(t,T,a),n.memoizedState=ud,n=yu(null,o));else if(js(n),Xd(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var le=T.dgst;T=le,o=Error(s(419)),o.stack="",o.digest=T,au({value:o,source:null,stack:null}),n=dd(t,n,a)}else if(ci||ll(t,n,a,!1),T=(a&t.childLanes)!==0,ci||T){if(T=Mn,T!==null&&(o=Sr(T,a),o!==0&&o!==G.retryLane))throw G.retryLane=o,ar(t,o),Er(T,t,o),od;Yd(M)||Kc(),n=dd(t,n,a)}else Yd(M)?(n.flags|=192,n.child=t.child,n=null):(t=G.treeContext,Un=$r(M.nextSibling),xi=n,Jt=!0,Ns=null,Kr=!1,t!==null&&Yp(n,t),n=fd(n,o.children),n.flags|=4096);return n}return h?(zs(),M=o.fallback,h=n.mode,G=t.child,le=G.sibling,o=Za(G,{mode:"hidden",children:o.children}),o.subtreeFlags=G.subtreeFlags&65011712,le!==null?M=Za(le,M):(M=So(M,h,a,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,yu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=cd(a):(h=M.cachePool,h!==null?(G=li._currentValue,h=h.parent!==G?{parent:G,pool:G}:h):h=Jp(),M={baseLanes:M.baseLanes|a,cachePool:h}),o.memoizedState=M,o.childLanes=hd(t,T,a),n.memoizedState=ud,yu(t.child,o)):(js(n),a=t.child,t=a.sibling,a=Za(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=a,n.memoizedState=null,a)}function fd(t,n){return n=zc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zc(t,n){return t=Ui(22,t,null,n),t.lanes=0,t}function dd(t,n,a){return Do(n,t.child,null,a),t=fd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function hy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),If(t.return,n,a)}function md(t,n,a,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function fy(t,n,a){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=ii.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Te(ii,T),Oi(t,n,o,a),o=Jt?ru:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hy(t,a,n);else if(t.tag===19)hy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),md(n,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ic(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(n,!0,a,null,m,o);break;case"together":md(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function as(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ll(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Za(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Za(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function pd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bc(t)))}function ME(t,n,a){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),ks(n,li,t.memoizedState.cache),Ro();break;case 27:case 5:Mt(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(js(n),n.flags|=128,null):(a&n.child.childLanes)!==0?cy(t,n,a):(js(n),t=as(t,n,a),t!==null?t.sibling:null);js(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ll(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return fy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Te(ii,ii.current),o)break;return null;case 22:return n.lanes=0,ry(t,n,a,n.pendingProps);case 24:ks(n,li,t.memoizedState.cache)}return as(t,n,a)}function dy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)ci=!0;else{if(!pd(t,a)&&(n.flags&128)===0)return ci=!1,ME(t,n,a);ci=(t.flags&131072)!==0}else ci=!1,Jt&&(n.flags&1048576)!==0&&Gp(n,ru,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Mo(n.elementType),n.type=t,typeof t=="function")bf(t)?(o=Vo(t,o),n.tag=1,n=ly(null,n,t,o,a)):(n.tag=0,n=ld(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===$e){n.tag=11,n=ty(null,n,t,o,a);break e}else if(h===F){n.tag=14,n=ny(null,n,t,o,a);break e}}throw n=W(t)||t,Error(s(306,n,""))}}return n;case 0:return ld(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Vo(o,n.pendingProps),ly(t,n,o,h,a);case 3:e:{if(ht(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,kf(t,n),fu(n,o,null,a);var T=n.memoizedState;if(o=T.cache,ks(n,li,o),o!==m.cache&&xf(n,[li],a,!0),hu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=uy(t,n,o,a);break e}else if(o!==h){h=Yr(Error(s(424)),n),au(h),n=uy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Un=$r(t.firstChild),xi=n,Jt=!0,Ns=null,Kr=!0,a=rg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ro(),o===h){n=as(t,n,a);break e}Oi(t,n,o,a)}n=n.child}return n;case 26:return jc(t,n),t===null?(a=Av(n.type,null,n.pendingProps,null))?n.memoizedState=a:Jt||(a=n.type,t=n.pendingProps,o=nh(Qe.current).createElement(a),o[gn]=n,o[Gn]=t,Di(o,a,t),Ne(o),n.stateNode=o):n.memoizedState=Av(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Mt(n),t===null&&Jt&&(o=n.stateNode=wv(n.type,n.pendingProps,Qe.current),xi=n,Kr=!0,h=Un,Qs(n.type)?(Qd=h,Un=$r(o.firstChild)):Un=h),Oi(t,n,n.pendingProps.children,a),jc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Jt&&((h=o=Un)&&(o=s1(o,n.type,n.pendingProps,Kr),o!==null?(n.stateNode=o,xi=n,Un=$r(o.firstChild),Kr=!1,h=!0):h=!1),h||Vs(n)),Mt(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Hd(h,m)?o=null:T!==null&&Hd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=Ff(t,n,wE,null,null,a),Du._currentValue=h),jc(t,n),Oi(t,n,o,a),n.child;case 6:return t===null&&Jt&&((t=a=Un)&&(a=o1(a,n.pendingProps,Kr),a!==null?(n.stateNode=a,xi=n,Un=null,t=!0):t=!1),t||Vs(n)),null;case 13:return cy(t,n,a);case 4:return ht(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Do(n,null,o,a):Oi(t,n,o,a),n.child;case 11:return ty(t,n,n.type,n.pendingProps,a);case 7:return Oi(t,n,n.pendingProps,a),n.child;case 8:return Oi(t,n,n.pendingProps.children,a),n.child;case 12:return Oi(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ks(n,n.type,o.value),Oi(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Io(n),h=Mi(h),o=o(h),n.flags|=1,Oi(t,n,o,a),n.child;case 14:return ny(t,n,n.type,n.pendingProps,a);case 15:return iy(t,n,n.type,n.pendingProps,a);case 19:return fy(t,n,a);case 31:return xE(t,n,a);case 22:return ry(t,n,a,n.pendingProps);case 24:return Io(n),o=Mi(li),t===null?(h=Df(),h===null&&(h=Mn,m=Mf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:o,cache:h},Vf(n),ks(n,li,h)):((t.lanes&a)!==0&&(kf(t,n),fu(n,null,null,a),hu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ks(n,li,o)):(o=m.cache,ks(n,li,o),o!==h.cache&&xf(n,[li],a,!0))),Oi(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ss(t){t.flags|=4}function gd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(zy())t.flags|=8192;else throw Oo=Ac,Nf}else t.flags&=-16777217}function my(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xv(n))if(zy())t.flags|=8192;else throw Oo=Ac,Nf}function Bc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?pt():536870912,t.lanes|=n,bl|=n)}function vu(t,n){if(!Jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function jn(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function OE(t,n,a){var o=n.pendingProps;switch(Af(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(n),null;case 1:return jn(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ns(li),vt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ol(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rf())),jn(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(ss(n),m!==null?(jn(n),my(n,m)):(jn(n),gd(n,h,null,o,a))):m?m!==t.memoizedState?(ss(n),jn(n),my(n,m)):(jn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ss(n),jn(n),gd(n,h,t,o,a)),null;case 27:if(an(n),a=Qe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return jn(n),null}t=_e.current,ol(n)?Xp(n):(t=wv(h,o,a),n.stateNode=t,ss(n))}return jn(n),null;case 5:if(an(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return jn(n),null}if(m=_e.current,ol(n))Xp(n);else{var T=nh(Qe.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[gn]=n,m[Gn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Di(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ss(n)}}return jn(n),gd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Qe.current,ol(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=xi,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[gn]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||cv(t.nodeValue,a)),t||Vs(n,!0)}else t=nh(t).createTextNode(o),t[gn]=n,n.stateNode=t}return jn(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=ol(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[gn]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;jn(n),t=!1}else a=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(kr(n),n):(kr(n),null);if((n.flags&128)!==0)throw Error(s(558))}return jn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ol(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[gn]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;jn(n),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kr(n),n):(kr(n),null)}return kr(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Bc(n,n.updateQueue),jn(n),null);case 4:return vt(),t===null&&Ud(n.stateNode.containerInfo),jn(n),null;case 10:return ns(n.type),jn(n),null;case 19:if(ne(ii),o=n.memoizedState,o===null)return jn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)vu(o,!1);else{if(Jn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Ic(t),m!==null){for(n.flags|=128,vu(o,!1),t=m.updateQueue,n.updateQueue=t,Bc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Fp(a,t),a=a.sibling;return Te(ii,ii.current&1|2),Jt&&es(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Ht()>Yc&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304)}else{if(!h)if(t=Ic(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Bc(n,t),vu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Jt)return jn(n),null}else 2*Ht()-o.renderingStartTime>Yc&&a!==536870912&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ht(),t.sibling=null,a=ii.current,Te(ii,h?a&1|2:a&1),Jt&&es(n,o.treeForkCount),t):(jn(n),null);case 22:case 23:return kr(n),jf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(jn(n),n.subtreeFlags&6&&(n.flags|=8192)):jn(n),a=n.updateQueue,a!==null&&Bc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&ne(xo),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ns(li),jn(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function DE(t,n){switch(Af(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ns(li),vt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return an(n),null;case 31:if(n.memoizedState!==null){if(kr(n),n.alternate===null)throw Error(s(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ne(ii),null;case 4:return vt(),null;case 10:return ns(n.type),null;case 22:case 23:return kr(n),jf(),t!==null&&ne(xo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ns(li),null;case 25:return null;default:return null}}function py(t,n){switch(Af(n),n.tag){case 3:ns(li),vt();break;case 26:case 27:case 5:an(n);break;case 4:vt();break;case 31:n.memoizedState!==null&&kr(n);break;case 13:kr(n);break;case 19:ne(ii);break;case 10:ns(n.type);break;case 22:case 23:kr(n),jf(),t!==null&&ne(xo);break;case 24:ns(li)}}function _u(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,T=a.inst;o=m(),T.destroy=o}a=a.next}while(a!==h)}}catch(M){En(n,n.return,M)}}function Bs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,h=n;var G=a,le=M;try{le()}catch(pe){En(h,G,pe)}}}o=o.next}while(o!==m)}}catch(pe){En(n,n.return,pe)}}function gy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{sg(n,a)}catch(o){En(t,t.return,o)}}}function yy(t,n,a){a.props=Vo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){En(t,n,o)}}function bu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){En(t,n,h)}}function xa(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){En(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){En(t,n,h)}else a.current=null}function vy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){En(t,t.return,h)}}function yd(t,n,a){try{var o=t.stateNode;e1(o,t.type,a,n),o[Gn]=n}catch(h){En(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qs(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ur));else if(o!==4&&(o===27&&Qs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(_d(t,n,a),t=t.sibling;t!==null;)_d(t,n,a),t=t.sibling}function Fc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Qs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Fc(t,n,a),t=t.sibling;t!==null;)Fc(t,n,a),t=t.sibling}function by(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Di(n,o,a),n[gn]=t,n[Gn]=a}catch(m){En(t,t.return,m)}}var os=!1,hi=!1,bd=!1,wy=typeof WeakSet=="function"?WeakSet:Set,Ti=null;function NE(t,n){if(t=t.containerInfo,Bd=uh,t=J(t),Pe(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,M=-1,G=-1,le=0,pe=0,be=t,ce=null;t:for(;;){for(var me;be!==a||h!==0&&be.nodeType!==3||(M=T+h),be!==m||o!==0&&be.nodeType!==3||(G=T+o),be.nodeType===3&&(T+=be.nodeValue.length),(me=be.firstChild)!==null;)ce=be,be=me;for(;;){if(be===t)break t;if(ce===a&&++le===h&&(M=T),ce===m&&++pe===o&&(G=T),(me=be.nextSibling)!==null)break;be=ce,ce=be.parentNode}be=me}a=M===-1||G===-1?null:{start:M,end:G}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:t,selectionRange:a},uh=!1,Ti=n;Ti!==null;)if(n=Ti,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ti=t;else for(;Ti!==null;){switch(n=Ti,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var st=Vo(a.type,h);t=o.getSnapshotBeforeUpdate(st,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(yt){En(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ti=t;break}Ti=n.return}}function Ey(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:us(t,a),o&4&&_u(5,a);break;case 1:if(us(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){En(a,a.return,T)}else{var h=Vo(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){En(a,a.return,T)}}o&64&&gy(a),o&512&&bu(a,a.return);break;case 3:if(us(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{sg(t,n)}catch(T){En(a,a.return,T)}}break;case 27:n===null&&o&4&&by(a);case 26:case 5:us(t,a),n===null&&o&4&&vy(a),o&512&&bu(a,a.return);break;case 12:us(t,a);break;case 31:us(t,a),o&4&&Sy(t,a);break;case 13:us(t,a),o&4&&Ry(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=FE.bind(null,a),l1(t,a))));break;case 22:if(o=a.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||hi,h=os;var m=hi;os=o,(hi=n)&&!m?cs(t,a,(a.subtreeFlags&8772)!==0):us(t,a),os=h,hi=m}break;case 30:break;default:us(t,a)}}function Ty(t){var n=t.alternate;n!==null&&(t.alternate=null,Ty(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&gi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Hn=null,vr=!1;function ls(t,n,a){for(a=a.child;a!==null;)Ay(t,n,a),a=a.sibling}function Ay(t,n,a){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Ze,a)}catch{}switch(a.tag){case 26:hi||xa(a,n),ls(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:hi||xa(a,n);var o=Hn,h=vr;Qs(a.type)&&(Hn=a.stateNode,vr=!1),ls(t,n,a),xu(a.stateNode),Hn=o,vr=h;break;case 5:hi||xa(a,n);case 6:if(o=Hn,h=vr,Hn=null,ls(t,n,a),Hn=o,vr=h,Hn!==null)if(vr)try{(Hn.nodeType===9?Hn.body:Hn.nodeName==="HTML"?Hn.ownerDocument.body:Hn).removeChild(a.stateNode)}catch(m){En(a,n,m)}else try{Hn.removeChild(a.stateNode)}catch(m){En(a,n,m)}break;case 18:Hn!==null&&(vr?(t=Hn,gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Il(t)):gv(Hn,a.stateNode));break;case 4:o=Hn,h=vr,Hn=a.stateNode.containerInfo,vr=!0,ls(t,n,a),Hn=o,vr=h;break;case 0:case 11:case 14:case 15:Bs(2,a,n),hi||Bs(4,a,n),ls(t,n,a);break;case 1:hi||(xa(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&yy(a,n,o)),ls(t,n,a);break;case 21:ls(t,n,a);break;case 22:hi=(o=hi)||a.memoizedState!==null,ls(t,n,a),hi=o;break;default:ls(t,n,a)}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Il(t)}catch(a){En(n,n.return,a)}}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(a){En(n,n.return,a)}}function VE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wy),n;default:throw Error(s(435,t.tag))}}function Hc(t,n){var a=VE(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=HE.bind(null,t,o);o.then(h,h)}})}function _r(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(Qs(M.type)){Hn=M.stateNode,vr=!1;break e}break;case 5:Hn=M.stateNode,vr=!1;break e;case 3:case 4:Hn=M.stateNode.containerInfo,vr=!0;break e}M=M.return}if(Hn===null)throw Error(s(160));Ay(m,T,h),Hn=null,vr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,t),n=n.sibling}var ca=null;function Cy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_r(n,t),br(t),o&4&&(Bs(3,t,t.return),_u(3,t),Bs(5,t,t.return));break;case 1:_r(n,t),br(t),o&512&&(hi||a===null||xa(a,a.return)),o&64&&os&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ca;if(_r(n,t),br(t),o&512&&(hi||a===null||xa(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Wi]||m[gn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Di(m,o,a),m[gn]=t,Ne(m),o=m;break e;case"link":var T=Cv("link","href",h).get(o+(a.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(M,1);break t}}m=h.createElement(o),Di(m,o,a),h.head.appendChild(m);break;case"meta":if(T=Cv("meta","content",h).get(o+(a.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(M,1);break t}}m=h.createElement(o),Di(m,o,a),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[gn]=t,Ne(m),o=m}t.stateNode=o}else Iv(h,t.type,t.stateNode);else t.stateNode=Rv(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Iv(h,t.type,t.stateNode):Rv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:_r(n,t),br(t),o&512&&(hi||a===null||xa(a,a.return)),a!==null&&o&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_r(n,t),br(t),o&512&&(hi||a===null||xa(a,a.return)),t.flags&32){h=t.stateNode;try{oi(h,"")}catch(st){En(t,t.return,st)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(bd=!0);break;case 6:if(_r(n,t),br(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(st){En(t,t.return,st)}}break;case 3:if(ah=null,h=ca,ca=ih(n.containerInfo),_r(n,t),ca=h,br(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(st){En(t,t.return,st)}bd&&(bd=!1,Iy(t));break;case 4:o=ca,ca=ih(t.stateNode.containerInfo),_r(n,t),br(t),ca=o;break;case 12:_r(n,t),br(t);break;case 31:_r(n,t),br(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 13:_r(n,t),br(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gc=Ht()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 22:h=t.memoizedState!==null;var G=a!==null&&a.memoizedState!==null,le=os,pe=hi;if(os=le||h,hi=pe||G,_r(n,t),hi=pe,os=le,br(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||G||os||hi||ko(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){G=a=n;try{if(m=G.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=G.stateNode;var be=G.memoizedProps.style,ce=be!=null&&be.hasOwnProperty("display")?be.display:null;M.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(st){En(G,G.return,st)}}}else if(n.tag===6){if(a===null){G=n;try{G.stateNode.nodeValue=h?"":G.memoizedProps}catch(st){En(G,G.return,st)}}}else if(n.tag===18){if(a===null){G=n;try{var me=G.stateNode;h?yv(me,!0):yv(G.stateNode,!1)}catch(st){En(G,G.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Hc(t,a))));break;case 19:_r(n,t),br(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 30:break;case 21:break;default:_r(n,t),br(t)}}function br(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(_y(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=vd(t);Fc(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(oi(T,""),a.flags&=-33);var M=vd(t);Fc(t,M,T);break;case 3:case 4:var G=a.stateNode.containerInfo,le=vd(t);_d(t,le,G);break;default:throw Error(s(161))}}catch(pe){En(t,t.return,pe)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function us(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function ko(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),ko(n);break;case 1:xa(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&yy(n,n.return,a),ko(n);break;case 27:xu(n.stateNode);case 26:case 5:xa(n,n.return),ko(n);break;case 22:n.memoizedState===null&&ko(n);break;case 30:ko(n);break;default:ko(n)}t=t.sibling}}function cs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:cs(h,m,a),_u(4,m);break;case 1:if(cs(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(le){En(o,o.return,le)}if(o=m,h=o.updateQueue,h!==null){var M=o.stateNode;try{var G=h.shared.hiddenCallbacks;if(G!==null)for(h.shared.hiddenCallbacks=null,h=0;h<G.length;h++)ag(G[h],M)}catch(le){En(o,o.return,le)}}a&&T&64&&gy(m),bu(m,m.return);break;case 27:by(m);case 26:case 5:cs(h,m,a),a&&o===null&&T&4&&vy(m),bu(m,m.return);break;case 12:cs(h,m,a);break;case 31:cs(h,m,a),a&&T&4&&Sy(h,m);break;case 13:cs(h,m,a),a&&T&4&&Ry(h,m);break;case 22:m.memoizedState===null&&cs(h,m,a),bu(m,m.return);break;case 30:break;default:cs(h,m,a)}n=n.sibling}}function wd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&su(a))}function Ed(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t))}function ha(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(t,n,a,o),n=n.sibling}function xy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ha(t,n,a,o),h&2048&&_u(9,n);break;case 1:ha(t,n,a,o);break;case 3:ha(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t)));break;case 12:if(h&2048){ha(t,n,a,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(G){En(n,n.return,G)}}else ha(t,n,a,o);break;case 31:ha(t,n,a,o);break;case 13:ha(t,n,a,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?ha(t,n,a,o):wu(t,n):m._visibility&2?ha(t,n,a,o):(m._visibility|=2,yl(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&wd(T,n);break;case 24:ha(t,n,a,o),h&2048&&Ed(n.alternate,n);break;default:ha(t,n,a,o)}}function yl(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=a,G=o,le=T.flags;switch(T.tag){case 0:case 11:case 15:yl(m,T,M,G,h),_u(8,T);break;case 23:break;case 22:var pe=T.stateNode;T.memoizedState!==null?pe._visibility&2?yl(m,T,M,G,h):wu(m,T):(pe._visibility|=2,yl(m,T,M,G,h)),h&&le&2048&&wd(T.alternate,T);break;case 24:yl(m,T,M,G,h),h&&le&2048&&Ed(T.alternate,T);break;default:yl(m,T,M,G,h)}n=n.sibling}}function wu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:wu(a,o),h&2048&&wd(o.alternate,o);break;case 24:wu(a,o),h&2048&&Ed(o.alternate,o);break;default:wu(a,o)}n=n.sibling}}var Eu=8192;function vl(t,n,a){if(t.subtreeFlags&Eu)for(t=t.child;t!==null;)My(t,n,a),t=t.sibling}function My(t,n,a){switch(t.tag){case 26:vl(t,n,a),t.flags&Eu&&t.memoizedState!==null&&b1(a,ca,t.memoizedState,t.memoizedProps);break;case 5:vl(t,n,a);break;case 3:case 4:var o=ca;ca=ih(t.stateNode.containerInfo),vl(t,n,a),ca=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Eu,Eu=16777216,vl(t,n,a),Eu=o):vl(t,n,a));break;default:vl(t,n,a)}}function Oy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ti=o,Ny(o,t)}Oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:Tu(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:Tu(t);break;case 12:Tu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,qc(t)):Tu(t);break;default:Tu(t)}}function qc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ti=o,Ny(o,t)}Oy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),qc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,qc(n));break;default:qc(n)}t=t.sibling}}function Ny(t,n){for(;Ti!==null;){var a=Ti;switch(a.tag){case 0:case 11:case 15:Bs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:su(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ti=o;else e:for(a=t;Ti!==null;){o=Ti;var h=o.sibling,m=o.return;if(Ty(o),o===a){Ti=null;break e}if(h!==null){h.return=m,Ti=h;break e}Ti=m}}}var kE={getCacheForType:function(t){var n=Mi(li),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Mi(li).controller.signal}},PE=typeof WeakMap=="function"?WeakMap:Map,dn=0,Mn=null,Bt=null,Gt=0,wn=0,Pr=null,Fs=!1,_l=!1,Td=!1,hs=0,Jn=0,Hs=0,Po=0,Ad=0,Lr=0,bl=0,Au=null,wr=null,Sd=!1,Gc=0,Vy=0,Yc=1/0,Xc=null,qs=null,_i=0,Gs=null,wl=null,fs=0,Rd=0,Cd=null,ky=null,Su=0,Id=null;function Ur(){return(dn&2)!==0&&Gt!==0?Gt&-Gt:q.T!==null?Vd():ga()}function Py(){if(Lr===0)if((Gt&536870912)===0||Jt){var t=Qn;Qn<<=1,(Qn&3932160)===0&&(Qn=262144),Lr=t}else Lr=536870912;return t=Vr.current,t!==null&&(t.flags|=32),Lr}function Er(t,n,a){(t===Mn&&(wn===2||wn===9)||t.cancelPendingCommit!==null)&&(El(t,0),Ys(t,Gt,Lr,!1)),St(t,a),((dn&2)===0||t!==Mn)&&(t===Mn&&((dn&2)===0&&(Po|=a),Jn===4&&Ys(t,Gt,Lr,!1)),Ma(t))}function Ly(t,n,a){if((dn&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Kn(t,n),h=o?jE(t,n):Md(t,n,!0),m=o;do{if(h===0){_l&&!o&&Ys(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!LE(a)){h=Md(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;h=Au;var G=M.current.memoizedState.isDehydrated;if(G&&(El(M,T).flags|=256),T=Md(M,T,!1),T!==2){if(Td&&!G){M.errorRecoveryDisabledLanes|=m,Po|=m,h=4;break e}m=wr,wr=h,m!==null&&(wr===null?wr=m:wr.push.apply(wr,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){El(t,0),Ys(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,Lr,!Fs);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Gc+300-Ht(),10<h)){if(Ys(o,n,Lr,!Fs),kn(o,0,!0)!==0)break e;fs=n,o.timeoutHandle=mv(Uy.bind(null,o,a,wr,Xc,Sd,n,Lr,Po,bl,Fs,m,"Throttled",-0,0),h);break e}Uy(o,a,wr,Xc,Sd,n,Lr,Po,bl,Fs,m,null,-0,0)}}break}while(!0);Ma(t)}function Uy(t,n,a,o,h,m,T,M,G,le,pe,be,ce,me){if(t.timeoutHandle=-1,be=n.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ur},My(n,m,be);var st=(m&62914560)===m?Gc-Ht():(m&4194048)===m?Vy-Ht():0;if(st=w1(be,st),st!==null){fs=m,t.cancelPendingCommit=st(Yy.bind(null,t,n,m,a,o,h,T,M,G,pe,be,null,ce,me)),Ys(t,m,T,!le);return}}Yy(t,n,m,a,o,h,T,M,G)}function LE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!ue(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,a,o){n&=~Ad,n&=~Po,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-et(h),T=1<<m;o[m]=-1,h&=~T}a!==0&&Xi(t,a,n)}function Qc(){return(dn&6)===0?(Ru(0),!1):!0}function xd(){if(Bt!==null){if(wn===0)var t=Bt.return;else t=Bt,ts=Co=null,Gf(t),fl=null,lu=0,t=Bt;for(;t!==null;)py(t.alternate,t),t=t.return;Bt=null}}function El(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,i1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fs=0,xd(),Mn=t,Bt=a=Za(t.current,null),Gt=n,wn=0,Pr=null,Fs=!1,_l=Kn(t,n),Td=!1,bl=Lr=Ad=Po=Hs=Jn=0,wr=Au=null,Sd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-et(o),m=1<<h;n|=t[h],o&=~m}return hs=n,Sa(),a}function jy(t,n){Dt=null,q.H=gu,n===hl||n===Tc?(n=tg(),wn=3):n===Nf?(n=tg(),wn=4):wn=n===od?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pr=n,Bt===null&&(Jn=1,Lc(t,Yr(n,t.current)))}function zy(){var t=Vr.current;return t===null?!0:(Gt&4194048)===Gt?Wr===null:(Gt&62914560)===Gt||(Gt&536870912)!==0?t===Wr:!1}function By(){var t=q.H;return q.H=gu,t===null?gu:t}function Fy(){var t=q.A;return q.A=kE,t}function Kc(){Jn=4,Fs||(Gt&4194048)!==Gt&&Vr.current!==null||(_l=!0),(Hs&134217727)===0&&(Po&134217727)===0||Mn===null||Ys(Mn,Gt,Lr,!1)}function Md(t,n,a){var o=dn;dn|=2;var h=By(),m=Fy();(Mn!==t||Gt!==n)&&(Xc=null,El(t,n)),n=!1;var T=Jn;e:do try{if(wn!==0&&Bt!==null){var M=Bt,G=Pr;switch(wn){case 8:xd(),T=6;break e;case 3:case 2:case 9:case 6:Vr.current===null&&(n=!0);var le=wn;if(wn=0,Pr=null,Tl(t,M,G,le),a&&_l){T=0;break e}break;default:le=wn,wn=0,Pr=null,Tl(t,M,G,le)}}UE(),T=Jn;break}catch(pe){jy(t,pe)}while(!0);return n&&t.shellSuspendCounter++,ts=Co=null,dn=o,q.H=h,q.A=m,Bt===null&&(Mn=null,Gt=0,Sa()),T}function UE(){for(;Bt!==null;)Hy(Bt)}function jE(t,n){var a=dn;dn|=2;var o=By(),h=Fy();Mn!==t||Gt!==n?(Xc=null,Yc=Ht()+500,El(t,n)):_l=Kn(t,n);e:do try{if(wn!==0&&Bt!==null){n=Bt;var m=Pr;t:switch(wn){case 1:wn=0,Pr=null,Tl(t,n,m,1);break;case 2:case 9:if(Zp(m)){wn=0,Pr=null,qy(n);break}n=function(){wn!==2&&wn!==9||Mn!==t||(wn=7),Ma(t)},m.then(n,n);break e;case 3:wn=7;break e;case 4:wn=5;break e;case 7:Zp(m)?(wn=0,Pr=null,qy(n)):(wn=0,Pr=null,Tl(t,n,m,7));break;case 5:var T=null;switch(Bt.tag){case 26:T=Bt.memoizedState;case 5:case 27:var M=Bt;if(T?xv(T):M.stateNode.complete){wn=0,Pr=null;var G=M.sibling;if(G!==null)Bt=G;else{var le=M.return;le!==null?(Bt=le,Wc(le)):Bt=null}break t}}wn=0,Pr=null,Tl(t,n,m,5);break;case 6:wn=0,Pr=null,Tl(t,n,m,6);break;case 8:xd(),Jn=6;break e;default:throw Error(s(462))}}zE();break}catch(pe){jy(t,pe)}while(!0);return ts=Co=null,q.H=o,q.A=h,dn=a,Bt!==null?0:(Mn=null,Gt=0,Sa(),Jn)}function zE(){for(;Bt!==null&&!pi();)Hy(Bt)}function Hy(t){var n=dy(t.alternate,t,hs);t.memoizedProps=t.pendingProps,n===null?Wc(t):Bt=n}function qy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=oy(a,n,n.pendingProps,n.type,void 0,Gt);break;case 11:n=oy(a,n,n.pendingProps,n.type.render,n.ref,Gt);break;case 5:Gf(n);default:py(a,n),n=Bt=Fp(n,hs),n=dy(a,n,hs)}t.memoizedProps=t.pendingProps,n===null?Wc(t):Bt=n}function Tl(t,n,a,o){ts=Co=null,Gf(n),fl=null,lu=0;var h=n.return;try{if(IE(t,h,n,a,Gt)){Jn=1,Lc(t,Yr(a,t.current)),Bt=null;return}}catch(m){if(h!==null)throw Bt=h,m;Jn=1,Lc(t,Yr(a,t.current)),Bt=null;return}n.flags&32768?(Jt||o===1?t=!0:_l||(Gt&536870912)!==0?t=!1:(Fs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Vr.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gy(n,t)):Wc(n)}function Wc(t){var n=t;do{if((n.flags&32768)!==0){Gy(n,Fs);return}t=n.return;var a=OE(n.alternate,n,hs);if(a!==null){Bt=a;return}if(n=n.sibling,n!==null){Bt=n;return}Bt=n=t}while(n!==null);Jn===0&&(Jn=5)}function Gy(t,n){do{var a=DE(t.alternate,t);if(a!==null){a.flags&=32767,Bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Bt=t;return}Bt=t=a}while(t!==null);Jn=6,Bt=null}function Yy(t,n,a,o,h,m,T,M,G){t.cancelPendingCommit=null;do $c();while(_i!==0);if((dn&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=rl,Yi(t,a,m,T,M,G),t===Mn&&(Bt=Mn=null,Gt=0),wl=n,Gs=t,fs=a,Rd=m,Cd=h,ky=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qE(v,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=Z.p,Z.p=2,T=dn,dn|=4;try{NE(t,n,a)}finally{dn=T,Z.p=h,q.T=o}}_i=1,Xy(),Qy(),Ky()}}function Xy(){if(_i===1){_i=0;var t=Gs,n=wl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=Z.p;Z.p=2;var h=dn;dn|=4;try{Cy(n,t);var m=Fd,T=J(t.containerInfo),M=m.focusedElem,G=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&at(M.ownerDocument.documentElement,M)){if(G!==null&&Pe(M)){var le=G.start,pe=G.end;if(pe===void 0&&(pe=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(pe,M.value.length);else{var be=M.ownerDocument||document,ce=be&&be.defaultView||window;if(ce.getSelection){var me=ce.getSelection(),st=M.textContent.length,yt=Math.min(G.start,st),Sn=G.end===void 0?yt:Math.min(G.end,st);!me.extend&&yt>Sn&&(T=Sn,Sn=yt,yt=T);var ee=Ke(M,yt),X=Ke(M,Sn);if(ee&&X&&(me.rangeCount!==1||me.anchorNode!==ee.node||me.anchorOffset!==ee.offset||me.focusNode!==X.node||me.focusOffset!==X.offset)){var ae=be.createRange();ae.setStart(ee.node,ee.offset),me.removeAllRanges(),yt>Sn?(me.addRange(ae),me.extend(X.node,X.offset)):(ae.setEnd(X.node,X.offset),me.addRange(ae))}}}}for(be=[],me=M;me=me.parentNode;)me.nodeType===1&&be.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<be.length;M++){var ve=be[M];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}uh=!!Bd,Fd=Bd=null}finally{dn=h,Z.p=o,q.T=a}}t.current=n,_i=2}}function Qy(){if(_i===2){_i=0;var t=Gs,n=wl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=Z.p;Z.p=2;var h=dn;dn|=4;try{Ey(t,n.alternate,n)}finally{dn=h,Z.p=o,q.T=a}}_i=3}}function Ky(){if(_i===4||_i===3){_i=0,qn();var t=Gs,n=wl,a=fs,o=ky;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?_i=5:(_i=0,wl=Gs=null,Wy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qs=null),Ge(a),n=n.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Ze,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=Z.p,Z.p=2,q.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{q.T=n,Z.p=h}}(fs&3)!==0&&$c(),Ma(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Id?Su++:(Su=0,Id=t):Su=0,Ru(0)}}function Wy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,su(n)))}function $c(){return Xy(),Qy(),Ky(),$y()}function $y(){if(_i!==5)return!1;var t=Gs,n=Rd;Rd=0;var a=Ge(fs),o=q.T,h=Z.p;try{Z.p=32>a?32:a,q.T=null,a=Cd,Cd=null;var m=Gs,T=fs;if(_i=0,wl=Gs=null,fs=0,(dn&6)!==0)throw Error(s(331));var M=dn;if(dn|=4,Dy(m.current),xy(m,m.current,T,a),dn=M,Ru(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Ze,m)}catch{}return!0}finally{Z.p=h,q.T=o,Wy(t,n)}}function Jy(t,n,a){n=Yr(a,n),n=sd(t.stateNode,n,2),t=Us(t,n,2),t!==null&&(St(t,2),Ma(t))}function En(t,n,a){if(t.tag===3)Jy(t,t,a);else for(;n!==null;){if(n.tag===3){Jy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){t=Yr(a,t),a=Zg(2),o=Us(n,a,2),o!==null&&(ey(a,o,n,t),St(o,2),Ma(o));break}}n=n.return}}function Od(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new PE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Td=!0,h.add(a),t=BE.bind(null,t,n,a),n.then(t,t))}function BE(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Mn===t&&(Gt&a)===a&&(Jn===4||Jn===3&&(Gt&62914560)===Gt&&300>Ht()-Gc?(dn&2)===0&&El(t,0):Ad|=a,bl===Gt&&(bl=0)),Ma(t)}function Zy(t,n){n===0&&(n=pt()),t=ar(t,n),t!==null&&(St(t,n),Ma(t))}function FE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Zy(t,a)}function HE(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Zy(t,a)}function qE(t,n){return mn(t,n)}var Jc=null,Al=null,Dd=!1,Zc=!1,Nd=!1,Xs=0;function Ma(t){t!==Al&&t.next===null&&(Al===null?Jc=Al=t:Al=Al.next=t),Zc=!0,Dd||(Dd=!0,YE())}function Ru(t,n){if(!Nd&&Zc){Nd=!0;do for(var a=!1,o=Jc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-et(42|t)+1)-1,m&=h&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,iv(o,m))}else m=Gt,m=kn(o,o===Mn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Kn(o,m)||(a=!0,iv(o,m));o=o.next}while(a);Nd=!1}}function GE(){ev()}function ev(){Zc=Dd=!1;var t=0;Xs!==0&&n1()&&(t=Xs);for(var n=Ht(),a=null,o=Jc;o!==null;){var h=o.next,m=tv(o,n);m===0?(o.next=null,a===null?Jc=h:a.next=h,h===null&&(Al=a)):(a=o,(t!==0||(m&3)!==0)&&(Zc=!0)),o=h}_i!==0&&_i!==5||Ru(t),Xs!==0&&(Xs=0)}function tv(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-et(m),M=1<<T,G=h[T];G===-1?((M&a)===0||(M&o)!==0)&&(h[T]=Gi(M,n)):G<=n&&(t.expiredLanes|=M),m&=~M}if(n=Mn,a=Gt,a=kn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(wn===2||wn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&pn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&pn(o),Ge(a)){case 2:case 8:a=g;break;case 32:a=v;break;case 268435456:a=Q;break;default:a=v}return o=nv.bind(null,t),a=mn(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&pn(o),t.callbackPriority=2,t.callbackNode=null,2}function nv(t,n){if(_i!==0&&_i!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($c()&&t.callbackNode!==a)return null;var o=Gt;return o=kn(t,t===Mn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ly(t,o,n),tv(t,Ht()),t.callbackNode!=null&&t.callbackNode===a?nv.bind(null,t):null)}function iv(t,n){if($c())return null;Ly(t,n,!0)}function YE(){r1(function(){(dn&6)!==0?mn(R,GE):ev()})}function Vd(){if(Xs===0){var t=ul;t===0&&(t=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),Xs=t}return Xs}function rv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function av(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function XE(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var m=rv((h[Gn]||null).action),T=o.submitter;T&&(n=(n=T[Gn]||null)?rv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new qr("action","action",null,o,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xs!==0){var G=T?av(h,T):new FormData(h);ed(a,{pending:!0,data:G,method:h.method,action:m},null,G)}}else typeof m=="function"&&(M.preventDefault(),G=T?av(h,T):new FormData(h),ed(a,{pending:!0,data:G,method:h.method,action:m},m,G))},currentTarget:h}]})}}for(var kd=0;kd<rr.length;kd++){var Pd=rr[kd],QE=Pd.toLowerCase(),KE=Pd[0].toUpperCase()+Pd.slice(1);_n(QE,"on"+KE)}_n(xe,"onAnimationEnd"),_n(Fe,"onAnimationIteration"),_n(Pt,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(qt,"onTransitionRun"),_n(xt,"onTransitionStart"),_n(zt,"onTransitionCancel"),_n(Zt,"onTransitionEnd"),je("onMouseEnter",["mouseout","mouseover"]),je("onMouseLeave",["mouseout","mouseover"]),je("onPointerEnter",["pointerout","pointerover"]),je("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function sv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],G=M.instance,le=M.currentTarget;if(M=M.listener,G!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(pe){Ii(pe)}h.currentTarget=null,m=G}else for(T=0;T<o.length;T++){if(M=o[T],G=M.instance,le=M.currentTarget,M=M.listener,G!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(pe){Ii(pe)}h.currentTarget=null,m=G}}}}function Ft(t,n){var a=n[si];a===void 0&&(a=n[si]=new Set);var o=t+"__bubble";a.has(o)||(ov(n,t,2,!1),a.add(o))}function Ld(t,n,a){var o=0;n&&(o|=4),ov(a,t,o,n)}var eh="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[eh]){t[eh]=!0,ft.forEach(function(a){a!=="selectionchange"&&(WE.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[eh]||(n[eh]=!0,Ld("selectionchange",!1,n))}}function ov(t,n,a,o){switch(Pv(n)){case 2:var h=A1;break;case 8:h=S1;break;default:h=Zd}a=h.bind(null,n,a,t),h=void 0,!Fr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function jd(t,n,a,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===h)break;if(T===4)for(T=o.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;M!==null;){if(T=re(M),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){o=m=T;continue e}M=M.parentNode}}o=o.return}dr(function(){var le=m,pe=cr(a),be=[];e:{var ce=rn.get(t);if(ce!==void 0){var me=qr,st=t;switch(t){case"keypress":if(sa(a)===0)break e;case"keydown":case"keyup":me=Eo;break;case"focusin":st="focus",me=Ta;break;case"focusout":st="blur",me=Ta;break;case"beforeblur":case"afterblur":me=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=$o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=y;break;case xe:case Fe:case Pt:me=Jo;break;case Zt:me=N;break;case"scroll":case"scrollend":me=wo;break;case"wheel":me=fe;break;case"copy":case"cut":case"paste":me=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=la;break;case"toggle":case"beforetoggle":me=At}var yt=(n&4)!==0,Sn=!yt&&(t==="scroll"||t==="scrollend"),ee=yt?ce!==null?ce+"Capture":null:ce;yt=[];for(var X=le,ae;X!==null;){var ve=X;if(ae=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ae===null||ee===null||(ve=Ri(X,ee),ve!=null&&yt.push(Iu(X,ve,ae))),Sn)break;X=X.return}0<yt.length&&(ce=new me(ce,st,null,a,pe),be.push({event:ce,listeners:yt}))}}if((n&7)===0){e:{if(ce=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",ce&&a!==Rs&&(st=a.relatedTarget||a.fromElement)&&(re(st)||st[Ki]))break e;if((me||ce)&&(ce=pe.window===pe?pe:(ce=pe.ownerDocument)?ce.defaultView||ce.parentWindow:window,me?(st=a.relatedTarget||a.toElement,me=le,st=st?re(st):null,st!==null&&(Sn=c(st),yt=st.tag,st!==Sn||yt!==5&&yt!==27&&yt!==6)&&(st=null)):(me=null,st=le),me!==st)){if(yt=Cs,ve="onMouseLeave",ee="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(yt=la,ve="onPointerLeave",ee="onPointerEnter",X="pointer"),Sn=me==null?ce:Ee(me),ae=st==null?ce:Ee(st),ce=new yt(ve,X+"leave",me,a,pe),ce.target=Sn,ce.relatedTarget=ae,ve=null,re(pe)===le&&(yt=new yt(ee,X+"enter",st,a,pe),yt.target=ae,yt.relatedTarget=Sn,ve=yt),Sn=ve,me&&st)t:{for(yt=$E,ee=me,X=st,ae=0,ve=ee;ve;ve=yt(ve))ae++;ve=0;for(var dt=X;dt;dt=yt(dt))ve++;for(;0<ae-ve;)ee=yt(ee),ae--;for(;0<ve-ae;)X=yt(X),ve--;for(;ae--;){if(ee===X||X!==null&&ee===X.alternate){yt=ee;break t}ee=yt(ee),X=yt(X)}yt=null}else yt=null;me!==null&&lv(be,ce,me,yt,!1),st!==null&&Sn!==null&&lv(be,Sn,st,yt,!0)}}e:{if(ce=le?Ee(le):window,me=ce.nodeName&&ce.nodeName.toLowerCase(),me==="select"||me==="input"&&ce.type==="file")var ln=tu;else if(eu(ce))if(nu)ln=K;else{ln=O;var lt=S}else me=ce.nodeName,!me||me.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&Ha(le.elementType)&&(ln=tu):ln=j;if(ln&&(ln=ln(t,le))){Ln(be,ln,a,pe);break e}lt&&lt(t,ce,le),t==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&Ss(ce,"number",ce.value)}switch(lt=le?Ee(le):window,t){case"focusin":(eu(lt)||lt.contentEditable==="true")&&(ze=lt,on=le,We=null);break;case"focusout":We=on=ze=null;break;case"mousedown":kt=!0;break;case"contextmenu":case"mouseup":case"dragend":kt=!1,vn(be,a,pe);break;case"selectionchange":if(tt)break;case"keydown":case"keyup":vn(be,a,pe)}var Nt;if(nn)e:{switch(t){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else Ka?Gr(t,a)&&(Yt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Yt="onCompositionStart");Yt&&(pr&&a.locale!=="ko"&&(Ka||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Ka&&(Nt=wa()):(Hr=pe,Pi="value"in Hr?Hr.value:Hr.textContent,Ka=!0)),lt=th(le,Yt),0<lt.length&&(Yt=new Or(Yt,t,null,a,pe),be.push({event:Yt,listeners:lt}),Nt?Yt.data=Nt:(Nt=Qa(a),Nt!==null&&(Yt.data=Nt)))),(Nt=Li?vf(t,a):gc(t,a))&&(Yt=th(le,"onBeforeInput"),0<Yt.length&&(lt=new Or("onBeforeInput","beforeinput",null,a,pe),be.push({event:lt,listeners:Yt}),lt.data=Nt)),XE(be,t,le,a,pe)}sv(be,n)})}function Iu(t,n,a){return{instance:t,listener:n,currentTarget:a}}function th(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ri(t,a),h!=null&&o.unshift(Iu(t,h,m)),h=Ri(t,n),h!=null&&o.push(Iu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function $E(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lv(t,n,a,o,h){for(var m=n._reactName,T=[];a!==null&&a!==o;){var M=a,G=M.alternate,le=M.stateNode;if(M=M.tag,G!==null&&G===o)break;M!==5&&M!==26&&M!==27||le===null||(G=le,h?(le=Ri(a,m),le!=null&&T.unshift(Iu(a,le,G))):h||(le=Ri(a,m),le!=null&&T.push(Iu(a,le,G)))),a=a.return}T.length!==0&&t.push({event:n,listeners:T})}var JE=/\r\n?/g,ZE=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(JE,`
`).replace(ZE,"")}function cv(t,n){return n=uv(n),uv(t)===n}function An(t,n,a,o,h,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||oi(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&oi(t,""+o);break;case"className":xn(t,"class",o);break;case"tabIndex":xn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(t,a,o);break;case"style":Rr(t,o,m);break;case"data":if(n!=="object"){xn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ba(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&An(t,n,"name",h.name,h,null),An(t,n,"formEncType",h.formEncType,h,null),An(t,n,"formMethod",h.formMethod,h,null),An(t,n,"formTarget",h.formTarget,h,null)):(An(t,n,"encType",h.encType,h,null),An(t,n,"method",h.method,h,null),An(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ba(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ur);break;case"onScroll":o!=null&&Ft("scroll",t);break;case"onScrollEnd":o!=null&&Ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ft("beforetoggle",t),Ft("toggle",t),Ji(t,"popover",o);break;case"xlinkActuate":sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":sn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":sn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":sn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":sn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ji(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_a.get(a)||a,Ji(t,a,o))}}function zd(t,n,a,o,h,m){switch(a){case"style":Rr(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?oi(t,o):(typeof o=="number"||typeof o=="bigint")&&oi(t,""+o);break;case"onScroll":o!=null&&Ft("scroll",t);break;case"onScrollEnd":o!=null&&Ft("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ve.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=t[Gn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ji(t,a,o)}}}function Di(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",t),Ft("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:An(t,n,m,T,a,null)}}h&&An(t,n,"srcSet",a.srcSet,a,null),o&&An(t,n,"src",a.src,a,null);return;case"input":Ft("invalid",t);var M=m=T=h=null,G=null,le=null;for(o in a)if(a.hasOwnProperty(o)){var pe=a[o];if(pe!=null)switch(o){case"name":h=pe;break;case"type":T=pe;break;case"checked":G=pe;break;case"defaultChecked":le=pe;break;case"value":m=pe;break;case"defaultValue":M=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,n));break;default:An(t,n,o,pe,a,null)}}bo(t,m,M,G,le,T,h,!1);return;case"select":Ft("invalid",t),o=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(M=a[h],M!=null))switch(h){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:An(t,n,h,M,a,null)}n=m,a=T,t.multiple=!!o,n!=null?yn(t,!!o,n,!1):a!=null&&yn(t,!!o,a,!0);return;case"textarea":Ft("invalid",t),m=h=o=null;for(T in a)if(a.hasOwnProperty(T)&&(M=a[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":h=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:An(t,n,T,M,a,null)}Br(t,o,h,m);return;case"option":for(G in a)if(a.hasOwnProperty(G)&&(o=a[G],o!=null))switch(G){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:An(t,n,G,o,a,null)}return;case"dialog":Ft("beforetoggle",t),Ft("toggle",t),Ft("cancel",t),Ft("close",t);break;case"iframe":case"object":Ft("load",t);break;case"video":case"audio":for(o=0;o<Cu.length;o++)Ft(Cu[o],t);break;case"image":Ft("error",t),Ft("load",t);break;case"details":Ft("toggle",t);break;case"embed":case"source":case"link":Ft("error",t),Ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in a)if(a.hasOwnProperty(le)&&(o=a[le],o!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:An(t,n,le,o,a,null)}return;default:if(Ha(n)){for(pe in a)a.hasOwnProperty(pe)&&(o=a[pe],o!==void 0&&zd(t,n,pe,o,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!=null&&An(t,n,M,o,a,null))}function e1(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,M=null,G=null,le=null,pe=null;for(me in a){var be=a[me];if(a.hasOwnProperty(me)&&be!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":G=be;default:o.hasOwnProperty(me)||An(t,n,me,null,o,be)}}for(var ce in o){var me=o[ce];if(be=a[ce],o.hasOwnProperty(ce)&&(me!=null||be!=null))switch(ce){case"type":m=me;break;case"name":h=me;break;case"checked":le=me;break;case"defaultChecked":pe=me;break;case"value":T=me;break;case"defaultValue":M=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(s(137,n));break;default:me!==be&&An(t,n,ce,me,o,be)}}Ba(t,T,M,G,le,pe,m,h);return;case"select":me=T=M=ce=null;for(m in a)if(G=a[m],a.hasOwnProperty(m)&&G!=null)switch(m){case"value":break;case"multiple":me=G;default:o.hasOwnProperty(m)||An(t,n,m,null,o,G)}for(h in o)if(m=o[h],G=a[h],o.hasOwnProperty(h)&&(m!=null||G!=null))switch(h){case"value":ce=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==G&&An(t,n,h,m,o,G)}n=M,a=T,o=me,ce!=null?yn(t,!!a,ce,!1):!!o!=!!a&&(n!=null?yn(t,!!a,n,!0):yn(t,!!a,a?[]:"",!1));return;case"textarea":me=ce=null;for(M in a)if(h=a[M],a.hasOwnProperty(M)&&h!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:An(t,n,M,null,o,h)}for(T in o)if(h=o[T],m=a[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":ce=h;break;case"defaultValue":me=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&An(t,n,T,h,o,m)}va(t,ce,me);return;case"option":for(var st in a)if(ce=a[st],a.hasOwnProperty(st)&&ce!=null&&!o.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:An(t,n,st,null,o,ce)}for(G in o)if(ce=o[G],me=a[G],o.hasOwnProperty(G)&&ce!==me&&(ce!=null||me!=null))switch(G){case"selected":t.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:An(t,n,G,ce,o,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)ce=a[yt],a.hasOwnProperty(yt)&&ce!=null&&!o.hasOwnProperty(yt)&&An(t,n,yt,null,o,ce);for(le in o)if(ce=o[le],me=a[le],o.hasOwnProperty(le)&&ce!==me&&(ce!=null||me!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,n));break;default:An(t,n,le,ce,o,me)}return;default:if(Ha(n)){for(var Sn in a)ce=a[Sn],a.hasOwnProperty(Sn)&&ce!==void 0&&!o.hasOwnProperty(Sn)&&zd(t,n,Sn,void 0,o,ce);for(pe in o)ce=o[pe],me=a[pe],!o.hasOwnProperty(pe)||ce===me||ce===void 0&&me===void 0||zd(t,n,pe,ce,o,me);return}}for(var ee in a)ce=a[ee],a.hasOwnProperty(ee)&&ce!=null&&!o.hasOwnProperty(ee)&&An(t,n,ee,null,o,ce);for(be in o)ce=o[be],me=a[be],!o.hasOwnProperty(be)||ce===me||ce==null&&me==null||An(t,n,be,ce,o,me)}function hv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,T=h.initiatorType,M=h.duration;if(m&&M&&hv(T)){for(T=0,M=h.responseEnd,o+=1;o<a.length;o++){var G=a[o],le=G.startTime;if(le>M)break;var pe=G.transferSize,be=G.initiatorType;pe&&hv(be)&&(G=G.responseEnd,T+=pe*(G<M?1:(M-le)/(G-le)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,Fd=null;function nh(t){return t.nodeType===9?t:t.ownerDocument}function fv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qd=null;function n1(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var mv=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,r1=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(t){return pv.resolve(null).then(t).catch(a1)}:mv;function a1(t){setTimeout(function(){throw t})}function Qs(t){return t==="head"}function gv(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Il(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")xu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xu(a);for(var m=a.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[Wi]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&xu(t.ownerDocument.body);a=h}while(a);Il(n)}function yv(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Gd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),gi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function s1(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Wi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=$r(t.nextSibling),t===null)break}return null}function o1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$r(t.nextSibling),t===null))return null;return t}function vv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$r(t.nextSibling),t===null))return null;return t}function Yd(t){return t.data==="$?"||t.data==="$~"}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function l1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function $r(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Qd=null;function _v(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return $r(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function bv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function wv(t,n,a){switch(n=nh(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);gi(t)}var Jr=new Map,Ev=new Set;function ih(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=Z.d;Z.d={f:u1,r:c1,D:h1,C:f1,L:d1,m:m1,X:g1,S:p1,M:y1};function u1(){var t=ds.f(),n=Qc();return t||n}function c1(t){var n=ye(t);n!==null&&n.tag===5&&n.type==="form"?jg(n):ds.r(t)}var Sl=typeof document>"u"?null:document;function Tv(t,n,a){var o=Sl;if(o&&typeof n=="string"&&n){var h=Pn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ev.has(h)||(Ev.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Di(n,"link",t),Ne(n),o.head.appendChild(n)))}}function h1(t){ds.D(t),Tv("dns-prefetch",t,null)}function f1(t,n){ds.C(t,n),Tv("preconnect",t,n)}function d1(t,n,a){ds.L(t,n,a);var o=Sl;if(o&&t&&n){var h='link[rel="preload"][as="'+Pn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Pn(a.imageSizes)+'"]')):h+='[href="'+Pn(t)+'"]';var m=h;switch(n){case"style":m=Rl(t);break;case"script":m=Cl(t)}Jr.has(m)||(t=L({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Jr.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Mu(m))||n==="script"&&o.querySelector(Ou(m))||(n=o.createElement("link"),Di(n,"link",t),Ne(n),o.head.appendChild(n)))}}function m1(t,n){ds.m(t,n);var a=Sl;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Pn(o)+'"][href="'+Pn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Cl(t)}if(!Jr.has(m)&&(t=L({rel:"modulepreload",href:t},n),Jr.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ou(m)))return}o=a.createElement("link"),Di(o,"link",t),Ne(o),a.head.appendChild(o)}}}function p1(t,n,a){ds.S(t,n,a);var o=Sl;if(o&&t){var h=Me(o).hoistableStyles,m=Rl(t);n=n||"default";var T=h.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Mu(m)))M.loading=5;else{t=L({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Jr.get(m))&&Kd(t,a);var G=T=o.createElement("link");Ne(G),Di(G,"link",t),G._p=new Promise(function(le,pe){G.onload=le,G.onerror=pe}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,rh(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},h.set(m,T)}}}function g1(t,n){ds.X(t,n);var a=Sl;if(a&&t){var o=Me(a).hoistableScripts,h=Cl(t),m=o.get(h);m||(m=a.querySelector(Ou(h)),m||(t=L({src:t,async:!0},n),(n=Jr.get(h))&&Wd(t,n),m=a.createElement("script"),Ne(m),Di(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function y1(t,n){ds.M(t,n);var a=Sl;if(a&&t){var o=Me(a).hoistableScripts,h=Cl(t),m=o.get(h);m||(m=a.querySelector(Ou(h)),m||(t=L({src:t,async:!0,type:"module"},n),(n=Jr.get(h))&&Wd(t,n),m=a.createElement("script"),Ne(m),Di(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Av(t,n,a,o){var h=(h=Qe.current)?ih(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Rl(a.href),a=Me(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Rl(a.href);var m=Me(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Mu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Jr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jr.set(t,a),m||v1(h,t,a,T.state))),n&&o===null)throw Error(s(528,""));return T}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cl(a),a=Me(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Rl(t){return'href="'+Pn(t)+'"'}function Mu(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return L({},t,{"data-precedence":t.precedence,precedence:null})}function v1(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Di(n,"link",a),Ne(n),t.head.appendChild(n))}function Cl(t){return'[src="'+Pn(t)+'"]'}function Ou(t){return"script[async]"+t}function Rv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Pn(a.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=L({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ne(o),Di(o,"style",h),rh(o,a.precedence,t),n.instance=o;case"stylesheet":h=Rl(a.href);var m=t.querySelector(Mu(h));if(m)return n.state.loading|=4,n.instance=m,Ne(m),m;o=Sv(a),(h=Jr.get(h))&&Kd(o,h),m=(t.ownerDocument||t).createElement("link"),Ne(m);var T=m;return T._p=new Promise(function(M,G){T.onload=M,T.onerror=G}),Di(m,"link",o),n.state.loading|=4,rh(m,a.precedence,t),n.instance=m;case"script":return m=Cl(a.src),(h=t.querySelector(Ou(m)))?(n.instance=h,Ne(h),h):(o=a,(h=Jr.get(m))&&(o=L({},a),Wd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ne(h),Di(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,rh(o,a.precedence,t));return n.instance}function rh(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ah=null;function Cv(t,n,a){if(ah===null){var o=new Map,h=ah=new Map;h.set(a,o)}else h=ah,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[Wi]||m[gn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function Iv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function _1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function b1(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Rl(o.href),m=n.querySelector(Mu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=sh.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=m,Ne(m);return}m=n.ownerDocument||n,o=Sv(o),(h=Jr.get(h))&&Kd(o,h),m=m.createElement("link"),Ne(m);var T=m;T._p=new Promise(function(M,G){T.onload=M,T.onerror=G}),Di(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=sh.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var $d=0;function w1(t,n){return t.stylesheets&&t.count===0&&lh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&$d===0&&($d=62500*t1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>$d?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oh=null;function lh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oh=new Map,n.forEach(E1,t),oh=null,sh.call(t))}function E1(t,n){if(!(n.state.loading&4)){var a=oh.get(t);if(a)var o=a.get(null);else{a=new Map,oh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),o=T)}o&&a.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||o,m===o&&a.set(null,h),a.set(T,h),this.count++,o=sh.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Du={$$typeof:Be,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function T1(t,n,a,o,h,m,T,M,G){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Mv(t,n,a,o,h,m,T,M,G,le,pe,be){return t=new T1(t,n,a,T,G,le,pe,be,M),n=1,m===!0&&(n|=24),m=Ui(3,null,null,n),t.current=m,m.stateNode=t,n=Mf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},Vf(m),t}function Ov(t){return t?(t=Nr,t):Nr}function Dv(t,n,a,o,h,m){h=Ov(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Us(t,o,n),a!==null&&(Er(a,t,n),cu(a,t,n))}function Nv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Jd(t,n){Nv(t,n),(t=t.alternate)&&Nv(t,n)}function Vv(t){if(t.tag===13||t.tag===31){var n=ar(t,67108864);n!==null&&Er(n,t,67108864),Jd(t,67108864)}}function kv(t){if(t.tag===13||t.tag===31){var n=Ur();n=jr(n);var a=ar(t,n);a!==null&&Er(a,t,n),Jd(t,n)}}var uh=!0;function A1(t,n,a,o){var h=q.T;q.T=null;var m=Z.p;try{Z.p=2,Zd(t,n,a,o)}finally{Z.p=m,q.T=h}}function S1(t,n,a,o){var h=q.T;q.T=null;var m=Z.p;try{Z.p=8,Zd(t,n,a,o)}finally{Z.p=m,q.T=h}}function Zd(t,n,a,o){if(uh){var h=em(o);if(h===null)jd(t,n,o,ch,a),Lv(t,o);else if(C1(h,t,n,a,o))o.stopPropagation();else if(Lv(t,o),n&4&&-1<R1.indexOf(t)){for(;h!==null;){var m=ye(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Cn(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var G=1<<31-et(T);M.entanglements[1]|=G,T&=~G}Ma(m),(dn&6)===0&&(Yc=Ht()+500,Ru(0))}}break;case 31:case 13:M=ar(m,2),M!==null&&Er(M,m,2),Qc(),Jd(m,2)}if(m=em(o),m===null&&jd(t,n,o,ch,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else jd(t,n,o,null,a)}}function em(t){return t=cr(t),tm(t)}var ch=null;function tm(t){if(ch=null,t=re(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=b(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ch=t,null}function Pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rn()){case R:return 2;case g:return 8;case v:case D:return 32;case Q:return 268435456;default:return 32}default:return 32}}var nm=!1,Ks=null,Ws=null,$s=null,Nu=new Map,Vu=new Map,Js=[],R1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lv(t,n){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Nu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(n.pointerId)}}function ku(t,n,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=ye(n),n!==null&&Vv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function C1(t,n,a,o,h){switch(n){case"focusin":return Ks=ku(Ks,t,n,a,o,h),!0;case"dragenter":return Ws=ku(Ws,t,n,a,o,h),!0;case"mouseover":return $s=ku($s,t,n,a,o,h),!0;case"pointerover":var m=h.pointerId;return Nu.set(m,ku(Nu.get(m)||null,t,n,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Vu.set(m,ku(Vu.get(m)||null,t,n,a,o,h)),!0}return!1}function Uv(t){var n=re(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,ei(t.priority,function(){kv(a)});return}}else if(n===31){if(n=b(a),n!==null){t.blockedOn=n,ei(t.priority,function(){kv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hh(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Rs=o,a.target.dispatchEvent(o),Rs=null}else return n=ye(a),n!==null&&Vv(n),t.blockedOn=a,!1;n.shift()}return!0}function jv(t,n,a){hh(t)&&a.delete(n)}function I1(){nm=!1,Ks!==null&&hh(Ks)&&(Ks=null),Ws!==null&&hh(Ws)&&(Ws=null),$s!==null&&hh($s)&&($s=null),Nu.forEach(jv),Vu.forEach(jv)}function fh(t,n){t.blockedOn===n&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,I1)))}var dh=null;function zv(t){dh!==t&&(dh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dh===t&&(dh=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(tm(o||a)===null)continue;break}var m=ye(a);m!==null&&(t.splice(n,3),n-=3,ed(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Il(t){function n(G){return fh(G,t)}Ks!==null&&fh(Ks,t),Ws!==null&&fh(Ws,t),$s!==null&&fh($s,t),Nu.forEach(n),Vu.forEach(n);for(var a=0;a<Js.length;a++){var o=Js[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)Uv(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],T=h[Gn]||null;if(typeof m=="function")T||zv(a);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[Gn]||null)M=T.formAction;else if(tm(h)!==null)continue}else M=T.action;typeof M=="function"?a[o+1]=M:(a.splice(o,3),o-=3),zv(a)}}}function Bv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}mh.prototype.render=im.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Ur();Dv(a,o,t,n,null,null)},mh.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Dv(t.current,2,null,t,null,null),Qc(),n[Ki]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var n=ga();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Js.length&&n!==0&&n<Js[a].priority;a++);Js.splice(a,0,t),a===0&&Uv(t)}};var Fv=e.version;if(Fv!=="19.2.0")throw Error(s(527,Fv,"19.2.0"));Z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=E(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var x1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{Ze=ph.inject(x1),it=ph}catch{}}return Lu.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=Kg,m=Wg,T=$g;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Mv(t,1,!1,null,null,a,o,null,h,m,T,Bv),t[Ki]=n.current,Ud(t),new im(n)},Lu.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",m=Kg,T=Wg,M=$g,G=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(G=a.formState)),n=Mv(t,1,!0,n,a??null,o,h,G,m,T,M,Bv),n.context=Ov(null),a=n.current,o=Ur(),o=jr(o),h=Ls(o),h.callback=null,Us(a,h,o),a=o,n.current.lanes=a,St(n,a),Ma(n),t[Ki]=n.current,Ud(t),new mh(n)},Lu.version="19.2.0",Lu}var Jv;function j1(){if(Jv)return sm.exports;Jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=U1(),sm.exports}var z1=j1();const B1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Zv=r=>{const e=F1(r);return e.charAt(0).toUpperCase()+e.slice(1)},B0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),H1=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var q1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const G1=_t.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},w)=>_t.createElement("svg",{ref:w,...q1,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:B0("lucide",l),...!c&&!H1(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,x])=>_t.createElement(E,x)),...Array.isArray(c)?c:[c]]));const qi=(r,e)=>{const i=_t.forwardRef(({className:s,...l},c)=>_t.createElement(G1,{ref:c,iconNode:e,className:B0(`lucide-${B1(Zv(r))}`,`lucide-${r}`,s),...l}));return i.displayName=Zv(r),i};const Y1=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],X1=qi("arrow-down-a-z",Y1);const Q1=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],K1=qi("book-open",Q1);const W1=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],$1=qi("check-check",W1);const J1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Z1=qi("check",J1);const eT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tT=qi("chevron-right",eT);const nT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],e_=qi("crown",nT);const iT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],t_=qi("file-text",iT);const rT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],aT=qi("info",rT);const sT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],oT=qi("mail",sT);const lT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],uT=qi("play",lT);const cT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hT=qi("rotate-ccw",cT);const fT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],dT=qi("share-2",fT);const mT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],pT=qi("shuffle",mT);const gT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],n_=qi("star",gT);const yT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],i_=qi("trophy",yT);const vT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_T=qi("x",vT);var cm={},Eh={exports:{}},bT=Eh.exports,r_;function wT(){return r_||(r_=1,(function(r,e){(function(s,l){r.exports=l()})(bT,()=>(()=>{var i=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>x});var E=(()=>{var L=typeof document<"u"?document.currentScript?.src:void 0;return(function(H={}){var te,B=H,De,Ae,Le=new Promise((f,d)=>{De=f,Ae=d}),Ue=typeof window=="object",Be=typeof importScripts=="function";function $e(){function f(K){const $=S;_=d=0,S=new Map,$.forEach(ue=>{try{ue(K)}catch(oe){console.error(oe)}}),this.nb(),O&&O.Pb()}let d=0,_=0,S=new Map,O=null,j=null;this.requestAnimationFrame=function(K){d||=requestAnimationFrame(f.bind(this));const $=++_;return S.set($,K),$},this.cancelAnimationFrame=function(K){S.delete(K),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(K){j&&(document.body.remove(j),j=null),K||(j=document.createElement("div"),j.style.backgroundColor="black",j.style.position="fixed",j.style.right=0,j.style.top=0,j.style.color="white",j.style.padding="4px",j.innerHTML="RIVE FPS",K=function($){j.innerHTML="RIVE FPS "+$.toFixed(1)},document.body.appendChild(j)),O=new function(){let $=0,ue=0;this.Pb=function(){var oe=performance.now();ue?(++$,oe-=ue,1e3<oe&&(K(1e3*$/oe),$=ue=0)):(ue=oe,$=0)}}},this.Kb=function(){j&&(document.body.remove(j),j=null),O=null},this.nb=function(){}}function Xe(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const Je=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){Je&&Je();let f=B.decodeAudio;B.decodeAudio=function(O,j){O=f(O),j(O)};let d=B.decodeFont;B.decodeFont=function(O,j){O=d(O),j(O)};const _=B.FileAssetLoader;B.ptrToAsset=O=>{let j=B.ptrToFileAsset(O);return j.isImage?B.ptrToImageAsset(O):j.isFont?B.ptrToFontAsset(O):j.isAudio?B.ptrToAudioAsset(O):j},B.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:O}){this.__parent.__construct.call(this),this.Db=O},loadContents:function(O,j){return O=B.ptrToAsset(O),this.Db(O,j)}}),B.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(O){let j=B.ptrToAsset(O);return O=j.cdnUuid,O===""?!1:((function(K,$){var ue=new XMLHttpRequest;ue.responseType="arraybuffer",ue.onreadystatechange=function(){ue.readyState==4&&ue.status==200&&$(ue)},ue.open("GET",K,!0),ue.send(null)})(j.cdnBaseUrl+"/"+O,K=>{j.decode(new Uint8Array(K.response))}),!0)}}),B.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(O){this.jb.push(O)},loadContents:function(O,j){for(let K of this.jb)if(K.loadContents(O,j))return!0;return!1}});let S=B.computeAlignment;B.computeAlignment=function(O,j,K,$,ue=1){return S.call(this,O,j,K,$,ue)}};const F="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),P=new function(){function f(){if(!d){let on=function(We,kt,vn){if(kt=ze.createShader(kt),ze.shaderSource(kt,vn),ze.compileShader(kt),vn=ze.getShaderInfoLog(kt),0<(vn||"").length)throw vn;ze.attachShader(We,kt)};var tt=on,J=document.createElement("canvas"),Pe={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let ze;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(ze=J.getContext("webgl",Pe),_=1,!ze)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(ze=J.getContext("webgl2",Pe))_=2;else if(ze=J.getContext("webgl",Pe))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(ze=new Proxy(ze,{get(We,kt){if(We.isContextLost()){if(ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",kt),ue=!0),typeof We[kt]=="function")return function(){}}else return typeof We[kt]=="function"?function(...vn){return We[kt].apply(We,vn)}:We[kt]},set(We,kt,vn){if(We.isContextLost())ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+kt),ue=!0);else return We[kt]=vn,!0}}),S=Math.min(ze.getParameter(ze.MAX_RENDERBUFFER_SIZE),ze.getParameter(ze.MAX_TEXTURE_SIZE)),J=ze.createProgram(),on(J,ze.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),on(J,ze.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),ze.bindAttribLocation(J,0,"vertex"),ze.bindAttribLocation(J,1,"uv"),ze.linkProgram(J),Pe=ze.getProgramInfoLog(J),0<(Pe||"").trim().length)throw Pe;O=ze.getUniformLocation(J,"mat"),j=ze.getUniformLocation(J,"translate"),ze.useProgram(J),ze.bindBuffer(ze.ARRAY_BUFFER,ze.createBuffer()),ze.enableVertexAttribArray(0),ze.enableVertexAttribArray(1),ze.bindBuffer(ze.ELEMENT_ARRAY_BUFFER,ze.createBuffer()),ze.uniform1i(ze.getUniformLocation(J,"image"),0),ze.pixelStorei(ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=ze}return!0}let d=null,_=0,S=0,O=null,j=null,K=0,$=0,ue=!1;f(),this.ac=function(){return f(),S},this.Jb=function(J){d.deleteTexture&&d.deleteTexture(J)},this.Ib=function(J){if(!f())return null;const Pe=d.createTexture();return Pe?(d.bindTexture(d.TEXTURE_2D,Pe),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,J),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),Pe):null};const oe=new Xe(8),Oe=new Xe(8),Ke=new Xe(10),at=new Xe(10);this.Mb=function(J,Pe,tt,ze,on){if(f()){var We=oe.push(J),kt=Oe.push(Pe);if(d.canvas){(d.canvas.width!=We||d.canvas.height!=kt)&&(d.canvas.width=We,d.canvas.height=kt),d.viewport(0,kt-Pe,J,Pe),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),tt.sort((Ut,Dr)=>Dr.ub-Ut.ub),We=Ke.push(ze),K!=We&&(d.bufferData(d.ARRAY_BUFFER,8*We,d.DYNAMIC_DRAW),K=We),We=0;for(var vn of tt)d.bufferSubData(d.ARRAY_BUFFER,We,vn.Sa),We+=4*vn.Sa.length;console.assert(We==4*ze);for(var ni of tt)d.bufferSubData(d.ARRAY_BUFFER,We,ni.Ab),We+=4*ni.Ab.length;console.assert(We==8*ze),We=at.push(on),$!=We&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*We,d.DYNAMIC_DRAW),$=We),vn=0;for(var yr of tt)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,vn,yr.indices),vn+=2*yr.indices.length;console.assert(vn==2*on),yr=0,ni=!0,We=vn=0;for(const Ut of tt){Ut.image.Ia!=yr&&(d.bindTexture(d.TEXTURE_2D,Ut.image.Ha||null),yr=Ut.image.Ia),Ut.fc?(d.scissor(Ut.Ya,kt-Ut.Za-Ut.ib,Ut.tc,Ut.ib),ni=!0):ni&&(d.scissor(0,kt-Pe,J,Pe),ni=!1),tt=2/J;const Dr=-2/Pe;d.uniform4f(O,Ut.ga[0]*tt*Ut.za,Ut.ga[1]*Dr*Ut.Aa,Ut.ga[2]*tt*Ut.za,Ut.ga[3]*Dr*Ut.Aa),d.uniform2f(j,Ut.ga[4]*tt*Ut.za+tt*(Ut.Ya-Ut.bc*Ut.za)-1,Ut.ga[5]*Dr*Ut.Aa+Dr*(Ut.Za-Ut.cc*Ut.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,We),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,We+4*ze),d.drawElements(d.TRIANGLES,Ut.indices.length,d.UNSIGNED_SHORT,vn),We+=4*Ut.Sa.length,vn+=2*Ut.indices.length}console.assert(We==4*ze),console.assert(vn==2*on)}}},this.canvas=function(){return f()&&d.canvas}},V=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){function f(xe){switch(xe){case oe.srcOver:return"source-over";case oe.screen:return"screen";case oe.overlay:return"overlay";case oe.darken:return"darken";case oe.lighten:return"lighten";case oe.colorDodge:return"color-dodge";case oe.colorBurn:return"color-burn";case oe.hardLight:return"hard-light";case oe.softLight:return"soft-light";case oe.difference:return"difference";case oe.exclusion:return"exclusion";case oe.multiply:return"multiply";case oe.hue:return"hue";case oe.saturation:return"saturation";case oe.color:return"color";case oe.luminosity:return"luminosity"}}function d(xe){return"rgba("+((16711680&xe)>>>16)+","+((65280&xe)>>>8)+","+((255&xe)>>>0)+","+((4278190080&xe)>>>24)/255+")"}function _(){0<kt.length&&(P.Mb(We.drawWidth(),We.drawHeight(),kt,vn,ni),kt=[],ni=vn=0,We.reset(512,512));for(const xe of on){for(const Fe of xe.H)Fe();xe.H=[]}on.clear()}V&&V();var S=B.RenderPaintStyle;const O=B.RenderPath,j=B.RenderPaint,K=B.Renderer,$=B.StrokeCap,ue=B.StrokeJoin,oe=B.BlendMode,Oe=S.fill,Ke=S.stroke,at=B.FillRule.evenOdd;let J=1;var Pe=B.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:xe,va:Fe}={}){this.__parent.__construct.call(this),this.Ia=J,J=J+1&2147483647||1,this.ka=xe,this.va=Fe},__destruct:function(){this.Ha&&(P.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(xe){var Fe=this;Fe.va&&Fe.va(Fe);var Pt=new Image;Fe.Va=URL.createObjectURL(new Blob([xe],{type:"image/png"})),Pt.onload=function(){Fe.Cb=Pt,Fe.Ha=P.Ib(Pt),Fe.size(Pt.width,Pt.height),Fe.ka&&Fe.ka(Fe)},Pt.src=Fe.Va}}),tt=O.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(xe,Fe,Pt,qt,xt,zt,Zt){var rn=this.T,rr=rn.addPath;xe=xe.T;const _n=new DOMMatrix;_n.a=Fe,_n.b=Pt,_n.c=qt,_n.d=xt,_n.e=zt,_n.f=Zt,rr.call(rn,xe,_n)},fillRule:function(xe){this.Ua=xe},moveTo:function(xe,Fe){this.T.moveTo(xe,Fe)},lineTo:function(xe,Fe){this.T.lineTo(xe,Fe)},cubicTo:function(xe,Fe,Pt,qt,xt,zt){this.T.bezierCurveTo(xe,Fe,Pt,qt,xt,zt)},close:function(){this.T.closePath()}}),ze=j.extend("CanvasRenderPaint",{color:function(xe){this.Wa=d(xe)},thickness:function(xe){this.Fb=xe},join:function(xe){switch(xe){case ue.miter:this.Ga="miter";break;case ue.round:this.Ga="round";break;case ue.bevel:this.Ga="bevel"}},cap:function(xe){switch(xe){case $.butt:this.Fa="butt";break;case $.round:this.Fa="round";break;case $.square:this.Fa="square"}},style:function(xe){this.Eb=xe},blendMode:function(xe){this.Bb=f(xe)},clearGradient:function(){this.ia=null},linearGradient:function(xe,Fe,Pt,qt){this.ia={wb:xe,xb:Fe,bb:Pt,cb:qt,Pa:[]}},radialGradient:function(xe,Fe,Pt,qt){this.ia={wb:xe,xb:Fe,bb:Pt,cb:qt,Pa:[],$b:!0}},addStop:function(xe,Fe){this.ia.Pa.push({color:xe,stop:Fe})},completeGradient:function(){},draw:function(xe,Fe,Pt){let qt=this.Eb;var xt=this.Wa,zt=this.ia;if(xe.globalCompositeOperation=this.Bb,zt!=null){xt=zt.wb;var Zt=zt.xb;const rr=zt.bb;var rn=zt.cb;const _n=zt.Pa;zt.$b?(zt=rr-xt,rn-=Zt,xt=xe.createRadialGradient(xt,Zt,0,xt,Zt,Math.sqrt(zt*zt+rn*rn))):xt=xe.createLinearGradient(xt,Zt,rr,rn);for(let Ii=0,fn=_n.length;Ii<fn;Ii++)Zt=_n[Ii],xt.addColorStop(Zt.stop,d(Zt.color));this.Wa=xt,this.ia=null}switch(qt){case Ke:xe.strokeStyle=xt,xe.lineWidth=this.Fb,xe.lineCap=this.Fa,xe.lineJoin=this.Ga,xe.stroke(Fe);break;case Oe:xe.fillStyle=xt,xe.fill(Fe,Pt)}}});const on=new Set;let We=null,kt=[],vn=0,ni=0;var yr=B.CanvasRenderer=K.extend("Renderer",{__construct:function(xe){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=xe.getContext("2d"),this.Ta=xe,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const xe=this.S.length-6;if(6>xe)throw"restore() called without matching save().";this.S.splice(xe),this.H.push(this.B.restore.bind(this.B))},transform:function(xe,Fe,Pt,qt,xt,zt){const Zt=this.S,rn=Zt.length-6;Zt.splice(rn,6,Zt[rn]*xe+Zt[rn+2]*Fe,Zt[rn+1]*xe+Zt[rn+3]*Fe,Zt[rn]*Pt+Zt[rn+2]*qt,Zt[rn+1]*Pt+Zt[rn+3]*qt,Zt[rn]*xt+Zt[rn+2]*zt+Zt[rn+4],Zt[rn+1]*xt+Zt[rn+3]*zt+Zt[rn+5]),this.H.push(this.B.transform.bind(this.B,xe,Fe,Pt,qt,xt,zt))},rotate:function(xe){const Fe=Math.sin(xe);xe=Math.cos(xe),this.transform(xe,Fe,-Fe,xe,0,0)},_drawPath:function(xe,Fe){this.H.push(Fe.draw.bind(Fe,this.B,xe.T,xe.Ua===at?"evenodd":"nonzero"))},_drawRiveImage:function(xe,Fe,Pt,qt){var xt=xe.Cb;if(xt){var zt=this.B,Zt=f(Pt);this.H.push(function(){zt.globalCompositeOperation=Zt,zt.globalAlpha=qt,zt.drawImage(xt,0,0),zt.globalAlpha=1})}},_getMatrix:function(xe){const Fe=this.S,Pt=Fe.length-6;for(let qt=0;6>qt;++qt)xe[qt]=Fe[Pt+qt]},_drawImageMesh:function(xe,Fe,Pt,qt,xt,zt,Zt,rn,rr,_n,Ii){Fe=this.B.canvas.width;var fn=this.B.canvas.height;const Ja=_n-rn,rl=Ii-rr;rn=Math.max(rn,0),rr=Math.max(rr,0),_n=Math.min(_n,Fe),Ii=Math.min(Ii,fn);const Sa=_n-rn,Ra=Ii-rr;if(console.assert(Sa<=Math.min(Ja,Fe)),console.assert(Ra<=Math.min(rl,fn)),!(0>=Sa||0>=Ra)){_n=Sa<Ja||Ra<rl,Fe=Ii=1;var ua=Math.ceil(Sa*Ii),ar=Math.ceil(Ra*Fe);fn=P.ac(),ua>fn&&(Ii*=fn/ua,ua=fn),ar>fn&&(Fe*=fn/ar,ar=fn),We||(We=new B.DynamicRectanizer(fn),We.reset(512,512)),fn=We.addRect(ua,ar),0>fn&&(_(),on.add(this),fn=We.addRect(ua,ar),console.assert(0<=fn));var iu=fn&65535,Ao=fn>>16;kt.push({ga:this.S.slice(this.S.length-6),image:xe,Ya:iu,Za:Ao,bc:rn,cc:rr,tc:ua,ib:ar,za:Ii,Aa:Fe,Sa:new Float32Array(xt),Ab:new Float32Array(zt),indices:new Uint16Array(Zt),fc:_n,ub:xe.Ia<<1|(_n?1:0)}),vn+=xt.length,ni+=Zt.length;var Nr=this.B,_f=f(Pt);this.H.push(function(){Nr.save(),Nr.resetTransform(),Nr.globalCompositeOperation=_f,Nr.globalAlpha=qt;const Ui=P.canvas();Ui&&Nr.drawImage(Ui,iu,Ao,ua,ar,rn,rr,Sa,Ra),Nr.restore()})}},_clipPath:function(xe){this.H.push(this.B.clip.bind(this.B,xe.T,xe.Ua===at?"evenodd":"nonzero"))},clear:function(){on.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(xe,Fe){this.transform(1,0,0,1,xe,Fe)}});B.makeRenderer=function(xe){const Fe=new yr(xe),Pt=Fe.B;return new Proxy(Fe,{get(qt,xt){if(typeof qt[xt]=="function")return function(...zt){return qt[xt].apply(qt,zt)};if(typeof Pt[xt]=="function"){if(-1<F.indexOf(xt))throw Error("RiveException: Method call to '"+xt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...zt){Fe.H.push(Pt[xt].bind(Pt,...zt))}}return qt[xt]},set(qt,xt,zt){if(xt in Pt)return Fe.H.push(()=>{Pt[xt]=zt}),!0}})},B.decodeImage=function(xe,Fe){new Pe({ka:Fe}).decode(xe)},B.renderFactory={makeRenderPaint:function(){return new ze},makeRenderPath:function(){return new tt},makeRenderImage:function(){let xe=Dr;return new Pe({va:()=>{xe.total++},ka:()=>{if(xe.loaded++,xe.loaded===xe.total){const Fe=xe.ready;Fe&&(Fe(),xe.ready=null)}}})}};let Ut=B.load,Dr=null;B.load=function(xe,Fe,Pt=!0){const qt=new B.FallbackFileAssetLoader;return Fe!==void 0&&qt.addLoader(Fe),Pt&&(Fe=new B.CDNFileAssetLoader,qt.addLoader(Fe)),new Promise(function(xt){let zt=null;Dr={total:0,loaded:0,ready:function(){xt(zt)}},zt=Ut(xe,qt),Dr.total==0&&xt(zt)})};let $a=B.RendererWrapper.prototype.align;B.RendererWrapper.prototype.align=function(xe,Fe,Pt,qt,xt=1){$a.call(this,xe,Fe,Pt,qt,xt)},S=new $e,B.requestAnimationFrame=S.requestAnimationFrame.bind(S),B.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),B.enableFPSCounter=S.Nb.bind(S),B.disableFPSCounter=S.Kb,S.nb=_,B.resolveAnimationFrame=_,B.cleanup=function(){We&&We.delete()}};var z=Object.assign({},B),C="./this.program",U="",I,W;(Ue||Be)&&(Be?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),L&&(U=L),U.startsWith("blob:")?U="":U=U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1),Be&&(W=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),I=(f,d,_)=>{if(Zn(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(O=>O.ok?O.arrayBuffer():Promise.reject(Error(O.status+" : "+O.url))).then(d,_)});var se=B.print||console.log.bind(console),q=B.printErr||console.error.bind(console);Object.assign(B,z),z=null,B.thisProgram&&(C=B.thisProgram);var Z;B.wasmBinary&&(Z=B.wasmBinary);var ge,he=!1,we,k,ne,Te,_e,Ce,Qe,ut;function ht(){var f=ge.buffer;B.HEAP8=we=new Int8Array(f),B.HEAP16=ne=new Int16Array(f),B.HEAPU8=k=new Uint8Array(f),B.HEAPU16=Te=new Uint16Array(f),B.HEAP32=_e=new Int32Array(f),B.HEAPU32=Ce=new Uint32Array(f),B.HEAPF32=Qe=new Float32Array(f),B.HEAPF64=ut=new Float64Array(f)}var vt=[],Mt=[],an=[];function He(){var f=B.preRun.shift();vt.unshift(f)}var Tt=0,Wt=null;function Vt(f){throw B.onAbort?.(f),f="Aborted("+f+")",q(f),he=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Ae(f),f}var On=f=>f.startsWith("data:application/octet-stream;base64,"),Zn=f=>f.startsWith("file://"),jt;function ot(f){if(f==jt&&Z)return new Uint8Array(Z);if(W)return W(f);throw"both async and sync fetching of the wasm failed"}function mn(f){return Z?Promise.resolve().then(()=>ot(f)):new Promise((d,_)=>{I(f,S=>d(new Uint8Array(S)),()=>{try{d(ot(f))}catch(S){_(S)}})})}function pn(f,d,_){return mn(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{q(`failed to asynchronously prepare wasm: ${S}`),Vt(S)})}function pi(f,d){var _=jt;return Z||typeof WebAssembly.instantiateStreaming!="function"||On(_)||Zn(_)||typeof fetch!="function"?pn(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(O){return q(`wasm streaming compile failed: ${O}`),q("falling back to ArrayBuffer instantiation"),pn(_,f,d)}))}var qn,Ht,Rn={464256:(f,d,_,S,O)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=O;let j=window.h;j.D=[],j.rc=function(K){for(var $=0;$<j.D.length;++$)if(j.D[$]==null)return j.D[$]=K,$;return j.D.push(K),j.D.length-1},j.zb=function(K){for(j.D[K]=null;0<j.D.length&&j.D[j.D.length-1]==null;)j.D.pop()},j.Oc=function(K){for(var $=0;$<j.D.length;++$)if(j.D[$]==K)return j.zb($)},j.pa=function(K){return j.D[K]},j.Ra=["touchend","click"],j.unlock=function(){for(var K=0;K<j.D.length;++K){var $=j.D[K];$!=null&&$.K!=null&&$.state===j.fa.vb&&$.K.resume().then(()=>{To($.ob)},ue=>{console.error("Failed to resume audiocontext",ue)})}j.Ra.map(function(ue){document.removeEventListener(ue,j.unlock,!0)})},j.Ra.map(function(K){document.addEventListener(K,j.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,O,j)=>{if(typeof window.h>"u")return-1;var K={},$={};return f==window.h.I.wa&&_!=0&&($.sampleRate=_),K.K=new(window.AudioContext||window.webkitAudioContext)($),K.K.suspend(),K.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),K.Y=K.K.createScriptProcessor(S,_,d),K.Y.onaudioprocess=function(ue){if((K.qa==null||K.qa.length==0)&&(K.qa=new Float32Array(Qe.buffer,O,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var oe=0;oe<d;oe+=1)for(var Oe=ue.inputBuffer.getChannelData(oe),Ke=K.qa,at=0;at<S;at+=1)Ke[at*d+oe]=Oe[at];tu(j,S,O)}if(f==window.h.I.wa||f==window.h.I.Ja)for(nu(j,S,O),oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)for(Oe=ue.outputBuffer.getChannelData(oe),Ke=K.qa,at=0;at<S;at+=1)Oe[at]=Ke[at*d+oe];else for(oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)ue.outputBuffer.getChannelData(oe).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ue){K.Ba=K.K.createMediaStreamSource(ue),K.Ba.connect(K.Y),K.Y.connect(K.K.destination)}).catch(function(ue){console.log("Failed to get user media: "+ue)}),f==window.h.I.wa&&K.Y.connect(K.K.destination),K.ob=j,window.h.rc(K)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},R=f=>{for(;0<f.length;)f.shift()(B)};function g(){var f=_e[+or>>2];return or+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var O=f[S];O==="."?f.splice(S,1):O===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},D=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},Q=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},de=f=>{if(f==="/")return"/";f=D(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Ie=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);Vt("initRandomDevice")},Ze=f=>(Ze=Ie())(f),it=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(O=>!!O),!_).join("/"),(_?"/":"")+d||"."},qe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,et=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&qe)return qe.decode(f.subarray(d,_));for(S="";d<_;){var O=f[d++];if(O&128){var j=f[d++]&63;if((O&224)==192)S+=String.fromCharCode((O&31)<<6|j);else{var K=f[d++]&63;O=(O&240)==224?(O&15)<<12|j<<6|K:(O&7)<<18|j<<12|K<<6|f[d++]&63,65536>O?S+=String.fromCharCode(O):(O-=65536,S+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else S+=String.fromCharCode(O)}return S},$t=[],Dn=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},cn=(f,d,_,S)=>{if(!(0<S))return 0;var O=_;S=_+S-1;for(var j=0;j<f.length;++j){var K=f.charCodeAt(j);if(55296<=K&&57343>=K){var $=f.charCodeAt(++j);K=65536+((K&1023)<<10)|$&1023}if(127>=K){if(_>=S)break;d[_++]=K}else{if(2047>=K){if(_+1>=S)break;d[_++]=192|K>>6}else{if(65535>=K){if(_+2>=S)break;d[_++]=224|K>>12}else{if(_+3>=S)break;d[_++]=240|K>>18,d[_++]=128|K>>12&63}d[_++]=128|K>>6&63}d[_++]=128|K&63}}return d[_]=0,_-O};function Bn(f,d){var _=Array(Dn(f)+1);return f=cn(f,_,0,_.length),d&&(_.length=f),_}var Qn=[];function Lt(f,d){Qn[f]={input:[],G:[],V:d},Me(f,Cn)}var Cn={open(f){var d=Qn[f.node.xa];if(!d)throw new Ge(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new Ge(60);for(var O=0,j=0;j<S;j++){try{var K=f.s.V.hb(f.s)}catch{throw new Ge(29)}if(K===void 0&&O===0)throw new Ge(6);if(K==null)break;O++,d[_+j]=K}return O&&(f.node.timestamp=Date.now()),O},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new Ge(60);try{for(var O=0;O<S;O++)f.s.V.Ma(f.s,d[_+O])}catch{throw new Ge(29)}return S&&(f.node.timestamp=Date.now()),O}},kn={hb(){e:{if(!$t.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}$t=Bn(f,!0)}f=$t.shift()}return f},Ma(f,d){d===null||d===10?(se(et(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(se(et(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Kn={Ma(f,d){d===null||d===10?(q(et(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(q(et(f.G,0)),f.G=[])}};function Gi(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var pt={N:null,U(){return pt.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new Ge(63);return pt.N||(pt.N={dir:{node:{X:pt.j.X,P:pt.j.P,ja:pt.j.ja,ta:pt.j.ta,sb:pt.j.sb,yb:pt.j.yb,tb:pt.j.tb,rb:pt.j.rb,Ca:pt.j.Ca},stream:{aa:pt.m.aa}},file:{node:{X:pt.j.X,P:pt.j.P},stream:{aa:pt.m.aa,read:pt.m.read,write:pt.m.write,Xa:pt.m.Xa,kb:pt.m.kb,mb:pt.m.mb}},link:{node:{X:pt.j.X,P:pt.j.P,la:pt.j.la},stream:{}},$a:{node:{X:pt.j.X,P:pt.j.P},stream:Ee}}),_=za(f,d,_,S),(_.mode&61440)===16384?(_.j=pt.N.dir.node,_.m=pt.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=pt.N.file.node,_.m=pt.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=pt.N.link.node,_.m=pt.N.link.stream):(_.mode&61440)===8192&&(_.j=pt.N.$a.node,_.m=pt.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw ga[44]},ta(f,d,_,S){return pt.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=si(d,_)}catch{}if(S)for(var O in S.l)throw new Ge(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=si(f,d),S;for(S in _.l)throw new Ge(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=pt.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new Ge(28);return f.link}},m:{read(f,d,_,S,O){var j=f.node.l;if(O>=f.node.v)return 0;if(f=Math.min(f.node.v-O,S),8<f&&j.subarray)d.set(j.subarray(O,O+f),_);else for(S=0;S<f;S++)d[_+S]=j[O+S];return f},write(f,d,_,S,O,j){if(d.buffer===we.buffer&&(j=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(j)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&O===0)return f.l=d.slice(_,_+S),f.v=S;if(O+S<=f.v)return f.l.set(d.subarray(_,_+S),O),S}if(Gi(f,O+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),O);else for(j=0;j<S;j++)f.l[O+j]=d[_+j];return f.v=Math.max(f.v,O+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Ge(28);return d},Xa(f,d,_){Gi(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,O){if((f.node.mode&61440)!==32768)throw new Ge(43);if(f=f.node.l,O&2||f.buffer!==we.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,Vt(),d=void 0,!d)throw new Ge(48);we.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return pt.m.write(f,d,0,S,_,!1),0}}},Fn=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},St=null,Yi={},Xi=[],pa=1,Sr=null,jr=!0,Ge=class{constructor(f){this.name="ErrnoError",this.$=f}},ga={},ei=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},Qi=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=pa++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function gn(f,d={}){if(f=it(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Ge(32);f=f.split("/").filter(K=>!!K);for(var _=St,S="/",O=0;O<f.length;O++){var j=O===f.length-1;if(j&&d.parent)break;if(_=si(_,f[O]),S=D(S+"/"+f[O]),_.ua&&(!j||j&&d.gb)&&(_=_.ua.root),!j||d.fb){for(j=0;(_.mode&61440)===40960;)if(_=wt(S),S=it(Q(S),_),_=gn(S,{Oa:d.Oa+1}).node,40<j++)throw new Ge(32)}}return{path:S,node:_}}function Gn(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function Ki(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%Sr.length}function si(f,d){var _=(f.mode&61440)===16384?(_=ia(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new Ge(_);for(_=Sr[Ki(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function za(f,d,_,S){return f=new Qi(f,d,_,S),d=Ki(f.parent.id,f.name),f.ec=Sr[d],Sr[d]=f}function ya(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function ia(f,d){if(jr)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function Wi(f,d){try{return si(f,d),20}catch{}return ia(f,"wx")}function gi(f){if(f=Xi[f],!f)throw new Ge(8);return f}function re(f,d=-1){if(f=Object.assign(new ei,f),d==-1)e:{for(d=0;4096>=d;d++)if(!Xi[d])break e;throw new Ge(33)}return f.W=d,Xi[d]=f}function ye(f,d=-1){return f=re(f,d),f.m?.Ec?.(f),f}var Ee={open(f){f.m=Yi[f.node.xa].m,f.m.open?.(f)},aa(){throw new Ge(70)}};function Me(f,d){Yi[f]={m:d}}function Ne(f,d){var _=d==="/";if(_&&St)throw new Ge(10);if(!_&&d){var S=gn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Ge(10);if((S.mode&61440)!==16384)throw new Ge(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?St=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function ft(f,d,_){var S=gn(f,{parent:!0}).node;if(f=de(f),!f||f==="."||f==="..")throw new Ge(28);var O=Wi(S,f);if(O)throw new Ge(O);if(!S.j.ta)throw new Ge(63);return S.j.ta(S,f,d,_)}function Ve(f){return ft(f,16895,0)}function Ye(f,d,_){typeof _>"u"&&(_=d,d=438),ft(f,d|8192,_)}function je(f,d){if(!it(f))throw new Ge(44);var _=gn(d,{parent:!0}).node;if(!_)throw new Ge(44);d=de(d);var S=Wi(_,d);if(S)throw new Ge(S);if(!_.j.Ca)throw new Ge(63);_.j.Ca(_,d,f)}function wt(f){if(f=gn(f).node,!f)throw new Ge(44);if(!f.j.la)throw new Ge(28);return it(Gn(f.parent),f.j.la(f))}function hn(f,d,_){if(f==="")throw new Ge(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var O=f;else{f=D(f);try{O=gn(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(O){if(d&128)throw new Ge(20)}else O=ft(f,_,0),S=!0;if(!O)throw new Ge(44);if((O.mode&61440)===8192&&(d&=-513),d&65536&&(O.mode&61440)!==16384)throw new Ge(54);if(!S&&(_=O?(O.mode&61440)===40960?32:(O.mode&61440)===16384&&(ya(d)!=="r"||d&512)?31:ia(O,ya(d)):44))throw new Ge(_);if(d&512&&!S){if(_=O,_=typeof _=="string"?gn(_,{fb:!0}).node:_,!_.j.P)throw new Ge(63);if((_.mode&61440)===16384)throw new Ge(31);if((_.mode&61440)!==32768)throw new Ge(28);if(S=ia(_,"w"))throw new Ge(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,O=re({node:O,path:Gn(O),flags:d,seekable:!0,position:0,m:O.m,sc:[],error:!1}),O.m.open&&O.m.open(O),!B.logReadFiles||d&1||(Wn||={},f in Wn||(Wn[f]=1)),O}function In(f,d,_){if(f.W===null)throw new Ge(8);if(!f.seekable||!f.m.aa)throw new Ge(70);if(_!=0&&_!=1&&_!=2)throw new Ge(28);f.position=f.m.aa(f,d,_),f.sc=[]}var $i;function Ji(f,d,_){f=D("/dev/"+f);var S=Fn(!!d,!!_);xn||=64;var O=xn++<<8|0;Me(O,{open(j){j.seekable=!1},close(){_?.buffer?.length&&_(10)},read(j,K,$,ue){for(var oe=0,Oe=0;Oe<ue;Oe++){try{var Ke=d()}catch{throw new Ge(29)}if(Ke===void 0&&oe===0)throw new Ge(6);if(Ke==null)break;oe++,K[$+Oe]=Ke}return oe&&(j.node.timestamp=Date.now()),oe},write(j,K,$,ue){for(var oe=0;oe<ue;oe++)try{_(K[$+oe])}catch{throw new Ge(29)}return ue&&(j.node.timestamp=Date.now()),oe}}),Ye(f,S,O)}var xn,sn={},Wn,or=void 0,zr=(f,d)=>Object.defineProperty(d,"name",{value:f}),tn=[],Si=[],ct,Ei=f=>{if(!f)throw new ct("Cannot use deleted val. handle = "+f);return Si[f]},Pn=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=tn.pop()||Si.length;return Si[d]=f,Si[d+1]=1,d}},Ba=f=>{var d=Error,_=zr(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},bo,Ss,yn=f=>{for(var d="";k[f];)d+=Ss[k[f++]];return d},va=[],Br=()=>{for(;va.length;){var f=va.pop();f.g.ea=!1,f.delete()}},oi,lr={},Fa=(f,d)=>{if(d===void 0)throw new ct("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},Rr={},Ha=f=>{f=yc(f);var d=yn(f);return ir(f),d},_a=(f,d)=>{var _=Rr[f];if(_===void 0)throw f=`${d} has unknown type ${Ha(f)}`,new ct(f);return _},Cr=()=>{},ba=!1,ur=(f,d,_)=>d===_?f:_.C===void 0?null:(f=ur(f,d,_.C),f===null?null:_.Lb(f)),Rs={},cr=(f,d)=>(d=Fa(f,d),lr[d]),hr,Zi=(f,d)=>{if(!d.u||!d.o)throw new hr("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new hr("Both smartPtrType and smartPtr must be specified");return d.count={value:1},fr(Object.create(f,{g:{value:d,writable:!0}}))},fr=f=>typeof FinalizationRegistry>"u"?(fr=d=>d,f):(ba=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),fr=d=>{var _=d.g;return _.F&&ba.register(d,{g:_},d),d},Cr=d=>{ba.unregister(d)},fr(f)),ra={},dr=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function Ri(f){return this.fromWireType(Ce[f>>2])}var yi={},Fr={},Ot=(f,d,_)=>{function S($){if($=_($),$.length!==f.length)throw new hr("Mismatched type converter count");for(var ue=0;ue<f.length;++ue)Pi(f[ue],$[ue])}f.forEach(function($){Fr[$]=d});var O=Array(d.length),j=[],K=0;d.forEach(($,ue)=>{Rr.hasOwnProperty($)?O[ue]=Rr[$]:(j.push($),yi.hasOwnProperty($)||(yi[$]=[]),yi[$].push(()=>{O[ue]=Rr[$],++K,K===j.length&&S(O)}))}),j.length===0&&S(O)};function Hr(f,d,_={}){var S=d.name;if(!f)throw new ct(`type "${S}" must have a positive integer typeid pointer`);if(Rr.hasOwnProperty(f)){if(_.Vb)return;throw new ct(`Cannot register type '${S}' twice`)}Rr[f]=d,delete Fr[f],yi.hasOwnProperty(f)&&(d=yi[f],delete yi[f],d.forEach(O=>O()))}function Pi(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Hr(f,d,_)}var aa=f=>{throw new ct(f.g.u.i.name+" instance already deleted")};function wa(){}var sa=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...O){if(!f[d].A.hasOwnProperty(O.length))throw new ct(`Function '${_}' called with an invalid number of arguments (${O.length}) - expects one of (${f[d].A})!`);return f[d].A[O.length].apply(this,O)},f[d].A=[],f[d].A[S.da]=S}},Ir=(f,d,_)=>{if(B.hasOwnProperty(f)){if(_===void 0||B[f].A!==void 0&&B[f].A[_]!==void 0)throw new ct(`Cannot register public name '${f}' twice`);if(sa(B,f,f),B.hasOwnProperty(_))throw new ct(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);B[f].A[_]=d}else B[f]=d,_!==void 0&&(B[f].Lc=_)},xr=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function vi(f,d,_,S,O,j,K,$){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=O,this.Qb=j,this.ma=K,this.Lb=$,this.pb=[]}var mr=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new ct(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function qr(f,d){if(d===null){if(this.La)throw new ct(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ct(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ct(`Cannot pass deleted object as a pointer of type ${this.name}`);return mr(d.g.o,d.g.u.i,this.i)}function Ea(f,d){if(d===null){if(this.La)throw new ct(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new ct(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ct(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new ct(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=mr(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new ct("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new ct(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,Pn(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new ct("Unsupporting sharing policy")}}return _}function wo(f,d){if(d===null){if(this.La)throw new ct(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ct(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ct(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new ct(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return mr(d.g.o,d.g.u.i,this.i)}function Mr(f,d,_,S,O,j,K,$,ue,oe,Oe){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=O,this.hc=j,this.mc=K,this.qb=$,this.Na=ue,this.ic=oe,this.O=Oe,O||d.C!==void 0?this.toWireType=Ea:(this.toWireType=S?qr:wo,this.L=null)}var qa=(f,d,_)=>{if(!B.hasOwnProperty(f))throw new hr("Replacing nonexistent public symbol");B[f].A!==void 0&&_!==void 0?B[f].A[_]=d:(B[f]=d,B[f].da=_)},er=[],Ga,Cs=f=>{var d=er[f];return d||(f>=er.length&&(er.length=f+1),er[f]=d=Ga.get(f)),d},Ya=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,B["dynCall_"+f])(d,..._)):d=Cs(d)(..._),d),$o=(f,d)=>(..._)=>Ya(f,d,_),ti=(f,d)=>{f=yn(f);var _=f.includes("j")?$o(f,d):Cs(d);if(typeof _!="function")throw new ct(`unknown function pointer with signature ${f}: ${d}`);return _},Ta,tr=(f,d)=>{function _(j){O[j]||Rr[j]||(Fr[j]?Fr[j].forEach(_):(S.push(j),O[j]=!0))}var S=[],O={};throw d.forEach(_),new Ta(`${f}: `+S.map(Ha).join([", "]))};function Jo(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function oa(f,d,_,S,O){var j=d.length;if(2>j)throw new ct("argTypes array size mismatch! Must at least get return value and 'this' types!");var K=d[1]!==null&&_!==null,$=Jo(d),ue=d[0].name!=="void",oe=j-2,Oe=Array(oe),Ke=[],at=[];return zr(f,function(...J){if(J.length!==oe)throw new ct(`function ${f} called with ${J.length} arguments, expected ${oe}`);if(at.length=0,Ke.length=K?2:1,Ke[0]=O,K){var Pe=d[1].toWireType(at,this);Ke[1]=Pe}for(var tt=0;tt<oe;++tt)Oe[tt]=d[tt+2].toWireType(at,J[tt]),Ke.push(Oe[tt]);if(J=S(...Ke),$)dr(at);else for(tt=K?1:2;tt<d.length;tt++){var ze=tt===1?Pe:Oe[tt-2];d[tt].L!==null&&d[tt].L(ze)}return Pe=ue?d[0].fromWireType(J):void 0,Pe})}var Xa=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(Ce[d+4*S>>2]);return _},Is=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Or=(f,d,_)=>{if(!(f instanceof Object))throw new ct(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new ct(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new ct(`cannot call emscripten binding method ${_} on deleted object`);return mr(f.g.o,f.g.u.i,d.i)},xs=f=>{9<f&&--Si[f+1]===0&&(Si[f]=void 0,tn.push(f))},Zo={name:"emscripten::val",fromWireType:f=>{var d=Ei(f);return xs(f),d},toWireType:(f,d)=>Pn(d),argPackAdvance:8,readValueFromPointer:Ri,L:null},el=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(we[S])}:function(S){return this.fromWireType(k[S])};case 2:return _?function(S){return this.fromWireType(ne[S>>1])}:function(S){return this.fromWireType(Te[S>>1])};case 4:return _?function(S){return this.fromWireType(_e[S>>2])}:function(S){return this.fromWireType(Ce[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ms=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Aa=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(Qe[_>>2])};case 8:return function(_){return this.fromWireType(ut[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Ci=(f,d,_)=>{switch(d){case 1:return _?S=>we[S]:S=>k[S];case 2:return _?S=>ne[S>>1]:S=>Te[S>>1];case 4:return _?S=>_e[S>>2]:S=>Ce[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Eo=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,tl=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&Te[_];)++_;if(_<<=1,32<_-f&&Eo)return Eo.decode(k.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var O=ne[f+2*S>>1];if(O==0)break;_+=String.fromCharCode(O)}return _},la=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var O=0;O<_;++O)ne[d>>1]=f.charCodeAt(O),d+=2;return ne[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var O=_e[f+4*_>>2];if(O==0)break;++_,65536<=O?(O-=65536,S+=String.fromCharCode(55296|O>>10,56320|O&1023)):S+=String.fromCharCode(O)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var O=0;O<f.length;++O){var j=f.charCodeAt(O);if(55296<=j&&57343>=j){var K=f.charCodeAt(++O);j=65536+((j&1023)<<10)|K&1023}if(_e[d>>2]=j,d+=4,d+4>_)break}return _e[d>>2]=0,d-S},N=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},ie=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(Ce[d>>2]=Pn(S)),f},fe={},ke=f=>{var d=fe[f];return d===void 0?yn(f):d},At=[],Yn=f=>{var d=At.length;return At.push(f),d},nn=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=_a(Ce[d+4*S>>2],"parameter "+S);return _},Nn=Reflect.construct,Li=[],pr={},gr=()=>{if(!nr){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:C||"./this.program"},d;for(d in pr)pr[d]===void 0?delete f[d]:f[d]=pr[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);nr=_}return nr},nr,Gr=f=>f%4===0&&(f%100!==0||f%400===0),Qa=[31,29,31,30,31,30,31,31,30,31,30,31],Ka=[31,28,31,30,31,30,31,31,30,31,30,31],vf=(f,d,_,S)=>{function O(J,Pe,tt){for(J=typeof J=="number"?J.toString():J||"";J.length<Pe;)J=tt[0]+J;return J}function j(J,Pe){return O(J,Pe,"0")}function K(J,Pe){function tt(on){return 0>on?-1:0<on?1:0}var ze;return(ze=tt(J.getFullYear()-Pe.getFullYear()))===0&&(ze=tt(J.getMonth()-Pe.getMonth()))===0&&(ze=tt(J.getDate()-Pe.getDate())),ze}function $(J){switch(J.getDay()){case 0:return new Date(J.getFullYear()-1,11,29);case 1:return J;case 2:return new Date(J.getFullYear(),0,3);case 3:return new Date(J.getFullYear(),0,2);case 4:return new Date(J.getFullYear(),0,1);case 5:return new Date(J.getFullYear()-1,11,31);case 6:return new Date(J.getFullYear()-1,11,30)}}function ue(J){var Pe=J.ba;for(J=new Date(new Date(J.ca+1900,0,1).getTime());0<Pe;){var tt=J.getMonth(),ze=(Gr(J.getFullYear())?Qa:Ka)[tt];if(Pe>ze-J.getDate())Pe-=ze-J.getDate()+1,J.setDate(1),11>tt?J.setMonth(tt+1):(J.setMonth(0),J.setFullYear(J.getFullYear()+1));else{J.setDate(J.getDate()+Pe);break}}return tt=new Date(J.getFullYear()+1,0,4),Pe=$(new Date(J.getFullYear(),0,4)),tt=$(tt),0>=K(Pe,J)?0>=K(tt,J)?J.getFullYear()+1:J.getFullYear():J.getFullYear()-1}var oe=Ce[S+40>>2];S={pc:_e[S>>2],oc:_e[S+4>>2],Da:_e[S+8>>2],Qa:_e[S+12>>2],Ea:_e[S+16>>2],ca:_e[S+20>>2],R:_e[S+24>>2],ba:_e[S+28>>2],Nc:_e[S+32>>2],nc:_e[S+36>>2],qc:oe&&oe?et(k,oe):""},_=_?et(k,_):"",oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Oe in oe)_=_.replace(new RegExp(Oe,"g"),oe[Oe]);var Ke="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),at="January February March April May June July August September October November December".split(" ");oe={"%a":J=>Ke[J.R].substring(0,3),"%A":J=>Ke[J.R],"%b":J=>at[J.Ea].substring(0,3),"%B":J=>at[J.Ea],"%C":J=>j((J.ca+1900)/100|0,2),"%d":J=>j(J.Qa,2),"%e":J=>O(J.Qa,2," "),"%g":J=>ue(J).toString().substring(2),"%G":ue,"%H":J=>j(J.Da,2),"%I":J=>(J=J.Da,J==0?J=12:12<J&&(J-=12),j(J,2)),"%j":J=>{for(var Pe=0,tt=0;tt<=J.Ea-1;Pe+=(Gr(J.ca+1900)?Qa:Ka)[tt++]);return j(J.Qa+Pe,3)},"%m":J=>j(J.Ea+1,2),"%M":J=>j(J.oc,2),"%n":()=>`
`,"%p":J=>0<=J.Da&&12>J.Da?"AM":"PM","%S":J=>j(J.pc,2),"%t":()=>"	","%u":J=>J.R||7,"%U":J=>j(Math.floor((J.ba+7-J.R)/7),2),"%V":J=>{var Pe=Math.floor((J.ba+7-(J.R+6)%7)/7);if(2>=(J.R+371-J.ba-2)%7&&Pe++,Pe)Pe==53&&(tt=(J.R+371-J.ba)%7,tt==4||tt==3&&Gr(J.ca)||(Pe=1));else{Pe=52;var tt=(J.R+7-J.ba-1)%7;(tt==4||tt==5&&Gr(J.ca%400-1))&&Pe++}return j(Pe,2)},"%w":J=>J.R,"%W":J=>j(Math.floor((J.ba+7-(J.R+6)%7)/7),2),"%y":J=>(J.ca+1900).toString().substring(2),"%Y":J=>J.ca+1900,"%z":J=>{J=J.nc;var Pe=0<=J;return J=Math.abs(J)/60,(Pe?"+":"-")+("0000"+(J/60*100+J%60)).slice(-4)},"%Z":J=>J.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(Oe in oe)_.includes(Oe)&&(_=_.replace(new RegExp(Oe,"g"),oe[Oe](S)));return _=_.replace(/\0\0/g,"%"),Oe=Bn(_,!1),Oe.length>d?0:(we.set(Oe,f),Oe.length-1)};[44].forEach(f=>{ga[f]=new Ge(f),ga[f].stack="<generic error, no stack>"}),Sr=Array(4096),Ne(pt,"/"),Ve("/tmp"),Ve("/home"),Ve("/home/web_user"),(function(){Ve("/dev"),Me(259,{read:()=>0,write:(S,O,j,K)=>K}),Ye("/dev/null",259),Lt(1280,kn),Lt(1536,Kn),Ye("/dev/tty",1280),Ye("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=Ze(f).byteLength),f[--d]);Ji("random",_),Ji("urandom",_),Ve("/dev/shm"),Ve("/dev/shm/tmp")})(),(function(){Ve("/proc");var f=Ve("/proc/self");Ve("/proc/self/fd"),Ne({U(){var d=za(f,"fd",16895,73);return d.j={ja(_,S){var O=gi(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>O.path}},_.parent=_}},d}},"/proc/self/fd")})(),ct=B.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},Si.push(0,1,void 0,1,null,1,!0,1,!1,1),B.count_emval_handles=()=>Si.length/2-5-tn.length,bo=B.PureVirtualError=Ba("PureVirtualError");for(var gc=Array(256),nl=0;256>nl;++nl)gc[nl]=String.fromCharCode(nl);Ss=gc,B.getInheritedInstanceCount=()=>Object.keys(lr).length,B.getLiveInheritedInstances=()=>{var f=[],d;for(d in lr)lr.hasOwnProperty(d)&&f.push(lr[d]);return f},B.flushPendingDeletes=Br,B.setDelayFunction=f=>{oi=f,va.length&&oi&&oi(Br)},hr=B.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(wa.prototype,{isAliasOf:function(f){if(!(this instanceof wa&&f instanceof wa))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||aa(this),this.g.ha)return this.g.count.value+=1,this;var f=fr,d=Object,_=d.create,S=Object.getPrototypeOf(this),O=this.g;return f=f(_.call(d,S,{g:{value:{count:O.count,ea:O.ea,ha:O.ha,o:O.o,u:O.u,F:O.F,J:O.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||aa(this),this.g.ea&&!this.g.ha)throw new ct("Object already scheduled for deletion");Cr(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||aa(this),this.g.ea&&!this.g.ha)throw new ct("Object already scheduled for deletion");return va.push(this),va.length===1&&oi&&oi(Br),this.g.ea=!0,this}}),Object.assign(Mr.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:Ri,fromWireType:function(f){function d(){return this.sa?Zi(this.i.M,{u:this.hc,o:_,J:this,F:f}):Zi(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=cr(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=Rs[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var O=ur(_,this.i,S.i);return O===null?d.call(this):this.sa?Zi(S.i.M,{u:S,o:O,J:this,F:f}):Zi(S.i.M,{u:S,o:O})}}),Ta=B.UnboundTypeError=Ba("UnboundTypeError");var eu={__syscall_fcntl64:function(f,d,_){or=_;try{var S=gi(f);switch(d){case 0:var O=g();if(0>O)break;for(;Xi[O];)O++;return ye(S,O).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return O=g(),S.flags|=O,0;case 12:return O=g(),ne[O+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(j){if(typeof sn>"u"||j.name!=="ErrnoError")throw j;return-j.$}},__syscall_ioctl:function(f,d,_){or=_;try{var S=gi(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var O=g();_e[O>>2]=25856,_e[O+4>>2]=5,_e[O+8>>2]=191,_e[O+12>>2]=35387;for(var j=0;32>j;j++)we[O+j+17]=f[j]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(O=g(),f=[],j=0;32>j;j++)f.push(we[O+j+17]);return 0;case 21519:return S.s?(O=g(),_e[O>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(O=g(),!S.m.Wb)throw new Ge(59);return S.m.Wb(S,d,O);case 21523:return S.s?(S.s.V.Zb&&(j=[24,80],O=g(),ne[O>>1]=j[0],ne[O+2>>1]=j[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(K){if(typeof sn>"u"||K.name!=="ErrnoError")throw K;return-K.$}},__syscall_openat:function(f,d,_,S){or=S;try{d=d?et(k,d):"";var O=d;if(O.charAt(0)==="/")d=O;else{var j=f===-100?"/":gi(f).path;if(O.length==0)throw new Ge(44);d=D(j+"/"+O)}var K=S?g():0;return hn(d,_,K).W}catch($){if(typeof sn>"u"||$.name!=="ErrnoError")throw $;return-$.$}},_abort_js:()=>{Vt("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=yn(f),d=_a(d,"wrapper"),_=Ei(_);var S=d.i,O=S.M,j=S.C.M,K=S.C.constructor;return f=zr(f,function(...$){S.C.pb.forEach((function(ue){if(this[ue]===j[ue])throw new bo(`Pure virtual function ${ue} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:O}),this.__construct(...$)}),O.__construct=function(...$){if(this===O)throw new ct("Pass correct 'this' to __construct");$=K.implement(this,...$),Cr($);var ue=$.g;if($.notifyOnDestruction(),ue.ha=!0,Object.defineProperties(this,{g:{value:ue}}),fr(this),$=ue.o,$=Fa(S,$),lr.hasOwnProperty($))throw new ct(`Tried to register registered instance: ${$}`);lr[$]=this},O.__destruct=function(){if(this===O)throw new ct("Pass correct 'this' to __destruct");Cr(this);var $=this.g.o;if($=Fa(S,$),lr.hasOwnProperty($))delete lr[$];else throw new ct(`Tried to unregister unregistered instance: ${$}`)},f.prototype=Object.create(O),Object.assign(f.prototype,_),Pn(f)},_embind_finalize_value_object:f=>{var d=ra[f];delete ra[f];var _=d.Na,S=d.O,O=d.eb,j=O.map(K=>K.Ub).concat(O.map(K=>K.kc));Ot([f],j,K=>{var $={};return O.forEach((ue,oe)=>{var Oe=K[oe],Ke=ue.Sb,at=ue.Tb,J=K[oe+O.length],Pe=ue.jc,tt=ue.lc;$[ue.Ob]={read:ze=>Oe.fromWireType(Ke(at,ze)),write:(ze,on)=>{var We=[];Pe(tt,ze,J.toWireType(We,on)),dr(We)}}}),[{name:d.name,fromWireType:ue=>{var oe={},Oe;for(Oe in $)oe[Oe]=$[Oe].read(ue);return S(ue),oe},toWireType:(ue,oe)=>{for(var Oe in $)if(!(Oe in oe))throw new TypeError(`Missing field: "${Oe}"`);var Ke=_();for(Oe in $)$[Oe].write(Ke,oe[Oe]);return ue!==null&&ue.push(S,Ke),Ke},argPackAdvance:8,readValueFromPointer:Ri,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=yn(d),Pi(f,{name:d,fromWireType:function(O){return!!O},toWireType:function(O,j){return j?_:S},argPackAdvance:8,readValueFromPointer:function(O){return this.fromWireType(k[O])},L:null})},_embind_register_class:(f,d,_,S,O,j,K,$,ue,oe,Oe,Ke,at)=>{Oe=yn(Oe),j=ti(O,j),$&&=ti(K,$),oe&&=ti(ue,oe),at=ti(Ke,at);var J=xr(Oe);Ir(J,function(){tr(`Cannot construct ${Oe} due to unbound types`,[S])}),Ot([f,d,_],S?[S]:[],Pe=>{if(Pe=Pe[0],S)var tt=Pe.i,ze=tt.M;else ze=wa.prototype;Pe=zr(Oe,function(...vn){if(Object.getPrototypeOf(this)!==on)throw new ct("Use 'new' to construct "+Oe);if(We.Z===void 0)throw new ct(Oe+" has no accessible constructor");var ni=We.Z[vn.length];if(ni===void 0)throw new ct(`Tried to invoke ctor of ${Oe} with invalid number of parameters (${vn.length}) - expected (${Object.keys(We.Z).toString()}) parameters instead!`);return ni.apply(this,vn)});var on=Object.create(ze,{constructor:{value:Pe}});Pe.prototype=on;var We=new vi(Oe,Pe,on,at,tt,j,$,oe);if(We.C){var kt;(kt=We.C).na??(kt.na=[]),We.C.na.push(We)}return tt=new Mr(Oe,We,!0,!1,!1),kt=new Mr(Oe+"*",We,!1,!1,!1),ze=new Mr(Oe+" const*",We,!1,!0,!1),Rs[f]={pointerType:kt,Hb:ze},qa(J,Pe),[tt,kt,ze]})},_embind_register_class_class_function:(f,d,_,S,O,j,K)=>{var $=Xa(_,S);d=yn(d),d=Is(d),j=ti(O,j),Ot([],[f],ue=>{function oe(){tr(`Cannot call ${Oe} due to unbound types`,$)}ue=ue[0];var Oe=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Ke=ue.i.constructor;return Ke[d]===void 0?(oe.da=_-1,Ke[d]=oe):(sa(Ke,d,Oe),Ke[d].A[_-1]=oe),Ot([],$,at=>{if(at=oa(Oe,[at[0],null].concat(at.slice(1)),null,j,K),Ke[d].A===void 0?(at.da=_-1,Ke[d]=at):Ke[d].A[_-1]=at,ue.i.na)for(const J of ue.i.na)J.constructor.hasOwnProperty(d)||(J.constructor[d]=at);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,O,j,K,$)=>{d=yn(d),j=ti(O,j),Ot([],[f],ue=>{ue=ue[0];var oe=`${ue.name}.${d}`,Oe={get(){tr(`Cannot access ${oe} due to unbound types`,[_])},enumerable:!0,configurable:!0};return Oe.set=$?()=>{tr(`Cannot access ${oe} due to unbound types`,[_])}:()=>{throw new ct(`${oe} is a read-only property`)},Object.defineProperty(ue.i.constructor,d,Oe),Ot([],[_],Ke=>{Ke=Ke[0];var at={get(){return Ke.fromWireType(j(S))},enumerable:!0};return $&&($=ti(K,$),at.set=J=>{var Pe=[];$(S,Ke.toWireType(Pe,J)),dr(Pe)}),Object.defineProperty(ue.i.constructor,d,at),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,O,j)=>{var K=Xa(d,_);O=ti(S,O),Ot([],[f],$=>{$=$[0];var ue=`constructor ${$.name}`;if($.i.Z===void 0&&($.i.Z=[]),$.i.Z[d-1]!==void 0)throw new ct(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${$.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return $.i.Z[d-1]=()=>{tr(`Cannot construct ${$.name} due to unbound types`,K)},Ot([],K,oe=>(oe.splice(1,0,null),$.i.Z[d-1]=oa(ue,oe,null,O,j),[])),[]})},_embind_register_class_function:(f,d,_,S,O,j,K,$)=>{var ue=Xa(_,S);d=yn(d),d=Is(d),j=ti(O,j),Ot([],[f],oe=>{function Oe(){tr(`Cannot call ${Ke} due to unbound types`,ue)}oe=oe[0];var Ke=`${oe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),$&&oe.i.pb.push(d);var at=oe.i.M,J=at[d];return J===void 0||J.A===void 0&&J.className!==oe.name&&J.da===_-2?(Oe.da=_-2,Oe.className=oe.name,at[d]=Oe):(sa(at,d,Ke),at[d].A[_-2]=Oe),Ot([],ue,Pe=>(Pe=oa(Ke,Pe,oe,j,K),at[d].A===void 0?(Pe.da=_-2,at[d]=Pe):at[d].A[_-2]=Pe,[])),[]})},_embind_register_class_property:(f,d,_,S,O,j,K,$,ue,oe)=>{d=yn(d),O=ti(S,O),Ot([],[f],Oe=>{Oe=Oe[0];var Ke=`${Oe.name}.${d}`,at={get(){tr(`Cannot access ${Ke} due to unbound types`,[_,K])},enumerable:!0,configurable:!0};return at.set=ue?()=>tr(`Cannot access ${Ke} due to unbound types`,[_,K]):()=>{throw new ct(Ke+" is a read-only property")},Object.defineProperty(Oe.i.M,d,at),Ot([],ue?[_,K]:[_],J=>{var Pe=J[0],tt={get(){var on=Or(this,Oe,Ke+" getter");return Pe.fromWireType(O(j,on))},enumerable:!0};if(ue){ue=ti($,ue);var ze=J[1];tt.set=function(on){var We=Or(this,Oe,Ke+" setter"),kt=[];ue(oe,We,ze.toWireType(kt,on)),dr(kt)}}return Object.defineProperty(Oe.i.M,d,tt),[]}),[]})},_embind_register_emval:f=>Pi(f,Zo),_embind_register_enum:(f,d,_,S)=>{function O(){}d=yn(d),O.values={},Pi(f,{name:d,constructor:O,fromWireType:function(j){return this.constructor.values[j]},toWireType:(j,K)=>K.value,argPackAdvance:8,readValueFromPointer:el(d,_,S),L:null}),Ir(d,O)},_embind_register_enum_value:(f,d,_)=>{var S=_a(f,"enum");d=yn(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:zr(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=yn(d),Pi(f,{name:d,fromWireType:S=>S,toWireType:(S,O)=>O,argPackAdvance:8,readValueFromPointer:Aa(d,_),L:null})},_embind_register_function:(f,d,_,S,O,j)=>{var K=Xa(d,_);f=yn(f),f=Is(f),O=ti(S,O),Ir(f,function(){tr(`Cannot call ${f} due to unbound types`,K)},d-1),Ot([],K,$=>(qa(f,oa(f,[$[0],null].concat($.slice(1)),null,O,j),d-1),[]))},_embind_register_integer:(f,d,_,S,O)=>{if(d=yn(d),O===-1&&(O=4294967295),O=$=>$,S===0){var j=32-8*_;O=$=>$<<j>>>j}var K=d.includes("unsigned")?function($,ue){return ue>>>0}:function($,ue){return ue};Pi(f,{name:d,fromWireType:O,toWireType:K,argPackAdvance:8,readValueFromPointer:Ci(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(j){return new O(we.buffer,Ce[j+4>>2],Ce[j>>2])}var O=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=yn(_),Pi(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=yn(d);var _=d==="std::string";Pi(f,{name:d,fromWireType:function(S){var O=Ce[S>>2],j=S+4;if(_)for(var K=j,$=0;$<=O;++$){var ue=j+$;if($==O||k[ue]==0){if(K=K?et(k,K,ue-K):"",oe===void 0)var oe=K;else oe+="\0",oe+=K;K=ue+1}}else{for(oe=Array(O),$=0;$<O;++$)oe[$]=String.fromCharCode(k[j+$]);oe=oe.join("")}return ir(S),oe},toWireType:function(S,O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));var j=typeof O=="string";if(!(j||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int8Array))throw new ct("Cannot pass non-string to std::string");var K=_&&j?Dn(O):O.length,$=Wa(4+K+1),ue=$+4;if(Ce[$>>2]=K,_&&j)cn(O,k,ue,K+1);else if(j)for(j=0;j<K;++j){var oe=O.charCodeAt(j);if(255<oe)throw ir(ue),new ct("String has UTF-16 code units that do not fit in 8 bits");k[ue+j]=oe}else for(j=0;j<K;++j)k[ue+j]=O[j];return S!==null&&S.push(ir,$),$},argPackAdvance:8,readValueFromPointer:Ri,L(S){ir(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=yn(_),d===2)var S=tl,O=la,j=u,K=$=>Te[$>>1];else d===4&&(S=y,O=A,j=N,K=$=>Ce[$>>2]);Pi(f,{name:_,fromWireType:$=>{for(var ue=Ce[$>>2],oe,Oe=$+4,Ke=0;Ke<=ue;++Ke){var at=$+4+Ke*d;(Ke==ue||K(at)==0)&&(Oe=S(Oe,at-Oe),oe===void 0?oe=Oe:(oe+="\0",oe+=Oe),Oe=at+d)}return ir($),oe},toWireType:($,ue)=>{if(typeof ue!="string")throw new ct(`Cannot pass non-string to C++ string type ${_}`);var oe=j(ue),Oe=Wa(4+oe+d);return Ce[Oe>>2]=oe/d,O(ue,Oe+4,oe+d),$!==null&&$.push(ir,Oe),Oe},argPackAdvance:8,readValueFromPointer:Ri,L($){ir($)}})},_embind_register_value_object:(f,d,_,S,O,j)=>{ra[f]={name:yn(d),Na:ti(_,S),O:ti(O,j),eb:[]}},_embind_register_value_object_field:(f,d,_,S,O,j,K,$,ue,oe)=>{ra[f].eb.push({Ob:yn(d),Ub:_,Sb:ti(S,O),Tb:j,kc:K,jc:ti($,ue),lc:oe})},_embind_register_void:(f,d)=>{d=yn(d),Pi(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>k.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=Ei(f),d=_a(d,"emval::as"),ie(d,_,f)),_emval_call_method:(f,d,_,S,O)=>(f=At[f],d=Ei(d),_=ke(_),f(d,d[_],S,O)),_emval_decref:xs,_emval_get_method_caller:(f,d,_)=>{var S=nn(f,d),O=S.shift();f--;var j=Array(f);return d=`methodCaller<(${S.map(K=>K.name).join(", ")}) => ${O.name}>`,Yn(zr(d,(K,$,ue,oe)=>{for(var Oe=0,Ke=0;Ke<f;++Ke)j[Ke]=S[Ke].readValueFromPointer(oe+Oe),Oe+=S[Ke].argPackAdvance;return K=_===1?Nn($,j):$.apply(K,j),ie(O,ue,K)}))},_emval_get_module_property:f=>(f=ke(f),Pn(B[f])),_emval_get_property:(f,d)=>(f=Ei(f),d=Ei(d),Pn(f[d])),_emval_incref:f=>{9<f&&(Si[f+1]+=1)},_emval_new_array:()=>Pn([]),_emval_new_cstring:f=>Pn(ke(f)),_emval_new_object:()=>Pn({}),_emval_run_destructors:f=>{var d=Ei(f);dr(d),xs(f)},_emval_set_property:(f,d,_)=>{f=Ei(f),d=Ei(d),_=Ei(_),f[d]=_},_emval_take_value:(f,d)=>(f=_a(f,"_emval_take_value"),f=f.readValueFromPointer(d),Pn(f)),emscripten_asm_const_int:(f,d,_)=>{Li.length=0;for(var S;S=k[d++];){var O=S!=105;O&=S!=112,_+=O&&_%8?4:0,Li.push(S==112?Ce[_>>2]:S==105?_e[_>>2]:ut[_>>3]),_+=O?8:4}return Rn[f](...Li)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=k.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var O=Math;S=Math.max(f,S);e:{O=(O.min.call(O,2147483648,S+(65536-S%65536)%65536)-ge.buffer.byteLength+65535)/65536;try{ge.grow(O),ht();var j=1;break e}catch{}j=void 0}if(j)return!0}return!1},environ_get:(f,d)=>{var _=0;return gr().forEach((S,O)=>{var j=d+_;for(O=Ce[f+4*O>>2]=j,j=0;j<S.length;++j)we[O++]=S.charCodeAt(j);we[O]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=gr();Ce[f>>2]=_.length;var S=0;return _.forEach(O=>S+=O.length+1),Ce[d>>2]=S,0},fd_close:function(f){try{var d=gi(f);if(d.W===null)throw new Ge(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{Xi[d.W]=null}return d.W=null,0}catch(_){if(typeof sn>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var O=gi(f);f=d;for(var j,K=d=0;K<_;K++){var $=Ce[f>>2],ue=Ce[f+4>>2];f+=8;var oe=O,Oe=j,Ke=we;if(0>ue||0>Oe)throw new Ge(28);if(oe.W===null)throw new Ge(8);if((oe.flags&2097155)===1)throw new Ge(8);if((oe.node.mode&61440)===16384)throw new Ge(31);if(!oe.m.read)throw new Ge(28);var at=typeof Oe<"u";if(!at)Oe=oe.position;else if(!oe.seekable)throw new Ge(70);var J=oe.m.read(oe,Ke,$,ue,Oe);at||(oe.position+=J);var Pe=J;if(0>Pe){var tt=-1;break e}if(d+=Pe,Pe<ue)break;typeof j<"u"&&(j+=Pe)}tt=d}return Ce[S>>2]=tt,0}catch(ze){if(typeof sn>"u"||ze.name!=="ErrnoError")throw ze;return ze.$}},fd_seek:function(f,d,_,S,O){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var j=gi(f);return In(j,d,S),Ht=[j.position>>>0,(qn=j.position,1<=+Math.abs(qn)?0<qn?+Math.floor(qn/4294967296)>>>0:~~+Math.ceil((qn-+(~~qn>>>0))/4294967296)>>>0:0)],_e[O>>2]=Ht[0],_e[O+4>>2]=Ht[1],j.Ka&&d===0&&S===0&&(j.Ka=null),0}catch(K){if(typeof sn>"u"||K.name!=="ErrnoError")throw K;return K.$}},fd_write:function(f,d,_,S){try{e:{var O=gi(f);f=d;for(var j,K=d=0;K<_;K++){var $=Ce[f>>2],ue=Ce[f+4>>2];f+=8;var oe=O,Oe=$,Ke=ue,at=j,J=we;if(0>Ke||0>at)throw new Ge(28);if(oe.W===null)throw new Ge(8);if((oe.flags&2097155)===0)throw new Ge(8);if((oe.node.mode&61440)===16384)throw new Ge(31);if(!oe.m.write)throw new Ge(28);oe.seekable&&oe.flags&1024&&In(oe,0,2);var Pe=typeof at<"u";if(!Pe)at=oe.position;else if(!oe.seekable)throw new Ge(70);var tt=oe.m.write(oe,J,Oe,Ke,at,void 0);Pe||(oe.position+=tt);var ze=tt;if(0>ze){var on=-1;break e}d+=ze,typeof j<"u"&&(j+=ze)}on=d}return Ce[S>>2]=on,0}catch(We){if(typeof sn>"u"||We.name!=="ErrnoError")throw We;return We.$}},strftime_l:(f,d,_,S)=>vf(f,d,_,S)},Ln=(function(){function f(_){return Ln=_.exports,ge=Ln.memory,ht(),Ga=Ln.__indirect_function_table,Mt.unshift(Ln.__wasm_call_ctors),Tt--,B.monitorRunDependencies?.(Tt),Tt==0&&Wt&&(_=Wt,Wt=null,_()),Ln}var d={env:eu,wasi_snapshot_preview1:eu};if(Tt++,B.monitorRunDependencies?.(Tt),B.instantiateWasm)try{return B.instantiateWasm(d,f)}catch(_){q(`Module.instantiateWasm callback failed with error: ${_}`),Ae(_)}return jt||=On("canvas_advanced.wasm")?"canvas_advanced.wasm":B.locateFile?B.locateFile("canvas_advanced.wasm",U):U+"canvas_advanced.wasm",pi(d,function(_){f(_.instance)}).catch(Ae),{}})(),ir=f=>(ir=Ln.free)(f),Wa=f=>(Wa=Ln.malloc)(f),yc=f=>(yc=Ln.__getTypeName)(f),To=B._ma_device__on_notification_unlocked=f=>(To=B._ma_device__on_notification_unlocked=Ln.ma_device__on_notification_unlocked)(f);B._ma_malloc_emscripten=(f,d)=>(B._ma_malloc_emscripten=Ln.ma_malloc_emscripten)(f,d),B._ma_free_emscripten=(f,d)=>(B._ma_free_emscripten=Ln.ma_free_emscripten)(f,d);var tu=B._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(tu=B._ma_device_process_pcm_frames_capture__webaudio=Ln.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),nu=B._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(nu=B._ma_device_process_pcm_frames_playback__webaudio=Ln.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);B.dynCall_iiji=(f,d,_,S,O)=>(B.dynCall_iiji=Ln.dynCall_iiji)(f,d,_,S,O),B.dynCall_jiji=(f,d,_,S,O)=>(B.dynCall_jiji=Ln.dynCall_jiji)(f,d,_,S,O),B.dynCall_iiiji=(f,d,_,S,O,j)=>(B.dynCall_iiiji=Ln.dynCall_iiiji)(f,d,_,S,O,j),B.dynCall_iij=(f,d,_,S)=>(B.dynCall_iij=Ln.dynCall_iij)(f,d,_,S),B.dynCall_jii=(f,d,_)=>(B.dynCall_jii=Ln.dynCall_jii)(f,d,_),B.dynCall_viijii=(f,d,_,S,O,j,K)=>(B.dynCall_viijii=Ln.dynCall_viijii)(f,d,_,S,O,j,K),B.dynCall_iiiiij=(f,d,_,S,O,j,K)=>(B.dynCall_iiiiij=Ln.dynCall_iiiiij)(f,d,_,S,O,j,K),B.dynCall_iiiiijj=(f,d,_,S,O,j,K,$,ue)=>(B.dynCall_iiiiijj=Ln.dynCall_iiiiijj)(f,d,_,S,O,j,K,$,ue),B.dynCall_iiiiiijj=(f,d,_,S,O,j,K,$,ue,oe)=>(B.dynCall_iiiiiijj=Ln.dynCall_iiiiiijj)(f,d,_,S,O,j,K,$,ue,oe);var Os;Wt=function f(){Os||il(),Os||(Wt=f)};function il(){function f(){if(!Os&&(Os=!0,B.calledRun=!0,!he)){if(B.noFSInit||$i||($i=!0,B.stdin=B.stdin,B.stdout=B.stdout,B.stderr=B.stderr,B.stdin?Ji("stdin",B.stdin):je("/dev/tty","/dev/stdin"),B.stdout?Ji("stdout",null,B.stdout):je("/dev/tty","/dev/stdout"),B.stderr?Ji("stderr",null,B.stderr):je("/dev/tty1","/dev/stderr"),hn("/dev/stdin",0),hn("/dev/stdout",1),hn("/dev/stderr",1)),jr=!1,R(Mt),De(B),B.onRuntimeInitialized&&B.onRuntimeInitialized(),B.postRun)for(typeof B.postRun=="function"&&(B.postRun=[B.postRun]);B.postRun.length;){var d=B.postRun.shift();an.unshift(d)}R(an)}}if(!(0<Tt)){if(B.preRun)for(typeof B.preRun=="function"&&(B.preRun=[B.preRun]);B.preRun.length;)He();R(vt),0<Tt||(B.setStatus?(B.setStatus("Running..."),setTimeout(function(){setTimeout(function(){B.setStatus("")},1),f()},1)):f())}}if(B.preInit)for(typeof B.preInit=="function"&&(B.preInit=[B.preInit]);0<B.preInit.length;)B.preInit.pop()();return il(),te=Le,te})})();const x=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function x(L,H,te,B){this.animation=L,this.artboard=H,this.playing=B,this.loopCount=0,this.scrubTo=null,this.instance=new te.LinearAnimationInstance(L,H)}return Object.defineProperty(x.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"time",{get:function(){return this.instance.time},set:function(L){this.instance.time=L},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),x.prototype.advance=function(L){this.scrubTo===null?this.instance.advance(L):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},x.prototype.apply=function(L){this.instance.apply(L)},x.prototype.cleanup=function(){this.instance.delete()},x})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>L.AudioAssetWrapper,AudioWrapper:()=>L.AudioWrapper,BLANK_URL:()=>x.BLANK_URL,CustomFileAssetLoaderWrapper:()=>L.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>L.FileAssetWrapper,FileFinalizer:()=>L.FileFinalizer,FontAssetWrapper:()=>L.FontAssetWrapper,FontWrapper:()=>L.FontWrapper,ImageAssetWrapper:()=>L.ImageAssetWrapper,ImageWrapper:()=>L.ImageWrapper,createFinalization:()=>L.createFinalization,finalizationRegistry:()=>L.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>x.sanitizeUrl});var E=w(6),x=w(7),L=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>L});var E=void 0,x=function(H,te,B){var De,Ae,Le=[];if(["touchstart","touchmove"].indexOf(H.type)>-1&&(!((De=H.changedTouches)===null||De===void 0)&&De.length)){te||H.preventDefault();for(var Ue=0,Be=B?H.changedTouches.length:1;Ue<Be;){var $e=H.changedTouches[Ue];Le.push({clientX:$e.clientX,clientY:$e.clientY,identifier:$e.identifier}),Ue++}}else if(H.type==="touchend"&&(!((Ae=H.changedTouches)===null||Ae===void 0)&&Ae.length))for(var Ue=0,Be=B?H.changedTouches.length:1;Ue<Be;){var $e=H.changedTouches[Ue];Le.push({clientX:$e.clientX,clientY:$e.clientY,identifier:$e.identifier}),Ue++}else Le.push({clientX:H.clientX,clientY:H.clientY,identifier:0});return Le},L=function(H){var te=H.canvas,B=H.artboard,De=H.stateMachines,Ae=De===void 0?[]:De,Le=H.renderer,Ue=H.rive,Be=H.fit,$e=H.alignment,Xe=H.isTouchScrollEnabled,Je=Xe===void 0?!1:Xe,F=H.dispatchPointerExit,P=F===void 0?!0:F,V=H.enableMultiTouch,z=V===void 0?!1:V,C=H.layoutScaleFactor,U=C===void 0?1:C;if(!te||!Ae.length||!Le||!Ue||!B||typeof window>"u")return null;var I=null,W=!1,se=function(Z){if(W&&Z instanceof MouseEvent){Z.type=="mouseup"&&(W=!1);return}W=Je&&Z.type==="touchend"&&I==="touchstart",I=Z.type;var ge=Z.currentTarget.getBoundingClientRect(),he=x(Z,Je,z),we=Ue.computeAlignment(Be,$e,{minX:0,minY:0,maxX:ge.width,maxY:ge.height},B.bounds,U),k=new Ue.Mat2D;switch(we.invert(k),he.forEach(function(jt){var ot=jt.clientX,mn=jt.clientY;if(!(!ot&&!mn)){var pn=ot-ge.left,pi=mn-ge.top,qn=new Ue.Vec2D(pn,pi),Ht=Ue.mapXY(k,qn),Rn=Ht.x(),R=Ht.y();jt.transformedX=Rn,jt.transformedY=R,Ht.delete(),qn.delete()}}),k.delete(),we.delete(),Z.type){case"mouseout":for(var ne=function(jt){P?he.forEach(function(ot){jt.pointerExit(ot.transformedX,ot.transformedY,ot.identifier)}):he.forEach(function(ot){jt.pointerMove(ot.transformedX,ot.transformedY,ot.identifier)})},Te=0,_e=Ae;Te<_e.length;Te++){var Ce=_e[Te];ne(Ce)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Qe=function(jt){he.forEach(function(ot){jt.pointerMove(ot.transformedX,ot.transformedY,ot.identifier)})},ut=0,ht=Ae;ut<ht.length;ut++){var Ce=ht[ut];Qe(Ce)}break}case"touchstart":case"mousedown":{for(var vt=function(jt){he.forEach(function(ot){jt.pointerDown(ot.transformedX,ot.transformedY,ot.identifier)})},Mt=0,an=Ae;Mt<an.length;Mt++){var Ce=an[Mt];vt(Ce)}break}case"touchend":{for(var He=function(jt){he.forEach(function(ot){jt.pointerUp(ot.transformedX,ot.transformedY,ot.identifier),jt.pointerExit(ot.transformedX,ot.transformedY,ot.identifier)})},Tt=0,Wt=Ae;Tt<Wt.length;Tt++){var Ce=Wt[Tt];He(Ce)}break}case"mouseup":{for(var Vt=function(jt){he.forEach(function(ot){jt.pointerUp(ot.transformedX,ot.transformedY,ot.identifier)})},On=0,Zn=Ae;On<Zn.length;On++){var Ce=Zn[On];Vt(Ce)}break}}},q=se.bind(E);return te.addEventListener("mouseover",q),te.addEventListener("mouseout",q),te.addEventListener("mousemove",q),te.addEventListener("mousedown",q),te.addEventListener("mouseup",q),te.addEventListener("touchmove",q,{passive:Je}),te.addEventListener("touchstart",q,{passive:Je}),te.addEventListener("touchend",q),function(){te.removeEventListener("mouseover",q),te.removeEventListener("mouseout",q),te.removeEventListener("mousemove",q),te.removeEventListener("mousedown",q),te.removeEventListener("mouseup",q),te.removeEventListener("touchmove",q),te.removeEventListener("touchstart",q),te.removeEventListener("touchend",q)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>De,sanitizeUrl:()=>Ue});var E=/^([^\w]*)(javascript|data|vbscript)/im,x=/&#(\w+)(^\w|;)?/g,L=/&(newline|tab);/gi,H=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,te=/^.+(:|&colon;)/gim,B=[".","/"],De="about:blank";function Ae(Be){return B.indexOf(Be[0])>-1}function Le(Be){var $e=Be.replace(H,"");return $e.replace(x,function(Xe,Je){return String.fromCharCode(Je)})}function Ue(Be){if(!Be)return De;var $e=Le(Be).replace(L,"").replace(H,"").trim();if(!$e)return De;if(Ae($e))return $e;var Xe=$e.match(te);if(!Xe)return $e;var Je=Xe[0];return E.test(Je)?De:$e}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>Be,AudioWrapper:()=>B,CustomFileAssetLoaderWrapper:()=>Ae,FileAssetWrapper:()=>Le,FileFinalizer:()=>x,FontAssetWrapper:()=>$e,FontWrapper:()=>De,ImageAssetWrapper:()=>Ue,ImageWrapper:()=>te,createFinalization:()=>P,finalizationRegistry:()=>F});var E=(function(){var V=function(z,C){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,I){U.__proto__=I}||function(U,I){for(var W in I)Object.prototype.hasOwnProperty.call(I,W)&&(U[W]=I[W])},V(z,C)};return function(z,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");V(z,C);function U(){this.constructor=z}z.prototype=C===null?Object.create(C):(U.prototype=C.prototype,new U)}})(),x=(function(){function V(z){this.selfUnref=!1,this._file=z}return V.prototype.unref=function(){this._file&&this._file.unref()},V})(),L=(function(){function V(z){this._finalizableObject=z}return V.prototype.unref=function(){this._finalizableObject.unref()},V})(),H=(function(){function V(){this.selfUnref=!1}return V.prototype.unref=function(){},V})(),te=(function(V){E(z,V);function z(C){var U=V.call(this)||this;return U._nativeImage=C,U}return Object.defineProperty(z.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),z.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},z})(H),B=(function(V){E(z,V);function z(C){var U=V.call(this)||this;return U._nativeAudio=C,U}return Object.defineProperty(z.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),z.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},z})(H),De=(function(V){E(z,V);function z(C){var U=V.call(this)||this;return U._nativeFont=C,U}return Object.defineProperty(z.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),z.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},z})(H),Ae=(function(){function V(z,C){this._assetLoaderCallback=C,this.assetLoader=new z.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return V.prototype.loadContents=function(z,C){var U;return z.isImage?U=new Ue(z):z.isAudio?U=new Be(z):z.isFont&&(U=new $e(z)),this._assetLoaderCallback(U,C)},V})(),Le=(function(){function V(z){this._nativeFileAsset=z}return V.prototype.decode=function(z){this._nativeFileAsset.decode(z)},Object.defineProperty(V.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),V})(),Ue=(function(V){E(z,V);function z(){return V!==null&&V.apply(this,arguments)||this}return z.prototype.setRenderImage=function(C){this._nativeFileAsset.setRenderImage(C.nativeImage)},z})(Le),Be=(function(V){E(z,V);function z(){return V!==null&&V.apply(this,arguments)||this}return z.prototype.setAudioSource=function(C){this._nativeFileAsset.setAudioSource(C.nativeAudio)},z})(Le),$e=(function(V){E(z,V);function z(){return V!==null&&V.apply(this,arguments)||this}return z.prototype.setFont=function(C){this._nativeFileAsset.setFont(C.nativeFont)},z})(Le),Xe=(function(){function V(z){}return V.prototype.register=function(z){z.selfUnref=!0},V.prototype.unregister=function(z){},V})(),Je=typeof FinalizationRegistry<"u"?FinalizationRegistry:Xe,F=new Je(function(V){V?.unref()}),P=function(V,z){var C=new L(z);F.register(V,C)}})],s={};function l(p){var b=s[p];if(b!==void 0)return b.exports;var w=s[p]={exports:{}};return i[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>Ue,DataEnum:()=>ut,EventType:()=>I,Fit:()=>Le,Layout:()=>Be,LoopType:()=>W,Rive:()=>Ce,RiveEventType:()=>F,RiveFile:()=>_e,RuntimeLoader:()=>$e,StateMachineInput:()=>Je,StateMachineInputType:()=>Xe,Testing:()=>pi,ViewModel:()=>Qe,ViewModelInstance:()=>vt,ViewModelInstanceArtboard:()=>ot,ViewModelInstanceAssetImage:()=>jt,ViewModelInstanceBoolean:()=>Tt,ViewModelInstanceColor:()=>Zn,ViewModelInstanceEnum:()=>Vt,ViewModelInstanceList:()=>On,ViewModelInstanceNumber:()=>He,ViewModelInstanceString:()=>an,ViewModelInstanceTrigger:()=>Wt,ViewModelInstanceValue:()=>Mt,decodeAudio:()=>qn,decodeFont:()=>Rn,decodeImage:()=>Ht});var p=l(1),b=l(2),w=l(3),E=l(5),x=(function(){var R=function(g,v){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,Q){D.__proto__=Q}||function(D,Q){for(var de in Q)Object.prototype.hasOwnProperty.call(Q,de)&&(D[de]=Q[de])},R(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");R(g,v);function D(){this.constructor=g}g.prototype=v===null?Object.create(v):(D.prototype=v.prototype,new D)}})(),L=function(){return L=Object.assign||function(R){for(var g,v=1,D=arguments.length;v<D;v++){g=arguments[v];for(var Q in g)Object.prototype.hasOwnProperty.call(g,Q)&&(R[Q]=g[Q])}return R},L.apply(this,arguments)},H=function(R,g,v,D){function Q(de){return de instanceof v?de:new v(function(Ie){Ie(de)})}return new(v||(v=Promise))(function(de,Ie){function Ze(et){try{qe(D.next(et))}catch($t){Ie($t)}}function it(et){try{qe(D.throw(et))}catch($t){Ie($t)}}function qe(et){et.done?de(et.value):Q(et.value).then(Ze,it)}qe((D=D.apply(R,g||[])).next())})},te=function(R,g){var v={label:0,sent:function(){if(de[0]&1)throw de[1];return de[1]},trys:[],ops:[]},D,Q,de,Ie=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ie.next=Ze(0),Ie.throw=Ze(1),Ie.return=Ze(2),typeof Symbol=="function"&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Ze(qe){return function(et){return it([qe,et])}}function it(qe){if(D)throw new TypeError("Generator is already executing.");for(;Ie&&(Ie=0,qe[0]&&(v=0)),v;)try{if(D=1,Q&&(de=qe[0]&2?Q.return:qe[0]?Q.throw||((de=Q.return)&&de.call(Q),0):Q.next)&&!(de=de.call(Q,qe[1])).done)return de;switch(Q=0,de&&(qe=[qe[0]&2,de.value]),qe[0]){case 0:case 1:de=qe;break;case 4:return v.label++,{value:qe[1],done:!1};case 5:v.label++,Q=qe[1],qe=[0];continue;case 7:qe=v.ops.pop(),v.trys.pop();continue;default:if(de=v.trys,!(de=de.length>0&&de[de.length-1])&&(qe[0]===6||qe[0]===2)){v=0;continue}if(qe[0]===3&&(!de||qe[1]>de[0]&&qe[1]<de[3])){v.label=qe[1];break}if(qe[0]===6&&v.label<de[1]){v.label=de[1],de=qe;break}if(de&&v.label<de[2]){v.label=de[2],v.ops.push(qe);break}de[2]&&v.ops.pop(),v.trys.pop();continue}qe=g.call(R,v)}catch(et){qe=[6,et],Q=0}finally{D=de=0}if(qe[0]&5)throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}},B=function(R,g,v){if(v||arguments.length===2)for(var D=0,Q=g.length,de;D<Q;D++)(de||!(D in g))&&(de||(de=Array.prototype.slice.call(g,0,D)),de[D]=g[D]);return R.concat(de||Array.prototype.slice.call(g))},De=(function(R){x(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Ae=function(R){return R&&R.isHandledError?R.message:"Problem loading file; may be corrupt!"},Le;(function(R){R.Cover="cover",R.Contain="contain",R.Fill="fill",R.FitWidth="fitWidth",R.FitHeight="fitHeight",R.None="none",R.ScaleDown="scaleDown",R.Layout="layout"})(Le||(Le={}));var Ue;(function(R){R.Center="center",R.TopLeft="topLeft",R.TopCenter="topCenter",R.TopRight="topRight",R.CenterLeft="centerLeft",R.CenterRight="centerRight",R.BottomLeft="bottomLeft",R.BottomCenter="bottomCenter",R.BottomRight="bottomRight"})(Ue||(Ue={}));var Be=(function(){function R(g){var v,D,Q,de,Ie,Ze,it;this.fit=(v=g?.fit)!==null&&v!==void 0?v:Le.Contain,this.alignment=(D=g?.alignment)!==null&&D!==void 0?D:Ue.Center,this.layoutScaleFactor=(Q=g?.layoutScaleFactor)!==null&&Q!==void 0?Q:1,this.minX=(de=g?.minX)!==null&&de!==void 0?de:0,this.minY=(Ie=g?.minY)!==null&&Ie!==void 0?Ie:0,this.maxX=(Ze=g?.maxX)!==null&&Ze!==void 0?Ze:0,this.maxY=(it=g?.maxY)!==null&&it!==void 0?it:0}return R.new=function(g){var v=g.fit,D=g.alignment,Q=g.minX,de=g.minY,Ie=g.maxX,Ze=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new R({fit:v,alignment:D,minX:Q,minY:de,maxX:Ie,maxY:Ze})},R.prototype.copyWith=function(g){var v=g.fit,D=g.alignment,Q=g.layoutScaleFactor,de=g.minX,Ie=g.minY,Ze=g.maxX,it=g.maxY;return new R({fit:v??this.fit,alignment:D??this.alignment,layoutScaleFactor:Q??this.layoutScaleFactor,minX:de??this.minX,minY:Ie??this.minY,maxX:Ze??this.maxX,maxY:it??this.maxY})},R.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===Le.Cover?v=g.Fit.cover:this.fit===Le.Contain?v=g.Fit.contain:this.fit===Le.Fill?v=g.Fit.fill:this.fit===Le.FitWidth?v=g.Fit.fitWidth:this.fit===Le.FitHeight?v=g.Fit.fitHeight:this.fit===Le.ScaleDown?v=g.Fit.scaleDown:this.fit===Le.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},R.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===Ue.TopLeft?v=g.Alignment.topLeft:this.alignment===Ue.TopCenter?v=g.Alignment.topCenter:this.alignment===Ue.TopRight?v=g.Alignment.topRight:this.alignment===Ue.CenterLeft?v=g.Alignment.centerLeft:this.alignment===Ue.CenterRight?v=g.Alignment.centerRight:this.alignment===Ue.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===Ue.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===Ue.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},R})(),$e=(function(){function R(){}return R.loadRuntime=function(){p.default({locateFile:function(){return R.wasmURL}}).then(function(g){var v;for(R.runtime=g;R.callBackQueue.length>0;)(v=R.callBackQueue.shift())===null||v===void 0||v(R.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var D="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(R.wasmURL.toLowerCase()!==D)console.warn("Failed to load WASM from ".concat(R.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),R.setWasmUrl(D),R.loadRuntime();else{var Q=["Could not load Rive WASM file from ".concat(R.wasmURL," or ").concat(D,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(Q)}})},R.getInstance=function(g){R.isLoading||(R.isLoading=!0,R.loadRuntime()),R.runtime?g(R.runtime):R.callBackQueue.push(g)},R.awaitInstance=function(){return new Promise(function(g){return R.getInstance(function(v){return g(v)})})},R.setWasmUrl=function(g){R.wasmURL=g},R.getWasmUrl=function(){return R.wasmURL},R.isLoading=!1,R.callBackQueue=[],R.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),R})(),Xe;(function(R){R[R.Number=56]="Number",R[R.Trigger=58]="Trigger",R[R.Boolean=59]="Boolean"})(Xe||(Xe={}));var Je=(function(){function R(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(R.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),R.prototype.fire=function(){this.type===Xe.Trigger&&this.runtimeInput.fire()},R.prototype.delete=function(){this.runtimeInput=null},R})(),F;(function(R){R[R.General=128]="General",R[R.OpenUrl=131]="OpenUrl"})(F||(F={}));var P=(function(){function R(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return R})(),V=(function(R){x(g,R);function g(v,D){var Q=R.call(this,!1)||this;return Q.nativeArtboard=v,Q.file=D,Q}return g})(P),z=(function(R){x(g,R);function g(v){var D=R.call(this,!0)||this;return D.selfUnref=!1,D.nativeArtboard=v,D}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(P),C=(function(){function R(g,v,D,Q){this.stateMachine=g,this.playing=D,this.artboard=Q,this.inputs=[],this.instance=new v.StateMachineInstance(g,Q),this.initInputs(v)}return Object.defineProperty(R.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),R.prototype.advance=function(g){this.instance.advance(g)},R.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},R.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},R.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},R.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var D=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(D,g))}},R.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new Je(Xe.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new Je(Xe.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new Je(Xe.Trigger,g.asTrigger())},R.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},R.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},R})(),U=(function(){function R(g,v,D,Q,de){Q===void 0&&(Q=[]),de===void 0&&(de=[]),this.runtime=g,this.artboard=v,this.eventManager=D,this.animations=Q,this.stateMachines=de}return R.prototype.add=function(g,v,D){if(D===void 0&&(D=!0),g=pn(g),g.length===0)this.animations.forEach(function(cn){return cn.playing=v}),this.stateMachines.forEach(function(cn){return cn.playing=v});else for(var Q=this.animations.map(function(cn){return cn.name}),de=this.stateMachines.map(function(cn){return cn.name}),Ie=0;Ie<g.length;Ie++){var Ze=Q.indexOf(g[Ie]),it=de.indexOf(g[Ie]);if(Ze>=0||it>=0)Ze>=0?this.animations[Ze].playing=v:this.stateMachines[it].playing=v;else{var qe=this.artboard.animationByName(g[Ie]);if(qe){var et=new w.Animation(qe,this.artboard,this.runtime,v);et.advance(0),et.apply(1),this.animations.push(et)}else{var $t=this.artboard.stateMachineByName(g[Ie]);if($t){var Dn=new C($t,this.runtime,v,this.artboard);this.stateMachines.push(Dn)}}}}return D&&(v?this.eventManager.fire({type:I.Play,data:this.playing}):this.eventManager.fire({type:I.Pause,data:this.paused})),v?this.playing:this.paused},R.prototype.initLinearAnimations=function(g,v){for(var D=this.animations.map(function(it){return it.name}),Q=0;Q<g.length;Q++){var de=D.indexOf(g[Q]);if(de>=0)this.animations[de].playing=v;else{var Ie=this.artboard.animationByName(g[Q]);if(Ie){var Ze=new w.Animation(Ie,this.artboard,this.runtime,v);Ze.advance(0),Ze.apply(1),this.animations.push(Ze)}else console.error("Animation with name ".concat(g[Q]," not found."))}}},R.prototype.initStateMachines=function(g,v){for(var D=this.stateMachines.map(function(it){return it.name}),Q=0;Q<g.length;Q++){var de=D.indexOf(g[Q]);if(de>=0)this.stateMachines[de].playing=v;else{var Ie=this.artboard.stateMachineByName(g[Q]);if(Ie){var Ze=new C(Ie,this.runtime,v,this.artboard);this.stateMachines.push(Ze)}else console.warn("State Machine with name ".concat(g[Q]," not found.")),this.initLinearAnimations([g[Q]],v)}}},R.prototype.play=function(g){return this.add(g,!0)},R.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},R.prototype.pause=function(g){return this.add(g,!1)},R.prototype.scrub=function(g,v){var D=this.animations.filter(function(Q){return g.includes(Q.name)});return D.forEach(function(Q){return Q.scrubTo=v}),D.map(function(Q){return Q.name})},Object.defineProperty(R.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),R.prototype.stop=function(g){var v=this;g=pn(g);var D=[];if(g.length===0)D=this.animations.map(function(Ie){return Ie.name}).concat(this.stateMachines.map(function(Ie){return Ie.name})),this.animations.forEach(function(Ie){return Ie.cleanup()}),this.stateMachines.forEach(function(Ie){return Ie.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var Q=this.animations.filter(function(Ie){return g.includes(Ie.name)});Q.forEach(function(Ie){Ie.cleanup(),v.animations.splice(v.animations.indexOf(Ie),1)});var de=this.stateMachines.filter(function(Ie){return g.includes(Ie.name)});de.forEach(function(Ie){Ie.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ie),1)}),D=Q.map(function(Ie){return Ie.name}).concat(de.map(function(Ie){return Ie.name}))}return this.eventManager.fire({type:I.Stop,data:D}),D},Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),R.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var D;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([D=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([D=this.artboard.stateMachineByIndex(0).name],g,v)),D},R.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(Q){return Q.playing});g<v.length;g++){var D=v[g];D.loopValue===0&&D.loopCount?(D.loopCount=0,this.stop(D.name)):D.loopValue===1&&D.loopCount?(this.eventManager.fire({type:I.Loop,data:{animation:D.name,type:W.Loop}}),D.loopCount=0):D.loopValue===2&&D.loopCount>1&&(this.eventManager.fire({type:I.Loop,data:{animation:D.name,type:W.PingPong}}),D.loopCount=0)}},R.prototype.handleStateChanges=function(){for(var g=[],v=0,D=this.stateMachines.filter(function(de){return de.playing});v<D.length;v++){var Q=D[v];g.push.apply(g,Q.statesChanged)}g.length>0&&this.eventManager.fire({type:I.StateChange,data:g})},R.prototype.handleAdvancing=function(g){this.eventManager.fire({type:I.Advance,data:g})},R})(),I;(function(R){R.Load="load",R.LoadError="loaderror",R.Play="play",R.Pause="pause",R.Stop="stop",R.Loop="loop",R.Draw="draw",R.Advance="advance",R.StateChange="statechange",R.RiveEvent="riveevent",R.AudioStatusChange="audiostatuschange"})(I||(I={}));var W;(function(R){R.OneShot="oneshot",R.Loop="loop",R.PingPong="pingpong"})(W||(W={}));var se=(function(){function R(g){g===void 0&&(g=[]),this.listeners=g}return R.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},R.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},R.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var D=this.listeners[v];if(D.type===g.type&&D.callback===g.callback){this.listeners.splice(v,1);break}}},R.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(D){return D.type===g}).forEach(function(D){return v.remove(D)}):this.listeners.splice(0,this.listeners.length)},R.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(D){return D.callback(g)})},R})(),q=(function(){function R(g){this.eventManager=g,this.queue=[]}return R.prototype.add=function(g){this.queue.push(g)},R.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},R})(),Z;(function(R){R[R.AVAILABLE=0]="AVAILABLE",R[R.UNAVAILABLE=1]="UNAVAILABLE"})(Z||(Z={}));var ge=(function(R){x(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=Z.UNAVAILABLE,v}return g.prototype.delay=function(v){return H(this,void 0,void 0,function(){return te(this,function(D){return[2,new Promise(function(Q){return setTimeout(Q,v)})]})})},g.prototype.timeout=function(){return H(this,void 0,void 0,function(){return te(this,function(v){return[2,new Promise(function(D,Q){return setTimeout(Q,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:I.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return H(this,void 0,void 0,function(){return te(this,function(v){return this._enabled||(this._enabled=!0,this._status=Z.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return H(this,void 0,void 0,function(){return te(this,function(v){switch(v.label){case 0:if(!(this._status===Z.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return H(this,void 0,void 0,function(){return te(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==Z.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,D=function(){return H(v,void 0,void 0,function(){return te(this,function(Q){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",D,{once:!0})},g.prototype.establishAudio=function(){return H(this,void 0,void 0,function(){return te(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===Z.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(se),he=new ge,we=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),k=globalThis.ResizeObserver||we,ne=(function(){function R(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var D=g._elementsMap.get(v.target);D!==null?D.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new k(this._onObserved)}return R.prototype.add=function(g,v){var D={onResize:v,element:g};return this._elementsMap.set(g,D),this._resizeObserver.observe(g),D},R.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},R})(),Te=new ne,_e=(function(){function R(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new se,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError)}return R.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},R.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},R.prototype.initData=function(){return H(this,void 0,void 0,function(){var g,v,D,Q,de;return te(this,function(Ie){switch(Ie.label){case 0:return this.src?(g=this,[4,mn(this.src)]):[3,2];case 1:g.buffer=Ie.sent(),Ie.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(D=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=D.assetLoader),Q=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return Q.file=Ie.sent(),de=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,de),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:I.Load,data:this}):this.fireLoadError(R.fileLoadErrorMessage),[2])}})})},R.prototype.init=function(){return H(this,void 0,void 0,function(){var g,v;return te(this,function(D){switch(D.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(R.missingErrorMessage),[2];D.label=1;case 1:return D.trys.push([1,4,,5]),g=this,[4,$e.awaitInstance()];case 2:return g.runtime=D.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return D.sent(),[3,5];case 4:return v=D.sent(),this.fireLoadError(v instanceof Error?v.message:R.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},R.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:I.LoadError,data:g}),new Error(g)},R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},R.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},R.prototype.createBindableArtboard=function(g){if(g!=null){var v=new z(g);return(0,E.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},R.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new V(v,this)},R.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},R.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},R.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},R.missingErrorMessage="Rive source file or data buffer required",R.fileLoadErrorMessage="The file failed to load",R})(),Ce=(function(){function R(g){var v=this,D;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(Q){var de=v._hasZeroSize!==Q;v._hasZeroSize=Q,Q?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():de&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Te.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(D=g.layout)!==null&&D!==void 0?D:new Be,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new se,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError),g.onPlay&&this.on(I.Play,g.onPlay),g.onPause&&this.on(I.Pause,g.onPause),g.onStop&&this.on(I.Stop,g.onStop),g.onLoop&&this.on(I.Loop,g.onLoop),g.onStateChange&&this.on(I.StateChange,g.onStateChange),g.onAdvance&&this.on(I.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(I.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(I.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(I.Play,g.onplay),g.onpause&&!g.onPause&&this.on(I.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(I.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(I.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(I.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new q(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(R.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),R.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new R(g)},R.prototype.onSystemAudioChanged=function(){this.volume=this._volume},R.prototype.init=function(g){var v=this,D=g.src,Q=g.buffer,de=g.riveFile,Ie=g.animations,Ze=g.stateMachines,it=g.artboard,qe=g.autoplay,et=qe===void 0?!1:qe,$t=g.useOffscreenRenderer,Dn=$t===void 0?!1:$t,cn=g.autoBind,Bn=cn===void 0?!1:cn;if(!this.destroyed){if(this.src=D,this.buffer=Q,this.riveFile=de,!this.src&&!this.buffer&&!this.riveFile)throw new De(R.missingErrorMessage);var Qn=pn(Ie),Lt=pn(Ze);this.loaded=!1,this.readyForPlaying=!1,$e.awaitInstance().then(function(Cn){v.destroyed||(v.runtime=Cn,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,Dn),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(it,Qn,Lt,et,Bn).then(function(kn){if(kn)return v.setupRiveListeners()}).catch(function(kn){console.error(kn)}))}).catch(function(Cn){console.error(Cn)})}},R.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var D=(this.animator.stateMachines||[]).filter(function(Ze){return Ze.playing&&v.runtime.hasListeners(Ze.instance)}).map(function(Ze){return Ze.instance}),Q=this.isTouchScrollEnabled,de=this.dispatchPointerExit,Ie=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(Q=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:D,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:Q,dispatchPointerExit:de,enableMultiTouch:Ie,layoutScaleFactor:this._layout.layoutScaleFactor})}},R.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},R.prototype.initializeAudio=function(){var g=this,v;he.status==Z.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:I.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},he.add(this._audioEventListener),he.establishAudio())},R.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},R.prototype.initData=function(g,v,D,Q,de){return H(this,void 0,void 0,function(){var Ie,Ze,it,qe;return te(this,function(et){switch(et.label){case 0:return et.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ie=new _e({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ie,[4,Ie.init()]);case 1:if(et.sent(),this.destroyed)return Ie.destroyIfUnused(),[2,!1];et.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,D,Q,de),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:I.Load,data:(qe=this.src)!==null&&qe!==void 0?qe:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Ze=et.sent(),it=Ae(Ze),console.warn(it),this.eventManager.fire({type:I.LoadError,data:it}),[2,Promise.reject(it)];case 4:return[2]}})})},R.prototype.initArtboard=function(g,v,D,Q,de){if(this.file){var Ie=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ie){var Ze="Invalid artboard name or no default artboard";console.warn(Ze),this.eventManager.fire({type:I.LoadError,data:Ze});return}this.artboard=Ie,Ie.volume=this._volume*he.systemVolume,this.animator=new U(this.runtime,this.artboard,this.eventManager);var it;if(v.length>0||D.length>0?(it=v.concat(D),this.animator.initLinearAnimations(v,Q),this.animator.initStateMachines(D,Q)):it=[this.animator.atLeastOne(Q,!1)],this.taskQueue.add({event:{type:Q?I.Play:I.Pause,data:it}}),de){var qe=this.file.defaultArtboardViewModel(Ie);if(qe!==null){var et=qe.defaultInstance();if(et!==null){var $t=new vt(et,null);(0,E.createFinalization)($t,$t.runtimeInstance),this.bindViewModelInstance($t)}}}}},R.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},R.prototype.draw=function(g,v){var D;this.frameRequestId=null;var Q=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var de=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ie=this.animator.animations.filter(function(Yi){return Yi.playing||Yi.needsScrub}).sort(function(Yi){return Yi.needsScrub?-1:1}),Ze=0,it=Ie;Ze<it.length;Ze++){var qe=it[Ze];qe.advance(de),qe.instance.didLoop&&(qe.loopCount+=1),qe.apply(1)}for(var et=this.animator.stateMachines.filter(function(Yi){return Yi.playing}),$t=0,Dn=et;$t<Dn.length;$t++){var cn=Dn[$t],Bn=cn.reportedEventCount();if(Bn)for(var Qn=0;Qn<Bn;Qn++){var Lt=cn.reportedEventAt(Qn);if(Lt)if(Lt.type===F.OpenUrl){if(this.eventManager.fire({type:I.RiveEvent,data:Lt}),this.automaticallyHandleEvents){var Cn=document.createElement("a"),kn=Lt,Kn=kn.url,Gi=kn.target,pt=(0,E.sanitizeUrl)(Kn);Kn&&Cn.setAttribute("href",pt),Gi&&Cn.setAttribute("target",Gi),pt&&pt!==E.BLANK_URL&&Cn.click()}}else this.eventManager.fire({type:I.RiveEvent,data:Lt})}cn.advanceAndApply(de)}this.animator.stateMachines.length==0&&this.artboard.advance(de);var Fn=this.renderer;Fn.clear(),Fn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Fn),Fn.restore(),Fn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(de),this.frameCount++;var St=performance.now();for(this.frameTimes.push(St),this.durations.push(St-Q);this.frameTimes[0]<=St-1e3;)this.frameTimes.shift(),this.durations.shift();(D=this._viewModelInstance)===null||D===void 0||D.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},R.prototype.alignRenderer=function(){var g=this,v=g.renderer,D=g.runtime,Q=g._layout,de=g.artboard;v.align(Q.runtimeFit(D),Q.runtimeAlignment(D),{minX:Q.minX,minY:Q.minY,maxX:Q.maxX,maxY:Q.maxY},de.bounds,this._devicePixelRatioUsed*Q.layoutScaleFactor)},Object.defineProperty(R.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),R.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Te.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(he.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},R.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},R.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},R.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var D=this.artboard.textRun(g);if(!D){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return D},R.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},R.prototype.setTextRunValue=function(g,v){var D=this.retrieveTextRun(g);D&&(D.text=v)},R.prototype.play=function(g,v){var D=this;if(g=pn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},R.prototype.pause=function(g){var v=this;if(g=pn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},R.prototype.scrub=function(g,v){var D=this;if(g=pn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},R.prototype.stop=function(g){var v=this;if(g=pn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},R.prototype.reset=function(g){var v,D,Q=g?.artboard,de=pn(g?.animations),Ie=pn(g?.stateMachines),Ze=(v=g?.autoplay)!==null&&v!==void 0?v:!1,it=(D=g?.autoBind)!==null&&D!==void 0?D:!1;this.cleanupInstances(),this.initArtboard(Q,de,Ie,Ze,it),this.taskQueue.process()},R.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(R.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),R.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},R.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),D=v.width,Q=v.height,de=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=de,this.canvas.width=de*D,this.canvas.height=de*Q,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Le.Layout){var Ie=this._layout.layoutScaleFactor;this.artboard.width=D/Ie,this.artboard.height=Q/Ie}}},Object.defineProperty(R.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),R.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(D){return D.name===g});return v?.inputs}},R.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.inputByPath(g,v);if(!D){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},R.prototype.setBooleanStateAtPath=function(g,v,D){var Q=this.retrieveInputAtPath(g,D);Q&&(Q.type===Xe.Boolean?Q.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a boolean")))},R.prototype.setNumberStateAtPath=function(g,v,D){var Q=this.retrieveInputAtPath(g,D);Q&&(Q.type===Xe.Number?Q.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a number")))},R.prototype.fireStateAtPath=function(g,v){var D=this.retrieveInputAtPath(g,v);D&&(D.type===Xe.Trigger?D.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},R.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.textByPath(g,v);if(!D){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},R.prototype.getTextRunValueAtPath=function(g,v){var D=this.retrieveTextAtPath(g,v);if(!D){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D.text},R.prototype.setTextRunValueAtPath=function(g,v,D){var Q=this.retrieveTextAtPath(g,D);if(!Q){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(D,"'"));return}Q.text=v},Object.defineProperty(R.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},R.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},R.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},R.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},R.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(R.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var D=this.file.artboardByIndex(v),Q={name:D.name,animations:[],stateMachines:[]},de=0;de<D.animationCount();de++){var Ie=D.animationByIndex(de);Q.animations.push(Ie.name)}for(var Ze=0;Ze<D.stateMachineCount();Ze++){for(var it=D.stateMachineByIndex(Ze),qe=it.name,et=new this.runtime.StateMachineInstance(it,D),$t=[],Dn=0;Dn<et.inputCount();Dn++){var cn=et.input(Dn);$t.push({name:cn.name,type:cn.type})}Q.stateMachines.push({name:qe,inputs:$t})}g.artboards.push(Q)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*he.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),R.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(R.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),R.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(D){return D.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(R.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),R.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new Qe(v):null},R.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new Qe(v):null},R.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new ut(v)})}return this._dataEnums},R.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new Qe(g)}return null},R.prototype.getArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getBindableArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},R.missingErrorMessage="Rive source file or data buffer required",R.cleanupErrorMessage="Attempt to use file after calling cleanup.",R})(),Qe=(function(){function R(g){this._viewModel=g}return Object.defineProperty(R.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),R.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var D=new vt(v,null);return(0,E.createFinalization)(D,v),D}return null},R.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var D=new vt(v,null);return(0,E.createFinalization)(D,v),D}return null},R.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new vt(g,null);return(0,E.createFinalization)(v,g),v}return null},R.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new vt(g,null);return(0,E.createFinalization)(v,g),v}return null},Object.defineProperty(R.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),R})(),ut=(function(){function R(g){this._dataEnum=g}return Object.defineProperty(R.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),R})(),ht;(function(R){R.Number="number",R.String="string",R.Boolean="boolean",R.Color="color",R.Trigger="trigger",R.Enum="enum",R.List="list",R.Image="image",R.Artboard="artboard"})(ht||(ht={}));var vt=(function(){function R(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(R.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),R.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},R.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},R.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var D=this._parents[v];D.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},R.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},R.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},R.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},R.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},R.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},R.prototype.propertyFromPath=function(g,v){var D=g.split("/");return this.propertyFromPathSegments(D,0,v)},R.prototype.viewModelFromPathSegments=function(g,v){var D=this.internalViewModelInstance(g[v]);return D!==null?v==g.length-1?D:D.viewModelFromPathSegments(g,v++):null},R.prototype.propertyFromPathSegments=function(g,v,D){var Q,de,Ie,Ze,it,qe,et,$t,Dn,cn,Bn,Qn,Lt,Cn,kn,Kn,Gi,pt;if(v<g.length-1){var Fn=this.internalViewModelInstance(g[v]);return Fn!==null?Fn.propertyFromPathSegments(g,v+1,D):null}var St=null;switch(D){case ht.Number:if(St=(de=(Q=this._runtimeInstance)===null||Q===void 0?void 0:Q.number(g[v]))!==null&&de!==void 0?de:null,St!==null)return new He(St,this);break;case ht.String:if(St=(Ze=(Ie=this._runtimeInstance)===null||Ie===void 0?void 0:Ie.string(g[v]))!==null&&Ze!==void 0?Ze:null,St!==null)return new an(St,this);break;case ht.Boolean:if(St=(qe=(it=this._runtimeInstance)===null||it===void 0?void 0:it.boolean(g[v]))!==null&&qe!==void 0?qe:null,St!==null)return new Tt(St,this);break;case ht.Color:if(St=($t=(et=this._runtimeInstance)===null||et===void 0?void 0:et.color(g[v]))!==null&&$t!==void 0?$t:null,St!==null)return new Zn(St,this);break;case ht.Trigger:if(St=(cn=(Dn=this._runtimeInstance)===null||Dn===void 0?void 0:Dn.trigger(g[v]))!==null&&cn!==void 0?cn:null,St!==null)return new Wt(St,this);break;case ht.Enum:if(St=(Qn=(Bn=this._runtimeInstance)===null||Bn===void 0?void 0:Bn.enum(g[v]))!==null&&Qn!==void 0?Qn:null,St!==null)return new Vt(St,this);break;case ht.List:if(St=(Cn=(Lt=this._runtimeInstance)===null||Lt===void 0?void 0:Lt.list(g[v]))!==null&&Cn!==void 0?Cn:null,St!==null)return new On(St,this);break;case ht.Image:if(St=(Kn=(kn=this._runtimeInstance)===null||kn===void 0?void 0:kn.image(g[v]))!==null&&Kn!==void 0?Kn:null,St!==null)return new jt(St,this);break;case ht.Artboard:if(St=(pt=(Gi=this._runtimeInstance)===null||Gi===void 0?void 0:Gi.artboard(g[v]))!==null&&pt!==void 0?pt:null,St!==null)return new ot(St,this);break}return null},R.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var D=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(D!==null){var Q=new R(D,this);return(0,E.createFinalization)(Q,D),Q.internalIncrementReferenceCount(),this._viewModelInstances.set(g,Q),Q}return null},R.prototype.number=function(g){var v=this.propertyFromPath(g,ht.Number);return v},R.prototype.string=function(g){var v=this.propertyFromPath(g,ht.String);return v},R.prototype.boolean=function(g){var v=this.propertyFromPath(g,ht.Boolean);return v},R.prototype.color=function(g){var v=this.propertyFromPath(g,ht.Color);return v},R.prototype.trigger=function(g){var v=this.propertyFromPath(g,ht.Trigger);return v},R.prototype.enum=function(g){var v=this.propertyFromPath(g,ht.Enum);return v},R.prototype.list=function(g){var v=this.propertyFromPath(g,ht.List);return v},R.prototype.image=function(g){var v=this.propertyFromPath(g,ht.Image);return v},R.prototype.artboard=function(g){var v=this.propertyFromPath(g,ht.Artboard);return v},R.prototype.viewModel=function(g){var v=g.split("/"),D=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return D!=null?D.internalViewModelInstance(v[v.length-1]):null},R.prototype.internalReplaceViewModel=function(g,v){var D;if(v.runtimeInstance!==null){var Q=((D=this._runtimeInstance)===null||D===void 0?void 0:D.replaceViewModel(g,v.runtimeInstance))||!1;if(Q){v.internalIncrementReferenceCount();var de=this.internalViewModelInstance(g);de!==null&&(de.removeParent(this),this._children.includes(de)&&(this._children=this._children.filter(function(Ie){return Ie!==de})),de.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return Q}return!1},R.prototype.replaceViewModel=function(g,v){var D,Q=g.split("/"),de=Q.length>1?this.viewModelFromPathSegments(Q.slice(0,Q.length-1),0):this;return(D=de?.internalReplaceViewModel(Q[Q.length-1],v))!==null&&D!==void 0?D:!1},R.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},R.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(R.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return L({},v)}))||[]},enumerable:!1,configurable:!0}),R.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},R.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(de){de.cleanup()}),this._viewModelInstances.clear();var D=B([],this._children,!0);this._children.length=0;var Q=B([],this._parents,!0);this._parents.length=0,D.forEach(function(de){de.removeParent(g)}),Q.forEach(function(de){de.removeFromViewModelCallbacks(g)})}},R})(),Mt=(function(){function R(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return R.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},R.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},R.prototype.internalHandleCallback=function(g){},R.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},R.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},R.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),R})(),an=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Mt),He=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Mt),Tt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Mt),Wt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(Mt),Vt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Mt),On=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,D){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,D)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var D=this._viewModelInstanceValue.instanceAt(v);if(D!=null){var Q=new vt(D,this._parentViewModel);return(0,E.createFinalization)(Q,D),Q}return null},g.prototype.swap=function(v,D){this._viewModelInstanceValue.swap(v,D)},g.prototype.internalHandleCallback=function(v){v()},g})(Mt),Zn=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,D,Q){this._viewModelInstanceValue.rgb(v,D,Q)},g.prototype.rgba=function(v,D,Q,de){this._viewModelInstanceValue.argb(de,v,D,Q)},g.prototype.argb=function(v,D,Q,de){this._viewModelInstanceValue.argb(v,D,Q,de)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Mt),jt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D;this._viewModelInstanceValue.value((D=v?.nativeImage)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Mt),ot=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D,Q;v.isBindableArtboard?Q=v:Q=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((D=Q?.nativeArtboard)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Mt),mn=function(R){return H(void 0,void 0,void 0,function(){var g,v,D;return te(this,function(Q){switch(Q.label){case 0:return g=new Request(R),[4,fetch(g)];case 1:return v=Q.sent(),[4,v.arrayBuffer()];case 2:return D=Q.sent(),[2,D]}})})},pn=function(R){return typeof R=="string"?[R]:R instanceof Array?R:[]},pi={EventManager:se,TaskQueueManager:q},qn=function(R){return H(void 0,void 0,void 0,function(){var g,v,D;return te(this,function(Q){switch(Q.label){case 0:return g=new Promise(function(de){return $e.getInstance(function(Ie){Ie.decodeAudio(R,de)})}),[4,g];case 1:return v=Q.sent(),D=new E.AudioWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})},Ht=function(R){return H(void 0,void 0,void 0,function(){var g,v,D;return te(this,function(Q){switch(Q.label){case 0:return g=new Promise(function(de){return $e.getInstance(function(Ie){Ie.decodeImage(R,de)})}),[4,g];case 1:return v=Q.sent(),D=new E.ImageWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})},Rn=function(R){return H(void 0,void 0,void 0,function(){var g,v,D;return te(this,function(Q){switch(Q.label){case 0:return g=new Promise(function(de){return $e.getInstance(function(Ie){Ie.decodeFont(R,de)})}),[4,g];case 1:return v=Q.sent(),D=new E.FontWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})}})(),c})())})(Eh)),Eh.exports}var a_;function ET(){return a_||(a_=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=ef(),i=wT();function s(C){return C&&typeof C=="object"&&"default"in C?C:{default:C}}var l=s(e),c=function(){return c=Object.assign||function(C){for(var U,I=1,W=arguments.length;I<W;I++)for(var se in U=arguments[I])Object.prototype.hasOwnProperty.call(U,se)&&(C[se]=U[se]);return C},c.apply(this,arguments)};function p(C,U){var I={};for(var W in C)Object.prototype.hasOwnProperty.call(C,W)&&U.indexOf(W)<0&&(I[W]=C[W]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var se=0;for(W=Object.getOwnPropertySymbols(C);se<W.length;se++)U.indexOf(W[se])<0&&Object.prototype.propertyIsEnumerable.call(C,W[se])&&(I[W[se]]=C[W[se]])}return I}function b(C,U,I,W){return new(I||(I=Promise))(function(se,q){function Z(we){try{he(W.next(we))}catch(k){q(k)}}function ge(we){try{he(W.throw(we))}catch(k){q(k)}}function he(we){var k;we.done?se(we.value):(k=we.value,k instanceof I?k:new I(function(ne){ne(k)})).then(Z,ge)}he((W=W.apply(C,[])).next())})}function w(C,U){var I,W,se,q,Z={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return q={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function ge(he){return function(we){return(function(k){if(I)throw new TypeError("Generator is already executing.");for(;Z;)try{if(I=1,W&&(se=2&k[0]?W.return:k[0]?W.throw||((se=W.return)&&se.call(W),0):W.next)&&!(se=se.call(W,k[1])).done)return se;switch(W=0,se&&(k=[2&k[0],se.value]),k[0]){case 0:case 1:se=k;break;case 4:return Z.label++,{value:k[1],done:!1};case 5:Z.label++,W=k[1],k=[0];continue;case 7:k=Z.ops.pop(),Z.trys.pop();continue;default:if(se=Z.trys,!((se=se.length>0&&se[se.length-1])||k[0]!==6&&k[0]!==2)){Z=0;continue}if(k[0]===3&&(!se||k[1]>se[0]&&k[1]<se[3])){Z.label=k[1];break}if(k[0]===6&&Z.label<se[1]){Z.label=se[1],se=k;break}if(se&&Z.label<se[2]){Z.label=se[2],Z.ops.push(k);break}se[2]&&Z.ops.pop(),Z.trys.pop();continue}k=U.call(C,Z)}catch(ne){k=[6,ne],W=0}finally{I=se=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}})([he,we])}}}function E(C){var U=C||x(),I=e.useState(U),W=I[0],se=I[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var q=function(){var ge=C||x();se(ge)},Z=window.matchMedia("screen and (resolution: ".concat(W,"dppx)"));return Z.hasOwnProperty("addEventListener")?Z.addEventListener("change",q):Z.addListener(q),function(){Z.hasOwnProperty("removeEventListener")?Z.removeEventListener("change",q):Z.removeListener(q)}}},[W,C]),W}function x(){var C=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,C),3)}var L=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),H=globalThis.ResizeObserver||L,te=globalThis.ResizeObserver!==void 0,B=!te;function De(C,U){U===void 0&&(U=!0);var I=e.useState({width:0,height:0}),W=I[0],se=I[1];e.useEffect(function(){if(typeof window<"u"&&U){var we=function(){se({width:window.innerWidth,height:window.innerHeight})};return B&&(we(),window.addEventListener("resize",we)),function(){return window.removeEventListener("resize",we)}}},[]);var q,Z,ge,he=e.useRef(new H((q=function(we){te&&se({width:we[we.length-1].contentRect.width,height:we[we.length-1].contentRect.height})},Z=0,ge=0,function(){for(var we=this,k=[],ne=0;ne<arguments.length;ne++)k[ne]=arguments[ne];clearTimeout(ge),ge=window.setTimeout(function(){return q.apply(we,k)},Z)})));return e.useEffect(function(){var we=he.current;if(U){var k=C.current;return C.current&&te&&we.observe(C.current),function(){we.disconnect(),k&&te&&we.unobserve(k)}}we.disconnect()},[C,he]),W}var Ae={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Le(C){return Object.assign({},Ae,C)}function Ue(C){var U=C.riveLoaded,I=U!==void 0&&U,W=C.canvasElem,se=C.containerRef,q=C.options,Z=q===void 0?{}:q,ge=C.onCanvasHasResized,he=C.artboardBounds,we=Le(Z),k=e.useState({height:0,width:0}),ne=k[0],Te=ne.height,_e=ne.width,Ce=k[1],Qe=e.useState({height:0,width:0}),ut=Qe[0],ht=ut.height,vt=ut.width,Mt=Qe[1],an=e.useState(!0),He=an[0],Tt=an[1],Wt=we.fitCanvasToArtboardHeight,Vt=we.shouldResizeCanvasToContainer,On=we.useDevicePixelRatio,Zn=we.customDevicePixelRatio,jt=De(se,Vt),ot=E(Zn),mn=he??{},pn=mn.maxX,pi=mn.maxY,qn=e.useCallback(function(){var Ht,Rn,R,g,v=(Rn=(Ht=se.current)===null||Ht===void 0?void 0:Ht.clientWidth)!==null&&Rn!==void 0?Rn:0,D=(g=(R=se.current)===null||R===void 0?void 0:R.clientHeight)!==null&&g!==void 0?g:0;return Wt&&he?{width:v,height:v*(he.maxY/he.maxX)}:{width:v,height:D}},[se,Wt,pn,pi]);e.useEffect(function(){if(Vt&&se.current&&I){var Ht=qn(),Rn=Ht.width,R=Ht.height,g=!1;if(W){var v=Rn!==_e||R!==Te;if(we.fitCanvasToArtboardHeight&&v&&(se.current.style.height=R+"px",g=!0),we.useDevicePixelRatio){if(v||Rn*ot!==vt||R*ot!==ht){var D=ot*Rn,Q=ot*R;W.width=D,W.height=Q,W.style.width=Rn+"px",W.style.height=R+"px",Mt({width:D,height:Q}),g=!0}}else v&&(W.width=Rn,W.height=R,Mt({width:Rn,height:R}),g=!0);Ce({width:Rn,height:R})}ge&&(He||g)&&ge&&ge(),He&&Tt(!1)}},[W,se,jt,ot,qn,He,Tt,ht,vt,Te,_e,ge,Vt,Wt,On,I]),e.useEffect(function(){Mt({width:0,height:0})},[W])}var Be,$e=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),Xe=globalThis.IntersectionObserver||$e,Je=(function(){function C(){var U=this;this.elementsMap=new Map,this.onObserved=function(I){I.forEach(function(W){var se=U.elementsMap.get(W.target);se&&se(W)})},this.observer=new Xe(this.onObserved)}return C.prototype.registerCallback=function(U,I){this.observer.observe(U),this.elementsMap.set(U,I)},C.prototype.removeCallback=function(U){this.observer.unobserve(U),this.elementsMap.delete(U)},C})(),F=function(){return Be||(Be=new Je),Be};function P(C){var U=C.setContainerRef,I=C.setCanvasRef,W=C.className,se=W===void 0?"":W,q=C.style,Z=C.children,ge=p(C,["setContainerRef","setCanvasRef","className","style","children"]),he=c({width:"100%",height:"100%"},q);return l.default.createElement("div",c({ref:U,className:se},!se&&{style:he}),l.default.createElement("canvas",c({ref:I,style:{verticalAlign:"top",width:0,height:0}},ge),Z))}function V(C,U){U===void 0&&(U={});var I=e.useState(null),W=I[0],se=I[1],q=e.useRef(null),Z=e.useRef(null),ge=e.useState(null),he=ge[0],we=ge[1],k=!!C,ne=Le(U),Te=E(),_e=e.useCallback(function(){if(he){if(he.layout&&he.layout.fit===i.Fit.Layout&&W){var He=Te*he.layout.layoutScaleFactor;he.devicePixelRatioUsed=Te,he.artboardWidth=W?.width/He,he.artboardHeight=W?.height/He}he.startRendering(),he.resizeToCanvas()}},[he,Te]);Ue({riveLoaded:!!he,canvasElem:W,containerRef:q,options:ne,onCanvasHasResized:_e,artboardBounds:he?.bounds});var Ce=e.useCallback(function(He){He===null&&W&&(W.height=0,W.width=0),se(He)},[]);e.useEffect(function(){if(W&&C){var He,Tt=he!=null;if(he==null){var Wt=ne.useOffscreenRenderer,Vt=C.onRiveReady,On=p(C,["onRiveReady"]);He=new i.Rive(c(c({useOffscreenRenderer:Wt},On),{canvas:W})),Z.current!=null&&Z.current.cleanup(),Z.current=He,He.on(i.EventType.Load,function(){Tt=!0,Vt&&Vt(He),W?we(He):He.cleanup()})}return function(){Tt||He==null||He.cleanup()}}},[W,k,he]);var Qe=e.useCallback(function(He){q.current=He},[]),ut={observe:e.useCallback(function(He,Tt){F().registerCallback(He,Tt)},[]),unobserve:e.useCallback(function(He){F().removeCallback(He)},[])},ht=ut.observe,vt=ut.unobserve;e.useEffect(function(){var He,Tt=!1,Wt=function(){if(W&&Tt){var Vt=W.getBoundingClientRect();Vt.width>0&&Vt.height>0&&Vt.top<(window.innerHeight||document.documentElement.clientHeight)&&Vt.bottom>0&&Vt.left<(window.innerWidth||document.documentElement.clientWidth)&&Vt.right>0&&(he?.startRendering(),Tt=!1)}};return W&&ne.shouldUseIntersectionObserver!==!1&&ht(W,function(Vt){Vt.isIntersecting?he&&he.startRendering():he&&he.stopRendering(),Tt=!Vt.isIntersecting,clearTimeout(He),Vt.isIntersecting||Vt.boundingClientRect.width!==0||(He=setTimeout(Wt,10))}),function(){W&&vt(W)}},[ht,vt,he,W,ne.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){he&&(he.cleanup(),we(null))}},[he,W]),e.useEffect(function(){return function(){Z.current!=null&&Z.current.cleanup()}},[]);var Mt=C?.animations;e.useEffect(function(){he&&Mt&&(he.isPlaying?(he.stop(he.animationNames),he.play(Mt)):he.isPaused&&(he.stop(he.animationNames),he.pause(Mt)))},[Mt,he]);var an=e.useCallback(function(He){return l.default.createElement(P,c({setContainerRef:Qe,setCanvasRef:Ce},He))},[Ce,Qe]);return{canvas:W,container:q.current,setCanvasRef:Ce,setContainerRef:Qe,rive:he,RiveComponent:an}}function z(C,U,I){var W=e.useState(null),se=W[0],q=W[1],Z=e.useState(I.defaultValue),ge=Z[0],he=Z[1],we=e.useState(null),k=we[0],ne=we[1],Te=e.useRef(null),_e=e.useRef(C),Ce=e.useRef(I);e.useEffect(function(){Ce.current=I},[I]);var Qe=e.useCallback(function(){var Mt=Te.current,an=_e.current,He=Ce.current;if(!Mt||!an)return q(null),he(He.defaultValue),ne(null),function(){};var Tt=He.getProperty(Mt,an);if(Tt){q(Tt),he(He.getValue(Tt)),He.getExtendedData&&ne(He.getExtendedData(Tt));var Wt=function(){he(He.getValue(Tt)),He.getExtendedData&&ne(He.getExtendedData(Tt)),He.onPropertyEvent&&He.onPropertyEvent()};return Tt.on(Wt),function(){Tt.off(Wt)}}return function(){}},[]);e.useEffect(function(){return Te.current=U,_e.current=C,Qe()},[U,C,Qe]);var ut=e.useCallback(function(Mt){if(se&&Te.current===U)try{return Mt(se),void(Ce.current.getExtendedData&&ne(Ce.current.getExtendedData(se)))}catch{}if(Te.current)try{var an=Ce.current.getProperty(Te.current,_e.current);an&&(q(an),Mt(an),Ce.current.getExtendedData&&ne(Ce.current.getExtendedData(an)))}catch{}},[se,U]),ht=e.useMemo(function(){return Ce.current.buildPropertyOperations(ut)},[ut]),vt=c({value:ge},ht);return I.getExtendedData&&(vt.extendedData=k),vt}r.default=function(C){var U=C.src,I=C.artboard,W=C.animations,se=C.stateMachines,q=C.layout,Z=C.useOffscreenRenderer,ge=Z===void 0||Z,he=C.shouldDisableRiveListeners,we=he!==void 0&&he,k=C.shouldResizeCanvasToContainer,ne=k===void 0||k,Te=C.automaticallyHandleEvents,_e=Te!==void 0&&Te,Ce=C.children,Qe=p(C,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),ut=V({src:U,artboard:I,animations:W,layout:q,stateMachines:se,autoplay:!0,shouldDisableRiveListeners:we,automaticallyHandleEvents:_e},{useOffscreenRenderer:ge,shouldResizeCanvasToContainer:ne}).RiveComponent;return l.default.createElement(ut,c({},Qe),Ce)},r.useResizeCanvas=Ue,r.useRive=V,r.useRiveFile=function(C){var U=this,I=e.useState(null),W=I[0],se=I[1],q=e.useState("idle"),Z=q[0],ge=q[1];return e.useEffect(function(){var he=null;return b(U,void 0,void 0,function(){return w(this,function(we){try{ge("loading"),(he=new i.RiveFile(C)).init(),he.on(i.EventType.Load,function(){he?.getInstance(),se(he),ge("success")}),he.on(i.EventType.LoadError,function(){ge("failed")}),se(he)}catch(k){console.error(k),ge("failed")}return[2]})}),function(){he?.cleanup()}},[C.src,C.buffer]),{riveFile:W,status:Z}},r.useStateMachineInput=function(C,U,I,W){var se=e.useState(null),q=se[0],Z=se[1];return e.useEffect(function(){function ge(){if(C&&U&&I||Z(null),C&&U&&I){var he=C.stateMachineInputs(U);if(he){var we=he.find(function(k){return k.name===I});W!==void 0&&we&&(we.value=W),Z(we||null)}}else Z(null)}ge(),C&&C.on(i.EventType.Load,function(){ge()})},[C]),q},r.useViewModel=function(C,U){var I=U??{},W=I.name,se=I.useDefault,q=se!==void 0&&se,Z=e.useState(null),ge=Z[0],he=Z[1];return e.useEffect(function(){function we(){var k;if(C){var ne=null;ne=W!=null?((k=C.viewModelByName)===null||k===void 0?void 0:k.call(C,W))||null:C.defaultViewModel()||null,he(ne)}else he(null)}return we(),C&&C.on(i.EventType.Load,we),function(){C&&C.off(i.EventType.Load,we)}},[C,W,q]),ge},r.useViewModelInstance=function(C,U){var I=U??{},W=I.name,se=I.useDefault,q=se!==void 0&&se,Z=I.useNew,ge=Z!==void 0&&Z,he=I.rive,we=e.useState(null),k=we[0],ne=we[1];return e.useEffect(function(){var Te,_e,Ce;if(C){var Qe=null;Qe=W!=null?C.instanceByName(W)||null:q?((Te=C.defaultInstance)===null||Te===void 0?void 0:Te.call(C))||null:ge?((_e=C.instance)===null||_e===void 0?void 0:_e.call(C))||null:((Ce=C.defaultInstance)===null||Ce===void 0?void 0:Ce.call(C))||null,ne(Qe),he&&Qe&&he.viewModelInstance!==Qe&&he.bindViewModelInstance(Qe)}else ne(null)},[C,W,q,ge,he]),k},r.useViewModelInstanceArtboard=function(C,U){return{setValue:z(C,U,{getProperty:e.useCallback(function(I,W){return I.artboard(W)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(W){I(function(se){se.value=W})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(C,U){var I=z(C,U,{getProperty:e.useCallback(function(W,se){return W.boolean(se)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(se){W(function(q){q.value=se})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceColor=function(C,U){var I=z(C,U,{getProperty:e.useCallback(function(W,se){return W.color(se)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(se){W(function(q){q.value=se})},setRgb:function(se,q,Z){W(function(ge){ge.rgb(se,q,Z)})},setRgba:function(se,q,Z,ge){W(function(he){he.rgba(se,q,Z,ge)})},setAlpha:function(se){W(function(q){q.alpha(se)})},setOpacity:function(se){W(function(q){q.opacity(se)})}}},[])});return{value:I.value,setValue:I.setValue,setRgb:I.setRgb,setRgba:I.setRgba,setAlpha:I.setAlpha,setOpacity:I.setOpacity}},r.useViewModelInstanceEnum=function(C,U){var I=z(C,U,{getProperty:e.useCallback(function(W,se){return W.enum(se)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(W){return W.values},[]),buildPropertyOperations:e.useCallback(function(W){return{setValue:function(se){W(function(q){q.value=se})}}},[])});return{value:I.value,values:I.extendedData||[],setValue:I.setValue}},r.useViewModelInstanceImage=function(C,U){return{setValue:z(C,U,{getProperty:e.useCallback(function(I,W){return I.image(W)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(W){I(function(se){se.value=W})}}},[])}).setValue}},r.useViewModelInstanceList=function(C,U){var I,W=e.useState(0)[1],se=z(C,U,{getProperty:e.useCallback(function(q,Z){return q.list(Z)},[]),getValue:e.useCallback(function(q){return q.length},[]),defaultValue:null,onPropertyEvent:function(){W(function(q){return q+1})},buildPropertyOperations:e.useCallback(function(q){return{addInstance:function(Z){q(function(ge){return ge.addInstance(Z)})},addInstanceAt:function(Z,ge){var he=!1;return q(function(we){he=we.addInstanceAt(Z,ge)}),he},removeInstance:function(Z){q(function(ge){return ge.removeInstance(Z)})},removeInstanceAt:function(Z){q(function(ge){return ge.removeInstanceAt(Z)})},getInstanceAt:function(Z){var ge=null;return q(function(he){ge=he.instanceAt(Z)}),ge},swap:function(Z,ge){q(function(he){return he.swap(Z,ge)})}}},[])});return{length:(I=se.value)!==null&&I!==void 0?I:0,addInstance:se.addInstance,addInstanceAt:se.addInstanceAt,removeInstance:se.removeInstance,removeInstanceAt:se.removeInstanceAt,getInstanceAt:se.getInstanceAt,swap:se.swap}},r.useViewModelInstanceNumber=function(C,U){var I=z(C,U,{getProperty:e.useCallback(function(W,se){return W.number(se)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(se){W(function(q){q.value=se})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceString=function(C,U){var I=z(C,U,{getProperty:e.useCallback(function(W,se){return W.string(se)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(se){W(function(q){q.value=se})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceTrigger=function(C,U,I){var W=(I??{}).onTrigger;return{trigger:z(C,U,{getProperty:e.useCallback(function(se,q){return se.trigger(q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:W,buildPropertyOperations:e.useCallback(function(se){return{trigger:function(){se(function(q){q.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(C){C==="default"||r.hasOwnProperty(C)||Object.defineProperty(r,C,{enumerable:!0,get:function(){return i[C]}})})})(cm)),cm}var so=ET();const TT=()=>{};var s_={};const F0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},AT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[s++]=String.fromCharCode(55296+(w>>10)),e[s++]=String.fromCharCode(56320+(w&1023))}else{const c=r[i++],p=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},H0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,w=l+2<r.length,E=w?r[l+2]:0,x=c>>2,L=(c&3)<<4|b>>4;let H=(b&15)<<2|E>>6,te=E&63;w||(te=64,p||(H=64)),s.push(i[x],i[L],i[H],i[te])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(F0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):AT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const E=l<r.length?i[r.charAt(l)]:64;++l;const L=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||E==null||L==null)throw new ST;const H=c<<2|b>>4;if(s.push(H),E!==64){const te=b<<4&240|E>>2;if(s.push(te),L!==64){const B=E<<6&192|L;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ST extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RT=function(r){const e=F0(r);return H0.encodeByteArray(e,!0)},Nh=function(r){return RT(r).replace(/\./g,"")},q0=function(r){try{return H0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IT=()=>CT().__FIREBASE_DEFAULTS__,xT=()=>{if(typeof process>"u"||typeof s_>"u")return;const r=s_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},MT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&q0(r[1]);return e&&JSON.parse(e)},tf=()=>{try{return TT()||IT()||xT()||MT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},G0=r=>tf()?.emulatorHosts?.[r],OT=r=>{const e=G0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Y0=()=>tf()?.config,X0=r=>tf()?.[`_${r}`];class DT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q0(r){return(await fetch(r,{credentials:"include"})).ok}function NT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Nh(JSON.stringify(i)),Nh(JSON.stringify(p)),""].join(".")}const Fu={};function VT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?r.emulator.push(e):r.prod.push(e);return r}function kT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let o_=!1;function K0(r,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||Fu[r]===e||Fu[r]||o_)return;Fu[r]=e;function i(H){return`__firebase__banner__${H}`}const s="__firebase__banner",c=VT().prod.length>0;function p(){const H=document.getElementById(s);H&&H.remove()}function b(H){H.style.display="flex",H.style.background="#7faaf0",H.style.position="fixed",H.style.bottom="5px",H.style.left="5px",H.style.padding=".5em",H.style.borderRadius="5px",H.style.alignItems="center"}function w(H,te){H.setAttribute("width","24"),H.setAttribute("id",te),H.setAttribute("height","24"),H.setAttribute("viewBox","0 0 24 24"),H.setAttribute("fill","none"),H.style.marginLeft="-6px"}function E(){const H=document.createElement("span");return H.style.cursor="pointer",H.style.marginLeft="16px",H.style.fontSize="24px",H.innerHTML=" &times;",H.onclick=()=>{o_=!0,p()},H}function x(H,te){H.setAttribute("id",te),H.innerText="Learn more",H.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",H.setAttribute("target","__blank"),H.style.paddingLeft="5px",H.style.textDecoration="underline"}function L(){const H=kT(s),te=i("text"),B=document.getElementById(te)||document.createElement("span"),De=i("learnmore"),Ae=document.getElementById(De)||document.createElement("a"),Le=i("preprendIcon"),Ue=document.getElementById(Le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(H.created){const Be=H.element;b(Be),x(Ae,De);const $e=E();w(Ue,Le),Be.append(Ue,B,Ae,$e),document.body.appendChild(Be)}c?(B.innerText="Preview backend disconnected.",Ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",te)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",L):L()}function Hi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hi())}function LT(){const r=tf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BT(){const r=Hi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function FT(){return!LT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HT(){try{return typeof indexedDB=="object"}catch{return!1}}function qT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const GT="FirebaseError";class As extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=GT,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?YT(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new As(l,b,s)}}function YT(r,e){return r.replace(XT,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const XT=/\{\$([^}]+)}/g;function QT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],p=e[l];if(l_(c)&&l_(p)){if(!Fo(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function l_(r){return r!==null&&typeof r=="object"}function rc(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function KT(r,e){const i=new WT(r,e);return i.subscribe.bind(i)}class WT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");$T(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=hm),l.error===void 0&&(l.error=hm),l.complete===void 0&&(l.complete=hm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $T(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function hm(){}function Ar(r){return r&&r._delegate?r._delegate:r}class Ho{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Uo="[DEFAULT]";class JT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new DT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eA(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZT(r){return r===Uo?void 0:r}function eA(r){return r.instantiationMode==="EAGER"}class tA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new JT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Xt||(Xt={}));const nA={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},iA=Xt.INFO,rA={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},aA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=rA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=iA,this._logHandler=aA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}const sA=(r,e)=>e.some(i=>r instanceof i);let u_,c_;function oA(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lA(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W0=new WeakMap,Rm=new WeakMap,$0=new WeakMap,fm=new WeakMap,Zm=new WeakMap;function uA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(lo(r.result)),l()},p=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&W0.set(i,r)}).catch(()=>{}),Zm.set(e,r),e}function cA(r){if(Rm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});Rm.set(r,e)}let Cm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Rm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lo(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function hA(r){Cm=r(Cm)}function fA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(dm(this),e,...i);return $0.set(s,e.sort?e.sort():[e]),lo(s)}:lA().includes(r)?function(...e){return r.apply(dm(this),e),lo(W0.get(this))}:function(...e){return lo(r.apply(dm(this),e))}}function dA(r){return typeof r=="function"?fA(r):(r instanceof IDBTransaction&&cA(r),sA(r,oA())?new Proxy(r,Cm):r)}function lo(r){if(r instanceof IDBRequest)return uA(r);if(fm.has(r))return fm.get(r);const e=dA(r);return e!==r&&(fm.set(r,e),Zm.set(e,r)),e}const dm=r=>Zm.get(r);function mA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=lo(p);return s&&p.addEventListener("upgradeneeded",w=>{s(lo(p.result),w.oldVersion,w.newVersion,lo(p.transaction),w)}),i&&p.addEventListener("blocked",w=>i(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const pA=["get","getKey","getAll","getAllKeys","count"],gA=["put","add","delete","clear"],mm=new Map;function h_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=gA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||pA.includes(i)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return s&&(E=E.index(b.shift())),(await Promise.all([E[i](...b),l&&w.done]))[0]};return mm.set(e,c),c}hA(r=>({...r,get:(e,i,s)=>h_(e,i)||r.get(e,i,s),has:(e,i)=>!!h_(e,i)||r.has(e,i)}));class yA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function vA(r){return r.getComponent()?.type==="VERSION"}const Im="@firebase/app",f_="0.14.6";const vs=new Jm("@firebase/app"),_A="@firebase/app-compat",bA="@firebase/analytics-compat",wA="@firebase/analytics",EA="@firebase/app-check-compat",TA="@firebase/app-check",AA="@firebase/auth",SA="@firebase/auth-compat",RA="@firebase/database",CA="@firebase/data-connect",IA="@firebase/database-compat",xA="@firebase/functions",MA="@firebase/functions-compat",OA="@firebase/installations",DA="@firebase/installations-compat",NA="@firebase/messaging",VA="@firebase/messaging-compat",kA="@firebase/performance",PA="@firebase/performance-compat",LA="@firebase/remote-config",UA="@firebase/remote-config-compat",jA="@firebase/storage",zA="@firebase/storage-compat",BA="@firebase/firestore",FA="@firebase/ai",HA="@firebase/firestore-compat",qA="firebase",GA="12.6.0";const xm="[DEFAULT]",YA={[Im]:"fire-core",[_A]:"fire-core-compat",[wA]:"fire-analytics",[bA]:"fire-analytics-compat",[TA]:"fire-app-check",[EA]:"fire-app-check-compat",[AA]:"fire-auth",[SA]:"fire-auth-compat",[RA]:"fire-rtdb",[CA]:"fire-data-connect",[IA]:"fire-rtdb-compat",[xA]:"fire-fn",[MA]:"fire-fn-compat",[OA]:"fire-iid",[DA]:"fire-iid-compat",[NA]:"fire-fcm",[VA]:"fire-fcm-compat",[kA]:"fire-perf",[PA]:"fire-perf-compat",[LA]:"fire-rc",[UA]:"fire-rc-compat",[jA]:"fire-gcs",[zA]:"fire-gcs-compat",[BA]:"fire-fst",[HA]:"fire-fst-compat",[FA]:"fire-vertex","fire-js":"fire-js",[qA]:"fire-js-all"};const Vh=new Map,XA=new Map,Mm=new Map;function d_(r,e){try{r.container.addComponent(e)}catch(i){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function jl(r){const e=r.name;if(Mm.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,r);for(const i of Vh.values())d_(i,r);for(const i of XA.values())d_(i,r);return!0}function ep(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ea(r){return r==null?!1:r.settings!==void 0}const QA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new ic("app","Firebase",QA);class KA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}const Xl=GA;function J0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:xm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw uo.create("bad-app-name",{appName:String(l)});if(i||(i=Y0()),!i)throw uo.create("no-options");const c=Vh.get(l);if(c){if(Fo(i,c.options)&&Fo(s,c.config))return c;throw uo.create("duplicate-app",{appName:l})}const p=new tA(l);for(const w of Mm.values())p.addComponent(w);const b=new KA(i,s,p);return Vh.set(l,b),b}function Z0(r=xm){const e=Vh.get(r);if(!e&&r===xm&&Y0())return J0();if(!e)throw uo.create("no-app",{appName:r});return e}function co(r,e,i){let s=YA[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(p.join(" "));return}jl(new Ho(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const WA="firebase-heartbeat-database",$A=1,Ku="firebase-heartbeat-store";let pm=null;function eb(){return pm||(pm=mA(WA,$A,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ku)}catch(i){console.warn(i)}}}}).catch(r=>{throw uo.create("idb-open",{originalErrorMessage:r.message})})),pm}async function JA(r){try{const i=(await eb()).transaction(Ku),s=await i.objectStore(Ku).get(tb(r));return await i.done,s}catch(e){if(e instanceof As)vs.warn(e.message);else{const i=uo.create("idb-get",{originalErrorMessage:e?.message});vs.warn(i.message)}}}async function m_(r,e){try{const s=(await eb()).transaction(Ku,"readwrite");await s.objectStore(Ku).put(e,tb(r)),await s.done}catch(i){if(i instanceof As)vs.warn(i.message);else{const s=uo.create("idb-set",{originalErrorMessage:i?.message});vs.warn(s.message)}}}function tb(r){return`${r.name}!${r.options.appId}`}const ZA=1024,eS=30;class tS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=p_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>eS){const l=rS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=p_(),{heartbeatsToSend:i,unsentEntries:s}=nS(this._heartbeatsCache.heartbeats),l=Nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return vs.warn(e),""}}}function p_(){return new Date().toISOString().substring(0,10)}function nS(r,e=ZA){const i=[];let s=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),g_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),g_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class iS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HT()?qT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function g_(r){return Nh(JSON.stringify({version:2,heartbeats:r})).length}function rS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function aS(r){jl(new Ho("platform-logger",e=>new yA(e),"PRIVATE")),jl(new Ho("heartbeat",e=>new tS(e),"PRIVATE")),co(Im,f_,r),co(Im,f_,"esm2020"),co("fire-js","")}aS("");var sS="firebase",oS="12.6.0";co(sS,oS,"app");function nb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lS=nb,ib=new ic("auth","Firebase",nb());const kh=new Jm("@firebase/auth");function uS(r,...e){kh.logLevel<=Xt.WARN&&kh.warn(`Auth (${Xl}): ${r}`,...e)}function Th(r,...e){kh.logLevel<=Xt.ERROR&&kh.error(`Auth (${Xl}): ${r}`,...e)}function _s(r,...e){throw tp(r,...e)}function Na(r,...e){return tp(r,...e)}function rb(r,e,i){const s={...lS(),[e]:i};return new ic("auth","Firebase",s).create(e,{appName:r.name})}function gs(r){return rb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tp(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return ib.create(r,...e)}function Et(r,e,...i){if(!r)throw tp(e,...i)}function ms(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Th(e),new Error(e)}function bs(r,e){r||ms(e)}function Om(){return typeof self<"u"&&self.location?.href||""}function cS(){return y_()==="http:"||y_()==="https:"}function y_(){return typeof self<"u"&&self.location?.protocol||null}function hS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cS()||jT()||"connection"in navigator)?navigator.onLine:!0}function fS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ac{constructor(e,i){this.shortDelay=e,this.longDelay=i,bs(i>e,"Short delay should be less than long delay!"),this.isMobile=PT()||zT()}get(){return hS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function np(r,e){bs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class ab{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pS=new ac(3e4,6e4);function sc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ql(r,e,i,s,l={}){return sb(r,l,async()=>{let c={},p={};s&&(e==="GET"?p=s:c={body:JSON.stringify(s)});const b=rc({key:r.config.apiKey,...p}).slice(1),w=await r._getAdditionalHeaders();w["Content-Type"]="application/json",r.languageCode&&(w["X-Firebase-Locale"]=r.languageCode);const E={method:e,headers:w,...c};return UT()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(E.credentials="include"),ab.fetch()(await ob(r,r.config.apiHost,i,b),E)})}async function sb(r,e,i){r._canInitEmulator=!1;const s={...dS,...e};try{const l=new gS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw gh(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",p);if(w==="USER_DISABLED")throw gh(r,"user-disabled",p);const x=s[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw rb(r,x,E);_s(r,x)}}catch(l){if(l instanceof As)throw l;_s(r,"network-request-failed",{message:String(l)})}}async function ip(r,e,i,s,l={}){const c=await Ql(r,e,i,s,l);return"mfaPendingCredential"in c&&_s(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function ob(r,e,i,s){const l=`${e}${i}?${s}`,c=r,p=c.config.emulator?np(r.config,l):`${r.config.apiScheme}://${l}`;return mS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class gS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Na(this.auth,"network-request-failed")),pS.get())})}}function gh(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Na(r,e,s);return l.customData._tokenResponse=i,l}async function yS(r,e){return Ql(r,"POST","/v1/accounts:delete",e)}async function Ph(r,e){return Ql(r,"POST","/v1/accounts:lookup",e)}function Hu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vS(r,e=!1){const i=Ar(r),s=await i.getIdToken(e),l=rp(s);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:s,authTime:Hu(gm(l.auth_time)),issuedAtTime:Hu(gm(l.iat)),expirationTime:Hu(gm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function gm(r){return Number(r)*1e3}function rp(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const l=q0(i);return l?JSON.parse(l):(Th("Failed to decode base64 JWT payload"),null)}catch(l){return Th("Caught error parsing JWT payload as JSON",l?.toString()),null}}function v_(r){const e=rp(r);return Et(e,"internal-error"),Et(typeof e.exp<"u","internal-error"),Et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wu(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof As&&_S(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function _S({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class bS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lh(r){const e=r.auth,i=await r.getIdToken(),s=await Wu(r,Ph(e,{idToken:i}));Et(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?lb(l.providerUserInfo):[],p=ES(r.providerData,c),b=r.isAnonymous,w=!(r.email&&l.passwordHash)&&!p?.length,E=b?w:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Dm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,x)}async function wS(r){const e=Ar(r);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ES(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function lb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function TS(r,e){const i=await sb(r,{},async()=>{const s=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await ob(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:s};return r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(w.credentials="include"),ab.fetch()(p,w)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function AS(r,e){return Ql(r,"POST","/v2/accounts:revokeToken",sc(r,e))}class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken<"u","internal-error"),Et(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const i=v_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await TS(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,p=new Vl;return s&&(Et(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),l&&(Et(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return ms("not implemented")}}function eo(r,e){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class fa{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new bS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return vS(this,e)}reload(){return wS(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ea(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await Wu(this,yS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,w=i._redirectEventId??void 0,E=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:L,emailVerified:H,isAnonymous:te,providerData:B,stsTokenManager:De}=i;Et(L&&De,e,"internal-error");const Ae=Vl.fromJSON(this.name,De);Et(typeof L=="string",e,"internal-error"),eo(s,e.name),eo(l,e.name),Et(typeof H=="boolean",e,"internal-error"),Et(typeof te=="boolean",e,"internal-error"),eo(c,e.name),eo(p,e.name),eo(b,e.name),eo(w,e.name),eo(E,e.name),eo(x,e.name);const Le=new fa({uid:L,auth:e,email:l,emailVerified:H,displayName:s,isAnonymous:te,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Ae,createdAt:E,lastLoginAt:x});return B&&Array.isArray(B)&&(Le.providerData=B.map(Ue=>({...Ue}))),w&&(Le._redirectEventId=w),Le}static async _fromIdTokenResponse(e,i,s=!1){const l=new Vl;l.updateFromServerResponse(i);const c=new fa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Lh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?lb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Vl;b.updateFromIdToken(s);const w=new fa({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const __=new Map;function ps(r){bs(r instanceof Function,"Expected a class definition");let e=__.get(r);return e?(bs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,__.set(r,e),e)}class ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}ub.type="NONE";const b_=ub;function Ah(r,e,i){return`firebase:${r}:${e}:${i}`}class kl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ah(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ah("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Ph(this.auth,{idToken:e}).catch(()=>{});return i?fa._fromGetAccountInfoResponse(this.auth,i,e):null}return fa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new kl(ps(b_),e,s);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||ps(b_);const p=Ah(s,e.config.apiKey,e.name);let b=null;for(const E of i)try{const x=await E._get(p);if(x){let L;if(typeof x=="string"){const H=await Ph(e,{idToken:x}).catch(()=>{});if(!H)break;L=await fa._fromGetAccountInfoResponse(e,H,x)}else L=fa._fromJSON(e,x);E!==c&&(b=L),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new kl(c,e,s):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new kl(c,e,s))}}function w_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(db(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pb(e))return"Blackberry";if(gb(e))return"Webos";if(hb(e))return"Safari";if((e.includes("chrome/")||fb(e))&&!e.includes("edge/"))return"Chrome";if(mb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function cb(r=Hi()){return/firefox\//i.test(r)}function hb(r=Hi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fb(r=Hi()){return/crios\//i.test(r)}function db(r=Hi()){return/iemobile/i.test(r)}function mb(r=Hi()){return/android/i.test(r)}function pb(r=Hi()){return/blackberry/i.test(r)}function gb(r=Hi()){return/webos/i.test(r)}function ap(r=Hi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SS(r=Hi()){return ap(r)&&!!window.navigator?.standalone}function RS(){return BT()&&document.documentMode===10}function yb(r=Hi()){return ap(r)||mb(r)||gb(r)||pb(r)||/windows phone/i.test(r)||db(r)}function vb(r,e=[]){let i;switch(r){case"Browser":i=w_(Hi());break;case"Worker":i=`${w_(Hi())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xl}/${s}`}class CS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function IS(r,e={}){return Ql(r,"GET","/v2/passwordPolicy",sc(r,e))}const xS=6;class MS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??xS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class OS{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new CS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ib,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Ph(this,{idToken:e}),s=await fa._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ea(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=s?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(s=b.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ea(this.app))return Promise.reject(gs(this));const i=e?Ar(e):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ea(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ea(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IS(this),i=new MS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await AS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ps(e)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const w=e.addObserver(i,s,l);return()=>{p=!0,w()}}else{const w=e.addObserver(i);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oc(r){return Ar(r)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=KT(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DS(r){sp=r}function NS(r){return sp.loadJS(r)}function VS(){return sp.gapiScript}function kS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function PS(r,e){const i=ep(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Fo(c,e??{}))return l;_s(l,"already-initialized")}return i.initialize({options:e})}function LS(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ps);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function US(r,e,i){const s=oc(r);Et(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=_b(e),{host:p,port:b}=jS(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},x=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Fo(E,s.config.emulator)&&Fo(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Yl(p)?(Q0(`${c}//${p}${w}`),K0("Auth",!0)):zS()}function _b(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function jS(r){const e=_b(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:T_(s.substr(c.length+1))}}else{const[c,p]=s.split(":");return{host:c,port:T_(p)}}}function T_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function zS(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class bb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,i){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function Pl(r,e){return ip(r,"POST","/v1/accounts:signInWithIdp",sc(r,e))}const BS="http://localhost";class qo extends bb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):_s("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const p=new qo(s,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return Pl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Pl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Pl(e,i)}buildRequest(){const e={requestUri:BS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=rc(i)}return e}}class wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class no extends lc{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";class io extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return qo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return io.credential(i,s)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";class ro extends lc{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";class ao extends lc{constructor(){super("twitter.com")}static credential(e,i){return qo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return ao.credential(i,s)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";async function FS(r,e){return ip(r,"POST","/v1/accounts:signUp",sc(r,e))}class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await fa._fromIdTokenResponse(e,s,l),p=A_(s);return new ws({user:c,providerId:p,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=A_(s);return new ws({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function A_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function HS(r){if(ea(r.app))return Promise.reject(gs(r));const e=oc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ws({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await FS(e,{returnSecureToken:!0}),s=await ws._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class Uh extends As{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Uh(e,i,s,l)}}function Eb(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,c,e,s):c})}async function qS(r,e,i=!1){const s=await Wu(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return ws._forOperation(r,"link",s)}async function GS(r,e,i=!1){const{auth:s}=r;if(ea(s.app))return Promise.reject(gs(s));const l="reauthenticate";try{const c=await Wu(r,Eb(s,l,e,r),i);Et(c.idToken,s,"internal-error");const p=rp(c.idToken);Et(p,s,"internal-error");const{sub:b}=p;return Et(r.uid===b,s,"user-mismatch"),ws._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&_s(s,"user-mismatch"),c}}async function YS(r,e,i=!1){if(ea(r.app))return Promise.reject(gs(r));const s="signIn",l=await Eb(r,s,e),c=await ws._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function XS(r,e){return ip(r,"POST","/v1/accounts:signInWithCustomToken",sc(r,e))}async function QS(r,e){if(ea(r.app))return Promise.reject(gs(r));const i=oc(r),s=await XS(i,{token:e,returnSecureToken:!0}),l=await ws._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function KS(r,e,i,s){return Ar(r).onIdTokenChanged(e,i,s)}function WS(r,e,i){return Ar(r).beforeAuthStateChanged(e,i)}function $S(r,e,i,s){return Ar(r).onAuthStateChanged(e,i,s)}const jh="__sak";class Tb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JS=1e3,ZS=10;class Ab extends Tb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},c=this.storage.getItem(s);RS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,ZS):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},JS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ab.type="LOCAL";const e2=Ab;class Sb extends Tb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Sb.type="SESSION";const Rb=Sb;function t2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const b=Array.from(p).map(async E=>E(i.origin,c)),w=await t2(b);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:w})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];function op(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class n2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=op("",20);l.port1.start();const x=setTimeout(()=>{w(new Error("unsupported_event"))},s);p={messageChannel:l,onMessage(L){const H=L;if(H.data.eventId===E)switch(H.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(H.data.response);break;default:clearTimeout(x),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Va(){return window}function i2(r){Va().location.href=r}function Cb(){return typeof Va().WorkerGlobalScope<"u"&&typeof Va().importScripts=="function"}async function r2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a2(){return navigator?.serviceWorker?.controller||null}function s2(){return Cb()?self:null}const Ib="firebaseLocalStorageDb",o2=1,zh="firebaseLocalStorage",xb="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rf(r,e){return r.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function l2(){const r=indexedDB.deleteDatabase(Ib);return new uc(r).toPromise()}function Nm(){const r=indexedDB.open(Ib,o2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(zh,{keyPath:xb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await l2(),e(await Nm()))})})}async function S_(r,e,i){const s=rf(r,!0).put({[xb]:e,value:i});return new uc(s).toPromise()}async function u2(r,e){const i=rf(r,!1).get(e),s=await new uc(i).toPromise();return s===void 0?null:s.value}function R_(r,e){const i=rf(r,!0).delete(e);return new uc(i).toPromise()}const c2=800,h2=3;class Mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>h2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(s2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await r2(),!this.activeServiceWorker)return;this.sender=new n2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nm();return await S_(e,jh,"1"),await R_(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>S_(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>u2(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>R_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=rf(l,!1).getAll();return new uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mb.type="LOCAL";const f2=Mb;new ac(3e4,6e4);function d2(r,e){return e?ps(e):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class lp extends bb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Pl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function m2(r){return YS(r.auth,new lp(r),r.bypassAuthState)}function p2(r){const{auth:e,user:i}=r;return Et(i,e,"internal-error"),GS(i,new lp(r),r.bypassAuthState)}async function g2(r){const{auth:e,user:i}=r;return Et(i,e,"internal-error"),qS(i,new lp(r),r.bypassAuthState)}class Ob{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m2;case"linkViaPopup":case"linkViaRedirect":return g2;case"reauthViaPopup":case"reauthViaRedirect":return p2;default:_s(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const y2=new ac(2e3,1e4);class Nl extends Ob{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Et(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y2.get())};e()}}Nl.currentPopupAction=null;const v2="pendingRedirect",Sh=new Map;class _2 extends Ob{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await b2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b2(r,e){const i=T2(e),s=E2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function w2(r,e){Sh.set(r._key(),e)}function E2(r){return ps(r._redirectPersistence)}function T2(r){return Ah(v2,r.config.apiKey,r.name)}async function A2(r,e,i=!1){if(ea(r.app))return Promise.reject(gs(r));const s=oc(r),l=d2(s,e),p=await new _2(s,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}const S2=600*1e3;class R2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Db(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Na(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S2&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Db({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function C2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Db(r);default:return!1}}async function I2(r,e={}){return Ql(r,"GET","/v1/projects",e)}const x2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M2=/^https?/;async function O2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await I2(r);for(const i of e)try{if(D2(i))return}catch{}_s(r,"unauthorized-domain")}function D2(r){const e=Om(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===s}if(!M2.test(i))return!1;if(x2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const N2=new ac(3e4,6e4);function I_(){const r=Va().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function V2(r){return new Promise((e,i)=>{function s(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),i(Na(r,"network-request-failed"))},timeout:N2.get()})}if(Va().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Va().gapi?.load)s();else{const l=kS("iframefcb");return Va()[l]=()=>{gapi.load?s():i(Na(r,"network-request-failed"))},NS(`${VS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function k2(r){return Rh=Rh||V2(r),Rh}const P2=new ac(5e3,15e3),L2="__/auth/iframe",U2="emulator/auth/iframe",j2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B2(r){const e=r.config;Et(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?np(e,U2):`https://${r.config.authDomain}/${L2}`,s={apiKey:e.apiKey,appName:r.name,v:Xl},l=z2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${rc(s).slice(1)}`}async function F2(r){const e=await k2(r),i=Va().gapi;return Et(i,r,"internal-error"),e.open({where:document.body,url:B2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const p=Na(r,"network-request-failed"),b=Va().setTimeout(()=>{c(p)},P2.get());function w(){Va().clearTimeout(b),l(s)}s.ping(w).then(w,()=>{c(p)})}))}const H2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q2=500,G2=600,Y2="_blank",X2="http://localhost";class x_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q2(r,e,i,s=q2,l=G2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const w={...H2,width:s.toString(),height:l.toString(),top:c,left:p},E=Hi().toLowerCase();i&&(b=fb(E)?Y2:i),cb(E)&&(e=e||X2,w.scrollbars="yes");const x=Object.entries(w).reduce((H,[te,B])=>`${H}${te}=${B},`,"");if(SS(E)&&b!=="_self")return K2(e||"",b),new x_(null);const L=window.open(e||"",b,x);Et(L,r,"popup-blocked");try{L.focus()}catch{}return new x_(L)}function K2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const W2="__/auth/handler",$2="emulator/auth/handler",J2=encodeURIComponent("fac");async function M_(r,e,i,s,l,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Xl,eventId:l};if(e instanceof wb){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",QT(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,L]of Object.entries({}))p[x]=L}if(e instanceof lc){const x=e.getScopes().filter(L=>L!=="");x.length>0&&(p.scopes=x.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const x of Object.keys(b))b[x]===void 0&&delete b[x];const w=await r._getAppCheckToken(),E=w?`#${J2}=${encodeURIComponent(w)}`:"";return`${Z2(r)}?${rc(b).slice(1)}${E}`}function Z2({config:r}){return r.emulator?np(r,$2):`https://${r.authDomain}/${W2}`}const ym="webStorageSupport";class eR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rb,this._completeRedirectFn=A2,this._overrideRedirectResult=w2}async _openPopup(e,i,s,l){bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await M_(e,i,s,Om(),l);return Q2(e,c,op())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await M_(e,i,s,Om(),l);return i2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(bs(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await F2(e),s=new R2(e);return i.register("authEvent",l=>(Et(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(ym,{type:ym},l=>{const c=l?.[0]?.[ym];c!==void 0&&i(!!c),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=O2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return yb()||hb()||ap()}}const tR=eR;var O_="@firebase/auth",D_="1.11.1";class nR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function iR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rR(r){jl(new Ho("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;Et(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const w={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vb(r)},E=new OS(s,l,c,w);return LS(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),jl(new Ho("auth-internal",e=>{const i=oc(e.getProvider("auth").getImmediate());return(s=>new nR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(O_,D_,iR(r)),co(O_,D_,"esm2020")}const aR=300,sR=X0("authIdTokenMaxAge")||aR;let N_=null;const oR=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>sR)return;const l=i?.token;N_!==l&&(N_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function lR(r=Z0()){const e=ep(r,"auth");if(e.isInitialized())return e.getImmediate();const i=PS(r,{popupRedirectResolver:tR,persistence:[f2,e2,Rb]}),s=X0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const p=oR(c.toString());WS(i,p,()=>p(i.currentUser)),KS(i,b=>p(b))}}const l=G0("auth");return l&&US(i,`http://${l}`),i}function uR(){return document.getElementsByTagName("head")?.[0]??document}DS({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Na("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",uR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rR("Browser");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ho,Nb;(function(){var r;function e(F,P){function V(){}V.prototype=P.prototype,F.F=P.prototype,F.prototype=new V,F.prototype.constructor=F,F.D=function(z,C,U){for(var I=Array(arguments.length-2),W=2;W<arguments.length;W++)I[W-2]=arguments[W];return P.prototype[C].apply(z,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(F,P,V){V||(V=0);const z=Array(16);if(typeof P=="string")for(var C=0;C<16;++C)z[C]=P.charCodeAt(V++)|P.charCodeAt(V++)<<8|P.charCodeAt(V++)<<16|P.charCodeAt(V++)<<24;else for(C=0;C<16;++C)z[C]=P[V++]|P[V++]<<8|P[V++]<<16|P[V++]<<24;P=F.g[0],V=F.g[1],C=F.g[2];let U=F.g[3],I;I=P+(U^V&(C^U))+z[0]+3614090360&4294967295,P=V+(I<<7&4294967295|I>>>25),I=U+(C^P&(V^C))+z[1]+3905402710&4294967295,U=P+(I<<12&4294967295|I>>>20),I=C+(V^U&(P^V))+z[2]+606105819&4294967295,C=U+(I<<17&4294967295|I>>>15),I=V+(P^C&(U^P))+z[3]+3250441966&4294967295,V=C+(I<<22&4294967295|I>>>10),I=P+(U^V&(C^U))+z[4]+4118548399&4294967295,P=V+(I<<7&4294967295|I>>>25),I=U+(C^P&(V^C))+z[5]+1200080426&4294967295,U=P+(I<<12&4294967295|I>>>20),I=C+(V^U&(P^V))+z[6]+2821735955&4294967295,C=U+(I<<17&4294967295|I>>>15),I=V+(P^C&(U^P))+z[7]+4249261313&4294967295,V=C+(I<<22&4294967295|I>>>10),I=P+(U^V&(C^U))+z[8]+1770035416&4294967295,P=V+(I<<7&4294967295|I>>>25),I=U+(C^P&(V^C))+z[9]+2336552879&4294967295,U=P+(I<<12&4294967295|I>>>20),I=C+(V^U&(P^V))+z[10]+4294925233&4294967295,C=U+(I<<17&4294967295|I>>>15),I=V+(P^C&(U^P))+z[11]+2304563134&4294967295,V=C+(I<<22&4294967295|I>>>10),I=P+(U^V&(C^U))+z[12]+1804603682&4294967295,P=V+(I<<7&4294967295|I>>>25),I=U+(C^P&(V^C))+z[13]+4254626195&4294967295,U=P+(I<<12&4294967295|I>>>20),I=C+(V^U&(P^V))+z[14]+2792965006&4294967295,C=U+(I<<17&4294967295|I>>>15),I=V+(P^C&(U^P))+z[15]+1236535329&4294967295,V=C+(I<<22&4294967295|I>>>10),I=P+(C^U&(V^C))+z[1]+4129170786&4294967295,P=V+(I<<5&4294967295|I>>>27),I=U+(V^C&(P^V))+z[6]+3225465664&4294967295,U=P+(I<<9&4294967295|I>>>23),I=C+(P^V&(U^P))+z[11]+643717713&4294967295,C=U+(I<<14&4294967295|I>>>18),I=V+(U^P&(C^U))+z[0]+3921069994&4294967295,V=C+(I<<20&4294967295|I>>>12),I=P+(C^U&(V^C))+z[5]+3593408605&4294967295,P=V+(I<<5&4294967295|I>>>27),I=U+(V^C&(P^V))+z[10]+38016083&4294967295,U=P+(I<<9&4294967295|I>>>23),I=C+(P^V&(U^P))+z[15]+3634488961&4294967295,C=U+(I<<14&4294967295|I>>>18),I=V+(U^P&(C^U))+z[4]+3889429448&4294967295,V=C+(I<<20&4294967295|I>>>12),I=P+(C^U&(V^C))+z[9]+568446438&4294967295,P=V+(I<<5&4294967295|I>>>27),I=U+(V^C&(P^V))+z[14]+3275163606&4294967295,U=P+(I<<9&4294967295|I>>>23),I=C+(P^V&(U^P))+z[3]+4107603335&4294967295,C=U+(I<<14&4294967295|I>>>18),I=V+(U^P&(C^U))+z[8]+1163531501&4294967295,V=C+(I<<20&4294967295|I>>>12),I=P+(C^U&(V^C))+z[13]+2850285829&4294967295,P=V+(I<<5&4294967295|I>>>27),I=U+(V^C&(P^V))+z[2]+4243563512&4294967295,U=P+(I<<9&4294967295|I>>>23),I=C+(P^V&(U^P))+z[7]+1735328473&4294967295,C=U+(I<<14&4294967295|I>>>18),I=V+(U^P&(C^U))+z[12]+2368359562&4294967295,V=C+(I<<20&4294967295|I>>>12),I=P+(V^C^U)+z[5]+4294588738&4294967295,P=V+(I<<4&4294967295|I>>>28),I=U+(P^V^C)+z[8]+2272392833&4294967295,U=P+(I<<11&4294967295|I>>>21),I=C+(U^P^V)+z[11]+1839030562&4294967295,C=U+(I<<16&4294967295|I>>>16),I=V+(C^U^P)+z[14]+4259657740&4294967295,V=C+(I<<23&4294967295|I>>>9),I=P+(V^C^U)+z[1]+2763975236&4294967295,P=V+(I<<4&4294967295|I>>>28),I=U+(P^V^C)+z[4]+1272893353&4294967295,U=P+(I<<11&4294967295|I>>>21),I=C+(U^P^V)+z[7]+4139469664&4294967295,C=U+(I<<16&4294967295|I>>>16),I=V+(C^U^P)+z[10]+3200236656&4294967295,V=C+(I<<23&4294967295|I>>>9),I=P+(V^C^U)+z[13]+681279174&4294967295,P=V+(I<<4&4294967295|I>>>28),I=U+(P^V^C)+z[0]+3936430074&4294967295,U=P+(I<<11&4294967295|I>>>21),I=C+(U^P^V)+z[3]+3572445317&4294967295,C=U+(I<<16&4294967295|I>>>16),I=V+(C^U^P)+z[6]+76029189&4294967295,V=C+(I<<23&4294967295|I>>>9),I=P+(V^C^U)+z[9]+3654602809&4294967295,P=V+(I<<4&4294967295|I>>>28),I=U+(P^V^C)+z[12]+3873151461&4294967295,U=P+(I<<11&4294967295|I>>>21),I=C+(U^P^V)+z[15]+530742520&4294967295,C=U+(I<<16&4294967295|I>>>16),I=V+(C^U^P)+z[2]+3299628645&4294967295,V=C+(I<<23&4294967295|I>>>9),I=P+(C^(V|~U))+z[0]+4096336452&4294967295,P=V+(I<<6&4294967295|I>>>26),I=U+(V^(P|~C))+z[7]+1126891415&4294967295,U=P+(I<<10&4294967295|I>>>22),I=C+(P^(U|~V))+z[14]+2878612391&4294967295,C=U+(I<<15&4294967295|I>>>17),I=V+(U^(C|~P))+z[5]+4237533241&4294967295,V=C+(I<<21&4294967295|I>>>11),I=P+(C^(V|~U))+z[12]+1700485571&4294967295,P=V+(I<<6&4294967295|I>>>26),I=U+(V^(P|~C))+z[3]+2399980690&4294967295,U=P+(I<<10&4294967295|I>>>22),I=C+(P^(U|~V))+z[10]+4293915773&4294967295,C=U+(I<<15&4294967295|I>>>17),I=V+(U^(C|~P))+z[1]+2240044497&4294967295,V=C+(I<<21&4294967295|I>>>11),I=P+(C^(V|~U))+z[8]+1873313359&4294967295,P=V+(I<<6&4294967295|I>>>26),I=U+(V^(P|~C))+z[15]+4264355552&4294967295,U=P+(I<<10&4294967295|I>>>22),I=C+(P^(U|~V))+z[6]+2734768916&4294967295,C=U+(I<<15&4294967295|I>>>17),I=V+(U^(C|~P))+z[13]+1309151649&4294967295,V=C+(I<<21&4294967295|I>>>11),I=P+(C^(V|~U))+z[4]+4149444226&4294967295,P=V+(I<<6&4294967295|I>>>26),I=U+(V^(P|~C))+z[11]+3174756917&4294967295,U=P+(I<<10&4294967295|I>>>22),I=C+(P^(U|~V))+z[2]+718787259&4294967295,C=U+(I<<15&4294967295|I>>>17),I=V+(U^(C|~P))+z[9]+3951481745&4294967295,F.g[0]=F.g[0]+P&4294967295,F.g[1]=F.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,F.g[2]=F.g[2]+C&4294967295,F.g[3]=F.g[3]+U&4294967295}s.prototype.v=function(F,P){P===void 0&&(P=F.length);const V=P-this.blockSize,z=this.C;let C=this.h,U=0;for(;U<P;){if(C==0)for(;U<=V;)l(this,F,U),U+=this.blockSize;if(typeof F=="string"){for(;U<P;)if(z[C++]=F.charCodeAt(U++),C==this.blockSize){l(this,z),C=0;break}}else for(;U<P;)if(z[C++]=F[U++],C==this.blockSize){l(this,z),C=0;break}}this.h=C,this.o+=P},s.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var P=1;P<F.length-8;++P)F[P]=0;P=this.o*8;for(var V=F.length-8;V<F.length;++V)F[V]=P&255,P/=256;for(this.v(F),F=Array(16),P=0,V=0;V<4;++V)for(let z=0;z<32;z+=8)F[P++]=this.g[V]>>>z&255;return F};function c(F,P){var V=b;return Object.prototype.hasOwnProperty.call(V,F)?V[F]:V[F]=P(F)}function p(F,P){this.h=P;const V=[];let z=!0;for(let C=F.length-1;C>=0;C--){const U=F[C]|0;z&&U==P||(V[C]=U,z=!1)}this.g=V}var b={};function w(F){return-128<=F&&F<128?c(F,function(P){return new p([P|0],P<0?-1:0)}):new p([F|0],F<0?-1:0)}function E(F){if(isNaN(F)||!isFinite(F))return L;if(F<0)return Ae(E(-F));const P=[];let V=1;for(let z=0;F>=V;z++)P[z]=F/V|0,V*=4294967296;return new p(P,0)}function x(F,P){if(F.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(F.charAt(0)=="-")return Ae(x(F.substring(1),P));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=E(Math.pow(P,8));let z=L;for(let U=0;U<F.length;U+=8){var C=Math.min(8,F.length-U);const I=parseInt(F.substring(U,U+C),P);C<8?(C=E(Math.pow(P,C)),z=z.j(C).add(E(I))):(z=z.j(V),z=z.add(E(I)))}return z}var L=w(0),H=w(1),te=w(16777216);r=p.prototype,r.m=function(){if(De(this))return-Ae(this).m();let F=0,P=1;for(let V=0;V<this.g.length;V++){const z=this.i(V);F+=(z>=0?z:4294967296+z)*P,P*=4294967296}return F},r.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(B(this))return"0";if(De(this))return"-"+Ae(this).toString(F);const P=E(Math.pow(F,6));var V=this;let z="";for(;;){const C=$e(V,P).g;V=Le(V,C.j(P));let U=((V.g.length>0?V.g[0]:V.h)>>>0).toString(F);if(V=C,B(V))return U+z;for(;U.length<6;)U="0"+U;z=U+z}},r.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function B(F){if(F.h!=0)return!1;for(let P=0;P<F.g.length;P++)if(F.g[P]!=0)return!1;return!0}function De(F){return F.h==-1}r.l=function(F){return F=Le(this,F),De(F)?-1:B(F)?0:1};function Ae(F){const P=F.g.length,V=[];for(let z=0;z<P;z++)V[z]=~F.g[z];return new p(V,~F.h).add(H)}r.abs=function(){return De(this)?Ae(this):this},r.add=function(F){const P=Math.max(this.g.length,F.g.length),V=[];let z=0;for(let C=0;C<=P;C++){let U=z+(this.i(C)&65535)+(F.i(C)&65535),I=(U>>>16)+(this.i(C)>>>16)+(F.i(C)>>>16);z=I>>>16,U&=65535,I&=65535,V[C]=I<<16|U}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Le(F,P){return F.add(Ae(P))}r.j=function(F){if(B(this)||B(F))return L;if(De(this))return De(F)?Ae(this).j(Ae(F)):Ae(Ae(this).j(F));if(De(F))return Ae(this.j(Ae(F)));if(this.l(te)<0&&F.l(te)<0)return E(this.m()*F.m());const P=this.g.length+F.g.length,V=[];for(var z=0;z<2*P;z++)V[z]=0;for(z=0;z<this.g.length;z++)for(let C=0;C<F.g.length;C++){const U=this.i(z)>>>16,I=this.i(z)&65535,W=F.i(C)>>>16,se=F.i(C)&65535;V[2*z+2*C]+=I*se,Ue(V,2*z+2*C),V[2*z+2*C+1]+=U*se,Ue(V,2*z+2*C+1),V[2*z+2*C+1]+=I*W,Ue(V,2*z+2*C+1),V[2*z+2*C+2]+=U*W,Ue(V,2*z+2*C+2)}for(F=0;F<P;F++)V[F]=V[2*F+1]<<16|V[2*F];for(F=P;F<2*P;F++)V[F]=0;return new p(V,0)};function Ue(F,P){for(;(F[P]&65535)!=F[P];)F[P+1]+=F[P]>>>16,F[P]&=65535,P++}function Be(F,P){this.g=F,this.h=P}function $e(F,P){if(B(P))throw Error("division by zero");if(B(F))return new Be(L,L);if(De(F))return P=$e(Ae(F),P),new Be(Ae(P.g),Ae(P.h));if(De(P))return P=$e(F,Ae(P)),new Be(Ae(P.g),P.h);if(F.g.length>30){if(De(F)||De(P))throw Error("slowDivide_ only works with positive integers.");for(var V=H,z=P;z.l(F)<=0;)V=Xe(V),z=Xe(z);var C=Je(V,1),U=Je(z,1);for(z=Je(z,2),V=Je(V,2);!B(z);){var I=U.add(z);I.l(F)<=0&&(C=C.add(V),U=I),z=Je(z,1),V=Je(V,1)}return P=Le(F,C.j(P)),new Be(C,P)}for(C=L;F.l(P)>=0;){for(V=Math.max(1,Math.floor(F.m()/P.m())),z=Math.ceil(Math.log(V)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),U=E(V),I=U.j(P);De(I)||I.l(F)>0;)V-=z,U=E(V),I=U.j(P);B(U)&&(U=H),C=C.add(U),F=Le(F,I)}return new Be(C,F)}r.B=function(F){return $e(this,F).h},r.and=function(F){const P=Math.max(this.g.length,F.g.length),V=[];for(let z=0;z<P;z++)V[z]=this.i(z)&F.i(z);return new p(V,this.h&F.h)},r.or=function(F){const P=Math.max(this.g.length,F.g.length),V=[];for(let z=0;z<P;z++)V[z]=this.i(z)|F.i(z);return new p(V,this.h|F.h)},r.xor=function(F){const P=Math.max(this.g.length,F.g.length),V=[];for(let z=0;z<P;z++)V[z]=this.i(z)^F.i(z);return new p(V,this.h^F.h)};function Xe(F){const P=F.g.length+1,V=[];for(let z=0;z<P;z++)V[z]=F.i(z)<<1|F.i(z-1)>>>31;return new p(V,F.h)}function Je(F,P){const V=P>>5;P%=32;const z=F.g.length-V,C=[];for(let U=0;U<z;U++)C[U]=P>0?F.i(U+V)>>>P|F.i(U+V+1)<<32-P:F.i(U+V);return new p(C,F.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Nb=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=x,ho=p}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vb,Uu,kb,Ch,Vm,Pb,Lb,Ub;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=i(this);function l(u,y){if(y)e:{var A=s;u=u.split(".");for(var N=0;N<u.length-1;N++){var ie=u[N];if(!(ie in A))break e;A=A[ie]}u=u[u.length-1],N=A[u],y=y(N),y!=N&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&A.push([N,y[N]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function x(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var N=A.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function L(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(N,ie,fe){for(var ke=Array(arguments.length-2),At=2;At<arguments.length;At++)ke[At-2]=arguments[At];return y.prototype[ie].apply(N,ke)}}var H=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function te(u){const y=u.length;if(y>0){const A=Array(y);for(let N=0;N<y;N++)A[N]=u[N];return A}return[]}function B(u,y){for(let N=1;N<arguments.length;N++){const ie=arguments[N];var A=typeof ie;if(A=A!="object"?A:ie?Array.isArray(ie)?"array":A:"null",A=="array"||A=="object"&&typeof ie.length=="number"){A=u.length||0;const fe=ie.length||0;u.length=A+fe;for(let ke=0;ke<fe;ke++)u[A+ke]=ie[ke]}else u.push(ie)}}class De{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Ae(u){p.setTimeout(()=>{throw u},0)}function Le(){var u=F;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Ue{constructor(){this.h=this.g=null}add(y,A){const N=Be.get();N.set(y,A),this.h?this.h.next=N:this.g=N,this.h=N}}var Be=new De(()=>new $e,u=>u.reset());class $e{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Xe,Je=!1,F=new Ue,P=()=>{const u=Promise.resolve(void 0);Xe=()=>{u.then(V)}};function V(){for(var u;u=Le();){try{u.h.call(u.g)}catch(A){Ae(A)}var y=Be;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}Je=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function W(u,y){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}L(W,C),W.prototype.init=function(u,y){const A=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),q=0;function Z(u,y,A,N,ie){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!N,this.ha=ie,this.key=++q,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,y,A){for(const N in u)y.call(A,u[N],N,u)}function we(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function k(u){const y={};for(const A in u)y[A]=u[A];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(u,y){let A,N;for(let ie=1;ie<arguments.length;ie++){N=arguments[ie];for(A in N)u[A]=N[A];for(let fe=0;fe<ne.length;fe++)A=ne[fe],Object.prototype.hasOwnProperty.call(N,A)&&(u[A]=N[A])}}function _e(u){this.src=u,this.g={},this.h=0}_e.prototype.add=function(u,y,A,N,ie){const fe=u.toString();u=this.g[fe],u||(u=this.g[fe]=[],this.h++);const ke=Qe(u,y,N,ie);return ke>-1?(y=u[ke],A||(y.fa=!1)):(y=new Z(y,this.src,fe,!!N,ie),y.fa=A,u.push(y)),y};function Ce(u,y){const A=y.type;if(A in u.g){var N=u.g[A],ie=Array.prototype.indexOf.call(N,y,void 0),fe;(fe=ie>=0)&&Array.prototype.splice.call(N,ie,1),fe&&(ge(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function Qe(u,y,A,N){for(let ie=0;ie<u.length;++ie){const fe=u[ie];if(!fe.da&&fe.listener==y&&fe.capture==!!A&&fe.ha==N)return ie}return-1}var ut="closure_lm_"+(Math.random()*1e6|0),ht={};function vt(u,y,A,N,ie){if(Array.isArray(y)){for(let fe=0;fe<y.length;fe++)vt(u,y[fe],A,N,ie);return null}return A=jt(A),u&&u[se]?u.J(y,A,b(N)?!!N.capture:!1,ie):Mt(u,y,A,!1,N,ie)}function Mt(u,y,A,N,ie,fe){if(!y)throw Error("Invalid event type");const ke=b(ie)?!!ie.capture:!!ie;let At=On(u);if(At||(u[ut]=At=new _e(u)),A=At.add(y,A,N,ke,fe),A.proxy)return A;if(N=an(),A.proxy=N,N.src=u,N.listener=A,u.addEventListener)U||(ie=ke),ie===void 0&&(ie=!1),u.addEventListener(y.toString(),N,ie);else if(u.attachEvent)u.attachEvent(Wt(y.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return A}function an(){function u(A){return y.call(u.src,u.listener,A)}const y=Vt;return u}function He(u,y,A,N,ie){if(Array.isArray(y))for(var fe=0;fe<y.length;fe++)He(u,y[fe],A,N,ie);else N=b(N)?!!N.capture:!!N,A=jt(A),u&&u[se]?(u=u.i,fe=String(y).toString(),fe in u.g&&(y=u.g[fe],A=Qe(y,A,N,ie),A>-1&&(ge(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[fe],u.h--)))):u&&(u=On(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Qe(y,A,N,ie)),(A=u>-1?y[u]:null)&&Tt(A))}function Tt(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[se])Ce(y.i,u);else{var A=u.type,N=u.proxy;y.removeEventListener?y.removeEventListener(A,N,u.capture):y.detachEvent?y.detachEvent(Wt(A),N):y.addListener&&y.removeListener&&y.removeListener(N),(A=On(y))?(Ce(A,u),A.h==0&&(A.src=null,y[ut]=null)):ge(u)}}}function Wt(u){return u in ht?ht[u]:ht[u]="on"+u}function Vt(u,y){if(u.da)u=!0;else{y=new W(y,this);const A=u.listener,N=u.ha||u.src;u.fa&&Tt(u),u=A.call(N,y)}return u}function On(u){return u=u[ut],u instanceof _e?u:null}var Zn="__closure_events_fn_"+(Math.random()*1e9>>>0);function jt(u){return typeof u=="function"?u:(u[Zn]||(u[Zn]=function(y){return u.handleEvent(y)}),u[Zn])}function ot(){z.call(this),this.i=new _e(this),this.M=this,this.G=null}L(ot,z),ot.prototype[se]=!0,ot.prototype.removeEventListener=function(u,y,A,N){He(this,u,y,A,N)};function mn(u,y){var A,N=u.G;if(N)for(A=[];N;N=N.G)A.push(N);if(u=u.M,N=y.type||y,typeof y=="string")y=new C(y,u);else if(y instanceof C)y.target=y.target||u;else{var ie=y;y=new C(N,u),Te(y,ie)}ie=!0;let fe,ke;if(A)for(ke=A.length-1;ke>=0;ke--)fe=y.g=A[ke],ie=pn(fe,N,!0,y)&&ie;if(fe=y.g=u,ie=pn(fe,N,!0,y)&&ie,ie=pn(fe,N,!1,y)&&ie,A)for(ke=0;ke<A.length;ke++)fe=y.g=A[ke],ie=pn(fe,N,!1,y)&&ie}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let N=0;N<A.length;N++)ge(A[N]);delete u.g[y],u.h--}}this.G=null},ot.prototype.J=function(u,y,A,N){return this.i.add(String(u),y,!1,A,N)},ot.prototype.K=function(u,y,A,N){return this.i.add(String(u),y,!0,A,N)};function pn(u,y,A,N){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ie=!0;for(let fe=0;fe<y.length;++fe){const ke=y[fe];if(ke&&!ke.da&&ke.capture==A){const At=ke.listener,Yn=ke.ha||ke.src;ke.fa&&Ce(u.i,ke),ie=At.call(Yn,N)!==!1&&ie}}return ie&&!N.defaultPrevented}function pi(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function qn(u){u.g=pi(()=>{u.g=null,u.i&&(u.i=!1,qn(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Ht extends z{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(u){z.call(this),this.h=u,this.g={}}L(Rn,z);var R=[];function g(u){he(u.g,function(y,A){this.g.hasOwnProperty(A)&&Tt(y)},u),u.g={}}Rn.prototype.N=function(){Rn.Z.N.call(this),g(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,D=p.JSON.parse,Q=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function de(){}function Ie(){}var Ze={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function it(){C.call(this,"d")}L(it,C);function qe(){C.call(this,"c")}L(qe,C);var et={},$t=null;function Dn(){return $t=$t||new ot}et.Ia="serverreachability";function cn(u){C.call(this,et.Ia,u)}L(cn,C);function Bn(u){const y=Dn();mn(y,new cn(y))}et.STAT_EVENT="statevent";function Qn(u,y){C.call(this,et.STAT_EVENT,u),this.stat=y}L(Qn,C);function Lt(u){const y=Dn();mn(y,new Qn(y,u))}et.Ja="timingevent";function Cn(u,y){C.call(this,et.Ja,u),this.size=y}L(Cn,C);function kn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Gi(u,y,A,N,ie,fe){u.info(function(){if(u.g)if(fe){var ke="",At=fe.split("&");for(let nn=0;nn<At.length;nn++){var Yn=At[nn].split("=");if(Yn.length>1){const Nn=Yn[0];Yn=Yn[1];const Li=Nn.split("_");ke=Li.length>=2&&Li[1]=="type"?ke+(Nn+"="+Yn+"&"):ke+(Nn+"=redacted&")}}}else ke=null;else ke=fe;return"XMLHTTP REQ ("+N+") [attempt "+ie+"]: "+y+`
`+A+`
`+ke})}function pt(u,y,A,N,ie,fe,ke){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+ie+"]: "+y+`
`+A+`
`+fe+" "+ke})}function Fn(u,y,A,N){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Yi(u,A)+(N?" "+N:"")})}function St(u,y){u.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function Yi(u,y){if(!u.g)return y;if(!y)return null;try{const fe=JSON.parse(y);if(fe){for(u=0;u<fe.length;u++)if(Array.isArray(fe[u])){var A=fe[u];if(!(A.length<2)){var N=A[1];if(Array.isArray(N)&&!(N.length<1)){var ie=N[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let ke=1;ke<N.length;ke++)N[ke]=""}}}}return v(fe)}catch{return y}}var Xi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sr;function jr(){}L(jr,de),jr.prototype.g=function(){return new XMLHttpRequest},Sr=new jr;function Ge(u){return encodeURIComponent(String(u))}function ga(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function ei(u,y,A,N){this.j=u,this.i=y,this.l=A,this.S=N||1,this.V=new Rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qi}function Qi(){this.i=null,this.g="",this.h=!1}var gn={},Gn={};function Ki(u,y,A){u.M=1,u.A=Si(sn(y)),u.u=A,u.R=!0,si(u,null)}function si(u,y){u.F=Date.now(),Wi(u),u.B=sn(u.A);var A=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),Ha(A.i,"t",N),u.C=0,A=u.j.L,u.h=new Qi,u.g=el(u.j,A?y:null,!u.u),u.P>0&&(u.O=new Ht(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,N=u.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(R[0]=ie.toString()),ie=R);for(let fe=0;fe<ie.length;fe++){const ke=vt(A,ie[fe],N||y.handleEvent,!1,y.h||y);if(!ke)break;y.g[ke.key]=ke}y=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Bn(),Gi(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const y=this.O;y&&xr(u)==3?y.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)e:{const At=xr(this.g),Yn=this.g.ya(),nn=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||vi(this.g)))){this.K||At!=4||Yn==7||(Yn==8||nn<=0?Bn(3):Bn(2)),re(this);var y=this.g.ca();this.X=y;var A=za(this);if(this.o=y==200,pt(this.i,this.v,this.B,this.l,this.S,At,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,ie=this.g;if((N=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(N)){var fe=N;break t}}fe=null}if(u=fe)Fn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Me(this,u);else{this.o=!1,this.m=3,Lt(12),Ee(this),ye(this);break e}}if(this.R){u=!0;let Nn;for(;!this.K&&this.C<A.length;)if(Nn=ia(this,A),Nn==Gn){At==4&&(this.m=4,Lt(14),u=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==gn){this.m=4,Lt(15),Fn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Fn(this.i,this.l,Nn,null),Me(this,Nn);if(ya(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||A.length!=0||this.h.h||(this.m=1,Lt(16),u=!1),this.o=this.o&&u,!u)Fn(this.i,this.l,A,"[Invalid Chunked Response]"),Ee(this),ye(this);else if(A.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),tr(ke),ke.P=!0,Lt(11))}}else Fn(this.i,this.l,A,null),Me(this,A);At==4&&Ee(this),this.o&&!this.K&&(At==4?Xa(this.j,this):(this.o=!1,Wi(this)))}else mr(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Ee(this),ye(this)}}}catch{}finally{}};function za(u){if(!ya(u))return u.g.la();const y=vi(u.g);if(y==="")return"";let A="";const N=y.length,ie=xr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ee(u),ye(u),"";u.h.i=new p.TextDecoder}for(let fe=0;fe<N;fe++)u.h.h=!0,A+=u.h.i.decode(y[fe],{stream:!(ie&&fe==N-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function ya(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ia(u,y){var A=u.C,N=y.indexOf(`
`,A);return N==-1?Gn:(A=Number(y.substring(A,N)),isNaN(A)?gn:(N+=1,N+A>y.length?Gn:(y=y.slice(N,N+A),u.C=N+A,y)))}ei.prototype.cancel=function(){this.K=!0,Ee(this)};function Wi(u){u.T=Date.now()+u.H,gi(u,u.H)}function gi(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=kn(E(u.aa,u),y)}function re(u){u.D&&(p.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(St(this.i,this.B),this.M!=2&&(Bn(),Lt(17)),Ee(this),this.m=2,ye(this)):gi(this,this.T-u)};function ye(u){u.j.I==0||u.K||Xa(u.j,u)}function Ee(u){re(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Me(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||je(A.h,u))){if(!u.L&&je(A.h,u)&&A.I==3){try{var N=A.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var ie=N;if(ie[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)oa(A),Mr(A);else break e;Ta(A),Lt(18)}}else A.xa=ie[1],0<A.xa-A.K&&ie[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=kn(E(A.Va,A),6e3));Ye(A.h)<=1&&A.ta&&(A.ta=void 0)}else Or(A,11)}else if((u.L||A.g==u)&&oa(A),!I(y))for(ie=A.Ba.g.parse(y),y=0;y<ie.length;y++){let nn=ie[y];const Nn=nn[0];if(!(Nn<=A.K))if(A.K=Nn,nn=nn[1],A.I==2)if(nn[0]=="c"){A.M=nn[1],A.ba=nn[2];const Li=nn[3];Li!=null&&(A.ka=Li,A.j.info("VER="+A.ka));const pr=nn[4];pr!=null&&(A.za=pr,A.j.info("SVER="+A.za));const gr=nn[5];gr!=null&&typeof gr=="number"&&gr>0&&(N=1.5*gr,A.O=N,A.j.info("backChannelRequestTimeoutMs_="+N)),N=A;const nr=u.g;if(nr){const Gr=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var fe=N.h;fe.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(wt(fe,fe.h),fe.h=null))}if(N.G){const Qa=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(N.wa=Qa,tn(N.J,N.G,Qa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),N=A;var ke=u;if(N.na=Zo(N,N.L?N.ba:null,N.W),ke.L){hn(N.h,ke);var At=ke,Yn=N.O;Yn&&(At.H=Yn),At.D&&(re(At),Wi(At)),N.g=ke}else ti(N);A.i.length>0&&er(A)}else nn[0]!="stop"&&nn[0]!="close"||Or(A,7);else A.I==3&&(nn[0]=="stop"||nn[0]=="close"?nn[0]=="stop"?Or(A,7):wo(A):nn[0]!="noop"&&A.l&&A.l.qa(nn),A.A=0)}}Bn(4)}catch{}}var Ne=class{constructor(u,y){this.g=u,this.map=y}};function ft(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ve(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ye(u){return u.h?1:u.g?u.g.size:0}function je(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function wt(u,y){u.g?u.g.add(y):u.h=y}function hn(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}ft.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function In(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return te(u.i)}var $i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ji(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const N=u[A].indexOf("=");let ie,fe=null;N>=0?(ie=u[A].substring(0,N),fe=u[A].substring(N+1)):ie=u[A],y(ie,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function xn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof xn?(this.l=u.l,Wn(this,u.j),this.o=u.o,this.g=u.g,or(this,u.u),this.h=u.h,zr(this,_a(u.i)),this.m=u.m):u&&(y=String(u).match($i))?(this.l=!1,Wn(this,y[1]||"",!0),this.o=ct(y[2]||""),this.g=ct(y[3]||"",!0),or(this,y[4]),this.h=ct(y[5]||"",!0),zr(this,y[6]||"",!0),this.m=ct(y[7]||"")):(this.l=!1,this.i=new Br(null,this.l))}xn.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Ei(y,Ba,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Ei(y,Ba,!0),"@"),u.push(Ge(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(Ei(A,A.charAt(0)=="/"?Ss:bo,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",Ei(A,va)),u.join("")},xn.prototype.resolve=function(u){const y=sn(this);let A=!!u.j;A?Wn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var N=u.h;if(A)or(y,u.u);else if(A=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var ie=y.h.lastIndexOf("/");ie!=-1&&(N=y.h.slice(0,ie+1)+N)}if(ie=N,ie==".."||ie==".")N="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){N=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const fe=[];for(let ke=0;ke<ie.length;){const At=ie[ke++];At=="."?N&&ke==ie.length&&fe.push(""):At==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),N&&ke==ie.length&&fe.push("")):(fe.push(At),N=!0)}N=fe.join("/")}else N=ie}return A?y.h=N:A=u.i.toString()!=="",A?zr(y,_a(u.i)):A=!!u.m,A&&(y.m=u.m),y};function sn(u){return new xn(u)}function Wn(u,y,A){u.j=A?ct(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function or(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function zr(u,y,A){y instanceof Br?(u.i=y,ba(u.i,u.l)):(A||(y=Ei(y,yn)),u.i=new Br(y,u.l))}function tn(u,y,A){u.i.set(y,A)}function Si(u){return tn(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ct(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ei(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,Pn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ba=/[#\/\?@]/g,bo=/[#\?:]/g,Ss=/[#\?]/g,yn=/[#\?@]/g,va=/#/g;function Br(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function oi(u){u.g||(u.g=new Map,u.h=0,u.i&&Ji(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=Br.prototype,r.add=function(u,y){oi(this),this.i=null,u=Cr(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function lr(u,y){oi(u),y=Cr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Fa(u,y){return oi(u),y=Cr(u,y),u.g.has(y)}r.forEach=function(u,y){oi(this),this.g.forEach(function(A,N){A.forEach(function(ie){u.call(y,ie,N,this)},this)},this)};function Rr(u,y){oi(u);let A=[];if(typeof y=="string")Fa(u,y)&&(A=A.concat(u.g.get(Cr(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return oi(this),this.i=null,u=Cr(this,u),Fa(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=Rr(this,u),u.length>0?String(u[0]):y):y};function Ha(u,y,A){lr(u,y),A.length>0&&(u.i=null,u.g.set(Cr(u,y),te(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var A=y[N];const ie=Ge(A);A=Rr(this,A);for(let fe=0;fe<A.length;fe++){let ke=ie;A[fe]!==""&&(ke+="="+Ge(A[fe])),u.push(ke)}}return this.i=u.join("&")};function _a(u){const y=new Br;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Cr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function ba(u,y){y&&!u.j&&(oi(u),u.i=null,u.g.forEach(function(A,N){const ie=N.toLowerCase();N!=ie&&(lr(this,N),Ha(this,ie,A))},u)),u.j=y}function ur(u,y){const A=new Kn;if(p.Image){const N=new Image;N.onload=x(cr,A,"TestLoadImage: loaded",!0,y,N),N.onerror=x(cr,A,"TestLoadImage: error",!1,y,N),N.onabort=x(cr,A,"TestLoadImage: abort",!1,y,N),N.ontimeout=x(cr,A,"TestLoadImage: timeout",!1,y,N),p.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else y(!1)}function Rs(u,y){const A=new Kn,N=new AbortController,ie=setTimeout(()=>{N.abort(),cr(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:N.signal}).then(fe=>{clearTimeout(ie),fe.ok?cr(A,"TestPingServer: ok",!0,y):cr(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ie),cr(A,"TestPingServer: error",!1,y)})}function cr(u,y,A,N,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),N(A)}catch{}}function hr(){this.g=new Q}function Zi(u){this.i=u.Sb||null,this.h=u.ab||!1}L(Zi,de),Zi.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,y){ot.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}L(fr,ot),r=fr.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Ri(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?dr(this):Ri(this),this.readyState==3&&ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,dr(this))},r.Na=function(u){this.g&&(this.response=u,dr(this))},r.ga=function(){this.g&&dr(this)};function dr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ri(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yi(u){let y="";return he(u,function(A,N){y+=N,y+=":",y+=A,y+=`\r
`}),y}function Fr(u,y,A){e:{for(N in A){var N=!1;break e}N=!0}N||(A=yi(A),typeof u=="string"?A!=null&&Ge(A):tn(u,y,A))}function Ot(u){ot.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}L(Ot,ot);var Hr=/^https?$/i,Pi=["POST","PUT"];r=Ot.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sr.g(),this.g.onreadystatechange=H(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(fe){aa(this,fe);return}if(u=A||"",A=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var ie in N)A.set(ie,N[ie]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const fe of N.keys())A.set(fe,N.get(fe));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(A.keys()).find(fe=>fe.toLowerCase()=="content-type"),ie=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Pi,y,void 0)>=0)||N||ie||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,ke]of A)this.g.setRequestHeader(fe,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(fe){aa(this,fe)}};function aa(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,wa(u),Ir(u)}function wa(u){u.A||(u.A=!0,mn(u,"complete"),mn(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,mn(this,"complete"),mn(this,"abort"),Ir(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ir(this,!0)),Ot.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},r.Xa=function(){sa(this)};function sa(u){if(u.h&&typeof c<"u"){if(u.v&&xr(u)==4)setTimeout(u.Ca.bind(u),0);else if(mn(u,"readystatechange"),xr(u)==4){u.h=!1;try{const fe=u.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var N;if(N=fe===0){let ke=String(u.D).match($i)[1]||null;!ke&&p.self&&p.self.location&&(ke=p.self.location.protocol.slice(0,-1)),N=!Hr.test(ke?ke.toLowerCase():"")}A=N}if(A)mn(u,"complete"),mn(u,"success");else{u.o=6;try{var ie=xr(u)>2?u.g.statusText:""}catch{ie=""}u.l=ie+" ["+u.ca()+"]",wa(u)}}finally{Ir(u)}}}}function Ir(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||mn(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function xr(u){return u.g?u.g.readyState:0}r.ca=function(){try{return xr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),D(y)}};function vi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mr(u){const y={};u=(u.g&&xr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(I(u[N]))continue;var A=ga(u[N]);const ie=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const fe=y[ie]||[];y[ie]=fe,fe.push(A)}we(y,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Ea(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qr("baseRetryDelayMs",5e3,u),this.Za=qr("retryDelaySeedMs",1e4,u),this.Ta=qr("forwardChannelMaxRetries",2,u),this.va=qr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ft(u&&u.concurrentRequestLimit),this.Ba=new hr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ea.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,N){Lt(0),this.W=u,this.H=y||{},A&&N!==void 0&&(this.H.OSID=A,this.H.OAID=N),this.F=this.X,this.J=Zo(this,null,this.W),er(this)};function wo(u){if(qa(u),u.I==3){var y=u.V++,A=sn(u.J);if(tn(A,"SID",u.M),tn(A,"RID",y),tn(A,"TYPE","terminate"),Ya(u,A),y=new ei(u,u.j,y),y.M=2,y.A=Si(sn(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=el(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Wi(y)}xs(u)}function Mr(u){u.g&&(tr(u),u.g.cancel(),u.g=null)}function qa(u){Mr(u),u.v&&(p.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function er(u){if(!Ve(u.h)&&!u.m){u.m=!0;var y=u.Ea;Xe||P(),Je||(Xe(),Je=!0),F.add(y,u),u.D=0}}function Ga(u,y){return Ye(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=kn(E(u.Ea,u,y),Is(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ie=new ei(this,this.j,u);let fe=this.o;if(this.U&&(fe?(fe=k(fe),Te(fe,this.U)):fe=this.U),this.u!==null||this.R||(ie.J=fe,fe=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var N=this.i[A];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=$o(this,ie,y),A=sn(this.J),tn(A,"RID",u),tn(A,"CVER",22),this.G&&tn(A,"X-HTTP-Session-Id",this.G),Ya(this,A),fe&&(this.R?y="headers="+Ge(yi(fe))+"&"+y:this.u&&Fr(A,this.u,fe)),wt(this.h,ie),this.Ra&&tn(A,"TYPE","init"),this.S?(tn(A,"$req",y),tn(A,"SID","null"),ie.U=!0,Ki(ie,A,null)):Ki(ie,A,y),this.I=2}}else this.I==3&&(u?Cs(this,u):this.i.length==0||Ve(this.h)||Cs(this))};function Cs(u,y){var A;y?A=y.l:A=u.V++;const N=sn(u.J);tn(N,"SID",u.M),tn(N,"RID",A),tn(N,"AID",u.K),Ya(u,N),u.u&&u.o&&Fr(N,u.u,u.o),A=new ei(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=$o(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wt(u.h,A),Ki(A,N,y)}function Ya(u,y){u.H&&he(u.H,function(A,N){tn(y,N,A)}),u.l&&he({},function(A,N){tn(y,N,A)})}function $o(u,y,A){A=Math.min(u.i.length,A);const N=u.l?E(u.l.Ka,u.l,u):null;e:{var ie=u.i;let At=-1;for(;;){const Yn=["count="+A];At==-1?A>0?(At=ie[0].g,Yn.push("ofs="+At)):At=0:Yn.push("ofs="+At);let nn=!0;for(let Nn=0;Nn<A;Nn++){var fe=ie[Nn].g;const Li=ie[Nn].map;if(fe-=At,fe<0)At=Math.max(0,ie[Nn].g-100),nn=!1;else try{fe="req"+fe+"_"||"";try{var ke=Li instanceof Map?Li:Object.entries(Li);for(const[pr,gr]of ke){let nr=gr;b(gr)&&(nr=v(gr)),Yn.push(fe+pr+"="+encodeURIComponent(nr))}}catch(pr){throw Yn.push(fe+"type="+encodeURIComponent("_badmap")),pr}}catch{N&&N(Li)}}if(nn){ke=Yn.join("&");break e}}ke=void 0}return u=u.i.splice(0,A),y.G=u,ke}function ti(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;Xe||P(),Je||(Xe(),Je=!0),F.add(y,u),u.A=0}}function Ta(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=kn(E(u.Da,u),Is(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=kn(E(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),Mr(this),Jo(this))};function tr(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Jo(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=sn(u.na);tn(y,"RID","rpc"),tn(y,"SID",u.M),tn(y,"AID",u.K),tn(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&tn(y,"TO",u.ia),tn(y,"TYPE","xmlhttp"),Ya(u,y),u.u&&u.o&&Fr(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=Si(sn(y)),A.u=null,A.R=!0,si(A,u)}r.Va=function(){this.C!=null&&(this.C=null,Mr(this),Ta(this),Lt(19))};function oa(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Xa(u,y){var A=null;if(u.g==y){oa(u),tr(u),u.g=null;var N=2}else if(je(u.h,y))A=y.G,hn(u.h,y),N=1;else return;if(u.I!=0){if(y.o)if(N==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ie=u.D;N=Dn(),mn(N,new Cn(N,A)),er(u)}else ti(u);else if(ie=y.m,ie==3||ie==0&&y.X>0||!(N==1&&Ga(u,y)||N==2&&Ta(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ie){case 1:Or(u,5);break;case 4:Or(u,10);break;case 3:Or(u,6);break;default:Or(u,2)}}}function Is(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Or(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),N=u.Ua;const ie=!N;N=new xn(N||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Wn(N,"https"),Si(N),ie?ur(N.toString(),A):Rs(N.toString(),A)}else Lt(2);u.I=0,u.l&&u.l.pa(y),xs(u),qa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function xs(u){if(u.I=0,u.ja=[],u.l){const y=In(u.h);(y.length!=0||u.i.length!=0)&&(B(u.ja,y),B(u.ja,u.i),u.h.i.length=0,te(u.i),u.i.length=0),u.l.oa()}}function Zo(u,y,A){var N=A instanceof xn?sn(A):new xn(A);if(N.g!="")y&&(N.g=y+"."+N.g),or(N,N.u);else{var ie=p.location;N=ie.protocol,y=y?y+"."+ie.hostname:ie.hostname,ie=+ie.port;const fe=new xn(null);N&&Wn(fe,N),y&&(fe.g=y),ie&&or(fe,ie),A&&(fe.h=A),N=fe}return A=u.G,y=u.wa,A&&y&&tn(N,A,y),tn(N,"VER",u.ka),Ya(u,N),N}function el(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Ot(new Zi({ab:A})):new Ot(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ms(){}r=Ms.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Aa(){}Aa.prototype.g=function(u,y){return new Ci(u,y)};function Ci(u,y){ot.call(this),this.g=new Ea(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new la(this)}L(Ci,ot),Ci.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ci.prototype.close=function(){wo(this.g)},Ci.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new Ne(y.Ya++,u)),y.I==3&&er(y)},Ci.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,Ci.Z.N.call(this)};function Eo(u){it.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}L(Eo,it);function tl(){qe.call(this),this.status=1}L(tl,qe);function la(u){this.g=u}L(la,Ms),la.prototype.ra=function(){mn(this.g,"a")},la.prototype.qa=function(u){mn(this.g,new Eo(u))},la.prototype.pa=function(u){mn(this.g,new tl)},la.prototype.oa=function(){mn(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,Ci.prototype.send=Ci.prototype.o,Ci.prototype.open=Ci.prototype.m,Ci.prototype.close=Ci.prototype.close,Ub=function(){return new Aa},Lb=function(){return Dn()},Pb=et,Vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Ch=Xi,pa.COMPLETE="complete",kb=pa,Ie.EventType=Ze,Ze.OPEN="a",Ze.CLOSE="b",Ze.ERROR="c",Ze.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Uu=Ie,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,Vb=Ot}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const k_="@firebase/firestore",P_="4.9.2";class Bi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");let Kl="12.3.0";const Go=new Jm("@firebase/firestore");function xl(){return Go.logLevel}function nt(r,...e){if(Go.logLevel<=Xt.DEBUG){const i=e.map(up);Go.debug(`Firestore (${Kl}): ${r}`,...i)}}function Es(r,...e){if(Go.logLevel<=Xt.ERROR){const i=e.map(up);Go.error(`Firestore (${Kl}): ${r}`,...i)}}function zl(r,...e){if(Go.logLevel<=Xt.WARN){const i=e.map(up);Go.warn(`Firestore (${Kl}): ${r}`,...i)}}function up(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function bt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,jb(r,s,i)}function jb(r,e,i){let s=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Es(s),new Error(s)}function bn(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||jb(e,l,s)}function It(r,e){return r}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class zb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Bi.UNAUTHENTICATED)))}shutdown(){}}class hR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class fR{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){bn(this.o===void 0,42304);let s=this.i;const l=w=>this.i!==s?(s=this.i,i(w)):Promise.resolve();let c=new zo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zo)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(bn(typeof s.accessToken=="string",31837,{l:s}),new zb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bn(e===null||typeof e=="string",2055,{h:e}),new Bi(e)}}class dR{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mR{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new dR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Bi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ea(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){bn(this.o===void 0,3512);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(bn(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new L_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=gR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Qt(r,e){return r<e?-1:r>e?1:0}function km(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return vm(l)===vm(c)?Qt(l,c):vm(l)?1:-1}return Qt(r.length,e.length)}const yR=55296,vR=57343;function vm(r){const e=r.charCodeAt(0);return e>=yR&&e<=vR}function Bl(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const U_="__name__";class Oa{constructor(e,i,s){i===void 0?i=0:i>e.length&&bt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&bt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Oa.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Oa.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Qt(e.length,i.length)}static compareSegments(e,i){const s=Oa.isNumericId(e),l=Oa.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Oa.extractNumericId(e).compare(Oa.extractNumericId(i)):km(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class Vn extends Oa{construct(e,i,s){return new Vn(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new rt(Se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Vn(i)}static emptyPath(){return new Vn([])}}const _R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vi extends Oa{construct(e,i,s){return new Vi(e,i,s)}static isValidIdentifier(e){return _R.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new Vi([U_])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new rt(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new rt(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new rt(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new rt(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vi(i)}static emptyPath(){return new Vi([])}}class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Vn.fromString(e))}static fromName(e){return new mt(Vn.fromString(e).popFirst(5))}static empty(){return new mt(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Vn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Vn(e.slice()))}}function Bb(r,e,i){if(!i)throw new rt(Se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function bR(r,e,i,s){if(e===!0&&s===!0)throw new rt(Se.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function j_(r){if(!mt.isDocumentKey(r))throw new rt(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function z_(r){if(mt.isDocumentKey(r))throw new rt(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Fb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function af(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":bt(12329,{type:typeof r})}function qu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new rt(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=af(r);throw new rt(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function mi(r,e){const i={typeString:r};return e&&(i.value=e),i}function cc(r,e){if(!Fb(r))throw new rt(Se.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const p=r[s];if(l&&typeof p!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new rt(Se.INVALID_ARGUMENT,i);return!0}const B_=-62135596800,F_=1e6;class zn{static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*F_);return new zn(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<B_)throw new rt(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F_}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,zn._jsonSchema))return new zn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zn._jsonSchemaVersion="firestore/timestamp/1.0",zn._jsonSchema={type:mi("string",zn._jsonSchemaVersion),seconds:mi("number"),nanoseconds:mi("number")};class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new zn(0,0))}static max(){return new Rt(new zn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $u=-1;function wR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Rt.fromTimestamp(s===1e9?new zn(i+1,0):new zn(i,s));return new mo(l,mt.empty(),e)}function ER(r){return new mo(r.readTime,r.key,$u)}class mo{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new mo(Rt.min(),mt.empty(),$u)}static max(){return new mo(Rt.max(),mt.empty(),$u)}}function TR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Qt(r.largestBatchId,e.largestBatchId))}const AR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wl(r){if(r.code!==Se.FAILED_PRECONDITION||r.message!==AR)throw r;nt("LocalStore","Unexpectedly lost primary lease")}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Re(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Re?i:Re.resolve(i)}catch(i){return Re.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Re.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Re.reject(i)}static resolve(e){return new Re(((i,s)=>{i(e)}))}static reject(e){return new Re(((i,s)=>{s(e)}))}static waitFor(e){return new Re(((i,s)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(w=>s(w)))})),p=!0,c===l&&i()}))}static or(e){let i=Re.resolve(!1);for(const s of e)i=i.next((l=>l?Re.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new Re(((s,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;i(e[E]).next((x=>{p[E]=x,++b,b===c&&s(p)}),(x=>l(x)))}}))}static doWhile(e,i){return new Re(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function RR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $l(r){return r.name==="IndexedDbTransactionError"}class sf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;const hp=-1;function of(r){return r==null}function Bh(r){return r===0&&1/r==-1/0}function CR(r){return typeof r=="number"&&Number.isInteger(r)&&!Bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Hb="";function IR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=H_(e)),e=xR(r.get(i),e);return H_(e)}function xR(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Hb:i+="";break;default:i+=c}}return i}function H_(r){return r+Hb+""}function q_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Xo(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function qb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Xn{constructor(e,i){this.comparator=e,this.root=i||Ni.EMPTY}insert(e,i){return new Xn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ni{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Ni.RED,this.left=l??Ni.EMPTY,this.right=c??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Ni(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Ni.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bt(27949);return e+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1;Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Ni(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wi{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(e){return new G_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof wi)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new wi(this.comparator);return i.data=e,i}}class G_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class da{constructor(e){this.fields=e,e.sort(Vi.comparator)}static empty(){return new da([])}unionWith(e){let i=new wi(Vi.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new da(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class Gb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ki{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Gb("Invalid base64 string: "+c):c}})(e);return new ki(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new ki(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ki.EMPTY_BYTE_STRING=new ki("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(r){if(bn(!!r,39018),typeof r=="string"){let e=0;const i=MR.exec(r);if(bn(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ai(r.seconds),nanos:ai(r.nanos)}}function ai(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function go(r){return typeof r=="string"?ki.fromBase64String(r):ki.fromUint8Array(r)}const Yb="server_timestamp",Xb="__type__",Qb="__previous_value__",Kb="__local_write_time__";function fp(r){return(r?.mapValue?.fields||{})[Xb]?.stringValue===Yb}function lf(r){const e=r.mapValue.fields[Qb];return fp(e)?lf(e):e}function Ju(r){const e=po(r.mapValue.fields[Kb].timestampValue);return new zn(e.seconds,e.nanos)}class OR{constructor(e,i,s,l,c,p,b,w,E,x){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=x}}const Fh="(default)";class Zu{constructor(e,i){this.projectId=e,this.database=i||Fh}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}const Wb="__type__",DR="__max__",_h={mapValue:{}},$b="__vector__",Hh="value";function yo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fp(r)?4:VR(r)?9007199254740991:NR(r)?10:11:bt(28295,{value:r})}function ja(r,e){if(r===e)return!0;const i=yo(r);if(i!==yo(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ju(r).isEqual(Ju(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=po(l.timestampValue),b=po(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return go(l.bytesValue).isEqual(go(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ai(l.geoPointValue.latitude)===ai(c.geoPointValue.latitude)&&ai(l.geoPointValue.longitude)===ai(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ai(l.integerValue)===ai(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=ai(l.doubleValue),b=ai(c.doubleValue);return p===b?Bh(p)===Bh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Bl(r.arrayValue.values||[],e.arrayValue.values||[],ja);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(q_(p)!==q_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!ja(p[w],b[w])))return!1;return!0})(r,e);default:return bt(52216,{left:r})}}function ec(r,e){return(r.values||[]).find((i=>ja(i,e)))!==void 0}function Fl(r,e){if(r===e)return 0;const i=yo(r),s=yo(e);if(i!==s)return Qt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qt(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=ai(c.integerValue||c.doubleValue),w=ai(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(r,e);case 3:return Y_(r.timestampValue,e.timestampValue);case 4:return Y_(Ju(r),Ju(e));case 5:return km(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=go(c),w=go(p);return b.compareTo(w)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const x=Qt(b[E],w[E]);if(x!==0)return x}return Qt(b.length,w.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=Qt(ai(c.latitude),ai(p.latitude));return b!==0?b:Qt(ai(c.longitude),ai(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return X_(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[Hh]?.arrayValue,x=w[Hh]?.arrayValue,L=Qt(E?.values?.length||0,x?.values?.length||0);return L!==0?L:X_(E,x)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===_h.mapValue&&p===_h.mapValue)return 0;if(c===_h.mapValue)return 1;if(p===_h.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},x=Object.keys(E);w.sort(),x.sort();for(let L=0;L<w.length&&L<x.length;++L){const H=km(w[L],x[L]);if(H!==0)return H;const te=Fl(b[w[L]],E[x[L]]);if(te!==0)return te}return Qt(w.length,x.length)})(r.mapValue,e.mapValue);default:throw bt(23264,{he:i})}}function Y_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qt(r,e);const i=po(r),s=po(e),l=Qt(i.seconds,s.seconds);return l!==0?l:Qt(i.nanos,s.nanos)}function X_(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Fl(i[l],s[l]);if(c)return c}return Qt(i.length,s.length)}function Hl(r){return Pm(r)}function Pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=po(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return go(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Pm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${Pm(i.fields[p])}`;return l+"}"})(r.mapValue):bt(61005,{value:r})}function Ih(r){switch(yo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(r);return e?16+Ih(e):16;case 5:return 2*r.stringValue.length;case 6:return go(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Ih(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Xo(s.fields,((c,p)=>{l+=c.length+Ih(p)})),l})(r.mapValue);default:throw bt(13486,{value:r})}}function Q_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Lm(r){return!!r&&"integerValue"in r}function dp(r){return!!r&&"arrayValue"in r}function K_(r){return!!r&&"nullValue"in r}function W_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xh(r){return!!r&&"mapValue"in r}function NR(r){return(r?.mapValue?.fields||{})[Wb]?.stringValue===$b}function Gu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Xo(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Gu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gu(r.arrayValue.values[i]);return e}return{...r}}function VR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===DR}class ta{constructor(e){this.value=e}static empty(){return new ta({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!xh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(i)}setAll(e){let i=Vi.emptyPath(),s={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const w=this.getFieldsMap(i);this.applyChanges(w,s,l),s={},l=[],i=b.popLast()}p?s[b.lastSegment()]=Gu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());xh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ja(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];xh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Xo(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new ta(Gu(this.value))}}function Jb(r){const e=[];return Xo(r.fields,((i,s)=>{const l=new Vi([i]);if(xh(s)){const c=Jb(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new da(e)}class Fi{constructor(e,i,s,l,c,p,b){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new Fi(e,0,Rt.min(),Rt.min(),Rt.min(),ta.empty(),0)}static newFoundDocument(e,i,s,l){return new Fi(e,1,i,Rt.min(),s,l,0)}static newNoDocument(e,i){return new Fi(e,2,i,Rt.min(),Rt.min(),ta.empty(),0)}static newUnknownDocument(e,i){return new Fi(e,3,i,Rt.min(),Rt.min(),ta.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ta.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ta.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qh{constructor(e,i){this.position=e,this.inclusive=i}}function $_(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?s=mt.comparator(mt.fromName(p.referenceValue),i.key):s=Fl(p,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function J_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ja(r.position[i],e.position[i]))return!1;return!0}class Gh{constructor(e,i="asc"){this.field=e,this.dir=i}}function kR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Zb{}class di extends Zb{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new LR(e,i,s):i==="array-contains"?new zR(e,s):i==="in"?new BR(e,s):i==="not-in"?new FR(e,s):i==="array-contains-any"?new HR(e,s):new di(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new UR(e,s):new jR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fl(i,this.value)):i!==null&&yo(this.value)===yo(i)&&this.matchesComparison(Fl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ma extends Zb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ma(e,i)}matches(e){return ew(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ew(r){return r.op==="and"}function tw(r){return PR(r)&&ew(r)}function PR(r){for(const e of r.filters)if(e instanceof ma)return!1;return!0}function Um(r){if(r instanceof di)return r.field.canonicalString()+r.op.toString()+Hl(r.value);if(tw(r))return r.filters.map((e=>Um(e))).join(",");{const e=r.filters.map((i=>Um(i))).join(",");return`${r.op}(${e})`}}function nw(r,e){return r instanceof di?(function(s,l){return l instanceof di&&s.op===l.op&&s.field.isEqual(l.field)&&ja(s.value,l.value)})(r,e):r instanceof ma?(function(s,l){return l instanceof ma&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&nw(p,l.filters[b])),!0):!1})(r,e):void bt(19439)}function iw(r){return r instanceof di?(function(i){return`${i.field.canonicalString()} ${i.op} ${Hl(i.value)}`})(r):r instanceof ma?(function(i){return i.op.toString()+" {"+i.getFilters().map(iw).join(" ,")+"}"})(r):"Filter"}class LR extends di{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class UR extends di{constructor(e,i){super(e,"in",i),this.keys=rw("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class jR extends di{constructor(e,i){super(e,"not-in",i),this.keys=rw("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function rw(r,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class zR extends di{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return dp(i)&&ec(i.arrayValue,this.value)}}class BR extends di{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ec(this.value.arrayValue,i)}}class FR extends di{constructor(e,i){super(e,"not-in",i)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ec(this.value.arrayValue,i)}}class HR extends di{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!dp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ec(this.value.arrayValue,s)))}}class qR{constructor(e,i=null,s=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function Z_(r,e=null,i=[],s=[],l=null,c=null,p=null){return new qR(r,e,i,s,l,c,p)}function mp(r){const e=It(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Um(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),of(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Hl(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Hl(s))).join(",")),e.Te=i}return e.Te}function pp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!kR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!nw(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!J_(r.startAt,e.startAt)&&J_(r.endAt,e.endAt)}function jm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hc{constructor(e,i=null,s=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GR(r,e,i,s,l,c,p,b){return new hc(r,e,i,s,l,c,p,b)}function gp(r){return new hc(r)}function e0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aw(r){return r.collectionGroup!==null}function Yu(r){const e=It(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new wi(Vi.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Gh(c,s))})),i.has(Vi.keyField().canonicalString())||e.Ie.push(new Gh(Vi.keyField(),s))}return e.Ie}function ka(r){const e=It(r);return e.Ee||(e.Ee=YR(e,Yu(r))),e.Ee}function YR(r,e){if(r.limitType==="F")return Z_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Gh(l.field,c)}));const i=r.endAt?new qh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new qh(r.startAt.position,r.startAt.inclusive):null;return Z_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function zm(r,e){const i=r.filters.concat([e]);return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Bm(r,e,i){return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function uf(r,e){return pp(ka(r),ka(e))&&r.limitType===e.limitType}function sw(r){return`${mp(ka(r))}|lt:${r.limitType}`}function Ml(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>iw(l))).join(", ")}]`),of(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Hl(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Hl(l))).join(",")),`Target(${s})`})(ka(r))}; limitType=${r.limitType})`}function cf(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):mt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Yu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(p,b,w){const E=$_(p,b,w);return p.inclusive?E<=0:E<0})(s.startAt,Yu(s),l)||s.endAt&&!(function(p,b,w){const E=$_(p,b,w);return p.inclusive?E>=0:E>0})(s.endAt,Yu(s),l))})(r,e)}function XR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ow(r){return(e,i)=>{let s=!1;for(const l of Yu(r)){const c=QR(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function QR(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Fl(w,E):bt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return bt(19790,{direction:r.dir})}}class Qo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return qb(this.inner)}size(){return this.innerSize}}const KR=new Xn(mt.comparator);function Ts(){return KR}const lw=new Xn(mt.comparator);function ju(...r){let e=lw;for(const i of r)e=e.insert(i.key,i);return e}function uw(r){let e=lw;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function jo(){return Xu()}function cw(){return Xu()}function Xu(){return new Qo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const WR=new Xn(mt.comparator),$R=new wi(mt.comparator);function Kt(...r){let e=$R;for(const i of r)e=e.add(i);return e}const JR=new wi(Qt);function ZR(){return JR}function yp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function hw(r){return{integerValue:""+r}}function eC(r,e){return CR(e)?hw(e):yp(r,e)}class hf{constructor(){this._=void 0}}function tC(r,e,i){return r instanceof Yh?(function(l,c){const p={fields:{[Xb]:{stringValue:Yb},[Kb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&fp(c)&&(c=lf(c)),c&&(p.fields[Qb]=c),{mapValue:p}})(i,e):r instanceof tc?dw(r,e):r instanceof nc?mw(r,e):(function(l,c){const p=fw(l,c),b=t0(p)+t0(l.Ae);return Lm(p)&&Lm(l.Ae)?hw(b):yp(l.serializer,b)})(r,e)}function nC(r,e,i){return r instanceof tc?dw(r,e):r instanceof nc?mw(r,e):i}function fw(r,e){return r instanceof Xh?(function(s){return Lm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Yh extends hf{}class tc extends hf{constructor(e){super(),this.elements=e}}function dw(r,e){const i=pw(e);for(const s of r.elements)i.some((l=>ja(l,s)))||i.push(s);return{arrayValue:{values:i}}}class nc extends hf{constructor(e){super(),this.elements=e}}function mw(r,e){let i=pw(e);for(const s of r.elements)i=i.filter((l=>!ja(l,s)));return{arrayValue:{values:i}}}class Xh extends hf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function t0(r){return ai(r.integerValue||r.doubleValue)}function pw(r){return dp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function iC(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof tc&&l instanceof tc||s instanceof nc&&l instanceof nc?Bl(s.elements,l.elements,ja):s instanceof Xh&&l instanceof Xh?ja(s.Ae,l.Ae):s instanceof Yh&&l instanceof Yh})(r.transform,e.transform)}class rC{constructor(e,i){this.version=e,this.transformResults=i}}class ys{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ff{}function gw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vw(r.key,ys.none()):new fc(r.key,r.data,ys.none());{const i=r.data,s=ta.empty();let l=new wi(Vi.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Ko(r.key,s,new da(l.toArray()),ys.none())}}function aC(r,e,i){r instanceof fc?(function(l,c,p){const b=l.value.clone(),w=i0(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Ko?(function(l,c,p){if(!Mh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=i0(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(yw(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Qu(r,e,i,s){return r instanceof fc?(function(c,p,b,w){if(!Mh(c.precondition,p))return b;const E=c.value.clone(),x=r0(c.fieldTransforms,w,p);return E.setAll(x),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ko?(function(c,p,b,w){if(!Mh(c.precondition,p))return b;const E=r0(c.fieldTransforms,w,p),x=p.data;return x.setAll(yw(c)),x.setAll(E),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((L=>L.field)))})(r,e,i,s):(function(c,p,b){return Mh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function sC(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=fw(s.transform,l||null);c!=null&&(i===null&&(i=ta.empty()),i.set(s.field,c))}return i||null}function n0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Bl(s,l,((c,p)=>iC(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fc extends ff{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ko extends ff{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function yw(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function i0(r,e,i){const s=new Map;bn(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);s.set(c.field,nC(p,b,i[l]))}return s}function r0(r,e,i){const s=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);s.set(l.field,tC(c,p,e))}return s}class vw extends ff{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oC extends ff{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lC{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&aC(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Qu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Qu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=cw();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const w=gw(p,b);w!==null&&s.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Kt())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((i,s)=>n0(i,s)))&&Bl(this.baseMutations,e.baseMutations,((i,s)=>n0(i,s)))}}class vp{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){bn(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return WR})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new vp(e,i,s,l)}}class uC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cC{constructor(e,i){this.count=e,this.unchangedNames=i}}var fi,en;function hC(r){switch(r){case Se.OK:return bt(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return bt(15467,{code:r})}}function _w(r){if(r===void 0)return Es("GRPC error has no .code"),Se.UNKNOWN;switch(r){case fi.OK:return Se.OK;case fi.CANCELLED:return Se.CANCELLED;case fi.UNKNOWN:return Se.UNKNOWN;case fi.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case fi.INTERNAL:return Se.INTERNAL;case fi.UNAVAILABLE:return Se.UNAVAILABLE;case fi.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case fi.NOT_FOUND:return Se.NOT_FOUND;case fi.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case fi.ABORTED:return Se.ABORTED;case fi.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case fi.DATA_LOSS:return Se.DATA_LOSS;default:return bt(39323,{code:r})}}(en=fi||(fi={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";function fC(){return new TextEncoder}const dC=new ho([4294967295,4294967295],0);function a0(r){const e=fC().encode(r),i=new Nb;return i.update(e),new Uint8Array(i.digest())}function s0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ho([i,s],0),new ho([l,c],0)]}class _p{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new zu(`Invalid padding: ${i}`);if(s<0)throw new zu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new zu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ho.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(ho.fromNumber(s)));return l.compare(dC)===1&&(l=new ho([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=a0(e),[s,l]=s0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new _p(c,l,i);return s.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=a0(e),[s,l]=s0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new df(Rt.min(),l,new Xn(Qt),Ts(),Kt())}}class dc{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new dc(s,i,Kt(),Kt(),Kt())}}class Oh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class bw{constructor(e,i){this.targetId=e,this.Ce=i}}class ww{constructor(e,i,s=ki.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class o0{constructor(){this.ve=0,this.Fe=l0(),this.Me=ki.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Kt(),i=Kt(),s=Kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:bt(38017,{changeType:c})}})),new dc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=l0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=bh(),this.He=bh(),this.Ye=new Xn(Qt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:bt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(jm(c))if(s===0){const p=new mt(c.path);this.et(i,p,Fi.newNoDocument(p,Rt.min()))}else bn(s===1,20013,{expectedCount:s});else{const p=this._t(i);if(p!==s){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(i);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=go(s).toUint8Array()}catch(w){if(w instanceof Gb)return zl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new _p(p,l,c)}catch(w){return zl(w instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&jm(b.target)){const w=new mt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,Fi.newNoDocument(w,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let s=Kt();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new df(e,i,this.Ye,this.je,s);return this.je=Ts(),this.Je=bh(),this.He=bh(),this.Ye=new Xn(Qt),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new o0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new wi(Qt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new wi(Qt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new o0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function bh(){return new Xn(mt.comparator)}function l0(){return new Xn(mt.comparator)}const pC={asc:"ASCENDING",desc:"DESCENDING"},gC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yC={and:"AND",or:"OR"};class vC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Fm(r,e){return r.useProto3Json||of(e)?e:{value:e}}function Qh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ew(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _C(r,e){return Qh(r,e.toTimestamp())}function Pa(r){return bn(!!r,49232),Rt.fromTimestamp((function(i){const s=po(i);return new zn(s.seconds,s.nanos)})(r))}function bp(r,e){return Hm(r,e).canonicalString()}function Hm(r,e){const i=(function(l){return new Vn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Tw(r){const e=Vn.fromString(r);return bn(Iw(e),10190,{key:e.toString()}),e}function qm(r,e){return bp(r.databaseId,e.path)}function _m(r,e){const i=Tw(e);if(i.get(1)!==r.databaseId.projectId)throw new rt(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(Sw(i))}function Aw(r,e){return bp(r.databaseId,e)}function bC(r){const e=Tw(r);return e.length===4?Vn.emptyPath():Sw(e)}function Gm(r){return new Vn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Sw(r){return bn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function u0(r,e,i){return{name:qm(r,e),fields:i.value.mapValue.fields}}function wC(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:bt(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,x){return E.useProto3Json?(bn(x===void 0||typeof x=="string",58123),ki.fromBase64String(x||"")):(bn(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),ki.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const x=E.code===void 0?Se.UNKNOWN:_w(E.code);return new rt(x,E.message||"")})(p);i=new ww(s,l,c,b||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=_m(r,s.document.name),c=Pa(s.document.updateTime),p=s.document.createTime?Pa(s.document.createTime):Rt.min(),b=new ta({mapValue:{fields:s.document.fields}}),w=Fi.newFoundDocument(l,c,p,b),E=s.targetIds||[],x=s.removedTargetIds||[];i=new Oh(E,x,w.key,w)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=_m(r,s.document),c=s.readTime?Pa(s.readTime):Rt.min(),p=Fi.newNoDocument(l,c),b=s.removedTargetIds||[];i=new Oh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=_m(r,s.document),c=s.removedTargetIds||[];i=new Oh([],c,l,null)}else{if(!("filter"in e))return bt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new cC(l,c),b=s.targetId;i=new bw(b,p)}}return i}function EC(r,e){let i;if(e instanceof fc)i={update:u0(r,e.key,e.value)};else if(e instanceof vw)i={delete:qm(r,e.key)};else if(e instanceof Ko)i={update:u0(r,e.key,e.data),updateMask:OC(e.fieldMask)};else{if(!(e instanceof oC))return bt(16599,{Vt:e.type});i={verify:qm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof Yh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof tc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof nc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Xh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw bt(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:_C(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:bt(27497)})(r,e.precondition)),i}function TC(r,e){return r&&r.length>0?(bn(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?Pa(l.updateTime):Pa(c);return p.isEqual(Rt.min())&&(p=Pa(c)),new rC(p,l.transformResults||[])})(i,e)))):[]}function AC(r,e){return{documents:[Aw(r,e.path)]}}function SC(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Aw(r,l);const c=(function(E){if(E.length!==0)return Cw(ma.create(E,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((x=>(function(H){return{field:Ol(H.field),direction:IC(H.dir)}})(x)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=Fm(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:i,parent:l}}function RC(r){let e=bC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){bn(s===1,65062);const x=i.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(L){const H=Rw(L);return H instanceof ma&&tw(H)?H.getFilters():[H]})(i.where));let p=[];i.orderBy&&(p=(function(L){return L.map((H=>(function(B){return new Gh(Dl(B.field),(function(Ae){switch(Ae){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(H)))})(i.orderBy));let b=null;i.limit&&(b=(function(L){let H;return H=typeof L=="object"?L.value:L,of(H)?null:H})(i.limit));let w=null;i.startAt&&(w=(function(L){const H=!!L.before,te=L.values||[];return new qh(te,H)})(i.startAt));let E=null;return i.endAt&&(E=(function(L){const H=!L.before,te=L.values||[];return new qh(te,H)})(i.endAt)),GR(e,l,p,c,b,"F",w,E)}function CC(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Rw(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Dl(i.unaryFilter.field);return di.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Dl(i.unaryFilter.field);return di.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Dl(i.unaryFilter.field);return di.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Dl(i.unaryFilter.field);return di.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return di.create(Dl(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ma.create(i.compositeFilter.filters.map((s=>Rw(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(r):bt(30097,{filter:r})}function IC(r){return pC[r]}function xC(r){return gC[r]}function MC(r){return yC[r]}function Ol(r){return{fieldPath:r.canonicalString()}}function Dl(r){return Vi.fromServerFormat(r.fieldPath)}function Cw(r){return r instanceof di?(function(i){if(i.op==="=="){if(W_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NAN"}};if(K_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(W_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NOT_NAN"}};if(K_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(i.field),op:xC(i.op),value:i.value}}})(r):r instanceof ma?(function(i){const s=i.getFilters().map((l=>Cw(l)));return s.length===1?s[0]:{compositeFilter:{op:MC(i.op),filters:s}}})(r):bt(54877,{filter:r})}function OC(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Iw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class oo{constructor(e,i,s,l,c=Rt.min(),p=Rt.min(),b=ki.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DC{constructor(e){this.yt=e}}function NC(r){const e=RC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bm(e,e.limit,"L"):e}class VC{constructor(){this.Cn=new kC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Re.resolve()}getCollectionParents(e,i){return Re.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Re.resolve()}deleteFieldIndex(e,i){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,i){return Re.resolve()}getDocumentsMatchingTarget(e,i){return Re.resolve(null)}getIndexType(e,i){return Re.resolve(0)}getFieldIndexes(e,i){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,i){return Re.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,i){return Re.resolve(mo.min())}updateCollectionGroup(e,i,s){return Re.resolve()}updateIndexEntries(e,i){return Re.resolve()}}class kC{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new wi(Vn.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new wi(Vn.comparator)).toArray()}}const c0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xw=41943040;class Tr{static withCacheSize(e){return new Tr(e,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Tr.DEFAULT_COLLECTION_PERCENTILE=10,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tr.DEFAULT=new Tr(xw,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tr.DISABLED=new Tr(-1,0,0);class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}const h0="LruGarbageCollector",PC=1048576;function f0([r,e],[i,s]){const l=Qt(r,i);return l===0?Qt(e,s):l}class LC{constructor(e){this.Ir=e,this.buffer=new wi(f0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();f0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class UC{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){nt(h0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$l(i)?nt(h0,"Ignoring IndexedDB error during garbage collection: ",i):await Wl(i)}await this.Vr(3e5)}))}}class jC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Re.resolve(sf.ce);const s=new LC(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(c0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,p,b,w,E;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((L=>(L>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),l=this.params.maximumSequenceNumbersToCollect):l=L,p=Date.now(),this.nthSequenceNumber(e,l)))).next((L=>(s=L,b=Date.now(),this.removeTargets(e,s,i)))).next((L=>(c=L,w=Date.now(),this.removeOrphanedDocuments(e,s)))).next((L=>(E=Date.now(),xl()<=Xt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-x}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${L} documents in `+(E-w)+`ms
Total Duration: ${E-x}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:L}))))}}function zC(r,e){return new jC(r,e)}class BC{constructor(){this.changes=new Qo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fi.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Re.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class HC{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Qu(s.mutation,l,da.empty(),zn.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Kt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Kt()){const l=jo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let p=ju();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const s=jo();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Kt())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,s,l){let c=Ts();const p=Xu(),b=(function(){return Xu()})();return i.forEach(((w,E)=>{const x=s.get(E.key);l.has(E.key)&&(x===void 0||x.mutation instanceof Ko)?c=c.insert(E.key,E):x!==void 0?(p.set(E.key,x.mutation.getFieldMask()),Qu(x.mutation,E,x.mutation.getFieldMask(),zn.now())):p.set(E.key,da.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,x)=>p.set(E,x))),i.forEach(((E,x)=>b.set(E,new FC(x,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,i){const s=Xu();let l=new Xn(((p,b)=>p-b)),c=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=i.get(w);if(E===null)return;let x=s.get(w)||da.empty();x=b.applyToLocalView(E,x),s.set(w,x);const L=(l.get(b.batchId)||Kt()).add(w);l=l.insert(b.batchId,L)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,x=w.value,L=cw();x.forEach((H=>{if(!c.has(H)){const te=gw(i.get(H),s.get(H));te!==null&&L.set(H,te),c=c.add(H)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,L))}return Re.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(p){return mt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):aw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):Re.resolve(jo());let b=$u,w=c;return p.next((E=>Re.forEach(E,((x,L)=>(b<L.largestBatchId&&(b=L.largestBatchId),c.get(x)?Re.resolve():this.remoteDocumentCache.getEntry(e,x).next((H=>{w=w.insert(x,H)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,Kt()))).next((x=>({batchId:b,changes:uw(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let l=ju();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let p=ju();return this.indexManager.getCollectionParents(e,c).next((b=>Re.forEach(b,(w=>{const E=(function(L,H){return new hc(H,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)})(i,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,l).next((x=>{x.forEach(((L,H)=>{p=p.insert(L,H)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((p=>{c.forEach(((w,E)=>{const x=E.getKey();p.get(x)===null&&(p=p.insert(x,Fi.newInvalidDocument(x)))}));let b=ju();return p.forEach(((w,E)=>{const x=c.get(w);x!==void 0&&Qu(x.mutation,E,da.empty(),zn.now()),cf(i,E)&&(b=b.insert(w,E))})),b}))}}class qC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Re.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pa(l.createTime)}})(i)),Re.resolve()}getNamedQuery(e,i){return Re.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:NC(l.bundledQuery),readTime:Pa(l.readTime)}})(i)),Re.resolve()}}class GC{constructor(){this.overlays=new Xn(mt.comparator),this.qr=new Map}getOverlay(e,i){return Re.resolve(this.overlays.get(i))}getOverlays(e,i){const s=jo();return Re.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),Re.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Re.resolve()}getOverlaysForCollection(e,i,s){const l=jo(),c=i.length+1,p=new mt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>s&&l.set(w.getKey(),w)}return Re.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new Xn(((E,x)=>E-x));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>s){let x=c.get(E.largestBatchId);x===null&&(x=jo(),c=c.insert(E.largestBatchId,x)),x.set(E.getKey(),E)}}const b=jo(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,x)=>b.set(E,x))),!(b.size()>=l)););return Re.resolve(b)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new uC(i,s));let c=this.qr.get(i);c===void 0&&(c=Kt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class YC{constructor(){this.sessionToken=ki.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Re.resolve()}}class wp{constructor(){this.Qr=new wi(Ai.$r),this.Ur=new wi(Ai.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ai(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ai(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new Vn([])),s=new Ai(i,e),l=new Ai(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new Vn([])),s=new Ai(i,e),l=new Ai(i,e+1);let c=Kt();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new Ai(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ai{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Qt(e.Yr,i.Yr)}static Kr(e,i){return Qt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}class XC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new wi(Ai.$r)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new lC(c,i,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Ai(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Re.resolve(p)}lookupMutationBatch(e,i){return Re.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?hp:this.tr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ai(i,0),l=new Ai(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new wi(Qt);return i.forEach((l=>{const c=new Ai(l,0),p=new Ai(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),Re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;mt.isDocumentKey(c)||(c=c.child(""));const p=new Ai(new mt(c),0);let b=new wi(Qt);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!s.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Re.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){bn(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Re.forEach(i.mutations,(l=>{const c=new Ai(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ai(i,0),l=this.Zr.firstAfterOrEqual(s);return Re.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class QC{constructor(e){this.ri=e,this.docs=(function(){return new Xn(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Re.resolve(s?s.document.mutableCopy():Fi.newInvalidDocument(i))}getEntries(e,i){let s=Ts();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Fi.newInvalidDocument(l))})),Re.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=Ts();const p=i.path,b=new mt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:x}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||TR(ER(x),s)<=0||(l.has(x.key)||cf(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Re.resolve(c)}getAllFromCollectionGroup(e,i,s,l){bt(9500)}ii(e,i){return Re.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new KC(this)}getSize(e){return Re.resolve(this.size)}}class KC extends BC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Re.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class WC{constructor(e){this.persistence=e,this.si=new Qo((i=>mp(i)),pp),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new wp,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Re.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ql(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Re.resolve()}updateTargetData(e,i){return this.Pr(i),Re.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Re.waitFor(c).next((()=>l))}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Re.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Re.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Re.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Re.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Re.resolve(s)}containsKey(e,i){return Re.resolve(this._i.containsKey(i))}}class Mw{constructor(e,i){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new YC,this.referenceDelegate=e(this),this.Pi=new WC(this),this.indexManager=new VC,this.remoteDocumentCache=(function(l){return new QC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new DC(i),this.Ii=new qC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new GC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new XC(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){nt("MemoryPersistence","Starting transaction:",e);const l=new $C(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class $C extends SR{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.Ri=new wp,this.Vi=null}static mi(e){return new Ep(e)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Re.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Re.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Re.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.fi,(s=>{const l=mt.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Rt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Re.or([()=>Re.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Kh{constructor(e,i){this.persistence=e,this.pi=new Qo((s=>IR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=zC(this,i)}static mi(e,i){return new Kh(e,i)}Ei(){}di(e){return Re.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Re.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Re.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(s++,c.removeEntry(p,Rt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Re.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Re.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Re.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ih(e.data.value)),i}br(e,i,s){return Re.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Re.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tp{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=Kt(),l=Kt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Tp(e,i.fromCache,s,l)}}class JC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ZC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FT()?8:RR(Hi())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new JC;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(xl()<=Xt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ml(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Re.resolve()):(xl()<=Xt.DEBUG&&nt("QueryEngine","Query:",Ml(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(xl()<=Xt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ml(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ka(i))):Re.resolve())}ys(e,i){if(e0(i))return Re.resolve(null);let s=ka(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Bm(i,null,"F"),s=ka(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=Kt(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,s).next((w=>{const E=this.Ds(i,b);return this.Cs(i,E,p,w.readTime)?this.ys(e,Bm(i,null,"F")):this.vs(e,E,i,w)}))))})))))}ws(e,i,s,l){return e0(i)||l.isEqual(Rt.min())?Re.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,s,l)?Re.resolve(null):(xl()<=Xt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ml(i)),this.vs(e,p,i,wR(l,$u)).next((b=>b)))}))}Ds(e,i){let s=new wi(ow(e));return i.forEach(((l,c)=>{cf(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return xl()<=Xt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ml(i)),this.ps.getDocumentsMatchingQuery(e,i,mo.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Ap="LocalStore",eI=3e8;class tI{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Xn(Qt),this.xs=new Qo((c=>mp(c)),pp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function nI(r,e,i,s){return new tI(r,e,i,s)}async function Ow(r,e){const i=It(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let w=Kt();for(const E of l){p.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}for(const E of c){b.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}return i.localDocuments.getDocuments(s,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function iI(r,e){const i=It(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,x){const L=E.batch,H=L.keys();let te=Re.resolve();return H.forEach((B=>{te=te.next((()=>x.getEntry(w,B))).next((De=>{const Ae=E.docVersions.get(B);bn(Ae!==null,48541),De.version.compareTo(Ae)<0&&(L.applyToRemoteDocument(De,E),De.isValidDocument()&&(De.setReadTime(E.commitVersion),x.addEntry(De)))}))})),te.next((()=>b.mutationQueue.removeMutationBatch(w,L)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let w=Kt();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function Dw(r){const e=It(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function rI(r,e){const i=It(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((x,L)=>{const H=l.get(L);if(!H)return;b.push(i.Pi.removeMatchingKeys(c,x.removedDocuments,L).next((()=>i.Pi.addMatchingKeys(c,x.addedDocuments,L))));let te=H.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(L)!==null?te=te.withResumeToken(ki.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):x.resumeToken.approximateByteSize()>0&&(te=te.withResumeToken(x.resumeToken,s)),l=l.insert(L,te),(function(De,Ae,Le){return De.resumeToken.approximateByteSize()===0||Ae.snapshotVersion.toMicroseconds()-De.snapshotVersion.toMicroseconds()>=eI?!0:Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0})(H,te,x)&&b.push(i.Pi.updateTargetData(c,te))}));let w=Ts(),E=Kt();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),b.push(aI(c,p,e.documentUpdates).next((x=>{w=x.ks,E=x.qs}))),!s.isEqual(Rt.min())){const x=i.Pi.getLastRemoteSnapshotVersion(c).next((L=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(x)}return Re.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(i.Ms=l,c)))}function aI(r,e,i){let s=Kt(),l=Kt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let p=Ts();return i.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(Rt.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):nt(Ap,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function sI(r,e){const i=It(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=hp),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function oI(r,e){const i=It(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,Re.resolve(l)):i.Pi.allocateTargetId(s).next((p=>(l=new oo(e,p,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Ym(r,e,i){const s=It(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!$l(p))throw p;nt(Ap,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function d0(r,e,i){const s=It(r);let l=Rt.min(),c=Kt();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,x){const L=It(w),H=L.xs.get(x);return H!==void 0?Re.resolve(L.Ms.get(H)):L.Pi.getTargetData(E,x)})(s,p,ka(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,i?l:Rt.min(),i?c:Kt()))).next((b=>(lI(s,XR(e),b),{documents:b,Qs:c})))))}function lI(r,e,i){let s=r.Os.get(e)||Rt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class m0{constructor(){this.activeTargetIds=ZR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uI{constructor(){this.Mo=new m0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new m0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cI{Oo(e){}shutdown(){}}const p0="ConnectivityMonitor";class g0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(p0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){nt(p0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wh=null;function Xm(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}const bm="RestConnection",hI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Fh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const p=Xm(),b=this.zo(e,i.toUriEncodedString());nt(bm,`Sending RPC '${e}' ${p}:`,b,s);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),x=Yl(E);return this.Jo(e,b,w,s,x).then((L=>(nt(bm,`Received RPC '${e}' ${p}: `,L),L)),(L=>{throw zl(bm,`RPC '${e}' ${p} failed with error: `,L,"url: ",b,"request:",s),L}))}Ho(e,i,s,l,c,p){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=hI[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class dI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const zi="WebChannelConnection";class mI extends fI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const p=Xm();return new Promise(((b,w)=>{const E=new Vb;E.setWithCredentials(!0),E.listenOnce(kb.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Ch.NO_ERROR:const L=E.getResponseJson();nt(zi,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(L)),b(L);break;case Ch.TIMEOUT:nt(zi,`RPC '${e}' ${p} timed out`),w(new rt(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const H=E.getStatus();if(nt(zi,`RPC '${e}' ${p} failed with status:`,H,"response text:",E.getResponseText()),H>0){let te=E.getResponseJson();Array.isArray(te)&&(te=te[0]);const B=te?.error;if(B&&B.status&&B.message){const De=(function(Le){const Ue=Le.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(Ue)>=0?Ue:Se.UNKNOWN})(B.status);w(new rt(De,B.message))}else w(new rt(Se.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new rt(Se.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{nt(zi,`RPC '${e}' ${p} completed.`)}}));const x=JSON.stringify(l);nt(zi,`RPC '${e}' ${p} sending request:`,l),E.send(i,"POST",x,s,15)}))}T_(e,i,s){const l=Xm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Ub(),b=Lb(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,i,s),w.encodeInitMessageHeaders=!0;const x=c.join("");nt(zi,`Creating RPC '${e}' stream ${l}: ${x}`,w);const L=p.createWebChannel(x,w);this.I_(L);let H=!1,te=!1;const B=new dI({Yo:Ae=>{te?nt(zi,`Not sending because RPC '${e}' stream ${l} is closed:`,Ae):(H||(nt(zi,`Opening RPC '${e}' stream ${l} transport.`),L.open(),H=!0),nt(zi,`RPC '${e}' stream ${l} sending:`,Ae),L.send(Ae))},Zo:()=>L.close()}),De=(Ae,Le,Ue)=>{Ae.listen(Le,(Be=>{try{Ue(Be)}catch($e){setTimeout((()=>{throw $e}),0)}}))};return De(L,Uu.EventType.OPEN,(()=>{te||(nt(zi,`RPC '${e}' stream ${l} transport opened.`),B.o_())})),De(L,Uu.EventType.CLOSE,(()=>{te||(te=!0,nt(zi,`RPC '${e}' stream ${l} transport closed`),B.a_(),this.E_(L))})),De(L,Uu.EventType.ERROR,(Ae=>{te||(te=!0,zl(zi,`RPC '${e}' stream ${l} transport errored. Name:`,Ae.name,"Message:",Ae.message),B.a_(new rt(Se.UNAVAILABLE,"The operation could not be completed")))})),De(L,Uu.EventType.MESSAGE,(Ae=>{if(!te){const Le=Ae.data[0];bn(!!Le,16349);const Ue=Le,Be=Ue?.error||Ue[0]?.error;if(Be){nt(zi,`RPC '${e}' stream ${l} received error:`,Be);const $e=Be.status;let Xe=(function(P){const V=fi[P];if(V!==void 0)return _w(V)})($e),Je=Be.message;Xe===void 0&&(Xe=Se.INTERNAL,Je="Unknown error status: "+$e+" with message "+Be.message),te=!0,B.a_(new rt(Xe,Je)),L.close()}else nt(zi,`RPC '${e}' stream ${l} received:`,Le),B.u_(Le)}})),De(b,Pb.STAT_EVENT,(Ae=>{Ae.stat===Vm.PROXY?nt(zi,`RPC '${e}' stream ${l} detected buffering proxy`):Ae.stat===Vm.NOPROXY&&nt(zi,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function wm(){return typeof document<"u"?document:null}function mf(r){return new vC(r,!0)}class Nw{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const y0="PersistentStream";class Vw{constructor(e,i,s,l,c,p,b,w){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nw(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Se.RESOURCE_EXHAUSTED?(Es(i.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new rt(Se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return nt(y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(nt(y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pI extends Vw{constructor(e,i,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=wC(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Rt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Rt.min():p.readTime?Pa(p.readTime):Rt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Gm(this.serializer),i.addTarget=(function(c,p){let b;const w=p.target;if(b=jm(w)?{documents:AC(c,w)}:{query:SC(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=Ew(c,p.resumeToken);const E=Fm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(Rt.min())>0){b.readTime=Qh(c,p.snapshotVersion.toTimestamp());const E=Fm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const s=CC(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Gm(this.serializer),i.removeTarget=e,this.q_(i)}}class gI extends Vw{constructor(e,i,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return bn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=TC(e.writeResults,e.commitTime),s=Pa(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Gm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>EC(this.serializer,s)))};this.q_(i)}}class yI{}class vI extends yI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,Hm(i,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(Se.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,Hm(i,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new rt(Se.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _I{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yo="RemoteStore";class bI{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Wo(this)&&(nt(Yo,"Restarting streams for network reachability change."),await(async function(w){const E=It(w);E.Ea.add(4),await mc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await pf(E)})(this))}))})),this.Ra=new _I(s,l)}}async function pf(r){if(Wo(r))for(const e of r.da)await e(!0)}async function mc(r){for(const e of r.da)await e(!1)}function kw(r,e){const i=It(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ip(i)?Cp(i):Jl(i).O_()&&Rp(i,e))}function Sp(r,e){const i=It(r),s=Jl(i);i.Ia.delete(e),s.O_()&&Pw(i,e),i.Ia.size===0&&(s.O_()?s.L_():Wo(i)&&i.Ra.set("Unknown"))}function Rp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Jl(r).Y_(e)}function Pw(r,e){r.Va.Ue(e),Jl(r).Z_(e)}function Cp(r){r.Va=new mC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Jl(r).start(),r.Ra.ua()}function Ip(r){return Wo(r)&&!Jl(r).x_()&&r.Ia.size>0}function Wo(r){return It(r).Ea.size===0}function Lw(r){r.Va=void 0}async function wI(r){r.Ra.set("Online")}async function EI(r){r.Ia.forEach(((e,i)=>{Rp(r,e)}))}async function TI(r,e){Lw(r),Ip(r)?(r.Ra.ha(e),Cp(r)):r.Ra.set("Unknown")}async function AI(r,e,i){if(r.Ra.set("Online"),e instanceof ww&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(s){nt(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wh(r,s)}else if(e instanceof Oh?r.Va.Ze(e):e instanceof bw?r.Va.st(e):r.Va.tt(e),!i.isEqual(Rt.min()))try{const s=await Dw(r.localStore);i.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const x=c.Ia.get(E);x&&c.Ia.set(E,x.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const x=c.Ia.get(w);if(!x)return;c.Ia.set(w,x.withResumeToken(ki.EMPTY_BYTE_STRING,x.snapshotVersion)),Pw(c,w);const L=new oo(x.target,w,E,x.sequenceNumber);Rp(c,L)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(s){nt(Yo,"Failed to raise snapshot:",s),await Wh(r,s)}}async function Wh(r,e,i){if(!$l(e))throw e;r.Ea.add(1),await mc(r),r.Ra.set("Offline"),i||(i=()=>Dw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{nt(Yo,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await pf(r)}))}function Uw(r,e){return e().catch((i=>Wh(r,i,e)))}async function gf(r){const e=It(r),i=vo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hp;for(;SI(e);)try{const l=await sI(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,RI(e,l)}catch(l){await Wh(e,l)}jw(e)&&zw(e)}function SI(r){return Wo(r)&&r.Ta.length<10}function RI(r,e){r.Ta.push(e);const i=vo(r);i.O_()&&i.X_&&i.ea(e.mutations)}function jw(r){return Wo(r)&&!vo(r).x_()&&r.Ta.length>0}function zw(r){vo(r).start()}async function CI(r){vo(r).ra()}async function II(r){const e=vo(r);for(const i of r.Ta)e.ea(i.mutations)}async function xI(r,e,i){const s=r.Ta.shift(),l=vp.from(s,e,i);await Uw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await gf(r)}async function MI(r,e){e&&vo(r).X_&&await(async function(s,l){if((function(p){return hC(p)&&p!==Se.ABORTED})(l.code)){const c=s.Ta.shift();vo(s).B_(),await Uw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await gf(s)}})(r,e),jw(r)&&zw(r)}async function v0(r,e){const i=It(r);i.asyncQueue.verifyOperationInProgress(),nt(Yo,"RemoteStore received new credentials");const s=Wo(i);i.Ea.add(3),await mc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await pf(i)}async function OI(r,e){const i=It(r);e?(i.Ea.delete(2),await pf(i)):e||(i.Ea.add(2),await mc(i),i.Ra.set("Unknown"))}function Jl(r){return r.ma||(r.ma=(function(i,s,l){const c=It(i);return c.sa(),new pI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:wI.bind(null,r),t_:EI.bind(null,r),r_:TI.bind(null,r),H_:AI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ip(r)?Cp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Lw(r))}))),r.ma}function vo(r){return r.fa||(r.fa=(function(i,s,l){const c=It(i);return c.sa(),new gI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:CI.bind(null,r),r_:MI.bind(null,r),ta:II.bind(null,r),na:xI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await gf(r)):(await r.fa.stop(),r.Ta.length>0&&(nt(Yo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class xp{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const p=Date.now()+s,b=new xp(e,i,p,l,c);return b.start(s),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(r,e){if(Es("AsyncQueue",`${e}: ${r}`),$l(r))return new rt(Se.UNAVAILABLE,`${e}: ${r}`);throw r}class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=ju(),this.sortedSet=new Xn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ll;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class _0{constructor(){this.ga=new Xn(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):bt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Gl{constructor(e,i,s,l,c,p,b,w,E){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,i,s,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Gl(e,i,Ll.emptySet(i),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class DI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NI{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=It(i),c=l.queries;l.queries=b0(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(s)}))})(this,new rt(Se.ABORTED,"Firestore shutting down"))}}function b0(){return new Qo((r=>sw(r)),uf)}async function VI(r,e){const i=It(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new DI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=Mp(p,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Op(i)}async function kI(r,e){const i=It(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function PI(r,e){const i=It(r);let s=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&Op(i)}function LI(r,e,i){const s=It(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function Op(r){r.Ca.forEach((e=>{e.next()}))}var Qm,w0;(w0=Qm||(Qm={})).Ma="default",w0.Cache="cache";class UI{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qm.Cache}}class Bw{constructor(e){this.key=e}}class Fw{constructor(e){this.key=e}}class jI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=ow(e),this.tu=new Ll(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new _0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,L)=>{const H=l.get(x),te=cf(this.query,L)?L:null,B=!!H&&this.mutatedKeys.has(H.key),De=!!te&&(te.hasLocalMutations||this.mutatedKeys.has(te.key)&&te.hasCommittedMutations);let Ae=!1;H&&te?H.data.isEqual(te.data)?B!==De&&(s.track({type:3,doc:te}),Ae=!0):this.su(H,te)||(s.track({type:2,doc:te}),Ae=!0,(w&&this.eu(te,w)>0||E&&this.eu(te,E)<0)&&(b=!0)):!H&&te?(s.track({type:0,doc:te}),Ae=!0):H&&!te&&(s.track({type:1,doc:H}),Ae=!0,(w||E)&&(b=!0)),Ae&&(te?(p=p.add(te),c=De?c.add(x):c.delete(x)):(p=p.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const x=this.query.limitType==="F"?p.last():p.first();p=p.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((x,L)=>(function(te,B){const De=Ae=>{switch(Ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:Ae})}};return De(te)-De(B)})(x.type,L.type)||this.eu(x.doc,L.doc))),this.ou(s),l=l??!1;const b=i&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Gl(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Fw(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Bw(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Kt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dp="SyncEngine";class zI{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class BI{constructor(e){this.key=e,this.hu=!1}}class FI{constructor(e,i,s,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Qo((b=>sw(b)),uf),this.Iu=new Map,this.Eu=new Set,this.du=new Xn(mt.comparator),this.Au=new Map,this.Ru=new wp,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HI(r,e,i=!0){const s=Qw(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Hw(s,e,i,!0),l}async function qI(r,e){const i=Qw(r);await Hw(i,e,!0,!1)}async function Hw(r,e,i,s){const l=await oI(r.localStore,ka(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return s&&(b=await GI(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&kw(r.remoteStore,l),b}async function GI(r,e,i,s,l){r.pu=(L,H,te)=>(async function(De,Ae,Le,Ue){let Be=Ae.view.ru(Le);Be.Cs&&(Be=await d0(De.localStore,Ae.query,!1).then((({documents:F})=>Ae.view.ru(F,Be))));const $e=Ue&&Ue.targetChanges.get(Ae.targetId),Xe=Ue&&Ue.targetMismatches.get(Ae.targetId)!=null,Je=Ae.view.applyChanges(Be,De.isPrimaryClient,$e,Xe);return T0(De,Ae.targetId,Je.au),Je.snapshot})(r,L,H,te);const c=await d0(r.localStore,e,!0),p=new jI(e,c.Qs),b=p.ru(c.documents),w=dc.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),E=p.applyChanges(b,r.isPrimaryClient,w);T0(r,i,E.au);const x=new zI(e,i,p);return r.Tu.set(e,x),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),E.snapshot}async function YI(r,e,i){const s=It(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!uf(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Ym(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Sp(s.remoteStore,l.targetId),Km(s,l.targetId)})).catch(Wl)):(Km(s,l.targetId),await Ym(s.localStore,l.targetId,!0))}async function XI(r,e){const i=It(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Sp(i.remoteStore,s.targetId))}async function QI(r,e,i){const s=tx(r);try{const l=await(function(p,b){const w=It(p),E=zn.now(),x=b.reduce(((te,B)=>te.add(B.key)),Kt());let L,H;return w.persistence.runTransaction("Locally write mutations","readwrite",(te=>{let B=Ts(),De=Kt();return w.Ns.getEntries(te,x).next((Ae=>{B=Ae,B.forEach(((Le,Ue)=>{Ue.isValidDocument()||(De=De.add(Le))}))})).next((()=>w.localDocuments.getOverlayedDocuments(te,B))).next((Ae=>{L=Ae;const Le=[];for(const Ue of b){const Be=sC(Ue,L.get(Ue.key).overlayedDocument);Be!=null&&Le.push(new Ko(Ue.key,Be,Jb(Be.value.mapValue),ys.exists(!0)))}return w.mutationQueue.addMutationBatch(te,E,Le,b)})).next((Ae=>{H=Ae;const Le=Ae.applyToLocalDocumentSet(L,De);return w.documentOverlayCache.saveOverlays(te,Ae.batchId,Le)}))})).then((()=>({batchId:H.batchId,changes:uw(L)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new Xn(Qt)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(s,l.batchId,i),await pc(s,l.changes),await gf(s.remoteStore)}catch(l){const c=Mp(l,"Failed to persist write");i.reject(c)}}async function qw(r,e){const i=It(r);try{const s=await rI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(bn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?bn(p.hu,14607):l.removedDocuments.size>0&&(bn(p.hu,42227),p.hu=!1))})),await pc(i,s,e)}catch(s){await Wl(s)}}function E0(r,e,i){const s=It(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=It(p);w.onlineState=b;let E=!1;w.queries.forEach(((x,L)=>{for(const H of L.Sa)H.va(b)&&(E=!0)})),E&&Op(w)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function KI(r,e,i){const s=It(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new Xn(mt.comparator);p=p.insert(c,Fi.newNoDocument(c,Rt.min()));const b=Kt().add(c),w=new df(Rt.min(),new Map,new Xn(Qt),p,b);await qw(s,w),s.du=s.du.remove(c),s.Au.delete(e),Np(s)}else await Ym(s.localStore,e,!1).then((()=>Km(s,e,i))).catch(Wl)}async function WI(r,e){const i=It(r),s=e.batch.batchId;try{const l=await iI(i.localStore,e);Yw(i,s,null),Gw(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await pc(i,l)}catch(l){await Wl(l)}}async function $I(r,e,i){const s=It(r);try{const l=await(function(p,b){const w=It(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let x;return w.mutationQueue.lookupMutationBatch(E,b).next((L=>(bn(L!==null,37113),x=L.keys(),w.mutationQueue.removeMutationBatch(E,L)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,x,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,x))).next((()=>w.localDocuments.getDocuments(E,x)))}))})(s.localStore,e);Yw(s,e,i),Gw(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await pc(s,l)}catch(l){await Wl(l)}}function Gw(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Yw(r,e,i){const s=It(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function Km(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Xw(r,s)}))}function Xw(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Sp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Np(r))}function T0(r,e,i){for(const s of i)s instanceof Bw?(r.Ru.addReference(s.key,e),JI(r,s)):s instanceof Fw?(nt(Dp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Xw(r,s.key)):bt(19791,{wu:s})}function JI(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(nt(Dp,"New document in limbo: "+i),r.Eu.add(s),Np(r))}function Np(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(Vn.fromString(e)),s=r.fu.next();r.Au.set(s,new BI(i)),r.du=r.du.insert(i,s),kw(r.remoteStore,new oo(ka(gp(i.path)),s,"TargetPurposeLimboResolution",sf.ce))}}async function pc(r,e,i){const s=It(r),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,w)=>{p.push(s.pu(w,e,i).then((E=>{if((E||i)&&s.isPrimaryClient){const x=E?!E.fromCache:i?.targetChanges.get(w.targetId)?.current;s.sharedClientState.updateQueryState(w.targetId,x?"current":"not-current")}if(E){l.push(E);const x=Tp.As(w.targetId,E);c.push(x)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(w,E){const x=It(w);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(L=>Re.forEach(E,(H=>Re.forEach(H.Es,(te=>x.persistence.referenceDelegate.addReference(L,H.targetId,te))).next((()=>Re.forEach(H.ds,(te=>x.persistence.referenceDelegate.removeReference(L,H.targetId,te)))))))))}catch(L){if(!$l(L))throw L;nt(Ap,"Failed to update sequence numbers: "+L)}for(const L of E){const H=L.targetId;if(!L.fromCache){const te=x.Ms.get(H),B=te.snapshotVersion,De=te.withLastLimboFreeSnapshotVersion(B);x.Ms=x.Ms.insert(H,De)}}})(s.localStore,c))}async function ZI(r,e){const i=It(r);if(!i.currentUser.isEqual(e)){nt(Dp,"User change. New user:",e.toKey());const s=await Ow(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new rt(Se.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pc(i,s.Ls)}}function ex(r,e){const i=It(r),s=i.Au.get(e);if(s&&s.hu)return Kt().add(s.key);{let l=Kt();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function Qw(r){const e=It(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ex.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KI.bind(null,e),e.Pu.H_=PI.bind(null,e.eventManager),e.Pu.yu=LI.bind(null,e.eventManager),e}function tx(r){const e=It(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$I.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return nI(this.persistence,new ZC,e.initialUser,this.serializer)}Cu(e){return new Mw(Ep.mi,this.serializer)}Du(e){return new uI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class nx extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){bn(this.persistence.referenceDelegate instanceof Kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UC(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Tr.withCacheSize(this.cacheSizeBytes):Tr.DEFAULT;return new Mw((s=>Kh.mi(s,i)),this.serializer)}}class Wm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>E0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZI.bind(null,this.syncEngine),await OI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NI})()}createDatastore(e){const i=mf(e.databaseInfo.databaseId),s=(function(c){return new mI(c)})(e.databaseInfo);return(function(c,p,b,w){return new vI(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,p,b){return new bI(s,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>E0(this.syncEngine,i,0)),(function(){return g0.v()?new g0:new cI})())}createSyncEngine(e,i){return(function(l,c,p,b,w,E,x){const L=new FI(l,c,p,b,w,E);return x&&(L.gu=!0),L})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=It(i);nt(Yo,"RemoteStore shutting down."),s.Ea.add(5),await mc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wm.provider={build:()=>new Wm};class ix{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const _o="FirestoreClient";class rx{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Bi.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{nt(_o,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(nt(_o,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Mp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Em(r,e){r.asyncQueue.verifyOperationInProgress(),nt(_o,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Ow(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function A0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await ax(r);nt(_o,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>v0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>v0(e.remoteStore,l))),r._onlineComponents=e}async function ax(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(_o,"Using user provided OfflineComponentProvider");try{await Em(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Se.FAILED_PRECONDITION||l.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;zl("Error using user provided cache. Falling back to memory cache: "+i),await Em(r,new $h)}}else nt(_o,"Using default OfflineComponentProvider"),await Em(r,new nx(void 0));return r._offlineComponents}async function Kw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(_o,"Using user provided OnlineComponentProvider"),await A0(r,r._uninitializedComponentsProvider._online)):(nt(_o,"Using default OnlineComponentProvider"),await A0(r,new Wm))),r._onlineComponents}function sx(r){return Kw(r).then((e=>e.syncEngine))}async function S0(r){const e=await Kw(r),i=e.eventManager;return i.onListen=HI.bind(null,e.syncEngine),i.onUnlisten=YI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=qI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=XI.bind(null,e.syncEngine),i}function Ww(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const R0=new Map;const $w="firestore.googleapis.com",C0=!0;class I0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$w,this.ssl=C0}else this.host=e.host,this.ssl=e.ssl??C0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PC)throw new rt(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ww(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new cR;switch(s.type){case"firstParty":return new mR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=R0.get(i);s&&(nt("ComponentProvider","Removing Datastore"),R0.delete(i),s.terminate())})(this),Promise.resolve()}}function ox(r,e,i,s={}){r=qu(r,yf);const l=Yl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(Q0(`https://${b}`),K0("Firestore",!0)),c.host!==$w&&c.host!==b&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:s};if(!Fo(w,p)&&(r._setSettings(w),s.mockUserToken)){let E,x;if(typeof s.mockUserToken=="string")E=s.mockUserToken,x=Bi.MOCK_USER;else{E=NT(s.mockUserToken,r._app?.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new rt(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Bi(L)}r._authCredentials=new hR(new zb(E,x))}}class Zl{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zl(this.firestore,e,this._query)}}class bi{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bi(this.firestore,e,this._key)}toJSON(){return{type:bi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(cc(i,bi._jsonSchema))return new bi(e,s||null,new mt(Vn.fromString(i.referencePath)))}}bi._jsonSchemaVersion="firestore/documentReference/1.0",bi._jsonSchema={type:mi("string",bi._jsonSchemaVersion),referencePath:mi("string")};class fo extends Zl{constructor(e,i,s){super(e,i,gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bi(this.firestore,null,new mt(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function Jw(r,e,...i){if(r=Ar(r),Bb("collection","path",e),r instanceof yf){const s=Vn.fromString(e,...i);return z_(s),new fo(r,null,s)}{if(!(r instanceof bi||r instanceof fo))throw new rt(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Vn.fromString(e,...i));return z_(s),new fo(r.firestore,null,s)}}function lx(r,e,...i){if(r=Ar(r),arguments.length===1&&(e=cp.newId()),Bb("doc","path",e),r instanceof yf){const s=Vn.fromString(e,...i);return j_(s),new bi(r,null,new mt(s))}{if(!(r instanceof bi||r instanceof fo))throw new rt(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Vn.fromString(e,...i));return j_(s),new bi(r.firestore,r instanceof fo?r.converter:null,new mt(s))}}const x0="AsyncQueue";class M0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nw(this,"async_queue_retry"),this._c=()=>{const s=wm();s&&nt(x0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=wm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=wm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;nt(x0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",O0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=xp.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&bt(47125,{Pc:O0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function O0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function D0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Jh extends yf{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new M0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M0(e),this._firestoreClient=void 0,await e}}}function ux(r,e){const i=typeof r=="object"?r:Z0(),s=typeof r=="string"?r:Fh,l=ep(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=OT("firestore");c&&ox(l,...c)}return l}function Zw(r){if(r._terminated)throw new rt(Se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cx(r),r._firestoreClient}function cx(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new OR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Ww(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new rx(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(ki.fromBase64String(e))}catch(i){throw new rt(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new na(ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:na._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,na._jsonSchema))return na.fromBase64String(e.bytes)}}na._jsonSchemaVersion="firestore/bytes/1.0",na._jsonSchema={type:mi("string",na._jsonSchemaVersion),bytes:mi("string")};class Vp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eE{constructor(e){this._methodName=e}}class La{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:La._jsonSchemaVersion}}static fromJSON(e){if(cc(e,La._jsonSchema))return new La(e.latitude,e.longitude)}}La._jsonSchemaVersion="firestore/geoPoint/1.0",La._jsonSchema={type:mi("string",La._jsonSchemaVersion),latitude:mi("number"),longitude:mi("number")};class Ua{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,Ua._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ua(e.vectorValues);throw new rt(Se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ua._jsonSchemaVersion="firestore/vectorValue/1.0",Ua._jsonSchema={type:mi("string",Ua._jsonSchemaVersion),vectorValues:mi("object")};const hx=/^__.*__$/;class fx{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ko(e,this.data,this.fieldMask,i,this.fieldTransforms):new fc(e,this.data,i,this.fieldTransforms)}}function tE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:r})}}class kp{constructor(e,i,s,l,c,p){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tE(this.Ac)&&hx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dx{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||mf(e)}Cc(e,i,s,l=!1){return new kp({Ac:e,methodName:i,Dc:s,path:Vi.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nE(r){const e=r._freezeSettings(),i=mf(r._databaseId);return new dx(r._databaseId,!!e.ignoreUndefinedProperties,i)}function mx(r,e,i,s,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);aE("Data must be an object, but it was:",p,s);const b=iE(s,p);let w,E;if(c.merge)w=new da(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const x=[];for(const L of c.mergeFields){const H=gx(e,L,i);if(!p.contains(H))throw new rt(Se.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);vx(x,H)||x.push(H)}w=new da(x),E=p.fieldTransforms.filter((L=>w.covers(L.field)))}else w=null,E=p.fieldTransforms;return new fx(new ta(b),w,E)}function px(r,e,i,s=!1){return Pp(i,r.Cc(s?4:3,e))}function Pp(r,e){if(rE(r=Ar(r)))return aE("Unsupported field value:",e,r),iE(r,e);if(r instanceof eE)return(function(s,l){if(!tE(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let w=Pp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Ar(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=zn.fromDate(s);return{timestampValue:Qh(l.serializer,c)}}if(s instanceof zn){const c=new zn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(l.serializer,c)}}if(s instanceof La)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof na)return{bytesValue:Ew(l.serializer,s._byteString)};if(s instanceof bi){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:bp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ua)return(function(p,b){return{mapValue:{fields:{[Wb]:{stringValue:$b},[Hh]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return yp(b.serializer,E)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${af(s)}`)})(r,e)}function iE(r,e){const i={};return qb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(r,((s,l)=>{const c=Pp(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function rE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof zn||r instanceof La||r instanceof na||r instanceof bi||r instanceof eE||r instanceof Ua)}function aE(r,e,i){if(!rE(i)||!Fb(i)){const s=af(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function gx(r,e,i){if((e=Ar(e))instanceof Vp)return e._internalPath;if(typeof e=="string")return sE(r,e);throw Zh("Field path arguments must be of type string or ",r,!1,void 0,i)}const yx=new RegExp("[~\\*/\\[\\]]");function sE(r,e,i){if(e.search(yx)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Vp(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Zh(r,e,i,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${s}`),p&&(w+=` in document ${l}`),w+=")"),new rt(Se.INVALID_ARGUMENT,b+r+w)}function vx(r,e){return r.some((i=>i.isEqual(e)))}class oE{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(lE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _x extends oE{data(){return super.data()}}function lE(r,e){return typeof e=="string"?sE(r,e):e instanceof Vp?e._internalPath:e._delegate._internalPath}function bx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lp{}class wx extends Lp{}function Ex(r,e,...i){let s=[];e instanceof Lp&&s.push(e),s=s.concat(i),(function(c){const p=c.filter((w=>w instanceof jp)).length,b=c.filter((w=>w instanceof Up)).length;if(p>1||p>0&&b>0)throw new rt(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Up extends wx{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Up(e,i,s)}_apply(e){const i=this._parse(e);return uE(e._query,i),new Zl(e.firestore,e.converter,zm(e._query,i))}_parse(e){const i=nE(e.firestore);return(function(c,p,b,w,E,x,L){let H;if(E.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new rt(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){V0(L,x);const B=[];for(const De of L)B.push(N0(w,c,De));H={arrayValue:{values:B}}}else H=N0(w,c,L)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||V0(L,x),H=px(b,p,L,x==="in"||x==="not-in");return di.create(E,x,H)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class jp extends Lp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new jp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ma.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)uE(p,w),p=zm(p,w)})(e._query,i),new Zl(e.firestore,e.converter,zm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function N0(r,e,i){if(typeof(i=Ar(i))=="string"){if(i==="")throw new rt(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aw(e)&&i.indexOf("/")!==-1)throw new rt(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Vn.fromString(i));if(!mt.isDocumentKey(s))throw new rt(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q_(r,new mt(s))}if(i instanceof bi)return Q_(r,i._key);throw new rt(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(i)}.`)}function V0(r,e){if(!Array.isArray(r)||r.length===0)throw new rt(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uE(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new rt(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Tx{convertValue(e,i="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw bt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Xo(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Hh].arrayValue?.values?.map((s=>ai(s.doubleValue)));return new Ua(i)}convertGeoPoint(e){return new La(ai(e.latitude),ai(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=lf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const i=po(e);return new zn(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Vn.fromString(e);bn(Iw(s),9688,{name:e});const l=new Zu(s.get(1),s.get(3)),c=new mt(s.popFirst(5));return l.isEqual(i)||Es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Ax(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Bu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bo extends oE{constructor(e,i,s,l,c,p){super(e,i,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(lE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Bo._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bo._jsonSchema={type:mi("string",Bo._jsonSchemaVersion),bundleSource:mi("string","DocumentSnapshot"),bundleName:mi("string"),bundle:mi("string")};class Dh extends Bo{data(e={}){return super.data(e)}}class Ul{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Bu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Dh(this._firestore,this._userDataWriter,s.key,s,new Bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Dh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Bu(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Dh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Bu(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,x=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),x=p.indexOf(b.doc.key)),{type:Sx(b.type),doc:w,oldIndex:E,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:r})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:mi("string",Ul._jsonSchemaVersion),bundleSource:mi("string","QuerySnapshot"),bundleName:mi("string"),bundle:mi("string")};class cE extends Tx{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new bi(this.firestore,null,i)}}function Rx(r,e){const i=qu(r.firestore,Jh),s=lx(r),l=Ax(r.converter,e);return Ix(i,[mx(nE(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ys.exists(!1))]).then((()=>s))}function Cx(r,...e){r=Ar(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||D0(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(D0(e[s])){const w=e[s];e[s]=w.next?.bind(w),e[s+1]=w.error?.bind(w),e[s+2]=w.complete?.bind(w)}let c,p,b;if(r instanceof bi)p=qu(r.firestore,Jh),b=gp(r._key.path),c={next:w=>{e[s]&&e[s](xx(p,r,w))},error:e[s+1],complete:e[s+2]};else{const w=qu(r,Zl);p=qu(w.firestore,Jh),b=w._query;const E=new cE(p);c={next:x=>{e[s]&&e[s](new Ul(p,E,w,x))},error:e[s+1],complete:e[s+2]},bx(r._query)}return(function(E,x,L,H){const te=new ix(H),B=new UI(x,te,L);return E.asyncQueue.enqueueAndForget((async()=>VI(await S0(E),B))),()=>{te.Nu(),E.asyncQueue.enqueueAndForget((async()=>kI(await S0(E),B)))}})(Zw(p),b,l,c)}function Ix(r,e){return(function(s,l){const c=new zo;return s.asyncQueue.enqueueAndForget((async()=>QI(await sx(s),l,c))),c.promise})(Zw(r),e)}function xx(r,e,i){const s=i.docs.get(e._key),l=new cE(r);return new Bo(r,l,e._key,s,new Bu(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Kl=l})(Xl),jl(new Ho("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new Jh(new fR(s.getProvider("auth-internal")),new pR(p,s.getProvider("app-check-internal")),(function(E,x){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new rt(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(E.options.projectId,x)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),co(k_,P_,e),co(k_,P_,"esm2020")})();const Mx={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},Ox=typeof __firebase_config<"u"?JSON.parse(__firebase_config):Mx,hE=J0(Ox),Tm=lR(hE),fE=ux(hE),dE=typeof __app_id<"u"?__app_id:"long-jump-game",gt={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",overlayComplete:"#ffffff",startArrow:"#000000"},Da=5,Zr=50,$m=30,to=40,mE={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},k0=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],P0=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],Dx=[{version:"3.50",date:"Nov 26",changes:["Fixed Undo: Tiles now properly return to hand.","Added Change Log to Main Menu.","Rounded edges on Board Obstacles."]},{version:"3.40",date:"Nov 26",changes:["Added random Obstacles (Blocks) to the board.","Elite Leaderboard: Gold styling & Crown for 40+ scores.","Increased Board size to 50 columns."]},{version:"3.30",date:"Nov 25",changes:["Added Undo button.","Added 'Report Word' feature.","Visual polish: 'New' pill, better shadows.","Dictionary: Added 'NET' and 'OUR'."]}],zp=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Bp=r=>{let e=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=s^Math.imul(i^p,2869860233),s=l^Math.imul(s^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(s^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(e^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^s^l)>>>0},Nx=()=>new Date().toISOString().split("T")[0],Vx=r=>{const e=Bp(r),i=zp(e),s=[],l=15,c=new Set;for(;s.length<l;){const p=Math.floor(i()*Da),b=Math.floor(i()*Zr);if(b===0)continue;const w=`${p},${b}`;if(!c.has(w)){c.add(w);const E=i();let x=1;E>.5&&(x=2),E>.8&&(x=3),s.push({r:p,c:b,val:x})}}return s},kx=r=>{const e=Bp(r+"OBSTACLES"),i=zp(e),s=[],l=5,c=new Set;for(;s.length<l;){const p=Math.floor(i()*Da),b=Math.floor(i()*Zr);if(b===0)continue;const w=`${p},${b}`;c.has(w)||(c.add(w),s.push({r:p,c:b}))}return s},Px=()=>{const r=[];for(let i=1;i<Zr;i++)Math.random()<.1&&r.push({r:0,c:i,type:"top"}),Math.random()<.1&&r.push({r:Da-1,c:i,type:"bottom"});return r},Lx=r=>{const e=Bp(r),i=zp(e);let s=[];Object.entries(mE).forEach(([b,w])=>{for(let E=0;E<w;E++)s.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(s);for(let b=l.length-1;b>0;b--){const w=Math.floor(i()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=$m;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(i()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},Ux=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},jx=()=>{const r=_t.useRef(null);return _t.useEffect(()=>{const e=r.current,i=e.getContext("2d");let s=window.innerWidth,l=window.innerHeight;e.width=s,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",gt.accentPrimary];for(let x=0;x<150;x++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const w=()=>{i.clearRect(0,0,s,l),c.forEach(x=>{x.y+=x.vy,x.x+=x.vx+Math.sin(x.y/50),x.rotation+=x.rotationSpeed,x.y>l&&(x.y=-10,x.x=Math.random()*s),i.save(),i.translate(x.x,x.y),i.rotate(x.rotation*Math.PI/180),i.fillStyle=x.color,i.fillRect(-x.size/2,-x.size/2,x.size,x.size),i.restore()}),b=requestAnimationFrame(w)};w();const E=()=>{s=window.innerWidth,l=window.innerHeight,e.width=s,e.height=l};return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E),cancelAnimationFrame(b)}},[]),Y.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none z-50"})},L0=()=>{const{RiveComponent:r}=so.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return Y.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto"}})},U0=({trigger:r})=>{const{rive:e,RiveComponent:i}=so.useRive({src:"fan.riv",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return _t.useEffect(()=>{if(r&&e)try{if(e.viewModelInstance){const s=e.viewModelInstance("View Model 1");if(s){const l=s.trigger("Celebrate");l&&l.fire()}}}catch(s){console.error("Error firing trigger:",s)}},[r,e]),Y.jsx("div",{style:{width:`${to}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:Y.jsx("div",{style:{width:"39px",height:"60px"},children:Y.jsx(i,{})})})},Am=({highlightName:r,user:e,onRankFound:i})=>{const[s,l]=_t.useState([]),[c,p]=_t.useState(!0),[b,w]=_t.useState("daily");return _t.useEffect(()=>{if(!e)return;p(!0);const E=Jw(fE,"artifacts",dE,"public","data","scores"),x=Ex(E),L=Cx(x,H=>{const te=new Date,B=te.toISOString().split("T")[0],De=te.getDay(),Ae=te.getDate()-De+(De===0?-6:1),Le=new Date(te.setDate(Ae));Le.setHours(0,0,0,0);const Ue=H.docs.map(Xe=>({id:Xe.id,...Xe.data()}));let Be=[];b==="daily"?Be=Ue.filter(Xe=>Xe.date===B):Be=Ue.filter(Xe=>new Date(Xe.date)>=Le);const $e=Be.sort((Xe,Je)=>Je.score-Xe.score).slice(0,100);if(l($e),p(!1),r&&i){const Xe=$e.findIndex(Je=>Je.name===r);Xe!==-1&&i(Xe+1)}},H=>{console.error("Error fetching leaderboard:",H),p(!1)});return()=>L()},[e,b,r,i]),Y.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col",children:[Y.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx(e_,{size:20,className:"text-yellow-500"}),Y.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:"Leaders"})]}),Y.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[Y.jsx("button",{onClick:()=>w("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${b==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),Y.jsx("button",{onClick:()=>w("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${b==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:c?Y.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):s.length===0?Y.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",Y.jsx("br",{}),"Be the first!"]}):Y.jsx("div",{className:"space-y-1",children:s.map((E,x)=>{const L=E.score>=40;return Y.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${E.name===r?`bg-[${gt.accentPrimary}]/10 border-[${gt.accentPrimary}]/20`:L?"bg-amber-100 border-amber-300":"hover:bg-white/60 border-transparent"}`,style:E.name===r?{backgroundColor:`${gt.accentPrimary}15`,borderColor:`${gt.accentPrimary}30`}:{},children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("span",{className:`font-black w-5 text-center ${x===0?"text-yellow-500 text-lg":x===1?"text-gray-400 text-base":x===2?"text-orange-700 text-base":"text-gray-300"}`,children:x+1}),Y.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[L&&Y.jsx(e_,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),Y.jsx("span",{className:`font-bold truncate max-w-[90px] ${E.name===r?"text-black":L?"text-amber-900":"text-gray-700"}`,style:E.name===r?{color:gt.accentPrimary}:{},children:E.name})]})]}),Y.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${L?"bg-amber-200 text-amber-900":"text-gray-900 bg-gray-100"}`,children:[E.score,"m"]})]},x)})})})]})},j0=()=>{const r=k0[Math.floor(Math.random()*k0.length)],e=P0[Math.floor(Math.random()*P0.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},z0=()=>Array(Da).fill(null).map(()=>Array(Zr).fill(null)),Sm=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(s=>s.r===e)||r.every(s=>s.c===i)},Lo=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15),letter:r,isNew:e});function zx(){const[r,e]=_t.useState("menu"),[i,s]=_t.useState(()=>j0()),[l,c]=_t.useState(()=>z0()),[p,b]=_t.useState([]),[w,E]=_t.useState([]),[x,L]=_t.useState([]),[H,te]=_t.useState(0),[B,De]=_t.useState([]),[Ae,Le]=_t.useState([]),[Ue,Be]=_t.useState([]),[$e,Xe]=_t.useState(null),[Je,F]=_t.useState(null),[P,V]=_t.useState([]),[z,C]=_t.useState(0),[U,I]=_t.useState(0),[W,se]=_t.useState(null),[q,Z]=_t.useState(!1),[ge,he]=_t.useState(!1),[we,k]=_t.useState({text:"Goal: Get as far right as you can.",type:"info",invalidWord:null}),[ne,Te]=_t.useState(!1),[_e,Ce]=_t.useState(!1),[Qe,ut]=_t.useState(!1),[ht,vt]=_t.useState(!1),[Mt,an]=_t.useState(!1),[He,Tt]=_t.useState(!1),[Wt,Vt]=_t.useState(!1),[On,Zn]=_t.useState(null),[jt,ot]=_t.useState(null),[mn,pn]=_t.useState(!1),pi=_t.useRef(null),[qn,Ht]=_t.useState(!1),[Rn,R]=_t.useState(0),[g,v]=_t.useState(0),D=l.some(re=>re.some(ye=>ye!==null));_t.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await QS(Tm,__initial_auth_token):await HS(Tm)})();const ye=$S(Tm,ot);return()=>ye()},[]),_t.useEffect(()=>{if(U===z)return;const re=500,ye=performance.now(),Ee=U,Me=z,Ne=ft=>{const Ve=ft-ye,Ye=Math.min(Ve/re,1),je=1-Math.pow(1-Ye,3),wt=Math.floor(Ee+(Me-Ee)*je);I(wt),Ye<1&&requestAnimationFrame(Ne)};requestAnimationFrame(Ne)},[z]),_t.useEffect(()=>{Q()},[]);const Q=()=>{const re=Nx(),ye=Lx(re);L(ye);const Ee=ye.slice(0,$m).map(Me=>Lo(Me,!1)).sort((Me,Ne)=>Me.letter.localeCompare(Ne.letter));b(Ee),te($m),c(z0()),V([]),E([]),C(0),I(0),se(null),Z(!1),he(!1),De(Vx(re)),Le(kx(re)),Be(Px()),k({text:"Goal: Get as far right as you can.",type:"neutral"}),Tt(!1),Ce(!1),ut(!1),vt(!1),an(!1),pn(!1),Xe(null),F(null),pi.current&&(pi.current.scrollLeft=0)},de=()=>{i.trim()||s(j0()),e("playing"),z>0&&Q(),ut(!0)},Ie=()=>{e("menu"),Q()},Ze=()=>{if(w.length===0)return;const re=w[w.length-1],ye=w.slice(0,-1);c(re.grid),b(re.hand),C(re.score),te(re.drawCount),E(ye),V([]),k({text:"Move undone",type:"info"})},it=()=>{Ce(!0)},qe=async()=>{if(Ce(!1),Tt(!0),pn(!0),jt)try{const Ee=new Date().toISOString().split("T")[0],Me=Jw(fE,"artifacts",dE,"public","data","scores");await Rx(Me,{name:i||"Anonymous",score:z,date:Ee,timestamp:Date.now(),userId:jt.uid})}catch(Ee){console.error("Error saving score:",Ee)}pn(!1);const re=z*50+800;setTimeout(()=>{e("gameOver"),Tt(!1)},Math.max(re,2500))},et=()=>{Ce(!1)},$t=async()=>{const re=W?Ux(W):"top",ye="https://www.longjump.co.za";let Ee;W?Ee=`${i} placed ${re} in Long-Jump with a distance of ${z}m. How far can you get? ${ye}`:Ee=`${i} got a distance of ${z}m in Long-Jump. How far can you get? ${ye}`;try{await navigator.clipboard.writeText(Ee),Z(!0),setTimeout(()=>Z(!1),1e3)}catch(Me){console.error("Failed to copy: ",Me),k({text:"Failed to copy result.",type:"error"})}},Dn=re=>{re.target.closest('[draggable="true"]')||re.target.tagName==="BUTTON"||(Ht(!0),R(re.pageX-pi.current.offsetLeft),v(pi.current.scrollLeft))},cn=()=>{Ht(!1)},Bn=()=>{Ht(!1)},Qn=re=>{if(!qn)return;re.preventDefault();const Ee=(re.pageX-pi.current.offsetLeft-Rn)*1.5;pi.current.scrollLeft=g-Ee},Lt=(re,ye,Ee)=>{if(re.letter==="*"){Zn({r:ye,c:Ee,tileId:re.id}),Vt(!0);return}Cn(re,ye,Ee)},Cn=(re,ye,Ee,Me=!1,Ne=null)=>{if(l.every(je=>je.every(wt=>wt===null))&&P.length===0&&Ee!==0){k({text:" Start Game: Place first tile in Column 1",type:"error"});return}const Ve=Ne||re.letter,Ye=[...P,{r:ye,c:Ee,letter:Ve,isWild:Me}];if(!Sm(Ye)){k({text:" Tiles must be placed in a single row or column",type:"error"});return}V(Ye),b(je=>je.filter(wt=>wt.id!==re.id)),we.type==="error"&&k({text:"Goal: Get as far right as you can.",type:"neutral"})},kn=re=>{if(On){const ye={id:On.tileId,letter:"*"};Cn(ye,On.r,On.c,!0,re),Vt(!1),Zn(null),Xe(null),F(null)}},Kn=re=>{if(!He){if(Je){Lt(re,Je.r,Je.c),F(null);return}$e===re.letter?Xe(null):Xe(re.letter)}},Gi=(re,ye)=>{if(qn||He||l[re]&&l[re][ye]||Ae.some(Me=>Me.r===re&&Me.c===ye))return;const Ee=P.findIndex(Me=>Me.r===re&&Me.c===ye);if(Ee!==-1){const Me=P[Ee],Ne=[...P];Ne.splice(Ee,1),V(Ne);const ft=Me.isWild?"*":Me.letter,Ve=Lo(ft,!1);b(Ye=>[...Ye,Ve].sort((je,wt)=>je.letter!==wt.letter?je.letter.localeCompare(wt.letter):je.isNew===wt.isNew?0:je.isNew?1:-1)),Xe(null),F(null);return}if($e!==null){const Me=p.filter(Ne=>Ne.letter===$e);if(Me.length>0){const Ne=Me[Me.length-1];Lt(Ne,re,ye),Me.length<=1&&Xe(null)}}else Je&&Je.r===re&&Je.c===ye?F(null):F({r:re,c:ye})},pt=(re,ye)=>{He||(re.dataTransfer.setData("text/plain",JSON.stringify(ye)),re.dataTransfer.effectAllowed="move")},Fn=re=>{re.preventDefault(),re.dataTransfer.dropEffect="move"},St=(re,ye,Ee)=>{if(He||(re.preventDefault(),re.stopPropagation(),Ae.some(Ne=>Ne.r===ye&&Ne.c===Ee)))return;const Me=re.dataTransfer.getData("text/plain");if(!(!Me||!Me.trim()||!Me.trim().startsWith("{")))try{const Ne=JSON.parse(Me);if(l[ye]&&l[ye][Ee])return;const ft=P.findIndex(Ve=>Ve.r===ye&&Ve.c===Ee);if(Ne.type==="hand"){const Ve=Ne.tile;if(Ve.letter==="*"){Zn({r:ye,c:Ee,tileId:Ve.id}),Vt(!0);return}if(l.every(je=>je.every(wt=>wt===null))&&P.length===0&&Ee!==0){k({text:" Start Game: Place first tile in Column 1",type:"error"});return}if(ft!==-1){const je=P[ft],wt=[...P],hn=je.isWild?"*":je.letter,In=Lo(hn,!1);wt.splice(ft,1,{r:ye,c:Ee,letter:Ve.letter,isWild:!1}),V(wt),b($i=>[...$i.filter(xn=>xn.id!==Ve.id),In].sort((xn,sn)=>xn.letter!==sn.letter?xn.letter.localeCompare(sn.letter):xn.isNew===sn.isNew?0:xn.isNew?1:-1))}else{const je=[...P,{r:ye,c:Ee,letter:Ve.letter,isWild:!1}];if(!Sm(je)){k({text:" Tiles must be placed in a single row or column",type:"error"});return}V(je),b(wt=>wt.filter(hn=>hn.id!==Ve.id))}p.filter(je=>je.letter===Ve.letter).length<=1&&Xe(null),F(null),we.type==="error"&&k({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Ne.type==="board"){if(Ne.r===ye&&Ne.c===Ee)return;const Ve=P.findIndex(wt=>wt.r===Ne.r&&wt.c===Ne.c);if(Ve===-1)return;const Ye=P[Ve],je=[...P];if(ft!==-1){const wt=P[ft];je[ft]={...wt,r:Ne.r,c:Ne.c},je[Ve]={...Ye,r:ye,c:Ee}}else je[Ve]={...Ye,r:ye,c:Ee};if(!Sm(je)){k({text:" Tiles must be placed in a single row or column",type:"error"});return}V(je)}}catch{}},Yi=re=>{if(He)return;re.preventDefault(),re.stopPropagation();const ye=re.dataTransfer.getData("text/plain");if(!(!ye||!ye.trim()||!ye.trim().startsWith("{")))try{const Ee=JSON.parse(ye);if(Ee.type==="board"){const Me=P.find(Ve=>Ve.r===Ee.r&&Ve.c===Ee.c),Ne=Me&&Me.isWild?"*":Ee.letter,ft=Lo(Ne,!1);V(Ve=>Ve.filter(Ye=>!(Ye.r===Ee.r&&Ye.c===Ee.c))),b(Ve=>[...Ve,ft].sort((Ye,je)=>Ye.letter!==je.letter?Ye.letter.localeCompare(je.letter):Ye.isNew===je.isNew?0:Ye.isNew?1:-1))}}catch{}},Xi=(re,ye)=>{if(!l||!l[re])return null;if(l[re][ye])return{letter:l[re][ye],type:"locked"};const Ee=P.find(Me=>Me.r===re&&Me.c===ye);return Ee?{letter:Ee.letter,type:"temp",isWild:Ee.isWild}:null},pa=(re,ye)=>B.find(Ee=>Ee.r===re&&Ee.c===ye),Sr=(re,ye)=>Ae.find(Ee=>Ee.r===re&&Ee.c===ye),jr=async()=>{if(P.length===0)return;Te(!0),k({text:"Validating...",type:"info"});const re=l.map(Ve=>[...Ve]);if(P.forEach(Ve=>{re[Ve.r]&&(re[Ve.r][Ve.c]=Ve.letter)}),P.length>1){const Ve=[...P].sort((hn,In)=>hn.r-In.r||hn.c-In.c),Ye=Ve[0],je=Ve[Ve.length-1];if(Ye.r===je.r){for(let hn=Ye.c;hn<=je.c;hn++)if(!re[Ye.r][hn]){ei("Cannot leave gaps between tiles.");return}}else for(let hn=Ye.r;hn<=je.r;hn++)if(!re[hn][Ye.c]){ei("Cannot leave gaps between tiles.");return}}const ye=l.every(Ve=>Ve.every(Ye=>Ye===null));let Ee=!1,Me=!1;if(P.forEach(Ve=>{Ve.c===0&&(Ee=!0),[{r:Ve.r+1,c:Ve.c},{r:Ve.r-1,c:Ve.c},{r:Ve.r,c:Ve.c+1},{r:Ve.r,c:Ve.c-1}].forEach(je=>{je.r>=0&&je.r<Da&&je.c>=0&&je.c<Zr&&l[je.r]&&l[je.r][je.c]&&(Me=!0)})}),ye&&!Ee){ei("First word must start in Column 1.");return}if(!ye&&!Me){ei("Tiles must connect to existing words.");return}const ft=ga(re).filter(Ve=>Ve.cells.some(Ye=>P.some(je=>je.r===Ye.r&&je.c===Ye.c)));if(ft.length===0){ei("Words must be at least 2 letters.");return}try{const Ve=[];for(const Ye of ft)await Ge(Ye.word)||Ve.push(Ye.word);if(Ve.length>0){ei(`Invalid word(s): ${Ve.join(", ")}`,Ve[0]);return}Qi(re,ft)}catch(Ve){console.error(Ve),ei("Error checking dictionary. Try again.")}},Ge=async re=>{const ye=re.toUpperCase();if(ye.length===2||["NET","OUR"].includes(ye))return["AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","NET","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","OUR","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"].includes(ye);try{const Ee=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${re}`);if(!Ee.ok)return!1;const Me=await Ee.json();return Array.isArray(Me)&&Me.length>0}catch{return!0}},ga=re=>{let ye=[];for(let Ee=0;Ee<Da;Ee++){let Me="",Ne=[];for(let ft=0;ft<Zr;ft++)re[Ee]&&re[Ee][ft]?(Me+=re[Ee][ft],Ne.push({r:Ee,c:ft})):(Me.length>1&&ye.push({word:Me,cells:[...Ne],type:"H"}),Me="",Ne=[]);Me.length>1&&ye.push({word:Me,cells:[...Ne],type:"H"})}for(let Ee=0;Ee<Zr;Ee++){let Me="",Ne=[];for(let ft=0;ft<Da;ft++)re[ft]&&re[ft][Ee]?(Me+=re[ft][Ee],Ne.push({r:ft,c:Ee})):(Me.length>1&&ye.push({word:Me,cells:[...Ne],type:"V"}),Me="",Ne=[]);Me.length>1&&ye.push({word:Me,cells:[...Ne],type:"V"})}return ye},ei=(re,ye=null)=>{k({text:re,type:"error",invalidWord:ye}),Te(!1)},Qi=(re,ye)=>{const Ee=JSON.parse(JSON.stringify(l)),Me=P.map(Ye=>Lo(Ye.isWild?"*":Ye.letter,!1)),Ne=[...p,...Me].sort((Ye,je)=>Ye.letter!==je.letter?Ye.letter.localeCompare(je.letter):Ye.isNew===je.isNew?0:Ye.isNew?1:-1);E(Ye=>[...Ye,{grid:Ee,hand:Ne,score:z,drawCount:H}]),c(re),he(!0),setTimeout(()=>he(!1),200);let ft=0;if(ye.forEach(Ye=>{Ye.cells.forEach(je=>{const wt=pa(je.r,je.c),hn=P.some(In=>In.r===je.r&&In.c===je.c);wt&&hn&&(ft+=wt.val)})}),ft>0){const je=x.slice(H,H+ft).map(wt=>Lo(wt,!0));b(wt=>[...wt,...je].sort((In,$i)=>In.letter!==$i.letter?In.letter.localeCompare($i.letter):In.isNew===$i.isNew?0:In.isNew?1:-1)),te(wt=>wt+ft),k({text:`Great! +${ft} Bonus Tiles!`,type:"success"})}else k({text:"Valid move!",type:"success"});let Ve=z-1;P.forEach(Ye=>{Ye.c>Ve&&(Ve=Ye.c)});for(let Ye=0;Ye<Da;Ye++)for(let je=0;je<Zr;je++)re[Ye]&&re[Ye][je]&&je>Ve&&(Ve=je);C(Ve+1),V([]),Te(!1),F(null)},gn=()=>{b(re=>[...re].sort(()=>Math.random()-.5))},Gn=()=>{b(re=>[...re].sort((ye,Ee)=>ye.letter!==Ee.letter?ye.letter.localeCompare(Ee.letter):ye.isNew===Ee.isNew?0:ye.isNew?1:-1))},Ki=p.reduce((re,ye)=>(re[ye.letter]||(re[ye.letter]=[]),re[ye.letter].push(ye),re),{}),si=Array.from(new Set(p.map(re=>re.letter))),za=si.length>=6,ya=Math.ceil(si.length/2),ia=za?si.slice(0,ya):si,Wi=za?si.slice(ya):[],gi=({letter:re})=>{const ye=Ki[re]||[],Ee=ye.length,Me=ye[Ee-1],Ne=$e===re,ft=Math.min(Ee,15),Ve=6,Ye=40+(ft>1?(ft-1)*Ve:0);return Y.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${Ye}px`},children:[[...Array(ft-1)].map((je,wt)=>{const In=(re.charCodeAt(0)+wt)%7-3;return Y.jsx("div",{className:"absolute w-10 h-10 rounded-lg border border-black/10 transition-all shadow-md",style:{backgroundColor:"#e5e7eb",bottom:`${wt*Ve}px`,zIndex:wt,transform:`rotate(${In}deg)`}},wt)}),Y.jsxs("button",{draggable:!He,onDragStart:je=>pt(je,{type:"hand",tile:Me}),onClick:()=>Kn(Me),className:`
                    absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all cursor-grab active:cursor-grabbing
                `,style:{bottom:`${(ft-1)*Ve}px`,zIndex:ft,backgroundColor:Ne?gt.accentPrimary:re==="*"?gt.tileTemp:"white",color:Ne?"white":gt.textMain,transform:Ne?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Ne?0:re.charCodeAt(0)%5-2}deg)`},children:[Me&&Me.isNew&&Y.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),re]})]})};return r==="gameOver"?Y.jsxs("div",{className:"min-h-screen w-full flex flex-col lg:flex-row items-center justify-center relative overflow-hidden font-sans p-6 gap-12 overflow-y-auto",style:{backgroundColor:gt.background,color:gt.textMain},children:[Y.jsx(jx,{}),Y.jsxs("div",{className:"z-10 bg-white/80 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex-1 self-stretch flex flex-col justify-center lg:h-[600px]",children:[Y.jsx("div",{className:"hidden md:block w-48 h-16 mx-auto mb-4",children:Y.jsx("h1",{className:"text-4xl font-black tracking-tight text-black uppercase drop-shadow-sm",children:"Long Jump"})}),Y.jsx("h3",{className:"text-2xl font-bold mb-8 tracking-widest uppercase",style:{color:gt.accentPrimary},children:"Complete"}),Y.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[Y.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:gt.textSub},children:"Athlete"}),Y.jsx("div",{className:"text-3xl font-black mb-6",style:{color:gt.textMain},children:i}),Y.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:gt.textSub},children:"Distance"}),Y.jsxs("div",{className:"text-6xl font-black",style:{color:gt.accentSecondary},children:[U,"m"]})]}),Y.jsx("button",{onClick:$t,className:`
                        w-full py-3 mb-3 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2
                        ${q?"bg-green-100 border-green-200 text-green-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300"}
                    `,children:q?Y.jsxs(Y.Fragment,{children:[Y.jsx($1,{size:20})," Copied to Clipboard"]}):Y.jsxs(Y.Fragment,{children:[Y.jsx(dT,{size:20})," Share Result"]})}),Y.jsx("button",{onClick:Ie,className:"w-full py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg mt-auto",style:{backgroundColor:"#111827"},children:"Play Again"})]}),Y.jsx("div",{className:"z-10 w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:Y.jsx(Am,{highlightName:i,user:jt,onRankFound:se})})]}):r==="menu"?Y.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:gt.background,color:gt.textMain},children:[Mt&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative max-h-[80vh] flex flex-col",children:[Y.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:Y.jsx(t_,{size:48,style:{color:gt.accentPrimary}})}),Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"What's New"}),Y.jsx("div",{className:"flex-1 overflow-y-auto text-left text-gray-600 mb-6 text-sm space-y-6 pr-2",children:Dx.map((re,ye)=>Y.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-0 last:pb-0",children:[Y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Y.jsxs("span",{className:"font-black text-black text-lg",children:["v",re.version]}),Y.jsx("span",{className:"text-xs font-bold bg-gray-100 px-2 py-1 rounded text-gray-500",children:re.date})]}),Y.jsx("ul",{className:"space-y-2",children:re.changes.map((Ee,Me)=>Y.jsxs("li",{className:"flex gap-2 items-start",children:[Y.jsx("span",{className:"font-bold text-green-500 mt-1",children:""}),Y.jsx("span",{children:Ee})]},Me))})]},ye))}),Y.jsx("button",{onClick:()=>an(!1),className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg shrink-0",style:{backgroundColor:gt.accentPrimary},children:"Close"})]})}),Y.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch",children:[Y.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[Y.jsx(L0,{}),Y.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[Y.jsx("span",{children:"Refreshed Daily"}),Y.jsx(n_,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),Y.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:gt.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."}),Y.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[Y.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-gray-600 border-b border-gray-300 hover:border-gray-500 transition-colors pb-0.5",children:"A word game by Richard Bolland"}),Y.jsxs("button",{onClick:()=>an(!0),className:"text-[10px] font-bold text-gray-400 hover:text-green-600 uppercase tracking-widest flex items-center gap-1 mt-1",children:["What's New ",Y.jsx(t_,{size:10})]})]})]}),Y.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[Y.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:gt.textSub},children:"Enter your name"}),Y.jsx("input",{type:"text",value:i,onChange:re=>s(re.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:gt.textMain,borderColor:"transparent"},onFocus:re=>re.target.style.borderColor=gt.accentPrimary,onBlur:re=>re.target.style.borderColor="transparent",onKeyDown:re=>re.key==="Enter"&&de()})]}),Y.jsx("button",{onClick:de,className:"group relative px-12 py-6 text-white rounded-2xl font-black text-xl tracking-widest uppercase shadow-[0_10px_20px_rgba(0,0,0,0.1)] hover:shadow-[0_15px_30px_rgba(0,0,0,0.15)] hover:-translate-y-1 active:translate-y-0 transition-all duration-300 animate-pulse-slow",style:{backgroundColor:gt.accentPrimary},children:Y.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Play Game ",Y.jsx(uT,{size:24,fill:"currentColor"})]})}),Y.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:Y.jsx(Am,{user:jt})})]}),Y.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:Y.jsx(Am,{user:jt})})]}):Y.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden",style:{backgroundColor:gt.background,color:gt.textMain},children:[Wt&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[Y.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),Y.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(mE).filter(re=>re!=="*").map(re=>Y.jsx("button",{onClick:()=>kn(re),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:gt.textMain},children:re},re))}),Y.jsx("button",{onClick:()=>{Vt(!1),Zn(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),(Qe||ht)&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[Y.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:Y.jsx(K1,{size:48,style:{color:gt.accentPrimary}})}),Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"Game Rules"}),Y.jsxs("div",{className:"text-left text-gray-600 mb-6 text-sm space-y-3",children:[Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["This is a ",Y.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Place words ",Y.jsx("strong",{children:"Left to Right"})," or ",Y.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Minimum ",Y.jsx("strong",{children:"2 letter"})," words."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Collect ",Y.jsx("strong",{children:"Bonus Stars"})," on the board to get extra letters!"]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Start in ",Y.jsx("strong",{children:"Column 1"})," which is on the left. Good luck!"]})]})]}),Y.jsx("button",{onClick:()=>{ut(!1),vt(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:gt.accentPrimary},children:Qe?"Let's Jump!":"Close"})]})}),_e&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),Y.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",Y.jsx("strong",{style:{color:gt.accentPrimary},children:z}),". This will end your current run."]}),Y.jsxs("div",{className:"flex gap-3",children:[Y.jsx("button",{onClick:et,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),Y.jsx("button",{onClick:qe,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:gt.accentPrimary},children:"Confirm"})]})]})}),Y.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative",children:[Y.jsxs("div",{className:"w-32 flex flex-col items-start",children:[Y.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),Y.jsx("div",{className:"block md:hidden",children:z>0&&Y.jsxs("button",{onClick:it,disabled:He||ne,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",Y.jsx(i_,{size:10,style:{color:gt.starGold}})]})})]}),Y.jsxs("div",{className:"flex flex-col items-center flex-1",children:[Y.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:()=>e("menu"),children:Y.jsx(L0,{})}),Y.jsx("div",{className:"hidden md:block mt-6",children:z>0&&Y.jsxs("button",{onClick:it,disabled:He||ne,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",Y.jsx(i_,{size:10,style:{color:gt.starGold}})]})})]}),Y.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[Y.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:gt.accentPrimary},children:i||"PLAYER 1"}),Y.jsxs("button",{onClick:()=>vt(!0),className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 uppercase tracking-widest flex items-center gap-1",children:["Rules ",Y.jsx(aT,{size:12})]})]})]}),Y.jsx("div",{className:"w-full max-w-6xl px-4 mb-1 flex justify-center items-center shrink-0",children:Y.jsx("div",{className:"flex gap-6",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("span",{className:"block text-[10px] uppercase tracking-widest",style:{color:gt.accentPrimary},children:"DISTANCE"}),Y.jsxs("span",{className:"font-black text-2xl transition-all duration-500",style:{color:gt.accentPrimary},children:[U,"m"]})]})})}),Y.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:Dn,onMouseLeave:cn,onMouseUp:Bn,onMouseMove:Qn,children:Y.jsx("div",{ref:pi,className:`
            w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar
            ${qn?"cursor-grabbing":"cursor-grab"}
            py-2 md:py-20
          `,style:{userSelect:"none"},children:Y.jsxs("div",{className:"relative p-1 mx-4",style:{width:"fit-content",minWidth:"fit-content"},children:[Y.jsx("div",{className:"flex relative mb-3",style:{width:`${Zr*to}px`,height:"24px"},children:Array(Zr).fill(0).map((re,ye)=>{const Ee=ye===0,Me=(ye+1)%5===0;return!Ee&&!Me?null:Y.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end",style:{left:ye*to+to/2},children:[Y.jsx("span",{className:`text-xs tracking-wider ${Ee?"text-black font-black":"text-gray-400"}`,children:Ee?"START":`${ye+1}m`}),Y.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${Ee?"bg-black":"bg-gray-300"}`})]},`ruler-${ye}`)})}),Y.jsxs("div",{className:"relative",children:[Y.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-0 pointer-events-none",children:Ue.filter(re=>re.type==="top").map((re,ye)=>Y.jsx("div",{className:"absolute -top-[55px]",style:{left:re.c*to},children:Y.jsx(U0,{trigger:ge})},`fan-top-${ye}`))}),Y.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${Zr}, ${to}px)`,gridTemplateRows:`repeat(${Da}, ${to}px)`,backgroundColor:gt.boardBackground,borderColor:gt.boardLines},children:Array(Da).fill(0).map((re,ye)=>Array(Zr).fill(0).map((Ee,Me)=>{const Ne=Xi(ye,Me),ft=pa(ye,Me),Ve=Sr(ye,Me),je=Me===0&&!Ne&&!D,wt=Ne?.type==="locked",hn=(Me+1)%5===0,In=Me<U,$i=Je&&Je.r===ye&&Je.c===Me,Ji=He&&wt?"animate-jump-green":"";return Y.jsxs("div",{onClick:()=>Gi(ye,Me),onDragOver:Fn,onDrop:xn=>St(xn,ye,Me),className:`
                                relative flex items-center justify-center transition-all duration-300 w-full h-full
                                ${Ne?Ne.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Ve?"cursor-not-allowed":"hover:bg-white/20"}

                                
                                ${Ne?.type==="temp"?`bg-[${gt.tileTemp}] ring-2 ring-[${gt.tileTempRing}] -translate-y-[2px] z-10`:""}
                                
                                ${!Ne&&!Ve&&In?"bg-white/20":Me===0&&!Ne?"bg-green-100/40":!Ne&&!Ve&&!je&&(ye+Me)%2===0?"bg-black/5":"bg-transparent"}

                                ${!Ne&&$i?"ring-2 ring-blue-400 bg-blue-50/20":""}
                                ${!Ne&&hn?"border-r-2 border-r-black/10":"border border-black/5"}

                                ${In?"animate-pop-green":""}
                                ${Ji}
                                `,style:wt?{backgroundColor:In?gt.overlayComplete:gt.tileLocked,color:gt.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:He?`${Me*50}ms`:"0ms"}:Ne?.type==="temp"?{backgroundColor:Ne.isWild?gt.tileWildPlaced:gt.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Ve?{backgroundColor:gt.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!Ne&&je&&Y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:Y.jsx(tT,{size:20,style:{color:gt.startArrow}})}),!Ne&&Ve&&Y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Ne&&ft&&!Ve&&Y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[Y.jsx(n_,{className:"w-6 h-6",fill:gt.starGold,stroke:gt.starGold}),Y.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",ft.val]})]}),Ne&&Y.jsx("span",{draggable:Ne.type==="temp"&&!He,onDragStart:xn=>pt(xn,{type:"board",r:ye,c:Me,letter:Ne.letter}),className:`text-2xl font-bold select-none font-mono w-full h-full flex items-center justify-center z-10 relative ${Ne.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:Ne.letter})]},`${ye}-${Me}`)}))}),Y.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:Ue.filter(re=>re.type==="bottom").map((re,ye)=>Y.jsx("div",{className:"absolute -bottom-[35px]",style:{left:re.c*to},children:Y.jsx(U0,{trigger:ge})},`fan-bottom-${ye}`))})]})]})})}),Y.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0",children:[Y.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[Y.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${we.type==="error"?"bg-red-100 text-red-700":we.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[Y.jsx("span",{children:ne?"Checking...":we.text}),we.type==="error"&&we.invalidWord&&Y.jsxs("a",{href:`mailto:richard@studiobo.io?subject=Report Valid Word: ${we.invalidWord}&body=The word "${we.invalidWord}" should be valid.`,className:"ml-2 bg-red-200 hover:bg-red-300 text-red-800 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors",children:["Report ",Y.jsx(oT,{size:10})]})]}),Y.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[Y.jsx("button",{onClick:Ze,disabled:He||w.length===0,className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",title:"Undo last move",children:Y.jsx(hT,{size:16})}),Y.jsxs("button",{onClick:gn,disabled:He,className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[Y.jsx(pT,{size:16})," Shuffle"]}),Y.jsxs("button",{onClick:Gn,disabled:He,className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[Y.jsx(X1,{size:16})," Sort A-Z"]}),P.length>0&&Y.jsxs("button",{onClick:jr,disabled:ne||He,className:`
                    flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all
                    ${ne||He?"bg-gray-400 text-gray-200 cursor-wait":""}
                    `,style:ne||He?{}:{backgroundColor:gt.accentPrimary,color:"white"},children:[ne?"Checking...":"JUMP"," ",Y.jsx(Z1,{size:18,strokeWidth:4})]}),P.length>0&&Y.jsx("button",{onClick:()=>{const ye=P.map(Ee=>Ee.isWild?"*":Ee.letter).map(Ee=>Lo(Ee,!1));b(Ee=>[...Ee,...ye].sort((Me,Ne)=>Me.letter!==Ne.letter?Me.letter.localeCompare(Ne.letter):Me.isNew===Ne.isNew?0:Me.isNew?1:-1)),V([]),Xe(null)},disabled:He,className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:Y.jsx(_T,{size:16})})]})]}),Y.jsxs("div",{onDragOver:Fn,onDrop:Yi,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:gt.boardLines},children:[si.length===0&&Y.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),si.length<6?Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:si.map(re=>Y.jsx(gi,{letter:re},re))}):Y.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:ia.map(re=>Y.jsx(gi,{letter:re},re))}),Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Wi.map(re=>Y.jsx(gi,{letter:re},re))})]})]})]}),Y.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(0,0,0,0.1);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background-color: rgba(0,0,0,0.2);
        }

        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .no-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }

        .animate-pulse-slow {
            animation: pulse-slow 3s infinite ease-in-out;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-flash-orange {
            animation: flash-orange 0.6s ease-in-out infinite;
        }
        .animate-pop-green {
            animation: pop-green 0.3s ease-out forwards;
        }

        .animate-jump-green {
            animation: jump-green 0.6s ease-in-out forwards;
        }

        @keyframes pop-green {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes jump-green {
            0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
            20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
            40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; }
            80% { background-color: #59AD20; color: white; }
            100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
        }

        @keyframes pulse-white {
           0%, 100% { background-color: rgba(255,255,255,0.05); }
           50% { background-color: rgba(255,255,255,0.7); }
        }
        @keyframes pulse-slow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes flash-orange {
             0%, 100% { background-color: #f8f5ed; color: black; }
             50% { background-color: #f97316; color: white; border-color: #f97316; }
        }
      `})]})}z1.createRoot(document.getElementById("root")).render(Y.jsx(_t.StrictMode,{children:Y.jsx(zx,{})}));
