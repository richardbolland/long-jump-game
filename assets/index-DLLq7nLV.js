(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var lm={exports:{}},Lu={};var Wv;function PE(){if(Wv)return Lu;Wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Lu.Fragment=e,Lu.jsx=i,Lu.jsxs=i,Lu}var Kv;function LE(){return Kv||(Kv=1,lm.exports=PE()),lm.exports}var Y=LE(),um={exports:{}},Mt={};var $v;function UE(){if($v)return Mt;$v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.iterator;function ne(P){return P===null||typeof P!="object"?null:(P=q&&P[q]||P["@@iterator"],typeof P=="function"?P:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xe=Object.assign,Re={};function Le(P,re,Ae){this.props=P,this.context=re,this.refs=Re,this.updater=Ae||U}Le.prototype.isReactComponent={},Le.prototype.setState=function(P,re){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,re,"setState")},Le.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Ue(){}Ue.prototype=Le.prototype;function Be(P,re,Ae){this.props=P,this.context=re,this.refs=Re,this.updater=Ae||U}var Ke=Be.prototype=new Ue;Ke.constructor=Be,xe(Ke,Le.prototype),Ke.isPureReactComponent=!0;var ot=Array.isArray;function at(){}var F={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function k(P,re,Ae){var ye=Ae.ref;return{$$typeof:r,type:P,key:re,ref:ye!==void 0?ye:null,props:Ae}}function z(P,re){return k(P.type,re,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function V(P){var re={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Ae){return re[Ae]})}var I=/\/+/g;function Q(P,re){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):re.toString(36)}function ae(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(at,at):(P.status="pending",P.then(function(re){P.status==="pending"&&(P.status="fulfilled",P.value=re)},function(re){P.status==="pending"&&(P.status="rejected",P.reason=re)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function H(P,re,Ae,ye,ve){var Fe=typeof P;(Fe==="undefined"||Fe==="boolean")&&(P=null);var lt=!1;if(P===null)lt=!0;else switch(Fe){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(P.$$typeof){case r:case e:lt=!0;break;case x:return lt=P._init,H(lt(P._payload),re,Ae,ye,ve)}}if(lt)return ve=ve(P),lt=ye===""?"."+Q(P,0):ye,ot(ve)?(Ae="",lt!=null&&(Ae=lt.replace(I,"$&/")+"/"),H(ve,re,Ae,"",function(Dt){return Dt})):ve!=null&&(C(ve)&&(ve=z(ve,Ae+(ve.key==null||P&&P.key===ve.key?"":(""+ve.key).replace(I,"$&/")+"/")+lt)),re.push(ve)),1;lt=0;var ht=ye===""?".":ye+":";if(ot(P))for(var _t=0;_t<P.length;_t++)ye=P[_t],Fe=ht+Q(ye,_t),lt+=H(ye,re,Ae,Fe,ve);else if(_t=ne(P),typeof _t=="function")for(P=_t.call(P),_t=0;!(ye=P.next()).done;)ye=ye.value,Fe=ht+Q(ye,_t++),lt+=H(ye,re,Ae,Fe,ve);else if(Fe==="object"){if(typeof P.then=="function")return H(ae(P),re,Ae,ye,ve);throw re=String(P),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return lt}function ee(P,re,Ae){if(P==null)return P;var ye=[],ve=0;return H(P,ye,"","",function(Fe){return re.call(Ae,Fe,ve++)}),ye}function ge(P){if(P._status===-1){var re=P._result;re=re(),re.then(function(Ae){(P._status===0||P._status===-1)&&(P._status=1,P._result=Ae)},function(Ae){(P._status===0||P._status===-1)&&(P._status=2,P._result=Ae)}),P._status===-1&&(P._status=0,P._result=re)}if(P._status===1)return P._result.default;throw P._result}var he=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ce={map:ee,forEach:function(P,re,Ae){ee(P,function(){re.apply(this,arguments)},Ae)},count:function(P){var re=0;return ee(P,function(){re++}),re},toArray:function(P){return ee(P,function(re){return re})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Mt.Activity=L,Mt.Children=Ce,Mt.Component=Le,Mt.Fragment=i,Mt.Profiler=l,Mt.PureComponent=Be,Mt.StrictMode=s,Mt.Suspense=w,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return F.H.useMemoCache(P)}},Mt.cache=function(P){return function(){return P.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(P,re,Ae){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ye=xe({},P.props),ve=P.key;if(re!=null)for(Fe in re.key!==void 0&&(ve=""+re.key),re)!B.call(re,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&re.ref===void 0||(ye[Fe]=re[Fe]);var Fe=arguments.length-2;if(Fe===1)ye.children=Ae;else if(1<Fe){for(var lt=Array(Fe),ht=0;ht<Fe;ht++)lt[ht]=arguments[ht+2];ye.children=lt}return k(P.type,ve,ye)},Mt.createContext=function(P){return P={$$typeof:p,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},Mt.createElement=function(P,re,Ae){var ye,ve={},Fe=null;if(re!=null)for(ye in re.key!==void 0&&(Fe=""+re.key),re)B.call(re,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(ve[ye]=re[ye]);var lt=arguments.length-2;if(lt===1)ve.children=Ae;else if(1<lt){for(var ht=Array(lt),_t=0;_t<lt;_t++)ht[_t]=arguments[_t+2];ve.children=ht}if(P&&P.defaultProps)for(ye in lt=P.defaultProps,lt)ve[ye]===void 0&&(ve[ye]=lt[ye]);return k(P,Fe,ve)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(P){return{$$typeof:b,render:P}},Mt.isValidElement=C,Mt.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:ge}},Mt.memo=function(P,re){return{$$typeof:E,type:P,compare:re===void 0?null:re}},Mt.startTransition=function(P){var re=F.T,Ae={};F.T=Ae;try{var ye=P(),ve=F.S;ve!==null&&ve(Ae,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(at,he)}catch(Fe){he(Fe)}finally{re!==null&&Ae.types!==null&&(re.types=Ae.types),F.T=re}},Mt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Mt.use=function(P){return F.H.use(P)},Mt.useActionState=function(P,re,Ae){return F.H.useActionState(P,re,Ae)},Mt.useCallback=function(P,re){return F.H.useCallback(P,re)},Mt.useContext=function(P){return F.H.useContext(P)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(P,re){return F.H.useDeferredValue(P,re)},Mt.useEffect=function(P,re){return F.H.useEffect(P,re)},Mt.useEffectEvent=function(P){return F.H.useEffectEvent(P)},Mt.useId=function(){return F.H.useId()},Mt.useImperativeHandle=function(P,re,Ae){return F.H.useImperativeHandle(P,re,Ae)},Mt.useInsertionEffect=function(P,re){return F.H.useInsertionEffect(P,re)},Mt.useLayoutEffect=function(P,re){return F.H.useLayoutEffect(P,re)},Mt.useMemo=function(P,re){return F.H.useMemo(P,re)},Mt.useOptimistic=function(P,re){return F.H.useOptimistic(P,re)},Mt.useReducer=function(P,re,Ae){return F.H.useReducer(P,re,Ae)},Mt.useRef=function(P){return F.H.useRef(P)},Mt.useState=function(P){return F.H.useState(P)},Mt.useSyncExternalStore=function(P,re,Ae){return F.H.useSyncExternalStore(P,re,Ae)},Mt.useTransition=function(){return F.H.useTransition()},Mt.version="19.2.0",Mt}var Jv;function ef(){return Jv||(Jv=1,um.exports=UE()),um.exports}var vt=ef(),cm={exports:{}},Uu={},hm={exports:{}},fm={};var Zv;function jE(){return Zv||(Zv=1,(function(r){function e(H,ee){var ge=H.length;H.push(ee);e:for(;0<ge;){var he=ge-1>>>1,Ce=H[he];if(0<l(Ce,ee))H[he]=ee,H[ge]=Ce,ge=he;else break e}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ee=H[0],ge=H.pop();if(ge!==ee){H[0]=ge;e:for(var he=0,Ce=H.length,P=Ce>>>1;he<P;){var re=2*(he+1)-1,Ae=H[re],ye=re+1,ve=H[ye];if(0>l(Ae,ge))ye<Ce&&0>l(ve,Ae)?(H[he]=ve,H[ye]=ge,he=ye):(H[he]=Ae,H[re]=ge,he=re);else if(ye<Ce&&0>l(ve,ge))H[he]=ve,H[ye]=ge,he=ye;else break e}}return ee}function l(H,ee){var ge=H.sortIndex-ee.sortIndex;return ge!==0?ge:H.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var w=[],E=[],x=1,L=null,q=3,ne=!1,U=!1,xe=!1,Re=!1,Le=typeof setTimeout=="function"?setTimeout:null,Ue=typeof clearTimeout=="function"?clearTimeout:null,Be=typeof setImmediate<"u"?setImmediate:null;function Ke(H){for(var ee=i(E);ee!==null;){if(ee.callback===null)s(E);else if(ee.startTime<=H)s(E),ee.sortIndex=ee.expirationTime,e(w,ee);else break;ee=i(E)}}function ot(H){if(xe=!1,Ke(H),!U)if(i(w)!==null)U=!0,at||(at=!0,V());else{var ee=i(E);ee!==null&&ae(ot,ee.startTime-H)}}var at=!1,F=-1,B=5,k=-1;function z(){return Re?!0:!(r.unstable_now()-k<B)}function C(){if(Re=!1,at){var H=r.unstable_now();k=H;var ee=!0;try{e:{U=!1,xe&&(xe=!1,Ue(F),F=-1),ne=!0;var ge=q;try{t:{for(Ke(H),L=i(w);L!==null&&!(L.expirationTime>H&&z());){var he=L.callback;if(typeof he=="function"){L.callback=null,q=L.priorityLevel;var Ce=he(L.expirationTime<=H);if(H=r.unstable_now(),typeof Ce=="function"){L.callback=Ce,Ke(H),ee=!0;break t}L===i(w)&&s(w),Ke(H)}else s(w);L=i(w)}if(L!==null)ee=!0;else{var P=i(E);P!==null&&ae(ot,P.startTime-H),ee=!1}}break e}finally{L=null,q=ge,ne=!1}ee=void 0}}finally{ee?V():at=!1}}}var V;if(typeof Be=="function")V=function(){Be(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Q=I.port2;I.port1.onmessage=C,V=function(){Q.postMessage(null)}}else V=function(){Le(C,0)};function ae(H,ee){F=Le(function(){H(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return q},r.unstable_next=function(H){switch(q){case 1:case 2:case 3:var ee=3;break;default:ee=q}var ge=q;q=ee;try{return H()}finally{q=ge}},r.unstable_requestPaint=function(){Re=!0},r.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ge=q;q=H;try{return ee()}finally{q=ge}},r.unstable_scheduleCallback=function(H,ee,ge){var he=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?he+ge:he):ge=he,H){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ge+Ce,H={id:x++,callback:ee,priorityLevel:H,startTime:ge,expirationTime:Ce,sortIndex:-1},ge>he?(H.sortIndex=ge,e(E,H),i(w)===null&&H===i(E)&&(xe?(Ue(F),F=-1):xe=!0,ae(ot,ge-he))):(H.sortIndex=Ce,e(w,H),U||ne||(U=!0,at||(at=!0,V()))),H},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(H){var ee=q;return function(){var ge=q;q=ee;try{return H.apply(this,arguments)}finally{q=ge}}}})(fm)),fm}var e_;function zE(){return e_||(e_=1,hm.exports=jE()),hm.exports}var dm={exports:{}},Yi={};var t_;function BE(){if(t_)return Yi;t_=1;var r=ef();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)E+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,x){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:L==null?null:""+L,children:w,containerInfo:E,implementation:x}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yi.createPortal=function(w,E){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,x)},Yi.flushSync=function(w){var E=p.T,x=s.p;try{if(p.T=null,s.p=2,w)return w()}finally{p.T=E,s.p=x,s.d.f()}},Yi.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(w,E))},Yi.prefetchDNS=function(w){typeof w=="string"&&s.d.D(w)},Yi.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var x=E.as,L=b(x,E.crossOrigin),q=typeof E.integrity=="string"?E.integrity:void 0,ne=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;x==="style"?s.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:L,integrity:q,fetchPriority:ne}):x==="script"&&s.d.X(w,{crossOrigin:L,integrity:q,fetchPriority:ne,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Yi.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var x=b(E.as,E.crossOrigin);s.d.M(w,{crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(w)},Yi.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var x=E.as,L=b(x,E.crossOrigin);s.d.L(w,x,{crossOrigin:L,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Yi.preloadModule=function(w,E){if(typeof w=="string")if(E){var x=b(E.as,E.crossOrigin);s.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(w)},Yi.requestFormReset=function(w){s.d.r(w)},Yi.unstable_batchedUpdates=function(w,E){return w(E)},Yi.useFormState=function(w,E,x){return p.H.useFormState(w,E,x)},Yi.useFormStatus=function(){return p.H.useHostTransitionStatus()},Yi.version="19.2.0",Yi}var n_;function FE(){if(n_)return dm.exports;n_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=BE(),dm.exports}var i_;function HE(){if(i_)return Uu;i_=1;var r=zE(),e=ef(),i=FE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(s(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return w(h),t;if(m===o)return w(h),n;m=m.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=m;else{for(var T=!1,M=h.child;M;){if(M===a){T=!0,a=h,o=m;break}if(M===o){T=!0,o=h,a=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===a){T=!0,a=m,o=h;break}if(M===o){T=!0,o=m,a=h;break}M=M.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var L=Object.assign,q=Symbol.for("react.element"),ne=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),xe=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),Ue=Symbol.for("react.consumer"),Be=Symbol.for("react.context"),Ke=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Q(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xe:return"Fragment";case Le:return"Profiler";case Re:return"StrictMode";case ot:return"Suspense";case at:return"SuspenseList";case k:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case Be:return t.displayName||"Context";case Ue:return(t._context.displayName||"Context")+".Consumer";case Ke:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return n=t.displayName||null,n!==null?n:Q(t.type)||"Memo";case B:n=t._payload,t=t._init;try{return Q(t(n))}catch{}}return null}var ae=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},he=[],Ce=-1;function P(t){return{current:t}}function re(t){0>Ce||(t.current=he[Ce],he[Ce]=null,Ce--)}function Ae(t,n){Ce++,he[Ce]=t.current,t.current=n}var ye=P(null),ve=P(null),Fe=P(null),lt=P(null);function ht(t,n){switch(Ae(Fe,n),Ae(ve,t),Ae(ye,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?vv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=vv(n),t=_v(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(ye),Ae(ye,t)}function _t(){re(ye),re(ve),re(Fe)}function Dt(t){t.memoizedState!==null&&Ae(lt,t);var n=ye.current,a=_v(n,t.type);n!==a&&(Ae(ve,t),Ae(ye,a))}function cn(t){ve.current===t&&(re(ye),re(ve)),lt.current===t&&(re(lt),Nu._currentValue=ge)}var ut,Tt;function Zt(t){if(ut===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ut=n&&n[1]||"",Tt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+t+Tt}var Bt=!1;function Ut(t,n){if(!t||Bt)return"";Bt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(me){var ce=me}Reflect.construct(t,[],we)}else{try{we.call()}catch(me){ce=me}t.call(we.prototype)}}else{try{throw Error()}catch(me){ce=me}(we=t())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(me){if(me&&ce&&typeof me.stack=="string")return[me.stack,ce.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var G=T.split(`
`),le=M.split(`
`);for(h=o=0;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;for(;h<le.length&&!le[h].includes("DetermineComponentFrameRoot");)h++;if(o===G.length||h===le.length)for(o=G.length-1,h=le.length-1;1<=o&&0<=h&&G[o]!==le[h];)h--;for(;1<=o&&0<=h;o--,h--)if(G[o]!==le[h]){if(o!==1||h!==1)do if(o--,h--,0>h||G[o]!==le[h]){var pe=`
`+G[o].replace(" at new "," at ");return t.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",t.displayName)),pe}while(1<=o&&0<=h);break}}}finally{Bt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Zt(a):""}function si(t,n){switch(t.tag){case 26:case 27:case 5:return Zt(t.type);case 16:return Zt("Lazy");case 13:return t.child!==n&&n!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return Ut(t.type,!1);case 11:return Ut(t.type.render,!1);case 1:return Ut(t.type,!0);case 31:return Zt("Activity");default:return""}}function sn(t){try{var n="",a=null;do n+=si(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var tt=Object.prototype.hasOwnProperty,nn=r.unstable_scheduleCallback,mn=r.unstable_cancelCallback,Ri=r.unstable_shouldYield,$n=r.unstable_requestPaint,on=r.unstable_now,Tn=r.unstable_getCurrentPriorityLevel,R=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,v=r.unstable_NormalPriority,D=r.unstable_LowPriority,W=r.unstable_IdlePriority,de=r.log,Ie=r.unstable_setDisableYieldValue,We=null,$e=null;function He(t){if(typeof de=="function"&&Ie(t),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(We,t)}catch{}}var Je=Math.clz32?Math.clz32:pn,en=Math.log,xn=Math.LN2;function pn(t){return t>>>=0,t===0?32:31-(en(t)/xn|0)|0}var zn=256,Yn=262144,Ht=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?h=On(o):(T&=M,T!==0?h=On(T):a||(a=M&~t,a!==0&&(h=On(a))))):(M=o&~m,M!==0?h=On(M):T!==0?h=On(T):a||(a=o&~t,a!==0&&(h=On(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function Xn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ji(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(){var t=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),t}function Fn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Rt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $i(t,n,a,o,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var M=t.entanglements,G=t.expirationTimes,le=t.hiddenUpdates;for(a=T&~a;0<a;){var pe=31-Je(a),we=1<<pe;M[pe]=0,G[pe]=-1;var ce=le[pe];if(ce!==null)for(le[pe]=null,pe=0;pe<ce.length;pe++){var me=ce[pe];me!==null&&(me.lane&=-536870913)}a&=~we}o!==0&&zi(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function zi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Je(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function ya(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Je(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ar(t,n){var a=n&-n;return a=(a&42)!==0?1:Br(a),(a&(t.suspendedLanes|n))!==0?0:a}function Br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ge(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ra(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Fv(t.type))}function Ji(t,n){var a=ee.p;try{return ee.p=t,n()}finally{ee.p=a}}var Zi=Math.random().toString(36).slice(2),vn="__reactFiber$"+Zi,Hn="__reactProps$"+Zi,Jn="__reactContainer$"+Zi,Sr="__reactEvents$"+Zi,As="__reactListeners$"+Zi,ja="__reactHandles$"+Zi,aa="__reactResources$"+Zi,Qn="__reactMarker$"+Zi;function _i(t){delete t[vn],delete t[Hn],delete t[Sr],delete t[As],delete t[ja]}function Bi(t){var n=t[vn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Jn]||a[vn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Rv(t);t!==null;){if(a=t[vn])return a;t=Rv(t)}return n}t=a,a=t.parentNode}return null}function Fi(t){if(t=t[vn]||t[Jn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ci(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function bi(t){var n=t[aa];return n||(n=t[aa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function te(t){t[Qn]=!0}var _e=new Set,Ee={};function Me(t,n){Ne(t,n),Ne(t+"Capture",n)}function Ne(t,n){for(Ee[t]=n,t=0;t<n.length;t++)_e.add(n[t])}var ft=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ve={},gt={};function je(t){return tt.call(gt,t)?!0:tt.call(Ve,t)?!1:ft.test(t)?gt[t]=!0:(Ve[t]=!0,!1)}function rt(t,n,a){if(je(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function At(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ct(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Nt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zn(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ei(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xt(t){if(!t._valueTracker){var n=Zn(t)?"checked":"value";t._valueTracker=ei(t,n,""+t[n])}}function Ii(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Zn(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function ct(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wi=/[\n"\\]/g;function kn(t){return t.replace(wi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function za(t,n,a,o,h,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Nt(n)):t.value!==""+Nt(n)&&(t.value=""+Nt(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Ss(t,T,Nt(n)):a!=null?Ss(t,T,Nt(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Nt(M):t.removeAttribute("name")}function To(t,n,a,o,h,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){xt(t);return}a=a!=null?""+Nt(a):"",n=n!=null?""+Nt(n):a,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),xt(t)}function Ss(t,n,a){n==="number"&&ct(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _n(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Nt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function va(t,n,a){if(n!=null&&(n=""+Nt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Nt(a):""}function Fr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ae(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Nt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),xt(t)}function oi(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ba(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||lr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Rr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ba(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&Ba(t,m,n[m])}function Fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _a=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Cr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ur(){}var Rs=null;function cr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hr=null,er=null;function fr(t){var n=Fi(t);if(n&&(t=n.stateNode)){var a=t[Hn]||null;e:switch(t=n.stateNode,n.type){case"input":if(za(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Hn]||null;if(!h)throw Error(s(90));za(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Ii(o)}break e;case"textarea":va(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&_n(t,!!a.multiple,n,!1)}}}var sa=!1;function dr(t,n,a){if(sa)return t(n,a);sa=!0;try{var o=t(n);return o}finally{if(sa=!1,(hr!==null||er!==null)&&(Xc(),hr&&(n=hr,t=er,er=hr=null,fr(n),t)))for(n=0;n<t.length;n++)fr(t[n])}}function xi(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Hn]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(pi)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch{Hr=!1}var qr=null,Hi=null,oa=null;function wa(){if(oa)return oa;var t,n=Hi,a=n.length,o,h="value"in qr?qr.value:qr.textContent,m=h.length;for(t=0;t<a&&n[t]===h[t];t++);var T=a-t;for(o=1;o<=T&&n[a-o]===h[m-o];o++);return oa=h.slice(t,1<o?1-o:void 0)}function la(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ir(){return!0}function xr(){return!1}function gi(t){function n(a,o,h,m,T){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(a=t[M],this[M]=a?a(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ir:xr,this.isPropagationStopped=xr,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),n}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=gi(mr),Ea=L({},mr,{view:0,detail:0}),Ao=gi(Ea),Mr,Ha,tr,qa=L({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tr&&(tr&&t.type==="mousemove"?(Mr=t.screenX-tr.screenX,Ha=t.screenY-tr.screenY):Ha=Mr=0,tr=t),Mr)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),Cs=gi(qa),Ga=L({},qa,{dataTransfer:0}),$o=gi(Ga),ti=L({},Ea,{relatedTarget:0}),Ta=gi(ti),nr=L({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=gi(nr),ua=L({},mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ya=gi(ua),Is=L({},mr,{data:0}),Or=gi(Is),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},el={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ms(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=el[t])?!!n[t]:!1}function Aa(){return Ms}var Mi=L({},Ea,{key:function(t){if(t.key){var n=xs[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),So=gi(Mi),tl=L({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ca=gi(tl),u=L({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),y=gi(u),A=L({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=gi(A),ie=L({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=gi(ie),ke=L({},mr,{newState:0,oldState:0}),St=gi(ke),qn=[9,13,27,32],ln=pi&&"CompositionEvent"in window,Dn=null;pi&&"documentMode"in document&&(Dn=document.documentMode);var qi=pi&&"TextEvent"in window&&!Dn,pr=pi&&(!ln||Dn&&8<Dn&&11>=Dn),gr=" ",ir=!1;function Yr(t,n){switch(t){case"keyup":return qn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function Ef(t,n){switch(t){case"compositionend":return Xa(n);case"keypress":return n.which!==32?null:(ir=!0,gr);case"textInput":return t=n.data,t===gr&&ir?null:t;default:return null}}function pc(t,n){if(Qa)return t==="compositionend"||!ln&&Yr(t,n)?(t=wa(),oa=Hi=qr=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pr&&n.locale!=="ko"?null:n.data;default:return null}}var nl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nl[t.type]:n==="textarea"}function Pn(t,n,a,o){hr?er?er.push(o):er=[o]:hr=o,n=eh(n,"onChange"),0<n.length&&(a=new Gr("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var rr=null,Wa=null;function gc(t){fv(t,0)}function Ro(t){var n=Ci(t);if(Ii(n))return t}function nu(t,n){if(t==="change")return n}var iu=!1;if(pi){var Os;if(pi){var il="oninput"in document;if(!il){var f=document.createElement("div");f.setAttribute("oninput","return;"),il=typeof f.oninput=="function"}Os=il}else Os=!1;iu=Os&&(!document.documentMode||9<document.documentMode)}function d(){rr&&(rr.detachEvent("onpropertychange",_),Wa=rr=null)}function _(t){if(t.propertyName==="value"&&Ro(Wa)){var n=[];Pn(n,Wa,t,cr(t)),dr(gc,n)}}function S(t,n,a){t==="focusin"?(d(),rr=n,Wa=a,rr.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ro(Wa)}function j(t,n){if(t==="click")return Ro(n)}function K(t,n){if(t==="input"||t==="change")return Ro(n)}function $(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ue=typeof Object.is=="function"?Object.is:$;function oe(t,n){if(ue(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!tt.call(n,h)||!ue(t[h],n[h]))return!1}return!0}function De(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ye(t,n){var a=De(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=De(a)}}function nt(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?nt(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function J(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ct(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ct(t.document)}return n}function Pe(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Ze=pi&&"documentMode"in document&&11>=document.documentMode,ze=null,hn=null,Xe=null,jt=!1;function bn(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jt||ze==null||ze!==ct(o)||(o=ze,"selectionStart"in o&&Pe(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xe&&oe(Xe,o)||(Xe=o,o=eh(hn,"onSelect"),0<o.length&&(n=new Gr("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ze)))}function ni(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var yr={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionrun:ni("Transition","TransitionRun"),transitionstart:ni("Transition","TransitionStart"),transitioncancel:ni("Transition","TransitionCancel"),transitionend:ni("Transition","TransitionEnd")},Ft={},Dr={};pi&&(Dr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function Ka(t){if(Ft[t])return Ft[t];if(!yr[t])return t;var n=yr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Dr)return Ft[t]=n[a];return t}var Oe=Ka("animationend"),qe=Ka("animationiteration"),zt=Ka("animationstart"),Xt=Ka("transitionrun"),Vt=Ka("transitionstart"),qt=Ka("transitioncancel"),rn=Ka("transitionend"),un=new Map,ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ar.push("scrollEnd");function wn(t,n){un.set(t,n),Me(n,[t])}var Oi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gn=[],$a=0,rl=0;function Sa(){for(var t=$a,n=rl=$a=0;n<t;){var a=gn[n];gn[n++]=null;var o=gn[n];gn[n++]=null;var h=gn[n];gn[n++]=null;var m=gn[n];if(gn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&ru(a,h,m)}}function Ra(t,n,a,o){gn[$a++]=t,gn[$a++]=n,gn[$a++]=a,gn[$a++]=o,rl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ha(t,n,a,o){return Ra(t,n,a,o),Co(t)}function sr(t,n){return Ra(t,null,null,n),Co(t)}function ru(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-Je(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),m):null}function Co(t){if(50<Ru)throw Ru=0,Dd=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Nr={};function Tf(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(t,n,a,o){return new Tf(t,n,a,o)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ja(t,n){var a=t.alternate;return a===null?(a=Gi(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yc(t,n,a,o,h,m){var T=0;if(o=t,typeof t=="function")Af(t)&&(T=1);else if(typeof t=="string")T=AE(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case k:return t=Gi(31,a,n,h),t.elementType=k,t.lanes=m,t;case xe:return Io(a.children,h,m,n);case Re:T=8,h|=24;break;case Le:return t=Gi(12,a,n,h|2),t.elementType=Le,t.lanes=m,t;case ot:return t=Gi(13,a,n,h),t.elementType=ot,t.lanes=m,t;case at:return t=Gi(19,a,n,h),t.elementType=at,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Be:T=10;break e;case Ue:T=9;break e;case Ke:T=11;break e;case F:T=14;break e;case B:T=16,o=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=Gi(T,a,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Io(t,n,a,o){return t=Gi(7,t,o,n),t.lanes=a,t}function Sf(t,n,a){return t=Gi(6,t,null,n),t.lanes=a,t}function Wp(t){var n=Gi(18,null,null,0);return n.stateNode=t,n}function Rf(t,n,a){return n=Gi(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Kp=new WeakMap;function Xr(t,n){if(typeof t=="object"&&t!==null){var a=Kp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:sn(n)},Kp.set(t,n),n)}return{value:t,source:n,stack:sn(n)}}var al=[],sl=0,vc=null,au=0,Qr=[],Wr=0,Ds=null,Ca=1,Ia="";function Za(t,n){al[sl++]=au,al[sl++]=vc,vc=t,au=n}function $p(t,n,a){Qr[Wr++]=Ca,Qr[Wr++]=Ia,Qr[Wr++]=Ds,Ds=t;var o=Ca;t=Ia;var h=32-Je(o)-1;o&=~(1<<h),a+=1;var m=32-Je(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,Ca=1<<32-Je(n)+h|a<<h|o,Ia=m+t}else Ca=1<<m|a<<h|o,Ia=t}function Cf(t){t.return!==null&&(Za(t,1),$p(t,1,0))}function If(t){for(;t===vc;)vc=al[--sl],al[sl]=null,au=al[--sl],al[sl]=null;for(;t===Ds;)Ds=Qr[--Wr],Qr[Wr]=null,Ia=Qr[--Wr],Qr[Wr]=null,Ca=Qr[--Wr],Qr[Wr]=null}function Jp(t,n){Qr[Wr++]=Ca,Qr[Wr++]=Ia,Qr[Wr++]=Ds,Ca=n.id,Ia=n.overflow,Ds=t}var Di=null,Ln=null,tn=!1,Ns=null,Kr=!1,xf=Error(s(519));function Vs(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(Xr(n,t)),xf}function Zp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[vn]=t,n[Hn]=o,a){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(a=0;a<Iu.length;a++)Yt(Iu[a],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":Yt("invalid",n),To(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Yt("invalid",n);break;case"textarea":Yt("invalid",n),Fr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||gv(n.textContent,a)?(o.popover!=null&&(Yt("beforetoggle",n),Yt("toggle",n)),o.onScroll!=null&&Yt("scroll",n),o.onScrollEnd!=null&&Yt("scrollend",n),o.onClick!=null&&(n.onclick=ur),n=!0):n=!1,n||Vs(t,!0)}function eg(t){for(Di=t.return;Di;)switch(Di.tag){case 5:case 31:case 13:Kr=!1;return;case 27:case 3:Kr=!0;return;default:Di=Di.return}}function ol(t){if(t!==Di)return!1;if(!tn)return eg(t),tn=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&Ln&&Vs(t),eg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ln=Sv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ln=Sv(t)}else n===27?(n=Ln,Qs(t.type)?(t=Jd,Jd=null,Ln=t):Ln=n):Ln=Di?Jr(t.stateNode.nextSibling):null;return!0}function xo(){Ln=Di=null,tn=!1}function Mf(){var t=Ns;return t!==null&&(wr===null?wr=t:wr.push.apply(wr,t),Ns=null),t}function su(t){Ns===null?Ns=[t]:Ns.push(t)}var Of=P(null),Mo=null,es=null;function ks(t,n,a){Ae(Of,n._currentValue),n._currentValue=a}function ts(t){t._currentValue=Of.current,re(Of)}function Df(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Nf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=h;for(var G=0;G<n.length;G++)if(M.context===n[G]){m.lanes|=a,M=m.alternate,M!==null&&(M.lanes|=a),Df(m.return,a,t),o||(T=null);break e}m=M.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Df(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ll(t,n,a,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var M=h.type;ue(h.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(h===lt.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nu):t=[Nu])}h=h.return}t!==null&&Nf(n,t,a,o),n.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!ue(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Oo(t){Mo=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ni(t){return tg(Mo,t)}function bc(t,n){return Mo===null&&Oo(t),tg(t,n)}function tg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},es===null){if(t===null)throw Error(s(308));es=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else es=es.next=n;return a}var b1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},w1=r.unstable_scheduleCallback,E1=r.unstable_NormalPriority,li={$$typeof:Be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new b1,data:new Map,refCount:0}}function ou(t){t.refCount--,t.refCount===0&&w1(E1,function(){t.controller.abort()})}var lu=null,kf=0,ul=0,cl=null;function T1(t,n){if(lu===null){var a=lu=[];kf=0,ul=Ud(),cl={status:"pending",value:void 0,then:function(o){a.push(o)}}}return kf++,n.then(ng,ng),n}function ng(){if(--kf===0&&lu!==null){cl!==null&&(cl.status="fulfilled");var t=lu;lu=null,ul=0,cl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function A1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ig=H.S;H.S=function(t,n){zy=on(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&T1(t,n),ig!==null&&ig(t,n)};var Do=P(null);function Pf(){var t=Do.current;return t!==null?t:Mn.pooledCache}function wc(t,n){n===null?Ae(Do,Do.current):Ae(Do,n.pool)}function rg(){var t=Pf();return t===null?null:{parent:li._currentValue,pool:t}}var hl=Error(s(460)),Lf=Error(s(474)),Ec=Error(s(542)),Tc={then:function(){}};function ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ur,ur),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t;default:if(typeof n.status=="string")n.then(ur,ur);else{if(t=Mn,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t}throw Vo=n,hl}}function No(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vo=a,hl):a}}var Vo=null;function og(){if(Vo===null)throw Error(s(459));var t=Vo;return Vo=null,t}function lg(t){if(t===hl||t===Ec)throw Error(s(483))}var fl=null,uu=0;function Ac(t){var n=uu;return uu+=1,fl===null&&(fl=[]),sg(fl,t,n)}function cu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Sc(t,n){throw n.$$typeof===q?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){function n(Z,X){if(t){var se=Z.deletions;se===null?(Z.deletions=[X],Z.flags|=16):se.push(X)}}function a(Z,X){if(!t)return null;for(;X!==null;)n(Z,X),X=X.sibling;return null}function o(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function h(Z,X){return Z=Ja(Z,X),Z.index=0,Z.sibling=null,Z}function m(Z,X,se){return Z.index=se,t?(se=Z.alternate,se!==null?(se=se.index,se<X?(Z.flags|=67108866,X):se):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function T(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function M(Z,X,se,be){return X===null||X.tag!==6?(X=Sf(se,Z.mode,be),X.return=Z,X):(X=h(X,se),X.return=Z,X)}function G(Z,X,se,be){var dt=se.type;return dt===xe?pe(Z,X,se.props.children,be,se.key):X!==null&&(X.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===B&&No(dt)===X.type)?(X=h(X,se.props),cu(X,se),X.return=Z,X):(X=yc(se.type,se.key,se.props,null,Z.mode,be),cu(X,se),X.return=Z,X)}function le(Z,X,se,be){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=Rf(se,Z.mode,be),X.return=Z,X):(X=h(X,se.children||[]),X.return=Z,X)}function pe(Z,X,se,be,dt){return X===null||X.tag!==7?(X=Io(se,Z.mode,be,dt),X.return=Z,X):(X=h(X,se),X.return=Z,X)}function we(Z,X,se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Sf(""+X,Z.mode,se),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case ne:return se=yc(X.type,X.key,X.props,null,Z.mode,se),cu(se,X),se.return=Z,se;case U:return X=Rf(X,Z.mode,se),X.return=Z,X;case B:return X=No(X),we(Z,X,se)}if(ae(X)||V(X))return X=Io(X,Z.mode,se,null),X.return=Z,X;if(typeof X.then=="function")return we(Z,Ac(X),se);if(X.$$typeof===Be)return we(Z,bc(Z,X),se);Sc(Z,X)}return null}function ce(Z,X,se,be){var dt=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return dt!==null?null:M(Z,X,""+se,be);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ne:return se.key===dt?G(Z,X,se,be):null;case U:return se.key===dt?le(Z,X,se,be):null;case B:return se=No(se),ce(Z,X,se,be)}if(ae(se)||V(se))return dt!==null?null:pe(Z,X,se,be,null);if(typeof se.then=="function")return ce(Z,X,Ac(se),be);if(se.$$typeof===Be)return ce(Z,X,bc(Z,se),be);Sc(Z,se)}return null}function me(Z,X,se,be,dt){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return Z=Z.get(se)||null,M(X,Z,""+be,dt);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case ne:return Z=Z.get(be.key===null?se:be.key)||null,G(X,Z,be,dt);case U:return Z=Z.get(be.key===null?se:be.key)||null,le(X,Z,be,dt);case B:return be=No(be),me(Z,X,se,be,dt)}if(ae(be)||V(be))return Z=Z.get(se)||null,pe(X,Z,be,dt,null);if(typeof be.then=="function")return me(Z,X,se,Ac(be),dt);if(be.$$typeof===Be)return me(Z,X,se,bc(X,be),dt);Sc(X,be)}return null}function it(Z,X,se,be){for(var dt=null,fn=null,st=X,Lt=X=0,Wt=null;st!==null&&Lt<se.length;Lt++){st.index>Lt?(Wt=st,st=null):Wt=st.sibling;var dn=ce(Z,st,se[Lt],be);if(dn===null){st===null&&(st=Wt);break}t&&st&&dn.alternate===null&&n(Z,st),X=m(dn,X,Lt),fn===null?dt=dn:fn.sibling=dn,fn=dn,st=Wt}if(Lt===se.length)return a(Z,st),tn&&Za(Z,Lt),dt;if(st===null){for(;Lt<se.length;Lt++)st=we(Z,se[Lt],be),st!==null&&(X=m(st,X,Lt),fn===null?dt=st:fn.sibling=st,fn=st);return tn&&Za(Z,Lt),dt}for(st=o(st);Lt<se.length;Lt++)Wt=me(st,Z,Lt,se[Lt],be),Wt!==null&&(t&&Wt.alternate!==null&&st.delete(Wt.key===null?Lt:Wt.key),X=m(Wt,X,Lt),fn===null?dt=Wt:fn.sibling=Wt,fn=Wt);return t&&st.forEach(function(Zs){return n(Z,Zs)}),tn&&Za(Z,Lt),dt}function bt(Z,X,se,be){if(se==null)throw Error(s(151));for(var dt=null,fn=null,st=X,Lt=X=0,Wt=null,dn=se.next();st!==null&&!dn.done;Lt++,dn=se.next()){st.index>Lt?(Wt=st,st=null):Wt=st.sibling;var Zs=ce(Z,st,dn.value,be);if(Zs===null){st===null&&(st=Wt);break}t&&st&&Zs.alternate===null&&n(Z,st),X=m(Zs,X,Lt),fn===null?dt=Zs:fn.sibling=Zs,fn=Zs,st=Wt}if(dn.done)return a(Z,st),tn&&Za(Z,Lt),dt;if(st===null){for(;!dn.done;Lt++,dn=se.next())dn=we(Z,dn.value,be),dn!==null&&(X=m(dn,X,Lt),fn===null?dt=dn:fn.sibling=dn,fn=dn);return tn&&Za(Z,Lt),dt}for(st=o(st);!dn.done;Lt++,dn=se.next())dn=me(st,Z,Lt,dn.value,be),dn!==null&&(t&&dn.alternate!==null&&st.delete(dn.key===null?Lt:dn.key),X=m(dn,X,Lt),fn===null?dt=dn:fn.sibling=dn,fn=dn);return t&&st.forEach(function(kE){return n(Z,kE)}),tn&&Za(Z,Lt),dt}function In(Z,X,se,be){if(typeof se=="object"&&se!==null&&se.type===xe&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case ne:e:{for(var dt=se.key;X!==null;){if(X.key===dt){if(dt=se.type,dt===xe){if(X.tag===7){a(Z,X.sibling),be=h(X,se.props.children),be.return=Z,Z=be;break e}}else if(X.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===B&&No(dt)===X.type){a(Z,X.sibling),be=h(X,se.props),cu(be,se),be.return=Z,Z=be;break e}a(Z,X);break}else n(Z,X);X=X.sibling}se.type===xe?(be=Io(se.props.children,Z.mode,be,se.key),be.return=Z,Z=be):(be=yc(se.type,se.key,se.props,null,Z.mode,be),cu(be,se),be.return=Z,Z=be)}return T(Z);case U:e:{for(dt=se.key;X!==null;){if(X.key===dt)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){a(Z,X.sibling),be=h(X,se.children||[]),be.return=Z,Z=be;break e}else{a(Z,X);break}else n(Z,X);X=X.sibling}be=Rf(se,Z.mode,be),be.return=Z,Z=be}return T(Z);case B:return se=No(se),In(Z,X,se,be)}if(ae(se))return it(Z,X,se,be);if(V(se)){if(dt=V(se),typeof dt!="function")throw Error(s(150));return se=dt.call(se),bt(Z,X,se,be)}if(typeof se.then=="function")return In(Z,X,Ac(se),be);if(se.$$typeof===Be)return In(Z,X,bc(Z,se),be);Sc(Z,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,X!==null&&X.tag===6?(a(Z,X.sibling),be=h(X,se),be.return=Z,Z=be):(a(Z,X),be=Sf(se,Z.mode,be),be.return=Z,Z=be),T(Z)):a(Z,X)}return function(Z,X,se,be){try{uu=0;var dt=In(Z,X,se,be);return fl=null,dt}catch(st){if(st===hl||st===Ec)throw st;var fn=Gi(29,st,null,Z.mode);return fn.lanes=be,fn.return=Z,fn}finally{}}}var ko=ug(!0),cg=ug(!1),Ps=!1;function Uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(yn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Co(t),ru(t,null,a),n}return Ra(t,o,n,a),Co(t)}function hu(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,ya(t,a)}}function zf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Bf=!1;function fu(){if(Bf){var t=cl;if(t!==null)throw t}}function du(t,n,a,o){Bf=!1;var h=t.updateQueue;Ps=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var G=M,le=G.next;G.next=null,T===null?m=le:T.next=le,T=G;var pe=t.alternate;pe!==null&&(pe=pe.updateQueue,M=pe.lastBaseUpdate,M!==T&&(M===null?pe.firstBaseUpdate=le:M.next=le,pe.lastBaseUpdate=G))}if(m!==null){var we=h.baseState;T=0,pe=le=G=null,M=m;do{var ce=M.lane&-536870913,me=ce!==M.lane;if(me?(Qt&ce)===ce:(o&ce)===ce){ce!==0&&ce===ul&&(Bf=!0),pe!==null&&(pe=pe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var it=t,bt=M;ce=n;var In=a;switch(bt.tag){case 1:if(it=bt.payload,typeof it=="function"){we=it.call(In,we,ce);break e}we=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=bt.payload,ce=typeof it=="function"?it.call(In,we,ce):it,ce==null)break e;we=L({},we,ce);break e;case 2:Ps=!0}}ce=M.callback,ce!==null&&(t.flags|=64,me&&(t.flags|=8192),me=h.callbacks,me===null?h.callbacks=[ce]:me.push(ce))}else me={lane:ce,tag:M.tag,payload:M.payload,callback:M.callback,next:null},pe===null?(le=pe=me,G=we):pe=pe.next=me,T|=ce;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;me=M,M=me.next,me.next=null,h.lastBaseUpdate=me,h.shared.pending=null}}while(!0);pe===null&&(G=we),h.baseState=G,h.firstBaseUpdate=le,h.lastBaseUpdate=pe,m===null&&(h.shared.lanes=0),Hs|=T,t.lanes=T,t.memoizedState=we}}function hg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function fg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hg(a[t],n)}var dl=P(null),Rc=P(0);function dg(t,n){t=cs,Ae(Rc,t),Ae(dl,n),cs=t|n.baseLanes}function Ff(){Ae(Rc,cs),Ae(dl,dl.current)}function Hf(){cs=Rc.current,re(dl),re(Rc)}var Vr=P(null),$r=null;function js(t){var n=t.alternate;Ae(ii,ii.current&1),Ae(Vr,t),$r===null&&(n===null||dl.current!==null||n.memoizedState!==null)&&($r=t)}function qf(t){Ae(ii,ii.current),Ae(Vr,t),$r===null&&($r=t)}function mg(t){t.tag===22?(Ae(ii,ii.current),Ae(Vr,t),$r===null&&($r=t)):zs()}function zs(){Ae(ii,ii.current),Ae(Vr,Vr.current)}function kr(t){re(Vr),$r===t&&($r=null),re(ii)}var ii=P(0);function Cc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kd(a)||$d(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,Pt=null,Rn=null,ui=null,Ic=!1,ml=!1,Po=!1,xc=0,mu=0,pl=null,S1=0;function Wn(){throw Error(s(321))}function Gf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ue(t[a],n[a]))return!1;return!0}function Yf(t,n,a,o,h,m){return ns=m,Pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?$g:od,Po=!1,m=a(o,h),Po=!1,ml&&(m=gg(n,a,o,h)),pg(t),m}function pg(t){H.H=yu;var n=Rn!==null&&Rn.next!==null;if(ns=0,ui=Rn=Pt=null,Ic=!1,mu=0,pl=null,n)throw Error(s(300));t===null||ci||(t=t.dependencies,t!==null&&_c(t)&&(ci=!0))}function gg(t,n,a,o){Pt=t;var h=0;do{if(ml&&(pl=null),mu=0,ml=!1,25<=h)throw Error(s(301));if(h+=1,ui=Rn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=Jg,m=n(a,o)}while(ml);return m}function R1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?pu(n):n,t=t.useState()[0],(Rn!==null?Rn.memoizedState:null)!==t&&(Pt.flags|=1024),n}function Xf(){var t=xc!==0;return xc=0,t}function Qf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Wf(t){if(Ic){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ic=!1}ns=0,ui=Rn=Pt=null,ml=!1,mu=xc=0,pl=null}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?Pt.memoizedState=ui=t:ui=ui.next=t,ui}function ri(){if(Rn===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=Rn.next;var n=ui===null?Pt.memoizedState:ui.next;if(n!==null)ui=n,Rn=t;else{if(t===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));Rn=t,t={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},ui===null?Pt.memoizedState=ui=t:ui=ui.next=t}return ui}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(t){var n=mu;return mu+=1,pl===null&&(pl=[]),t=sg(pl,t,n),n=Pt,(ui===null?n.memoizedState:ui.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?$g:od),t}function Oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pu(t);if(t.$$typeof===Be)return Ni(t)}throw Error(s(438,String(t)))}function Kf(t){var n=null,a=Pt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Pt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Mc(),Pt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=z;return n.index++,a}function is(t,n){return typeof n=="function"?n(t):n}function Dc(t){var n=ri();return $f(n,Rn,t)}function $f(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var M=T=null,G=null,le=n,pe=!1;do{var we=le.lane&-536870913;if(we!==le.lane?(Qt&we)===we:(ns&we)===we){var ce=le.revertLane;if(ce===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),we===ul&&(pe=!0);else if((ns&ce)===ce){le=le.next,ce===ul&&(pe=!0);continue}else we={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},G===null?(M=G=we,T=m):G=G.next=we,Pt.lanes|=ce,Hs|=ce;we=le.action,Po&&a(m,we),m=le.hasEagerState?le.eagerState:a(m,we)}else ce={lane:we,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},G===null?(M=G=ce,T=m):G=G.next=ce,Pt.lanes|=we,Hs|=we;le=le.next}while(le!==null&&le!==n);if(G===null?T=m:G.next=M,!ue(m,t.memoizedState)&&(ci=!0,pe&&(a=cl,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=G,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Jf(t){var n=ri(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ue(m,n.memoizedState)||(ci=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function yg(t,n,a){var o=Pt,h=ri(),m=tn;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var T=!ue((Rn||h).memoizedState,a);if(T&&(h.memoizedState=a,ci=!0),h=h.queue,td(bg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||ui!==null&&ui.memoizedState.tag&1){if(o.flags|=2048,gl(9,{destroy:void 0},_g.bind(null,o,h,a,n),null),Mn===null)throw Error(s(349));m||(ns&127)!==0||vg(o,n,a)}return a}function vg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Pt.updateQueue,n===null?(n=Mc(),Pt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function _g(t,n,a,o){n.value=a,n.getSnapshot=o,wg(n)&&Eg(t)}function bg(t,n,a){return a(function(){wg(n)&&Eg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ue(t,a)}catch{return!0}}function Eg(t){var n=sr(t,2);n!==null&&Er(n,t,2)}function Zf(t){var n=or();if(typeof t=="function"){var a=t;if(t=a(),Po){He(!0);try{a()}finally{He(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},n}function Tg(t,n,a,o){return t.baseState=a,$f(t,Rn,typeof o=="function"?o:is)}function C1(t,n,a,o,h){if(kc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};H.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,Ag(n,m)):(m.next=a.next,n.pending=a.next=m)}}function Ag(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=H.T,T={};H.T=T;try{var M=a(h,o),G=H.S;G!==null&&G(T,M),Sg(t,n,M)}catch(le){ed(t,n,le)}finally{m!==null&&T.types!==null&&(m.types=T.types),H.T=m}}else try{m=a(h,o),Sg(t,n,m)}catch(le){ed(t,n,le)}}function Sg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rg(t,n,o)},function(o){return ed(t,n,o)}):Rg(t,n,a)}function Rg(t,n,a){n.status="fulfilled",n.value=a,Cg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ag(t,a)))}function ed(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Cg(n),n=n.next;while(n!==o)}t.action=null}function Cg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ig(t,n){return n}function xg(t,n){if(tn){var a=Mn.formState;if(a!==null){e:{var o=Pt;if(tn){if(Ln){t:{for(var h=Ln,m=Kr;h.nodeType!==8;){if(!m){h=null;break t}if(h=Jr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Ln=Jr(h.nextSibling),o=h.data==="F!";break e}}Vs(o)}o=!1}o&&(n=a[0])}}return a=or(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:n},a.queue=o,a=Qg.bind(null,Pt,o),o.dispatch=a,o=Zf(!1),m=sd.bind(null,Pt,!1,o.queue),o=or(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=C1.bind(null,Pt,h,m,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Mg(t){var n=ri();return Og(n,Rn,t)}function Og(t,n,a){if(n=$f(t,n,Ig)[0],t=Dc(is)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=pu(n)}catch(T){throw T===hl?Ec:T}else o=n;n=ri();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(Pt.flags|=2048,gl(9,{destroy:void 0},I1.bind(null,h,a),null)),[o,m,t]}function I1(t,n){t.action=n}function Dg(t){var n=ri(),a=Rn;if(a!==null)return Og(n,a,t);ri(),n=n.memoizedState,a=ri();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function gl(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Pt.updateQueue,n===null&&(n=Mc(),Pt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Ng(){return ri().memoizedState}function Nc(t,n,a,o){var h=or();Pt.flags|=t,h.memoizedState=gl(1|n,{destroy:void 0},a,o===void 0?null:o)}function Vc(t,n,a,o){var h=ri();o=o===void 0?null:o;var m=h.memoizedState.inst;Rn!==null&&o!==null&&Gf(o,Rn.memoizedState.deps)?h.memoizedState=gl(n,m,a,o):(Pt.flags|=t,h.memoizedState=gl(1|n,m,a,o))}function Vg(t,n){Nc(8390656,8,t,n)}function td(t,n){Vc(2048,8,t,n)}function x1(t){Pt.flags|=4;var n=Pt.updateQueue;if(n===null)n=Mc(),Pt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function kg(t){var n=ri().memoizedState;return x1({ref:n,nextImpl:t}),function(){if((yn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Pg(t,n){return Vc(4,2,t,n)}function Lg(t,n){return Vc(4,4,t,n)}function Ug(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function jg(t,n,a){a=a!=null?a.concat([t]):null,Vc(4,4,Ug.bind(null,n,t),a)}function nd(){}function zg(t,n){var a=ri();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Gf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Bg(t,n){var a=ri();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Gf(n,o[1]))return o[0];if(o=t(),Po){He(!0);try{t()}finally{He(!1)}}return a.memoizedState=[o,n],o}function id(t,n,a){return a===void 0||(ns&1073741824)!==0&&(Qt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Fy(),Pt.lanes|=t,Hs|=t,a)}function Fg(t,n,a,o){return ue(a,n)?a:dl.current!==null?(t=id(t,a,o),ue(t,n)||(ci=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(Qt&261930)===0?(ci=!0,t.memoizedState=a):(t=Fy(),Pt.lanes|=t,Hs|=t,n)}function Hg(t,n,a,o,h){var m=ee.p;ee.p=m!==0&&8>m?m:8;var T=H.T,M={};H.T=M,sd(t,!1,n,a);try{var G=h(),le=H.S;if(le!==null&&le(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=A1(G,o);gu(t,n,pe,Ur(t))}else gu(t,n,o,Ur(t))}catch(we){gu(t,n,{then:function(){},status:"rejected",reason:we},Ur())}finally{ee.p=m,T!==null&&M.types!==null&&(T.types=M.types),H.T=T}}function M1(){}function rd(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=qg(t).queue;Hg(t,h,n,ge,a===null?M1:function(){return Gg(t),a(o)})}function qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ge},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gg(t){var n=qg(t);n.next===null&&(n=t.alternate.memoizedState),gu(t,n.next.queue,{},Ur())}function ad(){return Ni(Nu)}function Yg(){return ri().memoizedState}function Xg(){return ri().memoizedState}function O1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ur();t=Ls(a);var o=Us(n,t,a);o!==null&&(Er(o,n,a),hu(o,n,a)),n={cache:Vf()},t.payload=n;return}n=n.return}}function D1(t,n,a){var o=Ur();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kc(t)?Wg(n,a):(a=ha(t,n,a,o),a!==null&&(Er(a,t,o),Kg(a,n,o)))}function Qg(t,n,a){var o=Ur();gu(t,n,a,o)}function gu(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(t))Wg(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,a);if(h.hasEagerState=!0,h.eagerState=M,ue(M,T))return Ra(t,n,h,0),Mn===null&&Sa(),!1}catch{}finally{}if(a=ha(t,n,h,o),a!==null)return Er(a,t,o),Kg(a,n,o),!0}return!1}function sd(t,n,a,o){if(o={lane:2,revertLane:Ud(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(n)throw Error(s(479))}else n=ha(t,a,o,2),n!==null&&Er(n,t,2)}function kc(t){var n=t.alternate;return t===Pt||n!==null&&n===Pt}function Wg(t,n){ml=Ic=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Kg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,ya(t,a)}}var yu={readContext:Ni,use:Oc,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useInsertionEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useSyncExternalStore:Wn,useId:Wn,useHostTransitionStatus:Wn,useFormState:Wn,useActionState:Wn,useOptimistic:Wn,useMemoCache:Wn,useCacheRefresh:Wn};yu.useEffectEvent=Wn;var $g={readContext:Ni,use:Oc,useCallback:function(t,n){return or().memoizedState=[t,n===void 0?null:n],t},useContext:Ni,useEffect:Vg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Nc(4194308,4,Ug.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Nc(4194308,4,t,n)},useInsertionEffect:function(t,n){Nc(4,2,t,n)},useMemo:function(t,n){var a=or();n=n===void 0?null:n;var o=t();if(Po){He(!0);try{t()}finally{He(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=or();if(a!==void 0){var h=a(n);if(Po){He(!0);try{a(n)}finally{He(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=D1.bind(null,Pt,t),[o.memoizedState,t]},useRef:function(t){var n=or();return t={current:t},n.memoizedState=t},useState:function(t){t=Zf(t);var n=t.queue,a=Qg.bind(null,Pt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(t,n){var a=or();return id(a,t,n)},useTransition:function(){var t=Zf(!1);return t=Hg.bind(null,Pt,t.queue,!0,!1),or().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Pt,h=or();if(tn){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Mn===null)throw Error(s(349));(Qt&127)!==0||vg(o,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,Vg(bg.bind(null,o,m,t),[t]),o.flags|=2048,gl(9,{destroy:void 0},_g.bind(null,o,m,a,n),null),a},useId:function(){var t=or(),n=Mn.identifierPrefix;if(tn){var a=Ia,o=Ca;a=(o&~(1<<32-Je(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=xc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=S1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ad,useFormState:xg,useActionState:xg,useOptimistic:function(t){var n=or();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=sd.bind(null,Pt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Kf,useCacheRefresh:function(){return or().memoizedState=O1.bind(null,Pt)},useEffectEvent:function(t){var n=or(),a={impl:t};return n.memoizedState=a,function(){if((yn&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},od={readContext:Ni,use:Oc,useCallback:zg,useContext:Ni,useEffect:td,useImperativeHandle:jg,useInsertionEffect:Pg,useLayoutEffect:Lg,useMemo:Bg,useReducer:Dc,useRef:Ng,useState:function(){return Dc(is)},useDebugValue:nd,useDeferredValue:function(t,n){var a=ri();return Fg(a,Rn.memoizedState,t,n)},useTransition:function(){var t=Dc(is)[0],n=ri().memoizedState;return[typeof t=="boolean"?t:pu(t),n]},useSyncExternalStore:yg,useId:Yg,useHostTransitionStatus:ad,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var a=ri();return Tg(a,Rn,t,n)},useMemoCache:Kf,useCacheRefresh:Xg};od.useEffectEvent=kg;var Jg={readContext:Ni,use:Oc,useCallback:zg,useContext:Ni,useEffect:td,useImperativeHandle:jg,useInsertionEffect:Pg,useLayoutEffect:Lg,useMemo:Bg,useReducer:Jf,useRef:Ng,useState:function(){return Jf(is)},useDebugValue:nd,useDeferredValue:function(t,n){var a=ri();return Rn===null?id(a,t,n):Fg(a,Rn.memoizedState,t,n)},useTransition:function(){var t=Jf(is)[0],n=ri().memoizedState;return[typeof t=="boolean"?t:pu(t),n]},useSyncExternalStore:yg,useId:Yg,useHostTransitionStatus:ad,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var a=ri();return Rn!==null?Tg(a,Rn,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:Xg};Jg.useEffectEvent=kg;function ld(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:L({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ud={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Ur(),h=Ls(o);h.payload=n,a!=null&&(h.callback=a),n=Us(t,h,o),n!==null&&(Er(n,t,o),hu(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Ur(),h=Ls(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Us(t,h,o),n!==null&&(Er(n,t,o),hu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Ur(),o=Ls(a);o.tag=2,n!=null&&(o.callback=n),n=Us(t,o,a),n!==null&&(Er(n,t,a),hu(n,t,a))}};function Zg(t,n,a,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!oe(a,o)||!oe(h,m):!0}function ey(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&ud.enqueueReplaceState(n,n.state,null)}function Lo(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=L({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ty(t){Oi(t)}function ny(t){console.error(t)}function iy(t){Oi(t)}function Pc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cd(t,n,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(t,n)},a}function ay(t){return t=Ls(t),t.tag=3,t}function sy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){ry(n,a,o)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){ry(n,a,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function N1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ll(n,a,h,!0),a=Vr.current,a!==null){switch(a.tag){case 31:case 13:return $r===null?Qc():a.alternate===null&&Kn===0&&(Kn=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),kd(t,o,h)),!1;case 22:return a.flags|=65536,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),kd(t,o,h)),!1}throw Error(s(435,a.tag))}return kd(t,o,h),Qc(),!1}if(tn)return n=Vr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==xf&&(t=Error(s(422),{cause:o}),su(Xr(t,a)))):(o!==xf&&(n=Error(s(423),{cause:o}),su(Xr(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Xr(o,a),h=cd(t.stateNode,o,h),zf(t,h),Kn!==4&&(Kn=2)),!1;var m=Error(s(520),{cause:o});if(m=Xr(m,a),Su===null?Su=[m]:Su.push(m),Kn!==4&&(Kn=2),n===null)return!0;o=Xr(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=cd(a.stateNode,o,t),zf(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qs===null||!qs.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ay(h),sy(h,t,a,o),zf(a,h),!1}a=a.return}while(a!==null);return!1}var hd=Error(s(461)),ci=!1;function Vi(t,n,a,o){n.child=t===null?cg(n,null,a,o):ko(n,t.child,a,o)}function oy(t,n,a,o,h){a=a.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return Oo(n),o=Yf(t,n,a,T,m,h),M=Xf(),t!==null&&!ci?(Qf(t,n,h),rs(t,n,h)):(tn&&M&&Cf(n),n.flags|=1,Vi(t,n,o,h),n.child)}function ly(t,n,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!Af(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,uy(t,n,m,o,h)):(t=yc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!_d(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:oe,a(T,o)&&t.ref===n.ref)return rs(t,n,h)}return n.flags|=1,t=Ja(m,o),t.ref=n.ref,t.return=n,n.child=t}function uy(t,n,a,o,h){if(t!==null){var m=t.memoizedProps;if(oe(m,o)&&t.ref===n.ref)if(ci=!1,n.pendingProps=o=m,_d(t,h))(t.flags&131072)!==0&&(ci=!0);else return n.lanes=t.lanes,rs(t,n,h)}return fd(t,n,a,o,h)}function cy(t,n,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return hy(t,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&wc(n,m!==null?m.cachePool:null),m!==null?dg(n,m):Ff(),mg(n);else return o=n.lanes=536870912,hy(t,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(wc(n,m.cachePool),dg(n,m),zs(),n.memoizedState=null):(t!==null&&wc(n,null),Ff(),zs());return Vi(t,n,h,a),n.child}function vu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hy(t,n,a,o,h){var m=Pf();return m=m===null?null:{parent:li._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&wc(n,null),Ff(),mg(n),t!==null&&ll(t,n,o,!0),n.childLanes=h,null}function Lc(t,n){return n=jc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function fy(t,n,a){return ko(n,t.child,null,a),t=Lc(n,n.pendingProps),t.flags|=2,kr(n),n.memoizedState=null,t}function V1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(tn){if(o.mode==="hidden")return t=Lc(n,o),n.lanes=536870912,vu(null,t);if(qf(n),(t=Ln)?(t=Av(t,Kr),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ca,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},a=Wp(t),a.return=n,n.child=a,Di=n,Ln=null)):t=null,t===null)throw Vs(n);return n.lanes=536870912,null}return Lc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(qf(n),h)if(n.flags&256)n.flags&=-257,n=fy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(ci||ll(t,n,a,!1),h=(a&t.childLanes)!==0,ci||h){if(o=Mn,o!==null&&(T=Ar(o,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,sr(t,T),Er(o,t,T),hd;Qc(),n=fy(t,n,a)}else t=m.treeContext,Ln=Jr(T.nextSibling),Di=n,tn=!0,Ns=null,Kr=!1,t!==null&&Jp(n,t),n=Lc(n,o),n.flags|=4096;return n}return t=Ja(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Uc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function fd(t,n,a,o,h){return Oo(n),a=Yf(t,n,a,o,void 0,h),o=Xf(),t!==null&&!ci?(Qf(t,n,h),rs(t,n,h)):(tn&&o&&Cf(n),n.flags|=1,Vi(t,n,a,h),n.child)}function dy(t,n,a,o,h,m){return Oo(n),n.updateQueue=null,a=gg(n,o,a,h),pg(t),o=Xf(),t!==null&&!ci?(Qf(t,n,m),rs(t,n,m)):(tn&&o&&Cf(n),n.flags|=1,Vi(t,n,a,m),n.child)}function my(t,n,a,o,h){if(Oo(n),n.stateNode===null){var m=Nr,T=a.contextType;typeof T=="object"&&T!==null&&(m=Ni(T)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ud,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Uf(n),T=a.contextType,m.context=typeof T=="object"&&T!==null?Ni(T):Nr,m.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(ld(n,a,T,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&ud.enqueueReplaceState(m,m.state,null),du(n,o,m,h),fu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,G=Lo(a,M);m.props=G;var le=m.context,pe=a.contextType;T=Nr,typeof pe=="object"&&pe!==null&&(T=Ni(pe));var we=a.getDerivedStateFromProps;pe=typeof we=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,pe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||le!==T)&&ey(n,m,o,T),Ps=!1;var ce=n.memoizedState;m.state=ce,du(n,o,m,h),fu(),le=n.memoizedState,M||ce!==le||Ps?(typeof we=="function"&&(ld(n,a,we,o),le=n.memoizedState),(G=Ps||Zg(n,a,G,o,ce,le,T))?(pe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=le),m.props=o,m.state=le,m.context=T,o=G):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,jf(t,n),T=n.memoizedProps,pe=Lo(a,T),m.props=pe,we=n.pendingProps,ce=m.context,le=a.contextType,G=Nr,typeof le=="object"&&le!==null&&(G=Ni(le)),M=a.getDerivedStateFromProps,(le=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==we||ce!==G)&&ey(n,m,o,G),Ps=!1,ce=n.memoizedState,m.state=ce,du(n,o,m,h),fu();var me=n.memoizedState;T!==we||ce!==me||Ps||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof M=="function"&&(ld(n,a,M,o),me=n.memoizedState),(pe=Ps||Zg(n,a,pe,o,ce,me,G)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(le||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,me,G),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,me,G)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=me),m.props=o,m.state=me,m.context=G,o=pe):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Uc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=ko(n,t.child,null,h),n.child=ko(n,null,a,h)):Vi(t,n,a,h),n.memoizedState=m.state,t=n.child):t=rs(t,n,h),t}function py(t,n,a,o){return xo(),n.flags|=256,Vi(t,n,a,o),n.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(t){return{baseLanes:t,cachePool:rg()}}function pd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Lr),t}function gy(t,n,a){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ii.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(tn){if(h?js(n):zs(),(t=Ln)?(t=Av(t,Kr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ca,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},a=Wp(t),a.return=n,n.child=a,Di=n,Ln=null)):t=null,t===null)throw Vs(n);return $d(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,h?(zs(),h=n.mode,M=jc({mode:"hidden",children:M},h),o=Io(o,h,a,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=md(a),o.childLanes=pd(t,T,a),n.memoizedState=dd,vu(null,o)):(js(n),gd(n,M))}var G=t.memoizedState;if(G!==null&&(M=G.dehydrated,M!==null)){if(m)n.flags&256?(js(n),n.flags&=-257,n=yd(t,n,a)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),M=o.fallback,h=n.mode,o=jc({mode:"visible",children:o.children},h),M=Io(M,h,a,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,ko(n,t.child,null,a),o=n.child,o.memoizedState=md(a),o.childLanes=pd(t,T,a),n.memoizedState=dd,n=vu(null,o));else if(js(n),$d(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var le=T.dgst;T=le,o=Error(s(419)),o.stack="",o.digest=T,su({value:o,source:null,stack:null}),n=yd(t,n,a)}else if(ci||ll(t,n,a,!1),T=(a&t.childLanes)!==0,ci||T){if(T=Mn,T!==null&&(o=Ar(T,a),o!==0&&o!==G.retryLane))throw G.retryLane=o,sr(t,o),Er(T,t,o),hd;Kd(M)||Qc(),n=yd(t,n,a)}else Kd(M)?(n.flags|=192,n.child=t.child,n=null):(t=G.treeContext,Ln=Jr(M.nextSibling),Di=n,tn=!0,Ns=null,Kr=!1,t!==null&&Jp(n,t),n=gd(n,o.children),n.flags|=4096);return n}return h?(zs(),M=o.fallback,h=n.mode,G=t.child,le=G.sibling,o=Ja(G,{mode:"hidden",children:o.children}),o.subtreeFlags=G.subtreeFlags&65011712,le!==null?M=Ja(le,M):(M=Io(M,h,a,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,vu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=md(a):(h=M.cachePool,h!==null?(G=li._currentValue,h=h.parent!==G?{parent:G,pool:G}:h):h=rg(),M={baseLanes:M.baseLanes|a,cachePool:h}),o.memoizedState=M,o.childLanes=pd(t,T,a),n.memoizedState=dd,vu(t.child,o)):(js(n),a=t.child,t=a.sibling,a=Ja(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=a,n.memoizedState=null,a)}function gd(t,n){return n=jc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function jc(t,n){return t=Gi(22,t,null,n),t.lanes=0,t}function yd(t,n,a){return ko(n,t.child,null,a),t=gd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Df(t.return,n,a)}function vd(t,n,a,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function vy(t,n,a){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=ii.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Ae(ii,T),Vi(t,n,o,a),o=tn?au:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,a,n);else if(t.tag===19)yy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),vd(n,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Cc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}vd(n,!0,a,null,m,o);break;case"together":vd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ll(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ja(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ja(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function _d(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function k1(t,n,a){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),ks(n,li,t.memoizedState.cache),xo();break;case 27:case 5:Dt(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,qf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(js(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gy(t,n,a):(js(n),t=rs(t,n,a),t!==null?t.sibling:null);js(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ll(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return vy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ae(ii,ii.current),o)break;return null;case 22:return n.lanes=0,cy(t,n,a,n.pendingProps);case 24:ks(n,li,t.memoizedState.cache)}return rs(t,n,a)}function _y(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)ci=!0;else{if(!_d(t,a)&&(n.flags&128)===0)return ci=!1,k1(t,n,a);ci=(t.flags&131072)!==0}else ci=!1,tn&&(n.flags&1048576)!==0&&$p(n,au,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=No(n.elementType),n.type=t,typeof t=="function")Af(t)?(o=Lo(t,o),n.tag=1,n=my(null,n,t,o,a)):(n.tag=0,n=fd(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ke){n.tag=11,n=oy(null,n,t,o,a);break e}else if(h===F){n.tag=14,n=ly(null,n,t,o,a);break e}}throw n=Q(t)||t,Error(s(306,n,""))}}return n;case 0:return fd(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Lo(o,n.pendingProps),my(t,n,o,h,a);case 3:e:{if(ht(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,jf(t,n),du(n,o,null,a);var T=n.memoizedState;if(o=T.cache,ks(n,li,o),o!==m.cache&&Nf(n,[li],a,!0),fu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=py(t,n,o,a);break e}else if(o!==h){h=Xr(Error(s(424)),n),su(h),n=py(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ln=Jr(t.firstChild),Di=n,tn=!0,Ns=null,Kr=!0,a=cg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xo(),o===h){n=rs(t,n,a);break e}Vi(t,n,o,a)}n=n.child}return n;case 26:return Uc(t,n),t===null?(a=Mv(n.type,null,n.pendingProps,null))?n.memoizedState=a:tn||(a=n.type,t=n.pendingProps,o=th(Fe.current).createElement(a),o[vn]=n,o[Hn]=t,ki(o,a,t),te(o),n.stateNode=o):n.memoizedState=Mv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Dt(n),t===null&&tn&&(o=n.stateNode=Cv(n.type,n.pendingProps,Fe.current),Di=n,Kr=!0,h=Ln,Qs(n.type)?(Jd=h,Ln=Jr(o.firstChild)):Ln=h),Vi(t,n,n.pendingProps.children,a),Uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&tn&&((h=o=Ln)&&(o=hE(o,n.type,n.pendingProps,Kr),o!==null?(n.stateNode=o,Di=n,Ln=Jr(o.firstChild),Kr=!1,h=!0):h=!1),h||Vs(n)),Dt(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Xd(h,m)?o=null:T!==null&&Xd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=Yf(t,n,R1,null,null,a),Nu._currentValue=h),Uc(t,n),Vi(t,n,o,a),n.child;case 6:return t===null&&tn&&((t=a=Ln)&&(a=fE(a,n.pendingProps,Kr),a!==null?(n.stateNode=a,Di=n,Ln=null,t=!0):t=!1),t||Vs(n)),null;case 13:return gy(t,n,a);case 4:return ht(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ko(n,null,o,a):Vi(t,n,o,a),n.child;case 11:return oy(t,n,n.type,n.pendingProps,a);case 7:return Vi(t,n,n.pendingProps,a),n.child;case 8:return Vi(t,n,n.pendingProps.children,a),n.child;case 12:return Vi(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ks(n,n.type,o.value),Vi(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Oo(n),h=Ni(h),o=o(h),n.flags|=1,Vi(t,n,o,a),n.child;case 14:return ly(t,n,n.type,n.pendingProps,a);case 15:return uy(t,n,n.type,n.pendingProps,a);case 19:return vy(t,n,a);case 31:return V1(t,n,a);case 22:return cy(t,n,a,n.pendingProps);case 24:return Oo(n),o=Ni(li),t===null?(h=Pf(),h===null&&(h=Mn,m=Vf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:o,cache:h},Uf(n),ks(n,li,h)):((t.lanes&a)!==0&&(jf(t,n),du(n,null,null,a),fu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ks(n,li,o)):(o=m.cache,ks(n,li,o),o!==h.cache&&Nf(n,[li],a,!0))),Vi(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function as(t){t.flags|=4}function bd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw Vo=Tc,Lf}else t.flags&=-16777217}function by(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kv(n))if(Yy())t.flags|=8192;else throw Vo=Tc,Lf}function zc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?pt():536870912,t.lanes|=n,bl|=n)}function _u(t,n){if(!tn)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Un(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function P1(t,n,a){var o=n.pendingProps;switch(If(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(n),null;case 1:return Un(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ts(li),_t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ol(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mf())),Un(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(as(n),m!==null?(Un(n),by(n,m)):(Un(n),bd(n,h,null,o,a))):m?m!==t.memoizedState?(as(n),Un(n),by(n,m)):(Un(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(n),Un(n),bd(n,h,t,o,a)),null;case 27:if(cn(n),a=Fe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Un(n),null}t=ye.current,ol(n)?Zp(n):(t=Cv(h,o,a),n.stateNode=t,as(n))}return Un(n),null;case 5:if(cn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Un(n),null}if(m=ye.current,ol(n))Zp(n);else{var T=th(Fe.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[vn]=n,m[Hn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(ki(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(n)}}return Un(n),bd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Fe.current,ol(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Di,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[vn]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||gv(t.nodeValue,a)),t||Vs(n,!0)}else t=th(t).createTextNode(o),t[vn]=n,n.stateNode=t}return Un(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=ol(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vn]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Un(n),t=!1}else a=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(kr(n),n):(kr(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Un(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ol(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vn]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Un(n),h=!1}else h=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kr(n),n):(kr(n),null)}return kr(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),zc(n,n.updateQueue),Un(n),null);case 4:return _t(),t===null&&Fd(n.stateNode.containerInfo),Un(n),null;case 10:return ts(n.type),Un(n),null;case 19:if(re(ii),o=n.memoizedState,o===null)return Un(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)_u(o,!1);else{if(Kn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Cc(t),m!==null){for(n.flags|=128,_u(o,!1),t=m.updateQueue,n.updateQueue=t,zc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Qp(a,t),a=a.sibling;return Ae(ii,ii.current&1|2),tn&&Za(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&on()>Gc&&(n.flags|=128,h=!0,_u(o,!1),n.lanes=4194304)}else{if(!h)if(t=Cc(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,zc(n,t),_u(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!tn)return Un(n),null}else 2*on()-o.renderingStartTime>Gc&&a!==536870912&&(n.flags|=128,h=!0,_u(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=on(),t.sibling=null,a=ii.current,Ae(ii,h?a&1|2:a&1),tn&&Za(n,o.treeForkCount),t):(Un(n),null);case 22:case 23:return kr(n),Hf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Un(n),n.subtreeFlags&6&&(n.flags|=8192)):Un(n),a=n.updateQueue,a!==null&&zc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&re(Do),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ts(li),Un(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function L1(t,n){switch(If(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ts(li),_t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return cn(n),null;case 31:if(n.memoizedState!==null){if(kr(n),n.alternate===null)throw Error(s(340));xo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return re(ii),null;case 4:return _t(),null;case 10:return ts(n.type),null;case 22:case 23:return kr(n),Hf(),t!==null&&re(Do),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ts(li),null;case 25:return null;default:return null}}function wy(t,n){switch(If(n),n.tag){case 3:ts(li),_t();break;case 26:case 27:case 5:cn(n);break;case 4:_t();break;case 31:n.memoizedState!==null&&kr(n);break;case 13:kr(n);break;case 19:re(ii);break;case 10:ts(n.type);break;case 22:case 23:kr(n),Hf(),t!==null&&re(Do);break;case 24:ts(li)}}function bu(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,T=a.inst;o=m(),T.destroy=o}a=a.next}while(a!==h)}}catch(M){Sn(n,n.return,M)}}function Bs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,h=n;var G=a,le=M;try{le()}catch(pe){Sn(h,G,pe)}}}o=o.next}while(o!==m)}}catch(pe){Sn(n,n.return,pe)}}function Ey(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{fg(n,a)}catch(o){Sn(t,t.return,o)}}}function Ty(t,n,a){a.props=Lo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Sn(t,n,o)}}function wu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Sn(t,n,h)}}function xa(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Sn(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Sn(t,n,h)}else a.current=null}function Ay(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Sn(t,t.return,h)}}function wd(t,n,a){try{var o=t.stateNode;aE(o,t.type,a,n),o[Hn]=n}catch(h){Sn(t,t.return,h)}}function Sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qs(t.type)||t.tag===4}function Ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ur));else if(o!==4&&(o===27&&Qs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Td(t,n,a),t=t.sibling;t!==null;)Td(t,n,a),t=t.sibling}function Bc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Qs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bc(t,n,a),t=t.sibling;t!==null;)Bc(t,n,a),t=t.sibling}function Ry(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ki(n,o,a),n[vn]=t,n[Hn]=a}catch(m){Sn(t,t.return,m)}}var ss=!1,hi=!1,Ad=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Ei=null;function U1(t,n){if(t=t.containerInfo,Gd=lh,t=J(t),Pe(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,M=-1,G=-1,le=0,pe=0,we=t,ce=null;t:for(;;){for(var me;we!==a||h!==0&&we.nodeType!==3||(M=T+h),we!==m||o!==0&&we.nodeType!==3||(G=T+o),we.nodeType===3&&(T+=we.nodeValue.length),(me=we.firstChild)!==null;)ce=we,we=me;for(;;){if(we===t)break t;if(ce===a&&++le===h&&(M=T),ce===m&&++pe===o&&(G=T),(me=we.nextSibling)!==null)break;we=ce,ce=we.parentNode}we=me}a=M===-1||G===-1?null:{start:M,end:G}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},lh=!1,Ei=n;Ei!==null;)if(n=Ei,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ei=t;else for(;Ei!==null;){switch(n=Ei,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var it=Lo(a.type,h);t=o.getSnapshotBeforeUpdate(it,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(bt){Sn(a,a.return,bt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ei=t;break}Ei=n.return}}function Iy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ls(t,a),o&4&&bu(5,a);break;case 1:if(ls(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){Sn(a,a.return,T)}else{var h=Lo(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Sn(a,a.return,T)}}o&64&&Ey(a),o&512&&wu(a,a.return);break;case 3:if(ls(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{fg(t,n)}catch(T){Sn(a,a.return,T)}}break;case 27:n===null&&o&4&&Ry(a);case 26:case 5:ls(t,a),n===null&&o&4&&Ay(a),o&512&&wu(a,a.return);break;case 12:ls(t,a);break;case 31:ls(t,a),o&4&&Oy(t,a);break;case 13:ls(t,a),o&4&&Dy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=X1.bind(null,a),dE(t,a))));break;case 22:if(o=a.memoizedState!==null||ss,!o){n=n!==null&&n.memoizedState!==null||hi,h=ss;var m=hi;ss=o,(hi=n)&&!m?us(t,a,(a.subtreeFlags&8772)!==0):ls(t,a),ss=h,hi=m}break;case 30:break;default:ls(t,a)}}function xy(t){var n=t.alternate;n!==null&&(t.alternate=null,xy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&_i(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Bn=null,vr=!1;function os(t,n,a){for(a=a.child;a!==null;)My(t,n,a),a=a.sibling}function My(t,n,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(We,a)}catch{}switch(a.tag){case 26:hi||xa(a,n),os(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:hi||xa(a,n);var o=Bn,h=vr;Qs(a.type)&&(Bn=a.stateNode,vr=!1),os(t,n,a),Mu(a.stateNode),Bn=o,vr=h;break;case 5:hi||xa(a,n);case 6:if(o=Bn,h=vr,Bn=null,os(t,n,a),Bn=o,vr=h,Bn!==null)if(vr)try{(Bn.nodeType===9?Bn.body:Bn.nodeName==="HTML"?Bn.ownerDocument.body:Bn).removeChild(a.stateNode)}catch(m){Sn(a,n,m)}else try{Bn.removeChild(a.stateNode)}catch(m){Sn(a,n,m)}break;case 18:Bn!==null&&(vr?(t=Bn,Ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Il(t)):Ev(Bn,a.stateNode));break;case 4:o=Bn,h=vr,Bn=a.stateNode.containerInfo,vr=!0,os(t,n,a),Bn=o,vr=h;break;case 0:case 11:case 14:case 15:Bs(2,a,n),hi||Bs(4,a,n),os(t,n,a);break;case 1:hi||(xa(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,n,o)),os(t,n,a);break;case 21:os(t,n,a);break;case 22:hi=(o=hi)||a.memoizedState!==null,os(t,n,a),hi=o;break;default:os(t,n,a)}}function Oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Il(t)}catch(a){Sn(n,n.return,a)}}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(a){Sn(n,n.return,a)}}function j1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Cy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Cy),n;default:throw Error(s(435,t.tag))}}function Fc(t,n){var a=j1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Q1.bind(null,t,o);o.then(h,h)}})}function _r(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(Qs(M.type)){Bn=M.stateNode,vr=!1;break e}break;case 5:Bn=M.stateNode,vr=!1;break e;case 3:case 4:Bn=M.stateNode.containerInfo,vr=!0;break e}M=M.return}if(Bn===null)throw Error(s(160));My(m,T,h),Bn=null,vr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ny(n,t),n=n.sibling}var fa=null;function Ny(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_r(n,t),br(t),o&4&&(Bs(3,t,t.return),bu(3,t),Bs(5,t,t.return));break;case 1:_r(n,t),br(t),o&512&&(hi||a===null||xa(a,a.return)),o&64&&ss&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=fa;if(_r(n,t),br(t),o&512&&(hi||a===null||xa(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Qn]||m[vn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),ki(m,o,a),m[vn]=t,te(m),o=m;break e;case"link":var T=Nv("link","href",h).get(o+(a.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(M,1);break t}}m=h.createElement(o),ki(m,o,a),h.head.appendChild(m);break;case"meta":if(T=Nv("meta","content",h).get(o+(a.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(M,1);break t}}m=h.createElement(o),ki(m,o,a),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[vn]=t,te(m),o=m}t.stateNode=o}else Vv(h,t.type,t.stateNode);else t.stateNode=Dv(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Vv(h,t.type,t.stateNode):Dv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&wd(t,t.memoizedProps,a.memoizedProps)}break;case 27:_r(n,t),br(t),o&512&&(hi||a===null||xa(a,a.return)),a!==null&&o&4&&wd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_r(n,t),br(t),o&512&&(hi||a===null||xa(a,a.return)),t.flags&32){h=t.stateNode;try{oi(h,"")}catch(it){Sn(t,t.return,it)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,wd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Ad=!0);break;case 6:if(_r(n,t),br(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(it){Sn(t,t.return,it)}}break;case 3:if(rh=null,h=fa,fa=nh(n.containerInfo),_r(n,t),fa=h,br(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(it){Sn(t,t.return,it)}Ad&&(Ad=!1,Vy(t));break;case 4:o=fa,fa=nh(t.stateNode.containerInfo),_r(n,t),br(t),fa=o;break;case 12:_r(n,t),br(t);break;case 31:_r(n,t),br(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 13:_r(n,t),br(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qc=on()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 22:h=t.memoizedState!==null;var G=a!==null&&a.memoizedState!==null,le=ss,pe=hi;if(ss=le||h,hi=pe||G,_r(n,t),hi=pe,ss=le,br(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||G||ss||hi||Uo(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){G=a=n;try{if(m=G.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=G.stateNode;var we=G.memoizedProps.style,ce=we!=null&&we.hasOwnProperty("display")?we.display:null;M.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(it){Sn(G,G.return,it)}}}else if(n.tag===6){if(a===null){G=n;try{G.stateNode.nodeValue=h?"":G.memoizedProps}catch(it){Sn(G,G.return,it)}}}else if(n.tag===18){if(a===null){G=n;try{var me=G.stateNode;h?Tv(me,!0):Tv(G.stateNode,!1)}catch(it){Sn(G,G.return,it)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Fc(t,a))));break;case 19:_r(n,t),br(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 30:break;case 21:break;default:_r(n,t),br(t)}}function br(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Sy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Ed(t);Bc(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(oi(T,""),a.flags&=-33);var M=Ed(t);Bc(t,M,T);break;case 3:case 4:var G=a.stateNode.containerInfo,le=Ed(t);Td(t,le,G);break;default:throw Error(s(161))}}catch(pe){Sn(t,t.return,pe)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ls(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function Uo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Uo(n);break;case 1:xa(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ty(n,n.return,a),Uo(n);break;case 27:Mu(n.stateNode);case 26:case 5:xa(n,n.return),Uo(n);break;case 22:n.memoizedState===null&&Uo(n);break;case 30:Uo(n);break;default:Uo(n)}t=t.sibling}}function us(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:us(h,m,a),bu(4,m);break;case 1:if(us(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(le){Sn(o,o.return,le)}if(o=m,h=o.updateQueue,h!==null){var M=o.stateNode;try{var G=h.shared.hiddenCallbacks;if(G!==null)for(h.shared.hiddenCallbacks=null,h=0;h<G.length;h++)hg(G[h],M)}catch(le){Sn(o,o.return,le)}}a&&T&64&&Ey(m),wu(m,m.return);break;case 27:Ry(m);case 26:case 5:us(h,m,a),a&&o===null&&T&4&&Ay(m),wu(m,m.return);break;case 12:us(h,m,a);break;case 31:us(h,m,a),a&&T&4&&Oy(h,m);break;case 13:us(h,m,a),a&&T&4&&Dy(h,m);break;case 22:m.memoizedState===null&&us(h,m,a),wu(m,m.return);break;case 30:break;default:us(h,m,a)}n=n.sibling}}function Sd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ou(a))}function Rd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ou(t))}function da(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ky(t,n,a,o),n=n.sibling}function ky(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:da(t,n,a,o),h&2048&&bu(9,n);break;case 1:da(t,n,a,o);break;case 3:da(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ou(t)));break;case 12:if(h&2048){da(t,n,a,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(G){Sn(n,n.return,G)}}else da(t,n,a,o);break;case 31:da(t,n,a,o);break;case 13:da(t,n,a,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?da(t,n,a,o):Eu(t,n):m._visibility&2?da(t,n,a,o):(m._visibility|=2,yl(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Sd(T,n);break;case 24:da(t,n,a,o),h&2048&&Rd(n.alternate,n);break;default:da(t,n,a,o)}}function yl(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=a,G=o,le=T.flags;switch(T.tag){case 0:case 11:case 15:yl(m,T,M,G,h),bu(8,T);break;case 23:break;case 22:var pe=T.stateNode;T.memoizedState!==null?pe._visibility&2?yl(m,T,M,G,h):Eu(m,T):(pe._visibility|=2,yl(m,T,M,G,h)),h&&le&2048&&Sd(T.alternate,T);break;case 24:yl(m,T,M,G,h),h&&le&2048&&Rd(T.alternate,T);break;default:yl(m,T,M,G,h)}n=n.sibling}}function Eu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Eu(a,o),h&2048&&Sd(o.alternate,o);break;case 24:Eu(a,o),h&2048&&Rd(o.alternate,o);break;default:Eu(a,o)}n=n.sibling}}var Tu=8192;function vl(t,n,a){if(t.subtreeFlags&Tu)for(t=t.child;t!==null;)Py(t,n,a),t=t.sibling}function Py(t,n,a){switch(t.tag){case 26:vl(t,n,a),t.flags&Tu&&t.memoizedState!==null&&SE(a,fa,t.memoizedState,t.memoizedProps);break;case 5:vl(t,n,a);break;case 3:case 4:var o=fa;fa=nh(t.stateNode.containerInfo),vl(t,n,a),fa=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Tu,Tu=16777216,vl(t,n,a),Tu=o):vl(t,n,a));break;default:vl(t,n,a)}}function Ly(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Au(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ei=o,jy(o,t)}Ly(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uy(t),t=t.sibling}function Uy(t){switch(t.tag){case 0:case 11:case 15:Au(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:Au(t);break;case 12:Au(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Hc(t)):Au(t);break;default:Au(t)}}function Hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ei=o,jy(o,t)}Ly(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),Hc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(n));break;default:Hc(n)}t=t.sibling}}function jy(t,n){for(;Ei!==null;){var a=Ei;switch(a.tag){case 0:case 11:case 15:Bs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ou(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ei=o;else e:for(a=t;Ei!==null;){o=Ei;var h=o.sibling,m=o.return;if(xy(o),o===a){Ei=null;break e}if(h!==null){h.return=m,Ei=h;break e}Ei=m}}}var z1={getCacheForType:function(t){var n=Ni(li),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ni(li).controller.signal}},B1=typeof WeakMap=="function"?WeakMap:Map,yn=0,Mn=null,Gt=null,Qt=0,An=0,Pr=null,Fs=!1,_l=!1,Cd=!1,cs=0,Kn=0,Hs=0,jo=0,Id=0,Lr=0,bl=0,Su=null,wr=null,xd=!1,qc=0,zy=0,Gc=1/0,Yc=null,qs=null,yi=0,Gs=null,wl=null,hs=0,Md=0,Od=null,By=null,Ru=0,Dd=null;function Ur(){return(yn&2)!==0&&Qt!==0?Qt&-Qt:H.T!==null?Ud():ra()}function Fy(){if(Lr===0)if((Qt&536870912)===0||tn){var t=Yn;Yn<<=1,(Yn&3932160)===0&&(Yn=262144),Lr=t}else Lr=536870912;return t=Vr.current,t!==null&&(t.flags|=32),Lr}function Er(t,n,a){(t===Mn&&(An===2||An===9)||t.cancelPendingCommit!==null)&&(El(t,0),Ys(t,Qt,Lr,!1)),Rt(t,a),((yn&2)===0||t!==Mn)&&(t===Mn&&((yn&2)===0&&(jo|=a),Kn===4&&Ys(t,Qt,Lr,!1)),Ma(t))}function Hy(t,n,a){if((yn&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Xn(t,n),h=o?q1(t,n):Vd(t,n,!0),m=o;do{if(h===0){_l&&!o&&Ys(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!F1(a)){h=Vd(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;h=Su;var G=M.current.memoizedState.isDehydrated;if(G&&(El(M,T).flags|=256),T=Vd(M,T,!1),T!==2){if(Cd&&!G){M.errorRecoveryDisabledLanes|=m,jo|=m,h=4;break e}m=wr,wr=h,m!==null&&(wr===null?wr=m:wr.push.apply(wr,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){El(t,0),Ys(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,Lr,!Fs);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=qc+300-on(),10<h)){if(Ys(o,n,Lr,!Fs),Vn(o,0,!0)!==0)break e;hs=n,o.timeoutHandle=bv(qy.bind(null,o,a,wr,Yc,xd,n,Lr,jo,bl,Fs,m,"Throttled",-0,0),h);break e}qy(o,a,wr,Yc,xd,n,Lr,jo,bl,Fs,m,null,-0,0)}}break}while(!0);Ma(t)}function qy(t,n,a,o,h,m,T,M,G,le,pe,we,ce,me){if(t.timeoutHandle=-1,we=n.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ur},Py(n,m,we);var it=(m&62914560)===m?qc-on():(m&4194048)===m?zy-on():0;if(it=RE(we,it),it!==null){hs=m,t.cancelPendingCommit=it(Jy.bind(null,t,n,m,a,o,h,T,M,G,pe,we,null,ce,me)),Ys(t,m,T,!le);return}}Jy(t,n,m,a,o,h,T,M,G)}function F1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!ue(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,a,o){n&=~Id,n&=~jo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-Je(h),T=1<<m;o[m]=-1,h&=~T}a!==0&&zi(t,a,n)}function Xc(){return(yn&6)===0?(Cu(0),!1):!0}function Nd(){if(Gt!==null){if(An===0)var t=Gt.return;else t=Gt,es=Mo=null,Wf(t),fl=null,uu=0,t=Gt;for(;t!==null;)wy(t.alternate,t),t=t.return;Gt=null}}function El(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,lE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hs=0,Nd(),Mn=t,Gt=a=Ja(t.current,null),Qt=n,An=0,Pr=null,Fs=!1,_l=Xn(t,n),Cd=!1,bl=Lr=Id=jo=Hs=Kn=0,wr=Su=null,xd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Je(o),m=1<<h;n|=t[h],o&=~m}return cs=n,Sa(),a}function Gy(t,n){Pt=null,H.H=yu,n===hl||n===Ec?(n=og(),An=3):n===Lf?(n=og(),An=4):An=n===hd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pr=n,Gt===null&&(Kn=1,Pc(t,Xr(n,t.current)))}function Yy(){var t=Vr.current;return t===null?!0:(Qt&4194048)===Qt?$r===null:(Qt&62914560)===Qt||(Qt&536870912)!==0?t===$r:!1}function Xy(){var t=H.H;return H.H=yu,t===null?yu:t}function Qy(){var t=H.A;return H.A=z1,t}function Qc(){Kn=4,Fs||(Qt&4194048)!==Qt&&Vr.current!==null||(_l=!0),(Hs&134217727)===0&&(jo&134217727)===0||Mn===null||Ys(Mn,Qt,Lr,!1)}function Vd(t,n,a){var o=yn;yn|=2;var h=Xy(),m=Qy();(Mn!==t||Qt!==n)&&(Yc=null,El(t,n)),n=!1;var T=Kn;e:do try{if(An!==0&&Gt!==null){var M=Gt,G=Pr;switch(An){case 8:Nd(),T=6;break e;case 3:case 2:case 9:case 6:Vr.current===null&&(n=!0);var le=An;if(An=0,Pr=null,Tl(t,M,G,le),a&&_l){T=0;break e}break;default:le=An,An=0,Pr=null,Tl(t,M,G,le)}}H1(),T=Kn;break}catch(pe){Gy(t,pe)}while(!0);return n&&t.shellSuspendCounter++,es=Mo=null,yn=o,H.H=h,H.A=m,Gt===null&&(Mn=null,Qt=0,Sa()),T}function H1(){for(;Gt!==null;)Wy(Gt)}function q1(t,n){var a=yn;yn|=2;var o=Xy(),h=Qy();Mn!==t||Qt!==n?(Yc=null,Gc=on()+500,El(t,n)):_l=Xn(t,n);e:do try{if(An!==0&&Gt!==null){n=Gt;var m=Pr;t:switch(An){case 1:An=0,Pr=null,Tl(t,n,m,1);break;case 2:case 9:if(ag(m)){An=0,Pr=null,Ky(n);break}n=function(){An!==2&&An!==9||Mn!==t||(An=7),Ma(t)},m.then(n,n);break e;case 3:An=7;break e;case 4:An=5;break e;case 7:ag(m)?(An=0,Pr=null,Ky(n)):(An=0,Pr=null,Tl(t,n,m,7));break;case 5:var T=null;switch(Gt.tag){case 26:T=Gt.memoizedState;case 5:case 27:var M=Gt;if(T?kv(T):M.stateNode.complete){An=0,Pr=null;var G=M.sibling;if(G!==null)Gt=G;else{var le=M.return;le!==null?(Gt=le,Wc(le)):Gt=null}break t}}An=0,Pr=null,Tl(t,n,m,5);break;case 6:An=0,Pr=null,Tl(t,n,m,6);break;case 8:Nd(),Kn=6;break e;default:throw Error(s(462))}}G1();break}catch(pe){Gy(t,pe)}while(!0);return es=Mo=null,H.H=o,H.A=h,yn=a,Gt!==null?0:(Mn=null,Qt=0,Sa(),Kn)}function G1(){for(;Gt!==null&&!Ri();)Wy(Gt)}function Wy(t){var n=_y(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?Wc(t):Gt=n}function Ky(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=dy(a,n,n.pendingProps,n.type,void 0,Qt);break;case 11:n=dy(a,n,n.pendingProps,n.type.render,n.ref,Qt);break;case 5:Wf(n);default:wy(a,n),n=Gt=Qp(n,cs),n=_y(a,n,cs)}t.memoizedProps=t.pendingProps,n===null?Wc(t):Gt=n}function Tl(t,n,a,o){es=Mo=null,Wf(n),fl=null,uu=0;var h=n.return;try{if(N1(t,h,n,a,Qt)){Kn=1,Pc(t,Xr(a,t.current)),Gt=null;return}}catch(m){if(h!==null)throw Gt=h,m;Kn=1,Pc(t,Xr(a,t.current)),Gt=null;return}n.flags&32768?(tn||o===1?t=!0:_l||(Qt&536870912)!==0?t=!1:(Fs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Vr.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,t)):Wc(n)}function Wc(t){var n=t;do{if((n.flags&32768)!==0){$y(n,Fs);return}t=n.return;var a=P1(n.alternate,n,cs);if(a!==null){Gt=a;return}if(n=n.sibling,n!==null){Gt=n;return}Gt=n=t}while(n!==null);Kn===0&&(Kn=5)}function $y(t,n){do{var a=L1(t.alternate,t);if(a!==null){a.flags&=32767,Gt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=a}while(t!==null);Kn=6,Gt=null}function Jy(t,n,a,o,h,m,T,M,G){t.cancelPendingCommit=null;do Kc();while(yi!==0);if((yn&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=rl,$i(t,a,m,T,M,G),t===Mn&&(Gt=Mn=null,Qt=0),wl=n,Gs=t,hs=a,Md=m,Od=h,By=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,W1(v,function(){return iv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=ee.p,ee.p=2,T=yn,yn|=4;try{U1(t,n,a)}finally{yn=T,ee.p=h,H.T=o}}yi=1,Zy(),ev(),tv()}}function Zy(){if(yi===1){yi=0;var t=Gs,n=wl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=ee.p;ee.p=2;var h=yn;yn|=4;try{Ny(n,t);var m=Yd,T=J(t.containerInfo),M=m.focusedElem,G=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&nt(M.ownerDocument.documentElement,M)){if(G!==null&&Pe(M)){var le=G.start,pe=G.end;if(pe===void 0&&(pe=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(pe,M.value.length);else{var we=M.ownerDocument||document,ce=we&&we.defaultView||window;if(ce.getSelection){var me=ce.getSelection(),it=M.textContent.length,bt=Math.min(G.start,it),In=G.end===void 0?bt:Math.min(G.end,it);!me.extend&&bt>In&&(T=In,In=bt,bt=T);var Z=Ye(M,bt),X=Ye(M,In);if(Z&&X&&(me.rangeCount!==1||me.anchorNode!==Z.node||me.anchorOffset!==Z.offset||me.focusNode!==X.node||me.focusOffset!==X.offset)){var se=we.createRange();se.setStart(Z.node,Z.offset),me.removeAllRanges(),bt>In?(me.addRange(se),me.extend(X.node,X.offset)):(se.setEnd(X.node,X.offset),me.addRange(se))}}}}for(we=[],me=M;me=me.parentNode;)me.nodeType===1&&we.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<we.length;M++){var be=we[M];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}lh=!!Gd,Yd=Gd=null}finally{yn=h,ee.p=o,H.T=a}}t.current=n,yi=2}}function ev(){if(yi===2){yi=0;var t=Gs,n=wl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=ee.p;ee.p=2;var h=yn;yn|=4;try{Iy(t,n.alternate,n)}finally{yn=h,ee.p=o,H.T=a}}yi=3}}function tv(){if(yi===4||yi===3){yi=0,$n();var t=Gs,n=wl,a=hs,o=By;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?yi=5:(yi=0,wl=Gs=null,nv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qs=null),Ge(a),n=n.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(We,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=ee.p,ee.p=2,H.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{H.T=n,ee.p=h}}(hs&3)!==0&&Kc(),Ma(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Dd?Ru++:(Ru=0,Dd=t):Ru=0,Cu(0)}}function nv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ou(n)))}function Kc(){return Zy(),ev(),tv(),iv()}function iv(){if(yi!==5)return!1;var t=Gs,n=Md;Md=0;var a=Ge(hs),o=H.T,h=ee.p;try{ee.p=32>a?32:a,H.T=null,a=Od,Od=null;var m=Gs,T=hs;if(yi=0,wl=Gs=null,hs=0,(yn&6)!==0)throw Error(s(331));var M=yn;if(yn|=4,Uy(m.current),ky(m,m.current,T,a),yn=M,Cu(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(We,m)}catch{}return!0}finally{ee.p=h,H.T=o,nv(t,n)}}function rv(t,n,a){n=Xr(a,n),n=cd(t.stateNode,n,2),t=Us(t,n,2),t!==null&&(Rt(t,2),Ma(t))}function Sn(t,n,a){if(t.tag===3)rv(t,t,a);else for(;n!==null;){if(n.tag===3){rv(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){t=Xr(a,t),a=ay(2),o=Us(n,a,2),o!==null&&(sy(a,o,n,t),Rt(o,2),Ma(o));break}}n=n.return}}function kd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new B1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Cd=!0,h.add(a),t=Y1.bind(null,t,n,a),n.then(t,t))}function Y1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Mn===t&&(Qt&a)===a&&(Kn===4||Kn===3&&(Qt&62914560)===Qt&&300>on()-qc?(yn&2)===0&&El(t,0):Id|=a,bl===Qt&&(bl=0)),Ma(t)}function av(t,n){n===0&&(n=pt()),t=sr(t,n),t!==null&&(Rt(t,n),Ma(t))}function X1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),av(t,a)}function Q1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),av(t,a)}function W1(t,n){return nn(t,n)}var $c=null,Al=null,Pd=!1,Jc=!1,Ld=!1,Xs=0;function Ma(t){t!==Al&&t.next===null&&(Al===null?$c=Al=t:Al=Al.next=t),Jc=!0,Pd||(Pd=!0,$1())}function Cu(t,n){if(!Ld&&Jc){Ld=!0;do for(var a=!1,o=$c;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-Je(42|t)+1)-1,m&=h&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,uv(o,m))}else m=Qt,m=Vn(o,o===Mn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Xn(o,m)||(a=!0,uv(o,m));o=o.next}while(a);Ld=!1}}function K1(){sv()}function sv(){Jc=Pd=!1;var t=0;Xs!==0&&oE()&&(t=Xs);for(var n=on(),a=null,o=$c;o!==null;){var h=o.next,m=ov(o,n);m===0?(o.next=null,a===null?$c=h:a.next=h,h===null&&(Al=a)):(a=o,(t!==0||(m&3)!==0)&&(Jc=!0)),o=h}yi!==0&&yi!==5||Cu(t),Xs!==0&&(Xs=0)}function ov(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Je(m),M=1<<T,G=h[T];G===-1?((M&a)===0||(M&o)!==0)&&(h[T]=ji(M,n)):G<=n&&(t.expiredLanes|=M),m&=~M}if(n=Mn,a=Qt,a=Vn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(An===2||An===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&mn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&mn(o),Ge(a)){case 2:case 8:a=g;break;case 32:a=v;break;case 268435456:a=W;break;default:a=v}return o=lv.bind(null,t),a=nn(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&mn(o),t.callbackPriority=2,t.callbackNode=null,2}function lv(t,n){if(yi!==0&&yi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Kc()&&t.callbackNode!==a)return null;var o=Qt;return o=Vn(t,t===Mn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Hy(t,o,n),ov(t,on()),t.callbackNode!=null&&t.callbackNode===a?lv.bind(null,t):null)}function uv(t,n){if(Kc())return null;Hy(t,n,!0)}function $1(){uE(function(){(yn&6)!==0?nn(R,K1):sv()})}function Ud(){if(Xs===0){var t=ul;t===0&&(t=zn,zn<<=1,(zn&261888)===0&&(zn=256)),Xs=t}return Xs}function cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function hv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function J1(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var m=cv((h[Hn]||null).action),T=o.submitter;T&&(n=(n=T[Hn]||null)?cv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new Gr("action","action",null,o,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xs!==0){var G=T?hv(h,T):new FormData(h);rd(a,{pending:!0,data:G,method:h.method,action:m},null,G)}}else typeof m=="function"&&(M.preventDefault(),G=T?hv(h,T):new FormData(h),rd(a,{pending:!0,data:G,method:h.method,action:m},m,G))},currentTarget:h}]})}}for(var jd=0;jd<ar.length;jd++){var zd=ar[jd],Z1=zd.toLowerCase(),eE=zd[0].toUpperCase()+zd.slice(1);wn(Z1,"on"+eE)}wn(Oe,"onAnimationEnd"),wn(qe,"onAnimationIteration"),wn(zt,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Xt,"onTransitionRun"),wn(Vt,"onTransitionStart"),wn(qt,"onTransitionCancel"),wn(rn,"onTransitionEnd"),Ne("onMouseEnter",["mouseout","mouseover"]),Ne("onMouseLeave",["mouseout","mouseover"]),Ne("onPointerEnter",["pointerout","pointerover"]),Ne("onPointerLeave",["pointerout","pointerover"]),Me("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Me("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Me("onBeforeInput",["compositionend","keypress","textInput","paste"]),Me("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Me("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Me("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function fv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],G=M.instance,le=M.currentTarget;if(M=M.listener,G!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(pe){Oi(pe)}h.currentTarget=null,m=G}else for(T=0;T<o.length;T++){if(M=o[T],G=M.instance,le=M.currentTarget,M=M.listener,G!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(pe){Oi(pe)}h.currentTarget=null,m=G}}}}function Yt(t,n){var a=n[Sr];a===void 0&&(a=n[Sr]=new Set);var o=t+"__bubble";a.has(o)||(dv(n,t,2,!1),a.add(o))}function Bd(t,n,a){var o=0;n&&(o|=4),dv(a,t,o,n)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[Zc]){t[Zc]=!0,_e.forEach(function(a){a!=="selectionchange"&&(tE.has(a)||Bd(a,!1,t),Bd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Zc]||(n[Zc]=!0,Bd("selectionchange",!1,n))}}function dv(t,n,a,o){switch(Fv(n)){case 2:var h=xE;break;case 8:h=ME;break;default:h=im}a=h.bind(null,n,a,t),h=void 0,!Hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Hd(t,n,a,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===h)break;if(T===4)for(T=o.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;M!==null;){if(T=Bi(M),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){o=m=T;continue e}M=M.parentNode}}o=o.return}dr(function(){var le=m,pe=cr(a),we=[];e:{var ce=un.get(t);if(ce!==void 0){var me=Gr,it=t;switch(t){case"keypress":if(la(a)===0)break e;case"keydown":case"keyup":me=So;break;case"focusin":it="focus",me=Ta;break;case"focusout":it="blur",me=Ta;break;case"beforeblur":case"afterblur":me=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=$o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=y;break;case Oe:case qe:case zt:me=Jo;break;case rn:me=N;break;case"scroll":case"scrollend":me=Ao;break;case"wheel":me=fe;break;case"copy":case"cut":case"paste":me=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ca;break;case"toggle":case"beforetoggle":me=St}var bt=(n&4)!==0,In=!bt&&(t==="scroll"||t==="scrollend"),Z=bt?ce!==null?ce+"Capture":null:ce;bt=[];for(var X=le,se;X!==null;){var be=X;if(se=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||se===null||Z===null||(be=xi(X,Z),be!=null&&bt.push(xu(X,be,se))),In)break;X=X.return}0<bt.length&&(ce=new me(ce,it,null,a,pe),we.push({event:ce,listeners:bt}))}}if((n&7)===0){e:{if(ce=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",ce&&a!==Rs&&(it=a.relatedTarget||a.fromElement)&&(Bi(it)||it[Jn]))break e;if((me||ce)&&(ce=pe.window===pe?pe:(ce=pe.ownerDocument)?ce.defaultView||ce.parentWindow:window,me?(it=a.relatedTarget||a.toElement,me=le,it=it?Bi(it):null,it!==null&&(In=c(it),bt=it.tag,it!==In||bt!==5&&bt!==27&&bt!==6)&&(it=null)):(me=null,it=le),me!==it)){if(bt=Cs,be="onMouseLeave",Z="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(bt=ca,be="onPointerLeave",Z="onPointerEnter",X="pointer"),In=me==null?ce:Ci(me),se=it==null?ce:Ci(it),ce=new bt(be,X+"leave",me,a,pe),ce.target=In,ce.relatedTarget=se,be=null,Bi(pe)===le&&(bt=new bt(Z,X+"enter",it,a,pe),bt.target=se,bt.relatedTarget=In,be=bt),In=be,me&&it)t:{for(bt=nE,Z=me,X=it,se=0,be=Z;be;be=bt(be))se++;be=0;for(var dt=X;dt;dt=bt(dt))be++;for(;0<se-be;)Z=bt(Z),se--;for(;0<be-se;)X=bt(X),be--;for(;se--;){if(Z===X||X!==null&&Z===X.alternate){bt=Z;break t}Z=bt(Z),X=bt(X)}bt=null}else bt=null;me!==null&&mv(we,ce,me,bt,!1),it!==null&&In!==null&&mv(we,In,it,bt,!0)}}e:{if(ce=le?Ci(le):window,me=ce.nodeName&&ce.nodeName.toLowerCase(),me==="select"||me==="input"&&ce.type==="file")var fn=nu;else if(tu(ce))if(iu)fn=K;else{fn=O;var st=S}else me=ce.nodeName,!me||me.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&Fa(le.elementType)&&(fn=nu):fn=j;if(fn&&(fn=fn(t,le))){Pn(we,fn,a,pe);break e}st&&st(t,ce,le),t==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&Ss(ce,"number",ce.value)}switch(st=le?Ci(le):window,t){case"focusin":(tu(st)||st.contentEditable==="true")&&(ze=st,hn=le,Xe=null);break;case"focusout":Xe=hn=ze=null;break;case"mousedown":jt=!0;break;case"contextmenu":case"mouseup":case"dragend":jt=!1,bn(we,a,pe);break;case"selectionchange":if(Ze)break;case"keydown":case"keyup":bn(we,a,pe)}var Lt;if(ln)e:{switch(t){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else Qa?Yr(t,a)&&(Wt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Wt="onCompositionStart");Wt&&(pr&&a.locale!=="ko"&&(Qa||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&Qa&&(Lt=wa()):(qr=pe,Hi="value"in qr?qr.value:qr.textContent,Qa=!0)),st=eh(le,Wt),0<st.length&&(Wt=new Or(Wt,t,null,a,pe),we.push({event:Wt,listeners:st}),Lt?Wt.data=Lt:(Lt=Xa(a),Lt!==null&&(Wt.data=Lt)))),(Lt=qi?Ef(t,a):pc(t,a))&&(Wt=eh(le,"onBeforeInput"),0<Wt.length&&(st=new Or("onBeforeInput","beforeinput",null,a,pe),we.push({event:st,listeners:Wt}),st.data=Lt)),J1(we,t,le,a,pe)}fv(we,n)})}function xu(t,n,a){return{instance:t,listener:n,currentTarget:a}}function eh(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=xi(t,a),h!=null&&o.unshift(xu(t,h,m)),h=xi(t,n),h!=null&&o.push(xu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function nE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mv(t,n,a,o,h){for(var m=n._reactName,T=[];a!==null&&a!==o;){var M=a,G=M.alternate,le=M.stateNode;if(M=M.tag,G!==null&&G===o)break;M!==5&&M!==26&&M!==27||le===null||(G=le,h?(le=xi(a,m),le!=null&&T.unshift(xu(a,le,G))):h||(le=xi(a,m),le!=null&&T.push(xu(a,le,G)))),a=a.return}T.length!==0&&t.push({event:n,listeners:T})}var iE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function pv(t){return(typeof t=="string"?t:""+t).replace(iE,`
`).replace(rE,"")}function gv(t,n){return n=pv(n),pv(t)===n}function Cn(t,n,a,o,h,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||oi(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&oi(t,""+o);break;case"className":At(t,"class",o);break;case"tabIndex":At(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":At(t,a,o);break;case"style":Rr(t,o,m);break;case"data":if(n!=="object"){At(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ba(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Cn(t,n,"name",h.name,h,null),Cn(t,n,"formEncType",h.formEncType,h,null),Cn(t,n,"formMethod",h.formMethod,h,null),Cn(t,n,"formTarget",h.formTarget,h,null)):(Cn(t,n,"encType",h.encType,h,null),Cn(t,n,"method",h.method,h,null),Cn(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ba(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ur);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Yt("beforetoggle",t),Yt("toggle",t),rt(t,"popover",o);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":rt(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_a.get(a)||a,rt(t,a,o))}}function qd(t,n,a,o,h,m){switch(a){case"style":Rr(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?oi(t,o):(typeof o=="number"||typeof o=="bigint")&&oi(t,""+o);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ee.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=t[Hn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):rt(t,a,o)}}}function ki(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",t),Yt("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Cn(t,n,m,T,a,null)}}h&&Cn(t,n,"srcSet",a.srcSet,a,null),o&&Cn(t,n,"src",a.src,a,null);return;case"input":Yt("invalid",t);var M=m=T=h=null,G=null,le=null;for(o in a)if(a.hasOwnProperty(o)){var pe=a[o];if(pe!=null)switch(o){case"name":h=pe;break;case"type":T=pe;break;case"checked":G=pe;break;case"defaultChecked":le=pe;break;case"value":m=pe;break;case"defaultValue":M=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,n));break;default:Cn(t,n,o,pe,a,null)}}To(t,m,M,G,le,T,h,!1);return;case"select":Yt("invalid",t),o=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(M=a[h],M!=null))switch(h){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:Cn(t,n,h,M,a,null)}n=m,a=T,t.multiple=!!o,n!=null?_n(t,!!o,n,!1):a!=null&&_n(t,!!o,a,!0);return;case"textarea":Yt("invalid",t),m=h=o=null;for(T in a)if(a.hasOwnProperty(T)&&(M=a[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":h=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Cn(t,n,T,M,a,null)}Fr(t,o,h,m);return;case"option":for(G in a)if(a.hasOwnProperty(G)&&(o=a[G],o!=null))switch(G){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Cn(t,n,G,o,a,null)}return;case"dialog":Yt("beforetoggle",t),Yt("toggle",t),Yt("cancel",t),Yt("close",t);break;case"iframe":case"object":Yt("load",t);break;case"video":case"audio":for(o=0;o<Iu.length;o++)Yt(Iu[o],t);break;case"image":Yt("error",t),Yt("load",t);break;case"details":Yt("toggle",t);break;case"embed":case"source":case"link":Yt("error",t),Yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in a)if(a.hasOwnProperty(le)&&(o=a[le],o!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Cn(t,n,le,o,a,null)}return;default:if(Fa(n)){for(pe in a)a.hasOwnProperty(pe)&&(o=a[pe],o!==void 0&&qd(t,n,pe,o,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!=null&&Cn(t,n,M,o,a,null))}function aE(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,M=null,G=null,le=null,pe=null;for(me in a){var we=a[me];if(a.hasOwnProperty(me)&&we!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":G=we;default:o.hasOwnProperty(me)||Cn(t,n,me,null,o,we)}}for(var ce in o){var me=o[ce];if(we=a[ce],o.hasOwnProperty(ce)&&(me!=null||we!=null))switch(ce){case"type":m=me;break;case"name":h=me;break;case"checked":le=me;break;case"defaultChecked":pe=me;break;case"value":T=me;break;case"defaultValue":M=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(s(137,n));break;default:me!==we&&Cn(t,n,ce,me,o,we)}}za(t,T,M,G,le,pe,m,h);return;case"select":me=T=M=ce=null;for(m in a)if(G=a[m],a.hasOwnProperty(m)&&G!=null)switch(m){case"value":break;case"multiple":me=G;default:o.hasOwnProperty(m)||Cn(t,n,m,null,o,G)}for(h in o)if(m=o[h],G=a[h],o.hasOwnProperty(h)&&(m!=null||G!=null))switch(h){case"value":ce=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==G&&Cn(t,n,h,m,o,G)}n=M,a=T,o=me,ce!=null?_n(t,!!a,ce,!1):!!o!=!!a&&(n!=null?_n(t,!!a,n,!0):_n(t,!!a,a?[]:"",!1));return;case"textarea":me=ce=null;for(M in a)if(h=a[M],a.hasOwnProperty(M)&&h!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Cn(t,n,M,null,o,h)}for(T in o)if(h=o[T],m=a[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":ce=h;break;case"defaultValue":me=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Cn(t,n,T,h,o,m)}va(t,ce,me);return;case"option":for(var it in a)if(ce=a[it],a.hasOwnProperty(it)&&ce!=null&&!o.hasOwnProperty(it))switch(it){case"selected":t.selected=!1;break;default:Cn(t,n,it,null,o,ce)}for(G in o)if(ce=o[G],me=a[G],o.hasOwnProperty(G)&&ce!==me&&(ce!=null||me!=null))switch(G){case"selected":t.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Cn(t,n,G,ce,o,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)ce=a[bt],a.hasOwnProperty(bt)&&ce!=null&&!o.hasOwnProperty(bt)&&Cn(t,n,bt,null,o,ce);for(le in o)if(ce=o[le],me=a[le],o.hasOwnProperty(le)&&ce!==me&&(ce!=null||me!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,n));break;default:Cn(t,n,le,ce,o,me)}return;default:if(Fa(n)){for(var In in a)ce=a[In],a.hasOwnProperty(In)&&ce!==void 0&&!o.hasOwnProperty(In)&&qd(t,n,In,void 0,o,ce);for(pe in o)ce=o[pe],me=a[pe],!o.hasOwnProperty(pe)||ce===me||ce===void 0&&me===void 0||qd(t,n,pe,ce,o,me);return}}for(var Z in a)ce=a[Z],a.hasOwnProperty(Z)&&ce!=null&&!o.hasOwnProperty(Z)&&Cn(t,n,Z,null,o,ce);for(we in o)ce=o[we],me=a[we],!o.hasOwnProperty(we)||ce===me||ce==null&&me==null||Cn(t,n,we,ce,o,me)}function yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,T=h.initiatorType,M=h.duration;if(m&&M&&yv(T)){for(T=0,M=h.responseEnd,o+=1;o<a.length;o++){var G=a[o],le=G.startTime;if(le>M)break;var pe=G.transferSize,we=G.initiatorType;pe&&yv(we)&&(G=G.responseEnd,T+=pe*(G<M?1:(M-le)/(G-le)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gd=null,Yd=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qd=null;function oE(){var t=window.event;return t&&t.type==="popstate"?t===Qd?!1:(Qd=t,!0):(Qd=null,!1)}var bv=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,uE=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(cE)}:bv;function cE(t){setTimeout(function(){throw t})}function Qs(t){return t==="head"}function Ev(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Il(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Mu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Mu(a);for(var m=a.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[Qn]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&Mu(t.ownerDocument.body);a=h}while(a);Il(n)}function Tv(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Wd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wd(a),_i(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function hE(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Qn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Jr(t.nextSibling),t===null)break}return null}function fE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jr(t.nextSibling),t===null))return null;return t}function Av(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jr(t.nextSibling),t===null))return null;return t}function Kd(t){return t.data==="$?"||t.data==="$~"}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function dE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Jr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Jd=null;function Sv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Jr(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Rv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Cv(t,n,a){switch(n=th(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Mu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);_i(t)}var Zr=new Map,Iv=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fs=ee.d;ee.d={f:mE,r:pE,D:gE,C:yE,L:vE,m:_E,X:wE,S:bE,M:EE};function mE(){var t=fs.f(),n=Xc();return t||n}function pE(t){var n=Fi(t);n!==null&&n.tag===5&&n.type==="form"?Gg(n):fs.r(t)}var Sl=typeof document>"u"?null:document;function xv(t,n,a){var o=Sl;if(o&&typeof n=="string"&&n){var h=kn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Iv.has(h)||(Iv.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ki(n,"link",t),te(n),o.head.appendChild(n)))}}function gE(t){fs.D(t),xv("dns-prefetch",t,null)}function yE(t,n){fs.C(t,n),xv("preconnect",t,n)}function vE(t,n,a){fs.L(t,n,a);var o=Sl;if(o&&t&&n){var h='link[rel="preload"][as="'+kn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+kn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+kn(a.imageSizes)+'"]')):h+='[href="'+kn(t)+'"]';var m=h;switch(n){case"style":m=Rl(t);break;case"script":m=Cl(t)}Zr.has(m)||(t=L({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Zr.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ou(m))||n==="script"&&o.querySelector(Du(m))||(n=o.createElement("link"),ki(n,"link",t),te(n),o.head.appendChild(n)))}}function _E(t,n){fs.m(t,n);var a=Sl;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+kn(o)+'"][href="'+kn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Cl(t)}if(!Zr.has(m)&&(t=L({rel:"modulepreload",href:t},n),Zr.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Du(m)))return}o=a.createElement("link"),ki(o,"link",t),te(o),a.head.appendChild(o)}}}function bE(t,n,a){fs.S(t,n,a);var o=Sl;if(o&&t){var h=bi(o).hoistableStyles,m=Rl(t);n=n||"default";var T=h.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Ou(m)))M.loading=5;else{t=L({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Zr.get(m))&&Zd(t,a);var G=T=o.createElement("link");te(G),ki(G,"link",t),G._p=new Promise(function(le,pe){G.onload=le,G.onerror=pe}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,ih(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},h.set(m,T)}}}function wE(t,n){fs.X(t,n);var a=Sl;if(a&&t){var o=bi(a).hoistableScripts,h=Cl(t),m=o.get(h);m||(m=a.querySelector(Du(h)),m||(t=L({src:t,async:!0},n),(n=Zr.get(h))&&em(t,n),m=a.createElement("script"),te(m),ki(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function EE(t,n){fs.M(t,n);var a=Sl;if(a&&t){var o=bi(a).hoistableScripts,h=Cl(t),m=o.get(h);m||(m=a.querySelector(Du(h)),m||(t=L({src:t,async:!0,type:"module"},n),(n=Zr.get(h))&&em(t,n),m=a.createElement("script"),te(m),ki(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Mv(t,n,a,o){var h=(h=Fe.current)?nh(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Rl(a.href),a=bi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Rl(a.href);var m=bi(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Ou(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Zr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zr.set(t,a),m||TE(h,t,a,T.state))),n&&o===null)throw Error(s(528,""));return T}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cl(a),a=bi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Rl(t){return'href="'+kn(t)+'"'}function Ou(t){return'link[rel="stylesheet"]['+t+"]"}function Ov(t){return L({},t,{"data-precedence":t.precedence,precedence:null})}function TE(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ki(n,"link",a),te(n),t.head.appendChild(n))}function Cl(t){return'[src="'+kn(t)+'"]'}function Du(t){return"script[async]"+t}function Dv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+kn(a.href)+'"]');if(o)return n.instance=o,te(o),o;var h=L({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),te(o),ki(o,"style",h),ih(o,a.precedence,t),n.instance=o;case"stylesheet":h=Rl(a.href);var m=t.querySelector(Ou(h));if(m)return n.state.loading|=4,n.instance=m,te(m),m;o=Ov(a),(h=Zr.get(h))&&Zd(o,h),m=(t.ownerDocument||t).createElement("link"),te(m);var T=m;return T._p=new Promise(function(M,G){T.onload=M,T.onerror=G}),ki(m,"link",o),n.state.loading|=4,ih(m,a.precedence,t),n.instance=m;case"script":return m=Cl(a.src),(h=t.querySelector(Du(m)))?(n.instance=h,te(h),h):(o=a,(h=Zr.get(m))&&(o=L({},a),em(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),te(h),ki(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ih(o,a.precedence,t));return n.instance}function ih(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Zd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function em(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var rh=null;function Nv(t,n,a){if(rh===null){var o=new Map,h=rh=new Map;h.set(a,o)}else h=rh,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[Qn]||m[vn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function Vv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function AE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function SE(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Rl(o.href),m=n.querySelector(Ou(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ah.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=m,te(m);return}m=n.ownerDocument||n,o=Ov(o),(h=Zr.get(h))&&Zd(o,h),m=m.createElement("link"),te(m);var T=m;T._p=new Promise(function(M,G){T.onload=M,T.onerror=G}),ki(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ah.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var tm=0;function RE(t,n){return t.stylesheets&&t.count===0&&oh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&tm===0&&(tm=62500*sE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>tm?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function oh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,n.forEach(CE,t),sh=null,ah.call(t))}function CE(t,n){if(!(n.state.loading&4)){var a=sh.get(t);if(a)var o=a.get(null);else{a=new Map,sh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),o=T)}o&&a.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||o,m===o&&a.set(null,h),a.set(T,h),this.count++,o=ah.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Nu={$$typeof:Be,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function IE(t,n,a,o,h,m,T,M,G){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Pv(t,n,a,o,h,m,T,M,G,le,pe,we){return t=new IE(t,n,a,T,G,le,pe,we,M),n=1,m===!0&&(n|=24),m=Gi(3,null,null,n),t.current=m,m.stateNode=t,n=Vf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},Uf(m),t}function Lv(t){return t?(t=Nr,t):Nr}function Uv(t,n,a,o,h,m){h=Lv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Us(t,o,n),a!==null&&(Er(a,t,n),hu(a,t,n))}function jv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function nm(t,n){jv(t,n),(t=t.alternate)&&jv(t,n)}function zv(t){if(t.tag===13||t.tag===31){var n=sr(t,67108864);n!==null&&Er(n,t,67108864),nm(t,67108864)}}function Bv(t){if(t.tag===13||t.tag===31){var n=Ur();n=Br(n);var a=sr(t,n);a!==null&&Er(a,t,n),nm(t,n)}}var lh=!0;function xE(t,n,a,o){var h=H.T;H.T=null;var m=ee.p;try{ee.p=2,im(t,n,a,o)}finally{ee.p=m,H.T=h}}function ME(t,n,a,o){var h=H.T;H.T=null;var m=ee.p;try{ee.p=8,im(t,n,a,o)}finally{ee.p=m,H.T=h}}function im(t,n,a,o){if(lh){var h=rm(o);if(h===null)Hd(t,n,o,uh,a),Hv(t,o);else if(DE(h,t,n,a,o))o.stopPropagation();else if(Hv(t,o),n&4&&-1<OE.indexOf(t)){for(;h!==null;){var m=Fi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=On(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var G=1<<31-Je(T);M.entanglements[1]|=G,T&=~G}Ma(m),(yn&6)===0&&(Gc=on()+500,Cu(0))}}break;case 31:case 13:M=sr(m,2),M!==null&&Er(M,m,2),Xc(),nm(m,2)}if(m=rm(o),m===null&&Hd(t,n,o,uh,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else Hd(t,n,o,null,a)}}function rm(t){return t=cr(t),am(t)}var uh=null;function am(t){if(uh=null,t=Bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=b(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return uh=t,null}function Fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case R:return 2;case g:return 8;case v:case D:return 32;case W:return 268435456;default:return 32}default:return 32}}var sm=!1,Ws=null,Ks=null,$s=null,Vu=new Map,ku=new Map,Js=[],OE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hv(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Vu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(n.pointerId)}}function Pu(t,n,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Fi(n),n!==null&&zv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function DE(t,n,a,o,h){switch(n){case"focusin":return Ws=Pu(Ws,t,n,a,o,h),!0;case"dragenter":return Ks=Pu(Ks,t,n,a,o,h),!0;case"mouseover":return $s=Pu($s,t,n,a,o,h),!0;case"pointerover":var m=h.pointerId;return Vu.set(m,Pu(Vu.get(m)||null,t,n,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,ku.set(m,Pu(ku.get(m)||null,t,n,a,o,h)),!0}return!1}function qv(t){var n=Bi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,Ji(t.priority,function(){Bv(a)});return}}else if(n===31){if(n=b(a),n!==null){t.blockedOn=n,Ji(t.priority,function(){Bv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=rm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Rs=o,a.target.dispatchEvent(o),Rs=null}else return n=Fi(a),n!==null&&zv(n),t.blockedOn=a,!1;n.shift()}return!0}function Gv(t,n,a){ch(t)&&a.delete(n)}function NE(){sm=!1,Ws!==null&&ch(Ws)&&(Ws=null),Ks!==null&&ch(Ks)&&(Ks=null),$s!==null&&ch($s)&&($s=null),Vu.forEach(Gv),ku.forEach(Gv)}function hh(t,n){t.blockedOn===n&&(t.blockedOn=null,sm||(sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,NE)))}var fh=null;function Yv(t){fh!==t&&(fh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fh===t&&(fh=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(am(o||a)===null)continue;break}var m=Fi(a);m!==null&&(t.splice(n,3),n-=3,rd(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Il(t){function n(G){return hh(G,t)}Ws!==null&&hh(Ws,t),Ks!==null&&hh(Ks,t),$s!==null&&hh($s,t),Vu.forEach(n),ku.forEach(n);for(var a=0;a<Js.length;a++){var o=Js[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)qv(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],T=h[Hn]||null;if(typeof m=="function")T||Yv(a);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[Hn]||null)M=T.formAction;else if(am(h)!==null)continue}else M=T.action;typeof M=="function"?a[o+1]=M:(a.splice(o,3),o-=3),Yv(a)}}}function Xv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function om(t){this._internalRoot=t}dh.prototype.render=om.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Ur();Uv(a,o,t,n,null,null)},dh.prototype.unmount=om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Uv(t.current,2,null,t,null,null),Xc(),n[Jn]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var n=ra();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Js.length&&n!==0&&n<Js[a].priority;a++);Js.splice(a,0,t),a===0&&qv(t)}};var Qv=e.version;if(Qv!=="19.2.0")throw Error(s(527,Qv,"19.2.0"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=E(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var VE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{We=mh.inject(VE),$e=mh}catch{}}return Uu.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=ty,m=ny,T=iy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Pv(t,1,!1,null,null,a,o,null,h,m,T,Xv),t[Jn]=n.current,Fd(t),new om(n)},Uu.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",m=ty,T=ny,M=iy,G=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(G=a.formState)),n=Pv(t,1,!0,n,a??null,o,h,G,m,T,M,Xv),n.context=Lv(null),a=n.current,o=Ur(),o=Br(o),h=Ls(o),h.callback=null,Us(a,h,o),a=o,n.current.lanes=a,Rt(n,a),Ma(n),t[Jn]=n.current,Fd(t),new dh(n)},Uu.version="19.2.0",Uu}var r_;function qE(){if(r_)return cm.exports;r_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=HE(),cm.exports}var GE=qE();const YE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),a_=r=>{const e=XE(r);return e.charAt(0).toUpperCase()+e.slice(1)},X0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),QE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KE=vt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},w)=>vt.createElement("svg",{ref:w,...WE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:X0("lucide",l),...!c&&!QE(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,x])=>vt.createElement(E,x)),...Array.isArray(c)?c:[c]]));const Si=(r,e)=>{const i=vt.forwardRef(({className:s,...l},c)=>vt.createElement(KE,{ref:c,iconNode:e,className:X0(`lucide-${YE(a_(r))}`,`lucide-${r}`,s),...l}));return i.displayName=a_(r),i};const $E=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],JE=Si("arrow-down-a-z",$E);const ZE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],eT=Si("book-open",ZE);const tT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],nT=Si("check-check",tT);const iT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rT=Si("check",iT);const aT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sT=Si("chevron-right",aT);const oT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lT=Si("circle-alert",oT);const uT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],s_=Si("crown",uT);const cT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],o_=Si("file-text",cT);const hT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fT=Si("info",hT);const dT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mT=Si("mail",dT);const pT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],gT=Si("play",pT);const yT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vT=Si("rotate-ccw",yT);const _T=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],bT=Si("share-2",_T);const wT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],ET=Si("shuffle",wT);const TT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],mm=Si("sparkles",TT);const AT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pm=Si("star",AT);const ST=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],l_=Si("trophy",ST);const RT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CT=Si("x",RT);var gm={},Eh={exports:{}},IT=Eh.exports,u_;function xT(){return u_||(u_=1,(function(r,e){(function(s,l){r.exports=l()})(IT,()=>(()=>{var i=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>x});var E=(()=>{var L=typeof document<"u"?document.currentScript?.src:void 0;return(function(q={}){var ne,U=q,xe,Re,Le=new Promise((f,d)=>{xe=f,Re=d}),Ue=typeof window=="object",Be=typeof importScripts=="function";function Ke(){function f(K){const $=S;_=d=0,S=new Map,$.forEach(ue=>{try{ue(K)}catch(oe){console.error(oe)}}),this.nb(),O&&O.Pb()}let d=0,_=0,S=new Map,O=null,j=null;this.requestAnimationFrame=function(K){d||=requestAnimationFrame(f.bind(this));const $=++_;return S.set($,K),$},this.cancelAnimationFrame=function(K){S.delete(K),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(K){j&&(document.body.remove(j),j=null),K||(j=document.createElement("div"),j.style.backgroundColor="black",j.style.position="fixed",j.style.right=0,j.style.top=0,j.style.color="white",j.style.padding="4px",j.innerHTML="RIVE FPS",K=function($){j.innerHTML="RIVE FPS "+$.toFixed(1)},document.body.appendChild(j)),O=new function(){let $=0,ue=0;this.Pb=function(){var oe=performance.now();ue?(++$,oe-=ue,1e3<oe&&(K(1e3*$/oe),$=ue=0)):(ue=oe,$=0)}}},this.Kb=function(){j&&(document.body.remove(j),j=null),O=null},this.nb=function(){}}function ot(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const at=U.onRuntimeInitialized;U.onRuntimeInitialized=function(){at&&at();let f=U.decodeAudio;U.decodeAudio=function(O,j){O=f(O),j(O)};let d=U.decodeFont;U.decodeFont=function(O,j){O=d(O),j(O)};const _=U.FileAssetLoader;U.ptrToAsset=O=>{let j=U.ptrToFileAsset(O);return j.isImage?U.ptrToImageAsset(O):j.isFont?U.ptrToFontAsset(O):j.isAudio?U.ptrToAudioAsset(O):j},U.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:O}){this.__parent.__construct.call(this),this.Db=O},loadContents:function(O,j){return O=U.ptrToAsset(O),this.Db(O,j)}}),U.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(O){let j=U.ptrToAsset(O);return O=j.cdnUuid,O===""?!1:((function(K,$){var ue=new XMLHttpRequest;ue.responseType="arraybuffer",ue.onreadystatechange=function(){ue.readyState==4&&ue.status==200&&$(ue)},ue.open("GET",K,!0),ue.send(null)})(j.cdnBaseUrl+"/"+O,K=>{j.decode(new Uint8Array(K.response))}),!0)}}),U.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(O){this.jb.push(O)},loadContents:function(O,j){for(let K of this.jb)if(K.loadContents(O,j))return!0;return!1}});let S=U.computeAlignment;U.computeAlignment=function(O,j,K,$,ue=1){return S.call(this,O,j,K,$,ue)}};const F="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),B=new function(){function f(){if(!d){let hn=function(Xe,jt,bn){if(jt=ze.createShader(jt),ze.shaderSource(jt,bn),ze.compileShader(jt),bn=ze.getShaderInfoLog(jt),0<(bn||"").length)throw bn;ze.attachShader(Xe,jt)};var Ze=hn,J=document.createElement("canvas"),Pe={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let ze;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(ze=J.getContext("webgl",Pe),_=1,!ze)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(ze=J.getContext("webgl2",Pe))_=2;else if(ze=J.getContext("webgl",Pe))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(ze=new Proxy(ze,{get(Xe,jt){if(Xe.isContextLost()){if(ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",jt),ue=!0),typeof Xe[jt]=="function")return function(){}}else return typeof Xe[jt]=="function"?function(...bn){return Xe[jt].apply(Xe,bn)}:Xe[jt]},set(Xe,jt,bn){if(Xe.isContextLost())ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+jt),ue=!0);else return Xe[jt]=bn,!0}}),S=Math.min(ze.getParameter(ze.MAX_RENDERBUFFER_SIZE),ze.getParameter(ze.MAX_TEXTURE_SIZE)),J=ze.createProgram(),hn(J,ze.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),hn(J,ze.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),ze.bindAttribLocation(J,0,"vertex"),ze.bindAttribLocation(J,1,"uv"),ze.linkProgram(J),Pe=ze.getProgramInfoLog(J),0<(Pe||"").trim().length)throw Pe;O=ze.getUniformLocation(J,"mat"),j=ze.getUniformLocation(J,"translate"),ze.useProgram(J),ze.bindBuffer(ze.ARRAY_BUFFER,ze.createBuffer()),ze.enableVertexAttribArray(0),ze.enableVertexAttribArray(1),ze.bindBuffer(ze.ELEMENT_ARRAY_BUFFER,ze.createBuffer()),ze.uniform1i(ze.getUniformLocation(J,"image"),0),ze.pixelStorei(ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=ze}return!0}let d=null,_=0,S=0,O=null,j=null,K=0,$=0,ue=!1;f(),this.ac=function(){return f(),S},this.Jb=function(J){d.deleteTexture&&d.deleteTexture(J)},this.Ib=function(J){if(!f())return null;const Pe=d.createTexture();return Pe?(d.bindTexture(d.TEXTURE_2D,Pe),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,J),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),Pe):null};const oe=new ot(8),De=new ot(8),Ye=new ot(10),nt=new ot(10);this.Mb=function(J,Pe,Ze,ze,hn){if(f()){var Xe=oe.push(J),jt=De.push(Pe);if(d.canvas){(d.canvas.width!=Xe||d.canvas.height!=jt)&&(d.canvas.width=Xe,d.canvas.height=jt),d.viewport(0,jt-Pe,J,Pe),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),Ze.sort((Ft,Dr)=>Dr.ub-Ft.ub),Xe=Ye.push(ze),K!=Xe&&(d.bufferData(d.ARRAY_BUFFER,8*Xe,d.DYNAMIC_DRAW),K=Xe),Xe=0;for(var bn of Ze)d.bufferSubData(d.ARRAY_BUFFER,Xe,bn.Sa),Xe+=4*bn.Sa.length;console.assert(Xe==4*ze);for(var ni of Ze)d.bufferSubData(d.ARRAY_BUFFER,Xe,ni.Ab),Xe+=4*ni.Ab.length;console.assert(Xe==8*ze),Xe=nt.push(hn),$!=Xe&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Xe,d.DYNAMIC_DRAW),$=Xe),bn=0;for(var yr of Ze)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,bn,yr.indices),bn+=2*yr.indices.length;console.assert(bn==2*hn),yr=0,ni=!0,Xe=bn=0;for(const Ft of Ze){Ft.image.Ia!=yr&&(d.bindTexture(d.TEXTURE_2D,Ft.image.Ha||null),yr=Ft.image.Ia),Ft.fc?(d.scissor(Ft.Ya,jt-Ft.Za-Ft.ib,Ft.tc,Ft.ib),ni=!0):ni&&(d.scissor(0,jt-Pe,J,Pe),ni=!1),Ze=2/J;const Dr=-2/Pe;d.uniform4f(O,Ft.ga[0]*Ze*Ft.za,Ft.ga[1]*Dr*Ft.Aa,Ft.ga[2]*Ze*Ft.za,Ft.ga[3]*Dr*Ft.Aa),d.uniform2f(j,Ft.ga[4]*Ze*Ft.za+Ze*(Ft.Ya-Ft.bc*Ft.za)-1,Ft.ga[5]*Dr*Ft.Aa+Dr*(Ft.Za-Ft.cc*Ft.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Xe),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Xe+4*ze),d.drawElements(d.TRIANGLES,Ft.indices.length,d.UNSIGNED_SHORT,bn),Xe+=4*Ft.Sa.length,bn+=2*Ft.indices.length}console.assert(Xe==4*ze),console.assert(bn==2*hn)}}},this.canvas=function(){return f()&&d.canvas}},k=U.onRuntimeInitialized;U.onRuntimeInitialized=function(){function f(Oe){switch(Oe){case oe.srcOver:return"source-over";case oe.screen:return"screen";case oe.overlay:return"overlay";case oe.darken:return"darken";case oe.lighten:return"lighten";case oe.colorDodge:return"color-dodge";case oe.colorBurn:return"color-burn";case oe.hardLight:return"hard-light";case oe.softLight:return"soft-light";case oe.difference:return"difference";case oe.exclusion:return"exclusion";case oe.multiply:return"multiply";case oe.hue:return"hue";case oe.saturation:return"saturation";case oe.color:return"color";case oe.luminosity:return"luminosity"}}function d(Oe){return"rgba("+((16711680&Oe)>>>16)+","+((65280&Oe)>>>8)+","+((255&Oe)>>>0)+","+((4278190080&Oe)>>>24)/255+")"}function _(){0<jt.length&&(B.Mb(Xe.drawWidth(),Xe.drawHeight(),jt,bn,ni),jt=[],ni=bn=0,Xe.reset(512,512));for(const Oe of hn){for(const qe of Oe.H)qe();Oe.H=[]}hn.clear()}k&&k();var S=U.RenderPaintStyle;const O=U.RenderPath,j=U.RenderPaint,K=U.Renderer,$=U.StrokeCap,ue=U.StrokeJoin,oe=U.BlendMode,De=S.fill,Ye=S.stroke,nt=U.FillRule.evenOdd;let J=1;var Pe=U.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:Oe,va:qe}={}){this.__parent.__construct.call(this),this.Ia=J,J=J+1&2147483647||1,this.ka=Oe,this.va=qe},__destruct:function(){this.Ha&&(B.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(Oe){var qe=this;qe.va&&qe.va(qe);var zt=new Image;qe.Va=URL.createObjectURL(new Blob([Oe],{type:"image/png"})),zt.onload=function(){qe.Cb=zt,qe.Ha=B.Ib(zt),qe.size(zt.width,zt.height),qe.ka&&qe.ka(qe)},zt.src=qe.Va}}),Ze=O.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(Oe,qe,zt,Xt,Vt,qt,rn){var un=this.T,ar=un.addPath;Oe=Oe.T;const wn=new DOMMatrix;wn.a=qe,wn.b=zt,wn.c=Xt,wn.d=Vt,wn.e=qt,wn.f=rn,ar.call(un,Oe,wn)},fillRule:function(Oe){this.Ua=Oe},moveTo:function(Oe,qe){this.T.moveTo(Oe,qe)},lineTo:function(Oe,qe){this.T.lineTo(Oe,qe)},cubicTo:function(Oe,qe,zt,Xt,Vt,qt){this.T.bezierCurveTo(Oe,qe,zt,Xt,Vt,qt)},close:function(){this.T.closePath()}}),ze=j.extend("CanvasRenderPaint",{color:function(Oe){this.Wa=d(Oe)},thickness:function(Oe){this.Fb=Oe},join:function(Oe){switch(Oe){case ue.miter:this.Ga="miter";break;case ue.round:this.Ga="round";break;case ue.bevel:this.Ga="bevel"}},cap:function(Oe){switch(Oe){case $.butt:this.Fa="butt";break;case $.round:this.Fa="round";break;case $.square:this.Fa="square"}},style:function(Oe){this.Eb=Oe},blendMode:function(Oe){this.Bb=f(Oe)},clearGradient:function(){this.ia=null},linearGradient:function(Oe,qe,zt,Xt){this.ia={wb:Oe,xb:qe,bb:zt,cb:Xt,Pa:[]}},radialGradient:function(Oe,qe,zt,Xt){this.ia={wb:Oe,xb:qe,bb:zt,cb:Xt,Pa:[],$b:!0}},addStop:function(Oe,qe){this.ia.Pa.push({color:Oe,stop:qe})},completeGradient:function(){},draw:function(Oe,qe,zt){let Xt=this.Eb;var Vt=this.Wa,qt=this.ia;if(Oe.globalCompositeOperation=this.Bb,qt!=null){Vt=qt.wb;var rn=qt.xb;const ar=qt.bb;var un=qt.cb;const wn=qt.Pa;qt.$b?(qt=ar-Vt,un-=rn,Vt=Oe.createRadialGradient(Vt,rn,0,Vt,rn,Math.sqrt(qt*qt+un*un))):Vt=Oe.createLinearGradient(Vt,rn,ar,un);for(let Oi=0,gn=wn.length;Oi<gn;Oi++)rn=wn[Oi],Vt.addColorStop(rn.stop,d(rn.color));this.Wa=Vt,this.ia=null}switch(Xt){case Ye:Oe.strokeStyle=Vt,Oe.lineWidth=this.Fb,Oe.lineCap=this.Fa,Oe.lineJoin=this.Ga,Oe.stroke(qe);break;case De:Oe.fillStyle=Vt,Oe.fill(qe,zt)}}});const hn=new Set;let Xe=null,jt=[],bn=0,ni=0;var yr=U.CanvasRenderer=K.extend("Renderer",{__construct:function(Oe){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=Oe.getContext("2d"),this.Ta=Oe,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const Oe=this.S.length-6;if(6>Oe)throw"restore() called without matching save().";this.S.splice(Oe),this.H.push(this.B.restore.bind(this.B))},transform:function(Oe,qe,zt,Xt,Vt,qt){const rn=this.S,un=rn.length-6;rn.splice(un,6,rn[un]*Oe+rn[un+2]*qe,rn[un+1]*Oe+rn[un+3]*qe,rn[un]*zt+rn[un+2]*Xt,rn[un+1]*zt+rn[un+3]*Xt,rn[un]*Vt+rn[un+2]*qt+rn[un+4],rn[un+1]*Vt+rn[un+3]*qt+rn[un+5]),this.H.push(this.B.transform.bind(this.B,Oe,qe,zt,Xt,Vt,qt))},rotate:function(Oe){const qe=Math.sin(Oe);Oe=Math.cos(Oe),this.transform(Oe,qe,-qe,Oe,0,0)},_drawPath:function(Oe,qe){this.H.push(qe.draw.bind(qe,this.B,Oe.T,Oe.Ua===nt?"evenodd":"nonzero"))},_drawRiveImage:function(Oe,qe,zt,Xt){var Vt=Oe.Cb;if(Vt){var qt=this.B,rn=f(zt);this.H.push(function(){qt.globalCompositeOperation=rn,qt.globalAlpha=Xt,qt.drawImage(Vt,0,0),qt.globalAlpha=1})}},_getMatrix:function(Oe){const qe=this.S,zt=qe.length-6;for(let Xt=0;6>Xt;++Xt)Oe[Xt]=qe[zt+Xt]},_drawImageMesh:function(Oe,qe,zt,Xt,Vt,qt,rn,un,ar,wn,Oi){qe=this.B.canvas.width;var gn=this.B.canvas.height;const $a=wn-un,rl=Oi-ar;un=Math.max(un,0),ar=Math.max(ar,0),wn=Math.min(wn,qe),Oi=Math.min(Oi,gn);const Sa=wn-un,Ra=Oi-ar;if(console.assert(Sa<=Math.min($a,qe)),console.assert(Ra<=Math.min(rl,gn)),!(0>=Sa||0>=Ra)){wn=Sa<$a||Ra<rl,qe=Oi=1;var ha=Math.ceil(Sa*Oi),sr=Math.ceil(Ra*qe);gn=B.ac(),ha>gn&&(Oi*=gn/ha,ha=gn),sr>gn&&(qe*=gn/sr,sr=gn),Xe||(Xe=new U.DynamicRectanizer(gn),Xe.reset(512,512)),gn=Xe.addRect(ha,sr),0>gn&&(_(),hn.add(this),gn=Xe.addRect(ha,sr),console.assert(0<=gn));var ru=gn&65535,Co=gn>>16;jt.push({ga:this.S.slice(this.S.length-6),image:Oe,Ya:ru,Za:Co,bc:un,cc:ar,tc:ha,ib:sr,za:Oi,Aa:qe,Sa:new Float32Array(Vt),Ab:new Float32Array(qt),indices:new Uint16Array(rn),fc:wn,ub:Oe.Ia<<1|(wn?1:0)}),bn+=Vt.length,ni+=rn.length;var Nr=this.B,Tf=f(zt);this.H.push(function(){Nr.save(),Nr.resetTransform(),Nr.globalCompositeOperation=Tf,Nr.globalAlpha=Xt;const Gi=B.canvas();Gi&&Nr.drawImage(Gi,ru,Co,ha,sr,un,ar,Sa,Ra),Nr.restore()})}},_clipPath:function(Oe){this.H.push(this.B.clip.bind(this.B,Oe.T,Oe.Ua===nt?"evenodd":"nonzero"))},clear:function(){hn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(Oe,qe){this.transform(1,0,0,1,Oe,qe)}});U.makeRenderer=function(Oe){const qe=new yr(Oe),zt=qe.B;return new Proxy(qe,{get(Xt,Vt){if(typeof Xt[Vt]=="function")return function(...qt){return Xt[Vt].apply(Xt,qt)};if(typeof zt[Vt]=="function"){if(-1<F.indexOf(Vt))throw Error("RiveException: Method call to '"+Vt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...qt){qe.H.push(zt[Vt].bind(zt,...qt))}}return Xt[Vt]},set(Xt,Vt,qt){if(Vt in zt)return qe.H.push(()=>{zt[Vt]=qt}),!0}})},U.decodeImage=function(Oe,qe){new Pe({ka:qe}).decode(Oe)},U.renderFactory={makeRenderPaint:function(){return new ze},makeRenderPath:function(){return new Ze},makeRenderImage:function(){let Oe=Dr;return new Pe({va:()=>{Oe.total++},ka:()=>{if(Oe.loaded++,Oe.loaded===Oe.total){const qe=Oe.ready;qe&&(qe(),Oe.ready=null)}}})}};let Ft=U.load,Dr=null;U.load=function(Oe,qe,zt=!0){const Xt=new U.FallbackFileAssetLoader;return qe!==void 0&&Xt.addLoader(qe),zt&&(qe=new U.CDNFileAssetLoader,Xt.addLoader(qe)),new Promise(function(Vt){let qt=null;Dr={total:0,loaded:0,ready:function(){Vt(qt)}},qt=Ft(Oe,Xt),Dr.total==0&&Vt(qt)})};let Ka=U.RendererWrapper.prototype.align;U.RendererWrapper.prototype.align=function(Oe,qe,zt,Xt,Vt=1){Ka.call(this,Oe,qe,zt,Xt,Vt)},S=new Ke,U.requestAnimationFrame=S.requestAnimationFrame.bind(S),U.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),U.enableFPSCounter=S.Nb.bind(S),U.disableFPSCounter=S.Kb,S.nb=_,U.resolveAnimationFrame=_,U.cleanup=function(){Xe&&Xe.delete()}};var z=Object.assign({},U),C="./this.program",V="",I,Q;(Ue||Be)&&(Be?V=self.location.href:typeof document<"u"&&document.currentScript&&(V=document.currentScript.src),L&&(V=L),V.startsWith("blob:")?V="":V=V.substr(0,V.replace(/[?#].*/,"").lastIndexOf("/")+1),Be&&(Q=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),I=(f,d,_)=>{if(si(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(O=>O.ok?O.arrayBuffer():Promise.reject(Error(O.status+" : "+O.url))).then(d,_)});var ae=U.print||console.log.bind(console),H=U.printErr||console.error.bind(console);Object.assign(U,z),z=null,U.thisProgram&&(C=U.thisProgram);var ee;U.wasmBinary&&(ee=U.wasmBinary);var ge,he=!1,Ce,P,re,Ae,ye,ve,Fe,lt;function ht(){var f=ge.buffer;U.HEAP8=Ce=new Int8Array(f),U.HEAP16=re=new Int16Array(f),U.HEAPU8=P=new Uint8Array(f),U.HEAPU16=Ae=new Uint16Array(f),U.HEAP32=ye=new Int32Array(f),U.HEAPU32=ve=new Uint32Array(f),U.HEAPF32=Fe=new Float32Array(f),U.HEAPF64=lt=new Float64Array(f)}var _t=[],Dt=[],cn=[];function ut(){var f=U.preRun.shift();_t.unshift(f)}var Tt=0,Zt=null;function Bt(f){throw U.onAbort?.(f),f="Aborted("+f+")",H(f),he=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Re(f),f}var Ut=f=>f.startsWith("data:application/octet-stream;base64,"),si=f=>f.startsWith("file://"),sn;function tt(f){if(f==sn&&ee)return new Uint8Array(ee);if(Q)return Q(f);throw"both async and sync fetching of the wasm failed"}function nn(f){return ee?Promise.resolve().then(()=>tt(f)):new Promise((d,_)=>{I(f,S=>d(new Uint8Array(S)),()=>{try{d(tt(f))}catch(S){_(S)}})})}function mn(f,d,_){return nn(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{H(`failed to asynchronously prepare wasm: ${S}`),Bt(S)})}function Ri(f,d){var _=sn;return ee||typeof WebAssembly.instantiateStreaming!="function"||Ut(_)||si(_)||typeof fetch!="function"?mn(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(O){return H(`wasm streaming compile failed: ${O}`),H("falling back to ArrayBuffer instantiation"),mn(_,f,d)}))}var $n,on,Tn={464256:(f,d,_,S,O)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=O;let j=window.h;j.D=[],j.rc=function(K){for(var $=0;$<j.D.length;++$)if(j.D[$]==null)return j.D[$]=K,$;return j.D.push(K),j.D.length-1},j.zb=function(K){for(j.D[K]=null;0<j.D.length&&j.D[j.D.length-1]==null;)j.D.pop()},j.Oc=function(K){for(var $=0;$<j.D.length;++$)if(j.D[$]==K)return j.zb($)},j.pa=function(K){return j.D[K]},j.Ra=["touchend","click"],j.unlock=function(){for(var K=0;K<j.D.length;++K){var $=j.D[K];$!=null&&$.K!=null&&$.state===j.fa.vb&&$.K.resume().then(()=>{Ro($.ob)},ue=>{console.error("Failed to resume audiocontext",ue)})}j.Ra.map(function(ue){document.removeEventListener(ue,j.unlock,!0)})},j.Ra.map(function(K){document.addEventListener(K,j.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,O,j)=>{if(typeof window.h>"u")return-1;var K={},$={};return f==window.h.I.wa&&_!=0&&($.sampleRate=_),K.K=new(window.AudioContext||window.webkitAudioContext)($),K.K.suspend(),K.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),K.Y=K.K.createScriptProcessor(S,_,d),K.Y.onaudioprocess=function(ue){if((K.qa==null||K.qa.length==0)&&(K.qa=new Float32Array(Fe.buffer,O,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var oe=0;oe<d;oe+=1)for(var De=ue.inputBuffer.getChannelData(oe),Ye=K.qa,nt=0;nt<S;nt+=1)Ye[nt*d+oe]=De[nt];nu(j,S,O)}if(f==window.h.I.wa||f==window.h.I.Ja)for(iu(j,S,O),oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)for(De=ue.outputBuffer.getChannelData(oe),Ye=K.qa,nt=0;nt<S;nt+=1)De[nt]=Ye[nt*d+oe];else for(oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)ue.outputBuffer.getChannelData(oe).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ue){K.Ba=K.K.createMediaStreamSource(ue),K.Ba.connect(K.Y),K.Y.connect(K.K.destination)}).catch(function(ue){console.log("Failed to get user media: "+ue)}),f==window.h.I.wa&&K.Y.connect(K.K.destination),K.ob=j,window.h.rc(K)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},R=f=>{for(;0<f.length;)f.shift()(U)};function g(){var f=ye[+Zn>>2];return Zn+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var O=f[S];O==="."?f.splice(S,1):O===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},D=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},W=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},de=f=>{if(f==="/")return"/";f=D(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Ie=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);Bt("initRandomDevice")},We=f=>(We=Ie())(f),$e=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(O=>!!O),!_).join("/"),(_?"/":"")+d||"."},He=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Je=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&He)return He.decode(f.subarray(d,_));for(S="";d<_;){var O=f[d++];if(O&128){var j=f[d++]&63;if((O&224)==192)S+=String.fromCharCode((O&31)<<6|j);else{var K=f[d++]&63;O=(O&240)==224?(O&15)<<12|j<<6|K:(O&7)<<18|j<<12|K<<6|f[d++]&63,65536>O?S+=String.fromCharCode(O):(O-=65536,S+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else S+=String.fromCharCode(O)}return S},en=[],xn=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},pn=(f,d,_,S)=>{if(!(0<S))return 0;var O=_;S=_+S-1;for(var j=0;j<f.length;++j){var K=f.charCodeAt(j);if(55296<=K&&57343>=K){var $=f.charCodeAt(++j);K=65536+((K&1023)<<10)|$&1023}if(127>=K){if(_>=S)break;d[_++]=K}else{if(2047>=K){if(_+1>=S)break;d[_++]=192|K>>6}else{if(65535>=K){if(_+2>=S)break;d[_++]=224|K>>12}else{if(_+3>=S)break;d[_++]=240|K>>18,d[_++]=128|K>>12&63}d[_++]=128|K>>6&63}d[_++]=128|K&63}}return d[_]=0,_-O};function zn(f,d){var _=Array(xn(f)+1);return f=pn(f,_,0,_.length),d&&(_.length=f),_}var Yn=[];function Ht(f,d){Yn[f]={input:[],G:[],V:d},bi(f,On)}var On={open(f){var d=Yn[f.node.xa];if(!d)throw new Ge(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new Ge(60);for(var O=0,j=0;j<S;j++){try{var K=f.s.V.hb(f.s)}catch{throw new Ge(29)}if(K===void 0&&O===0)throw new Ge(6);if(K==null)break;O++,d[_+j]=K}return O&&(f.node.timestamp=Date.now()),O},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new Ge(60);try{for(var O=0;O<S;O++)f.s.V.Ma(f.s,d[_+O])}catch{throw new Ge(29)}return S&&(f.node.timestamp=Date.now()),O}},Vn={hb(){e:{if(!en.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}en=zn(f,!0)}f=en.shift()}return f},Ma(f,d){d===null||d===10?(ae(Je(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(ae(Je(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Xn={Ma(f,d){d===null||d===10?(H(Je(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(H(Je(f.G,0)),f.G=[])}};function ji(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var pt={N:null,U(){return pt.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new Ge(63);return pt.N||(pt.N={dir:{node:{X:pt.j.X,P:pt.j.P,ja:pt.j.ja,ta:pt.j.ta,sb:pt.j.sb,yb:pt.j.yb,tb:pt.j.tb,rb:pt.j.rb,Ca:pt.j.Ca},stream:{aa:pt.m.aa}},file:{node:{X:pt.j.X,P:pt.j.P},stream:{aa:pt.m.aa,read:pt.m.read,write:pt.m.write,Xa:pt.m.Xa,kb:pt.m.kb,mb:pt.m.mb}},link:{node:{X:pt.j.X,P:pt.j.P,la:pt.j.la},stream:{}},$a:{node:{X:pt.j.X,P:pt.j.P},stream:Ci}}),_=As(f,d,_,S),(_.mode&61440)===16384?(_.j=pt.N.dir.node,_.m=pt.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=pt.N.file.node,_.m=pt.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=pt.N.link.node,_.m=pt.N.link.stream):(_.mode&61440)===8192&&(_.j=pt.N.$a.node,_.m=pt.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw ra[44]},ta(f,d,_,S){return pt.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=Sr(d,_)}catch{}if(S)for(var O in S.l)throw new Ge(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=Sr(f,d),S;for(S in _.l)throw new Ge(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=pt.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new Ge(28);return f.link}},m:{read(f,d,_,S,O){var j=f.node.l;if(O>=f.node.v)return 0;if(f=Math.min(f.node.v-O,S),8<f&&j.subarray)d.set(j.subarray(O,O+f),_);else for(S=0;S<f;S++)d[_+S]=j[O+S];return f},write(f,d,_,S,O,j){if(d.buffer===Ce.buffer&&(j=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(j)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&O===0)return f.l=d.slice(_,_+S),f.v=S;if(O+S<=f.v)return f.l.set(d.subarray(_,_+S),O),S}if(ji(f,O+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),O);else for(j=0;j<S;j++)f.l[O+j]=d[_+j];return f.v=Math.max(f.v,O+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Ge(28);return d},Xa(f,d,_){ji(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,O){if((f.node.mode&61440)!==32768)throw new Ge(43);if(f=f.node.l,O&2||f.buffer!==Ce.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,Bt(),d=void 0,!d)throw new Ge(48);Ce.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return pt.m.write(f,d,0,S,_,!1),0}}},Fn=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},Rt=null,$i={},zi=[],ya=1,Ar=null,Br=!0,Ge=class{constructor(f){this.name="ErrnoError",this.$=f}},ra={},Ji=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},Zi=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=ya++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function vn(f,d={}){if(f=$e(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Ge(32);f=f.split("/").filter(K=>!!K);for(var _=Rt,S="/",O=0;O<f.length;O++){var j=O===f.length-1;if(j&&d.parent)break;if(_=Sr(_,f[O]),S=D(S+"/"+f[O]),_.ua&&(!j||j&&d.gb)&&(_=_.ua.root),!j||d.fb){for(j=0;(_.mode&61440)===40960;)if(_=ft(S),S=$e(W(S),_),_=vn(S,{Oa:d.Oa+1}).node,40<j++)throw new Ge(32)}}return{path:S,node:_}}function Hn(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function Jn(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%Ar.length}function Sr(f,d){var _=(f.mode&61440)===16384?(_=aa(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new Ge(_);for(_=Ar[Jn(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function As(f,d,_,S){return f=new Zi(f,d,_,S),d=Jn(f.parent.id,f.name),f.ec=Ar[d],Ar[d]=f}function ja(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function aa(f,d){if(Br)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function Qn(f,d){try{return Sr(f,d),20}catch{}return aa(f,"wx")}function _i(f){if(f=zi[f],!f)throw new Ge(8);return f}function Bi(f,d=-1){if(f=Object.assign(new Ji,f),d==-1)e:{for(d=0;4096>=d;d++)if(!zi[d])break e;throw new Ge(33)}return f.W=d,zi[d]=f}function Fi(f,d=-1){return f=Bi(f,d),f.m?.Ec?.(f),f}var Ci={open(f){f.m=$i[f.node.xa].m,f.m.open?.(f)},aa(){throw new Ge(70)}};function bi(f,d){$i[f]={m:d}}function te(f,d){var _=d==="/";if(_&&Rt)throw new Ge(10);if(!_&&d){var S=vn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Ge(10);if((S.mode&61440)!==16384)throw new Ge(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?Rt=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function _e(f,d,_){var S=vn(f,{parent:!0}).node;if(f=de(f),!f||f==="."||f==="..")throw new Ge(28);var O=Qn(S,f);if(O)throw new Ge(O);if(!S.j.ta)throw new Ge(63);return S.j.ta(S,f,d,_)}function Ee(f){return _e(f,16895,0)}function Me(f,d,_){typeof _>"u"&&(_=d,d=438),_e(f,d|8192,_)}function Ne(f,d){if(!$e(f))throw new Ge(44);var _=vn(d,{parent:!0}).node;if(!_)throw new Ge(44);d=de(d);var S=Qn(_,d);if(S)throw new Ge(S);if(!_.j.Ca)throw new Ge(63);_.j.Ca(_,d,f)}function ft(f){if(f=vn(f).node,!f)throw new Ge(44);if(!f.j.la)throw new Ge(28);return $e(Hn(f.parent),f.j.la(f))}function Ve(f,d,_){if(f==="")throw new Ge(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var O=f;else{f=D(f);try{O=vn(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(O){if(d&128)throw new Ge(20)}else O=_e(f,_,0),S=!0;if(!O)throw new Ge(44);if((O.mode&61440)===8192&&(d&=-513),d&65536&&(O.mode&61440)!==16384)throw new Ge(54);if(!S&&(_=O?(O.mode&61440)===40960?32:(O.mode&61440)===16384&&(ja(d)!=="r"||d&512)?31:aa(O,ja(d)):44))throw new Ge(_);if(d&512&&!S){if(_=O,_=typeof _=="string"?vn(_,{fb:!0}).node:_,!_.j.P)throw new Ge(63);if((_.mode&61440)===16384)throw new Ge(31);if((_.mode&61440)!==32768)throw new Ge(28);if(S=aa(_,"w"))throw new Ge(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,O=Bi({node:O,path:Hn(O),flags:d,seekable:!0,position:0,m:O.m,sc:[],error:!1}),O.m.open&&O.m.open(O),!U.logReadFiles||d&1||(Nt||={},f in Nt||(Nt[f]=1)),O}function gt(f,d,_){if(f.W===null)throw new Ge(8);if(!f.seekable||!f.m.aa)throw new Ge(70);if(_!=0&&_!=1&&_!=2)throw new Ge(28);f.position=f.m.aa(f,d,_),f.sc=[]}var je;function rt(f,d,_){f=D("/dev/"+f);var S=Fn(!!d,!!_);At||=64;var O=At++<<8|0;bi(O,{open(j){j.seekable=!1},close(){_?.buffer?.length&&_(10)},read(j,K,$,ue){for(var oe=0,De=0;De<ue;De++){try{var Ye=d()}catch{throw new Ge(29)}if(Ye===void 0&&oe===0)throw new Ge(6);if(Ye==null)break;oe++,K[$+De]=Ye}return oe&&(j.node.timestamp=Date.now()),oe},write(j,K,$,ue){for(var oe=0;oe<ue;oe++)try{_(K[$+oe])}catch{throw new Ge(29)}return ue&&(j.node.timestamp=Date.now()),oe}}),Me(f,S,O)}var At,Ct={},Nt,Zn=void 0,ei=(f,d)=>Object.defineProperty(d,"name",{value:f}),xt=[],Ii=[],ct,wi=f=>{if(!f)throw new ct("Cannot use deleted val. handle = "+f);return Ii[f]},kn=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=xt.pop()||Ii.length;return Ii[d]=f,Ii[d+1]=1,d}},za=f=>{var d=Error,_=ei(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},To,Ss,_n=f=>{for(var d="";P[f];)d+=Ss[P[f++]];return d},va=[],Fr=()=>{for(;va.length;){var f=va.pop();f.g.ea=!1,f.delete()}},oi,lr={},Ba=(f,d)=>{if(d===void 0)throw new ct("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},Rr={},Fa=f=>{f=gc(f);var d=_n(f);return rr(f),d},_a=(f,d)=>{var _=Rr[f];if(_===void 0)throw f=`${d} has unknown type ${Fa(f)}`,new ct(f);return _},Cr=()=>{},ba=!1,ur=(f,d,_)=>d===_?f:_.C===void 0?null:(f=ur(f,d,_.C),f===null?null:_.Lb(f)),Rs={},cr=(f,d)=>(d=Ba(f,d),lr[d]),hr,er=(f,d)=>{if(!d.u||!d.o)throw new hr("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new hr("Both smartPtrType and smartPtr must be specified");return d.count={value:1},fr(Object.create(f,{g:{value:d,writable:!0}}))},fr=f=>typeof FinalizationRegistry>"u"?(fr=d=>d,f):(ba=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),fr=d=>{var _=d.g;return _.F&&ba.register(d,{g:_},d),d},Cr=d=>{ba.unregister(d)},fr(f)),sa={},dr=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function xi(f){return this.fromWireType(ve[f>>2])}var pi={},Hr={},kt=(f,d,_)=>{function S($){if($=_($),$.length!==f.length)throw new hr("Mismatched type converter count");for(var ue=0;ue<f.length;++ue)Hi(f[ue],$[ue])}f.forEach(function($){Hr[$]=d});var O=Array(d.length),j=[],K=0;d.forEach(($,ue)=>{Rr.hasOwnProperty($)?O[ue]=Rr[$]:(j.push($),pi.hasOwnProperty($)||(pi[$]=[]),pi[$].push(()=>{O[ue]=Rr[$],++K,K===j.length&&S(O)}))}),j.length===0&&S(O)};function qr(f,d,_={}){var S=d.name;if(!f)throw new ct(`type "${S}" must have a positive integer typeid pointer`);if(Rr.hasOwnProperty(f)){if(_.Vb)return;throw new ct(`Cannot register type '${S}' twice`)}Rr[f]=d,delete Hr[f],pi.hasOwnProperty(f)&&(d=pi[f],delete pi[f],d.forEach(O=>O()))}function Hi(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return qr(f,d,_)}var oa=f=>{throw new ct(f.g.u.i.name+" instance already deleted")};function wa(){}var la=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...O){if(!f[d].A.hasOwnProperty(O.length))throw new ct(`Function '${_}' called with an invalid number of arguments (${O.length}) - expects one of (${f[d].A})!`);return f[d].A[O.length].apply(this,O)},f[d].A=[],f[d].A[S.da]=S}},Ir=(f,d,_)=>{if(U.hasOwnProperty(f)){if(_===void 0||U[f].A!==void 0&&U[f].A[_]!==void 0)throw new ct(`Cannot register public name '${f}' twice`);if(la(U,f,f),U.hasOwnProperty(_))throw new ct(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);U[f].A[_]=d}else U[f]=d,_!==void 0&&(U[f].Lc=_)},xr=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function gi(f,d,_,S,O,j,K,$){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=O,this.Qb=j,this.ma=K,this.Lb=$,this.pb=[]}var mr=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new ct(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function Gr(f,d){if(d===null){if(this.La)throw new ct(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ct(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ct(`Cannot pass deleted object as a pointer of type ${this.name}`);return mr(d.g.o,d.g.u.i,this.i)}function Ea(f,d){if(d===null){if(this.La)throw new ct(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new ct(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ct(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new ct(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=mr(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new ct("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new ct(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,kn(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new ct("Unsupporting sharing policy")}}return _}function Ao(f,d){if(d===null){if(this.La)throw new ct(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ct(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ct(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new ct(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return mr(d.g.o,d.g.u.i,this.i)}function Mr(f,d,_,S,O,j,K,$,ue,oe,De){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=O,this.hc=j,this.mc=K,this.qb=$,this.Na=ue,this.ic=oe,this.O=De,O||d.C!==void 0?this.toWireType=Ea:(this.toWireType=S?Gr:Ao,this.L=null)}var Ha=(f,d,_)=>{if(!U.hasOwnProperty(f))throw new hr("Replacing nonexistent public symbol");U[f].A!==void 0&&_!==void 0?U[f].A[_]=d:(U[f]=d,U[f].da=_)},tr=[],qa,Cs=f=>{var d=tr[f];return d||(f>=tr.length&&(tr.length=f+1),tr[f]=d=qa.get(f)),d},Ga=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,U["dynCall_"+f])(d,..._)):d=Cs(d)(..._),d),$o=(f,d)=>(..._)=>Ga(f,d,_),ti=(f,d)=>{f=_n(f);var _=f.includes("j")?$o(f,d):Cs(d);if(typeof _!="function")throw new ct(`unknown function pointer with signature ${f}: ${d}`);return _},Ta,nr=(f,d)=>{function _(j){O[j]||Rr[j]||(Hr[j]?Hr[j].forEach(_):(S.push(j),O[j]=!0))}var S=[],O={};throw d.forEach(_),new Ta(`${f}: `+S.map(Fa).join([", "]))};function Jo(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function ua(f,d,_,S,O){var j=d.length;if(2>j)throw new ct("argTypes array size mismatch! Must at least get return value and 'this' types!");var K=d[1]!==null&&_!==null,$=Jo(d),ue=d[0].name!=="void",oe=j-2,De=Array(oe),Ye=[],nt=[];return ei(f,function(...J){if(J.length!==oe)throw new ct(`function ${f} called with ${J.length} arguments, expected ${oe}`);if(nt.length=0,Ye.length=K?2:1,Ye[0]=O,K){var Pe=d[1].toWireType(nt,this);Ye[1]=Pe}for(var Ze=0;Ze<oe;++Ze)De[Ze]=d[Ze+2].toWireType(nt,J[Ze]),Ye.push(De[Ze]);if(J=S(...Ye),$)dr(nt);else for(Ze=K?1:2;Ze<d.length;Ze++){var ze=Ze===1?Pe:De[Ze-2];d[Ze].L!==null&&d[Ze].L(ze)}return Pe=ue?d[0].fromWireType(J):void 0,Pe})}var Ya=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(ve[d+4*S>>2]);return _},Is=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Or=(f,d,_)=>{if(!(f instanceof Object))throw new ct(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new ct(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new ct(`cannot call emscripten binding method ${_} on deleted object`);return mr(f.g.o,f.g.u.i,d.i)},xs=f=>{9<f&&--Ii[f+1]===0&&(Ii[f]=void 0,xt.push(f))},Zo={name:"emscripten::val",fromWireType:f=>{var d=wi(f);return xs(f),d},toWireType:(f,d)=>kn(d),argPackAdvance:8,readValueFromPointer:xi,L:null},el=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(Ce[S])}:function(S){return this.fromWireType(P[S])};case 2:return _?function(S){return this.fromWireType(re[S>>1])}:function(S){return this.fromWireType(Ae[S>>1])};case 4:return _?function(S){return this.fromWireType(ye[S>>2])}:function(S){return this.fromWireType(ve[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ms=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Aa=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(Fe[_>>2])};case 8:return function(_){return this.fromWireType(lt[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Mi=(f,d,_)=>{switch(d){case 1:return _?S=>Ce[S]:S=>P[S];case 2:return _?S=>re[S>>1]:S=>Ae[S>>1];case 4:return _?S=>ye[S>>2]:S=>ve[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},So=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,tl=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&Ae[_];)++_;if(_<<=1,32<_-f&&So)return So.decode(P.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var O=re[f+2*S>>1];if(O==0)break;_+=String.fromCharCode(O)}return _},ca=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var O=0;O<_;++O)re[d>>1]=f.charCodeAt(O),d+=2;return re[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var O=ye[f+4*_>>2];if(O==0)break;++_,65536<=O?(O-=65536,S+=String.fromCharCode(55296|O>>10,56320|O&1023)):S+=String.fromCharCode(O)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var O=0;O<f.length;++O){var j=f.charCodeAt(O);if(55296<=j&&57343>=j){var K=f.charCodeAt(++O);j=65536+((j&1023)<<10)|K&1023}if(ye[d>>2]=j,d+=4,d+4>_)break}return ye[d>>2]=0,d-S},N=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},ie=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(ve[d>>2]=kn(S)),f},fe={},ke=f=>{var d=fe[f];return d===void 0?_n(f):d},St=[],qn=f=>{var d=St.length;return St.push(f),d},ln=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=_a(ve[d+4*S>>2],"parameter "+S);return _},Dn=Reflect.construct,qi=[],pr={},gr=()=>{if(!ir){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:C||"./this.program"},d;for(d in pr)pr[d]===void 0?delete f[d]:f[d]=pr[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);ir=_}return ir},ir,Yr=f=>f%4===0&&(f%100!==0||f%400===0),Xa=[31,29,31,30,31,30,31,31,30,31,30,31],Qa=[31,28,31,30,31,30,31,31,30,31,30,31],Ef=(f,d,_,S)=>{function O(J,Pe,Ze){for(J=typeof J=="number"?J.toString():J||"";J.length<Pe;)J=Ze[0]+J;return J}function j(J,Pe){return O(J,Pe,"0")}function K(J,Pe){function Ze(hn){return 0>hn?-1:0<hn?1:0}var ze;return(ze=Ze(J.getFullYear()-Pe.getFullYear()))===0&&(ze=Ze(J.getMonth()-Pe.getMonth()))===0&&(ze=Ze(J.getDate()-Pe.getDate())),ze}function $(J){switch(J.getDay()){case 0:return new Date(J.getFullYear()-1,11,29);case 1:return J;case 2:return new Date(J.getFullYear(),0,3);case 3:return new Date(J.getFullYear(),0,2);case 4:return new Date(J.getFullYear(),0,1);case 5:return new Date(J.getFullYear()-1,11,31);case 6:return new Date(J.getFullYear()-1,11,30)}}function ue(J){var Pe=J.ba;for(J=new Date(new Date(J.ca+1900,0,1).getTime());0<Pe;){var Ze=J.getMonth(),ze=(Yr(J.getFullYear())?Xa:Qa)[Ze];if(Pe>ze-J.getDate())Pe-=ze-J.getDate()+1,J.setDate(1),11>Ze?J.setMonth(Ze+1):(J.setMonth(0),J.setFullYear(J.getFullYear()+1));else{J.setDate(J.getDate()+Pe);break}}return Ze=new Date(J.getFullYear()+1,0,4),Pe=$(new Date(J.getFullYear(),0,4)),Ze=$(Ze),0>=K(Pe,J)?0>=K(Ze,J)?J.getFullYear()+1:J.getFullYear():J.getFullYear()-1}var oe=ve[S+40>>2];S={pc:ye[S>>2],oc:ye[S+4>>2],Da:ye[S+8>>2],Qa:ye[S+12>>2],Ea:ye[S+16>>2],ca:ye[S+20>>2],R:ye[S+24>>2],ba:ye[S+28>>2],Nc:ye[S+32>>2],nc:ye[S+36>>2],qc:oe&&oe?Je(P,oe):""},_=_?Je(P,_):"",oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var De in oe)_=_.replace(new RegExp(De,"g"),oe[De]);var Ye="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),nt="January February March April May June July August September October November December".split(" ");oe={"%a":J=>Ye[J.R].substring(0,3),"%A":J=>Ye[J.R],"%b":J=>nt[J.Ea].substring(0,3),"%B":J=>nt[J.Ea],"%C":J=>j((J.ca+1900)/100|0,2),"%d":J=>j(J.Qa,2),"%e":J=>O(J.Qa,2," "),"%g":J=>ue(J).toString().substring(2),"%G":ue,"%H":J=>j(J.Da,2),"%I":J=>(J=J.Da,J==0?J=12:12<J&&(J-=12),j(J,2)),"%j":J=>{for(var Pe=0,Ze=0;Ze<=J.Ea-1;Pe+=(Yr(J.ca+1900)?Xa:Qa)[Ze++]);return j(J.Qa+Pe,3)},"%m":J=>j(J.Ea+1,2),"%M":J=>j(J.oc,2),"%n":()=>`
`,"%p":J=>0<=J.Da&&12>J.Da?"AM":"PM","%S":J=>j(J.pc,2),"%t":()=>"	","%u":J=>J.R||7,"%U":J=>j(Math.floor((J.ba+7-J.R)/7),2),"%V":J=>{var Pe=Math.floor((J.ba+7-(J.R+6)%7)/7);if(2>=(J.R+371-J.ba-2)%7&&Pe++,Pe)Pe==53&&(Ze=(J.R+371-J.ba)%7,Ze==4||Ze==3&&Yr(J.ca)||(Pe=1));else{Pe=52;var Ze=(J.R+7-J.ba-1)%7;(Ze==4||Ze==5&&Yr(J.ca%400-1))&&Pe++}return j(Pe,2)},"%w":J=>J.R,"%W":J=>j(Math.floor((J.ba+7-(J.R+6)%7)/7),2),"%y":J=>(J.ca+1900).toString().substring(2),"%Y":J=>J.ca+1900,"%z":J=>{J=J.nc;var Pe=0<=J;return J=Math.abs(J)/60,(Pe?"+":"-")+("0000"+(J/60*100+J%60)).slice(-4)},"%Z":J=>J.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(De in oe)_.includes(De)&&(_=_.replace(new RegExp(De,"g"),oe[De](S)));return _=_.replace(/\0\0/g,"%"),De=zn(_,!1),De.length>d?0:(Ce.set(De,f),De.length-1)};[44].forEach(f=>{ra[f]=new Ge(f),ra[f].stack="<generic error, no stack>"}),Ar=Array(4096),te(pt,"/"),Ee("/tmp"),Ee("/home"),Ee("/home/web_user"),(function(){Ee("/dev"),bi(259,{read:()=>0,write:(S,O,j,K)=>K}),Me("/dev/null",259),Ht(1280,Vn),Ht(1536,Xn),Me("/dev/tty",1280),Me("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=We(f).byteLength),f[--d]);rt("random",_),rt("urandom",_),Ee("/dev/shm"),Ee("/dev/shm/tmp")})(),(function(){Ee("/proc");var f=Ee("/proc/self");Ee("/proc/self/fd"),te({U(){var d=As(f,"fd",16895,73);return d.j={ja(_,S){var O=_i(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>O.path}},_.parent=_}},d}},"/proc/self/fd")})(),ct=U.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},Ii.push(0,1,void 0,1,null,1,!0,1,!1,1),U.count_emval_handles=()=>Ii.length/2-5-xt.length,To=U.PureVirtualError=za("PureVirtualError");for(var pc=Array(256),nl=0;256>nl;++nl)pc[nl]=String.fromCharCode(nl);Ss=pc,U.getInheritedInstanceCount=()=>Object.keys(lr).length,U.getLiveInheritedInstances=()=>{var f=[],d;for(d in lr)lr.hasOwnProperty(d)&&f.push(lr[d]);return f},U.flushPendingDeletes=Fr,U.setDelayFunction=f=>{oi=f,va.length&&oi&&oi(Fr)},hr=U.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(wa.prototype,{isAliasOf:function(f){if(!(this instanceof wa&&f instanceof wa))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||oa(this),this.g.ha)return this.g.count.value+=1,this;var f=fr,d=Object,_=d.create,S=Object.getPrototypeOf(this),O=this.g;return f=f(_.call(d,S,{g:{value:{count:O.count,ea:O.ea,ha:O.ha,o:O.o,u:O.u,F:O.F,J:O.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||oa(this),this.g.ea&&!this.g.ha)throw new ct("Object already scheduled for deletion");Cr(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||oa(this),this.g.ea&&!this.g.ha)throw new ct("Object already scheduled for deletion");return va.push(this),va.length===1&&oi&&oi(Fr),this.g.ea=!0,this}}),Object.assign(Mr.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:xi,fromWireType:function(f){function d(){return this.sa?er(this.i.M,{u:this.hc,o:_,J:this,F:f}):er(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=cr(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=Rs[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var O=ur(_,this.i,S.i);return O===null?d.call(this):this.sa?er(S.i.M,{u:S,o:O,J:this,F:f}):er(S.i.M,{u:S,o:O})}}),Ta=U.UnboundTypeError=za("UnboundTypeError");var tu={__syscall_fcntl64:function(f,d,_){Zn=_;try{var S=_i(f);switch(d){case 0:var O=g();if(0>O)break;for(;zi[O];)O++;return Fi(S,O).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return O=g(),S.flags|=O,0;case 12:return O=g(),re[O+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(j){if(typeof Ct>"u"||j.name!=="ErrnoError")throw j;return-j.$}},__syscall_ioctl:function(f,d,_){Zn=_;try{var S=_i(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var O=g();ye[O>>2]=25856,ye[O+4>>2]=5,ye[O+8>>2]=191,ye[O+12>>2]=35387;for(var j=0;32>j;j++)Ce[O+j+17]=f[j]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(O=g(),f=[],j=0;32>j;j++)f.push(Ce[O+j+17]);return 0;case 21519:return S.s?(O=g(),ye[O>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(O=g(),!S.m.Wb)throw new Ge(59);return S.m.Wb(S,d,O);case 21523:return S.s?(S.s.V.Zb&&(j=[24,80],O=g(),re[O>>1]=j[0],re[O+2>>1]=j[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(K){if(typeof Ct>"u"||K.name!=="ErrnoError")throw K;return-K.$}},__syscall_openat:function(f,d,_,S){Zn=S;try{d=d?Je(P,d):"";var O=d;if(O.charAt(0)==="/")d=O;else{var j=f===-100?"/":_i(f).path;if(O.length==0)throw new Ge(44);d=D(j+"/"+O)}var K=S?g():0;return Ve(d,_,K).W}catch($){if(typeof Ct>"u"||$.name!=="ErrnoError")throw $;return-$.$}},_abort_js:()=>{Bt("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=_n(f),d=_a(d,"wrapper"),_=wi(_);var S=d.i,O=S.M,j=S.C.M,K=S.C.constructor;return f=ei(f,function(...$){S.C.pb.forEach((function(ue){if(this[ue]===j[ue])throw new To(`Pure virtual function ${ue} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:O}),this.__construct(...$)}),O.__construct=function(...$){if(this===O)throw new ct("Pass correct 'this' to __construct");$=K.implement(this,...$),Cr($);var ue=$.g;if($.notifyOnDestruction(),ue.ha=!0,Object.defineProperties(this,{g:{value:ue}}),fr(this),$=ue.o,$=Ba(S,$),lr.hasOwnProperty($))throw new ct(`Tried to register registered instance: ${$}`);lr[$]=this},O.__destruct=function(){if(this===O)throw new ct("Pass correct 'this' to __destruct");Cr(this);var $=this.g.o;if($=Ba(S,$),lr.hasOwnProperty($))delete lr[$];else throw new ct(`Tried to unregister unregistered instance: ${$}`)},f.prototype=Object.create(O),Object.assign(f.prototype,_),kn(f)},_embind_finalize_value_object:f=>{var d=sa[f];delete sa[f];var _=d.Na,S=d.O,O=d.eb,j=O.map(K=>K.Ub).concat(O.map(K=>K.kc));kt([f],j,K=>{var $={};return O.forEach((ue,oe)=>{var De=K[oe],Ye=ue.Sb,nt=ue.Tb,J=K[oe+O.length],Pe=ue.jc,Ze=ue.lc;$[ue.Ob]={read:ze=>De.fromWireType(Ye(nt,ze)),write:(ze,hn)=>{var Xe=[];Pe(Ze,ze,J.toWireType(Xe,hn)),dr(Xe)}}}),[{name:d.name,fromWireType:ue=>{var oe={},De;for(De in $)oe[De]=$[De].read(ue);return S(ue),oe},toWireType:(ue,oe)=>{for(var De in $)if(!(De in oe))throw new TypeError(`Missing field: "${De}"`);var Ye=_();for(De in $)$[De].write(Ye,oe[De]);return ue!==null&&ue.push(S,Ye),Ye},argPackAdvance:8,readValueFromPointer:xi,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=_n(d),Hi(f,{name:d,fromWireType:function(O){return!!O},toWireType:function(O,j){return j?_:S},argPackAdvance:8,readValueFromPointer:function(O){return this.fromWireType(P[O])},L:null})},_embind_register_class:(f,d,_,S,O,j,K,$,ue,oe,De,Ye,nt)=>{De=_n(De),j=ti(O,j),$&&=ti(K,$),oe&&=ti(ue,oe),nt=ti(Ye,nt);var J=xr(De);Ir(J,function(){nr(`Cannot construct ${De} due to unbound types`,[S])}),kt([f,d,_],S?[S]:[],Pe=>{if(Pe=Pe[0],S)var Ze=Pe.i,ze=Ze.M;else ze=wa.prototype;Pe=ei(De,function(...bn){if(Object.getPrototypeOf(this)!==hn)throw new ct("Use 'new' to construct "+De);if(Xe.Z===void 0)throw new ct(De+" has no accessible constructor");var ni=Xe.Z[bn.length];if(ni===void 0)throw new ct(`Tried to invoke ctor of ${De} with invalid number of parameters (${bn.length}) - expected (${Object.keys(Xe.Z).toString()}) parameters instead!`);return ni.apply(this,bn)});var hn=Object.create(ze,{constructor:{value:Pe}});Pe.prototype=hn;var Xe=new gi(De,Pe,hn,nt,Ze,j,$,oe);if(Xe.C){var jt;(jt=Xe.C).na??(jt.na=[]),Xe.C.na.push(Xe)}return Ze=new Mr(De,Xe,!0,!1,!1),jt=new Mr(De+"*",Xe,!1,!1,!1),ze=new Mr(De+" const*",Xe,!1,!0,!1),Rs[f]={pointerType:jt,Hb:ze},Ha(J,Pe),[Ze,jt,ze]})},_embind_register_class_class_function:(f,d,_,S,O,j,K)=>{var $=Ya(_,S);d=_n(d),d=Is(d),j=ti(O,j),kt([],[f],ue=>{function oe(){nr(`Cannot call ${De} due to unbound types`,$)}ue=ue[0];var De=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Ye=ue.i.constructor;return Ye[d]===void 0?(oe.da=_-1,Ye[d]=oe):(la(Ye,d,De),Ye[d].A[_-1]=oe),kt([],$,nt=>{if(nt=ua(De,[nt[0],null].concat(nt.slice(1)),null,j,K),Ye[d].A===void 0?(nt.da=_-1,Ye[d]=nt):Ye[d].A[_-1]=nt,ue.i.na)for(const J of ue.i.na)J.constructor.hasOwnProperty(d)||(J.constructor[d]=nt);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,O,j,K,$)=>{d=_n(d),j=ti(O,j),kt([],[f],ue=>{ue=ue[0];var oe=`${ue.name}.${d}`,De={get(){nr(`Cannot access ${oe} due to unbound types`,[_])},enumerable:!0,configurable:!0};return De.set=$?()=>{nr(`Cannot access ${oe} due to unbound types`,[_])}:()=>{throw new ct(`${oe} is a read-only property`)},Object.defineProperty(ue.i.constructor,d,De),kt([],[_],Ye=>{Ye=Ye[0];var nt={get(){return Ye.fromWireType(j(S))},enumerable:!0};return $&&($=ti(K,$),nt.set=J=>{var Pe=[];$(S,Ye.toWireType(Pe,J)),dr(Pe)}),Object.defineProperty(ue.i.constructor,d,nt),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,O,j)=>{var K=Ya(d,_);O=ti(S,O),kt([],[f],$=>{$=$[0];var ue=`constructor ${$.name}`;if($.i.Z===void 0&&($.i.Z=[]),$.i.Z[d-1]!==void 0)throw new ct(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${$.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return $.i.Z[d-1]=()=>{nr(`Cannot construct ${$.name} due to unbound types`,K)},kt([],K,oe=>(oe.splice(1,0,null),$.i.Z[d-1]=ua(ue,oe,null,O,j),[])),[]})},_embind_register_class_function:(f,d,_,S,O,j,K,$)=>{var ue=Ya(_,S);d=_n(d),d=Is(d),j=ti(O,j),kt([],[f],oe=>{function De(){nr(`Cannot call ${Ye} due to unbound types`,ue)}oe=oe[0];var Ye=`${oe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),$&&oe.i.pb.push(d);var nt=oe.i.M,J=nt[d];return J===void 0||J.A===void 0&&J.className!==oe.name&&J.da===_-2?(De.da=_-2,De.className=oe.name,nt[d]=De):(la(nt,d,Ye),nt[d].A[_-2]=De),kt([],ue,Pe=>(Pe=ua(Ye,Pe,oe,j,K),nt[d].A===void 0?(Pe.da=_-2,nt[d]=Pe):nt[d].A[_-2]=Pe,[])),[]})},_embind_register_class_property:(f,d,_,S,O,j,K,$,ue,oe)=>{d=_n(d),O=ti(S,O),kt([],[f],De=>{De=De[0];var Ye=`${De.name}.${d}`,nt={get(){nr(`Cannot access ${Ye} due to unbound types`,[_,K])},enumerable:!0,configurable:!0};return nt.set=ue?()=>nr(`Cannot access ${Ye} due to unbound types`,[_,K]):()=>{throw new ct(Ye+" is a read-only property")},Object.defineProperty(De.i.M,d,nt),kt([],ue?[_,K]:[_],J=>{var Pe=J[0],Ze={get(){var hn=Or(this,De,Ye+" getter");return Pe.fromWireType(O(j,hn))},enumerable:!0};if(ue){ue=ti($,ue);var ze=J[1];Ze.set=function(hn){var Xe=Or(this,De,Ye+" setter"),jt=[];ue(oe,Xe,ze.toWireType(jt,hn)),dr(jt)}}return Object.defineProperty(De.i.M,d,Ze),[]}),[]})},_embind_register_emval:f=>Hi(f,Zo),_embind_register_enum:(f,d,_,S)=>{function O(){}d=_n(d),O.values={},Hi(f,{name:d,constructor:O,fromWireType:function(j){return this.constructor.values[j]},toWireType:(j,K)=>K.value,argPackAdvance:8,readValueFromPointer:el(d,_,S),L:null}),Ir(d,O)},_embind_register_enum_value:(f,d,_)=>{var S=_a(f,"enum");d=_n(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:ei(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=_n(d),Hi(f,{name:d,fromWireType:S=>S,toWireType:(S,O)=>O,argPackAdvance:8,readValueFromPointer:Aa(d,_),L:null})},_embind_register_function:(f,d,_,S,O,j)=>{var K=Ya(d,_);f=_n(f),f=Is(f),O=ti(S,O),Ir(f,function(){nr(`Cannot call ${f} due to unbound types`,K)},d-1),kt([],K,$=>(Ha(f,ua(f,[$[0],null].concat($.slice(1)),null,O,j),d-1),[]))},_embind_register_integer:(f,d,_,S,O)=>{if(d=_n(d),O===-1&&(O=4294967295),O=$=>$,S===0){var j=32-8*_;O=$=>$<<j>>>j}var K=d.includes("unsigned")?function($,ue){return ue>>>0}:function($,ue){return ue};Hi(f,{name:d,fromWireType:O,toWireType:K,argPackAdvance:8,readValueFromPointer:Mi(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(j){return new O(Ce.buffer,ve[j+4>>2],ve[j>>2])}var O=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=_n(_),Hi(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=_n(d);var _=d==="std::string";Hi(f,{name:d,fromWireType:function(S){var O=ve[S>>2],j=S+4;if(_)for(var K=j,$=0;$<=O;++$){var ue=j+$;if($==O||P[ue]==0){if(K=K?Je(P,K,ue-K):"",oe===void 0)var oe=K;else oe+="\0",oe+=K;K=ue+1}}else{for(oe=Array(O),$=0;$<O;++$)oe[$]=String.fromCharCode(P[j+$]);oe=oe.join("")}return rr(S),oe},toWireType:function(S,O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));var j=typeof O=="string";if(!(j||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int8Array))throw new ct("Cannot pass non-string to std::string");var K=_&&j?xn(O):O.length,$=Wa(4+K+1),ue=$+4;if(ve[$>>2]=K,_&&j)pn(O,P,ue,K+1);else if(j)for(j=0;j<K;++j){var oe=O.charCodeAt(j);if(255<oe)throw rr(ue),new ct("String has UTF-16 code units that do not fit in 8 bits");P[ue+j]=oe}else for(j=0;j<K;++j)P[ue+j]=O[j];return S!==null&&S.push(rr,$),$},argPackAdvance:8,readValueFromPointer:xi,L(S){rr(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=_n(_),d===2)var S=tl,O=ca,j=u,K=$=>Ae[$>>1];else d===4&&(S=y,O=A,j=N,K=$=>ve[$>>2]);Hi(f,{name:_,fromWireType:$=>{for(var ue=ve[$>>2],oe,De=$+4,Ye=0;Ye<=ue;++Ye){var nt=$+4+Ye*d;(Ye==ue||K(nt)==0)&&(De=S(De,nt-De),oe===void 0?oe=De:(oe+="\0",oe+=De),De=nt+d)}return rr($),oe},toWireType:($,ue)=>{if(typeof ue!="string")throw new ct(`Cannot pass non-string to C++ string type ${_}`);var oe=j(ue),De=Wa(4+oe+d);return ve[De>>2]=oe/d,O(ue,De+4,oe+d),$!==null&&$.push(rr,De),De},argPackAdvance:8,readValueFromPointer:xi,L($){rr($)}})},_embind_register_value_object:(f,d,_,S,O,j)=>{sa[f]={name:_n(d),Na:ti(_,S),O:ti(O,j),eb:[]}},_embind_register_value_object_field:(f,d,_,S,O,j,K,$,ue,oe)=>{sa[f].eb.push({Ob:_n(d),Ub:_,Sb:ti(S,O),Tb:j,kc:K,jc:ti($,ue),lc:oe})},_embind_register_void:(f,d)=>{d=_n(d),Hi(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>P.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=wi(f),d=_a(d,"emval::as"),ie(d,_,f)),_emval_call_method:(f,d,_,S,O)=>(f=St[f],d=wi(d),_=ke(_),f(d,d[_],S,O)),_emval_decref:xs,_emval_get_method_caller:(f,d,_)=>{var S=ln(f,d),O=S.shift();f--;var j=Array(f);return d=`methodCaller<(${S.map(K=>K.name).join(", ")}) => ${O.name}>`,qn(ei(d,(K,$,ue,oe)=>{for(var De=0,Ye=0;Ye<f;++Ye)j[Ye]=S[Ye].readValueFromPointer(oe+De),De+=S[Ye].argPackAdvance;return K=_===1?Dn($,j):$.apply(K,j),ie(O,ue,K)}))},_emval_get_module_property:f=>(f=ke(f),kn(U[f])),_emval_get_property:(f,d)=>(f=wi(f),d=wi(d),kn(f[d])),_emval_incref:f=>{9<f&&(Ii[f+1]+=1)},_emval_new_array:()=>kn([]),_emval_new_cstring:f=>kn(ke(f)),_emval_new_object:()=>kn({}),_emval_run_destructors:f=>{var d=wi(f);dr(d),xs(f)},_emval_set_property:(f,d,_)=>{f=wi(f),d=wi(d),_=wi(_),f[d]=_},_emval_take_value:(f,d)=>(f=_a(f,"_emval_take_value"),f=f.readValueFromPointer(d),kn(f)),emscripten_asm_const_int:(f,d,_)=>{qi.length=0;for(var S;S=P[d++];){var O=S!=105;O&=S!=112,_+=O&&_%8?4:0,qi.push(S==112?ve[_>>2]:S==105?ye[_>>2]:lt[_>>3]),_+=O?8:4}return Tn[f](...qi)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=P.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var O=Math;S=Math.max(f,S);e:{O=(O.min.call(O,2147483648,S+(65536-S%65536)%65536)-ge.buffer.byteLength+65535)/65536;try{ge.grow(O),ht();var j=1;break e}catch{}j=void 0}if(j)return!0}return!1},environ_get:(f,d)=>{var _=0;return gr().forEach((S,O)=>{var j=d+_;for(O=ve[f+4*O>>2]=j,j=0;j<S.length;++j)Ce[O++]=S.charCodeAt(j);Ce[O]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=gr();ve[f>>2]=_.length;var S=0;return _.forEach(O=>S+=O.length+1),ve[d>>2]=S,0},fd_close:function(f){try{var d=_i(f);if(d.W===null)throw new Ge(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{zi[d.W]=null}return d.W=null,0}catch(_){if(typeof Ct>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var O=_i(f);f=d;for(var j,K=d=0;K<_;K++){var $=ve[f>>2],ue=ve[f+4>>2];f+=8;var oe=O,De=j,Ye=Ce;if(0>ue||0>De)throw new Ge(28);if(oe.W===null)throw new Ge(8);if((oe.flags&2097155)===1)throw new Ge(8);if((oe.node.mode&61440)===16384)throw new Ge(31);if(!oe.m.read)throw new Ge(28);var nt=typeof De<"u";if(!nt)De=oe.position;else if(!oe.seekable)throw new Ge(70);var J=oe.m.read(oe,Ye,$,ue,De);nt||(oe.position+=J);var Pe=J;if(0>Pe){var Ze=-1;break e}if(d+=Pe,Pe<ue)break;typeof j<"u"&&(j+=Pe)}Ze=d}return ve[S>>2]=Ze,0}catch(ze){if(typeof Ct>"u"||ze.name!=="ErrnoError")throw ze;return ze.$}},fd_seek:function(f,d,_,S,O){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var j=_i(f);return gt(j,d,S),on=[j.position>>>0,($n=j.position,1<=+Math.abs($n)?0<$n?+Math.floor($n/4294967296)>>>0:~~+Math.ceil(($n-+(~~$n>>>0))/4294967296)>>>0:0)],ye[O>>2]=on[0],ye[O+4>>2]=on[1],j.Ka&&d===0&&S===0&&(j.Ka=null),0}catch(K){if(typeof Ct>"u"||K.name!=="ErrnoError")throw K;return K.$}},fd_write:function(f,d,_,S){try{e:{var O=_i(f);f=d;for(var j,K=d=0;K<_;K++){var $=ve[f>>2],ue=ve[f+4>>2];f+=8;var oe=O,De=$,Ye=ue,nt=j,J=Ce;if(0>Ye||0>nt)throw new Ge(28);if(oe.W===null)throw new Ge(8);if((oe.flags&2097155)===0)throw new Ge(8);if((oe.node.mode&61440)===16384)throw new Ge(31);if(!oe.m.write)throw new Ge(28);oe.seekable&&oe.flags&1024&&gt(oe,0,2);var Pe=typeof nt<"u";if(!Pe)nt=oe.position;else if(!oe.seekable)throw new Ge(70);var Ze=oe.m.write(oe,J,De,Ye,nt,void 0);Pe||(oe.position+=Ze);var ze=Ze;if(0>ze){var hn=-1;break e}d+=ze,typeof j<"u"&&(j+=ze)}hn=d}return ve[S>>2]=hn,0}catch(Xe){if(typeof Ct>"u"||Xe.name!=="ErrnoError")throw Xe;return Xe.$}},strftime_l:(f,d,_,S)=>Ef(f,d,_,S)},Pn=(function(){function f(_){return Pn=_.exports,ge=Pn.memory,ht(),qa=Pn.__indirect_function_table,Dt.unshift(Pn.__wasm_call_ctors),Tt--,U.monitorRunDependencies?.(Tt),Tt==0&&Zt&&(_=Zt,Zt=null,_()),Pn}var d={env:tu,wasi_snapshot_preview1:tu};if(Tt++,U.monitorRunDependencies?.(Tt),U.instantiateWasm)try{return U.instantiateWasm(d,f)}catch(_){H(`Module.instantiateWasm callback failed with error: ${_}`),Re(_)}return sn||=Ut("canvas_advanced.wasm")?"canvas_advanced.wasm":U.locateFile?U.locateFile("canvas_advanced.wasm",V):V+"canvas_advanced.wasm",Ri(d,function(_){f(_.instance)}).catch(Re),{}})(),rr=f=>(rr=Pn.free)(f),Wa=f=>(Wa=Pn.malloc)(f),gc=f=>(gc=Pn.__getTypeName)(f),Ro=U._ma_device__on_notification_unlocked=f=>(Ro=U._ma_device__on_notification_unlocked=Pn.ma_device__on_notification_unlocked)(f);U._ma_malloc_emscripten=(f,d)=>(U._ma_malloc_emscripten=Pn.ma_malloc_emscripten)(f,d),U._ma_free_emscripten=(f,d)=>(U._ma_free_emscripten=Pn.ma_free_emscripten)(f,d);var nu=U._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(nu=U._ma_device_process_pcm_frames_capture__webaudio=Pn.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),iu=U._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(iu=U._ma_device_process_pcm_frames_playback__webaudio=Pn.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);U.dynCall_iiji=(f,d,_,S,O)=>(U.dynCall_iiji=Pn.dynCall_iiji)(f,d,_,S,O),U.dynCall_jiji=(f,d,_,S,O)=>(U.dynCall_jiji=Pn.dynCall_jiji)(f,d,_,S,O),U.dynCall_iiiji=(f,d,_,S,O,j)=>(U.dynCall_iiiji=Pn.dynCall_iiiji)(f,d,_,S,O,j),U.dynCall_iij=(f,d,_,S)=>(U.dynCall_iij=Pn.dynCall_iij)(f,d,_,S),U.dynCall_jii=(f,d,_)=>(U.dynCall_jii=Pn.dynCall_jii)(f,d,_),U.dynCall_viijii=(f,d,_,S,O,j,K)=>(U.dynCall_viijii=Pn.dynCall_viijii)(f,d,_,S,O,j,K),U.dynCall_iiiiij=(f,d,_,S,O,j,K)=>(U.dynCall_iiiiij=Pn.dynCall_iiiiij)(f,d,_,S,O,j,K),U.dynCall_iiiiijj=(f,d,_,S,O,j,K,$,ue)=>(U.dynCall_iiiiijj=Pn.dynCall_iiiiijj)(f,d,_,S,O,j,K,$,ue),U.dynCall_iiiiiijj=(f,d,_,S,O,j,K,$,ue,oe)=>(U.dynCall_iiiiiijj=Pn.dynCall_iiiiiijj)(f,d,_,S,O,j,K,$,ue,oe);var Os;Zt=function f(){Os||il(),Os||(Zt=f)};function il(){function f(){if(!Os&&(Os=!0,U.calledRun=!0,!he)){if(U.noFSInit||je||(je=!0,U.stdin=U.stdin,U.stdout=U.stdout,U.stderr=U.stderr,U.stdin?rt("stdin",U.stdin):Ne("/dev/tty","/dev/stdin"),U.stdout?rt("stdout",null,U.stdout):Ne("/dev/tty","/dev/stdout"),U.stderr?rt("stderr",null,U.stderr):Ne("/dev/tty1","/dev/stderr"),Ve("/dev/stdin",0),Ve("/dev/stdout",1),Ve("/dev/stderr",1)),Br=!1,R(Dt),xe(U),U.onRuntimeInitialized&&U.onRuntimeInitialized(),U.postRun)for(typeof U.postRun=="function"&&(U.postRun=[U.postRun]);U.postRun.length;){var d=U.postRun.shift();cn.unshift(d)}R(cn)}}if(!(0<Tt)){if(U.preRun)for(typeof U.preRun=="function"&&(U.preRun=[U.preRun]);U.preRun.length;)ut();R(_t),0<Tt||(U.setStatus?(U.setStatus("Running..."),setTimeout(function(){setTimeout(function(){U.setStatus("")},1),f()},1)):f())}}if(U.preInit)for(typeof U.preInit=="function"&&(U.preInit=[U.preInit]);0<U.preInit.length;)U.preInit.pop()();return il(),ne=Le,ne})})();const x=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function x(L,q,ne,U){this.animation=L,this.artboard=q,this.playing=U,this.loopCount=0,this.scrubTo=null,this.instance=new ne.LinearAnimationInstance(L,q)}return Object.defineProperty(x.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"time",{get:function(){return this.instance.time},set:function(L){this.instance.time=L},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),x.prototype.advance=function(L){this.scrubTo===null?this.instance.advance(L):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},x.prototype.apply=function(L){this.instance.apply(L)},x.prototype.cleanup=function(){this.instance.delete()},x})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>L.AudioAssetWrapper,AudioWrapper:()=>L.AudioWrapper,BLANK_URL:()=>x.BLANK_URL,CustomFileAssetLoaderWrapper:()=>L.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>L.FileAssetWrapper,FileFinalizer:()=>L.FileFinalizer,FontAssetWrapper:()=>L.FontAssetWrapper,FontWrapper:()=>L.FontWrapper,ImageAssetWrapper:()=>L.ImageAssetWrapper,ImageWrapper:()=>L.ImageWrapper,createFinalization:()=>L.createFinalization,finalizationRegistry:()=>L.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>x.sanitizeUrl});var E=w(6),x=w(7),L=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>L});var E=void 0,x=function(q,ne,U){var xe,Re,Le=[];if(["touchstart","touchmove"].indexOf(q.type)>-1&&(!((xe=q.changedTouches)===null||xe===void 0)&&xe.length)){ne||q.preventDefault();for(var Ue=0,Be=U?q.changedTouches.length:1;Ue<Be;){var Ke=q.changedTouches[Ue];Le.push({clientX:Ke.clientX,clientY:Ke.clientY,identifier:Ke.identifier}),Ue++}}else if(q.type==="touchend"&&(!((Re=q.changedTouches)===null||Re===void 0)&&Re.length))for(var Ue=0,Be=U?q.changedTouches.length:1;Ue<Be;){var Ke=q.changedTouches[Ue];Le.push({clientX:Ke.clientX,clientY:Ke.clientY,identifier:Ke.identifier}),Ue++}else Le.push({clientX:q.clientX,clientY:q.clientY,identifier:0});return Le},L=function(q){var ne=q.canvas,U=q.artboard,xe=q.stateMachines,Re=xe===void 0?[]:xe,Le=q.renderer,Ue=q.rive,Be=q.fit,Ke=q.alignment,ot=q.isTouchScrollEnabled,at=ot===void 0?!1:ot,F=q.dispatchPointerExit,B=F===void 0?!0:F,k=q.enableMultiTouch,z=k===void 0?!1:k,C=q.layoutScaleFactor,V=C===void 0?1:C;if(!ne||!Re.length||!Le||!Ue||!U||typeof window>"u")return null;var I=null,Q=!1,ae=function(ee){if(Q&&ee instanceof MouseEvent){ee.type=="mouseup"&&(Q=!1);return}Q=at&&ee.type==="touchend"&&I==="touchstart",I=ee.type;var ge=ee.currentTarget.getBoundingClientRect(),he=x(ee,at,z),Ce=Ue.computeAlignment(Be,Ke,{minX:0,minY:0,maxX:ge.width,maxY:ge.height},U.bounds,V),P=new Ue.Mat2D;switch(Ce.invert(P),he.forEach(function(sn){var tt=sn.clientX,nn=sn.clientY;if(!(!tt&&!nn)){var mn=tt-ge.left,Ri=nn-ge.top,$n=new Ue.Vec2D(mn,Ri),on=Ue.mapXY(P,$n),Tn=on.x(),R=on.y();sn.transformedX=Tn,sn.transformedY=R,on.delete(),$n.delete()}}),P.delete(),Ce.delete(),ee.type){case"mouseout":for(var re=function(sn){B?he.forEach(function(tt){sn.pointerExit(tt.transformedX,tt.transformedY,tt.identifier)}):he.forEach(function(tt){sn.pointerMove(tt.transformedX,tt.transformedY,tt.identifier)})},Ae=0,ye=Re;Ae<ye.length;Ae++){var ve=ye[Ae];re(ve)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Fe=function(sn){he.forEach(function(tt){sn.pointerMove(tt.transformedX,tt.transformedY,tt.identifier)})},lt=0,ht=Re;lt<ht.length;lt++){var ve=ht[lt];Fe(ve)}break}case"touchstart":case"mousedown":{for(var _t=function(sn){he.forEach(function(tt){sn.pointerDown(tt.transformedX,tt.transformedY,tt.identifier)})},Dt=0,cn=Re;Dt<cn.length;Dt++){var ve=cn[Dt];_t(ve)}break}case"touchend":{for(var ut=function(sn){he.forEach(function(tt){sn.pointerUp(tt.transformedX,tt.transformedY,tt.identifier),sn.pointerExit(tt.transformedX,tt.transformedY,tt.identifier)})},Tt=0,Zt=Re;Tt<Zt.length;Tt++){var ve=Zt[Tt];ut(ve)}break}case"mouseup":{for(var Bt=function(sn){he.forEach(function(tt){sn.pointerUp(tt.transformedX,tt.transformedY,tt.identifier)})},Ut=0,si=Re;Ut<si.length;Ut++){var ve=si[Ut];Bt(ve)}break}}},H=ae.bind(E);return ne.addEventListener("mouseover",H),ne.addEventListener("mouseout",H),ne.addEventListener("mousemove",H),ne.addEventListener("mousedown",H),ne.addEventListener("mouseup",H),ne.addEventListener("touchmove",H,{passive:at}),ne.addEventListener("touchstart",H,{passive:at}),ne.addEventListener("touchend",H),function(){ne.removeEventListener("mouseover",H),ne.removeEventListener("mouseout",H),ne.removeEventListener("mousemove",H),ne.removeEventListener("mousedown",H),ne.removeEventListener("mouseup",H),ne.removeEventListener("touchmove",H),ne.removeEventListener("touchstart",H),ne.removeEventListener("touchend",H)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>xe,sanitizeUrl:()=>Ue});var E=/^([^\w]*)(javascript|data|vbscript)/im,x=/&#(\w+)(^\w|;)?/g,L=/&(newline|tab);/gi,q=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ne=/^.+(:|&colon;)/gim,U=[".","/"],xe="about:blank";function Re(Be){return U.indexOf(Be[0])>-1}function Le(Be){var Ke=Be.replace(q,"");return Ke.replace(x,function(ot,at){return String.fromCharCode(at)})}function Ue(Be){if(!Be)return xe;var Ke=Le(Be).replace(L,"").replace(q,"").trim();if(!Ke)return xe;if(Re(Ke))return Ke;var ot=Ke.match(ne);if(!ot)return Ke;var at=ot[0];return E.test(at)?xe:Ke}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>Be,AudioWrapper:()=>U,CustomFileAssetLoaderWrapper:()=>Re,FileAssetWrapper:()=>Le,FileFinalizer:()=>x,FontAssetWrapper:()=>Ke,FontWrapper:()=>xe,ImageAssetWrapper:()=>Ue,ImageWrapper:()=>ne,createFinalization:()=>B,finalizationRegistry:()=>F});var E=(function(){var k=function(z,C){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,I){V.__proto__=I}||function(V,I){for(var Q in I)Object.prototype.hasOwnProperty.call(I,Q)&&(V[Q]=I[Q])},k(z,C)};return function(z,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");k(z,C);function V(){this.constructor=z}z.prototype=C===null?Object.create(C):(V.prototype=C.prototype,new V)}})(),x=(function(){function k(z){this.selfUnref=!1,this._file=z}return k.prototype.unref=function(){this._file&&this._file.unref()},k})(),L=(function(){function k(z){this._finalizableObject=z}return k.prototype.unref=function(){this._finalizableObject.unref()},k})(),q=(function(){function k(){this.selfUnref=!1}return k.prototype.unref=function(){},k})(),ne=(function(k){E(z,k);function z(C){var V=k.call(this)||this;return V._nativeImage=C,V}return Object.defineProperty(z.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),z.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},z})(q),U=(function(k){E(z,k);function z(C){var V=k.call(this)||this;return V._nativeAudio=C,V}return Object.defineProperty(z.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),z.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},z})(q),xe=(function(k){E(z,k);function z(C){var V=k.call(this)||this;return V._nativeFont=C,V}return Object.defineProperty(z.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),z.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},z})(q),Re=(function(){function k(z,C){this._assetLoaderCallback=C,this.assetLoader=new z.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return k.prototype.loadContents=function(z,C){var V;return z.isImage?V=new Ue(z):z.isAudio?V=new Be(z):z.isFont&&(V=new Ke(z)),this._assetLoaderCallback(V,C)},k})(),Le=(function(){function k(z){this._nativeFileAsset=z}return k.prototype.decode=function(z){this._nativeFileAsset.decode(z)},Object.defineProperty(k.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),k})(),Ue=(function(k){E(z,k);function z(){return k!==null&&k.apply(this,arguments)||this}return z.prototype.setRenderImage=function(C){this._nativeFileAsset.setRenderImage(C.nativeImage)},z})(Le),Be=(function(k){E(z,k);function z(){return k!==null&&k.apply(this,arguments)||this}return z.prototype.setAudioSource=function(C){this._nativeFileAsset.setAudioSource(C.nativeAudio)},z})(Le),Ke=(function(k){E(z,k);function z(){return k!==null&&k.apply(this,arguments)||this}return z.prototype.setFont=function(C){this._nativeFileAsset.setFont(C.nativeFont)},z})(Le),ot=(function(){function k(z){}return k.prototype.register=function(z){z.selfUnref=!0},k.prototype.unregister=function(z){},k})(),at=typeof FinalizationRegistry<"u"?FinalizationRegistry:ot,F=new at(function(k){k?.unref()}),B=function(k,z){var C=new L(z);F.register(k,C)}})],s={};function l(p){var b=s[p];if(b!==void 0)return b.exports;var w=s[p]={exports:{}};return i[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>Ue,DataEnum:()=>lt,EventType:()=>I,Fit:()=>Le,Layout:()=>Be,LoopType:()=>Q,Rive:()=>ve,RiveEventType:()=>F,RiveFile:()=>ye,RuntimeLoader:()=>Ke,StateMachineInput:()=>at,StateMachineInputType:()=>ot,Testing:()=>Ri,ViewModel:()=>Fe,ViewModelInstance:()=>_t,ViewModelInstanceArtboard:()=>tt,ViewModelInstanceAssetImage:()=>sn,ViewModelInstanceBoolean:()=>Tt,ViewModelInstanceColor:()=>si,ViewModelInstanceEnum:()=>Bt,ViewModelInstanceList:()=>Ut,ViewModelInstanceNumber:()=>ut,ViewModelInstanceString:()=>cn,ViewModelInstanceTrigger:()=>Zt,ViewModelInstanceValue:()=>Dt,decodeAudio:()=>$n,decodeFont:()=>Tn,decodeImage:()=>on});var p=l(1),b=l(2),w=l(3),E=l(5),x=(function(){var R=function(g,v){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,W){D.__proto__=W}||function(D,W){for(var de in W)Object.prototype.hasOwnProperty.call(W,de)&&(D[de]=W[de])},R(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");R(g,v);function D(){this.constructor=g}g.prototype=v===null?Object.create(v):(D.prototype=v.prototype,new D)}})(),L=function(){return L=Object.assign||function(R){for(var g,v=1,D=arguments.length;v<D;v++){g=arguments[v];for(var W in g)Object.prototype.hasOwnProperty.call(g,W)&&(R[W]=g[W])}return R},L.apply(this,arguments)},q=function(R,g,v,D){function W(de){return de instanceof v?de:new v(function(Ie){Ie(de)})}return new(v||(v=Promise))(function(de,Ie){function We(Je){try{He(D.next(Je))}catch(en){Ie(en)}}function $e(Je){try{He(D.throw(Je))}catch(en){Ie(en)}}function He(Je){Je.done?de(Je.value):W(Je.value).then(We,$e)}He((D=D.apply(R,g||[])).next())})},ne=function(R,g){var v={label:0,sent:function(){if(de[0]&1)throw de[1];return de[1]},trys:[],ops:[]},D,W,de,Ie=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ie.next=We(0),Ie.throw=We(1),Ie.return=We(2),typeof Symbol=="function"&&(Ie[Symbol.iterator]=function(){return this}),Ie;function We(He){return function(Je){return $e([He,Je])}}function $e(He){if(D)throw new TypeError("Generator is already executing.");for(;Ie&&(Ie=0,He[0]&&(v=0)),v;)try{if(D=1,W&&(de=He[0]&2?W.return:He[0]?W.throw||((de=W.return)&&de.call(W),0):W.next)&&!(de=de.call(W,He[1])).done)return de;switch(W=0,de&&(He=[He[0]&2,de.value]),He[0]){case 0:case 1:de=He;break;case 4:return v.label++,{value:He[1],done:!1};case 5:v.label++,W=He[1],He=[0];continue;case 7:He=v.ops.pop(),v.trys.pop();continue;default:if(de=v.trys,!(de=de.length>0&&de[de.length-1])&&(He[0]===6||He[0]===2)){v=0;continue}if(He[0]===3&&(!de||He[1]>de[0]&&He[1]<de[3])){v.label=He[1];break}if(He[0]===6&&v.label<de[1]){v.label=de[1],de=He;break}if(de&&v.label<de[2]){v.label=de[2],v.ops.push(He);break}de[2]&&v.ops.pop(),v.trys.pop();continue}He=g.call(R,v)}catch(Je){He=[6,Je],W=0}finally{D=de=0}if(He[0]&5)throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}},U=function(R,g,v){if(v||arguments.length===2)for(var D=0,W=g.length,de;D<W;D++)(de||!(D in g))&&(de||(de=Array.prototype.slice.call(g,0,D)),de[D]=g[D]);return R.concat(de||Array.prototype.slice.call(g))},xe=(function(R){x(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Re=function(R){return R&&R.isHandledError?R.message:"Problem loading file; may be corrupt!"},Le;(function(R){R.Cover="cover",R.Contain="contain",R.Fill="fill",R.FitWidth="fitWidth",R.FitHeight="fitHeight",R.None="none",R.ScaleDown="scaleDown",R.Layout="layout"})(Le||(Le={}));var Ue;(function(R){R.Center="center",R.TopLeft="topLeft",R.TopCenter="topCenter",R.TopRight="topRight",R.CenterLeft="centerLeft",R.CenterRight="centerRight",R.BottomLeft="bottomLeft",R.BottomCenter="bottomCenter",R.BottomRight="bottomRight"})(Ue||(Ue={}));var Be=(function(){function R(g){var v,D,W,de,Ie,We,$e;this.fit=(v=g?.fit)!==null&&v!==void 0?v:Le.Contain,this.alignment=(D=g?.alignment)!==null&&D!==void 0?D:Ue.Center,this.layoutScaleFactor=(W=g?.layoutScaleFactor)!==null&&W!==void 0?W:1,this.minX=(de=g?.minX)!==null&&de!==void 0?de:0,this.minY=(Ie=g?.minY)!==null&&Ie!==void 0?Ie:0,this.maxX=(We=g?.maxX)!==null&&We!==void 0?We:0,this.maxY=($e=g?.maxY)!==null&&$e!==void 0?$e:0}return R.new=function(g){var v=g.fit,D=g.alignment,W=g.minX,de=g.minY,Ie=g.maxX,We=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new R({fit:v,alignment:D,minX:W,minY:de,maxX:Ie,maxY:We})},R.prototype.copyWith=function(g){var v=g.fit,D=g.alignment,W=g.layoutScaleFactor,de=g.minX,Ie=g.minY,We=g.maxX,$e=g.maxY;return new R({fit:v??this.fit,alignment:D??this.alignment,layoutScaleFactor:W??this.layoutScaleFactor,minX:de??this.minX,minY:Ie??this.minY,maxX:We??this.maxX,maxY:$e??this.maxY})},R.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===Le.Cover?v=g.Fit.cover:this.fit===Le.Contain?v=g.Fit.contain:this.fit===Le.Fill?v=g.Fit.fill:this.fit===Le.FitWidth?v=g.Fit.fitWidth:this.fit===Le.FitHeight?v=g.Fit.fitHeight:this.fit===Le.ScaleDown?v=g.Fit.scaleDown:this.fit===Le.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},R.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===Ue.TopLeft?v=g.Alignment.topLeft:this.alignment===Ue.TopCenter?v=g.Alignment.topCenter:this.alignment===Ue.TopRight?v=g.Alignment.topRight:this.alignment===Ue.CenterLeft?v=g.Alignment.centerLeft:this.alignment===Ue.CenterRight?v=g.Alignment.centerRight:this.alignment===Ue.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===Ue.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===Ue.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},R})(),Ke=(function(){function R(){}return R.loadRuntime=function(){p.default({locateFile:function(){return R.wasmURL}}).then(function(g){var v;for(R.runtime=g;R.callBackQueue.length>0;)(v=R.callBackQueue.shift())===null||v===void 0||v(R.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var D="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(R.wasmURL.toLowerCase()!==D)console.warn("Failed to load WASM from ".concat(R.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),R.setWasmUrl(D),R.loadRuntime();else{var W=["Could not load Rive WASM file from ".concat(R.wasmURL," or ").concat(D,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(W)}})},R.getInstance=function(g){R.isLoading||(R.isLoading=!0,R.loadRuntime()),R.runtime?g(R.runtime):R.callBackQueue.push(g)},R.awaitInstance=function(){return new Promise(function(g){return R.getInstance(function(v){return g(v)})})},R.setWasmUrl=function(g){R.wasmURL=g},R.getWasmUrl=function(){return R.wasmURL},R.isLoading=!1,R.callBackQueue=[],R.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),R})(),ot;(function(R){R[R.Number=56]="Number",R[R.Trigger=58]="Trigger",R[R.Boolean=59]="Boolean"})(ot||(ot={}));var at=(function(){function R(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(R.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),R.prototype.fire=function(){this.type===ot.Trigger&&this.runtimeInput.fire()},R.prototype.delete=function(){this.runtimeInput=null},R})(),F;(function(R){R[R.General=128]="General",R[R.OpenUrl=131]="OpenUrl"})(F||(F={}));var B=(function(){function R(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return R})(),k=(function(R){x(g,R);function g(v,D){var W=R.call(this,!1)||this;return W.nativeArtboard=v,W.file=D,W}return g})(B),z=(function(R){x(g,R);function g(v){var D=R.call(this,!0)||this;return D.selfUnref=!1,D.nativeArtboard=v,D}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(B),C=(function(){function R(g,v,D,W){this.stateMachine=g,this.playing=D,this.artboard=W,this.inputs=[],this.instance=new v.StateMachineInstance(g,W),this.initInputs(v)}return Object.defineProperty(R.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),R.prototype.advance=function(g){this.instance.advance(g)},R.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},R.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},R.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},R.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var D=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(D,g))}},R.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new at(ot.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new at(ot.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new at(ot.Trigger,g.asTrigger())},R.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},R.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},R})(),V=(function(){function R(g,v,D,W,de){W===void 0&&(W=[]),de===void 0&&(de=[]),this.runtime=g,this.artboard=v,this.eventManager=D,this.animations=W,this.stateMachines=de}return R.prototype.add=function(g,v,D){if(D===void 0&&(D=!0),g=mn(g),g.length===0)this.animations.forEach(function(pn){return pn.playing=v}),this.stateMachines.forEach(function(pn){return pn.playing=v});else for(var W=this.animations.map(function(pn){return pn.name}),de=this.stateMachines.map(function(pn){return pn.name}),Ie=0;Ie<g.length;Ie++){var We=W.indexOf(g[Ie]),$e=de.indexOf(g[Ie]);if(We>=0||$e>=0)We>=0?this.animations[We].playing=v:this.stateMachines[$e].playing=v;else{var He=this.artboard.animationByName(g[Ie]);if(He){var Je=new w.Animation(He,this.artboard,this.runtime,v);Je.advance(0),Je.apply(1),this.animations.push(Je)}else{var en=this.artboard.stateMachineByName(g[Ie]);if(en){var xn=new C(en,this.runtime,v,this.artboard);this.stateMachines.push(xn)}}}}return D&&(v?this.eventManager.fire({type:I.Play,data:this.playing}):this.eventManager.fire({type:I.Pause,data:this.paused})),v?this.playing:this.paused},R.prototype.initLinearAnimations=function(g,v){for(var D=this.animations.map(function($e){return $e.name}),W=0;W<g.length;W++){var de=D.indexOf(g[W]);if(de>=0)this.animations[de].playing=v;else{var Ie=this.artboard.animationByName(g[W]);if(Ie){var We=new w.Animation(Ie,this.artboard,this.runtime,v);We.advance(0),We.apply(1),this.animations.push(We)}else console.error("Animation with name ".concat(g[W]," not found."))}}},R.prototype.initStateMachines=function(g,v){for(var D=this.stateMachines.map(function($e){return $e.name}),W=0;W<g.length;W++){var de=D.indexOf(g[W]);if(de>=0)this.stateMachines[de].playing=v;else{var Ie=this.artboard.stateMachineByName(g[W]);if(Ie){var We=new C(Ie,this.runtime,v,this.artboard);this.stateMachines.push(We)}else console.warn("State Machine with name ".concat(g[W]," not found.")),this.initLinearAnimations([g[W]],v)}}},R.prototype.play=function(g){return this.add(g,!0)},R.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},R.prototype.pause=function(g){return this.add(g,!1)},R.prototype.scrub=function(g,v){var D=this.animations.filter(function(W){return g.includes(W.name)});return D.forEach(function(W){return W.scrubTo=v}),D.map(function(W){return W.name})},Object.defineProperty(R.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),R.prototype.stop=function(g){var v=this;g=mn(g);var D=[];if(g.length===0)D=this.animations.map(function(Ie){return Ie.name}).concat(this.stateMachines.map(function(Ie){return Ie.name})),this.animations.forEach(function(Ie){return Ie.cleanup()}),this.stateMachines.forEach(function(Ie){return Ie.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var W=this.animations.filter(function(Ie){return g.includes(Ie.name)});W.forEach(function(Ie){Ie.cleanup(),v.animations.splice(v.animations.indexOf(Ie),1)});var de=this.stateMachines.filter(function(Ie){return g.includes(Ie.name)});de.forEach(function(Ie){Ie.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ie),1)}),D=W.map(function(Ie){return Ie.name}).concat(de.map(function(Ie){return Ie.name}))}return this.eventManager.fire({type:I.Stop,data:D}),D},Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),R.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var D;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([D=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([D=this.artboard.stateMachineByIndex(0).name],g,v)),D},R.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(W){return W.playing});g<v.length;g++){var D=v[g];D.loopValue===0&&D.loopCount?(D.loopCount=0,this.stop(D.name)):D.loopValue===1&&D.loopCount?(this.eventManager.fire({type:I.Loop,data:{animation:D.name,type:Q.Loop}}),D.loopCount=0):D.loopValue===2&&D.loopCount>1&&(this.eventManager.fire({type:I.Loop,data:{animation:D.name,type:Q.PingPong}}),D.loopCount=0)}},R.prototype.handleStateChanges=function(){for(var g=[],v=0,D=this.stateMachines.filter(function(de){return de.playing});v<D.length;v++){var W=D[v];g.push.apply(g,W.statesChanged)}g.length>0&&this.eventManager.fire({type:I.StateChange,data:g})},R.prototype.handleAdvancing=function(g){this.eventManager.fire({type:I.Advance,data:g})},R})(),I;(function(R){R.Load="load",R.LoadError="loaderror",R.Play="play",R.Pause="pause",R.Stop="stop",R.Loop="loop",R.Draw="draw",R.Advance="advance",R.StateChange="statechange",R.RiveEvent="riveevent",R.AudioStatusChange="audiostatuschange"})(I||(I={}));var Q;(function(R){R.OneShot="oneshot",R.Loop="loop",R.PingPong="pingpong"})(Q||(Q={}));var ae=(function(){function R(g){g===void 0&&(g=[]),this.listeners=g}return R.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},R.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},R.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var D=this.listeners[v];if(D.type===g.type&&D.callback===g.callback){this.listeners.splice(v,1);break}}},R.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(D){return D.type===g}).forEach(function(D){return v.remove(D)}):this.listeners.splice(0,this.listeners.length)},R.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(D){return D.callback(g)})},R})(),H=(function(){function R(g){this.eventManager=g,this.queue=[]}return R.prototype.add=function(g){this.queue.push(g)},R.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},R})(),ee;(function(R){R[R.AVAILABLE=0]="AVAILABLE",R[R.UNAVAILABLE=1]="UNAVAILABLE"})(ee||(ee={}));var ge=(function(R){x(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=ee.UNAVAILABLE,v}return g.prototype.delay=function(v){return q(this,void 0,void 0,function(){return ne(this,function(D){return[2,new Promise(function(W){return setTimeout(W,v)})]})})},g.prototype.timeout=function(){return q(this,void 0,void 0,function(){return ne(this,function(v){return[2,new Promise(function(D,W){return setTimeout(W,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:I.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return q(this,void 0,void 0,function(){return ne(this,function(v){return this._enabled||(this._enabled=!0,this._status=ee.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return q(this,void 0,void 0,function(){return ne(this,function(v){switch(v.label){case 0:if(!(this._status===ee.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return q(this,void 0,void 0,function(){return ne(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==ee.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,D=function(){return q(v,void 0,void 0,function(){return ne(this,function(W){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",D,{once:!0})},g.prototype.establishAudio=function(){return q(this,void 0,void 0,function(){return ne(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===ee.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(ae),he=new ge,Ce=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),P=globalThis.ResizeObserver||Ce,re=(function(){function R(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var D=g._elementsMap.get(v.target);D!==null?D.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new P(this._onObserved)}return R.prototype.add=function(g,v){var D={onResize:v,element:g};return this._elementsMap.set(g,D),this._resizeObserver.observe(g),D},R.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},R})(),Ae=new re,ye=(function(){function R(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new ae,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError)}return R.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},R.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},R.prototype.initData=function(){return q(this,void 0,void 0,function(){var g,v,D,W,de;return ne(this,function(Ie){switch(Ie.label){case 0:return this.src?(g=this,[4,nn(this.src)]):[3,2];case 1:g.buffer=Ie.sent(),Ie.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(D=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=D.assetLoader),W=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return W.file=Ie.sent(),de=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,de),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:I.Load,data:this}):this.fireLoadError(R.fileLoadErrorMessage),[2])}})})},R.prototype.init=function(){return q(this,void 0,void 0,function(){var g,v;return ne(this,function(D){switch(D.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(R.missingErrorMessage),[2];D.label=1;case 1:return D.trys.push([1,4,,5]),g=this,[4,Ke.awaitInstance()];case 2:return g.runtime=D.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return D.sent(),[3,5];case 4:return v=D.sent(),this.fireLoadError(v instanceof Error?v.message:R.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},R.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:I.LoadError,data:g}),new Error(g)},R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},R.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},R.prototype.createBindableArtboard=function(g){if(g!=null){var v=new z(g);return(0,E.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},R.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new k(v,this)},R.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},R.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},R.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},R.missingErrorMessage="Rive source file or data buffer required",R.fileLoadErrorMessage="The file failed to load",R})(),ve=(function(){function R(g){var v=this,D;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(W){var de=v._hasZeroSize!==W;v._hasZeroSize=W,W?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():de&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Ae.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(D=g.layout)!==null&&D!==void 0?D:new Be,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new ae,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError),g.onPlay&&this.on(I.Play,g.onPlay),g.onPause&&this.on(I.Pause,g.onPause),g.onStop&&this.on(I.Stop,g.onStop),g.onLoop&&this.on(I.Loop,g.onLoop),g.onStateChange&&this.on(I.StateChange,g.onStateChange),g.onAdvance&&this.on(I.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(I.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(I.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(I.Play,g.onplay),g.onpause&&!g.onPause&&this.on(I.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(I.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(I.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(I.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new H(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(R.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),R.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new R(g)},R.prototype.onSystemAudioChanged=function(){this.volume=this._volume},R.prototype.init=function(g){var v=this,D=g.src,W=g.buffer,de=g.riveFile,Ie=g.animations,We=g.stateMachines,$e=g.artboard,He=g.autoplay,Je=He===void 0?!1:He,en=g.useOffscreenRenderer,xn=en===void 0?!1:en,pn=g.autoBind,zn=pn===void 0?!1:pn;if(!this.destroyed){if(this.src=D,this.buffer=W,this.riveFile=de,!this.src&&!this.buffer&&!this.riveFile)throw new xe(R.missingErrorMessage);var Yn=mn(Ie),Ht=mn(We);this.loaded=!1,this.readyForPlaying=!1,Ke.awaitInstance().then(function(On){v.destroyed||(v.runtime=On,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,xn),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData($e,Yn,Ht,Je,zn).then(function(Vn){if(Vn)return v.setupRiveListeners()}).catch(function(Vn){console.error(Vn)}))}).catch(function(On){console.error(On)})}},R.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var D=(this.animator.stateMachines||[]).filter(function(We){return We.playing&&v.runtime.hasListeners(We.instance)}).map(function(We){return We.instance}),W=this.isTouchScrollEnabled,de=this.dispatchPointerExit,Ie=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(W=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:D,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:W,dispatchPointerExit:de,enableMultiTouch:Ie,layoutScaleFactor:this._layout.layoutScaleFactor})}},R.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},R.prototype.initializeAudio=function(){var g=this,v;he.status==ee.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:I.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},he.add(this._audioEventListener),he.establishAudio())},R.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},R.prototype.initData=function(g,v,D,W,de){return q(this,void 0,void 0,function(){var Ie,We,$e,He;return ne(this,function(Je){switch(Je.label){case 0:return Je.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ie=new ye({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ie,[4,Ie.init()]);case 1:if(Je.sent(),this.destroyed)return Ie.destroyIfUnused(),[2,!1];Je.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,D,W,de),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:I.Load,data:(He=this.src)!==null&&He!==void 0?He:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return We=Je.sent(),$e=Re(We),console.warn($e),this.eventManager.fire({type:I.LoadError,data:$e}),[2,Promise.reject($e)];case 4:return[2]}})})},R.prototype.initArtboard=function(g,v,D,W,de){if(this.file){var Ie=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ie){var We="Invalid artboard name or no default artboard";console.warn(We),this.eventManager.fire({type:I.LoadError,data:We});return}this.artboard=Ie,Ie.volume=this._volume*he.systemVolume,this.animator=new V(this.runtime,this.artboard,this.eventManager);var $e;if(v.length>0||D.length>0?($e=v.concat(D),this.animator.initLinearAnimations(v,W),this.animator.initStateMachines(D,W)):$e=[this.animator.atLeastOne(W,!1)],this.taskQueue.add({event:{type:W?I.Play:I.Pause,data:$e}}),de){var He=this.file.defaultArtboardViewModel(Ie);if(He!==null){var Je=He.defaultInstance();if(Je!==null){var en=new _t(Je,null);(0,E.createFinalization)(en,en.runtimeInstance),this.bindViewModelInstance(en)}}}}},R.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},R.prototype.draw=function(g,v){var D;this.frameRequestId=null;var W=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var de=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ie=this.animator.animations.filter(function($i){return $i.playing||$i.needsScrub}).sort(function($i){return $i.needsScrub?-1:1}),We=0,$e=Ie;We<$e.length;We++){var He=$e[We];He.advance(de),He.instance.didLoop&&(He.loopCount+=1),He.apply(1)}for(var Je=this.animator.stateMachines.filter(function($i){return $i.playing}),en=0,xn=Je;en<xn.length;en++){var pn=xn[en],zn=pn.reportedEventCount();if(zn)for(var Yn=0;Yn<zn;Yn++){var Ht=pn.reportedEventAt(Yn);if(Ht)if(Ht.type===F.OpenUrl){if(this.eventManager.fire({type:I.RiveEvent,data:Ht}),this.automaticallyHandleEvents){var On=document.createElement("a"),Vn=Ht,Xn=Vn.url,ji=Vn.target,pt=(0,E.sanitizeUrl)(Xn);Xn&&On.setAttribute("href",pt),ji&&On.setAttribute("target",ji),pt&&pt!==E.BLANK_URL&&On.click()}}else this.eventManager.fire({type:I.RiveEvent,data:Ht})}pn.advanceAndApply(de)}this.animator.stateMachines.length==0&&this.artboard.advance(de);var Fn=this.renderer;Fn.clear(),Fn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Fn),Fn.restore(),Fn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(de),this.frameCount++;var Rt=performance.now();for(this.frameTimes.push(Rt),this.durations.push(Rt-W);this.frameTimes[0]<=Rt-1e3;)this.frameTimes.shift(),this.durations.shift();(D=this._viewModelInstance)===null||D===void 0||D.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},R.prototype.alignRenderer=function(){var g=this,v=g.renderer,D=g.runtime,W=g._layout,de=g.artboard;v.align(W.runtimeFit(D),W.runtimeAlignment(D),{minX:W.minX,minY:W.minY,maxX:W.maxX,maxY:W.maxY},de.bounds,this._devicePixelRatioUsed*W.layoutScaleFactor)},Object.defineProperty(R.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),R.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ae.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(he.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},R.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},R.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},R.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var D=this.artboard.textRun(g);if(!D){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return D},R.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},R.prototype.setTextRunValue=function(g,v){var D=this.retrieveTextRun(g);D&&(D.text=v)},R.prototype.play=function(g,v){var D=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},R.prototype.pause=function(g){var v=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},R.prototype.scrub=function(g,v){var D=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},R.prototype.stop=function(g){var v=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},R.prototype.reset=function(g){var v,D,W=g?.artboard,de=mn(g?.animations),Ie=mn(g?.stateMachines),We=(v=g?.autoplay)!==null&&v!==void 0?v:!1,$e=(D=g?.autoBind)!==null&&D!==void 0?D:!1;this.cleanupInstances(),this.initArtboard(W,de,Ie,We,$e),this.taskQueue.process()},R.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(R.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),R.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},R.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),D=v.width,W=v.height,de=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=de,this.canvas.width=de*D,this.canvas.height=de*W,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Le.Layout){var Ie=this._layout.layoutScaleFactor;this.artboard.width=D/Ie,this.artboard.height=W/Ie}}},Object.defineProperty(R.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),R.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(D){return D.name===g});return v?.inputs}},R.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.inputByPath(g,v);if(!D){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},R.prototype.setBooleanStateAtPath=function(g,v,D){var W=this.retrieveInputAtPath(g,D);W&&(W.type===ot.Boolean?W.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a boolean")))},R.prototype.setNumberStateAtPath=function(g,v,D){var W=this.retrieveInputAtPath(g,D);W&&(W.type===ot.Number?W.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a number")))},R.prototype.fireStateAtPath=function(g,v){var D=this.retrieveInputAtPath(g,v);D&&(D.type===ot.Trigger?D.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},R.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.textByPath(g,v);if(!D){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},R.prototype.getTextRunValueAtPath=function(g,v){var D=this.retrieveTextAtPath(g,v);if(!D){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D.text},R.prototype.setTextRunValueAtPath=function(g,v,D){var W=this.retrieveTextAtPath(g,D);if(!W){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(D,"'"));return}W.text=v},Object.defineProperty(R.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},R.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},R.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},R.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},R.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(R.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var D=this.file.artboardByIndex(v),W={name:D.name,animations:[],stateMachines:[]},de=0;de<D.animationCount();de++){var Ie=D.animationByIndex(de);W.animations.push(Ie.name)}for(var We=0;We<D.stateMachineCount();We++){for(var $e=D.stateMachineByIndex(We),He=$e.name,Je=new this.runtime.StateMachineInstance($e,D),en=[],xn=0;xn<Je.inputCount();xn++){var pn=Je.input(xn);en.push({name:pn.name,type:pn.type})}W.stateMachines.push({name:He,inputs:en})}g.artboards.push(W)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*he.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),R.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(R.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),R.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(D){return D.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(R.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),R.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new Fe(v):null},R.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new Fe(v):null},R.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new lt(v)})}return this._dataEnums},R.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new Fe(g)}return null},R.prototype.getArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getBindableArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},R.missingErrorMessage="Rive source file or data buffer required",R.cleanupErrorMessage="Attempt to use file after calling cleanup.",R})(),Fe=(function(){function R(g){this._viewModel=g}return Object.defineProperty(R.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),R.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var D=new _t(v,null);return(0,E.createFinalization)(D,v),D}return null},R.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var D=new _t(v,null);return(0,E.createFinalization)(D,v),D}return null},R.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new _t(g,null);return(0,E.createFinalization)(v,g),v}return null},R.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new _t(g,null);return(0,E.createFinalization)(v,g),v}return null},Object.defineProperty(R.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),R})(),lt=(function(){function R(g){this._dataEnum=g}return Object.defineProperty(R.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),R})(),ht;(function(R){R.Number="number",R.String="string",R.Boolean="boolean",R.Color="color",R.Trigger="trigger",R.Enum="enum",R.List="list",R.Image="image",R.Artboard="artboard"})(ht||(ht={}));var _t=(function(){function R(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(R.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),R.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},R.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},R.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var D=this._parents[v];D.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},R.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},R.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},R.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},R.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},R.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},R.prototype.propertyFromPath=function(g,v){var D=g.split("/");return this.propertyFromPathSegments(D,0,v)},R.prototype.viewModelFromPathSegments=function(g,v){var D=this.internalViewModelInstance(g[v]);return D!==null?v==g.length-1?D:D.viewModelFromPathSegments(g,v++):null},R.prototype.propertyFromPathSegments=function(g,v,D){var W,de,Ie,We,$e,He,Je,en,xn,pn,zn,Yn,Ht,On,Vn,Xn,ji,pt;if(v<g.length-1){var Fn=this.internalViewModelInstance(g[v]);return Fn!==null?Fn.propertyFromPathSegments(g,v+1,D):null}var Rt=null;switch(D){case ht.Number:if(Rt=(de=(W=this._runtimeInstance)===null||W===void 0?void 0:W.number(g[v]))!==null&&de!==void 0?de:null,Rt!==null)return new ut(Rt,this);break;case ht.String:if(Rt=(We=(Ie=this._runtimeInstance)===null||Ie===void 0?void 0:Ie.string(g[v]))!==null&&We!==void 0?We:null,Rt!==null)return new cn(Rt,this);break;case ht.Boolean:if(Rt=(He=($e=this._runtimeInstance)===null||$e===void 0?void 0:$e.boolean(g[v]))!==null&&He!==void 0?He:null,Rt!==null)return new Tt(Rt,this);break;case ht.Color:if(Rt=(en=(Je=this._runtimeInstance)===null||Je===void 0?void 0:Je.color(g[v]))!==null&&en!==void 0?en:null,Rt!==null)return new si(Rt,this);break;case ht.Trigger:if(Rt=(pn=(xn=this._runtimeInstance)===null||xn===void 0?void 0:xn.trigger(g[v]))!==null&&pn!==void 0?pn:null,Rt!==null)return new Zt(Rt,this);break;case ht.Enum:if(Rt=(Yn=(zn=this._runtimeInstance)===null||zn===void 0?void 0:zn.enum(g[v]))!==null&&Yn!==void 0?Yn:null,Rt!==null)return new Bt(Rt,this);break;case ht.List:if(Rt=(On=(Ht=this._runtimeInstance)===null||Ht===void 0?void 0:Ht.list(g[v]))!==null&&On!==void 0?On:null,Rt!==null)return new Ut(Rt,this);break;case ht.Image:if(Rt=(Xn=(Vn=this._runtimeInstance)===null||Vn===void 0?void 0:Vn.image(g[v]))!==null&&Xn!==void 0?Xn:null,Rt!==null)return new sn(Rt,this);break;case ht.Artboard:if(Rt=(pt=(ji=this._runtimeInstance)===null||ji===void 0?void 0:ji.artboard(g[v]))!==null&&pt!==void 0?pt:null,Rt!==null)return new tt(Rt,this);break}return null},R.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var D=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(D!==null){var W=new R(D,this);return(0,E.createFinalization)(W,D),W.internalIncrementReferenceCount(),this._viewModelInstances.set(g,W),W}return null},R.prototype.number=function(g){var v=this.propertyFromPath(g,ht.Number);return v},R.prototype.string=function(g){var v=this.propertyFromPath(g,ht.String);return v},R.prototype.boolean=function(g){var v=this.propertyFromPath(g,ht.Boolean);return v},R.prototype.color=function(g){var v=this.propertyFromPath(g,ht.Color);return v},R.prototype.trigger=function(g){var v=this.propertyFromPath(g,ht.Trigger);return v},R.prototype.enum=function(g){var v=this.propertyFromPath(g,ht.Enum);return v},R.prototype.list=function(g){var v=this.propertyFromPath(g,ht.List);return v},R.prototype.image=function(g){var v=this.propertyFromPath(g,ht.Image);return v},R.prototype.artboard=function(g){var v=this.propertyFromPath(g,ht.Artboard);return v},R.prototype.viewModel=function(g){var v=g.split("/"),D=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return D!=null?D.internalViewModelInstance(v[v.length-1]):null},R.prototype.internalReplaceViewModel=function(g,v){var D;if(v.runtimeInstance!==null){var W=((D=this._runtimeInstance)===null||D===void 0?void 0:D.replaceViewModel(g,v.runtimeInstance))||!1;if(W){v.internalIncrementReferenceCount();var de=this.internalViewModelInstance(g);de!==null&&(de.removeParent(this),this._children.includes(de)&&(this._children=this._children.filter(function(Ie){return Ie!==de})),de.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return W}return!1},R.prototype.replaceViewModel=function(g,v){var D,W=g.split("/"),de=W.length>1?this.viewModelFromPathSegments(W.slice(0,W.length-1),0):this;return(D=de?.internalReplaceViewModel(W[W.length-1],v))!==null&&D!==void 0?D:!1},R.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},R.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(R.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return L({},v)}))||[]},enumerable:!1,configurable:!0}),R.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},R.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(de){de.cleanup()}),this._viewModelInstances.clear();var D=U([],this._children,!0);this._children.length=0;var W=U([],this._parents,!0);this._parents.length=0,D.forEach(function(de){de.removeParent(g)}),W.forEach(function(de){de.removeFromViewModelCallbacks(g)})}},R})(),Dt=(function(){function R(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return R.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},R.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},R.prototype.internalHandleCallback=function(g){},R.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},R.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},R.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),R})(),cn=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Dt),ut=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Dt),Tt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Dt),Zt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(Dt),Bt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Dt),Ut=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,D){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,D)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var D=this._viewModelInstanceValue.instanceAt(v);if(D!=null){var W=new _t(D,this._parentViewModel);return(0,E.createFinalization)(W,D),W}return null},g.prototype.swap=function(v,D){this._viewModelInstanceValue.swap(v,D)},g.prototype.internalHandleCallback=function(v){v()},g})(Dt),si=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,D,W){this._viewModelInstanceValue.rgb(v,D,W)},g.prototype.rgba=function(v,D,W,de){this._viewModelInstanceValue.argb(de,v,D,W)},g.prototype.argb=function(v,D,W,de){this._viewModelInstanceValue.argb(v,D,W,de)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Dt),sn=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D;this._viewModelInstanceValue.value((D=v?.nativeImage)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Dt),tt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D,W;v.isBindableArtboard?W=v:W=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((D=W?.nativeArtboard)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Dt),nn=function(R){return q(void 0,void 0,void 0,function(){var g,v,D;return ne(this,function(W){switch(W.label){case 0:return g=new Request(R),[4,fetch(g)];case 1:return v=W.sent(),[4,v.arrayBuffer()];case 2:return D=W.sent(),[2,D]}})})},mn=function(R){return typeof R=="string"?[R]:R instanceof Array?R:[]},Ri={EventManager:ae,TaskQueueManager:H},$n=function(R){return q(void 0,void 0,void 0,function(){var g,v,D;return ne(this,function(W){switch(W.label){case 0:return g=new Promise(function(de){return Ke.getInstance(function(Ie){Ie.decodeAudio(R,de)})}),[4,g];case 1:return v=W.sent(),D=new E.AudioWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})},on=function(R){return q(void 0,void 0,void 0,function(){var g,v,D;return ne(this,function(W){switch(W.label){case 0:return g=new Promise(function(de){return Ke.getInstance(function(Ie){Ie.decodeImage(R,de)})}),[4,g];case 1:return v=W.sent(),D=new E.ImageWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})},Tn=function(R){return q(void 0,void 0,void 0,function(){var g,v,D;return ne(this,function(W){switch(W.label){case 0:return g=new Promise(function(de){return Ke.getInstance(function(Ie){Ie.decodeFont(R,de)})}),[4,g];case 1:return v=W.sent(),D=new E.FontWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})}})(),c})())})(Eh)),Eh.exports}var c_;function MT(){return c_||(c_=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=ef(),i=xT();function s(C){return C&&typeof C=="object"&&"default"in C?C:{default:C}}var l=s(e),c=function(){return c=Object.assign||function(C){for(var V,I=1,Q=arguments.length;I<Q;I++)for(var ae in V=arguments[I])Object.prototype.hasOwnProperty.call(V,ae)&&(C[ae]=V[ae]);return C},c.apply(this,arguments)};function p(C,V){var I={};for(var Q in C)Object.prototype.hasOwnProperty.call(C,Q)&&V.indexOf(Q)<0&&(I[Q]=C[Q]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var ae=0;for(Q=Object.getOwnPropertySymbols(C);ae<Q.length;ae++)V.indexOf(Q[ae])<0&&Object.prototype.propertyIsEnumerable.call(C,Q[ae])&&(I[Q[ae]]=C[Q[ae]])}return I}function b(C,V,I,Q){return new(I||(I=Promise))(function(ae,H){function ee(Ce){try{he(Q.next(Ce))}catch(P){H(P)}}function ge(Ce){try{he(Q.throw(Ce))}catch(P){H(P)}}function he(Ce){var P;Ce.done?ae(Ce.value):(P=Ce.value,P instanceof I?P:new I(function(re){re(P)})).then(ee,ge)}he((Q=Q.apply(C,[])).next())})}function w(C,V){var I,Q,ae,H,ee={label:0,sent:function(){if(1&ae[0])throw ae[1];return ae[1]},trys:[],ops:[]};return H={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function ge(he){return function(Ce){return(function(P){if(I)throw new TypeError("Generator is already executing.");for(;ee;)try{if(I=1,Q&&(ae=2&P[0]?Q.return:P[0]?Q.throw||((ae=Q.return)&&ae.call(Q),0):Q.next)&&!(ae=ae.call(Q,P[1])).done)return ae;switch(Q=0,ae&&(P=[2&P[0],ae.value]),P[0]){case 0:case 1:ae=P;break;case 4:return ee.label++,{value:P[1],done:!1};case 5:ee.label++,Q=P[1],P=[0];continue;case 7:P=ee.ops.pop(),ee.trys.pop();continue;default:if(ae=ee.trys,!((ae=ae.length>0&&ae[ae.length-1])||P[0]!==6&&P[0]!==2)){ee=0;continue}if(P[0]===3&&(!ae||P[1]>ae[0]&&P[1]<ae[3])){ee.label=P[1];break}if(P[0]===6&&ee.label<ae[1]){ee.label=ae[1],ae=P;break}if(ae&&ee.label<ae[2]){ee.label=ae[2],ee.ops.push(P);break}ae[2]&&ee.ops.pop(),ee.trys.pop();continue}P=V.call(C,ee)}catch(re){P=[6,re],Q=0}finally{I=ae=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}})([he,Ce])}}}function E(C){var V=C||x(),I=e.useState(V),Q=I[0],ae=I[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var H=function(){var ge=C||x();ae(ge)},ee=window.matchMedia("screen and (resolution: ".concat(Q,"dppx)"));return ee.hasOwnProperty("addEventListener")?ee.addEventListener("change",H):ee.addListener(H),function(){ee.hasOwnProperty("removeEventListener")?ee.removeEventListener("change",H):ee.removeListener(H)}}},[Q,C]),Q}function x(){var C=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,C),3)}var L=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),q=globalThis.ResizeObserver||L,ne=globalThis.ResizeObserver!==void 0,U=!ne;function xe(C,V){V===void 0&&(V=!0);var I=e.useState({width:0,height:0}),Q=I[0],ae=I[1];e.useEffect(function(){if(typeof window<"u"&&V){var Ce=function(){ae({width:window.innerWidth,height:window.innerHeight})};return U&&(Ce(),window.addEventListener("resize",Ce)),function(){return window.removeEventListener("resize",Ce)}}},[]);var H,ee,ge,he=e.useRef(new q((H=function(Ce){ne&&ae({width:Ce[Ce.length-1].contentRect.width,height:Ce[Ce.length-1].contentRect.height})},ee=0,ge=0,function(){for(var Ce=this,P=[],re=0;re<arguments.length;re++)P[re]=arguments[re];clearTimeout(ge),ge=window.setTimeout(function(){return H.apply(Ce,P)},ee)})));return e.useEffect(function(){var Ce=he.current;if(V){var P=C.current;return C.current&&ne&&Ce.observe(C.current),function(){Ce.disconnect(),P&&ne&&Ce.unobserve(P)}}Ce.disconnect()},[C,he]),Q}var Re={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Le(C){return Object.assign({},Re,C)}function Ue(C){var V=C.riveLoaded,I=V!==void 0&&V,Q=C.canvasElem,ae=C.containerRef,H=C.options,ee=H===void 0?{}:H,ge=C.onCanvasHasResized,he=C.artboardBounds,Ce=Le(ee),P=e.useState({height:0,width:0}),re=P[0],Ae=re.height,ye=re.width,ve=P[1],Fe=e.useState({height:0,width:0}),lt=Fe[0],ht=lt.height,_t=lt.width,Dt=Fe[1],cn=e.useState(!0),ut=cn[0],Tt=cn[1],Zt=Ce.fitCanvasToArtboardHeight,Bt=Ce.shouldResizeCanvasToContainer,Ut=Ce.useDevicePixelRatio,si=Ce.customDevicePixelRatio,sn=xe(ae,Bt),tt=E(si),nn=he??{},mn=nn.maxX,Ri=nn.maxY,$n=e.useCallback(function(){var on,Tn,R,g,v=(Tn=(on=ae.current)===null||on===void 0?void 0:on.clientWidth)!==null&&Tn!==void 0?Tn:0,D=(g=(R=ae.current)===null||R===void 0?void 0:R.clientHeight)!==null&&g!==void 0?g:0;return Zt&&he?{width:v,height:v*(he.maxY/he.maxX)}:{width:v,height:D}},[ae,Zt,mn,Ri]);e.useEffect(function(){if(Bt&&ae.current&&I){var on=$n(),Tn=on.width,R=on.height,g=!1;if(Q){var v=Tn!==ye||R!==Ae;if(Ce.fitCanvasToArtboardHeight&&v&&(ae.current.style.height=R+"px",g=!0),Ce.useDevicePixelRatio){if(v||Tn*tt!==_t||R*tt!==ht){var D=tt*Tn,W=tt*R;Q.width=D,Q.height=W,Q.style.width=Tn+"px",Q.style.height=R+"px",Dt({width:D,height:W}),g=!0}}else v&&(Q.width=Tn,Q.height=R,Dt({width:Tn,height:R}),g=!0);ve({width:Tn,height:R})}ge&&(ut||g)&&ge&&ge(),ut&&Tt(!1)}},[Q,ae,sn,tt,$n,ut,Tt,ht,_t,Ae,ye,ge,Bt,Zt,Ut,I]),e.useEffect(function(){Dt({width:0,height:0})},[Q])}var Be,Ke=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),ot=globalThis.IntersectionObserver||Ke,at=(function(){function C(){var V=this;this.elementsMap=new Map,this.onObserved=function(I){I.forEach(function(Q){var ae=V.elementsMap.get(Q.target);ae&&ae(Q)})},this.observer=new ot(this.onObserved)}return C.prototype.registerCallback=function(V,I){this.observer.observe(V),this.elementsMap.set(V,I)},C.prototype.removeCallback=function(V){this.observer.unobserve(V),this.elementsMap.delete(V)},C})(),F=function(){return Be||(Be=new at),Be};function B(C){var V=C.setContainerRef,I=C.setCanvasRef,Q=C.className,ae=Q===void 0?"":Q,H=C.style,ee=C.children,ge=p(C,["setContainerRef","setCanvasRef","className","style","children"]),he=c({width:"100%",height:"100%"},H);return l.default.createElement("div",c({ref:V,className:ae},!ae&&{style:he}),l.default.createElement("canvas",c({ref:I,style:{verticalAlign:"top",width:0,height:0}},ge),ee))}function k(C,V){V===void 0&&(V={});var I=e.useState(null),Q=I[0],ae=I[1],H=e.useRef(null),ee=e.useRef(null),ge=e.useState(null),he=ge[0],Ce=ge[1],P=!!C,re=Le(V),Ae=E(),ye=e.useCallback(function(){if(he){if(he.layout&&he.layout.fit===i.Fit.Layout&&Q){var ut=Ae*he.layout.layoutScaleFactor;he.devicePixelRatioUsed=Ae,he.artboardWidth=Q?.width/ut,he.artboardHeight=Q?.height/ut}he.startRendering(),he.resizeToCanvas()}},[he,Ae]);Ue({riveLoaded:!!he,canvasElem:Q,containerRef:H,options:re,onCanvasHasResized:ye,artboardBounds:he?.bounds});var ve=e.useCallback(function(ut){ut===null&&Q&&(Q.height=0,Q.width=0),ae(ut)},[]);e.useEffect(function(){if(Q&&C){var ut,Tt=he!=null;if(he==null){var Zt=re.useOffscreenRenderer,Bt=C.onRiveReady,Ut=p(C,["onRiveReady"]);ut=new i.Rive(c(c({useOffscreenRenderer:Zt},Ut),{canvas:Q})),ee.current!=null&&ee.current.cleanup(),ee.current=ut,ut.on(i.EventType.Load,function(){Tt=!0,Bt&&Bt(ut),Q?Ce(ut):ut.cleanup()})}return function(){Tt||ut==null||ut.cleanup()}}},[Q,P,he]);var Fe=e.useCallback(function(ut){H.current=ut},[]),lt={observe:e.useCallback(function(ut,Tt){F().registerCallback(ut,Tt)},[]),unobserve:e.useCallback(function(ut){F().removeCallback(ut)},[])},ht=lt.observe,_t=lt.unobserve;e.useEffect(function(){var ut,Tt=!1,Zt=function(){if(Q&&Tt){var Bt=Q.getBoundingClientRect();Bt.width>0&&Bt.height>0&&Bt.top<(window.innerHeight||document.documentElement.clientHeight)&&Bt.bottom>0&&Bt.left<(window.innerWidth||document.documentElement.clientWidth)&&Bt.right>0&&(he?.startRendering(),Tt=!1)}};return Q&&re.shouldUseIntersectionObserver!==!1&&ht(Q,function(Bt){Bt.isIntersecting?he&&he.startRendering():he&&he.stopRendering(),Tt=!Bt.isIntersecting,clearTimeout(ut),Bt.isIntersecting||Bt.boundingClientRect.width!==0||(ut=setTimeout(Zt,10))}),function(){Q&&_t(Q)}},[ht,_t,he,Q,re.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){he&&(he.cleanup(),Ce(null))}},[he,Q]),e.useEffect(function(){return function(){ee.current!=null&&ee.current.cleanup()}},[]);var Dt=C?.animations;e.useEffect(function(){he&&Dt&&(he.isPlaying?(he.stop(he.animationNames),he.play(Dt)):he.isPaused&&(he.stop(he.animationNames),he.pause(Dt)))},[Dt,he]);var cn=e.useCallback(function(ut){return l.default.createElement(B,c({setContainerRef:Fe,setCanvasRef:ve},ut))},[ve,Fe]);return{canvas:Q,container:H.current,setCanvasRef:ve,setContainerRef:Fe,rive:he,RiveComponent:cn}}function z(C,V,I){var Q=e.useState(null),ae=Q[0],H=Q[1],ee=e.useState(I.defaultValue),ge=ee[0],he=ee[1],Ce=e.useState(null),P=Ce[0],re=Ce[1],Ae=e.useRef(null),ye=e.useRef(C),ve=e.useRef(I);e.useEffect(function(){ve.current=I},[I]);var Fe=e.useCallback(function(){var Dt=Ae.current,cn=ye.current,ut=ve.current;if(!Dt||!cn)return H(null),he(ut.defaultValue),re(null),function(){};var Tt=ut.getProperty(Dt,cn);if(Tt){H(Tt),he(ut.getValue(Tt)),ut.getExtendedData&&re(ut.getExtendedData(Tt));var Zt=function(){he(ut.getValue(Tt)),ut.getExtendedData&&re(ut.getExtendedData(Tt)),ut.onPropertyEvent&&ut.onPropertyEvent()};return Tt.on(Zt),function(){Tt.off(Zt)}}return function(){}},[]);e.useEffect(function(){return Ae.current=V,ye.current=C,Fe()},[V,C,Fe]);var lt=e.useCallback(function(Dt){if(ae&&Ae.current===V)try{return Dt(ae),void(ve.current.getExtendedData&&re(ve.current.getExtendedData(ae)))}catch{}if(Ae.current)try{var cn=ve.current.getProperty(Ae.current,ye.current);cn&&(H(cn),Dt(cn),ve.current.getExtendedData&&re(ve.current.getExtendedData(cn)))}catch{}},[ae,V]),ht=e.useMemo(function(){return ve.current.buildPropertyOperations(lt)},[lt]),_t=c({value:ge},ht);return I.getExtendedData&&(_t.extendedData=P),_t}r.default=function(C){var V=C.src,I=C.artboard,Q=C.animations,ae=C.stateMachines,H=C.layout,ee=C.useOffscreenRenderer,ge=ee===void 0||ee,he=C.shouldDisableRiveListeners,Ce=he!==void 0&&he,P=C.shouldResizeCanvasToContainer,re=P===void 0||P,Ae=C.automaticallyHandleEvents,ye=Ae!==void 0&&Ae,ve=C.children,Fe=p(C,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),lt=k({src:V,artboard:I,animations:Q,layout:H,stateMachines:ae,autoplay:!0,shouldDisableRiveListeners:Ce,automaticallyHandleEvents:ye},{useOffscreenRenderer:ge,shouldResizeCanvasToContainer:re}).RiveComponent;return l.default.createElement(lt,c({},Fe),ve)},r.useResizeCanvas=Ue,r.useRive=k,r.useRiveFile=function(C){var V=this,I=e.useState(null),Q=I[0],ae=I[1],H=e.useState("idle"),ee=H[0],ge=H[1];return e.useEffect(function(){var he=null;return b(V,void 0,void 0,function(){return w(this,function(Ce){try{ge("loading"),(he=new i.RiveFile(C)).init(),he.on(i.EventType.Load,function(){he?.getInstance(),ae(he),ge("success")}),he.on(i.EventType.LoadError,function(){ge("failed")}),ae(he)}catch(P){console.error(P),ge("failed")}return[2]})}),function(){he?.cleanup()}},[C.src,C.buffer]),{riveFile:Q,status:ee}},r.useStateMachineInput=function(C,V,I,Q){var ae=e.useState(null),H=ae[0],ee=ae[1];return e.useEffect(function(){function ge(){if(C&&V&&I||ee(null),C&&V&&I){var he=C.stateMachineInputs(V);if(he){var Ce=he.find(function(P){return P.name===I});Q!==void 0&&Ce&&(Ce.value=Q),ee(Ce||null)}}else ee(null)}ge(),C&&C.on(i.EventType.Load,function(){ge()})},[C]),H},r.useViewModel=function(C,V){var I=V??{},Q=I.name,ae=I.useDefault,H=ae!==void 0&&ae,ee=e.useState(null),ge=ee[0],he=ee[1];return e.useEffect(function(){function Ce(){var P;if(C){var re=null;re=Q!=null?((P=C.viewModelByName)===null||P===void 0?void 0:P.call(C,Q))||null:C.defaultViewModel()||null,he(re)}else he(null)}return Ce(),C&&C.on(i.EventType.Load,Ce),function(){C&&C.off(i.EventType.Load,Ce)}},[C,Q,H]),ge},r.useViewModelInstance=function(C,V){var I=V??{},Q=I.name,ae=I.useDefault,H=ae!==void 0&&ae,ee=I.useNew,ge=ee!==void 0&&ee,he=I.rive,Ce=e.useState(null),P=Ce[0],re=Ce[1];return e.useEffect(function(){var Ae,ye,ve;if(C){var Fe=null;Fe=Q!=null?C.instanceByName(Q)||null:H?((Ae=C.defaultInstance)===null||Ae===void 0?void 0:Ae.call(C))||null:ge?((ye=C.instance)===null||ye===void 0?void 0:ye.call(C))||null:((ve=C.defaultInstance)===null||ve===void 0?void 0:ve.call(C))||null,re(Fe),he&&Fe&&he.viewModelInstance!==Fe&&he.bindViewModelInstance(Fe)}else re(null)},[C,Q,H,ge,he]),P},r.useViewModelInstanceArtboard=function(C,V){return{setValue:z(C,V,{getProperty:e.useCallback(function(I,Q){return I.artboard(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(Q){I(function(ae){ae.value=Q})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(C,V){var I=z(C,V,{getProperty:e.useCallback(function(Q,ae){return Q.boolean(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(H){H.value=ae})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceColor=function(C,V){var I=z(C,V,{getProperty:e.useCallback(function(Q,ae){return Q.color(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(H){H.value=ae})},setRgb:function(ae,H,ee){Q(function(ge){ge.rgb(ae,H,ee)})},setRgba:function(ae,H,ee,ge){Q(function(he){he.rgba(ae,H,ee,ge)})},setAlpha:function(ae){Q(function(H){H.alpha(ae)})},setOpacity:function(ae){Q(function(H){H.opacity(ae)})}}},[])});return{value:I.value,setValue:I.setValue,setRgb:I.setRgb,setRgba:I.setRgba,setAlpha:I.setAlpha,setOpacity:I.setOpacity}},r.useViewModelInstanceEnum=function(C,V){var I=z(C,V,{getProperty:e.useCallback(function(Q,ae){return Q.enum(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(Q){return Q.values},[]),buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(H){H.value=ae})}}},[])});return{value:I.value,values:I.extendedData||[],setValue:I.setValue}},r.useViewModelInstanceImage=function(C,V){return{setValue:z(C,V,{getProperty:e.useCallback(function(I,Q){return I.image(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(Q){I(function(ae){ae.value=Q})}}},[])}).setValue}},r.useViewModelInstanceList=function(C,V){var I,Q=e.useState(0)[1],ae=z(C,V,{getProperty:e.useCallback(function(H,ee){return H.list(ee)},[]),getValue:e.useCallback(function(H){return H.length},[]),defaultValue:null,onPropertyEvent:function(){Q(function(H){return H+1})},buildPropertyOperations:e.useCallback(function(H){return{addInstance:function(ee){H(function(ge){return ge.addInstance(ee)})},addInstanceAt:function(ee,ge){var he=!1;return H(function(Ce){he=Ce.addInstanceAt(ee,ge)}),he},removeInstance:function(ee){H(function(ge){return ge.removeInstance(ee)})},removeInstanceAt:function(ee){H(function(ge){return ge.removeInstanceAt(ee)})},getInstanceAt:function(ee){var ge=null;return H(function(he){ge=he.instanceAt(ee)}),ge},swap:function(ee,ge){H(function(he){return he.swap(ee,ge)})}}},[])});return{length:(I=ae.value)!==null&&I!==void 0?I:0,addInstance:ae.addInstance,addInstanceAt:ae.addInstanceAt,removeInstance:ae.removeInstance,removeInstanceAt:ae.removeInstanceAt,getInstanceAt:ae.getInstanceAt,swap:ae.swap}},r.useViewModelInstanceNumber=function(C,V){var I=z(C,V,{getProperty:e.useCallback(function(Q,ae){return Q.number(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(H){H.value=ae})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceString=function(C,V){var I=z(C,V,{getProperty:e.useCallback(function(Q,ae){return Q.string(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(H){H.value=ae})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceTrigger=function(C,V,I){var Q=(I??{}).onTrigger;return{trigger:z(C,V,{getProperty:e.useCallback(function(ae,H){return ae.trigger(H)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:Q,buildPropertyOperations:e.useCallback(function(ae){return{trigger:function(){ae(function(H){H.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(C){C==="default"||r.hasOwnProperty(C)||Object.defineProperty(r,C,{enumerable:!0,get:function(){return i[C]}})})})(gm)),gm}var oo=MT();const OT=()=>{};var h_={};const Q0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},DT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[s++]=String.fromCharCode(55296+(w>>10)),e[s++]=String.fromCharCode(56320+(w&1023))}else{const c=r[i++],p=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},W0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,w=l+2<r.length,E=w?r[l+2]:0,x=c>>2,L=(c&3)<<4|b>>4;let q=(b&15)<<2|E>>6,ne=E&63;w||(ne=64,p||(q=64)),s.push(i[x],i[L],i[q],i[ne])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Q0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):DT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const E=l<r.length?i[r.charAt(l)]:64;++l;const L=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||E==null||L==null)throw new NT;const q=c<<2|b>>4;if(s.push(q),E!==64){const ne=b<<4&240|E>>2;if(s.push(ne),L!==64){const U=E<<6&192|L;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VT=function(r){const e=Q0(r);return W0.encodeByteArray(e,!0)},Nh=function(r){return VT(r).replace(/\./g,"")},K0=function(r){try{return W0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PT=()=>kT().__FIREBASE_DEFAULTS__,LT=()=>{if(typeof process>"u"||typeof h_>"u")return;const r=h_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},UT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&K0(r[1]);return e&&JSON.parse(e)},tf=()=>{try{return OT()||PT()||LT()||UT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$0=r=>tf()?.emulatorHosts?.[r],jT=r=>{const e=$0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},J0=()=>tf()?.config,Z0=r=>tf()?.[`_${r}`];class zT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Xl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eb(r){return(await fetch(r,{credentials:"include"})).ok}function BT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Nh(JSON.stringify(i)),Nh(JSON.stringify(p)),""].join(".")}const Fu={};function FT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?r.emulator.push(e):r.prod.push(e);return r}function HT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let f_=!1;function tb(r,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||Fu[r]===e||Fu[r]||f_)return;Fu[r]=e;function i(q){return`__firebase__banner__${q}`}const s="__firebase__banner",c=FT().prod.length>0;function p(){const q=document.getElementById(s);q&&q.remove()}function b(q){q.style.display="flex",q.style.background="#7faaf0",q.style.position="fixed",q.style.bottom="5px",q.style.left="5px",q.style.padding=".5em",q.style.borderRadius="5px",q.style.alignItems="center"}function w(q,ne){q.setAttribute("width","24"),q.setAttribute("id",ne),q.setAttribute("height","24"),q.setAttribute("viewBox","0 0 24 24"),q.setAttribute("fill","none"),q.style.marginLeft="-6px"}function E(){const q=document.createElement("span");return q.style.cursor="pointer",q.style.marginLeft="16px",q.style.fontSize="24px",q.innerHTML=" &times;",q.onclick=()=>{f_=!0,p()},q}function x(q,ne){q.setAttribute("id",ne),q.innerText="Learn more",q.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",q.setAttribute("target","__blank"),q.style.paddingLeft="5px",q.style.textDecoration="underline"}function L(){const q=HT(s),ne=i("text"),U=document.getElementById(ne)||document.createElement("span"),xe=i("learnmore"),Re=document.getElementById(xe)||document.createElement("a"),Le=i("preprendIcon"),Ue=document.getElementById(Le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(q.created){const Be=q.element;b(Be),x(Re,xe);const Ke=E();w(Ue,Le),Be.append(Ue,U,Re,Ke),document.body.appendChild(Be)}c?(U.innerText="Preview backend disconnected.",Ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",ne)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",L):L()}function Ki(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ki())}function GT(){const r=tf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WT(){const r=Ki();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function KT(){return!GT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $T(){try{return typeof indexedDB=="object"}catch{return!1}}function JT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const ZT="FirebaseError";class Ts extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=ZT,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?eA(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Ts(l,b,s)}}function eA(r,e){return r.replace(tA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const tA=/\{\$([^}]+)}/g;function nA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],p=e[l];if(d_(c)&&d_(p)){if(!Fo(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function d_(r){return r!==null&&typeof r=="object"}function rc(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function iA(r,e){const i=new rA(r,e);return i.subscribe.bind(i)}class rA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");aA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=ym),l.error===void 0&&(l.error=ym),l.complete===void 0&&(l.complete=ym);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function ym(){}function zr(r){return r&&r._delegate?r._delegate:r}class Ho{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zo="[DEFAULT]";class sA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new zT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lA(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:oA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oA(r){return r===zo?void 0:r}function lA(r){return r.instantiationMode==="EAGER"}class uA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new sA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Kt||(Kt={}));const cA={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},hA=Kt.INFO,fA={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},dA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=fA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rp{constructor(e){this.name=e,this._logLevel=hA,this._logHandler=dA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const mA=(r,e)=>e.some(i=>r instanceof i);let m_,p_;function pA(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gA(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nb=new WeakMap,Nm=new WeakMap,ib=new WeakMap,vm=new WeakMap,ap=new WeakMap;function yA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(uo(r.result)),l()},p=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&nb.set(i,r)}).catch(()=>{}),ap.set(e,r),e}function vA(r){if(Nm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});Nm.set(r,e)}let Vm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Nm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ib.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return uo(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _A(r){Vm=r(Vm)}function bA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(_m(this),e,...i);return ib.set(s,e.sort?e.sort():[e]),uo(s)}:gA().includes(r)?function(...e){return r.apply(_m(this),e),uo(nb.get(this))}:function(...e){return uo(r.apply(_m(this),e))}}function wA(r){return typeof r=="function"?bA(r):(r instanceof IDBTransaction&&vA(r),mA(r,pA())?new Proxy(r,Vm):r)}function uo(r){if(r instanceof IDBRequest)return yA(r);if(vm.has(r))return vm.get(r);const e=wA(r);return e!==r&&(vm.set(r,e),ap.set(e,r)),e}const _m=r=>ap.get(r);function EA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=uo(p);return s&&p.addEventListener("upgradeneeded",w=>{s(uo(p.result),w.oldVersion,w.newVersion,uo(p.transaction),w)}),i&&p.addEventListener("blocked",w=>i(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const TA=["get","getKey","getAll","getAllKeys","count"],AA=["put","add","delete","clear"],bm=new Map;function g_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=AA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||TA.includes(i)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return s&&(E=E.index(b.shift())),(await Promise.all([E[i](...b),l&&w.done]))[0]};return bm.set(e,c),c}_A(r=>({...r,get:(e,i,s)=>g_(e,i)||r.get(e,i,s),has:(e,i)=>!!g_(e,i)||r.has(e,i)}));class SA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function RA(r){return r.getComponent()?.type==="VERSION"}const km="@firebase/app",y_="0.14.6";const ys=new rp("@firebase/app"),CA="@firebase/app-compat",IA="@firebase/analytics-compat",xA="@firebase/analytics",MA="@firebase/app-check-compat",OA="@firebase/app-check",DA="@firebase/auth",NA="@firebase/auth-compat",VA="@firebase/database",kA="@firebase/data-connect",PA="@firebase/database-compat",LA="@firebase/functions",UA="@firebase/functions-compat",jA="@firebase/installations",zA="@firebase/installations-compat",BA="@firebase/messaging",FA="@firebase/messaging-compat",HA="@firebase/performance",qA="@firebase/performance-compat",GA="@firebase/remote-config",YA="@firebase/remote-config-compat",XA="@firebase/storage",QA="@firebase/storage-compat",WA="@firebase/firestore",KA="@firebase/ai",$A="@firebase/firestore-compat",JA="firebase",ZA="12.6.0";const Pm="[DEFAULT]",eS={[km]:"fire-core",[CA]:"fire-core-compat",[xA]:"fire-analytics",[IA]:"fire-analytics-compat",[OA]:"fire-app-check",[MA]:"fire-app-check-compat",[DA]:"fire-auth",[NA]:"fire-auth-compat",[VA]:"fire-rtdb",[kA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[LA]:"fire-fn",[UA]:"fire-fn-compat",[jA]:"fire-iid",[zA]:"fire-iid-compat",[BA]:"fire-fcm",[FA]:"fire-fcm-compat",[HA]:"fire-perf",[qA]:"fire-perf-compat",[GA]:"fire-rc",[YA]:"fire-rc-compat",[XA]:"fire-gcs",[QA]:"fire-gcs-compat",[WA]:"fire-fst",[$A]:"fire-fst-compat",[KA]:"fire-vertex","fire-js":"fire-js",[JA]:"fire-js-all"};const Vh=new Map,tS=new Map,Lm=new Map;function v_(r,e){try{r.container.addComponent(e)}catch(i){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function zl(r){const e=r.name;if(Lm.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,r);for(const i of Vh.values())v_(i,r);for(const i of tS.values())v_(i,r);return!0}function sp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ta(r){return r==null?!1:r.settings!==void 0}const nS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new ic("app","Firebase",nS);class iS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}const Ql=ZA;function rb(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Pm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw co.create("bad-app-name",{appName:String(l)});if(i||(i=J0()),!i)throw co.create("no-options");const c=Vh.get(l);if(c){if(Fo(i,c.options)&&Fo(s,c.config))return c;throw co.create("duplicate-app",{appName:l})}const p=new uA(l);for(const w of Lm.values())p.addComponent(w);const b=new iS(i,s,p);return Vh.set(l,b),b}function ab(r=Pm){const e=Vh.get(r);if(!e&&r===Pm&&J0())return rb();if(!e)throw co.create("no-app",{appName:r});return e}function ho(r,e,i){let s=eS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(p.join(" "));return}zl(new Ho(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const rS="firebase-heartbeat-database",aS=1,Qu="firebase-heartbeat-store";let wm=null;function sb(){return wm||(wm=EA(rS,aS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Qu)}catch(i){console.warn(i)}}}}).catch(r=>{throw co.create("idb-open",{originalErrorMessage:r.message})})),wm}async function sS(r){try{const i=(await sb()).transaction(Qu),s=await i.objectStore(Qu).get(ob(r));return await i.done,s}catch(e){if(e instanceof Ts)ys.warn(e.message);else{const i=co.create("idb-get",{originalErrorMessage:e?.message});ys.warn(i.message)}}}async function __(r,e){try{const s=(await sb()).transaction(Qu,"readwrite");await s.objectStore(Qu).put(e,ob(r)),await s.done}catch(i){if(i instanceof Ts)ys.warn(i.message);else{const s=co.create("idb-set",{originalErrorMessage:i?.message});ys.warn(s.message)}}}function ob(r){return`${r.name}!${r.options.appId}`}const oS=1024,lS=30;class uS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=b_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>lS){const l=fS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b_(),{heartbeatsToSend:i,unsentEntries:s}=cS(this._heartbeatsCache.heartbeats),l=Nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ys.warn(e),""}}}function b_(){return new Date().toISOString().substring(0,10)}function cS(r,e=oS){const i=[];let s=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),w_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),w_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class hS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $T()?JT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function w_(r){return Nh(JSON.stringify({version:2,heartbeats:r})).length}function fS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function dS(r){zl(new Ho("platform-logger",e=>new SA(e),"PRIVATE")),zl(new Ho("heartbeat",e=>new uS(e),"PRIVATE")),ho(km,y_,r),ho(km,y_,"esm2020"),ho("fire-js","")}dS("");var mS="firebase",pS="12.6.0";ho(mS,pS,"app");function lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gS=lb,ub=new ic("auth","Firebase",lb());const kh=new rp("@firebase/auth");function yS(r,...e){kh.logLevel<=Kt.WARN&&kh.warn(`Auth (${Ql}): ${r}`,...e)}function Th(r,...e){kh.logLevel<=Kt.ERROR&&kh.error(`Auth (${Ql}): ${r}`,...e)}function vs(r,...e){throw op(r,...e)}function Da(r,...e){return op(r,...e)}function cb(r,e,i){const s={...gS(),[e]:i};return new ic("auth","Firebase",s).create(e,{appName:r.name})}function ps(r){return cb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return ub.create(r,...e)}function Et(r,e,...i){if(!r)throw op(e,...i)}function ds(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Th(e),new Error(e)}function _s(r,e){r||ds(e)}function Um(){return typeof self<"u"&&self.location?.href||""}function vS(){return E_()==="http:"||E_()==="https:"}function E_(){return typeof self<"u"&&self.location?.protocol||null}function _S(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vS()||XT()||"connection"in navigator)?navigator.onLine:!0}function bS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ac{constructor(e,i){this.shortDelay=e,this.longDelay=i,_s(i>e,"Short delay should be less than long delay!"),this.isMobile=qT()||QT()}get(){return _S()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lp(r,e){_s(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class hb{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ES=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TS=new ac(3e4,6e4);function sc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Wl(r,e,i,s,l={}){return fb(r,l,async()=>{let c={},p={};s&&(e==="GET"?p=s:c={body:JSON.stringify(s)});const b=rc({key:r.config.apiKey,...p}).slice(1),w=await r._getAdditionalHeaders();w["Content-Type"]="application/json",r.languageCode&&(w["X-Firebase-Locale"]=r.languageCode);const E={method:e,headers:w,...c};return YT()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(E.credentials="include"),hb.fetch()(await db(r,r.config.apiHost,i,b),E)})}async function fb(r,e,i){r._canInitEmulator=!1;const s={...wS,...e};try{const l=new AS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw ph(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(r,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw ph(r,"email-already-in-use",p);if(w==="USER_DISABLED")throw ph(r,"user-disabled",p);const x=s[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw cb(r,x,E);vs(r,x)}}catch(l){if(l instanceof Ts)throw l;vs(r,"network-request-failed",{message:String(l)})}}async function up(r,e,i,s,l={}){const c=await Wl(r,e,i,s,l);return"mfaPendingCredential"in c&&vs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function db(r,e,i,s){const l=`${e}${i}?${s}`,c=r,p=c.config.emulator?lp(r.config,l):`${r.config.apiScheme}://${l}`;return ES.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class AS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Da(this.auth,"network-request-failed")),TS.get())})}}function ph(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Da(r,e,s);return l.customData._tokenResponse=i,l}async function SS(r,e){return Wl(r,"POST","/v1/accounts:delete",e)}async function Ph(r,e){return Wl(r,"POST","/v1/accounts:lookup",e)}function Hu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RS(r,e=!1){const i=zr(r),s=await i.getIdToken(e),l=cp(s);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:s,authTime:Hu(Em(l.auth_time)),issuedAtTime:Hu(Em(l.iat)),expirationTime:Hu(Em(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Em(r){return Number(r)*1e3}function cp(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const l=K0(i);return l?JSON.parse(l):(Th("Failed to decode base64 JWT payload"),null)}catch(l){return Th("Caught error parsing JWT payload as JSON",l?.toString()),null}}function T_(r){const e=cp(r);return Et(e,"internal-error"),Et(typeof e.exp<"u","internal-error"),Et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wu(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Ts&&CS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function CS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class IS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lh(r){const e=r.auth,i=await r.getIdToken(),s=await Wu(r,Ph(e,{idToken:i}));Et(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?mb(l.providerUserInfo):[],p=MS(r.providerData,c),b=r.isAnonymous,w=!(r.email&&l.passwordHash)&&!p?.length,E=b?w:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,x)}async function xS(r){const e=zr(r);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MS(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function mb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function OS(r,e){const i=await fb(r,{},async()=>{const s=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await db(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:s};return r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(w.credentials="include"),hb.fetch()(p,w)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function DS(r,e){return Wl(r,"POST","/v2/accounts:revokeToken",sc(r,e))}class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken<"u","internal-error"),Et(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const i=T_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await OS(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,p=new Vl;return s&&(Et(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),l&&(Et(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return ds("not implemented")}}function eo(r,e){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ma{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new IS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return RS(this,e)}reload(){return xS(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ma({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ta(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await Wu(this,SS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,w=i._redirectEventId??void 0,E=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:L,emailVerified:q,isAnonymous:ne,providerData:U,stsTokenManager:xe}=i;Et(L&&xe,e,"internal-error");const Re=Vl.fromJSON(this.name,xe);Et(typeof L=="string",e,"internal-error"),eo(s,e.name),eo(l,e.name),Et(typeof q=="boolean",e,"internal-error"),Et(typeof ne=="boolean",e,"internal-error"),eo(c,e.name),eo(p,e.name),eo(b,e.name),eo(w,e.name),eo(E,e.name),eo(x,e.name);const Le=new ma({uid:L,auth:e,email:l,emailVerified:q,displayName:s,isAnonymous:ne,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Re,createdAt:E,lastLoginAt:x});return U&&Array.isArray(U)&&(Le.providerData=U.map(Ue=>({...Ue}))),w&&(Le._redirectEventId=w),Le}static async _fromIdTokenResponse(e,i,s=!1){const l=new Vl;l.updateFromServerResponse(i);const c=new ma({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Lh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?mb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Vl;b.updateFromIdToken(s);const w=new ma({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const A_=new Map;function ms(r){_s(r instanceof Function,"Expected a class definition");let e=A_.get(r);return e?(_s(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,A_.set(r,e),e)}class pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}pb.type="NONE";const S_=pb;function Ah(r,e,i){return`firebase:${r}:${e}:${i}`}class kl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ah(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ah("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Ph(this.auth,{idToken:e}).catch(()=>{});return i?ma._fromGetAccountInfoResponse(this.auth,i,e):null}return ma._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new kl(ms(S_),e,s);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||ms(S_);const p=Ah(s,e.config.apiKey,e.name);let b=null;for(const E of i)try{const x=await E._get(p);if(x){let L;if(typeof x=="string"){const q=await Ph(e,{idToken:x}).catch(()=>{});if(!q)break;L=await ma._fromGetAccountInfoResponse(e,q,x)}else L=ma._fromJSON(e,x);E!==c&&(b=L),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new kl(c,e,s):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new kl(c,e,s))}}function R_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_b(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wb(e))return"Blackberry";if(Eb(e))return"Webos";if(yb(e))return"Safari";if((e.includes("chrome/")||vb(e))&&!e.includes("edge/"))return"Chrome";if(bb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function gb(r=Ki()){return/firefox\//i.test(r)}function yb(r=Ki()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vb(r=Ki()){return/crios\//i.test(r)}function _b(r=Ki()){return/iemobile/i.test(r)}function bb(r=Ki()){return/android/i.test(r)}function wb(r=Ki()){return/blackberry/i.test(r)}function Eb(r=Ki()){return/webos/i.test(r)}function hp(r=Ki()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function NS(r=Ki()){return hp(r)&&!!window.navigator?.standalone}function VS(){return WT()&&document.documentMode===10}function Tb(r=Ki()){return hp(r)||bb(r)||Eb(r)||wb(r)||/windows phone/i.test(r)||_b(r)}function Ab(r,e=[]){let i;switch(r){case"Browser":i=R_(Ki());break;case"Worker":i=`${R_(Ki())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ql}/${s}`}class kS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function PS(r,e={}){return Wl(r,"GET","/v2/passwordPolicy",sc(r,e))}const LS=6;class US{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??LS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class jS{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C_(this),this.idTokenSubscription=new C_(this),this.beforeStateQueue=new kS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Ph(this,{idToken:e}),s=await ma._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ta(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=s?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(s=b.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ta(this.app))return Promise.reject(ps(this));const i=e?zr(e):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ta(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ta(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PS(this),i=new US(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await DS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ms(e)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const w=e.addObserver(i,s,l);return()=>{p=!0,w()}}else{const w=e.addObserver(i);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ta(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oc(r){return zr(r)}class C_{constructor(e){this.auth=e,this.observer=null,this.addObserver=iA(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zS(r){fp=r}function BS(r){return fp.loadJS(r)}function FS(){return fp.gapiScript}function HS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function qS(r,e){const i=sp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Fo(c,e??{}))return l;vs(l,"already-initialized")}return i.initialize({options:e})}function GS(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ms);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function YS(r,e,i){const s=oc(r);Et(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=Sb(e),{host:p,port:b}=XS(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},x=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Fo(E,s.config.emulator)&&Fo(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Xl(p)?(eb(`${c}//${p}${w}`),tb("Auth",!0)):QS()}function Sb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XS(r){const e=Sb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:I_(s.substr(c.length+1))}}else{const[c,p]=s.split(":");return{host:c,port:I_(p)}}}function I_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function QS(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Rb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,i){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function Pl(r,e){return up(r,"POST","/v1/accounts:signInWithIdp",sc(r,e))}const WS="http://localhost";class qo extends Rb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):vs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const p=new qo(s,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return Pl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Pl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Pl(e,i)}buildRequest(){const e={requestUri:WS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=rc(i)}return e}}class Cb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends Cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class io extends lc{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";class ro extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return qo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return ro.credential(i,s)}catch{return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";class ao extends lc{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";class so extends lc{constructor(){super("twitter.com")}static credential(e,i){return qo._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return so.credential(i,s)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";async function KS(r,e){return up(r,"POST","/v1/accounts:signUp",sc(r,e))}class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await ma._fromIdTokenResponse(e,s,l),p=x_(s);return new bs({user:c,providerId:p,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=x_(s);return new bs({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function x_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function $S(r){if(ta(r.app))return Promise.reject(ps(r));const e=oc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new bs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await KS(e,{returnSecureToken:!0}),s=await bs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class Uh extends Ts{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Uh(e,i,s,l)}}function Ib(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,c,e,s):c})}async function JS(r,e,i=!1){const s=await Wu(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return bs._forOperation(r,"link",s)}async function ZS(r,e,i=!1){const{auth:s}=r;if(ta(s.app))return Promise.reject(ps(s));const l="reauthenticate";try{const c=await Wu(r,Ib(s,l,e,r),i);Et(c.idToken,s,"internal-error");const p=cp(c.idToken);Et(p,s,"internal-error");const{sub:b}=p;return Et(r.uid===b,s,"user-mismatch"),bs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&vs(s,"user-mismatch"),c}}async function e2(r,e,i=!1){if(ta(r.app))return Promise.reject(ps(r));const s="signIn",l=await Ib(r,s,e),c=await bs._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function t2(r,e){return up(r,"POST","/v1/accounts:signInWithCustomToken",sc(r,e))}async function n2(r,e){if(ta(r.app))return Promise.reject(ps(r));const i=oc(r),s=await t2(i,{token:e,returnSecureToken:!0}),l=await bs._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function i2(r,e,i,s){return zr(r).onIdTokenChanged(e,i,s)}function r2(r,e,i){return zr(r).beforeAuthStateChanged(e,i)}function a2(r,e,i,s){return zr(r).onAuthStateChanged(e,i,s)}const jh="__sak";class xb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const s2=1e3,o2=10;class Mb extends xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},c=this.storage.getItem(s);VS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,o2):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mb.type="LOCAL";const l2=Mb;class Ob extends xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Ob.type="SESSION";const Db=Ob;function u2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const b=Array.from(p).map(async E=>E(i.origin,c)),w=await u2(b);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:w})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];function dp(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class c2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=dp("",20);l.port1.start();const x=setTimeout(()=>{w(new Error("unsupported_event"))},s);p={messageChannel:l,onMessage(L){const q=L;if(q.data.eventId===E)switch(q.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(q.data.response);break;default:clearTimeout(x),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Na(){return window}function h2(r){Na().location.href=r}function Nb(){return typeof Na().WorkerGlobalScope<"u"&&typeof Na().importScripts=="function"}async function f2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d2(){return navigator?.serviceWorker?.controller||null}function m2(){return Nb()?self:null}const Vb="firebaseLocalStorageDb",p2=1,zh="firebaseLocalStorage",kb="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rf(r,e){return r.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function g2(){const r=indexedDB.deleteDatabase(Vb);return new uc(r).toPromise()}function zm(){const r=indexedDB.open(Vb,p2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(zh,{keyPath:kb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await g2(),e(await zm()))})})}async function M_(r,e,i){const s=rf(r,!0).put({[kb]:e,value:i});return new uc(s).toPromise()}async function y2(r,e){const i=rf(r,!1).get(e),s=await new uc(i).toPromise();return s===void 0?null:s.value}function O_(r,e){const i=rf(r,!0).delete(e);return new uc(i).toPromise()}const v2=800,_2=3;class Pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>_2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(m2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await f2(),!this.activeServiceWorker)return;this.sender=new c2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await M_(e,jh,"1"),await O_(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>M_(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>y2(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>O_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=rf(l,!1).getAll();return new uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pb.type="LOCAL";const b2=Pb;new ac(3e4,6e4);function w2(r,e){return e?ms(e):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class mp extends Rb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Pl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function E2(r){return e2(r.auth,new mp(r),r.bypassAuthState)}function T2(r){const{auth:e,user:i}=r;return Et(i,e,"internal-error"),ZS(i,new mp(r),r.bypassAuthState)}async function A2(r){const{auth:e,user:i}=r;return Et(i,e,"internal-error"),JS(i,new mp(r),r.bypassAuthState)}class Lb{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E2;case"linkViaPopup":case"linkViaRedirect":return A2;case"reauthViaPopup":case"reauthViaRedirect":return T2;default:vs(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const S2=new ac(2e3,1e4);class Nl extends Lb{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Et(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S2.get())};e()}}Nl.currentPopupAction=null;const R2="pendingRedirect",Sh=new Map;class C2 extends Lb{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await I2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I2(r,e){const i=O2(e),s=M2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function x2(r,e){Sh.set(r._key(),e)}function M2(r){return ms(r._redirectPersistence)}function O2(r){return Ah(R2,r.config.apiKey,r.name)}async function D2(r,e,i=!1){if(ta(r.app))return Promise.reject(ps(r));const s=oc(r),l=w2(s,e),p=await new C2(s,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}const N2=600*1e3;class V2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Ub(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Da(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N2&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ub({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function k2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ub(r);default:return!1}}async function P2(r,e={}){return Wl(r,"GET","/v1/projects",e)}const L2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U2=/^https?/;async function j2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await P2(r);for(const i of e)try{if(z2(i))return}catch{}vs(r,"unauthorized-domain")}function z2(r){const e=Um(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===s}if(!U2.test(i))return!1;if(L2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const B2=new ac(3e4,6e4);function N_(){const r=Na().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function F2(r){return new Promise((e,i)=>{function s(){N_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N_(),i(Da(r,"network-request-failed"))},timeout:B2.get()})}if(Na().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Na().gapi?.load)s();else{const l=HS("iframefcb");return Na()[l]=()=>{gapi.load?s():i(Da(r,"network-request-failed"))},BS(`${FS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function H2(r){return Rh=Rh||F2(r),Rh}const q2=new ac(5e3,15e3),G2="__/auth/iframe",Y2="emulator/auth/iframe",X2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W2(r){const e=r.config;Et(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?lp(e,Y2):`https://${r.config.authDomain}/${G2}`,s={apiKey:e.apiKey,appName:r.name,v:Ql},l=Q2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${rc(s).slice(1)}`}async function K2(r){const e=await H2(r),i=Na().gapi;return Et(i,r,"internal-error"),e.open({where:document.body,url:W2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const p=Da(r,"network-request-failed"),b=Na().setTimeout(()=>{c(p)},q2.get());function w(){Na().clearTimeout(b),l(s)}s.ping(w).then(w,()=>{c(p)})}))}const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J2=500,Z2=600,eR="_blank",tR="http://localhost";class V_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nR(r,e,i,s=J2,l=Z2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const w={...$2,width:s.toString(),height:l.toString(),top:c,left:p},E=Ki().toLowerCase();i&&(b=vb(E)?eR:i),gb(E)&&(e=e||tR,w.scrollbars="yes");const x=Object.entries(w).reduce((q,[ne,U])=>`${q}${ne}=${U},`,"");if(NS(E)&&b!=="_self")return iR(e||"",b),new V_(null);const L=window.open(e||"",b,x);Et(L,r,"popup-blocked");try{L.focus()}catch{}return new V_(L)}function iR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const rR="__/auth/handler",aR="emulator/auth/handler",sR=encodeURIComponent("fac");async function k_(r,e,i,s,l,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Ql,eventId:l};if(e instanceof Cb){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",nA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,L]of Object.entries({}))p[x]=L}if(e instanceof lc){const x=e.getScopes().filter(L=>L!=="");x.length>0&&(p.scopes=x.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const x of Object.keys(b))b[x]===void 0&&delete b[x];const w=await r._getAppCheckToken(),E=w?`#${sR}=${encodeURIComponent(w)}`:"";return`${oR(r)}?${rc(b).slice(1)}${E}`}function oR({config:r}){return r.emulator?lp(r,aR):`https://${r.authDomain}/${rR}`}const Tm="webStorageSupport";class lR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Db,this._completeRedirectFn=D2,this._overrideRedirectResult=x2}async _openPopup(e,i,s,l){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await k_(e,i,s,Um(),l);return nR(e,c,dp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await k_(e,i,s,Um(),l);return h2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(_s(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await K2(e),s=new V2(e);return i.register("authEvent",l=>(Et(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Tm,{type:Tm},l=>{const c=l?.[0]?.[Tm];c!==void 0&&i(!!c),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=j2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Tb()||yb()||hp()}}const uR=lR;var P_="@firebase/auth",L_="1.11.1";class cR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fR(r){zl(new Ho("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;Et(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const w={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(r)},E=new jS(s,l,c,w);return GS(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),zl(new Ho("auth-internal",e=>{const i=oc(e.getProvider("auth").getImmediate());return(s=>new cR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(P_,L_,hR(r)),ho(P_,L_,"esm2020")}const dR=300,mR=Z0("authIdTokenMaxAge")||dR;let U_=null;const pR=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>mR)return;const l=i?.token;U_!==l&&(U_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function gR(r=ab()){const e=sp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=qS(r,{popupRedirectResolver:uR,persistence:[b2,l2,Db]}),s=Z0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const p=pR(c.toString());r2(i,p,()=>p(i.currentUser)),i2(i,b=>p(b))}}const l=$0("auth");return l&&YS(i,`http://${l}`),i}function yR(){return document.getElementsByTagName("head")?.[0]??document}zS({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Da("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",yR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fR("Browser");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fo,jb;(function(){var r;function e(F,B){function k(){}k.prototype=B.prototype,F.F=B.prototype,F.prototype=new k,F.prototype.constructor=F,F.D=function(z,C,V){for(var I=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)I[Q-2]=arguments[Q];return B.prototype[C].apply(z,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(F,B,k){k||(k=0);const z=Array(16);if(typeof B=="string")for(var C=0;C<16;++C)z[C]=B.charCodeAt(k++)|B.charCodeAt(k++)<<8|B.charCodeAt(k++)<<16|B.charCodeAt(k++)<<24;else for(C=0;C<16;++C)z[C]=B[k++]|B[k++]<<8|B[k++]<<16|B[k++]<<24;B=F.g[0],k=F.g[1],C=F.g[2];let V=F.g[3],I;I=B+(V^k&(C^V))+z[0]+3614090360&4294967295,B=k+(I<<7&4294967295|I>>>25),I=V+(C^B&(k^C))+z[1]+3905402710&4294967295,V=B+(I<<12&4294967295|I>>>20),I=C+(k^V&(B^k))+z[2]+606105819&4294967295,C=V+(I<<17&4294967295|I>>>15),I=k+(B^C&(V^B))+z[3]+3250441966&4294967295,k=C+(I<<22&4294967295|I>>>10),I=B+(V^k&(C^V))+z[4]+4118548399&4294967295,B=k+(I<<7&4294967295|I>>>25),I=V+(C^B&(k^C))+z[5]+1200080426&4294967295,V=B+(I<<12&4294967295|I>>>20),I=C+(k^V&(B^k))+z[6]+2821735955&4294967295,C=V+(I<<17&4294967295|I>>>15),I=k+(B^C&(V^B))+z[7]+4249261313&4294967295,k=C+(I<<22&4294967295|I>>>10),I=B+(V^k&(C^V))+z[8]+1770035416&4294967295,B=k+(I<<7&4294967295|I>>>25),I=V+(C^B&(k^C))+z[9]+2336552879&4294967295,V=B+(I<<12&4294967295|I>>>20),I=C+(k^V&(B^k))+z[10]+4294925233&4294967295,C=V+(I<<17&4294967295|I>>>15),I=k+(B^C&(V^B))+z[11]+2304563134&4294967295,k=C+(I<<22&4294967295|I>>>10),I=B+(V^k&(C^V))+z[12]+1804603682&4294967295,B=k+(I<<7&4294967295|I>>>25),I=V+(C^B&(k^C))+z[13]+4254626195&4294967295,V=B+(I<<12&4294967295|I>>>20),I=C+(k^V&(B^k))+z[14]+2792965006&4294967295,C=V+(I<<17&4294967295|I>>>15),I=k+(B^C&(V^B))+z[15]+1236535329&4294967295,k=C+(I<<22&4294967295|I>>>10),I=B+(C^V&(k^C))+z[1]+4129170786&4294967295,B=k+(I<<5&4294967295|I>>>27),I=V+(k^C&(B^k))+z[6]+3225465664&4294967295,V=B+(I<<9&4294967295|I>>>23),I=C+(B^k&(V^B))+z[11]+643717713&4294967295,C=V+(I<<14&4294967295|I>>>18),I=k+(V^B&(C^V))+z[0]+3921069994&4294967295,k=C+(I<<20&4294967295|I>>>12),I=B+(C^V&(k^C))+z[5]+3593408605&4294967295,B=k+(I<<5&4294967295|I>>>27),I=V+(k^C&(B^k))+z[10]+38016083&4294967295,V=B+(I<<9&4294967295|I>>>23),I=C+(B^k&(V^B))+z[15]+3634488961&4294967295,C=V+(I<<14&4294967295|I>>>18),I=k+(V^B&(C^V))+z[4]+3889429448&4294967295,k=C+(I<<20&4294967295|I>>>12),I=B+(C^V&(k^C))+z[9]+568446438&4294967295,B=k+(I<<5&4294967295|I>>>27),I=V+(k^C&(B^k))+z[14]+3275163606&4294967295,V=B+(I<<9&4294967295|I>>>23),I=C+(B^k&(V^B))+z[3]+4107603335&4294967295,C=V+(I<<14&4294967295|I>>>18),I=k+(V^B&(C^V))+z[8]+1163531501&4294967295,k=C+(I<<20&4294967295|I>>>12),I=B+(C^V&(k^C))+z[13]+2850285829&4294967295,B=k+(I<<5&4294967295|I>>>27),I=V+(k^C&(B^k))+z[2]+4243563512&4294967295,V=B+(I<<9&4294967295|I>>>23),I=C+(B^k&(V^B))+z[7]+1735328473&4294967295,C=V+(I<<14&4294967295|I>>>18),I=k+(V^B&(C^V))+z[12]+2368359562&4294967295,k=C+(I<<20&4294967295|I>>>12),I=B+(k^C^V)+z[5]+4294588738&4294967295,B=k+(I<<4&4294967295|I>>>28),I=V+(B^k^C)+z[8]+2272392833&4294967295,V=B+(I<<11&4294967295|I>>>21),I=C+(V^B^k)+z[11]+1839030562&4294967295,C=V+(I<<16&4294967295|I>>>16),I=k+(C^V^B)+z[14]+4259657740&4294967295,k=C+(I<<23&4294967295|I>>>9),I=B+(k^C^V)+z[1]+2763975236&4294967295,B=k+(I<<4&4294967295|I>>>28),I=V+(B^k^C)+z[4]+1272893353&4294967295,V=B+(I<<11&4294967295|I>>>21),I=C+(V^B^k)+z[7]+4139469664&4294967295,C=V+(I<<16&4294967295|I>>>16),I=k+(C^V^B)+z[10]+3200236656&4294967295,k=C+(I<<23&4294967295|I>>>9),I=B+(k^C^V)+z[13]+681279174&4294967295,B=k+(I<<4&4294967295|I>>>28),I=V+(B^k^C)+z[0]+3936430074&4294967295,V=B+(I<<11&4294967295|I>>>21),I=C+(V^B^k)+z[3]+3572445317&4294967295,C=V+(I<<16&4294967295|I>>>16),I=k+(C^V^B)+z[6]+76029189&4294967295,k=C+(I<<23&4294967295|I>>>9),I=B+(k^C^V)+z[9]+3654602809&4294967295,B=k+(I<<4&4294967295|I>>>28),I=V+(B^k^C)+z[12]+3873151461&4294967295,V=B+(I<<11&4294967295|I>>>21),I=C+(V^B^k)+z[15]+530742520&4294967295,C=V+(I<<16&4294967295|I>>>16),I=k+(C^V^B)+z[2]+3299628645&4294967295,k=C+(I<<23&4294967295|I>>>9),I=B+(C^(k|~V))+z[0]+4096336452&4294967295,B=k+(I<<6&4294967295|I>>>26),I=V+(k^(B|~C))+z[7]+1126891415&4294967295,V=B+(I<<10&4294967295|I>>>22),I=C+(B^(V|~k))+z[14]+2878612391&4294967295,C=V+(I<<15&4294967295|I>>>17),I=k+(V^(C|~B))+z[5]+4237533241&4294967295,k=C+(I<<21&4294967295|I>>>11),I=B+(C^(k|~V))+z[12]+1700485571&4294967295,B=k+(I<<6&4294967295|I>>>26),I=V+(k^(B|~C))+z[3]+2399980690&4294967295,V=B+(I<<10&4294967295|I>>>22),I=C+(B^(V|~k))+z[10]+4293915773&4294967295,C=V+(I<<15&4294967295|I>>>17),I=k+(V^(C|~B))+z[1]+2240044497&4294967295,k=C+(I<<21&4294967295|I>>>11),I=B+(C^(k|~V))+z[8]+1873313359&4294967295,B=k+(I<<6&4294967295|I>>>26),I=V+(k^(B|~C))+z[15]+4264355552&4294967295,V=B+(I<<10&4294967295|I>>>22),I=C+(B^(V|~k))+z[6]+2734768916&4294967295,C=V+(I<<15&4294967295|I>>>17),I=k+(V^(C|~B))+z[13]+1309151649&4294967295,k=C+(I<<21&4294967295|I>>>11),I=B+(C^(k|~V))+z[4]+4149444226&4294967295,B=k+(I<<6&4294967295|I>>>26),I=V+(k^(B|~C))+z[11]+3174756917&4294967295,V=B+(I<<10&4294967295|I>>>22),I=C+(B^(V|~k))+z[2]+718787259&4294967295,C=V+(I<<15&4294967295|I>>>17),I=k+(V^(C|~B))+z[9]+3951481745&4294967295,F.g[0]=F.g[0]+B&4294967295,F.g[1]=F.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,F.g[2]=F.g[2]+C&4294967295,F.g[3]=F.g[3]+V&4294967295}s.prototype.v=function(F,B){B===void 0&&(B=F.length);const k=B-this.blockSize,z=this.C;let C=this.h,V=0;for(;V<B;){if(C==0)for(;V<=k;)l(this,F,V),V+=this.blockSize;if(typeof F=="string"){for(;V<B;)if(z[C++]=F.charCodeAt(V++),C==this.blockSize){l(this,z),C=0;break}}else for(;V<B;)if(z[C++]=F[V++],C==this.blockSize){l(this,z),C=0;break}}this.h=C,this.o+=B},s.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var B=1;B<F.length-8;++B)F[B]=0;B=this.o*8;for(var k=F.length-8;k<F.length;++k)F[k]=B&255,B/=256;for(this.v(F),F=Array(16),B=0,k=0;k<4;++k)for(let z=0;z<32;z+=8)F[B++]=this.g[k]>>>z&255;return F};function c(F,B){var k=b;return Object.prototype.hasOwnProperty.call(k,F)?k[F]:k[F]=B(F)}function p(F,B){this.h=B;const k=[];let z=!0;for(let C=F.length-1;C>=0;C--){const V=F[C]|0;z&&V==B||(k[C]=V,z=!1)}this.g=k}var b={};function w(F){return-128<=F&&F<128?c(F,function(B){return new p([B|0],B<0?-1:0)}):new p([F|0],F<0?-1:0)}function E(F){if(isNaN(F)||!isFinite(F))return L;if(F<0)return Re(E(-F));const B=[];let k=1;for(let z=0;F>=k;z++)B[z]=F/k|0,k*=4294967296;return new p(B,0)}function x(F,B){if(F.length==0)throw Error("number format error: empty string");if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(F.charAt(0)=="-")return Re(x(F.substring(1),B));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=E(Math.pow(B,8));let z=L;for(let V=0;V<F.length;V+=8){var C=Math.min(8,F.length-V);const I=parseInt(F.substring(V,V+C),B);C<8?(C=E(Math.pow(B,C)),z=z.j(C).add(E(I))):(z=z.j(k),z=z.add(E(I)))}return z}var L=w(0),q=w(1),ne=w(16777216);r=p.prototype,r.m=function(){if(xe(this))return-Re(this).m();let F=0,B=1;for(let k=0;k<this.g.length;k++){const z=this.i(k);F+=(z>=0?z:4294967296+z)*B,B*=4294967296}return F},r.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(U(this))return"0";if(xe(this))return"-"+Re(this).toString(F);const B=E(Math.pow(F,6));var k=this;let z="";for(;;){const C=Ke(k,B).g;k=Le(k,C.j(B));let V=((k.g.length>0?k.g[0]:k.h)>>>0).toString(F);if(k=C,U(k))return V+z;for(;V.length<6;)V="0"+V;z=V+z}},r.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function U(F){if(F.h!=0)return!1;for(let B=0;B<F.g.length;B++)if(F.g[B]!=0)return!1;return!0}function xe(F){return F.h==-1}r.l=function(F){return F=Le(this,F),xe(F)?-1:U(F)?0:1};function Re(F){const B=F.g.length,k=[];for(let z=0;z<B;z++)k[z]=~F.g[z];return new p(k,~F.h).add(q)}r.abs=function(){return xe(this)?Re(this):this},r.add=function(F){const B=Math.max(this.g.length,F.g.length),k=[];let z=0;for(let C=0;C<=B;C++){let V=z+(this.i(C)&65535)+(F.i(C)&65535),I=(V>>>16)+(this.i(C)>>>16)+(F.i(C)>>>16);z=I>>>16,V&=65535,I&=65535,k[C]=I<<16|V}return new p(k,k[k.length-1]&-2147483648?-1:0)};function Le(F,B){return F.add(Re(B))}r.j=function(F){if(U(this)||U(F))return L;if(xe(this))return xe(F)?Re(this).j(Re(F)):Re(Re(this).j(F));if(xe(F))return Re(this.j(Re(F)));if(this.l(ne)<0&&F.l(ne)<0)return E(this.m()*F.m());const B=this.g.length+F.g.length,k=[];for(var z=0;z<2*B;z++)k[z]=0;for(z=0;z<this.g.length;z++)for(let C=0;C<F.g.length;C++){const V=this.i(z)>>>16,I=this.i(z)&65535,Q=F.i(C)>>>16,ae=F.i(C)&65535;k[2*z+2*C]+=I*ae,Ue(k,2*z+2*C),k[2*z+2*C+1]+=V*ae,Ue(k,2*z+2*C+1),k[2*z+2*C+1]+=I*Q,Ue(k,2*z+2*C+1),k[2*z+2*C+2]+=V*Q,Ue(k,2*z+2*C+2)}for(F=0;F<B;F++)k[F]=k[2*F+1]<<16|k[2*F];for(F=B;F<2*B;F++)k[F]=0;return new p(k,0)};function Ue(F,B){for(;(F[B]&65535)!=F[B];)F[B+1]+=F[B]>>>16,F[B]&=65535,B++}function Be(F,B){this.g=F,this.h=B}function Ke(F,B){if(U(B))throw Error("division by zero");if(U(F))return new Be(L,L);if(xe(F))return B=Ke(Re(F),B),new Be(Re(B.g),Re(B.h));if(xe(B))return B=Ke(F,Re(B)),new Be(Re(B.g),B.h);if(F.g.length>30){if(xe(F)||xe(B))throw Error("slowDivide_ only works with positive integers.");for(var k=q,z=B;z.l(F)<=0;)k=ot(k),z=ot(z);var C=at(k,1),V=at(z,1);for(z=at(z,2),k=at(k,2);!U(z);){var I=V.add(z);I.l(F)<=0&&(C=C.add(k),V=I),z=at(z,1),k=at(k,1)}return B=Le(F,C.j(B)),new Be(C,B)}for(C=L;F.l(B)>=0;){for(k=Math.max(1,Math.floor(F.m()/B.m())),z=Math.ceil(Math.log(k)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),V=E(k),I=V.j(B);xe(I)||I.l(F)>0;)k-=z,V=E(k),I=V.j(B);U(V)&&(V=q),C=C.add(V),F=Le(F,I)}return new Be(C,F)}r.B=function(F){return Ke(this,F).h},r.and=function(F){const B=Math.max(this.g.length,F.g.length),k=[];for(let z=0;z<B;z++)k[z]=this.i(z)&F.i(z);return new p(k,this.h&F.h)},r.or=function(F){const B=Math.max(this.g.length,F.g.length),k=[];for(let z=0;z<B;z++)k[z]=this.i(z)|F.i(z);return new p(k,this.h|F.h)},r.xor=function(F){const B=Math.max(this.g.length,F.g.length),k=[];for(let z=0;z<B;z++)k[z]=this.i(z)^F.i(z);return new p(k,this.h^F.h)};function ot(F){const B=F.g.length+1,k=[];for(let z=0;z<B;z++)k[z]=F.i(z)<<1|F.i(z-1)>>>31;return new p(k,F.h)}function at(F,B){const k=B>>5;B%=32;const z=F.g.length-k,C=[];for(let V=0;V<z;V++)C[V]=B>0?F.i(V+k)>>>B|F.i(V+k+1)<<32-B:F.i(V+k);return new p(C,F.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,jb=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=x,fo=p}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zb,ju,Bb,Ch,Bm,Fb,Hb,qb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=i(this);function l(u,y){if(y)e:{var A=s;u=u.split(".");for(var N=0;N<u.length-1;N++){var ie=u[N];if(!(ie in A))break e;A=A[ie]}u=u[u.length-1],N=A[u],y=y(N),y!=N&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&A.push([N,y[N]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function x(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var N=A.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function L(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(N,ie,fe){for(var ke=Array(arguments.length-2),St=2;St<arguments.length;St++)ke[St-2]=arguments[St];return y.prototype[ie].apply(N,ke)}}var q=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function ne(u){const y=u.length;if(y>0){const A=Array(y);for(let N=0;N<y;N++)A[N]=u[N];return A}return[]}function U(u,y){for(let N=1;N<arguments.length;N++){const ie=arguments[N];var A=typeof ie;if(A=A!="object"?A:ie?Array.isArray(ie)?"array":A:"null",A=="array"||A=="object"&&typeof ie.length=="number"){A=u.length||0;const fe=ie.length||0;u.length=A+fe;for(let ke=0;ke<fe;ke++)u[A+ke]=ie[ke]}else u.push(ie)}}class xe{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Re(u){p.setTimeout(()=>{throw u},0)}function Le(){var u=F;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Ue{constructor(){this.h=this.g=null}add(y,A){const N=Be.get();N.set(y,A),this.h?this.h.next=N:this.g=N,this.h=N}}var Be=new xe(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,at=!1,F=new Ue,B=()=>{const u=Promise.resolve(void 0);ot=()=>{u.then(k)}};function k(){for(var u;u=Le();){try{u.h.call(u.g)}catch(A){Re(A)}var y=Be;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}at=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Q(u,y){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}L(Q,C),Q.prototype.init=function(u,y){const A=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),H=0;function ee(u,y,A,N,ie){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!N,this.ha=ie,this.key=++H,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,y,A){for(const N in u)y.call(A,u[N],N,u)}function Ce(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function P(u){const y={};for(const A in u)y[A]=u[A];return y}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(u,y){let A,N;for(let ie=1;ie<arguments.length;ie++){N=arguments[ie];for(A in N)u[A]=N[A];for(let fe=0;fe<re.length;fe++)A=re[fe],Object.prototype.hasOwnProperty.call(N,A)&&(u[A]=N[A])}}function ye(u){this.src=u,this.g={},this.h=0}ye.prototype.add=function(u,y,A,N,ie){const fe=u.toString();u=this.g[fe],u||(u=this.g[fe]=[],this.h++);const ke=Fe(u,y,N,ie);return ke>-1?(y=u[ke],A||(y.fa=!1)):(y=new ee(y,this.src,fe,!!N,ie),y.fa=A,u.push(y)),y};function ve(u,y){const A=y.type;if(A in u.g){var N=u.g[A],ie=Array.prototype.indexOf.call(N,y,void 0),fe;(fe=ie>=0)&&Array.prototype.splice.call(N,ie,1),fe&&(ge(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function Fe(u,y,A,N){for(let ie=0;ie<u.length;++ie){const fe=u[ie];if(!fe.da&&fe.listener==y&&fe.capture==!!A&&fe.ha==N)return ie}return-1}var lt="closure_lm_"+(Math.random()*1e6|0),ht={};function _t(u,y,A,N,ie){if(Array.isArray(y)){for(let fe=0;fe<y.length;fe++)_t(u,y[fe],A,N,ie);return null}return A=sn(A),u&&u[ae]?u.J(y,A,b(N)?!!N.capture:!1,ie):Dt(u,y,A,!1,N,ie)}function Dt(u,y,A,N,ie,fe){if(!y)throw Error("Invalid event type");const ke=b(ie)?!!ie.capture:!!ie;let St=Ut(u);if(St||(u[lt]=St=new ye(u)),A=St.add(y,A,N,ke,fe),A.proxy)return A;if(N=cn(),A.proxy=N,N.src=u,N.listener=A,u.addEventListener)V||(ie=ke),ie===void 0&&(ie=!1),u.addEventListener(y.toString(),N,ie);else if(u.attachEvent)u.attachEvent(Zt(y.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return A}function cn(){function u(A){return y.call(u.src,u.listener,A)}const y=Bt;return u}function ut(u,y,A,N,ie){if(Array.isArray(y))for(var fe=0;fe<y.length;fe++)ut(u,y[fe],A,N,ie);else N=b(N)?!!N.capture:!!N,A=sn(A),u&&u[ae]?(u=u.i,fe=String(y).toString(),fe in u.g&&(y=u.g[fe],A=Fe(y,A,N,ie),A>-1&&(ge(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[fe],u.h--)))):u&&(u=Ut(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Fe(y,A,N,ie)),(A=u>-1?y[u]:null)&&Tt(A))}function Tt(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ae])ve(y.i,u);else{var A=u.type,N=u.proxy;y.removeEventListener?y.removeEventListener(A,N,u.capture):y.detachEvent?y.detachEvent(Zt(A),N):y.addListener&&y.removeListener&&y.removeListener(N),(A=Ut(y))?(ve(A,u),A.h==0&&(A.src=null,y[lt]=null)):ge(u)}}}function Zt(u){return u in ht?ht[u]:ht[u]="on"+u}function Bt(u,y){if(u.da)u=!0;else{y=new Q(y,this);const A=u.listener,N=u.ha||u.src;u.fa&&Tt(u),u=A.call(N,y)}return u}function Ut(u){return u=u[lt],u instanceof ye?u:null}var si="__closure_events_fn_"+(Math.random()*1e9>>>0);function sn(u){return typeof u=="function"?u:(u[si]||(u[si]=function(y){return u.handleEvent(y)}),u[si])}function tt(){z.call(this),this.i=new ye(this),this.M=this,this.G=null}L(tt,z),tt.prototype[ae]=!0,tt.prototype.removeEventListener=function(u,y,A,N){ut(this,u,y,A,N)};function nn(u,y){var A,N=u.G;if(N)for(A=[];N;N=N.G)A.push(N);if(u=u.M,N=y.type||y,typeof y=="string")y=new C(y,u);else if(y instanceof C)y.target=y.target||u;else{var ie=y;y=new C(N,u),Ae(y,ie)}ie=!0;let fe,ke;if(A)for(ke=A.length-1;ke>=0;ke--)fe=y.g=A[ke],ie=mn(fe,N,!0,y)&&ie;if(fe=y.g=u,ie=mn(fe,N,!0,y)&&ie,ie=mn(fe,N,!1,y)&&ie,A)for(ke=0;ke<A.length;ke++)fe=y.g=A[ke],ie=mn(fe,N,!1,y)&&ie}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let N=0;N<A.length;N++)ge(A[N]);delete u.g[y],u.h--}}this.G=null},tt.prototype.J=function(u,y,A,N){return this.i.add(String(u),y,!1,A,N)},tt.prototype.K=function(u,y,A,N){return this.i.add(String(u),y,!0,A,N)};function mn(u,y,A,N){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ie=!0;for(let fe=0;fe<y.length;++fe){const ke=y[fe];if(ke&&!ke.da&&ke.capture==A){const St=ke.listener,qn=ke.ha||ke.src;ke.fa&&ve(u.i,ke),ie=St.call(qn,N)!==!1&&ie}}return ie&&!N.defaultPrevented}function Ri(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function $n(u){u.g=Ri(()=>{u.g=null,u.i&&(u.i=!1,$n(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class on extends z{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(u){z.call(this),this.h=u,this.g={}}L(Tn,z);var R=[];function g(u){he(u.g,function(y,A){this.g.hasOwnProperty(A)&&Tt(y)},u),u.g={}}Tn.prototype.N=function(){Tn.Z.N.call(this),g(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,D=p.JSON.parse,W=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function de(){}function Ie(){}var We={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){C.call(this,"d")}L($e,C);function He(){C.call(this,"c")}L(He,C);var Je={},en=null;function xn(){return en=en||new tt}Je.Ia="serverreachability";function pn(u){C.call(this,Je.Ia,u)}L(pn,C);function zn(u){const y=xn();nn(y,new pn(y))}Je.STAT_EVENT="statevent";function Yn(u,y){C.call(this,Je.STAT_EVENT,u),this.stat=y}L(Yn,C);function Ht(u){const y=xn();nn(y,new Yn(y,u))}Je.Ja="timingevent";function On(u,y){C.call(this,Je.Ja,u),this.size=y}L(On,C);function Vn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function ji(u,y,A,N,ie,fe){u.info(function(){if(u.g)if(fe){var ke="",St=fe.split("&");for(let ln=0;ln<St.length;ln++){var qn=St[ln].split("=");if(qn.length>1){const Dn=qn[0];qn=qn[1];const qi=Dn.split("_");ke=qi.length>=2&&qi[1]=="type"?ke+(Dn+"="+qn+"&"):ke+(Dn+"=redacted&")}}}else ke=null;else ke=fe;return"XMLHTTP REQ ("+N+") [attempt "+ie+"]: "+y+`
`+A+`
`+ke})}function pt(u,y,A,N,ie,fe,ke){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+ie+"]: "+y+`
`+A+`
`+fe+" "+ke})}function Fn(u,y,A,N){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+$i(u,A)+(N?" "+N:"")})}function Rt(u,y){u.info(function(){return"TIMEOUT: "+y})}Xn.prototype.info=function(){};function $i(u,y){if(!u.g)return y;if(!y)return null;try{const fe=JSON.parse(y);if(fe){for(u=0;u<fe.length;u++)if(Array.isArray(fe[u])){var A=fe[u];if(!(A.length<2)){var N=A[1];if(Array.isArray(N)&&!(N.length<1)){var ie=N[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let ke=1;ke<N.length;ke++)N[ke]=""}}}}return v(fe)}catch{return y}}var zi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ya={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ar;function Br(){}L(Br,de),Br.prototype.g=function(){return new XMLHttpRequest},Ar=new Br;function Ge(u){return encodeURIComponent(String(u))}function ra(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Ji(u,y,A,N){this.j=u,this.i=y,this.l=A,this.S=N||1,this.V=new Tn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zi}function Zi(){this.i=null,this.g="",this.h=!1}var vn={},Hn={};function Jn(u,y,A){u.M=1,u.A=Ii(Ct(y)),u.u=A,u.R=!0,Sr(u,null)}function Sr(u,y){u.F=Date.now(),Qn(u),u.B=Ct(u.A);var A=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),Fa(A.i,"t",N),u.C=0,A=u.j.L,u.h=new Zi,u.g=el(u.j,A?y:null,!u.u),u.P>0&&(u.O=new on(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,N=u.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(R[0]=ie.toString()),ie=R);for(let fe=0;fe<ie.length;fe++){const ke=_t(A,ie[fe],N||y.handleEvent,!1,y.h||y);if(!ke)break;y.g[ke.key]=ke}y=u.J?P(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),zn(),ji(u.i,u.v,u.B,u.l,u.S,u.u)}Ji.prototype.ba=function(u){u=u.target;const y=this.O;y&&xr(u)==3?y.j():this.Y(u)},Ji.prototype.Y=function(u){try{if(u==this.g)e:{const St=xr(this.g),qn=this.g.ya(),ln=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||gi(this.g)))){this.K||St!=4||qn==7||(qn==8||ln<=0?zn(3):zn(2)),Bi(this);var y=this.g.ca();this.X=y;var A=As(this);if(this.o=y==200,pt(this.i,this.v,this.B,this.l,this.S,St,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,ie=this.g;if((N=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(N)){var fe=N;break t}}fe=null}if(u=fe)Fn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Ht(12),Ci(this),Fi(this);break e}}if(this.R){u=!0;let Dn;for(;!this.K&&this.C<A.length;)if(Dn=aa(this,A),Dn==Hn){St==4&&(this.m=4,Ht(14),u=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==vn){this.m=4,Ht(15),Fn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Fn(this.i,this.l,Dn,null),bi(this,Dn);if(ja(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||A.length!=0||this.h.h||(this.m=1,Ht(16),u=!1),this.o=this.o&&u,!u)Fn(this.i,this.l,A,"[Invalid Chunked Response]"),Ci(this),Fi(this);else if(A.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),nr(ke),ke.P=!0,Ht(11))}}else Fn(this.i,this.l,A,null),bi(this,A);St==4&&Ci(this),this.o&&!this.K&&(St==4?Ya(this.j,this):(this.o=!1,Qn(this)))}else mr(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),Ci(this),Fi(this)}}}catch{}finally{}};function As(u){if(!ja(u))return u.g.la();const y=gi(u.g);if(y==="")return"";let A="";const N=y.length,ie=xr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ci(u),Fi(u),"";u.h.i=new p.TextDecoder}for(let fe=0;fe<N;fe++)u.h.h=!0,A+=u.h.i.decode(y[fe],{stream:!(ie&&fe==N-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function ja(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function aa(u,y){var A=u.C,N=y.indexOf(`
`,A);return N==-1?Hn:(A=Number(y.substring(A,N)),isNaN(A)?vn:(N+=1,N+A>y.length?Hn:(y=y.slice(N,N+A),u.C=N+A,y)))}Ji.prototype.cancel=function(){this.K=!0,Ci(this)};function Qn(u){u.T=Date.now()+u.H,_i(u,u.H)}function _i(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Vn(E(u.aa,u),y)}function Bi(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Ji.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rt(this.i,this.B),this.M!=2&&(zn(),Ht(17)),Ci(this),this.m=2,Fi(this)):_i(this,this.T-u)};function Fi(u){u.j.I==0||u.K||Ya(u.j,u)}function Ci(u){Bi(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function bi(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||Ne(A.h,u))){if(!u.L&&Ne(A.h,u)&&A.I==3){try{var N=A.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var ie=N;if(ie[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)ua(A),Mr(A);else break e;Ta(A),Ht(18)}}else A.xa=ie[1],0<A.xa-A.K&&ie[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Vn(E(A.Va,A),6e3));Me(A.h)<=1&&A.ta&&(A.ta=void 0)}else Or(A,11)}else if((u.L||A.g==u)&&ua(A),!I(y))for(ie=A.Ba.g.parse(y),y=0;y<ie.length;y++){let ln=ie[y];const Dn=ln[0];if(!(Dn<=A.K))if(A.K=Dn,ln=ln[1],A.I==2)if(ln[0]=="c"){A.M=ln[1],A.ba=ln[2];const qi=ln[3];qi!=null&&(A.ka=qi,A.j.info("VER="+A.ka));const pr=ln[4];pr!=null&&(A.za=pr,A.j.info("SVER="+A.za));const gr=ln[5];gr!=null&&typeof gr=="number"&&gr>0&&(N=1.5*gr,A.O=N,A.j.info("backChannelRequestTimeoutMs_="+N)),N=A;const ir=u.g;if(ir){const Yr=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var fe=N.h;fe.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(ft(fe,fe.h),fe.h=null))}if(N.G){const Xa=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(N.wa=Xa,xt(N.J,N.G,Xa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),N=A;var ke=u;if(N.na=Zo(N,N.L?N.ba:null,N.W),ke.L){Ve(N.h,ke);var St=ke,qn=N.O;qn&&(St.H=qn),St.D&&(Bi(St),Qn(St)),N.g=ke}else ti(N);A.i.length>0&&tr(A)}else ln[0]!="stop"&&ln[0]!="close"||Or(A,7);else A.I==3&&(ln[0]=="stop"||ln[0]=="close"?ln[0]=="stop"?Or(A,7):Ao(A):ln[0]!="noop"&&A.l&&A.l.qa(ln),A.A=0)}}zn(4)}catch{}}var te=class{constructor(u,y){this.g=u,this.map=y}};function _e(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ee(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Me(u){return u.h?1:u.g?u.g.size:0}function Ne(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function ft(u,y){u.g?u.g.add(y):u.h=y}function Ve(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}_e.prototype.cancel=function(){if(this.i=gt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function gt(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return ne(u.i)}var je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const N=u[A].indexOf("=");let ie,fe=null;N>=0?(ie=u[A].substring(0,N),fe=u[A].substring(N+1)):ie=u[A],y(ie,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function At(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof At?(this.l=u.l,Nt(this,u.j),this.o=u.o,this.g=u.g,Zn(this,u.u),this.h=u.h,ei(this,_a(u.i)),this.m=u.m):u&&(y=String(u).match(je))?(this.l=!1,Nt(this,y[1]||"",!0),this.o=ct(y[2]||""),this.g=ct(y[3]||"",!0),Zn(this,y[4]),this.h=ct(y[5]||"",!0),ei(this,y[6]||"",!0),this.m=ct(y[7]||"")):(this.l=!1,this.i=new Fr(null,this.l))}At.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(wi(y,za,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(wi(y,za,!0),"@"),u.push(Ge(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(wi(A,A.charAt(0)=="/"?Ss:To,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",wi(A,va)),u.join("")},At.prototype.resolve=function(u){const y=Ct(this);let A=!!u.j;A?Nt(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var N=u.h;if(A)Zn(y,u.u);else if(A=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var ie=y.h.lastIndexOf("/");ie!=-1&&(N=y.h.slice(0,ie+1)+N)}if(ie=N,ie==".."||ie==".")N="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){N=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const fe=[];for(let ke=0;ke<ie.length;){const St=ie[ke++];St=="."?N&&ke==ie.length&&fe.push(""):St==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),N&&ke==ie.length&&fe.push("")):(fe.push(St),N=!0)}N=fe.join("/")}else N=ie}return A?y.h=N:A=u.i.toString()!=="",A?ei(y,_a(u.i)):A=!!u.m,A&&(y.m=u.m),y};function Ct(u){return new At(u)}function Nt(u,y,A){u.j=A?ct(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Zn(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function ei(u,y,A){y instanceof Fr?(u.i=y,ba(u.i,u.l)):(A||(y=wi(y,_n)),u.i=new Fr(y,u.l))}function xt(u,y,A){u.i.set(y,A)}function Ii(u){return xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ct(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wi(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,kn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var za=/[#\/\?@]/g,To=/[#\?:]/g,Ss=/[#\?]/g,_n=/[#\?@]/g,va=/#/g;function Fr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function oi(u){u.g||(u.g=new Map,u.h=0,u.i&&rt(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=Fr.prototype,r.add=function(u,y){oi(this),this.i=null,u=Cr(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function lr(u,y){oi(u),y=Cr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Ba(u,y){return oi(u),y=Cr(u,y),u.g.has(y)}r.forEach=function(u,y){oi(this),this.g.forEach(function(A,N){A.forEach(function(ie){u.call(y,ie,N,this)},this)},this)};function Rr(u,y){oi(u);let A=[];if(typeof y=="string")Ba(u,y)&&(A=A.concat(u.g.get(Cr(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return oi(this),this.i=null,u=Cr(this,u),Ba(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=Rr(this,u),u.length>0?String(u[0]):y):y};function Fa(u,y,A){lr(u,y),A.length>0&&(u.i=null,u.g.set(Cr(u,y),ne(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var A=y[N];const ie=Ge(A);A=Rr(this,A);for(let fe=0;fe<A.length;fe++){let ke=ie;A[fe]!==""&&(ke+="="+Ge(A[fe])),u.push(ke)}}return this.i=u.join("&")};function _a(u){const y=new Fr;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Cr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function ba(u,y){y&&!u.j&&(oi(u),u.i=null,u.g.forEach(function(A,N){const ie=N.toLowerCase();N!=ie&&(lr(this,N),Fa(this,ie,A))},u)),u.j=y}function ur(u,y){const A=new Xn;if(p.Image){const N=new Image;N.onload=x(cr,A,"TestLoadImage: loaded",!0,y,N),N.onerror=x(cr,A,"TestLoadImage: error",!1,y,N),N.onabort=x(cr,A,"TestLoadImage: abort",!1,y,N),N.ontimeout=x(cr,A,"TestLoadImage: timeout",!1,y,N),p.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else y(!1)}function Rs(u,y){const A=new Xn,N=new AbortController,ie=setTimeout(()=>{N.abort(),cr(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:N.signal}).then(fe=>{clearTimeout(ie),fe.ok?cr(A,"TestPingServer: ok",!0,y):cr(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ie),cr(A,"TestPingServer: error",!1,y)})}function cr(u,y,A,N,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),N(A)}catch{}}function hr(){this.g=new W}function er(u){this.i=u.Sb||null,this.h=u.ab||!1}L(er,de),er.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,y){tt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}L(fr,tt),r=fr.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,xi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?dr(this):xi(this),this.readyState==3&&sa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,dr(this))},r.Na=function(u){this.g&&(this.response=u,dr(this))},r.ga=function(){this.g&&dr(this)};function dr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,xi(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function xi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function pi(u){let y="";return he(u,function(A,N){y+=N,y+=":",y+=A,y+=`\r
`}),y}function Hr(u,y,A){e:{for(N in A){var N=!1;break e}N=!0}N||(A=pi(A),typeof u=="string"?A!=null&&Ge(A):xt(u,y,A))}function kt(u){tt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}L(kt,tt);var qr=/^https?$/i,Hi=["POST","PUT"];r=kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ar.g(),this.g.onreadystatechange=q(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(fe){oa(this,fe);return}if(u=A||"",A=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var ie in N)A.set(ie,N[ie]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const fe of N.keys())A.set(fe,N.get(fe));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(A.keys()).find(fe=>fe.toLowerCase()=="content-type"),ie=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Hi,y,void 0)>=0)||N||ie||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,ke]of A)this.g.setRequestHeader(fe,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(fe){oa(this,fe)}};function oa(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,wa(u),Ir(u)}function wa(u){u.A||(u.A=!0,nn(u,"complete"),nn(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,nn(this,"complete"),nn(this,"abort"),Ir(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ir(this,!0)),kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?la(this):this.Xa())},r.Xa=function(){la(this)};function la(u){if(u.h&&typeof c<"u"){if(u.v&&xr(u)==4)setTimeout(u.Ca.bind(u),0);else if(nn(u,"readystatechange"),xr(u)==4){u.h=!1;try{const fe=u.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var N;if(N=fe===0){let ke=String(u.D).match(je)[1]||null;!ke&&p.self&&p.self.location&&(ke=p.self.location.protocol.slice(0,-1)),N=!qr.test(ke?ke.toLowerCase():"")}A=N}if(A)nn(u,"complete"),nn(u,"success");else{u.o=6;try{var ie=xr(u)>2?u.g.statusText:""}catch{ie=""}u.l=ie+" ["+u.ca()+"]",wa(u)}}finally{Ir(u)}}}}function Ir(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||nn(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function xr(u){return u.g?u.g.readyState:0}r.ca=function(){try{return xr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),D(y)}};function gi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mr(u){const y={};u=(u.g&&xr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(I(u[N]))continue;var A=ra(u[N]);const ie=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const fe=y[ie]||[];y[ie]=fe,fe.push(A)}Ce(y,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Ea(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,u),this.Za=Gr("retryDelaySeedMs",1e4,u),this.Ta=Gr("forwardChannelMaxRetries",2,u),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _e(u&&u.concurrentRequestLimit),this.Ba=new hr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ea.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,N){Ht(0),this.W=u,this.H=y||{},A&&N!==void 0&&(this.H.OSID=A,this.H.OAID=N),this.F=this.X,this.J=Zo(this,null,this.W),tr(this)};function Ao(u){if(Ha(u),u.I==3){var y=u.V++,A=Ct(u.J);if(xt(A,"SID",u.M),xt(A,"RID",y),xt(A,"TYPE","terminate"),Ga(u,A),y=new Ji(u,u.j,y),y.M=2,y.A=Ii(Ct(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=el(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Qn(y)}xs(u)}function Mr(u){u.g&&(nr(u),u.g.cancel(),u.g=null)}function Ha(u){Mr(u),u.v&&(p.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function tr(u){if(!Ee(u.h)&&!u.m){u.m=!0;var y=u.Ea;ot||B(),at||(ot(),at=!0),F.add(y,u),u.D=0}}function qa(u,y){return Me(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Vn(E(u.Ea,u,y),Is(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ie=new Ji(this,this.j,u);let fe=this.o;if(this.U&&(fe?(fe=P(fe),Ae(fe,this.U)):fe=this.U),this.u!==null||this.R||(ie.J=fe,fe=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var N=this.i[A];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=$o(this,ie,y),A=Ct(this.J),xt(A,"RID",u),xt(A,"CVER",22),this.G&&xt(A,"X-HTTP-Session-Id",this.G),Ga(this,A),fe&&(this.R?y="headers="+Ge(pi(fe))+"&"+y:this.u&&Hr(A,this.u,fe)),ft(this.h,ie),this.Ra&&xt(A,"TYPE","init"),this.S?(xt(A,"$req",y),xt(A,"SID","null"),ie.U=!0,Jn(ie,A,null)):Jn(ie,A,y),this.I=2}}else this.I==3&&(u?Cs(this,u):this.i.length==0||Ee(this.h)||Cs(this))};function Cs(u,y){var A;y?A=y.l:A=u.V++;const N=Ct(u.J);xt(N,"SID",u.M),xt(N,"RID",A),xt(N,"AID",u.K),Ga(u,N),u.u&&u.o&&Hr(N,u.u,u.o),A=new Ji(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=$o(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ft(u.h,A),Jn(A,N,y)}function Ga(u,y){u.H&&he(u.H,function(A,N){xt(y,N,A)}),u.l&&he({},function(A,N){xt(y,N,A)})}function $o(u,y,A){A=Math.min(u.i.length,A);const N=u.l?E(u.l.Ka,u.l,u):null;e:{var ie=u.i;let St=-1;for(;;){const qn=["count="+A];St==-1?A>0?(St=ie[0].g,qn.push("ofs="+St)):St=0:qn.push("ofs="+St);let ln=!0;for(let Dn=0;Dn<A;Dn++){var fe=ie[Dn].g;const qi=ie[Dn].map;if(fe-=St,fe<0)St=Math.max(0,ie[Dn].g-100),ln=!1;else try{fe="req"+fe+"_"||"";try{var ke=qi instanceof Map?qi:Object.entries(qi);for(const[pr,gr]of ke){let ir=gr;b(gr)&&(ir=v(gr)),qn.push(fe+pr+"="+encodeURIComponent(ir))}}catch(pr){throw qn.push(fe+"type="+encodeURIComponent("_badmap")),pr}}catch{N&&N(qi)}}if(ln){ke=qn.join("&");break e}}ke=void 0}return u=u.i.splice(0,A),y.G=u,ke}function ti(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ot||B(),at||(ot(),at=!0),F.add(y,u),u.A=0}}function Ta(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Vn(E(u.Da,u),Is(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Vn(E(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),Mr(this),Jo(this))};function nr(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Jo(u){u.g=new Ji(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=Ct(u.na);xt(y,"RID","rpc"),xt(y,"SID",u.M),xt(y,"AID",u.K),xt(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&xt(y,"TO",u.ia),xt(y,"TYPE","xmlhttp"),Ga(u,y),u.u&&u.o&&Hr(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=Ii(Ct(y)),A.u=null,A.R=!0,Sr(A,u)}r.Va=function(){this.C!=null&&(this.C=null,Mr(this),Ta(this),Ht(19))};function ua(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Ya(u,y){var A=null;if(u.g==y){ua(u),nr(u),u.g=null;var N=2}else if(Ne(u.h,y))A=y.G,Ve(u.h,y),N=1;else return;if(u.I!=0){if(y.o)if(N==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ie=u.D;N=xn(),nn(N,new On(N,A)),tr(u)}else ti(u);else if(ie=y.m,ie==3||ie==0&&y.X>0||!(N==1&&qa(u,y)||N==2&&Ta(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ie){case 1:Or(u,5);break;case 4:Or(u,10);break;case 3:Or(u,6);break;default:Or(u,2)}}}function Is(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Or(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),N=u.Ua;const ie=!N;N=new At(N||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Nt(N,"https"),Ii(N),ie?ur(N.toString(),A):Rs(N.toString(),A)}else Ht(2);u.I=0,u.l&&u.l.pa(y),xs(u),Ha(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function xs(u){if(u.I=0,u.ja=[],u.l){const y=gt(u.h);(y.length!=0||u.i.length!=0)&&(U(u.ja,y),U(u.ja,u.i),u.h.i.length=0,ne(u.i),u.i.length=0),u.l.oa()}}function Zo(u,y,A){var N=A instanceof At?Ct(A):new At(A);if(N.g!="")y&&(N.g=y+"."+N.g),Zn(N,N.u);else{var ie=p.location;N=ie.protocol,y=y?y+"."+ie.hostname:ie.hostname,ie=+ie.port;const fe=new At(null);N&&Nt(fe,N),y&&(fe.g=y),ie&&Zn(fe,ie),A&&(fe.h=A),N=fe}return A=u.G,y=u.wa,A&&y&&xt(N,A,y),xt(N,"VER",u.ka),Ga(u,N),N}function el(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new kt(new er({ab:A})):new kt(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ms(){}r=Ms.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Aa(){}Aa.prototype.g=function(u,y){return new Mi(u,y)};function Mi(u,y){tt.call(this),this.g=new Ea(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ca(this)}L(Mi,tt),Mi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mi.prototype.close=function(){Ao(this.g)},Mi.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new te(y.Ya++,u)),y.I==3&&tr(y)},Mi.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,Mi.Z.N.call(this)};function So(u){$e.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}L(So,$e);function tl(){He.call(this),this.status=1}L(tl,He);function ca(u){this.g=u}L(ca,Ms),ca.prototype.ra=function(){nn(this.g,"a")},ca.prototype.qa=function(u){nn(this.g,new So(u))},ca.prototype.pa=function(u){nn(this.g,new tl)},ca.prototype.oa=function(){nn(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,Mi.prototype.send=Mi.prototype.o,Mi.prototype.open=Mi.prototype.m,Mi.prototype.close=Mi.prototype.close,qb=function(){return new Aa},Hb=function(){return xn()},Fb=Je,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Ch=zi,ya.COMPLETE="complete",Bb=ya,Ie.EventType=We,We.OPEN="a",We.CLOSE="b",We.ERROR="c",We.MESSAGE="d",tt.prototype.listen=tt.prototype.J,ju=Ie,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,zb=kt}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",B_="4.9.2";class Qi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let Kl="12.3.0";const Go=new rp("@firebase/firestore");function xl(){return Go.logLevel}function et(r,...e){if(Go.logLevel<=Kt.DEBUG){const i=e.map(pp);Go.debug(`Firestore (${Kl}): ${r}`,...i)}}function ws(r,...e){if(Go.logLevel<=Kt.ERROR){const i=e.map(pp);Go.error(`Firestore (${Kl}): ${r}`,...i)}}function Bl(r,...e){if(Go.logLevel<=Kt.WARN){const i=e.map(pp);Go.warn(`Firestore (${Kl}): ${r}`,...i)}}function pp(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function wt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Gb(r,s,i)}function Gb(r,e,i){let s=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ws(s),new Error(s)}function En(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||Gb(e,l,s)}function Ot(r,e){return r}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Yb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qi.UNAUTHENTICATED)))}shutdown(){}}class _R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){En(this.o===void 0,42304);let s=this.i;const l=w=>this.i!==s?(s=this.i,i(w)):Promise.resolve();let c=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mo)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(En(typeof s.accessToken=="string",31837,{l:s}),new Yb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return En(e===null||typeof e=="string",2055,{h:e}),new Qi(e)}}class wR{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ER{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new wR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Qi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ta(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){En(this.o===void 0,3512);const s=c=>{c.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,et("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(En(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new F_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=AR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function $t(r,e){return r<e?-1:r>e?1:0}function Fm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Am(l)===Am(c)?$t(l,c):Am(l)?1:-1}return $t(r.length,e.length)}const SR=55296,RR=57343;function Am(r){const e=r.charCodeAt(0);return e>=SR&&e<=RR}function Fl(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const H_="__name__";class Oa{constructor(e,i,s){i===void 0?i=0:i>e.length&&wt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&wt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Oa.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Oa.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return $t(e.length,i.length)}static compareSegments(e,i){const s=Oa.isNumericId(e),l=Oa.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Oa.extractNumericId(e).compare(Oa.extractNumericId(i)):Fm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class Nn extends Oa{construct(e,i,s){return new Nn(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Nn(i)}static emptyPath(){return new Nn([])}}const CR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Li extends Oa{construct(e,i,s){return new Li(e,i,s)}static isValidIdentifier(e){return CR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Li.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new Li([H_])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new Qe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new Qe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new Qe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Li(i)}static emptyPath(){return new Li([])}}class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Nn.fromString(e))}static fromName(e){return new mt(Nn.fromString(e).popFirst(5))}static empty(){return new mt(Nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Nn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Nn(e.slice()))}}function Xb(r,e,i){if(!i)throw new Qe(Te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function IR(r,e,i,s){if(e===!0&&s===!0)throw new Qe(Te.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function q_(r){if(!mt.isDocumentKey(r))throw new Qe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function G_(r){if(mt.isDocumentKey(r))throw new Qe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Qb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function af(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":wt(12329,{type:typeof r})}function Bh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Qe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=af(r);throw new Qe(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function mi(r,e){const i={typeString:r};return e&&(i.value=e),i}function cc(r,e){if(!Qb(r))throw new Qe(Te.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const p=r[s];if(l&&typeof p!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new Qe(Te.INVALID_ARGUMENT,i);return!0}const Y_=-62135596800,X_=1e6;class jn{static now(){return jn.fromMillis(Date.now())}static fromDate(e){return jn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*X_);return new jn(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Y_)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X_}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,jn._jsonSchema))return new jn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jn._jsonSchemaVersion="firestore/timestamp/1.0",jn._jsonSchema={type:mi("string",jn._jsonSchemaVersion),seconds:mi("number"),nanoseconds:mi("number")};class It{static fromTimestamp(e){return new It(e)}static min(){return new It(new jn(0,0))}static max(){return new It(new jn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ku=-1;function xR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=It.fromTimestamp(s===1e9?new jn(i+1,0):new jn(i,s));return new go(l,mt.empty(),e)}function MR(r){return new go(r.readTime,r.key,Ku)}class go{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new go(It.min(),mt.empty(),Ku)}static max(){return new go(It.max(),mt.empty(),Ku)}}function OR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:$t(r.largestBatchId,e.largestBatchId))}const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $l(r){if(r.code!==Te.FAILED_PRECONDITION||r.message!==DR)throw r;et("LocalStore","Unexpectedly lost primary lease")}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Se(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Se?i:Se.resolve(i)}catch(i){return Se.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Se.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Se.reject(i)}static resolve(e){return new Se(((i,s)=>{i(e)}))}static reject(e){return new Se(((i,s)=>{s(e)}))}static waitFor(e){return new Se(((i,s)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(w=>s(w)))})),p=!0,c===l&&i()}))}static or(e){let i=Se.resolve(!1);for(const s of e)i=i.next((l=>l?Se.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new Se(((s,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;i(e[E]).next((x=>{p[E]=x,++b,b===c&&s(p)}),(x=>l(x)))}}))}static doWhile(e,i){return new Se(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function VR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Jl(r){return r.name==="IndexedDbTransactionError"}class sf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;const yp=-1;function of(r){return r==null}function Fh(r){return r===0&&1/r==-1/0}function kR(r){return typeof r=="number"&&Number.isInteger(r)&&!Fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Wb="";function PR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Q_(e)),e=LR(r.get(i),e);return Q_(e)}function LR(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Wb:i+="";break;default:i+=c}}return i}function Q_(r){return r+Wb+""}function W_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Xo(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Kb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Gn{constructor(e,i){this.comparator=e,this.root=i||Pi.EMPTY}insert(e,i){return new Gn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pi{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Pi.RED,this.left=l??Pi.EMPTY,this.right=c??Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Pi(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Pi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1;Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Pi(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vi{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof vi)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new vi(this.comparator);return i.data=e,i}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pa{constructor(e){this.fields=e,e.sort(Li.comparator)}static empty(){return new pa([])}unionWith(e){let i=new vi(Li.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new pa(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class $b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $b("Invalid base64 string: "+c):c}})(e);return new Ui(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new Ui(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const UR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(r){if(En(!!r,39018),typeof r=="string"){let e=0;const i=UR.exec(r);if(En(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ai(r.seconds),nanos:ai(r.nanos)}}function ai(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vo(r){return typeof r=="string"?Ui.fromBase64String(r):Ui.fromUint8Array(r)}const Jb="server_timestamp",Zb="__type__",ew="__previous_value__",tw="__local_write_time__";function vp(r){return(r?.mapValue?.fields||{})[Zb]?.stringValue===Jb}function lf(r){const e=r.mapValue.fields[ew];return vp(e)?lf(e):e}function $u(r){const e=yo(r.mapValue.fields[tw].timestampValue);return new jn(e.seconds,e.nanos)}class jR{constructor(e,i,s,l,c,p,b,w,E,x){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=x}}const Hh="(default)";class Ju{constructor(e,i){this.projectId=e,this.database=i||Hh}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}const nw="__type__",zR="__max__",vh={mapValue:{}},iw="__vector__",qh="value";function _o(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vp(r)?4:FR(r)?9007199254740991:BR(r)?10:11:wt(28295,{value:r})}function Ua(r,e){if(r===e)return!0;const i=_o(r);if(i!==_o(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $u(r).isEqual($u(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=yo(l.timestampValue),b=yo(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return vo(l.bytesValue).isEqual(vo(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ai(l.geoPointValue.latitude)===ai(c.geoPointValue.latitude)&&ai(l.geoPointValue.longitude)===ai(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ai(l.integerValue)===ai(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=ai(l.doubleValue),b=ai(c.doubleValue);return p===b?Fh(p)===Fh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Fl(r.arrayValue.values||[],e.arrayValue.values||[],Ua);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(W_(p)!==W_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!Ua(p[w],b[w])))return!1;return!0})(r,e);default:return wt(52216,{left:r})}}function Zu(r,e){return(r.values||[]).find((i=>Ua(i,e)))!==void 0}function Hl(r,e){if(r===e)return 0;const i=_o(r),s=_o(e);if(i!==s)return $t(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return $t(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=ai(c.integerValue||c.doubleValue),w=ai(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(r,e);case 3:return $_(r.timestampValue,e.timestampValue);case 4:return $_($u(r),$u(e));case 5:return Fm(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=vo(c),w=vo(p);return b.compareTo(w)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const x=$t(b[E],w[E]);if(x!==0)return x}return $t(b.length,w.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=$t(ai(c.latitude),ai(p.latitude));return b!==0?b:$t(ai(c.longitude),ai(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return J_(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[qh]?.arrayValue,x=w[qh]?.arrayValue,L=$t(E?.values?.length||0,x?.values?.length||0);return L!==0?L:J_(E,x)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===vh.mapValue&&p===vh.mapValue)return 0;if(c===vh.mapValue)return 1;if(p===vh.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},x=Object.keys(E);w.sort(),x.sort();for(let L=0;L<w.length&&L<x.length;++L){const q=Fm(w[L],x[L]);if(q!==0)return q;const ne=Hl(b[w[L]],E[x[L]]);if(ne!==0)return ne}return $t(w.length,x.length)})(r.mapValue,e.mapValue);default:throw wt(23264,{he:i})}}function $_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $t(r,e);const i=yo(r),s=yo(e),l=$t(i.seconds,s.seconds);return l!==0?l:$t(i.nanos,s.nanos)}function J_(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Hl(i[l],s[l]);if(c)return c}return $t(i.length,s.length)}function ql(r){return Hm(r)}function Hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=yo(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return vo(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Hm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${Hm(i.fields[p])}`;return l+"}"})(r.mapValue):wt(61005,{value:r})}function Ih(r){switch(_o(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(r);return e?16+Ih(e):16;case 5:return 2*r.stringValue.length;case 6:return vo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Ih(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Xo(s.fields,((c,p)=>{l+=c.length+Ih(p)})),l})(r.mapValue);default:throw wt(13486,{value:r})}}function Z_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qm(r){return!!r&&"integerValue"in r}function _p(r){return!!r&&"arrayValue"in r}function e0(r){return!!r&&"nullValue"in r}function t0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xh(r){return!!r&&"mapValue"in r}function BR(r){return(r?.mapValue?.fields||{})[nw]?.stringValue===iw}function qu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Xo(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=qu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=qu(r.arrayValue.values[i]);return e}return{...r}}function FR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}class na{constructor(e){this.value=e}static empty(){return new na({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!xh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(i)}setAll(e){let i=Li.emptyPath(),s={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const w=this.getFieldsMap(i);this.applyChanges(w,s,l),s={},l=[],i=b.popLast()}p?s[b.lastSegment()]=qu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());xh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ua(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];xh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Xo(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new na(qu(this.value))}}function rw(r){const e=[];return Xo(r.fields,((i,s)=>{const l=new Li([i]);if(xh(s)){const c=rw(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new pa(e)}class Wi{constructor(e,i,s,l,c,p,b){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new Wi(e,0,It.min(),It.min(),It.min(),na.empty(),0)}static newFoundDocument(e,i,s,l){return new Wi(e,1,i,It.min(),s,l,0)}static newNoDocument(e,i){return new Wi(e,2,i,It.min(),It.min(),na.empty(),0)}static newUnknownDocument(e,i){return new Wi(e,3,i,It.min(),It.min(),na.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=na.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=na.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gh{constructor(e,i){this.position=e,this.inclusive=i}}function n0(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?s=mt.comparator(mt.fromName(p.referenceValue),i.key):s=Hl(p,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function i0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ua(r.position[i],e.position[i]))return!1;return!0}class ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function HR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class aw{}class di extends aw{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new GR(e,i,s):i==="array-contains"?new QR(e,s):i==="in"?new WR(e,s):i==="not-in"?new KR(e,s):i==="array-contains-any"?new $R(e,s):new di(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new YR(e,s):new XR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Hl(i,this.value)):i!==null&&_o(this.value)===_o(i)&&this.matchesComparison(Hl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ga extends aw{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ga(e,i)}matches(e){return sw(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sw(r){return r.op==="and"}function ow(r){return qR(r)&&sw(r)}function qR(r){for(const e of r.filters)if(e instanceof ga)return!1;return!0}function Gm(r){if(r instanceof di)return r.field.canonicalString()+r.op.toString()+ql(r.value);if(ow(r))return r.filters.map((e=>Gm(e))).join(",");{const e=r.filters.map((i=>Gm(i))).join(",");return`${r.op}(${e})`}}function lw(r,e){return r instanceof di?(function(s,l){return l instanceof di&&s.op===l.op&&s.field.isEqual(l.field)&&Ua(s.value,l.value)})(r,e):r instanceof ga?(function(s,l){return l instanceof ga&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&lw(p,l.filters[b])),!0):!1})(r,e):void wt(19439)}function uw(r){return r instanceof di?(function(i){return`${i.field.canonicalString()} ${i.op} ${ql(i.value)}`})(r):r instanceof ga?(function(i){return i.op.toString()+" {"+i.getFilters().map(uw).join(" ,")+"}"})(r):"Filter"}class GR extends di{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class YR extends di{constructor(e,i){super(e,"in",i),this.keys=cw("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class XR extends di{constructor(e,i){super(e,"not-in",i),this.keys=cw("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function cw(r,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class QR extends di{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return _p(i)&&Zu(i.arrayValue,this.value)}}class WR extends di{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zu(this.value.arrayValue,i)}}class KR extends di{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zu(this.value.arrayValue,i)}}class $R extends di{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!_p(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Zu(this.value.arrayValue,s)))}}class JR{constructor(e,i=null,s=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function r0(r,e=null,i=[],s=[],l=null,c=null,p=null){return new JR(r,e,i,s,l,c,p)}function bp(r){const e=Ot(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Gm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),of(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ql(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ql(s))).join(",")),e.Te=i}return e.Te}function wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!HR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!lw(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!i0(r.startAt,e.startAt)&&i0(r.endAt,e.endAt)}function Ym(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Zl{constructor(e,i=null,s=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZR(r,e,i,s,l,c,p,b){return new Zl(r,e,i,s,l,c,p,b)}function hw(r){return new Zl(r)}function a0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fw(r){return r.collectionGroup!==null}function Gu(r){const e=Ot(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new vi(Li.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ec(c,s))})),i.has(Li.keyField().canonicalString())||e.Ie.push(new ec(Li.keyField(),s))}return e.Ie}function Va(r){const e=Ot(r);return e.Ee||(e.Ee=eC(e,Gu(r))),e.Ee}function eC(r,e){if(r.limitType==="F")return r0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ec(l.field,c)}));const i=r.endAt?new Gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Gh(r.startAt.position,r.startAt.inclusive):null;return r0(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Xm(r,e){const i=r.filters.concat([e]);return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Yh(r,e,i){return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function uf(r,e){return wp(Va(r),Va(e))&&r.limitType===e.limitType}function dw(r){return`${bp(Va(r))}|lt:${r.limitType}`}function Ml(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>uw(l))).join(", ")}]`),of(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ql(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ql(l))).join(",")),`Target(${s})`})(Va(r))}; limitType=${r.limitType})`}function cf(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):mt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Gu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(p,b,w){const E=n0(p,b,w);return p.inclusive?E<=0:E<0})(s.startAt,Gu(s),l)||s.endAt&&!(function(p,b,w){const E=n0(p,b,w);return p.inclusive?E>=0:E>0})(s.endAt,Gu(s),l))})(r,e)}function tC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mw(r){return(e,i)=>{let s=!1;for(const l of Gu(r)){const c=nC(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function nC(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Hl(w,E):wt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:r.dir})}}class Qo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return Kb(this.inner)}size(){return this.innerSize}}const iC=new Gn(mt.comparator);function Es(){return iC}const pw=new Gn(mt.comparator);function zu(...r){let e=pw;for(const i of r)e=e.insert(i.key,i);return e}function gw(r){let e=pw;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Bo(){return Yu()}function yw(){return Yu()}function Yu(){return new Qo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const rC=new Gn(mt.comparator),aC=new vi(mt.comparator);function Jt(...r){let e=aC;for(const i of r)e=e.add(i);return e}const sC=new vi($t);function oC(){return sC}function Ep(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function vw(r){return{integerValue:""+r}}function lC(r,e){return kR(e)?vw(e):Ep(r,e)}class hf{constructor(){this._=void 0}}function uC(r,e,i){return r instanceof Xh?(function(l,c){const p={fields:{[Zb]:{stringValue:Jb},[tw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&vp(c)&&(c=lf(c)),c&&(p.fields[ew]=c),{mapValue:p}})(i,e):r instanceof tc?bw(r,e):r instanceof nc?ww(r,e):(function(l,c){const p=_w(l,c),b=s0(p)+s0(l.Ae);return qm(p)&&qm(l.Ae)?vw(b):Ep(l.serializer,b)})(r,e)}function cC(r,e,i){return r instanceof tc?bw(r,e):r instanceof nc?ww(r,e):i}function _w(r,e){return r instanceof Qh?(function(s){return qm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Xh extends hf{}class tc extends hf{constructor(e){super(),this.elements=e}}function bw(r,e){const i=Ew(e);for(const s of r.elements)i.some((l=>Ua(l,s)))||i.push(s);return{arrayValue:{values:i}}}class nc extends hf{constructor(e){super(),this.elements=e}}function ww(r,e){let i=Ew(e);for(const s of r.elements)i=i.filter((l=>!Ua(l,s)));return{arrayValue:{values:i}}}class Qh extends hf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function s0(r){return ai(r.integerValue||r.doubleValue)}function Ew(r){return _p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function hC(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof tc&&l instanceof tc||s instanceof nc&&l instanceof nc?Fl(s.elements,l.elements,Ua):s instanceof Qh&&l instanceof Qh?Ua(s.Ae,l.Ae):s instanceof Xh&&l instanceof Xh})(r.transform,e.transform)}class fC{constructor(e,i){this.version=e,this.transformResults=i}}class gs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ff{}function Tw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Sw(r.key,gs.none()):new hc(r.key,r.data,gs.none());{const i=r.data,s=na.empty();let l=new vi(Li.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Wo(r.key,s,new pa(l.toArray()),gs.none())}}function dC(r,e,i){r instanceof hc?(function(l,c,p){const b=l.value.clone(),w=l0(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Wo?(function(l,c,p){if(!Mh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=l0(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(Aw(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Xu(r,e,i,s){return r instanceof hc?(function(c,p,b,w){if(!Mh(c.precondition,p))return b;const E=c.value.clone(),x=u0(c.fieldTransforms,w,p);return E.setAll(x),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(r,e,i,s):r instanceof Wo?(function(c,p,b,w){if(!Mh(c.precondition,p))return b;const E=u0(c.fieldTransforms,w,p),x=p.data;return x.setAll(Aw(c)),x.setAll(E),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((L=>L.field)))})(r,e,i,s):(function(c,p,b){return Mh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function mC(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=_w(s.transform,l||null);c!=null&&(i===null&&(i=na.empty()),i.set(s.field,c))}return i||null}function o0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Fl(s,l,((c,p)=>hC(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hc extends ff{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wo extends ff{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Aw(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function l0(r,e,i){const s=new Map;En(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);s.set(c.field,cC(p,b,i[l]))}return s}function u0(r,e,i){const s=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);s.set(l.field,uC(c,p,e))}return s}class Sw extends ff{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pC extends ff{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gC{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&dC(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Xu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Xu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=yw();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const w=Tw(p,b);w!==null&&s.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Jt())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,((i,s)=>o0(i,s)))&&Fl(this.baseMutations,e.baseMutations,((i,s)=>o0(i,s)))}}class Tp{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){En(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return rC})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new Tp(e,i,s,l)}}class yC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vC{constructor(e,i){this.count=e,this.unchangedNames=i}}var fi,an;function _C(r){switch(r){case Te.OK:return wt(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return wt(15467,{code:r})}}function Rw(r){if(r===void 0)return ws("GRPC error has no .code"),Te.UNKNOWN;switch(r){case fi.OK:return Te.OK;case fi.CANCELLED:return Te.CANCELLED;case fi.UNKNOWN:return Te.UNKNOWN;case fi.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case fi.INTERNAL:return Te.INTERNAL;case fi.UNAVAILABLE:return Te.UNAVAILABLE;case fi.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case fi.NOT_FOUND:return Te.NOT_FOUND;case fi.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case fi.ABORTED:return Te.ABORTED;case fi.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case fi.DATA_LOSS:return Te.DATA_LOSS;default:return wt(39323,{code:r})}}(an=fi||(fi={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";function bC(){return new TextEncoder}const wC=new fo([4294967295,4294967295],0);function c0(r){const e=bC().encode(r),i=new jb;return i.update(e),new Uint8Array(i.digest())}function h0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fo([i,s],0),new fo([l,c],0)]}class Ap{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Bu(`Invalid padding: ${i}`);if(s<0)throw new Bu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fo.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(fo.fromNumber(s)));return l.compare(wC)===1&&(l=new fo([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=c0(e),[s,l]=h0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Ap(c,l,i);return s.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=c0(e),[s,l]=h0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new df(It.min(),l,new Gn($t),Es(),Jt())}}class fc{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fc(s,i,Jt(),Jt(),Jt())}}class Oh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class Cw{constructor(e,i){this.targetId=e,this.Ce=i}}class Iw{constructor(e,i,s=Ui.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class f0{constructor(){this.ve=0,this.Fe=d0(),this.Me=Ui.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Jt(),i=Jt(),s=Jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:wt(38017,{changeType:c})}})),new fc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=d0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,En(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Es(),this.Je=_h(),this.He=_h(),this.Ye=new Gn($t)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Ym(c))if(s===0){const p=new mt(c.path);this.et(i,p,Wi.newNoDocument(p,It.min()))}else En(s===1,20013,{expectedCount:s});else{const p=this._t(i);if(p!==s){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(i);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=vo(s).toUint8Array()}catch(w){if(w instanceof $b)return Bl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new Ap(p,l,c)}catch(w){return Bl(w instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Ym(b.target)){const w=new mt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,Wi.newNoDocument(w,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let s=Jt();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new df(e,i,this.Ye,this.je,s);return this.je=Es(),this.Je=_h(),this.He=_h(),this.Ye=new Gn($t),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new f0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new vi($t),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new vi($t),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||et("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function _h(){return new Gn(mt.comparator)}function d0(){return new Gn(mt.comparator)}const TC={asc:"ASCENDING",desc:"DESCENDING"},AC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SC={and:"AND",or:"OR"};class RC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Qm(r,e){return r.useProto3Json||of(e)?e:{value:e}}function Wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function CC(r,e){return Wh(r,e.toTimestamp())}function ka(r){return En(!!r,49232),It.fromTimestamp((function(i){const s=yo(i);return new jn(s.seconds,s.nanos)})(r))}function Sp(r,e){return Wm(r,e).canonicalString()}function Wm(r,e){const i=(function(l){return new Nn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Mw(r){const e=Nn.fromString(r);return En(kw(e),10190,{key:e.toString()}),e}function Km(r,e){return Sp(r.databaseId,e.path)}function Sm(r,e){const i=Mw(e);if(i.get(1)!==r.databaseId.projectId)throw new Qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new Qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(Dw(i))}function Ow(r,e){return Sp(r.databaseId,e)}function IC(r){const e=Mw(r);return e.length===4?Nn.emptyPath():Dw(e)}function $m(r){return new Nn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Dw(r){return En(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function m0(r,e,i){return{name:Km(r,e),fields:i.value.mapValue.fields}}function xC(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:wt(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,x){return E.useProto3Json?(En(x===void 0||typeof x=="string",58123),Ui.fromBase64String(x||"")):(En(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Ui.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const x=E.code===void 0?Te.UNKNOWN:Rw(E.code);return new Qe(x,E.message||"")})(p);i=new Iw(s,l,c,b||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Sm(r,s.document.name),c=ka(s.document.updateTime),p=s.document.createTime?ka(s.document.createTime):It.min(),b=new na({mapValue:{fields:s.document.fields}}),w=Wi.newFoundDocument(l,c,p,b),E=s.targetIds||[],x=s.removedTargetIds||[];i=new Oh(E,x,w.key,w)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Sm(r,s.document),c=s.readTime?ka(s.readTime):It.min(),p=Wi.newNoDocument(l,c),b=s.removedTargetIds||[];i=new Oh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Sm(r,s.document),c=s.removedTargetIds||[];i=new Oh([],c,l,null)}else{if(!("filter"in e))return wt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new vC(l,c),b=s.targetId;i=new Cw(b,p)}}return i}function MC(r,e){let i;if(e instanceof hc)i={update:m0(r,e.key,e.value)};else if(e instanceof Sw)i={delete:Km(r,e.key)};else if(e instanceof Wo)i={update:m0(r,e.key,e.data),updateMask:jC(e.fieldMask)};else{if(!(e instanceof pC))return wt(16599,{Vt:e.type});i={verify:Km(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof Xh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof tc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof nc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Qh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw wt(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:CC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:wt(27497)})(r,e.precondition)),i}function OC(r,e){return r&&r.length>0?(En(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?ka(l.updateTime):ka(c);return p.isEqual(It.min())&&(p=ka(c)),new fC(p,l.transformResults||[])})(i,e)))):[]}function DC(r,e){return{documents:[Ow(r,e.path)]}}function NC(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Ow(r,l);const c=(function(E){if(E.length!==0)return Vw(ga.create(E,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((x=>(function(q){return{field:Ol(q.field),direction:PC(q.dir)}})(x)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=Qm(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:i,parent:l}}function VC(r){let e=IC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){En(s===1,65062);const x=i.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(L){const q=Nw(L);return q instanceof ga&&ow(q)?q.getFilters():[q]})(i.where));let p=[];i.orderBy&&(p=(function(L){return L.map((q=>(function(U){return new ec(Dl(U.field),(function(Re){switch(Re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(q)))})(i.orderBy));let b=null;i.limit&&(b=(function(L){let q;return q=typeof L=="object"?L.value:L,of(q)?null:q})(i.limit));let w=null;i.startAt&&(w=(function(L){const q=!!L.before,ne=L.values||[];return new Gh(ne,q)})(i.startAt));let E=null;return i.endAt&&(E=(function(L){const q=!L.before,ne=L.values||[];return new Gh(ne,q)})(i.endAt)),ZR(e,l,p,c,b,"F",w,E)}function kC(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Nw(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Dl(i.unaryFilter.field);return di.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Dl(i.unaryFilter.field);return di.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Dl(i.unaryFilter.field);return di.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Dl(i.unaryFilter.field);return di.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return di.create(Dl(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ga.create(i.compositeFilter.filters.map((s=>Nw(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(i.compositeFilter.op))})(r):wt(30097,{filter:r})}function PC(r){return TC[r]}function LC(r){return AC[r]}function UC(r){return SC[r]}function Ol(r){return{fieldPath:r.canonicalString()}}function Dl(r){return Li.fromServerFormat(r.fieldPath)}function Vw(r){return r instanceof di?(function(i){if(i.op==="=="){if(t0(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NAN"}};if(e0(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t0(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NOT_NAN"}};if(e0(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(i.field),op:LC(i.op),value:i.value}}})(r):r instanceof ga?(function(i){const s=i.getFilters().map((l=>Vw(l)));return s.length===1?s[0]:{compositeFilter:{op:UC(i.op),filters:s}}})(r):wt(54877,{filter:r})}function jC(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function kw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class lo{constructor(e,i,s,l,c=It.min(),p=It.min(),b=Ui.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zC{constructor(e){this.yt=e}}function BC(r){const e=VC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Yh(e,e.limit,"L"):e}class FC{constructor(){this.Cn=new HC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Se.resolve()}getCollectionParents(e,i){return Se.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Se.resolve()}deleteFieldIndex(e,i){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,i){return Se.resolve()}getDocumentsMatchingTarget(e,i){return Se.resolve(null)}getIndexType(e,i){return Se.resolve(0)}getFieldIndexes(e,i){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,i){return Se.resolve(go.min())}getMinOffsetFromCollectionGroup(e,i){return Se.resolve(go.min())}updateCollectionGroup(e,i,s){return Se.resolve()}updateIndexEntries(e,i){return Se.resolve()}}class HC{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new vi(Nn.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new vi(Nn.comparator)).toArray()}}const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pw=41943040;class Tr{static withCacheSize(e){return new Tr(e,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Tr.DEFAULT_COLLECTION_PERCENTILE=10,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tr.DEFAULT=new Tr(Pw,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tr.DISABLED=new Tr(-1,0,0);class Gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gl(0)}static cr(){return new Gl(-1)}}const g0="LruGarbageCollector",qC=1048576;function y0([r,e],[i,s]){const l=$t(r,i);return l===0?$t(e,s):l}class GC{constructor(e){this.Ir=e,this.buffer=new vi(y0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();y0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class YC{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){et(g0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Jl(i)?et(g0,"Ignoring IndexedDB error during garbage collection: ",i):await $l(i)}await this.Vr(3e5)}))}}class XC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Se.resolve(sf.ce);const s=new GC(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(p0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,p,b,w,E;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((L=>(L>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),l=this.params.maximumSequenceNumbersToCollect):l=L,p=Date.now(),this.nthSequenceNumber(e,l)))).next((L=>(s=L,b=Date.now(),this.removeTargets(e,s,i)))).next((L=>(c=L,w=Date.now(),this.removeOrphanedDocuments(e,s)))).next((L=>(E=Date.now(),xl()<=Kt.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-x}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${L} documents in `+(E-w)+`ms
Total Duration: ${E-x}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:L}))))}}function QC(r,e){return new XC(r,e)}class WC{constructor(){this.changes=new Qo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wi.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Se.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class $C{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Xu(s.mutation,l,pa.empty(),jn.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Jt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Jt()){const l=Bo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let p=zu();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const s=Bo();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Jt())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,s,l){let c=Es();const p=Yu(),b=(function(){return Yu()})();return i.forEach(((w,E)=>{const x=s.get(E.key);l.has(E.key)&&(x===void 0||x.mutation instanceof Wo)?c=c.insert(E.key,E):x!==void 0?(p.set(E.key,x.mutation.getFieldMask()),Xu(x.mutation,E,x.mutation.getFieldMask(),jn.now())):p.set(E.key,pa.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,x)=>p.set(E,x))),i.forEach(((E,x)=>b.set(E,new KC(x,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,i){const s=Yu();let l=new Gn(((p,b)=>p-b)),c=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=i.get(w);if(E===null)return;let x=s.get(w)||pa.empty();x=b.applyToLocalView(E,x),s.set(w,x);const L=(l.get(b.batchId)||Jt()).add(w);l=l.insert(b.batchId,L)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,x=w.value,L=yw();x.forEach((q=>{if(!c.has(q)){const ne=Tw(i.get(q),s.get(q));ne!==null&&L.set(q,ne),c=c.add(q)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,L))}return Se.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(p){return mt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):Se.resolve(Bo());let b=Ku,w=c;return p.next((E=>Se.forEach(E,((x,L)=>(b<L.largestBatchId&&(b=L.largestBatchId),c.get(x)?Se.resolve():this.remoteDocumentCache.getEntry(e,x).next((q=>{w=w.insert(x,q)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,Jt()))).next((x=>({batchId:b,changes:gw(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let l=zu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let p=zu();return this.indexManager.getCollectionParents(e,c).next((b=>Se.forEach(b,(w=>{const E=(function(L,q){return new Zl(q,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)})(i,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,l).next((x=>{x.forEach(((L,q)=>{p=p.insert(L,q)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((p=>{c.forEach(((w,E)=>{const x=E.getKey();p.get(x)===null&&(p=p.insert(x,Wi.newInvalidDocument(x)))}));let b=zu();return p.forEach(((w,E)=>{const x=c.get(w);x!==void 0&&Xu(x.mutation,E,pa.empty(),jn.now()),cf(i,E)&&(b=b.insert(w,E))})),b}))}}class JC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Se.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ka(l.createTime)}})(i)),Se.resolve()}getNamedQuery(e,i){return Se.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:BC(l.bundledQuery),readTime:ka(l.readTime)}})(i)),Se.resolve()}}class ZC{constructor(){this.overlays=new Gn(mt.comparator),this.qr=new Map}getOverlay(e,i){return Se.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Bo();return Se.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),Se.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Se.resolve()}getOverlaysForCollection(e,i,s){const l=Bo(),c=i.length+1,p=new mt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>s&&l.set(w.getKey(),w)}return Se.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new Gn(((E,x)=>E-x));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>s){let x=c.get(E.largestBatchId);x===null&&(x=Bo(),c=c.insert(E.largestBatchId,x)),x.set(E.getKey(),E)}}const b=Bo(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,x)=>b.set(E,x))),!(b.size()>=l)););return Se.resolve(b)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new yC(i,s));let c=this.qr.get(i);c===void 0&&(c=Jt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class eI{constructor(){this.sessionToken=Ui.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Se.resolve()}}class Rp{constructor(){this.Qr=new vi(Ti.$r),this.Ur=new vi(Ti.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ti(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ti(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new Nn([])),s=new Ti(i,e),l=new Ti(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new Nn([])),s=new Ti(i,e),l=new Ti(i,e+1);let c=Jt();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new Ti(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ti{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||$t(e.Yr,i.Yr)}static Kr(e,i){return $t(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}class tI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new vi(Ti.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new gC(c,i,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Ti(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Se.resolve(p)}lookupMutationBatch(e,i){return Se.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?yp:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ti(i,0),l=new Ti(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new vi($t);return i.forEach((l=>{const c=new Ti(l,0),p=new Ti(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),Se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;mt.isDocumentKey(c)||(c=c.child(""));const p=new Ti(new mt(c),0);let b=new vi($t);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!s.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Se.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){En(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Se.forEach(i.mutations,(l=>{const c=new Ti(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ti(i,0),l=this.Zr.firstAfterOrEqual(s);return Se.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nI{constructor(e){this.ri=e,this.docs=(function(){return new Gn(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Se.resolve(s?s.document.mutableCopy():Wi.newInvalidDocument(i))}getEntries(e,i){let s=Es();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Wi.newInvalidDocument(l))})),Se.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=Es();const p=i.path,b=new mt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:x}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||OR(MR(x),s)<=0||(l.has(x.key)||cf(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Se.resolve(c)}getAllFromCollectionGroup(e,i,s,l){wt(9500)}ii(e,i){return Se.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new iI(this)}getSize(e){return Se.resolve(this.size)}}class iI extends WC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Se.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class rI{constructor(e){this.persistence=e,this.si=new Qo((i=>bp(i)),wp),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new Rp,this.targetCount=0,this.ai=Gl.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Se.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Gl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Se.resolve()}updateTargetData(e,i){return this.Pr(i),Se.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Se.waitFor(c).next((()=>l))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Se.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Se.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Se.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Se.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Se.resolve(s)}containsKey(e,i){return Se.resolve(this._i.containsKey(i))}}class Lw{constructor(e,i){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new eI,this.referenceDelegate=e(this),this.Pi=new rI(this),this.indexManager=new FC,this.remoteDocumentCache=(function(l){return new nI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new zC(i),this.Ii=new JC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ZC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new tI(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){et("MemoryPersistence","Starting transaction:",e);const l=new aI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class aI extends NR{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.Ri=new Rp,this.Vi=null}static mi(e){return new Cp(e)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Se.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Se.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Se.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,(s=>{const l=mt.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,It.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Se.or([()=>Se.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Kh{constructor(e,i){this.persistence=e,this.pi=new Qo((s=>PR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=QC(this,i)}static mi(e,i){return new Kh(e,i)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Se.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Se.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(s++,c.removeEntry(p,It.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Se.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Se.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Se.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ih(e.data.value)),i}br(e,i,s){return Se.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Se.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ip{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=Jt(),l=Jt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ip(e,i.fromCache,s,l)}}class sI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KT()?8:VR(Ki())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new sI;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(xl()<=Kt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",Ml(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(xl()<=Kt.DEBUG&&et("QueryEngine","Query:",Ml(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(xl()<=Kt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",Ml(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Va(i))):Se.resolve())}ys(e,i){if(a0(i))return Se.resolve(null);let s=Va(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Yh(i,null,"F"),s=Va(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=Jt(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,s).next((w=>{const E=this.Ds(i,b);return this.Cs(i,E,p,w.readTime)?this.ys(e,Yh(i,null,"F")):this.vs(e,E,i,w)}))))})))))}ws(e,i,s,l){return a0(i)||l.isEqual(It.min())?Se.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,s,l)?Se.resolve(null):(xl()<=Kt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ml(i)),this.vs(e,p,i,xR(l,Ku)).next((b=>b)))}))}Ds(e,i){let s=new vi(mw(e));return i.forEach(((l,c)=>{cf(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return xl()<=Kt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Ml(i)),this.ps.getDocumentsMatchingQuery(e,i,go.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const xp="LocalStore",lI=3e8;class uI{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Gn($t),this.xs=new Qo((c=>bp(c)),wp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $C(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function cI(r,e,i,s){return new uI(r,e,i,s)}async function Uw(r,e){const i=Ot(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let w=Jt();for(const E of l){p.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}for(const E of c){b.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}return i.localDocuments.getDocuments(s,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function hI(r,e){const i=Ot(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,x){const L=E.batch,q=L.keys();let ne=Se.resolve();return q.forEach((U=>{ne=ne.next((()=>x.getEntry(w,U))).next((xe=>{const Re=E.docVersions.get(U);En(Re!==null,48541),xe.version.compareTo(Re)<0&&(L.applyToRemoteDocument(xe,E),xe.isValidDocument()&&(xe.setReadTime(E.commitVersion),x.addEntry(xe)))}))})),ne.next((()=>b.mutationQueue.removeMutationBatch(w,L)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let w=Jt();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function jw(r){const e=Ot(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function fI(r,e){const i=Ot(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((x,L)=>{const q=l.get(L);if(!q)return;b.push(i.Pi.removeMatchingKeys(c,x.removedDocuments,L).next((()=>i.Pi.addMatchingKeys(c,x.addedDocuments,L))));let ne=q.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(L)!==null?ne=ne.withResumeToken(Ui.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):x.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(x.resumeToken,s)),l=l.insert(L,ne),(function(xe,Re,Le){return xe.resumeToken.approximateByteSize()===0||Re.snapshotVersion.toMicroseconds()-xe.snapshotVersion.toMicroseconds()>=lI?!0:Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0})(q,ne,x)&&b.push(i.Pi.updateTargetData(c,ne))}));let w=Es(),E=Jt();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),b.push(dI(c,p,e.documentUpdates).next((x=>{w=x.ks,E=x.qs}))),!s.isEqual(It.min())){const x=i.Pi.getLastRemoteSnapshotVersion(c).next((L=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(x)}return Se.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(i.Ms=l,c)))}function dI(r,e,i){let s=Jt(),l=Jt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let p=Es();return i.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(It.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):et(xp,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function mI(r,e){const i=Ot(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=yp),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function pI(r,e){const i=Ot(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,Se.resolve(l)):i.Pi.allocateTargetId(s).next((p=>(l=new lo(e,p,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Jm(r,e,i){const s=Ot(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Jl(p))throw p;et(xp,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function v0(r,e,i){const s=Ot(r);let l=It.min(),c=Jt();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,x){const L=Ot(w),q=L.xs.get(x);return q!==void 0?Se.resolve(L.Ms.get(q)):L.Pi.getTargetData(E,x)})(s,p,Va(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,i?l:It.min(),i?c:Jt()))).next((b=>(gI(s,tC(e),b),{documents:b,Qs:c})))))}function gI(r,e,i){let s=r.Os.get(e)||It.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class _0{constructor(){this.activeTargetIds=oC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yI{constructor(){this.Mo=new _0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vI{Oo(e){}shutdown(){}}const b0="ConnectivityMonitor";class w0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){et(b0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){et(b0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bh=null;function Zm(){return bh===null?bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():bh++,"0x"+bh.toString(16)}const Rm="RestConnection",_I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Hh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const p=Zm(),b=this.zo(e,i.toUriEncodedString());et(Rm,`Sending RPC '${e}' ${p}:`,b,s);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),x=Xl(E);return this.Jo(e,b,w,s,x).then((L=>(et(Rm,`Received RPC '${e}' ${p}: `,L),L)),(L=>{throw Bl(Rm,`RPC '${e}' ${p} failed with error: `,L,"url: ",b,"request:",s),L}))}Ho(e,i,s,l,c,p){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=_I[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class wI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xi="WebChannelConnection";class EI extends bI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const p=Zm();return new Promise(((b,w)=>{const E=new zb;E.setWithCredentials(!0),E.listenOnce(Bb.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Ch.NO_ERROR:const L=E.getResponseJson();et(Xi,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(L)),b(L);break;case Ch.TIMEOUT:et(Xi,`RPC '${e}' ${p} timed out`),w(new Qe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const q=E.getStatus();if(et(Xi,`RPC '${e}' ${p} failed with status:`,q,"response text:",E.getResponseText()),q>0){let ne=E.getResponseJson();Array.isArray(ne)&&(ne=ne[0]);const U=ne?.error;if(U&&U.status&&U.message){const xe=(function(Le){const Ue=Le.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(Ue)>=0?Ue:Te.UNKNOWN})(U.status);w(new Qe(xe,U.message))}else w(new Qe(Te.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new Qe(Te.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{et(Xi,`RPC '${e}' ${p} completed.`)}}));const x=JSON.stringify(l);et(Xi,`RPC '${e}' ${p} sending request:`,l),E.send(i,"POST",x,s,15)}))}T_(e,i,s){const l=Zm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=qb(),b=Hb(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,i,s),w.encodeInitMessageHeaders=!0;const x=c.join("");et(Xi,`Creating RPC '${e}' stream ${l}: ${x}`,w);const L=p.createWebChannel(x,w);this.I_(L);let q=!1,ne=!1;const U=new wI({Yo:Re=>{ne?et(Xi,`Not sending because RPC '${e}' stream ${l} is closed:`,Re):(q||(et(Xi,`Opening RPC '${e}' stream ${l} transport.`),L.open(),q=!0),et(Xi,`RPC '${e}' stream ${l} sending:`,Re),L.send(Re))},Zo:()=>L.close()}),xe=(Re,Le,Ue)=>{Re.listen(Le,(Be=>{try{Ue(Be)}catch(Ke){setTimeout((()=>{throw Ke}),0)}}))};return xe(L,ju.EventType.OPEN,(()=>{ne||(et(Xi,`RPC '${e}' stream ${l} transport opened.`),U.o_())})),xe(L,ju.EventType.CLOSE,(()=>{ne||(ne=!0,et(Xi,`RPC '${e}' stream ${l} transport closed`),U.a_(),this.E_(L))})),xe(L,ju.EventType.ERROR,(Re=>{ne||(ne=!0,Bl(Xi,`RPC '${e}' stream ${l} transport errored. Name:`,Re.name,"Message:",Re.message),U.a_(new Qe(Te.UNAVAILABLE,"The operation could not be completed")))})),xe(L,ju.EventType.MESSAGE,(Re=>{if(!ne){const Le=Re.data[0];En(!!Le,16349);const Ue=Le,Be=Ue?.error||Ue[0]?.error;if(Be){et(Xi,`RPC '${e}' stream ${l} received error:`,Be);const Ke=Be.status;let ot=(function(B){const k=fi[B];if(k!==void 0)return Rw(k)})(Ke),at=Be.message;ot===void 0&&(ot=Te.INTERNAL,at="Unknown error status: "+Ke+" with message "+Be.message),ne=!0,U.a_(new Qe(ot,at)),L.close()}else et(Xi,`RPC '${e}' stream ${l} received:`,Le),U.u_(Le)}})),xe(b,Fb.STAT_EVENT,(Re=>{Re.stat===Bm.PROXY?et(Xi,`RPC '${e}' stream ${l} detected buffering proxy`):Re.stat===Bm.NOPROXY&&et(Xi,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Cm(){return typeof document<"u"?document:null}function mf(r){return new RC(r,!0)}class zw{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&et("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const E0="PersistentStream";class Bw{constructor(e,i,s,l,c,p,b,w){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zw(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Te.RESOURCE_EXHAUSTED?(ws(i.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new Qe(Te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return et(E0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(et(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TI extends Bw{constructor(e,i,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=xC(this.serializer,e),s=(function(c){if(!("targetChange"in c))return It.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?It.min():p.readTime?ka(p.readTime):It.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=$m(this.serializer),i.addTarget=(function(c,p){let b;const w=p.target;if(b=Ym(w)?{documents:DC(c,w)}:{query:NC(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=xw(c,p.resumeToken);const E=Qm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(It.min())>0){b.readTime=Wh(c,p.snapshotVersion.toTimestamp());const E=Qm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const s=kC(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=$m(this.serializer),i.removeTarget=e,this.q_(i)}}class AI extends Bw{constructor(e,i,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return En(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,En(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){En(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=OC(e.writeResults,e.commitTime),s=ka(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>MC(this.serializer,s)))};this.q_(i)}}class SI{}class RI extends SI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,Wm(i,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Qe(Te.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,Wm(i,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Qe(Te.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(i),this.aa=!1):et("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yo="RemoteStore";class II{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Ko(this)&&(et(Yo,"Restarting streams for network reachability change."),await(async function(w){const E=Ot(w);E.Ea.add(4),await dc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await pf(E)})(this))}))})),this.Ra=new CI(s,l)}}async function pf(r){if(Ko(r))for(const e of r.da)await e(!0)}async function dc(r){for(const e of r.da)await e(!1)}function Fw(r,e){const i=Ot(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Np(i)?Dp(i):eu(i).O_()&&Op(i,e))}function Mp(r,e){const i=Ot(r),s=eu(i);i.Ia.delete(e),s.O_()&&Hw(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ko(i)&&i.Ra.set("Unknown"))}function Op(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}eu(r).Y_(e)}function Hw(r,e){r.Va.Ue(e),eu(r).Z_(e)}function Dp(r){r.Va=new EC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),eu(r).start(),r.Ra.ua()}function Np(r){return Ko(r)&&!eu(r).x_()&&r.Ia.size>0}function Ko(r){return Ot(r).Ea.size===0}function qw(r){r.Va=void 0}async function xI(r){r.Ra.set("Online")}async function MI(r){r.Ia.forEach(((e,i)=>{Op(r,e)}))}async function OI(r,e){qw(r),Np(r)?(r.Ra.ha(e),Dp(r)):r.Ra.set("Unknown")}async function DI(r,e,i){if(r.Ra.set("Online"),e instanceof Iw&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(s){et(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await $h(r,s)}else if(e instanceof Oh?r.Va.Ze(e):e instanceof Cw?r.Va.st(e):r.Va.tt(e),!i.isEqual(It.min()))try{const s=await jw(r.localStore);i.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const x=c.Ia.get(E);x&&c.Ia.set(E,x.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const x=c.Ia.get(w);if(!x)return;c.Ia.set(w,x.withResumeToken(Ui.EMPTY_BYTE_STRING,x.snapshotVersion)),Hw(c,w);const L=new lo(x.target,w,E,x.sequenceNumber);Op(c,L)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(s){et(Yo,"Failed to raise snapshot:",s),await $h(r,s)}}async function $h(r,e,i){if(!Jl(e))throw e;r.Ea.add(1),await dc(r),r.Ra.set("Offline"),i||(i=()=>jw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{et(Yo,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await pf(r)}))}function Gw(r,e){return e().catch((i=>$h(r,i,e)))}async function gf(r){const e=Ot(r),i=bo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yp;for(;NI(e);)try{const l=await mI(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,VI(e,l)}catch(l){await $h(e,l)}Yw(e)&&Xw(e)}function NI(r){return Ko(r)&&r.Ta.length<10}function VI(r,e){r.Ta.push(e);const i=bo(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Yw(r){return Ko(r)&&!bo(r).x_()&&r.Ta.length>0}function Xw(r){bo(r).start()}async function kI(r){bo(r).ra()}async function PI(r){const e=bo(r);for(const i of r.Ta)e.ea(i.mutations)}async function LI(r,e,i){const s=r.Ta.shift(),l=Tp.from(s,e,i);await Gw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await gf(r)}async function UI(r,e){e&&bo(r).X_&&await(async function(s,l){if((function(p){return _C(p)&&p!==Te.ABORTED})(l.code)){const c=s.Ta.shift();bo(s).B_(),await Gw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await gf(s)}})(r,e),Yw(r)&&Xw(r)}async function T0(r,e){const i=Ot(r);i.asyncQueue.verifyOperationInProgress(),et(Yo,"RemoteStore received new credentials");const s=Ko(i);i.Ea.add(3),await dc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await pf(i)}async function jI(r,e){const i=Ot(r);e?(i.Ea.delete(2),await pf(i)):e||(i.Ea.add(2),await dc(i),i.Ra.set("Unknown"))}function eu(r){return r.ma||(r.ma=(function(i,s,l){const c=Ot(i);return c.sa(),new TI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:xI.bind(null,r),t_:MI.bind(null,r),r_:OI.bind(null,r),H_:DI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Np(r)?Dp(r):r.Ra.set("Unknown")):(await r.ma.stop(),qw(r))}))),r.ma}function bo(r){return r.fa||(r.fa=(function(i,s,l){const c=Ot(i);return c.sa(),new AI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:kI.bind(null,r),r_:UI.bind(null,r),ta:PI.bind(null,r),na:LI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await gf(r)):(await r.fa.stop(),r.Ta.length>0&&(et(Yo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Vp{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const p=Date.now()+s,b=new Vp(e,i,p,l,c);return b.start(s),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kp(r,e){if(ws("AsyncQueue",`${e}: ${r}`),Jl(r))return new Qe(Te.UNAVAILABLE,`${e}: ${r}`);throw r}class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=zu(),this.sortedSet=new Gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ll;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class A0{constructor(){this.ga=new Gn(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):wt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Yl{constructor(e,i,s,l,c,p,b,w,E){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,i,s,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Yl(e,i,Ll.emptySet(i),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class zI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BI{constructor(){this.queries=S0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Ot(i),c=l.queries;l.queries=S0(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(s)}))})(this,new Qe(Te.ABORTED,"Firestore shutting down"))}}function S0(){return new Qo((r=>dw(r)),uf)}async function FI(r,e){const i=Ot(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new zI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=kp(p,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Pp(i)}async function HI(r,e){const i=Ot(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function qI(r,e){const i=Ot(r);let s=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&Pp(i)}function GI(r,e,i){const s=Ot(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function Pp(r){r.Ca.forEach((e=>{e.next()}))}var ep,R0;(R0=ep||(ep={})).Ma="default",R0.Cache="cache";class YI{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Yl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ep.Cache}}class Qw{constructor(e){this.key=e}}class Ww{constructor(e){this.key=e}}class XI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=mw(e),this.tu=new Ll(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new A0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,L)=>{const q=l.get(x),ne=cf(this.query,L)?L:null,U=!!q&&this.mutatedKeys.has(q.key),xe=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let Re=!1;q&&ne?q.data.isEqual(ne.data)?U!==xe&&(s.track({type:3,doc:ne}),Re=!0):this.su(q,ne)||(s.track({type:2,doc:ne}),Re=!0,(w&&this.eu(ne,w)>0||E&&this.eu(ne,E)<0)&&(b=!0)):!q&&ne?(s.track({type:0,doc:ne}),Re=!0):q&&!ne&&(s.track({type:1,doc:q}),Re=!0,(w||E)&&(b=!0)),Re&&(ne?(p=p.add(ne),c=xe?c.add(x):c.delete(x)):(p=p.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const x=this.query.limitType==="F"?p.last():p.first();p=p.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((x,L)=>(function(ne,U){const xe=Re=>{switch(Re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:Re})}};return xe(ne)-xe(U)})(x.type,L.type)||this.eu(x.doc,L.doc))),this.ou(s),l=l??!1;const b=i&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Yl(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Ww(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Qw(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Jt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lp="SyncEngine";class QI{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class WI{constructor(e){this.key=e,this.hu=!1}}class KI{constructor(e,i,s,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Qo((b=>dw(b)),uf),this.Iu=new Map,this.Eu=new Set,this.du=new Gn(mt.comparator),this.Au=new Map,this.Ru=new Rp,this.Vu={},this.mu=new Map,this.fu=Gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $I(r,e,i=!0){const s=t1(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Kw(s,e,i,!0),l}async function JI(r,e){const i=t1(r);await Kw(i,e,!0,!1)}async function Kw(r,e,i,s){const l=await pI(r.localStore,Va(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return s&&(b=await ZI(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&Fw(r.remoteStore,l),b}async function ZI(r,e,i,s,l){r.pu=(L,q,ne)=>(async function(xe,Re,Le,Ue){let Be=Re.view.ru(Le);Be.Cs&&(Be=await v0(xe.localStore,Re.query,!1).then((({documents:F})=>Re.view.ru(F,Be))));const Ke=Ue&&Ue.targetChanges.get(Re.targetId),ot=Ue&&Ue.targetMismatches.get(Re.targetId)!=null,at=Re.view.applyChanges(Be,xe.isPrimaryClient,Ke,ot);return I0(xe,Re.targetId,at.au),at.snapshot})(r,L,q,ne);const c=await v0(r.localStore,e,!0),p=new XI(e,c.Qs),b=p.ru(c.documents),w=fc.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),E=p.applyChanges(b,r.isPrimaryClient,w);I0(r,i,E.au);const x=new QI(e,i,p);return r.Tu.set(e,x),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),E.snapshot}async function ex(r,e,i){const s=Ot(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!uf(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Jm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Mp(s.remoteStore,l.targetId),tp(s,l.targetId)})).catch($l)):(tp(s,l.targetId),await Jm(s.localStore,l.targetId,!0))}async function tx(r,e){const i=Ot(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Mp(i.remoteStore,s.targetId))}async function nx(r,e,i){const s=ux(r);try{const l=await(function(p,b){const w=Ot(p),E=jn.now(),x=b.reduce(((ne,U)=>ne.add(U.key)),Jt());let L,q;return w.persistence.runTransaction("Locally write mutations","readwrite",(ne=>{let U=Es(),xe=Jt();return w.Ns.getEntries(ne,x).next((Re=>{U=Re,U.forEach(((Le,Ue)=>{Ue.isValidDocument()||(xe=xe.add(Le))}))})).next((()=>w.localDocuments.getOverlayedDocuments(ne,U))).next((Re=>{L=Re;const Le=[];for(const Ue of b){const Be=mC(Ue,L.get(Ue.key).overlayedDocument);Be!=null&&Le.push(new Wo(Ue.key,Be,rw(Be.value.mapValue),gs.exists(!0)))}return w.mutationQueue.addMutationBatch(ne,E,Le,b)})).next((Re=>{q=Re;const Le=Re.applyToLocalDocumentSet(L,xe);return w.documentOverlayCache.saveOverlays(ne,Re.batchId,Le)}))})).then((()=>({batchId:q.batchId,changes:gw(L)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new Gn($t)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(s,l.batchId,i),await mc(s,l.changes),await gf(s.remoteStore)}catch(l){const c=kp(l,"Failed to persist write");i.reject(c)}}async function $w(r,e){const i=Ot(r);try{const s=await fI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(En(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?En(p.hu,14607):l.removedDocuments.size>0&&(En(p.hu,42227),p.hu=!1))})),await mc(i,s,e)}catch(s){await $l(s)}}function C0(r,e,i){const s=Ot(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=Ot(p);w.onlineState=b;let E=!1;w.queries.forEach(((x,L)=>{for(const q of L.Sa)q.va(b)&&(E=!0)})),E&&Pp(w)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ix(r,e,i){const s=Ot(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new Gn(mt.comparator);p=p.insert(c,Wi.newNoDocument(c,It.min()));const b=Jt().add(c),w=new df(It.min(),new Map,new Gn($t),p,b);await $w(s,w),s.du=s.du.remove(c),s.Au.delete(e),Up(s)}else await Jm(s.localStore,e,!1).then((()=>tp(s,e,i))).catch($l)}async function rx(r,e){const i=Ot(r),s=e.batch.batchId;try{const l=await hI(i.localStore,e);Zw(i,s,null),Jw(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mc(i,l)}catch(l){await $l(l)}}async function ax(r,e,i){const s=Ot(r);try{const l=await(function(p,b){const w=Ot(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let x;return w.mutationQueue.lookupMutationBatch(E,b).next((L=>(En(L!==null,37113),x=L.keys(),w.mutationQueue.removeMutationBatch(E,L)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,x,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,x))).next((()=>w.localDocuments.getDocuments(E,x)))}))})(s.localStore,e);Zw(s,e,i),Jw(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mc(s,l)}catch(l){await $l(l)}}function Jw(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Zw(r,e,i){const s=Ot(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function tp(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||e1(r,s)}))}function e1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Mp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Up(r))}function I0(r,e,i){for(const s of i)s instanceof Qw?(r.Ru.addReference(s.key,e),sx(r,s)):s instanceof Ww?(et(Lp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||e1(r,s.key)):wt(19791,{wu:s})}function sx(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(et(Lp,"New document in limbo: "+i),r.Eu.add(s),Up(r))}function Up(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(Nn.fromString(e)),s=r.fu.next();r.Au.set(s,new WI(i)),r.du=r.du.insert(i,s),Fw(r.remoteStore,new lo(Va(hw(i.path)),s,"TargetPurposeLimboResolution",sf.ce))}}async function mc(r,e,i){const s=Ot(r),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,w)=>{p.push(s.pu(w,e,i).then((E=>{if((E||i)&&s.isPrimaryClient){const x=E?!E.fromCache:i?.targetChanges.get(w.targetId)?.current;s.sharedClientState.updateQueryState(w.targetId,x?"current":"not-current")}if(E){l.push(E);const x=Ip.As(w.targetId,E);c.push(x)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(w,E){const x=Ot(w);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(L=>Se.forEach(E,(q=>Se.forEach(q.Es,(ne=>x.persistence.referenceDelegate.addReference(L,q.targetId,ne))).next((()=>Se.forEach(q.ds,(ne=>x.persistence.referenceDelegate.removeReference(L,q.targetId,ne)))))))))}catch(L){if(!Jl(L))throw L;et(xp,"Failed to update sequence numbers: "+L)}for(const L of E){const q=L.targetId;if(!L.fromCache){const ne=x.Ms.get(q),U=ne.snapshotVersion,xe=ne.withLastLimboFreeSnapshotVersion(U);x.Ms=x.Ms.insert(q,xe)}}})(s.localStore,c))}async function ox(r,e){const i=Ot(r);if(!i.currentUser.isEqual(e)){et(Lp,"User change. New user:",e.toKey());const s=await Uw(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new Qe(Te.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mc(i,s.Ls)}}function lx(r,e){const i=Ot(r),s=i.Au.get(e);if(s&&s.hu)return Jt().add(s.key);{let l=Jt();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function t1(r){const e=Ot(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=$w.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ix.bind(null,e),e.Pu.H_=qI.bind(null,e.eventManager),e.Pu.yu=GI.bind(null,e.eventManager),e}function ux(r){const e=Ot(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ax.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return cI(this.persistence,new oI,e.initialUser,this.serializer)}Cu(e){return new Lw(Cp.mi,this.serializer)}Du(e){return new yI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class cx extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){En(this.persistence.referenceDelegate instanceof Kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new YC(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Tr.withCacheSize(this.cacheSizeBytes):Tr.DEFAULT;return new Lw((s=>Kh.mi(s,i)),this.serializer)}}class np{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ox.bind(null,this.syncEngine),await jI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BI})()}createDatastore(e){const i=mf(e.databaseInfo.databaseId),s=(function(c){return new EI(c)})(e.databaseInfo);return(function(c,p,b,w){return new RI(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,p,b){return new II(s,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>C0(this.syncEngine,i,0)),(function(){return w0.v()?new w0:new vI})())}createSyncEngine(e,i){return(function(l,c,p,b,w,E,x){const L=new KI(l,c,p,b,w,E);return x&&(L.gu=!0),L})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Ot(i);et(Yo,"RemoteStore shutting down."),s.Ea.add(5),await dc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}np.provider={build:()=>new np};class hx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const wo="FirestoreClient";class fx{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Qi.UNAUTHENTICATED,this.clientId=gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{et(wo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(et(wo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=kp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Im(r,e){r.asyncQueue.verifyOperationInProgress(),et(wo,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Uw(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function x0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await dx(r);et(wo,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>T0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>T0(e.remoteStore,l))),r._onlineComponents=e}async function dx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){et(wo,"Using user provided OfflineComponentProvider");try{await Im(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Te.FAILED_PRECONDITION||l.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Bl("Error using user provided cache. Falling back to memory cache: "+i),await Im(r,new Jh)}}else et(wo,"Using default OfflineComponentProvider"),await Im(r,new cx(void 0));return r._offlineComponents}async function n1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(et(wo,"Using user provided OnlineComponentProvider"),await x0(r,r._uninitializedComponentsProvider._online)):(et(wo,"Using default OnlineComponentProvider"),await x0(r,new np))),r._onlineComponents}function mx(r){return n1(r).then((e=>e.syncEngine))}async function px(r){const e=await n1(r),i=e.eventManager;return i.onListen=$I.bind(null,e.syncEngine),i.onUnlisten=ex.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=JI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=tx.bind(null,e.syncEngine),i}function gx(r,e,i={}){const s=new mo;return r.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,w,E){const x=new hx({next:q=>{x.Nu(),p.enqueueAndForget((()=>HI(c,L))),q.fromCache&&w.source==="server"?E.reject(new Qe(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(q)},error:q=>E.reject(q)}),L=new YI(b,x,{includeMetadataChanges:!0,qa:!0});return FI(c,L)})(await px(r),r.asyncQueue,e,i,s))),s.promise}function i1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const M0=new Map;const r1="firestore.googleapis.com",O0=!0;class D0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Qe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r1,this.ssl=O0}else this.host=e.host,this.ssl=e.ssl??O0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qC)throw new Qe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Qe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vR;switch(s.type){case"firstParty":return new ER(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Qe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=M0.get(i);s&&(et("ComponentProvider","Removing Datastore"),M0.delete(i),s.terminate())})(this),Promise.resolve()}}function yx(r,e,i,s={}){r=Bh(r,yf);const l=Xl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(eb(`https://${b}`),tb("Firestore",!0)),c.host!==r1&&c.host!==b&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:s};if(!Fo(w,p)&&(r._setSettings(w),s.mockUserToken)){let E,x;if(typeof s.mockUserToken=="string")E=s.mockUserToken,x=Qi.MOCK_USER;else{E=BT(s.mockUserToken,r._app?.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new Qe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Qi(L)}r._authCredentials=new _R(new Yb(E,x))}}class Eo{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class Ai{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ai(this.firestore,e,this._key)}toJSON(){return{type:Ai._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(cc(i,Ai._jsonSchema))return new Ai(e,s||null,new mt(Nn.fromString(i.referencePath)))}}Ai._jsonSchemaVersion="firestore/documentReference/1.0",Ai._jsonSchema={type:mi("string",Ai._jsonSchemaVersion),referencePath:mi("string")};class po extends Eo{constructor(e,i,s){super(e,i,hw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ai(this.firestore,null,new mt(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function a1(r,e,...i){if(r=zr(r),Xb("collection","path",e),r instanceof yf){const s=Nn.fromString(e,...i);return G_(s),new po(r,null,s)}{if(!(r instanceof Ai||r instanceof po))throw new Qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Nn.fromString(e,...i));return G_(s),new po(r.firestore,null,s)}}function vx(r,e,...i){if(r=zr(r),arguments.length===1&&(e=gp.newId()),Xb("doc","path",e),r instanceof yf){const s=Nn.fromString(e,...i);return q_(s),new Ai(r,null,new mt(s))}{if(!(r instanceof Ai||r instanceof po))throw new Qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Nn.fromString(e,...i));return q_(s),new Ai(r.firestore,r instanceof po?r.converter:null,new mt(s))}}const N0="AsyncQueue";class V0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zw(this,"async_queue_retry"),this._c=()=>{const s=Cm();s&&et(N0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Cm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Cm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jl(e))throw e;et(N0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",k0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Vp.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&wt(47125,{Pc:k0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function k0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class jp extends yf{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new V0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V0(e),this._firestoreClient=void 0,await e}}}function _x(r,e){const i=typeof r=="object"?r:ab(),s=typeof r=="string"?r:Hh,l=sp(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=jT("firestore");c&&yx(l,...c)}return l}function s1(r){if(r._terminated)throw new Qe(Te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bx(r),r._firestoreClient}function bx(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new jR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,i1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new fx(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(Ui.fromBase64String(e))}catch(i){throw new Qe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ia(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ia._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,ia._jsonSchema))return ia.fromBase64String(e.bytes)}}ia._jsonSchemaVersion="firestore/bytes/1.0",ia._jsonSchema={type:mi("string",ia._jsonSchemaVersion),bytes:mi("string")};class zp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Qe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class o1{constructor(e){this._methodName=e}}class Pa{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Qe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Qe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pa._jsonSchemaVersion}}static fromJSON(e){if(cc(e,Pa._jsonSchema))return new Pa(e.latitude,e.longitude)}}Pa._jsonSchemaVersion="firestore/geoPoint/1.0",Pa._jsonSchema={type:mi("string",Pa._jsonSchemaVersion),latitude:mi("number"),longitude:mi("number")};class La{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:La._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,La._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new La(e.vectorValues);throw new Qe(Te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}La._jsonSchemaVersion="firestore/vectorValue/1.0",La._jsonSchema={type:mi("string",La._jsonSchemaVersion),vectorValues:mi("object")};const wx=/^__.*__$/;class Ex{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Wo(e,this.data,this.fieldMask,i,this.fieldTransforms):new hc(e,this.data,i,this.fieldTransforms)}}function l1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:r})}}class Bp{constructor(e,i,s,l,c,p){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(l1(this.Ac)&&wx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Tx{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||mf(e)}Cc(e,i,s,l=!1){return new Bp({Ac:e,methodName:i,Dc:s,path:Li.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u1(r){const e=r._freezeSettings(),i=mf(r._databaseId);return new Tx(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Ax(r,e,i,s,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);f1("Data must be an object, but it was:",p,s);const b=c1(s,p);let w,E;if(c.merge)w=new pa(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const x=[];for(const L of c.mergeFields){const q=Rx(e,L,i);if(!p.contains(q))throw new Qe(Te.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);Ix(x,q)||x.push(q)}w=new pa(x),E=p.fieldTransforms.filter((L=>w.covers(L.field)))}else w=null,E=p.fieldTransforms;return new Ex(new na(b),w,E)}function Sx(r,e,i,s=!1){return Fp(i,r.Cc(s?4:3,e))}function Fp(r,e){if(h1(r=zr(r)))return f1("Unsupported field value:",e,r),c1(r,e);if(r instanceof o1)return(function(s,l){if(!l1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let w=Fp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=zr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=jn.fromDate(s);return{timestampValue:Wh(l.serializer,c)}}if(s instanceof jn){const c=new jn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(l.serializer,c)}}if(s instanceof Pa)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ia)return{bytesValue:xw(l.serializer,s._byteString)};if(s instanceof Ai){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Sp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof La)return(function(p,b){return{mapValue:{fields:{[nw]:{stringValue:iw},[qh]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return Ep(b.serializer,E)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${af(s)}`)})(r,e)}function c1(r,e){const i={};return Kb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(r,((s,l)=>{const c=Fp(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function h1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof jn||r instanceof Pa||r instanceof ia||r instanceof Ai||r instanceof o1||r instanceof La)}function f1(r,e,i){if(!h1(i)||!Qb(i)){const s=af(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Rx(r,e,i){if((e=zr(e))instanceof zp)return e._internalPath;if(typeof e=="string")return d1(r,e);throw Zh("Field path arguments must be of type string or ",r,!1,void 0,i)}const Cx=new RegExp("[~\\*/\\[\\]]");function d1(r,e,i){if(e.search(Cx)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new zp(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Zh(r,e,i,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${s}`),p&&(w+=` in document ${l}`),w+=")"),new Qe(Te.INVALID_ARGUMENT,b+r+w)}function Ix(r,e){return r.some((i=>i.isEqual(e)))}class m1{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(vf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xx extends m1{data(){return super.data()}}function vf(r,e){return typeof e=="string"?d1(r,e):e instanceof zp?e._internalPath:e._delegate._internalPath}function Mx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Qe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class qp extends Hp{}function P0(r,e,...i){let s=[];e instanceof Hp&&s.push(e),s=s.concat(i),(function(c){const p=c.filter((w=>w instanceof Gp)).length,b=c.filter((w=>w instanceof _f)).length;if(p>1||p>0&&b>0)throw new Qe(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class _f extends qp{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new _f(e,i,s)}_apply(e){const i=this._parse(e);return p1(e._query,i),new Eo(e.firestore,e.converter,Xm(e._query,i))}_parse(e){const i=u1(e.firestore);return(function(c,p,b,w,E,x,L){let q;if(E.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Qe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){z0(L,x);const U=[];for(const xe of L)U.push(j0(w,c,xe));q={arrayValue:{values:U}}}else q=j0(w,c,L)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||z0(L,x),q=Sx(b,p,L,x==="in"||x==="not-in");return di.create(E,x,q)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function L0(r,e,i){const s=e,l=vf("where",r);return _f._create(l,s,i)}class Gp extends Hp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Gp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ga.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)p1(p,w),p=Xm(p,w)})(e._query,i),new Eo(e.firestore,e.converter,Xm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yp extends qp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Yp(e,i)}_apply(e){const i=(function(l,c,p){if(l.startAt!==null)throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(c,p)})(e._query,this._field,this._direction);return new Eo(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new Zl(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function xm(r,e="asc"){const i=e,s=vf("orderBy",r);return Yp._create(s,i)}class Xp extends qp{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Xp(e,i,s)}_apply(e){return new Eo(e.firestore,e.converter,Yh(e._query,this._limit,this._limitType))}}function U0(r){return Xp._create("limit",r,"F")}function j0(r,e,i){if(typeof(i=zr(i))=="string"){if(i==="")throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fw(e)&&i.indexOf("/")!==-1)throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Nn.fromString(i));if(!mt.isDocumentKey(s))throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Z_(r,new mt(s))}if(i instanceof Ai)return Z_(r,i._key);throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(i)}.`)}function z0(r,e){if(!Array.isArray(r)||r.length===0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p1(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new Qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Ox{convertValue(e,i="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Xo(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[qh].arrayValue?.values?.map((s=>ai(s.doubleValue)));return new La(i)}convertGeoPoint(e){return new Pa(ai(e.latitude),ai(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=lf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const i=yo(e);return new jn(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Nn.fromString(e);En(kw(s),9688,{name:e});const l=new Ju(s.get(1),s.get(3)),c=new mt(s.popFirst(5));return l.isEqual(i)||ws(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Dx(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class wh{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ul extends m1{constructor(e,i,s,l,c,p){super(e,i,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(vf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Qe(Te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ul._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ul._jsonSchema={type:mi("string",Ul._jsonSchemaVersion),bundleSource:mi("string","DocumentSnapshot"),bundleName:mi("string"),bundle:mi("string")};class Dh extends Ul{data(e={}){return super.data(e)}}class jl{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new wh(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Dh(this._firestore,this._userDataWriter,s.key,s,new wh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Qe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Dh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new wh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Dh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new wh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,x=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),x=p.indexOf(b.doc.key)),{type:Nx(b.type),doc:w,oldIndex:E,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Qe(Te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Nx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:r})}}jl._jsonSchemaVersion="firestore/querySnapshot/1.0",jl._jsonSchema={type:mi("string",jl._jsonSchemaVersion),bundleSource:mi("string","QuerySnapshot"),bundleName:mi("string"),bundle:mi("string")};class Vx extends Ox{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ai(this.firestore,null,i)}}function kx(r){r=Bh(r,Eo);const e=Bh(r.firestore,jp),i=s1(e),s=new Vx(e);return Mx(r._query),gx(i,r._query).then((l=>new jl(e,s,r,l)))}function Px(r,e){const i=Bh(r.firestore,jp),s=vx(r),l=Dx(r.converter,e);return Lx(i,[Ax(u1(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,gs.exists(!1))]).then((()=>s))}function Lx(r,e){return(function(s,l){const c=new mo;return s.asyncQueue.enqueueAndForget((async()=>nx(await mx(s),l,c))),c.promise})(s1(r),e)}(function(e,i=!0){(function(l){Kl=l})(Ql),zl(new Ho("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new jp(new bR(s.getProvider("auth-internal")),new TR(p,s.getProvider("app-check-internal")),(function(E,x){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Qe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(E.options.projectId,x)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),ho(z_,B_,e),ho(z_,B_,"esm2020")})();const Ux={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},jx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):Ux,g1=rb(jx),Mm=gR(g1),y1=_x(g1),v1=typeof __app_id<"u"?__app_id:"long-jump-game",yt={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000"},ea=5,jr=50,ip=30,no=40,_1={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},B0=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],F0=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],zx=[{version:"3.70",date:"Nov 27",changes:["Optimized Leaderboard: Top 100 scores, reduced reads.","Database Indexing implemented."]},{version:"3.60",date:"Nov 26",changes:["Added 2 Wildcard spots: One before 30m, one after.","Wildcard tiles in hand now display the Sparkle icon.","Updated Rules with Bonus types."]},{version:"3.50",date:"Nov 26",changes:["Fixed Undo: Tiles now properly return to hand.","Added Change Log to Main Menu.","Rounded edges on Board Obstacles."]}],bf=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},wf=r=>{let e=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=s^Math.imul(i^p,2869860233),s=l^Math.imul(s^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(s^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(e^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^s^l)>>>0},Bx=()=>new Date().toISOString().split("T")[0],Fx=r=>{const e=wf(r),i=bf(e),s=[],l=15,c=new Set;for(;s.length<l;){const p=Math.floor(i()*ea),b=Math.floor(i()*jr);if(b===0)continue;const w=`${p},${b}`;if(!c.has(w)){c.add(w);const E=i();let x=1;E>.5&&(x=2),E>.8&&(x=3),s.push({r:p,c:b,val:x})}}return s},Hx=r=>{const e=wf(r+"OBSTACLES"),i=bf(e),s=[],l=5,c=new Set;for(;s.length<l;){const p=Math.floor(i()*ea),b=Math.floor(i()*jr);if(b===0)continue;const w=`${p},${b}`;c.has(w)||(c.add(w),s.push({r:p,c:b}))}return s},qx=(r,e)=>{const i=wf(r+"WILDCARDS_V3"),s=bf(i),l=[];let c=0;for(;c<100;){const p=Math.floor(s()*ea),b=5,E=Math.floor(s()*(29-b+1))+b;if(!e.some(x=>x.r===p&&x.c===E)){l.push({r:p,c:E});break}c++}for(c=0;c<100;){const p=Math.floor(s()*ea),b=30,w=jr-1,E=Math.floor(s()*(w-b+1))+b;if(!e.some(x=>x.r===p&&x.c===E)){l.push({r:p,c:E});break}c++}return l},Gx=()=>{const r=[];for(let i=1;i<jr;i++)Math.random()<.1&&r.push({r:0,c:i,type:"top"}),Math.random()<.1&&r.push({r:ea-1,c:i,type:"bottom"});return r},Yx=r=>{const e=wf(r),i=bf(e);let s=[];Object.entries(_1).forEach(([b,w])=>{for(let E=0;E<w;E++)s.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(s);for(let b=l.length-1;b>0;b--){const w=Math.floor(i()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=ip;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(i()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},Xx=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},Qx=()=>{const r=vt.useRef(null);return vt.useEffect(()=>{const e=r.current,i=e.getContext("2d");let s=window.innerWidth,l=window.innerHeight;e.width=s,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",yt.accentPrimary];for(let x=0;x<150;x++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const w=()=>{i.clearRect(0,0,s,l),c.forEach(x=>{x.y+=x.vy,x.x+=x.vx+Math.sin(x.y/50),x.rotation+=x.rotationSpeed,x.y>l&&(x.y=-10,x.x=Math.random()*s),i.save(),i.translate(x.x,x.y),i.rotate(x.rotation*Math.PI/180),i.fillStyle=x.color,i.fillRect(-x.size/2,-x.size/2,x.size,x.size),i.restore()}),b=requestAnimationFrame(w)};w();const E=()=>{s=window.innerWidth,l=window.innerHeight,e.width=s,e.height=l};return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E),cancelAnimationFrame(b)}},[]),Y.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none z-50"})},H0=()=>{const{RiveComponent:r}=oo.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new oo.Layout({fit:oo.Fit.Contain,alignment:oo.Alignment.Center})});return Y.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto"}})},q0=({trigger:r})=>{const{rive:e,RiveComponent:i}=oo.useRive({src:"fan.riv",autoplay:!0,layout:new oo.Layout({fit:oo.Fit.Contain,alignment:oo.Alignment.Center})});return vt.useEffect(()=>{if(r&&e)try{if(e.viewModelInstance){const s=e.viewModelInstance("View Model 1");if(s){const l=s.trigger("Celebrate");l&&l.fire()}}}catch(s){console.error("Error firing trigger:",s)}},[r,e]),Y.jsx("div",{style:{width:`${no}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:Y.jsx("div",{style:{width:"39px",height:"60px"},children:Y.jsx(i,{})})})},Om=({highlightName:r,user:e,onRankFound:i,lastUpdated:s})=>{const[l,c]=vt.useState([]),[p,b]=vt.useState(!0),[w,E]=vt.useState("daily"),[x,L]=vt.useState(null),q=async()=>{if(!e)return;b(!0),L(null);const ne=a1(y1,"artifacts",v1,"public","data","scores"),U=new Date,xe=U.toISOString().split("T")[0],Re=U.getDay(),Le=U.getDate()-Re+(Re===0?-6:1),Be=new Date(U.setDate(Le)).toISOString().split("T")[0];let Ke;try{w==="daily"?Ke=P0(ne,L0("date","==",xe),xm("score","desc"),U0(100)):Ke=P0(ne,L0("date",">=",Be),xm("date","desc"),xm("score","desc"),U0(100));const ot=await kx(Ke);if(ot.empty){c([]),b(!1);return}const at=ot.docs.map(F=>({id:F.id,...F.data()}));if(w==="weekly"&&at.sort((F,B)=>B.score-F.score),c(at),b(!1),r&&i){const F=at.findIndex(B=>B.name===r);F!==-1&&i(F+1)}}catch(ot){console.error(" FIRESTORE ERROR:",ot),L(ot.message),b(!1)}};return vt.useEffect(()=>{q()},[e,w,r,s]),Y.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col relative",children:[x&&x.includes("index")&&Y.jsxs("div",{className:"absolute inset-0 z-50 bg-white/90 flex flex-col items-center justify-center p-4 text-center",children:[Y.jsx(lT,{className:"text-red-500 mb-2",size:32}),Y.jsx("p",{className:"text-xs font-bold text-red-600 mb-2",children:"DATABASE INDEX MISSING"}),Y.jsx("p",{className:"text-[10px] text-gray-500 mb-4",children:"Open browser console (F12) and click the Firebase link to create index."}),Y.jsx("button",{onClick:q,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:"Retry"})]}),Y.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx(s_,{size:20,className:"text-yellow-500"}),Y.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:"Top 100"})]}),Y.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[Y.jsx("button",{onClick:()=>E("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${w==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),Y.jsx("button",{onClick:()=>E("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${w==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:p?Y.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):l.length===0?Y.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",Y.jsx("br",{}),"Be the first!"]}):Y.jsx("div",{className:"space-y-1",children:l.map((ne,U)=>{const xe=ne.score>=40;return Y.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${ne.name===r?`bg-[${yt.accentPrimary}]/10 border-[${yt.accentPrimary}]/20`:xe?"bg-amber-100 border-amber-300":"hover:bg-white/60 border-transparent"}`,children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("span",{className:`font-black w-5 text-center ${U===0?"text-yellow-500 text-lg":U===1?"text-gray-400 text-base":U===2?"text-orange-700 text-base":"text-gray-300"}`,children:U+1}),Y.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[xe&&Y.jsx(s_,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),Y.jsx("span",{className:`font-bold truncate max-w-[90px] ${ne.name===r?"text-black":xe?"text-amber-900":"text-gray-700"}`,children:ne.name})]})]}),Y.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${xe?"bg-amber-200 text-amber-900":"text-gray-900 bg-gray-100"}`,children:[ne.score,"m"]})]},U)})})})]})},G0=()=>{const r=B0[Math.floor(Math.random()*B0.length)],e=F0[Math.floor(Math.random()*F0.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},Y0=()=>Array(ea).fill(null).map(()=>Array(jr).fill(null)),Dm=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(s=>s.r===e)||r.every(s=>s.c===i)},to=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15),letter:r,isNew:e});function Wx(){const[r,e]=vt.useState("menu"),[i,s]=vt.useState(()=>G0()),[l,c]=vt.useState(()=>Y0()),[p,b]=vt.useState([]),[w,E]=vt.useState([]),[x,L]=vt.useState(0),[q,ne]=vt.useState([]),[U,xe]=vt.useState(0),[Re,Le]=vt.useState([]),[Ue,Be]=vt.useState([]),[Ke,ot]=vt.useState([]),[at,F]=vt.useState([]),[B,k]=vt.useState(null),[z,C]=vt.useState(null),[V,I]=vt.useState([]),[Q,ae]=vt.useState(0),[H,ee]=vt.useState(0),[ge,he]=vt.useState(null),[Ce,P]=vt.useState(!1),[re,Ae]=vt.useState(!1),[ye,ve]=vt.useState({text:"Goal: Get as far right as you can.",type:"info",invalidWord:null}),[Fe,lt]=vt.useState(!1),[ht,_t]=vt.useState(!1),[Dt,cn]=vt.useState(!1),[ut,Tt]=vt.useState(!1),[Zt,Bt]=vt.useState(!1),[Ut,si]=vt.useState(!1),[sn,tt]=vt.useState(!1),[nn,mn]=vt.useState(null),[Ri,$n]=vt.useState(null),[on,Tn]=vt.useState(!1),R=vt.useRef(null),[g,v]=vt.useState(!1),[D,W]=vt.useState(0),[de,Ie]=vt.useState(0),We=l.some(te=>te.some(_e=>_e!==null));vt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await n2(Mm,__initial_auth_token):await $S(Mm)})();const _e=a2(Mm,$n);return()=>_e()},[]),vt.useEffect(()=>{if(H===Q)return;const te=500,_e=performance.now(),Ee=H,Me=Q,Ne=ft=>{const Ve=ft-_e,gt=Math.min(Ve/te,1),je=1-Math.pow(1-gt,3),rt=Math.floor(Ee+(Me-Ee)*je);ee(rt),gt<1&&requestAnimationFrame(Ne)};requestAnimationFrame(Ne)},[Q]),vt.useEffect(()=>{$e()},[]);const $e=()=>{const te=Bx(),_e=Yx(te);ne(_e);const Ee=_e.slice(0,ip).map(Ne=>to(Ne,!1)).sort((Ne,ft)=>Ne.letter.localeCompare(ft.letter));b(Ee),xe(ip),c(Y0()),I([]),E([]),ae(0),ee(0),he(null),P(!1),Ae(!1),Le(Fx(te));const Me=Hx(te);Be(Me),ot(qx(te,Me)),F(Gx()),ve({text:"Goal: Get as far right as you can.",type:"neutral"}),si(!1),_t(!1),cn(!1),Tt(!1),Bt(!1),Tn(!1),k(null),C(null),R.current&&(R.current.scrollLeft=0)},He=()=>{i.trim()||s(G0()),e("playing"),Q>0&&$e(),cn(!0)},Je=()=>{e("menu"),$e()},en=()=>{if(w.length===0)return;const te=w[w.length-1],_e=w.slice(0,-1);c(te.grid),b(te.hand),ae(te.score),xe(te.drawCount),E(_e),I([]),ve({text:"Move undone",type:"info"})},xn=()=>{_t(!0)},pn=async()=>{if(_t(!1),si(!0),Tn(!0),Ri)try{const Ee=new Date().toISOString().split("T")[0],Me=a1(y1,"artifacts",v1,"public","data","scores");await Px(Me,{name:i||"Anonymous",score:Q,date:Ee,timestamp:Date.now(),userId:Ri.uid}),L(Date.now())}catch(Ee){console.error("Error saving score:",Ee)}Tn(!1);const te=Q*50+800;setTimeout(()=>{e("gameOver"),si(!1)},Math.max(te,2500))},zn=()=>{_t(!1)},Yn=async()=>{const te=ge?Xx(ge):"top",_e="https://www.longjump.co.za";let Ee;ge?Ee=`${i} placed ${te} in Long-Jump with a distance of ${Q}m. How far can you get? ${_e}`:Ee=`${i} got a distance of ${Q}m in Long-Jump. How far can you get? ${_e}`;try{await navigator.clipboard.writeText(Ee),P(!0),setTimeout(()=>P(!1),1e3)}catch(Me){console.error("Failed to copy: ",Me),ve({text:"Failed to copy result.",type:"error"})}},Ht=te=>{te.target.closest('[draggable="true"]')||te.target.tagName==="BUTTON"||(v(!0),W(te.pageX-R.current.offsetLeft),Ie(R.current.scrollLeft))},On=()=>{v(!1)},Vn=()=>{v(!1)},Xn=te=>{if(!g)return;te.preventDefault();const Ee=(te.pageX-R.current.offsetLeft-D)*1.5;R.current.scrollLeft=de-Ee},ji=(te,_e,Ee)=>{if(te.letter==="*"){mn({r:_e,c:Ee,tileId:te.id}),tt(!0);return}pt(te,_e,Ee)},pt=(te,_e,Ee,Me=!1,Ne=null)=>{if(l.every(je=>je.every(rt=>rt===null))&&V.length===0&&Ee!==0){ve({text:" Start Game: Place first tile in Column 1",type:"error"});return}const Ve=Ne||te.letter,gt=[...V,{r:_e,c:Ee,letter:Ve,isWild:Me}];if(!Dm(gt)){ve({text:" Tiles must be placed in a single row or column",type:"error"});return}I(gt),b(je=>je.filter(rt=>rt.id!==te.id)),ye.type==="error"&&ve({text:"Goal: Get as far right as you can.",type:"neutral"})},Fn=te=>{if(nn){const _e={id:nn.tileId,letter:"*"};pt(_e,nn.r,nn.c,!0,te),tt(!1),mn(null),k(null),C(null)}},Rt=te=>{if(!Ut){if(z){ji(te,z.r,z.c),C(null);return}B===te.letter?k(null):k(te.letter)}},$i=(te,_e)=>{if(g||Ut||l[te]&&l[te][_e]||Ue.some(Me=>Me.r===te&&Me.c===_e))return;const Ee=V.findIndex(Me=>Me.r===te&&Me.c===_e);if(Ee!==-1){const Me=V[Ee],Ne=[...V];Ne.splice(Ee,1),I(Ne);const ft=Me.isWild?"*":Me.letter,Ve=to(ft,!1);b(gt=>[...gt,Ve].sort((je,rt)=>je.letter!==rt.letter?je.letter.localeCompare(rt.letter):je.isNew===rt.isNew?0:je.isNew?1:-1)),k(null),C(null);return}if(B!==null){const Me=p.filter(Ne=>Ne.letter===B);if(Me.length>0){const Ne=Me[Me.length-1];ji(Ne,te,_e),Me.length<=1&&k(null)}}else z&&z.r===te&&z.c===_e?C(null):C({r:te,c:_e})},zi=(te,_e)=>{Ut||(te.dataTransfer.setData("text/plain",JSON.stringify(_e)),te.dataTransfer.effectAllowed="move")},ya=te=>{te.preventDefault(),te.dataTransfer.dropEffect="move"},Ar=(te,_e,Ee)=>{if(Ut||(te.preventDefault(),te.stopPropagation(),Ue.some(Ne=>Ne.r===_e&&Ne.c===Ee)))return;const Me=te.dataTransfer.getData("text/plain");if(!(!Me||!Me.trim()||!Me.trim().startsWith("{")))try{const Ne=JSON.parse(Me);if(l[_e]&&l[_e][Ee])return;const ft=V.findIndex(Ve=>Ve.r===_e&&Ve.c===Ee);if(Ne.type==="hand"){const Ve=Ne.tile;if(Ve.letter==="*"){mn({r:_e,c:Ee,tileId:Ve.id}),tt(!0);return}if(l.every(je=>je.every(rt=>rt===null))&&V.length===0&&Ee!==0){ve({text:" Start Game: Place first tile in Column 1",type:"error"});return}if(ft!==-1){const je=V[ft],rt=[...V],At=je.isWild?"*":je.letter,Ct=to(At,!1);rt.splice(ft,1,{r:_e,c:Ee,letter:Ve.letter,isWild:!1}),I(rt),b(Nt=>[...Nt.filter(ei=>ei.id!==Ve.id),Ct].sort((ei,xt)=>ei.letter!==xt.letter?ei.letter.localeCompare(xt.letter):ei.isNew===xt.isNew?0:ei.isNew?1:-1))}else{const je=[...V,{r:_e,c:Ee,letter:Ve.letter,isWild:!1}];if(!Dm(je)){ve({text:" Tiles must be placed in a single row or column",type:"error"});return}I(je),b(rt=>rt.filter(At=>At.id!==Ve.id))}p.filter(je=>je.letter===Ve.letter).length<=1&&k(null),C(null),ye.type==="error"&&ve({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Ne.type==="board"){if(Ne.r===_e&&Ne.c===Ee)return;const Ve=V.findIndex(rt=>rt.r===Ne.r&&rt.c===Ne.c);if(Ve===-1)return;const gt=V[Ve],je=[...V];if(ft!==-1){const rt=V[ft];je[ft]={...rt,r:Ne.r,c:Ne.c},je[Ve]={...gt,r:_e,c:Ee}}else je[Ve]={...gt,r:_e,c:Ee};if(!Dm(je)){ve({text:" Tiles must be placed in a single row or column",type:"error"});return}I(je)}}catch{}},Br=te=>{if(Ut)return;te.preventDefault(),te.stopPropagation();const _e=te.dataTransfer.getData("text/plain");if(!(!_e||!_e.trim()||!_e.trim().startsWith("{")))try{const Ee=JSON.parse(_e);if(Ee.type==="board"){const Me=V.find(Ve=>Ve.r===Ee.r&&Ve.c===Ee.c),Ne=Me&&Me.isWild?"*":Ee.letter,ft=to(Ne,!1);I(Ve=>Ve.filter(gt=>!(gt.r===Ee.r&&gt.c===Ee.c))),b(Ve=>[...Ve,ft].sort((gt,je)=>gt.letter!==je.letter?gt.letter.localeCompare(je.letter):gt.isNew===je.isNew?0:gt.isNew?1:-1))}}catch{}},Ge=(te,_e)=>{if(!l||!l[te])return null;if(l[te][_e])return{letter:l[te][_e],type:"locked"};const Ee=V.find(Me=>Me.r===te&&Me.c===_e);return Ee?{letter:Ee.letter,type:"temp",isWild:Ee.isWild}:null},ra=(te,_e)=>Re.find(Ee=>Ee.r===te&&Ee.c===_e),Ji=(te,_e)=>Ue.find(Ee=>Ee.r===te&&Ee.c===_e),Zi=async()=>{if(V.length===0)return;lt(!0),ve({text:"Validating...",type:"info"});const te=l.map(Ve=>[...Ve]);if(V.forEach(Ve=>{te[Ve.r]&&(te[Ve.r][Ve.c]=Ve.letter)}),V.length>1){const Ve=[...V].sort((At,Ct)=>At.r-Ct.r||At.c-Ct.c),gt=Ve[0],je=Ve[Ve.length-1];if(gt.r===je.r){for(let At=gt.c;At<=je.c;At++)if(!te[gt.r][At]){Jn("Cannot leave gaps between tiles.");return}}else for(let At=gt.r;At<=je.r;At++)if(!te[At][gt.c]){Jn("Cannot leave gaps between tiles.");return}}const _e=l.every(Ve=>Ve.every(gt=>gt===null));let Ee=!1,Me=!1;if(V.forEach(Ve=>{Ve.c===0&&(Ee=!0),[{r:Ve.r+1,c:Ve.c},{r:Ve.r-1,c:Ve.c},{r:Ve.r,c:Ve.c+1},{r:Ve.r,c:Ve.c-1}].forEach(je=>{je.r>=0&&je.r<ea&&je.c>=0&&je.c<jr&&l[je.r]&&l[je.r][je.c]&&(Me=!0)})}),_e&&!Ee){Jn("First word must start in Column 1.");return}if(!_e&&!Me){Jn("Tiles must connect to existing words.");return}const ft=Hn(te).filter(Ve=>Ve.cells.some(gt=>V.some(je=>je.r===gt.r&&je.c===gt.c)));if(ft.length===0){Jn("Words must be at least 2 letters.");return}try{const Ve=[];for(const gt of ft)await vn(gt.word)||Ve.push(gt.word);if(Ve.length>0){Jn(`Invalid word(s): ${Ve.join(", ")}`,Ve[0]);return}Sr(te,ft)}catch(Ve){console.error(Ve),Jn("Error checking dictionary. Try again.")}},vn=async te=>{const _e=te.toUpperCase();if(_e.length===2||["NET","OUR"].includes(_e))return["AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","NET","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","OUR","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"].includes(_e);try{const Ee=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${te}`);if(!Ee.ok)return!1;const Me=await Ee.json();return Array.isArray(Me)&&Me.length>0}catch{return!0}},Hn=te=>{let _e=[];for(let Ee=0;Ee<ea;Ee++){let Me="",Ne=[];for(let ft=0;ft<jr;ft++)te[Ee]&&te[Ee][ft]?(Me+=te[Ee][ft],Ne.push({r:Ee,c:ft})):(Me.length>1&&_e.push({word:Me,cells:[...Ne],type:"H"}),Me="",Ne=[]);Me.length>1&&_e.push({word:Me,cells:[...Ne],type:"H"})}for(let Ee=0;Ee<jr;Ee++){let Me="",Ne=[];for(let ft=0;ft<ea;ft++)te[ft]&&te[ft][Ee]?(Me+=te[ft][Ee],Ne.push({r:ft,c:Ee})):(Me.length>1&&_e.push({word:Me,cells:[...Ne],type:"V"}),Me="",Ne=[]);Me.length>1&&_e.push({word:Me,cells:[...Ne],type:"V"})}return _e},Jn=(te,_e=null)=>{ve({text:te,type:"error",invalidWord:_e}),lt(!1)},Sr=(te,_e)=>{const Ee=JSON.parse(JSON.stringify(l)),Me=V.map(je=>to(je.isWild?"*":je.letter,!1)),Ne=[...p,...Me].sort((je,rt)=>je.letter!==rt.letter?je.letter.localeCompare(rt.letter):je.isNew===rt.isNew?0:je.isNew?1:-1);E(je=>[...je,{grid:Ee,hand:Ne,score:Q,drawCount:U}]),c(te),Ae(!0),setTimeout(()=>Ae(!1),200);let ft=0,Ve=!1;if(_e.forEach(je=>{je.cells.forEach(rt=>{const At=ra(rt.r,rt.c),Ct=V.some(Nt=>Nt.r===rt.r&&Nt.c===rt.c);At&&Ct&&(ft+=At.val),Ke.some(Nt=>Nt.r===rt.r&&Nt.c===rt.c)&&(Ve=!0)})}),ft>0){const rt=q.slice(U,U+ft).map(At=>to(At,!0));b(At=>[...At,...rt].sort((Nt,Zn)=>Nt.letter!==Zn.letter?Nt.letter.localeCompare(Zn.letter):Nt.isNew===Zn.isNew?0:Nt.isNew?1:-1)),xe(At=>At+ft)}if(Ve){const je=to("*",!0);b(rt=>[...rt,je].sort((Ct,Nt)=>Ct.letter!==Nt.letter?Ct.letter.localeCompare(Nt.letter):Ct.isNew===Nt.isNew?0:Ct.isNew?1:-1))}if(ft>0||Ve){const je=Ve?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${ft} Bonus Tiles!`;ve({text:je,type:"success"})}else ve({text:"Valid move!",type:"success"});let gt=Q-1;V.forEach(je=>{je.c>gt&&(gt=je.c)});for(let je=0;je<ea;je++)for(let rt=0;rt<jr;rt++)te[je]&&te[je][rt]&&rt>gt&&(gt=rt);ae(gt+1),I([]),lt(!1),C(null)},As=()=>{b(te=>[...te].sort(()=>Math.random()-.5))},ja=()=>{b(te=>[...te].sort((_e,Ee)=>_e.letter!==Ee.letter?_e.letter.localeCompare(Ee.letter):_e.isNew===Ee.isNew?0:_e.isNew?1:-1))},aa=p.reduce((te,_e)=>(te[_e.letter]||(te[_e.letter]=[]),te[_e.letter].push(_e),te),{}),Qn=Array.from(new Set(p.map(te=>te.letter))),_i=Qn.length>=6,Bi=Math.ceil(Qn.length/2),Fi=_i?Qn.slice(0,Bi):Qn,Ci=_i?Qn.slice(Bi):[],bi=({letter:te})=>{const _e=aa[te]||[],Ee=_e.length,Me=_e[Ee-1],Ne=B===te,ft=Math.min(Ee,15),Ve=6,gt=40+(ft>1?(ft-1)*Ve:0);return Y.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${gt}px`},children:[[...Array(ft-1)].map((je,rt)=>{const Ct=(te.charCodeAt(0)+rt)%7-3;return Y.jsx("div",{className:"absolute w-10 h-10 rounded-lg border border-black/10 transition-all shadow-md",style:{backgroundColor:"#e5e7eb",bottom:`${rt*Ve}px`,zIndex:rt,transform:`rotate(${Ct}deg)`}},rt)}),Y.jsxs("button",{draggable:!Ut,onDragStart:je=>zi(je,{type:"hand",tile:Me}),onClick:()=>Rt(Me),className:`
                    absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all cursor-grab active:cursor-grabbing
                `,style:{bottom:`${(ft-1)*Ve}px`,zIndex:ft,backgroundColor:Ne?yt.accentPrimary:te==="*"?yt.tileTemp:"white",color:Ne?"white":yt.textMain,transform:Ne?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Ne?0:te.charCodeAt(0)%5-2}deg)`},children:[Me&&Me.isNew&&Y.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),te==="*"?Y.jsx(mm,{size:20,fill:yt.starPurple,className:"text-purple-500"}):te]})]})};return r==="gameOver"?Y.jsxs("div",{className:"min-h-screen w-full flex flex-col lg:flex-row items-center justify-center relative overflow-hidden font-sans p-6 gap-12 overflow-y-auto",style:{backgroundColor:yt.background,color:yt.textMain},children:[Y.jsx(Qx,{}),Y.jsxs("div",{className:"z-10 bg-white/80 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex-1 self-stretch flex flex-col justify-center lg:h-[600px]",children:[Y.jsx("div",{className:"hidden md:block w-48 h-16 mx-auto mb-4",children:Y.jsx("h1",{className:"text-4xl font-black tracking-tight text-black uppercase drop-shadow-sm",children:"Long Jump"})}),Y.jsx("h3",{className:"text-2xl font-bold mb-8 tracking-widest uppercase",style:{color:yt.accentPrimary},children:"Complete"}),Y.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[Y.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:yt.textSub},children:"Athlete"}),Y.jsx("div",{className:"text-3xl font-black mb-6",style:{color:yt.textMain},children:i}),Y.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:yt.textSub},children:"Distance"}),Y.jsxs("div",{className:"text-6xl font-black",style:{color:yt.accentSecondary},children:[H,"m"]})]}),Y.jsx("button",{onClick:Yn,className:`
                        w-full py-3 mb-3 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2
                        ${Ce?"bg-green-100 border-green-200 text-green-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300"}
                    `,children:Ce?Y.jsxs(Y.Fragment,{children:[Y.jsx(nT,{size:20})," Copied to Clipboard"]}):Y.jsxs(Y.Fragment,{children:[Y.jsx(bT,{size:20})," Share Result"]})}),Y.jsx("button",{onClick:Je,className:"w-full py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg mt-auto",style:{backgroundColor:"#111827"},children:"Play Again"})]}),Y.jsx("div",{className:"z-10 w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:Y.jsx(Om,{highlightName:i,user:Ri,onRankFound:he,lastUpdated:x})})]}):r==="menu"?Y.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:yt.background,color:yt.textMain},children:[Zt&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative max-h-[80vh] flex flex-col",children:[Y.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:Y.jsx(o_,{size:48,style:{color:yt.accentPrimary}})}),Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"What's New"}),Y.jsx("div",{className:"flex-1 overflow-y-auto text-left text-gray-600 mb-6 text-sm space-y-6 pr-2",children:zx.map((te,_e)=>Y.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-0 last:pb-0",children:[Y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Y.jsxs("span",{className:"font-black text-black text-lg",children:["v",te.version]}),Y.jsx("span",{className:"text-xs font-bold bg-gray-100 px-2 py-1 rounded text-gray-500",children:te.date})]}),Y.jsx("ul",{className:"space-y-2",children:te.changes.map((Ee,Me)=>Y.jsxs("li",{className:"flex gap-2 items-start",children:[Y.jsx("span",{className:"font-bold text-green-500 mt-1",children:""}),Y.jsx("span",{children:Ee})]},Me))})]},_e))}),Y.jsx("button",{onClick:()=>Bt(!1),className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg shrink-0",style:{backgroundColor:yt.accentPrimary},children:"Close"})]})}),Y.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch",children:[Y.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[Y.jsx(H0,{}),Y.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[Y.jsx("span",{children:"Refreshed Daily"}),Y.jsx(pm,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),Y.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:yt.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."}),Y.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[Y.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-gray-600 border-b border-gray-300 hover:border-gray-500 transition-colors pb-0.5",children:"A word game by Richard Bolland"}),Y.jsxs("button",{onClick:()=>Bt(!0),className:"text-[10px] font-bold text-gray-400 hover:text-green-600 uppercase tracking-widest flex items-center gap-1 mt-1",children:["What's New ",Y.jsx(o_,{size:10})]})]})]}),Y.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[Y.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:yt.textSub},children:"Enter your name"}),Y.jsx("input",{type:"text",value:i,onChange:te=>s(te.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:yt.textMain,borderColor:"transparent"},onFocus:te=>te.target.style.borderColor=yt.accentPrimary,onBlur:te=>te.target.style.borderColor="transparent",onKeyDown:te=>te.key==="Enter"&&He()})]}),Y.jsx("button",{onClick:He,className:"group relative px-12 py-6 text-white rounded-2xl font-black text-xl tracking-widest uppercase shadow-[0_10px_20px_rgba(0,0,0,0.1)] hover:shadow-[0_15px_30px_rgba(0,0,0,0.15)] hover:-translate-y-1 active:translate-y-0 transition-all duration-300 animate-pulse-slow",style:{backgroundColor:yt.accentPrimary},children:Y.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Play Game ",Y.jsx(gT,{size:24,fill:"currentColor"})]})}),Y.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:Y.jsx(Om,{user:Ri,lastUpdated:x})})]}),Y.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:Y.jsx(Om,{user:Ri,lastUpdated:x})})]}):Y.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden",style:{backgroundColor:yt.background,color:yt.textMain},children:[sn&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[Y.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),Y.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(_1).filter(te=>te!=="*").map(te=>Y.jsx("button",{onClick:()=>Fn(te),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:yt.textMain},children:te},te))}),Y.jsx("button",{onClick:()=>{tt(!1),mn(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),(Dt||ut)&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[Y.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:Y.jsx(eT,{size:48,style:{color:yt.accentPrimary}})}),Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"Game Rules"}),Y.jsxs("div",{className:"text-left text-gray-600 mb-6 text-sm space-y-3",children:[Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["This is a ",Y.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Place words ",Y.jsx("strong",{children:"Left to Right"})," or ",Y.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Minimum ",Y.jsx("strong",{children:"2 letter"})," words."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Start in ",Y.jsx("strong",{children:"Column 1"})," (left)."]})]}),Y.jsx("hr",{className:"border-gray-100 my-2"}),Y.jsxs("p",{className:"flex gap-2 items-center",children:[Y.jsx(pm,{size:16,className:"text-yellow-500 fill-yellow-500"}),Y.jsxs("span",{children:[Y.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),Y.jsxs("p",{className:"flex gap-2 items-center",children:[Y.jsx(mm,{size:16,className:"text-purple-500 fill-purple-500"}),Y.jsxs("span",{children:[Y.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]})]}),Y.jsx("button",{onClick:()=>{cn(!1),Tt(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:yt.accentPrimary},children:Dt?"Let's Jump!":"Close"})]})}),ht&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),Y.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",Y.jsx("strong",{style:{color:yt.accentPrimary},children:Q}),". This will end your current run."]}),Y.jsxs("div",{className:"flex gap-3",children:[Y.jsx("button",{onClick:zn,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),Y.jsx("button",{onClick:pn,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:yt.accentPrimary},children:"Confirm"})]})]})}),Y.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative",children:[Y.jsxs("div",{className:"w-32 flex flex-col items-start",children:[Y.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),Y.jsx("div",{className:"block md:hidden",children:Q>0&&Y.jsxs("button",{onClick:xn,disabled:Ut||Fe,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",Y.jsx(l_,{size:10,style:{color:yt.starGold}})]})})]}),Y.jsxs("div",{className:"flex flex-col items-center flex-1",children:[Y.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:()=>e("menu"),children:Y.jsx(H0,{})}),Y.jsx("div",{className:"hidden md:block mt-6",children:Q>0&&Y.jsxs("button",{onClick:xn,disabled:Ut||Fe,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",Y.jsx(l_,{size:10,style:{color:yt.starGold}})]})})]}),Y.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[Y.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:yt.accentPrimary},children:i||"PLAYER 1"}),Y.jsxs("button",{onClick:()=>Tt(!0),className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 uppercase tracking-widest flex items-center gap-1",children:["Rules ",Y.jsx(fT,{size:12})]})]})]}),Y.jsx("div",{className:"w-full max-w-6xl px-4 mb-1 flex justify-center items-center shrink-0",children:Y.jsx("div",{className:"flex gap-6",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("span",{className:"block text-[10px] uppercase tracking-widest",style:{color:yt.accentPrimary},children:"DISTANCE"}),Y.jsxs("span",{className:"font-black text-2xl transition-all duration-500",style:{color:yt.accentPrimary},children:[H,"m"]})]})})}),Y.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:Ht,onMouseLeave:On,onMouseUp:Vn,onMouseMove:Xn,children:Y.jsx("div",{ref:R,className:`
            w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar
            ${g?"cursor-grabbing":"cursor-grab"}
            py-2 md:py-20
          `,style:{userSelect:"none"},children:Y.jsxs("div",{className:"relative p-1 mx-4",style:{width:"fit-content",minWidth:"fit-content"},children:[Y.jsx("div",{className:"flex relative mb-3",style:{width:`${jr*no}px`,height:"24px"},children:Array(jr).fill(0).map((te,_e)=>{const Ee=_e===0,Me=(_e+1)%5===0;return!Ee&&!Me?null:Y.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end",style:{left:_e*no+no/2},children:[Y.jsx("span",{className:`text-xs tracking-wider ${Ee?"text-black font-black":"text-gray-400"}`,children:Ee?"START":`${_e+1}m`}),Y.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${Ee?"bg-black":"bg-gray-300"}`})]},`ruler-${_e}`)})}),Y.jsxs("div",{className:"relative",children:[Y.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-0 pointer-events-none",children:at.filter(te=>te.type==="top").map((te,_e)=>Y.jsx("div",{className:"absolute -top-[55px]",style:{left:te.c*no},children:Y.jsx(q0,{trigger:re})},`fan-top-${_e}`))}),Y.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${jr}, ${no}px)`,gridTemplateRows:`repeat(${ea}, ${no}px)`,backgroundColor:yt.boardBackground,borderColor:yt.boardLines},children:Array(ea).fill(0).map((te,_e)=>Array(jr).fill(0).map((Ee,Me)=>{const Ne=Ge(_e,Me),ft=ra(_e,Me),Ve=Ji(_e,Me),gt=Ke.some(xt=>xt.r===_e&&xt.c===Me),rt=Me===0&&!Ne&&!We,At=Ne?.type==="locked",Ct=(Me+1)%5===0,Nt=Me<H,Zn=z&&z.r===_e&&z.c===Me,ei=Ut&&At?"animate-jump-green":"";return Y.jsxs("div",{onClick:()=>$i(_e,Me),onDragOver:ya,onDrop:xt=>Ar(xt,_e,Me),className:`
                                relative flex items-center justify-center transition-all duration-300 w-full h-full
                                ${Ne?Ne.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Ve?"cursor-not-allowed":"hover:bg-white/20"}

                                
                                ${Ne?.type==="temp"?`bg-[${yt.tileTemp}] ring-2 ring-[${yt.tileTempRing}] -translate-y-[2px] z-10`:""}
                                
                                ${!Ne&&!Ve&&Nt?"bg-white/20":Me===0&&!Ne?"bg-green-100/40":!Ne&&!Ve&&!rt&&(_e+Me)%2===0?"bg-black/5":"bg-transparent"}

                                ${!Ne&&Zn?"ring-2 ring-blue-400 bg-blue-50/20":""}
                                ${!Ne&&Ct?"border-r-2 border-r-black/10":"border border-black/5"}

                                ${Nt?"animate-pop-green":""}
                                ${ei}
                                `,style:At?{backgroundColor:Nt?yt.overlayComplete:yt.tileLocked,color:yt.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:Ut?`${Me*50}ms`:"0ms"}:Ne?.type==="temp"?{backgroundColor:Ne.isWild?yt.tileWildPlaced:yt.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Ve?{backgroundColor:yt.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!Ne&&rt&&Y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:Y.jsx(sT,{size:20,style:{color:yt.startArrow}})}),!Ne&&Ve&&Y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Ne&&ft&&!Ve&&!gt&&Y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[Y.jsx(pm,{className:"w-6 h-6",fill:yt.starGold,stroke:yt.starGold}),Y.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",ft.val]})]}),!Ne&&gt&&!Ve&&Y.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:Y.jsx(mm,{className:"w-7 h-7",fill:yt.starPurple,stroke:yt.starPurple})}),Ne&&Y.jsx("span",{draggable:Ne.type==="temp"&&!Ut,onDragStart:xt=>zi(xt,{type:"board",r:_e,c:Me,letter:Ne.letter}),className:`text-2xl font-bold select-none font-mono w-full h-full flex items-center justify-center z-10 relative ${Ne.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:Ne.letter})]},`${_e}-${Me}`)}))}),Y.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:at.filter(te=>te.type==="bottom").map((te,_e)=>Y.jsx("div",{className:"absolute -bottom-[35px]",style:{left:te.c*no},children:Y.jsx(q0,{trigger:re})},`fan-bottom-${_e}`))})]})]})})}),Y.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0",children:[Y.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[Y.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${ye.type==="error"?"bg-red-100 text-red-700":ye.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[Y.jsx("span",{children:Fe?"Checking...":ye.text}),ye.type==="error"&&ye.invalidWord&&Y.jsxs("a",{href:`mailto:richard@studiobo.io?subject=Report Valid Word: ${ye.invalidWord}&body=The word "${ye.invalidWord}" should be valid.`,className:"ml-2 bg-red-200 hover:bg-red-300 text-red-800 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors",children:["Report ",Y.jsx(mT,{size:10})]})]}),Y.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[Y.jsx("button",{onClick:en,disabled:Ut||w.length===0,className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",title:"Undo last move",children:Y.jsx(vT,{size:16})}),Y.jsxs("button",{onClick:As,disabled:Ut,className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[Y.jsx(ET,{size:16})," Shuffle"]}),Y.jsxs("button",{onClick:ja,disabled:Ut,className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[Y.jsx(JE,{size:16})," Sort A-Z"]}),V.length>0&&Y.jsxs("button",{onClick:Zi,disabled:Fe||Ut,className:`
                    flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all
                    ${Fe||Ut?"bg-gray-400 text-gray-200 cursor-wait":""}
                    `,style:Fe||Ut?{}:{backgroundColor:yt.accentPrimary,color:"white"},children:[Fe?"Checking...":"JUMP"," ",Y.jsx(rT,{size:18,strokeWidth:4})]}),V.length>0&&Y.jsx("button",{onClick:()=>{const _e=V.map(Ee=>Ee.isWild?"*":Ee.letter).map(Ee=>to(Ee,!1));b(Ee=>[...Ee,..._e].sort((Me,Ne)=>Me.letter!==Ne.letter?Me.letter.localeCompare(Ne.letter):Me.isNew===Ne.isNew?0:Me.isNew?1:-1)),I([]),k(null)},disabled:Ut,className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:Y.jsx(CT,{size:16})})]})]}),Y.jsxs("div",{onDragOver:ya,onDrop:Br,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:yt.boardLines},children:[Qn.length===0&&Y.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),Qn.length<6?Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Qn.map(te=>Y.jsx(bi,{letter:te},te))}):Y.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Fi.map(te=>Y.jsx(bi,{letter:te},te))}),Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ci.map(te=>Y.jsx(bi,{letter:te},te))})]})]})]}),Y.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(0,0,0,0.1);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background-color: rgba(0,0,0,0.2);
        }

        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .no-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }

        .animate-pulse-slow {
            animation: pulse-slow 3s infinite ease-in-out;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-flash-orange {
            animation: flash-orange 0.6s ease-in-out infinite;
        }
        .animate-pop-green {
            animation: pop-green 0.3s ease-out forwards;
        }

        .animate-jump-green {
            animation: jump-green 0.6s ease-in-out forwards;
        }

        @keyframes pop-green {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes jump-green {
            0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
            20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
            40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; }
            80% { background-color: #59AD20; color: white; }
            100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
        }

        @keyframes pulse-white {
           0%, 100% { background-color: rgba(255,255,255,0.05); }
           50% { background-color: rgba(255,255,255,0.7); }
        }
        @keyframes pulse-slow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes flash-orange {
             0%, 100% { background-color: #f8f5ed; color: black; }
             50% { background-color: #f97316; color: white; border-color: #f97316; }
        }
      `})]})}GE.createRoot(document.getElementById("root")).render(Y.jsx(vt.StrictMode,{children:Y.jsx(Wx,{})}));
