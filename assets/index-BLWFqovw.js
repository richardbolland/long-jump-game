(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var dm={exports:{}},Lu={};var n0;function HE(){if(n0)return Lu;n0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:p,ref:l!==void 0?l:null,props:c}}return Lu.Fragment=e,Lu.jsx=i,Lu.jsxs=i,Lu}var i0;function qE(){return i0||(i0=1,dm.exports=HE()),dm.exports}var D=qE(),mm={exports:{}},It={};var r0;function GE(){if(r0)return It;r0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),G=Symbol.iterator;function re(j){return j===null||typeof j!="object"?null:(j=G&&j[G]||j["@@iterator"],typeof j=="function"?j:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ve=Object.assign,Ae={};function ze(j,se,Re){this.props=j,this.context=se,this.refs=Ae,this.updater=Re||z}ze.prototype.isReactComponent={},ze.prototype.setState=function(j,se){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,se,"setState")},ze.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function H(){}H.prototype=ze.prototype;function Le(j,se,Re){this.props=j,this.context=se,this.refs=Ae,this.updater=Re||z}var nt=Le.prototype=new H;nt.constructor=Le,Ve(nt,ze.prototype),nt.isPureReactComponent=!0;var lt=Array.isArray;function at(){}var Y={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function P(j,se,Re){var Te=Re.ref;return{$$typeof:r,type:j,key:se,ref:Te!==void 0?Te:null,props:Re}}function F(j,se){return P(j.type,se,j.props)}function R(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function L(j){var se={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Re){return se[Re]})}var x=/\/+/g;function $(j,se){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):se.toString(36)}function ie(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(at,at):(j.status="pending",j.then(function(se){j.status==="pending"&&(j.status="fulfilled",j.value=se)},function(se){j.status==="pending"&&(j.status="rejected",j.reason=se)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function q(j,se,Re,Te,De){var We=typeof j;(We==="undefined"||We==="boolean")&&(j=null);var ut=!1;if(j===null)ut=!0;else switch(We){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(j.$$typeof){case r:case e:ut=!0;break;case M:return ut=j._init,q(ut(j._payload),se,Re,Te,De)}}if(ut)return De=De(j),ut=Te===""?"."+$(j,0):Te,lt(De)?(Re="",ut!=null&&(Re=ut.replace(x,"$&/")+"/"),q(De,se,Re,"",function(kt){return kt})):De!=null&&(R(De)&&(De=F(De,Re+(De.key==null||j&&j.key===De.key?"":(""+De.key).replace(x,"$&/")+"/")+ut)),se.push(De)),1;ut=0;var pt=Te===""?".":Te+":";if(lt(j))for(var wt=0;wt<j.length;wt++)Te=j[wt],We=pt+$(Te,wt),ut+=q(Te,se,Re,We,De);else if(wt=re(j),typeof wt=="function")for(j=wt.call(j),wt=0;!(Te=j.next()).done;)Te=Te.value,We=pt+$(Te,wt++),ut+=q(Te,se,Re,We,De);else if(We==="object"){if(typeof j.then=="function")return q(ie(j),se,Re,Te,De);throw se=String(j),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ut}function J(j,se,Re){if(j==null)return j;var Te=[],De=0;return q(j,Te,"","",function(We){return se.call(Re,We,De++)}),Te}function ye(j){if(j._status===-1){var se=j._result;se=se(),se.then(function(Re){(j._status===0||j._status===-1)&&(j._status=1,j._result=Re)},function(Re){(j._status===0||j._status===-1)&&(j._status=2,j._result=Re)}),j._status===-1&&(j._status=0,j._result=se)}if(j._status===1)return j._result.default;throw j._result}var de=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ie={map:J,forEach:function(j,se,Re){J(j,function(){se.apply(this,arguments)},Re)},count:function(j){var se=0;return J(j,function(){se++}),se},toArray:function(j){return J(j,function(se){return se})||[]},only:function(j){if(!R(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return It.Activity=O,It.Children=Ie,It.Component=ze,It.Fragment=i,It.Profiler=l,It.PureComponent=Le,It.StrictMode=a,It.Suspense=w,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,It.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Y.H.useMemoCache(j)}},It.cache=function(j){return function(){return j.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(j,se,Re){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Te=Ve({},j.props),De=j.key;if(se!=null)for(We in se.key!==void 0&&(De=""+se.key),se)!B.call(se,We)||We==="key"||We==="__self"||We==="__source"||We==="ref"&&se.ref===void 0||(Te[We]=se[We]);var We=arguments.length-2;if(We===1)Te.children=Re;else if(1<We){for(var ut=Array(We),pt=0;pt<We;pt++)ut[pt]=arguments[pt+2];Te.children=ut}return P(j.type,De,Te)},It.createContext=function(j){return j={$$typeof:p,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},It.createElement=function(j,se,Re){var Te,De={},We=null;if(se!=null)for(Te in se.key!==void 0&&(We=""+se.key),se)B.call(se,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(De[Te]=se[Te]);var ut=arguments.length-2;if(ut===1)De.children=Re;else if(1<ut){for(var pt=Array(ut),wt=0;wt<ut;wt++)pt[wt]=arguments[wt+2];De.children=pt}if(j&&j.defaultProps)for(Te in ut=j.defaultProps,ut)De[Te]===void 0&&(De[Te]=ut[Te]);return P(j,We,De)},It.createRef=function(){return{current:null}},It.forwardRef=function(j){return{$$typeof:b,render:j}},It.isValidElement=R,It.lazy=function(j){return{$$typeof:M,_payload:{_status:-1,_result:j},_init:ye}},It.memo=function(j,se){return{$$typeof:E,type:j,compare:se===void 0?null:se}},It.startTransition=function(j){var se=Y.T,Re={};Y.T=Re;try{var Te=j(),De=Y.S;De!==null&&De(Re,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(at,de)}catch(We){de(We)}finally{se!==null&&Re.types!==null&&(se.types=Re.types),Y.T=se}},It.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},It.use=function(j){return Y.H.use(j)},It.useActionState=function(j,se,Re){return Y.H.useActionState(j,se,Re)},It.useCallback=function(j,se){return Y.H.useCallback(j,se)},It.useContext=function(j){return Y.H.useContext(j)},It.useDebugValue=function(){},It.useDeferredValue=function(j,se){return Y.H.useDeferredValue(j,se)},It.useEffect=function(j,se){return Y.H.useEffect(j,se)},It.useEffectEvent=function(j){return Y.H.useEffectEvent(j)},It.useId=function(){return Y.H.useId()},It.useImperativeHandle=function(j,se,Re){return Y.H.useImperativeHandle(j,se,Re)},It.useInsertionEffect=function(j,se){return Y.H.useInsertionEffect(j,se)},It.useLayoutEffect=function(j,se){return Y.H.useLayoutEffect(j,se)},It.useMemo=function(j,se){return Y.H.useMemo(j,se)},It.useOptimistic=function(j,se){return Y.H.useOptimistic(j,se)},It.useReducer=function(j,se,Re){return Y.H.useReducer(j,se,Re)},It.useRef=function(j){return Y.H.useRef(j)},It.useState=function(j){return Y.H.useState(j)},It.useSyncExternalStore=function(j,se,Re){return Y.H.useSyncExternalStore(j,se,Re)},It.useTransition=function(){return Y.H.useTransition()},It.version="19.2.0",It}var a0;function sf(){return a0||(a0=1,mm.exports=GE()),mm.exports}var qe=sf(),pm={exports:{}},ju={},gm={exports:{}},ym={};var s0;function YE(){return s0||(s0=1,(function(r){function e(q,J){var ye=q.length;q.push(J);e:for(;0<ye;){var de=ye-1>>>1,Ie=q[de];if(0<l(Ie,J))q[de]=J,q[ye]=Ie,ye=de;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var J=q[0],ye=q.pop();if(ye!==J){q[0]=ye;e:for(var de=0,Ie=q.length,j=Ie>>>1;de<j;){var se=2*(de+1)-1,Re=q[se],Te=se+1,De=q[Te];if(0>l(Re,ye))Te<Ie&&0>l(De,Re)?(q[de]=De,q[Te]=ye,de=Te):(q[de]=Re,q[se]=ye,de=se);else if(Te<Ie&&0>l(De,ye))q[de]=De,q[Te]=ye,de=Te;else break e}}return J}function l(q,J){var ye=q.sortIndex-J.sortIndex;return ye!==0?ye:q.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var w=[],E=[],M=1,O=null,G=3,re=!1,z=!1,Ve=!1,Ae=!1,ze=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Le=typeof setImmediate<"u"?setImmediate:null;function nt(q){for(var J=i(E);J!==null;){if(J.callback===null)a(E);else if(J.startTime<=q)a(E),J.sortIndex=J.expirationTime,e(w,J);else break;J=i(E)}}function lt(q){if(Ve=!1,nt(q),!z)if(i(w)!==null)z=!0,at||(at=!0,L());else{var J=i(E);J!==null&&ie(lt,J.startTime-q)}}var at=!1,Y=-1,B=5,P=-1;function F(){return Ae?!0:!(r.unstable_now()-P<B)}function R(){if(Ae=!1,at){var q=r.unstable_now();P=q;var J=!0;try{e:{z=!1,Ve&&(Ve=!1,H(Y),Y=-1),re=!0;var ye=G;try{t:{for(nt(q),O=i(w);O!==null&&!(O.expirationTime>q&&F());){var de=O.callback;if(typeof de=="function"){O.callback=null,G=O.priorityLevel;var Ie=de(O.expirationTime<=q);if(q=r.unstable_now(),typeof Ie=="function"){O.callback=Ie,nt(q),J=!0;break t}O===i(w)&&a(w),nt(q)}else a(w);O=i(w)}if(O!==null)J=!0;else{var j=i(E);j!==null&&ie(lt,j.startTime-q),J=!1}}break e}finally{O=null,G=ye,re=!1}J=void 0}}finally{J?L():at=!1}}}var L;if(typeof Le=="function")L=function(){Le(R)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,$=x.port2;x.port1.onmessage=R,L=function(){$.postMessage(null)}}else L=function(){ze(R,0)};function ie(q,J){Y=ze(function(){q(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return G},r.unstable_next=function(q){switch(G){case 1:case 2:case 3:var J=3;break;default:J=G}var ye=G;G=J;try{return q()}finally{G=ye}},r.unstable_requestPaint=function(){Ae=!0},r.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ye=G;G=q;try{return J()}finally{G=ye}},r.unstable_scheduleCallback=function(q,J,ye){var de=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?de+ye:de):ye=de,q){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ye+Ie,q={id:M++,callback:J,priorityLevel:q,startTime:ye,expirationTime:Ie,sortIndex:-1},ye>de?(q.sortIndex=ye,e(E,q),i(w)===null&&q===i(E)&&(Ve?(H(Y),Y=-1):Ve=!0,ie(lt,ye-de))):(q.sortIndex=Ie,e(w,q),z||re||(z=!0,at||(at=!0,L()))),q},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(q){var J=G;return function(){var ye=G;G=J;try{return q.apply(this,arguments)}finally{G=ye}}}})(ym)),ym}var o0;function XE(){return o0||(o0=1,gm.exports=YE()),gm.exports}var vm={exports:{}},tr={};var l0;function QE(){if(l0)return tr;l0=1;var r=sf();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)E+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,M){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:O==null?null:""+O,children:w,containerInfo:E,implementation:M}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tr.createPortal=function(w,E){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,M)},tr.flushSync=function(w){var E=p.T,M=a.p;try{if(p.T=null,a.p=2,w)return w()}finally{p.T=E,a.p=M,a.d.f()}},tr.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(w,E))},tr.prefetchDNS=function(w){typeof w=="string"&&a.d.D(w)},tr.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var M=E.as,O=b(M,E.crossOrigin),G=typeof E.integrity=="string"?E.integrity:void 0,re=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;M==="style"?a.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:O,integrity:G,fetchPriority:re}):M==="script"&&a.d.X(w,{crossOrigin:O,integrity:G,fetchPriority:re,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},tr.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var M=b(E.as,E.crossOrigin);a.d.M(w,{crossOrigin:M,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(w)},tr.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var M=E.as,O=b(M,E.crossOrigin);a.d.L(w,M,{crossOrigin:O,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},tr.preloadModule=function(w,E){if(typeof w=="string")if(E){var M=b(E.as,E.crossOrigin);a.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:M,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(w)},tr.requestFormReset=function(w){a.d.r(w)},tr.unstable_batchedUpdates=function(w,E){return w(E)},tr.useFormState=function(w,E,M){return p.H.useFormState(w,E,M)},tr.useFormStatus=function(){return p.H.useHostTransitionStatus()},tr.version="19.2.0",tr}var u0;function WE(){if(u0)return vm.exports;u0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=QE(),vm.exports}var c0;function KE(){if(c0)return ju;c0=1;var r=XE(),e=sf(),i=WE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(a(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return w(h),t;if(m===o)return w(h),n;m=m.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=m;else{for(var T=!1,I=h.child;I;){if(I===s){T=!0,s=h,o=m;break}if(I===o){T=!0,o=h,s=m;break}I=I.sibling}if(!T){for(I=m.child;I;){if(I===s){T=!0,s=m,o=h;break}if(I===o){T=!0,o=m,s=h;break}I=I.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function M(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=M(t),n!==null)return n;t=t.sibling}return null}var O=Object.assign,G=Symbol.for("react.element"),re=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Ve=Symbol.for("react.fragment"),Ae=Symbol.for("react.strict_mode"),ze=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),Le=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ve:return"Fragment";case ze:return"Profiler";case Ae:return"StrictMode";case lt:return"Suspense";case at:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case Le:return t.displayName||"Context";case H:return(t._context.displayName||"Context")+".Consumer";case nt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:$(t.type)||"Memo";case B:n=t._payload,t=t._init;try{return $(t(n))}catch{}}return null}var ie=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},de=[],Ie=-1;function j(t){return{current:t}}function se(t){0>Ie||(t.current=de[Ie],de[Ie]=null,Ie--)}function Re(t,n){Ie++,de[Ie]=t.current,t.current=n}var Te=j(null),De=j(null),We=j(null),ut=j(null);function pt(t,n){switch(Re(We,n),Re(De,t),Re(Te,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Sv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Sv(n),t=Cv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(Te),Re(Te,t)}function wt(){se(Te),se(De),se(We)}function kt(t){t.memoizedState!==null&&Re(ut,t);var n=Te.current,s=Cv(n,t.type);n!==s&&(Re(De,t),Re(Te,s))}function gn(t){De.current===t&&(se(Te),se(De)),ut.current===t&&(se(ut),Ou._currentValue=ye)}var dt,St;function Nt(t){if(dt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);dt=n&&n[1]||"",St=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dt+t+St}var bt=!1;function Xt(t,n){if(!t||bt)return"";bt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ge){var fe=ge}Reflect.construct(t,[],Se)}else{try{Se.call()}catch(ge){fe=ge}t.call(Se.prototype)}}else{try{throw Error()}catch(ge){fe=ge}(Se=t())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ge){if(ge&&fe&&typeof ge.stack=="string")return[ge.stack,fe.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],I=m[1];if(T&&I){var X=T.split(`
`),ce=I.split(`
`);for(h=o=0;o<X.length&&!X[o].includes("DetermineComponentFrameRoot");)o++;for(;h<ce.length&&!ce[h].includes("DetermineComponentFrameRoot");)h++;if(o===X.length||h===ce.length)for(o=X.length-1,h=ce.length-1;1<=o&&0<=h&&X[o]!==ce[h];)h--;for(;1<=o&&0<=h;o--,h--)if(X[o]!==ce[h]){if(o!==1||h!==1)do if(o--,h--,0>h||X[o]!==ce[h]){var we=`
`+X[o].replace(" at new "," at ");return t.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",t.displayName)),we}while(1<=o&&0<=h);break}}}finally{bt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Nt(s):""}function Et(t,n){switch(t.tag){case 26:case 27:case 5:return Nt(t.type);case 16:return Nt("Lazy");case 13:return t.child!==n&&n!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return Xt(t.type,!1);case 11:return Xt(t.type.render,!1);case 1:return Xt(t.type,!0);case 31:return Nt("Activity");default:return""}}function Dt(t){try{var n="",s=null;do n+=Et(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Fe=Object.prototype.hasOwnProperty,sn=r.unstable_scheduleCallback,hn=r.unstable_cancelCallback,_r=r.unstable_shouldYield,$n=r.unstable_requestPaint,tn=r.unstable_now,Pn=r.unstable_getCurrentPriorityLevel,C=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,v=r.unstable_NormalPriority,k=r.unstable_LowPriority,W=r.unstable_IdlePriority,me=r.log,Ne=r.unstable_setDisableYieldValue,Ke=null,tt=null;function Ge(t){if(typeof me=="function"&&Ne(t),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Ke,t)}catch{}}var $e=Math.clz32?Math.clz32:on,Ft=Math.log,Mn=Math.LN2;function on(t){return t>>>=0,t===0?32:31-(Ft(t)/Mn|0)|0}var jn=256,Lt=262144,Ut=4194304;function Un(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yn(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var I=o&134217727;return I!==0?(o=I&~m,o!==0?h=Un(o):(T&=I,T!==0?h=Un(T):s||(s=I&~t,s!==0&&(h=Un(s))))):(I=o&~m,I!==0?h=Un(I):T!==0?h=Un(T):s||(s=o&~t,s!==0&&(h=Un(s)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,s=n&-n,m>=s||m===32&&(s&4194048)!==0)?n:h}function Qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Si(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mt(){var t=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),t}function zn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Tt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function sr(t,n,s,o,h,m){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var I=t.entanglements,X=t.expirationTimes,ce=t.hiddenUpdates;for(s=T&~s;0<s;){var we=31-$e(s),Se=1<<we;I[we]=0,X[we]=-1;var fe=ce[we];if(fe!==null)for(ce[we]=null,we=0;we<fe.length;we++){var ge=fe[we];ge!==null&&(ge.lane&=-536870913)}s&=~Se}o!==0&&br(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function br(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-$e(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function sa(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-$e(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function or(t,n){var s=n&-n;return s=(s&42)!==0?1:qr(s),(s&(t.suspendedLanes|n))!==0?0:s}function qr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function oa(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:Wv(t.type))}function Jn(t,n){var s=J.p;try{return J.p=t,n()}finally{J.p=s}}var lr=Math.random().toString(36).slice(2),vn="__reactFiber$"+lr,_n="__reactProps$"+lr,Di="__reactContainer$"+lr,ur="__reactEvents$"+lr,Cs="__reactListeners$"+lr,Ba="__reactHandles$"+lr,la="__reactResources$"+lr,cr="__reactMarker$"+lr;function Oi(t){delete t[vn],delete t[_n],delete t[ur],delete t[Cs],delete t[Ba]}function ki(t){var n=t[vn];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Di]||s[vn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ov(t);t!==null;){if(s=t[vn])return s;t=Ov(t)}return n}t=s,s=t.parentNode}return null}function ln(t){if(t=t[vn]||t[Di]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Vi(t){var n=t[la];return n||(n=t[la]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Hn(t){t[cr]=!0}var ua=new Set,Ci={};function bi(t,n){Pi(t,n),Pi(t+"Capture",n)}function Pi(t,n){for(Ci[t]=n,t=0;t<n.length;t++)ua.add(n[t])}var Fa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gr={},Ea={};function Ha(t){return Fe.call(Ea,t)?!0:Fe.call(Gr,t)?!1:Fa.test(t)?Ea[t]=!0:(Gr[t]=!0,!1)}function wr(t,n,s){if(Ha(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Ri(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Tn(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Wn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wi(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){s=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qt(t){if(!t._valueTracker){var n=Qi(t)?"checked":"value";t._valueTracker=Wi(t,n,""+t[n])}}function wi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Qi(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ft(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ai=/[\n"\\]/g;function Nn(t){return t.replace(ai,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yr(t,n,s,o,h,m,T,I){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wn(n)):t.value!==""+Wn(n)&&(t.value=""+Wn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Ta(t,T,Wn(n)):s!=null?Ta(t,T,Wn(s)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?t.name=""+Wn(I):t.removeAttribute("name")}function qa(t,n,s,o,h,m,T,I){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Qt(t);return}s=s!=null?""+Wn(s):"",n=n!=null?""+Wn(n):s,I||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=I?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Qt(t)}function Ta(t,n,s){n==="number"&&ft(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function fn(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Wn(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Dr(t,n,s){if(n!=null&&(n=""+Wn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Wn(s):""}function Er(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ie(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Wn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),Qt(t)}function Zn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Ki=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ca(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||Ki.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function si(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&ca(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&ca(t,m,n[m])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(t){return hr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var fa=null;function Li(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $i=null,ji=null;function xi(t){var n=ln(t);if(n&&(t=n.stateNode)){var s=t[_n]||null;e:switch(t=n.stateNode,n.type){case"input":if(Yr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[_n]||null;if(!h)throw Error(a(90));Yr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&wi(o)}break e;case"textarea":Dr(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&fn(t,!!s.multiple,n,!1)}}}var Q=!1;function oe(t,n,s){if(Q)return t(n,s);Q=!0;try{var o=t(n);return o}finally{if(Q=!1,($i!==null||ji!==null)&&(Wc(),$i&&(n=$i,t=ji,ji=$i=null,xi(n),t)))for(n=0;n<t.length;n++)xi(t[n])}}function ve(t,n){var s=t.stateNode;if(s===null)return null;var o=s[_n]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var _e=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),be=!1;if(_e)try{var xe={};Object.defineProperty(xe,"passive",{get:function(){be=!0}}),window.addEventListener("test",xe,xe),window.removeEventListener("test",xe,xe)}catch{be=!1}var Ye=null,Pe=null,vt=null;function He(){if(vt)return vt;var t,n=Pe,s=n.length,o,h="value"in Ye?Ye.value:Ye.textContent,m=h.length;for(t=0;t<s&&n[t]===h[t];t++);var T=s-t;for(o=1;o<=T&&n[s-o]===h[m-o];o++);return vt=h.slice(t,1<o?1-o:void 0)}function ct(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Vt(){return!0}function Rn(){return!1}function Dn(t){function n(s,o,h,m,T){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(s=t[I],this[I]=s?s(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vt:Rn,this.isPropagationStopped=Rn,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Vt)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Vt)},persist:function(){},isPersistent:Vt}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Dn(Ji),Aa=O({},Ji,{view:0,detail:0}),Eo=Dn(Aa),kr,Ga,fr,Ya=O({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fr&&(fr&&t.type==="mousemove"?(kr=t.screenX-fr.screenX,Ga=t.screenY-fr.screenY):Ga=kr=0,fr=t),kr)},movementY:function(t){return"movementY"in t?t.movementY:Ga}}),Rs=Dn(Ya),Xa=O({},Ya,{dataTransfer:0}),Wo=Dn(Xa),oi=O({},Aa,{relatedTarget:0}),Sa=Dn(oi),dr=O({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=Dn(dr),da=O({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qa=Dn(da),xs=O({},Ji,{data:0}),Vr=Dn(xs),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ms(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function Ca(){return Ms}var Ui=O({},Aa,{key:function(t){if(t.key){var n=Is[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ct(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(t){return t.type==="keypress"?ct(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ct(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),To=Dn(Ui),Zo=O({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ma=Dn(Zo),u=O({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),y=Dn(u),A=O({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=Dn(A),ae=O({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pe=Dn(ae),je=O({},Ji,{newState:0,oldState:0}),Rt=Dn(je),ti=[9,13,27,32],un=_e&&"CompositionEvent"in window,Bn=null;_e&&"documentMode"in document&&(Bn=document.documentMode);var Zi=_e&&"TextEvent"in window&&!Bn,Tr=_e&&(!un||Bn&&8<Bn&&11>=Bn),Ar=" ",mr=!1;function Qr(t,n){switch(t){case"keyup":return ti.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function Rf(t,n){switch(t){case"compositionend":return Wa(n);case"keypress":return n.which!==32?null:(mr=!0,Ar);case"textInput":return t=n.data,t===Ar&&mr?null:t;default:return null}}function yc(t,n){if(Ka)return t==="compositionend"||!un&&Qr(t,n)?(t=He(),vt=Pe=Ye=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Tr&&n.locale!=="ko"?null:n.data;default:return null}}var el={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!el[t.type]:n==="textarea"}function qn(t,n,s,o){$i?ji?ji.push(o):ji=[o]:$i=o,n=nh(n,"onChange"),0<n.length&&(s=new Ei("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var pr=null,$a=null;function vc(t){_v(t,0)}function Ao(t){var n=fi(t);if(wi(n))return t}function nu(t,n){if(t==="change")return n}var iu=!1;if(_e){var Ns;if(_e){var tl="oninput"in document;if(!tl){var f=document.createElement("div");f.setAttribute("oninput","return;"),tl=typeof f.oninput=="function"}Ns=tl}else Ns=!1;iu=Ns&&(!document.documentMode||9<document.documentMode)}function d(){pr&&(pr.detachEvent("onpropertychange",_),$a=pr=null)}function _(t){if(t.propertyName==="value"&&Ao($a)){var n=[];qn(n,$a,t,Li(t)),oe(vc,n)}}function S(t,n,s){t==="focusin"?(d(),pr=n,$a=s,pr.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function N(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao($a)}function U(t,n){if(t==="click")return Ao(n)}function Z(t,n){if(t==="input"||t==="change")return Ao(n)}function ee(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var he=typeof Object.is=="function"?Object.is:ee;function ue(t,n){if(he(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Fe.call(n,h)||!he(t[h],n[h]))return!1}return!0}function ke(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Je(t,n){var s=ke(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ke(s)}}function st(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?st(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function te(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ft(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ft(t.document)}return n}function Ue(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var it=_e&&"documentMode"in document&&11>=document.documentMode,Be=null,dn=null,Ze=null,zt=!1;function An(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zt||Be==null||Be!==ft(o)||(o=Be,"selectionStart"in o&&Ue(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ze&&ue(Ze,o)||(Ze=o,o=nh(dn,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Be)))}function li(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Sr={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},Ht={},Pr={};_e&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function Ja(t){if(Ht[t])return Ht[t];if(!Sr[t])return t;var n=Sr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Pr)return Ht[t]=n[s];return t}var Oe=Ja("animationend"),Xe=Ja("animationiteration"),Bt=Ja("animationstart"),Wt=Ja("transitionrun"),Ot=Ja("transitionstart"),qt=Ja("transitioncancel"),rn=Ja("transitionend"),cn=new Map,gr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gr.push("scrollEnd");function Sn(t,n){cn.set(t,n),bi(n,[t])}var zi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],Za=0,nl=0;function Ra(){for(var t=Za,n=nl=Za=0;n<t;){var s=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var h=bn[n];bn[n++]=null;var m=bn[n];if(bn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&ru(s,h,m)}}function xa(t,n,s,o){bn[Za++]=t,bn[Za++]=n,bn[Za++]=s,bn[Za++]=o,nl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function pa(t,n,s,o){return xa(t,n,s,o),So(t)}function yr(t,n){return xa(t,null,null,n),So(t)}function ru(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,m=t.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-$e(s),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),m):null}function So(t){if(50<Cu)throw Cu=0,Ld=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Lr={};function xf(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,n,s,o){return new xf(t,n,s,o)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function es(t,n){var s=t.alternate;return s===null?(s=er(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function tg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function _c(t,n,s,o,h,m){var T=0;if(o=t,typeof t=="function")If(t)&&(T=1);else if(typeof t=="string")T=NE(t,s,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=er(31,s,n,h),t.elementType=P,t.lanes=m,t;case Ve:return Co(s.children,h,m,n);case Ae:T=8,h|=24;break;case ze:return t=er(12,s,n,h|2),t.elementType=ze,t.lanes=m,t;case lt:return t=er(13,s,n,h),t.elementType=lt,t.lanes=m,t;case at:return t=er(19,s,n,h),t.elementType=at,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Le:T=10;break e;case H:T=9;break e;case nt:T=11;break e;case Y:T=14;break e;case B:T=16,o=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=er(T,s,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Co(t,n,s,o){return t=er(7,t,o,n),t.lanes=s,t}function Mf(t,n,s){return t=er(6,t,null,n),t.lanes=s,t}function ng(t){var n=er(18,null,null,0);return n.stateNode=t,n}function Nf(t,n,s){return n=er(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ig=new WeakMap;function Wr(t,n){if(typeof t=="object"&&t!==null){var s=ig.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Dt(n)},ig.set(t,n),n)}return{value:t,source:n,stack:Dt(n)}}var il=[],rl=0,bc=null,au=0,Kr=[],$r=0,Ds=null,Ia=1,Ma="";function ts(t,n){il[rl++]=au,il[rl++]=bc,bc=t,au=n}function rg(t,n,s){Kr[$r++]=Ia,Kr[$r++]=Ma,Kr[$r++]=Ds,Ds=t;var o=Ia;t=Ma;var h=32-$e(o)-1;o&=~(1<<h),s+=1;var m=32-$e(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,Ia=1<<32-$e(n)+h|s<<h|o,Ma=m+t}else Ia=1<<m|s<<h|o,Ma=t}function Df(t){t.return!==null&&(ts(t,1),rg(t,1,0))}function Of(t){for(;t===bc;)bc=il[--rl],il[rl]=null,au=il[--rl],il[rl]=null;for(;t===Ds;)Ds=Kr[--$r],Kr[$r]=null,Ma=Kr[--$r],Kr[$r]=null,Ia=Kr[--$r],Kr[$r]=null}function ag(t,n){Kr[$r++]=Ia,Kr[$r++]=Ma,Kr[$r++]=Ds,Ia=n.id,Ma=n.overflow,Ds=t}var Bi=null,Gn=null,nn=!1,Os=null,Jr=!1,kf=Error(a(519));function ks(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(Wr(n,t)),kf}function sg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[vn]=t,n[_n]=o,s){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(s=0;s<xu.length;s++)Yt(xu[s],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":Yt("invalid",n),qa(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Yt("invalid",n);break;case"textarea":Yt("invalid",n),Er(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Tv(n.textContent,s)?(o.popover!=null&&(Yt("beforetoggle",n),Yt("toggle",n)),o.onScroll!=null&&Yt("scroll",n),o.onScrollEnd!=null&&Yt("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||ks(t,!0)}function og(t){for(Bi=t.return;Bi;)switch(Bi.tag){case 5:case 31:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:Bi=Bi.return}}function al(t){if(t!==Bi)return!1;if(!nn)return og(t),nn=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Jd(t.type,t.memoizedProps)),s=!s),s&&Gn&&ks(t),og(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Gn=Dv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Gn=Dv(t)}else n===27?(n=Gn,Qs(t.type)?(t=im,im=null,Gn=t):Gn=n):Gn=Bi?ea(t.stateNode.nextSibling):null;return!0}function Ro(){Gn=Bi=null,nn=!1}function Vf(){var t=Os;return t!==null&&(Ir===null?Ir=t:Ir.push.apply(Ir,t),Os=null),t}function su(t){Os===null?Os=[t]:Os.push(t)}var Pf=j(null),xo=null,ns=null;function Vs(t,n,s){Re(Pf,n._currentValue),n._currentValue=s}function is(t){t._currentValue=Pf.current,se(Pf)}function Lf(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function jf(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var I=m;m=h;for(var X=0;X<n.length;X++)if(I.context===n[X]){m.lanes|=s,I=m.alternate,I!==null&&(I.lanes|=s),Lf(m.return,s,t),o||(T=null);break e}m=I.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(a(341));T.lanes|=s,m=T.alternate,m!==null&&(m.lanes|=s),Lf(T,s,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function sl(t,n,s,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var I=h.type;he(h.pendingProps.value,T.value)||(t!==null?t.push(I):t=[I])}}else if(h===ut.current){if(T=h.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ou):t=[Ou])}h=h.return}t!==null&&jf(n,t,s,o),n.flags|=262144}function wc(t){for(t=t.firstContext;t!==null;){if(!he(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Io(t){xo=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fi(t){return lg(xo,t)}function Ec(t,n){return xo===null&&Io(t),lg(t,n)}function lg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ns===null){if(t===null)throw Error(a(308));ns=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ns=ns.next=n;return s}var Rw=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},xw=r.unstable_scheduleCallback,Iw=r.unstable_NormalPriority,di={$$typeof:Le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new Rw,data:new Map,refCount:0}}function ou(t){t.refCount--,t.refCount===0&&xw(Iw,function(){t.controller.abort()})}var lu=null,zf=0,ol=0,ll=null;function Mw(t,n){if(lu===null){var s=lu=[];zf=0,ol=Hd(),ll={status:"pending",value:void 0,then:function(o){s.push(o)}}}return zf++,n.then(ug,ug),n}function ug(){if(--zf===0&&lu!==null){ll!==null&&(ll.status="fulfilled");var t=lu;lu=null,ol=0,ll=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Nw(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var cg=q.S;q.S=function(t,n){Xy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Mw(t,n),cg!==null&&cg(t,n)};var Mo=j(null);function Bf(){var t=Mo.current;return t!==null?t:Ln.pooledCache}function Tc(t,n){n===null?Re(Mo,Mo.current):Re(Mo,n.pool)}function hg(){var t=Bf();return t===null?null:{parent:di._currentValue,pool:t}}var ul=Error(a(460)),Ff=Error(a(474)),Ac=Error(a(542)),Sc={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ei,ei),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=Ln,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t}throw Do=n,ul}}function No(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Do=s,ul):s}}var Do=null;function mg(){if(Do===null)throw Error(a(459));var t=Do;return Do=null,t}function pg(t){if(t===ul||t===Ac)throw Error(a(483))}var cl=null,uu=0;function Cc(t){var n=uu;return uu+=1,cl===null&&(cl=[]),dg(cl,t,n)}function cu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Rc(t,n){throw n.$$typeof===G?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function gg(t){function n(ne,K){if(t){var le=ne.deletions;le===null?(ne.deletions=[K],ne.flags|=16):le.push(K)}}function s(ne,K){if(!t)return null;for(;K!==null;)n(ne,K),K=K.sibling;return null}function o(ne){for(var K=new Map;ne!==null;)ne.key!==null?K.set(ne.key,ne):K.set(ne.index,ne),ne=ne.sibling;return K}function h(ne,K){return ne=es(ne,K),ne.index=0,ne.sibling=null,ne}function m(ne,K,le){return ne.index=le,t?(le=ne.alternate,le!==null?(le=le.index,le<K?(ne.flags|=67108866,K):le):(ne.flags|=67108866,K)):(ne.flags|=1048576,K)}function T(ne){return t&&ne.alternate===null&&(ne.flags|=67108866),ne}function I(ne,K,le,Ee){return K===null||K.tag!==6?(K=Mf(le,ne.mode,Ee),K.return=ne,K):(K=h(K,le),K.return=ne,K)}function X(ne,K,le,Ee){var gt=le.type;return gt===Ve?we(ne,K,le.props.children,Ee,le.key):K!==null&&(K.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===B&&No(gt)===K.type)?(K=h(K,le.props),cu(K,le),K.return=ne,K):(K=_c(le.type,le.key,le.props,null,ne.mode,Ee),cu(K,le),K.return=ne,K)}function ce(ne,K,le,Ee){return K===null||K.tag!==4||K.stateNode.containerInfo!==le.containerInfo||K.stateNode.implementation!==le.implementation?(K=Nf(le,ne.mode,Ee),K.return=ne,K):(K=h(K,le.children||[]),K.return=ne,K)}function we(ne,K,le,Ee,gt){return K===null||K.tag!==7?(K=Co(le,ne.mode,Ee,gt),K.return=ne,K):(K=h(K,le),K.return=ne,K)}function Se(ne,K,le){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Mf(""+K,ne.mode,le),K.return=ne,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case re:return le=_c(K.type,K.key,K.props,null,ne.mode,le),cu(le,K),le.return=ne,le;case z:return K=Nf(K,ne.mode,le),K.return=ne,K;case B:return K=No(K),Se(ne,K,le)}if(ie(K)||L(K))return K=Co(K,ne.mode,le,null),K.return=ne,K;if(typeof K.then=="function")return Se(ne,Cc(K),le);if(K.$$typeof===Le)return Se(ne,Ec(ne,K),le);Rc(ne,K)}return null}function fe(ne,K,le,Ee){var gt=K!==null?K.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return gt!==null?null:I(ne,K,""+le,Ee);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case re:return le.key===gt?X(ne,K,le,Ee):null;case z:return le.key===gt?ce(ne,K,le,Ee):null;case B:return le=No(le),fe(ne,K,le,Ee)}if(ie(le)||L(le))return gt!==null?null:we(ne,K,le,Ee,null);if(typeof le.then=="function")return fe(ne,K,Cc(le),Ee);if(le.$$typeof===Le)return fe(ne,K,Ec(ne,le),Ee);Rc(ne,le)}return null}function ge(ne,K,le,Ee,gt){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return ne=ne.get(le)||null,I(K,ne,""+Ee,gt);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case re:return ne=ne.get(Ee.key===null?le:Ee.key)||null,X(K,ne,Ee,gt);case z:return ne=ne.get(Ee.key===null?le:Ee.key)||null,ce(K,ne,Ee,gt);case B:return Ee=No(Ee),ge(ne,K,le,Ee,gt)}if(ie(Ee)||L(Ee))return ne=ne.get(le)||null,we(K,ne,Ee,gt,null);if(typeof Ee.then=="function")return ge(ne,K,le,Cc(Ee),gt);if(Ee.$$typeof===Le)return ge(ne,K,le,Ec(K,Ee),gt);Rc(K,Ee)}return null}function ot(ne,K,le,Ee){for(var gt=null,mn=null,ht=K,jt=K=0,$t=null;ht!==null&&jt<le.length;jt++){ht.index>jt?($t=ht,ht=null):$t=ht.sibling;var pn=fe(ne,ht,le[jt],Ee);if(pn===null){ht===null&&(ht=$t);break}t&&ht&&pn.alternate===null&&n(ne,ht),K=m(pn,K,jt),mn===null?gt=pn:mn.sibling=pn,mn=pn,ht=$t}if(jt===le.length)return s(ne,ht),nn&&ts(ne,jt),gt;if(ht===null){for(;jt<le.length;jt++)ht=Se(ne,le[jt],Ee),ht!==null&&(K=m(ht,K,jt),mn===null?gt=ht:mn.sibling=ht,mn=ht);return nn&&ts(ne,jt),gt}for(ht=o(ht);jt<le.length;jt++)$t=ge(ht,ne,jt,le[jt],Ee),$t!==null&&(t&&$t.alternate!==null&&ht.delete($t.key===null?jt:$t.key),K=m($t,K,jt),mn===null?gt=$t:mn.sibling=$t,mn=$t);return t&&ht.forEach(function(Zs){return n(ne,Zs)}),nn&&ts(ne,jt),gt}function _t(ne,K,le,Ee){if(le==null)throw Error(a(151));for(var gt=null,mn=null,ht=K,jt=K=0,$t=null,pn=le.next();ht!==null&&!pn.done;jt++,pn=le.next()){ht.index>jt?($t=ht,ht=null):$t=ht.sibling;var Zs=fe(ne,ht,pn.value,Ee);if(Zs===null){ht===null&&(ht=$t);break}t&&ht&&Zs.alternate===null&&n(ne,ht),K=m(Zs,K,jt),mn===null?gt=Zs:mn.sibling=Zs,mn=Zs,ht=$t}if(pn.done)return s(ne,ht),nn&&ts(ne,jt),gt;if(ht===null){for(;!pn.done;jt++,pn=le.next())pn=Se(ne,pn.value,Ee),pn!==null&&(K=m(pn,K,jt),mn===null?gt=pn:mn.sibling=pn,mn=pn);return nn&&ts(ne,jt),gt}for(ht=o(ht);!pn.done;jt++,pn=le.next())pn=ge(ht,ne,jt,pn.value,Ee),pn!==null&&(t&&pn.alternate!==null&&ht.delete(pn.key===null?jt:pn.key),K=m(pn,K,jt),mn===null?gt=pn:mn.sibling=pn,mn=pn);return t&&ht.forEach(function(FE){return n(ne,FE)}),nn&&ts(ne,jt),gt}function Vn(ne,K,le,Ee){if(typeof le=="object"&&le!==null&&le.type===Ve&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case re:e:{for(var gt=le.key;K!==null;){if(K.key===gt){if(gt=le.type,gt===Ve){if(K.tag===7){s(ne,K.sibling),Ee=h(K,le.props.children),Ee.return=ne,ne=Ee;break e}}else if(K.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===B&&No(gt)===K.type){s(ne,K.sibling),Ee=h(K,le.props),cu(Ee,le),Ee.return=ne,ne=Ee;break e}s(ne,K);break}else n(ne,K);K=K.sibling}le.type===Ve?(Ee=Co(le.props.children,ne.mode,Ee,le.key),Ee.return=ne,ne=Ee):(Ee=_c(le.type,le.key,le.props,null,ne.mode,Ee),cu(Ee,le),Ee.return=ne,ne=Ee)}return T(ne);case z:e:{for(gt=le.key;K!==null;){if(K.key===gt)if(K.tag===4&&K.stateNode.containerInfo===le.containerInfo&&K.stateNode.implementation===le.implementation){s(ne,K.sibling),Ee=h(K,le.children||[]),Ee.return=ne,ne=Ee;break e}else{s(ne,K);break}else n(ne,K);K=K.sibling}Ee=Nf(le,ne.mode,Ee),Ee.return=ne,ne=Ee}return T(ne);case B:return le=No(le),Vn(ne,K,le,Ee)}if(ie(le))return ot(ne,K,le,Ee);if(L(le)){if(gt=L(le),typeof gt!="function")throw Error(a(150));return le=gt.call(le),_t(ne,K,le,Ee)}if(typeof le.then=="function")return Vn(ne,K,Cc(le),Ee);if(le.$$typeof===Le)return Vn(ne,K,Ec(ne,le),Ee);Rc(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,K!==null&&K.tag===6?(s(ne,K.sibling),Ee=h(K,le),Ee.return=ne,ne=Ee):(s(ne,K),Ee=Mf(le,ne.mode,Ee),Ee.return=ne,ne=Ee),T(ne)):s(ne,K)}return function(ne,K,le,Ee){try{uu=0;var gt=Vn(ne,K,le,Ee);return cl=null,gt}catch(ht){if(ht===ul||ht===Ac)throw ht;var mn=er(29,ht,null,ne.mode);return mn.lanes=Ee,mn.return=ne,mn}finally{}}}var Oo=gg(!0),yg=gg(!1),Ps=!1;function Hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(wn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=So(t),ru(t,null,s),n}return xa(t,o,n,s),So(t)}function hu(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,sa(t,s)}}function Gf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,s=s.next}while(s!==null);m===null?h=m=n:m=m.next=n}else h=m=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Yf=!1;function fu(){if(Yf){var t=ll;if(t!==null)throw t}}function du(t,n,s,o){Yf=!1;var h=t.updateQueue;Ps=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var X=I,ce=X.next;X.next=null,T===null?m=ce:T.next=ce,T=X;var we=t.alternate;we!==null&&(we=we.updateQueue,I=we.lastBaseUpdate,I!==T&&(I===null?we.firstBaseUpdate=ce:I.next=ce,we.lastBaseUpdate=X))}if(m!==null){var Se=h.baseState;T=0,we=ce=X=null,I=m;do{var fe=I.lane&-536870913,ge=fe!==I.lane;if(ge?(Kt&fe)===fe:(o&fe)===fe){fe!==0&&fe===ol&&(Yf=!0),we!==null&&(we=we.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ot=t,_t=I;fe=n;var Vn=s;switch(_t.tag){case 1:if(ot=_t.payload,typeof ot=="function"){Se=ot.call(Vn,Se,fe);break e}Se=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=_t.payload,fe=typeof ot=="function"?ot.call(Vn,Se,fe):ot,fe==null)break e;Se=O({},Se,fe);break e;case 2:Ps=!0}}fe=I.callback,fe!==null&&(t.flags|=64,ge&&(t.flags|=8192),ge=h.callbacks,ge===null?h.callbacks=[fe]:ge.push(fe))}else ge={lane:fe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},we===null?(ce=we=ge,X=Se):we=we.next=ge,T|=fe;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;ge=I,I=ge.next,ge.next=null,h.lastBaseUpdate=ge,h.shared.pending=null}}while(!0);we===null&&(X=Se),h.baseState=X,h.firstBaseUpdate=ce,h.lastBaseUpdate=we,m===null&&(h.shared.lanes=0),Hs|=T,t.lanes=T,t.memoizedState=Se}}function vg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function _g(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)vg(s[t],n)}var hl=j(null),xc=j(0);function bg(t,n){t=fs,Re(xc,t),Re(hl,n),fs=t|n.baseLanes}function Xf(){Re(xc,fs),Re(hl,hl.current)}function Qf(){fs=xc.current,se(hl),se(xc)}var jr=j(null),Zr=null;function Us(t){var n=t.alternate;Re(ui,ui.current&1),Re(jr,t),Zr===null&&(n===null||hl.current!==null||n.memoizedState!==null)&&(Zr=t)}function Wf(t){Re(ui,ui.current),Re(jr,t),Zr===null&&(Zr=t)}function wg(t){t.tag===22?(Re(ui,ui.current),Re(jr,t),Zr===null&&(Zr=t)):zs()}function zs(){Re(ui,ui.current),Re(jr,jr.current)}function Ur(t){se(jr),Zr===t&&(Zr=null),se(ui)}var ui=j(0);function Ic(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||tm(s)||nm(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,Pt=null,On=null,mi=null,Mc=!1,fl=!1,ko=!1,Nc=0,mu=0,dl=null,Dw=0;function ii(){throw Error(a(321))}function Kf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!he(t[s],n[s]))return!1;return!0}function $f(t,n,s,o,h,m){return rs=m,Pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?ry:fd,ko=!1,m=s(o,h),ko=!1,fl&&(m=Tg(n,s,o,h)),Eg(t),m}function Eg(t){q.H=yu;var n=On!==null&&On.next!==null;if(rs=0,mi=On=Pt=null,Mc=!1,mu=0,dl=null,n)throw Error(a(300));t===null||pi||(t=t.dependencies,t!==null&&wc(t)&&(pi=!0))}function Tg(t,n,s,o){Pt=t;var h=0;do{if(fl&&(dl=null),mu=0,fl=!1,25<=h)throw Error(a(301));if(h+=1,mi=On=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=ay,m=n(s,o)}while(fl);return m}function Ow(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?pu(n):n,t=t.useState()[0],(On!==null?On.memoizedState:null)!==t&&(Pt.flags|=1024),n}function Jf(){var t=Nc!==0;return Nc=0,t}function Zf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function ed(t){if(Mc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Mc=!1}rs=0,mi=On=Pt=null,fl=!1,mu=Nc=0,dl=null}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?Pt.memoizedState=mi=t:mi=mi.next=t,mi}function ci(){if(On===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=On.next;var n=mi===null?Pt.memoizedState:mi.next;if(n!==null)mi=n,On=t;else{if(t===null)throw Pt.alternate===null?Error(a(467)):Error(a(310));On=t,t={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},mi===null?Pt.memoizedState=mi=t:mi=mi.next=t}return mi}function Dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(t){var n=mu;return mu+=1,dl===null&&(dl=[]),t=dg(dl,t,n),n=Pt,(mi===null?n.memoizedState:mi.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?ry:fd),t}function Oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pu(t);if(t.$$typeof===Le)return Fi(t)}throw Error(a(438,String(t)))}function td(t){var n=null,s=Pt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Pt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Dc(),Pt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=F;return n.index++,s}function as(t,n){return typeof n=="function"?n(t):n}function kc(t){var n=ci();return nd(n,On,t)}function nd(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var I=T=null,X=null,ce=n,we=!1;do{var Se=ce.lane&-536870913;if(Se!==ce.lane?(Kt&Se)===Se:(rs&Se)===Se){var fe=ce.revertLane;if(fe===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Se===ol&&(we=!0);else if((rs&fe)===fe){ce=ce.next,fe===ol&&(we=!0);continue}else Se={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(I=X=Se,T=m):X=X.next=Se,Pt.lanes|=fe,Hs|=fe;Se=ce.action,ko&&s(m,Se),m=ce.hasEagerState?ce.eagerState:s(m,Se)}else fe={lane:Se,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(I=X=fe,T=m):X=X.next=fe,Pt.lanes|=Se,Hs|=Se;ce=ce.next}while(ce!==null&&ce!==n);if(X===null?T=m:X.next=I,!he(m,t.memoizedState)&&(pi=!0,we&&(s=ll,s!==null)))throw s;t.memoizedState=m,t.baseState=T,t.baseQueue=X,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function id(t){var n=ci(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,m=n.memoizedState;if(h!==null){s.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);he(m,n.memoizedState)||(pi=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,o]}function Ag(t,n,s){var o=Pt,h=ci(),m=nn;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=n();var T=!he((On||h).memoizedState,s);if(T&&(h.memoizedState=s,pi=!0),h=h.queue,sd(Rg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||mi!==null&&mi.memoizedState.tag&1){if(o.flags|=2048,ml(9,{destroy:void 0},Cg.bind(null,o,h,s,n),null),Ln===null)throw Error(a(349));m||(rs&127)!==0||Sg(o,n,s)}return s}function Sg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Pt.updateQueue,n===null?(n=Dc(),Pt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Cg(t,n,s,o){n.value=s,n.getSnapshot=o,xg(n)&&Ig(t)}function Rg(t,n,s){return s(function(){xg(n)&&Ig(t)})}function xg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!he(t,s)}catch{return!0}}function Ig(t){var n=yr(t,2);n!==null&&Mr(n,t,2)}function rd(t){var n=vr();if(typeof t=="function"){var s=t;if(t=s(),ko){Ge(!0);try{s()}finally{Ge(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n}function Mg(t,n,s,o){return t.baseState=s,nd(t,On,typeof o=="function"?o:as)}function kw(t,n,s,o,h){if(Lc(t))throw Error(a(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};q.T!==null?s(!0):m.isTransition=!1,o(m),s=n.pending,s===null?(m.next=n.pending=m,Ng(n,m)):(m.next=s.next,n.pending=s.next=m)}}function Ng(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=q.T,T={};q.T=T;try{var I=s(h,o),X=q.S;X!==null&&X(T,I),Dg(t,n,I)}catch(ce){ad(t,n,ce)}finally{m!==null&&T.types!==null&&(m.types=T.types),q.T=m}}else try{m=s(h,o),Dg(t,n,m)}catch(ce){ad(t,n,ce)}}function Dg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Og(t,n,o)},function(o){return ad(t,n,o)}):Og(t,n,s)}function Og(t,n,s){n.status="fulfilled",n.value=s,kg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Ng(t,s)))}function ad(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,kg(n),n=n.next;while(n!==o)}t.action=null}function kg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Vg(t,n){return n}function Pg(t,n){if(nn){var s=Ln.formState;if(s!==null){e:{var o=Pt;if(nn){if(Gn){t:{for(var h=Gn,m=Jr;h.nodeType!==8;){if(!m){h=null;break t}if(h=ea(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Gn=ea(h.nextSibling),o=h.data==="F!";break e}}ks(o)}o=!1}o&&(n=s[0])}}return s=vr(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:n},s.queue=o,s=ty.bind(null,Pt,o),o.dispatch=s,o=rd(!1),m=hd.bind(null,Pt,!1,o.queue),o=vr(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=kw.bind(null,Pt,h,m,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function Lg(t){var n=ci();return jg(n,On,t)}function jg(t,n,s){if(n=nd(t,n,Vg)[0],t=kc(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=pu(n)}catch(T){throw T===ul?Ac:T}else o=n;n=ci();var h=n.queue,m=h.dispatch;return s!==n.memoizedState&&(Pt.flags|=2048,ml(9,{destroy:void 0},Vw.bind(null,h,s),null)),[o,m,t]}function Vw(t,n){t.action=n}function Ug(t){var n=ci(),s=On;if(s!==null)return jg(n,s,t);ci(),n=n.memoizedState,s=ci();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function ml(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Pt.updateQueue,n===null&&(n=Dc(),Pt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function zg(){return ci().memoizedState}function Vc(t,n,s,o){var h=vr();Pt.flags|=t,h.memoizedState=ml(1|n,{destroy:void 0},s,o===void 0?null:o)}function Pc(t,n,s,o){var h=ci();o=o===void 0?null:o;var m=h.memoizedState.inst;On!==null&&o!==null&&Kf(o,On.memoizedState.deps)?h.memoizedState=ml(n,m,s,o):(Pt.flags|=t,h.memoizedState=ml(1|n,m,s,o))}function Bg(t,n){Vc(8390656,8,t,n)}function sd(t,n){Pc(2048,8,t,n)}function Pw(t){Pt.flags|=4;var n=Pt.updateQueue;if(n===null)n=Dc(),Pt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Fg(t){var n=ci().memoizedState;return Pw({ref:n,nextImpl:t}),function(){if((wn&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Hg(t,n){return Pc(4,2,t,n)}function qg(t,n){return Pc(4,4,t,n)}function Gg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yg(t,n,s){s=s!=null?s.concat([t]):null,Pc(4,4,Gg.bind(null,n,t),s)}function od(){}function Xg(t,n){var s=ci();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Kf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Qg(t,n){var s=ci();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Kf(n,o[1]))return o[0];if(o=t(),ko){Ge(!0);try{t()}finally{Ge(!1)}}return s.memoizedState=[o,n],o}function ld(t,n,s){return s===void 0||(rs&1073741824)!==0&&(Kt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Wy(),Pt.lanes|=t,Hs|=t,s)}function Wg(t,n,s,o){return he(s,n)?s:hl.current!==null?(t=ld(t,s,o),he(t,n)||(pi=!0),t):(rs&42)===0||(rs&1073741824)!==0&&(Kt&261930)===0?(pi=!0,t.memoizedState=s):(t=Wy(),Pt.lanes|=t,Hs|=t,n)}function Kg(t,n,s,o,h){var m=J.p;J.p=m!==0&&8>m?m:8;var T=q.T,I={};q.T=I,hd(t,!1,n,s);try{var X=h(),ce=q.S;if(ce!==null&&ce(I,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var we=Nw(X,o);gu(t,n,we,Fr(t))}else gu(t,n,o,Fr(t))}catch(Se){gu(t,n,{then:function(){},status:"rejected",reason:Se},Fr())}finally{J.p=m,T!==null&&I.types!==null&&(T.types=I.types),q.T=T}}function Lw(){}function ud(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=$g(t).queue;Kg(t,h,n,ye,s===null?Lw:function(){return Jg(t),s(o)})}function $g(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ye},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Jg(t){var n=$g(t);n.next===null&&(n=t.alternate.memoizedState),gu(t,n.next.queue,{},Fr())}function cd(){return Fi(Ou)}function Zg(){return ci().memoizedState}function ey(){return ci().memoizedState}function jw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Fr();t=Ls(s);var o=js(n,t,s);o!==null&&(Mr(o,n,s),hu(o,n,s)),n={cache:Uf()},t.payload=n;return}n=n.return}}function Uw(t,n,s){var o=Fr();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lc(t)?ny(n,s):(s=pa(t,n,s,o),s!==null&&(Mr(s,t,o),iy(s,n,o)))}function ty(t,n,s){var o=Fr();gu(t,n,s,o)}function gu(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lc(t))ny(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,I=m(T,s);if(h.hasEagerState=!0,h.eagerState=I,he(I,T))return xa(t,n,h,0),Ln===null&&Ra(),!1}catch{}finally{}if(s=pa(t,n,h,o),s!==null)return Mr(s,t,o),iy(s,n,o),!0}return!1}function hd(t,n,s,o){if(o={lane:2,revertLane:Hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lc(t)){if(n)throw Error(a(479))}else n=pa(t,s,o,2),n!==null&&Mr(n,t,2)}function Lc(t){var n=t.alternate;return t===Pt||n!==null&&n===Pt}function ny(t,n){fl=Mc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function iy(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,sa(t,s)}}var yu={readContext:Fi,use:Oc,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useLayoutEffect:ii,useInsertionEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useSyncExternalStore:ii,useId:ii,useHostTransitionStatus:ii,useFormState:ii,useActionState:ii,useOptimistic:ii,useMemoCache:ii,useCacheRefresh:ii};yu.useEffectEvent=ii;var ry={readContext:Fi,use:Oc,useCallback:function(t,n){return vr().memoizedState=[t,n===void 0?null:n],t},useContext:Fi,useEffect:Bg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Vc(4194308,4,Gg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Vc(4194308,4,t,n)},useInsertionEffect:function(t,n){Vc(4,2,t,n)},useMemo:function(t,n){var s=vr();n=n===void 0?null:n;var o=t();if(ko){Ge(!0);try{t()}finally{Ge(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=vr();if(s!==void 0){var h=s(n);if(ko){Ge(!0);try{s(n)}finally{Ge(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Uw.bind(null,Pt,t),[o.memoizedState,t]},useRef:function(t){var n=vr();return t={current:t},n.memoizedState=t},useState:function(t){t=rd(t);var n=t.queue,s=ty.bind(null,Pt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:od,useDeferredValue:function(t,n){var s=vr();return ld(s,t,n)},useTransition:function(){var t=rd(!1);return t=Kg.bind(null,Pt,t.queue,!0,!1),vr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Pt,h=vr();if(nn){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Ln===null)throw Error(a(349));(Kt&127)!==0||Sg(o,n,s)}h.memoizedState=s;var m={value:s,getSnapshot:n};return h.queue=m,Bg(Rg.bind(null,o,m,t),[t]),o.flags|=2048,ml(9,{destroy:void 0},Cg.bind(null,o,m,s,n),null),s},useId:function(){var t=vr(),n=Ln.identifierPrefix;if(nn){var s=Ma,o=Ia;s=(o&~(1<<32-$e(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Nc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Dw++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:cd,useFormState:Pg,useActionState:Pg,useOptimistic:function(t){var n=vr();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=hd.bind(null,Pt,!0,s),s.dispatch=n,[t,n]},useMemoCache:td,useCacheRefresh:function(){return vr().memoizedState=jw.bind(null,Pt)},useEffectEvent:function(t){var n=vr(),s={impl:t};return n.memoizedState=s,function(){if((wn&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},fd={readContext:Fi,use:Oc,useCallback:Xg,useContext:Fi,useEffect:sd,useImperativeHandle:Yg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:kc,useRef:zg,useState:function(){return kc(as)},useDebugValue:od,useDeferredValue:function(t,n){var s=ci();return Wg(s,On.memoizedState,t,n)},useTransition:function(){var t=kc(as)[0],n=ci().memoizedState;return[typeof t=="boolean"?t:pu(t),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:cd,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var s=ci();return Mg(s,On,t,n)},useMemoCache:td,useCacheRefresh:ey};fd.useEffectEvent=Fg;var ay={readContext:Fi,use:Oc,useCallback:Xg,useContext:Fi,useEffect:sd,useImperativeHandle:Yg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:id,useRef:zg,useState:function(){return id(as)},useDebugValue:od,useDeferredValue:function(t,n){var s=ci();return On===null?ld(s,t,n):Wg(s,On.memoizedState,t,n)},useTransition:function(){var t=id(as)[0],n=ci().memoizedState;return[typeof t=="boolean"?t:pu(t),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:cd,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,n){var s=ci();return On!==null?Mg(s,On,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:td,useCacheRefresh:ey};ay.useEffectEvent=Fg;function dd(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:O({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var md={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Fr(),h=Ls(o);h.payload=n,s!=null&&(h.callback=s),n=js(t,h,o),n!==null&&(Mr(n,t,o),hu(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Fr(),h=Ls(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=js(t,h,o),n!==null&&(Mr(n,t,o),hu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Fr(),o=Ls(s);o.tag=2,n!=null&&(o.callback=n),n=js(t,o,s),n!==null&&(Mr(n,t,s),hu(n,t,s))}};function sy(t,n,s,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!ue(s,o)||!ue(h,m):!0}function oy(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&md.enqueueReplaceState(n,n.state,null)}function Vo(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=O({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function ly(t){zi(t)}function uy(t){console.error(t)}function cy(t){zi(t)}function jc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function hy(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pd(t,n,s){return s=Ls(s),s.tag=3,s.payload={element:null},s.callback=function(){jc(t,n)},s}function fy(t){return t=Ls(t),t.tag=3,t}function dy(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){hy(n,s,o)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){hy(n,s,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})})}function zw(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&sl(n,s,h,!0),s=jr.current,s!==null){switch(s.tag){case 31:case 13:return Zr===null?Kc():s.alternate===null&&ri===0&&(ri=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Sc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),zd(t,o,h)),!1;case 22:return s.flags|=65536,o===Sc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),zd(t,o,h)),!1}throw Error(a(435,s.tag))}return zd(t,o,h),Kc(),!1}if(nn)return n=jr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==kf&&(t=Error(a(422),{cause:o}),su(Wr(t,s)))):(o!==kf&&(n=Error(a(423),{cause:o}),su(Wr(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Wr(o,s),h=pd(t.stateNode,o,h),Gf(t,h),ri!==4&&(ri=2)),!1;var m=Error(a(520),{cause:o});if(m=Wr(m,s),Su===null?Su=[m]:Su.push(m),ri!==4&&(ri=2),n===null)return!0;o=Wr(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=pd(s.stateNode,o,t),Gf(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qs===null||!qs.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=fy(h),dy(h,t,s,o),Gf(s,h),!1}s=s.return}while(s!==null);return!1}var gd=Error(a(461)),pi=!1;function Hi(t,n,s,o){n.child=t===null?yg(n,null,s,o):Oo(n,t.child,s,o)}function my(t,n,s,o,h){s=s.render;var m=n.ref;if("ref"in o){var T={};for(var I in o)I!=="ref"&&(T[I]=o[I])}else T=o;return Io(n),o=$f(t,n,s,T,m,h),I=Jf(),t!==null&&!pi?(Zf(t,n,h),ss(t,n,h)):(nn&&I&&Df(n),n.flags|=1,Hi(t,n,o,h),n.child)}function py(t,n,s,o,h){if(t===null){var m=s.type;return typeof m=="function"&&!If(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,gy(t,n,m,o,h)):(t=_c(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Ad(t,h)){var T=m.memoizedProps;if(s=s.compare,s=s!==null?s:ue,s(T,o)&&t.ref===n.ref)return ss(t,n,h)}return n.flags|=1,t=es(m,o),t.ref=n.ref,t.return=n,n.child=t}function gy(t,n,s,o,h){if(t!==null){var m=t.memoizedProps;if(ue(m,o)&&t.ref===n.ref)if(pi=!1,n.pendingProps=o=m,Ad(t,h))(t.flags&131072)!==0&&(pi=!0);else return n.lanes=t.lanes,ss(t,n,h)}return yd(t,n,s,o,h)}function yy(t,n,s,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return vy(t,n,m,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tc(n,m!==null?m.cachePool:null),m!==null?bg(n,m):Xf(),wg(n);else return o=n.lanes=536870912,vy(t,n,m!==null?m.baseLanes|s:s,s,o)}else m!==null?(Tc(n,m.cachePool),bg(n,m),zs(),n.memoizedState=null):(t!==null&&Tc(n,null),Xf(),zs());return Hi(t,n,h,s),n.child}function vu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vy(t,n,s,o,h){var m=Bf();return m=m===null?null:{parent:di._currentValue,pool:m},n.memoizedState={baseLanes:s,cachePool:m},t!==null&&Tc(n,null),Xf(),wg(n),t!==null&&sl(t,n,o,!0),n.childLanes=h,null}function Uc(t,n){return n=Bc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function _y(t,n,s){return Oo(n,t.child,null,s),t=Uc(n,n.pendingProps),t.flags|=2,Ur(n),n.memoizedState=null,t}function Bw(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(nn){if(o.mode==="hidden")return t=Uc(n,o),n.lanes=536870912,vu(null,t);if(Wf(n),(t=Gn)?(t=Nv(t,Jr),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ia,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},s=ng(t),s.return=n,n.child=s,Bi=n,Gn=null)):t=null,t===null)throw ks(n);return n.lanes=536870912,null}return Uc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Wf(n),h)if(n.flags&256)n.flags&=-257,n=_y(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(pi||sl(t,n,s,!1),h=(s&t.childLanes)!==0,pi||h){if(o=Ln,o!==null&&(T=or(o,s),T!==0&&T!==m.retryLane))throw m.retryLane=T,yr(t,T),Mr(o,t,T),gd;Kc(),n=_y(t,n,s)}else t=m.treeContext,Gn=ea(T.nextSibling),Bi=n,nn=!0,Os=null,Jr=!1,t!==null&&ag(n,t),n=Uc(n,o),n.flags|=4096;return n}return t=es(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function zc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function yd(t,n,s,o,h){return Io(n),s=$f(t,n,s,o,void 0,h),o=Jf(),t!==null&&!pi?(Zf(t,n,h),ss(t,n,h)):(nn&&o&&Df(n),n.flags|=1,Hi(t,n,s,h),n.child)}function by(t,n,s,o,h,m){return Io(n),n.updateQueue=null,s=Tg(n,o,s,h),Eg(t),o=Jf(),t!==null&&!pi?(Zf(t,n,m),ss(t,n,m)):(nn&&o&&Df(n),n.flags|=1,Hi(t,n,s,m),n.child)}function wy(t,n,s,o,h){if(Io(n),n.stateNode===null){var m=Lr,T=s.contextType;typeof T=="object"&&T!==null&&(m=Fi(T)),m=new s(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=md,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Hf(n),T=s.contextType,m.context=typeof T=="object"&&T!==null?Fi(T):Lr,m.state=n.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(dd(n,s,T,o),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&md.enqueueReplaceState(m,m.state,null),du(n,o,m,h),fu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var I=n.memoizedProps,X=Vo(s,I);m.props=X;var ce=m.context,we=s.contextType;T=Lr,typeof we=="object"&&we!==null&&(T=Fi(we));var Se=s.getDerivedStateFromProps;we=typeof Se=="function"||typeof m.getSnapshotBeforeUpdate=="function",I=n.pendingProps!==I,we||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(I||ce!==T)&&oy(n,m,o,T),Ps=!1;var fe=n.memoizedState;m.state=fe,du(n,o,m,h),fu(),ce=n.memoizedState,I||fe!==ce||Ps?(typeof Se=="function"&&(dd(n,s,Se,o),ce=n.memoizedState),(X=Ps||sy(n,s,X,o,fe,ce,T))?(we||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ce),m.props=o,m.state=ce,m.context=T,o=X):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,qf(t,n),T=n.memoizedProps,we=Vo(s,T),m.props=we,Se=n.pendingProps,fe=m.context,ce=s.contextType,X=Lr,typeof ce=="object"&&ce!==null&&(X=Fi(ce)),I=s.getDerivedStateFromProps,(ce=typeof I=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Se||fe!==X)&&oy(n,m,o,X),Ps=!1,fe=n.memoizedState,m.state=fe,du(n,o,m,h),fu();var ge=n.memoizedState;T!==Se||fe!==ge||Ps||t!==null&&t.dependencies!==null&&wc(t.dependencies)?(typeof I=="function"&&(dd(n,s,I,o),ge=n.memoizedState),(we=Ps||sy(n,s,we,o,fe,ge,X)||t!==null&&t.dependencies!==null&&wc(t.dependencies))?(ce||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ge,X),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ge,X)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ge),m.props=o,m.state=ge,m.context=X,o=we):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,zc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Oo(n,t.child,null,h),n.child=Oo(n,null,s,h)):Hi(t,n,s,h),n.memoizedState=m.state,t=n.child):t=ss(t,n,h),t}function Ey(t,n,s,o){return Ro(),n.flags|=256,Hi(t,n,s,o),n.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:hg()}}function bd(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Br),t}function Ty(t,n,s){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ui.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(nn){if(h?Us(n):zs(),(t=Gn)?(t=Nv(t,Jr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ia,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},s=ng(t),s.return=n,n.child=s,Bi=n,Gn=null)):t=null,t===null)throw ks(n);return nm(t)?n.lanes=32:n.lanes=536870912,null}var I=o.children;return o=o.fallback,h?(zs(),h=n.mode,I=Bc({mode:"hidden",children:I},h),o=Co(o,h,s,null),I.return=n,o.return=n,I.sibling=o,n.child=I,o=n.child,o.memoizedState=_d(s),o.childLanes=bd(t,T,s),n.memoizedState=vd,vu(null,o)):(Us(n),wd(n,I))}var X=t.memoizedState;if(X!==null&&(I=X.dehydrated,I!==null)){if(m)n.flags&256?(Us(n),n.flags&=-257,n=Ed(t,n,s)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),I=o.fallback,h=n.mode,o=Bc({mode:"visible",children:o.children},h),I=Co(I,h,s,null),I.flags|=2,o.return=n,I.return=n,o.sibling=I,n.child=o,Oo(n,t.child,null,s),o=n.child,o.memoizedState=_d(s),o.childLanes=bd(t,T,s),n.memoizedState=vd,n=vu(null,o));else if(Us(n),nm(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var ce=T.dgst;T=ce,o=Error(a(419)),o.stack="",o.digest=T,su({value:o,source:null,stack:null}),n=Ed(t,n,s)}else if(pi||sl(t,n,s,!1),T=(s&t.childLanes)!==0,pi||T){if(T=Ln,T!==null&&(o=or(T,s),o!==0&&o!==X.retryLane))throw X.retryLane=o,yr(t,o),Mr(T,t,o),gd;tm(I)||Kc(),n=Ed(t,n,s)}else tm(I)?(n.flags|=192,n.child=t.child,n=null):(t=X.treeContext,Gn=ea(I.nextSibling),Bi=n,nn=!0,Os=null,Jr=!1,t!==null&&ag(n,t),n=wd(n,o.children),n.flags|=4096);return n}return h?(zs(),I=o.fallback,h=n.mode,X=t.child,ce=X.sibling,o=es(X,{mode:"hidden",children:o.children}),o.subtreeFlags=X.subtreeFlags&65011712,ce!==null?I=es(ce,I):(I=Co(I,h,s,null),I.flags|=2),I.return=n,o.return=n,o.sibling=I,n.child=o,vu(null,o),o=n.child,I=t.child.memoizedState,I===null?I=_d(s):(h=I.cachePool,h!==null?(X=di._currentValue,h=h.parent!==X?{parent:X,pool:X}:h):h=hg(),I={baseLanes:I.baseLanes|s,cachePool:h}),o.memoizedState=I,o.childLanes=bd(t,T,s),n.memoizedState=vd,vu(t.child,o)):(Us(n),s=t.child,t=s.sibling,s=es(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=s,n.memoizedState=null,s)}function wd(t,n){return n=Bc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Bc(t,n){return t=er(22,t,null,n),t.lanes=0,t}function Ed(t,n,s){return Oo(n,t.child,null,s),t=wd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ay(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Lf(t.return,n,s)}function Td(t,n,s,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=s,T.tailMode=h,T.treeForkCount=m)}function Sy(t,n,s){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=ui.current,I=(T&2)!==0;if(I?(T=T&1|2,n.flags|=128):T&=1,Re(ui,T),Hi(t,n,o,s),o=nn?au:0,!I&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,s,n);else if(t.tag===19)Ay(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Ic(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Td(n,!1,h,s,m,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ic(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Td(n,!0,s,null,m,o);break;case"together":Td(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ss(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(sl(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=es(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=es(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Ad(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&wc(t)))}function Fw(t,n,s){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),Vs(n,di,t.memoizedState.cache),Ro();break;case 27:case 5:kt(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ty(t,n,s):(Us(n),t=ss(t,n,s),t!==null?t.sibling:null);Us(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(sl(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Sy(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Re(ui,ui.current),o)break;return null;case 22:return n.lanes=0,yy(t,n,s,n.pendingProps);case 24:Vs(n,di,t.memoizedState.cache)}return ss(t,n,s)}function Cy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)pi=!0;else{if(!Ad(t,s)&&(n.flags&128)===0)return pi=!1,Fw(t,n,s);pi=(t.flags&131072)!==0}else pi=!1,nn&&(n.flags&1048576)!==0&&rg(n,au,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=No(n.elementType),n.type=t,typeof t=="function")If(t)?(o=Vo(t,o),n.tag=1,n=wy(null,n,t,o,s)):(n.tag=0,n=yd(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===nt){n.tag=11,n=my(null,n,t,o,s);break e}else if(h===Y){n.tag=14,n=py(null,n,t,o,s);break e}}throw n=$(t)||t,Error(a(306,n,""))}}return n;case 0:return yd(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Vo(o,n.pendingProps),wy(t,n,o,h,s);case 3:e:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,qf(t,n),du(n,o,null,s);var T=n.memoizedState;if(o=T.cache,Vs(n,di,o),o!==m.cache&&jf(n,[di],s,!0),fu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Ey(t,n,o,s);break e}else if(o!==h){h=Wr(Error(a(424)),n),su(h),n=Ey(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Gn=ea(t.firstChild),Bi=n,nn=!0,Os=null,Jr=!0,s=yg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ro(),o===h){n=ss(t,n,s);break e}Hi(t,n,o,s)}n=n.child}return n;case 26:return zc(t,n),t===null?(s=Lv(n.type,null,n.pendingProps,null))?n.memoizedState=s:nn||(s=n.type,t=n.pendingProps,o=ih(We.current).createElement(s),o[vn]=n,o[_n]=t,qi(o,s,t),Hn(o),n.stateNode=o):n.memoizedState=Lv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return kt(n),t===null&&nn&&(o=n.stateNode=kv(n.type,n.pendingProps,We.current),Bi=n,Jr=!0,h=Gn,Qs(n.type)?(im=h,Gn=ea(o.firstChild)):Gn=h),Hi(t,n,n.pendingProps.children,s),zc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&nn&&((h=o=Gn)&&(o=vE(o,n.type,n.pendingProps,Jr),o!==null?(n.stateNode=o,Bi=n,Gn=ea(o.firstChild),Jr=!1,h=!0):h=!1),h||ks(n)),kt(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Jd(h,m)?o=null:T!==null&&Jd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=$f(t,n,Ow,null,null,s),Ou._currentValue=h),zc(t,n),Hi(t,n,o,s),n.child;case 6:return t===null&&nn&&((t=s=Gn)&&(s=_E(s,n.pendingProps,Jr),s!==null?(n.stateNode=s,Bi=n,Gn=null,t=!0):t=!1),t||ks(n)),null;case 13:return Ty(t,n,s);case 4:return pt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Oo(n,null,o,s):Hi(t,n,o,s),n.child;case 11:return my(t,n,n.type,n.pendingProps,s);case 7:return Hi(t,n,n.pendingProps,s),n.child;case 8:return Hi(t,n,n.pendingProps.children,s),n.child;case 12:return Hi(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Vs(n,n.type,o.value),Hi(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Io(n),h=Fi(h),o=o(h),n.flags|=1,Hi(t,n,o,s),n.child;case 14:return py(t,n,n.type,n.pendingProps,s);case 15:return gy(t,n,n.type,n.pendingProps,s);case 19:return Sy(t,n,s);case 31:return Bw(t,n,s);case 22:return yy(t,n,s,n.pendingProps);case 24:return Io(n),o=Fi(di),t===null?(h=Bf(),h===null&&(h=Ln,m=Uf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),n.memoizedState={parent:o,cache:h},Hf(n),Vs(n,di,h)):((t.lanes&s)!==0&&(qf(t,n),du(n,null,null,s),fu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vs(n,di,o)):(o=m.cache,Vs(n,di,o),o!==h.cache&&jf(n,[di],s,!0))),Hi(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(t){t.flags|=4}function Sd(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Zy())t.flags|=8192;else throw Do=Sc,Ff}else t.flags&=-16777217}function Ry(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fv(n))if(Zy())t.flags|=8192;else throw Do=Sc,Ff}function Fc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mt():536870912,t.lanes|=n,vl|=n)}function _u(t,n){if(!nn)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Yn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function Hw(t,n,s){var o=n.pendingProps;switch(Of(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(n),null;case 1:return Yn(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),is(di),wt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(al(n)?os(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vf())),Yn(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(os(n),m!==null?(Yn(n),Ry(n,m)):(Yn(n),Sd(n,h,null,o,s))):m?m!==t.memoizedState?(os(n),Yn(n),Ry(n,m)):(Yn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&os(n),Yn(n),Sd(n,h,t,o,s)),null;case 27:if(gn(n),s=We.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Yn(n),null}t=Te.current,al(n)?sg(n):(t=kv(h,o,s),n.stateNode=t,os(n))}return Yn(n),null;case 5:if(gn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Yn(n),null}if(m=Te.current,al(n))sg(n);else{var T=ih(We.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[vn]=n,m[_n]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(qi(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&os(n)}}return Yn(n),Sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=We.current,al(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=Bi,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[vn]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Tv(t.nodeValue,s)),t||ks(n,!0)}else t=ih(t).createTextNode(o),t[vn]=n,n.stateNode=t}return Yn(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=al(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[vn]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yn(n),t=!1}else s=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Ur(n),n):(Ur(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Yn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=al(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[vn]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yn(n),h=!1}else h=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ur(n),n):(Ur(n),null)}return Ur(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Fc(n,n.updateQueue),Yn(n),null);case 4:return wt(),t===null&&Xd(n.stateNode.containerInfo),Yn(n),null;case 10:return is(n.type),Yn(n),null;case 19:if(se(ui),o=n.memoizedState,o===null)return Yn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)_u(o,!1);else{if(ri!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Ic(t),m!==null){for(n.flags|=128,_u(o,!1),t=m.updateQueue,n.updateQueue=t,Fc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)tg(s,t),s=s.sibling;return Re(ui,ui.current&1|2),nn&&ts(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&tn()>Xc&&(n.flags|=128,h=!0,_u(o,!1),n.lanes=4194304)}else{if(!h)if(t=Ic(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Fc(n,t),_u(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!nn)return Yn(n),null}else 2*tn()-o.renderingStartTime>Xc&&s!==536870912&&(n.flags|=128,h=!0,_u(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,s=ui.current,Re(ui,h?s&1|2:s&1),nn&&ts(n,o.treeForkCount),t):(Yn(n),null);case 22:case 23:return Ur(n),Qf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Yn(n),n.subtreeFlags&6&&(n.flags|=8192)):Yn(n),s=n.updateQueue,s!==null&&Fc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&se(Mo),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),is(di),Yn(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function qw(t,n){switch(Of(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return is(di),wt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return gn(n),null;case 31:if(n.memoizedState!==null){if(Ur(n),n.alternate===null)throw Error(a(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ur(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return se(ui),null;case 4:return wt(),null;case 10:return is(n.type),null;case 22:case 23:return Ur(n),Qf(),t!==null&&se(Mo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return is(di),null;case 25:return null;default:return null}}function xy(t,n){switch(Of(n),n.tag){case 3:is(di),wt();break;case 26:case 27:case 5:gn(n);break;case 4:wt();break;case 31:n.memoizedState!==null&&Ur(n);break;case 13:Ur(n);break;case 19:se(ui);break;case 10:is(n.type);break;case 22:case 23:Ur(n),Qf(),t!==null&&se(Mo);break;case 24:is(di)}}function bu(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var m=s.create,T=s.inst;o=m(),T.destroy=o}s=s.next}while(s!==h)}}catch(I){In(n,n.return,I)}}function Bs(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,h=n;var X=s,ce=I;try{ce()}catch(we){In(h,X,we)}}}o=o.next}while(o!==m)}}catch(we){In(n,n.return,we)}}function Iy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{_g(n,s)}catch(o){In(t,t.return,o)}}}function My(t,n,s){s.props=Vo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){In(t,n,o)}}function wu(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){In(t,n,h)}}function Na(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){In(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){In(t,n,h)}else s.current=null}function Ny(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){In(t,t.return,h)}}function Cd(t,n,s){try{var o=t.stateNode;fE(o,t.type,s,n),o[_n]=n}catch(h){In(t,t.return,h)}}function Dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qs(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&Qs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(xd(t,n,s),t=t.sibling;t!==null;)xd(t,n,s),t=t.sibling}function Hc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Qs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Hc(t,n,s),t=t.sibling;t!==null;)Hc(t,n,s),t=t.sibling}function Oy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qi(n,o,s),n[vn]=t,n[_n]=s}catch(m){In(t,t.return,m)}}var ls=!1,gi=!1,Id=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Ii=null;function Gw(t,n){if(t=t.containerInfo,Kd=ch,t=te(t),Ue(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var T=0,I=-1,X=-1,ce=0,we=0,Se=t,fe=null;t:for(;;){for(var ge;Se!==s||h!==0&&Se.nodeType!==3||(I=T+h),Se!==m||o!==0&&Se.nodeType!==3||(X=T+o),Se.nodeType===3&&(T+=Se.nodeValue.length),(ge=Se.firstChild)!==null;)fe=Se,Se=ge;for(;;){if(Se===t)break t;if(fe===s&&++ce===h&&(I=T),fe===m&&++we===o&&(X=T),(ge=Se.nextSibling)!==null)break;Se=fe,fe=Se.parentNode}Se=ge}s=I===-1||X===-1?null:{start:I,end:X}}else s=null}s=s||{start:0,end:0}}else s=null;for($d={focusedElem:t,selectionRange:s},ch=!1,Ii=n;Ii!==null;)if(n=Ii,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ii=t;else for(;Ii!==null;){switch(n=Ii,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=n,h=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var ot=Vo(s.type,h);t=o.getSnapshotBeforeUpdate(ot,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(_t){In(s,s.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)em(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ii=t;break}Ii=n.return}}function Vy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:cs(t,s),o&4&&bu(5,s);break;case 1:if(cs(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){In(s,s.return,T)}else{var h=Vo(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){In(s,s.return,T)}}o&64&&Iy(s),o&512&&wu(s,s.return);break;case 3:if(cs(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{_g(t,n)}catch(T){In(s,s.return,T)}}break;case 27:n===null&&o&4&&Oy(s);case 26:case 5:cs(t,s),n===null&&o&4&&Ny(s),o&512&&wu(s,s.return);break;case 12:cs(t,s);break;case 31:cs(t,s),o&4&&jy(t,s);break;case 13:cs(t,s),o&4&&Uy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=eE.bind(null,s),bE(t,s))));break;case 22:if(o=s.memoizedState!==null||ls,!o){n=n!==null&&n.memoizedState!==null||gi,h=ls;var m=gi;ls=o,(gi=n)&&!m?hs(t,s,(s.subtreeFlags&8772)!==0):cs(t,s),ls=h,gi=m}break;case 30:break;default:cs(t,s)}}function Py(t){var n=t.alternate;n!==null&&(t.alternate=null,Py(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Oi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Kn=null,Cr=!1;function us(t,n,s){for(s=s.child;s!==null;)Ly(t,n,s),s=s.sibling}function Ly(t,n,s){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Ke,s)}catch{}switch(s.tag){case 26:gi||Na(s,n),us(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:gi||Na(s,n);var o=Kn,h=Cr;Qs(s.type)&&(Kn=s.stateNode,Cr=!1),us(t,n,s),Mu(s.stateNode),Kn=o,Cr=h;break;case 5:gi||Na(s,n);case 6:if(o=Kn,h=Cr,Kn=null,us(t,n,s),Kn=o,Cr=h,Kn!==null)if(Cr)try{(Kn.nodeType===9?Kn.body:Kn.nodeName==="HTML"?Kn.ownerDocument.body:Kn).removeChild(s.stateNode)}catch(m){In(s,n,m)}else try{Kn.removeChild(s.stateNode)}catch(m){In(s,n,m)}break;case 18:Kn!==null&&(Cr?(t=Kn,Iv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Cl(t)):Iv(Kn,s.stateNode));break;case 4:o=Kn,h=Cr,Kn=s.stateNode.containerInfo,Cr=!0,us(t,n,s),Kn=o,Cr=h;break;case 0:case 11:case 14:case 15:Bs(2,s,n),gi||Bs(4,s,n),us(t,n,s);break;case 1:gi||(Na(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&My(s,n,o)),us(t,n,s);break;case 21:us(t,n,s);break;case 22:gi=(o=gi)||s.memoizedState!==null,us(t,n,s),gi=o;break;default:us(t,n,s)}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(s){In(n,n.return,s)}}}function Uy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(s){In(n,n.return,s)}}function Yw(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ky),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ky),n;default:throw Error(a(435,t.tag))}}function qc(t,n){var s=Yw(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=tE.bind(null,t,o);o.then(h,h)}})}function Rr(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],m=t,T=n,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(Qs(I.type)){Kn=I.stateNode,Cr=!1;break e}break;case 5:Kn=I.stateNode,Cr=!1;break e;case 3:case 4:Kn=I.stateNode.containerInfo,Cr=!0;break e}I=I.return}if(Kn===null)throw Error(a(160));Ly(m,T,h),Kn=null,Cr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)zy(n,t),n=n.sibling}var ga=null;function zy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rr(n,t),xr(t),o&4&&(Bs(3,t,t.return),bu(3,t),Bs(5,t,t.return));break;case 1:Rr(n,t),xr(t),o&512&&(gi||s===null||Na(s,s.return)),o&64&&ls&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ga;if(Rr(n,t),xr(t),o&512&&(gi||s===null||Na(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[cr]||m[vn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),qi(m,o,s),m[vn]=t,Hn(m),o=m;break e;case"link":var T=zv("link","href",h).get(o+(s.href||""));if(T){for(var I=0;I<T.length;I++)if(m=T[I],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(I,1);break t}}m=h.createElement(o),qi(m,o,s),h.head.appendChild(m);break;case"meta":if(T=zv("meta","content",h).get(o+(s.content||""))){for(I=0;I<T.length;I++)if(m=T[I],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(I,1);break t}}m=h.createElement(o),qi(m,o,s),h.head.appendChild(m);break;default:throw Error(a(468,o))}m[vn]=t,Hn(m),o=m}t.stateNode=o}else Bv(h,t.type,t.stateNode);else t.stateNode=Uv(h,o,t.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?Bv(h,t.type,t.stateNode):Uv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Rr(n,t),xr(t),o&512&&(gi||s===null||Na(s,s.return)),s!==null&&o&4&&Cd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Rr(n,t),xr(t),o&512&&(gi||s===null||Na(s,s.return)),t.flags&32){h=t.stateNode;try{Zn(h,"")}catch(ot){In(t,t.return,ot)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Cd(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Id=!0);break;case 6:if(Rr(n,t),xr(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ot){In(t,t.return,ot)}}break;case 3:if(sh=null,h=ga,ga=rh(n.containerInfo),Rr(n,t),ga=h,xr(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(ot){In(t,t.return,ot)}Id&&(Id=!1,By(t));break;case 4:o=ga,ga=rh(t.stateNode.containerInfo),Rr(n,t),xr(t),ga=o;break;case 12:Rr(n,t),xr(t);break;case 31:Rr(n,t),xr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qc(t,o)));break;case 13:Rr(n,t),xr(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yc=tn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qc(t,o)));break;case 22:h=t.memoizedState!==null;var X=s!==null&&s.memoizedState!==null,ce=ls,we=gi;if(ls=ce||h,gi=we||X,Rr(n,t),gi=we,ls=ce,xr(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||X||ls||gi||Po(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){X=s=n;try{if(m=X.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=X.stateNode;var Se=X.memoizedProps.style,fe=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;I.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(ot){In(X,X.return,ot)}}}else if(n.tag===6){if(s===null){X=n;try{X.stateNode.nodeValue=h?"":X.memoizedProps}catch(ot){In(X,X.return,ot)}}}else if(n.tag===18){if(s===null){X=n;try{var ge=X.stateNode;h?Mv(ge,!0):Mv(X.stateNode,!1)}catch(ot){In(X,X.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,qc(t,s))));break;case 19:Rr(n,t),xr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qc(t,o)));break;case 30:break;case 21:break;default:Rr(n,t),xr(t)}}function xr(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Dy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,m=Rd(t);Hc(t,m,h);break;case 5:var T=s.stateNode;s.flags&32&&(Zn(T,""),s.flags&=-33);var I=Rd(t);Hc(t,I,T);break;case 3:case 4:var X=s.stateNode.containerInfo,ce=Rd(t);xd(t,ce,X);break;default:throw Error(a(161))}}catch(we){In(t,t.return,we)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function By(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;By(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vy(t,n.alternate,n),n=n.sibling}function Po(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Po(n);break;case 1:Na(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&My(n,n.return,s),Po(n);break;case 27:Mu(n.stateNode);case 26:case 5:Na(n,n.return),Po(n);break;case 22:n.memoizedState===null&&Po(n);break;case 30:Po(n);break;default:Po(n)}t=t.sibling}}function hs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:hs(h,m,s),bu(4,m);break;case 1:if(hs(h,m,s),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ce){In(o,o.return,ce)}if(o=m,h=o.updateQueue,h!==null){var I=o.stateNode;try{var X=h.shared.hiddenCallbacks;if(X!==null)for(h.shared.hiddenCallbacks=null,h=0;h<X.length;h++)vg(X[h],I)}catch(ce){In(o,o.return,ce)}}s&&T&64&&Iy(m),wu(m,m.return);break;case 27:Oy(m);case 26:case 5:hs(h,m,s),s&&o===null&&T&4&&Ny(m),wu(m,m.return);break;case 12:hs(h,m,s);break;case 31:hs(h,m,s),s&&T&4&&jy(h,m);break;case 13:hs(h,m,s),s&&T&4&&Uy(h,m);break;case 22:m.memoizedState===null&&hs(h,m,s),wu(m,m.return);break;case 30:break;default:hs(h,m,s)}n=n.sibling}}function Md(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ou(s))}function Nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ou(t))}function ya(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fy(t,n,s,o),n=n.sibling}function Fy(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ya(t,n,s,o),h&2048&&bu(9,n);break;case 1:ya(t,n,s,o);break;case 3:ya(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ou(t)));break;case 12:if(h&2048){ya(t,n,s,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,I=m.onPostCommit;typeof I=="function"&&I(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(X){In(n,n.return,X)}}else ya(t,n,s,o);break;case 31:ya(t,n,s,o);break;case 13:ya(t,n,s,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?ya(t,n,s,o):Eu(t,n):m._visibility&2?ya(t,n,s,o):(m._visibility|=2,pl(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Md(T,n);break;case 24:ya(t,n,s,o),h&2048&&Nd(n.alternate,n);break;default:ya(t,n,s,o)}}function pl(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,I=s,X=o,ce=T.flags;switch(T.tag){case 0:case 11:case 15:pl(m,T,I,X,h),bu(8,T);break;case 23:break;case 22:var we=T.stateNode;T.memoizedState!==null?we._visibility&2?pl(m,T,I,X,h):Eu(m,T):(we._visibility|=2,pl(m,T,I,X,h)),h&&ce&2048&&Md(T.alternate,T);break;case 24:pl(m,T,I,X,h),h&&ce&2048&&Nd(T.alternate,T);break;default:pl(m,T,I,X,h)}n=n.sibling}}function Eu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:Eu(s,o),h&2048&&Md(o.alternate,o);break;case 24:Eu(s,o),h&2048&&Nd(o.alternate,o);break;default:Eu(s,o)}n=n.sibling}}var Tu=8192;function gl(t,n,s){if(t.subtreeFlags&Tu)for(t=t.child;t!==null;)Hy(t,n,s),t=t.sibling}function Hy(t,n,s){switch(t.tag){case 26:gl(t,n,s),t.flags&Tu&&t.memoizedState!==null&&DE(s,ga,t.memoizedState,t.memoizedProps);break;case 5:gl(t,n,s);break;case 3:case 4:var o=ga;ga=rh(t.stateNode.containerInfo),gl(t,n,s),ga=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Tu,Tu=16777216,gl(t,n,s),Tu=o):gl(t,n,s));break;default:gl(t,n,s)}}function qy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Au(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ii=o,Yy(o,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 0:case 11:case 15:Au(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:Au(t);break;case 12:Au(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Gc(t)):Au(t);break;default:Au(t)}}function Gc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ii=o,Yy(o,t)}qy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),Gc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Gc(n));break;default:Gc(n)}t=t.sibling}}function Yy(t,n){for(;Ii!==null;){var s=Ii;switch(s.tag){case 0:case 11:case 15:Bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ou(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ii=o;else e:for(s=t;Ii!==null;){o=Ii;var h=o.sibling,m=o.return;if(Py(o),o===s){Ii=null;break e}if(h!==null){h.return=m,Ii=h;break e}Ii=m}}}var Xw={getCacheForType:function(t){var n=Fi(di),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Fi(di).controller.signal}},Qw=typeof WeakMap=="function"?WeakMap:Map,wn=0,Ln=null,Gt=null,Kt=0,xn=0,zr=null,Fs=!1,yl=!1,Dd=!1,fs=0,ri=0,Hs=0,Lo=0,Od=0,Br=0,vl=0,Su=null,Ir=null,kd=!1,Yc=0,Xy=0,Xc=1/0,Qc=null,qs=null,Ti=0,Gs=null,_l=null,ds=0,Vd=0,Pd=null,Qy=null,Cu=0,Ld=null;function Fr(){return(wn&2)!==0&&Kt!==0?Kt&-Kt:q.T!==null?Hd():oa()}function Wy(){if(Br===0)if((Kt&536870912)===0||nn){var t=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),Br=t}else Br=536870912;return t=jr.current,t!==null&&(t.flags|=32),Br}function Mr(t,n,s){(t===Ln&&(xn===2||xn===9)||t.cancelPendingCommit!==null)&&(bl(t,0),Ys(t,Kt,Br,!1)),Tt(t,s),((wn&2)===0||t!==Ln)&&(t===Ln&&((wn&2)===0&&(Lo|=s),ri===4&&Ys(t,Kt,Br,!1)),Da(t))}function Ky(t,n,s){if((wn&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Qn(t,n),h=o?$w(t,n):Ud(t,n,!0),m=o;do{if(h===0){yl&&!o&&Ys(t,n,0,!1);break}else{if(s=t.current.alternate,m&&!Ww(s)){h=Ud(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var I=t;h=Su;var X=I.current.memoizedState.isDehydrated;if(X&&(bl(I,T).flags|=256),T=Ud(I,T,!1),T!==2){if(Dd&&!X){I.errorRecoveryDisabledLanes|=m,Lo|=m,h=4;break e}m=Ir,Ir=h,m!==null&&(Ir===null?Ir=m:Ir.push.apply(Ir,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){bl(t,0),Ys(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,Br,!Fs);break e;case 2:Ir=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Yc+300-tn(),10<h)){if(Ys(o,n,Br,!Fs),yn(o,0,!0)!==0)break e;ds=n,o.timeoutHandle=Rv($y.bind(null,o,s,Ir,Qc,kd,n,Br,Lo,vl,Fs,m,"Throttled",-0,0),h);break e}$y(o,s,Ir,Qc,kd,n,Br,Lo,vl,Fs,m,null,-0,0)}}break}while(!0);Da(t)}function $y(t,n,s,o,h,m,T,I,X,ce,we,Se,fe,ge){if(t.timeoutHandle=-1,Se=n.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Hy(n,m,Se);var ot=(m&62914560)===m?Yc-tn():(m&4194048)===m?Xy-tn():0;if(ot=OE(Se,ot),ot!==null){ds=m,t.cancelPendingCommit=ot(av.bind(null,t,n,m,s,o,h,T,I,X,we,Se,null,fe,ge)),Ys(t,m,T,!ce);return}}av(t,n,m,s,o,h,T,I,X)}function Ww(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],m=h.getSnapshot;h=h.value;try{if(!he(m(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,s,o){n&=~Od,n&=~Lo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-$e(h),T=1<<m;o[m]=-1,h&=~T}s!==0&&br(t,s,n)}function Wc(){return(wn&6)===0?(Ru(0),!1):!0}function jd(){if(Gt!==null){if(xn===0)var t=Gt.return;else t=Gt,ns=xo=null,ed(t),cl=null,uu=0,t=Gt;for(;t!==null;)xy(t.alternate,t),t=t.return;Gt=null}}function bl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,pE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ds=0,jd(),Ln=t,Gt=s=es(t.current,null),Kt=n,xn=0,zr=null,Fs=!1,yl=Qn(t,n),Dd=!1,vl=Br=Od=Lo=Hs=ri=0,Ir=Su=null,kd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-$e(o),m=1<<h;n|=t[h],o&=~m}return fs=n,Ra(),s}function Jy(t,n){Pt=null,q.H=yu,n===ul||n===Ac?(n=mg(),xn=3):n===Ff?(n=mg(),xn=4):xn=n===gd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zr=n,Gt===null&&(ri=1,jc(t,Wr(n,t.current)))}function Zy(){var t=jr.current;return t===null?!0:(Kt&4194048)===Kt?Zr===null:(Kt&62914560)===Kt||(Kt&536870912)!==0?t===Zr:!1}function ev(){var t=q.H;return q.H=yu,t===null?yu:t}function tv(){var t=q.A;return q.A=Xw,t}function Kc(){ri=4,Fs||(Kt&4194048)!==Kt&&jr.current!==null||(yl=!0),(Hs&134217727)===0&&(Lo&134217727)===0||Ln===null||Ys(Ln,Kt,Br,!1)}function Ud(t,n,s){var o=wn;wn|=2;var h=ev(),m=tv();(Ln!==t||Kt!==n)&&(Qc=null,bl(t,n)),n=!1;var T=ri;e:do try{if(xn!==0&&Gt!==null){var I=Gt,X=zr;switch(xn){case 8:jd(),T=6;break e;case 3:case 2:case 9:case 6:jr.current===null&&(n=!0);var ce=xn;if(xn=0,zr=null,wl(t,I,X,ce),s&&yl){T=0;break e}break;default:ce=xn,xn=0,zr=null,wl(t,I,X,ce)}}Kw(),T=ri;break}catch(we){Jy(t,we)}while(!0);return n&&t.shellSuspendCounter++,ns=xo=null,wn=o,q.H=h,q.A=m,Gt===null&&(Ln=null,Kt=0,Ra()),T}function Kw(){for(;Gt!==null;)nv(Gt)}function $w(t,n){var s=wn;wn|=2;var o=ev(),h=tv();Ln!==t||Kt!==n?(Qc=null,Xc=tn()+500,bl(t,n)):yl=Qn(t,n);e:do try{if(xn!==0&&Gt!==null){n=Gt;var m=zr;t:switch(xn){case 1:xn=0,zr=null,wl(t,n,m,1);break;case 2:case 9:if(fg(m)){xn=0,zr=null,iv(n);break}n=function(){xn!==2&&xn!==9||Ln!==t||(xn=7),Da(t)},m.then(n,n);break e;case 3:xn=7;break e;case 4:xn=5;break e;case 7:fg(m)?(xn=0,zr=null,iv(n)):(xn=0,zr=null,wl(t,n,m,7));break;case 5:var T=null;switch(Gt.tag){case 26:T=Gt.memoizedState;case 5:case 27:var I=Gt;if(T?Fv(T):I.stateNode.complete){xn=0,zr=null;var X=I.sibling;if(X!==null)Gt=X;else{var ce=I.return;ce!==null?(Gt=ce,$c(ce)):Gt=null}break t}}xn=0,zr=null,wl(t,n,m,5);break;case 6:xn=0,zr=null,wl(t,n,m,6);break;case 8:jd(),ri=6;break e;default:throw Error(a(462))}}Jw();break}catch(we){Jy(t,we)}while(!0);return ns=xo=null,q.H=o,q.A=h,wn=s,Gt!==null?0:(Ln=null,Kt=0,Ra(),ri)}function Jw(){for(;Gt!==null&&!_r();)nv(Gt)}function nv(t){var n=Cy(t.alternate,t,fs);t.memoizedProps=t.pendingProps,n===null?$c(t):Gt=n}function iv(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=by(s,n,n.pendingProps,n.type,void 0,Kt);break;case 11:n=by(s,n,n.pendingProps,n.type.render,n.ref,Kt);break;case 5:ed(n);default:xy(s,n),n=Gt=tg(n,fs),n=Cy(s,n,fs)}t.memoizedProps=t.pendingProps,n===null?$c(t):Gt=n}function wl(t,n,s,o){ns=xo=null,ed(n),cl=null,uu=0;var h=n.return;try{if(zw(t,h,n,s,Kt)){ri=1,jc(t,Wr(s,t.current)),Gt=null;return}}catch(m){if(h!==null)throw Gt=h,m;ri=1,jc(t,Wr(s,t.current)),Gt=null;return}n.flags&32768?(nn||o===1?t=!0:yl||(Kt&536870912)!==0?t=!1:(Fs=t=!0,(o===2||o===9||o===3||o===6)&&(o=jr.current,o!==null&&o.tag===13&&(o.flags|=16384))),rv(n,t)):$c(n)}function $c(t){var n=t;do{if((n.flags&32768)!==0){rv(n,Fs);return}t=n.return;var s=Hw(n.alternate,n,fs);if(s!==null){Gt=s;return}if(n=n.sibling,n!==null){Gt=n;return}Gt=n=t}while(n!==null);ri===0&&(ri=5)}function rv(t,n){do{var s=qw(t.alternate,t);if(s!==null){s.flags&=32767,Gt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=s}while(t!==null);ri=6,Gt=null}function av(t,n,s,o,h,m,T,I,X){t.cancelPendingCommit=null;do Jc();while(Ti!==0);if((wn&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=nl,sr(t,s,m,T,I,X),t===Ln&&(Gt=Ln=null,Kt=0),_l=n,Gs=t,ds=s,Vd=m,Pd=h,Qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nE(v,function(){return cv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=J.p,J.p=2,T=wn,wn|=4;try{Gw(t,n,s)}finally{wn=T,J.p=h,q.T=o}}Ti=1,sv(),ov(),lv()}}function sv(){if(Ti===1){Ti=0;var t=Gs,n=_l,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=J.p;J.p=2;var h=wn;wn|=4;try{zy(n,t);var m=$d,T=te(t.containerInfo),I=m.focusedElem,X=m.selectionRange;if(T!==I&&I&&I.ownerDocument&&st(I.ownerDocument.documentElement,I)){if(X!==null&&Ue(I)){var ce=X.start,we=X.end;if(we===void 0&&(we=ce),"selectionStart"in I)I.selectionStart=ce,I.selectionEnd=Math.min(we,I.value.length);else{var Se=I.ownerDocument||document,fe=Se&&Se.defaultView||window;if(fe.getSelection){var ge=fe.getSelection(),ot=I.textContent.length,_t=Math.min(X.start,ot),Vn=X.end===void 0?_t:Math.min(X.end,ot);!ge.extend&&_t>Vn&&(T=Vn,Vn=_t,_t=T);var ne=Je(I,_t),K=Je(I,Vn);if(ne&&K&&(ge.rangeCount!==1||ge.anchorNode!==ne.node||ge.anchorOffset!==ne.offset||ge.focusNode!==K.node||ge.focusOffset!==K.offset)){var le=Se.createRange();le.setStart(ne.node,ne.offset),ge.removeAllRanges(),_t>Vn?(ge.addRange(le),ge.extend(K.node,K.offset)):(le.setEnd(K.node,K.offset),ge.addRange(le))}}}}for(Se=[],ge=I;ge=ge.parentNode;)ge.nodeType===1&&Se.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<Se.length;I++){var Ee=Se[I];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}ch=!!Kd,$d=Kd=null}finally{wn=h,J.p=o,q.T=s}}t.current=n,Ti=2}}function ov(){if(Ti===2){Ti=0;var t=Gs,n=_l,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=J.p;J.p=2;var h=wn;wn|=4;try{Vy(t,n.alternate,n)}finally{wn=h,J.p=o,q.T=s}}Ti=3}}function lv(){if(Ti===4||Ti===3){Ti=0,$n();var t=Gs,n=_l,s=ds,o=Qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ti=5:(Ti=0,_l=Gs=null,uv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qs=null),Qe(s),n=n.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Ke,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=J.p,J.p=2,q.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var I=o[T];m(I.value,{componentStack:I.stack})}}finally{q.T=n,J.p=h}}(ds&3)!==0&&Jc(),Da(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Ld?Cu++:(Cu=0,Ld=t):Cu=0,Ru(0)}}function uv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ou(n)))}function Jc(){return sv(),ov(),lv(),cv()}function cv(){if(Ti!==5)return!1;var t=Gs,n=Vd;Vd=0;var s=Qe(ds),o=q.T,h=J.p;try{J.p=32>s?32:s,q.T=null,s=Pd,Pd=null;var m=Gs,T=ds;if(Ti=0,_l=Gs=null,ds=0,(wn&6)!==0)throw Error(a(331));var I=wn;if(wn|=4,Gy(m.current),Fy(m,m.current,T,s),wn=I,Ru(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Ke,m)}catch{}return!0}finally{J.p=h,q.T=o,uv(t,n)}}function hv(t,n,s){n=Wr(s,n),n=pd(t.stateNode,n,2),t=js(t,n,2),t!==null&&(Tt(t,2),Da(t))}function In(t,n,s){if(t.tag===3)hv(t,t,s);else for(;n!==null;){if(n.tag===3){hv(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){t=Wr(s,t),s=fy(2),o=js(n,s,2),o!==null&&(dy(s,o,n,t),Tt(o,2),Da(o));break}}n=n.return}}function zd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new Qw;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Dd=!0,h.add(s),t=Zw.bind(null,t,n,s),n.then(t,t))}function Zw(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ln===t&&(Kt&s)===s&&(ri===4||ri===3&&(Kt&62914560)===Kt&&300>tn()-Yc?(wn&2)===0&&bl(t,0):Od|=s,vl===Kt&&(vl=0)),Da(t)}function fv(t,n){n===0&&(n=mt()),t=yr(t,n),t!==null&&(Tt(t,n),Da(t))}function eE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),fv(t,s)}function tE(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),fv(t,s)}function nE(t,n){return sn(t,n)}var Zc=null,El=null,Bd=!1,eh=!1,Fd=!1,Xs=0;function Da(t){t!==El&&t.next===null&&(El===null?Zc=El=t:El=El.next=t),eh=!0,Bd||(Bd=!0,rE())}function Ru(t,n){if(!Fd&&eh){Fd=!0;do for(var s=!1,o=Zc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,I=o.pingedLanes;m=(1<<31-$e(42|t)+1)-1,m&=h&~(T&~I),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,gv(o,m))}else m=Kt,m=yn(o,o===Ln?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Qn(o,m)||(s=!0,gv(o,m));o=o.next}while(s);Fd=!1}}function iE(){dv()}function dv(){eh=Bd=!1;var t=0;Xs!==0&&mE()&&(t=Xs);for(var n=tn(),s=null,o=Zc;o!==null;){var h=o.next,m=mv(o,n);m===0?(o.next=null,s===null?Zc=h:s.next=h,h===null&&(El=s)):(s=o,(t!==0||(m&3)!==0)&&(eh=!0)),o=h}Ti!==0&&Ti!==5||Ru(t),Xs!==0&&(Xs=0)}function mv(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-$e(m),I=1<<T,X=h[T];X===-1?((I&s)===0||(I&o)!==0)&&(h[T]=Si(I,n)):X<=n&&(t.expiredLanes|=I),m&=~I}if(n=Ln,s=Kt,s=yn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(xn===2||xn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&hn(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Qn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&hn(o),Qe(s)){case 2:case 8:s=g;break;case 32:s=v;break;case 268435456:s=W;break;default:s=v}return o=pv.bind(null,t),s=sn(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&hn(o),t.callbackPriority=2,t.callbackNode=null,2}function pv(t,n){if(Ti!==0&&Ti!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Jc()&&t.callbackNode!==s)return null;var o=Kt;return o=yn(t,t===Ln?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ky(t,o,n),mv(t,tn()),t.callbackNode!=null&&t.callbackNode===s?pv.bind(null,t):null)}function gv(t,n){if(Jc())return null;Ky(t,n,!0)}function rE(){gE(function(){(wn&6)!==0?sn(C,iE):dv()})}function Hd(){if(Xs===0){var t=ol;t===0&&(t=jn,jn<<=1,(jn&261888)===0&&(jn=256)),Xs=t}return Xs}function yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xr(""+t)}function vv(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function aE(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var m=yv((h[_n]||null).action),T=o.submitter;T&&(n=(n=T[_n]||null)?yv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var I=new Ei("action","action",null,o,h);t.push({event:I,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xs!==0){var X=T?vv(h,T):new FormData(h);ud(s,{pending:!0,data:X,method:h.method,action:m},null,X)}}else typeof m=="function"&&(I.preventDefault(),X=T?vv(h,T):new FormData(h),ud(s,{pending:!0,data:X,method:h.method,action:m},m,X))},currentTarget:h}]})}}for(var qd=0;qd<gr.length;qd++){var Gd=gr[qd],sE=Gd.toLowerCase(),oE=Gd[0].toUpperCase()+Gd.slice(1);Sn(sE,"on"+oE)}Sn(Oe,"onAnimationEnd"),Sn(Xe,"onAnimationIteration"),Sn(Bt,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(Wt,"onTransitionRun"),Sn(Ot,"onTransitionStart"),Sn(qt,"onTransitionCancel"),Sn(rn,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function _v(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var I=o[T],X=I.instance,ce=I.currentTarget;if(I=I.listener,X!==m&&h.isPropagationStopped())break e;m=I,h.currentTarget=ce;try{m(h)}catch(we){zi(we)}h.currentTarget=null,m=X}else for(T=0;T<o.length;T++){if(I=o[T],X=I.instance,ce=I.currentTarget,I=I.listener,X!==m&&h.isPropagationStopped())break e;m=I,h.currentTarget=ce;try{m(h)}catch(we){zi(we)}h.currentTarget=null,m=X}}}}function Yt(t,n){var s=n[ur];s===void 0&&(s=n[ur]=new Set);var o=t+"__bubble";s.has(o)||(bv(n,t,2,!1),s.add(o))}function Yd(t,n,s){var o=0;n&&(o|=4),bv(s,t,o,n)}var th="_reactListening"+Math.random().toString(36).slice(2);function Xd(t){if(!t[th]){t[th]=!0,ua.forEach(function(s){s!=="selectionchange"&&(lE.has(s)||Yd(s,!1,t),Yd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[th]||(n[th]=!0,Yd("selectionchange",!1,n))}}function bv(t,n,s,o){switch(Wv(n)){case 2:var h=PE;break;case 8:h=LE;break;default:h=lm}s=h.bind(null,n,s,t),h=void 0,!be||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function Qd(t,n,s,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var I=o.stateNode.containerInfo;if(I===h)break;if(T===4)for(T=o.return;T!==null;){var X=T.tag;if((X===3||X===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;I!==null;){if(T=ki(I),T===null)return;if(X=T.tag,X===5||X===6||X===26||X===27){o=m=T;continue e}I=I.parentNode}}o=o.return}oe(function(){var ce=m,we=Li(s),Se=[];e:{var fe=cn.get(t);if(fe!==void 0){var ge=Ei,ot=t;switch(t){case"keypress":if(ct(s)===0)break e;case"keydown":case"keyup":ge=To;break;case"focusin":ot="focus",ge=Sa;break;case"focusout":ot="blur",ge=Sa;break;case"beforeblur":case"afterblur":ge=Sa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Wo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=y;break;case Oe:case Xe:case Bt:ge=Ko;break;case rn:ge=V;break;case"scroll":case"scrollend":ge=Eo;break;case"wheel":ge=pe;break;case"copy":case"cut":case"paste":ge=Qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ma;break;case"toggle":case"beforetoggle":ge=Rt}var _t=(n&4)!==0,Vn=!_t&&(t==="scroll"||t==="scrollend"),ne=_t?fe!==null?fe+"Capture":null:fe;_t=[];for(var K=ce,le;K!==null;){var Ee=K;if(le=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||le===null||ne===null||(Ee=ve(K,ne),Ee!=null&&_t.push(Iu(K,Ee,le))),Vn)break;K=K.return}0<_t.length&&(fe=new ge(fe,ot,null,s,we),Se.push({event:fe,listeners:_t}))}}if((n&7)===0){e:{if(fe=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",fe&&s!==fa&&(ot=s.relatedTarget||s.fromElement)&&(ki(ot)||ot[Di]))break e;if((ge||fe)&&(fe=we.window===we?we:(fe=we.ownerDocument)?fe.defaultView||fe.parentWindow:window,ge?(ot=s.relatedTarget||s.toElement,ge=ce,ot=ot?ki(ot):null,ot!==null&&(Vn=c(ot),_t=ot.tag,ot!==Vn||_t!==5&&_t!==27&&_t!==6)&&(ot=null)):(ge=null,ot=ce),ge!==ot)){if(_t=Rs,Ee="onMouseLeave",ne="onMouseEnter",K="mouse",(t==="pointerout"||t==="pointerover")&&(_t=ma,Ee="onPointerLeave",ne="onPointerEnter",K="pointer"),Vn=ge==null?fe:fi(ge),le=ot==null?fe:fi(ot),fe=new _t(Ee,K+"leave",ge,s,we),fe.target=Vn,fe.relatedTarget=le,Ee=null,ki(we)===ce&&(_t=new _t(ne,K+"enter",ot,s,we),_t.target=le,_t.relatedTarget=Vn,Ee=_t),Vn=Ee,ge&&ot)t:{for(_t=uE,ne=ge,K=ot,le=0,Ee=ne;Ee;Ee=_t(Ee))le++;Ee=0;for(var gt=K;gt;gt=_t(gt))Ee++;for(;0<le-Ee;)ne=_t(ne),le--;for(;0<Ee-le;)K=_t(K),Ee--;for(;le--;){if(ne===K||K!==null&&ne===K.alternate){_t=ne;break t}ne=_t(ne),K=_t(K)}_t=null}else _t=null;ge!==null&&wv(Se,fe,ge,_t,!1),ot!==null&&Vn!==null&&wv(Se,Vn,ot,_t,!0)}}e:{if(fe=ce?fi(ce):window,ge=fe.nodeName&&fe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&fe.type==="file")var mn=nu;else if(tu(fe))if(iu)mn=Z;else{mn=N;var ht=S}else ge=fe.nodeName,!ge||ge.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ce&&ha(ce.elementType)&&(mn=nu):mn=U;if(mn&&(mn=mn(t,ce))){qn(Se,mn,s,we);break e}ht&&ht(t,fe,ce),t==="focusout"&&ce&&fe.type==="number"&&ce.memoizedProps.value!=null&&Ta(fe,"number",fe.value)}switch(ht=ce?fi(ce):window,t){case"focusin":(tu(ht)||ht.contentEditable==="true")&&(Be=ht,dn=ce,Ze=null);break;case"focusout":Ze=dn=Be=null;break;case"mousedown":zt=!0;break;case"contextmenu":case"mouseup":case"dragend":zt=!1,An(Se,s,we);break;case"selectionchange":if(it)break;case"keydown":case"keyup":An(Se,s,we)}var jt;if(un)e:{switch(t){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Ka?Qr(t,s)&&($t="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&($t="onCompositionStart");$t&&(Tr&&s.locale!=="ko"&&(Ka||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Ka&&(jt=He()):(Ye=we,Pe="value"in Ye?Ye.value:Ye.textContent,Ka=!0)),ht=nh(ce,$t),0<ht.length&&($t=new Vr($t,t,null,s,we),Se.push({event:$t,listeners:ht}),jt?$t.data=jt:(jt=Wa(s),jt!==null&&($t.data=jt)))),(jt=Zi?Rf(t,s):yc(t,s))&&($t=nh(ce,"onBeforeInput"),0<$t.length&&(ht=new Vr("onBeforeInput","beforeinput",null,s,we),Se.push({event:ht,listeners:$t}),ht.data=jt)),aE(Se,t,ce,s,we)}_v(Se,n)})}function Iu(t,n,s){return{instance:t,listener:n,currentTarget:s}}function nh(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ve(t,s),h!=null&&o.unshift(Iu(t,h,m)),h=ve(t,n),h!=null&&o.push(Iu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function uE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wv(t,n,s,o,h){for(var m=n._reactName,T=[];s!==null&&s!==o;){var I=s,X=I.alternate,ce=I.stateNode;if(I=I.tag,X!==null&&X===o)break;I!==5&&I!==26&&I!==27||ce===null||(X=ce,h?(ce=ve(s,m),ce!=null&&T.unshift(Iu(s,ce,X))):h||(ce=ve(s,m),ce!=null&&T.push(Iu(s,ce,X)))),s=s.return}T.length!==0&&t.push({event:n,listeners:T})}var cE=/\r\n?/g,hE=/\u0000|\uFFFD/g;function Ev(t){return(typeof t=="string"?t:""+t).replace(cE,`
`).replace(hE,"")}function Tv(t,n){return n=Ev(n),Ev(t)===n}function kn(t,n,s,o,h,m){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Zn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Zn(t,""+o);break;case"className":Ri(t,"class",o);break;case"tabIndex":Ri(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(t,s,o);break;case"style":si(t,o,m);break;case"data":if(n!=="object"){Ri(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Xr(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&kn(t,n,"name",h.name,h,null),kn(t,n,"formEncType",h.formEncType,h,null),kn(t,n,"formMethod",h.formMethod,h,null),kn(t,n,"formTarget",h.formTarget,h,null)):(kn(t,n,"encType",h.encType,h,null),kn(t,n,"method",h.method,h,null),kn(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Xr(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ei);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Xr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Yt("beforetoggle",t),Yt("toggle",t),wr(t,"popover",o);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Or.get(s)||s,wr(t,s,o))}}function Wd(t,n,s,o,h,m){switch(s){case"style":si(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Zn(t,o):(typeof o=="number"||typeof o=="bigint")&&Zn(t,""+o);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ci.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),m=t[_n]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):wr(t,s,o)}}}function qi(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",t),Yt("load",t);var o=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var T=s[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:kn(t,n,m,T,s,null)}}h&&kn(t,n,"srcSet",s.srcSet,s,null),o&&kn(t,n,"src",s.src,s,null);return;case"input":Yt("invalid",t);var I=m=T=h=null,X=null,ce=null;for(o in s)if(s.hasOwnProperty(o)){var we=s[o];if(we!=null)switch(o){case"name":h=we;break;case"type":T=we;break;case"checked":X=we;break;case"defaultChecked":ce=we;break;case"value":m=we;break;case"defaultValue":I=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(a(137,n));break;default:kn(t,n,o,we,s,null)}}qa(t,m,I,X,ce,T,h,!1);return;case"select":Yt("invalid",t),o=T=m=null;for(h in s)if(s.hasOwnProperty(h)&&(I=s[h],I!=null))switch(h){case"value":m=I;break;case"defaultValue":T=I;break;case"multiple":o=I;default:kn(t,n,h,I,s,null)}n=m,s=T,t.multiple=!!o,n!=null?fn(t,!!o,n,!1):s!=null&&fn(t,!!o,s,!0);return;case"textarea":Yt("invalid",t),m=h=o=null;for(T in s)if(s.hasOwnProperty(T)&&(I=s[T],I!=null))switch(T){case"value":o=I;break;case"defaultValue":h=I;break;case"children":m=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:kn(t,n,T,I,s,null)}Er(t,o,h,m);return;case"option":for(X in s)if(s.hasOwnProperty(X)&&(o=s[X],o!=null))switch(X){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:kn(t,n,X,o,s,null)}return;case"dialog":Yt("beforetoggle",t),Yt("toggle",t),Yt("cancel",t),Yt("close",t);break;case"iframe":case"object":Yt("load",t);break;case"video":case"audio":for(o=0;o<xu.length;o++)Yt(xu[o],t);break;case"image":Yt("error",t),Yt("load",t);break;case"details":Yt("toggle",t);break;case"embed":case"source":case"link":Yt("error",t),Yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in s)if(s.hasOwnProperty(ce)&&(o=s[ce],o!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:kn(t,n,ce,o,s,null)}return;default:if(ha(n)){for(we in s)s.hasOwnProperty(we)&&(o=s[we],o!==void 0&&Wd(t,n,we,o,s,void 0));return}}for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null&&kn(t,n,I,o,s,null))}function fE(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,I=null,X=null,ce=null,we=null;for(ge in s){var Se=s[ge];if(s.hasOwnProperty(ge)&&Se!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":X=Se;default:o.hasOwnProperty(ge)||kn(t,n,ge,null,o,Se)}}for(var fe in o){var ge=o[fe];if(Se=s[fe],o.hasOwnProperty(fe)&&(ge!=null||Se!=null))switch(fe){case"type":m=ge;break;case"name":h=ge;break;case"checked":ce=ge;break;case"defaultChecked":we=ge;break;case"value":T=ge;break;case"defaultValue":I=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(137,n));break;default:ge!==Se&&kn(t,n,fe,ge,o,Se)}}Yr(t,T,I,X,ce,we,m,h);return;case"select":ge=T=I=fe=null;for(m in s)if(X=s[m],s.hasOwnProperty(m)&&X!=null)switch(m){case"value":break;case"multiple":ge=X;default:o.hasOwnProperty(m)||kn(t,n,m,null,o,X)}for(h in o)if(m=o[h],X=s[h],o.hasOwnProperty(h)&&(m!=null||X!=null))switch(h){case"value":fe=m;break;case"defaultValue":I=m;break;case"multiple":T=m;default:m!==X&&kn(t,n,h,m,o,X)}n=I,s=T,o=ge,fe!=null?fn(t,!!s,fe,!1):!!o!=!!s&&(n!=null?fn(t,!!s,n,!0):fn(t,!!s,s?[]:"",!1));return;case"textarea":ge=fe=null;for(I in s)if(h=s[I],s.hasOwnProperty(I)&&h!=null&&!o.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:kn(t,n,I,null,o,h)}for(T in o)if(h=o[T],m=s[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":fe=h;break;case"defaultValue":ge=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&kn(t,n,T,h,o,m)}Dr(t,fe,ge);return;case"option":for(var ot in s)if(fe=s[ot],s.hasOwnProperty(ot)&&fe!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:kn(t,n,ot,null,o,fe)}for(X in o)if(fe=o[X],ge=s[X],o.hasOwnProperty(X)&&fe!==ge&&(fe!=null||ge!=null))switch(X){case"selected":t.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:kn(t,n,X,fe,o,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)fe=s[_t],s.hasOwnProperty(_t)&&fe!=null&&!o.hasOwnProperty(_t)&&kn(t,n,_t,null,o,fe);for(ce in o)if(fe=o[ce],ge=s[ce],o.hasOwnProperty(ce)&&fe!==ge&&(fe!=null||ge!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(137,n));break;default:kn(t,n,ce,fe,o,ge)}return;default:if(ha(n)){for(var Vn in s)fe=s[Vn],s.hasOwnProperty(Vn)&&fe!==void 0&&!o.hasOwnProperty(Vn)&&Wd(t,n,Vn,void 0,o,fe);for(we in o)fe=o[we],ge=s[we],!o.hasOwnProperty(we)||fe===ge||fe===void 0&&ge===void 0||Wd(t,n,we,fe,o,ge);return}}for(var ne in s)fe=s[ne],s.hasOwnProperty(ne)&&fe!=null&&!o.hasOwnProperty(ne)&&kn(t,n,ne,null,o,fe);for(Se in o)fe=o[Se],ge=s[Se],!o.hasOwnProperty(Se)||fe===ge||fe==null&&ge==null||kn(t,n,Se,fe,o,ge)}function Av(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],m=h.transferSize,T=h.initiatorType,I=h.duration;if(m&&I&&Av(T)){for(T=0,I=h.responseEnd,o+=1;o<s.length;o++){var X=s[o],ce=X.startTime;if(ce>I)break;var we=X.transferSize,Se=X.initiatorType;we&&Av(Se)&&(X=X.responseEnd,T+=we*(X<I?1:(I-ce)/(X-ce)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,$d=null;function ih(t){return t.nodeType===9?t:t.ownerDocument}function Sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zd=null;function mE(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,pE=typeof clearTimeout=="function"?clearTimeout:void 0,xv=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof xv<"u"?function(t){return xv.resolve(null).then(t).catch(yE)}:Rv;function yE(t){setTimeout(function(){throw t})}function Qs(t){return t==="head"}function Iv(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Cl(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Mu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Mu(s);for(var m=s.firstChild;m;){var T=m.nextSibling,I=m.nodeName;m[cr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=T}}else s==="body"&&Mu(t.ownerDocument.body);s=h}while(s);Cl(n)}function Mv(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function em(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":em(s),Oi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function vE(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[cr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ea(t.nextSibling),t===null)break}return null}function _E(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ea(t.nextSibling),t===null))return null;return t}function Nv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ea(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bE(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ea(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var im=null;function Dv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ea(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Ov(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function kv(t,n,s){switch(n=ih(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Mu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Oi(t)}var ta=new Map,Vv=new Set;function rh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ms=J.d;J.d={f:wE,r:EE,D:TE,C:AE,L:SE,m:CE,X:xE,S:RE,M:IE};function wE(){var t=ms.f(),n=Wc();return t||n}function EE(t){var n=ln(t);n!==null&&n.tag===5&&n.type==="form"?Jg(n):ms.r(t)}var Tl=typeof document>"u"?null:document;function Pv(t,n,s){var o=Tl;if(o&&typeof n=="string"&&n){var h=Nn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Vv.has(h)||(Vv.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),qi(n,"link",t),Hn(n),o.head.appendChild(n)))}}function TE(t){ms.D(t),Pv("dns-prefetch",t,null)}function AE(t,n){ms.C(t,n),Pv("preconnect",t,n)}function SE(t,n,s){ms.L(t,n,s);var o=Tl;if(o&&t&&n){var h='link[rel="preload"][as="'+Nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Nn(s.imageSizes)+'"]')):h+='[href="'+Nn(t)+'"]';var m=h;switch(n){case"style":m=Al(t);break;case"script":m=Sl(t)}ta.has(m)||(t=O({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ta.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Nu(m))||n==="script"&&o.querySelector(Du(m))||(n=o.createElement("link"),qi(n,"link",t),Hn(n),o.head.appendChild(n)))}}function CE(t,n){ms.m(t,n);var s=Tl;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Nn(o)+'"][href="'+Nn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Sl(t)}if(!ta.has(m)&&(t=O({rel:"modulepreload",href:t},n),ta.set(m,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Du(m)))return}o=s.createElement("link"),qi(o,"link",t),Hn(o),s.head.appendChild(o)}}}function RE(t,n,s){ms.S(t,n,s);var o=Tl;if(o&&t){var h=Vi(o).hoistableStyles,m=Al(t);n=n||"default";var T=h.get(m);if(!T){var I={loading:0,preload:null};if(T=o.querySelector(Nu(m)))I.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ta.get(m))&&rm(t,s);var X=T=o.createElement("link");Hn(X),qi(X,"link",t),X._p=new Promise(function(ce,we){X.onload=ce,X.onerror=we}),X.addEventListener("load",function(){I.loading|=1}),X.addEventListener("error",function(){I.loading|=2}),I.loading|=4,ah(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:I},h.set(m,T)}}}function xE(t,n){ms.X(t,n);var s=Tl;if(s&&t){var o=Vi(s).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=s.querySelector(Du(h)),m||(t=O({src:t,async:!0},n),(n=ta.get(h))&&am(t,n),m=s.createElement("script"),Hn(m),qi(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function IE(t,n){ms.M(t,n);var s=Tl;if(s&&t){var o=Vi(s).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=s.querySelector(Du(h)),m||(t=O({src:t,async:!0,type:"module"},n),(n=ta.get(h))&&am(t,n),m=s.createElement("script"),Hn(m),qi(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Lv(t,n,s,o){var h=(h=We.current)?rh(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Al(s.href),s=Vi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Al(s.href);var m=Vi(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Nu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),ta.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ta.set(t,s),m||ME(h,t,s,T.state))),n&&o===null)throw Error(a(528,""));return T}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(s),s=Vi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Al(t){return'href="'+Nn(t)+'"'}function Nu(t){return'link[rel="stylesheet"]['+t+"]"}function jv(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function ME(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qi(n,"link",s),Hn(n),t.head.appendChild(n))}function Sl(t){return'[src="'+Nn(t)+'"]'}function Du(t){return"script[async]"+t}function Uv(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Nn(s.href)+'"]');if(o)return n.instance=o,Hn(o),o;var h=O({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Hn(o),qi(o,"style",h),ah(o,s.precedence,t),n.instance=o;case"stylesheet":h=Al(s.href);var m=t.querySelector(Nu(h));if(m)return n.state.loading|=4,n.instance=m,Hn(m),m;o=jv(s),(h=ta.get(h))&&rm(o,h),m=(t.ownerDocument||t).createElement("link"),Hn(m);var T=m;return T._p=new Promise(function(I,X){T.onload=I,T.onerror=X}),qi(m,"link",o),n.state.loading|=4,ah(m,s.precedence,t),n.instance=m;case"script":return m=Sl(s.src),(h=t.querySelector(Du(m)))?(n.instance=h,Hn(h),h):(o=s,(h=ta.get(m))&&(o=O({},s),am(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Hn(h),qi(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ah(o,s.precedence,t));return n.instance}function ah(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var I=o[T];if(I.dataset.precedence===n)m=I;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function rm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function am(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var sh=null;function zv(t,n,s){if(sh===null){var o=new Map,h=sh=new Map;h.set(s,o)}else h=sh,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var m=s[h];if(!(m[cr]||m[vn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var I=o.get(T);I?I.push(m):o.set(T,[m])}}return o}function Bv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function NE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function DE(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Al(o.href),m=n.querySelector(Nu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=oh.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=m,Hn(m);return}m=n.ownerDocument||n,o=jv(o),(h=ta.get(h))&&rm(o,h),m=m.createElement("link"),Hn(m);var T=m;T._p=new Promise(function(I,X){T.onload=I,T.onerror=X}),qi(m,"link",o),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=oh.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var sm=0;function OE(t,n){return t.stylesheets&&t.count===0&&uh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&uh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&sm===0&&(sm=62500*dE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&uh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>sm?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lh=null;function uh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lh=new Map,n.forEach(kE,t),lh=null,oh.call(t))}function kE(t,n){if(!(n.state.loading&4)){var s=lh.get(t);if(s)var o=s.get(null);else{s=new Map,lh.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),o=T)}o&&s.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=s.get(T)||o,m===o&&s.set(null,h),s.set(T,h),this.count++,o=oh.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ou={$$typeof:Le,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function VE(t,n,s,o,h,m,T,I,X){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zn(0),this.hiddenUpdates=zn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Hv(t,n,s,o,h,m,T,I,X,ce,we,Se){return t=new VE(t,n,s,T,X,ce,we,Se,I),n=1,m===!0&&(n|=24),m=er(3,null,null,n),t.current=m,m.stateNode=t,n=Uf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:n},Hf(m),t}function qv(t){return t?(t=Lr,t):Lr}function Gv(t,n,s,o,h,m){h=qv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=js(t,o,n),s!==null&&(Mr(s,t,n),hu(s,t,n))}function Yv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function om(t,n){Yv(t,n),(t=t.alternate)&&Yv(t,n)}function Xv(t){if(t.tag===13||t.tag===31){var n=yr(t,67108864);n!==null&&Mr(n,t,67108864),om(t,67108864)}}function Qv(t){if(t.tag===13||t.tag===31){var n=Fr();n=qr(n);var s=yr(t,n);s!==null&&Mr(s,t,n),om(t,n)}}var ch=!0;function PE(t,n,s,o){var h=q.T;q.T=null;var m=J.p;try{J.p=2,lm(t,n,s,o)}finally{J.p=m,q.T=h}}function LE(t,n,s,o){var h=q.T;q.T=null;var m=J.p;try{J.p=8,lm(t,n,s,o)}finally{J.p=m,q.T=h}}function lm(t,n,s,o){if(ch){var h=um(o);if(h===null)Qd(t,n,o,hh,s),Kv(t,o);else if(UE(h,t,n,s,o))o.stopPropagation();else if(Kv(t,o),n&4&&-1<jE.indexOf(t)){for(;h!==null;){var m=ln(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Un(m.pendingLanes);if(T!==0){var I=m;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var X=1<<31-$e(T);I.entanglements[1]|=X,T&=~X}Da(m),(wn&6)===0&&(Xc=tn()+500,Ru(0))}}break;case 31:case 13:I=yr(m,2),I!==null&&Mr(I,m,2),Wc(),om(m,2)}if(m=um(o),m===null&&Qd(t,n,o,hh,s),m===h)break;h=m}h!==null&&o.stopPropagation()}else Qd(t,n,o,null,s)}}function um(t){return t=Li(t),cm(t)}var hh=null;function cm(t){if(hh=null,t=ki(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=p(n),t!==null)return t;t=null}else if(s===31){if(t=b(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return hh=t,null}function Wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pn()){case C:return 2;case g:return 8;case v:case k:return 32;case W:return 268435456;default:return 32}default:return 32}}var hm=!1,Ws=null,Ks=null,$s=null,ku=new Map,Vu=new Map,Js=[],jE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":ku.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(n.pointerId)}}function Pu(t,n,s,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=ln(n),n!==null&&Xv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function UE(t,n,s,o,h){switch(n){case"focusin":return Ws=Pu(Ws,t,n,s,o,h),!0;case"dragenter":return Ks=Pu(Ks,t,n,s,o,h),!0;case"mouseover":return $s=Pu($s,t,n,s,o,h),!0;case"pointerover":var m=h.pointerId;return ku.set(m,Pu(ku.get(m)||null,t,n,s,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Vu.set(m,Pu(Vu.get(m)||null,t,n,s,o,h)),!0}return!1}function $v(t){var n=ki(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){Qv(s)});return}}else if(n===31){if(n=b(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){Qv(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fh(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=um(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);fa=o,s.target.dispatchEvent(o),fa=null}else return n=ln(s),n!==null&&Xv(n),t.blockedOn=s,!1;n.shift()}return!0}function Jv(t,n,s){fh(t)&&s.delete(n)}function zE(){hm=!1,Ws!==null&&fh(Ws)&&(Ws=null),Ks!==null&&fh(Ks)&&(Ks=null),$s!==null&&fh($s)&&($s=null),ku.forEach(Jv),Vu.forEach(Jv)}function dh(t,n){t.blockedOn===n&&(t.blockedOn=null,hm||(hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zE)))}var mh=null;function Zv(t){mh!==t&&(mh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mh===t&&(mh=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(cm(o||s)===null)continue;break}var m=ln(s);m!==null&&(t.splice(n,3),n-=3,ud(m,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Cl(t){function n(X){return dh(X,t)}Ws!==null&&dh(Ws,t),Ks!==null&&dh(Ks,t),$s!==null&&dh($s,t),ku.forEach(n),Vu.forEach(n);for(var s=0;s<Js.length;s++){var o=Js[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Js.length&&(s=Js[0],s.blockedOn===null);)$v(s),s.blockedOn===null&&Js.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],m=s[o+1],T=h[_n]||null;if(typeof m=="function")T||Zv(s);else if(T){var I=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[_n]||null)I=T.formAction;else if(cm(h)!==null)continue}else I=T.action;typeof I=="function"?s[o+1]=I:(s.splice(o,3),o-=3),Zv(s)}}}function e0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function fm(t){this._internalRoot=t}ph.prototype.render=fm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Fr();Gv(s,o,t,n,null,null)},ph.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gv(t.current,2,null,t,null,null),Wc(),n[Di]=null}};function ph(t){this._internalRoot=t}ph.prototype.unstable_scheduleHydration=function(t){if(t){var n=oa();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Js.length&&n!==0&&n<Js[s].priority;s++);Js.splice(s,0,t),s===0&&$v(t)}};var t0=e.version;if(t0!=="19.2.0")throw Error(a(527,t0,"19.2.0"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=E(n),t=t!==null?M(t):null,t=t===null?null:t.stateNode,t};var BE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{Ke=gh.inject(BE),tt=gh}catch{}}return ju.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=ly,m=uy,T=cy;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Hv(t,1,!1,null,null,s,o,null,h,m,T,e0),t[Di]=n.current,Xd(t),new fm(n)},ju.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",m=ly,T=uy,I=cy,X=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError),s.formState!==void 0&&(X=s.formState)),n=Hv(t,1,!0,n,s??null,o,h,X,m,T,I,e0),n.context=qv(null),s=n.current,o=Fr(),o=qr(o),h=Ls(o),h.callback=null,js(s,h,o),s=o,n.current.lanes=s,Tt(n,s),Da(n),t[Di]=n.current,Xd(t),new ph(n)},ju.version="19.2.0",ju}var h0;function $E(){if(h0)return pm.exports;h0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=KE(),pm.exports}var JE=$E();const ZE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),f0=r=>{const e=eT(r);return e.charAt(0).toUpperCase()+e.slice(1)},Z_=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),tT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var nT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iT=qe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:p,...b},w)=>qe.createElement("svg",{ref:w,...nT,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:Z_("lucide",l),...!c&&!tT(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,M])=>qe.createElement(E,M)),...Array.isArray(c)?c:[c]]));const En=(r,e)=>{const i=qe.forwardRef(({className:a,...l},c)=>qe.createElement(iT,{ref:c,iconNode:e,className:Z_(`lucide-${ZE(f0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=f0(r),i};const rT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],aT=En("arrow-down-a-z",rT);const sT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],d0=En("arrow-left",sT);const oT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lT=En("book-open",oT);const uT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],cT=En("check-check",uT);const hT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fT=En("check",hT);const dT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mT=En("chevron-left",dT);const pT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gT=En("chevron-right",pT);const yT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vT=En("circle-alert",yT);const _T=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jm=En("crown",_T);const bT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],wT=En("download",bT);const ET=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TT=En("eye",ET);const AT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ST=En("heart",AT);const CT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],RT=En("info",CT);const xT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],IT=En("log-out",xT);const MT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],NT=En("mail",MT);const DT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],OT=En("moon",DT);const kT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],VT=En("play",kT);const PT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],LT=En("rotate-ccw",PT);const jT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],UT=En("ruler",jT);const zT=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],m0=En("scroll-text",zT);const BT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FT=En("settings",BT);const HT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],qT=En("share-2",HT);const GT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],YT=En("shuffle",GT);const XT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],yh=En("sparkles",XT);const QT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_m=En("star",QT);const WT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],KT=En("sun",WT);const $T=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],p0=En("trophy",$T);const JT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ZT=En("volume-2",JT);const eA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],tA=En("volume-x",eA);const nA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bm=En("x",nA);const iA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],g0=En("zap",iA);var wm={},Sh={exports:{}},rA=Sh.exports,y0;function aA(){return y0||(y0=1,(function(r,e){(function(a,l){r.exports=l()})(rA,()=>(()=>{var i=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>M});var E=(()=>{var O=typeof document<"u"?document.currentScript?.src:void 0;return(function(G={}){var re,z=G,Ve,Ae,ze=new Promise((f,d)=>{Ve=f,Ae=d}),H=typeof window=="object",Le=typeof importScripts=="function";function nt(){function f(Z){const ee=S;_=d=0,S=new Map,ee.forEach(he=>{try{he(Z)}catch(ue){console.error(ue)}}),this.nb(),N&&N.Pb()}let d=0,_=0,S=new Map,N=null,U=null;this.requestAnimationFrame=function(Z){d||=requestAnimationFrame(f.bind(this));const ee=++_;return S.set(ee,Z),ee},this.cancelAnimationFrame=function(Z){S.delete(Z),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(Z){U&&(document.body.remove(U),U=null),Z||(U=document.createElement("div"),U.style.backgroundColor="black",U.style.position="fixed",U.style.right=0,U.style.top=0,U.style.color="white",U.style.padding="4px",U.innerHTML="RIVE FPS",Z=function(ee){U.innerHTML="RIVE FPS "+ee.toFixed(1)},document.body.appendChild(U)),N=new function(){let ee=0,he=0;this.Pb=function(){var ue=performance.now();he?(++ee,ue-=he,1e3<ue&&(Z(1e3*ee/ue),ee=he=0)):(he=ue,ee=0)}}},this.Kb=function(){U&&(document.body.remove(U),U=null),N=null},this.nb=function(){}}function lt(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const at=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){at&&at();let f=z.decodeAudio;z.decodeAudio=function(N,U){N=f(N),U(N)};let d=z.decodeFont;z.decodeFont=function(N,U){N=d(N),U(N)};const _=z.FileAssetLoader;z.ptrToAsset=N=>{let U=z.ptrToFileAsset(N);return U.isImage?z.ptrToImageAsset(N):U.isFont?z.ptrToFontAsset(N):U.isAudio?z.ptrToAudioAsset(N):U},z.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:N}){this.__parent.__construct.call(this),this.Db=N},loadContents:function(N,U){return N=z.ptrToAsset(N),this.Db(N,U)}}),z.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(N){let U=z.ptrToAsset(N);return N=U.cdnUuid,N===""?!1:((function(Z,ee){var he=new XMLHttpRequest;he.responseType="arraybuffer",he.onreadystatechange=function(){he.readyState==4&&he.status==200&&ee(he)},he.open("GET",Z,!0),he.send(null)})(U.cdnBaseUrl+"/"+N,Z=>{U.decode(new Uint8Array(Z.response))}),!0)}}),z.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(N){this.jb.push(N)},loadContents:function(N,U){for(let Z of this.jb)if(Z.loadContents(N,U))return!0;return!1}});let S=z.computeAlignment;z.computeAlignment=function(N,U,Z,ee,he=1){return S.call(this,N,U,Z,ee,he)}};const Y="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),B=new function(){function f(){if(!d){let dn=function(Ze,zt,An){if(zt=Be.createShader(zt),Be.shaderSource(zt,An),Be.compileShader(zt),An=Be.getShaderInfoLog(zt),0<(An||"").length)throw An;Be.attachShader(Ze,zt)};var it=dn,te=document.createElement("canvas"),Ue={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let Be;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(Be=te.getContext("webgl",Ue),_=1,!Be)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(Be=te.getContext("webgl2",Ue))_=2;else if(Be=te.getContext("webgl",Ue))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(Be=new Proxy(Be,{get(Ze,zt){if(Ze.isContextLost()){if(he||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",zt),he=!0),typeof Ze[zt]=="function")return function(){}}else return typeof Ze[zt]=="function"?function(...An){return Ze[zt].apply(Ze,An)}:Ze[zt]},set(Ze,zt,An){if(Ze.isContextLost())he||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+zt),he=!0);else return Ze[zt]=An,!0}}),S=Math.min(Be.getParameter(Be.MAX_RENDERBUFFER_SIZE),Be.getParameter(Be.MAX_TEXTURE_SIZE)),te=Be.createProgram(),dn(te,Be.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),dn(te,Be.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),Be.bindAttribLocation(te,0,"vertex"),Be.bindAttribLocation(te,1,"uv"),Be.linkProgram(te),Ue=Be.getProgramInfoLog(te),0<(Ue||"").trim().length)throw Ue;N=Be.getUniformLocation(te,"mat"),U=Be.getUniformLocation(te,"translate"),Be.useProgram(te),Be.bindBuffer(Be.ARRAY_BUFFER,Be.createBuffer()),Be.enableVertexAttribArray(0),Be.enableVertexAttribArray(1),Be.bindBuffer(Be.ELEMENT_ARRAY_BUFFER,Be.createBuffer()),Be.uniform1i(Be.getUniformLocation(te,"image"),0),Be.pixelStorei(Be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=Be}return!0}let d=null,_=0,S=0,N=null,U=null,Z=0,ee=0,he=!1;f(),this.ac=function(){return f(),S},this.Jb=function(te){d.deleteTexture&&d.deleteTexture(te)},this.Ib=function(te){if(!f())return null;const Ue=d.createTexture();return Ue?(d.bindTexture(d.TEXTURE_2D,Ue),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,te),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),Ue):null};const ue=new lt(8),ke=new lt(8),Je=new lt(10),st=new lt(10);this.Mb=function(te,Ue,it,Be,dn){if(f()){var Ze=ue.push(te),zt=ke.push(Ue);if(d.canvas){(d.canvas.width!=Ze||d.canvas.height!=zt)&&(d.canvas.width=Ze,d.canvas.height=zt),d.viewport(0,zt-Ue,te,Ue),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),it.sort((Ht,Pr)=>Pr.ub-Ht.ub),Ze=Je.push(Be),Z!=Ze&&(d.bufferData(d.ARRAY_BUFFER,8*Ze,d.DYNAMIC_DRAW),Z=Ze),Ze=0;for(var An of it)d.bufferSubData(d.ARRAY_BUFFER,Ze,An.Sa),Ze+=4*An.Sa.length;console.assert(Ze==4*Be);for(var li of it)d.bufferSubData(d.ARRAY_BUFFER,Ze,li.Ab),Ze+=4*li.Ab.length;console.assert(Ze==8*Be),Ze=st.push(dn),ee!=Ze&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Ze,d.DYNAMIC_DRAW),ee=Ze),An=0;for(var Sr of it)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,An,Sr.indices),An+=2*Sr.indices.length;console.assert(An==2*dn),Sr=0,li=!0,Ze=An=0;for(const Ht of it){Ht.image.Ia!=Sr&&(d.bindTexture(d.TEXTURE_2D,Ht.image.Ha||null),Sr=Ht.image.Ia),Ht.fc?(d.scissor(Ht.Ya,zt-Ht.Za-Ht.ib,Ht.tc,Ht.ib),li=!0):li&&(d.scissor(0,zt-Ue,te,Ue),li=!1),it=2/te;const Pr=-2/Ue;d.uniform4f(N,Ht.ga[0]*it*Ht.za,Ht.ga[1]*Pr*Ht.Aa,Ht.ga[2]*it*Ht.za,Ht.ga[3]*Pr*Ht.Aa),d.uniform2f(U,Ht.ga[4]*it*Ht.za+it*(Ht.Ya-Ht.bc*Ht.za)-1,Ht.ga[5]*Pr*Ht.Aa+Pr*(Ht.Za-Ht.cc*Ht.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Ze),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Ze+4*Be),d.drawElements(d.TRIANGLES,Ht.indices.length,d.UNSIGNED_SHORT,An),Ze+=4*Ht.Sa.length,An+=2*Ht.indices.length}console.assert(Ze==4*Be),console.assert(An==2*dn)}}},this.canvas=function(){return f()&&d.canvas}},P=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){function f(Oe){switch(Oe){case ue.srcOver:return"source-over";case ue.screen:return"screen";case ue.overlay:return"overlay";case ue.darken:return"darken";case ue.lighten:return"lighten";case ue.colorDodge:return"color-dodge";case ue.colorBurn:return"color-burn";case ue.hardLight:return"hard-light";case ue.softLight:return"soft-light";case ue.difference:return"difference";case ue.exclusion:return"exclusion";case ue.multiply:return"multiply";case ue.hue:return"hue";case ue.saturation:return"saturation";case ue.color:return"color";case ue.luminosity:return"luminosity"}}function d(Oe){return"rgba("+((16711680&Oe)>>>16)+","+((65280&Oe)>>>8)+","+((255&Oe)>>>0)+","+((4278190080&Oe)>>>24)/255+")"}function _(){0<zt.length&&(B.Mb(Ze.drawWidth(),Ze.drawHeight(),zt,An,li),zt=[],li=An=0,Ze.reset(512,512));for(const Oe of dn){for(const Xe of Oe.H)Xe();Oe.H=[]}dn.clear()}P&&P();var S=z.RenderPaintStyle;const N=z.RenderPath,U=z.RenderPaint,Z=z.Renderer,ee=z.StrokeCap,he=z.StrokeJoin,ue=z.BlendMode,ke=S.fill,Je=S.stroke,st=z.FillRule.evenOdd;let te=1;var Ue=z.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:Oe,va:Xe}={}){this.__parent.__construct.call(this),this.Ia=te,te=te+1&2147483647||1,this.ka=Oe,this.va=Xe},__destruct:function(){this.Ha&&(B.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(Oe){var Xe=this;Xe.va&&Xe.va(Xe);var Bt=new Image;Xe.Va=URL.createObjectURL(new Blob([Oe],{type:"image/png"})),Bt.onload=function(){Xe.Cb=Bt,Xe.Ha=B.Ib(Bt),Xe.size(Bt.width,Bt.height),Xe.ka&&Xe.ka(Xe)},Bt.src=Xe.Va}}),it=N.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(Oe,Xe,Bt,Wt,Ot,qt,rn){var cn=this.T,gr=cn.addPath;Oe=Oe.T;const Sn=new DOMMatrix;Sn.a=Xe,Sn.b=Bt,Sn.c=Wt,Sn.d=Ot,Sn.e=qt,Sn.f=rn,gr.call(cn,Oe,Sn)},fillRule:function(Oe){this.Ua=Oe},moveTo:function(Oe,Xe){this.T.moveTo(Oe,Xe)},lineTo:function(Oe,Xe){this.T.lineTo(Oe,Xe)},cubicTo:function(Oe,Xe,Bt,Wt,Ot,qt){this.T.bezierCurveTo(Oe,Xe,Bt,Wt,Ot,qt)},close:function(){this.T.closePath()}}),Be=U.extend("CanvasRenderPaint",{color:function(Oe){this.Wa=d(Oe)},thickness:function(Oe){this.Fb=Oe},join:function(Oe){switch(Oe){case he.miter:this.Ga="miter";break;case he.round:this.Ga="round";break;case he.bevel:this.Ga="bevel"}},cap:function(Oe){switch(Oe){case ee.butt:this.Fa="butt";break;case ee.round:this.Fa="round";break;case ee.square:this.Fa="square"}},style:function(Oe){this.Eb=Oe},blendMode:function(Oe){this.Bb=f(Oe)},clearGradient:function(){this.ia=null},linearGradient:function(Oe,Xe,Bt,Wt){this.ia={wb:Oe,xb:Xe,bb:Bt,cb:Wt,Pa:[]}},radialGradient:function(Oe,Xe,Bt,Wt){this.ia={wb:Oe,xb:Xe,bb:Bt,cb:Wt,Pa:[],$b:!0}},addStop:function(Oe,Xe){this.ia.Pa.push({color:Oe,stop:Xe})},completeGradient:function(){},draw:function(Oe,Xe,Bt){let Wt=this.Eb;var Ot=this.Wa,qt=this.ia;if(Oe.globalCompositeOperation=this.Bb,qt!=null){Ot=qt.wb;var rn=qt.xb;const gr=qt.bb;var cn=qt.cb;const Sn=qt.Pa;qt.$b?(qt=gr-Ot,cn-=rn,Ot=Oe.createRadialGradient(Ot,rn,0,Ot,rn,Math.sqrt(qt*qt+cn*cn))):Ot=Oe.createLinearGradient(Ot,rn,gr,cn);for(let zi=0,bn=Sn.length;zi<bn;zi++)rn=Sn[zi],Ot.addColorStop(rn.stop,d(rn.color));this.Wa=Ot,this.ia=null}switch(Wt){case Je:Oe.strokeStyle=Ot,Oe.lineWidth=this.Fb,Oe.lineCap=this.Fa,Oe.lineJoin=this.Ga,Oe.stroke(Xe);break;case ke:Oe.fillStyle=Ot,Oe.fill(Xe,Bt)}}});const dn=new Set;let Ze=null,zt=[],An=0,li=0;var Sr=z.CanvasRenderer=Z.extend("Renderer",{__construct:function(Oe){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=Oe.getContext("2d"),this.Ta=Oe,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const Oe=this.S.length-6;if(6>Oe)throw"restore() called without matching save().";this.S.splice(Oe),this.H.push(this.B.restore.bind(this.B))},transform:function(Oe,Xe,Bt,Wt,Ot,qt){const rn=this.S,cn=rn.length-6;rn.splice(cn,6,rn[cn]*Oe+rn[cn+2]*Xe,rn[cn+1]*Oe+rn[cn+3]*Xe,rn[cn]*Bt+rn[cn+2]*Wt,rn[cn+1]*Bt+rn[cn+3]*Wt,rn[cn]*Ot+rn[cn+2]*qt+rn[cn+4],rn[cn+1]*Ot+rn[cn+3]*qt+rn[cn+5]),this.H.push(this.B.transform.bind(this.B,Oe,Xe,Bt,Wt,Ot,qt))},rotate:function(Oe){const Xe=Math.sin(Oe);Oe=Math.cos(Oe),this.transform(Oe,Xe,-Xe,Oe,0,0)},_drawPath:function(Oe,Xe){this.H.push(Xe.draw.bind(Xe,this.B,Oe.T,Oe.Ua===st?"evenodd":"nonzero"))},_drawRiveImage:function(Oe,Xe,Bt,Wt){var Ot=Oe.Cb;if(Ot){var qt=this.B,rn=f(Bt);this.H.push(function(){qt.globalCompositeOperation=rn,qt.globalAlpha=Wt,qt.drawImage(Ot,0,0),qt.globalAlpha=1})}},_getMatrix:function(Oe){const Xe=this.S,Bt=Xe.length-6;for(let Wt=0;6>Wt;++Wt)Oe[Wt]=Xe[Bt+Wt]},_drawImageMesh:function(Oe,Xe,Bt,Wt,Ot,qt,rn,cn,gr,Sn,zi){Xe=this.B.canvas.width;var bn=this.B.canvas.height;const Za=Sn-cn,nl=zi-gr;cn=Math.max(cn,0),gr=Math.max(gr,0),Sn=Math.min(Sn,Xe),zi=Math.min(zi,bn);const Ra=Sn-cn,xa=zi-gr;if(console.assert(Ra<=Math.min(Za,Xe)),console.assert(xa<=Math.min(nl,bn)),!(0>=Ra||0>=xa)){Sn=Ra<Za||xa<nl,Xe=zi=1;var pa=Math.ceil(Ra*zi),yr=Math.ceil(xa*Xe);bn=B.ac(),pa>bn&&(zi*=bn/pa,pa=bn),yr>bn&&(Xe*=bn/yr,yr=bn),Ze||(Ze=new z.DynamicRectanizer(bn),Ze.reset(512,512)),bn=Ze.addRect(pa,yr),0>bn&&(_(),dn.add(this),bn=Ze.addRect(pa,yr),console.assert(0<=bn));var ru=bn&65535,So=bn>>16;zt.push({ga:this.S.slice(this.S.length-6),image:Oe,Ya:ru,Za:So,bc:cn,cc:gr,tc:pa,ib:yr,za:zi,Aa:Xe,Sa:new Float32Array(Ot),Ab:new Float32Array(qt),indices:new Uint16Array(rn),fc:Sn,ub:Oe.Ia<<1|(Sn?1:0)}),An+=Ot.length,li+=rn.length;var Lr=this.B,xf=f(Bt);this.H.push(function(){Lr.save(),Lr.resetTransform(),Lr.globalCompositeOperation=xf,Lr.globalAlpha=Wt;const er=B.canvas();er&&Lr.drawImage(er,ru,So,pa,yr,cn,gr,Ra,xa),Lr.restore()})}},_clipPath:function(Oe){this.H.push(this.B.clip.bind(this.B,Oe.T,Oe.Ua===st?"evenodd":"nonzero"))},clear:function(){dn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(Oe,Xe){this.transform(1,0,0,1,Oe,Xe)}});z.makeRenderer=function(Oe){const Xe=new Sr(Oe),Bt=Xe.B;return new Proxy(Xe,{get(Wt,Ot){if(typeof Wt[Ot]=="function")return function(...qt){return Wt[Ot].apply(Wt,qt)};if(typeof Bt[Ot]=="function"){if(-1<Y.indexOf(Ot))throw Error("RiveException: Method call to '"+Ot+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...qt){Xe.H.push(Bt[Ot].bind(Bt,...qt))}}return Wt[Ot]},set(Wt,Ot,qt){if(Ot in Bt)return Xe.H.push(()=>{Bt[Ot]=qt}),!0}})},z.decodeImage=function(Oe,Xe){new Ue({ka:Xe}).decode(Oe)},z.renderFactory={makeRenderPaint:function(){return new Be},makeRenderPath:function(){return new it},makeRenderImage:function(){let Oe=Pr;return new Ue({va:()=>{Oe.total++},ka:()=>{if(Oe.loaded++,Oe.loaded===Oe.total){const Xe=Oe.ready;Xe&&(Xe(),Oe.ready=null)}}})}};let Ht=z.load,Pr=null;z.load=function(Oe,Xe,Bt=!0){const Wt=new z.FallbackFileAssetLoader;return Xe!==void 0&&Wt.addLoader(Xe),Bt&&(Xe=new z.CDNFileAssetLoader,Wt.addLoader(Xe)),new Promise(function(Ot){let qt=null;Pr={total:0,loaded:0,ready:function(){Ot(qt)}},qt=Ht(Oe,Wt),Pr.total==0&&Ot(qt)})};let Ja=z.RendererWrapper.prototype.align;z.RendererWrapper.prototype.align=function(Oe,Xe,Bt,Wt,Ot=1){Ja.call(this,Oe,Xe,Bt,Wt,Ot)},S=new nt,z.requestAnimationFrame=S.requestAnimationFrame.bind(S),z.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),z.enableFPSCounter=S.Nb.bind(S),z.disableFPSCounter=S.Kb,S.nb=_,z.resolveAnimationFrame=_,z.cleanup=function(){Ze&&Ze.delete()}};var F=Object.assign({},z),R="./this.program",L="",x,$;(H||Le)&&(Le?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),O&&(L=O),L.startsWith("blob:")?L="":L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1),Le&&($=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),x=(f,d,_)=>{if(Et(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(N=>N.ok?N.arrayBuffer():Promise.reject(Error(N.status+" : "+N.url))).then(d,_)});var ie=z.print||console.log.bind(console),q=z.printErr||console.error.bind(console);Object.assign(z,F),F=null,z.thisProgram&&(R=z.thisProgram);var J;z.wasmBinary&&(J=z.wasmBinary);var ye,de=!1,Ie,j,se,Re,Te,De,We,ut;function pt(){var f=ye.buffer;z.HEAP8=Ie=new Int8Array(f),z.HEAP16=se=new Int16Array(f),z.HEAPU8=j=new Uint8Array(f),z.HEAPU16=Re=new Uint16Array(f),z.HEAP32=Te=new Int32Array(f),z.HEAPU32=De=new Uint32Array(f),z.HEAPF32=We=new Float32Array(f),z.HEAPF64=ut=new Float64Array(f)}var wt=[],kt=[],gn=[];function dt(){var f=z.preRun.shift();wt.unshift(f)}var St=0,Nt=null;function bt(f){throw z.onAbort?.(f),f="Aborted("+f+")",q(f),de=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Ae(f),f}var Xt=f=>f.startsWith("data:application/octet-stream;base64,"),Et=f=>f.startsWith("file://"),Dt;function Fe(f){if(f==Dt&&J)return new Uint8Array(J);if($)return $(f);throw"both async and sync fetching of the wasm failed"}function sn(f){return J?Promise.resolve().then(()=>Fe(f)):new Promise((d,_)=>{x(f,S=>d(new Uint8Array(S)),()=>{try{d(Fe(f))}catch(S){_(S)}})})}function hn(f,d,_){return sn(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{q(`failed to asynchronously prepare wasm: ${S}`),bt(S)})}function _r(f,d){var _=Dt;return J||typeof WebAssembly.instantiateStreaming!="function"||Xt(_)||Et(_)||typeof fetch!="function"?hn(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(N){return q(`wasm streaming compile failed: ${N}`),q("falling back to ArrayBuffer instantiation"),hn(_,f,d)}))}var $n,tn,Pn={464256:(f,d,_,S,N)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=N;let U=window.h;U.D=[],U.rc=function(Z){for(var ee=0;ee<U.D.length;++ee)if(U.D[ee]==null)return U.D[ee]=Z,ee;return U.D.push(Z),U.D.length-1},U.zb=function(Z){for(U.D[Z]=null;0<U.D.length&&U.D[U.D.length-1]==null;)U.D.pop()},U.Oc=function(Z){for(var ee=0;ee<U.D.length;++ee)if(U.D[ee]==Z)return U.zb(ee)},U.pa=function(Z){return U.D[Z]},U.Ra=["touchend","click"],U.unlock=function(){for(var Z=0;Z<U.D.length;++Z){var ee=U.D[Z];ee!=null&&ee.K!=null&&ee.state===U.fa.vb&&ee.K.resume().then(()=>{Ao(ee.ob)},he=>{console.error("Failed to resume audiocontext",he)})}U.Ra.map(function(he){document.removeEventListener(he,U.unlock,!0)})},U.Ra.map(function(Z){document.addEventListener(Z,U.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,N,U)=>{if(typeof window.h>"u")return-1;var Z={},ee={};return f==window.h.I.wa&&_!=0&&(ee.sampleRate=_),Z.K=new(window.AudioContext||window.webkitAudioContext)(ee),Z.K.suspend(),Z.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),Z.Y=Z.K.createScriptProcessor(S,_,d),Z.Y.onaudioprocess=function(he){if((Z.qa==null||Z.qa.length==0)&&(Z.qa=new Float32Array(We.buffer,N,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var ue=0;ue<d;ue+=1)for(var ke=he.inputBuffer.getChannelData(ue),Je=Z.qa,st=0;st<S;st+=1)Je[st*d+ue]=ke[st];nu(U,S,N)}if(f==window.h.I.wa||f==window.h.I.Ja)for(iu(U,S,N),ue=0;ue<he.outputBuffer.numberOfChannels;++ue)for(ke=he.outputBuffer.getChannelData(ue),Je=Z.qa,st=0;st<S;st+=1)ke[st]=Je[st*d+ue];else for(ue=0;ue<he.outputBuffer.numberOfChannels;++ue)he.outputBuffer.getChannelData(ue).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(he){Z.Ba=Z.K.createMediaStreamSource(he),Z.Ba.connect(Z.Y),Z.Y.connect(Z.K.destination)}).catch(function(he){console.log("Failed to get user media: "+he)}),f==window.h.I.wa&&Z.Y.connect(Z.K.destination),Z.ob=U,window.h.rc(Z)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},C=f=>{for(;0<f.length;)f.shift()(z)};function g(){var f=Te[+Qi>>2];return Qi+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var N=f[S];N==="."?f.splice(S,1):N===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},k=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},W=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},me=f=>{if(f==="/")return"/";f=k(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Ne=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);bt("initRandomDevice")},Ke=f=>(Ke=Ne())(f),tt=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(N=>!!N),!_).join("/"),(_?"/":"")+d||"."},Ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,$e=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&Ge)return Ge.decode(f.subarray(d,_));for(S="";d<_;){var N=f[d++];if(N&128){var U=f[d++]&63;if((N&224)==192)S+=String.fromCharCode((N&31)<<6|U);else{var Z=f[d++]&63;N=(N&240)==224?(N&15)<<12|U<<6|Z:(N&7)<<18|U<<12|Z<<6|f[d++]&63,65536>N?S+=String.fromCharCode(N):(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023))}}else S+=String.fromCharCode(N)}return S},Ft=[],Mn=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},on=(f,d,_,S)=>{if(!(0<S))return 0;var N=_;S=_+S-1;for(var U=0;U<f.length;++U){var Z=f.charCodeAt(U);if(55296<=Z&&57343>=Z){var ee=f.charCodeAt(++U);Z=65536+((Z&1023)<<10)|ee&1023}if(127>=Z){if(_>=S)break;d[_++]=Z}else{if(2047>=Z){if(_+1>=S)break;d[_++]=192|Z>>6}else{if(65535>=Z){if(_+2>=S)break;d[_++]=224|Z>>12}else{if(_+3>=S)break;d[_++]=240|Z>>18,d[_++]=128|Z>>12&63}d[_++]=128|Z>>6&63}d[_++]=128|Z&63}}return d[_]=0,_-N};function jn(f,d){var _=Array(Mn(f)+1);return f=on(f,_,0,_.length),d&&(_.length=f),_}var Lt=[];function Ut(f,d){Lt[f]={input:[],G:[],V:d},Vi(f,Un)}var Un={open(f){var d=Lt[f.node.xa];if(!d)throw new Qe(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new Qe(60);for(var N=0,U=0;U<S;U++){try{var Z=f.s.V.hb(f.s)}catch{throw new Qe(29)}if(Z===void 0&&N===0)throw new Qe(6);if(Z==null)break;N++,d[_+U]=Z}return N&&(f.node.timestamp=Date.now()),N},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new Qe(60);try{for(var N=0;N<S;N++)f.s.V.Ma(f.s,d[_+N])}catch{throw new Qe(29)}return S&&(f.node.timestamp=Date.now()),N}},yn={hb(){e:{if(!Ft.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}Ft=jn(f,!0)}f=Ft.shift()}return f},Ma(f,d){d===null||d===10?(ie($e(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(ie($e(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Qn={Ma(f,d){d===null||d===10?(q($e(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(q($e(f.G,0)),f.G=[])}};function Si(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var mt={N:null,U(){return mt.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new Qe(63);return mt.N||(mt.N={dir:{node:{X:mt.j.X,P:mt.j.P,ja:mt.j.ja,ta:mt.j.ta,sb:mt.j.sb,yb:mt.j.yb,tb:mt.j.tb,rb:mt.j.rb,Ca:mt.j.Ca},stream:{aa:mt.m.aa}},file:{node:{X:mt.j.X,P:mt.j.P},stream:{aa:mt.m.aa,read:mt.m.read,write:mt.m.write,Xa:mt.m.Xa,kb:mt.m.kb,mb:mt.m.mb}},link:{node:{X:mt.j.X,P:mt.j.P,la:mt.j.la},stream:{}},$a:{node:{X:mt.j.X,P:mt.j.P},stream:fi}}),_=Cs(f,d,_,S),(_.mode&61440)===16384?(_.j=mt.N.dir.node,_.m=mt.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=mt.N.file.node,_.m=mt.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=mt.N.link.node,_.m=mt.N.link.stream):(_.mode&61440)===8192&&(_.j=mt.N.$a.node,_.m=mt.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw oa[44]},ta(f,d,_,S){return mt.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=ur(d,_)}catch{}if(S)for(var N in S.l)throw new Qe(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=ur(f,d),S;for(S in _.l)throw new Qe(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=mt.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new Qe(28);return f.link}},m:{read(f,d,_,S,N){var U=f.node.l;if(N>=f.node.v)return 0;if(f=Math.min(f.node.v-N,S),8<f&&U.subarray)d.set(U.subarray(N,N+f),_);else for(S=0;S<f;S++)d[_+S]=U[N+S];return f},write(f,d,_,S,N,U){if(d.buffer===Ie.buffer&&(U=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(U)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&N===0)return f.l=d.slice(_,_+S),f.v=S;if(N+S<=f.v)return f.l.set(d.subarray(_,_+S),N),S}if(Si(f,N+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),N);else for(U=0;U<S;U++)f.l[N+U]=d[_+U];return f.v=Math.max(f.v,N+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Qe(28);return d},Xa(f,d,_){Si(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,N){if((f.node.mode&61440)!==32768)throw new Qe(43);if(f=f.node.l,N&2||f.buffer!==Ie.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,bt(),d=void 0,!d)throw new Qe(48);Ie.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return mt.m.write(f,d,0,S,_,!1),0}}},zn=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},Tt=null,sr={},br=[],sa=1,or=null,qr=!0,Qe=class{constructor(f){this.name="ErrnoError",this.$=f}},oa={},Jn=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},lr=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=sa++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function vn(f,d={}){if(f=tt(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Qe(32);f=f.split("/").filter(Z=>!!Z);for(var _=Tt,S="/",N=0;N<f.length;N++){var U=N===f.length-1;if(U&&d.parent)break;if(_=ur(_,f[N]),S=k(S+"/"+f[N]),_.ua&&(!U||U&&d.gb)&&(_=_.ua.root),!U||d.fb){for(U=0;(_.mode&61440)===40960;)if(_=Fa(S),S=tt(W(S),_),_=vn(S,{Oa:d.Oa+1}).node,40<U++)throw new Qe(32)}}return{path:S,node:_}}function _n(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function Di(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%or.length}function ur(f,d){var _=(f.mode&61440)===16384?(_=la(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new Qe(_);for(_=or[Di(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function Cs(f,d,_,S){return f=new lr(f,d,_,S),d=Di(f.parent.id,f.name),f.ec=or[d],or[d]=f}function Ba(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function la(f,d){if(qr)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function cr(f,d){try{return ur(f,d),20}catch{}return la(f,"wx")}function Oi(f){if(f=br[f],!f)throw new Qe(8);return f}function ki(f,d=-1){if(f=Object.assign(new Jn,f),d==-1)e:{for(d=0;4096>=d;d++)if(!br[d])break e;throw new Qe(33)}return f.W=d,br[d]=f}function ln(f,d=-1){return f=ki(f,d),f.m?.Ec?.(f),f}var fi={open(f){f.m=sr[f.node.xa].m,f.m.open?.(f)},aa(){throw new Qe(70)}};function Vi(f,d){sr[f]={m:d}}function Hn(f,d){var _=d==="/";if(_&&Tt)throw new Qe(10);if(!_&&d){var S=vn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Qe(10);if((S.mode&61440)!==16384)throw new Qe(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?Tt=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function ua(f,d,_){var S=vn(f,{parent:!0}).node;if(f=me(f),!f||f==="."||f==="..")throw new Qe(28);var N=cr(S,f);if(N)throw new Qe(N);if(!S.j.ta)throw new Qe(63);return S.j.ta(S,f,d,_)}function Ci(f){return ua(f,16895,0)}function bi(f,d,_){typeof _>"u"&&(_=d,d=438),ua(f,d|8192,_)}function Pi(f,d){if(!tt(f))throw new Qe(44);var _=vn(d,{parent:!0}).node;if(!_)throw new Qe(44);d=me(d);var S=cr(_,d);if(S)throw new Qe(S);if(!_.j.Ca)throw new Qe(63);_.j.Ca(_,d,f)}function Fa(f){if(f=vn(f).node,!f)throw new Qe(44);if(!f.j.la)throw new Qe(28);return tt(_n(f.parent),f.j.la(f))}function Gr(f,d,_){if(f==="")throw new Qe(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var N=f;else{f=k(f);try{N=vn(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(N){if(d&128)throw new Qe(20)}else N=ua(f,_,0),S=!0;if(!N)throw new Qe(44);if((N.mode&61440)===8192&&(d&=-513),d&65536&&(N.mode&61440)!==16384)throw new Qe(54);if(!S&&(_=N?(N.mode&61440)===40960?32:(N.mode&61440)===16384&&(Ba(d)!=="r"||d&512)?31:la(N,Ba(d)):44))throw new Qe(_);if(d&512&&!S){if(_=N,_=typeof _=="string"?vn(_,{fb:!0}).node:_,!_.j.P)throw new Qe(63);if((_.mode&61440)===16384)throw new Qe(31);if((_.mode&61440)!==32768)throw new Qe(28);if(S=la(_,"w"))throw new Qe(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,N=ki({node:N,path:_n(N),flags:d,seekable:!0,position:0,m:N.m,sc:[],error:!1}),N.m.open&&N.m.open(N),!z.logReadFiles||d&1||(Wn||={},f in Wn||(Wn[f]=1)),N}function Ea(f,d,_){if(f.W===null)throw new Qe(8);if(!f.seekable||!f.m.aa)throw new Qe(70);if(_!=0&&_!=1&&_!=2)throw new Qe(28);f.position=f.m.aa(f,d,_),f.sc=[]}var Ha;function wr(f,d,_){f=k("/dev/"+f);var S=zn(!!d,!!_);Ri||=64;var N=Ri++<<8|0;Vi(N,{open(U){U.seekable=!1},close(){_?.buffer?.length&&_(10)},read(U,Z,ee,he){for(var ue=0,ke=0;ke<he;ke++){try{var Je=d()}catch{throw new Qe(29)}if(Je===void 0&&ue===0)throw new Qe(6);if(Je==null)break;ue++,Z[ee+ke]=Je}return ue&&(U.node.timestamp=Date.now()),ue},write(U,Z,ee,he){for(var ue=0;ue<he;ue++)try{_(Z[ee+ue])}catch{throw new Qe(29)}return he&&(U.node.timestamp=Date.now()),ue}}),bi(f,S,N)}var Ri,Tn={},Wn,Qi=void 0,Wi=(f,d)=>Object.defineProperty(d,"name",{value:f}),Qt=[],wi=[],ft,ai=f=>{if(!f)throw new ft("Cannot use deleted val. handle = "+f);return wi[f]},Nn=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=Qt.pop()||wi.length;return wi[d]=f,wi[d+1]=1,d}},Yr=f=>{var d=Error,_=Wi(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},qa,Ta,fn=f=>{for(var d="";j[f];)d+=Ta[j[f++]];return d},Dr=[],Er=()=>{for(;Dr.length;){var f=Dr.pop();f.g.ea=!1,f.delete()}},Zn,Ki={},ca=(f,d)=>{if(d===void 0)throw new ft("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},si={},ha=f=>{f=vc(f);var d=fn(f);return pr(f),d},Or=(f,d)=>{var _=si[f];if(_===void 0)throw f=`${d} has unknown type ${ha(f)}`,new ft(f);return _},hr=()=>{},Xr=!1,ei=(f,d,_)=>d===_?f:_.C===void 0?null:(f=ei(f,d,_.C),f===null?null:_.Lb(f)),fa={},Li=(f,d)=>(d=ca(f,d),Ki[d]),$i,ji=(f,d)=>{if(!d.u||!d.o)throw new $i("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new $i("Both smartPtrType and smartPtr must be specified");return d.count={value:1},xi(Object.create(f,{g:{value:d,writable:!0}}))},xi=f=>typeof FinalizationRegistry>"u"?(xi=d=>d,f):(Xr=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),xi=d=>{var _=d.g;return _.F&&Xr.register(d,{g:_},d),d},hr=d=>{Xr.unregister(d)},xi(f)),Q={},oe=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function ve(f){return this.fromWireType(De[f>>2])}var _e={},be={},xe=(f,d,_)=>{function S(ee){if(ee=_(ee),ee.length!==f.length)throw new $i("Mismatched type converter count");for(var he=0;he<f.length;++he)Pe(f[he],ee[he])}f.forEach(function(ee){be[ee]=d});var N=Array(d.length),U=[],Z=0;d.forEach((ee,he)=>{si.hasOwnProperty(ee)?N[he]=si[ee]:(U.push(ee),_e.hasOwnProperty(ee)||(_e[ee]=[]),_e[ee].push(()=>{N[he]=si[ee],++Z,Z===U.length&&S(N)}))}),U.length===0&&S(N)};function Ye(f,d,_={}){var S=d.name;if(!f)throw new ft(`type "${S}" must have a positive integer typeid pointer`);if(si.hasOwnProperty(f)){if(_.Vb)return;throw new ft(`Cannot register type '${S}' twice`)}si[f]=d,delete be[f],_e.hasOwnProperty(f)&&(d=_e[f],delete _e[f],d.forEach(N=>N()))}function Pe(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Ye(f,d,_)}var vt=f=>{throw new ft(f.g.u.i.name+" instance already deleted")};function He(){}var ct=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...N){if(!f[d].A.hasOwnProperty(N.length))throw new ft(`Function '${_}' called with an invalid number of arguments (${N.length}) - expects one of (${f[d].A})!`);return f[d].A[N.length].apply(this,N)},f[d].A=[],f[d].A[S.da]=S}},Vt=(f,d,_)=>{if(z.hasOwnProperty(f)){if(_===void 0||z[f].A!==void 0&&z[f].A[_]!==void 0)throw new ft(`Cannot register public name '${f}' twice`);if(ct(z,f,f),z.hasOwnProperty(_))throw new ft(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);z[f].A[_]=d}else z[f]=d,_!==void 0&&(z[f].Lc=_)},Rn=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function Dn(f,d,_,S,N,U,Z,ee){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=N,this.Qb=U,this.ma=Z,this.Lb=ee,this.pb=[]}var Ji=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new ft(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function Ei(f,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ft(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);return Ji(d.g.o,d.g.u.i,this.i)}function Aa(f,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new ft(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new ft(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=Ji(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new ft("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new ft(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,Nn(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new ft("Unsupporting sharing policy")}}return _}function Eo(f,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ft(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new ft(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return Ji(d.g.o,d.g.u.i,this.i)}function kr(f,d,_,S,N,U,Z,ee,he,ue,ke){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=N,this.hc=U,this.mc=Z,this.qb=ee,this.Na=he,this.ic=ue,this.O=ke,N||d.C!==void 0?this.toWireType=Aa:(this.toWireType=S?Ei:Eo,this.L=null)}var Ga=(f,d,_)=>{if(!z.hasOwnProperty(f))throw new $i("Replacing nonexistent public symbol");z[f].A!==void 0&&_!==void 0?z[f].A[_]=d:(z[f]=d,z[f].da=_)},fr=[],Ya,Rs=f=>{var d=fr[f];return d||(f>=fr.length&&(fr.length=f+1),fr[f]=d=Ya.get(f)),d},Xa=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,z["dynCall_"+f])(d,..._)):d=Rs(d)(..._),d),Wo=(f,d)=>(..._)=>Xa(f,d,_),oi=(f,d)=>{f=fn(f);var _=f.includes("j")?Wo(f,d):Rs(d);if(typeof _!="function")throw new ft(`unknown function pointer with signature ${f}: ${d}`);return _},Sa,dr=(f,d)=>{function _(U){N[U]||si[U]||(be[U]?be[U].forEach(_):(S.push(U),N[U]=!0))}var S=[],N={};throw d.forEach(_),new Sa(`${f}: `+S.map(ha).join([", "]))};function Ko(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function da(f,d,_,S,N){var U=d.length;if(2>U)throw new ft("argTypes array size mismatch! Must at least get return value and 'this' types!");var Z=d[1]!==null&&_!==null,ee=Ko(d),he=d[0].name!=="void",ue=U-2,ke=Array(ue),Je=[],st=[];return Wi(f,function(...te){if(te.length!==ue)throw new ft(`function ${f} called with ${te.length} arguments, expected ${ue}`);if(st.length=0,Je.length=Z?2:1,Je[0]=N,Z){var Ue=d[1].toWireType(st,this);Je[1]=Ue}for(var it=0;it<ue;++it)ke[it]=d[it+2].toWireType(st,te[it]),Je.push(ke[it]);if(te=S(...Je),ee)oe(st);else for(it=Z?1:2;it<d.length;it++){var Be=it===1?Ue:ke[it-2];d[it].L!==null&&d[it].L(Be)}return Ue=he?d[0].fromWireType(te):void 0,Ue})}var Qa=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(De[d+4*S>>2]);return _},xs=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Vr=(f,d,_)=>{if(!(f instanceof Object))throw new ft(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new ft(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new ft(`cannot call emscripten binding method ${_} on deleted object`);return Ji(f.g.o,f.g.u.i,d.i)},Is=f=>{9<f&&--wi[f+1]===0&&(wi[f]=void 0,Qt.push(f))},$o={name:"emscripten::val",fromWireType:f=>{var d=ai(f);return Is(f),d},toWireType:(f,d)=>Nn(d),argPackAdvance:8,readValueFromPointer:ve,L:null},Jo=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(Ie[S])}:function(S){return this.fromWireType(j[S])};case 2:return _?function(S){return this.fromWireType(se[S>>1])}:function(S){return this.fromWireType(Re[S>>1])};case 4:return _?function(S){return this.fromWireType(Te[S>>2])}:function(S){return this.fromWireType(De[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ms=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Ca=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(We[_>>2])};case 8:return function(_){return this.fromWireType(ut[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Ui=(f,d,_)=>{switch(d){case 1:return _?S=>Ie[S]:S=>j[S];case 2:return _?S=>se[S>>1]:S=>Re[S>>1];case 4:return _?S=>Te[S>>2]:S=>De[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},To=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Zo=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&Re[_];)++_;if(_<<=1,32<_-f&&To)return To.decode(j.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var N=se[f+2*S>>1];if(N==0)break;_+=String.fromCharCode(N)}return _},ma=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var N=0;N<_;++N)se[d>>1]=f.charCodeAt(N),d+=2;return se[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var N=Te[f+4*_>>2];if(N==0)break;++_,65536<=N?(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023)):S+=String.fromCharCode(N)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var N=0;N<f.length;++N){var U=f.charCodeAt(N);if(55296<=U&&57343>=U){var Z=f.charCodeAt(++N);U=65536+((U&1023)<<10)|Z&1023}if(Te[d>>2]=U,d+=4,d+4>_)break}return Te[d>>2]=0,d-S},V=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},ae=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(De[d>>2]=Nn(S)),f},pe={},je=f=>{var d=pe[f];return d===void 0?fn(f):d},Rt=[],ti=f=>{var d=Rt.length;return Rt.push(f),d},un=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=Or(De[d+4*S>>2],"parameter "+S);return _},Bn=Reflect.construct,Zi=[],Tr={},Ar=()=>{if(!mr){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:R||"./this.program"},d;for(d in Tr)Tr[d]===void 0?delete f[d]:f[d]=Tr[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);mr=_}return mr},mr,Qr=f=>f%4===0&&(f%100!==0||f%400===0),Wa=[31,29,31,30,31,30,31,31,30,31,30,31],Ka=[31,28,31,30,31,30,31,31,30,31,30,31],Rf=(f,d,_,S)=>{function N(te,Ue,it){for(te=typeof te=="number"?te.toString():te||"";te.length<Ue;)te=it[0]+te;return te}function U(te,Ue){return N(te,Ue,"0")}function Z(te,Ue){function it(dn){return 0>dn?-1:0<dn?1:0}var Be;return(Be=it(te.getFullYear()-Ue.getFullYear()))===0&&(Be=it(te.getMonth()-Ue.getMonth()))===0&&(Be=it(te.getDate()-Ue.getDate())),Be}function ee(te){switch(te.getDay()){case 0:return new Date(te.getFullYear()-1,11,29);case 1:return te;case 2:return new Date(te.getFullYear(),0,3);case 3:return new Date(te.getFullYear(),0,2);case 4:return new Date(te.getFullYear(),0,1);case 5:return new Date(te.getFullYear()-1,11,31);case 6:return new Date(te.getFullYear()-1,11,30)}}function he(te){var Ue=te.ba;for(te=new Date(new Date(te.ca+1900,0,1).getTime());0<Ue;){var it=te.getMonth(),Be=(Qr(te.getFullYear())?Wa:Ka)[it];if(Ue>Be-te.getDate())Ue-=Be-te.getDate()+1,te.setDate(1),11>it?te.setMonth(it+1):(te.setMonth(0),te.setFullYear(te.getFullYear()+1));else{te.setDate(te.getDate()+Ue);break}}return it=new Date(te.getFullYear()+1,0,4),Ue=ee(new Date(te.getFullYear(),0,4)),it=ee(it),0>=Z(Ue,te)?0>=Z(it,te)?te.getFullYear()+1:te.getFullYear():te.getFullYear()-1}var ue=De[S+40>>2];S={pc:Te[S>>2],oc:Te[S+4>>2],Da:Te[S+8>>2],Qa:Te[S+12>>2],Ea:Te[S+16>>2],ca:Te[S+20>>2],R:Te[S+24>>2],ba:Te[S+28>>2],Nc:Te[S+32>>2],nc:Te[S+36>>2],qc:ue&&ue?$e(j,ue):""},_=_?$e(j,_):"",ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ke in ue)_=_.replace(new RegExp(ke,"g"),ue[ke]);var Je="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),st="January February March April May June July August September October November December".split(" ");ue={"%a":te=>Je[te.R].substring(0,3),"%A":te=>Je[te.R],"%b":te=>st[te.Ea].substring(0,3),"%B":te=>st[te.Ea],"%C":te=>U((te.ca+1900)/100|0,2),"%d":te=>U(te.Qa,2),"%e":te=>N(te.Qa,2," "),"%g":te=>he(te).toString().substring(2),"%G":he,"%H":te=>U(te.Da,2),"%I":te=>(te=te.Da,te==0?te=12:12<te&&(te-=12),U(te,2)),"%j":te=>{for(var Ue=0,it=0;it<=te.Ea-1;Ue+=(Qr(te.ca+1900)?Wa:Ka)[it++]);return U(te.Qa+Ue,3)},"%m":te=>U(te.Ea+1,2),"%M":te=>U(te.oc,2),"%n":()=>`
`,"%p":te=>0<=te.Da&&12>te.Da?"AM":"PM","%S":te=>U(te.pc,2),"%t":()=>"	","%u":te=>te.R||7,"%U":te=>U(Math.floor((te.ba+7-te.R)/7),2),"%V":te=>{var Ue=Math.floor((te.ba+7-(te.R+6)%7)/7);if(2>=(te.R+371-te.ba-2)%7&&Ue++,Ue)Ue==53&&(it=(te.R+371-te.ba)%7,it==4||it==3&&Qr(te.ca)||(Ue=1));else{Ue=52;var it=(te.R+7-te.ba-1)%7;(it==4||it==5&&Qr(te.ca%400-1))&&Ue++}return U(Ue,2)},"%w":te=>te.R,"%W":te=>U(Math.floor((te.ba+7-(te.R+6)%7)/7),2),"%y":te=>(te.ca+1900).toString().substring(2),"%Y":te=>te.ca+1900,"%z":te=>{te=te.nc;var Ue=0<=te;return te=Math.abs(te)/60,(Ue?"+":"-")+("0000"+(te/60*100+te%60)).slice(-4)},"%Z":te=>te.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(ke in ue)_.includes(ke)&&(_=_.replace(new RegExp(ke,"g"),ue[ke](S)));return _=_.replace(/\0\0/g,"%"),ke=jn(_,!1),ke.length>d?0:(Ie.set(ke,f),ke.length-1)};[44].forEach(f=>{oa[f]=new Qe(f),oa[f].stack="<generic error, no stack>"}),or=Array(4096),Hn(mt,"/"),Ci("/tmp"),Ci("/home"),Ci("/home/web_user"),(function(){Ci("/dev"),Vi(259,{read:()=>0,write:(S,N,U,Z)=>Z}),bi("/dev/null",259),Ut(1280,yn),Ut(1536,Qn),bi("/dev/tty",1280),bi("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=Ke(f).byteLength),f[--d]);wr("random",_),wr("urandom",_),Ci("/dev/shm"),Ci("/dev/shm/tmp")})(),(function(){Ci("/proc");var f=Ci("/proc/self");Ci("/proc/self/fd"),Hn({U(){var d=Cs(f,"fd",16895,73);return d.j={ja(_,S){var N=Oi(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>N.path}},_.parent=_}},d}},"/proc/self/fd")})(),ft=z.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},wi.push(0,1,void 0,1,null,1,!0,1,!1,1),z.count_emval_handles=()=>wi.length/2-5-Qt.length,qa=z.PureVirtualError=Yr("PureVirtualError");for(var yc=Array(256),el=0;256>el;++el)yc[el]=String.fromCharCode(el);Ta=yc,z.getInheritedInstanceCount=()=>Object.keys(Ki).length,z.getLiveInheritedInstances=()=>{var f=[],d;for(d in Ki)Ki.hasOwnProperty(d)&&f.push(Ki[d]);return f},z.flushPendingDeletes=Er,z.setDelayFunction=f=>{Zn=f,Dr.length&&Zn&&Zn(Er)},$i=z.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(He.prototype,{isAliasOf:function(f){if(!(this instanceof He&&f instanceof He))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||vt(this),this.g.ha)return this.g.count.value+=1,this;var f=xi,d=Object,_=d.create,S=Object.getPrototypeOf(this),N=this.g;return f=f(_.call(d,S,{g:{value:{count:N.count,ea:N.ea,ha:N.ha,o:N.o,u:N.u,F:N.F,J:N.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||vt(this),this.g.ea&&!this.g.ha)throw new ft("Object already scheduled for deletion");hr(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||vt(this),this.g.ea&&!this.g.ha)throw new ft("Object already scheduled for deletion");return Dr.push(this),Dr.length===1&&Zn&&Zn(Er),this.g.ea=!0,this}}),Object.assign(kr.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:ve,fromWireType:function(f){function d(){return this.sa?ji(this.i.M,{u:this.hc,o:_,J:this,F:f}):ji(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=Li(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=fa[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var N=ei(_,this.i,S.i);return N===null?d.call(this):this.sa?ji(S.i.M,{u:S,o:N,J:this,F:f}):ji(S.i.M,{u:S,o:N})}}),Sa=z.UnboundTypeError=Yr("UnboundTypeError");var tu={__syscall_fcntl64:function(f,d,_){Qi=_;try{var S=Oi(f);switch(d){case 0:var N=g();if(0>N)break;for(;br[N];)N++;return ln(S,N).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return N=g(),S.flags|=N,0;case 12:return N=g(),se[N+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(U){if(typeof Tn>"u"||U.name!=="ErrnoError")throw U;return-U.$}},__syscall_ioctl:function(f,d,_){Qi=_;try{var S=Oi(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var N=g();Te[N>>2]=25856,Te[N+4>>2]=5,Te[N+8>>2]=191,Te[N+12>>2]=35387;for(var U=0;32>U;U++)Ie[N+U+17]=f[U]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(N=g(),f=[],U=0;32>U;U++)f.push(Ie[N+U+17]);return 0;case 21519:return S.s?(N=g(),Te[N>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(N=g(),!S.m.Wb)throw new Qe(59);return S.m.Wb(S,d,N);case 21523:return S.s?(S.s.V.Zb&&(U=[24,80],N=g(),se[N>>1]=U[0],se[N+2>>1]=U[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(Z){if(typeof Tn>"u"||Z.name!=="ErrnoError")throw Z;return-Z.$}},__syscall_openat:function(f,d,_,S){Qi=S;try{d=d?$e(j,d):"";var N=d;if(N.charAt(0)==="/")d=N;else{var U=f===-100?"/":Oi(f).path;if(N.length==0)throw new Qe(44);d=k(U+"/"+N)}var Z=S?g():0;return Gr(d,_,Z).W}catch(ee){if(typeof Tn>"u"||ee.name!=="ErrnoError")throw ee;return-ee.$}},_abort_js:()=>{bt("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=fn(f),d=Or(d,"wrapper"),_=ai(_);var S=d.i,N=S.M,U=S.C.M,Z=S.C.constructor;return f=Wi(f,function(...ee){S.C.pb.forEach((function(he){if(this[he]===U[he])throw new qa(`Pure virtual function ${he} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:N}),this.__construct(...ee)}),N.__construct=function(...ee){if(this===N)throw new ft("Pass correct 'this' to __construct");ee=Z.implement(this,...ee),hr(ee);var he=ee.g;if(ee.notifyOnDestruction(),he.ha=!0,Object.defineProperties(this,{g:{value:he}}),xi(this),ee=he.o,ee=ca(S,ee),Ki.hasOwnProperty(ee))throw new ft(`Tried to register registered instance: ${ee}`);Ki[ee]=this},N.__destruct=function(){if(this===N)throw new ft("Pass correct 'this' to __destruct");hr(this);var ee=this.g.o;if(ee=ca(S,ee),Ki.hasOwnProperty(ee))delete Ki[ee];else throw new ft(`Tried to unregister unregistered instance: ${ee}`)},f.prototype=Object.create(N),Object.assign(f.prototype,_),Nn(f)},_embind_finalize_value_object:f=>{var d=Q[f];delete Q[f];var _=d.Na,S=d.O,N=d.eb,U=N.map(Z=>Z.Ub).concat(N.map(Z=>Z.kc));xe([f],U,Z=>{var ee={};return N.forEach((he,ue)=>{var ke=Z[ue],Je=he.Sb,st=he.Tb,te=Z[ue+N.length],Ue=he.jc,it=he.lc;ee[he.Ob]={read:Be=>ke.fromWireType(Je(st,Be)),write:(Be,dn)=>{var Ze=[];Ue(it,Be,te.toWireType(Ze,dn)),oe(Ze)}}}),[{name:d.name,fromWireType:he=>{var ue={},ke;for(ke in ee)ue[ke]=ee[ke].read(he);return S(he),ue},toWireType:(he,ue)=>{for(var ke in ee)if(!(ke in ue))throw new TypeError(`Missing field: "${ke}"`);var Je=_();for(ke in ee)ee[ke].write(Je,ue[ke]);return he!==null&&he.push(S,Je),Je},argPackAdvance:8,readValueFromPointer:ve,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=fn(d),Pe(f,{name:d,fromWireType:function(N){return!!N},toWireType:function(N,U){return U?_:S},argPackAdvance:8,readValueFromPointer:function(N){return this.fromWireType(j[N])},L:null})},_embind_register_class:(f,d,_,S,N,U,Z,ee,he,ue,ke,Je,st)=>{ke=fn(ke),U=oi(N,U),ee&&=oi(Z,ee),ue&&=oi(he,ue),st=oi(Je,st);var te=Rn(ke);Vt(te,function(){dr(`Cannot construct ${ke} due to unbound types`,[S])}),xe([f,d,_],S?[S]:[],Ue=>{if(Ue=Ue[0],S)var it=Ue.i,Be=it.M;else Be=He.prototype;Ue=Wi(ke,function(...An){if(Object.getPrototypeOf(this)!==dn)throw new ft("Use 'new' to construct "+ke);if(Ze.Z===void 0)throw new ft(ke+" has no accessible constructor");var li=Ze.Z[An.length];if(li===void 0)throw new ft(`Tried to invoke ctor of ${ke} with invalid number of parameters (${An.length}) - expected (${Object.keys(Ze.Z).toString()}) parameters instead!`);return li.apply(this,An)});var dn=Object.create(Be,{constructor:{value:Ue}});Ue.prototype=dn;var Ze=new Dn(ke,Ue,dn,st,it,U,ee,ue);if(Ze.C){var zt;(zt=Ze.C).na??(zt.na=[]),Ze.C.na.push(Ze)}return it=new kr(ke,Ze,!0,!1,!1),zt=new kr(ke+"*",Ze,!1,!1,!1),Be=new kr(ke+" const*",Ze,!1,!0,!1),fa[f]={pointerType:zt,Hb:Be},Ga(te,Ue),[it,zt,Be]})},_embind_register_class_class_function:(f,d,_,S,N,U,Z)=>{var ee=Qa(_,S);d=fn(d),d=xs(d),U=oi(N,U),xe([],[f],he=>{function ue(){dr(`Cannot call ${ke} due to unbound types`,ee)}he=he[0];var ke=`${he.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Je=he.i.constructor;return Je[d]===void 0?(ue.da=_-1,Je[d]=ue):(ct(Je,d,ke),Je[d].A[_-1]=ue),xe([],ee,st=>{if(st=da(ke,[st[0],null].concat(st.slice(1)),null,U,Z),Je[d].A===void 0?(st.da=_-1,Je[d]=st):Je[d].A[_-1]=st,he.i.na)for(const te of he.i.na)te.constructor.hasOwnProperty(d)||(te.constructor[d]=st);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,N,U,Z,ee)=>{d=fn(d),U=oi(N,U),xe([],[f],he=>{he=he[0];var ue=`${he.name}.${d}`,ke={get(){dr(`Cannot access ${ue} due to unbound types`,[_])},enumerable:!0,configurable:!0};return ke.set=ee?()=>{dr(`Cannot access ${ue} due to unbound types`,[_])}:()=>{throw new ft(`${ue} is a read-only property`)},Object.defineProperty(he.i.constructor,d,ke),xe([],[_],Je=>{Je=Je[0];var st={get(){return Je.fromWireType(U(S))},enumerable:!0};return ee&&(ee=oi(Z,ee),st.set=te=>{var Ue=[];ee(S,Je.toWireType(Ue,te)),oe(Ue)}),Object.defineProperty(he.i.constructor,d,st),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,N,U)=>{var Z=Qa(d,_);N=oi(S,N),xe([],[f],ee=>{ee=ee[0];var he=`constructor ${ee.name}`;if(ee.i.Z===void 0&&(ee.i.Z=[]),ee.i.Z[d-1]!==void 0)throw new ft(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${ee.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ee.i.Z[d-1]=()=>{dr(`Cannot construct ${ee.name} due to unbound types`,Z)},xe([],Z,ue=>(ue.splice(1,0,null),ee.i.Z[d-1]=da(he,ue,null,N,U),[])),[]})},_embind_register_class_function:(f,d,_,S,N,U,Z,ee)=>{var he=Qa(_,S);d=fn(d),d=xs(d),U=oi(N,U),xe([],[f],ue=>{function ke(){dr(`Cannot call ${Je} due to unbound types`,he)}ue=ue[0];var Je=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),ee&&ue.i.pb.push(d);var st=ue.i.M,te=st[d];return te===void 0||te.A===void 0&&te.className!==ue.name&&te.da===_-2?(ke.da=_-2,ke.className=ue.name,st[d]=ke):(ct(st,d,Je),st[d].A[_-2]=ke),xe([],he,Ue=>(Ue=da(Je,Ue,ue,U,Z),st[d].A===void 0?(Ue.da=_-2,st[d]=Ue):st[d].A[_-2]=Ue,[])),[]})},_embind_register_class_property:(f,d,_,S,N,U,Z,ee,he,ue)=>{d=fn(d),N=oi(S,N),xe([],[f],ke=>{ke=ke[0];var Je=`${ke.name}.${d}`,st={get(){dr(`Cannot access ${Je} due to unbound types`,[_,Z])},enumerable:!0,configurable:!0};return st.set=he?()=>dr(`Cannot access ${Je} due to unbound types`,[_,Z]):()=>{throw new ft(Je+" is a read-only property")},Object.defineProperty(ke.i.M,d,st),xe([],he?[_,Z]:[_],te=>{var Ue=te[0],it={get(){var dn=Vr(this,ke,Je+" getter");return Ue.fromWireType(N(U,dn))},enumerable:!0};if(he){he=oi(ee,he);var Be=te[1];it.set=function(dn){var Ze=Vr(this,ke,Je+" setter"),zt=[];he(ue,Ze,Be.toWireType(zt,dn)),oe(zt)}}return Object.defineProperty(ke.i.M,d,it),[]}),[]})},_embind_register_emval:f=>Pe(f,$o),_embind_register_enum:(f,d,_,S)=>{function N(){}d=fn(d),N.values={},Pe(f,{name:d,constructor:N,fromWireType:function(U){return this.constructor.values[U]},toWireType:(U,Z)=>Z.value,argPackAdvance:8,readValueFromPointer:Jo(d,_,S),L:null}),Vt(d,N)},_embind_register_enum_value:(f,d,_)=>{var S=Or(f,"enum");d=fn(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:Wi(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=fn(d),Pe(f,{name:d,fromWireType:S=>S,toWireType:(S,N)=>N,argPackAdvance:8,readValueFromPointer:Ca(d,_),L:null})},_embind_register_function:(f,d,_,S,N,U)=>{var Z=Qa(d,_);f=fn(f),f=xs(f),N=oi(S,N),Vt(f,function(){dr(`Cannot call ${f} due to unbound types`,Z)},d-1),xe([],Z,ee=>(Ga(f,da(f,[ee[0],null].concat(ee.slice(1)),null,N,U),d-1),[]))},_embind_register_integer:(f,d,_,S,N)=>{if(d=fn(d),N===-1&&(N=4294967295),N=ee=>ee,S===0){var U=32-8*_;N=ee=>ee<<U>>>U}var Z=d.includes("unsigned")?function(ee,he){return he>>>0}:function(ee,he){return he};Pe(f,{name:d,fromWireType:N,toWireType:Z,argPackAdvance:8,readValueFromPointer:Ui(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(U){return new N(Ie.buffer,De[U+4>>2],De[U>>2])}var N=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=fn(_),Pe(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=fn(d);var _=d==="std::string";Pe(f,{name:d,fromWireType:function(S){var N=De[S>>2],U=S+4;if(_)for(var Z=U,ee=0;ee<=N;++ee){var he=U+ee;if(ee==N||j[he]==0){if(Z=Z?$e(j,Z,he-Z):"",ue===void 0)var ue=Z;else ue+="\0",ue+=Z;Z=he+1}}else{for(ue=Array(N),ee=0;ee<N;++ee)ue[ee]=String.fromCharCode(j[U+ee]);ue=ue.join("")}return pr(S),ue},toWireType:function(S,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var U=typeof N=="string";if(!(U||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array))throw new ft("Cannot pass non-string to std::string");var Z=_&&U?Mn(N):N.length,ee=$a(4+Z+1),he=ee+4;if(De[ee>>2]=Z,_&&U)on(N,j,he,Z+1);else if(U)for(U=0;U<Z;++U){var ue=N.charCodeAt(U);if(255<ue)throw pr(he),new ft("String has UTF-16 code units that do not fit in 8 bits");j[he+U]=ue}else for(U=0;U<Z;++U)j[he+U]=N[U];return S!==null&&S.push(pr,ee),ee},argPackAdvance:8,readValueFromPointer:ve,L(S){pr(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=fn(_),d===2)var S=Zo,N=ma,U=u,Z=ee=>Re[ee>>1];else d===4&&(S=y,N=A,U=V,Z=ee=>De[ee>>2]);Pe(f,{name:_,fromWireType:ee=>{for(var he=De[ee>>2],ue,ke=ee+4,Je=0;Je<=he;++Je){var st=ee+4+Je*d;(Je==he||Z(st)==0)&&(ke=S(ke,st-ke),ue===void 0?ue=ke:(ue+="\0",ue+=ke),ke=st+d)}return pr(ee),ue},toWireType:(ee,he)=>{if(typeof he!="string")throw new ft(`Cannot pass non-string to C++ string type ${_}`);var ue=U(he),ke=$a(4+ue+d);return De[ke>>2]=ue/d,N(he,ke+4,ue+d),ee!==null&&ee.push(pr,ke),ke},argPackAdvance:8,readValueFromPointer:ve,L(ee){pr(ee)}})},_embind_register_value_object:(f,d,_,S,N,U)=>{Q[f]={name:fn(d),Na:oi(_,S),O:oi(N,U),eb:[]}},_embind_register_value_object_field:(f,d,_,S,N,U,Z,ee,he,ue)=>{Q[f].eb.push({Ob:fn(d),Ub:_,Sb:oi(S,N),Tb:U,kc:Z,jc:oi(ee,he),lc:ue})},_embind_register_void:(f,d)=>{d=fn(d),Pe(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>j.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=ai(f),d=Or(d,"emval::as"),ae(d,_,f)),_emval_call_method:(f,d,_,S,N)=>(f=Rt[f],d=ai(d),_=je(_),f(d,d[_],S,N)),_emval_decref:Is,_emval_get_method_caller:(f,d,_)=>{var S=un(f,d),N=S.shift();f--;var U=Array(f);return d=`methodCaller<(${S.map(Z=>Z.name).join(", ")}) => ${N.name}>`,ti(Wi(d,(Z,ee,he,ue)=>{for(var ke=0,Je=0;Je<f;++Je)U[Je]=S[Je].readValueFromPointer(ue+ke),ke+=S[Je].argPackAdvance;return Z=_===1?Bn(ee,U):ee.apply(Z,U),ae(N,he,Z)}))},_emval_get_module_property:f=>(f=je(f),Nn(z[f])),_emval_get_property:(f,d)=>(f=ai(f),d=ai(d),Nn(f[d])),_emval_incref:f=>{9<f&&(wi[f+1]+=1)},_emval_new_array:()=>Nn([]),_emval_new_cstring:f=>Nn(je(f)),_emval_new_object:()=>Nn({}),_emval_run_destructors:f=>{var d=ai(f);oe(d),Is(f)},_emval_set_property:(f,d,_)=>{f=ai(f),d=ai(d),_=ai(_),f[d]=_},_emval_take_value:(f,d)=>(f=Or(f,"_emval_take_value"),f=f.readValueFromPointer(d),Nn(f)),emscripten_asm_const_int:(f,d,_)=>{Zi.length=0;for(var S;S=j[d++];){var N=S!=105;N&=S!=112,_+=N&&_%8?4:0,Zi.push(S==112?De[_>>2]:S==105?Te[_>>2]:ut[_>>3]),_+=N?8:4}return Pn[f](...Zi)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=j.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var N=Math;S=Math.max(f,S);e:{N=(N.min.call(N,2147483648,S+(65536-S%65536)%65536)-ye.buffer.byteLength+65535)/65536;try{ye.grow(N),pt();var U=1;break e}catch{}U=void 0}if(U)return!0}return!1},environ_get:(f,d)=>{var _=0;return Ar().forEach((S,N)=>{var U=d+_;for(N=De[f+4*N>>2]=U,U=0;U<S.length;++U)Ie[N++]=S.charCodeAt(U);Ie[N]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=Ar();De[f>>2]=_.length;var S=0;return _.forEach(N=>S+=N.length+1),De[d>>2]=S,0},fd_close:function(f){try{var d=Oi(f);if(d.W===null)throw new Qe(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{br[d.W]=null}return d.W=null,0}catch(_){if(typeof Tn>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var N=Oi(f);f=d;for(var U,Z=d=0;Z<_;Z++){var ee=De[f>>2],he=De[f+4>>2];f+=8;var ue=N,ke=U,Je=Ie;if(0>he||0>ke)throw new Qe(28);if(ue.W===null)throw new Qe(8);if((ue.flags&2097155)===1)throw new Qe(8);if((ue.node.mode&61440)===16384)throw new Qe(31);if(!ue.m.read)throw new Qe(28);var st=typeof ke<"u";if(!st)ke=ue.position;else if(!ue.seekable)throw new Qe(70);var te=ue.m.read(ue,Je,ee,he,ke);st||(ue.position+=te);var Ue=te;if(0>Ue){var it=-1;break e}if(d+=Ue,Ue<he)break;typeof U<"u"&&(U+=Ue)}it=d}return De[S>>2]=it,0}catch(Be){if(typeof Tn>"u"||Be.name!=="ErrnoError")throw Be;return Be.$}},fd_seek:function(f,d,_,S,N){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var U=Oi(f);return Ea(U,d,S),tn=[U.position>>>0,($n=U.position,1<=+Math.abs($n)?0<$n?+Math.floor($n/4294967296)>>>0:~~+Math.ceil(($n-+(~~$n>>>0))/4294967296)>>>0:0)],Te[N>>2]=tn[0],Te[N+4>>2]=tn[1],U.Ka&&d===0&&S===0&&(U.Ka=null),0}catch(Z){if(typeof Tn>"u"||Z.name!=="ErrnoError")throw Z;return Z.$}},fd_write:function(f,d,_,S){try{e:{var N=Oi(f);f=d;for(var U,Z=d=0;Z<_;Z++){var ee=De[f>>2],he=De[f+4>>2];f+=8;var ue=N,ke=ee,Je=he,st=U,te=Ie;if(0>Je||0>st)throw new Qe(28);if(ue.W===null)throw new Qe(8);if((ue.flags&2097155)===0)throw new Qe(8);if((ue.node.mode&61440)===16384)throw new Qe(31);if(!ue.m.write)throw new Qe(28);ue.seekable&&ue.flags&1024&&Ea(ue,0,2);var Ue=typeof st<"u";if(!Ue)st=ue.position;else if(!ue.seekable)throw new Qe(70);var it=ue.m.write(ue,te,ke,Je,st,void 0);Ue||(ue.position+=it);var Be=it;if(0>Be){var dn=-1;break e}d+=Be,typeof U<"u"&&(U+=Be)}dn=d}return De[S>>2]=dn,0}catch(Ze){if(typeof Tn>"u"||Ze.name!=="ErrnoError")throw Ze;return Ze.$}},strftime_l:(f,d,_,S)=>Rf(f,d,_,S)},qn=(function(){function f(_){return qn=_.exports,ye=qn.memory,pt(),Ya=qn.__indirect_function_table,kt.unshift(qn.__wasm_call_ctors),St--,z.monitorRunDependencies?.(St),St==0&&Nt&&(_=Nt,Nt=null,_()),qn}var d={env:tu,wasi_snapshot_preview1:tu};if(St++,z.monitorRunDependencies?.(St),z.instantiateWasm)try{return z.instantiateWasm(d,f)}catch(_){q(`Module.instantiateWasm callback failed with error: ${_}`),Ae(_)}return Dt||=Xt("canvas_advanced.wasm")?"canvas_advanced.wasm":z.locateFile?z.locateFile("canvas_advanced.wasm",L):L+"canvas_advanced.wasm",_r(d,function(_){f(_.instance)}).catch(Ae),{}})(),pr=f=>(pr=qn.free)(f),$a=f=>($a=qn.malloc)(f),vc=f=>(vc=qn.__getTypeName)(f),Ao=z._ma_device__on_notification_unlocked=f=>(Ao=z._ma_device__on_notification_unlocked=qn.ma_device__on_notification_unlocked)(f);z._ma_malloc_emscripten=(f,d)=>(z._ma_malloc_emscripten=qn.ma_malloc_emscripten)(f,d),z._ma_free_emscripten=(f,d)=>(z._ma_free_emscripten=qn.ma_free_emscripten)(f,d);var nu=z._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(nu=z._ma_device_process_pcm_frames_capture__webaudio=qn.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),iu=z._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(iu=z._ma_device_process_pcm_frames_playback__webaudio=qn.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);z.dynCall_iiji=(f,d,_,S,N)=>(z.dynCall_iiji=qn.dynCall_iiji)(f,d,_,S,N),z.dynCall_jiji=(f,d,_,S,N)=>(z.dynCall_jiji=qn.dynCall_jiji)(f,d,_,S,N),z.dynCall_iiiji=(f,d,_,S,N,U)=>(z.dynCall_iiiji=qn.dynCall_iiiji)(f,d,_,S,N,U),z.dynCall_iij=(f,d,_,S)=>(z.dynCall_iij=qn.dynCall_iij)(f,d,_,S),z.dynCall_jii=(f,d,_)=>(z.dynCall_jii=qn.dynCall_jii)(f,d,_),z.dynCall_viijii=(f,d,_,S,N,U,Z)=>(z.dynCall_viijii=qn.dynCall_viijii)(f,d,_,S,N,U,Z),z.dynCall_iiiiij=(f,d,_,S,N,U,Z)=>(z.dynCall_iiiiij=qn.dynCall_iiiiij)(f,d,_,S,N,U,Z),z.dynCall_iiiiijj=(f,d,_,S,N,U,Z,ee,he)=>(z.dynCall_iiiiijj=qn.dynCall_iiiiijj)(f,d,_,S,N,U,Z,ee,he),z.dynCall_iiiiiijj=(f,d,_,S,N,U,Z,ee,he,ue)=>(z.dynCall_iiiiiijj=qn.dynCall_iiiiiijj)(f,d,_,S,N,U,Z,ee,he,ue);var Ns;Nt=function f(){Ns||tl(),Ns||(Nt=f)};function tl(){function f(){if(!Ns&&(Ns=!0,z.calledRun=!0,!de)){if(z.noFSInit||Ha||(Ha=!0,z.stdin=z.stdin,z.stdout=z.stdout,z.stderr=z.stderr,z.stdin?wr("stdin",z.stdin):Pi("/dev/tty","/dev/stdin"),z.stdout?wr("stdout",null,z.stdout):Pi("/dev/tty","/dev/stdout"),z.stderr?wr("stderr",null,z.stderr):Pi("/dev/tty1","/dev/stderr"),Gr("/dev/stdin",0),Gr("/dev/stdout",1),Gr("/dev/stderr",1)),qr=!1,C(kt),Ve(z),z.onRuntimeInitialized&&z.onRuntimeInitialized(),z.postRun)for(typeof z.postRun=="function"&&(z.postRun=[z.postRun]);z.postRun.length;){var d=z.postRun.shift();gn.unshift(d)}C(gn)}}if(!(0<St)){if(z.preRun)for(typeof z.preRun=="function"&&(z.preRun=[z.preRun]);z.preRun.length;)dt();C(wt),0<St||(z.setStatus?(z.setStatus("Running..."),setTimeout(function(){setTimeout(function(){z.setStatus("")},1),f()},1)):f())}}if(z.preInit)for(typeof z.preInit=="function"&&(z.preInit=[z.preInit]);0<z.preInit.length;)z.preInit.pop()();return tl(),re=ze,re})})();const M=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function M(O,G,re,z){this.animation=O,this.artboard=G,this.playing=z,this.loopCount=0,this.scrubTo=null,this.instance=new re.LinearAnimationInstance(O,G)}return Object.defineProperty(M.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"time",{get:function(){return this.instance.time},set:function(O){this.instance.time=O},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),M.prototype.advance=function(O){this.scrubTo===null?this.instance.advance(O):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},M.prototype.apply=function(O){this.instance.apply(O)},M.prototype.cleanup=function(){this.instance.delete()},M})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>O.AudioAssetWrapper,AudioWrapper:()=>O.AudioWrapper,BLANK_URL:()=>M.BLANK_URL,CustomFileAssetLoaderWrapper:()=>O.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>O.FileAssetWrapper,FileFinalizer:()=>O.FileFinalizer,FontAssetWrapper:()=>O.FontAssetWrapper,FontWrapper:()=>O.FontWrapper,ImageAssetWrapper:()=>O.ImageAssetWrapper,ImageWrapper:()=>O.ImageWrapper,createFinalization:()=>O.createFinalization,finalizationRegistry:()=>O.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>M.sanitizeUrl});var E=w(6),M=w(7),O=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>O});var E=void 0,M=function(G,re,z){var Ve,Ae,ze=[];if(["touchstart","touchmove"].indexOf(G.type)>-1&&(!((Ve=G.changedTouches)===null||Ve===void 0)&&Ve.length)){re||G.preventDefault();for(var H=0,Le=z?G.changedTouches.length:1;H<Le;){var nt=G.changedTouches[H];ze.push({clientX:nt.clientX,clientY:nt.clientY,identifier:nt.identifier}),H++}}else if(G.type==="touchend"&&(!((Ae=G.changedTouches)===null||Ae===void 0)&&Ae.length))for(var H=0,Le=z?G.changedTouches.length:1;H<Le;){var nt=G.changedTouches[H];ze.push({clientX:nt.clientX,clientY:nt.clientY,identifier:nt.identifier}),H++}else ze.push({clientX:G.clientX,clientY:G.clientY,identifier:0});return ze},O=function(G){var re=G.canvas,z=G.artboard,Ve=G.stateMachines,Ae=Ve===void 0?[]:Ve,ze=G.renderer,H=G.rive,Le=G.fit,nt=G.alignment,lt=G.isTouchScrollEnabled,at=lt===void 0?!1:lt,Y=G.dispatchPointerExit,B=Y===void 0?!0:Y,P=G.enableMultiTouch,F=P===void 0?!1:P,R=G.layoutScaleFactor,L=R===void 0?1:R;if(!re||!Ae.length||!ze||!H||!z||typeof window>"u")return null;var x=null,$=!1,ie=function(J){if($&&J instanceof MouseEvent){J.type=="mouseup"&&($=!1);return}$=at&&J.type==="touchend"&&x==="touchstart",x=J.type;var ye=J.currentTarget.getBoundingClientRect(),de=M(J,at,F),Ie=H.computeAlignment(Le,nt,{minX:0,minY:0,maxX:ye.width,maxY:ye.height},z.bounds,L),j=new H.Mat2D;switch(Ie.invert(j),de.forEach(function(Dt){var Fe=Dt.clientX,sn=Dt.clientY;if(!(!Fe&&!sn)){var hn=Fe-ye.left,_r=sn-ye.top,$n=new H.Vec2D(hn,_r),tn=H.mapXY(j,$n),Pn=tn.x(),C=tn.y();Dt.transformedX=Pn,Dt.transformedY=C,tn.delete(),$n.delete()}}),j.delete(),Ie.delete(),J.type){case"mouseout":for(var se=function(Dt){B?de.forEach(function(Fe){Dt.pointerExit(Fe.transformedX,Fe.transformedY,Fe.identifier)}):de.forEach(function(Fe){Dt.pointerMove(Fe.transformedX,Fe.transformedY,Fe.identifier)})},Re=0,Te=Ae;Re<Te.length;Re++){var De=Te[Re];se(De)}break;case"touchmove":case"mouseover":case"mousemove":{for(var We=function(Dt){de.forEach(function(Fe){Dt.pointerMove(Fe.transformedX,Fe.transformedY,Fe.identifier)})},ut=0,pt=Ae;ut<pt.length;ut++){var De=pt[ut];We(De)}break}case"touchstart":case"mousedown":{for(var wt=function(Dt){de.forEach(function(Fe){Dt.pointerDown(Fe.transformedX,Fe.transformedY,Fe.identifier)})},kt=0,gn=Ae;kt<gn.length;kt++){var De=gn[kt];wt(De)}break}case"touchend":{for(var dt=function(Dt){de.forEach(function(Fe){Dt.pointerUp(Fe.transformedX,Fe.transformedY,Fe.identifier),Dt.pointerExit(Fe.transformedX,Fe.transformedY,Fe.identifier)})},St=0,Nt=Ae;St<Nt.length;St++){var De=Nt[St];dt(De)}break}case"mouseup":{for(var bt=function(Dt){de.forEach(function(Fe){Dt.pointerUp(Fe.transformedX,Fe.transformedY,Fe.identifier)})},Xt=0,Et=Ae;Xt<Et.length;Xt++){var De=Et[Xt];bt(De)}break}}},q=ie.bind(E);return re.addEventListener("mouseover",q),re.addEventListener("mouseout",q),re.addEventListener("mousemove",q),re.addEventListener("mousedown",q),re.addEventListener("mouseup",q),re.addEventListener("touchmove",q,{passive:at}),re.addEventListener("touchstart",q,{passive:at}),re.addEventListener("touchend",q),function(){re.removeEventListener("mouseover",q),re.removeEventListener("mouseout",q),re.removeEventListener("mousemove",q),re.removeEventListener("mousedown",q),re.removeEventListener("mouseup",q),re.removeEventListener("touchmove",q),re.removeEventListener("touchstart",q),re.removeEventListener("touchend",q)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>Ve,sanitizeUrl:()=>H});var E=/^([^\w]*)(javascript|data|vbscript)/im,M=/&#(\w+)(^\w|;)?/g,O=/&(newline|tab);/gi,G=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,re=/^.+(:|&colon;)/gim,z=[".","/"],Ve="about:blank";function Ae(Le){return z.indexOf(Le[0])>-1}function ze(Le){var nt=Le.replace(G,"");return nt.replace(M,function(lt,at){return String.fromCharCode(at)})}function H(Le){if(!Le)return Ve;var nt=ze(Le).replace(O,"").replace(G,"").trim();if(!nt)return Ve;if(Ae(nt))return nt;var lt=nt.match(re);if(!lt)return nt;var at=lt[0];return E.test(at)?Ve:nt}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>Le,AudioWrapper:()=>z,CustomFileAssetLoaderWrapper:()=>Ae,FileAssetWrapper:()=>ze,FileFinalizer:()=>M,FontAssetWrapper:()=>nt,FontWrapper:()=>Ve,ImageAssetWrapper:()=>H,ImageWrapper:()=>re,createFinalization:()=>B,finalizationRegistry:()=>Y});var E=(function(){var P=function(F,R){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,x){L.__proto__=x}||function(L,x){for(var $ in x)Object.prototype.hasOwnProperty.call(x,$)&&(L[$]=x[$])},P(F,R)};return function(F,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");P(F,R);function L(){this.constructor=F}F.prototype=R===null?Object.create(R):(L.prototype=R.prototype,new L)}})(),M=(function(){function P(F){this.selfUnref=!1,this._file=F}return P.prototype.unref=function(){this._file&&this._file.unref()},P})(),O=(function(){function P(F){this._finalizableObject=F}return P.prototype.unref=function(){this._finalizableObject.unref()},P})(),G=(function(){function P(){this.selfUnref=!1}return P.prototype.unref=function(){},P})(),re=(function(P){E(F,P);function F(R){var L=P.call(this)||this;return L._nativeImage=R,L}return Object.defineProperty(F.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),F.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},F})(G),z=(function(P){E(F,P);function F(R){var L=P.call(this)||this;return L._nativeAudio=R,L}return Object.defineProperty(F.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),F.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},F})(G),Ve=(function(P){E(F,P);function F(R){var L=P.call(this)||this;return L._nativeFont=R,L}return Object.defineProperty(F.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),F.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},F})(G),Ae=(function(){function P(F,R){this._assetLoaderCallback=R,this.assetLoader=new F.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return P.prototype.loadContents=function(F,R){var L;return F.isImage?L=new H(F):F.isAudio?L=new Le(F):F.isFont&&(L=new nt(F)),this._assetLoaderCallback(L,R)},P})(),ze=(function(){function P(F){this._nativeFileAsset=F}return P.prototype.decode=function(F){this._nativeFileAsset.decode(F)},Object.defineProperty(P.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),P})(),H=(function(P){E(F,P);function F(){return P!==null&&P.apply(this,arguments)||this}return F.prototype.setRenderImage=function(R){this._nativeFileAsset.setRenderImage(R.nativeImage)},F})(ze),Le=(function(P){E(F,P);function F(){return P!==null&&P.apply(this,arguments)||this}return F.prototype.setAudioSource=function(R){this._nativeFileAsset.setAudioSource(R.nativeAudio)},F})(ze),nt=(function(P){E(F,P);function F(){return P!==null&&P.apply(this,arguments)||this}return F.prototype.setFont=function(R){this._nativeFileAsset.setFont(R.nativeFont)},F})(ze),lt=(function(){function P(F){}return P.prototype.register=function(F){F.selfUnref=!0},P.prototype.unregister=function(F){},P})(),at=typeof FinalizationRegistry<"u"?FinalizationRegistry:lt,Y=new at(function(P){P?.unref()}),B=function(P,F){var R=new O(F);Y.register(P,R)}})],a={};function l(p){var b=a[p];if(b!==void 0)return b.exports;var w=a[p]={exports:{}};return i[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>H,DataEnum:()=>ut,EventType:()=>x,Fit:()=>ze,Layout:()=>Le,LoopType:()=>$,Rive:()=>De,RiveEventType:()=>Y,RiveFile:()=>Te,RuntimeLoader:()=>nt,StateMachineInput:()=>at,StateMachineInputType:()=>lt,Testing:()=>_r,ViewModel:()=>We,ViewModelInstance:()=>wt,ViewModelInstanceArtboard:()=>Fe,ViewModelInstanceAssetImage:()=>Dt,ViewModelInstanceBoolean:()=>St,ViewModelInstanceColor:()=>Et,ViewModelInstanceEnum:()=>bt,ViewModelInstanceList:()=>Xt,ViewModelInstanceNumber:()=>dt,ViewModelInstanceString:()=>gn,ViewModelInstanceTrigger:()=>Nt,ViewModelInstanceValue:()=>kt,decodeAudio:()=>$n,decodeFont:()=>Pn,decodeImage:()=>tn});var p=l(1),b=l(2),w=l(3),E=l(5),M=(function(){var C=function(g,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,W){k.__proto__=W}||function(k,W){for(var me in W)Object.prototype.hasOwnProperty.call(W,me)&&(k[me]=W[me])},C(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(g,v);function k(){this.constructor=g}g.prototype=v===null?Object.create(v):(k.prototype=v.prototype,new k)}})(),O=function(){return O=Object.assign||function(C){for(var g,v=1,k=arguments.length;v<k;v++){g=arguments[v];for(var W in g)Object.prototype.hasOwnProperty.call(g,W)&&(C[W]=g[W])}return C},O.apply(this,arguments)},G=function(C,g,v,k){function W(me){return me instanceof v?me:new v(function(Ne){Ne(me)})}return new(v||(v=Promise))(function(me,Ne){function Ke($e){try{Ge(k.next($e))}catch(Ft){Ne(Ft)}}function tt($e){try{Ge(k.throw($e))}catch(Ft){Ne(Ft)}}function Ge($e){$e.done?me($e.value):W($e.value).then(Ke,tt)}Ge((k=k.apply(C,g||[])).next())})},re=function(C,g){var v={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},k,W,me,Ne=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ne.next=Ke(0),Ne.throw=Ke(1),Ne.return=Ke(2),typeof Symbol=="function"&&(Ne[Symbol.iterator]=function(){return this}),Ne;function Ke(Ge){return function($e){return tt([Ge,$e])}}function tt(Ge){if(k)throw new TypeError("Generator is already executing.");for(;Ne&&(Ne=0,Ge[0]&&(v=0)),v;)try{if(k=1,W&&(me=Ge[0]&2?W.return:Ge[0]?W.throw||((me=W.return)&&me.call(W),0):W.next)&&!(me=me.call(W,Ge[1])).done)return me;switch(W=0,me&&(Ge=[Ge[0]&2,me.value]),Ge[0]){case 0:case 1:me=Ge;break;case 4:return v.label++,{value:Ge[1],done:!1};case 5:v.label++,W=Ge[1],Ge=[0];continue;case 7:Ge=v.ops.pop(),v.trys.pop();continue;default:if(me=v.trys,!(me=me.length>0&&me[me.length-1])&&(Ge[0]===6||Ge[0]===2)){v=0;continue}if(Ge[0]===3&&(!me||Ge[1]>me[0]&&Ge[1]<me[3])){v.label=Ge[1];break}if(Ge[0]===6&&v.label<me[1]){v.label=me[1],me=Ge;break}if(me&&v.label<me[2]){v.label=me[2],v.ops.push(Ge);break}me[2]&&v.ops.pop(),v.trys.pop();continue}Ge=g.call(C,v)}catch($e){Ge=[6,$e],W=0}finally{k=me=0}if(Ge[0]&5)throw Ge[1];return{value:Ge[0]?Ge[1]:void 0,done:!0}}},z=function(C,g,v){if(v||arguments.length===2)for(var k=0,W=g.length,me;k<W;k++)(me||!(k in g))&&(me||(me=Array.prototype.slice.call(g,0,k)),me[k]=g[k]);return C.concat(me||Array.prototype.slice.call(g))},Ve=(function(C){M(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Ae=function(C){return C&&C.isHandledError?C.message:"Problem loading file; may be corrupt!"},ze;(function(C){C.Cover="cover",C.Contain="contain",C.Fill="fill",C.FitWidth="fitWidth",C.FitHeight="fitHeight",C.None="none",C.ScaleDown="scaleDown",C.Layout="layout"})(ze||(ze={}));var H;(function(C){C.Center="center",C.TopLeft="topLeft",C.TopCenter="topCenter",C.TopRight="topRight",C.CenterLeft="centerLeft",C.CenterRight="centerRight",C.BottomLeft="bottomLeft",C.BottomCenter="bottomCenter",C.BottomRight="bottomRight"})(H||(H={}));var Le=(function(){function C(g){var v,k,W,me,Ne,Ke,tt;this.fit=(v=g?.fit)!==null&&v!==void 0?v:ze.Contain,this.alignment=(k=g?.alignment)!==null&&k!==void 0?k:H.Center,this.layoutScaleFactor=(W=g?.layoutScaleFactor)!==null&&W!==void 0?W:1,this.minX=(me=g?.minX)!==null&&me!==void 0?me:0,this.minY=(Ne=g?.minY)!==null&&Ne!==void 0?Ne:0,this.maxX=(Ke=g?.maxX)!==null&&Ke!==void 0?Ke:0,this.maxY=(tt=g?.maxY)!==null&&tt!==void 0?tt:0}return C.new=function(g){var v=g.fit,k=g.alignment,W=g.minX,me=g.minY,Ne=g.maxX,Ke=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new C({fit:v,alignment:k,minX:W,minY:me,maxX:Ne,maxY:Ke})},C.prototype.copyWith=function(g){var v=g.fit,k=g.alignment,W=g.layoutScaleFactor,me=g.minX,Ne=g.minY,Ke=g.maxX,tt=g.maxY;return new C({fit:v??this.fit,alignment:k??this.alignment,layoutScaleFactor:W??this.layoutScaleFactor,minX:me??this.minX,minY:Ne??this.minY,maxX:Ke??this.maxX,maxY:tt??this.maxY})},C.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===ze.Cover?v=g.Fit.cover:this.fit===ze.Contain?v=g.Fit.contain:this.fit===ze.Fill?v=g.Fit.fill:this.fit===ze.FitWidth?v=g.Fit.fitWidth:this.fit===ze.FitHeight?v=g.Fit.fitHeight:this.fit===ze.ScaleDown?v=g.Fit.scaleDown:this.fit===ze.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},C.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===H.TopLeft?v=g.Alignment.topLeft:this.alignment===H.TopCenter?v=g.Alignment.topCenter:this.alignment===H.TopRight?v=g.Alignment.topRight:this.alignment===H.CenterLeft?v=g.Alignment.centerLeft:this.alignment===H.CenterRight?v=g.Alignment.centerRight:this.alignment===H.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===H.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===H.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},C})(),nt=(function(){function C(){}return C.loadRuntime=function(){p.default({locateFile:function(){return C.wasmURL}}).then(function(g){var v;for(C.runtime=g;C.callBackQueue.length>0;)(v=C.callBackQueue.shift())===null||v===void 0||v(C.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var k="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(C.wasmURL.toLowerCase()!==k)console.warn("Failed to load WASM from ".concat(C.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),C.setWasmUrl(k),C.loadRuntime();else{var W=["Could not load Rive WASM file from ".concat(C.wasmURL," or ").concat(k,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(W)}})},C.getInstance=function(g){C.isLoading||(C.isLoading=!0,C.loadRuntime()),C.runtime?g(C.runtime):C.callBackQueue.push(g)},C.awaitInstance=function(){return new Promise(function(g){return C.getInstance(function(v){return g(v)})})},C.setWasmUrl=function(g){C.wasmURL=g},C.getWasmUrl=function(){return C.wasmURL},C.isLoading=!1,C.callBackQueue=[],C.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),C})(),lt;(function(C){C[C.Number=56]="Number",C[C.Trigger=58]="Trigger",C[C.Boolean=59]="Boolean"})(lt||(lt={}));var at=(function(){function C(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(C.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),C.prototype.fire=function(){this.type===lt.Trigger&&this.runtimeInput.fire()},C.prototype.delete=function(){this.runtimeInput=null},C})(),Y;(function(C){C[C.General=128]="General",C[C.OpenUrl=131]="OpenUrl"})(Y||(Y={}));var B=(function(){function C(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return C})(),P=(function(C){M(g,C);function g(v,k){var W=C.call(this,!1)||this;return W.nativeArtboard=v,W.file=k,W}return g})(B),F=(function(C){M(g,C);function g(v){var k=C.call(this,!0)||this;return k.selfUnref=!1,k.nativeArtboard=v,k}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(B),R=(function(){function C(g,v,k,W){this.stateMachine=g,this.playing=k,this.artboard=W,this.inputs=[],this.instance=new v.StateMachineInstance(g,W),this.initInputs(v)}return Object.defineProperty(C.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),C.prototype.advance=function(g){this.instance.advance(g)},C.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},C.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},C.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},C.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var k=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(k,g))}},C.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new at(lt.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new at(lt.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new at(lt.Trigger,g.asTrigger())},C.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},C.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},C})(),L=(function(){function C(g,v,k,W,me){W===void 0&&(W=[]),me===void 0&&(me=[]),this.runtime=g,this.artboard=v,this.eventManager=k,this.animations=W,this.stateMachines=me}return C.prototype.add=function(g,v,k){if(k===void 0&&(k=!0),g=hn(g),g.length===0)this.animations.forEach(function(on){return on.playing=v}),this.stateMachines.forEach(function(on){return on.playing=v});else for(var W=this.animations.map(function(on){return on.name}),me=this.stateMachines.map(function(on){return on.name}),Ne=0;Ne<g.length;Ne++){var Ke=W.indexOf(g[Ne]),tt=me.indexOf(g[Ne]);if(Ke>=0||tt>=0)Ke>=0?this.animations[Ke].playing=v:this.stateMachines[tt].playing=v;else{var Ge=this.artboard.animationByName(g[Ne]);if(Ge){var $e=new w.Animation(Ge,this.artboard,this.runtime,v);$e.advance(0),$e.apply(1),this.animations.push($e)}else{var Ft=this.artboard.stateMachineByName(g[Ne]);if(Ft){var Mn=new R(Ft,this.runtime,v,this.artboard);this.stateMachines.push(Mn)}}}}return k&&(v?this.eventManager.fire({type:x.Play,data:this.playing}):this.eventManager.fire({type:x.Pause,data:this.paused})),v?this.playing:this.paused},C.prototype.initLinearAnimations=function(g,v){for(var k=this.animations.map(function(tt){return tt.name}),W=0;W<g.length;W++){var me=k.indexOf(g[W]);if(me>=0)this.animations[me].playing=v;else{var Ne=this.artboard.animationByName(g[W]);if(Ne){var Ke=new w.Animation(Ne,this.artboard,this.runtime,v);Ke.advance(0),Ke.apply(1),this.animations.push(Ke)}else console.error("Animation with name ".concat(g[W]," not found."))}}},C.prototype.initStateMachines=function(g,v){for(var k=this.stateMachines.map(function(tt){return tt.name}),W=0;W<g.length;W++){var me=k.indexOf(g[W]);if(me>=0)this.stateMachines[me].playing=v;else{var Ne=this.artboard.stateMachineByName(g[W]);if(Ne){var Ke=new R(Ne,this.runtime,v,this.artboard);this.stateMachines.push(Ke)}else console.warn("State Machine with name ".concat(g[W]," not found.")),this.initLinearAnimations([g[W]],v)}}},C.prototype.play=function(g){return this.add(g,!0)},C.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},C.prototype.pause=function(g){return this.add(g,!1)},C.prototype.scrub=function(g,v){var k=this.animations.filter(function(W){return g.includes(W.name)});return k.forEach(function(W){return W.scrubTo=v}),k.map(function(W){return W.name})},Object.defineProperty(C.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),C.prototype.stop=function(g){var v=this;g=hn(g);var k=[];if(g.length===0)k=this.animations.map(function(Ne){return Ne.name}).concat(this.stateMachines.map(function(Ne){return Ne.name})),this.animations.forEach(function(Ne){return Ne.cleanup()}),this.stateMachines.forEach(function(Ne){return Ne.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var W=this.animations.filter(function(Ne){return g.includes(Ne.name)});W.forEach(function(Ne){Ne.cleanup(),v.animations.splice(v.animations.indexOf(Ne),1)});var me=this.stateMachines.filter(function(Ne){return g.includes(Ne.name)});me.forEach(function(Ne){Ne.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ne),1)}),k=W.map(function(Ne){return Ne.name}).concat(me.map(function(Ne){return Ne.name}))}return this.eventManager.fire({type:x.Stop,data:k}),k},Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),C.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var k;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([k=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([k=this.artboard.stateMachineByIndex(0).name],g,v)),k},C.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(W){return W.playing});g<v.length;g++){var k=v[g];k.loopValue===0&&k.loopCount?(k.loopCount=0,this.stop(k.name)):k.loopValue===1&&k.loopCount?(this.eventManager.fire({type:x.Loop,data:{animation:k.name,type:$.Loop}}),k.loopCount=0):k.loopValue===2&&k.loopCount>1&&(this.eventManager.fire({type:x.Loop,data:{animation:k.name,type:$.PingPong}}),k.loopCount=0)}},C.prototype.handleStateChanges=function(){for(var g=[],v=0,k=this.stateMachines.filter(function(me){return me.playing});v<k.length;v++){var W=k[v];g.push.apply(g,W.statesChanged)}g.length>0&&this.eventManager.fire({type:x.StateChange,data:g})},C.prototype.handleAdvancing=function(g){this.eventManager.fire({type:x.Advance,data:g})},C})(),x;(function(C){C.Load="load",C.LoadError="loaderror",C.Play="play",C.Pause="pause",C.Stop="stop",C.Loop="loop",C.Draw="draw",C.Advance="advance",C.StateChange="statechange",C.RiveEvent="riveevent",C.AudioStatusChange="audiostatuschange"})(x||(x={}));var $;(function(C){C.OneShot="oneshot",C.Loop="loop",C.PingPong="pingpong"})($||($={}));var ie=(function(){function C(g){g===void 0&&(g=[]),this.listeners=g}return C.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},C.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},C.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var k=this.listeners[v];if(k.type===g.type&&k.callback===g.callback){this.listeners.splice(v,1);break}}},C.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(k){return k.type===g}).forEach(function(k){return v.remove(k)}):this.listeners.splice(0,this.listeners.length)},C.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(k){return k.callback(g)})},C})(),q=(function(){function C(g){this.eventManager=g,this.queue=[]}return C.prototype.add=function(g){this.queue.push(g)},C.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},C})(),J;(function(C){C[C.AVAILABLE=0]="AVAILABLE",C[C.UNAVAILABLE=1]="UNAVAILABLE"})(J||(J={}));var ye=(function(C){M(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=J.UNAVAILABLE,v}return g.prototype.delay=function(v){return G(this,void 0,void 0,function(){return re(this,function(k){return[2,new Promise(function(W){return setTimeout(W,v)})]})})},g.prototype.timeout=function(){return G(this,void 0,void 0,function(){return re(this,function(v){return[2,new Promise(function(k,W){return setTimeout(W,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:x.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){return this._enabled||(this._enabled=!0,this._status=J.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){switch(v.label){case 0:if(!(this._status===J.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==J.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,k=function(){return G(v,void 0,void 0,function(){return re(this,function(W){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",k,{once:!0})},g.prototype.establishAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===J.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(ie),de=new ye,Ie=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),j=globalThis.ResizeObserver||Ie,se=(function(){function C(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var k=g._elementsMap.get(v.target);k!==null?k.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new j(this._onObserved)}return C.prototype.add=function(g,v){var k={onResize:v,element:g};return this._elementsMap.set(g,k),this._resizeObserver.observe(g),k},C.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},C})(),Re=new se,Te=(function(){function C(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new ie,g.onLoad&&this.on(x.Load,g.onLoad),g.onLoadError&&this.on(x.LoadError,g.onLoadError)}return C.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},C.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},C.prototype.initData=function(){return G(this,void 0,void 0,function(){var g,v,k,W,me;return re(this,function(Ne){switch(Ne.label){case 0:return this.src?(g=this,[4,sn(this.src)]):[3,2];case 1:g.buffer=Ne.sent(),Ne.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(k=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=k.assetLoader),W=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return W.file=Ne.sent(),me=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,me),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:x.Load,data:this}):this.fireLoadError(C.fileLoadErrorMessage),[2])}})})},C.prototype.init=function(){return G(this,void 0,void 0,function(){var g,v;return re(this,function(k){switch(k.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(C.missingErrorMessage),[2];k.label=1;case 1:return k.trys.push([1,4,,5]),g=this,[4,nt.awaitInstance()];case 2:return g.runtime=k.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return k.sent(),[3,5];case 4:return v=k.sent(),this.fireLoadError(v instanceof Error?v.message:C.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},C.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:x.LoadError,data:g}),new Error(g)},C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},C.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},C.prototype.createBindableArtboard=function(g){if(g!=null){var v=new F(g);return(0,E.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},C.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new P(v,this)},C.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},C.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},C.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},C.missingErrorMessage="Rive source file or data buffer required",C.fileLoadErrorMessage="The file failed to load",C})(),De=(function(){function C(g){var v=this,k;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(W){var me=v._hasZeroSize!==W;v._hasZeroSize=W,W?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():me&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Re.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(k=g.layout)!==null&&k!==void 0?k:new Le,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new ie,g.onLoad&&this.on(x.Load,g.onLoad),g.onLoadError&&this.on(x.LoadError,g.onLoadError),g.onPlay&&this.on(x.Play,g.onPlay),g.onPause&&this.on(x.Pause,g.onPause),g.onStop&&this.on(x.Stop,g.onStop),g.onLoop&&this.on(x.Loop,g.onLoop),g.onStateChange&&this.on(x.StateChange,g.onStateChange),g.onAdvance&&this.on(x.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(x.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(x.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(x.Play,g.onplay),g.onpause&&!g.onPause&&this.on(x.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(x.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(x.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(x.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new q(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(C.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),C.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new C(g)},C.prototype.onSystemAudioChanged=function(){this.volume=this._volume},C.prototype.init=function(g){var v=this,k=g.src,W=g.buffer,me=g.riveFile,Ne=g.animations,Ke=g.stateMachines,tt=g.artboard,Ge=g.autoplay,$e=Ge===void 0?!1:Ge,Ft=g.useOffscreenRenderer,Mn=Ft===void 0?!1:Ft,on=g.autoBind,jn=on===void 0?!1:on;if(!this.destroyed){if(this.src=k,this.buffer=W,this.riveFile=me,!this.src&&!this.buffer&&!this.riveFile)throw new Ve(C.missingErrorMessage);var Lt=hn(Ne),Ut=hn(Ke);this.loaded=!1,this.readyForPlaying=!1,nt.awaitInstance().then(function(Un){v.destroyed||(v.runtime=Un,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,Mn),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(tt,Lt,Ut,$e,jn).then(function(yn){if(yn)return v.setupRiveListeners()}).catch(function(yn){console.error(yn)}))}).catch(function(Un){console.error(Un)})}},C.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var k=(this.animator.stateMachines||[]).filter(function(Ke){return Ke.playing&&v.runtime.hasListeners(Ke.instance)}).map(function(Ke){return Ke.instance}),W=this.isTouchScrollEnabled,me=this.dispatchPointerExit,Ne=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(W=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:k,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:W,dispatchPointerExit:me,enableMultiTouch:Ne,layoutScaleFactor:this._layout.layoutScaleFactor})}},C.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},C.prototype.initializeAudio=function(){var g=this,v;de.status==J.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:x.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},de.add(this._audioEventListener),de.establishAudio())},C.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},C.prototype.initData=function(g,v,k,W,me){return G(this,void 0,void 0,function(){var Ne,Ke,tt,Ge;return re(this,function($e){switch($e.label){case 0:return $e.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ne=new Te({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ne,[4,Ne.init()]);case 1:if($e.sent(),this.destroyed)return Ne.destroyIfUnused(),[2,!1];$e.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,k,W,me),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:x.Load,data:(Ge=this.src)!==null&&Ge!==void 0?Ge:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Ke=$e.sent(),tt=Ae(Ke),console.warn(tt),this.eventManager.fire({type:x.LoadError,data:tt}),[2,Promise.reject(tt)];case 4:return[2]}})})},C.prototype.initArtboard=function(g,v,k,W,me){if(this.file){var Ne=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ne){var Ke="Invalid artboard name or no default artboard";console.warn(Ke),this.eventManager.fire({type:x.LoadError,data:Ke});return}this.artboard=Ne,Ne.volume=this._volume*de.systemVolume,this.animator=new L(this.runtime,this.artboard,this.eventManager);var tt;if(v.length>0||k.length>0?(tt=v.concat(k),this.animator.initLinearAnimations(v,W),this.animator.initStateMachines(k,W)):tt=[this.animator.atLeastOne(W,!1)],this.taskQueue.add({event:{type:W?x.Play:x.Pause,data:tt}}),me){var Ge=this.file.defaultArtboardViewModel(Ne);if(Ge!==null){var $e=Ge.defaultInstance();if($e!==null){var Ft=new wt($e,null);(0,E.createFinalization)(Ft,Ft.runtimeInstance),this.bindViewModelInstance(Ft)}}}}},C.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},C.prototype.draw=function(g,v){var k;this.frameRequestId=null;var W=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var me=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ne=this.animator.animations.filter(function(sr){return sr.playing||sr.needsScrub}).sort(function(sr){return sr.needsScrub?-1:1}),Ke=0,tt=Ne;Ke<tt.length;Ke++){var Ge=tt[Ke];Ge.advance(me),Ge.instance.didLoop&&(Ge.loopCount+=1),Ge.apply(1)}for(var $e=this.animator.stateMachines.filter(function(sr){return sr.playing}),Ft=0,Mn=$e;Ft<Mn.length;Ft++){var on=Mn[Ft],jn=on.reportedEventCount();if(jn)for(var Lt=0;Lt<jn;Lt++){var Ut=on.reportedEventAt(Lt);if(Ut)if(Ut.type===Y.OpenUrl){if(this.eventManager.fire({type:x.RiveEvent,data:Ut}),this.automaticallyHandleEvents){var Un=document.createElement("a"),yn=Ut,Qn=yn.url,Si=yn.target,mt=(0,E.sanitizeUrl)(Qn);Qn&&Un.setAttribute("href",mt),Si&&Un.setAttribute("target",Si),mt&&mt!==E.BLANK_URL&&Un.click()}}else this.eventManager.fire({type:x.RiveEvent,data:Ut})}on.advanceAndApply(me)}this.animator.stateMachines.length==0&&this.artboard.advance(me);var zn=this.renderer;zn.clear(),zn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(zn),zn.restore(),zn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(me),this.frameCount++;var Tt=performance.now();for(this.frameTimes.push(Tt),this.durations.push(Tt-W);this.frameTimes[0]<=Tt-1e3;)this.frameTimes.shift(),this.durations.shift();(k=this._viewModelInstance)===null||k===void 0||k.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},C.prototype.alignRenderer=function(){var g=this,v=g.renderer,k=g.runtime,W=g._layout,me=g.artboard;v.align(W.runtimeFit(k),W.runtimeAlignment(k),{minX:W.minX,minY:W.minY,maxX:W.maxX,maxY:W.maxY},me.bounds,this._devicePixelRatioUsed*W.layoutScaleFactor)},Object.defineProperty(C.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),C.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Re.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(de.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},C.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},C.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},C.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var k=this.artboard.textRun(g);if(!k){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return k},C.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},C.prototype.setTextRunValue=function(g,v){var k=this.retrieveTextRun(g);k&&(k.text=v)},C.prototype.play=function(g,v){var k=this;if(g=hn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return k.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},C.prototype.pause=function(g){var v=this;if(g=hn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},C.prototype.scrub=function(g,v){var k=this;if(g=hn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return k.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},C.prototype.stop=function(g){var v=this;if(g=hn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},C.prototype.reset=function(g){var v,k,W=g?.artboard,me=hn(g?.animations),Ne=hn(g?.stateMachines),Ke=(v=g?.autoplay)!==null&&v!==void 0?v:!1,tt=(k=g?.autoBind)!==null&&k!==void 0?k:!1;this.cleanupInstances(),this.initArtboard(W,me,Ne,Ke,tt),this.taskQueue.process()},C.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(C.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),C.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},C.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),k=v.width,W=v.height,me=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=me,this.canvas.width=me*k,this.canvas.height=me*W,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===ze.Layout){var Ne=this._layout.layoutScaleFactor;this.artboard.width=k/Ne,this.artboard.height=W/Ne}}},Object.defineProperty(C.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),C.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(k){return k.name===g});return v?.inputs}},C.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var k=this.artboard.inputByPath(g,v);if(!k){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return k},C.prototype.setBooleanStateAtPath=function(g,v,k){var W=this.retrieveInputAtPath(g,k);W&&(W.type===lt.Boolean?W.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(k,"' is not a boolean")))},C.prototype.setNumberStateAtPath=function(g,v,k){var W=this.retrieveInputAtPath(g,k);W&&(W.type===lt.Number?W.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(k,"' is not a number")))},C.prototype.fireStateAtPath=function(g,v){var k=this.retrieveInputAtPath(g,v);k&&(k.type===lt.Trigger?k.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},C.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var k=this.artboard.textByPath(g,v);if(!k){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return k},C.prototype.getTextRunValueAtPath=function(g,v){var k=this.retrieveTextAtPath(g,v);if(!k){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return k.text},C.prototype.setTextRunValueAtPath=function(g,v,k){var W=this.retrieveTextAtPath(g,k);if(!W){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(k,"'"));return}W.text=v},Object.defineProperty(C.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},C.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},C.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},C.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},C.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(C.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var k=this.file.artboardByIndex(v),W={name:k.name,animations:[],stateMachines:[]},me=0;me<k.animationCount();me++){var Ne=k.animationByIndex(me);W.animations.push(Ne.name)}for(var Ke=0;Ke<k.stateMachineCount();Ke++){for(var tt=k.stateMachineByIndex(Ke),Ge=tt.name,$e=new this.runtime.StateMachineInstance(tt,k),Ft=[],Mn=0;Mn<$e.inputCount();Mn++){var on=$e.input(Mn);Ft.push({name:on.name,type:on.type})}W.stateMachines.push({name:Ge,inputs:Ft})}g.artboards.push(W)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*de.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),C.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(C.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),C.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(k){return k.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(C.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),C.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new We(v):null},C.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new We(v):null},C.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new ut(v)})}return this._dataEnums},C.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new We(g)}return null},C.prototype.getArtboard=function(g){var v,k;return(k=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&k!==void 0?k:null},C.prototype.getBindableArtboard=function(g){var v,k;return(k=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&k!==void 0?k:null},C.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},C.missingErrorMessage="Rive source file or data buffer required",C.cleanupErrorMessage="Attempt to use file after calling cleanup.",C})(),We=(function(){function C(g){this._viewModel=g}return Object.defineProperty(C.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),C.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var k=new wt(v,null);return(0,E.createFinalization)(k,v),k}return null},C.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var k=new wt(v,null);return(0,E.createFinalization)(k,v),k}return null},C.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new wt(g,null);return(0,E.createFinalization)(v,g),v}return null},C.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new wt(g,null);return(0,E.createFinalization)(v,g),v}return null},Object.defineProperty(C.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),C})(),ut=(function(){function C(g){this._dataEnum=g}return Object.defineProperty(C.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),C})(),pt;(function(C){C.Number="number",C.String="string",C.Boolean="boolean",C.Color="color",C.Trigger="trigger",C.Enum="enum",C.List="list",C.Image="image",C.Artboard="artboard"})(pt||(pt={}));var wt=(function(){function C(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(C.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),C.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},C.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},C.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var k=this._parents[v];k.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},C.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(k){k.addToViewModelCallbacks(v)}))},C.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(k){return k!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(k){k.removeFromViewModelCallbacks(v)}))},C.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(k){k.addToViewModelCallbacks(v)}))},C.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(k){return k!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(k){k.removeFromViewModelCallbacks(v)}))},C.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},C.prototype.propertyFromPath=function(g,v){var k=g.split("/");return this.propertyFromPathSegments(k,0,v)},C.prototype.viewModelFromPathSegments=function(g,v){var k=this.internalViewModelInstance(g[v]);return k!==null?v==g.length-1?k:k.viewModelFromPathSegments(g,v++):null},C.prototype.propertyFromPathSegments=function(g,v,k){var W,me,Ne,Ke,tt,Ge,$e,Ft,Mn,on,jn,Lt,Ut,Un,yn,Qn,Si,mt;if(v<g.length-1){var zn=this.internalViewModelInstance(g[v]);return zn!==null?zn.propertyFromPathSegments(g,v+1,k):null}var Tt=null;switch(k){case pt.Number:if(Tt=(me=(W=this._runtimeInstance)===null||W===void 0?void 0:W.number(g[v]))!==null&&me!==void 0?me:null,Tt!==null)return new dt(Tt,this);break;case pt.String:if(Tt=(Ke=(Ne=this._runtimeInstance)===null||Ne===void 0?void 0:Ne.string(g[v]))!==null&&Ke!==void 0?Ke:null,Tt!==null)return new gn(Tt,this);break;case pt.Boolean:if(Tt=(Ge=(tt=this._runtimeInstance)===null||tt===void 0?void 0:tt.boolean(g[v]))!==null&&Ge!==void 0?Ge:null,Tt!==null)return new St(Tt,this);break;case pt.Color:if(Tt=(Ft=($e=this._runtimeInstance)===null||$e===void 0?void 0:$e.color(g[v]))!==null&&Ft!==void 0?Ft:null,Tt!==null)return new Et(Tt,this);break;case pt.Trigger:if(Tt=(on=(Mn=this._runtimeInstance)===null||Mn===void 0?void 0:Mn.trigger(g[v]))!==null&&on!==void 0?on:null,Tt!==null)return new Nt(Tt,this);break;case pt.Enum:if(Tt=(Lt=(jn=this._runtimeInstance)===null||jn===void 0?void 0:jn.enum(g[v]))!==null&&Lt!==void 0?Lt:null,Tt!==null)return new bt(Tt,this);break;case pt.List:if(Tt=(Un=(Ut=this._runtimeInstance)===null||Ut===void 0?void 0:Ut.list(g[v]))!==null&&Un!==void 0?Un:null,Tt!==null)return new Xt(Tt,this);break;case pt.Image:if(Tt=(Qn=(yn=this._runtimeInstance)===null||yn===void 0?void 0:yn.image(g[v]))!==null&&Qn!==void 0?Qn:null,Tt!==null)return new Dt(Tt,this);break;case pt.Artboard:if(Tt=(mt=(Si=this._runtimeInstance)===null||Si===void 0?void 0:Si.artboard(g[v]))!==null&&mt!==void 0?mt:null,Tt!==null)return new Fe(Tt,this);break}return null},C.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var k=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(k!==null){var W=new C(k,this);return(0,E.createFinalization)(W,k),W.internalIncrementReferenceCount(),this._viewModelInstances.set(g,W),W}return null},C.prototype.number=function(g){var v=this.propertyFromPath(g,pt.Number);return v},C.prototype.string=function(g){var v=this.propertyFromPath(g,pt.String);return v},C.prototype.boolean=function(g){var v=this.propertyFromPath(g,pt.Boolean);return v},C.prototype.color=function(g){var v=this.propertyFromPath(g,pt.Color);return v},C.prototype.trigger=function(g){var v=this.propertyFromPath(g,pt.Trigger);return v},C.prototype.enum=function(g){var v=this.propertyFromPath(g,pt.Enum);return v},C.prototype.list=function(g){var v=this.propertyFromPath(g,pt.List);return v},C.prototype.image=function(g){var v=this.propertyFromPath(g,pt.Image);return v},C.prototype.artboard=function(g){var v=this.propertyFromPath(g,pt.Artboard);return v},C.prototype.viewModel=function(g){var v=g.split("/"),k=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return k!=null?k.internalViewModelInstance(v[v.length-1]):null},C.prototype.internalReplaceViewModel=function(g,v){var k;if(v.runtimeInstance!==null){var W=((k=this._runtimeInstance)===null||k===void 0?void 0:k.replaceViewModel(g,v.runtimeInstance))||!1;if(W){v.internalIncrementReferenceCount();var me=this.internalViewModelInstance(g);me!==null&&(me.removeParent(this),this._children.includes(me)&&(this._children=this._children.filter(function(Ne){return Ne!==me})),me.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return W}return!1},C.prototype.replaceViewModel=function(g,v){var k,W=g.split("/"),me=W.length>1?this.viewModelFromPathSegments(W.slice(0,W.length-1),0):this;return(k=me?.internalReplaceViewModel(W[W.length-1],v))!==null&&k!==void 0?k:!1},C.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},C.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(C.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return O({},v)}))||[]},enumerable:!1,configurable:!0}),C.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},C.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(me){me.cleanup()}),this._viewModelInstances.clear();var k=z([],this._children,!0);this._children.length=0;var W=z([],this._parents,!0);this._parents.length=0,k.forEach(function(me){me.removeParent(g)}),W.forEach(function(me){me.removeFromViewModelCallbacks(g)})}},C})(),kt=(function(){function C(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return C.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},C.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},C.prototype.internalHandleCallback=function(g){},C.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},C.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},C.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),C})(),gn=(function(C){M(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),dt=(function(C){M(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),St=(function(C){M(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),Nt=(function(C){M(g,C);function g(v,k){return C.call(this,v,k)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(kt),bt=(function(C){M(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),Xt=(function(C){M(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,k){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,k)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var k=this._viewModelInstanceValue.instanceAt(v);if(k!=null){var W=new wt(k,this._parentViewModel);return(0,E.createFinalization)(W,k),W}return null},g.prototype.swap=function(v,k){this._viewModelInstanceValue.swap(v,k)},g.prototype.internalHandleCallback=function(v){v()},g})(kt),Et=(function(C){M(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,k,W){this._viewModelInstanceValue.rgb(v,k,W)},g.prototype.rgba=function(v,k,W,me){this._viewModelInstanceValue.argb(me,v,k,W)},g.prototype.argb=function(v,k,W,me){this._viewModelInstanceValue.argb(v,k,W,me)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),Dt=(function(C){M(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var k;this._viewModelInstanceValue.value((k=v?.nativeImage)!==null&&k!==void 0?k:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(kt),Fe=(function(C){M(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var k,W;v.isBindableArtboard?W=v:W=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((k=W?.nativeArtboard)!==null&&k!==void 0?k:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(kt),sn=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return re(this,function(W){switch(W.label){case 0:return g=new Request(C),[4,fetch(g)];case 1:return v=W.sent(),[4,v.arrayBuffer()];case 2:return k=W.sent(),[2,k]}})})},hn=function(C){return typeof C=="string"?[C]:C instanceof Array?C:[]},_r={EventManager:ie,TaskQueueManager:q},$n=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return re(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return nt.getInstance(function(Ne){Ne.decodeAudio(C,me)})}),[4,g];case 1:return v=W.sent(),k=new E.AudioWrapper(v),E.finalizationRegistry.register(k,v),[2,k]}})})},tn=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return re(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return nt.getInstance(function(Ne){Ne.decodeImage(C,me)})}),[4,g];case 1:return v=W.sent(),k=new E.ImageWrapper(v),E.finalizationRegistry.register(k,v),[2,k]}})})},Pn=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return re(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return nt.getInstance(function(Ne){Ne.decodeFont(C,me)})}),[4,g];case 1:return v=W.sent(),k=new E.FontWrapper(v),E.finalizationRegistry.register(k,v),[2,k]}})})}})(),c})())})(Sh)),Sh.exports}var v0;function sA(){return v0||(v0=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=sf(),i=aA();function a(R){return R&&typeof R=="object"&&"default"in R?R:{default:R}}var l=a(e),c=function(){return c=Object.assign||function(R){for(var L,x=1,$=arguments.length;x<$;x++)for(var ie in L=arguments[x])Object.prototype.hasOwnProperty.call(L,ie)&&(R[ie]=L[ie]);return R},c.apply(this,arguments)};function p(R,L){var x={};for(var $ in R)Object.prototype.hasOwnProperty.call(R,$)&&L.indexOf($)<0&&(x[$]=R[$]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function"){var ie=0;for($=Object.getOwnPropertySymbols(R);ie<$.length;ie++)L.indexOf($[ie])<0&&Object.prototype.propertyIsEnumerable.call(R,$[ie])&&(x[$[ie]]=R[$[ie]])}return x}function b(R,L,x,$){return new(x||(x=Promise))(function(ie,q){function J(Ie){try{de($.next(Ie))}catch(j){q(j)}}function ye(Ie){try{de($.throw(Ie))}catch(j){q(j)}}function de(Ie){var j;Ie.done?ie(Ie.value):(j=Ie.value,j instanceof x?j:new x(function(se){se(j)})).then(J,ye)}de(($=$.apply(R,[])).next())})}function w(R,L){var x,$,ie,q,J={label:0,sent:function(){if(1&ie[0])throw ie[1];return ie[1]},trys:[],ops:[]};return q={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function ye(de){return function(Ie){return(function(j){if(x)throw new TypeError("Generator is already executing.");for(;J;)try{if(x=1,$&&(ie=2&j[0]?$.return:j[0]?$.throw||((ie=$.return)&&ie.call($),0):$.next)&&!(ie=ie.call($,j[1])).done)return ie;switch($=0,ie&&(j=[2&j[0],ie.value]),j[0]){case 0:case 1:ie=j;break;case 4:return J.label++,{value:j[1],done:!1};case 5:J.label++,$=j[1],j=[0];continue;case 7:j=J.ops.pop(),J.trys.pop();continue;default:if(ie=J.trys,!((ie=ie.length>0&&ie[ie.length-1])||j[0]!==6&&j[0]!==2)){J=0;continue}if(j[0]===3&&(!ie||j[1]>ie[0]&&j[1]<ie[3])){J.label=j[1];break}if(j[0]===6&&J.label<ie[1]){J.label=ie[1],ie=j;break}if(ie&&J.label<ie[2]){J.label=ie[2],J.ops.push(j);break}ie[2]&&J.ops.pop(),J.trys.pop();continue}j=L.call(R,J)}catch(se){j=[6,se],$=0}finally{x=ie=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}})([de,Ie])}}}function E(R){var L=R||M(),x=e.useState(L),$=x[0],ie=x[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var q=function(){var ye=R||M();ie(ye)},J=window.matchMedia("screen and (resolution: ".concat($,"dppx)"));return J.hasOwnProperty("addEventListener")?J.addEventListener("change",q):J.addListener(q),function(){J.hasOwnProperty("removeEventListener")?J.removeEventListener("change",q):J.removeListener(q)}}},[$,R]),$}function M(){var R=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,R),3)}var O=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),G=globalThis.ResizeObserver||O,re=globalThis.ResizeObserver!==void 0,z=!re;function Ve(R,L){L===void 0&&(L=!0);var x=e.useState({width:0,height:0}),$=x[0],ie=x[1];e.useEffect(function(){if(typeof window<"u"&&L){var Ie=function(){ie({width:window.innerWidth,height:window.innerHeight})};return z&&(Ie(),window.addEventListener("resize",Ie)),function(){return window.removeEventListener("resize",Ie)}}},[]);var q,J,ye,de=e.useRef(new G((q=function(Ie){re&&ie({width:Ie[Ie.length-1].contentRect.width,height:Ie[Ie.length-1].contentRect.height})},J=0,ye=0,function(){for(var Ie=this,j=[],se=0;se<arguments.length;se++)j[se]=arguments[se];clearTimeout(ye),ye=window.setTimeout(function(){return q.apply(Ie,j)},J)})));return e.useEffect(function(){var Ie=de.current;if(L){var j=R.current;return R.current&&re&&Ie.observe(R.current),function(){Ie.disconnect(),j&&re&&Ie.unobserve(j)}}Ie.disconnect()},[R,de]),$}var Ae={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function ze(R){return Object.assign({},Ae,R)}function H(R){var L=R.riveLoaded,x=L!==void 0&&L,$=R.canvasElem,ie=R.containerRef,q=R.options,J=q===void 0?{}:q,ye=R.onCanvasHasResized,de=R.artboardBounds,Ie=ze(J),j=e.useState({height:0,width:0}),se=j[0],Re=se.height,Te=se.width,De=j[1],We=e.useState({height:0,width:0}),ut=We[0],pt=ut.height,wt=ut.width,kt=We[1],gn=e.useState(!0),dt=gn[0],St=gn[1],Nt=Ie.fitCanvasToArtboardHeight,bt=Ie.shouldResizeCanvasToContainer,Xt=Ie.useDevicePixelRatio,Et=Ie.customDevicePixelRatio,Dt=Ve(ie,bt),Fe=E(Et),sn=de??{},hn=sn.maxX,_r=sn.maxY,$n=e.useCallback(function(){var tn,Pn,C,g,v=(Pn=(tn=ie.current)===null||tn===void 0?void 0:tn.clientWidth)!==null&&Pn!==void 0?Pn:0,k=(g=(C=ie.current)===null||C===void 0?void 0:C.clientHeight)!==null&&g!==void 0?g:0;return Nt&&de?{width:v,height:v*(de.maxY/de.maxX)}:{width:v,height:k}},[ie,Nt,hn,_r]);e.useEffect(function(){if(bt&&ie.current&&x){var tn=$n(),Pn=tn.width,C=tn.height,g=!1;if($){var v=Pn!==Te||C!==Re;if(Ie.fitCanvasToArtboardHeight&&v&&(ie.current.style.height=C+"px",g=!0),Ie.useDevicePixelRatio){if(v||Pn*Fe!==wt||C*Fe!==pt){var k=Fe*Pn,W=Fe*C;$.width=k,$.height=W,$.style.width=Pn+"px",$.style.height=C+"px",kt({width:k,height:W}),g=!0}}else v&&($.width=Pn,$.height=C,kt({width:Pn,height:C}),g=!0);De({width:Pn,height:C})}ye&&(dt||g)&&ye&&ye(),dt&&St(!1)}},[$,ie,Dt,Fe,$n,dt,St,pt,wt,Re,Te,ye,bt,Nt,Xt,x]),e.useEffect(function(){kt({width:0,height:0})},[$])}var Le,nt=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),lt=globalThis.IntersectionObserver||nt,at=(function(){function R(){var L=this;this.elementsMap=new Map,this.onObserved=function(x){x.forEach(function($){var ie=L.elementsMap.get($.target);ie&&ie($)})},this.observer=new lt(this.onObserved)}return R.prototype.registerCallback=function(L,x){this.observer.observe(L),this.elementsMap.set(L,x)},R.prototype.removeCallback=function(L){this.observer.unobserve(L),this.elementsMap.delete(L)},R})(),Y=function(){return Le||(Le=new at),Le};function B(R){var L=R.setContainerRef,x=R.setCanvasRef,$=R.className,ie=$===void 0?"":$,q=R.style,J=R.children,ye=p(R,["setContainerRef","setCanvasRef","className","style","children"]),de=c({width:"100%",height:"100%"},q);return l.default.createElement("div",c({ref:L,className:ie},!ie&&{style:de}),l.default.createElement("canvas",c({ref:x,style:{verticalAlign:"top",width:0,height:0}},ye),J))}function P(R,L){L===void 0&&(L={});var x=e.useState(null),$=x[0],ie=x[1],q=e.useRef(null),J=e.useRef(null),ye=e.useState(null),de=ye[0],Ie=ye[1],j=!!R,se=ze(L),Re=E(),Te=e.useCallback(function(){if(de){if(de.layout&&de.layout.fit===i.Fit.Layout&&$){var dt=Re*de.layout.layoutScaleFactor;de.devicePixelRatioUsed=Re,de.artboardWidth=$?.width/dt,de.artboardHeight=$?.height/dt}de.startRendering(),de.resizeToCanvas()}},[de,Re]);H({riveLoaded:!!de,canvasElem:$,containerRef:q,options:se,onCanvasHasResized:Te,artboardBounds:de?.bounds});var De=e.useCallback(function(dt){dt===null&&$&&($.height=0,$.width=0),ie(dt)},[]);e.useEffect(function(){if($&&R){var dt,St=de!=null;if(de==null){var Nt=se.useOffscreenRenderer,bt=R.onRiveReady,Xt=p(R,["onRiveReady"]);dt=new i.Rive(c(c({useOffscreenRenderer:Nt},Xt),{canvas:$})),J.current!=null&&J.current.cleanup(),J.current=dt,dt.on(i.EventType.Load,function(){St=!0,bt&&bt(dt),$?Ie(dt):dt.cleanup()})}return function(){St||dt==null||dt.cleanup()}}},[$,j,de]);var We=e.useCallback(function(dt){q.current=dt},[]),ut={observe:e.useCallback(function(dt,St){Y().registerCallback(dt,St)},[]),unobserve:e.useCallback(function(dt){Y().removeCallback(dt)},[])},pt=ut.observe,wt=ut.unobserve;e.useEffect(function(){var dt,St=!1,Nt=function(){if($&&St){var bt=$.getBoundingClientRect();bt.width>0&&bt.height>0&&bt.top<(window.innerHeight||document.documentElement.clientHeight)&&bt.bottom>0&&bt.left<(window.innerWidth||document.documentElement.clientWidth)&&bt.right>0&&(de?.startRendering(),St=!1)}};return $&&se.shouldUseIntersectionObserver!==!1&&pt($,function(bt){bt.isIntersecting?de&&de.startRendering():de&&de.stopRendering(),St=!bt.isIntersecting,clearTimeout(dt),bt.isIntersecting||bt.boundingClientRect.width!==0||(dt=setTimeout(Nt,10))}),function(){$&&wt($)}},[pt,wt,de,$,se.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){de&&(de.cleanup(),Ie(null))}},[de,$]),e.useEffect(function(){return function(){J.current!=null&&J.current.cleanup()}},[]);var kt=R?.animations;e.useEffect(function(){de&&kt&&(de.isPlaying?(de.stop(de.animationNames),de.play(kt)):de.isPaused&&(de.stop(de.animationNames),de.pause(kt)))},[kt,de]);var gn=e.useCallback(function(dt){return l.default.createElement(B,c({setContainerRef:We,setCanvasRef:De},dt))},[De,We]);return{canvas:$,container:q.current,setCanvasRef:De,setContainerRef:We,rive:de,RiveComponent:gn}}function F(R,L,x){var $=e.useState(null),ie=$[0],q=$[1],J=e.useState(x.defaultValue),ye=J[0],de=J[1],Ie=e.useState(null),j=Ie[0],se=Ie[1],Re=e.useRef(null),Te=e.useRef(R),De=e.useRef(x);e.useEffect(function(){De.current=x},[x]);var We=e.useCallback(function(){var kt=Re.current,gn=Te.current,dt=De.current;if(!kt||!gn)return q(null),de(dt.defaultValue),se(null),function(){};var St=dt.getProperty(kt,gn);if(St){q(St),de(dt.getValue(St)),dt.getExtendedData&&se(dt.getExtendedData(St));var Nt=function(){de(dt.getValue(St)),dt.getExtendedData&&se(dt.getExtendedData(St)),dt.onPropertyEvent&&dt.onPropertyEvent()};return St.on(Nt),function(){St.off(Nt)}}return function(){}},[]);e.useEffect(function(){return Re.current=L,Te.current=R,We()},[L,R,We]);var ut=e.useCallback(function(kt){if(ie&&Re.current===L)try{return kt(ie),void(De.current.getExtendedData&&se(De.current.getExtendedData(ie)))}catch{}if(Re.current)try{var gn=De.current.getProperty(Re.current,Te.current);gn&&(q(gn),kt(gn),De.current.getExtendedData&&se(De.current.getExtendedData(gn)))}catch{}},[ie,L]),pt=e.useMemo(function(){return De.current.buildPropertyOperations(ut)},[ut]),wt=c({value:ye},pt);return x.getExtendedData&&(wt.extendedData=j),wt}r.default=function(R){var L=R.src,x=R.artboard,$=R.animations,ie=R.stateMachines,q=R.layout,J=R.useOffscreenRenderer,ye=J===void 0||J,de=R.shouldDisableRiveListeners,Ie=de!==void 0&&de,j=R.shouldResizeCanvasToContainer,se=j===void 0||j,Re=R.automaticallyHandleEvents,Te=Re!==void 0&&Re,De=R.children,We=p(R,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),ut=P({src:L,artboard:x,animations:$,layout:q,stateMachines:ie,autoplay:!0,shouldDisableRiveListeners:Ie,automaticallyHandleEvents:Te},{useOffscreenRenderer:ye,shouldResizeCanvasToContainer:se}).RiveComponent;return l.default.createElement(ut,c({},We),De)},r.useResizeCanvas=H,r.useRive=P,r.useRiveFile=function(R){var L=this,x=e.useState(null),$=x[0],ie=x[1],q=e.useState("idle"),J=q[0],ye=q[1];return e.useEffect(function(){var de=null;return b(L,void 0,void 0,function(){return w(this,function(Ie){try{ye("loading"),(de=new i.RiveFile(R)).init(),de.on(i.EventType.Load,function(){de?.getInstance(),ie(de),ye("success")}),de.on(i.EventType.LoadError,function(){ye("failed")}),ie(de)}catch(j){console.error(j),ye("failed")}return[2]})}),function(){de?.cleanup()}},[R.src,R.buffer]),{riveFile:$,status:J}},r.useStateMachineInput=function(R,L,x,$){var ie=e.useState(null),q=ie[0],J=ie[1];return e.useEffect(function(){function ye(){if(R&&L&&x||J(null),R&&L&&x){var de=R.stateMachineInputs(L);if(de){var Ie=de.find(function(j){return j.name===x});$!==void 0&&Ie&&(Ie.value=$),J(Ie||null)}}else J(null)}ye(),R&&R.on(i.EventType.Load,function(){ye()})},[R]),q},r.useViewModel=function(R,L){var x=L??{},$=x.name,ie=x.useDefault,q=ie!==void 0&&ie,J=e.useState(null),ye=J[0],de=J[1];return e.useEffect(function(){function Ie(){var j;if(R){var se=null;se=$!=null?((j=R.viewModelByName)===null||j===void 0?void 0:j.call(R,$))||null:R.defaultViewModel()||null,de(se)}else de(null)}return Ie(),R&&R.on(i.EventType.Load,Ie),function(){R&&R.off(i.EventType.Load,Ie)}},[R,$,q]),ye},r.useViewModelInstance=function(R,L){var x=L??{},$=x.name,ie=x.useDefault,q=ie!==void 0&&ie,J=x.useNew,ye=J!==void 0&&J,de=x.rive,Ie=e.useState(null),j=Ie[0],se=Ie[1];return e.useEffect(function(){var Re,Te,De;if(R){var We=null;We=$!=null?R.instanceByName($)||null:q?((Re=R.defaultInstance)===null||Re===void 0?void 0:Re.call(R))||null:ye?((Te=R.instance)===null||Te===void 0?void 0:Te.call(R))||null:((De=R.defaultInstance)===null||De===void 0?void 0:De.call(R))||null,se(We),de&&We&&de.viewModelInstance!==We&&de.bindViewModelInstance(We)}else se(null)},[R,$,q,ye,de]),j},r.useViewModelInstanceArtboard=function(R,L){return{setValue:F(R,L,{getProperty:e.useCallback(function(x,$){return x.artboard($)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(x){return{setValue:function($){x(function(ie){ie.value=$})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(R,L){var x=F(R,L,{getProperty:e.useCallback(function($,ie){return $.boolean(ie)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(ie){$(function(q){q.value=ie})}}},[])});return{value:x.value,setValue:x.setValue}},r.useViewModelInstanceColor=function(R,L){var x=F(R,L,{getProperty:e.useCallback(function($,ie){return $.color(ie)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(ie){$(function(q){q.value=ie})},setRgb:function(ie,q,J){$(function(ye){ye.rgb(ie,q,J)})},setRgba:function(ie,q,J,ye){$(function(de){de.rgba(ie,q,J,ye)})},setAlpha:function(ie){$(function(q){q.alpha(ie)})},setOpacity:function(ie){$(function(q){q.opacity(ie)})}}},[])});return{value:x.value,setValue:x.setValue,setRgb:x.setRgb,setRgba:x.setRgba,setAlpha:x.setAlpha,setOpacity:x.setOpacity}},r.useViewModelInstanceEnum=function(R,L){var x=F(R,L,{getProperty:e.useCallback(function($,ie){return $.enum(ie)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,getExtendedData:e.useCallback(function($){return $.values},[]),buildPropertyOperations:e.useCallback(function($){return{setValue:function(ie){$(function(q){q.value=ie})}}},[])});return{value:x.value,values:x.extendedData||[],setValue:x.setValue}},r.useViewModelInstanceImage=function(R,L){return{setValue:F(R,L,{getProperty:e.useCallback(function(x,$){return x.image($)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(x){return{setValue:function($){x(function(ie){ie.value=$})}}},[])}).setValue}},r.useViewModelInstanceList=function(R,L){var x,$=e.useState(0)[1],ie=F(R,L,{getProperty:e.useCallback(function(q,J){return q.list(J)},[]),getValue:e.useCallback(function(q){return q.length},[]),defaultValue:null,onPropertyEvent:function(){$(function(q){return q+1})},buildPropertyOperations:e.useCallback(function(q){return{addInstance:function(J){q(function(ye){return ye.addInstance(J)})},addInstanceAt:function(J,ye){var de=!1;return q(function(Ie){de=Ie.addInstanceAt(J,ye)}),de},removeInstance:function(J){q(function(ye){return ye.removeInstance(J)})},removeInstanceAt:function(J){q(function(ye){return ye.removeInstanceAt(J)})},getInstanceAt:function(J){var ye=null;return q(function(de){ye=de.instanceAt(J)}),ye},swap:function(J,ye){q(function(de){return de.swap(J,ye)})}}},[])});return{length:(x=ie.value)!==null&&x!==void 0?x:0,addInstance:ie.addInstance,addInstanceAt:ie.addInstanceAt,removeInstance:ie.removeInstance,removeInstanceAt:ie.removeInstanceAt,getInstanceAt:ie.getInstanceAt,swap:ie.swap}},r.useViewModelInstanceNumber=function(R,L){var x=F(R,L,{getProperty:e.useCallback(function($,ie){return $.number(ie)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(ie){$(function(q){q.value=ie})}}},[])});return{value:x.value,setValue:x.setValue}},r.useViewModelInstanceString=function(R,L){var x=F(R,L,{getProperty:e.useCallback(function($,ie){return $.string(ie)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(ie){$(function(q){q.value=ie})}}},[])});return{value:x.value,setValue:x.setValue}},r.useViewModelInstanceTrigger=function(R,L,x){var $=(x??{}).onTrigger;return{trigger:F(R,L,{getProperty:e.useCallback(function(ie,q){return ie.trigger(q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:$,buildPropertyOperations:e.useCallback(function(ie){return{trigger:function(){ie(function(q){q.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(R){R==="default"||r.hasOwnProperty(R)||Object.defineProperty(r,R,{enumerable:!0,get:function(){return i[R]}})})})(wm)),wm}var so=sA();const oA=()=>{};var _0={};const eb=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},lA=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[a++]=String.fromCharCode(55296+(w>>10)),e[a++]=String.fromCharCode(56320+(w&1023))}else{const c=r[i++],p=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},tb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,w=l+2<r.length,E=w?r[l+2]:0,M=c>>2,O=(c&3)<<4|b>>4;let G=(b&15)<<2|E>>6,re=E&63;w||(re=64,p||(G=64)),a.push(i[M],i[O],i[G],i[re])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(eb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const E=l<r.length?i[r.charAt(l)]:64;++l;const O=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||E==null||O==null)throw new uA;const G=c<<2|b>>4;if(a.push(G),E!==64){const re=b<<4&240|E>>2;if(a.push(re),O!==64){const z=E<<6&192|O;a.push(z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cA=function(r){const e=eb(r);return tb.encodeByteArray(e,!0)},jh=function(r){return cA(r).replace(/\./g,"")},nb=function(r){try{return tb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fA=()=>hA().__FIREBASE_DEFAULTS__,dA=()=>{if(typeof process>"u"||typeof _0>"u")return;const r=_0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&nb(r[1]);return e&&JSON.parse(e)},of=()=>{try{return oA()||fA()||dA()||mA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ib=r=>of()?.emulatorHosts?.[r],pA=r=>{const e=ib(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},rb=()=>of()?.config,ab=r=>of()?.[`_${r}`];class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Xl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sb(r){return(await fetch(r,{credentials:"include"})).ok}function yA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jh(JSON.stringify(i)),jh(JSON.stringify(p)),""].join(".")}const Hu={};function vA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hu))Hu[e]?r.emulator.push(e):r.prod.push(e);return r}function _A(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let b0=!1;function ob(r,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||Hu[r]===e||Hu[r]||b0)return;Hu[r]=e;function i(G){return`__firebase__banner__${G}`}const a="__firebase__banner",c=vA().prod.length>0;function p(){const G=document.getElementById(a);G&&G.remove()}function b(G){G.style.display="flex",G.style.background="#7faaf0",G.style.position="fixed",G.style.bottom="5px",G.style.left="5px",G.style.padding=".5em",G.style.borderRadius="5px",G.style.alignItems="center"}function w(G,re){G.setAttribute("width","24"),G.setAttribute("id",re),G.setAttribute("height","24"),G.setAttribute("viewBox","0 0 24 24"),G.setAttribute("fill","none"),G.style.marginLeft="-6px"}function E(){const G=document.createElement("span");return G.style.cursor="pointer",G.style.marginLeft="16px",G.style.fontSize="24px",G.innerHTML=" &times;",G.onclick=()=>{b0=!0,p()},G}function M(G,re){G.setAttribute("id",re),G.innerText="Learn more",G.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",G.setAttribute("target","__blank"),G.style.paddingLeft="5px",G.style.textDecoration="underline"}function O(){const G=_A(a),re=i("text"),z=document.getElementById(re)||document.createElement("span"),Ve=i("learnmore"),Ae=document.getElementById(Ve)||document.createElement("a"),ze=i("preprendIcon"),H=document.getElementById(ze)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(G.created){const Le=G.element;b(Le),M(Ae,Ve);const nt=E();w(H,ze),Le.append(H,z,Ae,nt),document.body.appendChild(Le)}c?(z.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",re)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function wA(){const r=of()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SA(){const r=ar();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function CA(){return!wA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const IA="FirebaseError";class Ss extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=IA,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?MA(c,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Ss(l,b,a)}}function MA(r,e){return r.replace(NA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const NA=/\{\$([^}]+)}/g;function DA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function zo(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],p=e[l];if(w0(c)&&w0(p)){if(!zo(c,p))return!1}else if(c!==p)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function w0(r){return r!==null&&typeof r=="object"}function sc(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function OA(r,e){const i=new kA(r,e);return i.subscribe.bind(i)}class kA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");VA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Em),l.error===void 0&&(l.error=Em),l.complete===void 0&&(l.complete=Em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Em(){}function Hr(r){return r&&r._delegate?r._delegate:r}class Bo{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jo="[DEFAULT]";class PA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new gA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jA(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);a===b&&p.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:LA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LA(r){return r===jo?void 0:r}function jA(r){return r.instantiationMode==="EAGER"}class UA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new PA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Jt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Jt||(Jt={}));const zA={debug:Jt.DEBUG,verbose:Jt.VERBOSE,info:Jt.INFO,warn:Jt.WARN,error:Jt.ERROR,silent:Jt.SILENT},BA=Jt.INFO,FA={[Jt.DEBUG]:"log",[Jt.VERBOSE]:"log",[Jt.INFO]:"info",[Jt.WARN]:"warn",[Jt.ERROR]:"error"},HA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=FA[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=BA,this._logHandler=HA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Jt.DEBUG,...e),this._logHandler(this,Jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Jt.VERBOSE,...e),this._logHandler(this,Jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Jt.INFO,...e),this._logHandler(this,Jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Jt.WARN,...e),this._logHandler(this,Jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Jt.ERROR,...e),this._logHandler(this,Jt.ERROR,...e)}}const qA=(r,e)=>e.some(i=>r instanceof i);let E0,T0;function GA(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YA(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lb=new WeakMap,Um=new WeakMap,ub=new WeakMap,Tm=new WeakMap,fp=new WeakMap;function XA(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(lo(r.result)),l()},p=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&lb.set(i,r)}).catch(()=>{}),fp.set(e,r),e}function QA(r){if(Um.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});Um.set(r,e)}let zm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Um.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ub.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lo(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function WA(r){zm=r(zm)}function KA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Am(this),e,...i);return ub.set(a,e.sort?e.sort():[e]),lo(a)}:YA().includes(r)?function(...e){return r.apply(Am(this),e),lo(lb.get(this))}:function(...e){return lo(r.apply(Am(this),e))}}function $A(r){return typeof r=="function"?KA(r):(r instanceof IDBTransaction&&QA(r),qA(r,GA())?new Proxy(r,zm):r)}function lo(r){if(r instanceof IDBRequest)return XA(r);if(Tm.has(r))return Tm.get(r);const e=$A(r);return e!==r&&(Tm.set(r,e),fp.set(e,r)),e}const Am=r=>fp.get(r);function JA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=lo(p);return a&&p.addEventListener("upgradeneeded",w=>{a(lo(p.result),w.oldVersion,w.newVersion,lo(p.transaction),w)}),i&&p.addEventListener("blocked",w=>i(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const ZA=["get","getKey","getAll","getAllKeys","count"],eS=["put","add","delete","clear"],Sm=new Map;function A0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=eS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ZA.includes(i)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return a&&(E=E.index(b.shift())),(await Promise.all([E[i](...b),l&&w.done]))[0]};return Sm.set(e,c),c}WA(r=>({...r,get:(e,i,a)=>A0(e,i)||r.get(e,i,a),has:(e,i)=>!!A0(e,i)||r.has(e,i)}));class tS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function nS(r){return r.getComponent()?.type==="VERSION"}const Bm="@firebase/app",S0="0.14.6";const _s=new hp("@firebase/app"),iS="@firebase/app-compat",rS="@firebase/analytics-compat",aS="@firebase/analytics",sS="@firebase/app-check-compat",oS="@firebase/app-check",lS="@firebase/auth",uS="@firebase/auth-compat",cS="@firebase/database",hS="@firebase/data-connect",fS="@firebase/database-compat",dS="@firebase/functions",mS="@firebase/functions-compat",pS="@firebase/installations",gS="@firebase/installations-compat",yS="@firebase/messaging",vS="@firebase/messaging-compat",_S="@firebase/performance",bS="@firebase/performance-compat",wS="@firebase/remote-config",ES="@firebase/remote-config-compat",TS="@firebase/storage",AS="@firebase/storage-compat",SS="@firebase/firestore",CS="@firebase/ai",RS="@firebase/firestore-compat",xS="firebase",IS="12.6.0";const Fm="[DEFAULT]",MS={[Bm]:"fire-core",[iS]:"fire-core-compat",[aS]:"fire-analytics",[rS]:"fire-analytics-compat",[oS]:"fire-app-check",[sS]:"fire-app-check-compat",[lS]:"fire-auth",[uS]:"fire-auth-compat",[cS]:"fire-rtdb",[hS]:"fire-data-connect",[fS]:"fire-rtdb-compat",[dS]:"fire-fn",[mS]:"fire-fn-compat",[pS]:"fire-iid",[gS]:"fire-iid-compat",[yS]:"fire-fcm",[vS]:"fire-fcm-compat",[_S]:"fire-perf",[bS]:"fire-perf-compat",[wS]:"fire-rc",[ES]:"fire-rc-compat",[TS]:"fire-gcs",[AS]:"fire-gcs-compat",[SS]:"fire-fst",[RS]:"fire-fst-compat",[CS]:"fire-vertex","fire-js":"fire-js",[xS]:"fire-js-all"};const Uh=new Map,NS=new Map,Hm=new Map;function C0(r,e){try{r.container.addComponent(e)}catch(i){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function zl(r){const e=r.name;if(Hm.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,r);for(const i of Uh.values())C0(i,r);for(const i of NS.values())C0(i,r);return!0}function dp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ia(r){return r==null?!1:r.settings!==void 0}const DS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new ac("app","Firebase",DS);class OS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}const Ql=IS;function cb(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Fm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw uo.create("bad-app-name",{appName:String(l)});if(i||(i=rb()),!i)throw uo.create("no-options");const c=Uh.get(l);if(c){if(zo(i,c.options)&&zo(a,c.config))return c;throw uo.create("duplicate-app",{appName:l})}const p=new UA(l);for(const w of Hm.values())p.addComponent(w);const b=new OS(i,a,p);return Uh.set(l,b),b}function hb(r=Fm){const e=Uh.get(r);if(!e&&r===Fm&&rb())return cb();if(!e)throw uo.create("no-app",{appName:r});return e}function co(r,e,i){let a=MS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(p.join(" "));return}zl(new Bo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const kS="firebase-heartbeat-database",VS=1,Ku="firebase-heartbeat-store";let Cm=null;function fb(){return Cm||(Cm=JA(kS,VS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ku)}catch(i){console.warn(i)}}}}).catch(r=>{throw uo.create("idb-open",{originalErrorMessage:r.message})})),Cm}async function PS(r){try{const i=(await fb()).transaction(Ku),a=await i.objectStore(Ku).get(db(r));return await i.done,a}catch(e){if(e instanceof Ss)_s.warn(e.message);else{const i=uo.create("idb-get",{originalErrorMessage:e?.message});_s.warn(i.message)}}}async function R0(r,e){try{const a=(await fb()).transaction(Ku,"readwrite");await a.objectStore(Ku).put(e,db(r)),await a.done}catch(i){if(i instanceof Ss)_s.warn(i.message);else{const a=uo.create("idb-set",{originalErrorMessage:i?.message});_s.warn(a.message)}}}function db(r){return`${r.name}!${r.options.appId}`}const LS=1024,jS=30;class US{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=x0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>jS){const l=FS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x0(),{heartbeatsToSend:i,unsentEntries:a}=zS(this._heartbeatsCache.heartbeats),l=jh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return _s.warn(e),""}}}function x0(){return new Date().toISOString().substring(0,10)}function zS(r,e=LS){const i=[];let a=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),I0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),I0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class BS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await PS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function I0(r){return jh(JSON.stringify({version:2,heartbeats:r})).length}function FS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function HS(r){zl(new Bo("platform-logger",e=>new tS(e),"PRIVATE")),zl(new Bo("heartbeat",e=>new US(e),"PRIVATE")),co(Bm,S0,r),co(Bm,S0,"esm2020"),co("fire-js","")}HS("");var qS="firebase",GS="12.6.0";co(qS,GS,"app");function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YS=mb,pb=new ac("auth","Firebase",mb());const zh=new hp("@firebase/auth");function XS(r,...e){zh.logLevel<=Jt.WARN&&zh.warn(`Auth (${Ql}): ${r}`,...e)}function Ch(r,...e){zh.logLevel<=Jt.ERROR&&zh.error(`Auth (${Ql}): ${r}`,...e)}function bs(r,...e){throw mp(r,...e)}function ka(r,...e){return mp(r,...e)}function gb(r,e,i){const a={...YS(),[e]:i};return new ac("auth","Firebase",a).create(e,{appName:r.name})}function ys(r){return gb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return pb.create(r,...e)}function Ct(r,e,...i){if(!r)throw mp(e,...i)}function ps(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ch(e),new Error(e)}function ws(r,e){r||ps(e)}function qm(){return typeof self<"u"&&self.location?.href||""}function QS(){return M0()==="http:"||M0()==="https:"}function M0(){return typeof self<"u"&&self.location?.protocol||null}function WS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QS()||TA()||"connection"in navigator)?navigator.onLine:!0}function KS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class oc{constructor(e,i){this.shortDelay=e,this.longDelay=i,ws(i>e,"Short delay should be less than long delay!"),this.isMobile=bA()||AA()}get(){return WS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pp(r,e){ws(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class yb{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZS=new oc(3e4,6e4);function lc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Wl(r,e,i,a,l={}){return vb(r,l,async()=>{let c={},p={};a&&(e==="GET"?p=a:c={body:JSON.stringify(a)});const b=sc({key:r.config.apiKey,...p}).slice(1),w=await r._getAdditionalHeaders();w["Content-Type"]="application/json",r.languageCode&&(w["X-Firebase-Locale"]=r.languageCode);const E={method:e,headers:w,...c};return EA()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(E.credentials="include"),yb.fetch()(await _b(r,r.config.apiHost,i,b),E)})}async function vb(r,e,i){r._canInitEmulator=!1;const a={...$S,...e};try{const l=new e2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw vh(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(r,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw vh(r,"email-already-in-use",p);if(w==="USER_DISABLED")throw vh(r,"user-disabled",p);const M=a[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw gb(r,M,E);bs(r,M)}}catch(l){if(l instanceof Ss)throw l;bs(r,"network-request-failed",{message:String(l)})}}async function gp(r,e,i,a,l={}){const c=await Wl(r,e,i,a,l);return"mfaPendingCredential"in c&&bs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function _b(r,e,i,a){const l=`${e}${i}?${a}`,c=r,p=c.config.emulator?pp(r.config,l):`${r.config.apiScheme}://${l}`;return JS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class e2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ka(this.auth,"network-request-failed")),ZS.get())})}}function vh(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ka(r,e,a);return l.customData._tokenResponse=i,l}async function t2(r,e){return Wl(r,"POST","/v1/accounts:delete",e)}async function Bh(r,e){return Wl(r,"POST","/v1/accounts:lookup",e)}function qu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n2(r,e=!1){const i=Hr(r),a=await i.getIdToken(e),l=yp(a);Ct(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:a,authTime:qu(Rm(l.auth_time)),issuedAtTime:qu(Rm(l.iat)),expirationTime:qu(Rm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Rm(r){return Number(r)*1e3}function yp(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const l=nb(i);return l?JSON.parse(l):(Ch("Failed to decode base64 JWT payload"),null)}catch(l){return Ch("Caught error parsing JWT payload as JSON",l?.toString()),null}}function N0(r){const e=yp(r);return Ct(e,"internal-error"),Ct(typeof e.exp<"u","internal-error"),Ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $u(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ss&&i2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function i2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class r2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fh(r){const e=r.auth,i=await r.getIdToken(),a=await $u(r,Bh(e,{idToken:i}));Ct(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?bb(l.providerUserInfo):[],p=s2(r.providerData,c),b=r.isAnonymous,w=!(r.email&&l.passwordHash)&&!p?.length,E=b?w:!1,M={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Gm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,M)}async function a2(r){const e=Hr(r);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s2(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function bb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function o2(r,e){const i=await vb(r,{},async()=>{const a=sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await _b(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:a};return r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(w.credentials="include"),yb.fetch()(p,w)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function l2(r,e){return Wl(r,"POST","/v2/accounts:revokeToken",lc(r,e))}class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct(typeof e.idToken<"u","internal-error"),Ct(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ct(e.length!==0,"internal-error");const i=N0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await o2(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,p=new kl;return a&&(Ct(typeof a=="string","internal-error",{appName:e}),p.refreshToken=a),l&&(Ct(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Ct(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return ps("not implemented")}}function eo(r,e){Ct(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class _a{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new r2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await $u(this,this.stsTokenManager.getToken(this.auth,e));return Ct(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return n2(this,e)}reload(){return a2(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new _a({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Fh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ia(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await $u(this,t2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,w=i._redirectEventId??void 0,E=i.createdAt??void 0,M=i.lastLoginAt??void 0,{uid:O,emailVerified:G,isAnonymous:re,providerData:z,stsTokenManager:Ve}=i;Ct(O&&Ve,e,"internal-error");const Ae=kl.fromJSON(this.name,Ve);Ct(typeof O=="string",e,"internal-error"),eo(a,e.name),eo(l,e.name),Ct(typeof G=="boolean",e,"internal-error"),Ct(typeof re=="boolean",e,"internal-error"),eo(c,e.name),eo(p,e.name),eo(b,e.name),eo(w,e.name),eo(E,e.name),eo(M,e.name);const ze=new _a({uid:O,auth:e,email:l,emailVerified:G,displayName:a,isAnonymous:re,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Ae,createdAt:E,lastLoginAt:M});return z&&Array.isArray(z)&&(ze.providerData=z.map(H=>({...H}))),w&&(ze._redirectEventId=w),ze}static async _fromIdTokenResponse(e,i,a=!1){const l=new kl;l.updateFromServerResponse(i);const c=new _a({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Fh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Ct(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?bb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new kl;b.updateFromIdToken(a);const w=new _a({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Gm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const D0=new Map;function gs(r){ws(r instanceof Function,"Expected a class definition");let e=D0.get(r);return e?(ws(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,D0.set(r,e),e)}class wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}wb.type="NONE";const O0=wb;function Rh(r,e,i){return`firebase:${r}:${e}:${i}`}class Vl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Rh(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Bh(this.auth,{idToken:e}).catch(()=>{});return i?_a._fromGetAccountInfoResponse(this.auth,i,e):null}return _a._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Vl(gs(O0),e,a);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||gs(O0);const p=Rh(a,e.config.apiKey,e.name);let b=null;for(const E of i)try{const M=await E._get(p);if(M){let O;if(typeof M=="string"){const G=await Bh(e,{idToken:M}).catch(()=>{});if(!G)break;O=await _a._fromGetAccountInfoResponse(e,G,M)}else O=_a._fromJSON(e,M);E!==c&&(b=O),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new Vl(c,e,a):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new Vl(c,e,a))}}function k0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rb(e))return"Blackberry";if(xb(e))return"Webos";if(Tb(e))return"Safari";if((e.includes("chrome/")||Ab(e))&&!e.includes("edge/"))return"Chrome";if(Cb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Eb(r=ar()){return/firefox\//i.test(r)}function Tb(r=ar()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ab(r=ar()){return/crios\//i.test(r)}function Sb(r=ar()){return/iemobile/i.test(r)}function Cb(r=ar()){return/android/i.test(r)}function Rb(r=ar()){return/blackberry/i.test(r)}function xb(r=ar()){return/webos/i.test(r)}function vp(r=ar()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function u2(r=ar()){return vp(r)&&!!window.navigator?.standalone}function c2(){return SA()&&document.documentMode===10}function Ib(r=ar()){return vp(r)||Cb(r)||xb(r)||Rb(r)||/windows phone/i.test(r)||Sb(r)}function Mb(r,e=[]){let i;switch(r){case"Browser":i=k0(ar());break;case"Worker":i=`${k0(ar())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ql}/${a}`}class h2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function f2(r,e={}){return Wl(r,"GET","/v2/passwordPolicy",lc(r,e))}const d2=6;class m2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??d2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class p2{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new h2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Bh(this,{idToken:e}),a=await _a._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ia(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ia(this.app))return Promise.reject(ys(this));const i=e?Hr(e):null;return i&&Ct(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ia(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ia(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f2(this),i=new m2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await l2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&gs(e)||this._popupRedirectResolver;Ct(i,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const w=e.addObserver(i,a,l);return()=>{p=!0,w()}}else{const w=e.addObserver(i);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ia(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uc(r){return Hr(r)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=OA(i=>this.observer=i)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g2(r){_p=r}function y2(r){return _p.loadJS(r)}function v2(){return _p.gapiScript}function _2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function b2(r,e){const i=dp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zo(c,e??{}))return l;bs(l,"already-initialized")}return i.initialize({options:e})}function w2(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function E2(r,e,i){const a=uc(r);Ct(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Nb(e),{host:p,port:b}=T2(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},M=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ct(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ct(zo(E,a.config.emulator)&&zo(M,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=M,a.settings.appVerificationDisabledForTesting=!0,Xl(p)?(sb(`${c}//${p}${w}`),ob("Auth",!0)):A2()}function Nb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function T2(r){const e=Nb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:P0(a.substr(c.length+1))}}else{const[c,p]=a.split(":");return{host:c,port:P0(p)}}}function P0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function A2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Db{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,i){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function Pl(r,e){return gp(r,"POST","/v1/accounts:signInWithIdp",lc(r,e))}const S2="http://localhost";class Fo extends Db{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):bs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const p=new Fo(a,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return Pl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Pl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Pl(e,i)}buildRequest(){const e={requestUri:S2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=sc(i)}return e}}class Ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cc extends Ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class no extends cc{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";class io extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Fo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return io.credential(i,a)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";class ro extends cc{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";class ao extends cc{constructor(){super("twitter.com")}static credential(e,i){return Fo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ao.credential(i,a)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";async function C2(r,e){return gp(r,"POST","/v1/accounts:signUp",lc(r,e))}class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await _a._fromIdTokenResponse(e,a,l),p=L0(a);return new Es({user:c,providerId:p,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=L0(a);return new Es({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function L0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function R2(r){if(ia(r.app))return Promise.reject(ys(r));const e=uc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Es({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await C2(e,{returnSecureToken:!0}),a=await Es._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Hh extends Ss{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Hh(e,i,a,l)}}function kb(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(r,c,e,a):c})}async function x2(r,e,i=!1){const a=await $u(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Es._forOperation(r,"link",a)}async function I2(r,e,i=!1){const{auth:a}=r;if(ia(a.app))return Promise.reject(ys(a));const l="reauthenticate";try{const c=await $u(r,kb(a,l,e,r),i);Ct(c.idToken,a,"internal-error");const p=yp(c.idToken);Ct(p,a,"internal-error");const{sub:b}=p;return Ct(r.uid===b,a,"user-mismatch"),Es._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&bs(a,"user-mismatch"),c}}async function M2(r,e,i=!1){if(ia(r.app))return Promise.reject(ys(r));const a="signIn",l=await kb(r,a,e),c=await Es._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function N2(r,e){return gp(r,"POST","/v1/accounts:signInWithCustomToken",lc(r,e))}async function D2(r,e){if(ia(r.app))return Promise.reject(ys(r));const i=uc(r),a=await N2(i,{token:e,returnSecureToken:!0}),l=await Es._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function O2(r,e,i,a){return Hr(r).onIdTokenChanged(e,i,a)}function k2(r,e,i){return Hr(r).beforeAuthStateChanged(e,i)}function V2(r,e,i,a){return Hr(r).onAuthStateChanged(e,i,a)}const qh="__sak";class Vb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const P2=1e3,L2=10;class Pb extends Vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!i&&this.localCache[a]===p||this.notifyListeners(a,p)},c=this.storage.getItem(a);c2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,L2):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pb.type="LOCAL";const j2=Pb;class Lb extends Vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Lb.type="SESSION";const jb=Lb;function U2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new lf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async E=>E(i.origin,c)),w=await U2(b);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:w})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];function bp(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class z2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=bp("",20);l.port1.start();const M=setTimeout(()=>{w(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(O){const G=O;if(G.data.eventId===E)switch(G.data.status){case"ack":clearTimeout(M),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(G.data.response);break;default:clearTimeout(M),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Va(){return window}function B2(r){Va().location.href=r}function Ub(){return typeof Va().WorkerGlobalScope<"u"&&typeof Va().importScripts=="function"}async function F2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H2(){return navigator?.serviceWorker?.controller||null}function q2(){return Ub()?self:null}const zb="firebaseLocalStorageDb",G2=1,Gh="firebaseLocalStorage",Bb="fbase_key";class hc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uf(r,e){return r.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function Y2(){const r=indexedDB.deleteDatabase(zb);return new hc(r).toPromise()}function Ym(){const r=indexedDB.open(zb,G2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Gh,{keyPath:Bb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Gh)?e(a):(a.close(),await Y2(),e(await Ym()))})})}async function j0(r,e,i){const a=uf(r,!0).put({[Bb]:e,value:i});return new hc(a).toPromise()}async function X2(r,e){const i=uf(r,!1).get(e),a=await new hc(i).toPromise();return a===void 0?null:a.value}function U0(r,e){const i=uf(r,!0).delete(e);return new hc(i).toPromise()}const Q2=800,W2=3;class Fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>W2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(q2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await F2(),!this.activeServiceWorker)return;this.sender=new z2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await j0(e,qh,"1"),await U0(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>j0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>X2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>U0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=uf(l,!1).getAll();return new hc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fb.type="LOCAL";const K2=Fb;new oc(3e4,6e4);function $2(r,e){return e?gs(e):(Ct(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class wp extends Db{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Pl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function J2(r){return M2(r.auth,new wp(r),r.bypassAuthState)}function Z2(r){const{auth:e,user:i}=r;return Ct(i,e,"internal-error"),I2(i,new wp(r),r.bypassAuthState)}async function eC(r){const{auth:e,user:i}=r;return Ct(i,e,"internal-error"),x2(i,new wp(r),r.bypassAuthState)}class Hb{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J2;case"linkViaPopup":case"linkViaRedirect":return eC;case"reauthViaPopup":case"reauthViaRedirect":return Z2;default:bs(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tC=new oc(2e3,1e4);class Dl extends Hb{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ct(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ka(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ka(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ka(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tC.get())};e()}}Dl.currentPopupAction=null;const nC="pendingRedirect",xh=new Map;class iC extends Hb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const a=await rC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rC(r,e){const i=oC(e),a=sC(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function aC(r,e){xh.set(r._key(),e)}function sC(r){return gs(r._redirectPersistence)}function oC(r){return Rh(nC,r.config.apiKey,r.name)}async function lC(r,e,i=!1){if(ia(r.app))return Promise.reject(ys(r));const a=uc(r),l=$2(a,e),p=await new iC(a,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,e)),p}const uC=600*1e3;class cC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!qb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ka(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uC&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(e))}saveEventToCache(e){this.cachedEventUids.add(z0(e)),this.lastProcessedEventTime=Date.now()}}function z0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function qb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function hC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qb(r);default:return!1}}async function fC(r,e={}){return Wl(r,"GET","/v1/projects",e)}const dC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mC=/^https?/;async function pC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await fC(r);for(const i of e)try{if(gC(i))return}catch{}bs(r,"unauthorized-domain")}function gC(r){const e=qm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===a}if(!mC.test(i))return!1;if(dC.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const yC=new oc(3e4,6e4);function B0(){const r=Va().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function vC(r){return new Promise((e,i)=>{function a(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),i(ka(r,"network-request-failed"))},timeout:yC.get()})}if(Va().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Va().gapi?.load)a();else{const l=_2("iframefcb");return Va()[l]=()=>{gapi.load?a():i(ka(r,"network-request-failed"))},y2(`${v2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function _C(r){return Ih=Ih||vC(r),Ih}const bC=new oc(5e3,15e3),wC="__/auth/iframe",EC="emulator/auth/iframe",TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SC(r){const e=r.config;Ct(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?pp(e,EC):`https://${r.config.authDomain}/${wC}`,a={apiKey:e.apiKey,appName:r.name,v:Ql},l=AC.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${sc(a).slice(1)}`}async function CC(r){const e=await _C(r),i=Va().gapi;return Ct(i,r,"internal-error"),e.open({where:document.body,url:SC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const p=ka(r,"network-request-failed"),b=Va().setTimeout(()=>{c(p)},bC.get());function w(){Va().clearTimeout(b),l(a)}a.ping(w).then(w,()=>{c(p)})}))}const RC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xC=500,IC=600,MC="_blank",NC="http://localhost";class F0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DC(r,e,i,a=xC,l=IC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const w={...RC,width:a.toString(),height:l.toString(),top:c,left:p},E=ar().toLowerCase();i&&(b=Ab(E)?MC:i),Eb(E)&&(e=e||NC,w.scrollbars="yes");const M=Object.entries(w).reduce((G,[re,z])=>`${G}${re}=${z},`,"");if(u2(E)&&b!=="_self")return OC(e||"",b),new F0(null);const O=window.open(e||"",b,M);Ct(O,r,"popup-blocked");try{O.focus()}catch{}return new F0(O)}function OC(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const kC="__/auth/handler",VC="emulator/auth/handler",PC=encodeURIComponent("fac");async function H0(r,e,i,a,l,c){Ct(r.config.authDomain,r,"auth-domain-config-required"),Ct(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Ql,eventId:l};if(e instanceof Ob){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",DA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[M,O]of Object.entries({}))p[M]=O}if(e instanceof cc){const M=e.getScopes().filter(O=>O!=="");M.length>0&&(p.scopes=M.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const M of Object.keys(b))b[M]===void 0&&delete b[M];const w=await r._getAppCheckToken(),E=w?`#${PC}=${encodeURIComponent(w)}`:"";return`${LC(r)}?${sc(b).slice(1)}${E}`}function LC({config:r}){return r.emulator?pp(r,VC):`https://${r.authDomain}/${kC}`}const xm="webStorageSupport";class jC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=lC,this._overrideRedirectResult=aC}async _openPopup(e,i,a,l){ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await H0(e,i,a,qm(),l);return DC(e,c,bp())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await H0(e,i,a,qm(),l);return B2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ws(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await CC(e),a=new cC(e);return i.register("authEvent",l=>(Ct(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(xm,{type:xm},l=>{const c=l?.[0]?.[xm];c!==void 0&&i(!!c),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=pC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Ib()||Tb()||vp()}}const UC=jC;var q0="@firebase/auth",G0="1.11.1";class zC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(r){zl(new Bo("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;Ct(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const w={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mb(r)},E=new p2(a,l,c,w);return w2(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),zl(new Bo("auth-internal",e=>{const i=uc(e.getProvider("auth").getImmediate());return(a=>new zC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(q0,G0,BC(r)),co(q0,G0,"esm2020")}const HC=300,qC=ab("authIdTokenMaxAge")||HC;let Y0=null;const GC=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>qC)return;const l=i?.token;Y0!==l&&(Y0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function YC(r=hb()){const e=dp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=b2(r,{popupRedirectResolver:UC,persistence:[K2,j2,jb]}),a=ab("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const p=GC(c.toString());k2(i,p,()=>p(i.currentUser)),O2(i,b=>p(b))}}const l=ib("auth");return l&&E2(i,`http://${l}`),i}function XC(){return document.getElementsByTagName("head")?.[0]??document}g2({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=ka("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",XC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ho,Gb;(function(){var r;function e(Y,B){function P(){}P.prototype=B.prototype,Y.F=B.prototype,Y.prototype=new P,Y.prototype.constructor=Y,Y.D=function(F,R,L){for(var x=Array(arguments.length-2),$=2;$<arguments.length;$++)x[$-2]=arguments[$];return B.prototype[R].apply(F,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(Y,B,P){P||(P=0);const F=Array(16);if(typeof B=="string")for(var R=0;R<16;++R)F[R]=B.charCodeAt(P++)|B.charCodeAt(P++)<<8|B.charCodeAt(P++)<<16|B.charCodeAt(P++)<<24;else for(R=0;R<16;++R)F[R]=B[P++]|B[P++]<<8|B[P++]<<16|B[P++]<<24;B=Y.g[0],P=Y.g[1],R=Y.g[2];let L=Y.g[3],x;x=B+(L^P&(R^L))+F[0]+3614090360&4294967295,B=P+(x<<7&4294967295|x>>>25),x=L+(R^B&(P^R))+F[1]+3905402710&4294967295,L=B+(x<<12&4294967295|x>>>20),x=R+(P^L&(B^P))+F[2]+606105819&4294967295,R=L+(x<<17&4294967295|x>>>15),x=P+(B^R&(L^B))+F[3]+3250441966&4294967295,P=R+(x<<22&4294967295|x>>>10),x=B+(L^P&(R^L))+F[4]+4118548399&4294967295,B=P+(x<<7&4294967295|x>>>25),x=L+(R^B&(P^R))+F[5]+1200080426&4294967295,L=B+(x<<12&4294967295|x>>>20),x=R+(P^L&(B^P))+F[6]+2821735955&4294967295,R=L+(x<<17&4294967295|x>>>15),x=P+(B^R&(L^B))+F[7]+4249261313&4294967295,P=R+(x<<22&4294967295|x>>>10),x=B+(L^P&(R^L))+F[8]+1770035416&4294967295,B=P+(x<<7&4294967295|x>>>25),x=L+(R^B&(P^R))+F[9]+2336552879&4294967295,L=B+(x<<12&4294967295|x>>>20),x=R+(P^L&(B^P))+F[10]+4294925233&4294967295,R=L+(x<<17&4294967295|x>>>15),x=P+(B^R&(L^B))+F[11]+2304563134&4294967295,P=R+(x<<22&4294967295|x>>>10),x=B+(L^P&(R^L))+F[12]+1804603682&4294967295,B=P+(x<<7&4294967295|x>>>25),x=L+(R^B&(P^R))+F[13]+4254626195&4294967295,L=B+(x<<12&4294967295|x>>>20),x=R+(P^L&(B^P))+F[14]+2792965006&4294967295,R=L+(x<<17&4294967295|x>>>15),x=P+(B^R&(L^B))+F[15]+1236535329&4294967295,P=R+(x<<22&4294967295|x>>>10),x=B+(R^L&(P^R))+F[1]+4129170786&4294967295,B=P+(x<<5&4294967295|x>>>27),x=L+(P^R&(B^P))+F[6]+3225465664&4294967295,L=B+(x<<9&4294967295|x>>>23),x=R+(B^P&(L^B))+F[11]+643717713&4294967295,R=L+(x<<14&4294967295|x>>>18),x=P+(L^B&(R^L))+F[0]+3921069994&4294967295,P=R+(x<<20&4294967295|x>>>12),x=B+(R^L&(P^R))+F[5]+3593408605&4294967295,B=P+(x<<5&4294967295|x>>>27),x=L+(P^R&(B^P))+F[10]+38016083&4294967295,L=B+(x<<9&4294967295|x>>>23),x=R+(B^P&(L^B))+F[15]+3634488961&4294967295,R=L+(x<<14&4294967295|x>>>18),x=P+(L^B&(R^L))+F[4]+3889429448&4294967295,P=R+(x<<20&4294967295|x>>>12),x=B+(R^L&(P^R))+F[9]+568446438&4294967295,B=P+(x<<5&4294967295|x>>>27),x=L+(P^R&(B^P))+F[14]+3275163606&4294967295,L=B+(x<<9&4294967295|x>>>23),x=R+(B^P&(L^B))+F[3]+4107603335&4294967295,R=L+(x<<14&4294967295|x>>>18),x=P+(L^B&(R^L))+F[8]+1163531501&4294967295,P=R+(x<<20&4294967295|x>>>12),x=B+(R^L&(P^R))+F[13]+2850285829&4294967295,B=P+(x<<5&4294967295|x>>>27),x=L+(P^R&(B^P))+F[2]+4243563512&4294967295,L=B+(x<<9&4294967295|x>>>23),x=R+(B^P&(L^B))+F[7]+1735328473&4294967295,R=L+(x<<14&4294967295|x>>>18),x=P+(L^B&(R^L))+F[12]+2368359562&4294967295,P=R+(x<<20&4294967295|x>>>12),x=B+(P^R^L)+F[5]+4294588738&4294967295,B=P+(x<<4&4294967295|x>>>28),x=L+(B^P^R)+F[8]+2272392833&4294967295,L=B+(x<<11&4294967295|x>>>21),x=R+(L^B^P)+F[11]+1839030562&4294967295,R=L+(x<<16&4294967295|x>>>16),x=P+(R^L^B)+F[14]+4259657740&4294967295,P=R+(x<<23&4294967295|x>>>9),x=B+(P^R^L)+F[1]+2763975236&4294967295,B=P+(x<<4&4294967295|x>>>28),x=L+(B^P^R)+F[4]+1272893353&4294967295,L=B+(x<<11&4294967295|x>>>21),x=R+(L^B^P)+F[7]+4139469664&4294967295,R=L+(x<<16&4294967295|x>>>16),x=P+(R^L^B)+F[10]+3200236656&4294967295,P=R+(x<<23&4294967295|x>>>9),x=B+(P^R^L)+F[13]+681279174&4294967295,B=P+(x<<4&4294967295|x>>>28),x=L+(B^P^R)+F[0]+3936430074&4294967295,L=B+(x<<11&4294967295|x>>>21),x=R+(L^B^P)+F[3]+3572445317&4294967295,R=L+(x<<16&4294967295|x>>>16),x=P+(R^L^B)+F[6]+76029189&4294967295,P=R+(x<<23&4294967295|x>>>9),x=B+(P^R^L)+F[9]+3654602809&4294967295,B=P+(x<<4&4294967295|x>>>28),x=L+(B^P^R)+F[12]+3873151461&4294967295,L=B+(x<<11&4294967295|x>>>21),x=R+(L^B^P)+F[15]+530742520&4294967295,R=L+(x<<16&4294967295|x>>>16),x=P+(R^L^B)+F[2]+3299628645&4294967295,P=R+(x<<23&4294967295|x>>>9),x=B+(R^(P|~L))+F[0]+4096336452&4294967295,B=P+(x<<6&4294967295|x>>>26),x=L+(P^(B|~R))+F[7]+1126891415&4294967295,L=B+(x<<10&4294967295|x>>>22),x=R+(B^(L|~P))+F[14]+2878612391&4294967295,R=L+(x<<15&4294967295|x>>>17),x=P+(L^(R|~B))+F[5]+4237533241&4294967295,P=R+(x<<21&4294967295|x>>>11),x=B+(R^(P|~L))+F[12]+1700485571&4294967295,B=P+(x<<6&4294967295|x>>>26),x=L+(P^(B|~R))+F[3]+2399980690&4294967295,L=B+(x<<10&4294967295|x>>>22),x=R+(B^(L|~P))+F[10]+4293915773&4294967295,R=L+(x<<15&4294967295|x>>>17),x=P+(L^(R|~B))+F[1]+2240044497&4294967295,P=R+(x<<21&4294967295|x>>>11),x=B+(R^(P|~L))+F[8]+1873313359&4294967295,B=P+(x<<6&4294967295|x>>>26),x=L+(P^(B|~R))+F[15]+4264355552&4294967295,L=B+(x<<10&4294967295|x>>>22),x=R+(B^(L|~P))+F[6]+2734768916&4294967295,R=L+(x<<15&4294967295|x>>>17),x=P+(L^(R|~B))+F[13]+1309151649&4294967295,P=R+(x<<21&4294967295|x>>>11),x=B+(R^(P|~L))+F[4]+4149444226&4294967295,B=P+(x<<6&4294967295|x>>>26),x=L+(P^(B|~R))+F[11]+3174756917&4294967295,L=B+(x<<10&4294967295|x>>>22),x=R+(B^(L|~P))+F[2]+718787259&4294967295,R=L+(x<<15&4294967295|x>>>17),x=P+(L^(R|~B))+F[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+B&4294967295,Y.g[1]=Y.g[1]+(R+(x<<21&4294967295|x>>>11))&4294967295,Y.g[2]=Y.g[2]+R&4294967295,Y.g[3]=Y.g[3]+L&4294967295}a.prototype.v=function(Y,B){B===void 0&&(B=Y.length);const P=B-this.blockSize,F=this.C;let R=this.h,L=0;for(;L<B;){if(R==0)for(;L<=P;)l(this,Y,L),L+=this.blockSize;if(typeof Y=="string"){for(;L<B;)if(F[R++]=Y.charCodeAt(L++),R==this.blockSize){l(this,F),R=0;break}}else for(;L<B;)if(F[R++]=Y[L++],R==this.blockSize){l(this,F),R=0;break}}this.h=R,this.o+=B},a.prototype.A=function(){var Y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Y[0]=128;for(var B=1;B<Y.length-8;++B)Y[B]=0;B=this.o*8;for(var P=Y.length-8;P<Y.length;++P)Y[P]=B&255,B/=256;for(this.v(Y),Y=Array(16),B=0,P=0;P<4;++P)for(let F=0;F<32;F+=8)Y[B++]=this.g[P]>>>F&255;return Y};function c(Y,B){var P=b;return Object.prototype.hasOwnProperty.call(P,Y)?P[Y]:P[Y]=B(Y)}function p(Y,B){this.h=B;const P=[];let F=!0;for(let R=Y.length-1;R>=0;R--){const L=Y[R]|0;F&&L==B||(P[R]=L,F=!1)}this.g=P}var b={};function w(Y){return-128<=Y&&Y<128?c(Y,function(B){return new p([B|0],B<0?-1:0)}):new p([Y|0],Y<0?-1:0)}function E(Y){if(isNaN(Y)||!isFinite(Y))return O;if(Y<0)return Ae(E(-Y));const B=[];let P=1;for(let F=0;Y>=P;F++)B[F]=Y/P|0,P*=4294967296;return new p(B,0)}function M(Y,B){if(Y.length==0)throw Error("number format error: empty string");if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(Y.charAt(0)=="-")return Ae(M(Y.substring(1),B));if(Y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=E(Math.pow(B,8));let F=O;for(let L=0;L<Y.length;L+=8){var R=Math.min(8,Y.length-L);const x=parseInt(Y.substring(L,L+R),B);R<8?(R=E(Math.pow(B,R)),F=F.j(R).add(E(x))):(F=F.j(P),F=F.add(E(x)))}return F}var O=w(0),G=w(1),re=w(16777216);r=p.prototype,r.m=function(){if(Ve(this))return-Ae(this).m();let Y=0,B=1;for(let P=0;P<this.g.length;P++){const F=this.i(P);Y+=(F>=0?F:4294967296+F)*B,B*=4294967296}return Y},r.toString=function(Y){if(Y=Y||10,Y<2||36<Y)throw Error("radix out of range: "+Y);if(z(this))return"0";if(Ve(this))return"-"+Ae(this).toString(Y);const B=E(Math.pow(Y,6));var P=this;let F="";for(;;){const R=nt(P,B).g;P=ze(P,R.j(B));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(Y);if(P=R,z(P))return L+F;for(;L.length<6;)L="0"+L;F=L+F}},r.i=function(Y){return Y<0?0:Y<this.g.length?this.g[Y]:this.h};function z(Y){if(Y.h!=0)return!1;for(let B=0;B<Y.g.length;B++)if(Y.g[B]!=0)return!1;return!0}function Ve(Y){return Y.h==-1}r.l=function(Y){return Y=ze(this,Y),Ve(Y)?-1:z(Y)?0:1};function Ae(Y){const B=Y.g.length,P=[];for(let F=0;F<B;F++)P[F]=~Y.g[F];return new p(P,~Y.h).add(G)}r.abs=function(){return Ve(this)?Ae(this):this},r.add=function(Y){const B=Math.max(this.g.length,Y.g.length),P=[];let F=0;for(let R=0;R<=B;R++){let L=F+(this.i(R)&65535)+(Y.i(R)&65535),x=(L>>>16)+(this.i(R)>>>16)+(Y.i(R)>>>16);F=x>>>16,L&=65535,x&=65535,P[R]=x<<16|L}return new p(P,P[P.length-1]&-2147483648?-1:0)};function ze(Y,B){return Y.add(Ae(B))}r.j=function(Y){if(z(this)||z(Y))return O;if(Ve(this))return Ve(Y)?Ae(this).j(Ae(Y)):Ae(Ae(this).j(Y));if(Ve(Y))return Ae(this.j(Ae(Y)));if(this.l(re)<0&&Y.l(re)<0)return E(this.m()*Y.m());const B=this.g.length+Y.g.length,P=[];for(var F=0;F<2*B;F++)P[F]=0;for(F=0;F<this.g.length;F++)for(let R=0;R<Y.g.length;R++){const L=this.i(F)>>>16,x=this.i(F)&65535,$=Y.i(R)>>>16,ie=Y.i(R)&65535;P[2*F+2*R]+=x*ie,H(P,2*F+2*R),P[2*F+2*R+1]+=L*ie,H(P,2*F+2*R+1),P[2*F+2*R+1]+=x*$,H(P,2*F+2*R+1),P[2*F+2*R+2]+=L*$,H(P,2*F+2*R+2)}for(Y=0;Y<B;Y++)P[Y]=P[2*Y+1]<<16|P[2*Y];for(Y=B;Y<2*B;Y++)P[Y]=0;return new p(P,0)};function H(Y,B){for(;(Y[B]&65535)!=Y[B];)Y[B+1]+=Y[B]>>>16,Y[B]&=65535,B++}function Le(Y,B){this.g=Y,this.h=B}function nt(Y,B){if(z(B))throw Error("division by zero");if(z(Y))return new Le(O,O);if(Ve(Y))return B=nt(Ae(Y),B),new Le(Ae(B.g),Ae(B.h));if(Ve(B))return B=nt(Y,Ae(B)),new Le(Ae(B.g),B.h);if(Y.g.length>30){if(Ve(Y)||Ve(B))throw Error("slowDivide_ only works with positive integers.");for(var P=G,F=B;F.l(Y)<=0;)P=lt(P),F=lt(F);var R=at(P,1),L=at(F,1);for(F=at(F,2),P=at(P,2);!z(F);){var x=L.add(F);x.l(Y)<=0&&(R=R.add(P),L=x),F=at(F,1),P=at(P,1)}return B=ze(Y,R.j(B)),new Le(R,B)}for(R=O;Y.l(B)>=0;){for(P=Math.max(1,Math.floor(Y.m()/B.m())),F=Math.ceil(Math.log(P)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),L=E(P),x=L.j(B);Ve(x)||x.l(Y)>0;)P-=F,L=E(P),x=L.j(B);z(L)&&(L=G),R=R.add(L),Y=ze(Y,x)}return new Le(R,Y)}r.B=function(Y){return nt(this,Y).h},r.and=function(Y){const B=Math.max(this.g.length,Y.g.length),P=[];for(let F=0;F<B;F++)P[F]=this.i(F)&Y.i(F);return new p(P,this.h&Y.h)},r.or=function(Y){const B=Math.max(this.g.length,Y.g.length),P=[];for(let F=0;F<B;F++)P[F]=this.i(F)|Y.i(F);return new p(P,this.h|Y.h)},r.xor=function(Y){const B=Math.max(this.g.length,Y.g.length),P=[];for(let F=0;F<B;F++)P[F]=this.i(F)^Y.i(F);return new p(P,this.h^Y.h)};function lt(Y){const B=Y.g.length+1,P=[];for(let F=0;F<B;F++)P[F]=Y.i(F)<<1|Y.i(F-1)>>>31;return new p(P,Y.h)}function at(Y,B){const P=B>>5;B%=32;const F=Y.g.length-P,R=[];for(let L=0;L<F;L++)R[L]=B>0?Y.i(L+P)>>>B|Y.i(L+P+1)<<32-B:Y.i(L+P);return new p(R,Y.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Gb=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=M,ho=p}).apply(typeof X0<"u"?X0:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yb,zu,Xb,Mh,Xm,Qb,Wb,Kb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=i(this);function l(u,y){if(y)e:{var A=a;u=u.split(".");for(var V=0;V<u.length-1;V++){var ae=u[V];if(!(ae in A))break e;A=A[ae]}u=u[u.length-1],V=A[u],y=y(V),y!=V&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],V;for(V in y)Object.prototype.hasOwnProperty.call(y,V)&&A.push([V,y[V]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function M(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),u.apply(this,V)}}function O(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(V,ae,pe){for(var je=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)je[Rt-2]=arguments[Rt];return y.prototype[ae].apply(V,je)}}var G=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function re(u){const y=u.length;if(y>0){const A=Array(y);for(let V=0;V<y;V++)A[V]=u[V];return A}return[]}function z(u,y){for(let V=1;V<arguments.length;V++){const ae=arguments[V];var A=typeof ae;if(A=A!="object"?A:ae?Array.isArray(ae)?"array":A:"null",A=="array"||A=="object"&&typeof ae.length=="number"){A=u.length||0;const pe=ae.length||0;u.length=A+pe;for(let je=0;je<pe;je++)u[A+je]=ae[je]}else u.push(ae)}}class Ve{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Ae(u){p.setTimeout(()=>{throw u},0)}function ze(){var u=Y;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class H{constructor(){this.h=this.g=null}add(y,A){const V=Le.get();V.set(y,A),this.h?this.h.next=V:this.g=V,this.h=V}}var Le=new Ve(()=>new nt,u=>u.reset());class nt{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,at=!1,Y=new H,B=()=>{const u=Promise.resolve(void 0);lt=()=>{u.then(P)}};function P(){for(var u;u=ze();){try{u.h.call(u.g)}catch(A){Ae(A)}var y=Le;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}at=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function $(u,y){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}O($,R),$.prototype.init=function(u,y){const A=this.type=u.type,V=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),q=0;function J(u,y,A,V,ae){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!V,this.ha=ae,this.key=++q,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function de(u,y,A){for(const V in u)y.call(A,u[V],V,u)}function Ie(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function j(u){const y={};for(const A in u)y[A]=u[A];return y}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(u,y){let A,V;for(let ae=1;ae<arguments.length;ae++){V=arguments[ae];for(A in V)u[A]=V[A];for(let pe=0;pe<se.length;pe++)A=se[pe],Object.prototype.hasOwnProperty.call(V,A)&&(u[A]=V[A])}}function Te(u){this.src=u,this.g={},this.h=0}Te.prototype.add=function(u,y,A,V,ae){const pe=u.toString();u=this.g[pe],u||(u=this.g[pe]=[],this.h++);const je=We(u,y,V,ae);return je>-1?(y=u[je],A||(y.fa=!1)):(y=new J(y,this.src,pe,!!V,ae),y.fa=A,u.push(y)),y};function De(u,y){const A=y.type;if(A in u.g){var V=u.g[A],ae=Array.prototype.indexOf.call(V,y,void 0),pe;(pe=ae>=0)&&Array.prototype.splice.call(V,ae,1),pe&&(ye(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function We(u,y,A,V){for(let ae=0;ae<u.length;++ae){const pe=u[ae];if(!pe.da&&pe.listener==y&&pe.capture==!!A&&pe.ha==V)return ae}return-1}var ut="closure_lm_"+(Math.random()*1e6|0),pt={};function wt(u,y,A,V,ae){if(Array.isArray(y)){for(let pe=0;pe<y.length;pe++)wt(u,y[pe],A,V,ae);return null}return A=Dt(A),u&&u[ie]?u.J(y,A,b(V)?!!V.capture:!1,ae):kt(u,y,A,!1,V,ae)}function kt(u,y,A,V,ae,pe){if(!y)throw Error("Invalid event type");const je=b(ae)?!!ae.capture:!!ae;let Rt=Xt(u);if(Rt||(u[ut]=Rt=new Te(u)),A=Rt.add(y,A,V,je,pe),A.proxy)return A;if(V=gn(),A.proxy=V,V.src=u,V.listener=A,u.addEventListener)L||(ae=je),ae===void 0&&(ae=!1),u.addEventListener(y.toString(),V,ae);else if(u.attachEvent)u.attachEvent(Nt(y.toString()),V);else if(u.addListener&&u.removeListener)u.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function gn(){function u(A){return y.call(u.src,u.listener,A)}const y=bt;return u}function dt(u,y,A,V,ae){if(Array.isArray(y))for(var pe=0;pe<y.length;pe++)dt(u,y[pe],A,V,ae);else V=b(V)?!!V.capture:!!V,A=Dt(A),u&&u[ie]?(u=u.i,pe=String(y).toString(),pe in u.g&&(y=u.g[pe],A=We(y,A,V,ae),A>-1&&(ye(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[pe],u.h--)))):u&&(u=Xt(u))&&(y=u.g[y.toString()],u=-1,y&&(u=We(y,A,V,ae)),(A=u>-1?y[u]:null)&&St(A))}function St(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ie])De(y.i,u);else{var A=u.type,V=u.proxy;y.removeEventListener?y.removeEventListener(A,V,u.capture):y.detachEvent?y.detachEvent(Nt(A),V):y.addListener&&y.removeListener&&y.removeListener(V),(A=Xt(y))?(De(A,u),A.h==0&&(A.src=null,y[ut]=null)):ye(u)}}}function Nt(u){return u in pt?pt[u]:pt[u]="on"+u}function bt(u,y){if(u.da)u=!0;else{y=new $(y,this);const A=u.listener,V=u.ha||u.src;u.fa&&St(u),u=A.call(V,y)}return u}function Xt(u){return u=u[ut],u instanceof Te?u:null}var Et="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dt(u){return typeof u=="function"?u:(u[Et]||(u[Et]=function(y){return u.handleEvent(y)}),u[Et])}function Fe(){F.call(this),this.i=new Te(this),this.M=this,this.G=null}O(Fe,F),Fe.prototype[ie]=!0,Fe.prototype.removeEventListener=function(u,y,A,V){dt(this,u,y,A,V)};function sn(u,y){var A,V=u.G;if(V)for(A=[];V;V=V.G)A.push(V);if(u=u.M,V=y.type||y,typeof y=="string")y=new R(y,u);else if(y instanceof R)y.target=y.target||u;else{var ae=y;y=new R(V,u),Re(y,ae)}ae=!0;let pe,je;if(A)for(je=A.length-1;je>=0;je--)pe=y.g=A[je],ae=hn(pe,V,!0,y)&&ae;if(pe=y.g=u,ae=hn(pe,V,!0,y)&&ae,ae=hn(pe,V,!1,y)&&ae,A)for(je=0;je<A.length;je++)pe=y.g=A[je],ae=hn(pe,V,!1,y)&&ae}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let V=0;V<A.length;V++)ye(A[V]);delete u.g[y],u.h--}}this.G=null},Fe.prototype.J=function(u,y,A,V){return this.i.add(String(u),y,!1,A,V)},Fe.prototype.K=function(u,y,A,V){return this.i.add(String(u),y,!0,A,V)};function hn(u,y,A,V){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ae=!0;for(let pe=0;pe<y.length;++pe){const je=y[pe];if(je&&!je.da&&je.capture==A){const Rt=je.listener,ti=je.ha||je.src;je.fa&&De(u.i,je),ae=Rt.call(ti,V)!==!1&&ae}}return ae&&!V.defaultPrevented}function _r(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function $n(u){u.g=_r(()=>{u.g=null,u.i&&(u.i=!1,$n(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class tn extends F{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(u){F.call(this),this.h=u,this.g={}}O(Pn,F);var C=[];function g(u){de(u.g,function(y,A){this.g.hasOwnProperty(A)&&St(y)},u),u.g={}}Pn.prototype.N=function(){Pn.Z.N.call(this),g(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,k=p.JSON.parse,W=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function me(){}function Ne(){}var Ke={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tt(){R.call(this,"d")}O(tt,R);function Ge(){R.call(this,"c")}O(Ge,R);var $e={},Ft=null;function Mn(){return Ft=Ft||new Fe}$e.Ia="serverreachability";function on(u){R.call(this,$e.Ia,u)}O(on,R);function jn(u){const y=Mn();sn(y,new on(y))}$e.STAT_EVENT="statevent";function Lt(u,y){R.call(this,$e.STAT_EVENT,u),this.stat=y}O(Lt,R);function Ut(u){const y=Mn();sn(y,new Lt(y,u))}$e.Ja="timingevent";function Un(u,y){R.call(this,$e.Ja,u),this.size=y}O(Un,R);function yn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Si(u,y,A,V,ae,pe){u.info(function(){if(u.g)if(pe){var je="",Rt=pe.split("&");for(let un=0;un<Rt.length;un++){var ti=Rt[un].split("=");if(ti.length>1){const Bn=ti[0];ti=ti[1];const Zi=Bn.split("_");je=Zi.length>=2&&Zi[1]=="type"?je+(Bn+"="+ti+"&"):je+(Bn+"=redacted&")}}}else je=null;else je=pe;return"XMLHTTP REQ ("+V+") [attempt "+ae+"]: "+y+`
`+A+`
`+je})}function mt(u,y,A,V,ae,pe,je){u.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ae+"]: "+y+`
`+A+`
`+pe+" "+je})}function zn(u,y,A,V){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+sr(u,A)+(V?" "+V:"")})}function Tt(u,y){u.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function sr(u,y){if(!u.g)return y;if(!y)return null;try{const pe=JSON.parse(y);if(pe){for(u=0;u<pe.length;u++)if(Array.isArray(pe[u])){var A=pe[u];if(!(A.length<2)){var V=A[1];if(Array.isArray(V)&&!(V.length<1)){var ae=V[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let je=1;je<V.length;je++)V[je]=""}}}}return v(pe)}catch{return y}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},or;function qr(){}O(qr,me),qr.prototype.g=function(){return new XMLHttpRequest},or=new qr;function Qe(u){return encodeURIComponent(String(u))}function oa(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Jn(u,y,A,V){this.j=u,this.i=y,this.l=A,this.S=V||1,this.V=new Pn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var vn={},_n={};function Di(u,y,A){u.M=1,u.A=wi(Tn(y)),u.u=A,u.R=!0,ur(u,null)}function ur(u,y){u.F=Date.now(),cr(u),u.B=Tn(u.A);var A=u.B,V=u.S;Array.isArray(V)||(V=[String(V)]),ha(A.i,"t",V),u.C=0,A=u.j.L,u.h=new lr,u.g=Jo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new tn(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,V=u.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(C[0]=ae.toString()),ae=C);for(let pe=0;pe<ae.length;pe++){const je=wt(A,ae[pe],V||y.handleEvent,!1,y.h||y);if(!je)break;y.g[je.key]=je}y=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),jn(),Si(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const y=this.O;y&&Rn(u)==3?y.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const Rt=Rn(this.g),ti=this.g.ya(),un=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Dn(this.g)))){this.K||Rt!=4||ti==7||(ti==8||un<=0?jn(3):jn(2)),ki(this);var y=this.g.ca();this.X=y;var A=Cs(this);if(this.o=y==200,mt(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){t:{if(this.g){var V,ae=this.g;if((V=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(V)){var pe=V;break t}}pe=null}if(u=pe)zn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,u);else{this.o=!1,this.m=3,Ut(12),fi(this),ln(this);break e}}if(this.R){u=!0;let Bn;for(;!this.K&&this.C<A.length;)if(Bn=la(this,A),Bn==_n){Rt==4&&(this.m=4,Ut(14),u=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==vn){this.m=4,Ut(15),zn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else zn(this.i,this.l,Bn,null),Vi(this,Bn);if(Ba(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||A.length!=0||this.h.h||(this.m=1,Ut(16),u=!1),this.o=this.o&&u,!u)zn(this.i,this.l,A,"[Invalid Chunked Response]"),fi(this),ln(this);else if(A.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),dr(je),je.P=!0,Ut(11))}}else zn(this.i,this.l,A,null),Vi(this,A);Rt==4&&fi(this),this.o&&!this.K&&(Rt==4?Qa(this.j,this):(this.o=!1,cr(this)))}else Ji(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),fi(this),ln(this)}}}catch{}finally{}};function Cs(u){if(!Ba(u))return u.g.la();const y=Dn(u.g);if(y==="")return"";let A="";const V=y.length,ae=Rn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fi(u),ln(u),"";u.h.i=new p.TextDecoder}for(let pe=0;pe<V;pe++)u.h.h=!0,A+=u.h.i.decode(y[pe],{stream:!(ae&&pe==V-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function Ba(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function la(u,y){var A=u.C,V=y.indexOf(`
`,A);return V==-1?_n:(A=Number(y.substring(A,V)),isNaN(A)?vn:(V+=1,V+A>y.length?_n:(y=y.slice(V,V+A),u.C=V+A,y)))}Jn.prototype.cancel=function(){this.K=!0,fi(this)};function cr(u){u.T=Date.now()+u.H,Oi(u,u.H)}function Oi(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yn(E(u.aa,u),y)}function ki(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Tt(this.i,this.B),this.M!=2&&(jn(),Ut(17)),fi(this),this.m=2,ln(this)):Oi(this,this.T-u)};function ln(u){u.j.I==0||u.K||Qa(u.j,u)}function fi(u){ki(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Vi(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||Pi(A.h,u))){if(!u.L&&Pi(A.h,u)&&A.I==3){try{var V=A.Ba.g.parse(y)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ae=V;if(ae[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)da(A),kr(A);else break e;Sa(A),Ut(18)}}else A.xa=ae[1],0<A.xa-A.K&&ae[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=yn(E(A.Va,A),6e3));bi(A.h)<=1&&A.ta&&(A.ta=void 0)}else Vr(A,11)}else if((u.L||A.g==u)&&da(A),!x(y))for(ae=A.Ba.g.parse(y),y=0;y<ae.length;y++){let un=ae[y];const Bn=un[0];if(!(Bn<=A.K))if(A.K=Bn,un=un[1],A.I==2)if(un[0]=="c"){A.M=un[1],A.ba=un[2];const Zi=un[3];Zi!=null&&(A.ka=Zi,A.j.info("VER="+A.ka));const Tr=un[4];Tr!=null&&(A.za=Tr,A.j.info("SVER="+A.za));const Ar=un[5];Ar!=null&&typeof Ar=="number"&&Ar>0&&(V=1.5*Ar,A.O=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const mr=u.g;if(mr){const Qr=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var pe=V.h;pe.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Fa(pe,pe.h),pe.h=null))}if(V.G){const Wa=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(V.wa=Wa,Qt(V.J,V.G,Wa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),V=A;var je=u;if(V.na=$o(V,V.L?V.ba:null,V.W),je.L){Gr(V.h,je);var Rt=je,ti=V.O;ti&&(Rt.H=ti),Rt.D&&(ki(Rt),cr(Rt)),V.g=je}else oi(V);A.i.length>0&&fr(A)}else un[0]!="stop"&&un[0]!="close"||Vr(A,7);else A.I==3&&(un[0]=="stop"||un[0]=="close"?un[0]=="stop"?Vr(A,7):Eo(A):un[0]!="noop"&&A.l&&A.l.qa(un),A.A=0)}}jn(4)}catch{}}var Hn=class{constructor(u,y){this.g=u,this.map=y}};function ua(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ci(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Pi(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Fa(u,y){u.g?u.g.add(y):u.h=y}function Gr(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}ua.prototype.cancel=function(){if(this.i=Ea(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ea(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return re(u.i)}var Ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wr(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const V=u[A].indexOf("=");let ae,pe=null;V>=0?(ae=u[A].substring(0,V),pe=u[A].substring(V+1)):ae=u[A],y(ae,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Ri(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Ri?(this.l=u.l,Wn(this,u.j),this.o=u.o,this.g=u.g,Qi(this,u.u),this.h=u.h,Wi(this,Or(u.i)),this.m=u.m):u&&(y=String(u).match(Ha))?(this.l=!1,Wn(this,y[1]||"",!0),this.o=ft(y[2]||""),this.g=ft(y[3]||"",!0),Qi(this,y[4]),this.h=ft(y[5]||"",!0),Wi(this,y[6]||"",!0),this.m=ft(y[7]||"")):(this.l=!1,this.i=new Er(null,this.l))}Ri.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(ai(y,Yr,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(ai(y,Yr,!0),"@"),u.push(Qe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(ai(A,A.charAt(0)=="/"?Ta:qa,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",ai(A,Dr)),u.join("")},Ri.prototype.resolve=function(u){const y=Tn(this);let A=!!u.j;A?Wn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var V=u.h;if(A)Qi(y,u.u);else if(A=!!u.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var ae=y.h.lastIndexOf("/");ae!=-1&&(V=y.h.slice(0,ae+1)+V)}if(ae=V,ae==".."||ae==".")V="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){V=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const pe=[];for(let je=0;je<ae.length;){const Rt=ae[je++];Rt=="."?V&&je==ae.length&&pe.push(""):Rt==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),V&&je==ae.length&&pe.push("")):(pe.push(Rt),V=!0)}V=pe.join("/")}else V=ae}return A?y.h=V:A=u.i.toString()!=="",A?Wi(y,Or(u.i)):A=!!u.m,A&&(y.m=u.m),y};function Tn(u){return new Ri(u)}function Wn(u,y,A){u.j=A?ft(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Qi(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Wi(u,y,A){y instanceof Er?(u.i=y,Xr(u.i,u.l)):(A||(y=ai(y,fn)),u.i=new Er(y,u.l))}function Qt(u,y,A){u.i.set(y,A)}function wi(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ft(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ai(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,Nn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yr=/[#\/\?@]/g,qa=/[#\?:]/g,Ta=/[#\?]/g,fn=/[#\?@]/g,Dr=/#/g;function Er(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Zn(u){u.g||(u.g=new Map,u.h=0,u.i&&wr(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=Er.prototype,r.add=function(u,y){Zn(this),this.i=null,u=hr(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function Ki(u,y){Zn(u),y=hr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function ca(u,y){return Zn(u),y=hr(u,y),u.g.has(y)}r.forEach=function(u,y){Zn(this),this.g.forEach(function(A,V){A.forEach(function(ae){u.call(y,ae,V,this)},this)},this)};function si(u,y){Zn(u);let A=[];if(typeof y=="string")ca(u,y)&&(A=A.concat(u.g.get(hr(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return Zn(this),this.i=null,u=hr(this,u),ca(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=si(this,u),u.length>0?String(u[0]):y):y};function ha(u,y,A){Ki(u,y),A.length>0&&(u.i=null,u.g.set(hr(u,y),re(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let V=0;V<y.length;V++){var A=y[V];const ae=Qe(A);A=si(this,A);for(let pe=0;pe<A.length;pe++){let je=ae;A[pe]!==""&&(je+="="+Qe(A[pe])),u.push(je)}}return this.i=u.join("&")};function Or(u){const y=new Er;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function hr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Xr(u,y){y&&!u.j&&(Zn(u),u.i=null,u.g.forEach(function(A,V){const ae=V.toLowerCase();V!=ae&&(Ki(this,V),ha(this,ae,A))},u)),u.j=y}function ei(u,y){const A=new Qn;if(p.Image){const V=new Image;V.onload=M(Li,A,"TestLoadImage: loaded",!0,y,V),V.onerror=M(Li,A,"TestLoadImage: error",!1,y,V),V.onabort=M(Li,A,"TestLoadImage: abort",!1,y,V),V.ontimeout=M(Li,A,"TestLoadImage: timeout",!1,y,V),p.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=u}else y(!1)}function fa(u,y){const A=new Qn,V=new AbortController,ae=setTimeout(()=>{V.abort(),Li(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:V.signal}).then(pe=>{clearTimeout(ae),pe.ok?Li(A,"TestPingServer: ok",!0,y):Li(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ae),Li(A,"TestPingServer: error",!1,y)})}function Li(u,y,A,V,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),V(A)}catch{}}function $i(){this.g=new W}function ji(u){this.i=u.Sb||null,this.h=u.ab||!1}O(ji,me),ji.prototype.g=function(){return new xi(this.i,this.h)};function xi(u,y){Fe.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}O(xi,Fe),r=xi.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,ve(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oe(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ve(this)),this.g&&(this.readyState=3,ve(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Q(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Q(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?oe(this):ve(this),this.readyState==3&&Q(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,oe(this))},r.Na=function(u){this.g&&(this.response=u,oe(this))},r.ga=function(){this.g&&oe(this)};function oe(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ve(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function ve(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _e(u){let y="";return de(u,function(A,V){y+=V,y+=":",y+=A,y+=`\r
`}),y}function be(u,y,A){e:{for(V in A){var V=!1;break e}V=!0}V||(A=_e(A),typeof u=="string"?A!=null&&Qe(A):Qt(u,y,A))}function xe(u){Fe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}O(xe,Fe);var Ye=/^https?$/i,Pe=["POST","PUT"];r=xe.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():or.g(),this.g.onreadystatechange=G(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(pe){vt(this,pe);return}if(u=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ae in V)A.set(ae,V[ae]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const pe of V.keys())A.set(pe,V.get(pe));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(pe=>pe.toLowerCase()=="content-type"),ae=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Pe,y,void 0)>=0)||V||ae||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,je]of A)this.g.setRequestHeader(pe,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(pe){vt(this,pe)}};function vt(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,He(u),Vt(u)}function He(u){u.A||(u.A=!0,sn(u,"complete"),sn(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,sn(this,"complete"),sn(this,"abort"),Vt(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ct(this):this.Xa())},r.Xa=function(){ct(this)};function ct(u){if(u.h&&typeof c<"u"){if(u.v&&Rn(u)==4)setTimeout(u.Ca.bind(u),0);else if(sn(u,"readystatechange"),Rn(u)==4){u.h=!1;try{const pe=u.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var V;if(V=pe===0){let je=String(u.D).match(Ha)[1]||null;!je&&p.self&&p.self.location&&(je=p.self.location.protocol.slice(0,-1)),V=!Ye.test(je?je.toLowerCase():"")}A=V}if(A)sn(u,"complete"),sn(u,"success");else{u.o=6;try{var ae=Rn(u)>2?u.g.statusText:""}catch{ae=""}u.l=ae+" ["+u.ca()+"]",He(u)}}finally{Vt(u)}}}}function Vt(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||sn(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Rn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Rn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),k(y)}};function Dn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const y={};u=(u.g&&Rn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<u.length;V++){if(x(u[V]))continue;var A=oa(u[V]);const ae=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const pe=y[ae]||[];y[ae]=pe,pe.push(A)}Ie(y,function(V){return V.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Aa(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ua(u&&u.concurrentRequestLimit),this.Ba=new $i,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Aa.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,V){Ut(0),this.W=u,this.H=y||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.J=$o(this,null,this.W),fr(this)};function Eo(u){if(Ga(u),u.I==3){var y=u.V++,A=Tn(u.J);if(Qt(A,"SID",u.M),Qt(A,"RID",y),Qt(A,"TYPE","terminate"),Xa(u,A),y=new Jn(u,u.j,y),y.M=2,y.A=wi(Tn(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Jo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),cr(y)}Is(u)}function kr(u){u.g&&(dr(u),u.g.cancel(),u.g=null)}function Ga(u){kr(u),u.v&&(p.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function fr(u){if(!Ci(u.h)&&!u.m){u.m=!0;var y=u.Ea;lt||B(),at||(lt(),at=!0),Y.add(y,u),u.D=0}}function Ya(u,y){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yn(E(u.Ea,u,y),xs(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ae=new Jn(this,this.j,u);let pe=this.o;if(this.U&&(pe?(pe=j(pe),Re(pe,this.U)):pe=this.U),this.u!==null||this.R||(ae.J=pe,pe=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(y+=V,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Wo(this,ae,y),A=Tn(this.J),Qt(A,"RID",u),Qt(A,"CVER",22),this.G&&Qt(A,"X-HTTP-Session-Id",this.G),Xa(this,A),pe&&(this.R?y="headers="+Qe(_e(pe))+"&"+y:this.u&&be(A,this.u,pe)),Fa(this.h,ae),this.Ra&&Qt(A,"TYPE","init"),this.S?(Qt(A,"$req",y),Qt(A,"SID","null"),ae.U=!0,Di(ae,A,null)):Di(ae,A,y),this.I=2}}else this.I==3&&(u?Rs(this,u):this.i.length==0||Ci(this.h)||Rs(this))};function Rs(u,y){var A;y?A=y.l:A=u.V++;const V=Tn(u.J);Qt(V,"SID",u.M),Qt(V,"RID",A),Qt(V,"AID",u.K),Xa(u,V),u.u&&u.o&&be(V,u.u,u.o),A=new Jn(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Wo(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Fa(u.h,A),Di(A,V,y)}function Xa(u,y){u.H&&de(u.H,function(A,V){Qt(y,V,A)}),u.l&&de({},function(A,V){Qt(y,V,A)})}function Wo(u,y,A){A=Math.min(u.i.length,A);const V=u.l?E(u.l.Ka,u.l,u):null;e:{var ae=u.i;let Rt=-1;for(;;){const ti=["count="+A];Rt==-1?A>0?(Rt=ae[0].g,ti.push("ofs="+Rt)):Rt=0:ti.push("ofs="+Rt);let un=!0;for(let Bn=0;Bn<A;Bn++){var pe=ae[Bn].g;const Zi=ae[Bn].map;if(pe-=Rt,pe<0)Rt=Math.max(0,ae[Bn].g-100),un=!1;else try{pe="req"+pe+"_"||"";try{var je=Zi instanceof Map?Zi:Object.entries(Zi);for(const[Tr,Ar]of je){let mr=Ar;b(Ar)&&(mr=v(Ar)),ti.push(pe+Tr+"="+encodeURIComponent(mr))}}catch(Tr){throw ti.push(pe+"type="+encodeURIComponent("_badmap")),Tr}}catch{V&&V(Zi)}}if(un){je=ti.join("&");break e}}je=void 0}return u=u.i.splice(0,A),y.G=u,je}function oi(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;lt||B(),at||(lt(),at=!0),Y.add(y,u),u.A=0}}function Sa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yn(E(u.Da,u),xs(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Ko(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yn(E(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),kr(this),Ko(this))};function dr(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Ko(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=Tn(u.na);Qt(y,"RID","rpc"),Qt(y,"SID",u.M),Qt(y,"AID",u.K),Qt(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(y,"TO",u.ia),Qt(y,"TYPE","xmlhttp"),Xa(u,y),u.u&&u.o&&be(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=wi(Tn(y)),A.u=null,A.R=!0,ur(A,u)}r.Va=function(){this.C!=null&&(this.C=null,kr(this),Sa(this),Ut(19))};function da(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Qa(u,y){var A=null;if(u.g==y){da(u),dr(u),u.g=null;var V=2}else if(Pi(u.h,y))A=y.G,Gr(u.h,y),V=1;else return;if(u.I!=0){if(y.o)if(V==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ae=u.D;V=Mn(),sn(V,new Un(V,A)),fr(u)}else oi(u);else if(ae=y.m,ae==3||ae==0&&y.X>0||!(V==1&&Ya(u,y)||V==2&&Sa(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ae){case 1:Vr(u,5);break;case 4:Vr(u,10);break;case 3:Vr(u,6);break;default:Vr(u,2)}}}function xs(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Vr(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),V=u.Ua;const ae=!V;V=new Ri(V||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Wn(V,"https"),wi(V),ae?ei(V.toString(),A):fa(V.toString(),A)}else Ut(2);u.I=0,u.l&&u.l.pa(y),Is(u),Ga(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Is(u){if(u.I=0,u.ja=[],u.l){const y=Ea(u.h);(y.length!=0||u.i.length!=0)&&(z(u.ja,y),z(u.ja,u.i),u.h.i.length=0,re(u.i),u.i.length=0),u.l.oa()}}function $o(u,y,A){var V=A instanceof Ri?Tn(A):new Ri(A);if(V.g!="")y&&(V.g=y+"."+V.g),Qi(V,V.u);else{var ae=p.location;V=ae.protocol,y=y?y+"."+ae.hostname:ae.hostname,ae=+ae.port;const pe=new Ri(null);V&&Wn(pe,V),y&&(pe.g=y),ae&&Qi(pe,ae),A&&(pe.h=A),V=pe}return A=u.G,y=u.wa,A&&y&&Qt(V,A,y),Qt(V,"VER",u.ka),Xa(u,V),V}function Jo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new xe(new ji({ab:A})):new xe(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ms(){}r=Ms.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ca(){}Ca.prototype.g=function(u,y){return new Ui(u,y)};function Ui(u,y){Fe.call(this),this.g=new Aa(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!x(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ma(this)}O(Ui,Fe),Ui.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ui.prototype.close=function(){Eo(this.g)},Ui.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new Hn(y.Ya++,u)),y.I==3&&fr(y)},Ui.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Ui.Z.N.call(this)};function To(u){tt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}O(To,tt);function Zo(){Ge.call(this),this.status=1}O(Zo,Ge);function ma(u){this.g=u}O(ma,Ms),ma.prototype.ra=function(){sn(this.g,"a")},ma.prototype.qa=function(u){sn(this.g,new To(u))},ma.prototype.pa=function(u){sn(this.g,new Zo)},ma.prototype.oa=function(){sn(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Ui.prototype.send=Ui.prototype.o,Ui.prototype.open=Ui.prototype.m,Ui.prototype.close=Ui.prototype.close,Kb=function(){return new Ca},Wb=function(){return Mn()},Qb=$e,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Mh=br,sa.COMPLETE="complete",Xb=sa,Ne.EventType=Ke,Ke.OPEN="a",Ke.CLOSE="b",Ke.ERROR="c",Ke.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,zu=Ne,xe.prototype.listenOnce=xe.prototype.K,xe.prototype.getLastError=xe.prototype.Ha,xe.prototype.getLastErrorCode=xe.prototype.ya,xe.prototype.getStatus=xe.prototype.ca,xe.prototype.getResponseJson=xe.prototype.La,xe.prototype.getResponseText=xe.prototype.la,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Fa,Yb=xe}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const Q0="@firebase/firestore",W0="4.9.2";class ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");let Kl="12.3.0";const Ho=new hp("@firebase/firestore");function Rl(){return Ho.logLevel}function rt(r,...e){if(Ho.logLevel<=Jt.DEBUG){const i=e.map(Ep);Ho.debug(`Firestore (${Kl}): ${r}`,...i)}}function Ts(r,...e){if(Ho.logLevel<=Jt.ERROR){const i=e.map(Ep);Ho.error(`Firestore (${Kl}): ${r}`,...i)}}function Bl(r,...e){if(Ho.logLevel<=Jt.WARN){const i=e.map(Ep);Ho.warn(`Firestore (${Kl}): ${r}`,...i)}}function Ep(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function At(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,$b(r,a,i)}function $b(r,e,i){let a=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ts(a),new Error(a)}function Cn(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||$b(e,l,a)}function Mt(r,e){return r}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Jb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ir.UNAUTHENTICATED)))}shutdown(){}}class WC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class KC{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Cn(this.o===void 0,42304);let a=this.i;const l=w=>this.i!==a?(a=this.i,i(w)):Promise.resolve();let c=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fo)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Cn(typeof a.accessToken=="string",31837,{l:a}),new Jb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Cn(e===null||typeof e=="string",2055,{h:e}),new ir(e)}}class $C{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JC{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new $C(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ir.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ia(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Cn(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Cn(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new K0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=eR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Zt(r,e){return r<e?-1:r>e?1:0}function Qm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return Im(l)===Im(c)?Zt(l,c):Im(l)?1:-1}return Zt(r.length,e.length)}const tR=55296,nR=57343;function Im(r){const e=r.charCodeAt(0);return e>=tR&&e<=nR}function Fl(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const $0="__name__";class Oa{constructor(e,i,a){i===void 0?i=0:i>e.length&&At(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&At(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Oa.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Oa.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Zt(e.length,i.length)}static compareSegments(e,i){const a=Oa.isNumericId(e),l=Oa.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Oa.extractNumericId(e).compare(Oa.extractNumericId(i)):Qm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class Fn extends Oa{construct(e,i,a){return new Fn(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new et(Ce.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Fn(i)}static emptyPath(){return new Fn([])}}const iR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yi extends Oa{construct(e,i,a){return new Yi(e,i,a)}static isValidIdentifier(e){return iR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$0}static keyField(){return new Yi([$0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new et(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new et(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new et(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(c(),l++)}if(c(),p)throw new et(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yi(i)}static emptyPath(){return new Yi([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(Fn.fromString(e))}static fromName(e){return new yt(Fn.fromString(e).popFirst(5))}static empty(){return new yt(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Fn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new Fn(e.slice()))}}function Zb(r,e,i){if(!i)throw new et(Ce.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function rR(r,e,i,a){if(e===!0&&a===!0)throw new et(Ce.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function J0(r){if(!yt.isDocumentKey(r))throw new et(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Z0(r){if(yt.isDocumentKey(r))throw new et(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function e1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function cf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":At(12329,{type:typeof r})}function Yh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new et(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cf(r);throw new et(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function aR(r,e){if(e<=0)throw new et(Ce.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function _i(r,e){const i={typeString:r};return e&&(i.value=e),i}function fc(r,e){if(!e1(r))throw new et(Ce.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const p=r[a];if(l&&typeof p!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new et(Ce.INVALID_ARGUMENT,i);return!0}const e_=-62135596800,t_=1e6;class Xn{static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*t_);return new Xn(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new et(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new et(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<e_)throw new et(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t_}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fc(e,Xn._jsonSchema))return new Xn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xn._jsonSchemaVersion="firestore/timestamp/1.0",Xn._jsonSchema={type:_i("string",Xn._jsonSchemaVersion),seconds:_i("number"),nanoseconds:_i("number")};class xt{static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Xn(0,0))}static max(){return new xt(new Xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ju=-1;function sR(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=xt.fromTimestamp(a===1e9?new Xn(i+1,0):new Xn(i,a));return new po(l,yt.empty(),e)}function oR(r){return new po(r.readTime,r.key,Ju)}class po{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new po(xt.min(),yt.empty(),Ju)}static max(){return new po(xt.max(),yt.empty(),Ju)}}function lR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,e.documentKey),i!==0?i:Zt(r.largestBatchId,e.largestBatchId))}const uR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $l(r){if(r.code!==Ce.FAILED_PRECONDITION||r.message!==uR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Me(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Me?i:Me.resolve(i)}catch(i){return Me.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Me.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Me.reject(i)}static resolve(e){return new Me(((i,a)=>{i(e)}))}static reject(e){return new Me(((i,a)=>{a(e)}))}static waitFor(e){return new Me(((i,a)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(w=>a(w)))})),p=!0,c===l&&i()}))}static or(e){let i=Me.resolve(!1);for(const a of e)i=i.next((l=>l?Me.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new Me(((a,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;i(e[E]).next((M=>{p[E]=M,++b,b===c&&a(p)}),(M=>l(M)))}}))}static doWhile(e,i){return new Me(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function hR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Jl(r){return r.name==="IndexedDbTransactionError"}class hf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hf.ce=-1;const Ap=-1;function ff(r){return r==null}function Xh(r){return r===0&&1/r==-1/0}function fR(r){return typeof r=="number"&&Number.isInteger(r)&&!Xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const t1="";function dR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=n_(e)),e=mR(r.get(i),e);return n_(e)}function mR(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case t1:i+="";break;default:i+=c}}return i}function n_(r){return r+t1+""}function i_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Go(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function n1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ni{constructor(e,i){this.comparator=e,this.root=i||Gi.EMPTY}insert(e,i){return new ni(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gi.BLACK,null,null))}remove(e){return new ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gi.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gi{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Gi.RED,this.left=l??Gi.EMPTY,this.right=c??Gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Gi(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Gi.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1;Gi.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Gi(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ai{constructor(e){this.comparator=e,this.data=new ni(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ai(this.comparator);return i.data=e,i}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ba{constructor(e){this.fields=e,e.sort(Yi.comparator)}static empty(){return new ba([])}unionWith(e){let i=new Ai(Yi.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new ba(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class i1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new i1("Invalid base64 string: "+c):c}})(e);return new Xi(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new Xi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const pR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(r){if(Cn(!!r,39018),typeof r=="string"){let e=0;const i=pR.exec(r);if(Cn(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:hi(r.seconds),nanos:hi(r.nanos)}}function hi(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yo(r){return typeof r=="string"?Xi.fromBase64String(r):Xi.fromUint8Array(r)}const r1="server_timestamp",a1="__type__",s1="__previous_value__",o1="__local_write_time__";function Sp(r){return(r?.mapValue?.fields||{})[a1]?.stringValue===r1}function df(r){const e=r.mapValue.fields[s1];return Sp(e)?df(e):e}function Zu(r){const e=go(r.mapValue.fields[o1].timestampValue);return new Xn(e.seconds,e.nanos)}class gR{constructor(e,i,a,l,c,p,b,w,E,M){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=M}}const Qh="(default)";class ec{constructor(e,i){this.projectId=e,this.database=i||Qh}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}const l1="__type__",yR="__max__",wh={mapValue:{}},u1="__vector__",Wh="value";function vo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sp(r)?4:_R(r)?9007199254740991:vR(r)?10:11:At(28295,{value:r})}function za(r,e){if(r===e)return!0;const i=vo(r);if(i!==vo(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zu(r).isEqual(Zu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=go(l.timestampValue),b=go(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return yo(l.bytesValue).isEqual(yo(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return hi(l.geoPointValue.latitude)===hi(c.geoPointValue.latitude)&&hi(l.geoPointValue.longitude)===hi(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return hi(l.integerValue)===hi(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=hi(l.doubleValue),b=hi(c.doubleValue);return p===b?Xh(p)===Xh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Fl(r.arrayValue.values||[],e.arrayValue.values||[],za);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(i_(p)!==i_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!za(p[w],b[w])))return!1;return!0})(r,e);default:return At(52216,{left:r})}}function tc(r,e){return(r.values||[]).find((i=>za(i,e)))!==void 0}function Hl(r,e){if(r===e)return 0;const i=vo(r),a=vo(e);if(i!==a)return Zt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Zt(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=hi(c.integerValue||c.doubleValue),w=hi(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(r,e);case 3:return a_(r.timestampValue,e.timestampValue);case 4:return a_(Zu(r),Zu(e));case 5:return Qm(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=yo(c),w=yo(p);return b.compareTo(w)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const M=Zt(b[E],w[E]);if(M!==0)return M}return Zt(b.length,w.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=Zt(hi(c.latitude),hi(p.latitude));return b!==0?b:Zt(hi(c.longitude),hi(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return s_(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[Wh]?.arrayValue,M=w[Wh]?.arrayValue,O=Zt(E?.values?.length||0,M?.values?.length||0);return O!==0?O:s_(E,M)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===wh.mapValue&&p===wh.mapValue)return 0;if(c===wh.mapValue)return 1;if(p===wh.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},M=Object.keys(E);w.sort(),M.sort();for(let O=0;O<w.length&&O<M.length;++O){const G=Qm(w[O],M[O]);if(G!==0)return G;const re=Hl(b[w[O]],E[M[O]]);if(re!==0)return re}return Zt(w.length,M.length)})(r.mapValue,e.mapValue);default:throw At(23264,{he:i})}}function a_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Zt(r,e);const i=go(r),a=go(e),l=Zt(i.seconds,a.seconds);return l!==0?l:Zt(i.nanos,a.nanos)}function s_(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Hl(i[l],a[l]);if(c)return c}return Zt(i.length,a.length)}function ql(r){return Wm(r)}function Wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=go(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return yo(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Wm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of a)c?c=!1:l+=",",l+=`${p}:${Wm(i.fields[p])}`;return l+"}"})(r.mapValue):At(61005,{value:r})}function Nh(r){switch(vo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=df(r);return e?16+Nh(e):16;case 5:return 2*r.stringValue.length;case 6:return yo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Nh(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Go(a.fields,((c,p)=>{l+=c.length+Nh(p)})),l})(r.mapValue);default:throw At(13486,{value:r})}}function o_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Km(r){return!!r&&"integerValue"in r}function Cp(r){return!!r&&"arrayValue"in r}function l_(r){return!!r&&"nullValue"in r}function u_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dh(r){return!!r&&"mapValue"in r}function vR(r){return(r?.mapValue?.fields||{})[l1]?.stringValue===u1}function Gu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Go(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Gu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gu(r.arrayValue.values[i]);return e}return{...r}}function _R(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}class ra{constructor(e){this.value=e}static empty(){return new ra({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Dh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(i)}setAll(e){let i=Yi.emptyPath(),a={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const w=this.getFieldsMap(i);this.applyChanges(w,a,l),a={},l=[],i=b.popLast()}p?a[b.lastSegment()]=Gu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Dh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return za(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Dh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Go(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new ra(Gu(this.value))}}function c1(r){const e=[];return Go(r.fields,((i,a)=>{const l=new Yi([i]);if(Dh(a)){const c=c1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new ba(e)}class rr{constructor(e,i,a,l,c,p,b){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new rr(e,0,xt.min(),xt.min(),xt.min(),ra.empty(),0)}static newFoundDocument(e,i,a,l){return new rr(e,1,i,xt.min(),a,l,0)}static newNoDocument(e,i){return new rr(e,2,i,xt.min(),xt.min(),ra.empty(),0)}static newUnknownDocument(e,i){return new rr(e,3,i,xt.min(),xt.min(),ra.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ra.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ra.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kh{constructor(e,i){this.position=e,this.inclusive=i}}function c_(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?a=yt.comparator(yt.fromName(p.referenceValue),i.key):a=Hl(p,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function h_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!za(r.position[i],e.position[i]))return!1;return!0}class nc{constructor(e,i="asc"){this.field=e,this.dir=i}}function bR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class h1{}class vi extends h1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new ER(e,i,a):i==="array-contains"?new SR(e,a):i==="in"?new CR(e,a):i==="not-in"?new RR(e,a):i==="array-contains-any"?new xR(e,a):new vi(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new TR(e,a):new AR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Hl(i,this.value)):i!==null&&vo(this.value)===vo(i)&&this.matchesComparison(Hl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wa extends h1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new wa(e,i)}matches(e){return f1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f1(r){return r.op==="and"}function d1(r){return wR(r)&&f1(r)}function wR(r){for(const e of r.filters)if(e instanceof wa)return!1;return!0}function $m(r){if(r instanceof vi)return r.field.canonicalString()+r.op.toString()+ql(r.value);if(d1(r))return r.filters.map((e=>$m(e))).join(",");{const e=r.filters.map((i=>$m(i))).join(",");return`${r.op}(${e})`}}function m1(r,e){return r instanceof vi?(function(a,l){return l instanceof vi&&a.op===l.op&&a.field.isEqual(l.field)&&za(a.value,l.value)})(r,e):r instanceof wa?(function(a,l){return l instanceof wa&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,p,b)=>c&&m1(p,l.filters[b])),!0):!1})(r,e):void At(19439)}function p1(r){return r instanceof vi?(function(i){return`${i.field.canonicalString()} ${i.op} ${ql(i.value)}`})(r):r instanceof wa?(function(i){return i.op.toString()+" {"+i.getFilters().map(p1).join(" ,")+"}"})(r):"Filter"}class ER extends vi{constructor(e,i,a){super(e,i,a),this.key=yt.fromName(a.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class TR extends vi{constructor(e,i){super(e,"in",i),this.keys=g1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class AR extends vi{constructor(e,i){super(e,"not-in",i),this.keys=g1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function g1(r,e){return(e.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class SR extends vi{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Cp(i)&&tc(i.arrayValue,this.value)}}class CR extends vi{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&tc(this.value.arrayValue,i)}}class RR extends vi{constructor(e,i){super(e,"not-in",i)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!tc(this.value.arrayValue,i)}}class xR extends vi{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Cp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>tc(this.value.arrayValue,a)))}}class IR{constructor(e,i=null,a=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function f_(r,e=null,i=[],a=[],l=null,c=null,p=null){return new IR(r,e,i,a,l,c,p)}function Rp(r){const e=Mt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>$m(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ff(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ql(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ql(a))).join(",")),e.Te=i}return e.Te}function xp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!bR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!m1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!h_(r.startAt,e.startAt)&&h_(r.endAt,e.endAt)}function Jm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Zl{constructor(e,i=null,a=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MR(r,e,i,a,l,c,p,b){return new Zl(r,e,i,a,l,c,p,b)}function y1(r){return new Zl(r)}function d_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function v1(r){return r.collectionGroup!==null}function Yu(r){const e=Mt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Ai(Yi.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nc(c,a))})),i.has(Yi.keyField().canonicalString())||e.Ie.push(new nc(Yi.keyField(),a))}return e.Ie}function Pa(r){const e=Mt(r);return e.Ee||(e.Ee=NR(e,Yu(r))),e.Ee}function NR(r,e){if(r.limitType==="F")return f_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nc(l.field,c)}));const i=r.endAt?new Kh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Kh(r.startAt.position,r.startAt.inclusive):null;return f_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function Zm(r,e){const i=r.filters.concat([e]);return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function $h(r,e,i){return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function mf(r,e){return xp(Pa(r),Pa(e))&&r.limitType===e.limitType}function _1(r){return`${Rp(Pa(r))}|lt:${r.limitType}`}function xl(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>p1(l))).join(", ")}]`),ff(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ql(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ql(l))).join(",")),`Target(${a})`})(Pa(r))}; limitType=${r.limitType})`}function pf(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):yt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of Yu(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(p,b,w){const E=c_(p,b,w);return p.inclusive?E<=0:E<0})(a.startAt,Yu(a),l)||a.endAt&&!(function(p,b,w){const E=c_(p,b,w);return p.inclusive?E>=0:E>0})(a.endAt,Yu(a),l))})(r,e)}function DR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function b1(r){return(e,i)=>{let a=!1;for(const l of Yu(r)){const c=OR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function OR(r,e,i){const a=r.field.isKeyField()?yt.comparator(e.key,i.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Hl(w,E):At(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return At(19790,{direction:r.dir})}}class Yo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}const kR=new ni(yt.comparator);function As(){return kR}const w1=new ni(yt.comparator);function Bu(...r){let e=w1;for(const i of r)e=e.insert(i.key,i);return e}function E1(r){let e=w1;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Uo(){return Xu()}function T1(){return Xu()}function Xu(){return new Yo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const VR=new ni(yt.comparator),PR=new Ai(yt.comparator);function en(...r){let e=PR;for(const i of r)e=e.add(i);return e}const LR=new Ai(Zt);function jR(){return LR}function Ip(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function A1(r){return{integerValue:""+r}}function UR(r,e){return fR(e)?A1(e):Ip(r,e)}class gf{constructor(){this._=void 0}}function zR(r,e,i){return r instanceof Jh?(function(l,c){const p={fields:{[a1]:{stringValue:r1},[o1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sp(c)&&(c=df(c)),c&&(p.fields[s1]=c),{mapValue:p}})(i,e):r instanceof ic?C1(r,e):r instanceof rc?R1(r,e):(function(l,c){const p=S1(l,c),b=m_(p)+m_(l.Ae);return Km(p)&&Km(l.Ae)?A1(b):Ip(l.serializer,b)})(r,e)}function BR(r,e,i){return r instanceof ic?C1(r,e):r instanceof rc?R1(r,e):i}function S1(r,e){return r instanceof Zh?(function(a){return Km(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Jh extends gf{}class ic extends gf{constructor(e){super(),this.elements=e}}function C1(r,e){const i=x1(e);for(const a of r.elements)i.some((l=>za(l,a)))||i.push(a);return{arrayValue:{values:i}}}class rc extends gf{constructor(e){super(),this.elements=e}}function R1(r,e){let i=x1(e);for(const a of r.elements)i=i.filter((l=>!za(l,a)));return{arrayValue:{values:i}}}class Zh extends gf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function m_(r){return hi(r.integerValue||r.doubleValue)}function x1(r){return Cp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function FR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof ic&&l instanceof ic||a instanceof rc&&l instanceof rc?Fl(a.elements,l.elements,za):a instanceof Zh&&l instanceof Zh?za(a.Ae,l.Ae):a instanceof Jh&&l instanceof Jh})(r.transform,e.transform)}class HR{constructor(e,i){this.version=e,this.transformResults=i}}class vs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class yf{}function I1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new N1(r.key,vs.none()):new dc(r.key,r.data,vs.none());{const i=r.data,a=ra.empty();let l=new Ai(Yi.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?a.delete(c):a.set(c,p),l=l.add(c)}return new Xo(r.key,a,new ba(l.toArray()),vs.none())}}function qR(r,e,i){r instanceof dc?(function(l,c,p){const b=l.value.clone(),w=g_(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Xo?(function(l,c,p){if(!Oh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=g_(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(M1(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Qu(r,e,i,a){return r instanceof dc?(function(c,p,b,w){if(!Oh(c.precondition,p))return b;const E=c.value.clone(),M=y_(c.fieldTransforms,w,p);return E.setAll(M),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(r,e,i,a):r instanceof Xo?(function(c,p,b,w){if(!Oh(c.precondition,p))return b;const E=y_(c.fieldTransforms,w,p),M=p.data;return M.setAll(M1(c)),M.setAll(E),p.convertToFoundDocument(p.version,M).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((O=>O.field)))})(r,e,i,a):(function(c,p,b){return Oh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function GR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=S1(a.transform,l||null);c!=null&&(i===null&&(i=ra.empty()),i.set(a.field,c))}return i||null}function p_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Fl(a,l,((c,p)=>FR(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class dc extends yf{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xo extends yf{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function M1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function g_(r,e,i){const a=new Map;Cn(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);a.set(c.field,BR(p,b,i[l]))}return a}function y_(r,e,i){const a=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);a.set(l.field,zR(c,p,e))}return a}class N1 extends yf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YR extends yf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&qR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Qu(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Qu(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=T1();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const w=I1(p,b);w!==null&&a.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(xt.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),en())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,((i,a)=>p_(i,a)))&&Fl(this.baseMutations,e.baseMutations,((i,a)=>p_(i,a)))}}class Mp{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){Cn(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return VR})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,a[p].version);return new Mp(e,i,a,l)}}class QR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WR{constructor(e,i){this.count=e,this.unchangedNames=i}}var yi,an;function KR(r){switch(r){case Ce.OK:return At(64938);case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return At(15467,{code:r})}}function D1(r){if(r===void 0)return Ts("GRPC error has no .code"),Ce.UNKNOWN;switch(r){case yi.OK:return Ce.OK;case yi.CANCELLED:return Ce.CANCELLED;case yi.UNKNOWN:return Ce.UNKNOWN;case yi.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case yi.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case yi.INTERNAL:return Ce.INTERNAL;case yi.UNAVAILABLE:return Ce.UNAVAILABLE;case yi.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case yi.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case yi.NOT_FOUND:return Ce.NOT_FOUND;case yi.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case yi.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case yi.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case yi.ABORTED:return Ce.ABORTED;case yi.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case yi.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case yi.DATA_LOSS:return Ce.DATA_LOSS;default:return At(39323,{code:r})}}(an=yi||(yi={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";function $R(){return new TextEncoder}const JR=new ho([4294967295,4294967295],0);function v_(r){const e=$R().encode(r),i=new Gb;return i.update(e),new Uint8Array(i.digest())}function __(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ho([i,a],0),new ho([l,c],0)]}class Np{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Fu(`Invalid padding: ${i}`);if(a<0)throw new Fu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ho.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(ho.fromNumber(a)));return l.compare(JR)===1&&(l=new ho([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=v_(e),[a,l]=__(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);if(!this.we(p))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Np(c,l,i);return a.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=v_(e),[a,l]=__(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vf{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new vf(xt.min(),l,new ni(Zt),As(),en())}}class mc{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new mc(a,i,en(),en(),en())}}class kh{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class O1{constructor(e,i){this.targetId=e,this.Ce=i}}class k1{constructor(e,i,a=Xi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class b_{constructor(){this.ve=0,this.Fe=w_(),this.Me=Xi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=en(),i=en(),a=en();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:At(38017,{changeType:c})}})),new mc(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=w_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Cn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZR{constructor(e){this.Ge=e,this.ze=new Map,this.je=As(),this.Je=Eh(),this.He=Eh(),this.Ye=new ni(Zt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:At(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Jm(c))if(a===0){const p=new yt(c.path);this.et(i,p,rr.newNoDocument(p,xt.min()))}else Cn(a===1,20013,{expectedCount:a});else{const p=this._t(i);if(p!==a){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(i);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=yo(a).toUint8Array()}catch(w){if(w instanceof i1)return Bl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new Np(p,l,c)}catch(w){return Bl(w instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Jm(b.target)){const w=new yt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,rr.newNoDocument(w,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let a=en();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new vf(e,i,this.Ye,this.je,a);return this.je=As(),this.Je=Eh(),this.He=Eh(),this.Ye=new ni(Zt),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new b_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ai(Zt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ai(Zt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Eh(){return new ni(yt.comparator)}function w_(){return new ni(yt.comparator)}const ex={asc:"ASCENDING",desc:"DESCENDING"},tx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nx={and:"AND",or:"OR"};class ix{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ep(r,e){return r.useProto3Json||ff(e)?e:{value:e}}function ef(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function rx(r,e){return ef(r,e.toTimestamp())}function La(r){return Cn(!!r,49232),xt.fromTimestamp((function(i){const a=go(i);return new Xn(a.seconds,a.nanos)})(r))}function Dp(r,e){return tp(r,e).canonicalString()}function tp(r,e){const i=(function(l){return new Fn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function P1(r){const e=Fn.fromString(r);return Cn(B1(e),10190,{key:e.toString()}),e}function np(r,e){return Dp(r.databaseId,e.path)}function Mm(r,e){const i=P1(e);if(i.get(1)!==r.databaseId.projectId)throw new et(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new et(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(j1(i))}function L1(r,e){return Dp(r.databaseId,e)}function ax(r){const e=P1(r);return e.length===4?Fn.emptyPath():j1(e)}function ip(r){return new Fn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function j1(r){return Cn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function E_(r,e,i){return{name:np(r,e),fields:i.value.mapValue.fields}}function sx(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:At(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,M){return E.useProto3Json?(Cn(M===void 0||typeof M=="string",58123),Xi.fromBase64String(M||"")):(Cn(M===void 0||M instanceof Buffer||M instanceof Uint8Array,16193),Xi.fromUint8Array(M||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const M=E.code===void 0?Ce.UNKNOWN:D1(E.code);return new et(M,E.message||"")})(p);i=new k1(a,l,c,b||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Mm(r,a.document.name),c=La(a.document.updateTime),p=a.document.createTime?La(a.document.createTime):xt.min(),b=new ra({mapValue:{fields:a.document.fields}}),w=rr.newFoundDocument(l,c,p,b),E=a.targetIds||[],M=a.removedTargetIds||[];i=new kh(E,M,w.key,w)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Mm(r,a.document),c=a.readTime?La(a.readTime):xt.min(),p=rr.newNoDocument(l,c),b=a.removedTargetIds||[];i=new kh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Mm(r,a.document),c=a.removedTargetIds||[];i=new kh([],c,l,null)}else{if(!("filter"in e))return At(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,p=new WR(l,c),b=a.targetId;i=new O1(b,p)}}return i}function ox(r,e){let i;if(e instanceof dc)i={update:E_(r,e.key,e.value)};else if(e instanceof N1)i={delete:np(r,e.key)};else if(e instanceof Xo)i={update:E_(r,e.key,e.data),updateMask:gx(e.fieldMask)};else{if(!(e instanceof YR))return At(16599,{Vt:e.type});i={verify:np(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,p){const b=p.transform;if(b instanceof Jh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof ic)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof rc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Zh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw At(20930,{transform:p.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:rx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:At(27497)})(r,e.precondition)),i}function lx(r,e){return r&&r.length>0?(Cn(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?La(l.updateTime):La(c);return p.isEqual(xt.min())&&(p=La(c)),new HR(p,l.transformResults||[])})(i,e)))):[]}function ux(r,e){return{documents:[L1(r,e.path)]}}function cx(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=L1(r,l);const c=(function(E){if(E.length!==0)return z1(wa.create(E,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((M=>(function(G){return{field:Il(G.field),direction:dx(G.dir)}})(M)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=ep(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:i,parent:l}}function hx(r){let e=ax(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Cn(a===1,65062);const M=i.from[0];M.allDescendants?l=M.collectionId:e=e.child(M.collectionId)}let c=[];i.where&&(c=(function(O){const G=U1(O);return G instanceof wa&&d1(G)?G.getFilters():[G]})(i.where));let p=[];i.orderBy&&(p=(function(O){return O.map((G=>(function(z){return new nc(Ml(z.field),(function(Ae){switch(Ae){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(G)))})(i.orderBy));let b=null;i.limit&&(b=(function(O){let G;return G=typeof O=="object"?O.value:O,ff(G)?null:G})(i.limit));let w=null;i.startAt&&(w=(function(O){const G=!!O.before,re=O.values||[];return new Kh(re,G)})(i.startAt));let E=null;return i.endAt&&(E=(function(O){const G=!O.before,re=O.values||[];return new Kh(re,G)})(i.endAt)),MR(e,l,p,c,b,"F",w,E)}function fx(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function U1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ml(i.unaryFilter.field);return vi.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ml(i.unaryFilter.field);return vi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ml(i.unaryFilter.field);return vi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ml(i.unaryFilter.field);return vi.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(r):r.fieldFilter!==void 0?(function(i){return vi.create(Ml(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return wa.create(i.compositeFilter.filters.map((a=>U1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(i.compositeFilter.op))})(r):At(30097,{filter:r})}function dx(r){return ex[r]}function mx(r){return tx[r]}function px(r){return nx[r]}function Il(r){return{fieldPath:r.canonicalString()}}function Ml(r){return Yi.fromServerFormat(r.fieldPath)}function z1(r){return r instanceof vi?(function(i){if(i.op==="=="){if(u_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NAN"}};if(l_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(u_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NAN"}};if(l_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(i.field),op:mx(i.op),value:i.value}}})(r):r instanceof wa?(function(i){const a=i.getFilters().map((l=>z1(l)));return a.length===1?a[0]:{compositeFilter:{op:px(i.op),filters:a}}})(r):At(54877,{filter:r})}function gx(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function B1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class oo{constructor(e,i,a,l,c=xt.min(),p=xt.min(),b=Xi.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yx{constructor(e){this.yt=e}}function vx(r){const e=hx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$h(e,e.limit,"L"):e}class _x{constructor(){this.Cn=new bx}addToCollectionParentIndex(e,i){return this.Cn.add(i),Me.resolve()}getCollectionParents(e,i){return Me.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Me.resolve()}deleteFieldIndex(e,i){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,i){return Me.resolve()}getDocumentsMatchingTarget(e,i){return Me.resolve(null)}getIndexType(e,i){return Me.resolve(0)}getFieldIndexes(e,i){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,i){return Me.resolve(po.min())}getMinOffsetFromCollectionGroup(e,i){return Me.resolve(po.min())}updateCollectionGroup(e,i,a){return Me.resolve()}updateIndexEntries(e,i){return Me.resolve()}}class bx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Ai(Fn.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Ai(Fn.comparator)).toArray()}}const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F1=41943040;class Nr{static withCacheSize(e){return new Nr(e,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(F1,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);class Gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gl(0)}static cr(){return new Gl(-1)}}const A_="LruGarbageCollector",wx=1048576;function S_([r,e],[i,a]){const l=Zt(r,i);return l===0?Zt(e,a):l}class Ex{constructor(e){this.Ir=e,this.buffer=new Ai(S_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();S_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Tx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(A_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Jl(i)?rt(A_,"Ignoring IndexedDB error during garbage collection: ",i):await $l(i)}await this.Vr(3e5)}))}}class Ax{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Me.resolve(hf.ce);const a=new Ex(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(T_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,p,b,w,E;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,p=Date.now(),this.nthSequenceNumber(e,l)))).next((O=>(a=O,b=Date.now(),this.removeTargets(e,a,i)))).next((O=>(c=O,w=Date.now(),this.removeOrphanedDocuments(e,a)))).next((O=>(E=Date.now(),Rl()<=Jt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-M}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${O} documents in `+(E-w)+`ms
Total Duration: ${E-M}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O}))))}}function Sx(r,e){return new Ax(r,e)}class Cx{constructor(){this.changes=new Yo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Me.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class xx{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Qu(a.mutation,l,ba.empty(),Xn.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,en()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=en()){const l=Uo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let p=Bu();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const a=Uo();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,en())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,a,l){let c=As();const p=Xu(),b=(function(){return Xu()})();return i.forEach(((w,E)=>{const M=a.get(E.key);l.has(E.key)&&(M===void 0||M.mutation instanceof Xo)?c=c.insert(E.key,E):M!==void 0?(p.set(E.key,M.mutation.getFieldMask()),Qu(M.mutation,E,M.mutation.getFieldMask(),Xn.now())):p.set(E.key,ba.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,M)=>p.set(E,M))),i.forEach(((E,M)=>b.set(E,new Rx(M,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,i){const a=Xu();let l=new ni(((p,b)=>p-b)),c=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=i.get(w);if(E===null)return;let M=a.get(w)||ba.empty();M=b.applyToLocalView(E,M),a.set(w,M);const O=(l.get(b.batchId)||en()).add(w);l=l.insert(b.batchId,O)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,M=w.value,O=T1();M.forEach((G=>{if(!c.has(G)){const re=I1(i.get(G),a.get(G));re!==null&&O.set(G,re),c=c.add(G)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,O))}return Me.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(p){return yt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):v1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):Me.resolve(Uo());let b=Ju,w=c;return p.next((E=>Me.forEach(E,((M,O)=>(b<O.largestBatchId&&(b=O.largestBatchId),c.get(M)?Me.resolve():this.remoteDocumentCache.getEntry(e,M).next((G=>{w=w.insert(M,G)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,en()))).next((M=>({batchId:b,changes:E1(M)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next((a=>{let l=Bu();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let p=Bu();return this.indexManager.getCollectionParents(e,c).next((b=>Me.forEach(b,(w=>{const E=(function(O,G){return new Zl(G,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(i,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,a,l).next((M=>{M.forEach(((O,G)=>{p=p.insert(O,G)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((p=>{c.forEach(((w,E)=>{const M=E.getKey();p.get(M)===null&&(p=p.insert(M,rr.newInvalidDocument(M)))}));let b=Bu();return p.forEach(((w,E)=>{const M=c.get(w);M!==void 0&&Qu(M.mutation,E,ba.empty(),Xn.now()),pf(i,E)&&(b=b.insert(w,E))})),b}))}}class Ix{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Me.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:La(l.createTime)}})(i)),Me.resolve()}getNamedQuery(e,i){return Me.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:vx(l.bundledQuery),readTime:La(l.readTime)}})(i)),Me.resolve()}}class Mx{constructor(){this.overlays=new ni(yt.comparator),this.qr=new Map}getOverlay(e,i){return Me.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Uo();return Me.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),Me.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Me.resolve()}getOverlaysForCollection(e,i,a){const l=Uo(),c=i.length+1,p=new yt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>a&&l.set(w.getKey(),w)}return Me.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new ni(((E,M)=>E-M));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>a){let M=c.get(E.largestBatchId);M===null&&(M=Uo(),c=c.insert(E.largestBatchId,M)),M.set(E.getKey(),E)}}const b=Uo(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,M)=>b.set(E,M))),!(b.size()>=l)););return Me.resolve(b)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new QR(i,a));let c=this.qr.get(i);c===void 0&&(c=en(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Nx{constructor(){this.sessionToken=Xi.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Me.resolve()}}class Op{constructor(){this.Qr=new Ai(Mi.$r),this.Ur=new Ai(Mi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Mi(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Mi(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new yt(new Fn([])),a=new Mi(i,e),l=new Mi(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new yt(new Fn([])),a=new Mi(i,e),l=new Mi(i,e+1);let c=en();return this.Ur.forEachInRange([a,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new Mi(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Mi{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return yt.comparator(e.key,i.key)||Zt(e.Yr,i.Yr)}static Kr(e,i){return Zt(e.Yr,i.Yr)||yt.comparator(e.key,i.key)}}class Dx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ai(Mi.$r)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new XR(c,i,a,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Mi(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Me.resolve(p)}lookupMutationBatch(e,i){return Me.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Me.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?Ap:this.tr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Mi(i,0),l=new Mi(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Me.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ai(Zt);return i.forEach((l=>{const c=new Mi(l,0),p=new Mi(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{a=a.add(b.Yr)}))})),Me.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;yt.isDocumentKey(c)||(c=c.child(""));const p=new Mi(new yt(c),0);let b=new Ai(Zt);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!a.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Me.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Cn(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Me.forEach(i.mutations,(l=>{const c=new Mi(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Mi(i,0),l=this.Zr.firstAfterOrEqual(a);return Me.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Ox{constructor(e){this.ri=e,this.docs=(function(){return new ni(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Me.resolve(a?a.document.mutableCopy():rr.newInvalidDocument(i))}getEntries(e,i){let a=As();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():rr.newInvalidDocument(l))})),Me.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=As();const p=i.path,b=new yt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:M}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||lR(oR(M),a)<=0||(l.has(M.key)||pf(i,M))&&(c=c.insert(M.key,M.mutableCopy()))}return Me.resolve(c)}getAllFromCollectionGroup(e,i,a,l){At(9500)}ii(e,i){return Me.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new kx(this)}getSize(e){return Me.resolve(this.size)}}class kx extends Cx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Me.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Vx{constructor(e){this.persistence=e,this.si=new Yo((i=>Rp(i)),xp),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=Gl.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Me.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Gl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Me.resolve()}updateTargetData(e,i){return this.Pr(i),Me.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&a.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Me.waitFor(c).next((()=>l))}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Me.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Me.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Me.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Me.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Me.resolve(a)}containsKey(e,i){return Me.resolve(this._i.containsKey(i))}}class H1{constructor(e,i){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new Nx,this.referenceDelegate=e(this),this.Pi=new Vx(this),this.indexManager=new _x,this.remoteDocumentCache=(function(l){return new Ox(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new yx(i),this.Ii=new Ix(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Mx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new Dx(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){rt("MemoryPersistence","Starting transaction:",e);const l=new Px(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Me.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class Px extends cR{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new kp(e)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Me.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Me.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Me.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.fi,(a=>{const l=yt.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,xt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Me.or([()=>Me.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class tf{constructor(e,i){this.persistence=e,this.pi=new Yo((a=>dR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Sx(this,i)}static mi(e,i){return new tf(e,i)}Ei(){}di(e){return Me.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Me.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?Me.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(a++,c.removeEntry(p,xt.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Me.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Me.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Me.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Me.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Nh(e.data.value)),i}br(e,i,a){return Me.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Me.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vp{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=en(),l=en();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vp(e,i.fromCache,a,l)}}class Lx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CA()?8:hR(ar())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new Lx;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(Rl()<=Jt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",xl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Me.resolve()):(Rl()<=Jt.DEBUG&&rt("QueryEngine","Query:",xl(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Rl()<=Jt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",xl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pa(i))):Me.resolve())}ys(e,i){if(d_(i))return Me.resolve(null);let a=Pa(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=$h(i,null,"F"),a=Pa(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const p=en(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,a).next((w=>{const E=this.Ds(i,b);return this.Cs(i,E,p,w.readTime)?this.ys(e,$h(i,null,"F")):this.vs(e,E,i,w)}))))})))))}ws(e,i,a,l){return d_(i)||l.isEqual(xt.min())?Me.resolve(null):this.ps.getDocuments(e,a).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,a,l)?Me.resolve(null):(Rl()<=Jt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xl(i)),this.vs(e,p,i,sR(l,Ju)).next((b=>b)))}))}Ds(e,i){let a=new Ai(b1(e));return i.forEach(((l,c)=>{pf(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return Rl()<=Jt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",xl(i)),this.ps.getDocumentsMatchingQuery(e,i,po.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Pp="LocalStore",Ux=3e8;class zx{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ni(Zt),this.xs=new Yo((c=>Rp(c)),xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Bx(r,e,i,a){return new zx(r,e,i,a)}async function q1(r,e){const i=Mt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const p=[],b=[];let w=en();for(const E of l){p.push(E.batchId);for(const M of E.mutations)w=w.add(M.key)}for(const E of c){b.push(E.batchId);for(const M of E.mutations)w=w.add(M.key)}return i.localDocuments.getDocuments(a,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function Fx(r,e){const i=Mt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,M){const O=E.batch,G=O.keys();let re=Me.resolve();return G.forEach((z=>{re=re.next((()=>M.getEntry(w,z))).next((Ve=>{const Ae=E.docVersions.get(z);Cn(Ae!==null,48541),Ve.version.compareTo(Ae)<0&&(O.applyToRemoteDocument(Ve,E),Ve.isValidDocument()&&(Ve.setReadTime(E.commitVersion),M.addEntry(Ve)))}))})),re.next((()=>b.mutationQueue.removeMutationBatch(w,O)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let w=en();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function G1(r){const e=Mt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Hx(r,e){const i=Mt(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((M,O)=>{const G=l.get(O);if(!G)return;b.push(i.Pi.removeMatchingKeys(c,M.removedDocuments,O).next((()=>i.Pi.addMatchingKeys(c,M.addedDocuments,O))));let re=G.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(O)!==null?re=re.withResumeToken(Xi.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):M.resumeToken.approximateByteSize()>0&&(re=re.withResumeToken(M.resumeToken,a)),l=l.insert(O,re),(function(Ve,Ae,ze){return Ve.resumeToken.approximateByteSize()===0||Ae.snapshotVersion.toMicroseconds()-Ve.snapshotVersion.toMicroseconds()>=Ux?!0:ze.addedDocuments.size+ze.modifiedDocuments.size+ze.removedDocuments.size>0})(G,re,M)&&b.push(i.Pi.updateTargetData(c,re))}));let w=As(),E=en();if(e.documentUpdates.forEach((M=>{e.resolvedLimboDocuments.has(M)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,M))})),b.push(qx(c,p,e.documentUpdates).next((M=>{w=M.ks,E=M.qs}))),!a.isEqual(xt.min())){const M=i.Pi.getLastRemoteSnapshotVersion(c).next((O=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));b.push(M)}return Me.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(i.Ms=l,c)))}function qx(r,e,i){let a=en(),l=en();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let p=As();return i.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(xt.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):rt(Pp,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function Gx(r,e){const i=Mt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ap),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Yx(r,e){const i=Mt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,Me.resolve(l)):i.Pi.allocateTargetId(a).next((p=>(l=new oo(e,p,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function rp(r,e,i){const a=Mt(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Jl(p))throw p;rt(Pp,`Failed to update sequence numbers for target ${e}: ${p}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function C_(r,e,i){const a=Mt(r);let l=xt.min(),c=en();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,M){const O=Mt(w),G=O.xs.get(M);return G!==void 0?Me.resolve(O.Ms.get(G)):O.Pi.getTargetData(E,M)})(a,p,Pa(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,e,i?l:xt.min(),i?c:en()))).next((b=>(Xx(a,DR(e),b),{documents:b,Qs:c})))))}function Xx(r,e,i){let a=r.Os.get(e)||xt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class R_{constructor(){this.activeTargetIds=jR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qx{constructor(){this.Mo=new R_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wx{Oo(e){}shutdown(){}}const x_="ConnectivityMonitor";class I_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(x_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(x_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function ap(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const Nm="RestConnection",Kx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $x{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Qh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const p=ap(),b=this.zo(e,i.toUriEncodedString());rt(Nm,`Sending RPC '${e}' ${p}:`,b,a);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),M=Xl(E);return this.Jo(e,b,w,a,M).then((O=>(rt(Nm,`Received RPC '${e}' ${p}: `,O),O)),(O=>{throw Bl(Nm,`RPC '${e}' ${p} failed with error: `,O,"url: ",b,"request:",a),O}))}Ho(e,i,a,l,c,p){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=Kx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Jx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const nr="WebChannelConnection";class Zx extends $x{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const p=ap();return new Promise(((b,w)=>{const E=new Yb;E.setWithCredentials(!0),E.listenOnce(Xb.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Mh.NO_ERROR:const O=E.getResponseJson();rt(nr,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(O)),b(O);break;case Mh.TIMEOUT:rt(nr,`RPC '${e}' ${p} timed out`),w(new et(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const G=E.getStatus();if(rt(nr,`RPC '${e}' ${p} failed with status:`,G,"response text:",E.getResponseText()),G>0){let re=E.getResponseJson();Array.isArray(re)&&(re=re[0]);const z=re?.error;if(z&&z.status&&z.message){const Ve=(function(ze){const H=ze.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(H)>=0?H:Ce.UNKNOWN})(z.status);w(new et(Ve,z.message))}else w(new et(Ce.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new et(Ce.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{rt(nr,`RPC '${e}' ${p} completed.`)}}));const M=JSON.stringify(l);rt(nr,`RPC '${e}' ${p} sending request:`,l),E.send(i,"POST",M,a,15)}))}T_(e,i,a){const l=ap(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Kb(),b=Wb(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,i,a),w.encodeInitMessageHeaders=!0;const M=c.join("");rt(nr,`Creating RPC '${e}' stream ${l}: ${M}`,w);const O=p.createWebChannel(M,w);this.I_(O);let G=!1,re=!1;const z=new Jx({Yo:Ae=>{re?rt(nr,`Not sending because RPC '${e}' stream ${l} is closed:`,Ae):(G||(rt(nr,`Opening RPC '${e}' stream ${l} transport.`),O.open(),G=!0),rt(nr,`RPC '${e}' stream ${l} sending:`,Ae),O.send(Ae))},Zo:()=>O.close()}),Ve=(Ae,ze,H)=>{Ae.listen(ze,(Le=>{try{H(Le)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return Ve(O,zu.EventType.OPEN,(()=>{re||(rt(nr,`RPC '${e}' stream ${l} transport opened.`),z.o_())})),Ve(O,zu.EventType.CLOSE,(()=>{re||(re=!0,rt(nr,`RPC '${e}' stream ${l} transport closed`),z.a_(),this.E_(O))})),Ve(O,zu.EventType.ERROR,(Ae=>{re||(re=!0,Bl(nr,`RPC '${e}' stream ${l} transport errored. Name:`,Ae.name,"Message:",Ae.message),z.a_(new et(Ce.UNAVAILABLE,"The operation could not be completed")))})),Ve(O,zu.EventType.MESSAGE,(Ae=>{if(!re){const ze=Ae.data[0];Cn(!!ze,16349);const H=ze,Le=H?.error||H[0]?.error;if(Le){rt(nr,`RPC '${e}' stream ${l} received error:`,Le);const nt=Le.status;let lt=(function(B){const P=yi[B];if(P!==void 0)return D1(P)})(nt),at=Le.message;lt===void 0&&(lt=Ce.INTERNAL,at="Unknown error status: "+nt+" with message "+Le.message),re=!0,z.a_(new et(lt,at)),O.close()}else rt(nr,`RPC '${e}' stream ${l} received:`,ze),z.u_(ze)}})),Ve(b,Qb.STAT_EVENT,(Ae=>{Ae.stat===Xm.PROXY?rt(nr,`RPC '${e}' stream ${l} detected buffering proxy`):Ae.stat===Xm.NOPROXY&&rt(nr,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Dm(){return typeof document<"u"?document:null}function _f(r){return new ix(r,!0)}class Y1{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const M_="PersistentStream";class X1{constructor(e,i,a,l,c,p,b,w){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Ce.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new et(Ce.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(M_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(rt(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eI extends X1{constructor(e,i,a,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=sx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?xt.min():p.readTime?La(p.readTime):xt.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ip(this.serializer),i.addTarget=(function(c,p){let b;const w=p.target;if(b=Jm(w)?{documents:ux(c,w)}:{query:cx(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=V1(c,p.resumeToken);const E=ep(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(xt.min())>0){b.readTime=ef(c,p.snapshotVersion.toTimestamp());const E=ep(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const a=fx(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ip(this.serializer),i.removeTarget=e,this.q_(i)}}class tI extends X1{constructor(e,i,a,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Cn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Cn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Cn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=lx(e.writeResults,e.commitTime),a=La(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>ox(this.serializer,a)))};this.q_(i)}}class nI{}class iI extends nI{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new et(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,tp(i,a),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new et(Ce.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,tp(i,a),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new et(Ce.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qo="RemoteStore";class aI{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{Qo(this)&&(rt(qo,"Restarting streams for network reachability change."),await(async function(w){const E=Mt(w);E.Ea.add(4),await pc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await bf(E)})(this))}))})),this.Ra=new rI(a,l)}}async function bf(r){if(Qo(r))for(const e of r.da)await e(!0)}async function pc(r){for(const e of r.da)await e(!1)}function Q1(r,e){const i=Mt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),zp(i)?Up(i):eu(i).O_()&&jp(i,e))}function Lp(r,e){const i=Mt(r),a=eu(i);i.Ia.delete(e),a.O_()&&W1(i,e),i.Ia.size===0&&(a.O_()?a.L_():Qo(i)&&i.Ra.set("Unknown"))}function jp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}eu(r).Y_(e)}function W1(r,e){r.Va.Ue(e),eu(r).Z_(e)}function Up(r){r.Va=new ZR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),eu(r).start(),r.Ra.ua()}function zp(r){return Qo(r)&&!eu(r).x_()&&r.Ia.size>0}function Qo(r){return Mt(r).Ea.size===0}function K1(r){r.Va=void 0}async function sI(r){r.Ra.set("Online")}async function oI(r){r.Ia.forEach(((e,i)=>{jp(r,e)}))}async function lI(r,e){K1(r),zp(r)?(r.Ra.ha(e),Up(r)):r.Ra.set("Unknown")}async function uI(r,e,i){if(r.Ra.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(a){rt(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await nf(r,a)}else if(e instanceof kh?r.Va.Ze(e):e instanceof O1?r.Va.st(e):r.Va.tt(e),!i.isEqual(xt.min()))try{const a=await G1(r.localStore);i.compareTo(a)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const M=c.Ia.get(E);M&&c.Ia.set(E,M.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const M=c.Ia.get(w);if(!M)return;c.Ia.set(w,M.withResumeToken(Xi.EMPTY_BYTE_STRING,M.snapshotVersion)),W1(c,w);const O=new oo(M.target,w,E,M.sequenceNumber);jp(c,O)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(a){rt(qo,"Failed to raise snapshot:",a),await nf(r,a)}}async function nf(r,e,i){if(!Jl(e))throw e;r.Ea.add(1),await pc(r),r.Ra.set("Offline"),i||(i=()=>G1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(qo,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bf(r)}))}function $1(r,e){return e().catch((i=>nf(r,i,e)))}async function wf(r){const e=Mt(r),i=_o(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ap;for(;cI(e);)try{const l=await Gx(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,hI(e,l)}catch(l){await nf(e,l)}J1(e)&&Z1(e)}function cI(r){return Qo(r)&&r.Ta.length<10}function hI(r,e){r.Ta.push(e);const i=_o(r);i.O_()&&i.X_&&i.ea(e.mutations)}function J1(r){return Qo(r)&&!_o(r).x_()&&r.Ta.length>0}function Z1(r){_o(r).start()}async function fI(r){_o(r).ra()}async function dI(r){const e=_o(r);for(const i of r.Ta)e.ea(i.mutations)}async function mI(r,e,i){const a=r.Ta.shift(),l=Mp.from(a,e,i);await $1(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await wf(r)}async function pI(r,e){e&&_o(r).X_&&await(async function(a,l){if((function(p){return KR(p)&&p!==Ce.ABORTED})(l.code)){const c=a.Ta.shift();_o(a).B_(),await $1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wf(a)}})(r,e),J1(r)&&Z1(r)}async function N_(r,e){const i=Mt(r);i.asyncQueue.verifyOperationInProgress(),rt(qo,"RemoteStore received new credentials");const a=Qo(i);i.Ea.add(3),await pc(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await bf(i)}async function gI(r,e){const i=Mt(r);e?(i.Ea.delete(2),await bf(i)):e||(i.Ea.add(2),await pc(i),i.Ra.set("Unknown"))}function eu(r){return r.ma||(r.ma=(function(i,a,l){const c=Mt(i);return c.sa(),new eI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:sI.bind(null,r),t_:oI.bind(null,r),r_:lI.bind(null,r),H_:uI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zp(r)?Up(r):r.Ra.set("Unknown")):(await r.ma.stop(),K1(r))}))),r.ma}function _o(r){return r.fa||(r.fa=(function(i,a,l){const c=Mt(i);return c.sa(),new tI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:fI.bind(null,r),r_:pI.bind(null,r),ta:dI.bind(null,r),na:mI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await wf(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(qo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Bp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const p=Date.now()+a,b=new Bp(e,i,p,l,c);return b.start(a),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(r,e){if(Ts("AsyncQueue",`${e}: ${r}`),Jl(r))return new et(Ce.UNAVAILABLE,`${e}: ${r}`);throw r}class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||yt.comparator(i.key,a.key):(i,a)=>yt.comparator(i.key,a.key),this.keyedMap=Bu(),this.sortedSet=new ni(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ll;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class D_{constructor(){this.ga=new ni(yt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):At(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Yl{constructor(e,i,a,l,c,p,b,w,E){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,i,a,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Yl(e,i,Ll.emptySet(i),p,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class yI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vI{constructor(){this.queries=O_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Mt(i),c=l.queries;l.queries=O_(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(a)}))})(this,new et(Ce.ABORTED,"Firestore shutting down"))}}function O_(){return new Yo((r=>_1(r)),mf)}async function _I(r,e){const i=Mt(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new yI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=Fp(p,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Hp(i)}async function bI(r,e){const i=Mt(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function wI(r,e){const i=Mt(r);let a=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(a=!0);p.wa=l}}a&&Hp(i)}function EI(r,e,i){const a=Mt(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function Hp(r){r.Ca.forEach((e=>{e.next()}))}var sp,k_;(k_=sp||(sp={})).Ma="default",k_.Cache="cache";class TI{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Yl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sp.Cache}}class ew{constructor(e){this.key=e}}class tw{constructor(e){this.key=e}}class AI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=en(),this.mutatedKeys=en(),this.eu=b1(e),this.tu=new Ll(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new D_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((M,O)=>{const G=l.get(M),re=pf(this.query,O)?O:null,z=!!G&&this.mutatedKeys.has(G.key),Ve=!!re&&(re.hasLocalMutations||this.mutatedKeys.has(re.key)&&re.hasCommittedMutations);let Ae=!1;G&&re?G.data.isEqual(re.data)?z!==Ve&&(a.track({type:3,doc:re}),Ae=!0):this.su(G,re)||(a.track({type:2,doc:re}),Ae=!0,(w&&this.eu(re,w)>0||E&&this.eu(re,E)<0)&&(b=!0)):!G&&re?(a.track({type:0,doc:re}),Ae=!0):G&&!re&&(a.track({type:1,doc:G}),Ae=!0,(w||E)&&(b=!0)),Ae&&(re?(p=p.add(re),c=Ve?c.add(M):c.delete(M)):(p=p.delete(M),c=c.delete(M)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const M=this.query.limitType==="F"?p.last():p.first();p=p.delete(M.key),c=c.delete(M.key),a.track({type:1,doc:M})}return{tu:p,iu:a,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((M,O)=>(function(re,z){const Ve=Ae=>{switch(Ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:Ae})}};return Ve(re)-Ve(z)})(M.type,O.type)||this.eu(M.doc,O.doc))),this.ou(a),l=l??!1;const b=i&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Yl(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=en(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new tw(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new ew(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=en();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qp="SyncEngine";class SI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class CI{constructor(e){this.key=e,this.hu=!1}}class RI{constructor(e,i,a,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Yo((b=>_1(b)),mf),this.Iu=new Map,this.Eu=new Set,this.du=new ni(yt.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=Gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xI(r,e,i=!0){const a=ow(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await nw(a,e,i,!0),l}async function II(r,e){const i=ow(r);await nw(i,e,!0,!1)}async function nw(r,e,i,a){const l=await Yx(r.localStore,Pa(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return a&&(b=await MI(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&Q1(r.remoteStore,l),b}async function MI(r,e,i,a,l){r.pu=(O,G,re)=>(async function(Ve,Ae,ze,H){let Le=Ae.view.ru(ze);Le.Cs&&(Le=await C_(Ve.localStore,Ae.query,!1).then((({documents:Y})=>Ae.view.ru(Y,Le))));const nt=H&&H.targetChanges.get(Ae.targetId),lt=H&&H.targetMismatches.get(Ae.targetId)!=null,at=Ae.view.applyChanges(Le,Ve.isPrimaryClient,nt,lt);return P_(Ve,Ae.targetId,at.au),at.snapshot})(r,O,G,re);const c=await C_(r.localStore,e,!0),p=new AI(e,c.Qs),b=p.ru(c.documents),w=mc.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),E=p.applyChanges(b,r.isPrimaryClient,w);P_(r,i,E.au);const M=new SI(e,i,p);return r.Tu.set(e,M),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),E.snapshot}async function NI(r,e,i){const a=Mt(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((p=>!mf(p,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await rp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Lp(a.remoteStore,l.targetId),op(a,l.targetId)})).catch($l)):(op(a,l.targetId),await rp(a.localStore,l.targetId,!0))}async function DI(r,e){const i=Mt(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Lp(i.remoteStore,a.targetId))}async function OI(r,e,i){const a=zI(r);try{const l=await(function(p,b){const w=Mt(p),E=Xn.now(),M=b.reduce(((re,z)=>re.add(z.key)),en());let O,G;return w.persistence.runTransaction("Locally write mutations","readwrite",(re=>{let z=As(),Ve=en();return w.Ns.getEntries(re,M).next((Ae=>{z=Ae,z.forEach(((ze,H)=>{H.isValidDocument()||(Ve=Ve.add(ze))}))})).next((()=>w.localDocuments.getOverlayedDocuments(re,z))).next((Ae=>{O=Ae;const ze=[];for(const H of b){const Le=GR(H,O.get(H.key).overlayedDocument);Le!=null&&ze.push(new Xo(H.key,Le,c1(Le.value.mapValue),vs.exists(!0)))}return w.mutationQueue.addMutationBatch(re,E,ze,b)})).next((Ae=>{G=Ae;const ze=Ae.applyToLocalDocumentSet(O,Ve);return w.documentOverlayCache.saveOverlays(re,Ae.batchId,ze)}))})).then((()=>({batchId:G.batchId,changes:E1(O)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new ni(Zt)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(a,l.batchId,i),await gc(a,l.changes),await wf(a.remoteStore)}catch(l){const c=Fp(l,"Failed to persist write");i.reject(c)}}async function iw(r,e){const i=Mt(r);try{const a=await Hx(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(Cn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Cn(p.hu,14607):l.removedDocuments.size>0&&(Cn(p.hu,42227),p.hu=!1))})),await gc(i,a,e)}catch(a){await $l(a)}}function V_(r,e,i){const a=Mt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=Mt(p);w.onlineState=b;let E=!1;w.queries.forEach(((M,O)=>{for(const G of O.Sa)G.va(b)&&(E=!0)})),E&&Hp(w)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function kI(r,e,i){const a=Mt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let p=new ni(yt.comparator);p=p.insert(c,rr.newNoDocument(c,xt.min()));const b=en().add(c),w=new vf(xt.min(),new Map,new ni(Zt),p,b);await iw(a,w),a.du=a.du.remove(c),a.Au.delete(e),Gp(a)}else await rp(a.localStore,e,!1).then((()=>op(a,e,i))).catch($l)}async function VI(r,e){const i=Mt(r),a=e.batch.batchId;try{const l=await Fx(i.localStore,e);aw(i,a,null),rw(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await gc(i,l)}catch(l){await $l(l)}}async function PI(r,e,i){const a=Mt(r);try{const l=await(function(p,b){const w=Mt(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let M;return w.mutationQueue.lookupMutationBatch(E,b).next((O=>(Cn(O!==null,37113),M=O.keys(),w.mutationQueue.removeMutationBatch(E,O)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,M,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,M))).next((()=>w.localDocuments.getDocuments(E,M)))}))})(a.localStore,e);aw(a,e,i),rw(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await gc(a,l)}catch(l){await $l(l)}}function rw(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function aw(r,e,i){const a=Mt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function op(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||sw(r,a)}))}function sw(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Lp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Gp(r))}function P_(r,e,i){for(const a of i)a instanceof ew?(r.Ru.addReference(a.key,e),LI(r,a)):a instanceof tw?(rt(qp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||sw(r,a.key)):At(19791,{wu:a})}function LI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(qp,"New document in limbo: "+i),r.Eu.add(a),Gp(r))}function Gp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new yt(Fn.fromString(e)),a=r.fu.next();r.Au.set(a,new CI(i)),r.du=r.du.insert(i,a),Q1(r.remoteStore,new oo(Pa(y1(i.path)),a,"TargetPurposeLimboResolution",hf.ce))}}async function gc(r,e,i){const a=Mt(r),l=[],c=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,w)=>{p.push(a.pu(w,e,i).then((E=>{if((E||i)&&a.isPrimaryClient){const M=E?!E.fromCache:i?.targetChanges.get(w.targetId)?.current;a.sharedClientState.updateQueryState(w.targetId,M?"current":"not-current")}if(E){l.push(E);const M=Vp.As(w.targetId,E);c.push(M)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(w,E){const M=Mt(w);try{await M.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>Me.forEach(E,(G=>Me.forEach(G.Es,(re=>M.persistence.referenceDelegate.addReference(O,G.targetId,re))).next((()=>Me.forEach(G.ds,(re=>M.persistence.referenceDelegate.removeReference(O,G.targetId,re)))))))))}catch(O){if(!Jl(O))throw O;rt(Pp,"Failed to update sequence numbers: "+O)}for(const O of E){const G=O.targetId;if(!O.fromCache){const re=M.Ms.get(G),z=re.snapshotVersion,Ve=re.withLastLimboFreeSnapshotVersion(z);M.Ms=M.Ms.insert(G,Ve)}}})(a.localStore,c))}async function jI(r,e){const i=Mt(r);if(!i.currentUser.isEqual(e)){rt(qp,"User change. New user:",e.toKey());const a=await q1(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new et(Ce.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await gc(i,a.Ls)}}function UI(r,e){const i=Mt(r),a=i.Au.get(e);if(a&&a.hu)return en().add(a.key);{let l=en();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function ow(r){const e=Mt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=iw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kI.bind(null,e),e.Pu.H_=wI.bind(null,e.eventManager),e.Pu.yu=EI.bind(null,e.eventManager),e}function zI(r){const e=Mt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PI.bind(null,e),e}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Bx(this.persistence,new jx,e.initialUser,this.serializer)}Cu(e){return new H1(kp.mi,this.serializer)}Du(e){return new Qx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class BI extends rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Cn(this.persistence.referenceDelegate instanceof tf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Tx(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new H1((a=>tf.mi(a,i)),this.serializer)}}class lp{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>V_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=jI.bind(null,this.syncEngine),await gI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vI})()}createDatastore(e){const i=_f(e.databaseInfo.databaseId),a=(function(c){return new Zx(c)})(e.databaseInfo);return(function(c,p,b,w){return new iI(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,p,b){return new aI(a,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>V_(this.syncEngine,i,0)),(function(){return I_.v()?new I_:new Wx})())}createSyncEngine(e,i){return(function(l,c,p,b,w,E,M){const O=new RI(l,c,p,b,w,E);return M&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Mt(i);rt(qo,"RemoteStore shutting down."),a.Ea.add(5),await pc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};class FI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const bo="FirestoreClient";class HI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=ir.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async p=>{rt(bo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(rt(bo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Fp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Om(r,e){r.asyncQueue.verifyOperationInProgress(),rt(bo,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await q1(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function L_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await qI(r);rt(bo,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>N_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>N_(e.remoteStore,l))),r._onlineComponents=e}async function qI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(bo,"Using user provided OfflineComponentProvider");try{await Om(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Ce.FAILED_PRECONDITION||l.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Bl("Error using user provided cache. Falling back to memory cache: "+i),await Om(r,new rf)}}else rt(bo,"Using default OfflineComponentProvider"),await Om(r,new BI(void 0));return r._offlineComponents}async function lw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(bo,"Using user provided OnlineComponentProvider"),await L_(r,r._uninitializedComponentsProvider._online)):(rt(bo,"Using default OnlineComponentProvider"),await L_(r,new lp))),r._onlineComponents}function GI(r){return lw(r).then((e=>e.syncEngine))}async function YI(r){const e=await lw(r),i=e.eventManager;return i.onListen=xI.bind(null,e.syncEngine),i.onUnlisten=NI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=II.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=DI.bind(null,e.syncEngine),i}function XI(r,e,i={}){const a=new fo;return r.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,w,E){const M=new FI({next:G=>{M.Nu(),p.enqueueAndForget((()=>bI(c,O))),G.fromCache&&w.source==="server"?E.reject(new et(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(G)},error:G=>E.reject(G)}),O=new TI(b,M,{includeMetadataChanges:!0,qa:!0});return _I(c,O)})(await YI(r),r.asyncQueue,e,i,a))),a.promise}function uw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const j_=new Map;const cw="firestore.googleapis.com",U_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cw,this.ssl=U_}else this.host=e.host,this.ssl=e.ssl??U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wx)throw new et(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uw(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new et(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new et(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new et(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new QC;switch(a.type){case"firstParty":return new JC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new et(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=j_.get(i);a&&(rt("ComponentProvider","Removing Datastore"),j_.delete(i),a.terminate())})(this),Promise.resolve()}}function QI(r,e,i,a={}){r=Yh(r,Ef);const l=Xl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(sb(`https://${b}`),ob("Firestore",!0)),c.host!==cw&&c.host!==b&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:a};if(!zo(w,p)&&(r._setSettings(w),a.mockUserToken)){let E,M;if(typeof a.mockUserToken=="string")E=a.mockUserToken,M=ir.MOCK_USER;else{E=yA(a.mockUserToken,r._app?.options.projectId);const O=a.mockUserToken.sub||a.mockUserToken.user_id;if(!O)throw new et(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new ir(O)}r._authCredentials=new WC(new Jb(E,M))}}class wo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class Ni{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}toJSON(){return{type:Ni._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(fc(i,Ni._jsonSchema))return new Ni(e,a||null,new yt(Fn.fromString(i.referencePath)))}}Ni._jsonSchemaVersion="firestore/documentReference/1.0",Ni._jsonSchema={type:_i("string",Ni._jsonSchemaVersion),referencePath:_i("string")};class mo extends wo{constructor(e,i,a){super(e,i,y1(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new yt(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function Vh(r,e,...i){if(r=Hr(r),Zb("collection","path",e),r instanceof Ef){const a=Fn.fromString(e,...i);return Z0(a),new mo(r,null,a)}{if(!(r instanceof Ni||r instanceof mo))throw new et(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Fn.fromString(e,...i));return Z0(a),new mo(r.firestore,null,a)}}function WI(r,e,...i){if(r=Hr(r),arguments.length===1&&(e=Tp.newId()),Zb("doc","path",e),r instanceof Ef){const a=Fn.fromString(e,...i);return J0(a),new Ni(r,null,new yt(a))}{if(!(r instanceof Ni||r instanceof mo))throw new et(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Fn.fromString(e,...i));return J0(a),new Ni(r.firestore,r instanceof mo?r.converter:null,new yt(a))}}const B_="AsyncQueue";class F_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y1(this,"async_queue_retry"),this._c=()=>{const a=Dm();a&&rt(B_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Dm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Dm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jl(e))throw e;rt(B_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",H_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Bp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&At(47125,{Pc:H_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function H_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Yp extends Ef{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new F_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F_(e),this._firestoreClient=void 0,await e}}}function KI(r,e){const i=typeof r=="object"?r:hb(),a=typeof r=="string"?r:Qh,l=dp(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=pA("firestore");c&&QI(l,...c)}return l}function hw(r){if(r._terminated)throw new et(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$I(r),r._firestoreClient}function $I(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new gR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,uw(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new HI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(Xi.fromBase64String(e))}catch(i){throw new et(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new aa(Xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:aa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fc(e,aa._jsonSchema))return aa.fromBase64String(e.bytes)}}aa._jsonSchemaVersion="firestore/bytes/1.0",aa._jsonSchema={type:_i("string",aa._jsonSchemaVersion),bytes:_i("string")};class Xp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new et(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fw{constructor(e){this._methodName=e}}class ja{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new et(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new et(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ja._jsonSchemaVersion}}static fromJSON(e){if(fc(e,ja._jsonSchema))return new ja(e.latitude,e.longitude)}}ja._jsonSchemaVersion="firestore/geoPoint/1.0",ja._jsonSchema={type:_i("string",ja._jsonSchemaVersion),latitude:_i("number"),longitude:_i("number")};class Ua{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fc(e,Ua._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ua(e.vectorValues);throw new et(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ua._jsonSchemaVersion="firestore/vectorValue/1.0",Ua._jsonSchema={type:_i("string",Ua._jsonSchemaVersion),vectorValues:_i("object")};const JI=/^__.*__$/;class ZI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,i,this.fieldTransforms):new dc(e,this.data,i,this.fieldTransforms)}}function dw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:r})}}class Qp{constructor(e,i,a,l,c,p){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return af(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dw(this.Ac)&&JI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class eM{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||_f(e)}Cc(e,i,a,l=!1){return new Qp({Ac:e,methodName:i,Dc:a,path:Yi.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mw(r){const e=r._freezeSettings(),i=_f(r._databaseId);return new eM(r._databaseId,!!e.ignoreUndefinedProperties,i)}function tM(r,e,i,a,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);yw("Data must be an object, but it was:",p,a);const b=pw(a,p);let w,E;if(c.merge)w=new ba(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const M=[];for(const O of c.mergeFields){const G=iM(e,O,i);if(!p.contains(G))throw new et(Ce.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);aM(M,G)||M.push(G)}w=new ba(M),E=p.fieldTransforms.filter((O=>w.covers(O.field)))}else w=null,E=p.fieldTransforms;return new ZI(new ra(b),w,E)}function nM(r,e,i,a=!1){return Wp(i,r.Cc(a?4:3,e))}function Wp(r,e){if(gw(r=Hr(r)))return yw("Unsupported field value:",e,r),pw(r,e);if(r instanceof fw)return(function(a,l){if(!dw(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let p=0;for(const b of a){let w=Wp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=Hr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return UR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Xn.fromDate(a);return{timestampValue:ef(l.serializer,c)}}if(a instanceof Xn){const c=new Xn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ef(l.serializer,c)}}if(a instanceof ja)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof aa)return{bytesValue:V1(l.serializer,a._byteString)};if(a instanceof Ni){const c=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ua)return(function(p,b){return{mapValue:{fields:{[l1]:{stringValue:u1},[Wh]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return Ip(b.serializer,E)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${cf(a)}`)})(r,e)}function pw(r,e){const i={};return n1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(r,((a,l)=>{const c=Wp(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function gw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Xn||r instanceof ja||r instanceof aa||r instanceof Ni||r instanceof fw||r instanceof Ua)}function yw(r,e,i){if(!gw(i)||!e1(i)){const a=cf(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function iM(r,e,i){if((e=Hr(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return vw(r,e);throw af("Field path arguments must be of type string or ",r,!1,void 0,i)}const rM=new RegExp("[~\\*/\\[\\]]");function vw(r,e,i){if(e.search(rM)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Xp(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function af(r,e,i,a,l){const c=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${a}`),p&&(w+=` in document ${l}`),w+=")"),new et(Ce.INVALID_ARGUMENT,b+r+w)}function aM(r,e){return r.some((i=>i.isEqual(e)))}class _w{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Tf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class sM extends _w{data(){return super.data()}}function Tf(r,e){return typeof e=="string"?vw(r,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}function oM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new et(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class $p extends Kp{}function bw(r,e,...i){let a=[];e instanceof Kp&&a.push(e),a=a.concat(i),(function(c){const p=c.filter((w=>w instanceof Jp)).length,b=c.filter((w=>w instanceof Af)).length;if(p>1||p>0&&b>0)throw new et(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class Af extends $p{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Af(e,i,a)}_apply(e){const i=this._parse(e);return ww(e._query,i),new wo(e.firestore,e.converter,Zm(e._query,i))}_parse(e){const i=mw(e.firestore);return(function(c,p,b,w,E,M,O){let G;if(E.isKeyField()){if(M==="array-contains"||M==="array-contains-any")throw new et(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if(M==="in"||M==="not-in"){G_(O,M);const z=[];for(const Ve of O)z.push(q_(w,c,Ve));G={arrayValue:{values:z}}}else G=q_(w,c,O)}else M!=="in"&&M!=="not-in"&&M!=="array-contains-any"||G_(O,M),G=nM(b,p,O,M==="in"||M==="not-in");return vi.create(E,M,G)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Ol(r,e,i){const a=e,l=Tf("where",r);return Af._create(l,a,i)}class Jp extends Kp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Jp(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:wa.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)ww(p,w),p=Zm(p,w)})(e._query,i),new wo(e.firestore,e.converter,Zm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zp extends $p{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Zp(e,i)}_apply(e){const i=(function(l,c,p){if(l.startAt!==null)throw new et(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new et(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nc(c,p)})(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new Zl(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function to(r,e="asc"){const i=e,a=Tf("orderBy",r);return Zp._create(a,i)}class eg extends $p{constructor(e,i,a){super(),this.type=e,this._limit=i,this._limitType=a}static _create(e,i,a){return new eg(e,i,a)}_apply(e){return new wo(e.firestore,e.converter,$h(e._query,this._limit,this._limitType))}}function Wu(r){return aR("limit",r),eg._create("limit",r,"F")}function q_(r,e,i){if(typeof(i=Hr(i))=="string"){if(i==="")throw new et(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v1(e)&&i.indexOf("/")!==-1)throw new et(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Fn.fromString(i));if(!yt.isDocumentKey(a))throw new et(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return o_(r,new yt(a))}if(i instanceof Ni)return o_(r,i._key);throw new et(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(i)}.`)}function G_(r,e){if(!Array.isArray(r)||r.length===0)throw new et(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ww(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new et(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class lM{convertValue(e,i="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw At(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Go(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Wh].arrayValue?.values?.map((a=>hi(a.doubleValue)));return new Ua(i)}convertGeoPoint(e){return new ja(hi(e.latitude),hi(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=df(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const i=go(e);return new Xn(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Fn.fromString(e);Cn(B1(a),9688,{name:e});const l=new ec(a.get(1),a.get(3)),c=new yt(a.popFirst(5));return l.isEqual(i)||Ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function uM(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Ah{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jl extends _w{constructor(e,i,a,l,c,p){super(e,i,a,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Tf("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=jl._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jl._jsonSchemaVersion="firestore/documentSnapshot/1.0",jl._jsonSchema={type:_i("string",jl._jsonSchemaVersion),bundleSource:_i("string","DocumentSnapshot"),bundleName:_i("string"),bundle:_i("string")};class Ph extends jl{data(e={}){return super.data(e)}}class Ul{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ah(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Ph(this._firestore,this._userDataWriter,a.key,a,new Ah(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new et(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Ph(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Ah(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Ph(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Ah(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,M=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),M=p.indexOf(b.doc.key)),{type:cM(b.type),doc:w,oldIndex:E,newIndex:M}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:r})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:_i("string",Ul._jsonSchemaVersion),bundleSource:_i("string","QuerySnapshot"),bundleName:_i("string"),bundle:_i("string")};class hM extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,i)}}function Ew(r){r=Yh(r,wo);const e=Yh(r.firestore,Yp),i=hw(e),a=new hM(e);return oM(r._query),XI(i,r._query).then((l=>new Ul(e,a,r,l)))}function Y_(r,e){const i=Yh(r.firestore,Yp),a=WI(r),l=uM(r.converter,e);return fM(i,[tM(mw(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,vs.exists(!1))]).then((()=>a))}function fM(r,e){return(function(a,l){const c=new fo;return a.asyncQueue.enqueueAndForget((async()=>OI(await GI(a),l,c))),c.promise})(hw(r),e)}(function(e,i=!0){(function(l){Kl=l})(Ql),zl(new Bo("firestore",((a,{instanceIdentifier:l,options:c})=>{const p=a.getProvider("app").getImmediate(),b=new Yp(new KC(a.getProvider("auth-internal")),new ZC(p,a.getProvider("app-check-internal")),(function(E,M){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new et(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(E.options.projectId,M)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),co(Q0,W0,e),co(Q0,W0,"esm2020")})();const dM={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},mM=typeof __firebase_config<"u"?JSON.parse(__firebase_config):dM,Tw=cb(mM),km=YC(Tw),Lh=KI(Tw),up=typeof __app_id<"u"?__app_id:"long-jump-game",Vm={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWild:"#ffd700",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000",modalBg:"#ffffff",settingsBg:"#ffffff",handBg:"#dcd8cc"},pM={background:"#111827",boardBackground:"#1f2937",boardLines:"#374151",tileLocked:"#374151",tileLockedText:"#f3f4f6",tileTemp:"#854d0e",tileTempRing:"#ca8a04",tileWild:"#b45309",tileWildPlaced:"#78350f",tileObstacle:"#000000",accentPrimary:"#65a30d",accentSecondary:"#4d7c0f",textMain:"#f9fafb",textSub:"#9ca3af",starGold:"#fbbf24",starPurple:"#c084fc",overlayComplete:"#1f2937",startArrow:"#ffffff",modalBg:"#1f2937",settingsBg:"#111827",handBg:"#1f2937"},na=5,cp=50,gM=25,Aw=30,yM=15,va=40,Sw={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},vM=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),X_=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],Q_=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],Nl={ctx:null,init:()=>{Nl.ctx||(Nl.ctx=new(window.AudioContext||window.webkitAudioContext))},play:r=>{Nl.ctx||Nl.init();const e=Nl.ctx,i=e.createOscillator(),a=e.createGain();i.connect(a),a.connect(e.destination);const l=e.currentTime,c=.5+Math.random();r==="pop"?(i.type="triangle",i.frequency.setValueAtTime(600*c,l),i.frequency.exponentialRampToValueAtTime(100*c,l+.15),a.gain.setValueAtTime(.5,l),a.gain.exponentialRampToValueAtTime(.01,l+.15),i.start(l),i.stop(l+.15)):r==="success"?(i.type="sine",i.frequency.setValueAtTime(400*c,l),i.frequency.setValueAtTime(600*c,l+.1),a.gain.setValueAtTime(.3,l),a.gain.linearRampToValueAtTime(0,l+.3),i.start(l),i.stop(l+.3)):r==="error"?(i.type="sawtooth",i.frequency.setValueAtTime(150,l),i.frequency.linearRampToValueAtTime(100,l+.2),a.gain.setValueAtTime(.5,l),a.gain.linearRampToValueAtTime(0,l+.2),i.start(l),i.stop(l+.2)):r==="click"?(i.type="square",i.frequency.setValueAtTime(800,l),a.gain.setValueAtTime(.1,l),a.gain.exponentialRampToValueAtTime(.01,l+.05),i.start(l),i.stop(l+.05)):r==="fanfare"&&(i.type="square",i.frequency.setValueAtTime(261.63,l),i.frequency.setValueAtTime(329.63,l+.1),i.frequency.setValueAtTime(392,l+.2),i.frequency.setValueAtTime(523.25,l+.3),a.gain.setValueAtTime(.2,l),a.gain.setValueAtTime(.2,l+.3),a.gain.exponentialRampToValueAtTime(.01,l+.8),i.start(l),i.stop(l+.8))}},_M=r=>{if(navigator.vibrate)switch(r){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(15);break;case"success":navigator.vibrate([10,30,10]);break;case"error":navigator.vibrate([50,20,50]);break;case"heavy":navigator.vibrate(50);break}},Sf=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Cf=r=>{let e=1779033703,i=3144134277,a=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=a^Math.imul(i^p,2869860233),a=l^Math.imul(a^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(a^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),a=Math.imul(e^a>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^a^l)>>>0},bM=()=>new Date().toISOString().split("T")[0],wM=(r,e)=>{const i=Cf(r),a=Sf(i),l=[],c=Math.floor(e*.3),p=new Set;for(;l.length<c;){const b=Math.floor(a()*na),w=Math.floor(a()*e);if(w===0)continue;const E=`${b},${w}`;if(!p.has(E)){p.add(E);const M=a();let O=1;M>.5&&(O=2),M>.8&&(O=3),l.push({r:b,c:w,val:O})}}return l},EM=(r,e)=>{const i=Cf(r+"OBSTACLES"),a=Sf(i),l=[],c=Math.floor(e*.1),p=new Set;for(;l.length<c;){const b=Math.floor(a()*na),w=Math.floor(a()*e);if(w===0)continue;const E=`${b},${w}`;p.has(E)||(p.add(E),l.push({r:b,c:w}))}return l},TM=(r,e,i)=>{const a=Cf(r+"WILDCARDS_V3"),l=Sf(a),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*na),w=5,E=Math.min(29,i-2);if(E<=w)break;const M=Math.floor(l()*(E-w+1))+w;if(!e.some(O=>O.r===b&&O.c===M)){c.push({r:b,c:M});break}p++}if(i>30)for(p=0;p<100;){const b=Math.floor(l()*na),w=30,E=i-5,M=Math.floor(l()*(E-w+1))+w;if(!e.some(O=>O.r===b&&O.c===M)){c.push({r:b,c:M});break}p++}return c},AM=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],SM=r=>{const e=Cf(r),i=Sf(e);let a=[];Object.entries(Sw).forEach(([b,w])=>{for(let E=0;E<w;E++)a.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(a);for(let b=l.length-1;b>0;b--){const w=Math.floor(i()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=Aw;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(i()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},Cw=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},CM=r=>{const e=new Date(r),i=e.getDate(),a=e.toLocaleDateString("en-GB",{month:"short"});return`${Cw(i)} ${a}`},RM=r=>{const e=new Date().toISOString().split("T")[0],i=JSON.parse(localStorage.getItem("longJumpStats"))||{gamesPlayed:0,currentStreak:0,maxStreak:0,totalDistance:0,lastPlayedDate:null};let{gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:b}=i;if(a+=1,p+=r,b!==e){const E=new Date;E.setDate(E.getDate()-1);const M=E.toISOString().split("T")[0];b===M?l+=1:l=1}l>c&&(c=l);const w={gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:e};return localStorage.setItem("longJumpStats",JSON.stringify(w)),w},xM=({theme:r})=>{const e=qe.useRef(null);return qe.useEffect(()=>{const i=e.current;if(!i)return;const a=i.getContext("2d");let l=window.innerWidth,c=window.innerHeight;if(l===0||c===0)return;i.width=l,i.height=c;const p=[],b=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",r.accentPrimary];for(let O=0;O<150;O++)p.push({x:Math.random()*l,y:Math.random()*c-c,vx:Math.random()*2-1,vy:Math.random()*3+2,color:b[Math.floor(Math.random()*b.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let w;const E=()=>{!a||!i.width||!i.height||(a.clearRect(0,0,l,c),p.forEach(O=>{O.y+=O.vy,O.x+=O.vx+Math.sin(O.y/50),O.rotation+=O.rotationSpeed,O.y>c&&(O.y=-10,O.x=Math.random()*l),!(!Number.isFinite(O.x)||!Number.isFinite(O.y)||!Number.isFinite(O.rotation)||!Number.isFinite(O.size))&&(a.save(),a.translate(O.x,O.y),a.rotate(O.rotation*Math.PI/180),a.fillStyle=O.color,a.fillRect(-O.size/2,-O.size/2,O.size,O.size),a.restore())}),w=requestAnimationFrame(E))};E();const M=()=>{i&&(l=window.innerWidth,c=window.innerHeight,l>0&&c>0&&(i.width=l,i.height=c))};return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),w&&cancelAnimationFrame(w)}},[r]),D.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},W_=()=>{const{RiveComponent:r}=so.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return D.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},K_=({trigger:r})=>{const{rive:e,RiveComponent:i}=so.useRive({src:"fan.riv",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return qe.useEffect(()=>{if(r&&e&&e.viewModelInstance)try{const a=e.viewModelInstance("View Model 1");if(a){const l=a.trigger("Celebrate");l&&l.fire()}}catch(a){console.warn("Rive trigger warning:",a)}},[r,e]),i?D.jsx("div",{style:{width:`${va}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:D.jsx("div",{style:{width:"39px",height:"60px"},children:D.jsx(i,{})})}):null},Pm=({highlightName:r,user:e,onRankFound:i,lastUpdated:a,initialMode:l="standard",onParCalculated:c,theme:p})=>{const[b,w]=qe.useState([]),[E,M]=qe.useState(!0),[O,G]=qe.useState("daily"),[re,z]=qe.useState(l),[Ve,Ae]=qe.useState(null);qe.useEffect(()=>{z(l)},[l]);const ze=async()=>{if(!e)return;M(!0),Ae(null);const H=Vh(Lh,"artifacts",up,"public","data","scores"),Le=new Date,nt=Le.toISOString().split("T")[0],lt=Le.getDay(),at=Le.getDate()-lt+(lt===0?-6:1),B=new Date(Le.setDate(at)).toISOString().split("T")[0],P=new Date,R=new Date(P.getFullYear(),P.getMonth(),1).toISOString().split("T")[0];let L=[];re==="quick"&&L.push(Ol("mode","==","quick")),O==="daily"?(L.push(Ol("date","==",nt)),L.push(to("score","desc")),L.push(to("timestamp","asc")),L.push(Wu(100))):O==="weekly"?(L.push(Ol("date",">=",B)),L.push(to("date","desc")),L.push(to("score","desc")),L.push(Wu(500))):(L.push(Ol("date",">=",R)),L.push(to("date","desc")),L.push(to("score","desc")),L.push(Wu(500)));try{const x=bw(H,...L),$=await Ew(x);if($.empty){w([]),M(!1),c&&O==="daily"&&c(re==="quick"?12:25,re);return}let ie=$.docs.map(q=>({id:q.id,...q.data()}));if(re==="standard"&&(ie=ie.filter(q=>!q.mode||q.mode==="standard")),O==="daily"&&c){const J=ie.reduce((Ie,j)=>Ie+j.score,0)/ie.length,de=Math.floor(((re==="quick"?12:25)+J)/2);c(de,re)}if(O==="weekly"||O==="monthly"){const q=new Map;ie.forEach(J=>{const ye=q.get(J.name);ye?(J.score>ye.score||J.score===ye.score&&J.timestamp<ye.timestamp)&&q.set(J.name,J):q.set(J.name,J)}),ie=Array.from(q.values()),ie.sort((J,ye)=>ye.score!==J.score?ye.score-J.score:J.timestamp-ye.timestamp),ie=ie.slice(0,100)}if(w(ie),M(!1),r&&i){const q=ie.findIndex(J=>J.name===r);q!==-1&&i(q+1)}}catch(x){console.error(" FIRESTORE ERROR:",x),Ae(x.message),M(!1)}};return qe.useEffect(()=>{ze()},[e,O,re,r,a]),D.jsxs("div",{className:"rounded-2xl p-4 shadow-xl border w-full h-full flex flex-col relative transition-colors duration-300",style:{backgroundColor:p.modalBg+"DD",borderColor:p.boardLines},children:[Ve&&Ve.includes("index")&&D.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-4 text-center bg-white/90",children:[D.jsx(vT,{className:"text-red-500 mb-2",size:32}),D.jsx("p",{className:"text-xs font-bold text-red-600 mb-2",children:"DATABASE INDEX MISSING"}),D.jsx("button",{onClick:ze,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:"Retry"})]}),D.jsxs("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b shrink-0",style:{borderColor:p.boardLines},children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(jm,{size:20,className:"text-yellow-500"}),D.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:p.textSub},children:O==="daily"?"Today's Top":O==="weekly"?"Weekly Best":"Monthly Best"})]}),D.jsxs("div",{className:"flex rounded-lg p-1",style:{backgroundColor:p.boardLines},children:[D.jsx("button",{onClick:()=>G("daily"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),D.jsx("button",{onClick:()=>G("weekly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"}),D.jsx("button",{onClick:()=>G("monthly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="monthly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Monthly"})]})]}),D.jsx("div",{className:"flex justify-center",children:D.jsxs("div",{className:"flex rounded-lg p-1 w-full",style:{backgroundColor:p.boardLines},children:[D.jsx("button",{onClick:()=>z("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${re==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Standard"}),D.jsx("button",{onClick:()=>z("quick"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${re==="quick"?"bg-white shadow-sm text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:"Quick Mode"})]})})]}),D.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:E?D.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):b.length===0?D.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",D.jsx("br",{}),"Be the first!"]}):D.jsx("div",{className:"space-y-1",children:b.map((H,Le)=>{const nt=H.mode==="quick"?25:40,lt=H.score>=nt;let at="";return O==="weekly"?at=new Date(H.date).toLocaleDateString(void 0,{weekday:"short"}):O==="monthly"&&(at=CM(H.date)),D.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${H.name===r?`bg-[${p.accentPrimary}]/10 border-[${p.accentPrimary}]/20`:lt?"bg-amber-100 border-amber-300":"hover:bg-white/10 border-transparent"}`,style:H.name!==r&&!lt?{borderColor:"transparent"}:{},children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:`font-black w-5 text-center ${Le===0?"text-yellow-600 text-lg":Le===1?"text-gray-500 text-base":Le===2?"text-orange-700 text-base":"text-gray-500"}`,children:Le+1}),D.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[lt&&D.jsx(jm,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),D.jsx("span",{className:`font-bold truncate max-w-[90px] ${H.name===r?"":lt?"text-amber-900":""}`,style:{color:H.name===r?p.textMain:lt?"#78350f":p.textMain},children:H.name}),at&&D.jsx("span",{className:"text-[9px] font-normal ml-1 border-l pl-1",style:{color:p.textSub,borderColor:p.boardLines},children:at})]})]}),D.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${lt?"bg-amber-200 text-amber-900":"bg-gray-100 text-gray-900"}`,children:[H.score,"m"]})]},Le)})})})]})},$_=()=>{const r=X_[Math.floor(Math.random()*X_.length)],e=Q_[Math.floor(Math.random()*Q_.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},J_=(r=cp)=>Array(na).fill(null).map(()=>Array(r).fill(null)),Lm=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(a=>a.r===e)||r.every(a=>a.c===i)},Uu=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:r,isNew:e,isPlaced:!1});function IM(){const[r,e]=qe.useState("menu"),[i,a]=qe.useState("standard"),[l,c]=qe.useState(()=>localStorage.getItem("longJumpPlayerName")||$_()),[p,b]=qe.useState(!1),[w,E]=qe.useState(!1),[M,O]=qe.useState(()=>{const Q=localStorage.getItem("longJumpShowFans");return Q===null?!0:Q!=="false"}),[G,re]=qe.useState(()=>{const Q=localStorage.getItem("longJumpSound");return Q===null?!0:Q!=="false"}),[z,Ve]=qe.useState(()=>{const Q=localStorage.getItem("longJumpHaptics");return Q===null?!0:Q!=="false"}),[Ae,ze]=qe.useState(()=>localStorage.getItem("longJumpDarkMode")==="true"),H=Ae?pM:Vm,[Le,nt]=qe.useState(null);qe.useEffect(()=>{window.addEventListener("beforeinstallprompt",Q=>{Q.preventDefault(),nt(Q)})},[]);const lt=()=>{Le&&(Le.prompt(),Le.userChoice.then(Q=>{Q.outcome==="accepted"&&console.log("User accepted the install prompt"),nt(null)}))},[at,Y]=qe.useState(""),[B,P]=qe.useState("idle"),F=async()=>{if(at.trim()){P("submitting");try{const Q=Vh(Lh,"suggestions");await Y_(Q,{text:at,player:l,date:new Date().toISOString(),version:"7.00"}),P("success"),Y(""),setTimeout(()=>P("idle"),3e3)}catch(Q){console.error("Error submitting suggestion:",Q),P("idle"),W({text:"Could not send suggestion. Try again.",type:"error"})}}},[R,L]=qe.useState(()=>J_(cp)),[x,$]=qe.useState([]),[ie,q]=qe.useState([]),[J,ye]=qe.useState(0),[de,Ie]=qe.useState(!1),[j,se]=qe.useState([]),[Re,Te]=qe.useState(0),[De,We]=qe.useState([]),[ut,pt]=qe.useState([]),[wt,kt]=qe.useState([]),[gn,dt]=qe.useState([]),[St,Nt]=qe.useState(null),[bt,Xt]=qe.useState(null),[Et,Dt]=qe.useState([]),[Fe,sn]=qe.useState(0),[hn,_r]=qe.useState(0),[$n,tn]=qe.useState(null),[Pn,C]=qe.useState(!1),[g,v]=qe.useState(!1),[k,W]=qe.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[me,Ne]=qe.useState(!1),[Ke,tt]=qe.useState(!1),[Ge,$e]=qe.useState(!1),[Ft,Mn]=qe.useState(!1),[on,jn]=qe.useState(!1),[Lt,Ut]=qe.useState(!1),[Un,yn]=qe.useState(!1),[Qn,Si]=qe.useState(!1),[mt,zn]=qe.useState(null),[Tt,sr]=qe.useState(null),[br,sa]=qe.useState(!1),[or,qr]=qe.useState(null),[Qe,oa]=qe.useState(25),[Jn,lr]=qe.useState(null),vn=qe.useRef({standard:25,quick:12}),_n=qe.useRef(null),[Di,ur]=qe.useState(!1),[Cs,Ba]=qe.useState(0),[la,cr]=qe.useState(0),Oi=R.some(Q=>Q.some(oe=>oe!==null));qe.useEffect(()=>{localStorage.setItem("longJumpPlayerName",l)},[l]),qe.useEffect(()=>{localStorage.setItem("longJumpShowFans",M)},[M]),qe.useEffect(()=>{localStorage.setItem("longJumpSound",G)},[G]),qe.useEffect(()=>{localStorage.setItem("longJumpHaptics",z)},[z]),qe.useEffect(()=>{localStorage.setItem("longJumpDarkMode",Ae)},[Ae]),qe.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await D2(km,__initial_auth_token):await R2(km)})();const oe=V2(km,sr);return()=>oe()},[]),qe.useEffect(()=>{if(hn===Fe)return;const Q=500,oe=performance.now(),ve=hn,_e=Fe,be=xe=>{const Ye=xe-oe,Pe=Math.min(Ye/Q,1),vt=1-Math.pow(1-Pe,3),He=Math.floor(ve+(_e-ve)*vt);_r(He),Pe<1&&requestAnimationFrame(be)};requestAnimationFrame(be)},[Fe]),qe.useEffect(()=>{(async()=>{try{const oe=Vh(Lh,"artifacts",up,"public","data","scores"),ve=new Date().toISOString().split("T")[0];let _e=[Ol("date","==",ve),to("score","desc"),to("timestamp","asc")];i==="quick"?(_e.push(Ol("mode","==","quick")),_e.push(Wu(1))):_e.push(Wu(50));const be=bw(oe,..._e),xe=await Ew(be);let Ye=null;if(!xe.empty){const Pe=xe.docs.map(vt=>vt.data());i==="quick"?Ye=Pe[0]:Ye=Pe.find(vt=>!vt.mode||vt.mode==="standard")}qr(Ye||null)}catch(oe){console.error("Error fetching leader:",oe)}})()},[J,i]);const ki=qe.useCallback((Q,oe)=>{(oe==="quick"||oe==="standard")&&(vn.current[oe]=Q),oa(Q)},[]),ln=Q=>{G&&Nl.play(Q==="light"?"pop":Q),z&&_M(Q)};qe.useEffect(()=>{fi("standard")},[]);const fi=(Q="standard")=>{const oe=bM(),ve=SM(oe);se(ve),a(Q);const _e=Q==="quick"?gM:cp,be=Q==="quick"?yM:Aw;let xe;Q==="quick"?(xe=ve.slice(0,be-1),xe.push("*")):xe=ve.slice(0,be);const Ye=xe.map(He=>Uu(He,!1)).sort((He,ct)=>He.letter.localeCompare(ct.letter));$(Ye),Te(be),L(J_(_e)),Dt([]),q([]),sn(0),_r(0),tn(null),C(!1),v(!1),We(wM(oe,_e));const Pe=EM(oe,_e);pt(Pe),kt(TM(oe,Pe,_e)),dt(AM()),W({text:"Goal: Get as far right as you can.",type:"neutral"}),Ut(!1),tt(!1),Mn(!1),jn(!1),sa(!1),yn(!1),$e(!1),Ie(!1),Nt(null),Xt(null),b(!1);const vt=vn.current[Q]||(Q==="quick"?12:25);oa(vt),Xt({r:2,c:0}),_n.current&&(_n.current.scrollLeft=0)},Vi=Q=>{ln("click"),l.trim()||c($_()),e("playing"),fi(Q),Mn(!0)},Hn=()=>{ln("click"),e("menu"),fi("standard")},ua=()=>{if(ln("click"),ie.length===0)return;const Q=ie[ie.length-1],oe=ie.slice(0,-1);L(Q.grid),$(Q.hand),sn(Q.score),Te(Q.drawCount),q(oe),Dt([]),W({text:"Move undone",type:"info"})},Ci=Q=>{const oe=Q.toUpperCase();return[...x].reverse().find(ve=>ve.letter===oe&&!ve.isPlaced)},bi=Q=>{const oe=R[0].length;if(!bt){Xt({r:2,c:Fe});return}let{r:ve,c:_e}=bt;Q==="ArrowUp"&&(ve=Math.max(0,ve-1)),Q==="ArrowDown"&&(ve=Math.min(na-1,ve+1)),Q==="ArrowLeft"&&(_e=Math.max(0,_e-1)),Q==="ArrowRight"&&(_e=Math.min(oe-1,_e+1)),Xt({r:ve,c:_e})};qe.useEffect(()=>{const Q=oe=>{if(!(r!=="playing"||Lt||on||Ft||Ke||Qn||Ge||p)){if(oe.code==="Space"){oe.preventDefault(),Or();return}if(oe.key==="Escape"){if(Et.length>0){const _e=Et.map(be=>be.isWild?"*":be.letter).map(be=>Uu(be,!1));$(be=>[...be.filter(Ye=>!Ye.isPlaced),..._e].sort((Ye,Pe)=>Ye.letter!==Pe.letter?Ye.letter.localeCompare(Pe.letter):Ye.isNew===Pe.isNew?0:Ye.isNew?1:-1)),Dt([]),Nt(null),ln("click")}return}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(oe.key)){oe.preventDefault(),bi(oe.key);return}if(oe.key==="Backspace"||oe.key==="Delete"){if(bt){const{r:ve,c:_e}=bt;Et.find(xe=>xe.r===ve&&xe.c===_e)?ai(ve,_e):bi("ArrowLeft")}return}if(oe.key==="Enter"){Et.length>0&&Zn();return}if(/^[a-zA-Z]$/.test(oe.key)){const ve=R[0].length;if(!bt){Xt({r:2,c:Fe});return}const{r:_e,c:be}=bt;if(R[_e]&&R[_e][be]||ut.some(Pe=>Pe.r===_e&&Pe.c===be)){bi("ArrowRight");return}let xe=Ci(oe.key),Ye=null;if(!xe){const Pe=Ci("*");Pe&&(xe=Pe,Ye=oe.key.toUpperCase())}xe?(Wi(xe,_e,be,Ye),Xt({r:_e,c:Math.min(ve-1,be+1)})):(W({text:`No '${oe.key.toUpperCase()}' or Wildcard in hand`,type:"error"}),setTimeout(()=>W({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[r,Lt,bt,x,Et,on,Ft,Ke,Qn,Ge,p]),qe.useEffect(()=>{if(bt&&_n.current){const Q=_n.current,oe=bt.c*va,ve=oe+va,_e=Q.scrollLeft,be=_e+Q.clientWidth,xe=100;oe<_e?Q.scrollTo({left:Math.max(0,oe-xe),behavior:"smooth"}):ve>be&&Q.scrollTo({left:ve-Q.clientWidth+xe,behavior:"smooth"})}},[bt]);const Pi=()=>tt(!0),Fa=async()=>{tt(!1),Ut(!0),sa(!0),ln("fanfare");const Q=l.trim().toLowerCase()==="test";if(Tt&&!Q)try{const be=new Date().toISOString().split("T")[0],xe=Vh(Lh,"artifacts",up,"public","data","scores");await Y_(xe,{name:l||"Anonymous",score:Fe,mode:i,date:be,timestamp:Date.now(),userId:Tt.uid}),ye(Date.now())}catch(be){console.error("Error saving score:",be)}const oe=RM(Fe);lr(oe),sa(!1);const ve=Fe*50+800;setTimeout(()=>{e("gameOver"),Ut(!1)},Math.max(ve,2500))},Gr=()=>tt(!1),Ea=()=>r==="playing"?$e(!0):e("menu"),Ha=()=>{$e(!1),e("menu"),fi()},wr=async()=>{const Q=$n?Cw($n):"top",oe="https://www.longjump.co.za";let ve=$n?`${l} placed ${Q} in Long-Jump with a distance of ${Fe}m. How far can you get? ${oe}`:`${l} got a distance of ${Fe}m in Long-Jump. How far can you get? ${oe}`;try{await navigator.clipboard.writeText(ve),C(!0),setTimeout(()=>C(!1),1e3)}catch(_e){console.error("Failed to copy: ",_e),W({text:"Failed to copy result.",type:"error"})}},Ri=Q=>{Q.target.closest('[draggable="true"]')||Q.target.tagName==="BUTTON"||(ur(!0),Ba(Q.pageX-_n.current.offsetLeft),cr(_n.current.scrollLeft))},Tn=()=>ur(!1),Wn=()=>ur(!1),Qi=Q=>{if(!Di)return;Q.preventDefault();const ve=(Q.pageX-_n.current.offsetLeft-Cs)*1.5;_n.current.scrollLeft=la-ve},Wi=(Q,oe,ve,_e=null)=>{if(ln("light"),Q.letter==="*"&&!_e){zn({r:oe,c:ve,tileId:Q.id}),Si(!0);return}const be=Q.letter==="*";Qt(Q,oe,ve,be,_e)},Qt=(Q,oe,ve,_e=!1,be=null)=>{if(R.every(vt=>vt.every(He=>He===null))&&Et.length===0&&ve!==0){yn(!0),setTimeout(()=>yn(!1),3e3);return}const Ye=be||Q.letter,Pe=[...Et,{r:oe,c:ve,letter:Ye,isWild:_e,id:Q.id}];if(!Lm(Pe)){W({text:" Tiles must be placed in a single row or column",type:"error"}),ln("error");return}Dt(Pe),$(vt=>vt.map(He=>He.id===Q.id?{...He,isPlaced:!0}:He)),yn(!1),k.type==="error"&&W({text:"Goal: Get as far right as you can.",type:"neutral"})},wi=Q=>{if(ln("light"),mt){const oe={id:mt.tileId,letter:"*"};Qt(oe,mt.r,mt.c,!0,Q),Xt({r:mt.r,c:Math.min(R[0].length-1,mt.c+1)}),Si(!1),zn(null),Nt(null)}},ft=Q=>{if(ln("light"),!Lt&&r==="playing"){if(bt){const{r:oe,c:ve}=bt,_e=R[0].length;if(!(R[oe]&&R[oe][ve]||ut.some(xe=>xe.r===oe&&xe.c===ve))){const xe=x.find(Ye=>Ye.id===Q);xe&&(Wi(xe,oe,ve),Xt({r:oe,c:Math.min(_e-1,ve+1)}));return}}Nt(St===Q?null:Q)}},ai=(Q,oe)=>{if(Di||Lt||r!=="playing"||R[Q]&&R[Q][oe]||ut.some(_e=>_e.r===Q&&_e.c===oe))return;const ve=Et.findIndex(_e=>_e.r===Q&&_e.c===oe);if(ve!==-1){ln("light");const _e=Et[ve],be=[...Et];be.splice(ve,1),Dt(be),$(xe=>xe.map(Ye=>Ye.id===_e.id?{...Ye,isPlaced:!1}:Ye)),Nt(null),Xt({r:Q,c:oe});return}if(St){const _e=x.find(be=>be.id===St);if(_e){const be=R[0].length;Wi(_e,Q,oe),Nt(null),Xt({r:Q,c:Math.min(be-1,oe+1)})}}else Xt({r:Q,c:oe})},Nn=(Q,oe)=>{Lt||r!=="playing"||(Q.dataTransfer.setData("text/plain",JSON.stringify(oe)),Q.dataTransfer.effectAllowed="move")},Yr=Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move"},qa=(Q,oe,ve)=>{if(Lt||r!=="playing"||(Q.preventDefault(),Q.stopPropagation(),ut.some(be=>be.r===oe&&be.c===ve)))return;const _e=Q.dataTransfer.getData("text/plain");if(_e)try{const be=JSON.parse(_e);if(R[oe]&&R[oe][ve])return;const xe=Et.findIndex(Pe=>Pe.r===oe&&Pe.c===ve),Ye=R[0].length;if(be.type==="hand"){ln("light");const Pe=be.tile;if(Pe.letter==="*"){zn({r:oe,c:ve,tileId:Pe.id}),Si(!0);return}if(R.every(He=>He.every(ct=>ct===null))&&Et.length===0&&ve!==0){yn(!0),setTimeout(()=>yn(!1),3e3);return}if(xe!==-1){const He=Et[xe],ct=[...Et];$(Vt=>Vt.map(Rn=>Rn.id===Pe.id?{...Rn,isPlaced:!0}:Rn.id===He.id?{...Rn,isPlaced:!1}:Rn)),ct.splice(xe,1,{r:oe,c:ve,letter:Pe.letter,isWild:!1,id:Pe.id}),Dt(ct)}else{const He=[...Et,{r:oe,c:ve,letter:Pe.letter,isWild:!1,id:Pe.id}];if(!Lm(He)){W({text:" Tiles must be placed in a single row or column",type:"error"}),ln("error");return}Dt(He),$(ct=>ct.map(Vt=>Vt.id===Pe.id?{...Vt,isPlaced:!0}:Vt))}yn(!1),Nt(null),Xt({r:oe,c:Math.min(Ye-1,ve+1)}),k.type==="error"&&W({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(be.type==="board"){if(be.r===oe&&be.c===ve)return;const Pe=Et.findIndex(ct=>ct.r===be.r&&ct.c===be.c);if(Pe===-1)return;const vt=Et[Pe],He=[...Et];if(xe!==-1){const ct=Et[xe];He[xe]={...ct,r:be.r,c:be.c},He[Pe]={...vt,r:oe,c:ve}}else He[Pe]={...vt,r:oe,c:ve};if(!Lm(He)){W({text:" Tiles must be placed in a single row or column",type:"error"}),ln("error");return}Dt(He),Xt({r:oe,c:Math.min(Ye-1,ve+1)})}}catch{}},Ta=Q=>{if(Lt||r!=="playing")return;Q.preventDefault(),Q.stopPropagation();const oe=Q.dataTransfer.getData("text/plain");if(oe)try{const ve=JSON.parse(oe);if(ve.type==="board"){const _e=Et.find(be=>be.r===ve.r&&be.c===ve.c);Dt(be=>be.filter(xe=>!(xe.r===ve.r&&xe.c===ve.c))),$(be=>be.map(xe=>xe.id===_e.id?{...xe,isPlaced:!1}:xe)),ln("light")}}catch{}},fn=(Q,oe)=>{if(!R||!R[Q])return null;if(R[Q][oe])return{letter:R[Q][oe],type:"locked"};const ve=Et.find(_e=>_e.r===Q&&_e.c===oe);return ve?{letter:ve.letter,type:"temp",isWild:ve.isWild}:null},Dr=(Q,oe)=>De.find(ve=>ve.r===Q&&ve.c===oe),Er=(Q,oe)=>ut.find(ve=>ve.r===Q&&ve.c===oe),Zn=async()=>{if(Et.length===0)return;Ne(!0),W({text:"Validating...",type:"info"});const Q=R.map(Pe=>[...Pe]);if(Et.forEach(Pe=>{Q[Pe.r]&&(Q[Pe.r][Pe.c]=Pe.letter)}),Et.length>1){const Pe=[...Et].sort((ct,Vt)=>ct.r-Vt.r||ct.c-Vt.c),vt=Pe[0],He=Pe[Pe.length-1];if(vt.r===He.r){for(let ct=vt.c;ct<=He.c;ct++)if(!Q[vt.r][ct]){si("Cannot leave gaps between tiles.");return}}else for(let ct=vt.r;ct<=He.r;ct++)if(!Q[ct][vt.c]){si("Cannot leave gaps between tiles.");return}}const oe=R.every(Pe=>Pe.every(vt=>vt===null));let ve=!1,_e=!1;const be=R[0].length;if(Et.forEach(Pe=>{Pe.c===0&&(ve=!0),[{r:Pe.r+1,c:Pe.c},{r:Pe.r-1,c:Pe.c},{r:Pe.r,c:Pe.c+1},{r:Pe.r,c:Pe.c-1}].forEach(He=>{He.r>=0&&He.r<na&&He.c>=0&&He.c<be&&R[He.r]&&R[He.r][He.c]&&(_e=!0)})}),oe&&!ve){si("First word must start in Column 1.");return}if(!oe&&!_e){si("Tiles must connect to existing words.");return}const Ye=ca(Q).filter(Pe=>Pe.cells.some(vt=>Et.some(He=>He.r===vt.r&&He.c===vt.c)));if(Ye.length===0){si("Words must be at least 2 letters.");return}try{const Pe=[];for(const vt of Ye)await Ki(vt.word)||Pe.push(vt.word);if(Pe.length>0){si(`Invalid word(s): ${Pe.join(", ")}`,Pe[0]);return}ha(Q,Ye)}catch(Pe){console.error(Pe),si("Error checking dictionary. Try again.")}},Ki=async Q=>{const oe=Q.toUpperCase();if(vM.has(oe))return!0;if(oe.length===2)return!1;try{const ve=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${Q}`);if(!ve.ok)return!1;const _e=await ve.json();return Array.isArray(_e)&&_e.length>0}catch{return!0}},ca=Q=>{let oe=[];const ve=R[0].length;for(let _e=0;_e<na;_e++){let be="",xe=[];for(let Ye=0;Ye<ve;Ye++)Q[_e]&&Q[_e][Ye]?(be+=Q[_e][Ye],xe.push({r:_e,c:Ye})):(be.length>1&&oe.push({word:be,cells:[...xe],type:"H"}),be="",xe=[]);be.length>1&&oe.push({word:be,cells:[...xe],type:"H"})}for(let _e=0;_e<ve;_e++){let be="",xe=[];for(let Ye=0;Ye<na;Ye++)Q[Ye]&&Q[Ye][_e]?(be+=Q[Ye][_e],xe.push({r:Ye,c:_e})):(be.length>1&&oe.push({word:be,cells:[...xe],type:"V"}),be="",xe=[]);be.length>1&&oe.push({word:be,cells:[...xe],type:"V"})}return oe},si=(Q,oe=null)=>{W({text:Q,type:"error",invalidWord:oe}),Ne(!1),ln("error")},ha=(Q,oe)=>{ln("success");const ve=JSON.parse(JSON.stringify(R)),_e=x.map(He=>({...He,isPlaced:!1}));q(He=>[...He,{grid:ve,hand:_e,score:Fe,drawCount:Re}]),L(Q),v(!0),setTimeout(()=>v(!1),200);let be=0,xe=!1;oe.forEach(He=>{He.cells.forEach(ct=>{const Vt=Dr(ct.r,ct.c),Rn=Et.some(Dn=>Dn.r===ct.r&&Dn.c===ct.c);Vt&&Rn&&(be+=Vt.val),wt.some(Dn=>Dn.r===ct.r&&Dn.c===ct.c)&&(xe=!0)})});let Ye=x.filter(He=>!He.isPlaced);if(be>0){const ct=j.slice(Re,Re+be).map(Vt=>Uu(Vt,!0));Ye=[...Ye,...ct].sort((Vt,Rn)=>Vt.letter!==Rn.letter?Vt.letter.localeCompare(Rn.letter):Vt.isNew===Rn.isNew?0:Vt.isNew?1:-1),Te(Vt=>Vt+be)}if(xe){const He=Uu("*",!0);Ye=[...Ye,He].sort((ct,Vt)=>ct.letter!==Vt.letter?ct.letter.localeCompare(Vt.letter):ct.isNew===Vt.isNew?0:ct.isNew?1:-1)}if($(Ye),be>0||xe){const He=xe?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${be} Bonus Tiles!`;W({text:He,type:"success"})}else W({text:"Valid move!",type:"success"});let Pe=Fe-1;const vt=R[0].length;Et.forEach(He=>{He.c>Pe&&(Pe=He.c)});for(let He=0;He<na;He++)for(let ct=0;ct<vt;ct++)Q[He]&&Q[He][ct]&&ct>Pe&&(Pe=ct);sn(Pe+1),Dt([]),Ne(!1),Xt(null)},Or=()=>{ln("click"),$(Q=>[...Q].sort(()=>Math.random()-.5))},hr=()=>{ln("click"),$(Q=>[...Q].sort((oe,ve)=>oe.letter!==ve.letter?oe.letter.localeCompare(ve.letter):oe.isNew===ve.isNew?0:oe.isNew?1:-1))},Xr=x.reduce((Q,oe)=>(Q[oe.letter]||(Q[oe.letter]=[]),Q[oe.letter].push(oe),Q),{}),ei=Array.from(new Set(x.map(Q=>Q.letter))),fa=ei.length>=6,Li=Math.ceil(ei.length/2),$i=fa?ei.slice(0,Li):ei,ji=fa?ei.slice(Li):[],xi=({letter:Q})=>{const oe=Xr[Q]||[],ve=oe.filter(vt=>!vt.isPlaced),_e=Math.min(ve.length,15),be=ve[ve.length-1];if(oe.length>0&&_e===0)return D.jsx("div",{className:"w-10 h-10 rounded-lg border-2 border-dashed",style:{backgroundColor:H.boardBackground+"40",borderColor:H.boardLines}});if(_e===0)return null;const xe=be&&St===be.id,Ye=6,Pe=40+(_e>1?(_e-1)*Ye:0);return D.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${Pe}px`},children:[[...Array(_e-1)].map((vt,He)=>{const Vt=(Q.charCodeAt(0)+He)%7-3;return D.jsx("div",{className:"absolute w-10 h-10 rounded-lg border transition-all shadow-md",style:{backgroundColor:"#e5e7eb",borderColor:"rgba(0,0,0,0.1)",bottom:`${He*Ye}px`,zIndex:He,transform:`rotate(${Vt}deg)`}},He)}),D.jsxs("button",{draggable:!Lt&&r==="playing",onDragStart:vt=>Nn(vt,{type:"hand",tile:be}),onClick:()=>ft(be.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${r==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(_e-1)*Ye}px`,zIndex:_e,backgroundColor:xe?H.accentPrimary:Q==="*"?H.tileTemp:"white",color:xe?"white":"#1f2937",transform:xe?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${xe?0:Q.charCodeAt(0)%5-2}deg)`},children:[be&&be.isNew&&D.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),Q==="*"?D.jsx(yh,{size:20,fill:H.starPurple,className:"text-purple-500"}):Q]})]})};return r==="menu"?D.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto transition-colors duration-300",style:{backgroundColor:H.background,color:H.textMain},children:[D.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch relative",children:[D.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[D.jsx(W_,{}),D.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[D.jsx("span",{children:"Refreshed Daily"}),D.jsx(_m,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),D.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[D.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:H.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."}),D.jsxs("div",{className:"text-xs font-bold px-3 py-1 rounded-full border mt-2",style:{backgroundColor:H.tileLocked,color:H.accentSecondary,borderColor:H.accentPrimary},children:["Today's Par: ",Qe,"m"]})]})]}),D.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[D.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:H.textSub},children:"Enter your name"}),D.jsx("input",{type:"text",value:l,onChange:Q=>c(Q.target.value),placeholder:"Player 1",maxLength:12,className:"w-full border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{backgroundColor:H.modalBg,color:H.textMain,borderColor:"transparent"},onFocus:Q=>Q.target.style.borderColor=H.accentPrimary,onBlur:Q=>Q.target.style.borderColor="transparent"})]}),D.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center",children:[D.jsxs("button",{onClick:()=>Vi("standard"),className:"flex-1 py-4 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:H.accentPrimary},children:["Play ",D.jsx(VT,{size:20,fill:"currentColor"})]}),D.jsxs("button",{onClick:()=>Vi("quick"),className:"flex-1 py-4 text-white rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2",style:{backgroundColor:"#3b82f6"},children:["Quick ",D.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded text-blue-100",style:{backgroundColor:"#2563eb"},children:"25m"})]})]}),D.jsxs("div",{className:"flex flex-col items-center gap-3 mt-8 w-full",children:[D.jsxs("div",{className:"flex flex-row items-center justify-center gap-4",children:[D.jsx("button",{onClick:()=>E(!0),className:"group flex items-center gap-2 px-3 py-2 rounded-full font-bold text-xs transition-colors shadow-sm whitespace-nowrap",style:{backgroundColor:H.tileLocked,color:H.textSub},title:"Updates",children:D.jsx(m0,{size:14})}),D.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:opacity-80 border-b border-gray-500 transition-colors pb-0.5 whitespace-nowrap",style:{color:H.textSub},children:"By Richard Bolland"}),D.jsx("span",{style:{color:H.boardLines},children:"|"}),D.jsxs("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap",children:[D.jsx(ST,{size:14,className:"fill-pink-600"}),D.jsx("span",{children:"Tip Jar"})]})]}),D.jsx("span",{className:"text-[10px] text-center max-w-xs leading-tight",style:{color:H.textSub},children:"Help cover server costs & keep the game running."})]}),D.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:D.jsx(Pm,{user:Tt,lastUpdated:J,initialMode:"standard",onParCalculated:ki,theme:H})})]}),D.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:D.jsx(Pm,{user:Tt,lastUpdated:J,initialMode:"standard",onParCalculated:ki,theme:H})}),w&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:D.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border",style:{backgroundColor:H.modalBg,borderColor:H.boardLines},children:[D.jsxs("div",{className:"flex justify-between items-center mb-6",children:[D.jsxs("h3",{className:"text-xl font-black uppercase flex items-center gap-2",style:{color:H.textMain},children:[D.jsx(m0,{size:20})," What's New"]}),D.jsx("button",{onClick:()=>E(!1),style:{color:H.textSub},children:D.jsx(bm,{size:24})})]}),D.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[D.jsxs("div",{className:"border-l-2 pl-3",style:{borderColor:H.accentPrimary},children:[D.jsx("div",{className:"text-xs font-bold uppercase",style:{color:H.accentPrimary},children:"v7.00"}),D.jsx("div",{className:"font-bold",style:{color:H.textMain},children:"Dark Mode & Install"}),D.jsx("p",{className:"text-xs",style:{color:H.textSub},children:"Added Dark Mode, PWA Install, and Keyboard Shortcuts."})]}),D.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[D.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v6.60"}),D.jsx("div",{className:"font-bold",style:{color:H.textSub},children:"Refined Dates"}),D.jsx("p",{className:"text-xs",style:{color:H.textSub},children:"Monthly leaderboard shows exact dates."})]}),D.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[D.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v6.40"}),D.jsx("div",{className:"font-bold",style:{color:H.textSub},children:"Active Cursor"}),D.jsx("p",{className:"text-xs",style:{color:H.textSub},children:"Cursor active by default for faster play."})]})]}),D.jsx("button",{onClick:()=>E(!1),className:"w-full mt-6 py-3 rounded-xl font-bold uppercase tracking-widest transition-all",style:{backgroundColor:H.boardLines,color:H.textMain},children:"Close"})]})})]}):D.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative transition-colors duration-300",style:{backgroundColor:H.background,color:H.textMain},children:[r==="gameOver"&&!de&&D.jsxs("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6",children:[D.jsx(xM,{theme:H}),D.jsxs("div",{className:"backdrop-blur-md p-8 rounded-3xl shadow-2xl text-center border max-w-md w-full flex flex-col relative z-[101]",style:{backgroundColor:H.modalBg+"EE",borderColor:H.boardLines},children:[D.jsx("h3",{className:"text-xl font-black uppercase tracking-widest mb-6",style:{color:H.textMain},children:"STATISTICS"}),D.jsxs("div",{className:"flex justify-between items-start mb-8 px-1 gap-1",children:[D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:H.textMain},children:Jn?.gamesPlayed||0}),D.jsx("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:H.textSub},children:"Played"})]}),D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:H.textMain},children:Jn?.currentStreak||0}),D.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:H.textSub},children:["Current",D.jsx("br",{}),"Streak"]})]}),D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:H.textMain},children:Jn?.maxStreak||0}),D.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:H.textSub},children:["Max",D.jsx("br",{}),"Streak"]})]}),D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsxs("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:H.textMain},children:[Jn?.gamesPlayed>0?Math.round(Jn.totalDistance/Jn.gamesPlayed):0,"m"]}),D.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:H.textSub},children:["Avg",D.jsx("br",{}),"Dist"]})]}),D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:H.textMain},children:(Jn?.totalDistance||0)>=1e3?(Jn.totalDistance/1e3).toFixed(1)+"k":(Jn?.totalDistance||0)+"m"}),D.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:H.textSub},children:["Total",D.jsx("br",{}),"Dist"]})]})]}),D.jsxs("div",{className:"rounded-2xl p-6 mb-6 shadow-sm border",style:{backgroundColor:H.settingsBg,borderColor:H.boardLines},children:[D.jsx("div",{className:"text-xs font-bold uppercase tracking-widest mb-1",style:{color:H.textSub},children:"Athlete"}),D.jsx("div",{className:"text-3xl font-black mb-6",style:{color:H.textMain},children:l}),D.jsx("div",{className:"text-xs font-bold uppercase tracking-widest mb-1",style:{color:H.textSub},children:"Distance"}),D.jsxs("div",{className:"text-6xl font-black",style:{color:H.accentPrimary},children:[hn,"m"]})]}),D.jsxs("div",{className:"flex flex-col gap-3",children:[D.jsx("button",{onClick:wr,className:"w-full py-4 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 hover:opacity-80",style:{backgroundColor:H.modalBg,borderColor:H.boardLines,color:H.textMain},children:Pn?D.jsxs(D.Fragment,{children:[D.jsx(cT,{size:20})," Copied"]}):D.jsxs(D.Fragment,{children:[D.jsx(qT,{size:20})," Share Result"]})}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:Hn,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg",style:{backgroundColor:"#111827"},children:"Play Again"}),D.jsx("button",{onClick:()=>Ie(!0),className:"flex-none px-4 py-4 border-2 rounded-xl hover:opacity-80 shadow-sm transition-all flex items-center justify-center",style:{backgroundColor:H.modalBg,borderColor:H.boardLines,color:H.textMain},title:"View Board",children:D.jsx(TT,{size:24})})]})]})]}),D.jsx("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative",children:D.jsx(Pm,{highlightName:l,user:Tt,onRankFound:tn,lastUpdated:J,initialMode:i,onParCalculated:ki,theme:H})})]}),Qn&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:D.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border",style:{backgroundColor:H.modalBg,borderColor:H.boardLines},children:[D.jsx("h3",{className:"text-xl font-black mb-4 uppercase",style:{color:H.textMain},children:"Pick a Letter"}),D.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(Sw).filter(Q=>Q!=="*").map(Q=>D.jsx("button",{onClick:()=>wi(Q),className:"w-10 h-10 rounded-lg font-bold text-xl shadow-sm hover:scale-110 transition-transform border",style:{backgroundColor:H.tileTemp,borderColor:H.tileTempRing,color:H.textMain},children:Q},Q))}),D.jsx("button",{onClick:()=>{Si(!1),zn(null)},className:"mt-6 text-sm font-bold hover:opacity-80",style:{color:H.textSub},children:"Cancel"})]})}),(Ft||on)&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:D.jsxs("div",{className:"rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border relative",style:{backgroundColor:H.modalBg,borderColor:H.boardLines},children:[D.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 p-4 rounded-full shadow-xl",style:{backgroundColor:H.modalBg},children:D.jsx(lT,{size:48,style:{color:H.accentPrimary}})}),D.jsx("h3",{className:"text-2xl font-black mt-8 mb-4 uppercase tracking-tight",style:{color:H.textMain},children:"Game Rules"}),D.jsxs("div",{className:"text-left mb-6 text-sm space-y-3",style:{color:H.textSub},children:[D.jsxs("p",{className:"flex gap-2",children:[D.jsx("span",{className:"font-bold",style:{color:H.textMain},children:""}),D.jsxs("span",{children:["This is a ",D.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),D.jsxs("p",{className:"flex gap-2",children:[D.jsx("span",{className:"font-bold",style:{color:H.textMain},children:""}),D.jsxs("span",{children:["Place words ",D.jsx("strong",{children:"Left to Right"})," or ",D.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),D.jsxs("p",{className:"flex gap-2",children:[D.jsx("span",{className:"font-bold",style:{color:H.textMain},children:""}),D.jsxs("span",{children:["Minimum ",D.jsx("strong",{children:"2 letter"})," words."]})]}),D.jsxs("p",{className:"flex gap-2",children:[D.jsx("span",{className:"font-bold",style:{color:H.textMain},children:""}),D.jsxs("span",{children:["Start in ",D.jsx("strong",{children:"Column 1"})," (left)."]})]}),D.jsxs("p",{className:"flex gap-2 items-center",children:[D.jsx(_m,{size:16,className:"text-yellow-500 fill-yellow-500"}),D.jsxs("span",{children:[D.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),D.jsxs("p",{className:"flex gap-2 items-center",children:[D.jsx(yh,{size:16,className:"text-purple-500 fill-purple-500"}),D.jsxs("span",{children:[D.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]})]}),D.jsx("button",{onClick:()=>{Mn(!1),jn(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:H.accentPrimary},children:Ft?"Let's Jump!":"Close"})]})}),Ge&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:D.jsxs("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:H.modalBg,borderColor:H.boardLines},children:[D.jsx("div",{className:"flex justify-center mb-4",children:D.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:D.jsx(IT,{size:32,className:"text-red-500"})})}),D.jsx("h3",{className:"text-2xl font-black mb-2",style:{color:H.textMain},children:"Exit Game?"}),D.jsx("p",{className:"mb-8",style:{color:H.textSub},children:"Are you sure you want to quit? You will lose your current progress."}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("button",{onClick:()=>$e(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:H.boardLines,color:H.textSub},children:"Cancel"}),D.jsx("button",{onClick:Ha,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600",children:"Exit"})]})]})}),Ke&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:D.jsxs("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:H.modalBg,borderColor:H.boardLines},children:[D.jsx("h3",{className:"text-2xl font-black mb-2",style:{color:H.textMain},children:"Submit Score?"}),D.jsxs("p",{className:"mb-8",style:{color:H.textSub},children:["You reached column ",D.jsx("strong",{style:{color:H.accentPrimary},children:Fe}),". This will end your current run."]}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("button",{onClick:Gr,className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:H.boardLines,color:H.textSub},children:"Cancel"}),D.jsx("button",{onClick:Fa,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:H.accentPrimary},children:"Confirm"})]})]})}),p&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:D.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar",style:{backgroundColor:H.modalBg,borderColor:H.boardLines},children:[D.jsxs("div",{className:"flex justify-between items-center mb-6",children:[D.jsx("h3",{className:"text-xl font-black uppercase",style:{color:H.textMain},children:"Settings"}),D.jsx("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:H.textSub},children:D.jsx(bm,{size:24})})]}),D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",style:{color:H.textSub},children:"Username"}),D.jsx("input",{type:"text",value:l,onChange:Q=>c(Q.target.value),maxLength:12,className:"w-full border px-4 py-3 rounded-xl font-bold outline-none transition-all",style:{backgroundColor:H.settingsBg,borderColor:"transparent",color:H.textMain}})]}),D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:H.settingsBg},children:[D.jsxs("div",{className:"flex items-center gap-3",children:[Ae?D.jsx(OT,{size:20,className:"text-purple-400"}):D.jsx(KT,{size:20,className:"text-yellow-500"}),D.jsx("span",{className:"font-bold text-sm",style:{color:H.textMain},children:"Dark Mode"})]}),D.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[D.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Ae,onChange:()=>ze(!Ae)}),D.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),D.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:H.settingsBg},children:[D.jsxs("div",{className:"flex items-center gap-3",children:[G?D.jsx(ZT,{size:20,className:"text-blue-500"}):D.jsx(tA,{size:20,className:"text-gray-400"}),D.jsx("span",{className:"font-bold text-sm",style:{color:H.textMain},children:"Sound Effects"})]}),D.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[D.jsx("input",{type:"checkbox",className:"sr-only peer",checked:G,onChange:()=>re(!G)}),D.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"})]})]}),D.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:H.settingsBg},children:[D.jsxs("div",{className:"flex items-center gap-3",children:[z?D.jsx(g0,{size:20,className:"text-orange-500 fill-orange-500"}):D.jsx(g0,{size:20,className:"text-gray-400"}),D.jsx("span",{className:"font-bold text-sm",style:{color:H.textMain},children:"Haptics"})]}),D.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[D.jsx("input",{type:"checkbox",className:"sr-only peer",checked:z,onChange:()=>Ve(!z)}),D.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),D.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:H.settingsBg},children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("span",{className:"text-xl",children:""}),D.jsx("div",{className:"flex flex-col",children:D.jsx("span",{className:"font-bold text-sm",style:{color:H.textMain},children:"Crowd Fans"})})]}),D.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[D.jsx("input",{type:"checkbox",className:"sr-only peer",checked:M,onChange:()=>O(!M)}),D.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]})]}),Le&&D.jsxs("button",{onClick:lt,className:"w-full py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm flex items-center justify-center gap-2 text-white",style:{backgroundColor:H.accentPrimary},children:[D.jsx(wT,{size:16})," Install App"]}),D.jsxs("div",{className:"pt-4 border-t",style:{borderColor:H.boardLines},children:[D.jsx("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:H.textSub},children:"Make a Suggestion"}),D.jsx("textarea",{value:at,onChange:Q=>Y(Q.target.value),className:"w-full border px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24",style:{backgroundColor:H.settingsBg,borderColor:"transparent",color:H.textMain},placeholder:"Ideas for new modes, obstacles, or features..."}),D.jsx("button",{onClick:F,disabled:B!=="idle"||!at.trim(),className:`w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm ${B==="success"?"bg-green-500 text-white":"bg-gray-800 text-white hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:B==="submitting"?"Sending...":B==="success"?"Sent! Thanks":"Submit Suggestion"})]})]}),D.jsx("button",{onClick:()=>b(!1),className:"w-full mt-6 py-3 font-bold uppercase tracking-widest text-xs hover:opacity-70 transition-all",style:{color:H.textSub},children:"Close Settings"})]})}),D.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50",children:[D.jsxs("div",{className:"flex flex-col items-start",children:[D.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest",style:{color:H.textSub},children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),or&&D.jsxs("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap",children:[D.jsx("span",{className:"font-bold uppercase tracking-widest",style:{color:H.textSub},children:i==="quick"?"Quick Leader":"Standard Leader"}),D.jsx(jm,{size:12,className:"text-yellow-500 fill-yellow-500"}),D.jsx("span",{className:"font-bold",style:{color:H.textMain},children:or.name}),D.jsxs("span",{className:"font-mono",style:{color:H.textSub},children:[or.score,"m"]})]}),D.jsxs("div",{className:"block md:hidden",children:[Fe>0&&r==="playing"&&D.jsxs("button",{onClick:Pi,disabled:Lt||me,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",D.jsx(p0,{size:10,style:{color:Vm.starGold}})]}),r==="gameOver"&&de&&D.jsxs("button",{onClick:()=>Ie(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:H.accentPrimary,color:"white"},children:[D.jsx(d0,{size:12})," RESULTS"]})]})]}),D.jsxs("div",{className:"flex flex-col items-center flex-1",children:[D.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:Ea,children:D.jsx(W_,{})}),D.jsxs("div",{className:"hidden md:block mt-6",children:[r==="playing"&&Fe>0&&D.jsxs("button",{onClick:Pi,disabled:Lt||me,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",D.jsx(p0,{size:10,style:{color:Vm.starGold}})]}),r==="gameOver"&&de&&D.jsxs("button",{onClick:()=>Ie(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:H.accentPrimary},children:[D.jsx(d0,{size:14})," BACK TO RESULTS"]})]})]}),D.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[D.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:H.accentPrimary},children:l||"PLAYER 1"}),D.jsxs("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:H.accentPrimary},children:[D.jsx(UT,{size:16})," ",hn,"m"]}),D.jsxs("div",{className:"flex gap-2",children:[D.jsxs("button",{onClick:()=>jn(!0),className:"text-[10px] font-bold hover:opacity-70 uppercase tracking-widest flex items-center gap-1",style:{color:H.textSub},children:["Rules ",D.jsx(RT,{size:12})]}),D.jsx("button",{onClick:()=>b(!0),className:"hover:opacity-70",style:{color:H.textSub},children:D.jsx(FT,{size:14})})]})]})]}),D.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:Ri,onMouseLeave:Tn,onMouseUp:Wn,onMouseMove:Qi,children:D.jsx("div",{ref:_n,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${Di?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"},children:D.jsxs("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area",children:[D.jsx("div",{className:"absolute top-0 bottom-0 border-r-2 border-red-400 border-dashed z-20 pointer-events-none opacity-60",style:{left:`${Qe*va}px`},children:D.jsx("span",{className:"absolute top-[-20px] right-0 translate-x-1/2 text-red-500 text-[10px] font-black tracking-widest",children:"PAR"})}),D.jsx("div",{className:"flex relative mb-3",style:{width:`${R[0].length*va}px`,height:"24px"},children:Array(R[0].length).fill(0).map((Q,oe)=>{const ve=oe===0,_e=(oe+1)%5===0;if(!ve&&!_e)return null;const be=Fe<3;return D.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:oe*va+va/2,transform:`translateX(-50%) ${ve&&be?"translateY(-45px)":"translateY(0)"}`},children:[D.jsx("span",{className:"text-xs tracking-wider",style:{color:ve?H.textMain:H.textSub},children:ve?"START":`${oe+1}m`}),D.jsx("div",{className:"w-0.5 h-1.5 mt-0.5",style:{backgroundColor:ve?H.textMain:H.boardLines}})]},`ruler-${oe}`)})}),D.jsxs("div",{className:"relative",children:[D.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:M&&gn.filter(Q=>Q.type==="top").map((Q,oe)=>{const ve=Math.max(Q.startCol,Fe+Q.offset);return D.jsx("div",{className:"absolute -top-[55px]",style:{left:`${ve*va}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:D.jsx(K_,{trigger:g})},`fan-top-${Q.id}`)})}),D.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${R[0].length}, ${va}px)`,gridTemplateRows:`repeat(${na}, ${va}px)`,backgroundColor:H.boardBackground,borderColor:H.boardLines},children:Array(na).fill(0).map((Q,oe)=>Array(R[0].length).fill(0).map((ve,_e)=>{const be=fn(oe,_e),xe=Dr(oe,_e),Ye=Er(oe,_e),Pe=wt.some(Ei=>Ei.r===oe&&Ei.c===_e),He=_e===0&&!be&&!Oi,ct=be?.type==="locked",Vt=(_e+1)%5===0,Rn=_e<hn,Dn=bt&&bt.r===oe&&bt.c===_e,Ji=Lt&&ct?"animate-jump-green":"";return D.jsxs("div",{onClick:()=>ai(oe,_e),onDragOver:Yr,onDrop:Ei=>qa(Ei,oe,_e),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${be?be.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Ye?"cursor-not-allowed":"hover:bg-white/20"}  ${be?.type==="temp"?`bg-[${H.tileTemp}] ring-2 ring-[${H.tileTempRing}] -translate-y-[2px] z-10`:""} ${!be&&!Ye&&Rn?"bg-white/20":_e===0&&!be?"bg-green-100/40":!be&&!Ye&&!He&&(oe+_e)%2===0?"bg-black/5":"bg-transparent"} ${Dn?"ring-4 ring-blue-400 z-20":""} ${!be&&Dn?"bg-blue-50/20":""} ${!be&&Vt?"border-r-2 border-r-black/10":"border border-black/5"} ${Rn?"animate-pop-green":""} ${Ji}`,style:ct?{backgroundColor:Rn?H.overlayComplete:H.tileLocked,color:H.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:Lt?`${_e*50}ms`:"0ms"}:be?.type==="temp"?{backgroundColor:be.isWild?H.tileWildPlaced:H.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Ye?{backgroundColor:H.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!be&&He&&D.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:D.jsx(gT,{size:20,style:{color:H.startArrow}})}),!be&&Ye&&D.jsx("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!be&&xe&&!Ye&&!Pe&&D.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[D.jsx(_m,{className:"w-6 h-6",fill:H.starGold,stroke:H.starGold}),D.jsxs("span",{className:"text-[16px] font-black mt-[-2px]",style:{color:"#000000"},children:["+",xe.val]})]}),!be&&Pe&&!Ye&&D.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:D.jsx(yh,{className:"w-7 h-7",fill:H.starPurple,stroke:H.starPurple})}),be&&D.jsxs("div",{draggable:be.type==="temp"&&!Lt&&r==="playing",onDragStart:Ei=>Nn(Ei,{type:"board",r:oe,c:_e,letter:be.letter}),className:`w-full h-full flex items-center justify-center ${be.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:[D.jsx("span",{className:"text-2xl font-bold select-none font-mono",children:be.letter}),be.isWild&&D.jsx(yh,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})]})]},`${oe}-${_e}`)}))}),D.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:M&&gn.filter(Q=>Q.type==="bottom").map((Q,oe)=>{const ve=Math.max(Q.startCol,Fe+Q.offset);return D.jsx("div",{className:"absolute -bottom-[35px]",style:{left:`${ve*va}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:D.jsx(K_,{trigger:g})},`fan-bottom-${Q.id}`)})})]}),Un&&D.jsx("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none",children:D.jsxs("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative",children:[D.jsx("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),D.jsx(mT,{size:16}),"Start Here!"]})})]})})}),D.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50",children:[D.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[D.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${k.type==="error"?"bg-red-100 text-red-700":k.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[D.jsx("span",{children:me?"Checking...":k.text}),k.type==="error"&&k.invalidWord&&D.jsxs("a",{href:`mailto:richard@studiobo.io?subject=Report Valid Word: ${k.invalidWord}&body=The word "${k.invalidWord}" should be valid.`,className:"ml-2 bg-red-200 hover:bg-red-300 text-red-800 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors",children:["Report ",D.jsx(NT,{size:10})]})]}),D.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[D.jsx("button",{onClick:ua,disabled:Lt||ie.length===0||r!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:H.modalBg,color:H.textMain},title:"Undo last move",children:D.jsx(LT,{size:16})}),D.jsxs("button",{onClick:Or,disabled:Lt||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:H.modalBg,color:H.textMain},children:[D.jsx(YT,{size:16})," Shuffle"]}),D.jsxs("button",{onClick:hr,disabled:Lt||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:H.modalBg,color:H.textMain},children:[D.jsx(aT,{size:16})," Sort A-Z"]}),Et.length>0&&D.jsxs("button",{onClick:Zn,disabled:me||Lt||r!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${me||Lt?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:me||Lt?{}:{backgroundColor:H.accentPrimary,color:"white"},children:[me?"Checking...":"JUMP"," ",D.jsx(fT,{size:18,strokeWidth:4})]}),Et.length>0&&D.jsx("button",{onClick:()=>{const oe=Et.map(ve=>ve.isWild?"*":ve.letter).map(ve=>Uu(ve,!1));$(ve=>[...ve,...oe].sort((_e,be)=>_e.letter!==be.letter?_e.letter.localeCompare(be.letter):_e.isNew===be.isNew?0:_e.isNew?1:-1)),Dt([]),Nt(null)},disabled:Lt||r!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:D.jsx(bm,{size:16})})]})]}),D.jsxs("div",{onDragOver:Yr,onDrop:Ta,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:H.handBg},children:[ei.length===0&&D.jsx("div",{className:"italic",style:{color:H.textSub},children:"Empty Hand"}),ei.length<6?D.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:ei.map(Q=>D.jsx(xi,{letter:Q},Q))}):D.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[D.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:$i.map(Q=>D.jsx(xi,{letter:Q},Q))}),D.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:ji.map(Q=>D.jsx(xi,{letter:Q},Q))})]})]})]}),D.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `})]})}JE.createRoot(document.getElementById("root")).render(D.jsx(qe.StrictMode,{children:D.jsx(IM,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(r=>{console.log("SW registered: ",r)}).catch(r=>{console.log("SW registration failed: ",r)})});
