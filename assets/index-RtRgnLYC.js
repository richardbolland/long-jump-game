(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var hm={exports:{}},Pu={};var e_;function LE(){if(e_)return Pu;e_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Pu.Fragment=e,Pu.jsx=i,Pu.jsxs=i,Pu}var t_;function UE(){return t_||(t_=1,hm.exports=LE()),hm.exports}var q=UE(),fm={exports:{}},Mt={};var n_;function jE(){if(n_)return Mt;n_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),G=Symbol.iterator;function re(L){return L===null||typeof L!="object"?null:(L=G&&L[G]||L["@@iterator"],typeof L=="function"?L:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ve=Object.assign,Ee={};function Pe(L,ae,Re){this.props=L,this.context=ae,this.refs=Ee,this.updater=Re||z}Pe.prototype.isReactComponent={},Pe.prototype.setState=function(L,ae){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ae,"setState")},Pe.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Le(){}Le.prototype=Pe.prototype;function ze(L,ae,Re){this.props=L,this.context=ae,this.refs=Ee,this.updater=Re||z}var rt=ze.prototype=new Le;rt.constructor=ze,Ve(rt,Pe.prototype),rt.isPureReactComponent=!0;var pt=Array.isArray;function ot(){}var H={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function k(L,ae,Re){var Te=Re.ref;return{$$typeof:r,type:L,key:ae,ref:Te!==void 0?Te:null,props:Re}}function j(L,ae){return k(L.type,ae,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function V(L){var ae={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Re){return ae[Re]})}var I=/\/+/g;function Q(L,ae){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):ae.toString(36)}function ne(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ot,ot):(L.status="pending",L.then(function(ae){L.status==="pending"&&(L.status="fulfilled",L.value=ae)},function(ae){L.status==="pending"&&(L.status="rejected",L.reason=ae)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function F(L,ae,Re,Te,Me){var Qe=typeof L;(Qe==="undefined"||Qe==="boolean")&&(L=null);var ht=!1;if(L===null)ht=!0;else switch(Qe){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(L.$$typeof){case r:case e:ht=!0;break;case x:return ht=L._init,F(ht(L._payload),ae,Re,Te,Me)}}if(ht)return Me=Me(L),ht=Te===""?"."+Q(L,0):Te,pt(Me)?(Re="",ht!=null&&(Re=ht.replace(I,"$&/")+"/"),F(Me,ae,Re,"",function(At){return At})):Me!=null&&(C(Me)&&(Me=j(Me,Re+(Me.key==null||L&&L.key===Me.key?"":(""+Me.key).replace(I,"$&/")+"/")+ht)),ae.push(Me)),1;ht=0;var st=Te===""?".":Te+":";if(pt(L))for(var lt=0;lt<L.length;lt++)Te=L[lt],Qe=st+Q(Te,lt),ht+=F(Te,ae,Re,Qe,Me);else if(lt=re(L),typeof lt=="function")for(L=lt.call(L),lt=0;!(Te=L.next()).done;)Te=Te.value,Qe=st+Q(Te,lt++),ht+=F(Te,ae,Re,Qe,Me);else if(Qe==="object"){if(typeof L.then=="function")return F(ne(L),ae,Re,Te,Me);throw ae=String(L),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ht}function J(L,ae,Re){if(L==null)return L;var Te=[],Me=0;return F(L,Te,"","",function(Qe){return ae.call(Re,Qe,Me++)}),Te}function ye(L){if(L._status===-1){var ae=L._result;ae=ae(),ae.then(function(Re){(L._status===0||L._status===-1)&&(L._status=1,L._result=Re)},function(Re){(L._status===0||L._status===-1)&&(L._status=2,L._result=Re)}),L._status===-1&&(L._status=0,L._result=ae)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},xe={map:J,forEach:function(L,ae,Re){J(L,function(){ae.apply(this,arguments)},Re)},count:function(L){var ae=0;return J(L,function(){ae++}),ae},toArray:function(L){return J(L,function(ae){return ae})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Mt.Activity=P,Mt.Children=xe,Mt.Component=Pe,Mt.Fragment=i,Mt.Profiler=l,Mt.PureComponent=ze,Mt.StrictMode=s,Mt.Suspense=E,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return H.H.useMemoCache(L)}},Mt.cache=function(L){return function(){return L.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(L,ae,Re){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Te=Ve({},L.props),Me=L.key;if(ae!=null)for(Qe in ae.key!==void 0&&(Me=""+ae.key),ae)!B.call(ae,Qe)||Qe==="key"||Qe==="__self"||Qe==="__source"||Qe==="ref"&&ae.ref===void 0||(Te[Qe]=ae[Qe]);var Qe=arguments.length-2;if(Qe===1)Te.children=Re;else if(1<Qe){for(var ht=Array(Qe),st=0;st<Qe;st++)ht[st]=arguments[st+2];Te.children=ht}return k(L.type,Me,Te)},Mt.createContext=function(L){return L={$$typeof:p,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Mt.createElement=function(L,ae,Re){var Te,Me={},Qe=null;if(ae!=null)for(Te in ae.key!==void 0&&(Qe=""+ae.key),ae)B.call(ae,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Me[Te]=ae[Te]);var ht=arguments.length-2;if(ht===1)Me.children=Re;else if(1<ht){for(var st=Array(ht),lt=0;lt<ht;lt++)st[lt]=arguments[lt+2];Me.children=st}if(L&&L.defaultProps)for(Te in ht=L.defaultProps,ht)Me[Te]===void 0&&(Me[Te]=ht[Te]);return k(L,Qe,Me)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(L){return{$$typeof:b,render:L}},Mt.isValidElement=C,Mt.lazy=function(L){return{$$typeof:x,_payload:{_status:-1,_result:L},_init:ye}},Mt.memo=function(L,ae){return{$$typeof:w,type:L,compare:ae===void 0?null:ae}},Mt.startTransition=function(L){var ae=H.T,Re={};H.T=Re;try{var Te=L(),Me=H.S;Me!==null&&Me(Re,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(ot,fe)}catch(Qe){fe(Qe)}finally{ae!==null&&Re.types!==null&&(ae.types=Re.types),H.T=ae}},Mt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Mt.use=function(L){return H.H.use(L)},Mt.useActionState=function(L,ae,Re){return H.H.useActionState(L,ae,Re)},Mt.useCallback=function(L,ae){return H.H.useCallback(L,ae)},Mt.useContext=function(L){return H.H.useContext(L)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(L,ae){return H.H.useDeferredValue(L,ae)},Mt.useEffect=function(L,ae){return H.H.useEffect(L,ae)},Mt.useEffectEvent=function(L){return H.H.useEffectEvent(L)},Mt.useId=function(){return H.H.useId()},Mt.useImperativeHandle=function(L,ae,Re){return H.H.useImperativeHandle(L,ae,Re)},Mt.useInsertionEffect=function(L,ae){return H.H.useInsertionEffect(L,ae)},Mt.useLayoutEffect=function(L,ae){return H.H.useLayoutEffect(L,ae)},Mt.useMemo=function(L,ae){return H.H.useMemo(L,ae)},Mt.useOptimistic=function(L,ae){return H.H.useOptimistic(L,ae)},Mt.useReducer=function(L,ae,Re){return H.H.useReducer(L,ae,Re)},Mt.useRef=function(L){return H.H.useRef(L)},Mt.useState=function(L){return H.H.useState(L)},Mt.useSyncExternalStore=function(L,ae,Re){return H.H.useSyncExternalStore(L,ae,Re)},Mt.useTransition=function(){return H.H.useTransition()},Mt.version="19.2.0",Mt}var i_;function rf(){return i_||(i_=1,fm.exports=jE()),fm.exports}var ct=rf(),dm={exports:{}},Lu={},mm={exports:{}},pm={};var r_;function zE(){return r_||(r_=1,(function(r){function e(F,J){var ye=F.length;F.push(J);e:for(;0<ye;){var fe=ye-1>>>1,xe=F[fe];if(0<l(xe,J))F[fe]=J,F[ye]=xe,ye=fe;else break e}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var J=F[0],ye=F.pop();if(ye!==J){F[0]=ye;e:for(var fe=0,xe=F.length,L=xe>>>1;fe<L;){var ae=2*(fe+1)-1,Re=F[ae],Te=ae+1,Me=F[Te];if(0>l(Re,ye))Te<xe&&0>l(Me,Re)?(F[fe]=Me,F[Te]=ye,fe=Te):(F[fe]=Re,F[ae]=ye,fe=ae);else if(Te<xe&&0>l(Me,ye))F[fe]=Me,F[Te]=ye,fe=Te;else break e}}return J}function l(F,J){var ye=F.sortIndex-J.sortIndex;return ye!==0?ye:F.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var E=[],w=[],x=1,P=null,G=3,re=!1,z=!1,Ve=!1,Ee=!1,Pe=typeof setTimeout=="function"?setTimeout:null,Le=typeof clearTimeout=="function"?clearTimeout:null,ze=typeof setImmediate<"u"?setImmediate:null;function rt(F){for(var J=i(w);J!==null;){if(J.callback===null)s(w);else if(J.startTime<=F)s(w),J.sortIndex=J.expirationTime,e(E,J);else break;J=i(w)}}function pt(F){if(Ve=!1,rt(F),!z)if(i(E)!==null)z=!0,ot||(ot=!0,V());else{var J=i(w);J!==null&&ne(pt,J.startTime-F)}}var ot=!1,H=-1,B=5,k=-1;function j(){return Ee?!0:!(r.unstable_now()-k<B)}function C(){if(Ee=!1,ot){var F=r.unstable_now();k=F;var J=!0;try{e:{z=!1,Ve&&(Ve=!1,Le(H),H=-1),re=!0;var ye=G;try{t:{for(rt(F),P=i(E);P!==null&&!(P.expirationTime>F&&j());){var fe=P.callback;if(typeof fe=="function"){P.callback=null,G=P.priorityLevel;var xe=fe(P.expirationTime<=F);if(F=r.unstable_now(),typeof xe=="function"){P.callback=xe,rt(F),J=!0;break t}P===i(E)&&s(E),rt(F)}else s(E);P=i(E)}if(P!==null)J=!0;else{var L=i(w);L!==null&&ne(pt,L.startTime-F),J=!1}}break e}finally{P=null,G=ye,re=!1}J=void 0}}finally{J?V():ot=!1}}}var V;if(typeof ze=="function")V=function(){ze(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Q=I.port2;I.port1.onmessage=C,V=function(){Q.postMessage(null)}}else V=function(){Pe(C,0)};function ne(F,J){H=Pe(function(){F(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return G},r.unstable_next=function(F){switch(G){case 1:case 2:case 3:var J=3;break;default:J=G}var ye=G;G=J;try{return F()}finally{G=ye}},r.unstable_requestPaint=function(){Ee=!0},r.unstable_runWithPriority=function(F,J){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ye=G;G=F;try{return J()}finally{G=ye}},r.unstable_scheduleCallback=function(F,J,ye){var fe=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?fe+ye:fe):ye=fe,F){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ye+xe,F={id:x++,callback:J,priorityLevel:F,startTime:ye,expirationTime:xe,sortIndex:-1},ye>fe?(F.sortIndex=ye,e(w,F),i(E)===null&&F===i(w)&&(Ve?(Le(H),H=-1):Ve=!0,ne(pt,ye-fe))):(F.sortIndex=xe,e(E,F),z||re||(z=!0,ot||(ot=!0,V()))),F},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(F){var J=G;return function(){var ye=G;G=J;try{return F.apply(this,arguments)}finally{G=ye}}}})(pm)),pm}var a_;function BE(){return a_||(a_=1,mm.exports=zE()),mm.exports}var gm={exports:{}},qi={};var s_;function FE(){if(s_)return qi;s_=1;var r=rf();function e(E){var w="https://react.dev/errors/"+E;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)w+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+E+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(E,w,x){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:P==null?null:""+P,children:E,containerInfo:w,implementation:x}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(E,w){if(E==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qi.createPortal=function(E,w){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return c(E,w,null,x)},qi.flushSync=function(E){var w=p.T,x=s.p;try{if(p.T=null,s.p=2,E)return E()}finally{p.T=w,s.p=x,s.d.f()}},qi.preconnect=function(E,w){typeof E=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,s.d.C(E,w))},qi.prefetchDNS=function(E){typeof E=="string"&&s.d.D(E)},qi.preinit=function(E,w){if(typeof E=="string"&&w&&typeof w.as=="string"){var x=w.as,P=b(x,w.crossOrigin),G=typeof w.integrity=="string"?w.integrity:void 0,re=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;x==="style"?s.d.S(E,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:P,integrity:G,fetchPriority:re}):x==="script"&&s.d.X(E,{crossOrigin:P,integrity:G,fetchPriority:re,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},qi.preinitModule=function(E,w){if(typeof E=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var x=b(w.as,w.crossOrigin);s.d.M(E,{crossOrigin:x,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&s.d.M(E)},qi.preload=function(E,w){if(typeof E=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var x=w.as,P=b(x,w.crossOrigin);s.d.L(E,x,{crossOrigin:P,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},qi.preloadModule=function(E,w){if(typeof E=="string")if(w){var x=b(w.as,w.crossOrigin);s.d.m(E,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:x,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else s.d.m(E)},qi.requestFormReset=function(E){s.d.r(E)},qi.unstable_batchedUpdates=function(E,w){return E(w)},qi.useFormState=function(E,w,x){return p.H.useFormState(E,w,x)},qi.useFormStatus=function(){return p.H.useHostTransitionStatus()},qi.version="19.2.0",qi}var o_;function HE(){if(o_)return gm.exports;o_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=FE(),gm.exports}var l_;function qE(){if(l_)return Lu;l_=1;var r=BE(),e=rf(),i=HE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(c(t)!==t)throw Error(s(188))}function w(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return E(h),t;if(m===o)return E(h),n;m=m.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=m;else{for(var T=!1,M=h.child;M;){if(M===a){T=!0,a=h,o=m;break}if(M===o){T=!0,o=h,a=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===a){T=!0,a=m,o=h;break}if(M===o){T=!0,o=m,a=h;break}M=M.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var P=Object.assign,G=Symbol.for("react.element"),re=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Ve=Symbol.for("react.fragment"),Ee=Symbol.for("react.strict_mode"),Pe=Symbol.for("react.profiler"),Le=Symbol.for("react.consumer"),ze=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Q(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ve:return"Fragment";case Pe:return"Profiler";case Ee:return"StrictMode";case pt:return"Suspense";case ot:return"SuspenseList";case k:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ze:return t.displayName||"Context";case Le:return(t._context.displayName||"Context")+".Consumer";case rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return n=t.displayName||null,n!==null?n:Q(t.type)||"Memo";case B:n=t._payload,t=t._init;try{return Q(t(n))}catch{}}return null}var ne=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},fe=[],xe=-1;function L(t){return{current:t}}function ae(t){0>xe||(t.current=fe[xe],fe[xe]=null,xe--)}function Re(t,n){xe++,fe[xe]=t.current,t.current=n}var Te=L(null),Me=L(null),Qe=L(null),ht=L(null);function st(t,n){switch(Re(Qe,n),Re(Me,t),Re(Te,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Tv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Tv(n),t=Av(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(Te),Re(Te,t)}function lt(){ae(Te),ae(Me),ae(Qe)}function At(t){t.memoizedState!==null&&Re(ht,t);var n=Te.current,a=Av(n,t.type);n!==a&&(Re(Me,t),Re(Te,a))}function sn(t){Me.current===t&&(ae(Te),ae(Me)),ht.current===t&&(ae(ht),Du._currentValue=ye)}var ft,St;function Bt(t){if(ft===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ft=n&&n[1]||"",St=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+t+St}var Lt=!1;function Nn(t,n){if(!t||Lt)return"";Lt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(ge){var ce=ge}Reflect.construct(t,[],Ae)}else{try{Ae.call()}catch(ge){ce=ge}t.call(Ae.prototype)}}else{try{throw Error()}catch(ge){ce=ge}(Ae=t())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(ge){if(ge&&ce&&typeof ge.stack=="string")return[ge.stack,ce.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var Y=T.split(`
`),le=M.split(`
`);for(h=o=0;o<Y.length&&!Y[o].includes("DetermineComponentFrameRoot");)o++;for(;h<le.length&&!le[h].includes("DetermineComponentFrameRoot");)h++;if(o===Y.length||h===le.length)for(o=Y.length-1,h=le.length-1;1<=o&&0<=h&&Y[o]!==le[h];)h--;for(;1<=o&&0<=h;o--,h--)if(Y[o]!==le[h]){if(o!==1||h!==1)do if(o--,h--,0>h||Y[o]!==le[h]){var _e=`
`+Y[o].replace(" at new "," at ");return t.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",t.displayName)),_e}while(1<=o&&0<=h);break}}}finally{Lt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Bt(a):""}function ri(t,n){switch(t.tag){case 26:case 27:case 5:return Bt(t.type);case 16:return Bt("Lazy");case 13:return t.child!==n&&n!==null?Bt("Suspense Fallback"):Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 15:return Nn(t.type,!1);case 11:return Nn(t.type.render,!1);case 1:return Nn(t.type,!0);case 31:return Bt("Activity");default:return""}}function Jt(t){try{var n="",a=null;do n+=ri(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var nt=Object.prototype.hasOwnProperty,wt=r.unstable_scheduleCallback,gn=r.unstable_cancelCallback,Rr=r.unstable_shouldYield,In=r.unstable_requestPaint,Gt=r.unstable_now,yn=r.unstable_getCurrentPriorityLevel,R=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,v=r.unstable_NormalPriority,D=r.unstable_LowPriority,$=r.unstable_IdlePriority,pe=r.log,Ne=r.unstable_setDisableYieldValue,Ze=null,Ye=null;function qe(t){if(typeof pe=="function"&&Ne(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Ze,t)}catch{}}var Je=Math.clz32?Math.clz32:fn,Zt=Math.log,Dn=Math.LN2;function fn(t){return t>>>=0,t===0?32:31-(Zt(t)/Dn|0)|0}var Bn=256,Kn=262144,Pt=4194304;function Tn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?h=Tn(o):(T&=M,T!==0?h=Tn(T):a||(a=M&~t,a!==0&&(h=Tn(a))))):(M=o&~m,M!==0?h=Tn(M):T!==0?h=Tn(T):a||(a=o&~t,a!==0&&(h=Tn(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function Wn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ki(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var t=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),t}function Fn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function It(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wi(t,n,a,o,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var M=t.entanglements,Y=t.expirationTimes,le=t.hiddenUpdates;for(a=T&~a;0<a;){var _e=31-Je(a),Ae=1<<_e;M[_e]=0,Y[_e]=-1;var ce=le[_e];if(ce!==null)for(le[_e]=null,_e=0;_e<ce.length;_e++){var ge=ce[_e];ge!==null&&(ge.lane&=-536870913)}a&=~Ae}o!==0&&$i(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function $i(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Je(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Fa(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Je(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Cr(t,n){var a=n&-n;return a=(a&42)!==0?1:Hr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Hr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function va(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:Xv(t.type))}function Ji(t,n){var a=J.p;try{return J.p=t,n()}finally{J.p=a}}var Ei=Math.random().toString(36).slice(2),dn="__reactFiber$"+Ei,Gn="__reactProps$"+Ei,Zi="__reactContainer$"+Ei,ur="__reactEvents$"+Ei,Ha="__reactListeners$"+Ei,_a="__reactHandles$"+Ei,aa="__reactResources$"+Ei,er="__reactMarker$"+Ei;function Ti(t){delete t[dn],delete t[Gn],delete t[ur],delete t[Ha],delete t[_a]}function Li(t){var n=t[dn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Zi]||a[dn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Nv(t);t!==null;){if(a=t[dn])return a;t=Nv(t)}return n}t=a,a=t.parentNode}return null}function Ui(t){if(t=t[dn]||t[Zi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function yi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ji(t){var n=t[aa];return n||(n=t[aa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pn(t){t[er]=!0}var Ai=new Set,Si={};function Ri(t,n){zi(t,n),zi(t+"Capture",n)}function zi(t,n){for(Si[t]=n,t=0;t<n.length;t++)Ai.add(n[t])}var qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fi={},sa={};function ba(t){return nt.call(sa,t)?!0:nt.call(fi,t)?!1:qa.test(t)?sa[t]=!0:(fi[t]=!0,!1)}function cr(t,n,a){if(ba(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function vi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function on(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function K(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function he(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ve(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function de(t){if(!t._valueTracker){var n=he(t)?"checked":"value";t._valueTracker=ve(t,n,""+t[n])}}function Ce(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=he(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function be(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var He=/[\n"\\]/g;function De(t){return t.replace(He,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function dt(t,n,a,o,h,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+K(n)):t.value!==""+K(n)&&(t.value=""+K(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?mt(t,T,K(n)):a!=null?mt(t,T,K(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+K(M):t.removeAttribute("name")}function Be(t,n,a,o,h,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){de(t);return}a=a!=null?""+K(a):"",n=n!=null?""+K(n):a,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),de(t)}function mt(t,n,a){n==="number"&&be(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _t(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+K(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Hn(t,n,a){if(n!=null&&(n=""+K(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+K(a):""}function ln(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ne(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=K(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),de(t)}function xn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var An=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ir(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||An.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function xr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ir(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&Ir(t,m,n[m])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Mr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hr(){}var Cs=null;function fr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dr=null,tr=null;function mr(t){var n=Ui(t);if(n&&(t=n.stateNode)){var a=t[Gn]||null;e:switch(t=n.stateNode,n.type){case"input":if(dt(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+De(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Gn]||null;if(!h)throw Error(s(90));dt(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Ce(o)}break e;case"textarea":Hn(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&_t(t,!!a.multiple,n,!1)}}}var oa=!1;function pr(t,n,a){if(oa)return t(n,a);oa=!0;try{var o=t(n);return o}finally{if(oa=!1,(dr!==null||tr!==null)&&(Xc(),dr&&(n=dr,t=tr,tr=dr=null,mr(n),t)))for(n=0;n<t.length;n++)mr(t[n])}}function Ci(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Gn]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(di)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){qr=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{qr=!1}var Gr=null,Bi=null,la=null;function Ta(){if(la)return la;var t,n=Bi,a=n.length,o,h="value"in Gr?Gr.value:Gr.textContent,m=h.length;for(t=0;t<a&&n[t]===h[t];t++);var T=a-t;for(o=1;o<=T&&n[a-o]===h[m-o];o++);return la=h.slice(t,1<o?1-o:void 0)}function ua(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Nr(){return!0}function Dr(){return!1}function mi(t){function n(a,o,h,m,T){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(a=t[M],this[M]=a?a(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Nr:Dr,this.isPropagationStopped=Dr,this}return P(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),n}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yr=mi(gr),Aa=P({},gr,{view:0,detail:0}),Eo=mi(Aa),Or,Ya,nr,Xa=P({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nr&&(nr&&t.type==="mousemove"?(Or=t.screenX-nr.screenX,Ya=t.screenY-nr.screenY):Ya=Or=0,nr=t),Or)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),Is=mi(Xa),Qa=P({},Xa,{dataTransfer:0}),Ko=mi(Qa),Zn=P({},Aa,{relatedTarget:0}),Sa=mi(Zn),ir=P({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=mi(ir),ca=P({},gr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ka=mi(ca),xs=P({},gr,{data:0}),Vr=mi(xs),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function Ra(){return Ns}var Ii=P({},Aa,{key:function(t){if(t.key){var n=Ms[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(t){return t.type==="keypress"?ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),To=mi(Ii),Zo=P({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ha=mi(Zo),u=P({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),y=mi(u),A=P({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=mi(A),ie=P({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),me=mi(ie),Ue=P({},gr,{newState:0,oldState:0}),Ct=mi(Ue),Yn=[9,13,27,32],rn=di&&"CompositionEvent"in window,On=null;di&&"documentMode"in document&&(On=document.documentMode);var Fi=di&&"TextEvent"in window&&!On,yr=di&&(!rn||On&&8<On&&11>=On),vr=" ",rr=!1;function Xr(t,n){switch(t){case"keyup":return Yn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function Sf(t,n){switch(t){case"compositionend":return Wa(n);case"keypress":return n.which!==32?null:(rr=!0,vr);case"textInput":return t=n.data,t===vr&&rr?null:t;default:return null}}function pc(t,n){if($a)return t==="compositionend"||!rn&&Xr(t,n)?(t=Ta(),la=Bi=Gr=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yr&&n.locale!=="ko"?null:n.data;default:return null}}var el={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!el[t.type]:n==="textarea"}function Ln(t,n,a,o){dr?tr?tr.push(o):tr=[o]:dr=o,n=eh(n,"onChange"),0<n.length&&(a=new Yr("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var ar=null,Ja=null;function gc(t){yv(t,0)}function Ao(t){var n=yi(t);if(Ce(n))return t}function tu(t,n){if(t==="change")return n}var nu=!1;if(di){var Ds;if(di){var tl="oninput"in document;if(!tl){var f=document.createElement("div");f.setAttribute("oninput","return;"),tl=typeof f.oninput=="function"}Ds=tl}else Ds=!1;nu=Ds&&(!document.documentMode||9<document.documentMode)}function d(){ar&&(ar.detachEvent("onpropertychange",_),Ja=ar=null)}function _(t){if(t.propertyName==="value"&&Ao(Ja)){var n=[];Ln(n,Ja,t,fr(t)),pr(gc,n)}}function S(t,n,a){t==="focusin"?(d(),ar=n,Ja=a,ar.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function N(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Ja)}function U(t,n){if(t==="click")return Ao(n)}function W(t,n){if(t==="input"||t==="change")return Ao(n)}function Z(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ue=typeof Object.is=="function"?Object.is:Z;function oe(t,n){if(ue(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!nt.call(n,h)||!ue(t[h],n[h]))return!1}return!0}function ke(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ke(t,n){var a=ke(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ke(a)}}function it(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?it(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ee(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=be(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=be(t.document)}return n}function je(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var et=di&&"documentMode"in document&&11>=document.documentMode,Fe=null,un=null,We=null,Ut=!1;function vn(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ut||Fe==null||Fe!==be(o)||(o=Fe,"selectionStart"in o&&je(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),We&&oe(We,o)||(We=o,o=eh(un,"onSelect"),0<o.length&&(n=new Yr("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Fe)))}function ei(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var _r={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},zt={},kr={};di&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function Za(t){if(zt[t])return zt[t];if(!_r[t])return t;var n=_r[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in kr)return zt[t]=n[a];return t}var Oe=Za("animationend"),Ge=Za("animationiteration"),jt=Za("animationstart"),Yt=Za("transitionrun"),Dt=Za("transitionstart"),Ft=Za("transitioncancel"),tn=Za("transitionend"),an=new Map,sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sr.push("scrollEnd");function _n(t,n){an.set(t,n),Ri(n,[t])}var xi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mn=[],es=0,nl=0;function Ca(){for(var t=es,n=nl=es=0;n<t;){var a=mn[n];mn[n++]=null;var o=mn[n];mn[n++]=null;var h=mn[n];mn[n++]=null;var m=mn[n];if(mn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&iu(a,h,m)}}function Ia(t,n,a,o){mn[es++]=t,mn[es++]=n,mn[es++]=a,mn[es++]=o,nl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function fa(t,n,a,o){return Ia(t,n,a,o),So(t)}function or(t,n){return Ia(t,null,null,n),So(t)}function iu(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-Je(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),m):null}function So(t){if(50<Su)throw Su=0,kd=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pr={};function Rf(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(t,n,a,o){return new Rf(t,n,a,o)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var a=t.alternate;return a===null?(a=Hi(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yc(t,n,a,o,h,m){var T=0;if(o=t,typeof t=="function")Cf(t)&&(T=1);else if(typeof t=="string")T=SE(t,a,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case k:return t=Hi(31,a,n,h),t.elementType=k,t.lanes=m,t;case Ve:return Ro(a.children,h,m,n);case Ee:T=8,h|=24;break;case Pe:return t=Hi(12,a,n,h|2),t.elementType=Pe,t.lanes=m,t;case pt:return t=Hi(13,a,n,h),t.elementType=pt,t.lanes=m,t;case ot:return t=Hi(19,a,n,h),t.elementType=ot,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ze:T=10;break e;case Le:T=9;break e;case rt:T=11;break e;case H:T=14;break e;case B:T=16,o=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=Hi(T,a,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Ro(t,n,a,o){return t=Hi(7,t,o,n),t.lanes=a,t}function If(t,n,a){return t=Hi(6,t,null,n),t.lanes=a,t}function eg(t){var n=Hi(18,null,null,0);return n.stateNode=t,n}function xf(t,n,a){return n=Hi(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var tg=new WeakMap;function Qr(t,n){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Jt(n)},tg.set(t,n),n)}return{value:t,source:n,stack:Jt(n)}}var il=[],rl=0,vc=null,ru=0,Kr=[],Wr=0,Os=null,xa=1,Ma="";function ns(t,n){il[rl++]=ru,il[rl++]=vc,vc=t,ru=n}function ng(t,n,a){Kr[Wr++]=xa,Kr[Wr++]=Ma,Kr[Wr++]=Os,Os=t;var o=xa;t=Ma;var h=32-Je(o)-1;o&=~(1<<h),a+=1;var m=32-Je(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,xa=1<<32-Je(n)+h|a<<h|o,Ma=m+t}else xa=1<<m|a<<h|o,Ma=t}function Mf(t){t.return!==null&&(ns(t,1),ng(t,1,0))}function Nf(t){for(;t===vc;)vc=il[--rl],il[rl]=null,ru=il[--rl],il[rl]=null;for(;t===Os;)Os=Kr[--Wr],Kr[Wr]=null,Ma=Kr[--Wr],Kr[Wr]=null,xa=Kr[--Wr],Kr[Wr]=null}function ig(t,n){Kr[Wr++]=xa,Kr[Wr++]=Ma,Kr[Wr++]=Os,xa=n.id,Ma=n.overflow,Os=t}var Mi=null,Un=null,en=!1,Vs=null,$r=!1,Df=Error(s(519));function ks(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(Qr(n,t)),Df}function rg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[dn]=t,n[Gn]=o,a){case"dialog":qt("cancel",n),qt("close",n);break;case"iframe":case"object":case"embed":qt("load",n);break;case"video":case"audio":for(a=0;a<Cu.length;a++)qt(Cu[a],n);break;case"source":qt("error",n);break;case"img":case"image":case"link":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"input":qt("invalid",n),Be(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":qt("invalid",n);break;case"textarea":qt("invalid",n),ln(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||wv(n.textContent,a)?(o.popover!=null&&(qt("beforetoggle",n),qt("toggle",n)),o.onScroll!=null&&qt("scroll",n),o.onScrollEnd!=null&&qt("scrollend",n),o.onClick!=null&&(n.onclick=hr),n=!0):n=!1,n||ks(t,!0)}function ag(t){for(Mi=t.return;Mi;)switch(Mi.tag){case 5:case 31:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:Mi=Mi.return}}function al(t){if(t!==Mi)return!1;if(!en)return ag(t),en=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&Un&&ks(t),ag(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Un=Mv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Un=Mv(t)}else n===27?(n=Un,Ks(t.type)?(t=tm,tm=null,Un=t):Un=n):Un=Mi?Zr(t.stateNode.nextSibling):null;return!0}function Co(){Un=Mi=null,en=!1}function Of(){var t=Vs;return t!==null&&(Tr===null?Tr=t:Tr.push.apply(Tr,t),Vs=null),t}function au(t){Vs===null?Vs=[t]:Vs.push(t)}var Vf=L(null),Io=null,is=null;function Ps(t,n,a){Re(Vf,n._currentValue),n._currentValue=a}function rs(t){t._currentValue=Vf.current,ae(Vf)}function kf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Pf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=h;for(var Y=0;Y<n.length;Y++)if(M.context===n[Y]){m.lanes|=a,M=m.alternate,M!==null&&(M.lanes|=a),kf(m.return,a,t),o||(T=null);break e}m=M.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),kf(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function sl(t,n,a,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var M=h.type;ue(h.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(h===ht.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Du):t=[Du])}h=h.return}t!==null&&Pf(n,t,a,o),n.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!ue(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xo(t){Io=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ni(t){return sg(Io,t)}function bc(t,n){return Io===null&&xo(t),sg(t,n)}function sg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},is===null){if(t===null)throw Error(s(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return a}var w1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},E1=r.unstable_scheduleCallback,T1=r.unstable_NormalPriority,ai={$$typeof:ze,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new w1,data:new Map,refCount:0}}function su(t){t.refCount--,t.refCount===0&&E1(T1,function(){t.controller.abort()})}var ou=null,Uf=0,ol=0,ll=null;function A1(t,n){if(ou===null){var a=ou=[];Uf=0,ol=Bd(),ll={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Uf++,n.then(og,og),n}function og(){if(--Uf===0&&ou!==null){ll!==null&&(ll.status="fulfilled");var t=ou;ou=null,ol=0,ll=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function S1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var lg=F.S;F.S=function(t,n){Gy=Gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&A1(t,n),lg!==null&&lg(t,n)};var Mo=L(null);function jf(){var t=Mo.current;return t!==null?t:Mn.pooledCache}function wc(t,n){n===null?Re(Mo,Mo.current):Re(Mo,n.pool)}function ug(){var t=jf();return t===null?null:{parent:ai._currentValue,pool:t}}var ul=Error(s(460)),zf=Error(s(474)),Ec=Error(s(542)),Tc={then:function(){}};function cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(hr,hr),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t;default:if(typeof n.status=="string")n.then(hr,hr);else{if(t=Mn,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t}throw Do=n,ul}}function No(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Do=a,ul):a}}var Do=null;function fg(){if(Do===null)throw Error(s(459));var t=Do;return Do=null,t}function dg(t){if(t===ul||t===Ec)throw Error(s(483))}var cl=null,lu=0;function Ac(t){var n=lu;return lu+=1,cl===null&&(cl=[]),hg(cl,t,n)}function uu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Sc(t,n){throw n.$$typeof===G?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){function n(te,X){if(t){var se=te.deletions;se===null?(te.deletions=[X],te.flags|=16):se.push(X)}}function a(te,X){if(!t)return null;for(;X!==null;)n(te,X),X=X.sibling;return null}function o(te){for(var X=new Map;te!==null;)te.key!==null?X.set(te.key,te):X.set(te.index,te),te=te.sibling;return X}function h(te,X){return te=ts(te,X),te.index=0,te.sibling=null,te}function m(te,X,se){return te.index=se,t?(se=te.alternate,se!==null?(se=se.index,se<X?(te.flags|=67108866,X):se):(te.flags|=67108866,X)):(te.flags|=1048576,X)}function T(te){return t&&te.alternate===null&&(te.flags|=67108866),te}function M(te,X,se,we){return X===null||X.tag!==6?(X=If(se,te.mode,we),X.return=te,X):(X=h(X,se),X.return=te,X)}function Y(te,X,se,we){var yt=se.type;return yt===Ve?_e(te,X,se.props.children,we,se.key):X!==null&&(X.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===B&&No(yt)===X.type)?(X=h(X,se.props),uu(X,se),X.return=te,X):(X=yc(se.type,se.key,se.props,null,te.mode,we),uu(X,se),X.return=te,X)}function le(te,X,se,we){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=xf(se,te.mode,we),X.return=te,X):(X=h(X,se.children||[]),X.return=te,X)}function _e(te,X,se,we,yt){return X===null||X.tag!==7?(X=Ro(se,te.mode,we,yt),X.return=te,X):(X=h(X,se),X.return=te,X)}function Ae(te,X,se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=If(""+X,te.mode,se),X.return=te,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case re:return se=yc(X.type,X.key,X.props,null,te.mode,se),uu(se,X),se.return=te,se;case z:return X=xf(X,te.mode,se),X.return=te,X;case B:return X=No(X),Ae(te,X,se)}if(ne(X)||V(X))return X=Ro(X,te.mode,se,null),X.return=te,X;if(typeof X.then=="function")return Ae(te,Ac(X),se);if(X.$$typeof===ze)return Ae(te,bc(te,X),se);Sc(te,X)}return null}function ce(te,X,se,we){var yt=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return yt!==null?null:M(te,X,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case re:return se.key===yt?Y(te,X,se,we):null;case z:return se.key===yt?le(te,X,se,we):null;case B:return se=No(se),ce(te,X,se,we)}if(ne(se)||V(se))return yt!==null?null:_e(te,X,se,we,null);if(typeof se.then=="function")return ce(te,X,Ac(se),we);if(se.$$typeof===ze)return ce(te,X,bc(te,se),we);Sc(te,se)}return null}function ge(te,X,se,we,yt){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return te=te.get(se)||null,M(X,te,""+we,yt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case re:return te=te.get(we.key===null?se:we.key)||null,Y(X,te,we,yt);case z:return te=te.get(we.key===null?se:we.key)||null,le(X,te,we,yt);case B:return we=No(we),ge(te,X,se,we,yt)}if(ne(we)||V(we))return te=te.get(se)||null,_e(X,te,we,yt,null);if(typeof we.then=="function")return ge(te,X,se,Ac(we),yt);if(we.$$typeof===ze)return ge(te,X,se,bc(X,we),yt);Sc(X,we)}return null}function at(te,X,se,we){for(var yt=null,cn=null,ut=X,kt=X=0,Qt=null;ut!==null&&kt<se.length;kt++){ut.index>kt?(Qt=ut,ut=null):Qt=ut.sibling;var hn=ce(te,ut,se[kt],we);if(hn===null){ut===null&&(ut=Qt);break}t&&ut&&hn.alternate===null&&n(te,ut),X=m(hn,X,kt),cn===null?yt=hn:cn.sibling=hn,cn=hn,ut=Qt}if(kt===se.length)return a(te,ut),en&&ns(te,kt),yt;if(ut===null){for(;kt<se.length;kt++)ut=Ae(te,se[kt],we),ut!==null&&(X=m(ut,X,kt),cn===null?yt=ut:cn.sibling=ut,cn=ut);return en&&ns(te,kt),yt}for(ut=o(ut);kt<se.length;kt++)Qt=ge(ut,te,kt,se[kt],we),Qt!==null&&(t&&Qt.alternate!==null&&ut.delete(Qt.key===null?kt:Qt.key),X=m(Qt,X,kt),cn===null?yt=Qt:cn.sibling=Qt,cn=Qt);return t&&ut.forEach(function(eo){return n(te,eo)}),en&&ns(te,kt),yt}function bt(te,X,se,we){if(se==null)throw Error(s(151));for(var yt=null,cn=null,ut=X,kt=X=0,Qt=null,hn=se.next();ut!==null&&!hn.done;kt++,hn=se.next()){ut.index>kt?(Qt=ut,ut=null):Qt=ut.sibling;var eo=ce(te,ut,hn.value,we);if(eo===null){ut===null&&(ut=Qt);break}t&&ut&&eo.alternate===null&&n(te,ut),X=m(eo,X,kt),cn===null?yt=eo:cn.sibling=eo,cn=eo,ut=Qt}if(hn.done)return a(te,ut),en&&ns(te,kt),yt;if(ut===null){for(;!hn.done;kt++,hn=se.next())hn=Ae(te,hn.value,we),hn!==null&&(X=m(hn,X,kt),cn===null?yt=hn:cn.sibling=hn,cn=hn);return en&&ns(te,kt),yt}for(ut=o(ut);!hn.done;kt++,hn=se.next())hn=ge(ut,te,kt,hn.value,we),hn!==null&&(t&&hn.alternate!==null&&ut.delete(hn.key===null?kt:hn.key),X=m(hn,X,kt),cn===null?yt=hn:cn.sibling=hn,cn=hn);return t&&ut.forEach(function(PE){return n(te,PE)}),en&&ns(te,kt),yt}function Cn(te,X,se,we){if(typeof se=="object"&&se!==null&&se.type===Ve&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case re:e:{for(var yt=se.key;X!==null;){if(X.key===yt){if(yt=se.type,yt===Ve){if(X.tag===7){a(te,X.sibling),we=h(X,se.props.children),we.return=te,te=we;break e}}else if(X.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===B&&No(yt)===X.type){a(te,X.sibling),we=h(X,se.props),uu(we,se),we.return=te,te=we;break e}a(te,X);break}else n(te,X);X=X.sibling}se.type===Ve?(we=Ro(se.props.children,te.mode,we,se.key),we.return=te,te=we):(we=yc(se.type,se.key,se.props,null,te.mode,we),uu(we,se),we.return=te,te=we)}return T(te);case z:e:{for(yt=se.key;X!==null;){if(X.key===yt)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){a(te,X.sibling),we=h(X,se.children||[]),we.return=te,te=we;break e}else{a(te,X);break}else n(te,X);X=X.sibling}we=xf(se,te.mode,we),we.return=te,te=we}return T(te);case B:return se=No(se),Cn(te,X,se,we)}if(ne(se))return at(te,X,se,we);if(V(se)){if(yt=V(se),typeof yt!="function")throw Error(s(150));return se=yt.call(se),bt(te,X,se,we)}if(typeof se.then=="function")return Cn(te,X,Ac(se),we);if(se.$$typeof===ze)return Cn(te,X,bc(te,se),we);Sc(te,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,X!==null&&X.tag===6?(a(te,X.sibling),we=h(X,se),we.return=te,te=we):(a(te,X),we=If(se,te.mode,we),we.return=te,te=we),T(te)):a(te,X)}return function(te,X,se,we){try{lu=0;var yt=Cn(te,X,se,we);return cl=null,yt}catch(ut){if(ut===ul||ut===Ec)throw ut;var cn=Hi(29,ut,null,te.mode);return cn.lanes=we,cn.return=te,cn}finally{}}}var Oo=mg(!0),pg=mg(!1),Ls=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(pn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=So(t),iu(t,null,a),n}return Ia(t,o,n,a),So(t)}function cu(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Fa(t,a)}}function Hf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var qf=!1;function hu(){if(qf){var t=ll;if(t!==null)throw t}}function fu(t,n,a,o){qf=!1;var h=t.updateQueue;Ls=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var Y=M,le=Y.next;Y.next=null,T===null?m=le:T.next=le,T=Y;var _e=t.alternate;_e!==null&&(_e=_e.updateQueue,M=_e.lastBaseUpdate,M!==T&&(M===null?_e.firstBaseUpdate=le:M.next=le,_e.lastBaseUpdate=Y))}if(m!==null){var Ae=h.baseState;T=0,_e=le=Y=null,M=m;do{var ce=M.lane&-536870913,ge=ce!==M.lane;if(ge?(Xt&ce)===ce:(o&ce)===ce){ce!==0&&ce===ol&&(qf=!0),_e!==null&&(_e=_e.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var at=t,bt=M;ce=n;var Cn=a;switch(bt.tag){case 1:if(at=bt.payload,typeof at=="function"){Ae=at.call(Cn,Ae,ce);break e}Ae=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=bt.payload,ce=typeof at=="function"?at.call(Cn,Ae,ce):at,ce==null)break e;Ae=P({},Ae,ce);break e;case 2:Ls=!0}}ce=M.callback,ce!==null&&(t.flags|=64,ge&&(t.flags|=8192),ge=h.callbacks,ge===null?h.callbacks=[ce]:ge.push(ce))}else ge={lane:ce,tag:M.tag,payload:M.payload,callback:M.callback,next:null},_e===null?(le=_e=ge,Y=Ae):_e=_e.next=ge,T|=ce;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;ge=M,M=ge.next,ge.next=null,h.lastBaseUpdate=ge,h.shared.pending=null}}while(!0);_e===null&&(Y=Ae),h.baseState=Y,h.firstBaseUpdate=le,h.lastBaseUpdate=_e,m===null&&(h.shared.lanes=0),qs|=T,t.lanes=T,t.memoizedState=Ae}}function gg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function yg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],n)}var hl=L(null),Rc=L(0);function vg(t,n){t=ds,Re(Rc,t),Re(hl,n),ds=t|n.baseLanes}function Gf(){Re(Rc,ds),Re(hl,hl.current)}function Yf(){ds=Rc.current,ae(hl),ae(Rc)}var Lr=L(null),Jr=null;function zs(t){var n=t.alternate;Re(ti,ti.current&1),Re(Lr,t),Jr===null&&(n===null||hl.current!==null||n.memoizedState!==null)&&(Jr=t)}function Xf(t){Re(ti,ti.current),Re(Lr,t),Jr===null&&(Jr=t)}function _g(t){t.tag===22?(Re(ti,ti.current),Re(Lr,t),Jr===null&&(Jr=t)):Bs()}function Bs(){Re(ti,ti.current),Re(Lr,Lr.current)}function Ur(t){ae(Lr),Jr===t&&(Jr=null),ae(ti)}var ti=L(0);function Cc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||em(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,Vt=null,Sn=null,si=null,Ic=!1,fl=!1,Vo=!1,xc=0,du=0,dl=null,R1=0;function $n(){throw Error(s(321))}function Qf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ue(t[a],n[a]))return!1;return!0}function Kf(t,n,a,o,h,m){return as=m,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?ny:cd,Vo=!1,m=a(o,h),Vo=!1,fl&&(m=wg(n,a,o,h)),bg(t),m}function bg(t){F.H=gu;var n=Sn!==null&&Sn.next!==null;if(as=0,si=Sn=Vt=null,Ic=!1,du=0,dl=null,n)throw Error(s(300));t===null||oi||(t=t.dependencies,t!==null&&_c(t)&&(oi=!0))}function wg(t,n,a,o){Vt=t;var h=0;do{if(fl&&(dl=null),du=0,fl=!1,25<=h)throw Error(s(301));if(h+=1,si=Sn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=iy,m=n(a,o)}while(fl);return m}function C1(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?mu(n):n,t=t.useState()[0],(Sn!==null?Sn.memoizedState:null)!==t&&(Vt.flags|=1024),n}function Wf(){var t=xc!==0;return xc=0,t}function $f(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Jf(t){if(Ic){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ic=!1}as=0,si=Sn=Vt=null,fl=!1,du=xc=0,dl=null}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?Vt.memoizedState=si=t:si=si.next=t,si}function ni(){if(Sn===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=Sn.next;var n=si===null?Vt.memoizedState:si.next;if(n!==null)si=n,Sn=t;else{if(t===null)throw Vt.alternate===null?Error(s(467)):Error(s(310));Sn=t,t={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},si===null?Vt.memoizedState=si=t:si=si.next=t}return si}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(t){var n=du;return du+=1,dl===null&&(dl=[]),t=hg(dl,t,n),n=Vt,(si===null?n.memoizedState:si.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?ny:cd),t}function Nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mu(t);if(t.$$typeof===ze)return Ni(t)}throw Error(s(438,String(t)))}function Zf(t){var n=null,a=Vt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Vt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Mc(),Vt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=j;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function Dc(t){var n=ni();return ed(n,Sn,t)}function ed(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var M=T=null,Y=null,le=n,_e=!1;do{var Ae=le.lane&-536870913;if(Ae!==le.lane?(Xt&Ae)===Ae:(as&Ae)===Ae){var ce=le.revertLane;if(ce===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ae===ol&&(_e=!0);else if((as&ce)===ce){le=le.next,ce===ol&&(_e=!0);continue}else Ae={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Y===null?(M=Y=Ae,T=m):Y=Y.next=Ae,Vt.lanes|=ce,qs|=ce;Ae=le.action,Vo&&a(m,Ae),m=le.hasEagerState?le.eagerState:a(m,Ae)}else ce={lane:Ae,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Y===null?(M=Y=ce,T=m):Y=Y.next=ce,Vt.lanes|=Ae,qs|=Ae;le=le.next}while(le!==null&&le!==n);if(Y===null?T=m:Y.next=M,!ue(m,t.memoizedState)&&(oi=!0,_e&&(a=ll,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=Y,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function td(t){var n=ni(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ue(m,n.memoizedState)||(oi=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function Eg(t,n,a){var o=Vt,h=ni(),m=en;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var T=!ue((Sn||h).memoizedState,a);if(T&&(h.memoizedState=a,oi=!0),h=h.queue,rd(Sg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||si!==null&&si.memoizedState.tag&1){if(o.flags|=2048,ml(9,{destroy:void 0},Ag.bind(null,o,h,a,n),null),Mn===null)throw Error(s(349));m||(as&127)!==0||Tg(o,n,a)}return a}function Tg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Vt.updateQueue,n===null?(n=Mc(),Vt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ag(t,n,a,o){n.value=a,n.getSnapshot=o,Rg(n)&&Cg(t)}function Sg(t,n,a){return a(function(){Rg(n)&&Cg(t)})}function Rg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ue(t,a)}catch{return!0}}function Cg(t){var n=or(t,2);n!==null&&Ar(n,t,2)}function nd(t){var n=lr();if(typeof t=="function"){var a=t;if(t=a(),Vo){qe(!0);try{a()}finally{qe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function Ig(t,n,a,o){return t.baseState=a,ed(t,Sn,typeof o=="function"?o:ss)}function I1(t,n,a,o,h){if(kc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};F.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,xg(n,m)):(m.next=a.next,n.pending=a.next=m)}}function xg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=F.T,T={};F.T=T;try{var M=a(h,o),Y=F.S;Y!==null&&Y(T,M),Mg(t,n,M)}catch(le){id(t,n,le)}finally{m!==null&&T.types!==null&&(m.types=T.types),F.T=m}}else try{m=a(h,o),Mg(t,n,m)}catch(le){id(t,n,le)}}function Mg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ng(t,n,o)},function(o){return id(t,n,o)}):Ng(t,n,a)}function Ng(t,n,a){n.status="fulfilled",n.value=a,Dg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,xg(t,a)))}function id(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Dg(n),n=n.next;while(n!==o)}t.action=null}function Dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Og(t,n){return n}function Vg(t,n){if(en){var a=Mn.formState;if(a!==null){e:{var o=Vt;if(en){if(Un){t:{for(var h=Un,m=$r;h.nodeType!==8;){if(!m){h=null;break t}if(h=Zr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Un=Zr(h.nextSibling),o=h.data==="F!";break e}}ks(o)}o=!1}o&&(n=a[0])}}return a=lr(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:n},a.queue=o,a=Zg.bind(null,Vt,o),o.dispatch=a,o=nd(!1),m=ud.bind(null,Vt,!1,o.queue),o=lr(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=I1.bind(null,Vt,h,m,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function kg(t){var n=ni();return Pg(n,Sn,t)}function Pg(t,n,a){if(n=ed(t,n,Og)[0],t=Dc(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=mu(n)}catch(T){throw T===ul?Ec:T}else o=n;n=ni();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(Vt.flags|=2048,ml(9,{destroy:void 0},x1.bind(null,h,a),null)),[o,m,t]}function x1(t,n){t.action=n}function Lg(t){var n=ni(),a=Sn;if(a!==null)return Pg(n,a,t);ni(),n=n.memoizedState,a=ni();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function ml(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=Mc(),Vt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Ug(){return ni().memoizedState}function Oc(t,n,a,o){var h=lr();Vt.flags|=t,h.memoizedState=ml(1|n,{destroy:void 0},a,o===void 0?null:o)}function Vc(t,n,a,o){var h=ni();o=o===void 0?null:o;var m=h.memoizedState.inst;Sn!==null&&o!==null&&Qf(o,Sn.memoizedState.deps)?h.memoizedState=ml(n,m,a,o):(Vt.flags|=t,h.memoizedState=ml(1|n,m,a,o))}function jg(t,n){Oc(8390656,8,t,n)}function rd(t,n){Vc(2048,8,t,n)}function M1(t){Vt.flags|=4;var n=Vt.updateQueue;if(n===null)n=Mc(),Vt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function zg(t){var n=ni().memoizedState;return M1({ref:n,nextImpl:t}),function(){if((pn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Bg(t,n){return Vc(4,2,t,n)}function Fg(t,n){return Vc(4,4,t,n)}function Hg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qg(t,n,a){a=a!=null?a.concat([t]):null,Vc(4,4,Hg.bind(null,n,t),a)}function ad(){}function Gg(t,n){var a=ni();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Qf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Yg(t,n){var a=ni();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Qf(n,o[1]))return o[0];if(o=t(),Vo){qe(!0);try{t()}finally{qe(!1)}}return a.memoizedState=[o,n],o}function sd(t,n,a){return a===void 0||(as&1073741824)!==0&&(Xt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Xy(),Vt.lanes|=t,qs|=t,a)}function Xg(t,n,a,o){return ue(a,n)?a:hl.current!==null?(t=sd(t,a,o),ue(t,n)||(oi=!0),t):(as&42)===0||(as&1073741824)!==0&&(Xt&261930)===0?(oi=!0,t.memoizedState=a):(t=Xy(),Vt.lanes|=t,qs|=t,n)}function Qg(t,n,a,o,h){var m=J.p;J.p=m!==0&&8>m?m:8;var T=F.T,M={};F.T=M,ud(t,!1,n,a);try{var Y=h(),le=F.S;if(le!==null&&le(M,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var _e=S1(Y,o);pu(t,n,_e,Br(t))}else pu(t,n,o,Br(t))}catch(Ae){pu(t,n,{then:function(){},status:"rejected",reason:Ae},Br())}finally{J.p=m,T!==null&&M.types!==null&&(T.types=M.types),F.T=T}}function N1(){}function od(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=Kg(t).queue;Qg(t,h,n,ye,a===null?N1:function(){return Wg(t),a(o)})}function Kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wg(t){var n=Kg(t);n.next===null&&(n=t.alternate.memoizedState),pu(t,n.next.queue,{},Br())}function ld(){return Ni(Du)}function $g(){return ni().memoizedState}function Jg(){return ni().memoizedState}function D1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Br();t=Us(a);var o=js(n,t,a);o!==null&&(Ar(o,n,a),cu(o,n,a)),n={cache:Lf()},t.payload=n;return}n=n.return}}function O1(t,n,a){var o=Br();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kc(t)?ey(n,a):(a=fa(t,n,a,o),a!==null&&(Ar(a,t,o),ty(a,n,o)))}function Zg(t,n,a){var o=Br();pu(t,n,a,o)}function pu(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(t))ey(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,a);if(h.hasEagerState=!0,h.eagerState=M,ue(M,T))return Ia(t,n,h,0),Mn===null&&Ca(),!1}catch{}finally{}if(a=fa(t,n,h,o),a!==null)return Ar(a,t,o),ty(a,n,o),!0}return!1}function ud(t,n,a,o){if(o={lane:2,revertLane:Bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(n)throw Error(s(479))}else n=fa(t,a,o,2),n!==null&&Ar(n,t,2)}function kc(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function ey(t,n){fl=Ic=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ty(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Fa(t,a)}}var gu={readContext:Ni,use:Nc,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};gu.useEffectEvent=$n;var ny={readContext:Ni,use:Nc,useCallback:function(t,n){return lr().memoizedState=[t,n===void 0?null:n],t},useContext:Ni,useEffect:jg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Oc(4194308,4,Hg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Oc(4194308,4,t,n)},useInsertionEffect:function(t,n){Oc(4,2,t,n)},useMemo:function(t,n){var a=lr();n=n===void 0?null:n;var o=t();if(Vo){qe(!0);try{t()}finally{qe(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=lr();if(a!==void 0){var h=a(n);if(Vo){qe(!0);try{a(n)}finally{qe(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=O1.bind(null,Vt,t),[o.memoizedState,t]},useRef:function(t){var n=lr();return t={current:t},n.memoizedState=t},useState:function(t){t=nd(t);var n=t.queue,a=Zg.bind(null,Vt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(t,n){var a=lr();return sd(a,t,n)},useTransition:function(){var t=nd(!1);return t=Qg.bind(null,Vt,t.queue,!0,!1),lr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Vt,h=lr();if(en){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Mn===null)throw Error(s(349));(Xt&127)!==0||Tg(o,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,jg(Sg.bind(null,o,m,t),[t]),o.flags|=2048,ml(9,{destroy:void 0},Ag.bind(null,o,m,a,n),null),a},useId:function(){var t=lr(),n=Mn.identifierPrefix;if(en){var a=Ma,o=xa;a=(o&~(1<<32-Je(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=xc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=R1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ld,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var n=lr();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ud.bind(null,Vt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Zf,useCacheRefresh:function(){return lr().memoizedState=D1.bind(null,Vt)},useEffectEvent:function(t){var n=lr(),a={impl:t};return n.memoizedState=a,function(){if((pn&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:Ni,use:Nc,useCallback:Gg,useContext:Ni,useEffect:rd,useImperativeHandle:qg,useInsertionEffect:Bg,useLayoutEffect:Fg,useMemo:Yg,useReducer:Dc,useRef:Ug,useState:function(){return Dc(ss)},useDebugValue:ad,useDeferredValue:function(t,n){var a=ni();return Xg(a,Sn.memoizedState,t,n)},useTransition:function(){var t=Dc(ss)[0],n=ni().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:Eg,useId:$g,useHostTransitionStatus:ld,useFormState:kg,useActionState:kg,useOptimistic:function(t,n){var a=ni();return Ig(a,Sn,t,n)},useMemoCache:Zf,useCacheRefresh:Jg};cd.useEffectEvent=zg;var iy={readContext:Ni,use:Nc,useCallback:Gg,useContext:Ni,useEffect:rd,useImperativeHandle:qg,useInsertionEffect:Bg,useLayoutEffect:Fg,useMemo:Yg,useReducer:td,useRef:Ug,useState:function(){return td(ss)},useDebugValue:ad,useDeferredValue:function(t,n){var a=ni();return Sn===null?sd(a,t,n):Xg(a,Sn.memoizedState,t,n)},useTransition:function(){var t=td(ss)[0],n=ni().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:Eg,useId:$g,useHostTransitionStatus:ld,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var a=ni();return Sn!==null?Ig(a,Sn,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Jg};iy.useEffectEvent=zg;function hd(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:P({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Br(),h=Us(o);h.payload=n,a!=null&&(h.callback=a),n=js(t,h,o),n!==null&&(Ar(n,t,o),cu(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Br(),h=Us(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=js(t,h,o),n!==null&&(Ar(n,t,o),cu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Br(),o=Us(a);o.tag=2,n!=null&&(o.callback=n),n=js(t,o,a),n!==null&&(Ar(n,t,a),cu(n,t,a))}};function ry(t,n,a,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!oe(a,o)||!oe(h,m):!0}function ay(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&fd.enqueueReplaceState(n,n.state,null)}function ko(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=P({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function sy(t){xi(t)}function oy(t){console.error(t)}function ly(t){xi(t)}function Pc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function uy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,n,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(t,n)},a}function cy(t){return t=Us(t),t.tag=3,t}function hy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){uy(n,a,o)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){uy(n,a,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function V1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&sl(n,a,h,!0),a=Lr.current,a!==null){switch(a.tag){case 31:case 13:return Jr===null?Qc():a.alternate===null&&Jn===0&&(Jn=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ud(t,o,h)),!1;case 22:return a.flags|=65536,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ud(t,o,h)),!1}throw Error(s(435,a.tag))}return Ud(t,o,h),Qc(),!1}if(en)return n=Lr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Df&&(t=Error(s(422),{cause:o}),au(Qr(t,a)))):(o!==Df&&(n=Error(s(423),{cause:o}),au(Qr(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Qr(o,a),h=dd(t.stateNode,o,h),Hf(t,h),Jn!==4&&(Jn=2)),!1;var m=Error(s(520),{cause:o});if(m=Qr(m,a),Au===null?Au=[m]:Au.push(m),Jn!==4&&(Jn=2),n===null)return!0;o=Qr(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dd(a.stateNode,o,t),Hf(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gs===null||!Gs.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cy(h),hy(h,t,a,o),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(s(461)),oi=!1;function Di(t,n,a,o){n.child=t===null?pg(n,null,a,o):Oo(n,t.child,a,o)}function fy(t,n,a,o,h){a=a.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return xo(n),o=Kf(t,n,a,T,m,h),M=Wf(),t!==null&&!oi?($f(t,n,h),os(t,n,h)):(en&&M&&Mf(n),n.flags|=1,Di(t,n,o,h),n.child)}function dy(t,n,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!Cf(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,my(t,n,m,o,h)):(t=yc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Ed(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:oe,a(T,o)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ts(m,o),t.ref=n.ref,t.return=n,n.child=t}function my(t,n,a,o,h){if(t!==null){var m=t.memoizedProps;if(oe(m,o)&&t.ref===n.ref)if(oi=!1,n.pendingProps=o=m,Ed(t,h))(t.flags&131072)!==0&&(oi=!0);else return n.lanes=t.lanes,os(t,n,h)}return pd(t,n,a,o,h)}function py(t,n,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return gy(t,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&wc(n,m!==null?m.cachePool:null),m!==null?vg(n,m):Gf(),_g(n);else return o=n.lanes=536870912,gy(t,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(wc(n,m.cachePool),vg(n,m),Bs(),n.memoizedState=null):(t!==null&&wc(n,null),Gf(),Bs());return Di(t,n,h,a),n.child}function yu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gy(t,n,a,o,h){var m=jf();return m=m===null?null:{parent:ai._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&wc(n,null),Gf(),_g(n),t!==null&&sl(t,n,o,!0),n.childLanes=h,null}function Lc(t,n){return n=jc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function yy(t,n,a){return Oo(n,t.child,null,a),t=Lc(n,n.pendingProps),t.flags|=2,Ur(n),n.memoizedState=null,t}function k1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(en){if(o.mode==="hidden")return t=Lc(n,o),n.lanes=536870912,yu(null,t);if(Xf(n),(t=Un)?(t=xv(t,$r),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:xa,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=n,n.child=a,Mi=n,Un=null)):t=null,t===null)throw ks(n);return n.lanes=536870912,null}return Lc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Xf(n),h)if(n.flags&256)n.flags&=-257,n=yy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(oi||sl(t,n,a,!1),h=(a&t.childLanes)!==0,oi||h){if(o=Mn,o!==null&&(T=Cr(o,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,or(t,T),Ar(o,t,T),md;Qc(),n=yy(t,n,a)}else t=m.treeContext,Un=Zr(T.nextSibling),Mi=n,en=!0,Vs=null,$r=!1,t!==null&&ig(n,t),n=Lc(n,o),n.flags|=4096;return n}return t=ts(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Uc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function pd(t,n,a,o,h){return xo(n),a=Kf(t,n,a,o,void 0,h),o=Wf(),t!==null&&!oi?($f(t,n,h),os(t,n,h)):(en&&o&&Mf(n),n.flags|=1,Di(t,n,a,h),n.child)}function vy(t,n,a,o,h,m){return xo(n),n.updateQueue=null,a=wg(n,o,a,h),bg(t),o=Wf(),t!==null&&!oi?($f(t,n,m),os(t,n,m)):(en&&o&&Mf(n),n.flags|=1,Di(t,n,a,m),n.child)}function _y(t,n,a,o,h){if(xo(n),n.stateNode===null){var m=Pr,T=a.contextType;typeof T=="object"&&T!==null&&(m=Ni(T)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=fd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Bf(n),T=a.contextType,m.context=typeof T=="object"&&T!==null?Ni(T):Pr,m.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(hd(n,a,T,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&fd.enqueueReplaceState(m,m.state,null),fu(n,o,m,h),hu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,Y=ko(a,M);m.props=Y;var le=m.context,_e=a.contextType;T=Pr,typeof _e=="object"&&_e!==null&&(T=Ni(_e));var Ae=a.getDerivedStateFromProps;_e=typeof Ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,_e||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||le!==T)&&ay(n,m,o,T),Ls=!1;var ce=n.memoizedState;m.state=ce,fu(n,o,m,h),hu(),le=n.memoizedState,M||ce!==le||Ls?(typeof Ae=="function"&&(hd(n,a,Ae,o),le=n.memoizedState),(Y=Ls||ry(n,a,Y,o,ce,le,T))?(_e||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=le),m.props=o,m.state=le,m.context=T,o=Y):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Ff(t,n),T=n.memoizedProps,_e=ko(a,T),m.props=_e,Ae=n.pendingProps,ce=m.context,le=a.contextType,Y=Pr,typeof le=="object"&&le!==null&&(Y=Ni(le)),M=a.getDerivedStateFromProps,(le=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Ae||ce!==Y)&&ay(n,m,o,Y),Ls=!1,ce=n.memoizedState,m.state=ce,fu(n,o,m,h),hu();var ge=n.memoizedState;T!==Ae||ce!==ge||Ls||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof M=="function"&&(hd(n,a,M,o),ge=n.memoizedState),(_e=Ls||ry(n,a,_e,o,ce,ge,Y)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(le||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ge,Y),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ge,Y)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ge),m.props=o,m.state=ge,m.context=Y,o=_e):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Uc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Oo(n,t.child,null,h),n.child=Oo(n,null,a,h)):Di(t,n,a,h),n.memoizedState=m.state,t=n.child):t=os(t,n,h),t}function by(t,n,a,o){return Co(),n.flags|=256,Di(t,n,a,o),n.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:ug()}}function vd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=zr),t}function wy(t,n,a){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ti.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(en){if(h?zs(n):Bs(),(t=Un)?(t=xv(t,$r),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:xa,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=n,n.child=a,Mi=n,Un=null)):t=null,t===null)throw ks(n);return em(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,h?(Bs(),h=n.mode,M=jc({mode:"hidden",children:M},h),o=Ro(o,h,a,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=yd(a),o.childLanes=vd(t,T,a),n.memoizedState=gd,yu(null,o)):(zs(n),_d(n,M))}var Y=t.memoizedState;if(Y!==null&&(M=Y.dehydrated,M!==null)){if(m)n.flags&256?(zs(n),n.flags&=-257,n=bd(t,n,a)):n.memoizedState!==null?(Bs(),n.child=t.child,n.flags|=128,n=null):(Bs(),M=o.fallback,h=n.mode,o=jc({mode:"visible",children:o.children},h),M=Ro(M,h,a,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Oo(n,t.child,null,a),o=n.child,o.memoizedState=yd(a),o.childLanes=vd(t,T,a),n.memoizedState=gd,n=yu(null,o));else if(zs(n),em(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var le=T.dgst;T=le,o=Error(s(419)),o.stack="",o.digest=T,au({value:o,source:null,stack:null}),n=bd(t,n,a)}else if(oi||sl(t,n,a,!1),T=(a&t.childLanes)!==0,oi||T){if(T=Mn,T!==null&&(o=Cr(T,a),o!==0&&o!==Y.retryLane))throw Y.retryLane=o,or(t,o),Ar(T,t,o),md;Zd(M)||Qc(),n=bd(t,n,a)}else Zd(M)?(n.flags|=192,n.child=t.child,n=null):(t=Y.treeContext,Un=Zr(M.nextSibling),Mi=n,en=!0,Vs=null,$r=!1,t!==null&&ig(n,t),n=_d(n,o.children),n.flags|=4096);return n}return h?(Bs(),M=o.fallback,h=n.mode,Y=t.child,le=Y.sibling,o=ts(Y,{mode:"hidden",children:o.children}),o.subtreeFlags=Y.subtreeFlags&65011712,le!==null?M=ts(le,M):(M=Ro(M,h,a,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,yu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=yd(a):(h=M.cachePool,h!==null?(Y=ai._currentValue,h=h.parent!==Y?{parent:Y,pool:Y}:h):h=ug(),M={baseLanes:M.baseLanes|a,cachePool:h}),o.memoizedState=M,o.childLanes=vd(t,T,a),n.memoizedState=gd,yu(t.child,o)):(zs(n),a=t.child,t=a.sibling,a=ts(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=a,n.memoizedState=null,a)}function _d(t,n){return n=jc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function jc(t,n){return t=Hi(22,t,null,n),t.lanes=0,t}function bd(t,n,a){return Oo(n,t.child,null,a),t=_d(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ey(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),kf(t.return,n,a)}function wd(t,n,a,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function Ty(t,n,a){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=ti.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Re(ti,T),Di(t,n,o,a),o=en?ru:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ey(t,a,n);else if(t.tag===19)Ey(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),wd(n,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Cc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}wd(n,!0,a,null,m,o);break;case"together":wd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function os(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),qs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(sl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ts(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ts(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ed(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function P1(t,n,a){switch(n.tag){case 3:st(n,n.stateNode.containerInfo),Ps(n,ai,t.memoizedState.cache),Co();break;case 27:case 5:At(n);break;case 4:st(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?wy(t,n,a):(zs(n),t=os(t,n,a),t!==null?t.sibling:null);zs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(sl(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ty(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Re(ti,ti.current),o)break;return null;case 22:return n.lanes=0,py(t,n,a,n.pendingProps);case 24:Ps(n,ai,t.memoizedState.cache)}return os(t,n,a)}function Ay(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)oi=!0;else{if(!Ed(t,a)&&(n.flags&128)===0)return oi=!1,P1(t,n,a);oi=(t.flags&131072)!==0}else oi=!1,en&&(n.flags&1048576)!==0&&ng(n,ru,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=No(n.elementType),n.type=t,typeof t=="function")Cf(t)?(o=ko(t,o),n.tag=1,n=_y(null,n,t,o,a)):(n.tag=0,n=pd(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===rt){n.tag=11,n=fy(null,n,t,o,a);break e}else if(h===H){n.tag=14,n=dy(null,n,t,o,a);break e}}throw n=Q(t)||t,Error(s(306,n,""))}}return n;case 0:return pd(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ko(o,n.pendingProps),_y(t,n,o,h,a);case 3:e:{if(st(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,Ff(t,n),fu(n,o,null,a);var T=n.memoizedState;if(o=T.cache,Ps(n,ai,o),o!==m.cache&&Pf(n,[ai],a,!0),hu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=by(t,n,o,a);break e}else if(o!==h){h=Qr(Error(s(424)),n),au(h),n=by(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Un=Zr(t.firstChild),Mi=n,en=!0,Vs=null,$r=!0,a=pg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Co(),o===h){n=os(t,n,a);break e}Di(t,n,o,a)}n=n.child}return n;case 26:return Uc(t,n),t===null?(a=kv(n.type,null,n.pendingProps,null))?n.memoizedState=a:en||(a=n.type,t=n.pendingProps,o=th(Qe.current).createElement(a),o[dn]=n,o[Gn]=t,Oi(o,a,t),Pn(o),n.stateNode=o):n.memoizedState=kv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return At(n),t===null&&en&&(o=n.stateNode=Dv(n.type,n.pendingProps,Qe.current),Mi=n,$r=!0,h=Un,Ks(n.type)?(tm=h,Un=Zr(o.firstChild)):Un=h),Di(t,n,n.pendingProps.children,a),Uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&en&&((h=o=Un)&&(o=fE(o,n.type,n.pendingProps,$r),o!==null?(n.stateNode=o,Mi=n,Un=Zr(o.firstChild),$r=!1,h=!0):h=!1),h||ks(n)),At(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Wd(h,m)?o=null:T!==null&&Wd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=Kf(t,n,C1,null,null,a),Du._currentValue=h),Uc(t,n),Di(t,n,o,a),n.child;case 6:return t===null&&en&&((t=a=Un)&&(a=dE(a,n.pendingProps,$r),a!==null?(n.stateNode=a,Mi=n,Un=null,t=!0):t=!1),t||ks(n)),null;case 13:return wy(t,n,a);case 4:return st(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Oo(n,null,o,a):Di(t,n,o,a),n.child;case 11:return fy(t,n,n.type,n.pendingProps,a);case 7:return Di(t,n,n.pendingProps,a),n.child;case 8:return Di(t,n,n.pendingProps.children,a),n.child;case 12:return Di(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ps(n,n.type,o.value),Di(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,xo(n),h=Ni(h),o=o(h),n.flags|=1,Di(t,n,o,a),n.child;case 14:return dy(t,n,n.type,n.pendingProps,a);case 15:return my(t,n,n.type,n.pendingProps,a);case 19:return Ty(t,n,a);case 31:return k1(t,n,a);case 22:return py(t,n,a,n.pendingProps);case 24:return xo(n),o=Ni(ai),t===null?(h=jf(),h===null&&(h=Mn,m=Lf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:o,cache:h},Bf(n),Ps(n,ai,h)):((t.lanes&a)!==0&&(Ff(t,n),fu(n,null,null,a),hu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,ai,o)):(o=m.cache,Ps(n,ai,o),o!==h.cache&&Pf(n,[ai],a,!0))),Di(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ls(t){t.flags|=4}function Td(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if($y())t.flags|=8192;else throw Do=Tc,zf}else t.flags&=-16777217}function Sy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zv(n))if($y())t.flags|=8192;else throw Do=Tc,zf}function zc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?gt():536870912,t.lanes|=n,vl|=n)}function vu(t,n){if(!en)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function jn(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function L1(t,n,a){var o=n.pendingProps;switch(Nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(n),null;case 1:return jn(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),rs(ai),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(al(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Of())),jn(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(ls(n),m!==null?(jn(n),Sy(n,m)):(jn(n),Td(n,h,null,o,a))):m?m!==t.memoizedState?(ls(n),jn(n),Sy(n,m)):(jn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ls(n),jn(n),Td(n,h,t,o,a)),null;case 27:if(sn(n),a=Qe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return jn(n),null}t=Te.current,al(n)?rg(n):(t=Dv(h,o,a),n.stateNode=t,ls(n))}return jn(n),null;case 5:if(sn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return jn(n),null}if(m=Te.current,al(n))rg(n);else{var T=th(Qe.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[dn]=n,m[Gn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Oi(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ls(n)}}return jn(n),Td(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Qe.current,al(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Mi,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[dn]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||wv(t.nodeValue,a)),t||ks(n,!0)}else t=th(t).createTextNode(o),t[dn]=n,n.stateNode=t}return jn(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=al(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[dn]=n}else Co(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;jn(n),t=!1}else a=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Ur(n),n):(Ur(n),null);if((n.flags&128)!==0)throw Error(s(558))}return jn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=al(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[dn]=n}else Co(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;jn(n),h=!1}else h=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ur(n),n):(Ur(n),null)}return Ur(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),zc(n,n.updateQueue),jn(n),null);case 4:return lt(),t===null&&Gd(n.stateNode.containerInfo),jn(n),null;case 10:return rs(n.type),jn(n),null;case 19:if(ae(ti),o=n.memoizedState,o===null)return jn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)vu(o,!1);else{if(Jn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Cc(t),m!==null){for(n.flags|=128,vu(o,!1),t=m.updateQueue,n.updateQueue=t,zc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Zp(a,t),a=a.sibling;return Re(ti,ti.current&1|2),en&&ns(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Gt()>Gc&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304)}else{if(!h)if(t=Cc(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,zc(n,t),vu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!en)return jn(n),null}else 2*Gt()-o.renderingStartTime>Gc&&a!==536870912&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Gt(),t.sibling=null,a=ti.current,Re(ti,h?a&1|2:a&1),en&&ns(n,o.treeForkCount),t):(jn(n),null);case 22:case 23:return Ur(n),Yf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(jn(n),n.subtreeFlags&6&&(n.flags|=8192)):jn(n),a=n.updateQueue,a!==null&&zc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&ae(Mo),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),rs(ai),jn(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function U1(t,n){switch(Nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(ai),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return sn(n),null;case 31:if(n.memoizedState!==null){if(Ur(n),n.alternate===null)throw Error(s(340));Co()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ur(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Co()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ae(ti),null;case 4:return lt(),null;case 10:return rs(n.type),null;case 22:case 23:return Ur(n),Yf(),t!==null&&ae(Mo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(ai),null;case 25:return null;default:return null}}function Ry(t,n){switch(Nf(n),n.tag){case 3:rs(ai),lt();break;case 26:case 27:case 5:sn(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&Ur(n);break;case 13:Ur(n);break;case 19:ae(ti);break;case 10:rs(n.type);break;case 22:case 23:Ur(n),Yf(),t!==null&&ae(Mo);break;case 24:rs(ai)}}function _u(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,T=a.inst;o=m(),T.destroy=o}a=a.next}while(a!==h)}}catch(M){En(n,n.return,M)}}function Fs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,h=n;var Y=a,le=M;try{le()}catch(_e){En(h,Y,_e)}}}o=o.next}while(o!==m)}}catch(_e){En(n,n.return,_e)}}function Cy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{yg(n,a)}catch(o){En(t,t.return,o)}}}function Iy(t,n,a){a.props=ko(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){En(t,n,o)}}function bu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){En(t,n,h)}}function Na(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){En(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){En(t,n,h)}else a.current=null}function xy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){En(t,t.return,h)}}function Ad(t,n,a){try{var o=t.stateNode;sE(o,t.type,a,n),o[Gn]=n}catch(h){En(t,t.return,h)}}function My(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||My(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=hr));else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Rd(t,n,a),t=t.sibling;t!==null;)Rd(t,n,a),t=t.sibling}function Bc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bc(t,n,a),t=t.sibling;t!==null;)Bc(t,n,a),t=t.sibling}function Ny(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Oi(n,o,a),n[dn]=t,n[Gn]=a}catch(m){En(t,t.return,m)}}var us=!1,li=!1,Cd=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,_i=null;function j1(t,n){if(t=t.containerInfo,Qd=lh,t=ee(t),je(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,M=-1,Y=-1,le=0,_e=0,Ae=t,ce=null;t:for(;;){for(var ge;Ae!==a||h!==0&&Ae.nodeType!==3||(M=T+h),Ae!==m||o!==0&&Ae.nodeType!==3||(Y=T+o),Ae.nodeType===3&&(T+=Ae.nodeValue.length),(ge=Ae.firstChild)!==null;)ce=Ae,Ae=ge;for(;;){if(Ae===t)break t;if(ce===a&&++le===h&&(M=T),ce===m&&++_e===o&&(Y=T),(ge=Ae.nextSibling)!==null)break;Ae=ce,ce=Ae.parentNode}Ae=ge}a=M===-1||Y===-1?null:{start:M,end:Y}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kd={focusedElem:t,selectionRange:a},lh=!1,_i=n;_i!==null;)if(n=_i,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,_i=t;else for(;_i!==null;){switch(n=_i,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var at=ko(a.type,h);t=o.getSnapshotBeforeUpdate(at,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(bt){En(a,a.return,bt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,_i=t;break}_i=n.return}}function Oy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hs(t,a),o&4&&_u(5,a);break;case 1:if(hs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){En(a,a.return,T)}else{var h=ko(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){En(a,a.return,T)}}o&64&&Cy(a),o&512&&bu(a,a.return);break;case 3:if(hs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{yg(t,n)}catch(T){En(a,a.return,T)}}break;case 27:n===null&&o&4&&Ny(a);case 26:case 5:hs(t,a),n===null&&o&4&&xy(a),o&512&&bu(a,a.return);break;case 12:hs(t,a);break;case 31:hs(t,a),o&4&&Py(t,a);break;case 13:hs(t,a),o&4&&Ly(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Q1.bind(null,a),mE(t,a))));break;case 22:if(o=a.memoizedState!==null||us,!o){n=n!==null&&n.memoizedState!==null||li,h=us;var m=li;us=o,(li=n)&&!m?fs(t,a,(a.subtreeFlags&8772)!==0):hs(t,a),us=h,li=m}break;case 30:break;default:hs(t,a)}}function Vy(t){var n=t.alternate;n!==null&&(t.alternate=null,Vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ti(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qn=null,br=!1;function cs(t,n,a){for(a=a.child;a!==null;)ky(t,n,a),a=a.sibling}function ky(t,n,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Ze,a)}catch{}switch(a.tag){case 26:li||Na(a,n),cs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:li||Na(a,n);var o=qn,h=br;Ks(a.type)&&(qn=a.stateNode,br=!1),cs(t,n,a),xu(a.stateNode),qn=o,br=h;break;case 5:li||Na(a,n);case 6:if(o=qn,h=br,qn=null,cs(t,n,a),qn=o,br=h,qn!==null)if(br)try{(qn.nodeType===9?qn.body:qn.nodeName==="HTML"?qn.ownerDocument.body:qn).removeChild(a.stateNode)}catch(m){En(a,n,m)}else try{qn.removeChild(a.stateNode)}catch(m){En(a,n,m)}break;case 18:qn!==null&&(br?(t=qn,Cv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Rl(t)):Cv(qn,a.stateNode));break;case 4:o=qn,h=br,qn=a.stateNode.containerInfo,br=!0,cs(t,n,a),qn=o,br=h;break;case 0:case 11:case 14:case 15:Fs(2,a,n),li||Fs(4,a,n),cs(t,n,a);break;case 1:li||(Na(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Iy(a,n,o)),cs(t,n,a);break;case 21:cs(t,n,a);break;case 22:li=(o=li)||a.memoizedState!==null,cs(t,n,a),li=o;break;default:cs(t,n,a)}}function Py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Rl(t)}catch(a){En(n,n.return,a)}}}function Ly(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(a){En(n,n.return,a)}}function z1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dy),n;default:throw Error(s(435,t.tag))}}function Fc(t,n){var a=z1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=K1.bind(null,t,o);o.then(h,h)}})}function wr(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(Ks(M.type)){qn=M.stateNode,br=!1;break e}break;case 5:qn=M.stateNode,br=!1;break e;case 3:case 4:qn=M.stateNode.containerInfo,br=!0;break e}M=M.return}if(qn===null)throw Error(s(160));ky(m,T,h),qn=null,br=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Uy(n,t),n=n.sibling}var da=null;function Uy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wr(n,t),Er(t),o&4&&(Fs(3,t,t.return),_u(3,t),Fs(5,t,t.return));break;case 1:wr(n,t),Er(t),o&512&&(li||a===null||Na(a,a.return)),o&64&&us&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=da;if(wr(n,t),Er(t),o&512&&(li||a===null||Na(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[er]||m[dn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Oi(m,o,a),m[dn]=t,Pn(m),o=m;break e;case"link":var T=Uv("link","href",h).get(o+(a.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(M,1);break t}}m=h.createElement(o),Oi(m,o,a),h.head.appendChild(m);break;case"meta":if(T=Uv("meta","content",h).get(o+(a.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(M,1);break t}}m=h.createElement(o),Oi(m,o,a),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[dn]=t,Pn(m),o=m}t.stateNode=o}else jv(h,t.type,t.stateNode);else t.stateNode=Lv(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?jv(h,t.type,t.stateNode):Lv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:wr(n,t),Er(t),o&512&&(li||a===null||Na(a,a.return)),a!==null&&o&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(wr(n,t),Er(t),o&512&&(li||a===null||Na(a,a.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(at){En(t,t.return,at)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Cd=!0);break;case 6:if(wr(n,t),Er(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(at){En(t,t.return,at)}}break;case 3:if(rh=null,h=da,da=nh(n.containerInfo),wr(n,t),da=h,Er(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(n.containerInfo)}catch(at){En(t,t.return,at)}Cd&&(Cd=!1,jy(t));break;case 4:o=da,da=nh(t.stateNode.containerInfo),wr(n,t),Er(t),da=o;break;case 12:wr(n,t),Er(t);break;case 31:wr(n,t),Er(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 13:wr(n,t),Er(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qc=Gt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 22:h=t.memoizedState!==null;var Y=a!==null&&a.memoizedState!==null,le=us,_e=li;if(us=le||h,li=_e||Y,wr(n,t),li=_e,us=le,Er(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||Y||us||li||Po(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){Y=a=n;try{if(m=Y.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=Y.stateNode;var Ae=Y.memoizedProps.style,ce=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;M.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(at){En(Y,Y.return,at)}}}else if(n.tag===6){if(a===null){Y=n;try{Y.stateNode.nodeValue=h?"":Y.memoizedProps}catch(at){En(Y,Y.return,at)}}}else if(n.tag===18){if(a===null){Y=n;try{var ge=Y.stateNode;h?Iv(ge,!0):Iv(Y.stateNode,!1)}catch(at){En(Y,Y.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Fc(t,a))));break;case 19:wr(n,t),Er(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 30:break;case 21:break;default:wr(n,t),Er(t)}}function Er(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(My(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Sd(t);Bc(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(xn(T,""),a.flags&=-33);var M=Sd(t);Bc(t,M,T);break;case 3:case 4:var Y=a.stateNode.containerInfo,le=Sd(t);Rd(t,le,Y);break;default:throw Error(s(161))}}catch(_e){En(t,t.return,_e)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;jy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Oy(t,n.alternate,n),n=n.sibling}function Po(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),Po(n);break;case 1:Na(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Iy(n,n.return,a),Po(n);break;case 27:xu(n.stateNode);case 26:case 5:Na(n,n.return),Po(n);break;case 22:n.memoizedState===null&&Po(n);break;case 30:Po(n);break;default:Po(n)}t=t.sibling}}function fs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:fs(h,m,a),_u(4,m);break;case 1:if(fs(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(le){En(o,o.return,le)}if(o=m,h=o.updateQueue,h!==null){var M=o.stateNode;try{var Y=h.shared.hiddenCallbacks;if(Y!==null)for(h.shared.hiddenCallbacks=null,h=0;h<Y.length;h++)gg(Y[h],M)}catch(le){En(o,o.return,le)}}a&&T&64&&Cy(m),bu(m,m.return);break;case 27:Ny(m);case 26:case 5:fs(h,m,a),a&&o===null&&T&4&&xy(m),bu(m,m.return);break;case 12:fs(h,m,a);break;case 31:fs(h,m,a),a&&T&4&&Py(h,m);break;case 13:fs(h,m,a),a&&T&4&&Ly(h,m);break;case 22:m.memoizedState===null&&fs(h,m,a),bu(m,m.return);break;case 30:break;default:fs(h,m,a)}n=n.sibling}}function Id(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&su(a))}function xd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t))}function ma(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zy(t,n,a,o),n=n.sibling}function zy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ma(t,n,a,o),h&2048&&_u(9,n);break;case 1:ma(t,n,a,o);break;case 3:ma(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t)));break;case 12:if(h&2048){ma(t,n,a,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Y){En(n,n.return,Y)}}else ma(t,n,a,o);break;case 31:ma(t,n,a,o);break;case 13:ma(t,n,a,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?ma(t,n,a,o):wu(t,n):m._visibility&2?ma(t,n,a,o):(m._visibility|=2,pl(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Id(T,n);break;case 24:ma(t,n,a,o),h&2048&&xd(n.alternate,n);break;default:ma(t,n,a,o)}}function pl(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=a,Y=o,le=T.flags;switch(T.tag){case 0:case 11:case 15:pl(m,T,M,Y,h),_u(8,T);break;case 23:break;case 22:var _e=T.stateNode;T.memoizedState!==null?_e._visibility&2?pl(m,T,M,Y,h):wu(m,T):(_e._visibility|=2,pl(m,T,M,Y,h)),h&&le&2048&&Id(T.alternate,T);break;case 24:pl(m,T,M,Y,h),h&&le&2048&&xd(T.alternate,T);break;default:pl(m,T,M,Y,h)}n=n.sibling}}function wu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:wu(a,o),h&2048&&Id(o.alternate,o);break;case 24:wu(a,o),h&2048&&xd(o.alternate,o);break;default:wu(a,o)}n=n.sibling}}var Eu=8192;function gl(t,n,a){if(t.subtreeFlags&Eu)for(t=t.child;t!==null;)By(t,n,a),t=t.sibling}function By(t,n,a){switch(t.tag){case 26:gl(t,n,a),t.flags&Eu&&t.memoizedState!==null&&RE(a,da,t.memoizedState,t.memoizedProps);break;case 5:gl(t,n,a);break;case 3:case 4:var o=da;da=nh(t.stateNode.containerInfo),gl(t,n,a),da=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Eu,Eu=16777216,gl(t,n,a),Eu=o):gl(t,n,a));break;default:gl(t,n,a)}}function Fy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];_i=o,qy(o,t)}Fy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 0:case 11:case 15:Tu(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:Tu(t);break;case 12:Tu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Hc(t)):Tu(t);break;default:Tu(t)}}function Hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];_i=o,qy(o,t)}Fy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),Hc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(n));break;default:Hc(n)}t=t.sibling}}function qy(t,n){for(;_i!==null;){var a=_i;switch(a.tag){case 0:case 11:case 15:Fs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:su(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,_i=o;else e:for(a=t;_i!==null;){o=_i;var h=o.sibling,m=o.return;if(Vy(o),o===a){_i=null;break e}if(h!==null){h.return=m,_i=h;break e}_i=m}}}var B1={getCacheForType:function(t){var n=Ni(ai),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ni(ai).controller.signal}},F1=typeof WeakMap=="function"?WeakMap:Map,pn=0,Mn=null,Ht=null,Xt=0,wn=0,jr=null,Hs=!1,yl=!1,Md=!1,ds=0,Jn=0,qs=0,Lo=0,Nd=0,zr=0,vl=0,Au=null,Tr=null,Dd=!1,qc=0,Gy=0,Gc=1/0,Yc=null,Gs=null,pi=0,Ys=null,_l=null,ms=0,Od=0,Vd=null,Yy=null,Su=0,kd=null;function Br(){return(pn&2)!==0&&Xt!==0?Xt&-Xt:F.T!==null?Bd():va()}function Xy(){if(zr===0)if((Xt&536870912)===0||en){var t=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),zr=t}else zr=536870912;return t=Lr.current,t!==null&&(t.flags|=32),zr}function Ar(t,n,a){(t===Mn&&(wn===2||wn===9)||t.cancelPendingCommit!==null)&&(bl(t,0),Xs(t,Xt,zr,!1)),It(t,a),((pn&2)===0||t!==Mn)&&(t===Mn&&((pn&2)===0&&(Lo|=a),Jn===4&&Xs(t,Xt,zr,!1)),Da(t))}function Qy(t,n,a){if((pn&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Wn(t,n),h=o?G1(t,n):Ld(t,n,!0),m=o;do{if(h===0){yl&&!o&&Xs(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!H1(a)){h=Ld(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;h=Au;var Y=M.current.memoizedState.isDehydrated;if(Y&&(bl(M,T).flags|=256),T=Ld(M,T,!1),T!==2){if(Md&&!Y){M.errorRecoveryDisabledLanes|=m,Lo|=m,h=4;break e}m=Tr,Tr=h,m!==null&&(Tr===null?Tr=m:Tr.push.apply(Tr,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){bl(t,0),Xs(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Xs(o,n,zr,!Hs);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=qc+300-Gt(),10<h)){if(Xs(o,n,zr,!Hs),kn(o,0,!0)!==0)break e;ms=n,o.timeoutHandle=Sv(Ky.bind(null,o,a,Tr,Yc,Dd,n,zr,Lo,vl,Hs,m,"Throttled",-0,0),h);break e}Ky(o,a,Tr,Yc,Dd,n,zr,Lo,vl,Hs,m,null,-0,0)}}break}while(!0);Da(t)}function Ky(t,n,a,o,h,m,T,M,Y,le,_e,Ae,ce,ge){if(t.timeoutHandle=-1,Ae=n.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hr},By(n,m,Ae);var at=(m&62914560)===m?qc-Gt():(m&4194048)===m?Gy-Gt():0;if(at=CE(Ae,at),at!==null){ms=m,t.cancelPendingCommit=at(iv.bind(null,t,n,m,a,o,h,T,M,Y,_e,Ae,null,ce,ge)),Xs(t,m,T,!le);return}}iv(t,n,m,a,o,h,T,M,Y)}function H1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!ue(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(t,n,a,o){n&=~Nd,n&=~Lo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-Je(h),T=1<<m;o[m]=-1,h&=~T}a!==0&&$i(t,a,n)}function Xc(){return(pn&6)===0?(Ru(0),!1):!0}function Pd(){if(Ht!==null){if(wn===0)var t=Ht.return;else t=Ht,is=Io=null,Jf(t),cl=null,lu=0,t=Ht;for(;t!==null;)Ry(t.alternate,t),t=t.return;Ht=null}}function bl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ms=0,Pd(),Mn=t,Ht=a=ts(t.current,null),Xt=n,wn=0,jr=null,Hs=!1,yl=Wn(t,n),Md=!1,vl=zr=Nd=Lo=qs=Jn=0,Tr=Au=null,Dd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Je(o),m=1<<h;n|=t[h],o&=~m}return ds=n,Ca(),a}function Wy(t,n){Vt=null,F.H=gu,n===ul||n===Ec?(n=fg(),wn=3):n===zf?(n=fg(),wn=4):wn=n===md?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jr=n,Ht===null&&(Jn=1,Pc(t,Qr(n,t.current)))}function $y(){var t=Lr.current;return t===null?!0:(Xt&4194048)===Xt?Jr===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?t===Jr:!1}function Jy(){var t=F.H;return F.H=gu,t===null?gu:t}function Zy(){var t=F.A;return F.A=B1,t}function Qc(){Jn=4,Hs||(Xt&4194048)!==Xt&&Lr.current!==null||(yl=!0),(qs&134217727)===0&&(Lo&134217727)===0||Mn===null||Xs(Mn,Xt,zr,!1)}function Ld(t,n,a){var o=pn;pn|=2;var h=Jy(),m=Zy();(Mn!==t||Xt!==n)&&(Yc=null,bl(t,n)),n=!1;var T=Jn;e:do try{if(wn!==0&&Ht!==null){var M=Ht,Y=jr;switch(wn){case 8:Pd(),T=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(n=!0);var le=wn;if(wn=0,jr=null,wl(t,M,Y,le),a&&yl){T=0;break e}break;default:le=wn,wn=0,jr=null,wl(t,M,Y,le)}}q1(),T=Jn;break}catch(_e){Wy(t,_e)}while(!0);return n&&t.shellSuspendCounter++,is=Io=null,pn=o,F.H=h,F.A=m,Ht===null&&(Mn=null,Xt=0,Ca()),T}function q1(){for(;Ht!==null;)ev(Ht)}function G1(t,n){var a=pn;pn|=2;var o=Jy(),h=Zy();Mn!==t||Xt!==n?(Yc=null,Gc=Gt()+500,bl(t,n)):yl=Wn(t,n);e:do try{if(wn!==0&&Ht!==null){n=Ht;var m=jr;t:switch(wn){case 1:wn=0,jr=null,wl(t,n,m,1);break;case 2:case 9:if(cg(m)){wn=0,jr=null,tv(n);break}n=function(){wn!==2&&wn!==9||Mn!==t||(wn=7),Da(t)},m.then(n,n);break e;case 3:wn=7;break e;case 4:wn=5;break e;case 7:cg(m)?(wn=0,jr=null,tv(n)):(wn=0,jr=null,wl(t,n,m,7));break;case 5:var T=null;switch(Ht.tag){case 26:T=Ht.memoizedState;case 5:case 27:var M=Ht;if(T?zv(T):M.stateNode.complete){wn=0,jr=null;var Y=M.sibling;if(Y!==null)Ht=Y;else{var le=M.return;le!==null?(Ht=le,Kc(le)):Ht=null}break t}}wn=0,jr=null,wl(t,n,m,5);break;case 6:wn=0,jr=null,wl(t,n,m,6);break;case 8:Pd(),Jn=6;break e;default:throw Error(s(462))}}Y1();break}catch(_e){Wy(t,_e)}while(!0);return is=Io=null,F.H=o,F.A=h,pn=a,Ht!==null?0:(Mn=null,Xt=0,Ca(),Jn)}function Y1(){for(;Ht!==null&&!Rr();)ev(Ht)}function ev(t){var n=Ay(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?Kc(t):Ht=n}function tv(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=vy(a,n,n.pendingProps,n.type,void 0,Xt);break;case 11:n=vy(a,n,n.pendingProps,n.type.render,n.ref,Xt);break;case 5:Jf(n);default:Ry(a,n),n=Ht=Zp(n,ds),n=Ay(a,n,ds)}t.memoizedProps=t.pendingProps,n===null?Kc(t):Ht=n}function wl(t,n,a,o){is=Io=null,Jf(n),cl=null,lu=0;var h=n.return;try{if(V1(t,h,n,a,Xt)){Jn=1,Pc(t,Qr(a,t.current)),Ht=null;return}}catch(m){if(h!==null)throw Ht=h,m;Jn=1,Pc(t,Qr(a,t.current)),Ht=null;return}n.flags&32768?(en||o===1?t=!0:yl||(Xt&536870912)!==0?t=!1:(Hs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Lr.current,o!==null&&o.tag===13&&(o.flags|=16384))),nv(n,t)):Kc(n)}function Kc(t){var n=t;do{if((n.flags&32768)!==0){nv(n,Hs);return}t=n.return;var a=L1(n.alternate,n,ds);if(a!==null){Ht=a;return}if(n=n.sibling,n!==null){Ht=n;return}Ht=n=t}while(n!==null);Jn===0&&(Jn=5)}function nv(t,n){do{var a=U1(t.alternate,t);if(a!==null){a.flags&=32767,Ht=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ht=t;return}Ht=t=a}while(t!==null);Jn=6,Ht=null}function iv(t,n,a,o,h,m,T,M,Y){t.cancelPendingCommit=null;do Wc();while(pi!==0);if((pn&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=nl,Wi(t,a,m,T,M,Y),t===Mn&&(Ht=Mn=null,Xt=0),_l=n,Ys=t,ms=a,Od=m,Vd=h,Yy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,W1(v,function(){return lv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=J.p,J.p=2,T=pn,pn|=4;try{j1(t,n,a)}finally{pn=T,J.p=h,F.T=o}}pi=1,rv(),av(),sv()}}function rv(){if(pi===1){pi=0;var t=Ys,n=_l,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=J.p;J.p=2;var h=pn;pn|=4;try{Uy(n,t);var m=Kd,T=ee(t.containerInfo),M=m.focusedElem,Y=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&it(M.ownerDocument.documentElement,M)){if(Y!==null&&je(M)){var le=Y.start,_e=Y.end;if(_e===void 0&&(_e=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(_e,M.value.length);else{var Ae=M.ownerDocument||document,ce=Ae&&Ae.defaultView||window;if(ce.getSelection){var ge=ce.getSelection(),at=M.textContent.length,bt=Math.min(Y.start,at),Cn=Y.end===void 0?bt:Math.min(Y.end,at);!ge.extend&&bt>Cn&&(T=Cn,Cn=bt,bt=T);var te=Ke(M,bt),X=Ke(M,Cn);if(te&&X&&(ge.rangeCount!==1||ge.anchorNode!==te.node||ge.anchorOffset!==te.offset||ge.focusNode!==X.node||ge.focusOffset!==X.offset)){var se=Ae.createRange();se.setStart(te.node,te.offset),ge.removeAllRanges(),bt>Cn?(ge.addRange(se),ge.extend(X.node,X.offset)):(se.setEnd(X.node,X.offset),ge.addRange(se))}}}}for(Ae=[],ge=M;ge=ge.parentNode;)ge.nodeType===1&&Ae.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ae.length;M++){var we=Ae[M];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}lh=!!Qd,Kd=Qd=null}finally{pn=h,J.p=o,F.T=a}}t.current=n,pi=2}}function av(){if(pi===2){pi=0;var t=Ys,n=_l,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=J.p;J.p=2;var h=pn;pn|=4;try{Oy(t,n.alternate,n)}finally{pn=h,J.p=o,F.T=a}}pi=3}}function sv(){if(pi===4||pi===3){pi=0,In();var t=Ys,n=_l,a=ms,o=Yy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pi=5:(pi=0,_l=Ys=null,ov(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gs=null),Xe(a),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Ze,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=J.p,J.p=2,F.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{F.T=n,J.p=h}}(ms&3)!==0&&Wc(),Da(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===kd?Su++:(Su=0,kd=t):Su=0,Ru(0)}}function ov(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,su(n)))}function Wc(){return rv(),av(),sv(),lv()}function lv(){if(pi!==5)return!1;var t=Ys,n=Od;Od=0;var a=Xe(ms),o=F.T,h=J.p;try{J.p=32>a?32:a,F.T=null,a=Vd,Vd=null;var m=Ys,T=ms;if(pi=0,_l=Ys=null,ms=0,(pn&6)!==0)throw Error(s(331));var M=pn;if(pn|=4,Hy(m.current),zy(m,m.current,T,a),pn=M,Ru(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Ze,m)}catch{}return!0}finally{J.p=h,F.T=o,ov(t,n)}}function uv(t,n,a){n=Qr(a,n),n=dd(t.stateNode,n,2),t=js(t,n,2),t!==null&&(It(t,2),Da(t))}function En(t,n,a){if(t.tag===3)uv(t,t,a);else for(;n!==null;){if(n.tag===3){uv(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gs===null||!Gs.has(o))){t=Qr(a,t),a=cy(2),o=js(n,a,2),o!==null&&(hy(a,o,n,t),It(o,2),Da(o));break}}n=n.return}}function Ud(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new F1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Md=!0,h.add(a),t=X1.bind(null,t,n,a),n.then(t,t))}function X1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Mn===t&&(Xt&a)===a&&(Jn===4||Jn===3&&(Xt&62914560)===Xt&&300>Gt()-qc?(pn&2)===0&&bl(t,0):Nd|=a,vl===Xt&&(vl=0)),Da(t)}function cv(t,n){n===0&&(n=gt()),t=or(t,n),t!==null&&(It(t,n),Da(t))}function Q1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),cv(t,a)}function K1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),cv(t,a)}function W1(t,n){return wt(t,n)}var $c=null,El=null,jd=!1,Jc=!1,zd=!1,Qs=0;function Da(t){t!==El&&t.next===null&&(El===null?$c=El=t:El=El.next=t),Jc=!0,jd||(jd=!0,J1())}function Ru(t,n){if(!zd&&Jc){zd=!0;do for(var a=!1,o=$c;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-Je(42|t)+1)-1,m&=h&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,mv(o,m))}else m=Xt,m=kn(o,o===Mn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Wn(o,m)||(a=!0,mv(o,m));o=o.next}while(a);zd=!1}}function $1(){hv()}function hv(){Jc=jd=!1;var t=0;Qs!==0&&lE()&&(t=Qs);for(var n=Gt(),a=null,o=$c;o!==null;){var h=o.next,m=fv(o,n);m===0?(o.next=null,a===null?$c=h:a.next=h,h===null&&(El=a)):(a=o,(t!==0||(m&3)!==0)&&(Jc=!0)),o=h}pi!==0&&pi!==5||Ru(t),Qs!==0&&(Qs=0)}function fv(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Je(m),M=1<<T,Y=h[T];Y===-1?((M&a)===0||(M&o)!==0)&&(h[T]=Ki(M,n)):Y<=n&&(t.expiredLanes|=M),m&=~M}if(n=Mn,a=Xt,a=kn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(wn===2||wn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&gn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&gn(o),Xe(a)){case 2:case 8:a=g;break;case 32:a=v;break;case 268435456:a=$;break;default:a=v}return o=dv.bind(null,t),a=wt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&gn(o),t.callbackPriority=2,t.callbackNode=null,2}function dv(t,n){if(pi!==0&&pi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Wc()&&t.callbackNode!==a)return null;var o=Xt;return o=kn(t,t===Mn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Qy(t,o,n),fv(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?dv.bind(null,t):null)}function mv(t,n){if(Wc())return null;Qy(t,n,!0)}function J1(){cE(function(){(pn&6)!==0?wt(R,$1):hv()})}function Bd(){if(Qs===0){var t=ol;t===0&&(t=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),Qs=t}return Qs}function pv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function gv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Z1(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var m=pv((h[Gn]||null).action),T=o.submitter;T&&(n=(n=T[Gn]||null)?pv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new Yr("action","action",null,o,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var Y=T?gv(h,T):new FormData(h);od(a,{pending:!0,data:Y,method:h.method,action:m},null,Y)}}else typeof m=="function"&&(M.preventDefault(),Y=T?gv(h,T):new FormData(h),od(a,{pending:!0,data:Y,method:h.method,action:m},m,Y))},currentTarget:h}]})}}for(var Fd=0;Fd<sr.length;Fd++){var Hd=sr[Fd],eE=Hd.toLowerCase(),tE=Hd[0].toUpperCase()+Hd.slice(1);_n(eE,"on"+tE)}_n(Oe,"onAnimationEnd"),_n(Ge,"onAnimationIteration"),_n(jt,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(Yt,"onTransitionRun"),_n(Dt,"onTransitionStart"),_n(Ft,"onTransitionCancel"),_n(tn,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function yv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],Y=M.instance,le=M.currentTarget;if(M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(_e){xi(_e)}h.currentTarget=null,m=Y}else for(T=0;T<o.length;T++){if(M=o[T],Y=M.instance,le=M.currentTarget,M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(_e){xi(_e)}h.currentTarget=null,m=Y}}}}function qt(t,n){var a=n[ur];a===void 0&&(a=n[ur]=new Set);var o=t+"__bubble";a.has(o)||(vv(n,t,2,!1),a.add(o))}function qd(t,n,a){var o=0;n&&(o|=4),vv(a,t,o,n)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Zc]){t[Zc]=!0,Ai.forEach(function(a){a!=="selectionchange"&&(nE.has(a)||qd(a,!1,t),qd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Zc]||(n[Zc]=!0,qd("selectionchange",!1,n))}}function vv(t,n,a,o){switch(Xv(n)){case 2:var h=ME;break;case 8:h=NE;break;default:h=sm}a=h.bind(null,n,a,t),h=void 0,!qr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Yd(t,n,a,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===h)break;if(T===4)for(T=o.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;M!==null;){if(T=Li(M),T===null)return;if(Y=T.tag,Y===5||Y===6||Y===26||Y===27){o=m=T;continue e}M=M.parentNode}}o=o.return}pr(function(){var le=m,_e=fr(a),Ae=[];e:{var ce=an.get(t);if(ce!==void 0){var ge=Yr,at=t;switch(t){case"keypress":if(ua(a)===0)break e;case"keydown":case"keyup":ge=To;break;case"focusin":at="focus",ge=Sa;break;case"focusout":at="blur",ge=Sa;break;case"beforeblur":case"afterblur":ge=Sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=y;break;case Oe:case Ge:case jt:ge=Wo;break;case tn:ge=O;break;case"scroll":case"scrollend":ge=Eo;break;case"wheel":ge=me;break;case"copy":case"cut":case"paste":ge=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ha;break;case"toggle":case"beforetoggle":ge=Ct}var bt=(n&4)!==0,Cn=!bt&&(t==="scroll"||t==="scrollend"),te=bt?ce!==null?ce+"Capture":null:ce;bt=[];for(var X=le,se;X!==null;){var we=X;if(se=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||se===null||te===null||(we=Ci(X,te),we!=null&&bt.push(Iu(X,we,se))),Cn)break;X=X.return}0<bt.length&&(ce=new ge(ce,at,null,a,_e),Ae.push({event:ce,listeners:bt}))}}if((n&7)===0){e:{if(ce=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",ce&&a!==Cs&&(at=a.relatedTarget||a.fromElement)&&(Li(at)||at[Zi]))break e;if((ge||ce)&&(ce=_e.window===_e?_e:(ce=_e.ownerDocument)?ce.defaultView||ce.parentWindow:window,ge?(at=a.relatedTarget||a.toElement,ge=le,at=at?Li(at):null,at!==null&&(Cn=c(at),bt=at.tag,at!==Cn||bt!==5&&bt!==27&&bt!==6)&&(at=null)):(ge=null,at=le),ge!==at)){if(bt=Is,we="onMouseLeave",te="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(bt=ha,we="onPointerLeave",te="onPointerEnter",X="pointer"),Cn=ge==null?ce:yi(ge),se=at==null?ce:yi(at),ce=new bt(we,X+"leave",ge,a,_e),ce.target=Cn,ce.relatedTarget=se,we=null,Li(_e)===le&&(bt=new bt(te,X+"enter",at,a,_e),bt.target=se,bt.relatedTarget=Cn,we=bt),Cn=we,ge&&at)t:{for(bt=iE,te=ge,X=at,se=0,we=te;we;we=bt(we))se++;we=0;for(var yt=X;yt;yt=bt(yt))we++;for(;0<se-we;)te=bt(te),se--;for(;0<we-se;)X=bt(X),we--;for(;se--;){if(te===X||X!==null&&te===X.alternate){bt=te;break t}te=bt(te),X=bt(X)}bt=null}else bt=null;ge!==null&&_v(Ae,ce,ge,bt,!1),at!==null&&Cn!==null&&_v(Ae,Cn,at,bt,!0)}}e:{if(ce=le?yi(le):window,ge=ce.nodeName&&ce.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ce.type==="file")var cn=tu;else if(eu(ce))if(nu)cn=W;else{cn=N;var ut=S}else ge=ce.nodeName,!ge||ge.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&Ga(le.elementType)&&(cn=tu):cn=U;if(cn&&(cn=cn(t,le))){Ln(Ae,cn,a,_e);break e}ut&&ut(t,ce,le),t==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&mt(ce,"number",ce.value)}switch(ut=le?yi(le):window,t){case"focusin":(eu(ut)||ut.contentEditable==="true")&&(Fe=ut,un=le,We=null);break;case"focusout":We=un=Fe=null;break;case"mousedown":Ut=!0;break;case"contextmenu":case"mouseup":case"dragend":Ut=!1,vn(Ae,a,_e);break;case"selectionchange":if(et)break;case"keydown":case"keyup":vn(Ae,a,_e)}var kt;if(rn)e:{switch(t){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else $a?Xr(t,a)&&(Qt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Qt="onCompositionStart");Qt&&(yr&&a.locale!=="ko"&&($a||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&$a&&(kt=Ta()):(Gr=_e,Bi="value"in Gr?Gr.value:Gr.textContent,$a=!0)),ut=eh(le,Qt),0<ut.length&&(Qt=new Vr(Qt,t,null,a,_e),Ae.push({event:Qt,listeners:ut}),kt?Qt.data=kt:(kt=Wa(a),kt!==null&&(Qt.data=kt)))),(kt=Fi?Sf(t,a):pc(t,a))&&(Qt=eh(le,"onBeforeInput"),0<Qt.length&&(ut=new Vr("onBeforeInput","beforeinput",null,a,_e),Ae.push({event:ut,listeners:Qt}),ut.data=kt)),Z1(Ae,t,le,a,_e)}yv(Ae,n)})}function Iu(t,n,a){return{instance:t,listener:n,currentTarget:a}}function eh(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ci(t,a),h!=null&&o.unshift(Iu(t,h,m)),h=Ci(t,n),h!=null&&o.push(Iu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function iE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _v(t,n,a,o,h){for(var m=n._reactName,T=[];a!==null&&a!==o;){var M=a,Y=M.alternate,le=M.stateNode;if(M=M.tag,Y!==null&&Y===o)break;M!==5&&M!==26&&M!==27||le===null||(Y=le,h?(le=Ci(a,m),le!=null&&T.unshift(Iu(a,le,Y))):h||(le=Ci(a,m),le!=null&&T.push(Iu(a,le,Y)))),a=a.return}T.length!==0&&t.push({event:n,listeners:T})}var rE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function bv(t){return(typeof t=="string"?t:""+t).replace(rE,`
`).replace(aE,"")}function wv(t,n){return n=bv(n),bv(t)===n}function Rn(t,n,a,o,h,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||xn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&xn(t,""+o);break;case"className":vi(t,"class",o);break;case"tabIndex":vi(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(t,a,o);break;case"style":xr(t,o,m);break;case"data":if(n!=="object"){vi(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Rn(t,n,"name",h.name,h,null),Rn(t,n,"formEncType",h.formEncType,h,null),Rn(t,n,"formMethod",h.formMethod,h,null),Rn(t,n,"formTarget",h.formTarget,h,null)):(Rn(t,n,"encType",h.encType,h,null),Rn(t,n,"method",h.method,h,null),Rn(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=hr);break;case"onScroll":o!=null&&qt("scroll",t);break;case"onScrollEnd":o!=null&&qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":qt("beforetoggle",t),qt("toggle",t),cr(t,"popover",o);break;case"xlinkActuate":on(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":on(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":on(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":on(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":on(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":on(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":on(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":on(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":on(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":cr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wa.get(a)||a,cr(t,a,o))}}function Xd(t,n,a,o,h,m){switch(a){case"style":xr(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?xn(t,o):(typeof o=="number"||typeof o=="bigint")&&xn(t,""+o);break;case"onScroll":o!=null&&qt("scroll",t);break;case"onScrollEnd":o!=null&&qt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=hr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Si.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=t[Gn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):cr(t,a,o)}}}function Oi(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",t),qt("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Rn(t,n,m,T,a,null)}}h&&Rn(t,n,"srcSet",a.srcSet,a,null),o&&Rn(t,n,"src",a.src,a,null);return;case"input":qt("invalid",t);var M=m=T=h=null,Y=null,le=null;for(o in a)if(a.hasOwnProperty(o)){var _e=a[o];if(_e!=null)switch(o){case"name":h=_e;break;case"type":T=_e;break;case"checked":Y=_e;break;case"defaultChecked":le=_e;break;case"value":m=_e;break;case"defaultValue":M=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,n));break;default:Rn(t,n,o,_e,a,null)}}Be(t,m,M,Y,le,T,h,!1);return;case"select":qt("invalid",t),o=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(M=a[h],M!=null))switch(h){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:Rn(t,n,h,M,a,null)}n=m,a=T,t.multiple=!!o,n!=null?_t(t,!!o,n,!1):a!=null&&_t(t,!!o,a,!0);return;case"textarea":qt("invalid",t),m=h=o=null;for(T in a)if(a.hasOwnProperty(T)&&(M=a[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":h=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Rn(t,n,T,M,a,null)}ln(t,o,h,m);return;case"option":for(Y in a)if(a.hasOwnProperty(Y)&&(o=a[Y],o!=null))switch(Y){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Rn(t,n,Y,o,a,null)}return;case"dialog":qt("beforetoggle",t),qt("toggle",t),qt("cancel",t),qt("close",t);break;case"iframe":case"object":qt("load",t);break;case"video":case"audio":for(o=0;o<Cu.length;o++)qt(Cu[o],t);break;case"image":qt("error",t),qt("load",t);break;case"details":qt("toggle",t);break;case"embed":case"source":case"link":qt("error",t),qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in a)if(a.hasOwnProperty(le)&&(o=a[le],o!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Rn(t,n,le,o,a,null)}return;default:if(Ga(n)){for(_e in a)a.hasOwnProperty(_e)&&(o=a[_e],o!==void 0&&Xd(t,n,_e,o,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!=null&&Rn(t,n,M,o,a,null))}function sE(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,M=null,Y=null,le=null,_e=null;for(ge in a){var Ae=a[ge];if(a.hasOwnProperty(ge)&&Ae!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Y=Ae;default:o.hasOwnProperty(ge)||Rn(t,n,ge,null,o,Ae)}}for(var ce in o){var ge=o[ce];if(Ae=a[ce],o.hasOwnProperty(ce)&&(ge!=null||Ae!=null))switch(ce){case"type":m=ge;break;case"name":h=ge;break;case"checked":le=ge;break;case"defaultChecked":_e=ge;break;case"value":T=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,n));break;default:ge!==Ae&&Rn(t,n,ce,ge,o,Ae)}}dt(t,T,M,Y,le,_e,m,h);return;case"select":ge=T=M=ce=null;for(m in a)if(Y=a[m],a.hasOwnProperty(m)&&Y!=null)switch(m){case"value":break;case"multiple":ge=Y;default:o.hasOwnProperty(m)||Rn(t,n,m,null,o,Y)}for(h in o)if(m=o[h],Y=a[h],o.hasOwnProperty(h)&&(m!=null||Y!=null))switch(h){case"value":ce=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==Y&&Rn(t,n,h,m,o,Y)}n=M,a=T,o=ge,ce!=null?_t(t,!!a,ce,!1):!!o!=!!a&&(n!=null?_t(t,!!a,n,!0):_t(t,!!a,a?[]:"",!1));return;case"textarea":ge=ce=null;for(M in a)if(h=a[M],a.hasOwnProperty(M)&&h!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Rn(t,n,M,null,o,h)}for(T in o)if(h=o[T],m=a[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":ce=h;break;case"defaultValue":ge=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Rn(t,n,T,h,o,m)}Hn(t,ce,ge);return;case"option":for(var at in a)if(ce=a[at],a.hasOwnProperty(at)&&ce!=null&&!o.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Rn(t,n,at,null,o,ce)}for(Y in o)if(ce=o[Y],ge=a[Y],o.hasOwnProperty(Y)&&ce!==ge&&(ce!=null||ge!=null))switch(Y){case"selected":t.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Rn(t,n,Y,ce,o,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)ce=a[bt],a.hasOwnProperty(bt)&&ce!=null&&!o.hasOwnProperty(bt)&&Rn(t,n,bt,null,o,ce);for(le in o)if(ce=o[le],ge=a[le],o.hasOwnProperty(le)&&ce!==ge&&(ce!=null||ge!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,n));break;default:Rn(t,n,le,ce,o,ge)}return;default:if(Ga(n)){for(var Cn in a)ce=a[Cn],a.hasOwnProperty(Cn)&&ce!==void 0&&!o.hasOwnProperty(Cn)&&Xd(t,n,Cn,void 0,o,ce);for(_e in o)ce=o[_e],ge=a[_e],!o.hasOwnProperty(_e)||ce===ge||ce===void 0&&ge===void 0||Xd(t,n,_e,ce,o,ge);return}}for(var te in a)ce=a[te],a.hasOwnProperty(te)&&ce!=null&&!o.hasOwnProperty(te)&&Rn(t,n,te,null,o,ce);for(Ae in o)ce=o[Ae],ge=a[Ae],!o.hasOwnProperty(Ae)||ce===ge||ce==null&&ge==null||Rn(t,n,Ae,ce,o,ge)}function Ev(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,T=h.initiatorType,M=h.duration;if(m&&M&&Ev(T)){for(T=0,M=h.responseEnd,o+=1;o<a.length;o++){var Y=a[o],le=Y.startTime;if(le>M)break;var _e=Y.transferSize,Ae=Y.initiatorType;_e&&Ev(Ae)&&(Y=Y.responseEnd,T+=_e*(Y<M?1:(M-le)/(Y-le)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Kd=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function Tv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Av(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Wd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $d=null;function lE(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var Sv=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,cE=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(t){return Rv.resolve(null).then(t).catch(hE)}:Sv;function hE(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function Cv(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Rl(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")xu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xu(a);for(var m=a.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[er]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&xu(t.ownerDocument.body);a=h}while(a);Rl(n)}function Iv(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Jd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),Ti(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fE(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[er])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Zr(t.nextSibling),t===null)break}return null}function dE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zr(t.nextSibling),t===null))return null;return t}function xv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zr(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Zr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var tm=null;function Mv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Zr(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Nv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Dv(t,n,a){switch(n=th(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ti(t)}var ea=new Map,Ov=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=J.d;J.d={f:pE,r:gE,D:yE,C:vE,L:_E,m:bE,X:EE,S:wE,M:TE};function pE(){var t=ps.f(),n=Xc();return t||n}function gE(t){var n=Ui(t);n!==null&&n.tag===5&&n.type==="form"?Wg(n):ps.r(t)}var Tl=typeof document>"u"?null:document;function Vv(t,n,a){var o=Tl;if(o&&typeof n=="string"&&n){var h=De(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ov.has(h)||(Ov.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Oi(n,"link",t),Pn(n),o.head.appendChild(n)))}}function yE(t){ps.D(t),Vv("dns-prefetch",t,null)}function vE(t,n){ps.C(t,n),Vv("preconnect",t,n)}function _E(t,n,a){ps.L(t,n,a);var o=Tl;if(o&&t&&n){var h='link[rel="preload"][as="'+De(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+De(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+De(a.imageSizes)+'"]')):h+='[href="'+De(t)+'"]';var m=h;switch(n){case"style":m=Al(t);break;case"script":m=Sl(t)}ea.has(m)||(t=P({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ea.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Mu(m))||n==="script"&&o.querySelector(Nu(m))||(n=o.createElement("link"),Oi(n,"link",t),Pn(n),o.head.appendChild(n)))}}function bE(t,n){ps.m(t,n);var a=Tl;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+De(o)+'"][href="'+De(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Sl(t)}if(!ea.has(m)&&(t=P({rel:"modulepreload",href:t},n),ea.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nu(m)))return}o=a.createElement("link"),Oi(o,"link",t),Pn(o),a.head.appendChild(o)}}}function wE(t,n,a){ps.S(t,n,a);var o=Tl;if(o&&t){var h=ji(o).hoistableStyles,m=Al(t);n=n||"default";var T=h.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Mu(m)))M.loading=5;else{t=P({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ea.get(m))&&nm(t,a);var Y=T=o.createElement("link");Pn(Y),Oi(Y,"link",t),Y._p=new Promise(function(le,_e){Y.onload=le,Y.onerror=_e}),Y.addEventListener("load",function(){M.loading|=1}),Y.addEventListener("error",function(){M.loading|=2}),M.loading|=4,ih(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},h.set(m,T)}}}function EE(t,n){ps.X(t,n);var a=Tl;if(a&&t){var o=ji(a).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=a.querySelector(Nu(h)),m||(t=P({src:t,async:!0},n),(n=ea.get(h))&&im(t,n),m=a.createElement("script"),Pn(m),Oi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function TE(t,n){ps.M(t,n);var a=Tl;if(a&&t){var o=ji(a).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=a.querySelector(Nu(h)),m||(t=P({src:t,async:!0,type:"module"},n),(n=ea.get(h))&&im(t,n),m=a.createElement("script"),Pn(m),Oi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function kv(t,n,a,o){var h=(h=Qe.current)?nh(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Al(a.href),a=ji(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Al(a.href);var m=ji(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Mu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),ea.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ea.set(t,a),m||AE(h,t,a,T.state))),n&&o===null)throw Error(s(528,""));return T}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(a),a=ji(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Al(t){return'href="'+De(t)+'"'}function Mu(t){return'link[rel="stylesheet"]['+t+"]"}function Pv(t){return P({},t,{"data-precedence":t.precedence,precedence:null})}function AE(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Oi(n,"link",a),Pn(n),t.head.appendChild(n))}function Sl(t){return'[src="'+De(t)+'"]'}function Nu(t){return"script[async]"+t}function Lv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+De(a.href)+'"]');if(o)return n.instance=o,Pn(o),o;var h=P({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Pn(o),Oi(o,"style",h),ih(o,a.precedence,t),n.instance=o;case"stylesheet":h=Al(a.href);var m=t.querySelector(Mu(h));if(m)return n.state.loading|=4,n.instance=m,Pn(m),m;o=Pv(a),(h=ea.get(h))&&nm(o,h),m=(t.ownerDocument||t).createElement("link"),Pn(m);var T=m;return T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Oi(m,"link",o),n.state.loading|=4,ih(m,a.precedence,t),n.instance=m;case"script":return m=Sl(a.src),(h=t.querySelector(Nu(m)))?(n.instance=h,Pn(h),h):(o=a,(h=ea.get(m))&&(o=P({},a),im(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pn(h),Oi(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ih(o,a.precedence,t));return n.instance}function ih(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function nm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function im(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var rh=null;function Uv(t,n,a){if(rh===null){var o=new Map,h=rh=new Map;h.set(a,o)}else h=rh,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[er]||m[dn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function jv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function SE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function RE(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Al(o.href),m=n.querySelector(Mu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ah.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=m,Pn(m);return}m=n.ownerDocument||n,o=Pv(o),(h=ea.get(h))&&nm(o,h),m=m.createElement("link"),Pn(m);var T=m;T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Oi(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ah.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var rm=0;function CE(t,n){return t.stylesheets&&t.count===0&&oh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&rm===0&&(rm=62500*oE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>rm?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function oh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,n.forEach(IE,t),sh=null,ah.call(t))}function IE(t,n){if(!(n.state.loading&4)){var a=sh.get(t);if(a)var o=a.get(null);else{a=new Map,sh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),o=T)}o&&a.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||o,m===o&&a.set(null,h),a.set(T,h),this.count++,o=ah.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Du={$$typeof:ze,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function xE(t,n,a,o,h,m,T,M,Y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Bv(t,n,a,o,h,m,T,M,Y,le,_e,Ae){return t=new xE(t,n,a,T,Y,le,_e,Ae,M),n=1,m===!0&&(n|=24),m=Hi(3,null,null,n),t.current=m,m.stateNode=t,n=Lf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},Bf(m),t}function Fv(t){return t?(t=Pr,t):Pr}function Hv(t,n,a,o,h,m){h=Fv(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=js(t,o,n),a!==null&&(Ar(a,t,n),cu(a,t,n))}function qv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function am(t,n){qv(t,n),(t=t.alternate)&&qv(t,n)}function Gv(t){if(t.tag===13||t.tag===31){var n=or(t,67108864);n!==null&&Ar(n,t,67108864),am(t,67108864)}}function Yv(t){if(t.tag===13||t.tag===31){var n=Br();n=Hr(n);var a=or(t,n);a!==null&&Ar(a,t,n),am(t,n)}}var lh=!0;function ME(t,n,a,o){var h=F.T;F.T=null;var m=J.p;try{J.p=2,sm(t,n,a,o)}finally{J.p=m,F.T=h}}function NE(t,n,a,o){var h=F.T;F.T=null;var m=J.p;try{J.p=8,sm(t,n,a,o)}finally{J.p=m,F.T=h}}function sm(t,n,a,o){if(lh){var h=om(o);if(h===null)Yd(t,n,o,uh,a),Qv(t,o);else if(OE(h,t,n,a,o))o.stopPropagation();else if(Qv(t,o),n&4&&-1<DE.indexOf(t)){for(;h!==null;){var m=Ui(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Tn(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var Y=1<<31-Je(T);M.entanglements[1]|=Y,T&=~Y}Da(m),(pn&6)===0&&(Gc=Gt()+500,Ru(0))}}break;case 31:case 13:M=or(m,2),M!==null&&Ar(M,m,2),Xc(),am(m,2)}if(m=om(o),m===null&&Yd(t,n,o,uh,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else Yd(t,n,o,null,a)}}function om(t){return t=fr(t),lm(t)}var uh=null;function lm(t){if(uh=null,t=Li(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=b(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return uh=t,null}function Xv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case R:return 2;case g:return 8;case v:case D:return 32;case $:return 268435456;default:return 32}default:return 32}}var um=!1,Ws=null,$s=null,Js=null,Ou=new Map,Vu=new Map,Zs=[],DE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qv(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Ou.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(n.pointerId)}}function ku(t,n,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Ui(n),n!==null&&Gv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function OE(t,n,a,o,h){switch(n){case"focusin":return Ws=ku(Ws,t,n,a,o,h),!0;case"dragenter":return $s=ku($s,t,n,a,o,h),!0;case"mouseover":return Js=ku(Js,t,n,a,o,h),!0;case"pointerover":var m=h.pointerId;return Ou.set(m,ku(Ou.get(m)||null,t,n,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Vu.set(m,ku(Vu.get(m)||null,t,n,a,o,h)),!0}return!1}function Kv(t){var n=Li(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,Ji(t.priority,function(){Yv(a)});return}}else if(n===31){if(n=b(a),n!==null){t.blockedOn=n,Ji(t.priority,function(){Yv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Cs=o,a.target.dispatchEvent(o),Cs=null}else return n=Ui(a),n!==null&&Gv(n),t.blockedOn=a,!1;n.shift()}return!0}function Wv(t,n,a){ch(t)&&a.delete(n)}function VE(){um=!1,Ws!==null&&ch(Ws)&&(Ws=null),$s!==null&&ch($s)&&($s=null),Js!==null&&ch(Js)&&(Js=null),Ou.forEach(Wv),Vu.forEach(Wv)}function hh(t,n){t.blockedOn===n&&(t.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,VE)))}var fh=null;function $v(t){fh!==t&&(fh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fh===t&&(fh=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(lm(o||a)===null)continue;break}var m=Ui(a);m!==null&&(t.splice(n,3),n-=3,od(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Rl(t){function n(Y){return hh(Y,t)}Ws!==null&&hh(Ws,t),$s!==null&&hh($s,t),Js!==null&&hh(Js,t),Ou.forEach(n),Vu.forEach(n);for(var a=0;a<Zs.length;a++){var o=Zs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)Kv(a),a.blockedOn===null&&Zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],T=h[Gn]||null;if(typeof m=="function")T||$v(a);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[Gn]||null)M=T.formAction;else if(lm(h)!==null)continue}else M=T.action;typeof M=="function"?a[o+1]=M:(a.splice(o,3),o-=3),$v(a)}}}function Jv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}dh.prototype.render=cm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Br();Hv(a,o,t,n,null,null)},dh.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Hv(t.current,2,null,t,null,null),Xc(),n[Zi]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var n=va();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Zs.length&&n!==0&&n<Zs[a].priority;a++);Zs.splice(a,0,t),a===0&&Kv(t)}};var Zv=e.version;if(Zv!=="19.2.0")throw Error(s(527,Zv,"19.2.0"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=w(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var kE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Ze=mh.inject(kE),Ye=mh}catch{}}return Lu.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=sy,m=oy,T=ly;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Bv(t,1,!1,null,null,a,o,null,h,m,T,Jv),t[Zi]=n.current,Gd(t),new cm(n)},Lu.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",m=sy,T=oy,M=ly,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(Y=a.formState)),n=Bv(t,1,!0,n,a??null,o,h,Y,m,T,M,Jv),n.context=Fv(null),a=n.current,o=Br(),o=Hr(o),h=Us(o),h.callback=null,js(a,h,o),a=o,n.current.lanes=a,It(n,a),Da(n),t[Zi]=n.current,Gd(t),new dh(n)},Lu.version="19.2.0",Lu}var u_;function GE(){if(u_)return dm.exports;u_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=qE(),dm.exports}var YE=GE();const XE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),c_=r=>{const e=QE(r);return e.charAt(0).toUpperCase()+e.slice(1)},Q0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),KE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $E=ct.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},E)=>ct.createElement("svg",{ref:E,...WE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:Q0("lucide",l),...!c&&!KE(b)&&{"aria-hidden":"true"},...b},[...p.map(([w,x])=>ct.createElement(w,x)),...Array.isArray(c)?c:[c]]));const Qn=(r,e)=>{const i=ct.forwardRef(({className:s,...l},c)=>ct.createElement($E,{ref:c,iconNode:e,className:Q0(`lucide-${XE(c_(r))}`,`lucide-${r}`,s),...l}));return i.displayName=c_(r),i};const JE=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],ZE=Qn("arrow-down-a-z",JE);const eT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],h_=Qn("arrow-left",eT);const tT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nT=Qn("book-open",tT);const iT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],rT=Qn("check-check",iT);const aT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sT=Qn("check",aT);const oT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lT=Qn("chevron-left",oT);const uT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cT=Qn("chevron-right",uT);const hT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fT=Qn("circle-alert",hT);const dT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Vm=Qn("crown",dT);const mT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pT=Qn("eye",mT);const gT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],yT=Qn("heart",gT);const vT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_T=Qn("info",vT);const bT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wT=Qn("log-out",bT);const ET=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],TT=Qn("mail",ET);const AT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ST=Qn("play",AT);const RT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],CT=Qn("rotate-ccw",RT);const IT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],xT=Qn("ruler",IT);const MT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],NT=Qn("share-2",MT);const DT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],OT=Qn("shuffle",DT);const VT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ph=Qn("sparkles",VT);const kT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ym=Qn("star",kT);const PT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],f_=Qn("trophy",PT);const LT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],UT=Qn("x",LT);var vm={},Ah={exports:{}},jT=Ah.exports,d_;function zT(){return d_||(d_=1,(function(r,e){(function(s,l){r.exports=l()})(jT,()=>(()=>{var i=[,((p,b,E)=>{E.r(b),E.d(b,{default:()=>x});var w=(()=>{var P=typeof document<"u"?document.currentScript?.src:void 0;return(function(G={}){var re,z=G,Ve,Ee,Pe=new Promise((f,d)=>{Ve=f,Ee=d}),Le=typeof window=="object",ze=typeof importScripts=="function";function rt(){function f(W){const Z=S;_=d=0,S=new Map,Z.forEach(ue=>{try{ue(W)}catch(oe){console.error(oe)}}),this.nb(),N&&N.Pb()}let d=0,_=0,S=new Map,N=null,U=null;this.requestAnimationFrame=function(W){d||=requestAnimationFrame(f.bind(this));const Z=++_;return S.set(Z,W),Z},this.cancelAnimationFrame=function(W){S.delete(W),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(W){U&&(document.body.remove(U),U=null),W||(U=document.createElement("div"),U.style.backgroundColor="black",U.style.position="fixed",U.style.right=0,U.style.top=0,U.style.color="white",U.style.padding="4px",U.innerHTML="RIVE FPS",W=function(Z){U.innerHTML="RIVE FPS "+Z.toFixed(1)},document.body.appendChild(U)),N=new function(){let Z=0,ue=0;this.Pb=function(){var oe=performance.now();ue?(++Z,oe-=ue,1e3<oe&&(W(1e3*Z/oe),Z=ue=0)):(ue=oe,Z=0)}}},this.Kb=function(){U&&(document.body.remove(U),U=null),N=null},this.nb=function(){}}function pt(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const ot=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){ot&&ot();let f=z.decodeAudio;z.decodeAudio=function(N,U){N=f(N),U(N)};let d=z.decodeFont;z.decodeFont=function(N,U){N=d(N),U(N)};const _=z.FileAssetLoader;z.ptrToAsset=N=>{let U=z.ptrToFileAsset(N);return U.isImage?z.ptrToImageAsset(N):U.isFont?z.ptrToFontAsset(N):U.isAudio?z.ptrToAudioAsset(N):U},z.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:N}){this.__parent.__construct.call(this),this.Db=N},loadContents:function(N,U){return N=z.ptrToAsset(N),this.Db(N,U)}}),z.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(N){let U=z.ptrToAsset(N);return N=U.cdnUuid,N===""?!1:((function(W,Z){var ue=new XMLHttpRequest;ue.responseType="arraybuffer",ue.onreadystatechange=function(){ue.readyState==4&&ue.status==200&&Z(ue)},ue.open("GET",W,!0),ue.send(null)})(U.cdnBaseUrl+"/"+N,W=>{U.decode(new Uint8Array(W.response))}),!0)}}),z.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(N){this.jb.push(N)},loadContents:function(N,U){for(let W of this.jb)if(W.loadContents(N,U))return!0;return!1}});let S=z.computeAlignment;z.computeAlignment=function(N,U,W,Z,ue=1){return S.call(this,N,U,W,Z,ue)}};const H="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),B=new function(){function f(){if(!d){let un=function(We,Ut,vn){if(Ut=Fe.createShader(Ut),Fe.shaderSource(Ut,vn),Fe.compileShader(Ut),vn=Fe.getShaderInfoLog(Ut),0<(vn||"").length)throw vn;Fe.attachShader(We,Ut)};var et=un,ee=document.createElement("canvas"),je={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let Fe;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(Fe=ee.getContext("webgl",je),_=1,!Fe)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(Fe=ee.getContext("webgl2",je))_=2;else if(Fe=ee.getContext("webgl",je))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(Fe=new Proxy(Fe,{get(We,Ut){if(We.isContextLost()){if(ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ut),ue=!0),typeof We[Ut]=="function")return function(){}}else return typeof We[Ut]=="function"?function(...vn){return We[Ut].apply(We,vn)}:We[Ut]},set(We,Ut,vn){if(We.isContextLost())ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ut),ue=!0);else return We[Ut]=vn,!0}}),S=Math.min(Fe.getParameter(Fe.MAX_RENDERBUFFER_SIZE),Fe.getParameter(Fe.MAX_TEXTURE_SIZE)),ee=Fe.createProgram(),un(ee,Fe.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),un(ee,Fe.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),Fe.bindAttribLocation(ee,0,"vertex"),Fe.bindAttribLocation(ee,1,"uv"),Fe.linkProgram(ee),je=Fe.getProgramInfoLog(ee),0<(je||"").trim().length)throw je;N=Fe.getUniformLocation(ee,"mat"),U=Fe.getUniformLocation(ee,"translate"),Fe.useProgram(ee),Fe.bindBuffer(Fe.ARRAY_BUFFER,Fe.createBuffer()),Fe.enableVertexAttribArray(0),Fe.enableVertexAttribArray(1),Fe.bindBuffer(Fe.ELEMENT_ARRAY_BUFFER,Fe.createBuffer()),Fe.uniform1i(Fe.getUniformLocation(ee,"image"),0),Fe.pixelStorei(Fe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=Fe}return!0}let d=null,_=0,S=0,N=null,U=null,W=0,Z=0,ue=!1;f(),this.ac=function(){return f(),S},this.Jb=function(ee){d.deleteTexture&&d.deleteTexture(ee)},this.Ib=function(ee){if(!f())return null;const je=d.createTexture();return je?(d.bindTexture(d.TEXTURE_2D,je),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,ee),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),je):null};const oe=new pt(8),ke=new pt(8),Ke=new pt(10),it=new pt(10);this.Mb=function(ee,je,et,Fe,un){if(f()){var We=oe.push(ee),Ut=ke.push(je);if(d.canvas){(d.canvas.width!=We||d.canvas.height!=Ut)&&(d.canvas.width=We,d.canvas.height=Ut),d.viewport(0,Ut-je,ee,je),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),et.sort((zt,kr)=>kr.ub-zt.ub),We=Ke.push(Fe),W!=We&&(d.bufferData(d.ARRAY_BUFFER,8*We,d.DYNAMIC_DRAW),W=We),We=0;for(var vn of et)d.bufferSubData(d.ARRAY_BUFFER,We,vn.Sa),We+=4*vn.Sa.length;console.assert(We==4*Fe);for(var ei of et)d.bufferSubData(d.ARRAY_BUFFER,We,ei.Ab),We+=4*ei.Ab.length;console.assert(We==8*Fe),We=it.push(un),Z!=We&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*We,d.DYNAMIC_DRAW),Z=We),vn=0;for(var _r of et)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,vn,_r.indices),vn+=2*_r.indices.length;console.assert(vn==2*un),_r=0,ei=!0,We=vn=0;for(const zt of et){zt.image.Ia!=_r&&(d.bindTexture(d.TEXTURE_2D,zt.image.Ha||null),_r=zt.image.Ia),zt.fc?(d.scissor(zt.Ya,Ut-zt.Za-zt.ib,zt.tc,zt.ib),ei=!0):ei&&(d.scissor(0,Ut-je,ee,je),ei=!1),et=2/ee;const kr=-2/je;d.uniform4f(N,zt.ga[0]*et*zt.za,zt.ga[1]*kr*zt.Aa,zt.ga[2]*et*zt.za,zt.ga[3]*kr*zt.Aa),d.uniform2f(U,zt.ga[4]*et*zt.za+et*(zt.Ya-zt.bc*zt.za)-1,zt.ga[5]*kr*zt.Aa+kr*(zt.Za-zt.cc*zt.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,We),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,We+4*Fe),d.drawElements(d.TRIANGLES,zt.indices.length,d.UNSIGNED_SHORT,vn),We+=4*zt.Sa.length,vn+=2*zt.indices.length}console.assert(We==4*Fe),console.assert(vn==2*un)}}},this.canvas=function(){return f()&&d.canvas}},k=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){function f(Oe){switch(Oe){case oe.srcOver:return"source-over";case oe.screen:return"screen";case oe.overlay:return"overlay";case oe.darken:return"darken";case oe.lighten:return"lighten";case oe.colorDodge:return"color-dodge";case oe.colorBurn:return"color-burn";case oe.hardLight:return"hard-light";case oe.softLight:return"soft-light";case oe.difference:return"difference";case oe.exclusion:return"exclusion";case oe.multiply:return"multiply";case oe.hue:return"hue";case oe.saturation:return"saturation";case oe.color:return"color";case oe.luminosity:return"luminosity"}}function d(Oe){return"rgba("+((16711680&Oe)>>>16)+","+((65280&Oe)>>>8)+","+((255&Oe)>>>0)+","+((4278190080&Oe)>>>24)/255+")"}function _(){0<Ut.length&&(B.Mb(We.drawWidth(),We.drawHeight(),Ut,vn,ei),Ut=[],ei=vn=0,We.reset(512,512));for(const Oe of un){for(const Ge of Oe.H)Ge();Oe.H=[]}un.clear()}k&&k();var S=z.RenderPaintStyle;const N=z.RenderPath,U=z.RenderPaint,W=z.Renderer,Z=z.StrokeCap,ue=z.StrokeJoin,oe=z.BlendMode,ke=S.fill,Ke=S.stroke,it=z.FillRule.evenOdd;let ee=1;var je=z.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:Oe,va:Ge}={}){this.__parent.__construct.call(this),this.Ia=ee,ee=ee+1&2147483647||1,this.ka=Oe,this.va=Ge},__destruct:function(){this.Ha&&(B.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(Oe){var Ge=this;Ge.va&&Ge.va(Ge);var jt=new Image;Ge.Va=URL.createObjectURL(new Blob([Oe],{type:"image/png"})),jt.onload=function(){Ge.Cb=jt,Ge.Ha=B.Ib(jt),Ge.size(jt.width,jt.height),Ge.ka&&Ge.ka(Ge)},jt.src=Ge.Va}}),et=N.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(Oe,Ge,jt,Yt,Dt,Ft,tn){var an=this.T,sr=an.addPath;Oe=Oe.T;const _n=new DOMMatrix;_n.a=Ge,_n.b=jt,_n.c=Yt,_n.d=Dt,_n.e=Ft,_n.f=tn,sr.call(an,Oe,_n)},fillRule:function(Oe){this.Ua=Oe},moveTo:function(Oe,Ge){this.T.moveTo(Oe,Ge)},lineTo:function(Oe,Ge){this.T.lineTo(Oe,Ge)},cubicTo:function(Oe,Ge,jt,Yt,Dt,Ft){this.T.bezierCurveTo(Oe,Ge,jt,Yt,Dt,Ft)},close:function(){this.T.closePath()}}),Fe=U.extend("CanvasRenderPaint",{color:function(Oe){this.Wa=d(Oe)},thickness:function(Oe){this.Fb=Oe},join:function(Oe){switch(Oe){case ue.miter:this.Ga="miter";break;case ue.round:this.Ga="round";break;case ue.bevel:this.Ga="bevel"}},cap:function(Oe){switch(Oe){case Z.butt:this.Fa="butt";break;case Z.round:this.Fa="round";break;case Z.square:this.Fa="square"}},style:function(Oe){this.Eb=Oe},blendMode:function(Oe){this.Bb=f(Oe)},clearGradient:function(){this.ia=null},linearGradient:function(Oe,Ge,jt,Yt){this.ia={wb:Oe,xb:Ge,bb:jt,cb:Yt,Pa:[]}},radialGradient:function(Oe,Ge,jt,Yt){this.ia={wb:Oe,xb:Ge,bb:jt,cb:Yt,Pa:[],$b:!0}},addStop:function(Oe,Ge){this.ia.Pa.push({color:Oe,stop:Ge})},completeGradient:function(){},draw:function(Oe,Ge,jt){let Yt=this.Eb;var Dt=this.Wa,Ft=this.ia;if(Oe.globalCompositeOperation=this.Bb,Ft!=null){Dt=Ft.wb;var tn=Ft.xb;const sr=Ft.bb;var an=Ft.cb;const _n=Ft.Pa;Ft.$b?(Ft=sr-Dt,an-=tn,Dt=Oe.createRadialGradient(Dt,tn,0,Dt,tn,Math.sqrt(Ft*Ft+an*an))):Dt=Oe.createLinearGradient(Dt,tn,sr,an);for(let xi=0,mn=_n.length;xi<mn;xi++)tn=_n[xi],Dt.addColorStop(tn.stop,d(tn.color));this.Wa=Dt,this.ia=null}switch(Yt){case Ke:Oe.strokeStyle=Dt,Oe.lineWidth=this.Fb,Oe.lineCap=this.Fa,Oe.lineJoin=this.Ga,Oe.stroke(Ge);break;case ke:Oe.fillStyle=Dt,Oe.fill(Ge,jt)}}});const un=new Set;let We=null,Ut=[],vn=0,ei=0;var _r=z.CanvasRenderer=W.extend("Renderer",{__construct:function(Oe){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=Oe.getContext("2d"),this.Ta=Oe,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const Oe=this.S.length-6;if(6>Oe)throw"restore() called without matching save().";this.S.splice(Oe),this.H.push(this.B.restore.bind(this.B))},transform:function(Oe,Ge,jt,Yt,Dt,Ft){const tn=this.S,an=tn.length-6;tn.splice(an,6,tn[an]*Oe+tn[an+2]*Ge,tn[an+1]*Oe+tn[an+3]*Ge,tn[an]*jt+tn[an+2]*Yt,tn[an+1]*jt+tn[an+3]*Yt,tn[an]*Dt+tn[an+2]*Ft+tn[an+4],tn[an+1]*Dt+tn[an+3]*Ft+tn[an+5]),this.H.push(this.B.transform.bind(this.B,Oe,Ge,jt,Yt,Dt,Ft))},rotate:function(Oe){const Ge=Math.sin(Oe);Oe=Math.cos(Oe),this.transform(Oe,Ge,-Ge,Oe,0,0)},_drawPath:function(Oe,Ge){this.H.push(Ge.draw.bind(Ge,this.B,Oe.T,Oe.Ua===it?"evenodd":"nonzero"))},_drawRiveImage:function(Oe,Ge,jt,Yt){var Dt=Oe.Cb;if(Dt){var Ft=this.B,tn=f(jt);this.H.push(function(){Ft.globalCompositeOperation=tn,Ft.globalAlpha=Yt,Ft.drawImage(Dt,0,0),Ft.globalAlpha=1})}},_getMatrix:function(Oe){const Ge=this.S,jt=Ge.length-6;for(let Yt=0;6>Yt;++Yt)Oe[Yt]=Ge[jt+Yt]},_drawImageMesh:function(Oe,Ge,jt,Yt,Dt,Ft,tn,an,sr,_n,xi){Ge=this.B.canvas.width;var mn=this.B.canvas.height;const es=_n-an,nl=xi-sr;an=Math.max(an,0),sr=Math.max(sr,0),_n=Math.min(_n,Ge),xi=Math.min(xi,mn);const Ca=_n-an,Ia=xi-sr;if(console.assert(Ca<=Math.min(es,Ge)),console.assert(Ia<=Math.min(nl,mn)),!(0>=Ca||0>=Ia)){_n=Ca<es||Ia<nl,Ge=xi=1;var fa=Math.ceil(Ca*xi),or=Math.ceil(Ia*Ge);mn=B.ac(),fa>mn&&(xi*=mn/fa,fa=mn),or>mn&&(Ge*=mn/or,or=mn),We||(We=new z.DynamicRectanizer(mn),We.reset(512,512)),mn=We.addRect(fa,or),0>mn&&(_(),un.add(this),mn=We.addRect(fa,or),console.assert(0<=mn));var iu=mn&65535,So=mn>>16;Ut.push({ga:this.S.slice(this.S.length-6),image:Oe,Ya:iu,Za:So,bc:an,cc:sr,tc:fa,ib:or,za:xi,Aa:Ge,Sa:new Float32Array(Dt),Ab:new Float32Array(Ft),indices:new Uint16Array(tn),fc:_n,ub:Oe.Ia<<1|(_n?1:0)}),vn+=Dt.length,ei+=tn.length;var Pr=this.B,Rf=f(jt);this.H.push(function(){Pr.save(),Pr.resetTransform(),Pr.globalCompositeOperation=Rf,Pr.globalAlpha=Yt;const Hi=B.canvas();Hi&&Pr.drawImage(Hi,iu,So,fa,or,an,sr,Ca,Ia),Pr.restore()})}},_clipPath:function(Oe){this.H.push(this.B.clip.bind(this.B,Oe.T,Oe.Ua===it?"evenodd":"nonzero"))},clear:function(){un.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(Oe,Ge){this.transform(1,0,0,1,Oe,Ge)}});z.makeRenderer=function(Oe){const Ge=new _r(Oe),jt=Ge.B;return new Proxy(Ge,{get(Yt,Dt){if(typeof Yt[Dt]=="function")return function(...Ft){return Yt[Dt].apply(Yt,Ft)};if(typeof jt[Dt]=="function"){if(-1<H.indexOf(Dt))throw Error("RiveException: Method call to '"+Dt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Ft){Ge.H.push(jt[Dt].bind(jt,...Ft))}}return Yt[Dt]},set(Yt,Dt,Ft){if(Dt in jt)return Ge.H.push(()=>{jt[Dt]=Ft}),!0}})},z.decodeImage=function(Oe,Ge){new je({ka:Ge}).decode(Oe)},z.renderFactory={makeRenderPaint:function(){return new Fe},makeRenderPath:function(){return new et},makeRenderImage:function(){let Oe=kr;return new je({va:()=>{Oe.total++},ka:()=>{if(Oe.loaded++,Oe.loaded===Oe.total){const Ge=Oe.ready;Ge&&(Ge(),Oe.ready=null)}}})}};let zt=z.load,kr=null;z.load=function(Oe,Ge,jt=!0){const Yt=new z.FallbackFileAssetLoader;return Ge!==void 0&&Yt.addLoader(Ge),jt&&(Ge=new z.CDNFileAssetLoader,Yt.addLoader(Ge)),new Promise(function(Dt){let Ft=null;kr={total:0,loaded:0,ready:function(){Dt(Ft)}},Ft=zt(Oe,Yt),kr.total==0&&Dt(Ft)})};let Za=z.RendererWrapper.prototype.align;z.RendererWrapper.prototype.align=function(Oe,Ge,jt,Yt,Dt=1){Za.call(this,Oe,Ge,jt,Yt,Dt)},S=new rt,z.requestAnimationFrame=S.requestAnimationFrame.bind(S),z.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),z.enableFPSCounter=S.Nb.bind(S),z.disableFPSCounter=S.Kb,S.nb=_,z.resolveAnimationFrame=_,z.cleanup=function(){We&&We.delete()}};var j=Object.assign({},z),C="./this.program",V="",I,Q;(Le||ze)&&(ze?V=self.location.href:typeof document<"u"&&document.currentScript&&(V=document.currentScript.src),P&&(V=P),V.startsWith("blob:")?V="":V=V.substr(0,V.replace(/[?#].*/,"").lastIndexOf("/")+1),ze&&(Q=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),I=(f,d,_)=>{if(ri(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(N=>N.ok?N.arrayBuffer():Promise.reject(Error(N.status+" : "+N.url))).then(d,_)});var ne=z.print||console.log.bind(console),F=z.printErr||console.error.bind(console);Object.assign(z,j),j=null,z.thisProgram&&(C=z.thisProgram);var J;z.wasmBinary&&(J=z.wasmBinary);var ye,fe=!1,xe,L,ae,Re,Te,Me,Qe,ht;function st(){var f=ye.buffer;z.HEAP8=xe=new Int8Array(f),z.HEAP16=ae=new Int16Array(f),z.HEAPU8=L=new Uint8Array(f),z.HEAPU16=Re=new Uint16Array(f),z.HEAP32=Te=new Int32Array(f),z.HEAPU32=Me=new Uint32Array(f),z.HEAPF32=Qe=new Float32Array(f),z.HEAPF64=ht=new Float64Array(f)}var lt=[],At=[],sn=[];function ft(){var f=z.preRun.shift();lt.unshift(f)}var St=0,Bt=null;function Lt(f){throw z.onAbort?.(f),f="Aborted("+f+")",F(f),fe=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Ee(f),f}var Nn=f=>f.startsWith("data:application/octet-stream;base64,"),ri=f=>f.startsWith("file://"),Jt;function nt(f){if(f==Jt&&J)return new Uint8Array(J);if(Q)return Q(f);throw"both async and sync fetching of the wasm failed"}function wt(f){return J?Promise.resolve().then(()=>nt(f)):new Promise((d,_)=>{I(f,S=>d(new Uint8Array(S)),()=>{try{d(nt(f))}catch(S){_(S)}})})}function gn(f,d,_){return wt(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{F(`failed to asynchronously prepare wasm: ${S}`),Lt(S)})}function Rr(f,d){var _=Jt;return J||typeof WebAssembly.instantiateStreaming!="function"||Nn(_)||ri(_)||typeof fetch!="function"?gn(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(N){return F(`wasm streaming compile failed: ${N}`),F("falling back to ArrayBuffer instantiation"),gn(_,f,d)}))}var In,Gt,yn={464256:(f,d,_,S,N)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=N;let U=window.h;U.D=[],U.rc=function(W){for(var Z=0;Z<U.D.length;++Z)if(U.D[Z]==null)return U.D[Z]=W,Z;return U.D.push(W),U.D.length-1},U.zb=function(W){for(U.D[W]=null;0<U.D.length&&U.D[U.D.length-1]==null;)U.D.pop()},U.Oc=function(W){for(var Z=0;Z<U.D.length;++Z)if(U.D[Z]==W)return U.zb(Z)},U.pa=function(W){return U.D[W]},U.Ra=["touchend","click"],U.unlock=function(){for(var W=0;W<U.D.length;++W){var Z=U.D[W];Z!=null&&Z.K!=null&&Z.state===U.fa.vb&&Z.K.resume().then(()=>{Ao(Z.ob)},ue=>{console.error("Failed to resume audiocontext",ue)})}U.Ra.map(function(ue){document.removeEventListener(ue,U.unlock,!0)})},U.Ra.map(function(W){document.addEventListener(W,U.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,N,U)=>{if(typeof window.h>"u")return-1;var W={},Z={};return f==window.h.I.wa&&_!=0&&(Z.sampleRate=_),W.K=new(window.AudioContext||window.webkitAudioContext)(Z),W.K.suspend(),W.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),W.Y=W.K.createScriptProcessor(S,_,d),W.Y.onaudioprocess=function(ue){if((W.qa==null||W.qa.length==0)&&(W.qa=new Float32Array(Qe.buffer,N,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var oe=0;oe<d;oe+=1)for(var ke=ue.inputBuffer.getChannelData(oe),Ke=W.qa,it=0;it<S;it+=1)Ke[it*d+oe]=ke[it];tu(U,S,N)}if(f==window.h.I.wa||f==window.h.I.Ja)for(nu(U,S,N),oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)for(ke=ue.outputBuffer.getChannelData(oe),Ke=W.qa,it=0;it<S;it+=1)ke[it]=Ke[it*d+oe];else for(oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)ue.outputBuffer.getChannelData(oe).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ue){W.Ba=W.K.createMediaStreamSource(ue),W.Ba.connect(W.Y),W.Y.connect(W.K.destination)}).catch(function(ue){console.log("Failed to get user media: "+ue)}),f==window.h.I.wa&&W.Y.connect(W.K.destination),W.ob=U,window.h.rc(W)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},R=f=>{for(;0<f.length;)f.shift()(z)};function g(){var f=Te[+he>>2];return he+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var N=f[S];N==="."?f.splice(S,1):N===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},D=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},$=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},pe=f=>{if(f==="/")return"/";f=D(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Ne=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);Lt("initRandomDevice")},Ze=f=>(Ze=Ne())(f),Ye=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(N=>!!N),!_).join("/"),(_?"/":"")+d||"."},qe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Je=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&qe)return qe.decode(f.subarray(d,_));for(S="";d<_;){var N=f[d++];if(N&128){var U=f[d++]&63;if((N&224)==192)S+=String.fromCharCode((N&31)<<6|U);else{var W=f[d++]&63;N=(N&240)==224?(N&15)<<12|U<<6|W:(N&7)<<18|U<<12|W<<6|f[d++]&63,65536>N?S+=String.fromCharCode(N):(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023))}}else S+=String.fromCharCode(N)}return S},Zt=[],Dn=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},fn=(f,d,_,S)=>{if(!(0<S))return 0;var N=_;S=_+S-1;for(var U=0;U<f.length;++U){var W=f.charCodeAt(U);if(55296<=W&&57343>=W){var Z=f.charCodeAt(++U);W=65536+((W&1023)<<10)|Z&1023}if(127>=W){if(_>=S)break;d[_++]=W}else{if(2047>=W){if(_+1>=S)break;d[_++]=192|W>>6}else{if(65535>=W){if(_+2>=S)break;d[_++]=224|W>>12}else{if(_+3>=S)break;d[_++]=240|W>>18,d[_++]=128|W>>12&63}d[_++]=128|W>>6&63}d[_++]=128|W&63}}return d[_]=0,_-N};function Bn(f,d){var _=Array(Dn(f)+1);return f=fn(f,_,0,_.length),d&&(_.length=f),_}var Kn=[];function Pt(f,d){Kn[f]={input:[],G:[],V:d},ji(f,Tn)}var Tn={open(f){var d=Kn[f.node.xa];if(!d)throw new Xe(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new Xe(60);for(var N=0,U=0;U<S;U++){try{var W=f.s.V.hb(f.s)}catch{throw new Xe(29)}if(W===void 0&&N===0)throw new Xe(6);if(W==null)break;N++,d[_+U]=W}return N&&(f.node.timestamp=Date.now()),N},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new Xe(60);try{for(var N=0;N<S;N++)f.s.V.Ma(f.s,d[_+N])}catch{throw new Xe(29)}return S&&(f.node.timestamp=Date.now()),N}},kn={hb(){e:{if(!Zt.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}Zt=Bn(f,!0)}f=Zt.shift()}return f},Ma(f,d){d===null||d===10?(ne(Je(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(ne(Je(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Wn={Ma(f,d){d===null||d===10?(F(Je(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(F(Je(f.G,0)),f.G=[])}};function Ki(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var gt={N:null,U(){return gt.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new Xe(63);return gt.N||(gt.N={dir:{node:{X:gt.j.X,P:gt.j.P,ja:gt.j.ja,ta:gt.j.ta,sb:gt.j.sb,yb:gt.j.yb,tb:gt.j.tb,rb:gt.j.rb,Ca:gt.j.Ca},stream:{aa:gt.m.aa}},file:{node:{X:gt.j.X,P:gt.j.P},stream:{aa:gt.m.aa,read:gt.m.read,write:gt.m.write,Xa:gt.m.Xa,kb:gt.m.kb,mb:gt.m.mb}},link:{node:{X:gt.j.X,P:gt.j.P,la:gt.j.la},stream:{}},$a:{node:{X:gt.j.X,P:gt.j.P},stream:yi}}),_=Ha(f,d,_,S),(_.mode&61440)===16384?(_.j=gt.N.dir.node,_.m=gt.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=gt.N.file.node,_.m=gt.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=gt.N.link.node,_.m=gt.N.link.stream):(_.mode&61440)===8192&&(_.j=gt.N.$a.node,_.m=gt.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw va[44]},ta(f,d,_,S){return gt.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=ur(d,_)}catch{}if(S)for(var N in S.l)throw new Xe(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=ur(f,d),S;for(S in _.l)throw new Xe(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=gt.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new Xe(28);return f.link}},m:{read(f,d,_,S,N){var U=f.node.l;if(N>=f.node.v)return 0;if(f=Math.min(f.node.v-N,S),8<f&&U.subarray)d.set(U.subarray(N,N+f),_);else for(S=0;S<f;S++)d[_+S]=U[N+S];return f},write(f,d,_,S,N,U){if(d.buffer===xe.buffer&&(U=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(U)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&N===0)return f.l=d.slice(_,_+S),f.v=S;if(N+S<=f.v)return f.l.set(d.subarray(_,_+S),N),S}if(Ki(f,N+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),N);else for(U=0;U<S;U++)f.l[N+U]=d[_+U];return f.v=Math.max(f.v,N+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Xe(28);return d},Xa(f,d,_){Ki(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,N){if((f.node.mode&61440)!==32768)throw new Xe(43);if(f=f.node.l,N&2||f.buffer!==xe.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,Lt(),d=void 0,!d)throw new Xe(48);xe.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return gt.m.write(f,d,0,S,_,!1),0}}},Fn=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},It=null,Wi={},$i=[],Fa=1,Cr=null,Hr=!0,Xe=class{constructor(f){this.name="ErrnoError",this.$=f}},va={},Ji=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},Ei=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=Fa++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function dn(f,d={}){if(f=Ye(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Xe(32);f=f.split("/").filter(W=>!!W);for(var _=It,S="/",N=0;N<f.length;N++){var U=N===f.length-1;if(U&&d.parent)break;if(_=ur(_,f[N]),S=D(S+"/"+f[N]),_.ua&&(!U||U&&d.gb)&&(_=_.ua.root),!U||d.fb){for(U=0;(_.mode&61440)===40960;)if(_=qa(S),S=Ye($(S),_),_=dn(S,{Oa:d.Oa+1}).node,40<U++)throw new Xe(32)}}return{path:S,node:_}}function Gn(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function Zi(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%Cr.length}function ur(f,d){var _=(f.mode&61440)===16384?(_=aa(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new Xe(_);for(_=Cr[Zi(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function Ha(f,d,_,S){return f=new Ei(f,d,_,S),d=Zi(f.parent.id,f.name),f.ec=Cr[d],Cr[d]=f}function _a(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function aa(f,d){if(Hr)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function er(f,d){try{return ur(f,d),20}catch{}return aa(f,"wx")}function Ti(f){if(f=$i[f],!f)throw new Xe(8);return f}function Li(f,d=-1){if(f=Object.assign(new Ji,f),d==-1)e:{for(d=0;4096>=d;d++)if(!$i[d])break e;throw new Xe(33)}return f.W=d,$i[d]=f}function Ui(f,d=-1){return f=Li(f,d),f.m?.Ec?.(f),f}var yi={open(f){f.m=Wi[f.node.xa].m,f.m.open?.(f)},aa(){throw new Xe(70)}};function ji(f,d){Wi[f]={m:d}}function Pn(f,d){var _=d==="/";if(_&&It)throw new Xe(10);if(!_&&d){var S=dn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Xe(10);if((S.mode&61440)!==16384)throw new Xe(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?It=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function Ai(f,d,_){var S=dn(f,{parent:!0}).node;if(f=pe(f),!f||f==="."||f==="..")throw new Xe(28);var N=er(S,f);if(N)throw new Xe(N);if(!S.j.ta)throw new Xe(63);return S.j.ta(S,f,d,_)}function Si(f){return Ai(f,16895,0)}function Ri(f,d,_){typeof _>"u"&&(_=d,d=438),Ai(f,d|8192,_)}function zi(f,d){if(!Ye(f))throw new Xe(44);var _=dn(d,{parent:!0}).node;if(!_)throw new Xe(44);d=pe(d);var S=er(_,d);if(S)throw new Xe(S);if(!_.j.Ca)throw new Xe(63);_.j.Ca(_,d,f)}function qa(f){if(f=dn(f).node,!f)throw new Xe(44);if(!f.j.la)throw new Xe(28);return Ye(Gn(f.parent),f.j.la(f))}function fi(f,d,_){if(f==="")throw new Xe(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var N=f;else{f=D(f);try{N=dn(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(N){if(d&128)throw new Xe(20)}else N=Ai(f,_,0),S=!0;if(!N)throw new Xe(44);if((N.mode&61440)===8192&&(d&=-513),d&65536&&(N.mode&61440)!==16384)throw new Xe(54);if(!S&&(_=N?(N.mode&61440)===40960?32:(N.mode&61440)===16384&&(_a(d)!=="r"||d&512)?31:aa(N,_a(d)):44))throw new Xe(_);if(d&512&&!S){if(_=N,_=typeof _=="string"?dn(_,{fb:!0}).node:_,!_.j.P)throw new Xe(63);if((_.mode&61440)===16384)throw new Xe(31);if((_.mode&61440)!==32768)throw new Xe(28);if(S=aa(_,"w"))throw new Xe(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,N=Li({node:N,path:Gn(N),flags:d,seekable:!0,position:0,m:N.m,sc:[],error:!1}),N.m.open&&N.m.open(N),!z.logReadFiles||d&1||(K||={},f in K||(K[f]=1)),N}function sa(f,d,_){if(f.W===null)throw new Xe(8);if(!f.seekable||!f.m.aa)throw new Xe(70);if(_!=0&&_!=1&&_!=2)throw new Xe(28);f.position=f.m.aa(f,d,_),f.sc=[]}var ba;function cr(f,d,_){f=D("/dev/"+f);var S=Fn(!!d,!!_);vi||=64;var N=vi++<<8|0;ji(N,{open(U){U.seekable=!1},close(){_?.buffer?.length&&_(10)},read(U,W,Z,ue){for(var oe=0,ke=0;ke<ue;ke++){try{var Ke=d()}catch{throw new Xe(29)}if(Ke===void 0&&oe===0)throw new Xe(6);if(Ke==null)break;oe++,W[Z+ke]=Ke}return oe&&(U.node.timestamp=Date.now()),oe},write(U,W,Z,ue){for(var oe=0;oe<ue;oe++)try{_(W[Z+oe])}catch{throw new Xe(29)}return ue&&(U.node.timestamp=Date.now()),oe}}),Ri(f,S,N)}var vi,on={},K,he=void 0,ve=(f,d)=>Object.defineProperty(d,"name",{value:f}),de=[],Ce=[],be,He=f=>{if(!f)throw new be("Cannot use deleted val. handle = "+f);return Ce[f]},De=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=de.pop()||Ce.length;return Ce[d]=f,Ce[d+1]=1,d}},dt=f=>{var d=Error,_=ve(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},Be,mt,_t=f=>{for(var d="";L[f];)d+=mt[L[f++]];return d},Hn=[],ln=()=>{for(;Hn.length;){var f=Hn.pop();f.g.ea=!1,f.delete()}},xn,An={},Ir=(f,d)=>{if(d===void 0)throw new be("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},xr={},Ga=f=>{f=gc(f);var d=_t(f);return ar(f),d},wa=(f,d)=>{var _=xr[f];if(_===void 0)throw f=`${d} has unknown type ${Ga(f)}`,new be(f);return _},Mr=()=>{},Ea=!1,hr=(f,d,_)=>d===_?f:_.C===void 0?null:(f=hr(f,d,_.C),f===null?null:_.Lb(f)),Cs={},fr=(f,d)=>(d=Ir(f,d),An[d]),dr,tr=(f,d)=>{if(!d.u||!d.o)throw new dr("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new dr("Both smartPtrType and smartPtr must be specified");return d.count={value:1},mr(Object.create(f,{g:{value:d,writable:!0}}))},mr=f=>typeof FinalizationRegistry>"u"?(mr=d=>d,f):(Ea=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),mr=d=>{var _=d.g;return _.F&&Ea.register(d,{g:_},d),d},Mr=d=>{Ea.unregister(d)},mr(f)),oa={},pr=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function Ci(f){return this.fromWireType(Me[f>>2])}var di={},qr={},Ot=(f,d,_)=>{function S(Z){if(Z=_(Z),Z.length!==f.length)throw new dr("Mismatched type converter count");for(var ue=0;ue<f.length;++ue)Bi(f[ue],Z[ue])}f.forEach(function(Z){qr[Z]=d});var N=Array(d.length),U=[],W=0;d.forEach((Z,ue)=>{xr.hasOwnProperty(Z)?N[ue]=xr[Z]:(U.push(Z),di.hasOwnProperty(Z)||(di[Z]=[]),di[Z].push(()=>{N[ue]=xr[Z],++W,W===U.length&&S(N)}))}),U.length===0&&S(N)};function Gr(f,d,_={}){var S=d.name;if(!f)throw new be(`type "${S}" must have a positive integer typeid pointer`);if(xr.hasOwnProperty(f)){if(_.Vb)return;throw new be(`Cannot register type '${S}' twice`)}xr[f]=d,delete qr[f],di.hasOwnProperty(f)&&(d=di[f],delete di[f],d.forEach(N=>N()))}function Bi(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Gr(f,d,_)}var la=f=>{throw new be(f.g.u.i.name+" instance already deleted")};function Ta(){}var ua=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...N){if(!f[d].A.hasOwnProperty(N.length))throw new be(`Function '${_}' called with an invalid number of arguments (${N.length}) - expects one of (${f[d].A})!`);return f[d].A[N.length].apply(this,N)},f[d].A=[],f[d].A[S.da]=S}},Nr=(f,d,_)=>{if(z.hasOwnProperty(f)){if(_===void 0||z[f].A!==void 0&&z[f].A[_]!==void 0)throw new be(`Cannot register public name '${f}' twice`);if(ua(z,f,f),z.hasOwnProperty(_))throw new be(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);z[f].A[_]=d}else z[f]=d,_!==void 0&&(z[f].Lc=_)},Dr=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function mi(f,d,_,S,N,U,W,Z){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=N,this.Qb=U,this.ma=W,this.Lb=Z,this.pb=[]}var gr=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new be(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function Yr(f,d){if(d===null){if(this.La)throw new be(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new be(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new be(`Cannot pass deleted object as a pointer of type ${this.name}`);return gr(d.g.o,d.g.u.i,this.i)}function Aa(f,d){if(d===null){if(this.La)throw new be(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new be(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new be(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new be(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=gr(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new be("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new be(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,De(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new be("Unsupporting sharing policy")}}return _}function Eo(f,d){if(d===null){if(this.La)throw new be(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new be(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new be(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new be(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return gr(d.g.o,d.g.u.i,this.i)}function Or(f,d,_,S,N,U,W,Z,ue,oe,ke){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=N,this.hc=U,this.mc=W,this.qb=Z,this.Na=ue,this.ic=oe,this.O=ke,N||d.C!==void 0?this.toWireType=Aa:(this.toWireType=S?Yr:Eo,this.L=null)}var Ya=(f,d,_)=>{if(!z.hasOwnProperty(f))throw new dr("Replacing nonexistent public symbol");z[f].A!==void 0&&_!==void 0?z[f].A[_]=d:(z[f]=d,z[f].da=_)},nr=[],Xa,Is=f=>{var d=nr[f];return d||(f>=nr.length&&(nr.length=f+1),nr[f]=d=Xa.get(f)),d},Qa=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,z["dynCall_"+f])(d,..._)):d=Is(d)(..._),d),Ko=(f,d)=>(..._)=>Qa(f,d,_),Zn=(f,d)=>{f=_t(f);var _=f.includes("j")?Ko(f,d):Is(d);if(typeof _!="function")throw new be(`unknown function pointer with signature ${f}: ${d}`);return _},Sa,ir=(f,d)=>{function _(U){N[U]||xr[U]||(qr[U]?qr[U].forEach(_):(S.push(U),N[U]=!0))}var S=[],N={};throw d.forEach(_),new Sa(`${f}: `+S.map(Ga).join([", "]))};function Wo(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function ca(f,d,_,S,N){var U=d.length;if(2>U)throw new be("argTypes array size mismatch! Must at least get return value and 'this' types!");var W=d[1]!==null&&_!==null,Z=Wo(d),ue=d[0].name!=="void",oe=U-2,ke=Array(oe),Ke=[],it=[];return ve(f,function(...ee){if(ee.length!==oe)throw new be(`function ${f} called with ${ee.length} arguments, expected ${oe}`);if(it.length=0,Ke.length=W?2:1,Ke[0]=N,W){var je=d[1].toWireType(it,this);Ke[1]=je}for(var et=0;et<oe;++et)ke[et]=d[et+2].toWireType(it,ee[et]),Ke.push(ke[et]);if(ee=S(...Ke),Z)pr(it);else for(et=W?1:2;et<d.length;et++){var Fe=et===1?je:ke[et-2];d[et].L!==null&&d[et].L(Fe)}return je=ue?d[0].fromWireType(ee):void 0,je})}var Ka=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(Me[d+4*S>>2]);return _},xs=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Vr=(f,d,_)=>{if(!(f instanceof Object))throw new be(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new be(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new be(`cannot call emscripten binding method ${_} on deleted object`);return gr(f.g.o,f.g.u.i,d.i)},Ms=f=>{9<f&&--Ce[f+1]===0&&(Ce[f]=void 0,de.push(f))},$o={name:"emscripten::val",fromWireType:f=>{var d=He(f);return Ms(f),d},toWireType:(f,d)=>De(d),argPackAdvance:8,readValueFromPointer:Ci,L:null},Jo=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(xe[S])}:function(S){return this.fromWireType(L[S])};case 2:return _?function(S){return this.fromWireType(ae[S>>1])}:function(S){return this.fromWireType(Re[S>>1])};case 4:return _?function(S){return this.fromWireType(Te[S>>2])}:function(S){return this.fromWireType(Me[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ns=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Ra=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(Qe[_>>2])};case 8:return function(_){return this.fromWireType(ht[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Ii=(f,d,_)=>{switch(d){case 1:return _?S=>xe[S]:S=>L[S];case 2:return _?S=>ae[S>>1]:S=>Re[S>>1];case 4:return _?S=>Te[S>>2]:S=>Me[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},To=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Zo=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&Re[_];)++_;if(_<<=1,32<_-f&&To)return To.decode(L.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var N=ae[f+2*S>>1];if(N==0)break;_+=String.fromCharCode(N)}return _},ha=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var N=0;N<_;++N)ae[d>>1]=f.charCodeAt(N),d+=2;return ae[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var N=Te[f+4*_>>2];if(N==0)break;++_,65536<=N?(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023)):S+=String.fromCharCode(N)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var N=0;N<f.length;++N){var U=f.charCodeAt(N);if(55296<=U&&57343>=U){var W=f.charCodeAt(++N);U=65536+((U&1023)<<10)|W&1023}if(Te[d>>2]=U,d+=4,d+4>_)break}return Te[d>>2]=0,d-S},O=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},ie=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(Me[d>>2]=De(S)),f},me={},Ue=f=>{var d=me[f];return d===void 0?_t(f):d},Ct=[],Yn=f=>{var d=Ct.length;return Ct.push(f),d},rn=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=wa(Me[d+4*S>>2],"parameter "+S);return _},On=Reflect.construct,Fi=[],yr={},vr=()=>{if(!rr){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:C||"./this.program"},d;for(d in yr)yr[d]===void 0?delete f[d]:f[d]=yr[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);rr=_}return rr},rr,Xr=f=>f%4===0&&(f%100!==0||f%400===0),Wa=[31,29,31,30,31,30,31,31,30,31,30,31],$a=[31,28,31,30,31,30,31,31,30,31,30,31],Sf=(f,d,_,S)=>{function N(ee,je,et){for(ee=typeof ee=="number"?ee.toString():ee||"";ee.length<je;)ee=et[0]+ee;return ee}function U(ee,je){return N(ee,je,"0")}function W(ee,je){function et(un){return 0>un?-1:0<un?1:0}var Fe;return(Fe=et(ee.getFullYear()-je.getFullYear()))===0&&(Fe=et(ee.getMonth()-je.getMonth()))===0&&(Fe=et(ee.getDate()-je.getDate())),Fe}function Z(ee){switch(ee.getDay()){case 0:return new Date(ee.getFullYear()-1,11,29);case 1:return ee;case 2:return new Date(ee.getFullYear(),0,3);case 3:return new Date(ee.getFullYear(),0,2);case 4:return new Date(ee.getFullYear(),0,1);case 5:return new Date(ee.getFullYear()-1,11,31);case 6:return new Date(ee.getFullYear()-1,11,30)}}function ue(ee){var je=ee.ba;for(ee=new Date(new Date(ee.ca+1900,0,1).getTime());0<je;){var et=ee.getMonth(),Fe=(Xr(ee.getFullYear())?Wa:$a)[et];if(je>Fe-ee.getDate())je-=Fe-ee.getDate()+1,ee.setDate(1),11>et?ee.setMonth(et+1):(ee.setMonth(0),ee.setFullYear(ee.getFullYear()+1));else{ee.setDate(ee.getDate()+je);break}}return et=new Date(ee.getFullYear()+1,0,4),je=Z(new Date(ee.getFullYear(),0,4)),et=Z(et),0>=W(je,ee)?0>=W(et,ee)?ee.getFullYear()+1:ee.getFullYear():ee.getFullYear()-1}var oe=Me[S+40>>2];S={pc:Te[S>>2],oc:Te[S+4>>2],Da:Te[S+8>>2],Qa:Te[S+12>>2],Ea:Te[S+16>>2],ca:Te[S+20>>2],R:Te[S+24>>2],ba:Te[S+28>>2],Nc:Te[S+32>>2],nc:Te[S+36>>2],qc:oe&&oe?Je(L,oe):""},_=_?Je(L,_):"",oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ke in oe)_=_.replace(new RegExp(ke,"g"),oe[ke]);var Ke="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),it="January February March April May June July August September October November December".split(" ");oe={"%a":ee=>Ke[ee.R].substring(0,3),"%A":ee=>Ke[ee.R],"%b":ee=>it[ee.Ea].substring(0,3),"%B":ee=>it[ee.Ea],"%C":ee=>U((ee.ca+1900)/100|0,2),"%d":ee=>U(ee.Qa,2),"%e":ee=>N(ee.Qa,2," "),"%g":ee=>ue(ee).toString().substring(2),"%G":ue,"%H":ee=>U(ee.Da,2),"%I":ee=>(ee=ee.Da,ee==0?ee=12:12<ee&&(ee-=12),U(ee,2)),"%j":ee=>{for(var je=0,et=0;et<=ee.Ea-1;je+=(Xr(ee.ca+1900)?Wa:$a)[et++]);return U(ee.Qa+je,3)},"%m":ee=>U(ee.Ea+1,2),"%M":ee=>U(ee.oc,2),"%n":()=>`
`,"%p":ee=>0<=ee.Da&&12>ee.Da?"AM":"PM","%S":ee=>U(ee.pc,2),"%t":()=>"	","%u":ee=>ee.R||7,"%U":ee=>U(Math.floor((ee.ba+7-ee.R)/7),2),"%V":ee=>{var je=Math.floor((ee.ba+7-(ee.R+6)%7)/7);if(2>=(ee.R+371-ee.ba-2)%7&&je++,je)je==53&&(et=(ee.R+371-ee.ba)%7,et==4||et==3&&Xr(ee.ca)||(je=1));else{je=52;var et=(ee.R+7-ee.ba-1)%7;(et==4||et==5&&Xr(ee.ca%400-1))&&je++}return U(je,2)},"%w":ee=>ee.R,"%W":ee=>U(Math.floor((ee.ba+7-(ee.R+6)%7)/7),2),"%y":ee=>(ee.ca+1900).toString().substring(2),"%Y":ee=>ee.ca+1900,"%z":ee=>{ee=ee.nc;var je=0<=ee;return ee=Math.abs(ee)/60,(je?"+":"-")+("0000"+(ee/60*100+ee%60)).slice(-4)},"%Z":ee=>ee.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(ke in oe)_.includes(ke)&&(_=_.replace(new RegExp(ke,"g"),oe[ke](S)));return _=_.replace(/\0\0/g,"%"),ke=Bn(_,!1),ke.length>d?0:(xe.set(ke,f),ke.length-1)};[44].forEach(f=>{va[f]=new Xe(f),va[f].stack="<generic error, no stack>"}),Cr=Array(4096),Pn(gt,"/"),Si("/tmp"),Si("/home"),Si("/home/web_user"),(function(){Si("/dev"),ji(259,{read:()=>0,write:(S,N,U,W)=>W}),Ri("/dev/null",259),Pt(1280,kn),Pt(1536,Wn),Ri("/dev/tty",1280),Ri("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=Ze(f).byteLength),f[--d]);cr("random",_),cr("urandom",_),Si("/dev/shm"),Si("/dev/shm/tmp")})(),(function(){Si("/proc");var f=Si("/proc/self");Si("/proc/self/fd"),Pn({U(){var d=Ha(f,"fd",16895,73);return d.j={ja(_,S){var N=Ti(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>N.path}},_.parent=_}},d}},"/proc/self/fd")})(),be=z.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},Ce.push(0,1,void 0,1,null,1,!0,1,!1,1),z.count_emval_handles=()=>Ce.length/2-5-de.length,Be=z.PureVirtualError=dt("PureVirtualError");for(var pc=Array(256),el=0;256>el;++el)pc[el]=String.fromCharCode(el);mt=pc,z.getInheritedInstanceCount=()=>Object.keys(An).length,z.getLiveInheritedInstances=()=>{var f=[],d;for(d in An)An.hasOwnProperty(d)&&f.push(An[d]);return f},z.flushPendingDeletes=ln,z.setDelayFunction=f=>{xn=f,Hn.length&&xn&&xn(ln)},dr=z.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(Ta.prototype,{isAliasOf:function(f){if(!(this instanceof Ta&&f instanceof Ta))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||la(this),this.g.ha)return this.g.count.value+=1,this;var f=mr,d=Object,_=d.create,S=Object.getPrototypeOf(this),N=this.g;return f=f(_.call(d,S,{g:{value:{count:N.count,ea:N.ea,ha:N.ha,o:N.o,u:N.u,F:N.F,J:N.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||la(this),this.g.ea&&!this.g.ha)throw new be("Object already scheduled for deletion");Mr(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||la(this),this.g.ea&&!this.g.ha)throw new be("Object already scheduled for deletion");return Hn.push(this),Hn.length===1&&xn&&xn(ln),this.g.ea=!0,this}}),Object.assign(Or.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:Ci,fromWireType:function(f){function d(){return this.sa?tr(this.i.M,{u:this.hc,o:_,J:this,F:f}):tr(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=fr(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=Cs[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var N=hr(_,this.i,S.i);return N===null?d.call(this):this.sa?tr(S.i.M,{u:S,o:N,J:this,F:f}):tr(S.i.M,{u:S,o:N})}}),Sa=z.UnboundTypeError=dt("UnboundTypeError");var eu={__syscall_fcntl64:function(f,d,_){he=_;try{var S=Ti(f);switch(d){case 0:var N=g();if(0>N)break;for(;$i[N];)N++;return Ui(S,N).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return N=g(),S.flags|=N,0;case 12:return N=g(),ae[N+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(U){if(typeof on>"u"||U.name!=="ErrnoError")throw U;return-U.$}},__syscall_ioctl:function(f,d,_){he=_;try{var S=Ti(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var N=g();Te[N>>2]=25856,Te[N+4>>2]=5,Te[N+8>>2]=191,Te[N+12>>2]=35387;for(var U=0;32>U;U++)xe[N+U+17]=f[U]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(N=g(),f=[],U=0;32>U;U++)f.push(xe[N+U+17]);return 0;case 21519:return S.s?(N=g(),Te[N>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(N=g(),!S.m.Wb)throw new Xe(59);return S.m.Wb(S,d,N);case 21523:return S.s?(S.s.V.Zb&&(U=[24,80],N=g(),ae[N>>1]=U[0],ae[N+2>>1]=U[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(W){if(typeof on>"u"||W.name!=="ErrnoError")throw W;return-W.$}},__syscall_openat:function(f,d,_,S){he=S;try{d=d?Je(L,d):"";var N=d;if(N.charAt(0)==="/")d=N;else{var U=f===-100?"/":Ti(f).path;if(N.length==0)throw new Xe(44);d=D(U+"/"+N)}var W=S?g():0;return fi(d,_,W).W}catch(Z){if(typeof on>"u"||Z.name!=="ErrnoError")throw Z;return-Z.$}},_abort_js:()=>{Lt("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=_t(f),d=wa(d,"wrapper"),_=He(_);var S=d.i,N=S.M,U=S.C.M,W=S.C.constructor;return f=ve(f,function(...Z){S.C.pb.forEach((function(ue){if(this[ue]===U[ue])throw new Be(`Pure virtual function ${ue} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:N}),this.__construct(...Z)}),N.__construct=function(...Z){if(this===N)throw new be("Pass correct 'this' to __construct");Z=W.implement(this,...Z),Mr(Z);var ue=Z.g;if(Z.notifyOnDestruction(),ue.ha=!0,Object.defineProperties(this,{g:{value:ue}}),mr(this),Z=ue.o,Z=Ir(S,Z),An.hasOwnProperty(Z))throw new be(`Tried to register registered instance: ${Z}`);An[Z]=this},N.__destruct=function(){if(this===N)throw new be("Pass correct 'this' to __destruct");Mr(this);var Z=this.g.o;if(Z=Ir(S,Z),An.hasOwnProperty(Z))delete An[Z];else throw new be(`Tried to unregister unregistered instance: ${Z}`)},f.prototype=Object.create(N),Object.assign(f.prototype,_),De(f)},_embind_finalize_value_object:f=>{var d=oa[f];delete oa[f];var _=d.Na,S=d.O,N=d.eb,U=N.map(W=>W.Ub).concat(N.map(W=>W.kc));Ot([f],U,W=>{var Z={};return N.forEach((ue,oe)=>{var ke=W[oe],Ke=ue.Sb,it=ue.Tb,ee=W[oe+N.length],je=ue.jc,et=ue.lc;Z[ue.Ob]={read:Fe=>ke.fromWireType(Ke(it,Fe)),write:(Fe,un)=>{var We=[];je(et,Fe,ee.toWireType(We,un)),pr(We)}}}),[{name:d.name,fromWireType:ue=>{var oe={},ke;for(ke in Z)oe[ke]=Z[ke].read(ue);return S(ue),oe},toWireType:(ue,oe)=>{for(var ke in Z)if(!(ke in oe))throw new TypeError(`Missing field: "${ke}"`);var Ke=_();for(ke in Z)Z[ke].write(Ke,oe[ke]);return ue!==null&&ue.push(S,Ke),Ke},argPackAdvance:8,readValueFromPointer:Ci,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=_t(d),Bi(f,{name:d,fromWireType:function(N){return!!N},toWireType:function(N,U){return U?_:S},argPackAdvance:8,readValueFromPointer:function(N){return this.fromWireType(L[N])},L:null})},_embind_register_class:(f,d,_,S,N,U,W,Z,ue,oe,ke,Ke,it)=>{ke=_t(ke),U=Zn(N,U),Z&&=Zn(W,Z),oe&&=Zn(ue,oe),it=Zn(Ke,it);var ee=Dr(ke);Nr(ee,function(){ir(`Cannot construct ${ke} due to unbound types`,[S])}),Ot([f,d,_],S?[S]:[],je=>{if(je=je[0],S)var et=je.i,Fe=et.M;else Fe=Ta.prototype;je=ve(ke,function(...vn){if(Object.getPrototypeOf(this)!==un)throw new be("Use 'new' to construct "+ke);if(We.Z===void 0)throw new be(ke+" has no accessible constructor");var ei=We.Z[vn.length];if(ei===void 0)throw new be(`Tried to invoke ctor of ${ke} with invalid number of parameters (${vn.length}) - expected (${Object.keys(We.Z).toString()}) parameters instead!`);return ei.apply(this,vn)});var un=Object.create(Fe,{constructor:{value:je}});je.prototype=un;var We=new mi(ke,je,un,it,et,U,Z,oe);if(We.C){var Ut;(Ut=We.C).na??(Ut.na=[]),We.C.na.push(We)}return et=new Or(ke,We,!0,!1,!1),Ut=new Or(ke+"*",We,!1,!1,!1),Fe=new Or(ke+" const*",We,!1,!0,!1),Cs[f]={pointerType:Ut,Hb:Fe},Ya(ee,je),[et,Ut,Fe]})},_embind_register_class_class_function:(f,d,_,S,N,U,W)=>{var Z=Ka(_,S);d=_t(d),d=xs(d),U=Zn(N,U),Ot([],[f],ue=>{function oe(){ir(`Cannot call ${ke} due to unbound types`,Z)}ue=ue[0];var ke=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Ke=ue.i.constructor;return Ke[d]===void 0?(oe.da=_-1,Ke[d]=oe):(ua(Ke,d,ke),Ke[d].A[_-1]=oe),Ot([],Z,it=>{if(it=ca(ke,[it[0],null].concat(it.slice(1)),null,U,W),Ke[d].A===void 0?(it.da=_-1,Ke[d]=it):Ke[d].A[_-1]=it,ue.i.na)for(const ee of ue.i.na)ee.constructor.hasOwnProperty(d)||(ee.constructor[d]=it);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,N,U,W,Z)=>{d=_t(d),U=Zn(N,U),Ot([],[f],ue=>{ue=ue[0];var oe=`${ue.name}.${d}`,ke={get(){ir(`Cannot access ${oe} due to unbound types`,[_])},enumerable:!0,configurable:!0};return ke.set=Z?()=>{ir(`Cannot access ${oe} due to unbound types`,[_])}:()=>{throw new be(`${oe} is a read-only property`)},Object.defineProperty(ue.i.constructor,d,ke),Ot([],[_],Ke=>{Ke=Ke[0];var it={get(){return Ke.fromWireType(U(S))},enumerable:!0};return Z&&(Z=Zn(W,Z),it.set=ee=>{var je=[];Z(S,Ke.toWireType(je,ee)),pr(je)}),Object.defineProperty(ue.i.constructor,d,it),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,N,U)=>{var W=Ka(d,_);N=Zn(S,N),Ot([],[f],Z=>{Z=Z[0];var ue=`constructor ${Z.name}`;if(Z.i.Z===void 0&&(Z.i.Z=[]),Z.i.Z[d-1]!==void 0)throw new be(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${Z.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return Z.i.Z[d-1]=()=>{ir(`Cannot construct ${Z.name} due to unbound types`,W)},Ot([],W,oe=>(oe.splice(1,0,null),Z.i.Z[d-1]=ca(ue,oe,null,N,U),[])),[]})},_embind_register_class_function:(f,d,_,S,N,U,W,Z)=>{var ue=Ka(_,S);d=_t(d),d=xs(d),U=Zn(N,U),Ot([],[f],oe=>{function ke(){ir(`Cannot call ${Ke} due to unbound types`,ue)}oe=oe[0];var Ke=`${oe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),Z&&oe.i.pb.push(d);var it=oe.i.M,ee=it[d];return ee===void 0||ee.A===void 0&&ee.className!==oe.name&&ee.da===_-2?(ke.da=_-2,ke.className=oe.name,it[d]=ke):(ua(it,d,Ke),it[d].A[_-2]=ke),Ot([],ue,je=>(je=ca(Ke,je,oe,U,W),it[d].A===void 0?(je.da=_-2,it[d]=je):it[d].A[_-2]=je,[])),[]})},_embind_register_class_property:(f,d,_,S,N,U,W,Z,ue,oe)=>{d=_t(d),N=Zn(S,N),Ot([],[f],ke=>{ke=ke[0];var Ke=`${ke.name}.${d}`,it={get(){ir(`Cannot access ${Ke} due to unbound types`,[_,W])},enumerable:!0,configurable:!0};return it.set=ue?()=>ir(`Cannot access ${Ke} due to unbound types`,[_,W]):()=>{throw new be(Ke+" is a read-only property")},Object.defineProperty(ke.i.M,d,it),Ot([],ue?[_,W]:[_],ee=>{var je=ee[0],et={get(){var un=Vr(this,ke,Ke+" getter");return je.fromWireType(N(U,un))},enumerable:!0};if(ue){ue=Zn(Z,ue);var Fe=ee[1];et.set=function(un){var We=Vr(this,ke,Ke+" setter"),Ut=[];ue(oe,We,Fe.toWireType(Ut,un)),pr(Ut)}}return Object.defineProperty(ke.i.M,d,et),[]}),[]})},_embind_register_emval:f=>Bi(f,$o),_embind_register_enum:(f,d,_,S)=>{function N(){}d=_t(d),N.values={},Bi(f,{name:d,constructor:N,fromWireType:function(U){return this.constructor.values[U]},toWireType:(U,W)=>W.value,argPackAdvance:8,readValueFromPointer:Jo(d,_,S),L:null}),Nr(d,N)},_embind_register_enum_value:(f,d,_)=>{var S=wa(f,"enum");d=_t(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:ve(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=_t(d),Bi(f,{name:d,fromWireType:S=>S,toWireType:(S,N)=>N,argPackAdvance:8,readValueFromPointer:Ra(d,_),L:null})},_embind_register_function:(f,d,_,S,N,U)=>{var W=Ka(d,_);f=_t(f),f=xs(f),N=Zn(S,N),Nr(f,function(){ir(`Cannot call ${f} due to unbound types`,W)},d-1),Ot([],W,Z=>(Ya(f,ca(f,[Z[0],null].concat(Z.slice(1)),null,N,U),d-1),[]))},_embind_register_integer:(f,d,_,S,N)=>{if(d=_t(d),N===-1&&(N=4294967295),N=Z=>Z,S===0){var U=32-8*_;N=Z=>Z<<U>>>U}var W=d.includes("unsigned")?function(Z,ue){return ue>>>0}:function(Z,ue){return ue};Bi(f,{name:d,fromWireType:N,toWireType:W,argPackAdvance:8,readValueFromPointer:Ii(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(U){return new N(xe.buffer,Me[U+4>>2],Me[U>>2])}var N=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=_t(_),Bi(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=_t(d);var _=d==="std::string";Bi(f,{name:d,fromWireType:function(S){var N=Me[S>>2],U=S+4;if(_)for(var W=U,Z=0;Z<=N;++Z){var ue=U+Z;if(Z==N||L[ue]==0){if(W=W?Je(L,W,ue-W):"",oe===void 0)var oe=W;else oe+="\0",oe+=W;W=ue+1}}else{for(oe=Array(N),Z=0;Z<N;++Z)oe[Z]=String.fromCharCode(L[U+Z]);oe=oe.join("")}return ar(S),oe},toWireType:function(S,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var U=typeof N=="string";if(!(U||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array))throw new be("Cannot pass non-string to std::string");var W=_&&U?Dn(N):N.length,Z=Ja(4+W+1),ue=Z+4;if(Me[Z>>2]=W,_&&U)fn(N,L,ue,W+1);else if(U)for(U=0;U<W;++U){var oe=N.charCodeAt(U);if(255<oe)throw ar(ue),new be("String has UTF-16 code units that do not fit in 8 bits");L[ue+U]=oe}else for(U=0;U<W;++U)L[ue+U]=N[U];return S!==null&&S.push(ar,Z),Z},argPackAdvance:8,readValueFromPointer:Ci,L(S){ar(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=_t(_),d===2)var S=Zo,N=ha,U=u,W=Z=>Re[Z>>1];else d===4&&(S=y,N=A,U=O,W=Z=>Me[Z>>2]);Bi(f,{name:_,fromWireType:Z=>{for(var ue=Me[Z>>2],oe,ke=Z+4,Ke=0;Ke<=ue;++Ke){var it=Z+4+Ke*d;(Ke==ue||W(it)==0)&&(ke=S(ke,it-ke),oe===void 0?oe=ke:(oe+="\0",oe+=ke),ke=it+d)}return ar(Z),oe},toWireType:(Z,ue)=>{if(typeof ue!="string")throw new be(`Cannot pass non-string to C++ string type ${_}`);var oe=U(ue),ke=Ja(4+oe+d);return Me[ke>>2]=oe/d,N(ue,ke+4,oe+d),Z!==null&&Z.push(ar,ke),ke},argPackAdvance:8,readValueFromPointer:Ci,L(Z){ar(Z)}})},_embind_register_value_object:(f,d,_,S,N,U)=>{oa[f]={name:_t(d),Na:Zn(_,S),O:Zn(N,U),eb:[]}},_embind_register_value_object_field:(f,d,_,S,N,U,W,Z,ue,oe)=>{oa[f].eb.push({Ob:_t(d),Ub:_,Sb:Zn(S,N),Tb:U,kc:W,jc:Zn(Z,ue),lc:oe})},_embind_register_void:(f,d)=>{d=_t(d),Bi(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>L.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=He(f),d=wa(d,"emval::as"),ie(d,_,f)),_emval_call_method:(f,d,_,S,N)=>(f=Ct[f],d=He(d),_=Ue(_),f(d,d[_],S,N)),_emval_decref:Ms,_emval_get_method_caller:(f,d,_)=>{var S=rn(f,d),N=S.shift();f--;var U=Array(f);return d=`methodCaller<(${S.map(W=>W.name).join(", ")}) => ${N.name}>`,Yn(ve(d,(W,Z,ue,oe)=>{for(var ke=0,Ke=0;Ke<f;++Ke)U[Ke]=S[Ke].readValueFromPointer(oe+ke),ke+=S[Ke].argPackAdvance;return W=_===1?On(Z,U):Z.apply(W,U),ie(N,ue,W)}))},_emval_get_module_property:f=>(f=Ue(f),De(z[f])),_emval_get_property:(f,d)=>(f=He(f),d=He(d),De(f[d])),_emval_incref:f=>{9<f&&(Ce[f+1]+=1)},_emval_new_array:()=>De([]),_emval_new_cstring:f=>De(Ue(f)),_emval_new_object:()=>De({}),_emval_run_destructors:f=>{var d=He(f);pr(d),Ms(f)},_emval_set_property:(f,d,_)=>{f=He(f),d=He(d),_=He(_),f[d]=_},_emval_take_value:(f,d)=>(f=wa(f,"_emval_take_value"),f=f.readValueFromPointer(d),De(f)),emscripten_asm_const_int:(f,d,_)=>{Fi.length=0;for(var S;S=L[d++];){var N=S!=105;N&=S!=112,_+=N&&_%8?4:0,Fi.push(S==112?Me[_>>2]:S==105?Te[_>>2]:ht[_>>3]),_+=N?8:4}return yn[f](...Fi)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=L.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var N=Math;S=Math.max(f,S);e:{N=(N.min.call(N,2147483648,S+(65536-S%65536)%65536)-ye.buffer.byteLength+65535)/65536;try{ye.grow(N),st();var U=1;break e}catch{}U=void 0}if(U)return!0}return!1},environ_get:(f,d)=>{var _=0;return vr().forEach((S,N)=>{var U=d+_;for(N=Me[f+4*N>>2]=U,U=0;U<S.length;++U)xe[N++]=S.charCodeAt(U);xe[N]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=vr();Me[f>>2]=_.length;var S=0;return _.forEach(N=>S+=N.length+1),Me[d>>2]=S,0},fd_close:function(f){try{var d=Ti(f);if(d.W===null)throw new Xe(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{$i[d.W]=null}return d.W=null,0}catch(_){if(typeof on>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var N=Ti(f);f=d;for(var U,W=d=0;W<_;W++){var Z=Me[f>>2],ue=Me[f+4>>2];f+=8;var oe=N,ke=U,Ke=xe;if(0>ue||0>ke)throw new Xe(28);if(oe.W===null)throw new Xe(8);if((oe.flags&2097155)===1)throw new Xe(8);if((oe.node.mode&61440)===16384)throw new Xe(31);if(!oe.m.read)throw new Xe(28);var it=typeof ke<"u";if(!it)ke=oe.position;else if(!oe.seekable)throw new Xe(70);var ee=oe.m.read(oe,Ke,Z,ue,ke);it||(oe.position+=ee);var je=ee;if(0>je){var et=-1;break e}if(d+=je,je<ue)break;typeof U<"u"&&(U+=je)}et=d}return Me[S>>2]=et,0}catch(Fe){if(typeof on>"u"||Fe.name!=="ErrnoError")throw Fe;return Fe.$}},fd_seek:function(f,d,_,S,N){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var U=Ti(f);return sa(U,d,S),Gt=[U.position>>>0,(In=U.position,1<=+Math.abs(In)?0<In?+Math.floor(In/4294967296)>>>0:~~+Math.ceil((In-+(~~In>>>0))/4294967296)>>>0:0)],Te[N>>2]=Gt[0],Te[N+4>>2]=Gt[1],U.Ka&&d===0&&S===0&&(U.Ka=null),0}catch(W){if(typeof on>"u"||W.name!=="ErrnoError")throw W;return W.$}},fd_write:function(f,d,_,S){try{e:{var N=Ti(f);f=d;for(var U,W=d=0;W<_;W++){var Z=Me[f>>2],ue=Me[f+4>>2];f+=8;var oe=N,ke=Z,Ke=ue,it=U,ee=xe;if(0>Ke||0>it)throw new Xe(28);if(oe.W===null)throw new Xe(8);if((oe.flags&2097155)===0)throw new Xe(8);if((oe.node.mode&61440)===16384)throw new Xe(31);if(!oe.m.write)throw new Xe(28);oe.seekable&&oe.flags&1024&&sa(oe,0,2);var je=typeof it<"u";if(!je)it=oe.position;else if(!oe.seekable)throw new Xe(70);var et=oe.m.write(oe,ee,ke,Ke,it,void 0);je||(oe.position+=et);var Fe=et;if(0>Fe){var un=-1;break e}d+=Fe,typeof U<"u"&&(U+=Fe)}un=d}return Me[S>>2]=un,0}catch(We){if(typeof on>"u"||We.name!=="ErrnoError")throw We;return We.$}},strftime_l:(f,d,_,S)=>Sf(f,d,_,S)},Ln=(function(){function f(_){return Ln=_.exports,ye=Ln.memory,st(),Xa=Ln.__indirect_function_table,At.unshift(Ln.__wasm_call_ctors),St--,z.monitorRunDependencies?.(St),St==0&&Bt&&(_=Bt,Bt=null,_()),Ln}var d={env:eu,wasi_snapshot_preview1:eu};if(St++,z.monitorRunDependencies?.(St),z.instantiateWasm)try{return z.instantiateWasm(d,f)}catch(_){F(`Module.instantiateWasm callback failed with error: ${_}`),Ee(_)}return Jt||=Nn("canvas_advanced.wasm")?"canvas_advanced.wasm":z.locateFile?z.locateFile("canvas_advanced.wasm",V):V+"canvas_advanced.wasm",Rr(d,function(_){f(_.instance)}).catch(Ee),{}})(),ar=f=>(ar=Ln.free)(f),Ja=f=>(Ja=Ln.malloc)(f),gc=f=>(gc=Ln.__getTypeName)(f),Ao=z._ma_device__on_notification_unlocked=f=>(Ao=z._ma_device__on_notification_unlocked=Ln.ma_device__on_notification_unlocked)(f);z._ma_malloc_emscripten=(f,d)=>(z._ma_malloc_emscripten=Ln.ma_malloc_emscripten)(f,d),z._ma_free_emscripten=(f,d)=>(z._ma_free_emscripten=Ln.ma_free_emscripten)(f,d);var tu=z._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(tu=z._ma_device_process_pcm_frames_capture__webaudio=Ln.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),nu=z._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(nu=z._ma_device_process_pcm_frames_playback__webaudio=Ln.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);z.dynCall_iiji=(f,d,_,S,N)=>(z.dynCall_iiji=Ln.dynCall_iiji)(f,d,_,S,N),z.dynCall_jiji=(f,d,_,S,N)=>(z.dynCall_jiji=Ln.dynCall_jiji)(f,d,_,S,N),z.dynCall_iiiji=(f,d,_,S,N,U)=>(z.dynCall_iiiji=Ln.dynCall_iiiji)(f,d,_,S,N,U),z.dynCall_iij=(f,d,_,S)=>(z.dynCall_iij=Ln.dynCall_iij)(f,d,_,S),z.dynCall_jii=(f,d,_)=>(z.dynCall_jii=Ln.dynCall_jii)(f,d,_),z.dynCall_viijii=(f,d,_,S,N,U,W)=>(z.dynCall_viijii=Ln.dynCall_viijii)(f,d,_,S,N,U,W),z.dynCall_iiiiij=(f,d,_,S,N,U,W)=>(z.dynCall_iiiiij=Ln.dynCall_iiiiij)(f,d,_,S,N,U,W),z.dynCall_iiiiijj=(f,d,_,S,N,U,W,Z,ue)=>(z.dynCall_iiiiijj=Ln.dynCall_iiiiijj)(f,d,_,S,N,U,W,Z,ue),z.dynCall_iiiiiijj=(f,d,_,S,N,U,W,Z,ue,oe)=>(z.dynCall_iiiiiijj=Ln.dynCall_iiiiiijj)(f,d,_,S,N,U,W,Z,ue,oe);var Ds;Bt=function f(){Ds||tl(),Ds||(Bt=f)};function tl(){function f(){if(!Ds&&(Ds=!0,z.calledRun=!0,!fe)){if(z.noFSInit||ba||(ba=!0,z.stdin=z.stdin,z.stdout=z.stdout,z.stderr=z.stderr,z.stdin?cr("stdin",z.stdin):zi("/dev/tty","/dev/stdin"),z.stdout?cr("stdout",null,z.stdout):zi("/dev/tty","/dev/stdout"),z.stderr?cr("stderr",null,z.stderr):zi("/dev/tty1","/dev/stderr"),fi("/dev/stdin",0),fi("/dev/stdout",1),fi("/dev/stderr",1)),Hr=!1,R(At),Ve(z),z.onRuntimeInitialized&&z.onRuntimeInitialized(),z.postRun)for(typeof z.postRun=="function"&&(z.postRun=[z.postRun]);z.postRun.length;){var d=z.postRun.shift();sn.unshift(d)}R(sn)}}if(!(0<St)){if(z.preRun)for(typeof z.preRun=="function"&&(z.preRun=[z.preRun]);z.preRun.length;)ft();R(lt),0<St||(z.setStatus?(z.setStatus("Running..."),setTimeout(function(){setTimeout(function(){z.setStatus("")},1),f()},1)):f())}}if(z.preInit)for(typeof z.preInit=="function"&&(z.preInit=[z.preInit]);0<z.preInit.length;)z.preInit.pop()();return tl(),re=Pe,re})})();const x=w}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w.Animation});var w=E(4)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w});var w=(function(){function x(P,G,re,z){this.animation=P,this.artboard=G,this.playing=z,this.loopCount=0,this.scrubTo=null,this.instance=new re.LinearAnimationInstance(P,G)}return Object.defineProperty(x.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"time",{get:function(){return this.instance.time},set:function(P){this.instance.time=P},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),x.prototype.advance=function(P){this.scrubTo===null?this.instance.advance(P):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},x.prototype.apply=function(P){this.instance.apply(P)},x.prototype.cleanup=function(){this.instance.delete()},x})()}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>P.AudioAssetWrapper,AudioWrapper:()=>P.AudioWrapper,BLANK_URL:()=>x.BLANK_URL,CustomFileAssetLoaderWrapper:()=>P.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>P.FileAssetWrapper,FileFinalizer:()=>P.FileFinalizer,FontAssetWrapper:()=>P.FontAssetWrapper,FontWrapper:()=>P.FontWrapper,ImageAssetWrapper:()=>P.ImageAssetWrapper,ImageWrapper:()=>P.ImageWrapper,createFinalization:()=>P.createFinalization,finalizationRegistry:()=>P.finalizationRegistry,registerTouchInteractions:()=>w.registerTouchInteractions,sanitizeUrl:()=>x.sanitizeUrl});var w=E(6),x=E(7),P=E(8)}),((p,b,E)=>{E.r(b),E.d(b,{registerTouchInteractions:()=>P});var w=void 0,x=function(G,re,z){var Ve,Ee,Pe=[];if(["touchstart","touchmove"].indexOf(G.type)>-1&&(!((Ve=G.changedTouches)===null||Ve===void 0)&&Ve.length)){re||G.preventDefault();for(var Le=0,ze=z?G.changedTouches.length:1;Le<ze;){var rt=G.changedTouches[Le];Pe.push({clientX:rt.clientX,clientY:rt.clientY,identifier:rt.identifier}),Le++}}else if(G.type==="touchend"&&(!((Ee=G.changedTouches)===null||Ee===void 0)&&Ee.length))for(var Le=0,ze=z?G.changedTouches.length:1;Le<ze;){var rt=G.changedTouches[Le];Pe.push({clientX:rt.clientX,clientY:rt.clientY,identifier:rt.identifier}),Le++}else Pe.push({clientX:G.clientX,clientY:G.clientY,identifier:0});return Pe},P=function(G){var re=G.canvas,z=G.artboard,Ve=G.stateMachines,Ee=Ve===void 0?[]:Ve,Pe=G.renderer,Le=G.rive,ze=G.fit,rt=G.alignment,pt=G.isTouchScrollEnabled,ot=pt===void 0?!1:pt,H=G.dispatchPointerExit,B=H===void 0?!0:H,k=G.enableMultiTouch,j=k===void 0?!1:k,C=G.layoutScaleFactor,V=C===void 0?1:C;if(!re||!Ee.length||!Pe||!Le||!z||typeof window>"u")return null;var I=null,Q=!1,ne=function(J){if(Q&&J instanceof MouseEvent){J.type=="mouseup"&&(Q=!1);return}Q=ot&&J.type==="touchend"&&I==="touchstart",I=J.type;var ye=J.currentTarget.getBoundingClientRect(),fe=x(J,ot,j),xe=Le.computeAlignment(ze,rt,{minX:0,minY:0,maxX:ye.width,maxY:ye.height},z.bounds,V),L=new Le.Mat2D;switch(xe.invert(L),fe.forEach(function(Jt){var nt=Jt.clientX,wt=Jt.clientY;if(!(!nt&&!wt)){var gn=nt-ye.left,Rr=wt-ye.top,In=new Le.Vec2D(gn,Rr),Gt=Le.mapXY(L,In),yn=Gt.x(),R=Gt.y();Jt.transformedX=yn,Jt.transformedY=R,Gt.delete(),In.delete()}}),L.delete(),xe.delete(),J.type){case"mouseout":for(var ae=function(Jt){B?fe.forEach(function(nt){Jt.pointerExit(nt.transformedX,nt.transformedY,nt.identifier)}):fe.forEach(function(nt){Jt.pointerMove(nt.transformedX,nt.transformedY,nt.identifier)})},Re=0,Te=Ee;Re<Te.length;Re++){var Me=Te[Re];ae(Me)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Qe=function(Jt){fe.forEach(function(nt){Jt.pointerMove(nt.transformedX,nt.transformedY,nt.identifier)})},ht=0,st=Ee;ht<st.length;ht++){var Me=st[ht];Qe(Me)}break}case"touchstart":case"mousedown":{for(var lt=function(Jt){fe.forEach(function(nt){Jt.pointerDown(nt.transformedX,nt.transformedY,nt.identifier)})},At=0,sn=Ee;At<sn.length;At++){var Me=sn[At];lt(Me)}break}case"touchend":{for(var ft=function(Jt){fe.forEach(function(nt){Jt.pointerUp(nt.transformedX,nt.transformedY,nt.identifier),Jt.pointerExit(nt.transformedX,nt.transformedY,nt.identifier)})},St=0,Bt=Ee;St<Bt.length;St++){var Me=Bt[St];ft(Me)}break}case"mouseup":{for(var Lt=function(Jt){fe.forEach(function(nt){Jt.pointerUp(nt.transformedX,nt.transformedY,nt.identifier)})},Nn=0,ri=Ee;Nn<ri.length;Nn++){var Me=ri[Nn];Lt(Me)}break}}},F=ne.bind(w);return re.addEventListener("mouseover",F),re.addEventListener("mouseout",F),re.addEventListener("mousemove",F),re.addEventListener("mousedown",F),re.addEventListener("mouseup",F),re.addEventListener("touchmove",F,{passive:ot}),re.addEventListener("touchstart",F,{passive:ot}),re.addEventListener("touchend",F),function(){re.removeEventListener("mouseover",F),re.removeEventListener("mouseout",F),re.removeEventListener("mousemove",F),re.removeEventListener("mousedown",F),re.removeEventListener("mouseup",F),re.removeEventListener("touchmove",F),re.removeEventListener("touchstart",F),re.removeEventListener("touchend",F)}}}),((p,b,E)=>{E.r(b),E.d(b,{BLANK_URL:()=>Ve,sanitizeUrl:()=>Le});var w=/^([^\w]*)(javascript|data|vbscript)/im,x=/&#(\w+)(^\w|;)?/g,P=/&(newline|tab);/gi,G=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,re=/^.+(:|&colon;)/gim,z=[".","/"],Ve="about:blank";function Ee(ze){return z.indexOf(ze[0])>-1}function Pe(ze){var rt=ze.replace(G,"");return rt.replace(x,function(pt,ot){return String.fromCharCode(ot)})}function Le(ze){if(!ze)return Ve;var rt=Pe(ze).replace(P,"").replace(G,"").trim();if(!rt)return Ve;if(Ee(rt))return rt;var pt=rt.match(re);if(!pt)return rt;var ot=pt[0];return w.test(ot)?Ve:rt}}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>ze,AudioWrapper:()=>z,CustomFileAssetLoaderWrapper:()=>Ee,FileAssetWrapper:()=>Pe,FileFinalizer:()=>x,FontAssetWrapper:()=>rt,FontWrapper:()=>Ve,ImageAssetWrapper:()=>Le,ImageWrapper:()=>re,createFinalization:()=>B,finalizationRegistry:()=>H});var w=(function(){var k=function(j,C){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,I){V.__proto__=I}||function(V,I){for(var Q in I)Object.prototype.hasOwnProperty.call(I,Q)&&(V[Q]=I[Q])},k(j,C)};return function(j,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");k(j,C);function V(){this.constructor=j}j.prototype=C===null?Object.create(C):(V.prototype=C.prototype,new V)}})(),x=(function(){function k(j){this.selfUnref=!1,this._file=j}return k.prototype.unref=function(){this._file&&this._file.unref()},k})(),P=(function(){function k(j){this._finalizableObject=j}return k.prototype.unref=function(){this._finalizableObject.unref()},k})(),G=(function(){function k(){this.selfUnref=!1}return k.prototype.unref=function(){},k})(),re=(function(k){w(j,k);function j(C){var V=k.call(this)||this;return V._nativeImage=C,V}return Object.defineProperty(j.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),j.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},j})(G),z=(function(k){w(j,k);function j(C){var V=k.call(this)||this;return V._nativeAudio=C,V}return Object.defineProperty(j.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),j.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},j})(G),Ve=(function(k){w(j,k);function j(C){var V=k.call(this)||this;return V._nativeFont=C,V}return Object.defineProperty(j.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),j.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},j})(G),Ee=(function(){function k(j,C){this._assetLoaderCallback=C,this.assetLoader=new j.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return k.prototype.loadContents=function(j,C){var V;return j.isImage?V=new Le(j):j.isAudio?V=new ze(j):j.isFont&&(V=new rt(j)),this._assetLoaderCallback(V,C)},k})(),Pe=(function(){function k(j){this._nativeFileAsset=j}return k.prototype.decode=function(j){this._nativeFileAsset.decode(j)},Object.defineProperty(k.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),k})(),Le=(function(k){w(j,k);function j(){return k!==null&&k.apply(this,arguments)||this}return j.prototype.setRenderImage=function(C){this._nativeFileAsset.setRenderImage(C.nativeImage)},j})(Pe),ze=(function(k){w(j,k);function j(){return k!==null&&k.apply(this,arguments)||this}return j.prototype.setAudioSource=function(C){this._nativeFileAsset.setAudioSource(C.nativeAudio)},j})(Pe),rt=(function(k){w(j,k);function j(){return k!==null&&k.apply(this,arguments)||this}return j.prototype.setFont=function(C){this._nativeFileAsset.setFont(C.nativeFont)},j})(Pe),pt=(function(){function k(j){}return k.prototype.register=function(j){j.selfUnref=!0},k.prototype.unregister=function(j){},k})(),ot=typeof FinalizationRegistry<"u"?FinalizationRegistry:pt,H=new ot(function(k){k?.unref()}),B=function(k,j){var C=new P(j);H.register(k,C)}})],s={};function l(p){var b=s[p];if(b!==void 0)return b.exports;var E=s[p]={exports:{}};return i[p](E,E.exports,l),E.exports}l.d=(p,b)=>{for(var E in b)l.o(b,E)&&!l.o(p,E)&&Object.defineProperty(p,E,{enumerable:!0,get:b[E]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>Le,DataEnum:()=>ht,EventType:()=>I,Fit:()=>Pe,Layout:()=>ze,LoopType:()=>Q,Rive:()=>Me,RiveEventType:()=>H,RiveFile:()=>Te,RuntimeLoader:()=>rt,StateMachineInput:()=>ot,StateMachineInputType:()=>pt,Testing:()=>Rr,ViewModel:()=>Qe,ViewModelInstance:()=>lt,ViewModelInstanceArtboard:()=>nt,ViewModelInstanceAssetImage:()=>Jt,ViewModelInstanceBoolean:()=>St,ViewModelInstanceColor:()=>ri,ViewModelInstanceEnum:()=>Lt,ViewModelInstanceList:()=>Nn,ViewModelInstanceNumber:()=>ft,ViewModelInstanceString:()=>sn,ViewModelInstanceTrigger:()=>Bt,ViewModelInstanceValue:()=>At,decodeAudio:()=>In,decodeFont:()=>yn,decodeImage:()=>Gt});var p=l(1),b=l(2),E=l(3),w=l(5),x=(function(){var R=function(g,v){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,$){D.__proto__=$}||function(D,$){for(var pe in $)Object.prototype.hasOwnProperty.call($,pe)&&(D[pe]=$[pe])},R(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");R(g,v);function D(){this.constructor=g}g.prototype=v===null?Object.create(v):(D.prototype=v.prototype,new D)}})(),P=function(){return P=Object.assign||function(R){for(var g,v=1,D=arguments.length;v<D;v++){g=arguments[v];for(var $ in g)Object.prototype.hasOwnProperty.call(g,$)&&(R[$]=g[$])}return R},P.apply(this,arguments)},G=function(R,g,v,D){function $(pe){return pe instanceof v?pe:new v(function(Ne){Ne(pe)})}return new(v||(v=Promise))(function(pe,Ne){function Ze(Je){try{qe(D.next(Je))}catch(Zt){Ne(Zt)}}function Ye(Je){try{qe(D.throw(Je))}catch(Zt){Ne(Zt)}}function qe(Je){Je.done?pe(Je.value):$(Je.value).then(Ze,Ye)}qe((D=D.apply(R,g||[])).next())})},re=function(R,g){var v={label:0,sent:function(){if(pe[0]&1)throw pe[1];return pe[1]},trys:[],ops:[]},D,$,pe,Ne=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ne.next=Ze(0),Ne.throw=Ze(1),Ne.return=Ze(2),typeof Symbol=="function"&&(Ne[Symbol.iterator]=function(){return this}),Ne;function Ze(qe){return function(Je){return Ye([qe,Je])}}function Ye(qe){if(D)throw new TypeError("Generator is already executing.");for(;Ne&&(Ne=0,qe[0]&&(v=0)),v;)try{if(D=1,$&&(pe=qe[0]&2?$.return:qe[0]?$.throw||((pe=$.return)&&pe.call($),0):$.next)&&!(pe=pe.call($,qe[1])).done)return pe;switch($=0,pe&&(qe=[qe[0]&2,pe.value]),qe[0]){case 0:case 1:pe=qe;break;case 4:return v.label++,{value:qe[1],done:!1};case 5:v.label++,$=qe[1],qe=[0];continue;case 7:qe=v.ops.pop(),v.trys.pop();continue;default:if(pe=v.trys,!(pe=pe.length>0&&pe[pe.length-1])&&(qe[0]===6||qe[0]===2)){v=0;continue}if(qe[0]===3&&(!pe||qe[1]>pe[0]&&qe[1]<pe[3])){v.label=qe[1];break}if(qe[0]===6&&v.label<pe[1]){v.label=pe[1],pe=qe;break}if(pe&&v.label<pe[2]){v.label=pe[2],v.ops.push(qe);break}pe[2]&&v.ops.pop(),v.trys.pop();continue}qe=g.call(R,v)}catch(Je){qe=[6,Je],$=0}finally{D=pe=0}if(qe[0]&5)throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}},z=function(R,g,v){if(v||arguments.length===2)for(var D=0,$=g.length,pe;D<$;D++)(pe||!(D in g))&&(pe||(pe=Array.prototype.slice.call(g,0,D)),pe[D]=g[D]);return R.concat(pe||Array.prototype.slice.call(g))},Ve=(function(R){x(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Ee=function(R){return R&&R.isHandledError?R.message:"Problem loading file; may be corrupt!"},Pe;(function(R){R.Cover="cover",R.Contain="contain",R.Fill="fill",R.FitWidth="fitWidth",R.FitHeight="fitHeight",R.None="none",R.ScaleDown="scaleDown",R.Layout="layout"})(Pe||(Pe={}));var Le;(function(R){R.Center="center",R.TopLeft="topLeft",R.TopCenter="topCenter",R.TopRight="topRight",R.CenterLeft="centerLeft",R.CenterRight="centerRight",R.BottomLeft="bottomLeft",R.BottomCenter="bottomCenter",R.BottomRight="bottomRight"})(Le||(Le={}));var ze=(function(){function R(g){var v,D,$,pe,Ne,Ze,Ye;this.fit=(v=g?.fit)!==null&&v!==void 0?v:Pe.Contain,this.alignment=(D=g?.alignment)!==null&&D!==void 0?D:Le.Center,this.layoutScaleFactor=($=g?.layoutScaleFactor)!==null&&$!==void 0?$:1,this.minX=(pe=g?.minX)!==null&&pe!==void 0?pe:0,this.minY=(Ne=g?.minY)!==null&&Ne!==void 0?Ne:0,this.maxX=(Ze=g?.maxX)!==null&&Ze!==void 0?Ze:0,this.maxY=(Ye=g?.maxY)!==null&&Ye!==void 0?Ye:0}return R.new=function(g){var v=g.fit,D=g.alignment,$=g.minX,pe=g.minY,Ne=g.maxX,Ze=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new R({fit:v,alignment:D,minX:$,minY:pe,maxX:Ne,maxY:Ze})},R.prototype.copyWith=function(g){var v=g.fit,D=g.alignment,$=g.layoutScaleFactor,pe=g.minX,Ne=g.minY,Ze=g.maxX,Ye=g.maxY;return new R({fit:v??this.fit,alignment:D??this.alignment,layoutScaleFactor:$??this.layoutScaleFactor,minX:pe??this.minX,minY:Ne??this.minY,maxX:Ze??this.maxX,maxY:Ye??this.maxY})},R.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===Pe.Cover?v=g.Fit.cover:this.fit===Pe.Contain?v=g.Fit.contain:this.fit===Pe.Fill?v=g.Fit.fill:this.fit===Pe.FitWidth?v=g.Fit.fitWidth:this.fit===Pe.FitHeight?v=g.Fit.fitHeight:this.fit===Pe.ScaleDown?v=g.Fit.scaleDown:this.fit===Pe.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},R.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===Le.TopLeft?v=g.Alignment.topLeft:this.alignment===Le.TopCenter?v=g.Alignment.topCenter:this.alignment===Le.TopRight?v=g.Alignment.topRight:this.alignment===Le.CenterLeft?v=g.Alignment.centerLeft:this.alignment===Le.CenterRight?v=g.Alignment.centerRight:this.alignment===Le.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===Le.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===Le.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},R})(),rt=(function(){function R(){}return R.loadRuntime=function(){p.default({locateFile:function(){return R.wasmURL}}).then(function(g){var v;for(R.runtime=g;R.callBackQueue.length>0;)(v=R.callBackQueue.shift())===null||v===void 0||v(R.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var D="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(R.wasmURL.toLowerCase()!==D)console.warn("Failed to load WASM from ".concat(R.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),R.setWasmUrl(D),R.loadRuntime();else{var $=["Could not load Rive WASM file from ".concat(R.wasmURL," or ").concat(D,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error($)}})},R.getInstance=function(g){R.isLoading||(R.isLoading=!0,R.loadRuntime()),R.runtime?g(R.runtime):R.callBackQueue.push(g)},R.awaitInstance=function(){return new Promise(function(g){return R.getInstance(function(v){return g(v)})})},R.setWasmUrl=function(g){R.wasmURL=g},R.getWasmUrl=function(){return R.wasmURL},R.isLoading=!1,R.callBackQueue=[],R.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),R})(),pt;(function(R){R[R.Number=56]="Number",R[R.Trigger=58]="Trigger",R[R.Boolean=59]="Boolean"})(pt||(pt={}));var ot=(function(){function R(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(R.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),R.prototype.fire=function(){this.type===pt.Trigger&&this.runtimeInput.fire()},R.prototype.delete=function(){this.runtimeInput=null},R})(),H;(function(R){R[R.General=128]="General",R[R.OpenUrl=131]="OpenUrl"})(H||(H={}));var B=(function(){function R(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return R})(),k=(function(R){x(g,R);function g(v,D){var $=R.call(this,!1)||this;return $.nativeArtboard=v,$.file=D,$}return g})(B),j=(function(R){x(g,R);function g(v){var D=R.call(this,!0)||this;return D.selfUnref=!1,D.nativeArtboard=v,D}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(B),C=(function(){function R(g,v,D,$){this.stateMachine=g,this.playing=D,this.artboard=$,this.inputs=[],this.instance=new v.StateMachineInstance(g,$),this.initInputs(v)}return Object.defineProperty(R.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),R.prototype.advance=function(g){this.instance.advance(g)},R.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},R.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},R.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},R.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var D=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(D,g))}},R.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new ot(pt.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new ot(pt.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new ot(pt.Trigger,g.asTrigger())},R.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},R.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},R})(),V=(function(){function R(g,v,D,$,pe){$===void 0&&($=[]),pe===void 0&&(pe=[]),this.runtime=g,this.artboard=v,this.eventManager=D,this.animations=$,this.stateMachines=pe}return R.prototype.add=function(g,v,D){if(D===void 0&&(D=!0),g=gn(g),g.length===0)this.animations.forEach(function(fn){return fn.playing=v}),this.stateMachines.forEach(function(fn){return fn.playing=v});else for(var $=this.animations.map(function(fn){return fn.name}),pe=this.stateMachines.map(function(fn){return fn.name}),Ne=0;Ne<g.length;Ne++){var Ze=$.indexOf(g[Ne]),Ye=pe.indexOf(g[Ne]);if(Ze>=0||Ye>=0)Ze>=0?this.animations[Ze].playing=v:this.stateMachines[Ye].playing=v;else{var qe=this.artboard.animationByName(g[Ne]);if(qe){var Je=new E.Animation(qe,this.artboard,this.runtime,v);Je.advance(0),Je.apply(1),this.animations.push(Je)}else{var Zt=this.artboard.stateMachineByName(g[Ne]);if(Zt){var Dn=new C(Zt,this.runtime,v,this.artboard);this.stateMachines.push(Dn)}}}}return D&&(v?this.eventManager.fire({type:I.Play,data:this.playing}):this.eventManager.fire({type:I.Pause,data:this.paused})),v?this.playing:this.paused},R.prototype.initLinearAnimations=function(g,v){for(var D=this.animations.map(function(Ye){return Ye.name}),$=0;$<g.length;$++){var pe=D.indexOf(g[$]);if(pe>=0)this.animations[pe].playing=v;else{var Ne=this.artboard.animationByName(g[$]);if(Ne){var Ze=new E.Animation(Ne,this.artboard,this.runtime,v);Ze.advance(0),Ze.apply(1),this.animations.push(Ze)}else console.error("Animation with name ".concat(g[$]," not found."))}}},R.prototype.initStateMachines=function(g,v){for(var D=this.stateMachines.map(function(Ye){return Ye.name}),$=0;$<g.length;$++){var pe=D.indexOf(g[$]);if(pe>=0)this.stateMachines[pe].playing=v;else{var Ne=this.artboard.stateMachineByName(g[$]);if(Ne){var Ze=new C(Ne,this.runtime,v,this.artboard);this.stateMachines.push(Ze)}else console.warn("State Machine with name ".concat(g[$]," not found.")),this.initLinearAnimations([g[$]],v)}}},R.prototype.play=function(g){return this.add(g,!0)},R.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},R.prototype.pause=function(g){return this.add(g,!1)},R.prototype.scrub=function(g,v){var D=this.animations.filter(function($){return g.includes($.name)});return D.forEach(function($){return $.scrubTo=v}),D.map(function($){return $.name})},Object.defineProperty(R.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),R.prototype.stop=function(g){var v=this;g=gn(g);var D=[];if(g.length===0)D=this.animations.map(function(Ne){return Ne.name}).concat(this.stateMachines.map(function(Ne){return Ne.name})),this.animations.forEach(function(Ne){return Ne.cleanup()}),this.stateMachines.forEach(function(Ne){return Ne.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var $=this.animations.filter(function(Ne){return g.includes(Ne.name)});$.forEach(function(Ne){Ne.cleanup(),v.animations.splice(v.animations.indexOf(Ne),1)});var pe=this.stateMachines.filter(function(Ne){return g.includes(Ne.name)});pe.forEach(function(Ne){Ne.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ne),1)}),D=$.map(function(Ne){return Ne.name}).concat(pe.map(function(Ne){return Ne.name}))}return this.eventManager.fire({type:I.Stop,data:D}),D},Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),R.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var D;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([D=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([D=this.artboard.stateMachineByIndex(0).name],g,v)),D},R.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function($){return $.playing});g<v.length;g++){var D=v[g];D.loopValue===0&&D.loopCount?(D.loopCount=0,this.stop(D.name)):D.loopValue===1&&D.loopCount?(this.eventManager.fire({type:I.Loop,data:{animation:D.name,type:Q.Loop}}),D.loopCount=0):D.loopValue===2&&D.loopCount>1&&(this.eventManager.fire({type:I.Loop,data:{animation:D.name,type:Q.PingPong}}),D.loopCount=0)}},R.prototype.handleStateChanges=function(){for(var g=[],v=0,D=this.stateMachines.filter(function(pe){return pe.playing});v<D.length;v++){var $=D[v];g.push.apply(g,$.statesChanged)}g.length>0&&this.eventManager.fire({type:I.StateChange,data:g})},R.prototype.handleAdvancing=function(g){this.eventManager.fire({type:I.Advance,data:g})},R})(),I;(function(R){R.Load="load",R.LoadError="loaderror",R.Play="play",R.Pause="pause",R.Stop="stop",R.Loop="loop",R.Draw="draw",R.Advance="advance",R.StateChange="statechange",R.RiveEvent="riveevent",R.AudioStatusChange="audiostatuschange"})(I||(I={}));var Q;(function(R){R.OneShot="oneshot",R.Loop="loop",R.PingPong="pingpong"})(Q||(Q={}));var ne=(function(){function R(g){g===void 0&&(g=[]),this.listeners=g}return R.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},R.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},R.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var D=this.listeners[v];if(D.type===g.type&&D.callback===g.callback){this.listeners.splice(v,1);break}}},R.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(D){return D.type===g}).forEach(function(D){return v.remove(D)}):this.listeners.splice(0,this.listeners.length)},R.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(D){return D.callback(g)})},R})(),F=(function(){function R(g){this.eventManager=g,this.queue=[]}return R.prototype.add=function(g){this.queue.push(g)},R.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},R})(),J;(function(R){R[R.AVAILABLE=0]="AVAILABLE",R[R.UNAVAILABLE=1]="UNAVAILABLE"})(J||(J={}));var ye=(function(R){x(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=J.UNAVAILABLE,v}return g.prototype.delay=function(v){return G(this,void 0,void 0,function(){return re(this,function(D){return[2,new Promise(function($){return setTimeout($,v)})]})})},g.prototype.timeout=function(){return G(this,void 0,void 0,function(){return re(this,function(v){return[2,new Promise(function(D,$){return setTimeout($,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:I.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){return this._enabled||(this._enabled=!0,this._status=J.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){switch(v.label){case 0:if(!(this._status===J.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==J.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,D=function(){return G(v,void 0,void 0,function(){return re(this,function($){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",D,{once:!0})},g.prototype.establishAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===J.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(ne),fe=new ye,xe=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),L=globalThis.ResizeObserver||xe,ae=(function(){function R(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var D=g._elementsMap.get(v.target);D!==null?D.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new L(this._onObserved)}return R.prototype.add=function(g,v){var D={onResize:v,element:g};return this._elementsMap.set(g,D),this._resizeObserver.observe(g),D},R.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},R})(),Re=new ae,Te=(function(){function R(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new ne,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError)}return R.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},R.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},R.prototype.initData=function(){return G(this,void 0,void 0,function(){var g,v,D,$,pe;return re(this,function(Ne){switch(Ne.label){case 0:return this.src?(g=this,[4,wt(this.src)]):[3,2];case 1:g.buffer=Ne.sent(),Ne.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(D=new w.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=D.assetLoader),$=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return $.file=Ne.sent(),pe=new w.FileFinalizer(this.file),w.finalizationRegistry.register(this,pe),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:I.Load,data:this}):this.fireLoadError(R.fileLoadErrorMessage),[2])}})})},R.prototype.init=function(){return G(this,void 0,void 0,function(){var g,v;return re(this,function(D){switch(D.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(R.missingErrorMessage),[2];D.label=1;case 1:return D.trys.push([1,4,,5]),g=this,[4,rt.awaitInstance()];case 2:return g.runtime=D.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return D.sent(),[3,5];case 4:return v=D.sent(),this.fireLoadError(v instanceof Error?v.message:R.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},R.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:I.LoadError,data:g}),new Error(g)},R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},R.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},R.prototype.createBindableArtboard=function(g){if(g!=null){var v=new j(g);return(0,w.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},R.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new k(v,this)},R.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},R.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},R.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},R.missingErrorMessage="Rive source file or data buffer required",R.fileLoadErrorMessage="The file failed to load",R})(),Me=(function(){function R(g){var v=this,D;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function($){var pe=v._hasZeroSize!==$;v._hasZeroSize=$,$?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():pe&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Re.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(D=g.layout)!==null&&D!==void 0?D:new ze,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new ne,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError),g.onPlay&&this.on(I.Play,g.onPlay),g.onPause&&this.on(I.Pause,g.onPause),g.onStop&&this.on(I.Stop,g.onStop),g.onLoop&&this.on(I.Loop,g.onLoop),g.onStateChange&&this.on(I.StateChange,g.onStateChange),g.onAdvance&&this.on(I.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(I.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(I.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(I.Play,g.onplay),g.onpause&&!g.onPause&&this.on(I.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(I.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(I.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(I.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new F(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(R.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),R.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new R(g)},R.prototype.onSystemAudioChanged=function(){this.volume=this._volume},R.prototype.init=function(g){var v=this,D=g.src,$=g.buffer,pe=g.riveFile,Ne=g.animations,Ze=g.stateMachines,Ye=g.artboard,qe=g.autoplay,Je=qe===void 0?!1:qe,Zt=g.useOffscreenRenderer,Dn=Zt===void 0?!1:Zt,fn=g.autoBind,Bn=fn===void 0?!1:fn;if(!this.destroyed){if(this.src=D,this.buffer=$,this.riveFile=pe,!this.src&&!this.buffer&&!this.riveFile)throw new Ve(R.missingErrorMessage);var Kn=gn(Ne),Pt=gn(Ze);this.loaded=!1,this.readyForPlaying=!1,rt.awaitInstance().then(function(Tn){v.destroyed||(v.runtime=Tn,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,Dn),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(Ye,Kn,Pt,Je,Bn).then(function(kn){if(kn)return v.setupRiveListeners()}).catch(function(kn){console.error(kn)}))}).catch(function(Tn){console.error(Tn)})}},R.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var D=(this.animator.stateMachines||[]).filter(function(Ze){return Ze.playing&&v.runtime.hasListeners(Ze.instance)}).map(function(Ze){return Ze.instance}),$=this.isTouchScrollEnabled,pe=this.dispatchPointerExit,Ne=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&($=g.isTouchScrollEnabled),this.eventCleanup=(0,w.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:D,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:$,dispatchPointerExit:pe,enableMultiTouch:Ne,layoutScaleFactor:this._layout.layoutScaleFactor})}},R.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},R.prototype.initializeAudio=function(){var g=this,v;fe.status==J.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:I.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},fe.add(this._audioEventListener),fe.establishAudio())},R.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},R.prototype.initData=function(g,v,D,$,pe){return G(this,void 0,void 0,function(){var Ne,Ze,Ye,qe;return re(this,function(Je){switch(Je.label){case 0:return Je.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ne=new Te({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ne,[4,Ne.init()]);case 1:if(Je.sent(),this.destroyed)return Ne.destroyIfUnused(),[2,!1];Je.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,D,$,pe),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:I.Load,data:(qe=this.src)!==null&&qe!==void 0?qe:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Ze=Je.sent(),Ye=Ee(Ze),console.warn(Ye),this.eventManager.fire({type:I.LoadError,data:Ye}),[2,Promise.reject(Ye)];case 4:return[2]}})})},R.prototype.initArtboard=function(g,v,D,$,pe){if(this.file){var Ne=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ne){var Ze="Invalid artboard name or no default artboard";console.warn(Ze),this.eventManager.fire({type:I.LoadError,data:Ze});return}this.artboard=Ne,Ne.volume=this._volume*fe.systemVolume,this.animator=new V(this.runtime,this.artboard,this.eventManager);var Ye;if(v.length>0||D.length>0?(Ye=v.concat(D),this.animator.initLinearAnimations(v,$),this.animator.initStateMachines(D,$)):Ye=[this.animator.atLeastOne($,!1)],this.taskQueue.add({event:{type:$?I.Play:I.Pause,data:Ye}}),pe){var qe=this.file.defaultArtboardViewModel(Ne);if(qe!==null){var Je=qe.defaultInstance();if(Je!==null){var Zt=new lt(Je,null);(0,w.createFinalization)(Zt,Zt.runtimeInstance),this.bindViewModelInstance(Zt)}}}}},R.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},R.prototype.draw=function(g,v){var D;this.frameRequestId=null;var $=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var pe=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ne=this.animator.animations.filter(function(Wi){return Wi.playing||Wi.needsScrub}).sort(function(Wi){return Wi.needsScrub?-1:1}),Ze=0,Ye=Ne;Ze<Ye.length;Ze++){var qe=Ye[Ze];qe.advance(pe),qe.instance.didLoop&&(qe.loopCount+=1),qe.apply(1)}for(var Je=this.animator.stateMachines.filter(function(Wi){return Wi.playing}),Zt=0,Dn=Je;Zt<Dn.length;Zt++){var fn=Dn[Zt],Bn=fn.reportedEventCount();if(Bn)for(var Kn=0;Kn<Bn;Kn++){var Pt=fn.reportedEventAt(Kn);if(Pt)if(Pt.type===H.OpenUrl){if(this.eventManager.fire({type:I.RiveEvent,data:Pt}),this.automaticallyHandleEvents){var Tn=document.createElement("a"),kn=Pt,Wn=kn.url,Ki=kn.target,gt=(0,w.sanitizeUrl)(Wn);Wn&&Tn.setAttribute("href",gt),Ki&&Tn.setAttribute("target",Ki),gt&&gt!==w.BLANK_URL&&Tn.click()}}else this.eventManager.fire({type:I.RiveEvent,data:Pt})}fn.advanceAndApply(pe)}this.animator.stateMachines.length==0&&this.artboard.advance(pe);var Fn=this.renderer;Fn.clear(),Fn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Fn),Fn.restore(),Fn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(pe),this.frameCount++;var It=performance.now();for(this.frameTimes.push(It),this.durations.push(It-$);this.frameTimes[0]<=It-1e3;)this.frameTimes.shift(),this.durations.shift();(D=this._viewModelInstance)===null||D===void 0||D.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},R.prototype.alignRenderer=function(){var g=this,v=g.renderer,D=g.runtime,$=g._layout,pe=g.artboard;v.align($.runtimeFit(D),$.runtimeAlignment(D),{minX:$.minX,minY:$.minY,maxX:$.maxX,maxY:$.maxY},pe.bounds,this._devicePixelRatioUsed*$.layoutScaleFactor)},Object.defineProperty(R.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),R.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Re.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(fe.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},R.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},R.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},R.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var D=this.artboard.textRun(g);if(!D){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return D},R.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},R.prototype.setTextRunValue=function(g,v){var D=this.retrieveTextRun(g);D&&(D.text=v)},R.prototype.play=function(g,v){var D=this;if(g=gn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},R.prototype.pause=function(g){var v=this;if(g=gn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},R.prototype.scrub=function(g,v){var D=this;if(g=gn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},R.prototype.stop=function(g){var v=this;if(g=gn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},R.prototype.reset=function(g){var v,D,$=g?.artboard,pe=gn(g?.animations),Ne=gn(g?.stateMachines),Ze=(v=g?.autoplay)!==null&&v!==void 0?v:!1,Ye=(D=g?.autoBind)!==null&&D!==void 0?D:!1;this.cleanupInstances(),this.initArtboard($,pe,Ne,Ze,Ye),this.taskQueue.process()},R.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(R.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),R.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},R.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),D=v.width,$=v.height,pe=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=pe,this.canvas.width=pe*D,this.canvas.height=pe*$,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Pe.Layout){var Ne=this._layout.layoutScaleFactor;this.artboard.width=D/Ne,this.artboard.height=$/Ne}}},Object.defineProperty(R.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),R.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(D){return D.name===g});return v?.inputs}},R.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.inputByPath(g,v);if(!D){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},R.prototype.setBooleanStateAtPath=function(g,v,D){var $=this.retrieveInputAtPath(g,D);$&&($.type===pt.Boolean?$.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a boolean")))},R.prototype.setNumberStateAtPath=function(g,v,D){var $=this.retrieveInputAtPath(g,D);$&&($.type===pt.Number?$.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a number")))},R.prototype.fireStateAtPath=function(g,v){var D=this.retrieveInputAtPath(g,v);D&&(D.type===pt.Trigger?D.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},R.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.textByPath(g,v);if(!D){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},R.prototype.getTextRunValueAtPath=function(g,v){var D=this.retrieveTextAtPath(g,v);if(!D){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D.text},R.prototype.setTextRunValueAtPath=function(g,v,D){var $=this.retrieveTextAtPath(g,D);if(!$){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(D,"'"));return}$.text=v},Object.defineProperty(R.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},R.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},R.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},R.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},R.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(R.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var D=this.file.artboardByIndex(v),$={name:D.name,animations:[],stateMachines:[]},pe=0;pe<D.animationCount();pe++){var Ne=D.animationByIndex(pe);$.animations.push(Ne.name)}for(var Ze=0;Ze<D.stateMachineCount();Ze++){for(var Ye=D.stateMachineByIndex(Ze),qe=Ye.name,Je=new this.runtime.StateMachineInstance(Ye,D),Zt=[],Dn=0;Dn<Je.inputCount();Dn++){var fn=Je.input(Dn);Zt.push({name:fn.name,type:fn.type})}$.stateMachines.push({name:qe,inputs:Zt})}g.artboards.push($)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*fe.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),R.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(R.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),R.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(D){return D.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(R.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),R.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new Qe(v):null},R.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new Qe(v):null},R.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new ht(v)})}return this._dataEnums},R.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new Qe(g)}return null},R.prototype.getArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getBindableArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},R.missingErrorMessage="Rive source file or data buffer required",R.cleanupErrorMessage="Attempt to use file after calling cleanup.",R})(),Qe=(function(){function R(g){this._viewModel=g}return Object.defineProperty(R.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),R.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var D=new lt(v,null);return(0,w.createFinalization)(D,v),D}return null},R.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var D=new lt(v,null);return(0,w.createFinalization)(D,v),D}return null},R.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new lt(g,null);return(0,w.createFinalization)(v,g),v}return null},R.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new lt(g,null);return(0,w.createFinalization)(v,g),v}return null},Object.defineProperty(R.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),R})(),ht=(function(){function R(g){this._dataEnum=g}return Object.defineProperty(R.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),R})(),st;(function(R){R.Number="number",R.String="string",R.Boolean="boolean",R.Color="color",R.Trigger="trigger",R.Enum="enum",R.List="list",R.Image="image",R.Artboard="artboard"})(st||(st={}));var lt=(function(){function R(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(R.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),R.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},R.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},R.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var D=this._parents[v];D.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},R.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},R.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},R.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},R.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},R.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},R.prototype.propertyFromPath=function(g,v){var D=g.split("/");return this.propertyFromPathSegments(D,0,v)},R.prototype.viewModelFromPathSegments=function(g,v){var D=this.internalViewModelInstance(g[v]);return D!==null?v==g.length-1?D:D.viewModelFromPathSegments(g,v++):null},R.prototype.propertyFromPathSegments=function(g,v,D){var $,pe,Ne,Ze,Ye,qe,Je,Zt,Dn,fn,Bn,Kn,Pt,Tn,kn,Wn,Ki,gt;if(v<g.length-1){var Fn=this.internalViewModelInstance(g[v]);return Fn!==null?Fn.propertyFromPathSegments(g,v+1,D):null}var It=null;switch(D){case st.Number:if(It=(pe=($=this._runtimeInstance)===null||$===void 0?void 0:$.number(g[v]))!==null&&pe!==void 0?pe:null,It!==null)return new ft(It,this);break;case st.String:if(It=(Ze=(Ne=this._runtimeInstance)===null||Ne===void 0?void 0:Ne.string(g[v]))!==null&&Ze!==void 0?Ze:null,It!==null)return new sn(It,this);break;case st.Boolean:if(It=(qe=(Ye=this._runtimeInstance)===null||Ye===void 0?void 0:Ye.boolean(g[v]))!==null&&qe!==void 0?qe:null,It!==null)return new St(It,this);break;case st.Color:if(It=(Zt=(Je=this._runtimeInstance)===null||Je===void 0?void 0:Je.color(g[v]))!==null&&Zt!==void 0?Zt:null,It!==null)return new ri(It,this);break;case st.Trigger:if(It=(fn=(Dn=this._runtimeInstance)===null||Dn===void 0?void 0:Dn.trigger(g[v]))!==null&&fn!==void 0?fn:null,It!==null)return new Bt(It,this);break;case st.Enum:if(It=(Kn=(Bn=this._runtimeInstance)===null||Bn===void 0?void 0:Bn.enum(g[v]))!==null&&Kn!==void 0?Kn:null,It!==null)return new Lt(It,this);break;case st.List:if(It=(Tn=(Pt=this._runtimeInstance)===null||Pt===void 0?void 0:Pt.list(g[v]))!==null&&Tn!==void 0?Tn:null,It!==null)return new Nn(It,this);break;case st.Image:if(It=(Wn=(kn=this._runtimeInstance)===null||kn===void 0?void 0:kn.image(g[v]))!==null&&Wn!==void 0?Wn:null,It!==null)return new Jt(It,this);break;case st.Artboard:if(It=(gt=(Ki=this._runtimeInstance)===null||Ki===void 0?void 0:Ki.artboard(g[v]))!==null&&gt!==void 0?gt:null,It!==null)return new nt(It,this);break}return null},R.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var D=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(D!==null){var $=new R(D,this);return(0,w.createFinalization)($,D),$.internalIncrementReferenceCount(),this._viewModelInstances.set(g,$),$}return null},R.prototype.number=function(g){var v=this.propertyFromPath(g,st.Number);return v},R.prototype.string=function(g){var v=this.propertyFromPath(g,st.String);return v},R.prototype.boolean=function(g){var v=this.propertyFromPath(g,st.Boolean);return v},R.prototype.color=function(g){var v=this.propertyFromPath(g,st.Color);return v},R.prototype.trigger=function(g){var v=this.propertyFromPath(g,st.Trigger);return v},R.prototype.enum=function(g){var v=this.propertyFromPath(g,st.Enum);return v},R.prototype.list=function(g){var v=this.propertyFromPath(g,st.List);return v},R.prototype.image=function(g){var v=this.propertyFromPath(g,st.Image);return v},R.prototype.artboard=function(g){var v=this.propertyFromPath(g,st.Artboard);return v},R.prototype.viewModel=function(g){var v=g.split("/"),D=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return D!=null?D.internalViewModelInstance(v[v.length-1]):null},R.prototype.internalReplaceViewModel=function(g,v){var D;if(v.runtimeInstance!==null){var $=((D=this._runtimeInstance)===null||D===void 0?void 0:D.replaceViewModel(g,v.runtimeInstance))||!1;if($){v.internalIncrementReferenceCount();var pe=this.internalViewModelInstance(g);pe!==null&&(pe.removeParent(this),this._children.includes(pe)&&(this._children=this._children.filter(function(Ne){return Ne!==pe})),pe.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return $}return!1},R.prototype.replaceViewModel=function(g,v){var D,$=g.split("/"),pe=$.length>1?this.viewModelFromPathSegments($.slice(0,$.length-1),0):this;return(D=pe?.internalReplaceViewModel($[$.length-1],v))!==null&&D!==void 0?D:!1},R.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},R.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(R.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return P({},v)}))||[]},enumerable:!1,configurable:!0}),R.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},R.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(pe){pe.cleanup()}),this._viewModelInstances.clear();var D=z([],this._children,!0);this._children.length=0;var $=z([],this._parents,!0);this._parents.length=0,D.forEach(function(pe){pe.removeParent(g)}),$.forEach(function(pe){pe.removeFromViewModelCallbacks(g)})}},R})(),At=(function(){function R(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return R.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},R.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},R.prototype.internalHandleCallback=function(g){},R.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},R.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},R.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),R})(),sn=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(At),ft=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(At),St=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(At),Bt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(At),Lt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(At),Nn=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,D){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,D)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var D=this._viewModelInstanceValue.instanceAt(v);if(D!=null){var $=new lt(D,this._parentViewModel);return(0,w.createFinalization)($,D),$}return null},g.prototype.swap=function(v,D){this._viewModelInstanceValue.swap(v,D)},g.prototype.internalHandleCallback=function(v){v()},g})(At),ri=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,D,$){this._viewModelInstanceValue.rgb(v,D,$)},g.prototype.rgba=function(v,D,$,pe){this._viewModelInstanceValue.argb(pe,v,D,$)},g.prototype.argb=function(v,D,$,pe){this._viewModelInstanceValue.argb(v,D,$,pe)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(At),Jt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D;this._viewModelInstanceValue.value((D=v?.nativeImage)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(At),nt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D,$;v.isBindableArtboard?$=v:$=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((D=$?.nativeArtboard)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(At),wt=function(R){return G(void 0,void 0,void 0,function(){var g,v,D;return re(this,function($){switch($.label){case 0:return g=new Request(R),[4,fetch(g)];case 1:return v=$.sent(),[4,v.arrayBuffer()];case 2:return D=$.sent(),[2,D]}})})},gn=function(R){return typeof R=="string"?[R]:R instanceof Array?R:[]},Rr={EventManager:ne,TaskQueueManager:F},In=function(R){return G(void 0,void 0,void 0,function(){var g,v,D;return re(this,function($){switch($.label){case 0:return g=new Promise(function(pe){return rt.getInstance(function(Ne){Ne.decodeAudio(R,pe)})}),[4,g];case 1:return v=$.sent(),D=new w.AudioWrapper(v),w.finalizationRegistry.register(D,v),[2,D]}})})},Gt=function(R){return G(void 0,void 0,void 0,function(){var g,v,D;return re(this,function($){switch($.label){case 0:return g=new Promise(function(pe){return rt.getInstance(function(Ne){Ne.decodeImage(R,pe)})}),[4,g];case 1:return v=$.sent(),D=new w.ImageWrapper(v),w.finalizationRegistry.register(D,v),[2,D]}})})},yn=function(R){return G(void 0,void 0,void 0,function(){var g,v,D;return re(this,function($){switch($.label){case 0:return g=new Promise(function(pe){return rt.getInstance(function(Ne){Ne.decodeFont(R,pe)})}),[4,g];case 1:return v=$.sent(),D=new w.FontWrapper(v),w.finalizationRegistry.register(D,v),[2,D]}})})}})(),c})())})(Ah)),Ah.exports}var m_;function BT(){return m_||(m_=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=rf(),i=zT();function s(C){return C&&typeof C=="object"&&"default"in C?C:{default:C}}var l=s(e),c=function(){return c=Object.assign||function(C){for(var V,I=1,Q=arguments.length;I<Q;I++)for(var ne in V=arguments[I])Object.prototype.hasOwnProperty.call(V,ne)&&(C[ne]=V[ne]);return C},c.apply(this,arguments)};function p(C,V){var I={};for(var Q in C)Object.prototype.hasOwnProperty.call(C,Q)&&V.indexOf(Q)<0&&(I[Q]=C[Q]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var ne=0;for(Q=Object.getOwnPropertySymbols(C);ne<Q.length;ne++)V.indexOf(Q[ne])<0&&Object.prototype.propertyIsEnumerable.call(C,Q[ne])&&(I[Q[ne]]=C[Q[ne]])}return I}function b(C,V,I,Q){return new(I||(I=Promise))(function(ne,F){function J(xe){try{fe(Q.next(xe))}catch(L){F(L)}}function ye(xe){try{fe(Q.throw(xe))}catch(L){F(L)}}function fe(xe){var L;xe.done?ne(xe.value):(L=xe.value,L instanceof I?L:new I(function(ae){ae(L)})).then(J,ye)}fe((Q=Q.apply(C,[])).next())})}function E(C,V){var I,Q,ne,F,J={label:0,sent:function(){if(1&ne[0])throw ne[1];return ne[1]},trys:[],ops:[]};return F={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function ye(fe){return function(xe){return(function(L){if(I)throw new TypeError("Generator is already executing.");for(;J;)try{if(I=1,Q&&(ne=2&L[0]?Q.return:L[0]?Q.throw||((ne=Q.return)&&ne.call(Q),0):Q.next)&&!(ne=ne.call(Q,L[1])).done)return ne;switch(Q=0,ne&&(L=[2&L[0],ne.value]),L[0]){case 0:case 1:ne=L;break;case 4:return J.label++,{value:L[1],done:!1};case 5:J.label++,Q=L[1],L=[0];continue;case 7:L=J.ops.pop(),J.trys.pop();continue;default:if(ne=J.trys,!((ne=ne.length>0&&ne[ne.length-1])||L[0]!==6&&L[0]!==2)){J=0;continue}if(L[0]===3&&(!ne||L[1]>ne[0]&&L[1]<ne[3])){J.label=L[1];break}if(L[0]===6&&J.label<ne[1]){J.label=ne[1],ne=L;break}if(ne&&J.label<ne[2]){J.label=ne[2],J.ops.push(L);break}ne[2]&&J.ops.pop(),J.trys.pop();continue}L=V.call(C,J)}catch(ae){L=[6,ae],Q=0}finally{I=ne=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}})([fe,xe])}}}function w(C){var V=C||x(),I=e.useState(V),Q=I[0],ne=I[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var F=function(){var ye=C||x();ne(ye)},J=window.matchMedia("screen and (resolution: ".concat(Q,"dppx)"));return J.hasOwnProperty("addEventListener")?J.addEventListener("change",F):J.addListener(F),function(){J.hasOwnProperty("removeEventListener")?J.removeEventListener("change",F):J.removeListener(F)}}},[Q,C]),Q}function x(){var C=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,C),3)}var P=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),G=globalThis.ResizeObserver||P,re=globalThis.ResizeObserver!==void 0,z=!re;function Ve(C,V){V===void 0&&(V=!0);var I=e.useState({width:0,height:0}),Q=I[0],ne=I[1];e.useEffect(function(){if(typeof window<"u"&&V){var xe=function(){ne({width:window.innerWidth,height:window.innerHeight})};return z&&(xe(),window.addEventListener("resize",xe)),function(){return window.removeEventListener("resize",xe)}}},[]);var F,J,ye,fe=e.useRef(new G((F=function(xe){re&&ne({width:xe[xe.length-1].contentRect.width,height:xe[xe.length-1].contentRect.height})},J=0,ye=0,function(){for(var xe=this,L=[],ae=0;ae<arguments.length;ae++)L[ae]=arguments[ae];clearTimeout(ye),ye=window.setTimeout(function(){return F.apply(xe,L)},J)})));return e.useEffect(function(){var xe=fe.current;if(V){var L=C.current;return C.current&&re&&xe.observe(C.current),function(){xe.disconnect(),L&&re&&xe.unobserve(L)}}xe.disconnect()},[C,fe]),Q}var Ee={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Pe(C){return Object.assign({},Ee,C)}function Le(C){var V=C.riveLoaded,I=V!==void 0&&V,Q=C.canvasElem,ne=C.containerRef,F=C.options,J=F===void 0?{}:F,ye=C.onCanvasHasResized,fe=C.artboardBounds,xe=Pe(J),L=e.useState({height:0,width:0}),ae=L[0],Re=ae.height,Te=ae.width,Me=L[1],Qe=e.useState({height:0,width:0}),ht=Qe[0],st=ht.height,lt=ht.width,At=Qe[1],sn=e.useState(!0),ft=sn[0],St=sn[1],Bt=xe.fitCanvasToArtboardHeight,Lt=xe.shouldResizeCanvasToContainer,Nn=xe.useDevicePixelRatio,ri=xe.customDevicePixelRatio,Jt=Ve(ne,Lt),nt=w(ri),wt=fe??{},gn=wt.maxX,Rr=wt.maxY,In=e.useCallback(function(){var Gt,yn,R,g,v=(yn=(Gt=ne.current)===null||Gt===void 0?void 0:Gt.clientWidth)!==null&&yn!==void 0?yn:0,D=(g=(R=ne.current)===null||R===void 0?void 0:R.clientHeight)!==null&&g!==void 0?g:0;return Bt&&fe?{width:v,height:v*(fe.maxY/fe.maxX)}:{width:v,height:D}},[ne,Bt,gn,Rr]);e.useEffect(function(){if(Lt&&ne.current&&I){var Gt=In(),yn=Gt.width,R=Gt.height,g=!1;if(Q){var v=yn!==Te||R!==Re;if(xe.fitCanvasToArtboardHeight&&v&&(ne.current.style.height=R+"px",g=!0),xe.useDevicePixelRatio){if(v||yn*nt!==lt||R*nt!==st){var D=nt*yn,$=nt*R;Q.width=D,Q.height=$,Q.style.width=yn+"px",Q.style.height=R+"px",At({width:D,height:$}),g=!0}}else v&&(Q.width=yn,Q.height=R,At({width:yn,height:R}),g=!0);Me({width:yn,height:R})}ye&&(ft||g)&&ye&&ye(),ft&&St(!1)}},[Q,ne,Jt,nt,In,ft,St,st,lt,Re,Te,ye,Lt,Bt,Nn,I]),e.useEffect(function(){At({width:0,height:0})},[Q])}var ze,rt=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),pt=globalThis.IntersectionObserver||rt,ot=(function(){function C(){var V=this;this.elementsMap=new Map,this.onObserved=function(I){I.forEach(function(Q){var ne=V.elementsMap.get(Q.target);ne&&ne(Q)})},this.observer=new pt(this.onObserved)}return C.prototype.registerCallback=function(V,I){this.observer.observe(V),this.elementsMap.set(V,I)},C.prototype.removeCallback=function(V){this.observer.unobserve(V),this.elementsMap.delete(V)},C})(),H=function(){return ze||(ze=new ot),ze};function B(C){var V=C.setContainerRef,I=C.setCanvasRef,Q=C.className,ne=Q===void 0?"":Q,F=C.style,J=C.children,ye=p(C,["setContainerRef","setCanvasRef","className","style","children"]),fe=c({width:"100%",height:"100%"},F);return l.default.createElement("div",c({ref:V,className:ne},!ne&&{style:fe}),l.default.createElement("canvas",c({ref:I,style:{verticalAlign:"top",width:0,height:0}},ye),J))}function k(C,V){V===void 0&&(V={});var I=e.useState(null),Q=I[0],ne=I[1],F=e.useRef(null),J=e.useRef(null),ye=e.useState(null),fe=ye[0],xe=ye[1],L=!!C,ae=Pe(V),Re=w(),Te=e.useCallback(function(){if(fe){if(fe.layout&&fe.layout.fit===i.Fit.Layout&&Q){var ft=Re*fe.layout.layoutScaleFactor;fe.devicePixelRatioUsed=Re,fe.artboardWidth=Q?.width/ft,fe.artboardHeight=Q?.height/ft}fe.startRendering(),fe.resizeToCanvas()}},[fe,Re]);Le({riveLoaded:!!fe,canvasElem:Q,containerRef:F,options:ae,onCanvasHasResized:Te,artboardBounds:fe?.bounds});var Me=e.useCallback(function(ft){ft===null&&Q&&(Q.height=0,Q.width=0),ne(ft)},[]);e.useEffect(function(){if(Q&&C){var ft,St=fe!=null;if(fe==null){var Bt=ae.useOffscreenRenderer,Lt=C.onRiveReady,Nn=p(C,["onRiveReady"]);ft=new i.Rive(c(c({useOffscreenRenderer:Bt},Nn),{canvas:Q})),J.current!=null&&J.current.cleanup(),J.current=ft,ft.on(i.EventType.Load,function(){St=!0,Lt&&Lt(ft),Q?xe(ft):ft.cleanup()})}return function(){St||ft==null||ft.cleanup()}}},[Q,L,fe]);var Qe=e.useCallback(function(ft){F.current=ft},[]),ht={observe:e.useCallback(function(ft,St){H().registerCallback(ft,St)},[]),unobserve:e.useCallback(function(ft){H().removeCallback(ft)},[])},st=ht.observe,lt=ht.unobserve;e.useEffect(function(){var ft,St=!1,Bt=function(){if(Q&&St){var Lt=Q.getBoundingClientRect();Lt.width>0&&Lt.height>0&&Lt.top<(window.innerHeight||document.documentElement.clientHeight)&&Lt.bottom>0&&Lt.left<(window.innerWidth||document.documentElement.clientWidth)&&Lt.right>0&&(fe?.startRendering(),St=!1)}};return Q&&ae.shouldUseIntersectionObserver!==!1&&st(Q,function(Lt){Lt.isIntersecting?fe&&fe.startRendering():fe&&fe.stopRendering(),St=!Lt.isIntersecting,clearTimeout(ft),Lt.isIntersecting||Lt.boundingClientRect.width!==0||(ft=setTimeout(Bt,10))}),function(){Q&&lt(Q)}},[st,lt,fe,Q,ae.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){fe&&(fe.cleanup(),xe(null))}},[fe,Q]),e.useEffect(function(){return function(){J.current!=null&&J.current.cleanup()}},[]);var At=C?.animations;e.useEffect(function(){fe&&At&&(fe.isPlaying?(fe.stop(fe.animationNames),fe.play(At)):fe.isPaused&&(fe.stop(fe.animationNames),fe.pause(At)))},[At,fe]);var sn=e.useCallback(function(ft){return l.default.createElement(B,c({setContainerRef:Qe,setCanvasRef:Me},ft))},[Me,Qe]);return{canvas:Q,container:F.current,setCanvasRef:Me,setContainerRef:Qe,rive:fe,RiveComponent:sn}}function j(C,V,I){var Q=e.useState(null),ne=Q[0],F=Q[1],J=e.useState(I.defaultValue),ye=J[0],fe=J[1],xe=e.useState(null),L=xe[0],ae=xe[1],Re=e.useRef(null),Te=e.useRef(C),Me=e.useRef(I);e.useEffect(function(){Me.current=I},[I]);var Qe=e.useCallback(function(){var At=Re.current,sn=Te.current,ft=Me.current;if(!At||!sn)return F(null),fe(ft.defaultValue),ae(null),function(){};var St=ft.getProperty(At,sn);if(St){F(St),fe(ft.getValue(St)),ft.getExtendedData&&ae(ft.getExtendedData(St));var Bt=function(){fe(ft.getValue(St)),ft.getExtendedData&&ae(ft.getExtendedData(St)),ft.onPropertyEvent&&ft.onPropertyEvent()};return St.on(Bt),function(){St.off(Bt)}}return function(){}},[]);e.useEffect(function(){return Re.current=V,Te.current=C,Qe()},[V,C,Qe]);var ht=e.useCallback(function(At){if(ne&&Re.current===V)try{return At(ne),void(Me.current.getExtendedData&&ae(Me.current.getExtendedData(ne)))}catch{}if(Re.current)try{var sn=Me.current.getProperty(Re.current,Te.current);sn&&(F(sn),At(sn),Me.current.getExtendedData&&ae(Me.current.getExtendedData(sn)))}catch{}},[ne,V]),st=e.useMemo(function(){return Me.current.buildPropertyOperations(ht)},[ht]),lt=c({value:ye},st);return I.getExtendedData&&(lt.extendedData=L),lt}r.default=function(C){var V=C.src,I=C.artboard,Q=C.animations,ne=C.stateMachines,F=C.layout,J=C.useOffscreenRenderer,ye=J===void 0||J,fe=C.shouldDisableRiveListeners,xe=fe!==void 0&&fe,L=C.shouldResizeCanvasToContainer,ae=L===void 0||L,Re=C.automaticallyHandleEvents,Te=Re!==void 0&&Re,Me=C.children,Qe=p(C,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),ht=k({src:V,artboard:I,animations:Q,layout:F,stateMachines:ne,autoplay:!0,shouldDisableRiveListeners:xe,automaticallyHandleEvents:Te},{useOffscreenRenderer:ye,shouldResizeCanvasToContainer:ae}).RiveComponent;return l.default.createElement(ht,c({},Qe),Me)},r.useResizeCanvas=Le,r.useRive=k,r.useRiveFile=function(C){var V=this,I=e.useState(null),Q=I[0],ne=I[1],F=e.useState("idle"),J=F[0],ye=F[1];return e.useEffect(function(){var fe=null;return b(V,void 0,void 0,function(){return E(this,function(xe){try{ye("loading"),(fe=new i.RiveFile(C)).init(),fe.on(i.EventType.Load,function(){fe?.getInstance(),ne(fe),ye("success")}),fe.on(i.EventType.LoadError,function(){ye("failed")}),ne(fe)}catch(L){console.error(L),ye("failed")}return[2]})}),function(){fe?.cleanup()}},[C.src,C.buffer]),{riveFile:Q,status:J}},r.useStateMachineInput=function(C,V,I,Q){var ne=e.useState(null),F=ne[0],J=ne[1];return e.useEffect(function(){function ye(){if(C&&V&&I||J(null),C&&V&&I){var fe=C.stateMachineInputs(V);if(fe){var xe=fe.find(function(L){return L.name===I});Q!==void 0&&xe&&(xe.value=Q),J(xe||null)}}else J(null)}ye(),C&&C.on(i.EventType.Load,function(){ye()})},[C]),F},r.useViewModel=function(C,V){var I=V??{},Q=I.name,ne=I.useDefault,F=ne!==void 0&&ne,J=e.useState(null),ye=J[0],fe=J[1];return e.useEffect(function(){function xe(){var L;if(C){var ae=null;ae=Q!=null?((L=C.viewModelByName)===null||L===void 0?void 0:L.call(C,Q))||null:C.defaultViewModel()||null,fe(ae)}else fe(null)}return xe(),C&&C.on(i.EventType.Load,xe),function(){C&&C.off(i.EventType.Load,xe)}},[C,Q,F]),ye},r.useViewModelInstance=function(C,V){var I=V??{},Q=I.name,ne=I.useDefault,F=ne!==void 0&&ne,J=I.useNew,ye=J!==void 0&&J,fe=I.rive,xe=e.useState(null),L=xe[0],ae=xe[1];return e.useEffect(function(){var Re,Te,Me;if(C){var Qe=null;Qe=Q!=null?C.instanceByName(Q)||null:F?((Re=C.defaultInstance)===null||Re===void 0?void 0:Re.call(C))||null:ye?((Te=C.instance)===null||Te===void 0?void 0:Te.call(C))||null:((Me=C.defaultInstance)===null||Me===void 0?void 0:Me.call(C))||null,ae(Qe),fe&&Qe&&fe.viewModelInstance!==Qe&&fe.bindViewModelInstance(Qe)}else ae(null)},[C,Q,F,ye,fe]),L},r.useViewModelInstanceArtboard=function(C,V){return{setValue:j(C,V,{getProperty:e.useCallback(function(I,Q){return I.artboard(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(Q){I(function(ne){ne.value=Q})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(C,V){var I=j(C,V,{getProperty:e.useCallback(function(Q,ne){return Q.boolean(ne)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ne){Q(function(F){F.value=ne})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceColor=function(C,V){var I=j(C,V,{getProperty:e.useCallback(function(Q,ne){return Q.color(ne)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ne){Q(function(F){F.value=ne})},setRgb:function(ne,F,J){Q(function(ye){ye.rgb(ne,F,J)})},setRgba:function(ne,F,J,ye){Q(function(fe){fe.rgba(ne,F,J,ye)})},setAlpha:function(ne){Q(function(F){F.alpha(ne)})},setOpacity:function(ne){Q(function(F){F.opacity(ne)})}}},[])});return{value:I.value,setValue:I.setValue,setRgb:I.setRgb,setRgba:I.setRgba,setAlpha:I.setAlpha,setOpacity:I.setOpacity}},r.useViewModelInstanceEnum=function(C,V){var I=j(C,V,{getProperty:e.useCallback(function(Q,ne){return Q.enum(ne)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(Q){return Q.values},[]),buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ne){Q(function(F){F.value=ne})}}},[])});return{value:I.value,values:I.extendedData||[],setValue:I.setValue}},r.useViewModelInstanceImage=function(C,V){return{setValue:j(C,V,{getProperty:e.useCallback(function(I,Q){return I.image(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(Q){I(function(ne){ne.value=Q})}}},[])}).setValue}},r.useViewModelInstanceList=function(C,V){var I,Q=e.useState(0)[1],ne=j(C,V,{getProperty:e.useCallback(function(F,J){return F.list(J)},[]),getValue:e.useCallback(function(F){return F.length},[]),defaultValue:null,onPropertyEvent:function(){Q(function(F){return F+1})},buildPropertyOperations:e.useCallback(function(F){return{addInstance:function(J){F(function(ye){return ye.addInstance(J)})},addInstanceAt:function(J,ye){var fe=!1;return F(function(xe){fe=xe.addInstanceAt(J,ye)}),fe},removeInstance:function(J){F(function(ye){return ye.removeInstance(J)})},removeInstanceAt:function(J){F(function(ye){return ye.removeInstanceAt(J)})},getInstanceAt:function(J){var ye=null;return F(function(fe){ye=fe.instanceAt(J)}),ye},swap:function(J,ye){F(function(fe){return fe.swap(J,ye)})}}},[])});return{length:(I=ne.value)!==null&&I!==void 0?I:0,addInstance:ne.addInstance,addInstanceAt:ne.addInstanceAt,removeInstance:ne.removeInstance,removeInstanceAt:ne.removeInstanceAt,getInstanceAt:ne.getInstanceAt,swap:ne.swap}},r.useViewModelInstanceNumber=function(C,V){var I=j(C,V,{getProperty:e.useCallback(function(Q,ne){return Q.number(ne)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ne){Q(function(F){F.value=ne})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceString=function(C,V){var I=j(C,V,{getProperty:e.useCallback(function(Q,ne){return Q.string(ne)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ne){Q(function(F){F.value=ne})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceTrigger=function(C,V,I){var Q=(I??{}).onTrigger;return{trigger:j(C,V,{getProperty:e.useCallback(function(ne,F){return ne.trigger(F)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:Q,buildPropertyOperations:e.useCallback(function(ne){return{trigger:function(){ne(function(F){F.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(C){C==="default"||r.hasOwnProperty(C)||Object.defineProperty(r,C,{enumerable:!0,get:function(){return i[C]}})})})(vm)),vm}var so=BT();const FT=()=>{};var p_={};const K0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},HT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],E=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[s++]=String.fromCharCode(55296+(E>>10)),e[s++]=String.fromCharCode(56320+(E&1023))}else{const c=r[i++],p=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},W0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,E=l+2<r.length,w=E?r[l+2]:0,x=c>>2,P=(c&3)<<4|b>>4;let G=(b&15)<<2|w>>6,re=w&63;E||(re=64,p||(G=64)),s.push(i[x],i[P],i[G],i[re])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(K0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):HT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const w=l<r.length?i[r.charAt(l)]:64;++l;const P=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||w==null||P==null)throw new qT;const G=c<<2|b>>4;if(s.push(G),w!==64){const re=b<<4&240|w>>2;if(s.push(re),P!==64){const z=w<<6&192|P;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GT=function(r){const e=K0(r);return W0.encodeByteArray(e,!0)},kh=function(r){return GT(r).replace(/\./g,"")},$0=function(r){try{return W0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XT=()=>YT().__FIREBASE_DEFAULTS__,QT=()=>{if(typeof process>"u"||typeof p_>"u")return;const r=p_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},KT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&$0(r[1]);return e&&JSON.parse(e)},af=()=>{try{return FT()||XT()||QT()||KT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},J0=r=>af()?.emulatorHosts?.[r],WT=r=>{const e=J0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Z0=()=>af()?.config,eb=r=>af()?.[`_${r}`];class $T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tb(r){return(await fetch(r,{credentials:"include"})).ok}function JT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[kh(JSON.stringify(i)),kh(JSON.stringify(p)),""].join(".")}const Bu={};function ZT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?r.emulator.push(e):r.prod.push(e);return r}function eA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let g_=!1;function nb(r,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||Bu[r]===e||Bu[r]||g_)return;Bu[r]=e;function i(G){return`__firebase__banner__${G}`}const s="__firebase__banner",c=ZT().prod.length>0;function p(){const G=document.getElementById(s);G&&G.remove()}function b(G){G.style.display="flex",G.style.background="#7faaf0",G.style.position="fixed",G.style.bottom="5px",G.style.left="5px",G.style.padding=".5em",G.style.borderRadius="5px",G.style.alignItems="center"}function E(G,re){G.setAttribute("width","24"),G.setAttribute("id",re),G.setAttribute("height","24"),G.setAttribute("viewBox","0 0 24 24"),G.setAttribute("fill","none"),G.style.marginLeft="-6px"}function w(){const G=document.createElement("span");return G.style.cursor="pointer",G.style.marginLeft="16px",G.style.fontSize="24px",G.innerHTML=" &times;",G.onclick=()=>{g_=!0,p()},G}function x(G,re){G.setAttribute("id",re),G.innerText="Learn more",G.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",G.setAttribute("target","__blank"),G.style.paddingLeft="5px",G.style.textDecoration="underline"}function P(){const G=eA(s),re=i("text"),z=document.getElementById(re)||document.createElement("span"),Ve=i("learnmore"),Ee=document.getElementById(Ve)||document.createElement("a"),Pe=i("preprendIcon"),Le=document.getElementById(Pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(G.created){const ze=G.element;b(ze),x(Ee,Ve);const rt=w();E(Le,Pe),ze.append(Le,z,Ee,rt),document.body.appendChild(ze)}c?(z.innerText="Preview backend disconnected.",Le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",re)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",P):P()}function Qi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qi())}function nA(){const r=af()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sA(){const r=Qi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oA(){return!nA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lA(){try{return typeof indexedDB=="object"}catch{return!1}}function uA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const cA="FirebaseError";class Rs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=cA,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?hA(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Rs(l,b,s)}}function hA(r,e){return r.replace(fA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const fA=/\{\$([^}]+)}/g;function dA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function zo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],p=e[l];if(y_(c)&&y_(p)){if(!zo(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function y_(r){return r!==null&&typeof r=="object"}function rc(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function mA(r,e){const i=new pA(r,e);return i.subscribe.bind(i)}class pA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");gA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=_m),l.error===void 0&&(l.error=_m),l.complete===void 0&&(l.complete=_m);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function _m(){}function Fr(r){return r&&r._delegate?r._delegate:r}class Bo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Uo="[DEFAULT]";class yA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new $T;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_A(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vA(r){return r===Uo?void 0:r}function _A(r){return r.instantiationMode==="EAGER"}class bA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Kt||(Kt={}));const wA={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},EA=Kt.INFO,TA={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},AA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=TA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=EA,this._logHandler=AA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const SA=(r,e)=>e.some(i=>r instanceof i);let v_,__;function RA(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CA(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ib=new WeakMap,km=new WeakMap,rb=new WeakMap,bm=new WeakMap,cp=new WeakMap;function IA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(lo(r.result)),l()},p=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&ib.set(i,r)}).catch(()=>{}),cp.set(e,r),e}function xA(r){if(km.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});km.set(r,e)}let Pm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||rb.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lo(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function MA(r){Pm=r(Pm)}function NA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(wm(this),e,...i);return rb.set(s,e.sort?e.sort():[e]),lo(s)}:CA().includes(r)?function(...e){return r.apply(wm(this),e),lo(ib.get(this))}:function(...e){return lo(r.apply(wm(this),e))}}function DA(r){return typeof r=="function"?NA(r):(r instanceof IDBTransaction&&xA(r),SA(r,RA())?new Proxy(r,Pm):r)}function lo(r){if(r instanceof IDBRequest)return IA(r);if(bm.has(r))return bm.get(r);const e=DA(r);return e!==r&&(bm.set(r,e),cp.set(e,r)),e}const wm=r=>cp.get(r);function OA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=lo(p);return s&&p.addEventListener("upgradeneeded",E=>{s(lo(p.result),E.oldVersion,E.newVersion,lo(p.transaction),E)}),i&&p.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),b.then(E=>{c&&E.addEventListener("close",()=>c()),l&&E.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),b}const VA=["get","getKey","getAll","getAllKeys","count"],kA=["put","add","delete","clear"],Em=new Map;function b_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=kA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||VA.includes(i)))return;const c=async function(p,...b){const E=this.transaction(p,l?"readwrite":"readonly");let w=E.store;return s&&(w=w.index(b.shift())),(await Promise.all([w[i](...b),l&&E.done]))[0]};return Em.set(e,c),c}MA(r=>({...r,get:(e,i,s)=>b_(e,i)||r.get(e,i,s),has:(e,i)=>!!b_(e,i)||r.has(e,i)}));class PA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function LA(r){return r.getComponent()?.type==="VERSION"}const Lm="@firebase/app",w_="0.14.6";const bs=new up("@firebase/app"),UA="@firebase/app-compat",jA="@firebase/analytics-compat",zA="@firebase/analytics",BA="@firebase/app-check-compat",FA="@firebase/app-check",HA="@firebase/auth",qA="@firebase/auth-compat",GA="@firebase/database",YA="@firebase/data-connect",XA="@firebase/database-compat",QA="@firebase/functions",KA="@firebase/functions-compat",WA="@firebase/installations",$A="@firebase/installations-compat",JA="@firebase/messaging",ZA="@firebase/messaging-compat",eS="@firebase/performance",tS="@firebase/performance-compat",nS="@firebase/remote-config",iS="@firebase/remote-config-compat",rS="@firebase/storage",aS="@firebase/storage-compat",sS="@firebase/firestore",oS="@firebase/ai",lS="@firebase/firestore-compat",uS="firebase",cS="12.6.0";const Um="[DEFAULT]",hS={[Lm]:"fire-core",[UA]:"fire-core-compat",[zA]:"fire-analytics",[jA]:"fire-analytics-compat",[FA]:"fire-app-check",[BA]:"fire-app-check-compat",[HA]:"fire-auth",[qA]:"fire-auth-compat",[GA]:"fire-rtdb",[YA]:"fire-data-connect",[XA]:"fire-rtdb-compat",[QA]:"fire-fn",[KA]:"fire-fn-compat",[WA]:"fire-iid",[$A]:"fire-iid-compat",[JA]:"fire-fcm",[ZA]:"fire-fcm-compat",[eS]:"fire-perf",[tS]:"fire-perf-compat",[nS]:"fire-rc",[iS]:"fire-rc-compat",[rS]:"fire-gcs",[aS]:"fire-gcs-compat",[sS]:"fire-fst",[lS]:"fire-fst-compat",[oS]:"fire-vertex","fire-js":"fire-js",[uS]:"fire-js-all"};const Ph=new Map,fS=new Map,jm=new Map;function E_(r,e){try{r.container.addComponent(e)}catch(i){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function jl(r){const e=r.name;if(jm.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,r);for(const i of Ph.values())E_(i,r);for(const i of fS.values())E_(i,r);return!0}function hp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function na(r){return r==null?!1:r.settings!==void 0}const dS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new ic("app","Firebase",dS);class mS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}const Xl=cS;function ab(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Um,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw uo.create("bad-app-name",{appName:String(l)});if(i||(i=Z0()),!i)throw uo.create("no-options");const c=Ph.get(l);if(c){if(zo(i,c.options)&&zo(s,c.config))return c;throw uo.create("duplicate-app",{appName:l})}const p=new bA(l);for(const E of jm.values())p.addComponent(E);const b=new mS(i,s,p);return Ph.set(l,b),b}function sb(r=Um){const e=Ph.get(r);if(!e&&r===Um&&Z0())return ab();if(!e)throw uo.create("no-app",{appName:r});return e}function co(r,e,i){let s=hS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(p.join(" "));return}jl(new Bo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const pS="firebase-heartbeat-database",gS=1,Qu="firebase-heartbeat-store";let Tm=null;function ob(){return Tm||(Tm=OA(pS,gS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Qu)}catch(i){console.warn(i)}}}}).catch(r=>{throw uo.create("idb-open",{originalErrorMessage:r.message})})),Tm}async function yS(r){try{const i=(await ob()).transaction(Qu),s=await i.objectStore(Qu).get(lb(r));return await i.done,s}catch(e){if(e instanceof Rs)bs.warn(e.message);else{const i=uo.create("idb-get",{originalErrorMessage:e?.message});bs.warn(i.message)}}}async function T_(r,e){try{const s=(await ob()).transaction(Qu,"readwrite");await s.objectStore(Qu).put(e,lb(r)),await s.done}catch(i){if(i instanceof Rs)bs.warn(i.message);else{const s=uo.create("idb-set",{originalErrorMessage:i?.message});bs.warn(s.message)}}}function lb(r){return`${r.name}!${r.options.appId}`}const vS=1024,_S=30;class bS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ES(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>_S){const l=TS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A_(),{heartbeatsToSend:i,unsentEntries:s}=wS(this._heartbeatsCache.heartbeats),l=kh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return bs.warn(e),""}}}function A_(){return new Date().toISOString().substring(0,10)}function wS(r,e=vS){const i=[];let s=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),S_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),S_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class ES{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?uA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S_(r){return kh(JSON.stringify({version:2,heartbeats:r})).length}function TS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function AS(r){jl(new Bo("platform-logger",e=>new PA(e),"PRIVATE")),jl(new Bo("heartbeat",e=>new bS(e),"PRIVATE")),co(Lm,w_,r),co(Lm,w_,"esm2020"),co("fire-js","")}AS("");var SS="firebase",RS="12.6.0";co(SS,RS,"app");function ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CS=ub,cb=new ic("auth","Firebase",ub());const Lh=new up("@firebase/auth");function IS(r,...e){Lh.logLevel<=Kt.WARN&&Lh.warn(`Auth (${Xl}): ${r}`,...e)}function Sh(r,...e){Lh.logLevel<=Kt.ERROR&&Lh.error(`Auth (${Xl}): ${r}`,...e)}function ws(r,...e){throw fp(r,...e)}function ka(r,...e){return fp(r,...e)}function hb(r,e,i){const s={...CS(),[e]:i};return new ic("auth","Firebase",s).create(e,{appName:r.name})}function vs(r){return hb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return cb.create(r,...e)}function Rt(r,e,...i){if(!r)throw fp(e,...i)}function gs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function Es(r,e){r||gs(e)}function zm(){return typeof self<"u"&&self.location?.href||""}function xS(){return R_()==="http:"||R_()==="https:"}function R_(){return typeof self<"u"&&self.location?.protocol||null}function MS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xS()||rA()||"connection"in navigator)?navigator.onLine:!0}function NS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ac{constructor(e,i){this.shortDelay=e,this.longDelay=i,Es(i>e,"Short delay should be less than long delay!"),this.isMobile=tA()||aA()}get(){return MS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dp(r,e){Es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class fb{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VS=new ac(3e4,6e4);function sc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ql(r,e,i,s,l={}){return db(r,l,async()=>{let c={},p={};s&&(e==="GET"?p=s:c={body:JSON.stringify(s)});const b=rc({key:r.config.apiKey,...p}).slice(1),E=await r._getAdditionalHeaders();E["Content-Type"]="application/json",r.languageCode&&(E["X-Firebase-Locale"]=r.languageCode);const w={method:e,headers:E,...c};return iA()||(w.referrerPolicy="no-referrer"),r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(w.credentials="include"),fb.fetch()(await mb(r,r.config.apiHost,i,b),w)})}async function db(r,e,i){r._canInitEmulator=!1;const s={...DS,...e};try{const l=new kS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw gh(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[E,w]=b.split(" : ");if(E==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",p);if(E==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",p);if(E==="USER_DISABLED")throw gh(r,"user-disabled",p);const x=s[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw hb(r,x,w);ws(r,x)}}catch(l){if(l instanceof Rs)throw l;ws(r,"network-request-failed",{message:String(l)})}}async function mp(r,e,i,s,l={}){const c=await Ql(r,e,i,s,l);return"mfaPendingCredential"in c&&ws(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function mb(r,e,i,s){const l=`${e}${i}?${s}`,c=r,p=c.config.emulator?dp(r.config,l):`${r.config.apiScheme}://${l}`;return OS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class kS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(ka(this.auth,"network-request-failed")),VS.get())})}}function gh(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=ka(r,e,s);return l.customData._tokenResponse=i,l}async function PS(r,e){return Ql(r,"POST","/v1/accounts:delete",e)}async function Uh(r,e){return Ql(r,"POST","/v1/accounts:lookup",e)}function Fu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LS(r,e=!1){const i=Fr(r),s=await i.getIdToken(e),l=pp(s);Rt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:s,authTime:Fu(Am(l.auth_time)),issuedAtTime:Fu(Am(l.iat)),expirationTime:Fu(Am(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Am(r){return Number(r)*1e3}function pp(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const l=$0(i);return l?JSON.parse(l):(Sh("Failed to decode base64 JWT payload"),null)}catch(l){return Sh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function C_(r){const e=pp(r);return Rt(e,"internal-error"),Rt(typeof e.exp<"u","internal-error"),Rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ku(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Rs&&US(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function US({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class jS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jh(r){const e=r.auth,i=await r.getIdToken(),s=await Ku(r,Uh(e,{idToken:i}));Rt(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?pb(l.providerUserInfo):[],p=BS(r.providerData,c),b=r.isAnonymous,E=!(r.email&&l.passwordHash)&&!p?.length,w=b?E:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Bm(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(r,x)}async function zS(r){const e=Fr(r);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BS(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function pb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function FS(r,e){const i=await db(r,{},async()=>{const s=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await mb(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const E={method:"POST",headers:b,body:s};return r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(E.credentials="include"),fb.fetch()(p,E)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function HS(r,e){return Ql(r,"POST","/v2/accounts:revokeToken",sc(r,e))}class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Rt(e.idToken,"internal-error"),Rt(typeof e.idToken<"u","internal-error"),Rt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Rt(e.length!==0,"internal-error");const i=C_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await FS(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,p=new Ol;return s&&(Rt(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),l&&(Rt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Rt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return gs("not implemented")}}function to(r,e){Rt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class pa{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new jS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Bm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return Rt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return LS(this,e)}reload(){return zS(this)}_assign(e){this!==e&&(Rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new pa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(na(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Ku(this,PS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,E=i._redirectEventId??void 0,w=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:P,emailVerified:G,isAnonymous:re,providerData:z,stsTokenManager:Ve}=i;Rt(P&&Ve,e,"internal-error");const Ee=Ol.fromJSON(this.name,Ve);Rt(typeof P=="string",e,"internal-error"),to(s,e.name),to(l,e.name),Rt(typeof G=="boolean",e,"internal-error"),Rt(typeof re=="boolean",e,"internal-error"),to(c,e.name),to(p,e.name),to(b,e.name),to(E,e.name),to(w,e.name),to(x,e.name);const Pe=new pa({uid:P,auth:e,email:l,emailVerified:G,displayName:s,isAnonymous:re,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Ee,createdAt:w,lastLoginAt:x});return z&&Array.isArray(z)&&(Pe.providerData=z.map(Le=>({...Le}))),E&&(Pe._redirectEventId=E),Pe}static async _fromIdTokenResponse(e,i,s=!1){const l=new Ol;l.updateFromServerResponse(i);const c=new pa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await jh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];Rt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?pb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Ol;b.updateFromIdToken(s);const E=new pa({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Bm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(E,w),E}}const I_=new Map;function ys(r){Es(r instanceof Function,"Expected a class definition");let e=I_.get(r);return e?(Es(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,I_.set(r,e),e)}class gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}gb.type="NONE";const x_=gb;function Rh(r,e,i){return`firebase:${r}:${e}:${i}`}class Vl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Rh(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Uh(this.auth,{idToken:e}).catch(()=>{});return i?pa._fromGetAccountInfoResponse(this.auth,i,e):null}return pa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Vl(ys(x_),e,s);const l=(await Promise.all(i.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let c=l[0]||ys(x_);const p=Rh(s,e.config.apiKey,e.name);let b=null;for(const w of i)try{const x=await w._get(p);if(x){let P;if(typeof x=="string"){const G=await Uh(e,{idToken:x}).catch(()=>{});if(!G)break;P=await pa._fromGetAccountInfoResponse(e,G,x)}else P=pa._fromJSON(e,x);w!==c&&(b=P),c=w;break}}catch{}const E=l.filter(w=>w._shouldAllowMigration);return!c._shouldAllowMigration||!E.length?new Vl(c,e,s):(c=E[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async w=>{if(w!==c)try{await w._remove(p)}catch{}})),new Vl(c,e,s))}}function M_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Eb(e))return"Blackberry";if(Tb(e))return"Webos";if(vb(e))return"Safari";if((e.includes("chrome/")||_b(e))&&!e.includes("edge/"))return"Chrome";if(wb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function yb(r=Qi()){return/firefox\//i.test(r)}function vb(r=Qi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _b(r=Qi()){return/crios\//i.test(r)}function bb(r=Qi()){return/iemobile/i.test(r)}function wb(r=Qi()){return/android/i.test(r)}function Eb(r=Qi()){return/blackberry/i.test(r)}function Tb(r=Qi()){return/webos/i.test(r)}function gp(r=Qi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qS(r=Qi()){return gp(r)&&!!window.navigator?.standalone}function GS(){return sA()&&document.documentMode===10}function Ab(r=Qi()){return gp(r)||wb(r)||Tb(r)||Eb(r)||/windows phone/i.test(r)||bb(r)}function Sb(r,e=[]){let i;switch(r){case"Browser":i=M_(Qi());break;case"Worker":i=`${M_(Qi())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xl}/${s}`}class YS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((p,b)=>{try{const E=e(c);p(E)}catch(E){b(E)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function XS(r,e={}){return Ql(r,"GET","/v2/passwordPolicy",sc(r,e))}const QS=6;class KS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??QS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class WS{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new YS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Uh(this,{idToken:e}),s=await pa._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(na(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=s?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(s=b.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(na(this.app))return Promise.reject(vs(this));const i=e?Fr(e):null;return i&&Rt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return na(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return na(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XS(this),i=new KS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await HS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;Rt(i,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const E=e.addObserver(i,s,l);return()=>{p=!0,E()}}else{const E=e.addObserver(i);return()=>{p=!0,E()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(na(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oc(r){return Fr(r)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=mA(i=>this.observer=i)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $S(r){yp=r}function JS(r){return yp.loadJS(r)}function ZS(){return yp.gapiScript}function e2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function t2(r,e){const i=hp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zo(c,e??{}))return l;ws(l,"already-initialized")}return i.initialize({options:e})}function n2(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function i2(r,e,i){const s=oc(r);Rt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=Rb(e),{host:p,port:b}=r2(e),E=b===null?"":`:${b}`,w={url:`${c}//${p}${E}/`},x=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Rt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Rt(zo(w,s.config.emulator)&&zo(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=w,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Yl(p)?(tb(`${c}//${p}${E}`),nb("Auth",!0)):a2()}function Rb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function r2(r){const e=Rb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:D_(s.substr(c.length+1))}}else{const[c,p]=s.split(":");return{host:c,port:D_(p)}}}function D_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function a2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Cb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function kl(r,e){return mp(r,"POST","/v1/accounts:signInWithIdp",sc(r,e))}const s2="http://localhost";class Fo extends Cb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ws("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const p=new Fo(s,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return kl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,kl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,kl(e,i)}buildRequest(){const e={requestUri:s2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=rc(i)}return e}}class Ib{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends Ib{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class no extends lc{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";class io extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Fo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return io.credential(i,s)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";class ro extends lc{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";class ao extends lc{constructor(){super("twitter.com")}static credential(e,i){return Fo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return ao.credential(i,s)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";async function o2(r,e){return mp(r,"POST","/v1/accounts:signUp",sc(r,e))}class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await pa._fromIdTokenResponse(e,s,l),p=O_(s);return new Ts({user:c,providerId:p,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=O_(s);return new Ts({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function O_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function l2(r){if(na(r.app))return Promise.reject(vs(r));const e=oc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ts({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await o2(e,{returnSecureToken:!0}),s=await Ts._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class zh extends Rs{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new zh(e,i,s,l)}}function xb(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,c,e,s):c})}async function u2(r,e,i=!1){const s=await Ku(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ts._forOperation(r,"link",s)}async function c2(r,e,i=!1){const{auth:s}=r;if(na(s.app))return Promise.reject(vs(s));const l="reauthenticate";try{const c=await Ku(r,xb(s,l,e,r),i);Rt(c.idToken,s,"internal-error");const p=pp(c.idToken);Rt(p,s,"internal-error");const{sub:b}=p;return Rt(r.uid===b,s,"user-mismatch"),Ts._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ws(s,"user-mismatch"),c}}async function h2(r,e,i=!1){if(na(r.app))return Promise.reject(vs(r));const s="signIn",l=await xb(r,s,e),c=await Ts._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function f2(r,e){return mp(r,"POST","/v1/accounts:signInWithCustomToken",sc(r,e))}async function d2(r,e){if(na(r.app))return Promise.reject(vs(r));const i=oc(r),s=await f2(i,{token:e,returnSecureToken:!0}),l=await Ts._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function m2(r,e,i,s){return Fr(r).onIdTokenChanged(e,i,s)}function p2(r,e,i){return Fr(r).beforeAuthStateChanged(e,i)}function g2(r,e,i,s){return Fr(r).onAuthStateChanged(e,i,s)}const Bh="__sak";class Mb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const y2=1e3,v2=10;class Nb extends Mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,E)=>{this.notifyListeners(p,E)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},c=this.storage.getItem(s);GS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,v2):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nb.type="LOCAL";const _2=Nb;class Db extends Mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Db.type="SESSION";const Ob=Db;function b2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const b=Array.from(p).map(async w=>w(i.origin,c)),E=await b2(b);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:E})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];function vp(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class w2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,E)=>{const w=vp("",20);l.port1.start();const x=setTimeout(()=>{E(new Error("unsupported_event"))},s);p={messageChannel:l,onMessage(P){const G=P;if(G.data.eventId===w)switch(G.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{E(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(G.data.response);break;default:clearTimeout(x),clearTimeout(c),E(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:w,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Pa(){return window}function E2(r){Pa().location.href=r}function Vb(){return typeof Pa().WorkerGlobalScope<"u"&&typeof Pa().importScripts=="function"}async function T2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A2(){return navigator?.serviceWorker?.controller||null}function S2(){return Vb()?self:null}const kb="firebaseLocalStorageDb",R2=1,Fh="firebaseLocalStorage",Pb="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function of(r,e){return r.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function C2(){const r=indexedDB.deleteDatabase(kb);return new uc(r).toPromise()}function Fm(){const r=indexedDB.open(kb,R2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:Pb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await C2(),e(await Fm()))})})}async function V_(r,e,i){const s=of(r,!0).put({[Pb]:e,value:i});return new uc(s).toPromise()}async function I2(r,e){const i=of(r,!1).get(e),s=await new uc(i).toPromise();return s===void 0?null:s.value}function k_(r,e){const i=of(r,!0).delete(e);return new uc(i).toPromise()}const x2=800,M2=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>M2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(S2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await T2(),!this.activeServiceWorker)return;this.sender=new w2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await V_(e,Bh,"1"),await k_(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>V_(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>I2(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>k_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=of(l,!1).getAll();return new uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const N2=Lb;new ac(3e4,6e4);function D2(r,e){return e?ys(e):(Rt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class _p extends Cb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return kl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function O2(r){return h2(r.auth,new _p(r),r.bypassAuthState)}function V2(r){const{auth:e,user:i}=r;return Rt(i,e,"internal-error"),c2(i,new _p(r),r.bypassAuthState)}async function k2(r){const{auth:e,user:i}=r;return Rt(i,e,"internal-error"),u2(i,new _p(r),r.bypassAuthState)}class Ub{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const E={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(E))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return V2;default:ws(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const P2=new ac(2e3,1e4);class Nl extends Ub{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Rt(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ka(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ka(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ka(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P2.get())};e()}}Nl.currentPopupAction=null;const L2="pendingRedirect",Ch=new Map;class U2 extends Ub{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await j2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j2(r,e){const i=F2(e),s=B2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function z2(r,e){Ch.set(r._key(),e)}function B2(r){return ys(r._redirectPersistence)}function F2(r){return Rh(L2,r.config.apiKey,r.name)}async function H2(r,e,i=!1){if(na(r.app))return Promise.reject(vs(r));const s=oc(r),l=D2(s,e),p=await new U2(s,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}const q2=600*1e3;class G2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!jb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ka(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(e))}saveEventToCache(e){this.cachedEventUids.add(P_(e)),this.lastProcessedEventTime=Date.now()}}function P_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function jb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Y2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jb(r);default:return!1}}async function X2(r,e={}){return Ql(r,"GET","/v1/projects",e)}const Q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K2=/^https?/;async function W2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await X2(r);for(const i of e)try{if($2(i))return}catch{}ws(r,"unauthorized-domain")}function $2(r){const e=zm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===s}if(!K2.test(i))return!1;if(Q2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const J2=new ac(3e4,6e4);function L_(){const r=Pa().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Z2(r){return new Promise((e,i)=>{function s(){L_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L_(),i(ka(r,"network-request-failed"))},timeout:J2.get()})}if(Pa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pa().gapi?.load)s();else{const l=e2("iframefcb");return Pa()[l]=()=>{gapi.load?s():i(ka(r,"network-request-failed"))},JS(`${ZS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function eR(r){return Ih=Ih||Z2(r),Ih}const tR=new ac(5e3,15e3),nR="__/auth/iframe",iR="emulator/auth/iframe",rR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sR(r){const e=r.config;Rt(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?dp(e,iR):`https://${r.config.authDomain}/${nR}`,s={apiKey:e.apiKey,appName:r.name,v:Xl},l=aR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${rc(s).slice(1)}`}async function oR(r){const e=await eR(r),i=Pa().gapi;return Rt(i,r,"internal-error"),e.open({where:document.body,url:sR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const p=ka(r,"network-request-failed"),b=Pa().setTimeout(()=>{c(p)},tR.get());function E(){Pa().clearTimeout(b),l(s)}s.ping(E).then(E,()=>{c(p)})}))}const lR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uR=500,cR=600,hR="_blank",fR="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dR(r,e,i,s=uR,l=cR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const E={...lR,width:s.toString(),height:l.toString(),top:c,left:p},w=Qi().toLowerCase();i&&(b=_b(w)?hR:i),yb(w)&&(e=e||fR,E.scrollbars="yes");const x=Object.entries(E).reduce((G,[re,z])=>`${G}${re}=${z},`,"");if(qS(w)&&b!=="_self")return mR(e||"",b),new U_(null);const P=window.open(e||"",b,x);Rt(P,r,"popup-blocked");try{P.focus()}catch{}return new U_(P)}function mR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const pR="__/auth/handler",gR="emulator/auth/handler",yR=encodeURIComponent("fac");async function j_(r,e,i,s,l,c){Rt(r.config.authDomain,r,"auth-domain-config-required"),Rt(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Xl,eventId:l};if(e instanceof Ib){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",dA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,P]of Object.entries({}))p[x]=P}if(e instanceof lc){const x=e.getScopes().filter(P=>P!=="");x.length>0&&(p.scopes=x.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const x of Object.keys(b))b[x]===void 0&&delete b[x];const E=await r._getAppCheckToken(),w=E?`#${yR}=${encodeURIComponent(E)}`:"";return`${vR(r)}?${rc(b).slice(1)}${w}`}function vR({config:r}){return r.emulator?dp(r,gR):`https://${r.authDomain}/${pR}`}const Sm="webStorageSupport";class _R{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ob,this._completeRedirectFn=H2,this._overrideRedirectResult=z2}async _openPopup(e,i,s,l){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await j_(e,i,s,zm(),l);return dR(e,c,vp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await j_(e,i,s,zm(),l);return E2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Es(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await oR(e),s=new G2(e);return i.register("authEvent",l=>(Rt(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Sm,{type:Sm},l=>{const c=l?.[0]?.[Sm];c!==void 0&&i(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=W2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Ab()||vb()||gp()}}const bR=_R;var z_="@firebase/auth",B_="1.11.1";class wR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ER(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TR(r){jl(new Bo("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;Rt(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const E={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sb(r)},w=new WS(s,l,c,E);return n2(w,i),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),jl(new Bo("auth-internal",e=>{const i=oc(e.getProvider("auth").getImmediate());return(s=>new wR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(z_,B_,ER(r)),co(z_,B_,"esm2020")}const AR=300,SR=eb("authIdTokenMaxAge")||AR;let F_=null;const RR=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>SR)return;const l=i?.token;F_!==l&&(F_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function CR(r=sb()){const e=hp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=t2(r,{popupRedirectResolver:bR,persistence:[N2,_2,Ob]}),s=eb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const p=RR(c.toString());p2(i,p,()=>p(i.currentUser)),m2(i,b=>p(b))}}const l=J0("auth");return l&&i2(i,`http://${l}`),i}function IR(){return document.getElementsByTagName("head")?.[0]??document}$S({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=ka("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",IR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TR("Browser");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ho,zb;(function(){var r;function e(H,B){function k(){}k.prototype=B.prototype,H.F=B.prototype,H.prototype=new k,H.prototype.constructor=H,H.D=function(j,C,V){for(var I=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)I[Q-2]=arguments[Q];return B.prototype[C].apply(j,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(H,B,k){k||(k=0);const j=Array(16);if(typeof B=="string")for(var C=0;C<16;++C)j[C]=B.charCodeAt(k++)|B.charCodeAt(k++)<<8|B.charCodeAt(k++)<<16|B.charCodeAt(k++)<<24;else for(C=0;C<16;++C)j[C]=B[k++]|B[k++]<<8|B[k++]<<16|B[k++]<<24;B=H.g[0],k=H.g[1],C=H.g[2];let V=H.g[3],I;I=B+(V^k&(C^V))+j[0]+3614090360&4294967295,B=k+(I<<7&4294967295|I>>>25),I=V+(C^B&(k^C))+j[1]+3905402710&4294967295,V=B+(I<<12&4294967295|I>>>20),I=C+(k^V&(B^k))+j[2]+606105819&4294967295,C=V+(I<<17&4294967295|I>>>15),I=k+(B^C&(V^B))+j[3]+3250441966&4294967295,k=C+(I<<22&4294967295|I>>>10),I=B+(V^k&(C^V))+j[4]+4118548399&4294967295,B=k+(I<<7&4294967295|I>>>25),I=V+(C^B&(k^C))+j[5]+1200080426&4294967295,V=B+(I<<12&4294967295|I>>>20),I=C+(k^V&(B^k))+j[6]+2821735955&4294967295,C=V+(I<<17&4294967295|I>>>15),I=k+(B^C&(V^B))+j[7]+4249261313&4294967295,k=C+(I<<22&4294967295|I>>>10),I=B+(V^k&(C^V))+j[8]+1770035416&4294967295,B=k+(I<<7&4294967295|I>>>25),I=V+(C^B&(k^C))+j[9]+2336552879&4294967295,V=B+(I<<12&4294967295|I>>>20),I=C+(k^V&(B^k))+j[10]+4294925233&4294967295,C=V+(I<<17&4294967295|I>>>15),I=k+(B^C&(V^B))+j[11]+2304563134&4294967295,k=C+(I<<22&4294967295|I>>>10),I=B+(V^k&(C^V))+j[12]+1804603682&4294967295,B=k+(I<<7&4294967295|I>>>25),I=V+(C^B&(k^C))+j[13]+4254626195&4294967295,V=B+(I<<12&4294967295|I>>>20),I=C+(k^V&(B^k))+j[14]+2792965006&4294967295,C=V+(I<<17&4294967295|I>>>15),I=k+(B^C&(V^B))+j[15]+1236535329&4294967295,k=C+(I<<22&4294967295|I>>>10),I=B+(C^V&(k^C))+j[1]+4129170786&4294967295,B=k+(I<<5&4294967295|I>>>27),I=V+(k^C&(B^k))+j[6]+3225465664&4294967295,V=B+(I<<9&4294967295|I>>>23),I=C+(B^k&(V^B))+j[11]+643717713&4294967295,C=V+(I<<14&4294967295|I>>>18),I=k+(V^B&(C^V))+j[0]+3921069994&4294967295,k=C+(I<<20&4294967295|I>>>12),I=B+(C^V&(k^C))+j[5]+3593408605&4294967295,B=k+(I<<5&4294967295|I>>>27),I=V+(k^C&(B^k))+j[10]+38016083&4294967295,V=B+(I<<9&4294967295|I>>>23),I=C+(B^k&(V^B))+j[15]+3634488961&4294967295,C=V+(I<<14&4294967295|I>>>18),I=k+(V^B&(C^V))+j[4]+3889429448&4294967295,k=C+(I<<20&4294967295|I>>>12),I=B+(C^V&(k^C))+j[9]+568446438&4294967295,B=k+(I<<5&4294967295|I>>>27),I=V+(k^C&(B^k))+j[14]+3275163606&4294967295,V=B+(I<<9&4294967295|I>>>23),I=C+(B^k&(V^B))+j[3]+4107603335&4294967295,C=V+(I<<14&4294967295|I>>>18),I=k+(V^B&(C^V))+j[8]+1163531501&4294967295,k=C+(I<<20&4294967295|I>>>12),I=B+(C^V&(k^C))+j[13]+2850285829&4294967295,B=k+(I<<5&4294967295|I>>>27),I=V+(k^C&(B^k))+j[2]+4243563512&4294967295,V=B+(I<<9&4294967295|I>>>23),I=C+(B^k&(V^B))+j[7]+1735328473&4294967295,C=V+(I<<14&4294967295|I>>>18),I=k+(V^B&(C^V))+j[12]+2368359562&4294967295,k=C+(I<<20&4294967295|I>>>12),I=B+(k^C^V)+j[5]+4294588738&4294967295,B=k+(I<<4&4294967295|I>>>28),I=V+(B^k^C)+j[8]+2272392833&4294967295,V=B+(I<<11&4294967295|I>>>21),I=C+(V^B^k)+j[11]+1839030562&4294967295,C=V+(I<<16&4294967295|I>>>16),I=k+(C^V^B)+j[14]+4259657740&4294967295,k=C+(I<<23&4294967295|I>>>9),I=B+(k^C^V)+j[1]+2763975236&4294967295,B=k+(I<<4&4294967295|I>>>28),I=V+(B^k^C)+j[4]+1272893353&4294967295,V=B+(I<<11&4294967295|I>>>21),I=C+(V^B^k)+j[7]+4139469664&4294967295,C=V+(I<<16&4294967295|I>>>16),I=k+(C^V^B)+j[10]+3200236656&4294967295,k=C+(I<<23&4294967295|I>>>9),I=B+(k^C^V)+j[13]+681279174&4294967295,B=k+(I<<4&4294967295|I>>>28),I=V+(B^k^C)+j[0]+3936430074&4294967295,V=B+(I<<11&4294967295|I>>>21),I=C+(V^B^k)+j[3]+3572445317&4294967295,C=V+(I<<16&4294967295|I>>>16),I=k+(C^V^B)+j[6]+76029189&4294967295,k=C+(I<<23&4294967295|I>>>9),I=B+(k^C^V)+j[9]+3654602809&4294967295,B=k+(I<<4&4294967295|I>>>28),I=V+(B^k^C)+j[12]+3873151461&4294967295,V=B+(I<<11&4294967295|I>>>21),I=C+(V^B^k)+j[15]+530742520&4294967295,C=V+(I<<16&4294967295|I>>>16),I=k+(C^V^B)+j[2]+3299628645&4294967295,k=C+(I<<23&4294967295|I>>>9),I=B+(C^(k|~V))+j[0]+4096336452&4294967295,B=k+(I<<6&4294967295|I>>>26),I=V+(k^(B|~C))+j[7]+1126891415&4294967295,V=B+(I<<10&4294967295|I>>>22),I=C+(B^(V|~k))+j[14]+2878612391&4294967295,C=V+(I<<15&4294967295|I>>>17),I=k+(V^(C|~B))+j[5]+4237533241&4294967295,k=C+(I<<21&4294967295|I>>>11),I=B+(C^(k|~V))+j[12]+1700485571&4294967295,B=k+(I<<6&4294967295|I>>>26),I=V+(k^(B|~C))+j[3]+2399980690&4294967295,V=B+(I<<10&4294967295|I>>>22),I=C+(B^(V|~k))+j[10]+4293915773&4294967295,C=V+(I<<15&4294967295|I>>>17),I=k+(V^(C|~B))+j[1]+2240044497&4294967295,k=C+(I<<21&4294967295|I>>>11),I=B+(C^(k|~V))+j[8]+1873313359&4294967295,B=k+(I<<6&4294967295|I>>>26),I=V+(k^(B|~C))+j[15]+4264355552&4294967295,V=B+(I<<10&4294967295|I>>>22),I=C+(B^(V|~k))+j[6]+2734768916&4294967295,C=V+(I<<15&4294967295|I>>>17),I=k+(V^(C|~B))+j[13]+1309151649&4294967295,k=C+(I<<21&4294967295|I>>>11),I=B+(C^(k|~V))+j[4]+4149444226&4294967295,B=k+(I<<6&4294967295|I>>>26),I=V+(k^(B|~C))+j[11]+3174756917&4294967295,V=B+(I<<10&4294967295|I>>>22),I=C+(B^(V|~k))+j[2]+718787259&4294967295,C=V+(I<<15&4294967295|I>>>17),I=k+(V^(C|~B))+j[9]+3951481745&4294967295,H.g[0]=H.g[0]+B&4294967295,H.g[1]=H.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,H.g[2]=H.g[2]+C&4294967295,H.g[3]=H.g[3]+V&4294967295}s.prototype.v=function(H,B){B===void 0&&(B=H.length);const k=B-this.blockSize,j=this.C;let C=this.h,V=0;for(;V<B;){if(C==0)for(;V<=k;)l(this,H,V),V+=this.blockSize;if(typeof H=="string"){for(;V<B;)if(j[C++]=H.charCodeAt(V++),C==this.blockSize){l(this,j),C=0;break}}else for(;V<B;)if(j[C++]=H[V++],C==this.blockSize){l(this,j),C=0;break}}this.h=C,this.o+=B},s.prototype.A=function(){var H=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);H[0]=128;for(var B=1;B<H.length-8;++B)H[B]=0;B=this.o*8;for(var k=H.length-8;k<H.length;++k)H[k]=B&255,B/=256;for(this.v(H),H=Array(16),B=0,k=0;k<4;++k)for(let j=0;j<32;j+=8)H[B++]=this.g[k]>>>j&255;return H};function c(H,B){var k=b;return Object.prototype.hasOwnProperty.call(k,H)?k[H]:k[H]=B(H)}function p(H,B){this.h=B;const k=[];let j=!0;for(let C=H.length-1;C>=0;C--){const V=H[C]|0;j&&V==B||(k[C]=V,j=!1)}this.g=k}var b={};function E(H){return-128<=H&&H<128?c(H,function(B){return new p([B|0],B<0?-1:0)}):new p([H|0],H<0?-1:0)}function w(H){if(isNaN(H)||!isFinite(H))return P;if(H<0)return Ee(w(-H));const B=[];let k=1;for(let j=0;H>=k;j++)B[j]=H/k|0,k*=4294967296;return new p(B,0)}function x(H,B){if(H.length==0)throw Error("number format error: empty string");if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(H.charAt(0)=="-")return Ee(x(H.substring(1),B));if(H.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=w(Math.pow(B,8));let j=P;for(let V=0;V<H.length;V+=8){var C=Math.min(8,H.length-V);const I=parseInt(H.substring(V,V+C),B);C<8?(C=w(Math.pow(B,C)),j=j.j(C).add(w(I))):(j=j.j(k),j=j.add(w(I)))}return j}var P=E(0),G=E(1),re=E(16777216);r=p.prototype,r.m=function(){if(Ve(this))return-Ee(this).m();let H=0,B=1;for(let k=0;k<this.g.length;k++){const j=this.i(k);H+=(j>=0?j:4294967296+j)*B,B*=4294967296}return H},r.toString=function(H){if(H=H||10,H<2||36<H)throw Error("radix out of range: "+H);if(z(this))return"0";if(Ve(this))return"-"+Ee(this).toString(H);const B=w(Math.pow(H,6));var k=this;let j="";for(;;){const C=rt(k,B).g;k=Pe(k,C.j(B));let V=((k.g.length>0?k.g[0]:k.h)>>>0).toString(H);if(k=C,z(k))return V+j;for(;V.length<6;)V="0"+V;j=V+j}},r.i=function(H){return H<0?0:H<this.g.length?this.g[H]:this.h};function z(H){if(H.h!=0)return!1;for(let B=0;B<H.g.length;B++)if(H.g[B]!=0)return!1;return!0}function Ve(H){return H.h==-1}r.l=function(H){return H=Pe(this,H),Ve(H)?-1:z(H)?0:1};function Ee(H){const B=H.g.length,k=[];for(let j=0;j<B;j++)k[j]=~H.g[j];return new p(k,~H.h).add(G)}r.abs=function(){return Ve(this)?Ee(this):this},r.add=function(H){const B=Math.max(this.g.length,H.g.length),k=[];let j=0;for(let C=0;C<=B;C++){let V=j+(this.i(C)&65535)+(H.i(C)&65535),I=(V>>>16)+(this.i(C)>>>16)+(H.i(C)>>>16);j=I>>>16,V&=65535,I&=65535,k[C]=I<<16|V}return new p(k,k[k.length-1]&-2147483648?-1:0)};function Pe(H,B){return H.add(Ee(B))}r.j=function(H){if(z(this)||z(H))return P;if(Ve(this))return Ve(H)?Ee(this).j(Ee(H)):Ee(Ee(this).j(H));if(Ve(H))return Ee(this.j(Ee(H)));if(this.l(re)<0&&H.l(re)<0)return w(this.m()*H.m());const B=this.g.length+H.g.length,k=[];for(var j=0;j<2*B;j++)k[j]=0;for(j=0;j<this.g.length;j++)for(let C=0;C<H.g.length;C++){const V=this.i(j)>>>16,I=this.i(j)&65535,Q=H.i(C)>>>16,ne=H.i(C)&65535;k[2*j+2*C]+=I*ne,Le(k,2*j+2*C),k[2*j+2*C+1]+=V*ne,Le(k,2*j+2*C+1),k[2*j+2*C+1]+=I*Q,Le(k,2*j+2*C+1),k[2*j+2*C+2]+=V*Q,Le(k,2*j+2*C+2)}for(H=0;H<B;H++)k[H]=k[2*H+1]<<16|k[2*H];for(H=B;H<2*B;H++)k[H]=0;return new p(k,0)};function Le(H,B){for(;(H[B]&65535)!=H[B];)H[B+1]+=H[B]>>>16,H[B]&=65535,B++}function ze(H,B){this.g=H,this.h=B}function rt(H,B){if(z(B))throw Error("division by zero");if(z(H))return new ze(P,P);if(Ve(H))return B=rt(Ee(H),B),new ze(Ee(B.g),Ee(B.h));if(Ve(B))return B=rt(H,Ee(B)),new ze(Ee(B.g),B.h);if(H.g.length>30){if(Ve(H)||Ve(B))throw Error("slowDivide_ only works with positive integers.");for(var k=G,j=B;j.l(H)<=0;)k=pt(k),j=pt(j);var C=ot(k,1),V=ot(j,1);for(j=ot(j,2),k=ot(k,2);!z(j);){var I=V.add(j);I.l(H)<=0&&(C=C.add(k),V=I),j=ot(j,1),k=ot(k,1)}return B=Pe(H,C.j(B)),new ze(C,B)}for(C=P;H.l(B)>=0;){for(k=Math.max(1,Math.floor(H.m()/B.m())),j=Math.ceil(Math.log(k)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),V=w(k),I=V.j(B);Ve(I)||I.l(H)>0;)k-=j,V=w(k),I=V.j(B);z(V)&&(V=G),C=C.add(V),H=Pe(H,I)}return new ze(C,H)}r.B=function(H){return rt(this,H).h},r.and=function(H){const B=Math.max(this.g.length,H.g.length),k=[];for(let j=0;j<B;j++)k[j]=this.i(j)&H.i(j);return new p(k,this.h&H.h)},r.or=function(H){const B=Math.max(this.g.length,H.g.length),k=[];for(let j=0;j<B;j++)k[j]=this.i(j)|H.i(j);return new p(k,this.h|H.h)},r.xor=function(H){const B=Math.max(this.g.length,H.g.length),k=[];for(let j=0;j<B;j++)k[j]=this.i(j)^H.i(j);return new p(k,this.h^H.h)};function pt(H){const B=H.g.length+1,k=[];for(let j=0;j<B;j++)k[j]=H.i(j)<<1|H.i(j-1)>>>31;return new p(k,H.h)}function ot(H,B){const k=B>>5;B%=32;const j=H.g.length-k,C=[];for(let V=0;V<j;V++)C[V]=B>0?H.i(V+k)>>>B|H.i(V+k+1)<<32-B:H.i(V+k);return new p(C,H.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,zb=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=w,p.fromString=x,ho=p}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Bb,Uu,Fb,xh,Hm,Hb,qb,Gb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=i(this);function l(u,y){if(y)e:{var A=s;u=u.split(".");for(var O=0;O<u.length-1;O++){var ie=u[O];if(!(ie in A))break e;A=A[ie]}u=u[u.length-1],O=A[u],y=y(O),y!=O&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],O;for(O in y)Object.prototype.hasOwnProperty.call(y,O)&&A.push([O,y[O]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function E(u,y,A){return u.call.apply(u.bind,arguments)}function w(u,y,A){return w=E,w.apply(null,arguments)}function x(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var O=A.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function P(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(O,ie,me){for(var Ue=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)Ue[Ct-2]=arguments[Ct];return y.prototype[ie].apply(O,Ue)}}var G=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function re(u){const y=u.length;if(y>0){const A=Array(y);for(let O=0;O<y;O++)A[O]=u[O];return A}return[]}function z(u,y){for(let O=1;O<arguments.length;O++){const ie=arguments[O];var A=typeof ie;if(A=A!="object"?A:ie?Array.isArray(ie)?"array":A:"null",A=="array"||A=="object"&&typeof ie.length=="number"){A=u.length||0;const me=ie.length||0;u.length=A+me;for(let Ue=0;Ue<me;Ue++)u[A+Ue]=ie[Ue]}else u.push(ie)}}class Ve{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Ee(u){p.setTimeout(()=>{throw u},0)}function Pe(){var u=H;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Le{constructor(){this.h=this.g=null}add(y,A){const O=ze.get();O.set(y,A),this.h?this.h.next=O:this.g=O,this.h=O}}var ze=new Ve(()=>new rt,u=>u.reset());class rt{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,ot=!1,H=new Le,B=()=>{const u=Promise.resolve(void 0);pt=()=>{u.then(k)}};function k(){for(var u;u=Pe();){try{u.h.call(u.g)}catch(A){Ee(A)}var y=ze;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}ot=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Q(u,y){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}P(Q,C),Q.prototype.init=function(u,y){const A=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),F=0;function J(u,y,A,O,ie){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!O,this.ha=ie,this.key=++F,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fe(u,y,A){for(const O in u)y.call(A,u[O],O,u)}function xe(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function L(u){const y={};for(const A in u)y[A]=u[A];return y}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(u,y){let A,O;for(let ie=1;ie<arguments.length;ie++){O=arguments[ie];for(A in O)u[A]=O[A];for(let me=0;me<ae.length;me++)A=ae[me],Object.prototype.hasOwnProperty.call(O,A)&&(u[A]=O[A])}}function Te(u){this.src=u,this.g={},this.h=0}Te.prototype.add=function(u,y,A,O,ie){const me=u.toString();u=this.g[me],u||(u=this.g[me]=[],this.h++);const Ue=Qe(u,y,O,ie);return Ue>-1?(y=u[Ue],A||(y.fa=!1)):(y=new J(y,this.src,me,!!O,ie),y.fa=A,u.push(y)),y};function Me(u,y){const A=y.type;if(A in u.g){var O=u.g[A],ie=Array.prototype.indexOf.call(O,y,void 0),me;(me=ie>=0)&&Array.prototype.splice.call(O,ie,1),me&&(ye(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function Qe(u,y,A,O){for(let ie=0;ie<u.length;++ie){const me=u[ie];if(!me.da&&me.listener==y&&me.capture==!!A&&me.ha==O)return ie}return-1}var ht="closure_lm_"+(Math.random()*1e6|0),st={};function lt(u,y,A,O,ie){if(Array.isArray(y)){for(let me=0;me<y.length;me++)lt(u,y[me],A,O,ie);return null}return A=Jt(A),u&&u[ne]?u.J(y,A,b(O)?!!O.capture:!1,ie):At(u,y,A,!1,O,ie)}function At(u,y,A,O,ie,me){if(!y)throw Error("Invalid event type");const Ue=b(ie)?!!ie.capture:!!ie;let Ct=Nn(u);if(Ct||(u[ht]=Ct=new Te(u)),A=Ct.add(y,A,O,Ue,me),A.proxy)return A;if(O=sn(),A.proxy=O,O.src=u,O.listener=A,u.addEventListener)V||(ie=Ue),ie===void 0&&(ie=!1),u.addEventListener(y.toString(),O,ie);else if(u.attachEvent)u.attachEvent(Bt(y.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return A}function sn(){function u(A){return y.call(u.src,u.listener,A)}const y=Lt;return u}function ft(u,y,A,O,ie){if(Array.isArray(y))for(var me=0;me<y.length;me++)ft(u,y[me],A,O,ie);else O=b(O)?!!O.capture:!!O,A=Jt(A),u&&u[ne]?(u=u.i,me=String(y).toString(),me in u.g&&(y=u.g[me],A=Qe(y,A,O,ie),A>-1&&(ye(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[me],u.h--)))):u&&(u=Nn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Qe(y,A,O,ie)),(A=u>-1?y[u]:null)&&St(A))}function St(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ne])Me(y.i,u);else{var A=u.type,O=u.proxy;y.removeEventListener?y.removeEventListener(A,O,u.capture):y.detachEvent?y.detachEvent(Bt(A),O):y.addListener&&y.removeListener&&y.removeListener(O),(A=Nn(y))?(Me(A,u),A.h==0&&(A.src=null,y[ht]=null)):ye(u)}}}function Bt(u){return u in st?st[u]:st[u]="on"+u}function Lt(u,y){if(u.da)u=!0;else{y=new Q(y,this);const A=u.listener,O=u.ha||u.src;u.fa&&St(u),u=A.call(O,y)}return u}function Nn(u){return u=u[ht],u instanceof Te?u:null}var ri="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jt(u){return typeof u=="function"?u:(u[ri]||(u[ri]=function(y){return u.handleEvent(y)}),u[ri])}function nt(){j.call(this),this.i=new Te(this),this.M=this,this.G=null}P(nt,j),nt.prototype[ne]=!0,nt.prototype.removeEventListener=function(u,y,A,O){ft(this,u,y,A,O)};function wt(u,y){var A,O=u.G;if(O)for(A=[];O;O=O.G)A.push(O);if(u=u.M,O=y.type||y,typeof y=="string")y=new C(y,u);else if(y instanceof C)y.target=y.target||u;else{var ie=y;y=new C(O,u),Re(y,ie)}ie=!0;let me,Ue;if(A)for(Ue=A.length-1;Ue>=0;Ue--)me=y.g=A[Ue],ie=gn(me,O,!0,y)&&ie;if(me=y.g=u,ie=gn(me,O,!0,y)&&ie,ie=gn(me,O,!1,y)&&ie,A)for(Ue=0;Ue<A.length;Ue++)me=y.g=A[Ue],ie=gn(me,O,!1,y)&&ie}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let O=0;O<A.length;O++)ye(A[O]);delete u.g[y],u.h--}}this.G=null},nt.prototype.J=function(u,y,A,O){return this.i.add(String(u),y,!1,A,O)},nt.prototype.K=function(u,y,A,O){return this.i.add(String(u),y,!0,A,O)};function gn(u,y,A,O){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ie=!0;for(let me=0;me<y.length;++me){const Ue=y[me];if(Ue&&!Ue.da&&Ue.capture==A){const Ct=Ue.listener,Yn=Ue.ha||Ue.src;Ue.fa&&Me(u.i,Ue),ie=Ct.call(Yn,O)!==!1&&ie}}return ie&&!O.defaultPrevented}function Rr(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function In(u){u.g=Rr(()=>{u.g=null,u.i&&(u.i=!1,In(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Gt extends j{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:In(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(u){j.call(this),this.h=u,this.g={}}P(yn,j);var R=[];function g(u){fe(u.g,function(y,A){this.g.hasOwnProperty(A)&&St(y)},u),u.g={}}yn.prototype.N=function(){yn.Z.N.call(this),g(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,D=p.JSON.parse,$=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function pe(){}function Ne(){}var Ze={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){C.call(this,"d")}P(Ye,C);function qe(){C.call(this,"c")}P(qe,C);var Je={},Zt=null;function Dn(){return Zt=Zt||new nt}Je.Ia="serverreachability";function fn(u){C.call(this,Je.Ia,u)}P(fn,C);function Bn(u){const y=Dn();wt(y,new fn(y))}Je.STAT_EVENT="statevent";function Kn(u,y){C.call(this,Je.STAT_EVENT,u),this.stat=y}P(Kn,C);function Pt(u){const y=Dn();wt(y,new Kn(y,u))}Je.Ja="timingevent";function Tn(u,y){C.call(this,Je.Ja,u),this.size=y}P(Tn,C);function kn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Ki(u,y,A,O,ie,me){u.info(function(){if(u.g)if(me){var Ue="",Ct=me.split("&");for(let rn=0;rn<Ct.length;rn++){var Yn=Ct[rn].split("=");if(Yn.length>1){const On=Yn[0];Yn=Yn[1];const Fi=On.split("_");Ue=Fi.length>=2&&Fi[1]=="type"?Ue+(On+"="+Yn+"&"):Ue+(On+"=redacted&")}}}else Ue=null;else Ue=me;return"XMLHTTP REQ ("+O+") [attempt "+ie+"]: "+y+`
`+A+`
`+Ue})}function gt(u,y,A,O,ie,me,Ue){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+ie+"]: "+y+`
`+A+`
`+me+" "+Ue})}function Fn(u,y,A,O){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Wi(u,A)+(O?" "+O:"")})}function It(u,y){u.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function Wi(u,y){if(!u.g)return y;if(!y)return null;try{const me=JSON.parse(y);if(me){for(u=0;u<me.length;u++)if(Array.isArray(me[u])){var A=me[u];if(!(A.length<2)){var O=A[1];if(Array.isArray(O)&&!(O.length<1)){var ie=O[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Ue=1;Ue<O.length;Ue++)O[Ue]=""}}}}return v(me)}catch{return y}}var $i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cr;function Hr(){}P(Hr,pe),Hr.prototype.g=function(){return new XMLHttpRequest},Cr=new Hr;function Xe(u){return encodeURIComponent(String(u))}function va(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Ji(u,y,A,O){this.j=u,this.i=y,this.l=A,this.S=O||1,this.V=new yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}var dn={},Gn={};function Zi(u,y,A){u.M=1,u.A=Ce(on(y)),u.u=A,u.R=!0,ur(u,null)}function ur(u,y){u.F=Date.now(),er(u),u.B=on(u.A);var A=u.B,O=u.S;Array.isArray(O)||(O=[String(O)]),Ga(A.i,"t",O),u.C=0,A=u.j.L,u.h=new Ei,u.g=Jo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new Gt(w(u.Y,u,u.g),u.P)),y=u.V,A=u.g,O=u.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(R[0]=ie.toString()),ie=R);for(let me=0;me<ie.length;me++){const Ue=lt(A,ie[me],O||y.handleEvent,!1,y.h||y);if(!Ue)break;y.g[Ue.key]=Ue}y=u.J?L(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Bn(),Ki(u.i,u.v,u.B,u.l,u.S,u.u)}Ji.prototype.ba=function(u){u=u.target;const y=this.O;y&&Dr(u)==3?y.j():this.Y(u)},Ji.prototype.Y=function(u){try{if(u==this.g)e:{const Ct=Dr(this.g),Yn=this.g.ya(),rn=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||mi(this.g)))){this.K||Ct!=4||Yn==7||(Yn==8||rn<=0?Bn(3):Bn(2)),Li(this);var y=this.g.ca();this.X=y;var A=Ha(this);if(this.o=y==200,gt(this.i,this.v,this.B,this.l,this.S,Ct,y),this.o){if(this.U&&!this.L){t:{if(this.g){var O,ie=this.g;if((O=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(O)){var me=O;break t}}me=null}if(u=me)Fn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ji(this,u);else{this.o=!1,this.m=3,Pt(12),yi(this),Ui(this);break e}}if(this.R){u=!0;let On;for(;!this.K&&this.C<A.length;)if(On=aa(this,A),On==Gn){Ct==4&&(this.m=4,Pt(14),u=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(On==dn){this.m=4,Pt(15),Fn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Fn(this.i,this.l,On,null),ji(this,On);if(_a(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||A.length!=0||this.h.h||(this.m=1,Pt(16),u=!1),this.o=this.o&&u,!u)Fn(this.i,this.l,A,"[Invalid Chunked Response]"),yi(this),Ui(this);else if(A.length>0&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.aa&&!Ue.P&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),ir(Ue),Ue.P=!0,Pt(11))}}else Fn(this.i,this.l,A,null),ji(this,A);Ct==4&&yi(this),this.o&&!this.K&&(Ct==4?Ka(this.j,this):(this.o=!1,er(this)))}else gr(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),yi(this),Ui(this)}}}catch{}finally{}};function Ha(u){if(!_a(u))return u.g.la();const y=mi(u.g);if(y==="")return"";let A="";const O=y.length,ie=Dr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yi(u),Ui(u),"";u.h.i=new p.TextDecoder}for(let me=0;me<O;me++)u.h.h=!0,A+=u.h.i.decode(y[me],{stream:!(ie&&me==O-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function _a(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function aa(u,y){var A=u.C,O=y.indexOf(`
`,A);return O==-1?Gn:(A=Number(y.substring(A,O)),isNaN(A)?dn:(O+=1,O+A>y.length?Gn:(y=y.slice(O,O+A),u.C=O+A,y)))}Ji.prototype.cancel=function(){this.K=!0,yi(this)};function er(u){u.T=Date.now()+u.H,Ti(u,u.H)}function Ti(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=kn(w(u.aa,u),y)}function Li(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Ji.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(It(this.i,this.B),this.M!=2&&(Bn(),Pt(17)),yi(this),this.m=2,Ui(this)):Ti(this,this.T-u)};function Ui(u){u.j.I==0||u.K||Ka(u.j,u)}function yi(u){Li(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function ji(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||zi(A.h,u))){if(!u.L&&zi(A.h,u)&&A.I==3){try{var O=A.Ba.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var ie=O;if(ie[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)ca(A),Or(A);else break e;Sa(A),Pt(18)}}else A.xa=ie[1],0<A.xa-A.K&&ie[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=kn(w(A.Va,A),6e3));Ri(A.h)<=1&&A.ta&&(A.ta=void 0)}else Vr(A,11)}else if((u.L||A.g==u)&&ca(A),!I(y))for(ie=A.Ba.g.parse(y),y=0;y<ie.length;y++){let rn=ie[y];const On=rn[0];if(!(On<=A.K))if(A.K=On,rn=rn[1],A.I==2)if(rn[0]=="c"){A.M=rn[1],A.ba=rn[2];const Fi=rn[3];Fi!=null&&(A.ka=Fi,A.j.info("VER="+A.ka));const yr=rn[4];yr!=null&&(A.za=yr,A.j.info("SVER="+A.za));const vr=rn[5];vr!=null&&typeof vr=="number"&&vr>0&&(O=1.5*vr,A.O=O,A.j.info("backChannelRequestTimeoutMs_="+O)),O=A;const rr=u.g;if(rr){const Xr=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var me=O.h;me.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(qa(me,me.h),me.h=null))}if(O.G){const Wa=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(O.wa=Wa,de(O.J,O.G,Wa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),O=A;var Ue=u;if(O.na=$o(O,O.L?O.ba:null,O.W),Ue.L){fi(O.h,Ue);var Ct=Ue,Yn=O.O;Yn&&(Ct.H=Yn),Ct.D&&(Li(Ct),er(Ct)),O.g=Ue}else Zn(O);A.i.length>0&&nr(A)}else rn[0]!="stop"&&rn[0]!="close"||Vr(A,7);else A.I==3&&(rn[0]=="stop"||rn[0]=="close"?rn[0]=="stop"?Vr(A,7):Eo(A):rn[0]!="noop"&&A.l&&A.l.qa(rn),A.A=0)}}Bn(4)}catch{}}var Pn=class{constructor(u,y){this.g=u,this.map=y}};function Ai(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Si(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function zi(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function qa(u,y){u.g?u.g.add(y):u.h=y}function fi(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Ai.prototype.cancel=function(){if(this.i=sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sa(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return re(u.i)}var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cr(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const O=u[A].indexOf("=");let ie,me=null;O>=0?(ie=u[A].substring(0,O),me=u[A].substring(O+1)):ie=u[A],y(ie,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function vi(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof vi?(this.l=u.l,K(this,u.j),this.o=u.o,this.g=u.g,he(this,u.u),this.h=u.h,ve(this,wa(u.i)),this.m=u.m):u&&(y=String(u).match(ba))?(this.l=!1,K(this,y[1]||"",!0),this.o=be(y[2]||""),this.g=be(y[3]||"",!0),he(this,y[4]),this.h=be(y[5]||"",!0),ve(this,y[6]||"",!0),this.m=be(y[7]||"")):(this.l=!1,this.i=new ln(null,this.l))}vi.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(He(y,dt,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(He(y,dt,!0),"@"),u.push(Xe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(He(A,A.charAt(0)=="/"?mt:Be,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",He(A,Hn)),u.join("")},vi.prototype.resolve=function(u){const y=on(this);let A=!!u.j;A?K(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var O=u.h;if(A)he(y,u.u);else if(A=!!u.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var ie=y.h.lastIndexOf("/");ie!=-1&&(O=y.h.slice(0,ie+1)+O)}if(ie=O,ie==".."||ie==".")O="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){O=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const me=[];for(let Ue=0;Ue<ie.length;){const Ct=ie[Ue++];Ct=="."?O&&Ue==ie.length&&me.push(""):Ct==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),O&&Ue==ie.length&&me.push("")):(me.push(Ct),O=!0)}O=me.join("/")}else O=ie}return A?y.h=O:A=u.i.toString()!=="",A?ve(y,wa(u.i)):A=!!u.m,A&&(y.m=u.m),y};function on(u){return new vi(u)}function K(u,y,A){u.j=A?be(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function he(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function ve(u,y,A){y instanceof ln?(u.i=y,Ea(u.i,u.l)):(A||(y=He(y,_t)),u.i=new ln(y,u.l))}function de(u,y,A){u.i.set(y,A)}function Ce(u){return de(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function be(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function He(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,De),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function De(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var dt=/[#\/\?@]/g,Be=/[#\?:]/g,mt=/[#\?]/g,_t=/[#\?@]/g,Hn=/#/g;function ln(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function xn(u){u.g||(u.g=new Map,u.h=0,u.i&&cr(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=ln.prototype,r.add=function(u,y){xn(this),this.i=null,u=Mr(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function An(u,y){xn(u),y=Mr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Ir(u,y){return xn(u),y=Mr(u,y),u.g.has(y)}r.forEach=function(u,y){xn(this),this.g.forEach(function(A,O){A.forEach(function(ie){u.call(y,ie,O,this)},this)},this)};function xr(u,y){xn(u);let A=[];if(typeof y=="string")Ir(u,y)&&(A=A.concat(u.g.get(Mr(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return xn(this),this.i=null,u=Mr(this,u),Ir(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=xr(this,u),u.length>0?String(u[0]):y):y};function Ga(u,y,A){An(u,y),A.length>0&&(u.i=null,u.g.set(Mr(u,y),re(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let O=0;O<y.length;O++){var A=y[O];const ie=Xe(A);A=xr(this,A);for(let me=0;me<A.length;me++){let Ue=ie;A[me]!==""&&(Ue+="="+Xe(A[me])),u.push(Ue)}}return this.i=u.join("&")};function wa(u){const y=new ln;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Mr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Ea(u,y){y&&!u.j&&(xn(u),u.i=null,u.g.forEach(function(A,O){const ie=O.toLowerCase();O!=ie&&(An(this,O),Ga(this,ie,A))},u)),u.j=y}function hr(u,y){const A=new Wn;if(p.Image){const O=new Image;O.onload=x(fr,A,"TestLoadImage: loaded",!0,y,O),O.onerror=x(fr,A,"TestLoadImage: error",!1,y,O),O.onabort=x(fr,A,"TestLoadImage: abort",!1,y,O),O.ontimeout=x(fr,A,"TestLoadImage: timeout",!1,y,O),p.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else y(!1)}function Cs(u,y){const A=new Wn,O=new AbortController,ie=setTimeout(()=>{O.abort(),fr(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:O.signal}).then(me=>{clearTimeout(ie),me.ok?fr(A,"TestPingServer: ok",!0,y):fr(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ie),fr(A,"TestPingServer: error",!1,y)})}function fr(u,y,A,O,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),O(A)}catch{}}function dr(){this.g=new $}function tr(u){this.i=u.Sb||null,this.h=u.ab||!1}P(tr,pe),tr.prototype.g=function(){return new mr(this.i,this.h)};function mr(u,y){nt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}P(mr,nt),r=mr.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Ci(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?pr(this):Ci(this),this.readyState==3&&oa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,pr(this))},r.Na=function(u){this.g&&(this.response=u,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ci(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function di(u){let y="";return fe(u,function(A,O){y+=O,y+=":",y+=A,y+=`\r
`}),y}function qr(u,y,A){e:{for(O in A){var O=!1;break e}O=!0}O||(A=di(A),typeof u=="string"?A!=null&&Xe(A):de(u,y,A))}function Ot(u){nt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}P(Ot,nt);var Gr=/^https?$/i,Bi=["POST","PUT"];r=Ot.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cr.g(),this.g.onreadystatechange=G(w(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(me){la(this,me);return}if(u=A||"",A=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var ie in O)A.set(ie,O[ie]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const me of O.keys())A.set(me,O.get(me));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(A.keys()).find(me=>me.toLowerCase()=="content-type"),ie=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Bi,y,void 0)>=0)||O||ie||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,Ue]of A)this.g.setRequestHeader(me,Ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(me){la(this,me)}};function la(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Ta(u),Nr(u)}function Ta(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,wt(this,"complete"),wt(this,"abort"),Nr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),Ot.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ua(this):this.Xa())},r.Xa=function(){ua(this)};function ua(u){if(u.h&&typeof c<"u"){if(u.v&&Dr(u)==4)setTimeout(u.Ca.bind(u),0);else if(wt(u,"readystatechange"),Dr(u)==4){u.h=!1;try{const me=u.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var O;if(O=me===0){let Ue=String(u.D).match(ba)[1]||null;!Ue&&p.self&&p.self.location&&(Ue=p.self.location.protocol.slice(0,-1)),O=!Gr.test(Ue?Ue.toLowerCase():"")}A=O}if(A)wt(u,"complete"),wt(u,"success");else{u.o=6;try{var ie=Dr(u)>2?u.g.statusText:""}catch{ie=""}u.l=ie+" ["+u.ca()+"]",Ta(u)}}finally{Nr(u)}}}}function Nr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||wt(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Dr(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Dr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),D(y)}};function mi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gr(u){const y={};u=(u.g&&Dr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(I(u[O]))continue;var A=va(u[O]);const ie=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const me=y[ie]||[];y[ie]=me,me.push(A)}xe(y,function(O){return O.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Aa(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yr("baseRetryDelayMs",5e3,u),this.Za=Yr("retryDelaySeedMs",1e4,u),this.Ta=Yr("forwardChannelMaxRetries",2,u),this.va=Yr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ai(u&&u.concurrentRequestLimit),this.Ba=new dr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Aa.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,O){Pt(0),this.W=u,this.H=y||{},A&&O!==void 0&&(this.H.OSID=A,this.H.OAID=O),this.F=this.X,this.J=$o(this,null,this.W),nr(this)};function Eo(u){if(Ya(u),u.I==3){var y=u.V++,A=on(u.J);if(de(A,"SID",u.M),de(A,"RID",y),de(A,"TYPE","terminate"),Qa(u,A),y=new Ji(u,u.j,y),y.M=2,y.A=Ce(on(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Jo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),er(y)}Ms(u)}function Or(u){u.g&&(ir(u),u.g.cancel(),u.g=null)}function Ya(u){Or(u),u.v&&(p.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function nr(u){if(!Si(u.h)&&!u.m){u.m=!0;var y=u.Ea;pt||B(),ot||(pt(),ot=!0),H.add(y,u),u.D=0}}function Xa(u,y){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=kn(w(u.Ea,u,y),xs(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ie=new Ji(this,this.j,u);let me=this.o;if(this.U&&(me?(me=L(me),Re(me,this.U)):me=this.U),this.u!==null||this.R||(ie.J=me,me=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var O=this.i[A];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Ko(this,ie,y),A=on(this.J),de(A,"RID",u),de(A,"CVER",22),this.G&&de(A,"X-HTTP-Session-Id",this.G),Qa(this,A),me&&(this.R?y="headers="+Xe(di(me))+"&"+y:this.u&&qr(A,this.u,me)),qa(this.h,ie),this.Ra&&de(A,"TYPE","init"),this.S?(de(A,"$req",y),de(A,"SID","null"),ie.U=!0,Zi(ie,A,null)):Zi(ie,A,y),this.I=2}}else this.I==3&&(u?Is(this,u):this.i.length==0||Si(this.h)||Is(this))};function Is(u,y){var A;y?A=y.l:A=u.V++;const O=on(u.J);de(O,"SID",u.M),de(O,"RID",A),de(O,"AID",u.K),Qa(u,O),u.u&&u.o&&qr(O,u.u,u.o),A=new Ji(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Ko(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),qa(u.h,A),Zi(A,O,y)}function Qa(u,y){u.H&&fe(u.H,function(A,O){de(y,O,A)}),u.l&&fe({},function(A,O){de(y,O,A)})}function Ko(u,y,A){A=Math.min(u.i.length,A);const O=u.l?w(u.l.Ka,u.l,u):null;e:{var ie=u.i;let Ct=-1;for(;;){const Yn=["count="+A];Ct==-1?A>0?(Ct=ie[0].g,Yn.push("ofs="+Ct)):Ct=0:Yn.push("ofs="+Ct);let rn=!0;for(let On=0;On<A;On++){var me=ie[On].g;const Fi=ie[On].map;if(me-=Ct,me<0)Ct=Math.max(0,ie[On].g-100),rn=!1;else try{me="req"+me+"_"||"";try{var Ue=Fi instanceof Map?Fi:Object.entries(Fi);for(const[yr,vr]of Ue){let rr=vr;b(vr)&&(rr=v(vr)),Yn.push(me+yr+"="+encodeURIComponent(rr))}}catch(yr){throw Yn.push(me+"type="+encodeURIComponent("_badmap")),yr}}catch{O&&O(Fi)}}if(rn){Ue=Yn.join("&");break e}}Ue=void 0}return u=u.i.splice(0,A),y.G=u,Ue}function Zn(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;pt||B(),ot||(pt(),ot=!0),H.add(y,u),u.A=0}}function Sa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=kn(w(u.Da,u),xs(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Wo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=kn(w(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),Or(this),Wo(this))};function ir(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Wo(u){u.g=new Ji(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=on(u.na);de(y,"RID","rpc"),de(y,"SID",u.M),de(y,"AID",u.K),de(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&de(y,"TO",u.ia),de(y,"TYPE","xmlhttp"),Qa(u,y),u.u&&u.o&&qr(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=Ce(on(y)),A.u=null,A.R=!0,ur(A,u)}r.Va=function(){this.C!=null&&(this.C=null,Or(this),Sa(this),Pt(19))};function ca(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Ka(u,y){var A=null;if(u.g==y){ca(u),ir(u),u.g=null;var O=2}else if(zi(u.h,y))A=y.G,fi(u.h,y),O=1;else return;if(u.I!=0){if(y.o)if(O==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ie=u.D;O=Dn(),wt(O,new Tn(O,A)),nr(u)}else Zn(u);else if(ie=y.m,ie==3||ie==0&&y.X>0||!(O==1&&Xa(u,y)||O==2&&Sa(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ie){case 1:Vr(u,5);break;case 4:Vr(u,10);break;case 3:Vr(u,6);break;default:Vr(u,2)}}}function xs(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Vr(u,y){if(u.j.info("Error code "+y),y==2){var A=w(u.bb,u),O=u.Ua;const ie=!O;O=new vi(O||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||K(O,"https"),Ce(O),ie?hr(O.toString(),A):Cs(O.toString(),A)}else Pt(2);u.I=0,u.l&&u.l.pa(y),Ms(u),Ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Ms(u){if(u.I=0,u.ja=[],u.l){const y=sa(u.h);(y.length!=0||u.i.length!=0)&&(z(u.ja,y),z(u.ja,u.i),u.h.i.length=0,re(u.i),u.i.length=0),u.l.oa()}}function $o(u,y,A){var O=A instanceof vi?on(A):new vi(A);if(O.g!="")y&&(O.g=y+"."+O.g),he(O,O.u);else{var ie=p.location;O=ie.protocol,y=y?y+"."+ie.hostname:ie.hostname,ie=+ie.port;const me=new vi(null);O&&K(me,O),y&&(me.g=y),ie&&he(me,ie),A&&(me.h=A),O=me}return A=u.G,y=u.wa,A&&y&&de(O,A,y),de(O,"VER",u.ka),Qa(u,O),O}function Jo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Ot(new tr({ab:A})):new Ot(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ns(){}r=Ns.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ra(){}Ra.prototype.g=function(u,y){return new Ii(u,y)};function Ii(u,y){nt.call(this),this.g=new Aa(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ha(this)}P(Ii,nt),Ii.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ii.prototype.close=function(){Eo(this.g)},Ii.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new Pn(y.Ya++,u)),y.I==3&&nr(y)},Ii.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Ii.Z.N.call(this)};function To(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}P(To,Ye);function Zo(){qe.call(this),this.status=1}P(Zo,qe);function ha(u){this.g=u}P(ha,Ns),ha.prototype.ra=function(){wt(this.g,"a")},ha.prototype.qa=function(u){wt(this.g,new To(u))},ha.prototype.pa=function(u){wt(this.g,new Zo)},ha.prototype.oa=function(){wt(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,Ii.prototype.send=Ii.prototype.o,Ii.prototype.open=Ii.prototype.m,Ii.prototype.close=Ii.prototype.close,Gb=function(){return new Ra},qb=function(){return Dn()},Hb=Je,Hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,xh=$i,Fa.COMPLETE="complete",Fb=Fa,Ne.EventType=Ze,Ze.OPEN="a",Ze.CLOSE="b",Ze.ERROR="c",Ze.MESSAGE="d",nt.prototype.listen=nt.prototype.J,Uu=Ne,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,Bb=Ot}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",G_="4.9.2";class Yi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");let Kl="12.3.0";const Ho=new up("@firebase/firestore");function Cl(){return Ho.logLevel}function tt(r,...e){if(Ho.logLevel<=Kt.DEBUG){const i=e.map(bp);Ho.debug(`Firestore (${Kl}): ${r}`,...i)}}function As(r,...e){if(Ho.logLevel<=Kt.ERROR){const i=e.map(bp);Ho.error(`Firestore (${Kl}): ${r}`,...i)}}function zl(r,...e){if(Ho.logLevel<=Kt.WARN){const i=e.map(bp);Ho.warn(`Firestore (${Kl}): ${r}`,...i)}}function bp(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Tt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Yb(r,s,i)}function Yb(r,e,i){let s=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw As(s),new Error(s)}function bn(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||Yb(e,l,s)}function Nt(r,e){return r}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Xb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Yi.UNAUTHENTICATED)))}shutdown(){}}class MR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class NR{constructor(e){this.t=e,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){bn(this.o===void 0,42304);let s=this.i;const l=E=>this.i!==s?(s=this.i,i(E)):Promise.resolve();let c=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const E=c;e.enqueueRetryable((async()=>{await E.promise,await l(this.currentUser)}))},b=E=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((E=>b(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?b(E):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fo)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(bn(typeof s.accessToken=="string",31837,{l:s}),new Xb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bn(e===null||typeof e=="string",2055,{h:e}),new Yi(e)}}class DR{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OR{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new DR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Yi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,na(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){bn(this.o===void 0,3512);const s=c=>{c.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,tt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(bn(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Y_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=kR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Wt(r,e){return r<e?-1:r>e?1:0}function qm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Rm(l)===Rm(c)?Wt(l,c):Rm(l)?1:-1}return Wt(r.length,e.length)}const PR=55296,LR=57343;function Rm(r){const e=r.charCodeAt(0);return e>=PR&&e<=LR}function Bl(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const X_="__name__";class Va{constructor(e,i,s){i===void 0?i=0:i>e.length&&Tt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Tt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Va.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Va.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Wt(e.length,i.length)}static compareSegments(e,i){const s=Va.isNumericId(e),l=Va.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Va.extractNumericId(e).compare(Va.extractNumericId(i)):qm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class Vn extends Va{construct(e,i,s){return new Vn(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new $e(Se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Vn(i)}static emptyPath(){return new Vn([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ki extends Va{construct(e,i,s){return new ki(e,i,s)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ki.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new ki([X_])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new $e(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new $e(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[l+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new $e(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=E,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new $e(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ki(i)}static emptyPath(){return new ki([])}}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(Vn.fromString(e))}static fromName(e){return new vt(Vn.fromString(e).popFirst(5))}static empty(){return new vt(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Vn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new Vn(e.slice()))}}function Qb(r,e,i){if(!i)throw new $e(Se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jR(r,e,i,s){if(e===!0&&s===!0)throw new $e(Se.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Q_(r){if(!vt.isDocumentKey(r))throw new $e(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function K_(r){if(vt.isDocumentKey(r))throw new $e(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Kb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function Hh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new $e(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lf(r);throw new $e(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function zR(r,e){if(e<=0)throw new $e(Se.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function hi(r,e){const i={typeString:r};return e&&(i.value=e),i}function cc(r,e){if(!Kb(r))throw new $e(Se.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const p=r[s];if(l&&typeof p!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new $e(Se.INVALID_ARGUMENT,i);return!0}const W_=-62135596800,$_=1e6;class zn{static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*$_);return new zn(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new $e(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new $e(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<W_)throw new $e(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,zn._jsonSchema))return new zn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zn._jsonSchemaVersion="firestore/timestamp/1.0",zn._jsonSchema={type:hi("string",zn._jsonSchemaVersion),seconds:hi("number"),nanoseconds:hi("number")};class xt{static fromTimestamp(e){return new xt(e)}static min(){return new xt(new zn(0,0))}static max(){return new xt(new zn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wu=-1;function BR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=xt.fromTimestamp(s===1e9?new zn(i+1,0):new zn(i,s));return new po(l,vt.empty(),e)}function FR(r){return new po(r.readTime,r.key,Wu)}class po{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new po(xt.min(),vt.empty(),Wu)}static max(){return new po(xt.max(),vt.empty(),Wu)}}function HR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=vt.comparator(r.documentKey,e.documentKey),i!==0?i:Wt(r.largestBatchId,e.largestBatchId))}const qR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wl(r){if(r.code!==Se.FAILED_PRECONDITION||r.message!==qR)throw r;tt("LocalStore","Unexpectedly lost primary lease")}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Ie(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Ie?i:Ie.resolve(i)}catch(i){return Ie.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Ie.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Ie.reject(i)}static resolve(e){return new Ie(((i,s)=>{i(e)}))}static reject(e){return new Ie(((i,s)=>{s(e)}))}static waitFor(e){return new Ie(((i,s)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(E=>s(E)))})),p=!0,c===l&&i()}))}static or(e){let i=Ie.resolve(!1);for(const s of e)i=i.next((l=>l?Ie.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new Ie(((s,l)=>{const c=e.length,p=new Array(c);let b=0;for(let E=0;E<c;E++){const w=E;i(e[w]).next((x=>{p[w]=x,++b,b===c&&s(p)}),(x=>l(x)))}}))}static doWhile(e,i){return new Ie(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function YR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $l(r){return r.name==="IndexedDbTransactionError"}class uf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uf.ce=-1;const Ep=-1;function cf(r){return r==null}function qh(r){return r===0&&1/r==-1/0}function XR(r){return typeof r=="number"&&Number.isInteger(r)&&!qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Wb="";function QR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=J_(e)),e=KR(r.get(i),e);return J_(e)}function KR(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Wb:i+="";break;default:i+=c}}return i}function J_(r){return r+Wb+""}function Z_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Go(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function $b(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Xn{constructor(e,i){this.comparator=e,this.root=i||Vi.EMPTY}insert(e,i){return new Xn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Vi.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vi.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vi{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Vi.RED,this.left=l??Vi.EMPTY,this.right=c??Vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Vi(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Vi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1;Vi.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Vi(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gi{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new e0(this.data.getIterator())}getIteratorFrom(e){return new e0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof gi)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new gi(this.comparator);return i.data=e,i}}class e0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ga{constructor(e){this.fields=e,e.sort(ki.comparator)}static empty(){return new ga([])}unionWith(e){let i=new gi(ki.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new ga(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class Jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Jb("Invalid base64 string: "+c):c}})(e);return new Pi(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new Pi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const WR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(r){if(bn(!!r,39018),typeof r=="string"){let e=0;const i=WR.exec(r);if(bn(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ii(r.seconds),nanos:ii(r.nanos)}}function ii(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yo(r){return typeof r=="string"?Pi.fromBase64String(r):Pi.fromUint8Array(r)}const Zb="server_timestamp",ew="__type__",tw="__previous_value__",nw="__local_write_time__";function Tp(r){return(r?.mapValue?.fields||{})[ew]?.stringValue===Zb}function hf(r){const e=r.mapValue.fields[tw];return Tp(e)?hf(e):e}function $u(r){const e=go(r.mapValue.fields[nw].timestampValue);return new zn(e.seconds,e.nanos)}class $R{constructor(e,i,s,l,c,p,b,E,w,x){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=E,this.useFetchStreams=w,this.isUsingEmulator=x}}const Gh="(default)";class Ju{constructor(e,i){this.projectId=e,this.database=i||Gh}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}const iw="__type__",JR="__max__",_h={mapValue:{}},rw="__vector__",Yh="value";function vo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tp(r)?4:eC(r)?9007199254740991:ZR(r)?10:11:Tt(28295,{value:r})}function Ba(r,e){if(r===e)return!0;const i=vo(r);if(i!==vo(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $u(r).isEqual($u(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=go(l.timestampValue),b=go(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return yo(l.bytesValue).isEqual(yo(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ii(l.geoPointValue.latitude)===ii(c.geoPointValue.latitude)&&ii(l.geoPointValue.longitude)===ii(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ii(l.integerValue)===ii(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=ii(l.doubleValue),b=ii(c.doubleValue);return p===b?qh(p)===qh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Bl(r.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(Z_(p)!==Z_(b))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(b[E]===void 0||!Ba(p[E],b[E])))return!1;return!0})(r,e);default:return Tt(52216,{left:r})}}function Zu(r,e){return(r.values||[]).find((i=>Ba(i,e)))!==void 0}function Fl(r,e){if(r===e)return 0;const i=vo(r),s=vo(e);if(i!==s)return Wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Wt(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=ii(c.integerValue||c.doubleValue),E=ii(p.integerValue||p.doubleValue);return b<E?-1:b>E?1:b===E?0:isNaN(b)?isNaN(E)?0:-1:1})(r,e);case 3:return t0(r.timestampValue,e.timestampValue);case 4:return t0($u(r),$u(e));case 5:return qm(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=yo(c),E=yo(p);return b.compareTo(E)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),E=p.split("/");for(let w=0;w<b.length&&w<E.length;w++){const x=Wt(b[w],E[w]);if(x!==0)return x}return Wt(b.length,E.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=Wt(ii(c.latitude),ii(p.latitude));return b!==0?b:Wt(ii(c.longitude),ii(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return n0(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},E=p.fields||{},w=b[Yh]?.arrayValue,x=E[Yh]?.arrayValue,P=Wt(w?.values?.length||0,x?.values?.length||0);return P!==0?P:n0(w,x)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===_h.mapValue&&p===_h.mapValue)return 0;if(c===_h.mapValue)return 1;if(p===_h.mapValue)return-1;const b=c.fields||{},E=Object.keys(b),w=p.fields||{},x=Object.keys(w);E.sort(),x.sort();for(let P=0;P<E.length&&P<x.length;++P){const G=qm(E[P],x[P]);if(G!==0)return G;const re=Fl(b[E[P]],w[x[P]]);if(re!==0)return re}return Wt(E.length,x.length)})(r.mapValue,e.mapValue);default:throw Tt(23264,{he:i})}}function t0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Wt(r,e);const i=go(r),s=go(e),l=Wt(i.seconds,s.seconds);return l!==0?l:Wt(i.nanos,s.nanos)}function n0(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Fl(i[l],s[l]);if(c)return c}return Wt(i.length,s.length)}function Hl(r){return Gm(r)}function Gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=go(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return yo(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return vt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Gm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${Gm(i.fields[p])}`;return l+"}"})(r.mapValue):Tt(61005,{value:r})}function Mh(r){switch(vo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hf(r);return e?16+Mh(e):16;case 5:return 2*r.stringValue.length;case 6:return yo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Mh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Go(s.fields,((c,p)=>{l+=c.length+Mh(p)})),l})(r.mapValue);default:throw Tt(13486,{value:r})}}function i0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ym(r){return!!r&&"integerValue"in r}function Ap(r){return!!r&&"arrayValue"in r}function r0(r){return!!r&&"nullValue"in r}function a0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nh(r){return!!r&&"mapValue"in r}function ZR(r){return(r?.mapValue?.fields||{})[iw]?.stringValue===rw}function Hu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Go(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Hu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hu(r.arrayValue.values[i]);return e}return{...r}}function eC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===JR}class ia{constructor(e){this.value=e}static empty(){return new ia({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Nh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(i)}setAll(e){let i=ki.emptyPath(),s={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const E=this.getFieldsMap(i);this.applyChanges(E,s,l),s={},l=[],i=b.popLast()}p?s[b.lastSegment()]=Hu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Nh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Nh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Go(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new ia(Hu(this.value))}}function aw(r){const e=[];return Go(r.fields,((i,s)=>{const l=new ki([i]);if(Nh(s)){const c=aw(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new ga(e)}class Xi{constructor(e,i,s,l,c,p,b){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new Xi(e,0,xt.min(),xt.min(),xt.min(),ia.empty(),0)}static newFoundDocument(e,i,s,l){return new Xi(e,1,i,xt.min(),s,l,0)}static newNoDocument(e,i){return new Xi(e,2,i,xt.min(),xt.min(),ia.empty(),0)}static newUnknownDocument(e,i){return new Xi(e,3,i,xt.min(),xt.min(),ia.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ia.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ia.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xh{constructor(e,i){this.position=e,this.inclusive=i}}function s0(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?s=vt.comparator(vt.fromName(p.referenceValue),i.key):s=Fl(p,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function o0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ba(r.position[i],e.position[i]))return!1;return!0}class ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function tC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class sw{}class ci extends sw{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new iC(e,i,s):i==="array-contains"?new sC(e,s):i==="in"?new oC(e,s):i==="not-in"?new lC(e,s):i==="array-contains-any"?new uC(e,s):new ci(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new rC(e,s):new aC(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fl(i,this.value)):i!==null&&vo(this.value)===vo(i)&&this.matchesComparison(Fl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ya extends sw{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ya(e,i)}matches(e){return ow(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ow(r){return r.op==="and"}function lw(r){return nC(r)&&ow(r)}function nC(r){for(const e of r.filters)if(e instanceof ya)return!1;return!0}function Xm(r){if(r instanceof ci)return r.field.canonicalString()+r.op.toString()+Hl(r.value);if(lw(r))return r.filters.map((e=>Xm(e))).join(",");{const e=r.filters.map((i=>Xm(i))).join(",");return`${r.op}(${e})`}}function uw(r,e){return r instanceof ci?(function(s,l){return l instanceof ci&&s.op===l.op&&s.field.isEqual(l.field)&&Ba(s.value,l.value)})(r,e):r instanceof ya?(function(s,l){return l instanceof ya&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&uw(p,l.filters[b])),!0):!1})(r,e):void Tt(19439)}function cw(r){return r instanceof ci?(function(i){return`${i.field.canonicalString()} ${i.op} ${Hl(i.value)}`})(r):r instanceof ya?(function(i){return i.op.toString()+" {"+i.getFilters().map(cw).join(" ,")+"}"})(r):"Filter"}class iC extends ci{constructor(e,i,s){super(e,i,s),this.key=vt.fromName(s.referenceValue)}matches(e){const i=vt.comparator(e.key,this.key);return this.matchesComparison(i)}}class rC extends ci{constructor(e,i){super(e,"in",i),this.keys=hw("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class aC extends ci{constructor(e,i){super(e,"not-in",i),this.keys=hw("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function hw(r,e){return(e.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class sC extends ci{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ap(i)&&Zu(i.arrayValue,this.value)}}class oC extends ci{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zu(this.value.arrayValue,i)}}class lC extends ci{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zu(this.value.arrayValue,i)}}class uC extends ci{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ap(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Zu(this.value.arrayValue,s)))}}class cC{constructor(e,i=null,s=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function l0(r,e=null,i=[],s=[],l=null,c=null,p=null){return new cC(r,e,i,s,l,c,p)}function Sp(r){const e=Nt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Xm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),cf(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Hl(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Hl(s))).join(",")),e.Te=i}return e.Te}function Rp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!tC(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!uw(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!o0(r.startAt,e.startAt)&&o0(r.endAt,e.endAt)}function Qm(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Jl{constructor(e,i=null,s=[],l=[],c=null,p="F",b=null,E=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=E,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hC(r,e,i,s,l,c,p,b){return new Jl(r,e,i,s,l,c,p,b)}function fw(r){return new Jl(r)}function u0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dw(r){return r.collectionGroup!==null}function qu(r){const e=Nt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new gi(ki.comparator);return p.filters.forEach((E=>{E.getFlattenedFilters().forEach((w=>{w.isInequality()&&(b=b.add(w.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ec(c,s))})),i.has(ki.keyField().canonicalString())||e.Ie.push(new ec(ki.keyField(),s))}return e.Ie}function La(r){const e=Nt(r);return e.Ee||(e.Ee=fC(e,qu(r))),e.Ee}function fC(r,e){if(r.limitType==="F")return l0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ec(l.field,c)}));const i=r.endAt?new Xh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xh(r.startAt.position,r.startAt.inclusive):null;return l0(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Km(r,e){const i=r.filters.concat([e]);return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Qh(r,e,i){return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function ff(r,e){return Rp(La(r),La(e))&&r.limitType===e.limitType}function mw(r){return`${Sp(La(r))}|lt:${r.limitType}`}function Il(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>cw(l))).join(", ")}]`),cf(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Hl(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Hl(l))).join(",")),`Target(${s})`})(La(r))}; limitType=${r.limitType})`}function df(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):vt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of qu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(p,b,E){const w=s0(p,b,E);return p.inclusive?w<=0:w<0})(s.startAt,qu(s),l)||s.endAt&&!(function(p,b,E){const w=s0(p,b,E);return p.inclusive?w>=0:w>0})(s.endAt,qu(s),l))})(r,e)}function dC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function pw(r){return(e,i)=>{let s=!1;for(const l of qu(r)){const c=mC(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function mC(r,e,i){const s=r.field.isKeyField()?vt.comparator(e.key,i.key):(function(c,p,b){const E=p.data.field(c),w=b.data.field(c);return E!==null&&w!==null?Fl(E,w):Tt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}class Yo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return $b(this.inner)}size(){return this.innerSize}}const pC=new Xn(vt.comparator);function Ss(){return pC}const gw=new Xn(vt.comparator);function ju(...r){let e=gw;for(const i of r)e=e.insert(i.key,i);return e}function yw(r){let e=gw;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function jo(){return Gu()}function vw(){return Gu()}function Gu(){return new Yo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gC=new Xn(vt.comparator),yC=new gi(vt.comparator);function $t(...r){let e=yC;for(const i of r)e=e.add(i);return e}const vC=new gi(Wt);function _C(){return vC}function Cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function _w(r){return{integerValue:""+r}}function bC(r,e){return XR(e)?_w(e):Cp(r,e)}class mf{constructor(){this._=void 0}}function wC(r,e,i){return r instanceof Kh?(function(l,c){const p={fields:{[ew]:{stringValue:Zb},[nw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Tp(c)&&(c=hf(c)),c&&(p.fields[tw]=c),{mapValue:p}})(i,e):r instanceof tc?ww(r,e):r instanceof nc?Ew(r,e):(function(l,c){const p=bw(l,c),b=c0(p)+c0(l.Ae);return Ym(p)&&Ym(l.Ae)?_w(b):Cp(l.serializer,b)})(r,e)}function EC(r,e,i){return r instanceof tc?ww(r,e):r instanceof nc?Ew(r,e):i}function bw(r,e){return r instanceof Wh?(function(s){return Ym(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Kh extends mf{}class tc extends mf{constructor(e){super(),this.elements=e}}function ww(r,e){const i=Tw(e);for(const s of r.elements)i.some((l=>Ba(l,s)))||i.push(s);return{arrayValue:{values:i}}}class nc extends mf{constructor(e){super(),this.elements=e}}function Ew(r,e){let i=Tw(e);for(const s of r.elements)i=i.filter((l=>!Ba(l,s)));return{arrayValue:{values:i}}}class Wh extends mf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function c0(r){return ii(r.integerValue||r.doubleValue)}function Tw(r){return Ap(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function TC(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof tc&&l instanceof tc||s instanceof nc&&l instanceof nc?Bl(s.elements,l.elements,Ba):s instanceof Wh&&l instanceof Wh?Ba(s.Ae,l.Ae):s instanceof Kh&&l instanceof Kh})(r.transform,e.transform)}class AC{constructor(e,i){this.version=e,this.transformResults=i}}class _s{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pf{}function Aw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rw(r.key,_s.none()):new hc(r.key,r.data,_s.none());{const i=r.data,s=ia.empty();let l=new gi(ki.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Xo(r.key,s,new ga(l.toArray()),_s.none())}}function SC(r,e,i){r instanceof hc?(function(l,c,p){const b=l.value.clone(),E=f0(l.fieldTransforms,c,p.transformResults);b.setAll(E),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Xo?(function(l,c,p){if(!Dh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=f0(l.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(Sw(l)),E.setAll(b),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Yu(r,e,i,s){return r instanceof hc?(function(c,p,b,E){if(!Dh(c.precondition,p))return b;const w=c.value.clone(),x=d0(c.fieldTransforms,E,p);return w.setAll(x),p.convertToFoundDocument(p.version,w).setHasLocalMutations(),null})(r,e,i,s):r instanceof Xo?(function(c,p,b,E){if(!Dh(c.precondition,p))return b;const w=d0(c.fieldTransforms,E,p),x=p.data;return x.setAll(Sw(c)),x.setAll(w),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((P=>P.field)))})(r,e,i,s):(function(c,p,b){return Dh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function RC(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=bw(s.transform,l||null);c!=null&&(i===null&&(i=ia.empty()),i.set(s.field,c))}return i||null}function h0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Bl(s,l,((c,p)=>TC(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hc extends pf{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xo extends pf{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Sw(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function f0(r,e,i){const s=new Map;bn(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);s.set(c.field,EC(p,b,i[l]))}return s}function d0(r,e,i){const s=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);s.set(l.field,wC(c,p,e))}return s}class Rw extends pf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CC extends pf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IC{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&SC(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=vw();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const E=Aw(p,b);E!==null&&s.set(l.key,E),p.isValidDocument()||p.convertToNoDocument(xt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),$t())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((i,s)=>h0(i,s)))&&Bl(this.baseMutations,e.baseMutations,((i,s)=>h0(i,s)))}}class Ip{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){bn(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return gC})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new Ip(e,i,s,l)}}class xC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MC{constructor(e,i){this.count=e,this.unchangedNames=i}}var ui,nn;function NC(r){switch(r){case Se.OK:return Tt(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function Cw(r){if(r===void 0)return As("GRPC error has no .code"),Se.UNKNOWN;switch(r){case ui.OK:return Se.OK;case ui.CANCELLED:return Se.CANCELLED;case ui.UNKNOWN:return Se.UNKNOWN;case ui.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case ui.INTERNAL:return Se.INTERNAL;case ui.UNAVAILABLE:return Se.UNAVAILABLE;case ui.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case ui.NOT_FOUND:return Se.NOT_FOUND;case ui.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case ui.ABORTED:return Se.ABORTED;case ui.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case ui.DATA_LOSS:return Se.DATA_LOSS;default:return Tt(39323,{code:r})}}(nn=ui||(ui={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";function DC(){return new TextEncoder}const OC=new ho([4294967295,4294967295],0);function m0(r){const e=DC().encode(r),i=new zb;return i.update(e),new Uint8Array(i.digest())}function p0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ho([i,s],0),new ho([l,c],0)]}class xp{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new zu(`Invalid padding: ${i}`);if(s<0)throw new zu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new zu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ho.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(ho.fromNumber(s)));return l.compare(OC)===1&&(l=new ho([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=m0(e),[s,l]=p0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new xp(c,l,i);return s.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=m0(e),[s,l]=p0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gf{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new gf(xt.min(),l,new Xn(Wt),Ss(),$t())}}class fc{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fc(s,i,$t(),$t(),$t())}}class Oh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class Iw{constructor(e,i){this.targetId=e,this.Ce=i}}class xw{constructor(e,i,s=Pi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class g0{constructor(){this.ve=0,this.Fe=y0(),this.Me=Pi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$t(),i=$t(),s=$t();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Tt(38017,{changeType:c})}})),new fc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=y0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=bh(),this.He=bh(),this.Ye=new Xn(Wt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Tt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Qm(c))if(s===0){const p=new vt(c.path);this.et(i,p,Xi.newNoDocument(p,xt.min()))}else bn(s===1,20013,{expectedCount:s});else{const p=this._t(i);if(p!==s){const b=this.ut(e),E=b?this.ct(b,e,p):1;if(E!==0){this.it(i);const w=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,w)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=yo(s).toUint8Array()}catch(E){if(E instanceof Jb)return zl("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{b=new xp(p,l,c)}catch(E){return zl(E instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return b.ge===0?null:b}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Qm(b.target)){const E=new vt(b.target.path);this.It(E).has(p)||this.Et(p,E)||this.et(p,E,Xi.newNoDocument(E,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let s=$t();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((E=>{const w=this.ot(E);return!w||w.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new gf(e,i,this.Ye,this.je,s);return this.je=Ss(),this.Je=bh(),this.He=bh(),this.Ye=new Xn(Wt),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new g0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new gi(Wt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new gi(Wt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||tt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function bh(){return new Xn(vt.comparator)}function y0(){return new Xn(vt.comparator)}const kC={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LC={and:"AND",or:"OR"};class UC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Wm(r,e){return r.useProto3Json||cf(e)?e:{value:e}}function $h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function jC(r,e){return $h(r,e.toTimestamp())}function Ua(r){return bn(!!r,49232),xt.fromTimestamp((function(i){const s=go(i);return new zn(s.seconds,s.nanos)})(r))}function Mp(r,e){return $m(r,e).canonicalString()}function $m(r,e){const i=(function(l){return new Vn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Nw(r){const e=Vn.fromString(r);return bn(Pw(e),10190,{key:e.toString()}),e}function Jm(r,e){return Mp(r.databaseId,e.path)}function Cm(r,e){const i=Nw(e);if(i.get(1)!==r.databaseId.projectId)throw new $e(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new $e(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new vt(Ow(i))}function Dw(r,e){return Mp(r.databaseId,e)}function zC(r){const e=Nw(r);return e.length===4?Vn.emptyPath():Ow(e)}function Zm(r){return new Vn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ow(r){return bn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function v0(r,e,i){return{name:Jm(r,e),fields:i.value.mapValue.fields}}function BC(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Tt(39313,{state:w})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(w,x){return w.useProto3Json?(bn(x===void 0||typeof x=="string",58123),Pi.fromBase64String(x||"")):(bn(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Pi.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(w){const x=w.code===void 0?Se.UNKNOWN:Cw(w.code);return new $e(x,w.message||"")})(p);i=new xw(s,l,c,b||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Cm(r,s.document.name),c=Ua(s.document.updateTime),p=s.document.createTime?Ua(s.document.createTime):xt.min(),b=new ia({mapValue:{fields:s.document.fields}}),E=Xi.newFoundDocument(l,c,p,b),w=s.targetIds||[],x=s.removedTargetIds||[];i=new Oh(w,x,E.key,E)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Cm(r,s.document),c=s.readTime?Ua(s.readTime):xt.min(),p=Xi.newNoDocument(l,c),b=s.removedTargetIds||[];i=new Oh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Cm(r,s.document),c=s.removedTargetIds||[];i=new Oh([],c,l,null)}else{if(!("filter"in e))return Tt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new MC(l,c),b=s.targetId;i=new Iw(b,p)}}return i}function FC(r,e){let i;if(e instanceof hc)i={update:v0(r,e.key,e.value)};else if(e instanceof Rw)i={delete:Jm(r,e.key)};else if(e instanceof Xo)i={update:v0(r,e.key,e.data),updateMask:$C(e.fieldMask)};else{if(!(e instanceof CC))return Tt(16599,{Vt:e.type});i={verify:Jm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof Kh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof tc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof nc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Wh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw Tt(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:jC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Tt(27497)})(r,e.precondition)),i}function HC(r,e){return r&&r.length>0?(bn(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?Ua(l.updateTime):Ua(c);return p.isEqual(xt.min())&&(p=Ua(c)),new AC(p,l.transformResults||[])})(i,e)))):[]}function qC(r,e){return{documents:[Dw(r,e.path)]}}function GC(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Dw(r,l);const c=(function(w){if(w.length!==0)return kw(ya.create(w,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(w){if(w.length!==0)return w.map((x=>(function(G){return{field:xl(G.field),direction:QC(G.dir)}})(x)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=Wm(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{ft:i,parent:l}}function YC(r){let e=zC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){bn(s===1,65062);const x=i.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(P){const G=Vw(P);return G instanceof ya&&lw(G)?G.getFilters():[G]})(i.where));let p=[];i.orderBy&&(p=(function(P){return P.map((G=>(function(z){return new ec(Ml(z.field),(function(Ee){switch(Ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(G)))})(i.orderBy));let b=null;i.limit&&(b=(function(P){let G;return G=typeof P=="object"?P.value:P,cf(G)?null:G})(i.limit));let E=null;i.startAt&&(E=(function(P){const G=!!P.before,re=P.values||[];return new Xh(re,G)})(i.startAt));let w=null;return i.endAt&&(w=(function(P){const G=!P.before,re=P.values||[];return new Xh(re,G)})(i.endAt)),hC(e,l,p,c,b,"F",E,w)}function XC(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Vw(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ml(i.unaryFilter.field);return ci.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ml(i.unaryFilter.field);return ci.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ml(i.unaryFilter.field);return ci.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ml(i.unaryFilter.field);return ci.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ci.create(Ml(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ya.create(i.compositeFilter.filters.map((s=>Vw(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(i.compositeFilter.op))})(r):Tt(30097,{filter:r})}function QC(r){return kC[r]}function KC(r){return PC[r]}function WC(r){return LC[r]}function xl(r){return{fieldPath:r.canonicalString()}}function Ml(r){return ki.fromServerFormat(r.fieldPath)}function kw(r){return r instanceof ci?(function(i){if(i.op==="=="){if(a0(i.value))return{unaryFilter:{field:xl(i.field),op:"IS_NAN"}};if(r0(i.value))return{unaryFilter:{field:xl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(a0(i.value))return{unaryFilter:{field:xl(i.field),op:"IS_NOT_NAN"}};if(r0(i.value))return{unaryFilter:{field:xl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(i.field),op:KC(i.op),value:i.value}}})(r):r instanceof ya?(function(i){const s=i.getFilters().map((l=>kw(l)));return s.length===1?s[0]:{compositeFilter:{op:WC(i.op),filters:s}}})(r):Tt(54877,{filter:r})}function $C(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Pw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class oo{constructor(e,i,s,l,c=xt.min(),p=xt.min(),b=Pi.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=E}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JC{constructor(e){this.yt=e}}function ZC(r){const e=YC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qh(e,e.limit,"L"):e}class eI{constructor(){this.Cn=new tI}addToCollectionParentIndex(e,i){return this.Cn.add(i),Ie.resolve()}getCollectionParents(e,i){return Ie.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Ie.resolve()}deleteFieldIndex(e,i){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,i){return Ie.resolve()}getDocumentsMatchingTarget(e,i){return Ie.resolve(null)}getIndexType(e,i){return Ie.resolve(0)}getFieldIndexes(e,i){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,i){return Ie.resolve(po.min())}getMinOffsetFromCollectionGroup(e,i){return Ie.resolve(po.min())}updateCollectionGroup(e,i,s){return Ie.resolve()}updateIndexEntries(e,i){return Ie.resolve()}}class tI{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new gi(Vn.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new gi(Vn.comparator)).toArray()}}const _0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lw=41943040;class Sr{static withCacheSize(e){return new Sr(e,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(Lw,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}const b0="LruGarbageCollector",nI=1048576;function w0([r,e],[i,s]){const l=Wt(r,i);return l===0?Wt(e,s):l}class iI{constructor(e){this.Ir=e,this.buffer=new gi(w0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();w0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rI{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){tt(b0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$l(i)?tt(b0,"Ignoring IndexedDB error during garbage collection: ",i):await Wl(i)}await this.Vr(3e5)}))}}class aI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Ie.resolve(uf.ce);const s=new iI(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(_0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,p,b,E,w;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((P=>(P>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),l=this.params.maximumSequenceNumbersToCollect):l=P,p=Date.now(),this.nthSequenceNumber(e,l)))).next((P=>(s=P,b=Date.now(),this.removeTargets(e,s,i)))).next((P=>(c=P,E=Date.now(),this.removeOrphanedDocuments(e,s)))).next((P=>(w=Date.now(),Cl()<=Kt.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-x}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(E-b)+`ms
	Removed ${P} documents in `+(w-E)+`ms
Total Duration: ${w-x}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:P}))))}}function sI(r,e){return new aI(r,e)}class oI{constructor(){this.changes=new Yo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xi.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Ie.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class uI{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Yu(s.mutation,l,ga.empty(),zn.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,$t()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=$t()){const l=jo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let p=ju();return c.forEach(((b,E)=>{p=p.insert(b,E.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const s=jo();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,$t())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,s,l){let c=Ss();const p=Gu(),b=(function(){return Gu()})();return i.forEach(((E,w)=>{const x=s.get(w.key);l.has(w.key)&&(x===void 0||x.mutation instanceof Xo)?c=c.insert(w.key,w):x!==void 0?(p.set(w.key,x.mutation.getFieldMask()),Yu(x.mutation,w,x.mutation.getFieldMask(),zn.now())):p.set(w.key,ga.empty())})),this.recalculateAndSaveOverlays(e,c).next((E=>(E.forEach(((w,x)=>p.set(w,x))),i.forEach(((w,x)=>b.set(w,new lI(x,p.get(w)??null)))),b)))}recalculateAndSaveOverlays(e,i){const s=Gu();let l=new Xn(((p,b)=>p-b)),c=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((E=>{const w=i.get(E);if(w===null)return;let x=s.get(E)||ga.empty();x=b.applyToLocalView(w,x),s.set(E,x);const P=(l.get(b.batchId)||$t()).add(E);l=l.insert(b.batchId,P)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const E=b.getNext(),w=E.key,x=E.value,P=vw();x.forEach((G=>{if(!c.has(G)){const re=Aw(i.get(G),s.get(G));re!==null&&P.set(G,re),c=c.add(G)}})),p.push(this.documentOverlayCache.saveOverlays(e,w,P))}return Ie.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(p){return vt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):Ie.resolve(jo());let b=Wu,E=c;return p.next((w=>Ie.forEach(w,((x,P)=>(b<P.largestBatchId&&(b=P.largestBatchId),c.get(x)?Ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((G=>{E=E.insert(x,G)}))))).next((()=>this.populateOverlays(e,w,c))).next((()=>this.computeViews(e,E,w,$t()))).next((x=>({batchId:b,changes:yw(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new vt(i)).next((s=>{let l=ju();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let p=ju();return this.indexManager.getCollectionParents(e,c).next((b=>Ie.forEach(b,(E=>{const w=(function(P,G){return new Jl(G,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt)})(i,E.child(c));return this.getDocumentsMatchingCollectionQuery(e,w,s,l).next((x=>{x.forEach(((P,G)=>{p=p.insert(P,G)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((p=>{c.forEach(((E,w)=>{const x=w.getKey();p.get(x)===null&&(p=p.insert(x,Xi.newInvalidDocument(x)))}));let b=ju();return p.forEach(((E,w)=>{const x=c.get(E);x!==void 0&&Yu(x.mutation,w,ga.empty(),zn.now()),df(i,w)&&(b=b.insert(E,w))})),b}))}}class cI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Ie.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ua(l.createTime)}})(i)),Ie.resolve()}getNamedQuery(e,i){return Ie.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:ZC(l.bundledQuery),readTime:Ua(l.readTime)}})(i)),Ie.resolve()}}class hI{constructor(){this.overlays=new Xn(vt.comparator),this.qr=new Map}getOverlay(e,i){return Ie.resolve(this.overlays.get(i))}getOverlays(e,i){const s=jo();return Ie.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),Ie.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Ie.resolve()}getOverlaysForCollection(e,i,s){const l=jo(),c=i.length+1,p=new vt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const E=b.getNext().value,w=E.getKey();if(!i.isPrefixOf(w.path))break;w.path.length===c&&E.largestBatchId>s&&l.set(E.getKey(),E)}return Ie.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new Xn(((w,x)=>w-x));const p=this.overlays.getIterator();for(;p.hasNext();){const w=p.getNext().value;if(w.getKey().getCollectionGroup()===i&&w.largestBatchId>s){let x=c.get(w.largestBatchId);x===null&&(x=jo(),c=c.insert(w.largestBatchId,x)),x.set(w.getKey(),w)}}const b=jo(),E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((w,x)=>b.set(w,x))),!(b.size()>=l)););return Ie.resolve(b)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new xC(i,s));let c=this.qr.get(i);c===void 0&&(c=$t(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class fI{constructor(){this.sessionToken=Pi.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Ie.resolve()}}class Np{constructor(){this.Qr=new gi(bi.$r),this.Ur=new gi(bi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new bi(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new bi(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new vt(new Vn([])),s=new bi(i,e),l=new bi(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new vt(new Vn([])),s=new bi(i,e),l=new bi(i,e+1);let c=$t();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new bi(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class bi{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return vt.comparator(e.key,i.key)||Wt(e.Yr,i.Yr)}static Kr(e,i){return Wt(e.Yr,i.Yr)||vt.comparator(e.key,i.key)}}class dI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new gi(bi.$r)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new IC(c,i,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new bi(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Ie.resolve(p)}lookupMutationBatch(e,i){return Ie.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?Ep:this.tr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new bi(i,0),l=new bi(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new gi(Wt);return i.forEach((l=>{const c=new bi(l,0),p=new bi(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),Ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;vt.isDocumentKey(c)||(c=c.child(""));const p=new bi(new vt(c),0);let b=new gi(Wt);return this.Zr.forEachWhile((E=>{const w=E.key.path;return!!s.isPrefixOf(w)&&(w.length===l&&(b=b.add(E.Yr)),!0)}),p),Ie.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){bn(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Ie.forEach(i.mutations,(l=>{const c=new bi(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new bi(i,0),l=this.Zr.firstAfterOrEqual(s);return Ie.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mI{constructor(e){this.ri=e,this.docs=(function(){return new Xn(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Ie.resolve(s?s.document.mutableCopy():Xi.newInvalidDocument(i))}getEntries(e,i){let s=Ss();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Xi.newInvalidDocument(l))})),Ie.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=Ss();const p=i.path,b=new vt(p.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(b);for(;E.hasNext();){const{key:w,value:{document:x}}=E.getNext();if(!p.isPrefixOf(w.path))break;w.path.length>p.length+1||HR(FR(x),s)<=0||(l.has(x.key)||df(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Ie.resolve(c)}getAllFromCollectionGroup(e,i,s,l){Tt(9500)}ii(e,i){return Ie.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new pI(this)}getSize(e){return Ie.resolve(this.size)}}class pI extends oI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Ie.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class gI{constructor(e){this.persistence=e,this.si=new Yo((i=>Sp(i)),Rp),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new Np,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Ie.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ql(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Ie.resolve()}updateTargetData(e,i){return this.Pr(i),Ie.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Ie.waitFor(c).next((()=>l))}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Ie.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Ie.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Ie.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Ie.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Ie.resolve(s)}containsKey(e,i){return Ie.resolve(this._i.containsKey(i))}}class Uw{constructor(e,i){this.ui={},this.overlays={},this.ci=new uf(0),this.li=!1,this.li=!0,this.hi=new fI,this.referenceDelegate=e(this),this.Pi=new gI(this),this.indexManager=new eI,this.remoteDocumentCache=(function(l){return new mI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new JC(i),this.Ii=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new dI(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){tt("MemoryPersistence","Starting transaction:",e);const l=new yI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class yI extends GR{constructor(e){super(),this.currentSequenceNumber=e}}class Dp{constructor(e){this.persistence=e,this.Ri=new Np,this.Vi=null}static mi(e){return new Dp(e)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Ie.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Ie.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Ie.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.fi,(s=>{const l=vt.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,xt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Ie.or([()=>Ie.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Jh{constructor(e,i){this.persistence=e,this.pi=new Yo((s=>QR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=sI(this,i)}static mi(e,i){return new Jh(e,i)}Ei(){}di(e){return Ie.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Ie.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Ie.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(s++,c.removeEntry(p,xt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Ie.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Ie.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Mh(e.data.value)),i}br(e,i,s){return Ie.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Ie.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Op{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=$t(),l=$t();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Op(e,i.fromCache,s,l)}}class vI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oA()?8:YR(Qi())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new vI;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(Cl()<=Kt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",Il(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ie.resolve()):(Cl()<=Kt.DEBUG&&tt("QueryEngine","Query:",Il(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Cl()<=Kt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",Il(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,La(i))):Ie.resolve())}ys(e,i){if(u0(i))return Ie.resolve(null);let s=La(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Qh(i,null,"F"),s=La(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=$t(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,s).next((E=>{const w=this.Ds(i,b);return this.Cs(i,w,p,E.readTime)?this.ys(e,Qh(i,null,"F")):this.vs(e,w,i,E)}))))})))))}ws(e,i,s,l){return u0(i)||l.isEqual(xt.min())?Ie.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,s,l)?Ie.resolve(null):(Cl()<=Kt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Il(i)),this.vs(e,p,i,BR(l,Wu)).next((b=>b)))}))}Ds(e,i){let s=new gi(pw(e));return i.forEach(((l,c)=>{df(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return Cl()<=Kt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",Il(i)),this.ps.getDocumentsMatchingQuery(e,i,po.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Vp="LocalStore",bI=3e8;class wI{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Xn(Wt),this.xs=new Yo((c=>Sp(c)),Rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function EI(r,e,i,s){return new wI(r,e,i,s)}async function jw(r,e){const i=Nt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let E=$t();for(const w of l){p.push(w.batchId);for(const x of w.mutations)E=E.add(x.key)}for(const w of c){b.push(w.batchId);for(const x of w.mutations)E=E.add(x.key)}return i.localDocuments.getDocuments(s,E).next((w=>({Ls:w,removedBatchIds:p,addedBatchIds:b})))}))}))}function TI(r,e){const i=Nt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,E,w,x){const P=w.batch,G=P.keys();let re=Ie.resolve();return G.forEach((z=>{re=re.next((()=>x.getEntry(E,z))).next((Ve=>{const Ee=w.docVersions.get(z);bn(Ee!==null,48541),Ve.version.compareTo(Ee)<0&&(P.applyToRemoteDocument(Ve,w),Ve.isValidDocument()&&(Ve.setReadTime(w.commitVersion),x.addEntry(Ve)))}))})),re.next((()=>b.mutationQueue.removeMutationBatch(E,P)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let E=$t();for(let w=0;w<b.mutationResults.length;++w)b.mutationResults[w].transformResults.length>0&&(E=E.add(b.batch.mutations[w].key));return E})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function zw(r){const e=Nt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function AI(r,e){const i=Nt(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((x,P)=>{const G=l.get(P);if(!G)return;b.push(i.Pi.removeMatchingKeys(c,x.removedDocuments,P).next((()=>i.Pi.addMatchingKeys(c,x.addedDocuments,P))));let re=G.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(P)!==null?re=re.withResumeToken(Pi.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):x.resumeToken.approximateByteSize()>0&&(re=re.withResumeToken(x.resumeToken,s)),l=l.insert(P,re),(function(Ve,Ee,Pe){return Ve.resumeToken.approximateByteSize()===0||Ee.snapshotVersion.toMicroseconds()-Ve.snapshotVersion.toMicroseconds()>=bI?!0:Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0})(G,re,x)&&b.push(i.Pi.updateTargetData(c,re))}));let E=Ss(),w=$t();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),b.push(SI(c,p,e.documentUpdates).next((x=>{E=x.ks,w=x.qs}))),!s.isEqual(xt.min())){const x=i.Pi.getLastRemoteSnapshotVersion(c).next((P=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(x)}return Ie.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,E,w))).next((()=>E))})).then((c=>(i.Ms=l,c)))}function SI(r,e,i){let s=$t(),l=$t();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let p=Ss();return i.forEach(((b,E)=>{const w=c.get(b);E.isFoundDocument()!==w.isFoundDocument()&&(l=l.add(b)),E.isNoDocument()&&E.version.isEqual(xt.min())?(e.removeEntry(b,E.readTime),p=p.insert(b,E)):!w.isValidDocument()||E.version.compareTo(w.version)>0||E.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(E),p=p.insert(b,E)):tt(Vp,"Ignoring outdated watch update for ",b,". Current version:",w.version," Watch version:",E.version)})),{ks:p,qs:l}}))}function RI(r,e){const i=Nt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ep),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function CI(r,e){const i=Nt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,Ie.resolve(l)):i.Pi.allocateTargetId(s).next((p=>(l=new oo(e,p,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function ep(r,e,i){const s=Nt(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!$l(p))throw p;tt(Vp,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function E0(r,e,i){const s=Nt(r);let l=xt.min(),c=$t();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(E,w,x){const P=Nt(E),G=P.xs.get(x);return G!==void 0?Ie.resolve(P.Ms.get(G)):P.Pi.getTargetData(w,x)})(s,p,La(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((E=>{c=E}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,i?l:xt.min(),i?c:$t()))).next((b=>(II(s,dC(e),b),{documents:b,Qs:c})))))}function II(r,e,i){let s=r.Os.get(e)||xt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class T0{constructor(){this.activeTargetIds=_C()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xI{constructor(){this.Mo=new T0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new T0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MI{Oo(e){}shutdown(){}}const A0="ConnectivityMonitor";class S0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){tt(A0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){tt(A0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wh=null;function tp(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}const Im="RestConnection",NI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Gh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const p=tp(),b=this.zo(e,i.toUriEncodedString());tt(Im,`Sending RPC '${e}' ${p}:`,b,s);const E={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(E,l,c);const{host:w}=new URL(b),x=Yl(w);return this.Jo(e,b,E,s,x).then((P=>(tt(Im,`Received RPC '${e}' ${p}: `,P),P)),(P=>{throw zl(Im,`RPC '${e}' ${p} failed with error: `,P,"url: ",b,"request:",s),P}))}Ho(e,i,s,l,c,p){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=NI[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class OI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Gi="WebChannelConnection";class VI extends DI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const p=tp();return new Promise(((b,E)=>{const w=new Bb;w.setWithCredentials(!0),w.listenOnce(Fb.COMPLETE,(()=>{try{switch(w.getLastErrorCode()){case xh.NO_ERROR:const P=w.getResponseJson();tt(Gi,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(P)),b(P);break;case xh.TIMEOUT:tt(Gi,`RPC '${e}' ${p} timed out`),E(new $e(Se.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const G=w.getStatus();if(tt(Gi,`RPC '${e}' ${p} failed with status:`,G,"response text:",w.getResponseText()),G>0){let re=w.getResponseJson();Array.isArray(re)&&(re=re[0]);const z=re?.error;if(z&&z.status&&z.message){const Ve=(function(Pe){const Le=Pe.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(Le)>=0?Le:Se.UNKNOWN})(z.status);E(new $e(Ve,z.message))}else E(new $e(Se.UNKNOWN,"Server responded with status "+w.getStatus()))}else E(new $e(Se.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:e,streamId:p,h_:w.getLastErrorCode(),P_:w.getLastError()})}}finally{tt(Gi,`RPC '${e}' ${p} completed.`)}}));const x=JSON.stringify(l);tt(Gi,`RPC '${e}' ${p} sending request:`,l),w.send(i,"POST",x,s,15)}))}T_(e,i,s){const l=tp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Gb(),b=qb(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(E.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(E.useFetchStreams=!0),this.jo(E.initMessageHeaders,i,s),E.encodeInitMessageHeaders=!0;const x=c.join("");tt(Gi,`Creating RPC '${e}' stream ${l}: ${x}`,E);const P=p.createWebChannel(x,E);this.I_(P);let G=!1,re=!1;const z=new OI({Yo:Ee=>{re?tt(Gi,`Not sending because RPC '${e}' stream ${l} is closed:`,Ee):(G||(tt(Gi,`Opening RPC '${e}' stream ${l} transport.`),P.open(),G=!0),tt(Gi,`RPC '${e}' stream ${l} sending:`,Ee),P.send(Ee))},Zo:()=>P.close()}),Ve=(Ee,Pe,Le)=>{Ee.listen(Pe,(ze=>{try{Le(ze)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return Ve(P,Uu.EventType.OPEN,(()=>{re||(tt(Gi,`RPC '${e}' stream ${l} transport opened.`),z.o_())})),Ve(P,Uu.EventType.CLOSE,(()=>{re||(re=!0,tt(Gi,`RPC '${e}' stream ${l} transport closed`),z.a_(),this.E_(P))})),Ve(P,Uu.EventType.ERROR,(Ee=>{re||(re=!0,zl(Gi,`RPC '${e}' stream ${l} transport errored. Name:`,Ee.name,"Message:",Ee.message),z.a_(new $e(Se.UNAVAILABLE,"The operation could not be completed")))})),Ve(P,Uu.EventType.MESSAGE,(Ee=>{if(!re){const Pe=Ee.data[0];bn(!!Pe,16349);const Le=Pe,ze=Le?.error||Le[0]?.error;if(ze){tt(Gi,`RPC '${e}' stream ${l} received error:`,ze);const rt=ze.status;let pt=(function(B){const k=ui[B];if(k!==void 0)return Cw(k)})(rt),ot=ze.message;pt===void 0&&(pt=Se.INTERNAL,ot="Unknown error status: "+rt+" with message "+ze.message),re=!0,z.a_(new $e(pt,ot)),P.close()}else tt(Gi,`RPC '${e}' stream ${l} received:`,Pe),z.u_(Pe)}})),Ve(b,Hb.STAT_EVENT,(Ee=>{Ee.stat===Hm.PROXY?tt(Gi,`RPC '${e}' stream ${l} detected buffering proxy`):Ee.stat===Hm.NOPROXY&&tt(Gi,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function xm(){return typeof document<"u"?document:null}function yf(r){return new UC(r,!0)}class Bw{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&tt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const R0="PersistentStream";class Fw{constructor(e,i,s,l,c,p,b,E){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bw(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Se.RESOURCE_EXHAUSTED?(As(i.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new $e(Se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return tt(R0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(tt(R0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kI extends Fw{constructor(e,i,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=BC(this.serializer,e),s=(function(c){if(!("targetChange"in c))return xt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?xt.min():p.readTime?Ua(p.readTime):xt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Zm(this.serializer),i.addTarget=(function(c,p){let b;const E=p.target;if(b=Qm(E)?{documents:qC(c,E)}:{query:GC(c,E).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=Mw(c,p.resumeToken);const w=Wm(c,p.expectedCount);w!==null&&(b.expectedCount=w)}else if(p.snapshotVersion.compareTo(xt.min())>0){b.readTime=$h(c,p.snapshotVersion.toTimestamp());const w=Wm(c,p.expectedCount);w!==null&&(b.expectedCount=w)}return b})(this.serializer,e);const s=XC(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Zm(this.serializer),i.removeTarget=e,this.q_(i)}}class PI extends Fw{constructor(e,i,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return bn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=HC(e.writeResults,e.commitTime),s=Ua(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Zm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>FC(this.serializer,s)))};this.q_(i)}}class LI{}class UI extends LI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new $e(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,$m(i,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new $e(Se.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,$m(i,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new $e(Se.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(i),this.aa=!1):tt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qo="RemoteStore";class zI{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Qo(this)&&(tt(qo,"Restarting streams for network reachability change."),await(async function(E){const w=Nt(E);w.Ea.add(4),await dc(w),w.Ra.set("Unknown"),w.Ea.delete(4),await vf(w)})(this))}))})),this.Ra=new jI(s,l)}}async function vf(r){if(Qo(r))for(const e of r.da)await e(!0)}async function dc(r){for(const e of r.da)await e(!1)}function Hw(r,e){const i=Nt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Up(i)?Lp(i):Zl(i).O_()&&Pp(i,e))}function kp(r,e){const i=Nt(r),s=Zl(i);i.Ia.delete(e),s.O_()&&qw(i,e),i.Ia.size===0&&(s.O_()?s.L_():Qo(i)&&i.Ra.set("Unknown"))}function Pp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zl(r).Y_(e)}function qw(r,e){r.Va.Ue(e),Zl(r).Z_(e)}function Lp(r){r.Va=new VC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zl(r).start(),r.Ra.ua()}function Up(r){return Qo(r)&&!Zl(r).x_()&&r.Ia.size>0}function Qo(r){return Nt(r).Ea.size===0}function Gw(r){r.Va=void 0}async function BI(r){r.Ra.set("Online")}async function FI(r){r.Ia.forEach(((e,i)=>{Pp(r,e)}))}async function HI(r,e){Gw(r),Up(r)?(r.Ra.ha(e),Lp(r)):r.Ra.set("Unknown")}async function qI(r,e,i){if(r.Ra.set("Online"),e instanceof xw&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(s){tt(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zh(r,s)}else if(e instanceof Oh?r.Va.Ze(e):e instanceof Iw?r.Va.st(e):r.Va.tt(e),!i.isEqual(xt.min()))try{const s=await zw(r.localStore);i.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((E,w)=>{if(E.resumeToken.approximateByteSize()>0){const x=c.Ia.get(w);x&&c.Ia.set(w,x.withResumeToken(E.resumeToken,p))}})),b.targetMismatches.forEach(((E,w)=>{const x=c.Ia.get(E);if(!x)return;c.Ia.set(E,x.withResumeToken(Pi.EMPTY_BYTE_STRING,x.snapshotVersion)),qw(c,E);const P=new oo(x.target,E,w,x.sequenceNumber);Pp(c,P)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(s){tt(qo,"Failed to raise snapshot:",s),await Zh(r,s)}}async function Zh(r,e,i){if(!$l(e))throw e;r.Ea.add(1),await dc(r),r.Ra.set("Offline"),i||(i=()=>zw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{tt(qo,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await vf(r)}))}function Yw(r,e){return e().catch((i=>Zh(r,i,e)))}async function _f(r){const e=Nt(r),i=_o(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ep;for(;GI(e);)try{const l=await RI(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,YI(e,l)}catch(l){await Zh(e,l)}Xw(e)&&Qw(e)}function GI(r){return Qo(r)&&r.Ta.length<10}function YI(r,e){r.Ta.push(e);const i=_o(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Xw(r){return Qo(r)&&!_o(r).x_()&&r.Ta.length>0}function Qw(r){_o(r).start()}async function XI(r){_o(r).ra()}async function QI(r){const e=_o(r);for(const i of r.Ta)e.ea(i.mutations)}async function KI(r,e,i){const s=r.Ta.shift(),l=Ip.from(s,e,i);await Yw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await _f(r)}async function WI(r,e){e&&_o(r).X_&&await(async function(s,l){if((function(p){return NC(p)&&p!==Se.ABORTED})(l.code)){const c=s.Ta.shift();_o(s).B_(),await Yw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await _f(s)}})(r,e),Xw(r)&&Qw(r)}async function C0(r,e){const i=Nt(r);i.asyncQueue.verifyOperationInProgress(),tt(qo,"RemoteStore received new credentials");const s=Qo(i);i.Ea.add(3),await dc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await vf(i)}async function $I(r,e){const i=Nt(r);e?(i.Ea.delete(2),await vf(i)):e||(i.Ea.add(2),await dc(i),i.Ra.set("Unknown"))}function Zl(r){return r.ma||(r.ma=(function(i,s,l){const c=Nt(i);return c.sa(),new kI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:BI.bind(null,r),t_:FI.bind(null,r),r_:HI.bind(null,r),H_:qI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Up(r)?Lp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Gw(r))}))),r.ma}function _o(r){return r.fa||(r.fa=(function(i,s,l){const c=Nt(i);return c.sa(),new PI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:XI.bind(null,r),r_:WI.bind(null,r),ta:QI.bind(null,r),na:KI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await _f(r)):(await r.fa.stop(),r.Ta.length>0&&(tt(qo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class jp{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const p=Date.now()+s,b=new jp(e,i,p,l,c);return b.start(s),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(r,e){if(As("AsyncQueue",`${e}: ${r}`),$l(r))return new $e(Se.UNAVAILABLE,`${e}: ${r}`);throw r}class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||vt.comparator(i.key,s.key):(i,s)=>vt.comparator(i.key,s.key),this.keyedMap=ju(),this.sortedSet=new Xn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Pl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class I0{constructor(){this.ga=new Xn(vt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Tt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Gl{constructor(e,i,s,l,c,p,b,E,w){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=E,this.hasCachedResults=w}static fromInitialDocuments(e,i,s,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Gl(e,i,Pl.emptySet(i),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class JI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZI{constructor(){this.queries=x0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Nt(i),c=l.queries;l.queries=x0(),c.forEach(((p,b)=>{for(const E of b.Sa)E.onError(s)}))})(this,new $e(Se.ABORTED,"Firestore shutting down"))}}function x0(){return new Yo((r=>mw(r)),ff)}async function ex(r,e){const i=Nt(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new JI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=zp(p,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Bp(i)}async function tx(r,e){const i=Nt(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function nx(r,e){const i=Nt(r);let s=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&Bp(i)}function ix(r,e,i){const s=Nt(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function Bp(r){r.Ca.forEach((e=>{e.next()}))}var np,M0;(M0=np||(np={})).Ma="default",M0.Cache="cache";class rx{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==np.Cache}}class Kw{constructor(e){this.key=e}}class Ww{constructor(e){this.key=e}}class ax{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$t(),this.mutatedKeys=$t(),this.eu=pw(e),this.tu=new Pl(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new I0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const E=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,w=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,P)=>{const G=l.get(x),re=df(this.query,P)?P:null,z=!!G&&this.mutatedKeys.has(G.key),Ve=!!re&&(re.hasLocalMutations||this.mutatedKeys.has(re.key)&&re.hasCommittedMutations);let Ee=!1;G&&re?G.data.isEqual(re.data)?z!==Ve&&(s.track({type:3,doc:re}),Ee=!0):this.su(G,re)||(s.track({type:2,doc:re}),Ee=!0,(E&&this.eu(re,E)>0||w&&this.eu(re,w)<0)&&(b=!0)):!G&&re?(s.track({type:0,doc:re}),Ee=!0):G&&!re&&(s.track({type:1,doc:G}),Ee=!0,(E||w)&&(b=!0)),Ee&&(re?(p=p.add(re),c=Ve?c.add(x):c.delete(x)):(p=p.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const x=this.query.limitType==="F"?p.last():p.first();p=p.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((x,P)=>(function(re,z){const Ve=Ee=>{switch(Ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:Ee})}};return Ve(re)-Ve(z)})(x.type,P.type)||this.eu(x.doc,P.doc))),this.ou(s),l=l??!1;const b=i&&!l?this._u():[],E=this.Xa.size===0&&this.current&&!l?1:0,w=E!==this.Za;return this.Za=E,p.length!==0||w?{snapshot:new Gl(this.query,e.tu,c,p,e.mutatedKeys,E===0,w,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$t(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Ww(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Kw(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=$t();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fp="SyncEngine";class sx{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class ox{constructor(e){this.key=e,this.hu=!1}}class lx{constructor(e,i,s,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Yo((b=>mw(b)),ff),this.Iu=new Map,this.Eu=new Set,this.du=new Xn(vt.comparator),this.Au=new Map,this.Ru=new Np,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ux(r,e,i=!0){const s=n1(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await $w(s,e,i,!0),l}async function cx(r,e){const i=n1(r);await $w(i,e,!0,!1)}async function $w(r,e,i,s){const l=await CI(r.localStore,La(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return s&&(b=await hx(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&Hw(r.remoteStore,l),b}async function hx(r,e,i,s,l){r.pu=(P,G,re)=>(async function(Ve,Ee,Pe,Le){let ze=Ee.view.ru(Pe);ze.Cs&&(ze=await E0(Ve.localStore,Ee.query,!1).then((({documents:H})=>Ee.view.ru(H,ze))));const rt=Le&&Le.targetChanges.get(Ee.targetId),pt=Le&&Le.targetMismatches.get(Ee.targetId)!=null,ot=Ee.view.applyChanges(ze,Ve.isPrimaryClient,rt,pt);return D0(Ve,Ee.targetId,ot.au),ot.snapshot})(r,P,G,re);const c=await E0(r.localStore,e,!0),p=new ax(e,c.Qs),b=p.ru(c.documents),E=fc.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),w=p.applyChanges(b,r.isPrimaryClient,E);D0(r,i,w.au);const x=new sx(e,i,p);return r.Tu.set(e,x),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),w.snapshot}async function fx(r,e,i){const s=Nt(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!ff(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await ep(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&kp(s.remoteStore,l.targetId),ip(s,l.targetId)})).catch(Wl)):(ip(s,l.targetId),await ep(s.localStore,l.targetId,!0))}async function dx(r,e){const i=Nt(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),kp(i.remoteStore,s.targetId))}async function mx(r,e,i){const s=wx(r);try{const l=await(function(p,b){const E=Nt(p),w=zn.now(),x=b.reduce(((re,z)=>re.add(z.key)),$t());let P,G;return E.persistence.runTransaction("Locally write mutations","readwrite",(re=>{let z=Ss(),Ve=$t();return E.Ns.getEntries(re,x).next((Ee=>{z=Ee,z.forEach(((Pe,Le)=>{Le.isValidDocument()||(Ve=Ve.add(Pe))}))})).next((()=>E.localDocuments.getOverlayedDocuments(re,z))).next((Ee=>{P=Ee;const Pe=[];for(const Le of b){const ze=RC(Le,P.get(Le.key).overlayedDocument);ze!=null&&Pe.push(new Xo(Le.key,ze,aw(ze.value.mapValue),_s.exists(!0)))}return E.mutationQueue.addMutationBatch(re,w,Pe,b)})).next((Ee=>{G=Ee;const Pe=Ee.applyToLocalDocumentSet(P,Ve);return E.documentOverlayCache.saveOverlays(re,Ee.batchId,Pe)}))})).then((()=>({batchId:G.batchId,changes:yw(P)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,E){let w=p.Vu[p.currentUser.toKey()];w||(w=new Xn(Wt)),w=w.insert(b,E),p.Vu[p.currentUser.toKey()]=w})(s,l.batchId,i),await mc(s,l.changes),await _f(s.remoteStore)}catch(l){const c=zp(l,"Failed to persist write");i.reject(c)}}async function Jw(r,e){const i=Nt(r);try{const s=await AI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(bn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?bn(p.hu,14607):l.removedDocuments.size>0&&(bn(p.hu,42227),p.hu=!1))})),await mc(i,s,e)}catch(s){await Wl(s)}}function N0(r,e,i){const s=Nt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const E=Nt(p);E.onlineState=b;let w=!1;E.queries.forEach(((x,P)=>{for(const G of P.Sa)G.va(b)&&(w=!0)})),w&&Bp(E)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function px(r,e,i){const s=Nt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new Xn(vt.comparator);p=p.insert(c,Xi.newNoDocument(c,xt.min()));const b=$t().add(c),E=new gf(xt.min(),new Map,new Xn(Wt),p,b);await Jw(s,E),s.du=s.du.remove(c),s.Au.delete(e),Hp(s)}else await ep(s.localStore,e,!1).then((()=>ip(s,e,i))).catch(Wl)}async function gx(r,e){const i=Nt(r),s=e.batch.batchId;try{const l=await TI(i.localStore,e);e1(i,s,null),Zw(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mc(i,l)}catch(l){await Wl(l)}}async function yx(r,e,i){const s=Nt(r);try{const l=await(function(p,b){const E=Nt(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let x;return E.mutationQueue.lookupMutationBatch(w,b).next((P=>(bn(P!==null,37113),x=P.keys(),E.mutationQueue.removeMutationBatch(w,P)))).next((()=>E.mutationQueue.performConsistencyCheck(w))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(w,x,b))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,x))).next((()=>E.localDocuments.getDocuments(w,x)))}))})(s.localStore,e);e1(s,e,i),Zw(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mc(s,l)}catch(l){await Wl(l)}}function Zw(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function e1(r,e,i){const s=Nt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function ip(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||t1(r,s)}))}function t1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(kp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Hp(r))}function D0(r,e,i){for(const s of i)s instanceof Kw?(r.Ru.addReference(s.key,e),vx(r,s)):s instanceof Ww?(tt(Fp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||t1(r,s.key)):Tt(19791,{wu:s})}function vx(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(tt(Fp,"New document in limbo: "+i),r.Eu.add(s),Hp(r))}function Hp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new vt(Vn.fromString(e)),s=r.fu.next();r.Au.set(s,new ox(i)),r.du=r.du.insert(i,s),Hw(r.remoteStore,new oo(La(fw(i.path)),s,"TargetPurposeLimboResolution",uf.ce))}}async function mc(r,e,i){const s=Nt(r),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,E)=>{p.push(s.pu(E,e,i).then((w=>{if((w||i)&&s.isPrimaryClient){const x=w?!w.fromCache:i?.targetChanges.get(E.targetId)?.current;s.sharedClientState.updateQueryState(E.targetId,x?"current":"not-current")}if(w){l.push(w);const x=Op.As(E.targetId,w);c.push(x)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(E,w){const x=Nt(E);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(P=>Ie.forEach(w,(G=>Ie.forEach(G.Es,(re=>x.persistence.referenceDelegate.addReference(P,G.targetId,re))).next((()=>Ie.forEach(G.ds,(re=>x.persistence.referenceDelegate.removeReference(P,G.targetId,re)))))))))}catch(P){if(!$l(P))throw P;tt(Vp,"Failed to update sequence numbers: "+P)}for(const P of w){const G=P.targetId;if(!P.fromCache){const re=x.Ms.get(G),z=re.snapshotVersion,Ve=re.withLastLimboFreeSnapshotVersion(z);x.Ms=x.Ms.insert(G,Ve)}}})(s.localStore,c))}async function _x(r,e){const i=Nt(r);if(!i.currentUser.isEqual(e)){tt(Fp,"User change. New user:",e.toKey());const s=await jw(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((E=>{E.reject(new $e(Se.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mc(i,s.Ls)}}function bx(r,e){const i=Nt(r),s=i.Au.get(e);if(s&&s.hu)return $t().add(s.key);{let l=$t();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function n1(r){const e=Nt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=px.bind(null,e),e.Pu.H_=nx.bind(null,e.eventManager),e.Pu.yu=ix.bind(null,e.eventManager),e}function wx(r){const e=Nt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yx.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return EI(this.persistence,new _I,e.initialUser,this.serializer)}Cu(e){return new Uw(Dp.mi,this.serializer)}Du(e){return new xI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class Ex extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){bn(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rI(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new Uw((s=>Jh.mi(s,i)),this.serializer)}}class rp{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>N0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_x.bind(null,this.syncEngine),await $I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZI})()}createDatastore(e){const i=yf(e.databaseInfo.databaseId),s=(function(c){return new VI(c)})(e.databaseInfo);return(function(c,p,b,E){return new UI(c,p,b,E)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,p,b){return new zI(s,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>N0(this.syncEngine,i,0)),(function(){return S0.v()?new S0:new MI})())}createSyncEngine(e,i){return(function(l,c,p,b,E,w,x){const P=new lx(l,c,p,b,E,w);return x&&(P.gu=!0),P})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Nt(i);tt(qo,"RemoteStore shutting down."),s.Ea.add(5),await dc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rp.provider={build:()=>new rp};class Tx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const bo="FirestoreClient";class Ax{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Yi.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{tt(bo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(tt(bo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=zp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Mm(r,e){r.asyncQueue.verifyOperationInProgress(),tt(bo,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await jw(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function O0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Sx(r);tt(bo,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>C0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>C0(e.remoteStore,l))),r._onlineComponents=e}async function Sx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){tt(bo,"Using user provided OfflineComponentProvider");try{await Mm(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Se.FAILED_PRECONDITION||l.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;zl("Error using user provided cache. Falling back to memory cache: "+i),await Mm(r,new ef)}}else tt(bo,"Using default OfflineComponentProvider"),await Mm(r,new Ex(void 0));return r._offlineComponents}async function i1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(tt(bo,"Using user provided OnlineComponentProvider"),await O0(r,r._uninitializedComponentsProvider._online)):(tt(bo,"Using default OnlineComponentProvider"),await O0(r,new rp))),r._onlineComponents}function Rx(r){return i1(r).then((e=>e.syncEngine))}async function Cx(r){const e=await i1(r),i=e.eventManager;return i.onListen=ux.bind(null,e.syncEngine),i.onUnlisten=fx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=cx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=dx.bind(null,e.syncEngine),i}function Ix(r,e,i={}){const s=new fo;return r.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,E,w){const x=new Tx({next:G=>{x.Nu(),p.enqueueAndForget((()=>tx(c,P))),G.fromCache&&E.source==="server"?w.reject(new $e(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(G)},error:G=>w.reject(G)}),P=new rx(b,x,{includeMetadataChanges:!0,qa:!0});return ex(c,P)})(await Cx(r),r.asyncQueue,e,i,s))),s.promise}function r1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const V0=new Map;const a1="firestore.googleapis.com",k0=!0;class P0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a1,this.ssl=k0}else this.host=e.host,this.ssl=e.ssl??k0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nI)throw new $e(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $e(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $e(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $e(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bf{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xR;switch(s.type){case"firstParty":return new OR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new $e(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=V0.get(i);s&&(tt("ComponentProvider","Removing Datastore"),V0.delete(i),s.terminate())})(this),Promise.resolve()}}function xx(r,e,i,s={}){r=Hh(r,bf);const l=Yl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(tb(`https://${b}`),nb("Firestore",!0)),c.host!==a1&&c.host!==b&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...c,host:b,ssl:l,emulatorOptions:s};if(!zo(E,p)&&(r._setSettings(E),s.mockUserToken)){let w,x;if(typeof s.mockUserToken=="string")w=s.mockUserToken,x=Yi.MOCK_USER;else{w=JT(s.mockUserToken,r._app?.options.projectId);const P=s.mockUserToken.sub||s.mockUserToken.user_id;if(!P)throw new $e(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Yi(P)}r._authCredentials=new MR(new Xb(w,x))}}class wo{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class wi{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wi(this.firestore,e,this._key)}toJSON(){return{type:wi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(cc(i,wi._jsonSchema))return new wi(e,s||null,new vt(Vn.fromString(i.referencePath)))}}wi._jsonSchemaVersion="firestore/documentReference/1.0",wi._jsonSchema={type:hi("string",wi._jsonSchemaVersion),referencePath:hi("string")};class mo extends wo{constructor(e,i,s){super(e,i,fw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wi(this.firestore,null,new vt(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function ap(r,e,...i){if(r=Fr(r),Qb("collection","path",e),r instanceof bf){const s=Vn.fromString(e,...i);return K_(s),new mo(r,null,s)}{if(!(r instanceof wi||r instanceof mo))throw new $e(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Vn.fromString(e,...i));return K_(s),new mo(r.firestore,null,s)}}function Mx(r,e,...i){if(r=Fr(r),arguments.length===1&&(e=wp.newId()),Qb("doc","path",e),r instanceof bf){const s=Vn.fromString(e,...i);return Q_(s),new wi(r,null,new vt(s))}{if(!(r instanceof wi||r instanceof mo))throw new $e(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Vn.fromString(e,...i));return Q_(s),new wi(r.firestore,r instanceof mo?r.converter:null,new vt(s))}}const L0="AsyncQueue";class U0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bw(this,"async_queue_retry"),this._c=()=>{const s=xm();s&&tt(L0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=xm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=xm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;tt(L0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",j0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=jp.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Tt(47125,{Pc:j0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function j0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class qp extends bf{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new U0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U0(e),this._firestoreClient=void 0,await e}}}function Nx(r,e){const i=typeof r=="object"?r:sb(),s=typeof r=="string"?r:Gh,l=hp(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=WT("firestore");c&&xx(l,...c)}return l}function s1(r){if(r._terminated)throw new $e(Se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Dx(r),r._firestoreClient}function Dx(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new $R(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,r1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Ax(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(Pi.fromBase64String(e))}catch(i){throw new $e(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ra(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ra._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,ra._jsonSchema))return ra.fromBase64String(e.bytes)}}ra._jsonSchemaVersion="firestore/bytes/1.0",ra._jsonSchema={type:hi("string",ra._jsonSchemaVersion),bytes:hi("string")};class Gp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new $e(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ki(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class o1{constructor(e){this._methodName=e}}class ja{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new $e(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new $e(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ja._jsonSchemaVersion}}static fromJSON(e){if(cc(e,ja._jsonSchema))return new ja(e.latitude,e.longitude)}}ja._jsonSchemaVersion="firestore/geoPoint/1.0",ja._jsonSchema={type:hi("string",ja._jsonSchemaVersion),latitude:hi("number"),longitude:hi("number")};class za{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:za._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,za._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new za(e.vectorValues);throw new $e(Se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}za._jsonSchemaVersion="firestore/vectorValue/1.0",za._jsonSchema={type:hi("string",za._jsonSchemaVersion),vectorValues:hi("object")};const Ox=/^__.*__$/;class Vx{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,i,this.fieldTransforms):new hc(e,this.data,i,this.fieldTransforms)}}function l1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:r})}}class Yp{constructor(e,i,s,l,c,p){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(l1(this.Ac)&&Ox.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kx{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||yf(e)}Cc(e,i,s,l=!1){return new Yp({Ac:e,methodName:i,Dc:s,path:ki.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u1(r){const e=r._freezeSettings(),i=yf(r._databaseId);return new kx(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Px(r,e,i,s,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);f1("Data must be an object, but it was:",p,s);const b=c1(s,p);let E,w;if(c.merge)E=new ga(p.fieldMask),w=p.fieldTransforms;else if(c.mergeFields){const x=[];for(const P of c.mergeFields){const G=Ux(e,P,i);if(!p.contains(G))throw new $e(Se.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);zx(x,G)||x.push(G)}E=new ga(x),w=p.fieldTransforms.filter((P=>E.covers(P.field)))}else E=null,w=p.fieldTransforms;return new Vx(new ia(b),E,w)}function Lx(r,e,i,s=!1){return Xp(i,r.Cc(s?4:3,e))}function Xp(r,e){if(h1(r=Fr(r)))return f1("Unsupported field value:",e,r),c1(r,e);if(r instanceof o1)return(function(s,l){if(!l1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let E=Xp(b,l.wc(p));E==null&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Fr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=zn.fromDate(s);return{timestampValue:$h(l.serializer,c)}}if(s instanceof zn){const c=new zn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$h(l.serializer,c)}}if(s instanceof ja)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ra)return{bytesValue:Mw(l.serializer,s._byteString)};if(s instanceof wi){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof za)return(function(p,b){return{mapValue:{fields:{[iw]:{stringValue:rw},[Yh]:{arrayValue:{values:p.toArray().map((w=>{if(typeof w!="number")throw b.Sc("VectorValues must only contain numeric values.");return Cp(b.serializer,w)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${lf(s)}`)})(r,e)}function c1(r,e){const i={};return $b(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(r,((s,l)=>{const c=Xp(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function h1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof zn||r instanceof ja||r instanceof ra||r instanceof wi||r instanceof o1||r instanceof za)}function f1(r,e,i){if(!h1(i)||!Kb(i)){const s=lf(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Ux(r,e,i){if((e=Fr(e))instanceof Gp)return e._internalPath;if(typeof e=="string")return d1(r,e);throw tf("Field path arguments must be of type string or ",r,!1,void 0,i)}const jx=new RegExp("[~\\*/\\[\\]]");function d1(r,e,i){if(e.search(jx)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Gp(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function tf(r,e,i,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let E="";return(c||p)&&(E+=" (found",c&&(E+=` in field ${s}`),p&&(E+=` in document ${l}`),E+=")"),new $e(Se.INVALID_ARGUMENT,b+r+E)}function zx(r,e){return r.some((i=>i.isEqual(e)))}class m1{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(wf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Bx extends m1{data(){return super.data()}}function wf(r,e){return typeof e=="string"?d1(r,e):e instanceof Gp?e._internalPath:e._delegate._internalPath}function Fx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new $e(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qp{}class Kp extends Qp{}function p1(r,e,...i){let s=[];e instanceof Qp&&s.push(e),s=s.concat(i),(function(c){const p=c.filter((E=>E instanceof Wp)).length,b=c.filter((E=>E instanceof Ef)).length;if(p>1||p>0&&b>0)throw new $e(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Ef extends Kp{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Ef(e,i,s)}_apply(e){const i=this._parse(e);return g1(e._query,i),new wo(e.firestore,e.converter,Km(e._query,i))}_parse(e){const i=u1(e.firestore);return(function(c,p,b,E,w,x,P){let G;if(w.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new $e(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){B0(P,x);const z=[];for(const Ve of P)z.push(z0(E,c,Ve));G={arrayValue:{values:z}}}else G=z0(E,c,P)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||B0(P,x),G=Lx(b,p,P,x==="in"||x==="not-in");return ci.create(w,x,G)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Xu(r,e,i){const s=e,l=wf("where",r);return Ef._create(l,s,i)}class Wp extends Qp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Wp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ya.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const E of b)g1(p,E),p=Km(p,E)})(e._query,i),new wo(e.firestore,e.converter,Km(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $p extends Kp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new $p(e,i)}_apply(e){const i=(function(l,c,p){if(l.startAt!==null)throw new $e(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new $e(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(c,p)})(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new Jl(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Dl(r,e="asc"){const i=e,s=wf("orderBy",r);return $p._create(s,i)}class Jp extends Kp{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Jp(e,i,s)}_apply(e){return new wo(e.firestore,e.converter,Qh(e._query,this._limit,this._limitType))}}function nf(r){return zR("limit",r),Jp._create("limit",r,"F")}function z0(r,e,i){if(typeof(i=Fr(i))=="string"){if(i==="")throw new $e(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dw(e)&&i.indexOf("/")!==-1)throw new $e(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Vn.fromString(i));if(!vt.isDocumentKey(s))throw new $e(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return i0(r,new vt(s))}if(i instanceof wi)return i0(r,i._key);throw new $e(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(i)}.`)}function B0(r,e){if(!Array.isArray(r)||r.length===0)throw new $e(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g1(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new $e(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Hx{convertValue(e,i="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Go(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Yh].arrayValue?.values?.map((s=>ii(s.doubleValue)));return new za(i)}convertGeoPoint(e){return new ja(ii(e.latitude),ii(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=hf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const i=go(e);return new zn(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Vn.fromString(e);bn(Pw(s),9688,{name:e});const l=new Ju(s.get(1),s.get(3)),c=new vt(s.popFirst(5));return l.isEqual(i)||As(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function qx(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Eh{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends m1{constructor(e,i,s,l,c,p){super(e,i,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(wf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ll._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:hi("string",Ll._jsonSchemaVersion),bundleSource:hi("string","DocumentSnapshot"),bundleName:hi("string"),bundle:hi("string")};class Vh extends Ll{data(e={}){return super.data(e)}}class Ul{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Eh(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Vh(this._firestore,this._userDataWriter,s.key,s,new Eh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new $e(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const E=new Vh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:E,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const E=new Vh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,x=-1;return b.type!==0&&(w=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),x=p.indexOf(b.doc.key)),{type:Gx(b.type),doc:E,oldIndex:w,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Gx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:hi("string",Ul._jsonSchemaVersion),bundleSource:hi("string","QuerySnapshot"),bundleName:hi("string"),bundle:hi("string")};class Yx extends Hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new wi(this.firestore,null,i)}}function y1(r){r=Hh(r,wo);const e=Hh(r.firestore,qp),i=s1(e),s=new Yx(e);return Fx(r._query),Ix(i,r._query).then((l=>new Ul(e,s,r,l)))}function Xx(r,e){const i=Hh(r.firestore,qp),s=Mx(r),l=qx(r.converter,e);return Qx(i,[Px(u1(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,_s.exists(!1))]).then((()=>s))}function Qx(r,e){return(function(s,l){const c=new fo;return s.asyncQueue.enqueueAndForget((async()=>mx(await Rx(s),l,c))),c.promise})(s1(r),e)}(function(e,i=!0){(function(l){Kl=l})(Xl),jl(new Bo("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new qp(new NR(s.getProvider("auth-internal")),new VR(p,s.getProvider("app-check-internal")),(function(w,x){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new $e(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(w.options.projectId,x)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),co(q_,G_,e),co(q_,G_,"esm2020")})();const Kx={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},Wx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):Kx,v1=ab(Wx),Nm=CR(v1),sp=Nx(v1),op=typeof __app_id<"u"?__app_id:"long-jump-game",Et={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000"},ta=5,lp=50,$x=25,_1=30,Jx=15,Oa=40,b1={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},Zx=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),F0=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],H0=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],Tf=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Af=r=>{let e=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=s^Math.imul(i^p,2869860233),s=l^Math.imul(s^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(s^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(e^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^s^l)>>>0},eM=()=>new Date().toISOString().split("T")[0],tM=(r,e)=>{const i=Af(r),s=Tf(i),l=[],c=Math.floor(e*.3),p=new Set;for(;l.length<c;){const b=Math.floor(s()*ta),E=Math.floor(s()*e);if(E===0)continue;const w=`${b},${E}`;if(!p.has(w)){p.add(w);const x=s();let P=1;x>.5&&(P=2),x>.8&&(P=3),l.push({r:b,c:E,val:P})}}return l},nM=(r,e)=>{const i=Af(r+"OBSTACLES"),s=Tf(i),l=[],c=Math.floor(e*.1),p=new Set;for(;l.length<c;){const b=Math.floor(s()*ta),E=Math.floor(s()*e);if(E===0)continue;const w=`${b},${E}`;p.has(w)||(p.add(w),l.push({r:b,c:E}))}return l},iM=(r,e,i)=>{const s=Af(r+"WILDCARDS_V3"),l=Tf(s),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*ta),E=5,w=Math.min(29,i-2);if(w<=E)break;const x=Math.floor(l()*(w-E+1))+E;if(!e.some(P=>P.r===b&&P.c===x)){c.push({r:b,c:x});break}p++}if(i>30)for(p=0;p<100;){const b=Math.floor(l()*ta),E=30,w=i-5,x=Math.floor(l()*(w-E+1))+E;if(!e.some(P=>P.r===b&&P.c===x)){c.push({r:b,c:x});break}p++}return c},rM=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],aM=r=>{const e=Af(r),i=Tf(e);let s=[];Object.entries(b1).forEach(([b,E])=>{for(let w=0;w<E;w++)s.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(s);for(let b=l.length-1;b>0;b--){const E=Math.floor(i()*(b+1));[l[b],l[E]]=[l[E],l[b]]}const c=_1;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const E=Math.floor(i()*c);[l[E],l[b]]=[l[b],l[E]]}}return l},sM=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},oM=()=>{const r=ct.useRef(null);return ct.useEffect(()=>{const e=r.current;if(!e)return;const i=e.getContext("2d");let s=window.innerWidth,l=window.innerHeight;if(s===0||l===0)return;e.width=s,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",Et.accentPrimary];for(let x=0;x<150;x++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const E=()=>{!i||!e.width||!e.height||(i.clearRect(0,0,s,l),c.forEach(x=>{x.y+=x.vy,x.x+=x.vx+Math.sin(x.y/50),x.rotation+=x.rotationSpeed,x.y>l&&(x.y=-10,x.x=Math.random()*s),!(!Number.isFinite(x.x)||!Number.isFinite(x.y)||!Number.isFinite(x.rotation)||!Number.isFinite(x.size))&&(i.save(),i.translate(x.x,x.y),i.rotate(x.rotation*Math.PI/180),i.fillStyle=x.color,i.fillRect(-x.size/2,-x.size/2,x.size,x.size),i.restore())}),b=requestAnimationFrame(E))};E();const w=()=>{e&&(s=window.innerWidth,l=window.innerHeight,s>0&&l>0&&(e.width=s,e.height=l))};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w),b&&cancelAnimationFrame(b)}},[]),q.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},q0=()=>{const{RiveComponent:r}=so.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return q.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},G0=({trigger:r})=>{const{rive:e,RiveComponent:i}=so.useRive({src:"fan.riv",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return ct.useEffect(()=>{if(r&&e&&e.viewModelInstance)try{const s=e.viewModelInstance("View Model 1");if(s){const l=s.trigger("Celebrate");l&&l.fire()}}catch(s){console.warn("Rive trigger warning:",s)}},[r,e]),i?q.jsx("div",{style:{width:`${Oa}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:q.jsx("div",{style:{width:"39px",height:"60px"},children:q.jsx(i,{})})}):null},Dm=({highlightName:r,user:e,onRankFound:i,lastUpdated:s,initialMode:l="standard"})=>{const[c,p]=ct.useState([]),[b,E]=ct.useState(!0),[w,x]=ct.useState("daily"),[P,G]=ct.useState(l),[re,z]=ct.useState(null);ct.useEffect(()=>{G(l)},[l]);const Ve=async()=>{if(!e)return;E(!0),z(null);const Ee=ap(sp,"artifacts",op,"public","data","scores"),Pe=new Date,Le=Pe.toISOString().split("T")[0],ze=Pe.getDay(),rt=Pe.getDate()-ze+(ze===0?-6:1),ot=new Date(Pe.setDate(rt)).toISOString().split("T")[0];let H=[];P==="quick"&&H.push(Xu("mode","==","quick")),w==="daily"?(H.push(Xu("date","==",Le)),H.push(Dl("score","desc")),H.push(Dl("timestamp","asc")),H.push(nf(100))):(H.push(Xu("date",">=",ot)),H.push(Dl("date","desc")),H.push(Dl("score","desc")),H.push(nf(500)));try{const B=p1(Ee,...H),k=await y1(B);if(k.empty){p([]),E(!1);return}let j=k.docs.map(C=>({id:C.id,...C.data()}));if(P==="standard"&&(j=j.filter(C=>!C.mode||C.mode==="standard")),w==="weekly"){const C=new Map;j.forEach(V=>{const I=C.get(V.name);I?(V.score>I.score||V.score===I.score&&V.timestamp<I.timestamp)&&C.set(V.name,V):C.set(V.name,V)}),j=Array.from(C.values()),j.sort((V,I)=>I.score!==V.score?I.score-V.score:V.timestamp-I.timestamp),j=j.slice(0,100)}if(p(j),E(!1),r&&i){const C=j.findIndex(V=>V.name===r);C!==-1&&i(C+1)}}catch(B){console.error(" FIRESTORE ERROR:",B),z(B.message),E(!1)}};return ct.useEffect(()=>{Ve()},[e,w,P,r,s]),q.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col relative",children:[re&&re.includes("index")&&q.jsxs("div",{className:"absolute inset-0 z-50 bg-white/90 flex flex-col items-center justify-center p-4 text-center",children:[q.jsx(fT,{className:"text-red-500 mb-2",size:32}),q.jsx("p",{className:"text-xs font-bold text-red-600 mb-2",children:"DATABASE INDEX MISSING"}),q.jsx("p",{className:"text-[10px] text-gray-500 mb-4",children:"Open browser console (F12) and click the Firebase link to create index."}),q.jsx("button",{onClick:Ve,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:"Retry"})]}),q.jsxs("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx(Vm,{size:20,className:"text-yellow-500"}),q.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:w==="daily"?"Today's Top":"Weekly Best"})]}),q.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[q.jsx("button",{onClick:()=>x("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${w==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),q.jsx("button",{onClick:()=>x("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${w==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),q.jsx("div",{className:"flex justify-center",children:q.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 w-full",children:[q.jsx("button",{onClick:()=>G("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${P==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Standard"}),q.jsx("button",{onClick:()=>G("quick"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${P==="quick"?"bg-white shadow-sm text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:"Quick Mode"})]})})]}),q.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:b?q.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):c.length===0?q.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",q.jsx("br",{}),"Be the first!"]}):q.jsx("div",{className:"space-y-1",children:c.map((Ee,Pe)=>{const Le=Ee.mode==="quick"?25:40,ze=Ee.score>=Le;return q.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${Ee.name===r?`bg-[${Et.accentPrimary}]/10 border-[${Et.accentPrimary}]/20`:ze?"bg-amber-100 border-amber-300":"hover:bg-white/60 border-transparent"}`,children:[q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("span",{className:`font-black w-5 text-center ${Pe===0?"text-yellow-600 text-lg":Pe===1?"text-gray-600 text-base":Pe===2?"text-orange-800 text-base":"text-gray-500"}`,children:Pe+1}),q.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[ze&&q.jsx(Vm,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),q.jsx("span",{className:`font-bold truncate max-w-[90px] ${Ee.name===r?"text-black":ze?"text-amber-900":"text-gray-700"}`,children:Ee.name}),w==="weekly"&&q.jsx("span",{className:"text-[9px] text-gray-400 font-normal ml-1 border-l pl-1 border-gray-300",children:new Date(Ee.date).toLocaleDateString(void 0,{weekday:"short"})})]})]}),q.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${ze?"bg-amber-200 text-amber-900":"text-gray-900 bg-gray-100"}`,children:[Ee.score,"m"]})]},Pe)})})})]})},Y0=()=>{const r=F0[Math.floor(Math.random()*F0.length)],e=H0[Math.floor(Math.random()*H0.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},X0=(r=lp)=>Array(ta).fill(null).map(()=>Array(r).fill(null)),Om=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(s=>s.r===e)||r.every(s=>s.c===i)},Th=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:r,isNew:e});function lM(){const[r,e]=ct.useState("menu"),[i,s]=ct.useState("standard"),[l,c]=ct.useState(()=>Y0()),[p,b]=ct.useState(()=>X0(lp)),[E,w]=ct.useState([]),[x,P]=ct.useState([]),[G,re]=ct.useState(0),[z,Ve]=ct.useState(!1),[Ee,Pe]=ct.useState([]),[Le,ze]=ct.useState(0),[rt,pt]=ct.useState([]),[ot,H]=ct.useState([]),[B,k]=ct.useState([]),[j,C]=ct.useState([]),[V,I]=ct.useState(null),[Q,ne]=ct.useState(null),[F,J]=ct.useState([]),[ye,fe]=ct.useState(0),[xe,L]=ct.useState(0),[ae,Re]=ct.useState(null),[Te,Me]=ct.useState(!1),[Qe,ht]=ct.useState(!1),[st,lt]=ct.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[At,sn]=ct.useState(!1),[ft,St]=ct.useState(!1),[Bt,Lt]=ct.useState(!1),[Nn,ri]=ct.useState(!1),[Jt,nt]=ct.useState(!1),[wt,gn]=ct.useState(!1),[Rr,In]=ct.useState(!1),[Gt,yn]=ct.useState(!1),[R,g]=ct.useState(null),[v,D]=ct.useState(null),[$,pe]=ct.useState(!1),[Ne,Ze]=ct.useState(null),Ye=ct.useRef(null),[qe,Je]=ct.useState(!1),[Zt,Dn]=ct.useState(0),[fn,Bn]=ct.useState(0),Kn=p.some(K=>K.some(he=>he!==null));ct.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await d2(Nm,__initial_auth_token):await l2(Nm)})();const he=g2(Nm,D);return()=>he()},[]),ct.useEffect(()=>{if(xe===ye)return;const K=500,he=performance.now(),ve=xe,de=ye,Ce=be=>{const He=be-he,De=Math.min(He/K,1),dt=1-Math.pow(1-De,3),Be=Math.floor(ve+(de-ve)*dt);L(Be),De<1&&requestAnimationFrame(Ce)};requestAnimationFrame(Ce)},[ye]),ct.useEffect(()=>{(async()=>{try{const he=ap(sp,"artifacts",op,"public","data","scores"),ve=new Date().toISOString().split("T")[0];let de=[Xu("date","==",ve),Dl("score","desc"),Dl("timestamp","asc")];i==="quick"?(de.push(Xu("mode","==","quick")),de.push(nf(1))):de.push(nf(50));const Ce=p1(he,...de),be=await y1(Ce);let He=null;if(!be.empty){const De=be.docs.map(dt=>dt.data());i==="quick"?He=De[0]:He=De.find(dt=>!dt.mode||dt.mode==="standard")}Ze(He||null)}catch(he){console.error("Error fetching leader:",he)}})()},[G,i]),ct.useEffect(()=>{Pt("standard")},[]);const Pt=(K="standard")=>{const he=eM(),ve=aM(he);Pe(ve),s(K);const de=K==="quick"?$x:lp,Ce=K==="quick"?Jx:_1;let be;K==="quick"?(be=ve.slice(0,Ce-1),be.push("*")):be=ve.slice(0,Ce);const He=be.map(dt=>Th(dt,!1)).sort((dt,Be)=>dt.letter.localeCompare(Be.letter));w(He),ze(Ce),b(X0(de)),J([]),P([]),fe(0),L(0),Re(null),Me(!1),ht(!1),pt(tM(he,de));const De=nM(he,de);H(De),k(iM(he,De,de)),C(rM()),lt({text:"Goal: Get as far right as you can.",type:"neutral"}),gn(!1),St(!1),ri(!1),nt(!1),pe(!1),In(!1),Lt(!1),Ve(!1),I(null),ne(null),Ye.current&&(Ye.current.scrollLeft=0)},Tn=K=>{l.trim()||c(Y0()),e("playing"),Pt(K),ri(!0)},kn=()=>{e("menu"),Pt("standard")},Wn=()=>{if(x.length===0)return;const K=x[x.length-1],he=x.slice(0,-1);b(K.grid),w(K.hand),fe(K.score),ze(K.drawCount),P(he),J([]),lt({text:"Move undone",type:"info"})},Ki=K=>{const he=K.toUpperCase();return[...E].reverse().find(ve=>ve.letter===he)},gt=K=>{const he=p[0].length;if(!Q){ne({r:2,c:ye});return}let{r:ve,c:de}=Q;K==="ArrowUp"&&(ve=Math.max(0,ve-1)),K==="ArrowDown"&&(ve=Math.min(ta-1,ve+1)),K==="ArrowLeft"&&(de=Math.max(0,de-1)),K==="ArrowRight"&&(de=Math.min(he-1,de+1)),ne({r:ve,c:de})};ct.useEffect(()=>{const K=he=>{if(!(r!=="playing"||wt||Jt||Nn||ft||Gt||Bt)){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(he.key)){he.preventDefault(),gt(he.key);return}if(he.key==="Backspace"||he.key==="Delete"){if(Q){const{r:ve,c:de}=Q;F.find(be=>be.r===ve&&be.c===de)?ur(ve,de):gt("ArrowLeft")}return}if(he.key==="Enter"){F.length>0&&yi();return}if(/^[a-zA-Z]$/.test(he.key)){const ve=p[0].length;if(!Q){ne({r:2,c:ye});return}const{r:de,c:Ce}=Q;if(p[de]&&p[de][Ce]||ot.some(He=>He.r===de&&He.c===Ce)){gt("ArrowRight");return}const be=Ki(he.key);be?(Ei(be,de,Ce),ne({r:de,c:Math.min(ve-1,Ce+1)})):(lt({text:`No '${he.key.toUpperCase()}' in hand`,type:"error"}),setTimeout(()=>lt({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[r,wt,Q,E,F,Jt,Nn,ft,Gt,Bt]),ct.useEffect(()=>{if(Q&&Ye.current){const K=Ye.current,he=Q.c*Oa,ve=he+Oa,de=K.scrollLeft,Ce=de+K.clientWidth,be=100;he<de?K.scrollTo({left:Math.max(0,he-be),behavior:"smooth"}):ve>Ce&&K.scrollTo({left:ve-K.clientWidth+be,behavior:"smooth"})}},[Q]);const Fn=()=>St(!0),It=async()=>{if(St(!1),gn(!0),pe(!0),v)try{const ve=new Date().toISOString().split("T")[0],de=ap(sp,"artifacts",op,"public","data","scores");await Xx(de,{name:l||"Anonymous",score:ye,mode:i,date:ve,timestamp:Date.now(),userId:v.uid}),re(Date.now())}catch(ve){console.error("Error saving score:",ve)}pe(!1);const K=ye*50+800;setTimeout(()=>{e("gameOver"),gn(!1)},Math.max(K,2500))},Wi=()=>St(!1),$i=()=>r==="playing"?Lt(!0):e("menu"),Fa=()=>{Lt(!1),e("menu"),Pt()},Cr=async()=>{const K=ae?sM(ae):"top",he="https://www.longjump.co.za";let ve=ae?`${l} placed ${K} in Long-Jump with a distance of ${ye}m. How far can you get? ${he}`:`${l} got a distance of ${ye}m in Long-Jump. How far can you get? ${he}`;try{await navigator.clipboard.writeText(ve),Me(!0),setTimeout(()=>Me(!1),1e3)}catch(de){console.error("Failed to copy: ",de),lt({text:"Failed to copy result.",type:"error"})}},Hr=K=>{K.target.closest('[draggable="true"]')||K.target.tagName==="BUTTON"||(Je(!0),Dn(K.pageX-Ye.current.offsetLeft),Bn(Ye.current.scrollLeft))},Xe=()=>Je(!1),va=()=>Je(!1),Ji=K=>{if(!qe)return;K.preventDefault();const ve=(K.pageX-Ye.current.offsetLeft-Zt)*1.5;Ye.current.scrollLeft=fn-ve},Ei=(K,he,ve)=>{if(K.letter==="*"){g({r:he,c:ve,tileId:K.id}),yn(!0);return}dn(K,he,ve)},dn=(K,he,ve,de=!1,Ce=null)=>{if(p.every(dt=>dt.every(Be=>Be===null))&&F.length===0&&ve!==0){In(!0),setTimeout(()=>In(!1),3e3);return}const He=Ce||K.letter,De=[...F,{r:he,c:ve,letter:He,isWild:de,id:K.id}];if(!Om(De)){lt({text:" Tiles must be placed in a single row or column",type:"error"});return}J(De),w(dt=>dt.filter(Be=>Be.id!==K.id)),In(!1),st.type==="error"&&lt({text:"Goal: Get as far right as you can.",type:"neutral"})},Gn=K=>{if(R){const he={id:R.tileId,letter:"*"};dn(he,R.r,R.c,!0,K),ne({r:R.r,c:Math.min(p[0].length-1,R.c+1)}),yn(!1),g(null),I(null)}},Zi=K=>{if(!wt&&r==="playing"){if(Q){const{r:he,c:ve}=Q,de=p[0].length;if(!(p[he]&&p[he][ve]||ot.some(be=>be.r===he&&be.c===ve))){const be=E.find(He=>He.id===K);be&&(Ei(be,he,ve),ne({r:he,c:Math.min(de-1,ve+1)}));return}}I(V===K?null:K)}},ur=(K,he)=>{if(qe||wt||r!=="playing"||p[K]&&p[K][he]||ot.some(de=>de.r===K&&de.c===he))return;const ve=F.findIndex(de=>de.r===K&&de.c===he);if(ve!==-1){const de=F[ve],Ce=[...F];Ce.splice(ve,1),J(Ce);const be=de.isWild?"*":de.letter,He={id:de.id||Math.random().toString(),letter:be,isNew:!1};w(De=>[...De,He].sort((dt,Be)=>dt.letter!==Be.letter?dt.letter.localeCompare(Be.letter):dt.isNew===Be.isNew?0:dt.isNew?1:-1)),I(null),ne({r:K,c:he});return}if(V){const de=E.find(Ce=>Ce.id===V);if(de){const Ce=p[0].length;Ei(de,K,he),I(null),ne({r:K,c:Math.min(Ce-1,he+1)})}}else ne({r:K,c:he})},Ha=(K,he)=>{wt||r!=="playing"||(K.dataTransfer.setData("text/plain",JSON.stringify(he)),K.dataTransfer.effectAllowed="move")},_a=K=>{K.preventDefault(),K.dataTransfer.dropEffect="move"},aa=(K,he,ve)=>{if(wt||r!=="playing"||(K.preventDefault(),K.stopPropagation(),ot.some(Ce=>Ce.r===he&&Ce.c===ve)))return;const de=K.dataTransfer.getData("text/plain");if(de)try{const Ce=JSON.parse(de);if(p[he]&&p[he][ve])return;const be=F.findIndex(De=>De.r===he&&De.c===ve),He=p[0].length;if(Ce.type==="hand"){const De=Ce.tile;if(De.letter==="*"){g({r:he,c:ve,tileId:De.id}),yn(!0);return}if(p.every(Be=>Be.every(mt=>mt===null))&&F.length===0&&ve!==0){In(!0),setTimeout(()=>In(!1),3e3);return}if(be!==-1){const Be=F[be],mt=[...F],_t=Be.isWild?"*":Be.letter,Hn={id:Be.id||Math.random().toString(),letter:_t,isNew:!1};mt.splice(be,1,{r:he,c:ve,letter:De.letter,isWild:!1,id:De.id}),J(mt),w(ln=>[...ln.filter(An=>An.id!==De.id),Hn].sort((An,Ir)=>An.letter!==Ir.letter?An.letter.localeCompare(Ir.letter):An.isNew===Ir.isNew?0:An.isNew?1:-1))}else{const Be=[...F,{r:he,c:ve,letter:De.letter,isWild:!1,id:De.id}];if(!Om(Be)){lt({text:" Tiles must be placed in a single row or column",type:"error"});return}J(Be),w(mt=>mt.filter(_t=>_t.id!==De.id))}In(!1),I(null),ne({r:he,c:Math.min(He-1,ve+1)}),st.type==="error"&&lt({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Ce.type==="board"){if(Ce.r===he&&Ce.c===ve)return;const De=F.findIndex(mt=>mt.r===Ce.r&&mt.c===Ce.c);if(De===-1)return;const dt=F[De],Be=[...F];if(be!==-1){const mt=F[be];Be[be]={...mt,r:Ce.r,c:Ce.c},Be[De]={...dt,r:he,c:ve}}else Be[De]={...dt,r:he,c:ve};if(!Om(Be)){lt({text:" Tiles must be placed in a single row or column",type:"error"});return}J(Be),ne({r:he,c:Math.min(He-1,ve+1)})}}catch{}},er=K=>{if(wt||r!=="playing")return;K.preventDefault(),K.stopPropagation();const he=K.dataTransfer.getData("text/plain");if(he)try{const ve=JSON.parse(he);if(ve.type==="board"){const de=F.find(He=>He.r===ve.r&&He.c===ve.c),Ce=de&&de.isWild?"*":ve.letter,be={id:de?.id||Math.random().toString(),letter:Ce,isNew:!1};J(He=>He.filter(De=>!(De.r===ve.r&&De.c===ve.c))),w(He=>[...He,be].sort((De,dt)=>De.letter!==dt.letter?De.letter.localeCompare(dt.letter):De.isNew===dt.isNew?0:De.isNew?1:-1))}}catch{}},Ti=(K,he)=>{if(!p||!p[K])return null;if(p[K][he])return{letter:p[K][he],type:"locked"};const ve=F.find(de=>de.r===K&&de.c===he);return ve?{letter:ve.letter,type:"temp",isWild:ve.isWild}:null},Li=(K,he)=>rt.find(ve=>ve.r===K&&ve.c===he),Ui=(K,he)=>ot.find(ve=>ve.r===K&&ve.c===he),yi=async()=>{if(F.length===0)return;sn(!0),lt({text:"Validating...",type:"info"});const K=p.map(De=>[...De]);if(F.forEach(De=>{K[De.r]&&(K[De.r][De.c]=De.letter)}),F.length>1){const De=[...F].sort((mt,_t)=>mt.r-_t.r||mt.c-_t.c),dt=De[0],Be=De[De.length-1];if(dt.r===Be.r){for(let mt=dt.c;mt<=Be.c;mt++)if(!K[dt.r][mt]){Ai("Cannot leave gaps between tiles.");return}}else for(let mt=dt.r;mt<=Be.r;mt++)if(!K[mt][dt.c]){Ai("Cannot leave gaps between tiles.");return}}const he=p.every(De=>De.every(dt=>dt===null));let ve=!1,de=!1;const Ce=p[0].length;if(F.forEach(De=>{De.c===0&&(ve=!0),[{r:De.r+1,c:De.c},{r:De.r-1,c:De.c},{r:De.r,c:De.c+1},{r:De.r,c:De.c-1}].forEach(Be=>{Be.r>=0&&Be.r<ta&&Be.c>=0&&Be.c<Ce&&p[Be.r]&&p[Be.r][Be.c]&&(de=!0)})}),he&&!ve){Ai("First word must start in Column 1.");return}if(!he&&!de){Ai("Tiles must connect to existing words.");return}const He=Pn(K).filter(De=>De.cells.some(dt=>F.some(Be=>Be.r===dt.r&&Be.c===dt.c)));if(He.length===0){Ai("Words must be at least 2 letters.");return}try{const De=[];for(const dt of He)await ji(dt.word)||De.push(dt.word);if(De.length>0){Ai(`Invalid word(s): ${De.join(", ")}`,De[0]);return}Si(K,He)}catch(De){console.error(De),Ai("Error checking dictionary. Try again.")}},ji=async K=>{const he=K.toUpperCase();if(Zx.has(he))return!0;if(he.length===2)return!1;try{const ve=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${K}`);if(!ve.ok)return!1;const de=await ve.json();return Array.isArray(de)&&de.length>0}catch{return!0}},Pn=K=>{let he=[];const ve=p[0].length;for(let de=0;de<ta;de++){let Ce="",be=[];for(let He=0;He<ve;He++)K[de]&&K[de][He]?(Ce+=K[de][He],be.push({r:de,c:He})):(Ce.length>1&&he.push({word:Ce,cells:[...be],type:"H"}),Ce="",be=[]);Ce.length>1&&he.push({word:Ce,cells:[...be],type:"H"})}for(let de=0;de<ve;de++){let Ce="",be=[];for(let He=0;He<ta;He++)K[He]&&K[He][de]?(Ce+=K[He][de],be.push({r:He,c:de})):(Ce.length>1&&he.push({word:Ce,cells:[...be],type:"V"}),Ce="",be=[]);Ce.length>1&&he.push({word:Ce,cells:[...be],type:"V"})}return he},Ai=(K,he=null)=>{lt({text:K,type:"error",invalidWord:he}),sn(!1)},Si=(K,he)=>{const ve=JSON.parse(JSON.stringify(p)),de=F.map(Be=>({id:Be.id||Math.random().toString(),letter:Be.isWild?"*":Be.letter,isNew:!1})),Ce=[...E,...de].sort((Be,mt)=>Be.letter!==mt.letter?Be.letter.localeCompare(mt.letter):Be.isNew===mt.isNew?0:Be.isNew?1:-1);P(Be=>[...Be,{grid:ve,hand:Ce,score:ye,drawCount:Le}]),b(K),ht(!0),setTimeout(()=>ht(!1),200);let be=0,He=!1;if(he.forEach(Be=>{Be.cells.forEach(mt=>{const _t=Li(mt.r,mt.c),Hn=F.some(ln=>ln.r===mt.r&&ln.c===mt.c);_t&&Hn&&(be+=_t.val),B.some(ln=>ln.r===mt.r&&ln.c===mt.c)&&(He=!0)})}),be>0){const mt=Ee.slice(Le,Le+be).map(_t=>Th(_t,!0));w(_t=>[..._t,...mt].sort((ln,xn)=>ln.letter!==xn.letter?ln.letter.localeCompare(xn.letter):ln.isNew===xn.isNew?0:ln.isNew?1:-1)),ze(_t=>_t+be)}if(He){const Be=Th("*",!0);w(mt=>[...mt,Be].sort((Hn,ln)=>Hn.letter!==ln.letter?Hn.letter.localeCompare(ln.letter):Hn.isNew===ln.isNew?0:Hn.isNew?1:-1))}if(be>0||He){const Be=He?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${be} Bonus Tiles!`;lt({text:Be,type:"success"})}else lt({text:"Valid move!",type:"success"});let De=ye-1;const dt=p[0].length;F.forEach(Be=>{Be.c>De&&(De=Be.c)});for(let Be=0;Be<ta;Be++)for(let mt=0;mt<dt;mt++)K[Be]&&K[Be][mt]&&mt>De&&(De=mt);fe(De+1),J([]),sn(!1),ne(null)},Ri=()=>w(K=>[...K].sort(()=>Math.random()-.5)),zi=()=>w(K=>[...K].sort((he,ve)=>he.letter!==ve.letter?he.letter.localeCompare(ve.letter):he.isNew===ve.isNew?0:he.isNew?1:-1)),qa=E.reduce((K,he)=>(K[he.letter]||(K[he.letter]=[]),K[he.letter].push(he),K),{}),fi=Array.from(new Set(E.map(K=>K.letter))),sa=fi.length>=6,ba=Math.ceil(fi.length/2),cr=sa?fi.slice(0,ba):fi,vi=sa?fi.slice(ba):[],on=({letter:K})=>{const he=qa[K]||[],ve=he.length,de=he[ve-1],Ce=de&&V===de.id,be=Math.min(ve,15),He=6,De=40+(be>1?(be-1)*He:0);return q.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${De}px`},children:[[...Array(be-1)].map((dt,Be)=>{const _t=(K.charCodeAt(0)+Be)%7-3;return q.jsx("div",{className:"absolute w-10 h-10 rounded-lg border border-black/10 transition-all shadow-md",style:{backgroundColor:"#e5e7eb",bottom:`${Be*He}px`,zIndex:Be,transform:`rotate(${_t}deg)`}},Be)}),q.jsxs("button",{draggable:!wt&&r==="playing",onDragStart:dt=>Ha(dt,{type:"hand",tile:de}),onClick:()=>Zi(de.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${r==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(be-1)*He}px`,zIndex:be,backgroundColor:Ce?Et.accentPrimary:K==="*"?Et.tileTemp:"white",color:Ce?"white":Et.textMain,transform:Ce?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Ce?0:K.charCodeAt(0)%5-2}deg)`},children:[de&&de.isNew&&q.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),K==="*"?q.jsx(ph,{size:20,fill:Et.starPurple,className:"text-purple-500"}):K]})]})};return r==="menu"?q.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:Et.background,color:Et.textMain},children:[q.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch",children:[q.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[q.jsx(q0,{}),q.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[q.jsx("span",{children:"Refreshed Daily"}),q.jsx(ym,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),q.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:Et.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."})]}),q.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[q.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:Et.textSub},children:"Enter your name"}),q.jsx("input",{type:"text",value:l,onChange:K=>c(K.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:Et.textMain,borderColor:"transparent"},onFocus:K=>K.target.style.borderColor=Et.accentPrimary,onBlur:K=>K.target.style.borderColor="transparent",onKeyDown:K=>K.key==="Enter"&&Tn("standard")})]}),q.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center",children:[q.jsxs("button",{onClick:()=>Tn("standard"),className:"flex-1 py-4 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:Et.accentPrimary},children:["Play ",q.jsx(ST,{size:20,fill:"currentColor"})]}),q.jsxs("button",{onClick:()=>Tn("quick"),className:"flex-1 py-4 bg-blue-500 text-white rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2",children:["Quick ",q.jsx("span",{className:"text-xs bg-blue-600 px-1.5 py-0.5 rounded text-blue-100",children:"25m"})]})]}),q.jsxs("div",{className:"flex flex-col items-center gap-3 mt-8 w-full",children:[q.jsxs("div",{className:"flex flex-row items-center justify-center gap-4",children:[q.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-gray-600 border-b border-gray-300 hover:border-gray-500 transition-colors pb-0.5 whitespace-nowrap",children:"By Richard Bolland"}),q.jsx("span",{className:"text-gray-300",children:"|"}),q.jsxs("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap",children:[q.jsx(yT,{size:14,className:"fill-pink-600"}),q.jsx("span",{children:"Tip Jar"})]})]}),q.jsx("span",{className:"text-[10px] text-gray-400 text-center max-w-xs leading-tight",children:"Help cover server costs & keep the game running."})]}),q.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:q.jsx(Dm,{user:v,lastUpdated:G})})]}),q.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:q.jsx(Dm,{user:v,lastUpdated:G})})]}):q.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative",style:{backgroundColor:Et.background,color:Et.textMain},children:[r==="gameOver"&&!z&&q.jsxs("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6",children:[q.jsx(oM,{}),q.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex flex-col justify-center lg:h-[600px] z-[101] relative",children:[q.jsx("div",{className:"w-48 h-16 mx-auto mb-4",children:q.jsx("h1",{className:"text-4xl font-black tracking-tight text-black uppercase drop-shadow-sm",children:"Long Jump"})}),q.jsx("h3",{className:"text-2xl font-bold mb-8 tracking-widest uppercase",style:{color:Et.accentPrimary},children:"Complete"}),q.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[q.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:Et.textSub},children:"Athlete"}),q.jsx("div",{className:"text-3xl font-black mb-6",style:{color:Et.textMain},children:l}),q.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:Et.textSub},children:"Distance"}),q.jsxs("div",{className:"text-6xl font-black",style:{color:Et.accentSecondary},children:[xe,"m"]})]}),q.jsx("div",{className:"flex gap-2 mb-3",children:q.jsx("button",{onClick:Cr,className:"flex-1 py-3 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300",children:Te?q.jsxs(q.Fragment,{children:[q.jsx(rT,{size:20})," Copied"]}):q.jsxs(q.Fragment,{children:[q.jsx(NT,{size:20})," Share Result"]})})}),q.jsxs("div",{className:"flex gap-2",children:[q.jsx("button",{onClick:kn,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg mt-auto",style:{backgroundColor:"#111827"},children:"Play Again"}),q.jsx("button",{onClick:()=>Ve(!0),className:"flex-none px-4 py-4 bg-white border-2 border-gray-200 rounded-xl text-gray-700 hover:bg-gray-50 shadow-sm transition-all flex items-center justify-center",title:"View Board",children:q.jsx(pT,{size:24})})]})]}),q.jsx("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative",children:q.jsx(Dm,{highlightName:l,user:v,onRankFound:Re,lastUpdated:G,initialMode:i})})]}),Gt&&q.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:q.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[q.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),q.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(b1).filter(K=>K!=="*").map(K=>q.jsx("button",{onClick:()=>Gn(K),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:Et.textMain},children:K},K))}),q.jsx("button",{onClick:()=>{yn(!1),g(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),(Nn||Jt)&&q.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:q.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[q.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:q.jsx(nT,{size:48,style:{color:Et.accentPrimary}})}),q.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"Game Rules"}),q.jsxs("div",{className:"text-left text-gray-600 mb-6 text-sm space-y-3",children:[q.jsxs("p",{className:"flex gap-2",children:[q.jsx("span",{className:"font-bold text-black",children:""}),q.jsxs("span",{children:["This is a ",q.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),q.jsxs("p",{className:"flex gap-2",children:[q.jsx("span",{className:"font-bold text-black",children:""}),q.jsxs("span",{children:["Place words ",q.jsx("strong",{children:"Left to Right"})," or ",q.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),q.jsxs("p",{className:"flex gap-2",children:[q.jsx("span",{className:"font-bold text-black",children:""}),q.jsxs("span",{children:["Minimum ",q.jsx("strong",{children:"2 letter"})," words."]})]}),q.jsxs("p",{className:"flex gap-2",children:[q.jsx("span",{className:"font-bold text-black",children:""}),q.jsxs("span",{children:["Start in ",q.jsx("strong",{children:"Column 1"})," (left)."]})]}),q.jsxs("p",{className:"flex gap-2 items-center",children:[q.jsx(ym,{size:16,className:"text-yellow-500 fill-yellow-500"}),q.jsxs("span",{children:[q.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),q.jsxs("p",{className:"flex gap-2 items-center",children:[q.jsx(ph,{size:16,className:"text-purple-500 fill-purple-500"}),q.jsxs("span",{children:[q.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]})]}),q.jsx("button",{onClick:()=>{ri(!1),nt(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:Et.accentPrimary},children:Nn?"Let's Jump!":"Close"})]})}),Bt&&q.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:q.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[q.jsx("div",{className:"flex justify-center mb-4",children:q.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:q.jsx(wT,{size:32,className:"text-red-500"})})}),q.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Exit Game?"}),q.jsx("p",{className:"text-gray-500 mb-8",children:"Are you sure you want to quit? You will lose your current progress."}),q.jsxs("div",{className:"flex gap-3",children:[q.jsx("button",{onClick:()=>Lt(!1),className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),q.jsx("button",{onClick:Fa,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600",children:"Exit"})]})]})}),ft&&q.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:q.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[q.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),q.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",q.jsx("strong",{style:{color:Et.accentPrimary},children:ye}),". This will end your current run."]}),q.jsxs("div",{className:"flex gap-3",children:[q.jsx("button",{onClick:Wi,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),q.jsx("button",{onClick:It,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:Et.accentPrimary},children:"Confirm"})]})]})}),q.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50",children:[q.jsxs("div",{className:"flex flex-col items-start",children:[q.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),Ne&&q.jsxs("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap",children:[q.jsx("span",{className:"text-gray-400 font-bold uppercase tracking-widest",children:i==="quick"?"Quick Leader":"Standard Leader"}),q.jsx(Vm,{size:12,className:"text-yellow-500 fill-yellow-500"}),q.jsx("span",{className:"font-bold text-gray-700",children:Ne.name}),q.jsxs("span",{className:"font-mono text-gray-400",children:[Ne.score,"m"]})]}),q.jsxs("div",{className:"block md:hidden",children:[ye>0&&r==="playing"&&q.jsxs("button",{onClick:Fn,disabled:wt||At,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",q.jsx(f_,{size:10,style:{color:Et.starGold}})]}),r==="gameOver"&&z&&q.jsxs("button",{onClick:()=>Ve(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:Et.accentPrimary,color:"white"},children:[q.jsx(h_,{size:12})," RESULTS"]})]})]}),q.jsxs("div",{className:"flex flex-col items-center flex-1",children:[q.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:$i,children:q.jsx(q0,{})}),q.jsxs("div",{className:"hidden md:block mt-6",children:[r==="playing"&&ye>0&&q.jsxs("button",{onClick:Fn,disabled:wt||At,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",q.jsx(f_,{size:10,style:{color:Et.starGold}})]}),r==="gameOver"&&z&&q.jsxs("button",{onClick:()=>Ve(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:Et.accentPrimary},children:[q.jsx(h_,{size:14})," BACK TO RESULTS"]})]})]}),q.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[q.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:Et.accentPrimary},children:l||"PLAYER 1"}),q.jsxs("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:Et.accentPrimary},children:[q.jsx(xT,{size:16})," ",xe,"m"]}),q.jsxs("button",{onClick:()=>nt(!0),className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 uppercase tracking-widest flex items-center gap-1",children:["Rules ",q.jsx(_T,{size:12})]})]})]}),q.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:Hr,onMouseLeave:Xe,onMouseUp:va,onMouseMove:Ji,children:q.jsx("div",{ref:Ye,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${qe?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"},children:q.jsxs("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area",children:[q.jsx("div",{className:"flex relative mb-3",style:{width:`${p[0].length*Oa}px`,height:"24px"},children:Array(p[0].length).fill(0).map((K,he)=>{const ve=he===0,de=(he+1)%5===0;if(!ve&&!de)return null;const Ce=ye<3;return q.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:he*Oa+Oa/2,transform:`translateX(-50%) ${ve&&Ce?"translateY(-45px)":"translateY(0)"}`},children:[q.jsx("span",{className:`text-xs tracking-wider ${ve?"text-black font-black":"text-gray-400"}`,children:ve?"START":`${he+1}m`}),q.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${ve?"bg-black":"bg-gray-300"}`})]},`ruler-${he}`)})}),q.jsxs("div",{className:"relative",children:[q.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:j.filter(K=>K.type==="top").map((K,he)=>{const ve=Math.max(K.startCol,ye+K.offset);return q.jsx("div",{className:"absolute -top-[55px]",style:{left:`${ve*Oa}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:q.jsx(G0,{trigger:Qe})},`fan-top-${K.id}`)})}),q.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${p[0].length}, ${Oa}px)`,gridTemplateRows:`repeat(${ta}, ${Oa}px)`,backgroundColor:Et.boardBackground,borderColor:Et.boardLines},children:Array(ta).fill(0).map((K,he)=>Array(p[0].length).fill(0).map((ve,de)=>{const Ce=Ti(he,de),be=Li(he,de),He=Ui(he,de),De=B.some(An=>An.r===he&&An.c===de),Be=de===0&&!Ce&&!Kn,mt=Ce?.type==="locked",_t=(de+1)%5===0,Hn=de<xe,ln=Q&&Q.r===he&&Q.c===de,xn=wt&&mt?"animate-jump-green":"";return q.jsxs("div",{onClick:()=>ur(he,de),onDragOver:_a,onDrop:An=>aa(An,he,de),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${Ce?Ce.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":He?"cursor-not-allowed":"hover:bg-white/20"}  ${Ce?.type==="temp"?`bg-[${Et.tileTemp}] ring-2 ring-[${Et.tileTempRing}] -translate-y-[2px] z-10`:""} ${!Ce&&!He&&Hn?"bg-white/20":de===0&&!Ce?"bg-green-100/40":!Ce&&!He&&!Be&&(he+de)%2===0?"bg-black/5":"bg-transparent"} ${ln?"ring-4 ring-blue-400 z-20":""} ${!Ce&&ln?"bg-blue-50/20":""} ${!Ce&&_t?"border-r-2 border-r-black/10":"border border-black/5"} ${Hn?"animate-pop-green":""} ${xn}`,style:mt?{backgroundColor:Hn?Et.overlayComplete:Et.tileLocked,color:Et.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:wt?`${de*50}ms`:"0ms"}:Ce?.type==="temp"?{backgroundColor:Ce.isWild?Et.tileWildPlaced:Et.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:He?{backgroundColor:Et.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!Ce&&Be&&q.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:q.jsx(cT,{size:20,style:{color:Et.startArrow}})}),!Ce&&He&&q.jsx("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Ce&&be&&!He&&!De&&q.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[q.jsx(ym,{className:"w-6 h-6",fill:Et.starGold,stroke:Et.starGold}),q.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",be.val]})]}),!Ce&&De&&!He&&q.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:q.jsx(ph,{className:"w-7 h-7",fill:Et.starPurple,stroke:Et.starPurple})}),Ce&&q.jsxs("div",{draggable:Ce.type==="temp"&&!wt&&r==="playing",onDragStart:An=>Ha(An,{type:"board",r:he,c:de,letter:Ce.letter}),className:`w-full h-full flex items-center justify-center ${Ce.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:[q.jsx("span",{className:"text-2xl font-bold select-none font-mono",children:Ce.letter}),Ce.isWild&&q.jsx(ph,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})]})]},`${he}-${de}`)}))}),q.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:j.filter(K=>K.type==="bottom").map((K,he)=>{const ve=Math.max(K.startCol,ye+K.offset);return q.jsx("div",{className:"absolute -bottom-[35px]",style:{left:`${ve*Oa}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:q.jsx(G0,{trigger:Qe})},`fan-bottom-${K.id}`)})})]}),Rr&&q.jsx("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none",children:q.jsxs("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative",children:[q.jsx("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),q.jsx(lT,{size:16}),"Start Here!"]})})]})})}),q.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50",children:[q.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[q.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${st.type==="error"?"bg-red-100 text-red-700":st.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[q.jsx("span",{children:At?"Checking...":st.text}),st.type==="error"&&st.invalidWord&&q.jsxs("a",{href:`mailto:richard@studiobo.io?subject=Report Valid Word: ${st.invalidWord}&body=The word "${st.invalidWord}" should be valid.`,className:"ml-2 bg-red-200 hover:bg-red-300 text-red-800 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors",children:["Report ",q.jsx(TT,{size:10})]})]}),q.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[q.jsx("button",{onClick:Wn,disabled:wt||x.length===0||r!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",title:"Undo last move",children:q.jsx(CT,{size:16})}),q.jsxs("button",{onClick:Ri,disabled:wt||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[q.jsx(OT,{size:16})," Shuffle"]}),q.jsxs("button",{onClick:zi,disabled:wt||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[q.jsx(ZE,{size:16})," Sort A-Z"]}),F.length>0&&q.jsxs("button",{onClick:yi,disabled:At||wt||r!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${At||wt?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:At||wt?{}:{backgroundColor:Et.accentPrimary,color:"white"},children:[At?"Checking...":"JUMP"," ",q.jsx(sT,{size:18,strokeWidth:4})]}),F.length>0&&q.jsx("button",{onClick:()=>{const he=F.map(ve=>ve.isWild?"*":ve.letter).map(ve=>Th(ve,!1));w(ve=>[...ve,...he].sort((de,Ce)=>de.letter!==Ce.letter?de.letter.localeCompare(Ce.letter):de.isNew===Ce.isNew?0:de.isNew?1:-1)),J([]),setSelectedLetter(null)},disabled:wt||r!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:q.jsx(UT,{size:16})})]})]}),q.jsxs("div",{onDragOver:_a,onDrop:er,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:Et.boardLines},children:[fi.length===0&&q.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),fi.length<6?q.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:fi.map(K=>q.jsx(on,{letter:K},K))}):q.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[q.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:cr.map(K=>q.jsx(on,{letter:K},K))}),q.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:vi.map(K=>q.jsx(on,{letter:K},K))})]})]})]}),q.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `})]})}YE.createRoot(document.getElementById("root")).render(q.jsx(ct.StrictMode,{children:q.jsx(lM,{})}));
