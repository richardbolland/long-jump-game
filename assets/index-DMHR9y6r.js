(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Qw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pm={exports:{}},Dt={};var a0;function $w(){if(a0)return Dt;a0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),q=Symbol.iterator;function ae(z){return z===null||typeof z!="object"?null:(z=q&&z[q]||z["@@iterator"],typeof z=="function"?z:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oe=Object.assign,Te={};function ze(z,oe,Se){this.props=z,this.context=oe,this.refs=Te,this.updater=Se||B}ze.prototype.isReactComponent={},ze.prototype.setState=function(z,oe){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,oe,"setState")},ze.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function U(){}U.prototype=ze.prototype;function Le(z,oe,Se){this.props=z,this.context=oe,this.refs=Te,this.updater=Se||B}var tt=Le.prototype=new U;tt.constructor=Le,Oe(tt,ze.prototype),tt.isPureReactComponent=!0;var nt=Array.isArray;function ut(){}var Y={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function P(z,oe,Se){var Ae=Se.ref;return{$$typeof:i,type:z,key:oe,ref:Ae!==void 0?Ae:null,props:Se}}function H(z,oe){return P(z.type,oe,z.props)}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===i}function L(z){var oe={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Se){return oe[Se]})}var x=/\/+/g;function Z(z,oe){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):oe.toString(36)}function se(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ut,ut):(z.status="pending",z.then(function(oe){z.status==="pending"&&(z.status="fulfilled",z.value=oe)},function(oe){z.status==="pending"&&(z.status="rejected",z.reason=oe)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,oe,Se,Ae,Ne){var Ye=typeof z;(Ye==="undefined"||Ye==="boolean")&&(z=null);var mt=!1;if(z===null)mt=!0;else switch(Ye){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(z.$$typeof){case i:case e:mt=!0;break;case M:return mt=z._init,G(mt(z._payload),oe,Se,Ae,Ne)}}if(mt)return Ne=Ne(z),mt=Ae===""?"."+Z(z,0):Ae,nt(Ne)?(Se="",mt!=null&&(Se=mt.replace(x,"$&/")+"/"),G(Ne,oe,Se,"",function(kt){return kt})):Ne!=null&&(I(Ne)&&(Ne=H(Ne,Se+(Ne.key==null||z&&z.key===Ne.key?"":(""+Ne.key).replace(x,"$&/")+"/")+mt)),oe.push(Ne)),1;mt=0;var ft=Ae===""?".":Ae+":";if(nt(z))for(var Et=0;Et<z.length;Et++)Ae=z[Et],Ye=ft+Z(Ae,Et),mt+=G(Ae,oe,Se,Ye,Ne);else if(Et=ae(z),typeof Et=="function")for(z=Et.call(z),Et=0;!(Ae=z.next()).done;)Ae=Ae.value,Ye=ft+Z(Ae,Et++),mt+=G(Ae,oe,Se,Ye,Ne);else if(Ye==="object"){if(typeof z.then=="function")return G(se(z),oe,Se,Ae,Ne);throw oe=String(z),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return mt}function Q(z,oe,Se){if(z==null)return z;var Ae=[],Ne=0;return G(z,Ae,"","",function(Ye){return oe.call(Se,Ye,Ne++)}),Ae}function _e(z){if(z._status===-1){var oe=z._result;oe=oe(),oe.then(function(Se){(z._status===0||z._status===-1)&&(z._status=1,z._result=Se)},function(Se){(z._status===0||z._status===-1)&&(z._status=2,z._result=Se)}),z._status===-1&&(z._status=0,z._result=oe)}if(z._status===1)return z._result.default;throw z._result}var me=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},xe={map:Q,forEach:function(z,oe,Se){Q(z,function(){oe.apply(this,arguments)},Se)},count:function(z){var oe=0;return Q(z,function(){oe++}),oe},toArray:function(z){return Q(z,function(oe){return oe})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Dt.Activity=O,Dt.Children=xe,Dt.Component=ze,Dt.Fragment=r,Dt.Profiler=l,Dt.PureComponent=Le,Dt.StrictMode=a,Dt.Suspense=w,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return Y.H.useMemoCache(z)}},Dt.cache=function(z){return function(){return z.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(z,oe,Se){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Ae=Oe({},z.props),Ne=z.key;if(oe!=null)for(Ye in oe.key!==void 0&&(Ne=""+oe.key),oe)!F.call(oe,Ye)||Ye==="key"||Ye==="__self"||Ye==="__source"||Ye==="ref"&&oe.ref===void 0||(Ae[Ye]=oe[Ye]);var Ye=arguments.length-2;if(Ye===1)Ae.children=Se;else if(1<Ye){for(var mt=Array(Ye),ft=0;ft<Ye;ft++)mt[ft]=arguments[ft+2];Ae.children=mt}return P(z.type,Ne,Ae)},Dt.createContext=function(z){return z={$$typeof:p,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},Dt.createElement=function(z,oe,Se){var Ae,Ne={},Ye=null;if(oe!=null)for(Ae in oe.key!==void 0&&(Ye=""+oe.key),oe)F.call(oe,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(Ne[Ae]=oe[Ae]);var mt=arguments.length-2;if(mt===1)Ne.children=Se;else if(1<mt){for(var ft=Array(mt),Et=0;Et<mt;Et++)ft[Et]=arguments[Et+2];Ne.children=ft}if(z&&z.defaultProps)for(Ae in mt=z.defaultProps,mt)Ne[Ae]===void 0&&(Ne[Ae]=mt[Ae]);return P(z,Ye,Ne)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(z){return{$$typeof:b,render:z}},Dt.isValidElement=I,Dt.lazy=function(z){return{$$typeof:M,_payload:{_status:-1,_result:z},_init:_e}},Dt.memo=function(z,oe){return{$$typeof:E,type:z,compare:oe===void 0?null:oe}},Dt.startTransition=function(z){var oe=Y.T,Se={};Y.T=Se;try{var Ae=z(),Ne=Y.S;Ne!==null&&Ne(Se,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(ut,me)}catch(Ye){me(Ye)}finally{oe!==null&&Se.types!==null&&(oe.types=Se.types),Y.T=oe}},Dt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Dt.use=function(z){return Y.H.use(z)},Dt.useActionState=function(z,oe,Se){return Y.H.useActionState(z,oe,Se)},Dt.useCallback=function(z,oe){return Y.H.useCallback(z,oe)},Dt.useContext=function(z){return Y.H.useContext(z)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(z,oe){return Y.H.useDeferredValue(z,oe)},Dt.useEffect=function(z,oe){return Y.H.useEffect(z,oe)},Dt.useEffectEvent=function(z){return Y.H.useEffectEvent(z)},Dt.useId=function(){return Y.H.useId()},Dt.useImperativeHandle=function(z,oe,Se){return Y.H.useImperativeHandle(z,oe,Se)},Dt.useInsertionEffect=function(z,oe){return Y.H.useInsertionEffect(z,oe)},Dt.useLayoutEffect=function(z,oe){return Y.H.useLayoutEffect(z,oe)},Dt.useMemo=function(z,oe){return Y.H.useMemo(z,oe)},Dt.useOptimistic=function(z,oe){return Y.H.useOptimistic(z,oe)},Dt.useReducer=function(z,oe,Se){return Y.H.useReducer(z,oe,Se)},Dt.useRef=function(z){return Y.H.useRef(z)},Dt.useState=function(z){return Y.H.useState(z)},Dt.useSyncExternalStore=function(z,oe,Se){return Y.H.useSyncExternalStore(z,oe,Se)},Dt.useTransition=function(){return Y.H.useTransition()},Dt.version="19.2.0",Dt}var s0;function lh(){return s0||(s0=1,pm.exports=$w()),pm.exports}var Ve=lh();const C=Qw(Ve);var gm={exports:{}},Fu={},ym={exports:{}},vm={};var o0;function Jw(){return o0||(o0=1,(function(i){function e(G,Q){var _e=G.length;G.push(Q);e:for(;0<_e;){var me=_e-1>>>1,xe=G[me];if(0<l(xe,Q))G[me]=Q,G[_e]=xe,_e=me;else break e}}function r(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var Q=G[0],_e=G.pop();if(_e!==Q){G[0]=_e;e:for(var me=0,xe=G.length,z=xe>>>1;me<z;){var oe=2*(me+1)-1,Se=G[oe],Ae=oe+1,Ne=G[Ae];if(0>l(Se,_e))Ae<xe&&0>l(Ne,Se)?(G[me]=Ne,G[Ae]=_e,me=Ae):(G[me]=Se,G[oe]=_e,me=oe);else if(Ae<xe&&0>l(Ne,_e))G[me]=Ne,G[Ae]=_e,me=Ae;else break e}}return Q}function l(G,Q){var _e=G.sortIndex-Q.sortIndex;return _e!==0?_e:G.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();i.unstable_now=function(){return p.now()-b}}var w=[],E=[],M=1,O=null,q=3,ae=!1,B=!1,Oe=!1,Te=!1,ze=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,Le=typeof setImmediate<"u"?setImmediate:null;function tt(G){for(var Q=r(E);Q!==null;){if(Q.callback===null)a(E);else if(Q.startTime<=G)a(E),Q.sortIndex=Q.expirationTime,e(w,Q);else break;Q=r(E)}}function nt(G){if(Oe=!1,tt(G),!B)if(r(w)!==null)B=!0,ut||(ut=!0,L());else{var Q=r(E);Q!==null&&se(nt,Q.startTime-G)}}var ut=!1,Y=-1,F=5,P=-1;function H(){return Te?!0:!(i.unstable_now()-P<F)}function I(){if(Te=!1,ut){var G=i.unstable_now();P=G;var Q=!0;try{e:{B=!1,Oe&&(Oe=!1,U(Y),Y=-1),ae=!0;var _e=q;try{t:{for(tt(G),O=r(w);O!==null&&!(O.expirationTime>G&&H());){var me=O.callback;if(typeof me=="function"){O.callback=null,q=O.priorityLevel;var xe=me(O.expirationTime<=G);if(G=i.unstable_now(),typeof xe=="function"){O.callback=xe,tt(G),Q=!0;break t}O===r(w)&&a(w),tt(G)}else a(w);O=r(w)}if(O!==null)Q=!0;else{var z=r(E);z!==null&&se(nt,z.startTime-G),Q=!1}}break e}finally{O=null,q=_e,ae=!1}Q=void 0}}finally{Q?L():ut=!1}}}var L;if(typeof Le=="function")L=function(){Le(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Z=x.port2;x.port1.onmessage=I,L=function(){Z.postMessage(null)}}else L=function(){ze(I,0)};function se(G,Q){Y=ze(function(){G(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return q},i.unstable_next=function(G){switch(q){case 1:case 2:case 3:var Q=3;break;default:Q=q}var _e=q;q=Q;try{return G()}finally{q=_e}},i.unstable_requestPaint=function(){Te=!0},i.unstable_runWithPriority=function(G,Q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var _e=q;q=G;try{return Q()}finally{q=_e}},i.unstable_scheduleCallback=function(G,Q,_e){var me=i.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?me+_e:me):_e=me,G){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=_e+xe,G={id:M++,callback:Q,priorityLevel:G,startTime:_e,expirationTime:xe,sortIndex:-1},_e>me?(G.sortIndex=_e,e(E,G),r(w)===null&&G===r(E)&&(Oe?(U(Y),Y=-1):Oe=!0,se(nt,_e-me))):(G.sortIndex=xe,e(w,G),B||ae||(B=!0,ut||(ut=!0,L()))),G},i.unstable_shouldYield=H,i.unstable_wrapCallback=function(G){var Q=q;return function(){var _e=q;q=Q;try{return G.apply(this,arguments)}finally{q=_e}}}})(vm)),vm}var l0;function Zw(){return l0||(l0=1,ym.exports=Jw()),ym.exports}var _m={exports:{}},fi={};var u0;function eT(){if(u0)return fi;u0=1;var i=lh();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)E+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,M){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:O==null?null:""+O,children:w,containerInfo:E,implementation:M}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fi.createPortal=function(w,E){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,M)},fi.flushSync=function(w){var E=p.T,M=a.p;try{if(p.T=null,a.p=2,w)return w()}finally{p.T=E,a.p=M,a.d.f()}},fi.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(w,E))},fi.prefetchDNS=function(w){typeof w=="string"&&a.d.D(w)},fi.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var M=E.as,O=b(M,E.crossOrigin),q=typeof E.integrity=="string"?E.integrity:void 0,ae=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;M==="style"?a.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:O,integrity:q,fetchPriority:ae}):M==="script"&&a.d.X(w,{crossOrigin:O,integrity:q,fetchPriority:ae,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},fi.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var M=b(E.as,E.crossOrigin);a.d.M(w,{crossOrigin:M,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(w)},fi.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var M=E.as,O=b(M,E.crossOrigin);a.d.L(w,M,{crossOrigin:O,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},fi.preloadModule=function(w,E){if(typeof w=="string")if(E){var M=b(E.as,E.crossOrigin);a.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:M,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(w)},fi.requestFormReset=function(w){a.d.r(w)},fi.unstable_batchedUpdates=function(w,E){return w(E)},fi.useFormState=function(w,E,M){return p.H.useFormState(w,E,M)},fi.useFormStatus=function(){return p.H.useHostTransitionStatus()},fi.version="19.2.0",fi}var c0;function tT(){if(c0)return _m.exports;c0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=eT(),_m.exports}var f0;function nT(){if(f0)return Fu;f0=1;var i=Zw(),e=lh(),r=tT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(a(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return w(f),t;if(m===o)return w(f),n;m=m.sibling}throw Error(a(188))}if(s.return!==o.return)s=f,o=m;else{for(var T=!1,N=f.child;N;){if(N===s){T=!0,s=f,o=m;break}if(N===o){T=!0,o=f,s=m;break}N=N.sibling}if(!T){for(N=m.child;N;){if(N===s){T=!0,s=m,o=f;break}if(N===o){T=!0,o=m,s=f;break}N=N.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function M(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=M(t),n!==null)return n;t=t.sibling}return null}var O=Object.assign,q=Symbol.for("react.element"),ae=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),Te=Symbol.for("react.strict_mode"),ze=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),Le=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Z(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oe:return"Fragment";case ze:return"Profiler";case Te:return"StrictMode";case nt:return"Suspense";case ut:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case Le:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:Z(t.type)||"Memo";case F:n=t._payload,t=t._init;try{return Z(t(n))}catch{}}return null}var se=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},me=[],xe=-1;function z(t){return{current:t}}function oe(t){0>xe||(t.current=me[xe],me[xe]=null,xe--)}function Se(t,n){xe++,me[xe]=t.current,t.current=n}var Ae=z(null),Ne=z(null),Ye=z(null),mt=z(null);function ft(t,n){switch(Se(Ye,n),Se(Ne,t),Se(Ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Iv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Iv(n),t=xv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(Ae),Se(Ae,t)}function Et(){oe(Ae),oe(Ne),oe(Ye)}function kt(t){t.memoizedState!==null&&Se(mt,t);var n=Ae.current,s=xv(n,t.type);n!==s&&(Se(Ne,t),Se(Ae,s))}function ht(t){Ne.current===t&&(oe(Ae),oe(Ne)),mt.current===t&&(oe(mt),Uu._currentValue=_e)}var pt,wt;function Ct(t){if(pt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);pt=n&&n[1]||"",wt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pt+t+wt}var Ut=!1;function Fn(t,n){if(!t||Ut)return"";Ut=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ve){var he=ve}Reflect.construct(t,[],Ce)}else{try{Ce.call()}catch(ve){he=ve}t.call(Ce.prototype)}}else{try{throw Error()}catch(ve){he=ve}(Ce=t())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ve){if(ve&&he&&typeof ve.stack=="string")return[ve.stack,he.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],N=m[1];if(T&&N){var X=T.split(`
`),ce=N.split(`
`);for(f=o=0;o<X.length&&!X[o].includes("DetermineComponentFrameRoot");)o++;for(;f<ce.length&&!ce[f].includes("DetermineComponentFrameRoot");)f++;if(o===X.length||f===ce.length)for(o=X.length-1,f=ce.length-1;1<=o&&0<=f&&X[o]!==ce[f];)f--;for(;1<=o&&0<=f;o--,f--)if(X[o]!==ce[f]){if(o!==1||f!==1)do if(o--,f--,0>f||X[o]!==ce[f]){var be=`
`+X[o].replace(" at new "," at ");return t.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",t.displayName)),be}while(1<=o&&0<=f);break}}}finally{Ut=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ct(s):""}function ar(t,n){switch(t.tag){case 26:case 27:case 5:return Ct(t.type);case 16:return Ct("Lazy");case 13:return t.child!==n&&n!==null?Ct("Suspense Fallback"):Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 15:return Fn(t.type,!1);case 11:return Fn(t.type.render,!1);case 1:return Fn(t.type,!0);case 31:return Ct("Activity");default:return""}}function ln(t){try{var n="",s=null;do n+=ar(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var st=Object.prototype.hasOwnProperty,nn=i.unstable_scheduleCallback,Sn=i.unstable_cancelCallback,Xi=i.unstable_shouldYield,Hn=i.unstable_requestPaint,Ht=i.unstable_now,Dn=i.unstable_getCurrentPriorityLevel,R=i.unstable_ImmediatePriority,g=i.unstable_UserBlockingPriority,v=i.unstable_NormalPriority,V=i.unstable_LowPriority,$=i.unstable_IdlePriority,ge=i.log,Me=i.unstable_setDisableYieldValue,$e=null,Qe=null;function Ue(t){if(typeof ge=="function"&&Me(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode($e,t)}catch{}}var Fe=Math.clz32?Math.clz32:St,ot=Math.log,Zt=Math.LN2;function St(t){return t>>>=0,t===0?32:31-(ot(t)/Zt|0)|0}var Pn=256,Ln=262144,jt=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Un(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var N=o&134217727;return N!==0?(o=N&~m,o!==0?f=In(o):(T&=N,T!==0?f=In(T):s||(s=N&~t,s!==0&&(f=In(s))))):(N=o&~m,N!==0?f=In(N):T!==0?f=In(T):s||(s=o&~t,s!==0&&(f=In(s)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,s=n&-n,m>=s||m===32&&(s&4194048)!==0)?n:f}function er(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Pr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _t(){var t=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),t}function qn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function bt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rn(t,n,s,o,f,m){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var N=t.entanglements,X=t.expirationTimes,ce=t.hiddenUpdates;for(s=T&~s;0<s;){var be=31-Fe(s),Ce=1<<be;N[be]=0,X[be]=-1;var he=ce[be];if(he!==null)for(ce[be]=null,be=0;be<he.length;be++){var ve=he[be];ve!==null&&(ve.lane&=-536870913)}s&=~Ce}o!==0&&sr(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function sr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Fe(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Ma(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Fe(s),f=1<<o;f&n|t[o]&n&&(t[o]|=n),s&=~f}}function gi(t,n){var s=n&-n;return s=(s&42)!==0?1:yi(s),(s&(t.suspendedLanes|n))!==0?0:s}function yi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function We(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ki(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Jv(t.type))}function Rr(t,n){var s=Q.p;try{return Q.p=t,n()}finally{Q.p=s}}var Lr=Math.random().toString(36).slice(2),hn="__reactFiber$"+Lr,Gn="__reactProps$"+Lr,an="__reactContainer$"+Lr,vi="__reactEvents$"+Lr,Ps="__reactListeners$"+Lr,_i="__reactHandles$"+Lr,Qi="__reactResources$"+Lr,Ir="__reactMarker$"+Lr;function tr(t){delete t[hn],delete t[Gn],delete t[vi],delete t[Ps],delete t[_i]}function xr(t){var n=t[hn];if(n)return n;for(var s=t.parentNode;s;){if(n=s[an]||s[hn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Pv(t);t!==null;){if(s=t[hn])return s;t=Pv(t)}return n}t=s,s=t.parentNode}return null}function dr(t){if(t=t[hn]||t[an]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ur(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function bi(t){var n=t[Qi];return n||(n=t[Qi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function On(t){t[Ir]=!0}var $i=new Set,zr={};function Nr(t,n){Br(t,n),Br(t+"Capture",n)}function Br(t,n){for(zr[t]=n,t=0;t<n.length;t++)$i.add(n[t])}var jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ca={},ja={};function Fa(t){return st.call(ja,t)?!0:st.call(ca,t)?!1:jr.test(t)?ja[t]=!0:(ca[t]=!0,!1)}function Vi(t,n,s){if(Fa(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function mr(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function _n(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ni(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){s=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function en(t){if(!t._valueTracker){var n=Mr(t)?"checked":"value";t._valueTracker=ni(t,n,""+t[n])}}function Tr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Mr(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function gt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pr=/[\n"\\]/g;function kn(t){return t.replace(pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ji(t,n,s,o,f,m,T,N){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+dn(n)):t.value!==""+dn(n)&&(t.value=""+dn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Zi(t,T,dn(n)):s!=null?Zi(t,T,dn(s)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+dn(N):t.removeAttribute("name")}function mn(t,n,s,o,f,m,T,N){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){en(t);return}s=s!=null?""+dn(s):"",n=n!=null?""+dn(n):s,N||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=N?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),en(t)}function Zi(t,n,s){n==="number"&&gt(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function un(t,n,s,o){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&o&&(t[s].defaultSelected=!0)}else{for(s=""+dn(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function fa(t,n,s){if(n!=null&&(n=""+dn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+dn(s):""}function Pi(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(se(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=dn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),en(t)}function nr(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ha(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||Fr.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Hr(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&ha(t,f,o)}else for(var m in n)n.hasOwnProperty(m)&&ha(t,m,n[m])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ma=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ei=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return Ei.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var Ha=null;function ii(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ai=null,qr=null;function si(t){var n=dr(t);if(n&&(t=n.stateNode)){var s=t[Gn]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ji(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+kn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var f=o[Gn]||null;if(!f)throw Error(a(90));Ji(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Tr(o)}break e;case"textarea":fa(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&un(t,!!s.multiple,n,!1)}}}var wi=!1;function Gr(t,n,s){if(wi)return t(n,s);wi=!0;try{var o=t(n);return o}finally{if(wi=!1,(ai!==null||qr!==null)&&(Jc(),ai&&(n=ai,t=qr,qr=ai=null,si(n),t)))for(n=0;n<t.length;n++)si(t[n])}}function Ar(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Gn]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ti=!1;if(or)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){Ti=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{Ti=!1}var Ai=null,Dr=null,ea=null;function ga(){if(ea)return ea;var t,n=Dr,s=n.length,o,f="value"in Ai?Ai.value:Ai.textContent,m=f.length;for(t=0;t<s&&n[t]===f[t];t++);var T=s-t;for(o=1;o<=T&&n[s-o]===f[m-o];o++);return ea=f.slice(t,1<o?1-o:void 0)}function Li(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function oi(){return!1}function lr(t){function n(s,o,f,m,T){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(s=t[N],this[N]=s?s(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Si:oi,this.isPropagationStopped=oi,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),n}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=lr(li),ya=O({},li,{view:0,detail:0}),Ci=lr(ya),Ri,Da,Yr,va=O({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pe,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yr&&(Yr&&t.type==="mousemove"?(Ri=t.screenX-Yr.screenX,Da=t.screenY-Yr.screenY):Da=Ri=0,Yr=t),Ri)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),qa=lr(va),Oa=O({},va,{dataTransfer:0}),Ii=lr(Oa),Qn=O({},ya,{relatedTarget:0}),ta=lr(Qn),Wr=O({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Ls=lr(Wr),xi=O({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W=lr(xi),te=O({},li,{data:0}),de=lr(te),ye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},He={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ge(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=He[t])?!!n[t]:!1}function Pe(){return Ge}var Ke=O({},ya,{key:function(t){if(t.key){var n=ye[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Li(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pe,charCode:function(t){return t.type==="keypress"?Li(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Li(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rt=lr(Ke),Nt=O({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zn=lr(Nt),u=O({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pe}),y=lr(u),A=O({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=lr(A),ne=O({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pe=lr(ne),Be=O({},li,{newState:0,oldState:0}),It=lr(Be),Jn=[9,13,27,32],cn=or&&"CompositionEvent"in window,Bn=null;or&&"documentMode"in document&&(Bn=document.documentMode);var ui=or&&"TextEvent"in window&&!Bn,zi=or&&(!cn||Bn&&8<Bn&&11>=Bn),Bi=" ",Ni=!1;function _a(t,n){switch(t){case"keyup":return Jn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function as(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function xh(t,n){switch(t){case"compositionend":return as(n);case"keypress":return n.which!==32?null:(Ni=!0,Bi);case"textInput":return t=n.data,t===Bi&&Ni?null:t;default:return null}}function bc(t,n){if(ss)return t==="compositionend"||!cn&&_a(t,n)?(t=ga(),ea=Dr=Ai=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return zi&&n.locale!=="ko"?null:n.data;default:return null}}var nl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function su(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nl[t.type]:n==="textarea"}function Yn(t,n,s,o){ai?qr?qr.push(o):qr=[o]:ai=o,n=sf(n,"onChange"),0<n.length&&(s=new Ui("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Mi=null,os=null;function Ec(t){wv(t,0)}function xo(t){var n=Ur(t);if(Tr(n))return t}function ou(t,n){if(t==="change")return n}var lu=!1;if(or){var Us;if(or){var rl="oninput"in document;if(!rl){var h=document.createElement("div");h.setAttribute("oninput","return;"),rl=typeof h.oninput=="function"}Us=rl}else Us=!1;lu=Us&&(!document.documentMode||9<document.documentMode)}function d(){Mi&&(Mi.detachEvent("onpropertychange",_),os=Mi=null)}function _(t){if(t.propertyName==="value"&&xo(os)){var n=[];Yn(n,os,t,ii(t)),Gr(Ec,n)}}function S(t,n,s){t==="focusin"?(d(),Mi=n,os=s,Mi.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xo(os)}function j(t,n){if(t==="click")return xo(n)}function J(t,n){if(t==="input"||t==="change")return xo(n)}function ee(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fe=typeof Object.is=="function"?Object.is:ee;function ue(t,n){if(fe(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!st.call(n,f)||!fe(t[f],n[f]))return!1}return!0}function ke(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Je(t,n){var s=ke(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ke(s)}}function lt(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?lt(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function re(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gt(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=gt(t.document)}return n}function je(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var it=or&&"documentMode"in document&&11>=document.documentMode,qe=null,pn=null,Ze=null,zt=!1;function wn(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zt||qe==null||qe!==gt(o)||(o=qe,"selectionStart"in o&&je(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ze&&ue(Ze,o)||(Ze=o,o=sf(pn,"onSelect"),0<o.length&&(n=new Ui("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=qe)))}function ur(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ji={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},Ft={},na={};or&&(na=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function ls(t){if(Ft[t])return Ft[t];if(!ji[t])return t;var n=ji[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in na)return Ft[t]=n[s];return t}var De=ls("animationend"),Xe=ls("animationiteration"),Bt=ls("animationstart"),Wt=ls("transitionrun"),Vt=ls("transitionstart"),qt=ls("transitioncancel"),sn=ls("transitionend"),fn=new Map,Di="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Di.push("scrollEnd");function Tn(t,n){fn.set(t,n),Nr(n,[t])}var Xr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],us=0,il=0;function Ga(){for(var t=us,n=il=us=0;n<t;){var s=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var f=bn[n];bn[n++]=null;var m=bn[n];if(bn[n++]=null,o!==null&&f!==null){var T=o.pending;T===null?f.next=f:(f.next=T.next,T.next=f),o.pending=f}m!==0&&uu(s,f,m)}}function Ya(t,n,s,o){bn[us++]=t,bn[us++]=n,bn[us++]=s,bn[us++]=o,il|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ka(t,n,s,o){return Ya(t,n,s,o),No(t)}function Oi(t,n){return Ya(t,null,null,n),No(t)}function uu(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&n!==null&&(f=31-Fe(s),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=s|536870912),m):null}function No(t){if(50<Mu)throw Mu=0,zd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ra={};function Nh(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(t,n,s,o){return new Nh(t,n,s,o)}function Mh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cs(t,n){var s=t.alternate;return s===null?(s=ci(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ig(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function wc(t,n,s,o,f,m){var T=0;if(o=t,typeof t=="function")Mh(t)&&(T=1);else if(typeof t=="string")T=Uw(t,s,Ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=ci(31,s,n,f),t.elementType=P,t.lanes=m,t;case Oe:return Mo(s.children,f,m,n);case Te:T=8,f|=24;break;case ze:return t=ci(12,s,n,f|2),t.elementType=ze,t.lanes=m,t;case nt:return t=ci(13,s,n,f),t.elementType=nt,t.lanes=m,t;case ut:return t=ci(19,s,n,f),t.elementType=ut,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Le:T=10;break e;case U:T=9;break e;case tt:T=11;break e;case Y:T=14;break e;case F:T=16,o=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=ci(T,s,n,f),n.elementType=t,n.type=o,n.lanes=m,n}function Mo(t,n,s,o){return t=ci(7,t,o,n),t.lanes=s,t}function Dh(t,n,s){return t=ci(6,t,null,n),t.lanes=s,t}function ag(t){var n=ci(18,null,null,0);return n.stateNode=t,n}function Oh(t,n,s){return n=ci(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var sg=new WeakMap;function ba(t,n){if(typeof t=="object"&&t!==null){var s=sg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:ln(n)},sg.set(t,n),n)}return{value:t,source:n,stack:ln(n)}}var al=[],sl=0,Tc=null,cu=0,Ea=[],wa=0,zs=null,Wa=1,Xa="";function fs(t,n){al[sl++]=cu,al[sl++]=Tc,Tc=t,cu=n}function og(t,n,s){Ea[wa++]=Wa,Ea[wa++]=Xa,Ea[wa++]=zs,zs=t;var o=Wa;t=Xa;var f=32-Fe(o)-1;o&=~(1<<f),s+=1;var m=32-Fe(n)+f;if(30<m){var T=f-f%5;m=(o&(1<<T)-1).toString(32),o>>=T,f-=T,Wa=1<<32-Fe(n)+f|s<<f|o,Xa=m+t}else Wa=1<<m|s<<f|o,Xa=t}function kh(t){t.return!==null&&(fs(t,1),og(t,1,0))}function Vh(t){for(;t===Tc;)Tc=al[--sl],al[sl]=null,cu=al[--sl],al[sl]=null;for(;t===zs;)zs=Ea[--wa],Ea[wa]=null,Xa=Ea[--wa],Ea[wa]=null,Wa=Ea[--wa],Ea[wa]=null}function lg(t,n){Ea[wa++]=Wa,Ea[wa++]=Xa,Ea[wa++]=zs,Wa=n.id,Xa=n.overflow,zs=t}var Kr=null,Wn=null,tn=!1,Bs=null,Ta=!1,Ph=Error(a(519));function js(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(ba(n,t)),Ph}function ug(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[hn]=t,n[Gn]=o,s){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(s=0;s<Ou.length;s++)Yt(Ou[s],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":Yt("invalid",n),mn(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Yt("invalid",n);break;case"textarea":Yt("invalid",n),Pi(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Cv(n.textContent,s)?(o.popover!=null&&(Yt("beforetoggle",n),Yt("toggle",n)),o.onScroll!=null&&Yt("scroll",n),o.onScrollEnd!=null&&Yt("scrollend",n),o.onClick!=null&&(n.onclick=ri),n=!0):n=!1,n||js(t,!0)}function cg(t){for(Kr=t.return;Kr;)switch(Kr.tag){case 5:case 31:case 13:Ta=!1;return;case 27:case 3:Ta=!0;return;default:Kr=Kr.return}}function ol(t){if(t!==Kr)return!1;if(!tn)return cg(t),tn=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||em(t.type,t.memoizedProps)),s=!s),s&&Wn&&js(t),cg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Wn=Vv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Wn=Vv(t)}else n===27?(n=Wn,to(t.type)?(t=am,am=null,Wn=t):Wn=n):Wn=Kr?Sa(t.stateNode.nextSibling):null;return!0}function Do(){Wn=Kr=null,tn=!1}function Lh(){var t=Bs;return t!==null&&(Gi===null?Gi=t:Gi.push.apply(Gi,t),Bs=null),t}function fu(t){Bs===null?Bs=[t]:Bs.push(t)}var Uh=z(null),Oo=null,hs=null;function Fs(t,n,s){Se(Uh,n._currentValue),n._currentValue=s}function ds(t){t._currentValue=Uh.current,oe(Uh)}function zh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Bh(t,n,s,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var N=m;m=f;for(var X=0;X<n.length;X++)if(N.context===n[X]){m.lanes|=s,N=m.alternate,N!==null&&(N.lanes|=s),zh(m.return,s,t),o||(T=null);break e}m=N.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=s,m=T.alternate,m!==null&&(m.lanes|=s),zh(T,s,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ll(t,n,s,o){t=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var N=f.type;fe(f.pendingProps.value,T.value)||(t!==null?t.push(N):t=[N])}}else if(f===mt.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Uu):t=[Uu])}f=f.return}t!==null&&Bh(n,t,s,o),n.flags|=262144}function Ac(t){for(t=t.firstContext;t!==null;){if(!fe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ko(t){Oo=t,hs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qr(t){return fg(Oo,t)}function Sc(t,n){return Oo===null&&ko(t),fg(t,n)}function fg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},hs===null){if(t===null)throw Error(a(308));hs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else hs=hs.next=n;return s}var k1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},V1=i.unstable_scheduleCallback,P1=i.unstable_NormalPriority,gr={$$typeof:Le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new k1,data:new Map,refCount:0}}function hu(t){t.refCount--,t.refCount===0&&V1(P1,function(){t.controller.abort()})}var du=null,Fh=0,ul=0,cl=null;function L1(t,n){if(du===null){var s=du=[];Fh=0,ul=Gd(),cl={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Fh++,n.then(hg,hg),n}function hg(){if(--Fh===0&&du!==null){cl!==null&&(cl.status="fulfilled");var t=du;du=null,ul=0,cl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function U1(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var dg=G.S;G.S=function(t,n){Qy=Ht(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&L1(t,n),dg!==null&&dg(t,n)};var Vo=z(null);function Hh(){var t=Vo.current;return t!==null?t:Vn.pooledCache}function Cc(t,n){n===null?Se(Vo,Vo.current):Se(Vo,n.pool)}function mg(){var t=Hh();return t===null?null:{parent:gr._currentValue,pool:t}}var fl=Error(a(460)),qh=Error(a(474)),Rc=Error(a(542)),Ic={then:function(){}};function pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ri,ri),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vg(t),t;default:if(typeof n.status=="string")n.then(ri,ri);else{if(t=Vn,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vg(t),t}throw Lo=n,fl}}function Po(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Lo=s,fl):s}}var Lo=null;function yg(){if(Lo===null)throw Error(a(459));var t=Lo;return Lo=null,t}function vg(t){if(t===fl||t===Rc)throw Error(a(483))}var hl=null,mu=0;function xc(t){var n=mu;return mu+=1,hl===null&&(hl=[]),gg(hl,t,n)}function pu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Nc(t,n){throw n.$$typeof===q?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _g(t){function n(ie,K){if(t){var le=ie.deletions;le===null?(ie.deletions=[K],ie.flags|=16):le.push(K)}}function s(ie,K){if(!t)return null;for(;K!==null;)n(ie,K),K=K.sibling;return null}function o(ie){for(var K=new Map;ie!==null;)ie.key!==null?K.set(ie.key,ie):K.set(ie.index,ie),ie=ie.sibling;return K}function f(ie,K){return ie=cs(ie,K),ie.index=0,ie.sibling=null,ie}function m(ie,K,le){return ie.index=le,t?(le=ie.alternate,le!==null?(le=le.index,le<K?(ie.flags|=67108866,K):le):(ie.flags|=67108866,K)):(ie.flags|=1048576,K)}function T(ie){return t&&ie.alternate===null&&(ie.flags|=67108866),ie}function N(ie,K,le,we){return K===null||K.tag!==6?(K=Dh(le,ie.mode,we),K.return=ie,K):(K=f(K,le),K.return=ie,K)}function X(ie,K,le,we){var yt=le.type;return yt===Oe?be(ie,K,le.props.children,we,le.key):K!==null&&(K.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===F&&Po(yt)===K.type)?(K=f(K,le.props),pu(K,le),K.return=ie,K):(K=wc(le.type,le.key,le.props,null,ie.mode,we),pu(K,le),K.return=ie,K)}function ce(ie,K,le,we){return K===null||K.tag!==4||K.stateNode.containerInfo!==le.containerInfo||K.stateNode.implementation!==le.implementation?(K=Oh(le,ie.mode,we),K.return=ie,K):(K=f(K,le.children||[]),K.return=ie,K)}function be(ie,K,le,we,yt){return K===null||K.tag!==7?(K=Mo(le,ie.mode,we,yt),K.return=ie,K):(K=f(K,le),K.return=ie,K)}function Ce(ie,K,le){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Dh(""+K,ie.mode,le),K.return=ie,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ae:return le=wc(K.type,K.key,K.props,null,ie.mode,le),pu(le,K),le.return=ie,le;case B:return K=Oh(K,ie.mode,le),K.return=ie,K;case F:return K=Po(K),Ce(ie,K,le)}if(se(K)||L(K))return K=Mo(K,ie.mode,le,null),K.return=ie,K;if(typeof K.then=="function")return Ce(ie,xc(K),le);if(K.$$typeof===Le)return Ce(ie,Sc(ie,K),le);Nc(ie,K)}return null}function he(ie,K,le,we){var yt=K!==null?K.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return yt!==null?null:N(ie,K,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case ae:return le.key===yt?X(ie,K,le,we):null;case B:return le.key===yt?ce(ie,K,le,we):null;case F:return le=Po(le),he(ie,K,le,we)}if(se(le)||L(le))return yt!==null?null:be(ie,K,le,we,null);if(typeof le.then=="function")return he(ie,K,xc(le),we);if(le.$$typeof===Le)return he(ie,K,Sc(ie,le),we);Nc(ie,le)}return null}function ve(ie,K,le,we,yt){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ie=ie.get(le)||null,N(K,ie,""+we,yt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case ae:return ie=ie.get(we.key===null?le:we.key)||null,X(K,ie,we,yt);case B:return ie=ie.get(we.key===null?le:we.key)||null,ce(K,ie,we,yt);case F:return we=Po(we),ve(ie,K,le,we,yt)}if(se(we)||L(we))return ie=ie.get(le)||null,be(K,ie,we,yt,null);if(typeof we.then=="function")return ve(ie,K,le,xc(we),yt);if(we.$$typeof===Le)return ve(ie,K,le,Sc(K,we),yt);Nc(K,we)}return null}function ct(ie,K,le,we){for(var yt=null,gn=null,dt=K,Lt=K=0,Kt=null;dt!==null&&Lt<le.length;Lt++){dt.index>Lt?(Kt=dt,dt=null):Kt=dt.sibling;var yn=he(ie,dt,le[Lt],we);if(yn===null){dt===null&&(dt=Kt);break}t&&dt&&yn.alternate===null&&n(ie,dt),K=m(yn,K,Lt),gn===null?yt=yn:gn.sibling=yn,gn=yn,dt=Kt}if(Lt===le.length)return s(ie,dt),tn&&fs(ie,Lt),yt;if(dt===null){for(;Lt<le.length;Lt++)dt=Ce(ie,le[Lt],we),dt!==null&&(K=m(dt,K,Lt),gn===null?yt=dt:gn.sibling=dt,gn=dt);return tn&&fs(ie,Lt),yt}for(dt=o(dt);Lt<le.length;Lt++)Kt=ve(dt,ie,Lt,le[Lt],we),Kt!==null&&(t&&Kt.alternate!==null&&dt.delete(Kt.key===null?Lt:Kt.key),K=m(Kt,K,Lt),gn===null?yt=Kt:gn.sibling=Kt,gn=Kt);return t&&dt.forEach(function(so){return n(ie,so)}),tn&&fs(ie,Lt),yt}function Tt(ie,K,le,we){if(le==null)throw Error(a(151));for(var yt=null,gn=null,dt=K,Lt=K=0,Kt=null,yn=le.next();dt!==null&&!yn.done;Lt++,yn=le.next()){dt.index>Lt?(Kt=dt,dt=null):Kt=dt.sibling;var so=he(ie,dt,yn.value,we);if(so===null){dt===null&&(dt=Kt);break}t&&dt&&so.alternate===null&&n(ie,dt),K=m(so,K,Lt),gn===null?yt=so:gn.sibling=so,gn=so,dt=Kt}if(yn.done)return s(ie,dt),tn&&fs(ie,Lt),yt;if(dt===null){for(;!yn.done;Lt++,yn=le.next())yn=Ce(ie,yn.value,we),yn!==null&&(K=m(yn,K,Lt),gn===null?yt=yn:gn.sibling=yn,gn=yn);return tn&&fs(ie,Lt),yt}for(dt=o(dt);!yn.done;Lt++,yn=le.next())yn=ve(dt,ie,Lt,yn.value,we),yn!==null&&(t&&yn.alternate!==null&&dt.delete(yn.key===null?Lt:yn.key),K=m(yn,K,Lt),gn===null?yt=yn:gn.sibling=yn,gn=yn);return t&&dt.forEach(function(Kw){return n(ie,Kw)}),tn&&fs(ie,Lt),yt}function Mn(ie,K,le,we){if(typeof le=="object"&&le!==null&&le.type===Oe&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case ae:e:{for(var yt=le.key;K!==null;){if(K.key===yt){if(yt=le.type,yt===Oe){if(K.tag===7){s(ie,K.sibling),we=f(K,le.props.children),we.return=ie,ie=we;break e}}else if(K.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===F&&Po(yt)===K.type){s(ie,K.sibling),we=f(K,le.props),pu(we,le),we.return=ie,ie=we;break e}s(ie,K);break}else n(ie,K);K=K.sibling}le.type===Oe?(we=Mo(le.props.children,ie.mode,we,le.key),we.return=ie,ie=we):(we=wc(le.type,le.key,le.props,null,ie.mode,we),pu(we,le),we.return=ie,ie=we)}return T(ie);case B:e:{for(yt=le.key;K!==null;){if(K.key===yt)if(K.tag===4&&K.stateNode.containerInfo===le.containerInfo&&K.stateNode.implementation===le.implementation){s(ie,K.sibling),we=f(K,le.children||[]),we.return=ie,ie=we;break e}else{s(ie,K);break}else n(ie,K);K=K.sibling}we=Oh(le,ie.mode,we),we.return=ie,ie=we}return T(ie);case F:return le=Po(le),Mn(ie,K,le,we)}if(se(le))return ct(ie,K,le,we);if(L(le)){if(yt=L(le),typeof yt!="function")throw Error(a(150));return le=yt.call(le),Tt(ie,K,le,we)}if(typeof le.then=="function")return Mn(ie,K,xc(le),we);if(le.$$typeof===Le)return Mn(ie,K,Sc(ie,le),we);Nc(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,K!==null&&K.tag===6?(s(ie,K.sibling),we=f(K,le),we.return=ie,ie=we):(s(ie,K),we=Dh(le,ie.mode,we),we.return=ie,ie=we),T(ie)):s(ie,K)}return function(ie,K,le,we){try{mu=0;var yt=Mn(ie,K,le,we);return hl=null,yt}catch(dt){if(dt===fl||dt===Rc)throw dt;var gn=ci(29,dt,null,ie.mode);return gn.lanes=we,gn.return=ie,gn}finally{}}}var Uo=_g(!0),bg=_g(!1),Hs=!1;function Gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(En&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=No(t),uu(t,null,s),n}return Ya(t,o,n,s),No(t)}function gu(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Ma(t,s)}}function Wh(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,s=s.next}while(s!==null);m===null?f=m=n:m=m.next=n}else f=m=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Xh=!1;function yu(){if(Xh){var t=cl;if(t!==null)throw t}}function vu(t,n,s,o){Xh=!1;var f=t.updateQueue;Hs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var X=N,ce=X.next;X.next=null,T===null?m=ce:T.next=ce,T=X;var be=t.alternate;be!==null&&(be=be.updateQueue,N=be.lastBaseUpdate,N!==T&&(N===null?be.firstBaseUpdate=ce:N.next=ce,be.lastBaseUpdate=X))}if(m!==null){var Ce=f.baseState;T=0,be=ce=X=null,N=m;do{var he=N.lane&-536870913,ve=he!==N.lane;if(ve?(Xt&he)===he:(o&he)===he){he!==0&&he===ul&&(Xh=!0),be!==null&&(be=be.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ct=t,Tt=N;he=n;var Mn=s;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){Ce=ct.call(Mn,Ce,he);break e}Ce=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,he=typeof ct=="function"?ct.call(Mn,Ce,he):ct,he==null)break e;Ce=O({},Ce,he);break e;case 2:Hs=!0}}he=N.callback,he!==null&&(t.flags|=64,ve&&(t.flags|=8192),ve=f.callbacks,ve===null?f.callbacks=[he]:ve.push(he))}else ve={lane:he,tag:N.tag,payload:N.payload,callback:N.callback,next:null},be===null?(ce=be=ve,X=Ce):be=be.next=ve,T|=he;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;ve=N,N=ve.next,ve.next=null,f.lastBaseUpdate=ve,f.shared.pending=null}}while(!0);be===null&&(X=Ce),f.baseState=X,f.firstBaseUpdate=ce,f.lastBaseUpdate=be,m===null&&(f.shared.lanes=0),Qs|=T,t.lanes=T,t.memoizedState=Ce}}function Eg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function wg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Eg(s[t],n)}var dl=z(null),Mc=z(0);function Tg(t,n){t=ws,Se(Mc,t),Se(dl,n),ws=t|n.baseLanes}function Kh(){Se(Mc,ws),Se(dl,dl.current)}function Qh(){ws=Mc.current,oe(dl),oe(Mc)}var ia=z(null),Aa=null;function Ys(t){var n=t.alternate;Se(cr,cr.current&1),Se(ia,t),Aa===null&&(n===null||dl.current!==null||n.memoizedState!==null)&&(Aa=t)}function $h(t){Se(cr,cr.current),Se(ia,t),Aa===null&&(Aa=t)}function Ag(t){t.tag===22?(Se(cr,cr.current),Se(ia,t),Aa===null&&(Aa=t)):Ws()}function Ws(){Se(cr,cr.current),Se(ia,ia.current)}function aa(t){oe(ia),Aa===t&&(Aa=null),oe(cr)}var cr=z(0);function Dc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||rm(s)||im(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ms=0,Pt=null,xn=null,yr=null,Oc=!1,ml=!1,zo=!1,kc=0,_u=0,pl=null,z1=0;function rr(){throw Error(a(321))}function Jh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!fe(t[s],n[s]))return!1;return!0}function Zh(t,n,s,o,f,m){return ms=m,Pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?oy:md,zo=!1,m=s(o,f),zo=!1,ml&&(m=Cg(n,s,o,f)),Sg(t),m}function Sg(t){G.H=wu;var n=xn!==null&&xn.next!==null;if(ms=0,yr=xn=Pt=null,Oc=!1,_u=0,pl=null,n)throw Error(a(300));t===null||vr||(t=t.dependencies,t!==null&&Ac(t)&&(vr=!0))}function Cg(t,n,s,o){Pt=t;var f=0;do{if(ml&&(pl=null),_u=0,ml=!1,25<=f)throw Error(a(301));if(f+=1,yr=xn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=ly,m=n(s,o)}while(ml);return m}function B1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?bu(n):n,t=t.useState()[0],(xn!==null?xn.memoizedState:null)!==t&&(Pt.flags|=1024),n}function ed(){var t=kc!==0;return kc=0,t}function td(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function nd(t){if(Oc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Oc=!1}ms=0,yr=xn=Pt=null,ml=!1,_u=kc=0,pl=null}function ki(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Pt.memoizedState=yr=t:yr=yr.next=t,yr}function fr(){if(xn===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var n=yr===null?Pt.memoizedState:yr.next;if(n!==null)yr=n,xn=t;else{if(t===null)throw Pt.alternate===null?Error(a(467)):Error(a(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},yr===null?Pt.memoizedState=yr=t:yr=yr.next=t}return yr}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(t){var n=_u;return _u+=1,pl===null&&(pl=[]),t=gg(pl,t,n),n=Pt,(yr===null?n.memoizedState:yr.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?oy:md),t}function Pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bu(t);if(t.$$typeof===Le)return Qr(t)}throw Error(a(438,String(t)))}function rd(t){var n=null,s=Pt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Pt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vc(),Pt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=H;return n.index++,s}function ps(t,n){return typeof n=="function"?n(t):n}function Lc(t){var n=fr();return id(n,xn,t)}function id(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}n.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{n=f.next;var N=T=null,X=null,ce=n,be=!1;do{var Ce=ce.lane&-536870913;if(Ce!==ce.lane?(Xt&Ce)===Ce:(ms&Ce)===Ce){var he=ce.revertLane;if(he===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Ce===ul&&(be=!0);else if((ms&he)===he){ce=ce.next,he===ul&&(be=!0);continue}else Ce={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(N=X=Ce,T=m):X=X.next=Ce,Pt.lanes|=he,Qs|=he;Ce=ce.action,zo&&s(m,Ce),m=ce.hasEagerState?ce.eagerState:s(m,Ce)}else he={lane:Ce,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(N=X=he,T=m):X=X.next=he,Pt.lanes|=Ce,Qs|=Ce;ce=ce.next}while(ce!==null&&ce!==n);if(X===null?T=m:X.next=N,!fe(m,t.memoizedState)&&(vr=!0,be&&(s=cl,s!==null)))throw s;t.memoizedState=m,t.baseState=T,t.baseQueue=X,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ad(t){var n=fr(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,f=s.pending,m=n.memoizedState;if(f!==null){s.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);fe(m,n.memoizedState)||(vr=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,o]}function Rg(t,n,s){var o=Pt,f=fr(),m=tn;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=n();var T=!fe((xn||f).memoizedState,s);if(T&&(f.memoizedState=s,vr=!0),f=f.queue,ld(Ng.bind(null,o,f,t),[t]),f.getSnapshot!==n||T||yr!==null&&yr.memoizedState.tag&1){if(o.flags|=2048,gl(9,{destroy:void 0},xg.bind(null,o,f,s,n),null),Vn===null)throw Error(a(349));m||(ms&127)!==0||Ig(o,n,s)}return s}function Ig(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Pt.updateQueue,n===null?(n=Vc(),Pt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function xg(t,n,s,o){n.value=s,n.getSnapshot=o,Mg(n)&&Dg(t)}function Ng(t,n,s){return s(function(){Mg(n)&&Dg(t)})}function Mg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!fe(t,s)}catch{return!0}}function Dg(t){var n=Oi(t,2);n!==null&&Yi(n,t,2)}function sd(t){var n=ki();if(typeof t=="function"){var s=t;if(t=s(),zo){Ue(!0);try{s()}finally{Ue(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:t},n}function Og(t,n,s,o){return t.baseState=s,id(t,xn,typeof o=="function"?o:ps)}function j1(t,n,s,o,f){if(Bc(t))throw Error(a(485));if(t=n.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};G.T!==null?s(!0):m.isTransition=!1,o(m),s=n.pending,s===null?(m.next=n.pending=m,kg(n,m)):(m.next=s.next,n.pending=s.next=m)}}function kg(t,n){var s=n.action,o=n.payload,f=t.state;if(n.isTransition){var m=G.T,T={};G.T=T;try{var N=s(f,o),X=G.S;X!==null&&X(T,N),Vg(t,n,N)}catch(ce){od(t,n,ce)}finally{m!==null&&T.types!==null&&(m.types=T.types),G.T=m}}else try{m=s(f,o),Vg(t,n,m)}catch(ce){od(t,n,ce)}}function Vg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Pg(t,n,o)},function(o){return od(t,n,o)}):Pg(t,n,s)}function Pg(t,n,s){n.status="fulfilled",n.value=s,Lg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,kg(t,s)))}function od(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Lg(n),n=n.next;while(n!==o)}t.action=null}function Lg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ug(t,n){return n}function zg(t,n){if(tn){var s=Vn.formState;if(s!==null){e:{var o=Pt;if(tn){if(Wn){t:{for(var f=Wn,m=Ta;f.nodeType!==8;){if(!m){f=null;break t}if(f=Sa(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Wn=Sa(f.nextSibling),o=f.data==="F!";break e}}js(o)}o=!1}o&&(n=s[0])}}return s=ki(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:n},s.queue=o,s=iy.bind(null,Pt,o),o.dispatch=s,o=sd(!1),m=dd.bind(null,Pt,!1,o.queue),o=ki(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,s=j1.bind(null,Pt,f,m,s),f.dispatch=s,o.memoizedState=t,[n,s,!1]}function Bg(t){var n=fr();return jg(n,xn,t)}function jg(t,n,s){if(n=id(t,n,Ug)[0],t=Lc(ps)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=bu(n)}catch(T){throw T===fl?Rc:T}else o=n;n=fr();var f=n.queue,m=f.dispatch;return s!==n.memoizedState&&(Pt.flags|=2048,gl(9,{destroy:void 0},F1.bind(null,f,s),null)),[o,m,t]}function F1(t,n){t.action=n}function Fg(t){var n=fr(),s=xn;if(s!==null)return jg(n,s,t);fr(),n=n.memoizedState,s=fr();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function gl(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Pt.updateQueue,n===null&&(n=Vc(),Pt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Hg(){return fr().memoizedState}function Uc(t,n,s,o){var f=ki();Pt.flags|=t,f.memoizedState=gl(1|n,{destroy:void 0},s,o===void 0?null:o)}function zc(t,n,s,o){var f=fr();o=o===void 0?null:o;var m=f.memoizedState.inst;xn!==null&&o!==null&&Jh(o,xn.memoizedState.deps)?f.memoizedState=gl(n,m,s,o):(Pt.flags|=t,f.memoizedState=gl(1|n,m,s,o))}function qg(t,n){Uc(8390656,8,t,n)}function ld(t,n){zc(2048,8,t,n)}function H1(t){Pt.flags|=4;var n=Pt.updateQueue;if(n===null)n=Vc(),Pt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Gg(t){var n=fr().memoizedState;return H1({ref:n,nextImpl:t}),function(){if((En&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Yg(t,n){return zc(4,2,t,n)}function Wg(t,n){return zc(4,4,t,n)}function Xg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Kg(t,n,s){s=s!=null?s.concat([t]):null,zc(4,4,Xg.bind(null,n,t),s)}function ud(){}function Qg(t,n){var s=fr();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Jh(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function $g(t,n){var s=fr();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Jh(n,o[1]))return o[0];if(o=t(),zo){Ue(!0);try{t()}finally{Ue(!1)}}return s.memoizedState=[o,n],o}function cd(t,n,s){return s===void 0||(ms&1073741824)!==0&&(Xt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Jy(),Pt.lanes|=t,Qs|=t,s)}function Jg(t,n,s,o){return fe(s,n)?s:dl.current!==null?(t=cd(t,s,o),fe(t,n)||(vr=!0),t):(ms&42)===0||(ms&1073741824)!==0&&(Xt&261930)===0?(vr=!0,t.memoizedState=s):(t=Jy(),Pt.lanes|=t,Qs|=t,n)}function Zg(t,n,s,o,f){var m=Q.p;Q.p=m!==0&&8>m?m:8;var T=G.T,N={};G.T=N,dd(t,!1,n,s);try{var X=f(),ce=G.S;if(ce!==null&&ce(N,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var be=U1(X,o);Eu(t,n,be,la(t))}else Eu(t,n,o,la(t))}catch(Ce){Eu(t,n,{then:function(){},status:"rejected",reason:Ce},la())}finally{Q.p=m,T!==null&&N.types!==null&&(T.types=N.types),G.T=T}}function q1(){}function fd(t,n,s,o){if(t.tag!==5)throw Error(a(476));var f=ey(t).queue;Zg(t,f,n,_e,s===null?q1:function(){return ty(t),s(o)})}function ey(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:_e},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ty(t){var n=ey(t);n.next===null&&(n=t.alternate.memoizedState),Eu(t,n.next.queue,{},la())}function hd(){return Qr(Uu)}function ny(){return fr().memoizedState}function ry(){return fr().memoizedState}function G1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=la();t=qs(s);var o=Gs(n,t,s);o!==null&&(Yi(o,n,s),gu(o,n,s)),n={cache:jh()},t.payload=n;return}n=n.return}}function Y1(t,n,s){var o=la();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bc(t)?ay(n,s):(s=ka(t,n,s,o),s!==null&&(Yi(s,t,o),sy(s,n,o)))}function iy(t,n,s){var o=la();Eu(t,n,s,o)}function Eu(t,n,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bc(t))ay(n,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,N=m(T,s);if(f.hasEagerState=!0,f.eagerState=N,fe(N,T))return Ya(t,n,f,0),Vn===null&&Ga(),!1}catch{}finally{}if(s=ka(t,n,f,o),s!==null)return Yi(s,t,o),sy(s,n,o),!0}return!1}function dd(t,n,s,o){if(o={lane:2,revertLane:Gd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bc(t)){if(n)throw Error(a(479))}else n=ka(t,s,o,2),n!==null&&Yi(n,t,2)}function Bc(t){var n=t.alternate;return t===Pt||n!==null&&n===Pt}function ay(t,n){ml=Oc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function sy(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Ma(t,s)}}var wu={readContext:Qr,use:Pc,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useLayoutEffect:rr,useInsertionEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useSyncExternalStore:rr,useId:rr,useHostTransitionStatus:rr,useFormState:rr,useActionState:rr,useOptimistic:rr,useMemoCache:rr,useCacheRefresh:rr};wu.useEffectEvent=rr;var oy={readContext:Qr,use:Pc,useCallback:function(t,n){return ki().memoizedState=[t,n===void 0?null:n],t},useContext:Qr,useEffect:qg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Uc(4194308,4,Xg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Uc(4194308,4,t,n)},useInsertionEffect:function(t,n){Uc(4,2,t,n)},useMemo:function(t,n){var s=ki();n=n===void 0?null:n;var o=t();if(zo){Ue(!0);try{t()}finally{Ue(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=ki();if(s!==void 0){var f=s(n);if(zo){Ue(!0);try{s(n)}finally{Ue(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Y1.bind(null,Pt,t),[o.memoizedState,t]},useRef:function(t){var n=ki();return t={current:t},n.memoizedState=t},useState:function(t){t=sd(t);var n=t.queue,s=iy.bind(null,Pt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:ud,useDeferredValue:function(t,n){var s=ki();return cd(s,t,n)},useTransition:function(){var t=sd(!1);return t=Zg.bind(null,Pt,t.queue,!0,!1),ki().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Pt,f=ki();if(tn){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Vn===null)throw Error(a(349));(Xt&127)!==0||Ig(o,n,s)}f.memoizedState=s;var m={value:s,getSnapshot:n};return f.queue=m,qg(Ng.bind(null,o,m,t),[t]),o.flags|=2048,gl(9,{destroy:void 0},xg.bind(null,o,m,s,n),null),s},useId:function(){var t=ki(),n=Vn.identifierPrefix;if(tn){var s=Xa,o=Wa;s=(o&~(1<<32-Fe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=kc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=z1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:hd,useFormState:zg,useActionState:zg,useOptimistic:function(t){var n=ki();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=dd.bind(null,Pt,!0,s),s.dispatch=n,[t,n]},useMemoCache:rd,useCacheRefresh:function(){return ki().memoizedState=G1.bind(null,Pt)},useEffectEvent:function(t){var n=ki(),s={impl:t};return n.memoizedState=s,function(){if((En&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},md={readContext:Qr,use:Pc,useCallback:Qg,useContext:Qr,useEffect:ld,useImperativeHandle:Kg,useInsertionEffect:Yg,useLayoutEffect:Wg,useMemo:$g,useReducer:Lc,useRef:Hg,useState:function(){return Lc(ps)},useDebugValue:ud,useDeferredValue:function(t,n){var s=fr();return Jg(s,xn.memoizedState,t,n)},useTransition:function(){var t=Lc(ps)[0],n=fr().memoizedState;return[typeof t=="boolean"?t:bu(t),n]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:hd,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,n){var s=fr();return Og(s,xn,t,n)},useMemoCache:rd,useCacheRefresh:ry};md.useEffectEvent=Gg;var ly={readContext:Qr,use:Pc,useCallback:Qg,useContext:Qr,useEffect:ld,useImperativeHandle:Kg,useInsertionEffect:Yg,useLayoutEffect:Wg,useMemo:$g,useReducer:ad,useRef:Hg,useState:function(){return ad(ps)},useDebugValue:ud,useDeferredValue:function(t,n){var s=fr();return xn===null?cd(s,t,n):Jg(s,xn.memoizedState,t,n)},useTransition:function(){var t=ad(ps)[0],n=fr().memoizedState;return[typeof t=="boolean"?t:bu(t),n]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:hd,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,n){var s=fr();return xn!==null?Og(s,xn,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:rd,useCacheRefresh:ry};ly.useEffectEvent=Gg;function pd(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:O({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var gd={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=la(),f=qs(o);f.payload=n,s!=null&&(f.callback=s),n=Gs(t,f,o),n!==null&&(Yi(n,t,o),gu(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=la(),f=qs(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Gs(t,f,o),n!==null&&(Yi(n,t,o),gu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=la(),o=qs(s);o.tag=2,n!=null&&(o.callback=n),n=Gs(t,o,s),n!==null&&(Yi(n,t,s),gu(n,t,s))}};function uy(t,n,s,o,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!ue(s,o)||!ue(f,m):!0}function cy(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&gd.enqueueReplaceState(n,n.state,null)}function Bo(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=O({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function fy(t){Xr(t)}function hy(t){console.error(t)}function dy(t){Xr(t)}function jc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function my(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(t,n,s){return s=qs(s),s.tag=3,s.payload={element:null},s.callback=function(){jc(t,n)},s}function py(t){return t=qs(t),t.tag=3,t}function gy(t,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){my(n,s,o)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){my(n,s,o),typeof f!="function"&&($s===null?$s=new Set([this]):$s.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})})}function W1(t,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ll(n,s,f,!0),s=ia.current,s!==null){switch(s.tag){case 31:case 13:return Aa===null?Zc():s.alternate===null&&ir===0&&(ir=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===Ic?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Fd(t,o,f)),!1;case 22:return s.flags|=65536,o===Ic?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Fd(t,o,f)),!1}throw Error(a(435,s.tag))}return Fd(t,o,f),Zc(),!1}if(tn)return n=ia.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Ph&&(t=Error(a(422),{cause:o}),fu(ba(t,s)))):(o!==Ph&&(n=Error(a(423),{cause:o}),fu(ba(n,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=ba(o,s),f=yd(t.stateNode,o,f),Wh(t,f),ir!==4&&(ir=2)),!1;var m=Error(a(520),{cause:o});if(m=ba(m,s),Nu===null?Nu=[m]:Nu.push(m),ir!==4&&(ir=2),n===null)return!0;o=ba(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=yd(s.stateNode,o,t),Wh(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&($s===null||!$s.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=py(f),gy(f,t,s,o),Wh(s,f),!1}s=s.return}while(s!==null);return!1}var vd=Error(a(461)),vr=!1;function $r(t,n,s,o){n.child=t===null?bg(n,null,s,o):Uo(n,t.child,s,o)}function yy(t,n,s,o,f){s=s.render;var m=n.ref;if("ref"in o){var T={};for(var N in o)N!=="ref"&&(T[N]=o[N])}else T=o;return ko(n),o=Zh(t,n,s,T,m,f),N=ed(),t!==null&&!vr?(td(t,n,f),gs(t,n,f)):(tn&&N&&kh(n),n.flags|=1,$r(t,n,o,f),n.child)}function vy(t,n,s,o,f){if(t===null){var m=s.type;return typeof m=="function"&&!Mh(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,_y(t,n,m,o,f)):(t=wc(s.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Cd(t,f)){var T=m.memoizedProps;if(s=s.compare,s=s!==null?s:ue,s(T,o)&&t.ref===n.ref)return gs(t,n,f)}return n.flags|=1,t=cs(m,o),t.ref=n.ref,t.return=n,n.child=t}function _y(t,n,s,o,f){if(t!==null){var m=t.memoizedProps;if(ue(m,o)&&t.ref===n.ref)if(vr=!1,n.pendingProps=o=m,Cd(t,f))(t.flags&131072)!==0&&(vr=!0);else return n.lanes=t.lanes,gs(t,n,f)}return _d(t,n,s,o,f)}function by(t,n,s,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(o=n.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,n.child=null;return Ey(t,n,m,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cc(n,m!==null?m.cachePool:null),m!==null?Tg(n,m):Kh(),Ag(n);else return o=n.lanes=536870912,Ey(t,n,m!==null?m.baseLanes|s:s,s,o)}else m!==null?(Cc(n,m.cachePool),Tg(n,m),Ws(),n.memoizedState=null):(t!==null&&Cc(n,null),Kh(),Ws());return $r(t,n,f,s),n.child}function Tu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ey(t,n,s,o,f){var m=Hh();return m=m===null?null:{parent:gr._currentValue,pool:m},n.memoizedState={baseLanes:s,cachePool:m},t!==null&&Cc(n,null),Kh(),Ag(n),t!==null&&ll(t,n,o,!0),n.childLanes=f,null}function Fc(t,n){return n=qc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function wy(t,n,s){return Uo(n,t.child,null,s),t=Fc(n,n.pendingProps),t.flags|=2,aa(n),n.memoizedState=null,t}function X1(t,n,s){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(tn){if(o.mode==="hidden")return t=Fc(n,o),n.lanes=536870912,Tu(null,t);if($h(n),(t=Wn)?(t=kv(t,Ta),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Wa,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},s=ag(t),s.return=n,n.child=s,Kr=n,Wn=null)):t=null,t===null)throw js(n);return n.lanes=536870912,null}return Fc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if($h(n),f)if(n.flags&256)n.flags&=-257,n=wy(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(vr||ll(t,n,s,!1),f=(s&t.childLanes)!==0,vr||f){if(o=Vn,o!==null&&(T=gi(o,s),T!==0&&T!==m.retryLane))throw m.retryLane=T,Oi(t,T),Yi(o,t,T),vd;Zc(),n=wy(t,n,s)}else t=m.treeContext,Wn=Sa(T.nextSibling),Kr=n,tn=!0,Bs=null,Ta=!1,t!==null&&lg(n,t),n=Fc(n,o),n.flags|=4096;return n}return t=cs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Hc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function _d(t,n,s,o,f){return ko(n),s=Zh(t,n,s,o,void 0,f),o=ed(),t!==null&&!vr?(td(t,n,f),gs(t,n,f)):(tn&&o&&kh(n),n.flags|=1,$r(t,n,s,f),n.child)}function Ty(t,n,s,o,f,m){return ko(n),n.updateQueue=null,s=Cg(n,o,s,f),Sg(t),o=ed(),t!==null&&!vr?(td(t,n,m),gs(t,n,m)):(tn&&o&&kh(n),n.flags|=1,$r(t,n,s,m),n.child)}function Ay(t,n,s,o,f){if(ko(n),n.stateNode===null){var m=ra,T=s.contextType;typeof T=="object"&&T!==null&&(m=Qr(T)),m=new s(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=gd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Gh(n),T=s.contextType,m.context=typeof T=="object"&&T!==null?Qr(T):ra,m.state=n.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(pd(n,s,T,o),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&gd.enqueueReplaceState(m,m.state,null),vu(n,o,m,f),yu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var N=n.memoizedProps,X=Bo(s,N);m.props=X;var ce=m.context,be=s.contextType;T=ra,typeof be=="object"&&be!==null&&(T=Qr(be));var Ce=s.getDerivedStateFromProps;be=typeof Ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",N=n.pendingProps!==N,be||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(N||ce!==T)&&cy(n,m,o,T),Hs=!1;var he=n.memoizedState;m.state=he,vu(n,o,m,f),yu(),ce=n.memoizedState,N||he!==ce||Hs?(typeof Ce=="function"&&(pd(n,s,Ce,o),ce=n.memoizedState),(X=Hs||uy(n,s,X,o,he,ce,T))?(be||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ce),m.props=o,m.state=ce,m.context=T,o=X):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Yh(t,n),T=n.memoizedProps,be=Bo(s,T),m.props=be,Ce=n.pendingProps,he=m.context,ce=s.contextType,X=ra,typeof ce=="object"&&ce!==null&&(X=Qr(ce)),N=s.getDerivedStateFromProps,(ce=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Ce||he!==X)&&cy(n,m,o,X),Hs=!1,he=n.memoizedState,m.state=he,vu(n,o,m,f),yu();var ve=n.memoizedState;T!==Ce||he!==ve||Hs||t!==null&&t.dependencies!==null&&Ac(t.dependencies)?(typeof N=="function"&&(pd(n,s,N,o),ve=n.memoizedState),(be=Hs||uy(n,s,be,o,he,ve,X)||t!==null&&t.dependencies!==null&&Ac(t.dependencies))?(ce||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ve,X),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ve,X)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ve),m.props=o,m.state=ve,m.context=X,o=be):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Hc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Uo(n,t.child,null,f),n.child=Uo(n,null,s,f)):$r(t,n,s,f),n.memoizedState=m.state,t=n.child):t=gs(t,n,f),t}function Sy(t,n,s,o){return Do(),n.flags|=256,$r(t,n,s,o),n.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:mg()}}function wd(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=oa),t}function Cy(t,n,s){var o=n.pendingProps,f=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(cr.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(tn){if(f?Ys(n):Ws(),(t=Wn)?(t=kv(t,Ta),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Wa,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},s=ag(t),s.return=n,n.child=s,Kr=n,Wn=null)):t=null,t===null)throw js(n);return im(t)?n.lanes=32:n.lanes=536870912,null}var N=o.children;return o=o.fallback,f?(Ws(),f=n.mode,N=qc({mode:"hidden",children:N},f),o=Mo(o,f,s,null),N.return=n,o.return=n,N.sibling=o,n.child=N,o=n.child,o.memoizedState=Ed(s),o.childLanes=wd(t,T,s),n.memoizedState=bd,Tu(null,o)):(Ys(n),Td(n,N))}var X=t.memoizedState;if(X!==null&&(N=X.dehydrated,N!==null)){if(m)n.flags&256?(Ys(n),n.flags&=-257,n=Ad(t,n,s)):n.memoizedState!==null?(Ws(),n.child=t.child,n.flags|=128,n=null):(Ws(),N=o.fallback,f=n.mode,o=qc({mode:"visible",children:o.children},f),N=Mo(N,f,s,null),N.flags|=2,o.return=n,N.return=n,o.sibling=N,n.child=o,Uo(n,t.child,null,s),o=n.child,o.memoizedState=Ed(s),o.childLanes=wd(t,T,s),n.memoizedState=bd,n=Tu(null,o));else if(Ys(n),im(N)){if(T=N.nextSibling&&N.nextSibling.dataset,T)var ce=T.dgst;T=ce,o=Error(a(419)),o.stack="",o.digest=T,fu({value:o,source:null,stack:null}),n=Ad(t,n,s)}else if(vr||ll(t,n,s,!1),T=(s&t.childLanes)!==0,vr||T){if(T=Vn,T!==null&&(o=gi(T,s),o!==0&&o!==X.retryLane))throw X.retryLane=o,Oi(t,o),Yi(T,t,o),vd;rm(N)||Zc(),n=Ad(t,n,s)}else rm(N)?(n.flags|=192,n.child=t.child,n=null):(t=X.treeContext,Wn=Sa(N.nextSibling),Kr=n,tn=!0,Bs=null,Ta=!1,t!==null&&lg(n,t),n=Td(n,o.children),n.flags|=4096);return n}return f?(Ws(),N=o.fallback,f=n.mode,X=t.child,ce=X.sibling,o=cs(X,{mode:"hidden",children:o.children}),o.subtreeFlags=X.subtreeFlags&65011712,ce!==null?N=cs(ce,N):(N=Mo(N,f,s,null),N.flags|=2),N.return=n,o.return=n,o.sibling=N,n.child=o,Tu(null,o),o=n.child,N=t.child.memoizedState,N===null?N=Ed(s):(f=N.cachePool,f!==null?(X=gr._currentValue,f=f.parent!==X?{parent:X,pool:X}:f):f=mg(),N={baseLanes:N.baseLanes|s,cachePool:f}),o.memoizedState=N,o.childLanes=wd(t,T,s),n.memoizedState=bd,Tu(t.child,o)):(Ys(n),s=t.child,t=s.sibling,s=cs(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=s,n.memoizedState=null,s)}function Td(t,n){return n=qc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function qc(t,n){return t=ci(22,t,null,n),t.lanes=0,t}function Ad(t,n,s){return Uo(n,t.child,null,s),t=Td(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ry(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),zh(t.return,n,s)}function Sd(t,n,s,o,f,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=s,T.tailMode=f,T.treeForkCount=m)}function Iy(t,n,s){var o=n.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var T=cr.current,N=(T&2)!==0;if(N?(T=T&1|2,n.flags|=128):T&=1,Se(cr,T),$r(t,n,o,s),o=tn?cu:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,s,n);else if(t.tag===19)Ry(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&Dc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Sd(n,!1,f,s,m,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Dc(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Sd(n,!0,s,null,m,o);break;case"together":Sd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function gs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Qs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ll(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=cs(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=cs(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Cd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ac(t)))}function K1(t,n,s){switch(n.tag){case 3:ft(n,n.stateNode.containerInfo),Fs(n,gr,t.memoizedState.cache),Do();break;case 27:case 5:kt(n);break;case 4:ft(n,n.stateNode.containerInfo);break;case 10:Fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,$h(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ys(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Cy(t,n,s):(Ys(n),t=gs(t,n,s),t!==null?t.sibling:null);Ys(n);break;case 19:var f=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ll(t,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return Iy(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Se(cr,cr.current),o)break;return null;case 22:return n.lanes=0,by(t,n,s,n.pendingProps);case 24:Fs(n,gr,t.memoizedState.cache)}return gs(t,n,s)}function xy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)vr=!0;else{if(!Cd(t,s)&&(n.flags&128)===0)return vr=!1,K1(t,n,s);vr=(t.flags&131072)!==0}else vr=!1,tn&&(n.flags&1048576)!==0&&og(n,cu,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Po(n.elementType),n.type=t,typeof t=="function")Mh(t)?(o=Bo(t,o),n.tag=1,n=Ay(null,n,t,o,s)):(n.tag=0,n=_d(null,n,t,o,s));else{if(t!=null){var f=t.$$typeof;if(f===tt){n.tag=11,n=yy(null,n,t,o,s);break e}else if(f===Y){n.tag=14,n=vy(null,n,t,o,s);break e}}throw n=Z(t)||t,Error(a(306,n,""))}}return n;case 0:return _d(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=Bo(o,n.pendingProps),Ay(t,n,o,f,s);case 3:e:{if(ft(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var m=n.memoizedState;f=m.element,Yh(t,n),vu(n,o,null,s);var T=n.memoizedState;if(o=T.cache,Fs(n,gr,o),o!==m.cache&&Bh(n,[gr],s,!0),yu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Sy(t,n,o,s);break e}else if(o!==f){f=ba(Error(a(424)),n),fu(f),n=Sy(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wn=Sa(t.firstChild),Kr=n,tn=!0,Bs=null,Ta=!0,s=bg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Do(),o===f){n=gs(t,n,s);break e}$r(t,n,o,s)}n=n.child}return n;case 26:return Hc(t,n),t===null?(s=Bv(n.type,null,n.pendingProps,null))?n.memoizedState=s:tn||(s=n.type,t=n.pendingProps,o=of(Ye.current).createElement(s),o[hn]=n,o[Gn]=t,Jr(o,s,t),On(o),n.stateNode=o):n.memoizedState=Bv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return kt(n),t===null&&tn&&(o=n.stateNode=Lv(n.type,n.pendingProps,Ye.current),Kr=n,Ta=!0,f=Wn,to(n.type)?(am=f,Wn=Sa(o.firstChild)):Wn=f),$r(t,n,n.pendingProps.children,s),Hc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&tn&&((f=o=Wn)&&(o=Sw(o,n.type,n.pendingProps,Ta),o!==null?(n.stateNode=o,Kr=n,Wn=Sa(o.firstChild),Ta=!1,f=!0):f=!1),f||js(n)),kt(n),f=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,em(f,m)?o=null:T!==null&&em(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Zh(t,n,B1,null,null,s),Uu._currentValue=f),Hc(t,n),$r(t,n,o,s),n.child;case 6:return t===null&&tn&&((t=s=Wn)&&(s=Cw(s,n.pendingProps,Ta),s!==null?(n.stateNode=s,Kr=n,Wn=null,t=!0):t=!1),t||js(n)),null;case 13:return Cy(t,n,s);case 4:return ft(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Uo(n,null,o,s):$r(t,n,o,s),n.child;case 11:return yy(t,n,n.type,n.pendingProps,s);case 7:return $r(t,n,n.pendingProps,s),n.child;case 8:return $r(t,n,n.pendingProps.children,s),n.child;case 12:return $r(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Fs(n,n.type,o.value),$r(t,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,ko(n),f=Qr(f),o=o(f),n.flags|=1,$r(t,n,o,s),n.child;case 14:return vy(t,n,n.type,n.pendingProps,s);case 15:return _y(t,n,n.type,n.pendingProps,s);case 19:return Iy(t,n,s);case 31:return X1(t,n,s);case 22:return by(t,n,s,n.pendingProps);case 24:return ko(n),o=Qr(gr),t===null?(f=Hh(),f===null&&(f=Vn,m=jh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),n.memoizedState={parent:o,cache:f},Gh(n),Fs(n,gr,f)):((t.lanes&s)!==0&&(Yh(t,n),vu(n,null,null,s),yu()),f=t.memoizedState,m=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Fs(n,gr,o)):(o=m.cache,Fs(n,gr,o),o!==f.cache&&Bh(n,[gr],s,!0))),$r(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ys(t){t.flags|=4}function Rd(t,n,s,o,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(nv())t.flags|=8192;else throw Lo=Ic,qh}else t.flags&=-16777217}function Ny(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gv(n))if(nv())t.flags|=8192;else throw Lo=Ic,qh}function Gc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?_t():536870912,t.lanes|=n,bl|=n)}function Au(t,n){if(!tn)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Xn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function Q1(t,n,s){var o=n.pendingProps;switch(Vh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(n),null;case 1:return Xn(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ds(gr),Et(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ol(n)?ys(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lh())),Xn(n),null;case 26:var f=n.type,m=n.memoizedState;return t===null?(ys(n),m!==null?(Xn(n),Ny(n,m)):(Xn(n),Rd(n,f,null,o,s))):m?m!==t.memoizedState?(ys(n),Xn(n),Ny(n,m)):(Xn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ys(n),Xn(n),Rd(n,f,t,o,s)),null;case 27:if(ht(n),s=Ye.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ys(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Xn(n),null}t=Ae.current,ol(n)?ug(n):(t=Lv(f,o,s),n.stateNode=t,ys(n))}return Xn(n),null;case 5:if(ht(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ys(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Xn(n),null}if(m=Ae.current,ol(n))ug(n);else{var T=of(Ye.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(f,{is:o.is}):T.createElement(f)}}m[hn]=n,m[Gn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Jr(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ys(n)}}return Xn(n),Rd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ys(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ye.current,ol(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,f=Kr,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[hn]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Cv(t.nodeValue,s)),t||js(n,!0)}else t=of(t).createTextNode(o),t[hn]=n,n.stateNode=t}return Xn(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=ol(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[hn]=n}else Do(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xn(n),t=!1}else s=Lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(aa(n),n):(aa(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Xn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ol(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[hn]=n}else Do(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xn(n),f=!1}else f=Lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(aa(n),n):(aa(n),null)}return aa(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Gc(n,n.updateQueue),Xn(n),null);case 4:return Et(),t===null&&Kd(n.stateNode.containerInfo),Xn(n),null;case 10:return ds(n.type),Xn(n),null;case 19:if(oe(cr),o=n.memoizedState,o===null)return Xn(n),null;if(f=(n.flags&128)!==0,m=o.rendering,m===null)if(f)Au(o,!1);else{if(ir!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Dc(t),m!==null){for(n.flags|=128,Au(o,!1),t=m.updateQueue,n.updateQueue=t,Gc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)ig(s,t),s=s.sibling;return Se(cr,cr.current&1|2),tn&&fs(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Ht()>Qc&&(n.flags|=128,f=!0,Au(o,!1),n.lanes=4194304)}else{if(!f)if(t=Dc(m),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,Gc(n,t),Au(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!tn)return Xn(n),null}else 2*Ht()-o.renderingStartTime>Qc&&s!==536870912&&(n.flags|=128,f=!0,Au(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ht(),t.sibling=null,s=cr.current,Se(cr,f?s&1|2:s&1),tn&&fs(n,o.treeForkCount),t):(Xn(n),null);case 22:case 23:return aa(n),Qh(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Xn(n),n.subtreeFlags&6&&(n.flags|=8192)):Xn(n),s=n.updateQueue,s!==null&&Gc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&oe(Vo),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ds(gr),Xn(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function $1(t,n){switch(Vh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ds(gr),Et(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ht(n),null;case 31:if(n.memoizedState!==null){if(aa(n),n.alternate===null)throw Error(a(340));Do()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(aa(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Do()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(cr),null;case 4:return Et(),null;case 10:return ds(n.type),null;case 22:case 23:return aa(n),Qh(),t!==null&&oe(Vo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ds(gr),null;case 25:return null;default:return null}}function My(t,n){switch(Vh(n),n.tag){case 3:ds(gr),Et();break;case 26:case 27:case 5:ht(n);break;case 4:Et();break;case 31:n.memoizedState!==null&&aa(n);break;case 13:aa(n);break;case 19:oe(cr);break;case 10:ds(n.type);break;case 22:case 23:aa(n),Qh(),t!==null&&oe(Vo);break;case 24:ds(gr)}}function Su(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&t)===t){o=void 0;var m=s.create,T=s.inst;o=m(),T.destroy=o}s=s.next}while(s!==f)}}catch(N){Rn(n,n.return,N)}}function Xs(t,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var T=o.inst,N=T.destroy;if(N!==void 0){T.destroy=void 0,f=n;var X=s,ce=N;try{ce()}catch(be){Rn(f,X,be)}}}o=o.next}while(o!==m)}}catch(be){Rn(n,n.return,be)}}function Dy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{wg(n,s)}catch(o){Rn(t,t.return,o)}}}function Oy(t,n,s){s.props=Bo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Rn(t,n,o)}}function Cu(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(f){Rn(t,n,f)}}function Ka(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){Rn(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Rn(t,n,f)}else s.current=null}function ky(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){Rn(t,t.return,f)}}function Id(t,n,s){try{var o=t.stateNode;_w(o,t.type,s,n),o[Gn]=n}catch(f){Rn(t,t.return,f)}}function Vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&to(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&to(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ri));else if(o!==4&&(o===27&&to(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Nd(t,n,s),t=t.sibling;t!==null;)Nd(t,n,s),t=t.sibling}function Yc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&to(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Yc(t,n,s),t=t.sibling;t!==null;)Yc(t,n,s),t=t.sibling}function Py(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Jr(n,o,s),n[hn]=t,n[Gn]=s}catch(m){Rn(t,t.return,m)}}var vs=!1,_r=!1,Md=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,Or=null;function J1(t,n){if(t=t.containerInfo,Jd=mf,t=re(t),je(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var T=0,N=-1,X=-1,ce=0,be=0,Ce=t,he=null;t:for(;;){for(var ve;Ce!==s||f!==0&&Ce.nodeType!==3||(N=T+f),Ce!==m||o!==0&&Ce.nodeType!==3||(X=T+o),Ce.nodeType===3&&(T+=Ce.nodeValue.length),(ve=Ce.firstChild)!==null;)he=Ce,Ce=ve;for(;;){if(Ce===t)break t;if(he===s&&++ce===f&&(N=T),he===m&&++be===o&&(X=T),(ve=Ce.nextSibling)!==null)break;Ce=he,he=Ce.parentNode}Ce=ve}s=N===-1||X===-1?null:{start:N,end:X}}else s=null}s=s||{start:0,end:0}}else s=null;for(Zd={focusedElem:t,selectionRange:s},mf=!1,Or=n;Or!==null;)if(n=Or,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Or=t;else for(;Or!==null;){switch(n=Or,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=n,f=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var ct=Bo(s.type,f);t=o.getSnapshotBeforeUpdate(ct,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Rn(s,s.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)nm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Or=t;break}Or=n.return}}function Uy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:bs(t,s),o&4&&Su(5,s);break;case 1:if(bs(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){Rn(s,s.return,T)}else{var f=Bo(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Rn(s,s.return,T)}}o&64&&Dy(s),o&512&&Cu(s,s.return);break;case 3:if(bs(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{wg(t,n)}catch(T){Rn(s,s.return,T)}}break;case 27:n===null&&o&4&&Py(s);case 26:case 5:bs(t,s),n===null&&o&4&&ky(s),o&512&&Cu(s,s.return);break;case 12:bs(t,s);break;case 31:bs(t,s),o&4&&jy(t,s);break;case 13:bs(t,s),o&4&&Fy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=ow.bind(null,s),Rw(t,s))));break;case 22:if(o=s.memoizedState!==null||vs,!o){n=n!==null&&n.memoizedState!==null||_r,f=vs;var m=_r;vs=o,(_r=n)&&!m?Es(t,s,(s.subtreeFlags&8772)!==0):bs(t,s),vs=f,_r=m}break;case 30:break;default:bs(t,s)}}function zy(t){var n=t.alternate;n!==null&&(t.alternate=null,zy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&tr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var $n=null,Fi=!1;function _s(t,n,s){for(s=s.child;s!==null;)By(t,n,s),s=s.sibling}function By(t,n,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount($e,s)}catch{}switch(s.tag){case 26:_r||Ka(s,n),_s(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:_r||Ka(s,n);var o=$n,f=Fi;to(s.type)&&($n=s.stateNode,Fi=!1),_s(t,n,s),Vu(s.stateNode),$n=o,Fi=f;break;case 5:_r||Ka(s,n);case 6:if(o=$n,f=Fi,$n=null,_s(t,n,s),$n=o,Fi=f,$n!==null)if(Fi)try{($n.nodeType===9?$n.body:$n.nodeName==="HTML"?$n.ownerDocument.body:$n).removeChild(s.stateNode)}catch(m){Rn(s,n,m)}else try{$n.removeChild(s.stateNode)}catch(m){Rn(s,n,m)}break;case 18:$n!==null&&(Fi?(t=$n,Dv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Il(t)):Dv($n,s.stateNode));break;case 4:o=$n,f=Fi,$n=s.stateNode.containerInfo,Fi=!0,_s(t,n,s),$n=o,Fi=f;break;case 0:case 11:case 14:case 15:Xs(2,s,n),_r||Xs(4,s,n),_s(t,n,s);break;case 1:_r||(Ka(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Oy(s,n,o)),_s(t,n,s);break;case 21:_s(t,n,s);break;case 22:_r=(o=_r)||s.memoizedState!==null,_s(t,n,s),_r=o;break;default:_s(t,n,s)}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Il(t)}catch(s){Rn(n,n.return,s)}}}function Fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(s){Rn(n,n.return,s)}}function Z1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ly),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ly),n;default:throw Error(a(435,t.tag))}}function Wc(t,n){var s=Z1(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var f=lw.bind(null,t,o);o.then(f,f)}})}function Hi(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],m=t,T=n,N=T;e:for(;N!==null;){switch(N.tag){case 27:if(to(N.type)){$n=N.stateNode,Fi=!1;break e}break;case 5:$n=N.stateNode,Fi=!1;break e;case 3:case 4:$n=N.stateNode.containerInfo,Fi=!0;break e}N=N.return}if($n===null)throw Error(a(160));By(m,T,f),$n=null,Fi=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hy(n,t),n=n.sibling}var Va=null;function Hy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Hi(n,t),qi(t),o&4&&(Xs(3,t,t.return),Su(3,t),Xs(5,t,t.return));break;case 1:Hi(n,t),qi(t),o&512&&(_r||s===null||Ka(s,s.return)),o&64&&vs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=Va;if(Hi(n,t),qi(t),o&512&&(_r||s===null||Ka(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ir]||m[hn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Jr(m,o,s),m[hn]=t,On(m),o=m;break e;case"link":var T=Hv("link","href",f).get(o+(s.href||""));if(T){for(var N=0;N<T.length;N++)if(m=T[N],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(N,1);break t}}m=f.createElement(o),Jr(m,o,s),f.head.appendChild(m);break;case"meta":if(T=Hv("meta","content",f).get(o+(s.content||""))){for(N=0;N<T.length;N++)if(m=T[N],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(N,1);break t}}m=f.createElement(o),Jr(m,o,s),f.head.appendChild(m);break;default:throw Error(a(468,o))}m[hn]=t,On(m),o=m}t.stateNode=o}else qv(f,t.type,t.stateNode);else t.stateNode=Fv(f,o,t.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?qv(f,t.type,t.stateNode):Fv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Id(t,t.memoizedProps,s.memoizedProps)}break;case 27:Hi(n,t),qi(t),o&512&&(_r||s===null||Ka(s,s.return)),s!==null&&o&4&&Id(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Hi(n,t),qi(t),o&512&&(_r||s===null||Ka(s,s.return)),t.flags&32){f=t.stateNode;try{nr(f,"")}catch(ct){Rn(t,t.return,ct)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Id(t,f,s!==null?s.memoizedProps:f)),o&1024&&(Md=!0);break;case 6:if(Hi(n,t),qi(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ct){Rn(t,t.return,ct)}}break;case 3:if(cf=null,f=Va,Va=lf(n.containerInfo),Hi(n,t),Va=f,qi(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(ct){Rn(t,t.return,ct)}Md&&(Md=!1,qy(t));break;case 4:o=Va,Va=lf(t.stateNode.containerInfo),Hi(n,t),qi(t),Va=o;break;case 12:Hi(n,t),qi(t);break;case 31:Hi(n,t),qi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wc(t,o)));break;case 13:Hi(n,t),qi(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Kc=Ht()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wc(t,o)));break;case 22:f=t.memoizedState!==null;var X=s!==null&&s.memoizedState!==null,ce=vs,be=_r;if(vs=ce||f,_r=be||X,Hi(n,t),_r=be,vs=ce,qi(t),o&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||X||vs||_r||jo(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){X=s=n;try{if(m=X.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{N=X.stateNode;var Ce=X.memoizedProps.style,he=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;N.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(ct){Rn(X,X.return,ct)}}}else if(n.tag===6){if(s===null){X=n;try{X.stateNode.nodeValue=f?"":X.memoizedProps}catch(ct){Rn(X,X.return,ct)}}}else if(n.tag===18){if(s===null){X=n;try{var ve=X.stateNode;f?Ov(ve,!0):Ov(X.stateNode,!1)}catch(ct){Rn(X,X.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Wc(t,s))));break;case 19:Hi(n,t),qi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wc(t,o)));break;case 30:break;case 21:break;default:Hi(n,t),qi(t)}}function qi(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Vy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,m=xd(t);Yc(t,m,f);break;case 5:var T=s.stateNode;s.flags&32&&(nr(T,""),s.flags&=-33);var N=xd(t);Yc(t,N,T);break;case 3:case 4:var X=s.stateNode.containerInfo,ce=xd(t);Nd(t,ce,X);break;default:throw Error(a(161))}}catch(be){Rn(t,t.return,be)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;qy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function bs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Uy(t,n.alternate,n),n=n.sibling}function jo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xs(4,n,n.return),jo(n);break;case 1:Ka(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Oy(n,n.return,s),jo(n);break;case 27:Vu(n.stateNode);case 26:case 5:Ka(n,n.return),jo(n);break;case 22:n.memoizedState===null&&jo(n);break;case 30:jo(n);break;default:jo(n)}t=t.sibling}}function Es(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:Es(f,m,s),Su(4,m);break;case 1:if(Es(f,m,s),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ce){Rn(o,o.return,ce)}if(o=m,f=o.updateQueue,f!==null){var N=o.stateNode;try{var X=f.shared.hiddenCallbacks;if(X!==null)for(f.shared.hiddenCallbacks=null,f=0;f<X.length;f++)Eg(X[f],N)}catch(ce){Rn(o,o.return,ce)}}s&&T&64&&Dy(m),Cu(m,m.return);break;case 27:Py(m);case 26:case 5:Es(f,m,s),s&&o===null&&T&4&&ky(m),Cu(m,m.return);break;case 12:Es(f,m,s);break;case 31:Es(f,m,s),s&&T&4&&jy(f,m);break;case 13:Es(f,m,s),s&&T&4&&Fy(f,m);break;case 22:m.memoizedState===null&&Es(f,m,s),Cu(m,m.return);break;case 30:break;default:Es(f,m,s)}n=n.sibling}}function Dd(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&hu(s))}function Od(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hu(t))}function Pa(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gy(t,n,s,o),n=n.sibling}function Gy(t,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Pa(t,n,s,o),f&2048&&Su(9,n);break;case 1:Pa(t,n,s,o);break;case 3:Pa(t,n,s,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hu(t)));break;case 12:if(f&2048){Pa(t,n,s,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,N=m.onPostCommit;typeof N=="function"&&N(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(X){Rn(n,n.return,X)}}else Pa(t,n,s,o);break;case 31:Pa(t,n,s,o);break;case 13:Pa(t,n,s,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Pa(t,n,s,o):Ru(t,n):m._visibility&2?Pa(t,n,s,o):(m._visibility|=2,yl(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Dd(T,n);break;case 24:Pa(t,n,s,o),f&2048&&Od(n.alternate,n);break;default:Pa(t,n,s,o)}}function yl(t,n,s,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,N=s,X=o,ce=T.flags;switch(T.tag){case 0:case 11:case 15:yl(m,T,N,X,f),Su(8,T);break;case 23:break;case 22:var be=T.stateNode;T.memoizedState!==null?be._visibility&2?yl(m,T,N,X,f):Ru(m,T):(be._visibility|=2,yl(m,T,N,X,f)),f&&ce&2048&&Dd(T.alternate,T);break;case 24:yl(m,T,N,X,f),f&&ce&2048&&Od(T.alternate,T);break;default:yl(m,T,N,X,f)}n=n.sibling}}function Ru(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,f=o.flags;switch(o.tag){case 22:Ru(s,o),f&2048&&Dd(o.alternate,o);break;case 24:Ru(s,o),f&2048&&Od(o.alternate,o);break;default:Ru(s,o)}n=n.sibling}}var Iu=8192;function vl(t,n,s){if(t.subtreeFlags&Iu)for(t=t.child;t!==null;)Yy(t,n,s),t=t.sibling}function Yy(t,n,s){switch(t.tag){case 26:vl(t,n,s),t.flags&Iu&&t.memoizedState!==null&&zw(s,Va,t.memoizedState,t.memoizedProps);break;case 5:vl(t,n,s);break;case 3:case 4:var o=Va;Va=lf(t.stateNode.containerInfo),vl(t,n,s),Va=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Iu,Iu=16777216,vl(t,n,s),Iu=o):vl(t,n,s));break;default:vl(t,n,s)}}function Wy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Or=o,Ky(o,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:xu(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:xu(t);break;case 12:xu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Xc(t)):xu(t);break;default:xu(t)}}function Xc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Or=o,Ky(o,t)}Wy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xs(8,n,n.return),Xc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Xc(n));break;default:Xc(n)}t=t.sibling}}function Ky(t,n){for(;Or!==null;){var s=Or;switch(s.tag){case 0:case 11:case 15:Xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:hu(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Or=o;else e:for(s=t;Or!==null;){o=Or;var f=o.sibling,m=o.return;if(zy(o),o===s){Or=null;break e}if(f!==null){f.return=m,Or=f;break e}Or=m}}}var ew={getCacheForType:function(t){var n=Qr(gr),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Qr(gr).controller.signal}},tw=typeof WeakMap=="function"?WeakMap:Map,En=0,Vn=null,Gt=null,Xt=0,Cn=0,sa=null,Ks=!1,_l=!1,kd=!1,ws=0,ir=0,Qs=0,Fo=0,Vd=0,oa=0,bl=0,Nu=null,Gi=null,Pd=!1,Kc=0,Qy=0,Qc=1/0,$c=null,$s=null,Sr=0,Js=null,El=null,Ts=0,Ld=0,Ud=null,$y=null,Mu=0,zd=null;function la(){return(En&2)!==0&&Xt!==0?Xt&-Xt:G.T!==null?Gd():Ki()}function Jy(){if(oa===0)if((Xt&536870912)===0||tn){var t=Ln;Ln<<=1,(Ln&3932160)===0&&(Ln=262144),oa=t}else oa=536870912;return t=ia.current,t!==null&&(t.flags|=32),oa}function Yi(t,n,s){(t===Vn&&(Cn===2||Cn===9)||t.cancelPendingCommit!==null)&&(wl(t,0),Zs(t,Xt,oa,!1)),bt(t,s),((En&2)===0||t!==Vn)&&(t===Vn&&((En&2)===0&&(Fo|=s),ir===4&&Zs(t,Xt,oa,!1)),Qa(t))}function Zy(t,n,s){if((En&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||er(t,n),f=o?iw(t,n):jd(t,n,!0),m=o;do{if(f===0){_l&&!o&&Zs(t,n,0,!1);break}else{if(s=t.current.alternate,m&&!nw(s)){f=jd(t,n,!1),m=!1;continue}if(f===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var N=t;f=Nu;var X=N.current.memoizedState.isDehydrated;if(X&&(wl(N,T).flags|=256),T=jd(N,T,!1),T!==2){if(kd&&!X){N.errorRecoveryDisabledLanes|=m,Fo|=m,f=4;break e}m=Gi,Gi=f,m!==null&&(Gi===null?Gi=m:Gi.push.apply(Gi,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){wl(t,0),Zs(t,n,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Zs(o,n,oa,!Ks);break e;case 2:Gi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Kc+300-Ht(),10<f)){if(Zs(o,n,oa,!Ks),Un(o,0,!0)!==0)break e;Ts=n,o.timeoutHandle=Nv(ev.bind(null,o,s,Gi,$c,Pd,n,oa,Fo,bl,Ks,m,"Throttled",-0,0),f);break e}ev(o,s,Gi,$c,Pd,n,oa,Fo,bl,Ks,m,null,-0,0)}}break}while(!0);Qa(t)}function ev(t,n,s,o,f,m,T,N,X,ce,be,Ce,he,ve){if(t.timeoutHandle=-1,Ce=n.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},Yy(n,m,Ce);var ct=(m&62914560)===m?Kc-Ht():(m&4194048)===m?Qy-Ht():0;if(ct=Bw(Ce,ct),ct!==null){Ts=m,t.cancelPendingCommit=ct(lv.bind(null,t,n,m,s,o,f,T,N,X,be,Ce,null,he,ve)),Zs(t,m,T,!ce);return}}lv(t,n,m,s,o,f,T,N,X)}function nw(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],m=f.getSnapshot;f=f.value;try{if(!fe(m(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zs(t,n,s,o){n&=~Vd,n&=~Fo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var m=31-Fe(f),T=1<<m;o[m]=-1,f&=~T}s!==0&&sr(t,s,n)}function Jc(){return(En&6)===0?(Du(0),!1):!0}function Bd(){if(Gt!==null){if(Cn===0)var t=Gt.return;else t=Gt,hs=Oo=null,nd(t),hl=null,mu=0,t=Gt;for(;t!==null;)My(t.alternate,t),t=t.return;Gt=null}}function wl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,ww(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ts=0,Bd(),Vn=t,Gt=s=cs(t.current,null),Xt=n,Cn=0,sa=null,Ks=!1,_l=er(t,n),kd=!1,bl=oa=Vd=Fo=Qs=ir=0,Gi=Nu=null,Pd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-Fe(o),m=1<<f;n|=t[f],o&=~m}return ws=n,Ga(),s}function tv(t,n){Pt=null,G.H=wu,n===fl||n===Rc?(n=yg(),Cn=3):n===qh?(n=yg(),Cn=4):Cn=n===vd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sa=n,Gt===null&&(ir=1,jc(t,ba(n,t.current)))}function nv(){var t=ia.current;return t===null?!0:(Xt&4194048)===Xt?Aa===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?t===Aa:!1}function rv(){var t=G.H;return G.H=wu,t===null?wu:t}function iv(){var t=G.A;return G.A=ew,t}function Zc(){ir=4,Ks||(Xt&4194048)!==Xt&&ia.current!==null||(_l=!0),(Qs&134217727)===0&&(Fo&134217727)===0||Vn===null||Zs(Vn,Xt,oa,!1)}function jd(t,n,s){var o=En;En|=2;var f=rv(),m=iv();(Vn!==t||Xt!==n)&&($c=null,wl(t,n)),n=!1;var T=ir;e:do try{if(Cn!==0&&Gt!==null){var N=Gt,X=sa;switch(Cn){case 8:Bd(),T=6;break e;case 3:case 2:case 9:case 6:ia.current===null&&(n=!0);var ce=Cn;if(Cn=0,sa=null,Tl(t,N,X,ce),s&&_l){T=0;break e}break;default:ce=Cn,Cn=0,sa=null,Tl(t,N,X,ce)}}rw(),T=ir;break}catch(be){tv(t,be)}while(!0);return n&&t.shellSuspendCounter++,hs=Oo=null,En=o,G.H=f,G.A=m,Gt===null&&(Vn=null,Xt=0,Ga()),T}function rw(){for(;Gt!==null;)av(Gt)}function iw(t,n){var s=En;En|=2;var o=rv(),f=iv();Vn!==t||Xt!==n?($c=null,Qc=Ht()+500,wl(t,n)):_l=er(t,n);e:do try{if(Cn!==0&&Gt!==null){n=Gt;var m=sa;t:switch(Cn){case 1:Cn=0,sa=null,Tl(t,n,m,1);break;case 2:case 9:if(pg(m)){Cn=0,sa=null,sv(n);break}n=function(){Cn!==2&&Cn!==9||Vn!==t||(Cn=7),Qa(t)},m.then(n,n);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:pg(m)?(Cn=0,sa=null,sv(n)):(Cn=0,sa=null,Tl(t,n,m,7));break;case 5:var T=null;switch(Gt.tag){case 26:T=Gt.memoizedState;case 5:case 27:var N=Gt;if(T?Gv(T):N.stateNode.complete){Cn=0,sa=null;var X=N.sibling;if(X!==null)Gt=X;else{var ce=N.return;ce!==null?(Gt=ce,ef(ce)):Gt=null}break t}}Cn=0,sa=null,Tl(t,n,m,5);break;case 6:Cn=0,sa=null,Tl(t,n,m,6);break;case 8:Bd(),ir=6;break e;default:throw Error(a(462))}}aw();break}catch(be){tv(t,be)}while(!0);return hs=Oo=null,G.H=o,G.A=f,En=s,Gt!==null?0:(Vn=null,Xt=0,Ga(),ir)}function aw(){for(;Gt!==null&&!Xi();)av(Gt)}function av(t){var n=xy(t.alternate,t,ws);t.memoizedProps=t.pendingProps,n===null?ef(t):Gt=n}function sv(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Ty(s,n,n.pendingProps,n.type,void 0,Xt);break;case 11:n=Ty(s,n,n.pendingProps,n.type.render,n.ref,Xt);break;case 5:nd(n);default:My(s,n),n=Gt=ig(n,ws),n=xy(s,n,ws)}t.memoizedProps=t.pendingProps,n===null?ef(t):Gt=n}function Tl(t,n,s,o){hs=Oo=null,nd(n),hl=null,mu=0;var f=n.return;try{if(W1(t,f,n,s,Xt)){ir=1,jc(t,ba(s,t.current)),Gt=null;return}}catch(m){if(f!==null)throw Gt=f,m;ir=1,jc(t,ba(s,t.current)),Gt=null;return}n.flags&32768?(tn||o===1?t=!0:_l||(Xt&536870912)!==0?t=!1:(Ks=t=!0,(o===2||o===9||o===3||o===6)&&(o=ia.current,o!==null&&o.tag===13&&(o.flags|=16384))),ov(n,t)):ef(n)}function ef(t){var n=t;do{if((n.flags&32768)!==0){ov(n,Ks);return}t=n.return;var s=Q1(n.alternate,n,ws);if(s!==null){Gt=s;return}if(n=n.sibling,n!==null){Gt=n;return}Gt=n=t}while(n!==null);ir===0&&(ir=5)}function ov(t,n){do{var s=$1(t.alternate,t);if(s!==null){s.flags&=32767,Gt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=s}while(t!==null);ir=6,Gt=null}function lv(t,n,s,o,f,m,T,N,X){t.cancelPendingCommit=null;do tf();while(Sr!==0);if((En&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=il,rn(t,s,m,T,N,X),t===Vn&&(Gt=Vn=null,Xt=0),El=n,Js=t,Ts=s,Ld=m,Ud=f,$y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uw(v,function(){return dv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,f=Q.p,Q.p=2,T=En,En|=4;try{J1(t,n,s)}finally{En=T,Q.p=f,G.T=o}}Sr=1,uv(),cv(),fv()}}function uv(){if(Sr===1){Sr=0;var t=Js,n=El,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=Q.p;Q.p=2;var f=En;En|=4;try{Hy(n,t);var m=Zd,T=re(t.containerInfo),N=m.focusedElem,X=m.selectionRange;if(T!==N&&N&&N.ownerDocument&&lt(N.ownerDocument.documentElement,N)){if(X!==null&&je(N)){var ce=X.start,be=X.end;if(be===void 0&&(be=ce),"selectionStart"in N)N.selectionStart=ce,N.selectionEnd=Math.min(be,N.value.length);else{var Ce=N.ownerDocument||document,he=Ce&&Ce.defaultView||window;if(he.getSelection){var ve=he.getSelection(),ct=N.textContent.length,Tt=Math.min(X.start,ct),Mn=X.end===void 0?Tt:Math.min(X.end,ct);!ve.extend&&Tt>Mn&&(T=Mn,Mn=Tt,Tt=T);var ie=Je(N,Tt),K=Je(N,Mn);if(ie&&K&&(ve.rangeCount!==1||ve.anchorNode!==ie.node||ve.anchorOffset!==ie.offset||ve.focusNode!==K.node||ve.focusOffset!==K.offset)){var le=Ce.createRange();le.setStart(ie.node,ie.offset),ve.removeAllRanges(),Tt>Mn?(ve.addRange(le),ve.extend(K.node,K.offset)):(le.setEnd(K.node,K.offset),ve.addRange(le))}}}}for(Ce=[],ve=N;ve=ve.parentNode;)ve.nodeType===1&&Ce.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Ce.length;N++){var we=Ce[N];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}mf=!!Jd,Zd=Jd=null}finally{En=f,Q.p=o,G.T=s}}t.current=n,Sr=2}}function cv(){if(Sr===2){Sr=0;var t=Js,n=El,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=Q.p;Q.p=2;var f=En;En|=4;try{Uy(t,n.alternate,n)}finally{En=f,Q.p=o,G.T=s}}Sr=3}}function fv(){if(Sr===4||Sr===3){Sr=0,Hn();var t=Js,n=El,s=Ts,o=$y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Sr=5:(Sr=0,El=Js=null,hv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&($s=null),We(s),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot($e,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,f=Q.p,Q.p=2,G.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var N=o[T];m(N.value,{componentStack:N.stack})}}finally{G.T=n,Q.p=f}}(Ts&3)!==0&&tf(),Qa(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===zd?Mu++:(Mu=0,zd=t):Mu=0,Du(0)}}function hv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hu(n)))}function tf(){return uv(),cv(),fv(),dv()}function dv(){if(Sr!==5)return!1;var t=Js,n=Ld;Ld=0;var s=We(Ts),o=G.T,f=Q.p;try{Q.p=32>s?32:s,G.T=null,s=Ud,Ud=null;var m=Js,T=Ts;if(Sr=0,El=Js=null,Ts=0,(En&6)!==0)throw Error(a(331));var N=En;if(En|=4,Xy(m.current),Gy(m,m.current,T,s),En=N,Du(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot($e,m)}catch{}return!0}finally{Q.p=f,G.T=o,hv(t,n)}}function mv(t,n,s){n=ba(s,n),n=yd(t.stateNode,n,2),t=Gs(t,n,2),t!==null&&(bt(t,2),Qa(t))}function Rn(t,n,s){if(t.tag===3)mv(t,t,s);else for(;n!==null;){if(n.tag===3){mv(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($s===null||!$s.has(o))){t=ba(s,t),s=py(2),o=Gs(n,s,2),o!==null&&(gy(s,o,n,t),bt(o,2),Qa(o));break}}n=n.return}}function Fd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new tw;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(kd=!0,f.add(s),t=sw.bind(null,t,n,s),n.then(t,t))}function sw(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Vn===t&&(Xt&s)===s&&(ir===4||ir===3&&(Xt&62914560)===Xt&&300>Ht()-Kc?(En&2)===0&&wl(t,0):Vd|=s,bl===Xt&&(bl=0)),Qa(t)}function pv(t,n){n===0&&(n=_t()),t=Oi(t,n),t!==null&&(bt(t,n),Qa(t))}function ow(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),pv(t,s)}function lw(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),pv(t,s)}function uw(t,n){return nn(t,n)}var nf=null,Al=null,Hd=!1,rf=!1,qd=!1,eo=0;function Qa(t){t!==Al&&t.next===null&&(Al===null?nf=Al=t:Al=Al.next=t),rf=!0,Hd||(Hd=!0,fw())}function Du(t,n){if(!qd&&rf){qd=!0;do for(var s=!1,o=nf;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var T=o.suspendedLanes,N=o.pingedLanes;m=(1<<31-Fe(42|t)+1)-1,m&=f&~(T&~N),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,_v(o,m))}else m=Xt,m=Un(o,o===Vn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||er(o,m)||(s=!0,_v(o,m));o=o.next}while(s);qd=!1}}function cw(){gv()}function gv(){rf=Hd=!1;var t=0;eo!==0&&Ew()&&(t=eo);for(var n=Ht(),s=null,o=nf;o!==null;){var f=o.next,m=yv(o,n);m===0?(o.next=null,s===null?nf=f:s.next=f,f===null&&(Al=s)):(s=o,(t!==0||(m&3)!==0)&&(rf=!0)),o=f}Sr!==0&&Sr!==5||Du(t),eo!==0&&(eo=0)}function yv(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Fe(m),N=1<<T,X=f[T];X===-1?((N&s)===0||(N&o)!==0)&&(f[T]=Pr(N,n)):X<=n&&(t.expiredLanes|=N),m&=~N}if(n=Vn,s=Xt,s=Un(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Cn===2||Cn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Sn(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||er(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Sn(o),We(s)){case 2:case 8:s=g;break;case 32:s=v;break;case 268435456:s=$;break;default:s=v}return o=vv.bind(null,t),s=nn(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Sn(o),t.callbackPriority=2,t.callbackNode=null,2}function vv(t,n){if(Sr!==0&&Sr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(tf()&&t.callbackNode!==s)return null;var o=Xt;return o=Un(t,t===Vn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Zy(t,o,n),yv(t,Ht()),t.callbackNode!=null&&t.callbackNode===s?vv.bind(null,t):null)}function _v(t,n){if(tf())return null;Zy(t,n,!0)}function fw(){Tw(function(){(En&6)!==0?nn(R,cw):gv()})}function Gd(){if(eo===0){var t=ul;t===0&&(t=Pn,Pn<<=1,(Pn&261888)===0&&(Pn=256)),eo=t}return eo}function bv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function Ev(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function hw(t,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var m=bv((f[Gn]||null).action),T=o.submitter;T&&(n=(n=T[Gn]||null)?bv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var N=new Ui("action","action",null,o,f);t.push({event:N,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(eo!==0){var X=T?Ev(f,T):new FormData(f);fd(s,{pending:!0,data:X,method:f.method,action:m},null,X)}}else typeof m=="function"&&(N.preventDefault(),X=T?Ev(f,T):new FormData(f),fd(s,{pending:!0,data:X,method:f.method,action:m},m,X))},currentTarget:f}]})}}for(var Yd=0;Yd<Di.length;Yd++){var Wd=Di[Yd],dw=Wd.toLowerCase(),mw=Wd[0].toUpperCase()+Wd.slice(1);Tn(dw,"on"+mw)}Tn(De,"onAnimationEnd"),Tn(Xe,"onAnimationIteration"),Tn(Bt,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Wt,"onTransitionRun"),Tn(Vt,"onTransitionStart"),Tn(qt,"onTransitionCancel"),Tn(sn,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function wv(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],f=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var N=o[T],X=N.instance,ce=N.currentTarget;if(N=N.listener,X!==m&&f.isPropagationStopped())break e;m=N,f.currentTarget=ce;try{m(f)}catch(be){Xr(be)}f.currentTarget=null,m=X}else for(T=0;T<o.length;T++){if(N=o[T],X=N.instance,ce=N.currentTarget,N=N.listener,X!==m&&f.isPropagationStopped())break e;m=N,f.currentTarget=ce;try{m(f)}catch(be){Xr(be)}f.currentTarget=null,m=X}}}}function Yt(t,n){var s=n[vi];s===void 0&&(s=n[vi]=new Set);var o=t+"__bubble";s.has(o)||(Tv(n,t,2,!1),s.add(o))}function Xd(t,n,s){var o=0;n&&(o|=4),Tv(s,t,o,n)}var af="_reactListening"+Math.random().toString(36).slice(2);function Kd(t){if(!t[af]){t[af]=!0,$i.forEach(function(s){s!=="selectionchange"&&(pw.has(s)||Xd(s,!1,t),Xd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[af]||(n[af]=!0,Xd("selectionchange",!1,n))}}function Tv(t,n,s,o){switch(Jv(n)){case 2:var f=Hw;break;case 8:f=qw;break;default:f=cm}s=f.bind(null,n,s,t),f=void 0,!Ti||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function Qd(t,n,s,o,f){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var N=o.stateNode.containerInfo;if(N===f)break;if(T===4)for(T=o.return;T!==null;){var X=T.tag;if((X===3||X===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;N!==null;){if(T=xr(N),T===null)return;if(X=T.tag,X===5||X===6||X===26||X===27){o=m=T;continue e}N=N.parentNode}}o=o.return}Gr(function(){var ce=m,be=ii(s),Ce=[];e:{var he=fn.get(t);if(he!==void 0){var ve=Ui,ct=t;switch(t){case"keypress":if(Li(s)===0)break e;case"keydown":case"keyup":ve=rt;break;case"focusin":ct="focus",ve=ta;break;case"focusout":ct="blur",ve=ta;break;case"beforeblur":case"afterblur":ve=ta;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Ii;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=y;break;case De:case Xe:case Bt:ve=Ls;break;case sn:ve=k;break;case"scroll":case"scrollend":ve=Ci;break;case"wheel":ve=pe;break;case"copy":case"cut":case"paste":ve=W;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=zn;break;case"toggle":case"beforetoggle":ve=It}var Tt=(n&4)!==0,Mn=!Tt&&(t==="scroll"||t==="scrollend"),ie=Tt?he!==null?he+"Capture":null:he;Tt=[];for(var K=ce,le;K!==null;){var we=K;if(le=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||le===null||ie===null||(we=Ar(K,ie),we!=null&&Tt.push(ku(K,we,le))),Mn)break;K=K.return}0<Tt.length&&(he=new ve(he,ct,null,s,be),Ce.push({event:he,listeners:Tt}))}}if((n&7)===0){e:{if(he=t==="mouseover"||t==="pointerover",ve=t==="mouseout"||t==="pointerout",he&&s!==Ha&&(ct=s.relatedTarget||s.fromElement)&&(xr(ct)||ct[an]))break e;if((ve||he)&&(he=be.window===be?be:(he=be.ownerDocument)?he.defaultView||he.parentWindow:window,ve?(ct=s.relatedTarget||s.toElement,ve=ce,ct=ct?xr(ct):null,ct!==null&&(Mn=c(ct),Tt=ct.tag,ct!==Mn||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(ve=null,ct=ce),ve!==ct)){if(Tt=qa,we="onMouseLeave",ie="onMouseEnter",K="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=zn,we="onPointerLeave",ie="onPointerEnter",K="pointer"),Mn=ve==null?he:Ur(ve),le=ct==null?he:Ur(ct),he=new Tt(we,K+"leave",ve,s,be),he.target=Mn,he.relatedTarget=le,we=null,xr(be)===ce&&(Tt=new Tt(ie,K+"enter",ct,s,be),Tt.target=le,Tt.relatedTarget=Mn,we=Tt),Mn=we,ve&&ct)t:{for(Tt=gw,ie=ve,K=ct,le=0,we=ie;we;we=Tt(we))le++;we=0;for(var yt=K;yt;yt=Tt(yt))we++;for(;0<le-we;)ie=Tt(ie),le--;for(;0<we-le;)K=Tt(K),we--;for(;le--;){if(ie===K||K!==null&&ie===K.alternate){Tt=ie;break t}ie=Tt(ie),K=Tt(K)}Tt=null}else Tt=null;ve!==null&&Av(Ce,he,ve,Tt,!1),ct!==null&&Mn!==null&&Av(Ce,Mn,ct,Tt,!0)}}e:{if(he=ce?Ur(ce):window,ve=he.nodeName&&he.nodeName.toLowerCase(),ve==="select"||ve==="input"&&he.type==="file")var gn=ou;else if(su(he))if(lu)gn=J;else{gn=D;var dt=S}else ve=he.nodeName,!ve||ve.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ce&&da(ce.elementType)&&(gn=ou):gn=j;if(gn&&(gn=gn(t,ce))){Yn(Ce,gn,s,be);break e}dt&&dt(t,he,ce),t==="focusout"&&ce&&he.type==="number"&&ce.memoizedProps.value!=null&&Zi(he,"number",he.value)}switch(dt=ce?Ur(ce):window,t){case"focusin":(su(dt)||dt.contentEditable==="true")&&(qe=dt,pn=ce,Ze=null);break;case"focusout":Ze=pn=qe=null;break;case"mousedown":zt=!0;break;case"contextmenu":case"mouseup":case"dragend":zt=!1,wn(Ce,s,be);break;case"selectionchange":if(it)break;case"keydown":case"keyup":wn(Ce,s,be)}var Lt;if(cn)e:{switch(t){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else ss?_a(t,s)&&(Kt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Kt="onCompositionStart");Kt&&(zi&&s.locale!=="ko"&&(ss||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&ss&&(Lt=ga()):(Ai=be,Dr="value"in Ai?Ai.value:Ai.textContent,ss=!0)),dt=sf(ce,Kt),0<dt.length&&(Kt=new de(Kt,t,null,s,be),Ce.push({event:Kt,listeners:dt}),Lt?Kt.data=Lt:(Lt=as(s),Lt!==null&&(Kt.data=Lt)))),(Lt=ui?xh(t,s):bc(t,s))&&(Kt=sf(ce,"onBeforeInput"),0<Kt.length&&(dt=new de("onBeforeInput","beforeinput",null,s,be),Ce.push({event:dt,listeners:Kt}),dt.data=Lt)),hw(Ce,t,ce,s,be)}wv(Ce,n)})}function ku(t,n,s){return{instance:t,listener:n,currentTarget:s}}function sf(t,n){for(var s=n+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ar(t,s),f!=null&&o.unshift(ku(t,f,m)),f=Ar(t,n),f!=null&&o.push(ku(t,f,m))),t.tag===3)return o;t=t.return}return[]}function gw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Av(t,n,s,o,f){for(var m=n._reactName,T=[];s!==null&&s!==o;){var N=s,X=N.alternate,ce=N.stateNode;if(N=N.tag,X!==null&&X===o)break;N!==5&&N!==26&&N!==27||ce===null||(X=ce,f?(ce=Ar(s,m),ce!=null&&T.unshift(ku(s,ce,X))):f||(ce=Ar(s,m),ce!=null&&T.push(ku(s,ce,X)))),s=s.return}T.length!==0&&t.push({event:n,listeners:T})}var yw=/\r\n?/g,vw=/\u0000|\uFFFD/g;function Sv(t){return(typeof t=="string"?t:""+t).replace(yw,`
`).replace(vw,"")}function Cv(t,n){return n=Sv(n),Sv(t)===n}function Nn(t,n,s,o,f,m){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nr(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nr(t,""+o);break;case"className":mr(t,"class",o);break;case"tabIndex":mr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(t,s,o);break;case"style":Hr(t,o,m);break;case"data":if(n!=="object"){mr(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=pa(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&Nn(t,n,"name",f.name,f,null),Nn(t,n,"formEncType",f.formEncType,f,null),Nn(t,n,"formMethod",f.formMethod,f,null),Nn(t,n,"formTarget",f.formTarget,f,null)):(Nn(t,n,"encType",f.encType,f,null),Nn(t,n,"method",f.method,f,null),Nn(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=pa(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ri);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=pa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Yt("beforetoggle",t),Yt("toggle",t),Vi(t,"popover",o);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Vi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ma.get(s)||s,Vi(t,s,o))}}function $d(t,n,s,o,f,m){switch(s){case"style":Hr(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?nr(t,o):(typeof o=="number"||typeof o=="bigint")&&nr(t,""+o);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),m=t[Gn]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,f);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Vi(t,s,o)}}}function Jr(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",t),Yt("load",t);var o=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var T=s[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Nn(t,n,m,T,s,null)}}f&&Nn(t,n,"srcSet",s.srcSet,s,null),o&&Nn(t,n,"src",s.src,s,null);return;case"input":Yt("invalid",t);var N=m=T=f=null,X=null,ce=null;for(o in s)if(s.hasOwnProperty(o)){var be=s[o];if(be!=null)switch(o){case"name":f=be;break;case"type":T=be;break;case"checked":X=be;break;case"defaultChecked":ce=be;break;case"value":m=be;break;case"defaultValue":N=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(a(137,n));break;default:Nn(t,n,o,be,s,null)}}mn(t,m,N,X,ce,T,f,!1);return;case"select":Yt("invalid",t),o=T=m=null;for(f in s)if(s.hasOwnProperty(f)&&(N=s[f],N!=null))switch(f){case"value":m=N;break;case"defaultValue":T=N;break;case"multiple":o=N;default:Nn(t,n,f,N,s,null)}n=m,s=T,t.multiple=!!o,n!=null?un(t,!!o,n,!1):s!=null&&un(t,!!o,s,!0);return;case"textarea":Yt("invalid",t),m=f=o=null;for(T in s)if(s.hasOwnProperty(T)&&(N=s[T],N!=null))switch(T){case"value":o=N;break;case"defaultValue":f=N;break;case"children":m=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:Nn(t,n,T,N,s,null)}Pi(t,o,f,m);return;case"option":for(X in s)if(s.hasOwnProperty(X)&&(o=s[X],o!=null))switch(X){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Nn(t,n,X,o,s,null)}return;case"dialog":Yt("beforetoggle",t),Yt("toggle",t),Yt("cancel",t),Yt("close",t);break;case"iframe":case"object":Yt("load",t);break;case"video":case"audio":for(o=0;o<Ou.length;o++)Yt(Ou[o],t);break;case"image":Yt("error",t),Yt("load",t);break;case"details":Yt("toggle",t);break;case"embed":case"source":case"link":Yt("error",t),Yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in s)if(s.hasOwnProperty(ce)&&(o=s[ce],o!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Nn(t,n,ce,o,s,null)}return;default:if(da(n)){for(be in s)s.hasOwnProperty(be)&&(o=s[be],o!==void 0&&$d(t,n,be,o,s,void 0));return}}for(N in s)s.hasOwnProperty(N)&&(o=s[N],o!=null&&Nn(t,n,N,o,s,null))}function _w(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,N=null,X=null,ce=null,be=null;for(ve in s){var Ce=s[ve];if(s.hasOwnProperty(ve)&&Ce!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":X=Ce;default:o.hasOwnProperty(ve)||Nn(t,n,ve,null,o,Ce)}}for(var he in o){var ve=o[he];if(Ce=s[he],o.hasOwnProperty(he)&&(ve!=null||Ce!=null))switch(he){case"type":m=ve;break;case"name":f=ve;break;case"checked":ce=ve;break;case"defaultChecked":be=ve;break;case"value":T=ve;break;case"defaultValue":N=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(a(137,n));break;default:ve!==Ce&&Nn(t,n,he,ve,o,Ce)}}Ji(t,T,N,X,ce,be,m,f);return;case"select":ve=T=N=he=null;for(m in s)if(X=s[m],s.hasOwnProperty(m)&&X!=null)switch(m){case"value":break;case"multiple":ve=X;default:o.hasOwnProperty(m)||Nn(t,n,m,null,o,X)}for(f in o)if(m=o[f],X=s[f],o.hasOwnProperty(f)&&(m!=null||X!=null))switch(f){case"value":he=m;break;case"defaultValue":N=m;break;case"multiple":T=m;default:m!==X&&Nn(t,n,f,m,o,X)}n=N,s=T,o=ve,he!=null?un(t,!!s,he,!1):!!o!=!!s&&(n!=null?un(t,!!s,n,!0):un(t,!!s,s?[]:"",!1));return;case"textarea":ve=he=null;for(N in s)if(f=s[N],s.hasOwnProperty(N)&&f!=null&&!o.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Nn(t,n,N,null,o,f)}for(T in o)if(f=o[T],m=s[T],o.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":he=f;break;case"defaultValue":ve=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Nn(t,n,T,f,o,m)}fa(t,he,ve);return;case"option":for(var ct in s)if(he=s[ct],s.hasOwnProperty(ct)&&he!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:Nn(t,n,ct,null,o,he)}for(X in o)if(he=o[X],ve=s[X],o.hasOwnProperty(X)&&he!==ve&&(he!=null||ve!=null))switch(X){case"selected":t.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Nn(t,n,X,he,o,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in s)he=s[Tt],s.hasOwnProperty(Tt)&&he!=null&&!o.hasOwnProperty(Tt)&&Nn(t,n,Tt,null,o,he);for(ce in o)if(he=o[ce],ve=s[ce],o.hasOwnProperty(ce)&&he!==ve&&(he!=null||ve!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,n));break;default:Nn(t,n,ce,he,o,ve)}return;default:if(da(n)){for(var Mn in s)he=s[Mn],s.hasOwnProperty(Mn)&&he!==void 0&&!o.hasOwnProperty(Mn)&&$d(t,n,Mn,void 0,o,he);for(be in o)he=o[be],ve=s[be],!o.hasOwnProperty(be)||he===ve||he===void 0&&ve===void 0||$d(t,n,be,he,o,ve);return}}for(var ie in s)he=s[ie],s.hasOwnProperty(ie)&&he!=null&&!o.hasOwnProperty(ie)&&Nn(t,n,ie,null,o,he);for(Ce in o)he=o[Ce],ve=s[Ce],!o.hasOwnProperty(Ce)||he===ve||he==null&&ve==null||Nn(t,n,Ce,he,o,ve)}function Rv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],m=f.transferSize,T=f.initiatorType,N=f.duration;if(m&&N&&Rv(T)){for(T=0,N=f.responseEnd,o+=1;o<s.length;o++){var X=s[o],ce=X.startTime;if(ce>N)break;var be=X.transferSize,Ce=X.initiatorType;be&&Rv(Ce)&&(X=X.responseEnd,T+=be*(X<N?1:(N-ce)/(X-ce)))}if(--o,n+=8*(m+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jd=null,Zd=null;function of(t){return t.nodeType===9?t:t.ownerDocument}function Iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function em(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tm=null;function Ew(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var Nv=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,Tw=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(t){return Mv.resolve(null).then(t).catch(Aw)}:Nv;function Aw(t){setTimeout(function(){throw t})}function to(t){return t==="head"}function Dv(t,n){var s=n,o=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(f),Il(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Vu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Vu(s);for(var m=s.firstChild;m;){var T=m.nextSibling,N=m.nodeName;m[Ir]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=T}}else s==="body"&&Vu(t.ownerDocument.body);s=f}while(s);Il(n)}function Ov(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function nm(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":nm(s),tr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Sw(t,n,s,o){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ir])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Sa(t.nextSibling),t===null)break}return null}function Cw(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Sa(t.nextSibling),t===null))return null;return t}function kv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Sa(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$?"||t.data==="$~"}function im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Rw(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Sa(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var am=null;function Vv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Sa(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Pv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Lv(t,n,s){switch(n=of(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Vu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);tr(t)}var Ca=new Map,Uv=new Set;function lf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var As=Q.d;Q.d={f:Iw,r:xw,D:Nw,C:Mw,L:Dw,m:Ow,X:Vw,S:kw,M:Pw};function Iw(){var t=As.f(),n=Jc();return t||n}function xw(t){var n=dr(t);n!==null&&n.tag===5&&n.type==="form"?ty(n):As.r(t)}var Sl=typeof document>"u"?null:document;function zv(t,n,s){var o=Sl;if(o&&typeof n=="string"&&n){var f=kn(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Uv.has(f)||(Uv.add(f),t={rel:t,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Jr(n,"link",t),On(n),o.head.appendChild(n)))}}function Nw(t){As.D(t),zv("dns-prefetch",t,null)}function Mw(t,n){As.C(t,n),zv("preconnect",t,n)}function Dw(t,n,s){As.L(t,n,s);var o=Sl;if(o&&t&&n){var f='link[rel="preload"][as="'+kn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+kn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+kn(s.imageSizes)+'"]')):f+='[href="'+kn(t)+'"]';var m=f;switch(n){case"style":m=Cl(t);break;case"script":m=Rl(t)}Ca.has(m)||(t=O({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Ca.set(m,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(Pu(m))||n==="script"&&o.querySelector(Lu(m))||(n=o.createElement("link"),Jr(n,"link",t),On(n),o.head.appendChild(n)))}}function Ow(t,n){As.m(t,n);var s=Sl;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+kn(o)+'"][href="'+kn(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Rl(t)}if(!Ca.has(m)&&(t=O({rel:"modulepreload",href:t},n),Ca.set(m,t),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Lu(m)))return}o=s.createElement("link"),Jr(o,"link",t),On(o),s.head.appendChild(o)}}}function kw(t,n,s){As.S(t,n,s);var o=Sl;if(o&&t){var f=bi(o).hoistableStyles,m=Cl(t);n=n||"default";var T=f.get(m);if(!T){var N={loading:0,preload:null};if(T=o.querySelector(Pu(m)))N.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Ca.get(m))&&sm(t,s);var X=T=o.createElement("link");On(X),Jr(X,"link",t),X._p=new Promise(function(ce,be){X.onload=ce,X.onerror=be}),X.addEventListener("load",function(){N.loading|=1}),X.addEventListener("error",function(){N.loading|=2}),N.loading|=4,uf(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:N},f.set(m,T)}}}function Vw(t,n){As.X(t,n);var s=Sl;if(s&&t){var o=bi(s).hoistableScripts,f=Rl(t),m=o.get(f);m||(m=s.querySelector(Lu(f)),m||(t=O({src:t,async:!0},n),(n=Ca.get(f))&&om(t,n),m=s.createElement("script"),On(m),Jr(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Pw(t,n){As.M(t,n);var s=Sl;if(s&&t){var o=bi(s).hoistableScripts,f=Rl(t),m=o.get(f);m||(m=s.querySelector(Lu(f)),m||(t=O({src:t,async:!0,type:"module"},n),(n=Ca.get(f))&&om(t,n),m=s.createElement("script"),On(m),Jr(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Bv(t,n,s,o){var f=(f=Ye.current)?lf(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Cl(s.href),s=bi(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Cl(s.href);var m=bi(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(Pu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Ca.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ca.set(t,s),m||Lw(f,t,s,T.state))),n&&o===null)throw Error(a(528,""));return T}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rl(s),s=bi(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Cl(t){return'href="'+kn(t)+'"'}function Pu(t){return'link[rel="stylesheet"]['+t+"]"}function jv(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function Lw(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Jr(n,"link",s),On(n),t.head.appendChild(n))}function Rl(t){return'[src="'+kn(t)+'"]'}function Lu(t){return"script[async]"+t}function Fv(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+kn(s.href)+'"]');if(o)return n.instance=o,On(o),o;var f=O({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),On(o),Jr(o,"style",f),uf(o,s.precedence,t),n.instance=o;case"stylesheet":f=Cl(s.href);var m=t.querySelector(Pu(f));if(m)return n.state.loading|=4,n.instance=m,On(m),m;o=jv(s),(f=Ca.get(f))&&sm(o,f),m=(t.ownerDocument||t).createElement("link"),On(m);var T=m;return T._p=new Promise(function(N,X){T.onload=N,T.onerror=X}),Jr(m,"link",o),n.state.loading|=4,uf(m,s.precedence,t),n.instance=m;case"script":return m=Rl(s.src),(f=t.querySelector(Lu(m)))?(n.instance=f,On(f),f):(o=s,(f=Ca.get(m))&&(o=O({},s),om(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),On(f),Jr(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,uf(o,s.precedence,t));return n.instance}function uf(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,T=0;T<o.length;T++){var N=o[T];if(N.dataset.precedence===n)m=N;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function sm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function om(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var cf=null;function Hv(t,n,s){if(cf===null){var o=new Map,f=cf=new Map;f.set(s,o)}else f=cf,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[Ir]||m[hn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var N=o.get(T);N?N.push(m):o.set(T,[m])}}return o}function qv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Uw(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zw(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Cl(o.href),m=n.querySelector(Pu(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ff.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=m,On(m);return}m=n.ownerDocument||n,o=jv(o),(f=Ca.get(f))&&sm(o,f),m=m.createElement("link"),On(m);var T=m;T._p=new Promise(function(N,X){T.onload=N,T.onerror=X}),Jr(m,"link",o),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ff.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var lm=0;function Bw(t,n){return t.stylesheets&&t.count===0&&df(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&df(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&lm===0&&(lm=62500*bw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&df(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>lm?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function ff(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hf=null;function df(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hf=new Map,n.forEach(jw,t),hf=null,ff.call(t))}function jw(t,n){if(!(n.state.loading&4)){var s=hf.get(t);if(s)var o=s.get(null);else{s=new Map,hf.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),o=T)}o&&s.set(null,o)}f=n.instance,T=f.getAttribute("data-precedence"),m=s.get(T)||o,m===o&&s.set(null,f),s.set(T,f),this.count++,o=ff.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Uu={$$typeof:Le,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function Fw(t,n,s,o,f,m,T,N,X){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Yv(t,n,s,o,f,m,T,N,X,ce,be,Ce){return t=new Fw(t,n,s,T,X,ce,be,Ce,N),n=1,m===!0&&(n|=24),m=ci(3,null,null,n),t.current=m,m.stateNode=t,n=jh(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:n},Gh(m),t}function Wv(t){return t?(t=ra,t):ra}function Xv(t,n,s,o,f,m){f=Wv(f),o.context===null?o.context=f:o.pendingContext=f,o=qs(n),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Gs(t,o,n),s!==null&&(Yi(s,t,n),gu(s,t,n))}function Kv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function um(t,n){Kv(t,n),(t=t.alternate)&&Kv(t,n)}function Qv(t){if(t.tag===13||t.tag===31){var n=Oi(t,67108864);n!==null&&Yi(n,t,67108864),um(t,67108864)}}function $v(t){if(t.tag===13||t.tag===31){var n=la();n=yi(n);var s=Oi(t,n);s!==null&&Yi(s,t,n),um(t,n)}}var mf=!0;function Hw(t,n,s,o){var f=G.T;G.T=null;var m=Q.p;try{Q.p=2,cm(t,n,s,o)}finally{Q.p=m,G.T=f}}function qw(t,n,s,o){var f=G.T;G.T=null;var m=Q.p;try{Q.p=8,cm(t,n,s,o)}finally{Q.p=m,G.T=f}}function cm(t,n,s,o){if(mf){var f=fm(o);if(f===null)Qd(t,n,o,pf,s),Zv(t,o);else if(Yw(f,t,n,s,o))o.stopPropagation();else if(Zv(t,o),n&4&&-1<Gw.indexOf(t)){for(;f!==null;){var m=dr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=In(m.pendingLanes);if(T!==0){var N=m;for(N.pendingLanes|=2,N.entangledLanes|=2;T;){var X=1<<31-Fe(T);N.entanglements[1]|=X,T&=~X}Qa(m),(En&6)===0&&(Qc=Ht()+500,Du(0))}}break;case 31:case 13:N=Oi(m,2),N!==null&&Yi(N,m,2),Jc(),um(m,2)}if(m=fm(o),m===null&&Qd(t,n,o,pf,s),m===f)break;f=m}f!==null&&o.stopPropagation()}else Qd(t,n,o,null,s)}}function fm(t){return t=ii(t),hm(t)}var pf=null;function hm(t){if(pf=null,t=xr(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=p(n),t!==null)return t;t=null}else if(s===31){if(t=b(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return pf=t,null}function Jv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dn()){case R:return 2;case g:return 8;case v:case V:return 32;case $:return 268435456;default:return 32}default:return 32}}var dm=!1,no=null,ro=null,io=null,zu=new Map,Bu=new Map,ao=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zv(t,n){switch(t){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":zu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(n.pointerId)}}function ju(t,n,s,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},n!==null&&(n=dr(n),n!==null&&Qv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function Yw(t,n,s,o,f){switch(n){case"focusin":return no=ju(no,t,n,s,o,f),!0;case"dragenter":return ro=ju(ro,t,n,s,o,f),!0;case"mouseover":return io=ju(io,t,n,s,o,f),!0;case"pointerover":var m=f.pointerId;return zu.set(m,ju(zu.get(m)||null,t,n,s,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Bu.set(m,ju(Bu.get(m)||null,t,n,s,o,f)),!0}return!1}function e0(t){var n=xr(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){t.blockedOn=n,Rr(t.priority,function(){$v(s)});return}}else if(n===31){if(n=b(s),n!==null){t.blockedOn=n,Rr(t.priority,function(){$v(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gf(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=fm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Ha=o,s.target.dispatchEvent(o),Ha=null}else return n=dr(s),n!==null&&Qv(n),t.blockedOn=s,!1;n.shift()}return!0}function t0(t,n,s){gf(t)&&s.delete(n)}function Ww(){dm=!1,no!==null&&gf(no)&&(no=null),ro!==null&&gf(ro)&&(ro=null),io!==null&&gf(io)&&(io=null),zu.forEach(t0),Bu.forEach(t0)}function yf(t,n){t.blockedOn===n&&(t.blockedOn=null,dm||(dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ww)))}var vf=null;function n0(t){vf!==t&&(vf=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){vf===t&&(vf=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(hm(o||s)===null)continue;break}var m=dr(s);m!==null&&(t.splice(n,3),n-=3,fd(m,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Il(t){function n(X){return yf(X,t)}no!==null&&yf(no,t),ro!==null&&yf(ro,t),io!==null&&yf(io,t),zu.forEach(n),Bu.forEach(n);for(var s=0;s<ao.length;s++){var o=ao[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ao.length&&(s=ao[0],s.blockedOn===null);)e0(s),s.blockedOn===null&&ao.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],m=s[o+1],T=f[Gn]||null;if(typeof m=="function")T||n0(s);else if(T){var N=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Gn]||null)N=T.formAction;else if(hm(f)!==null)continue}else N=T.action;typeof N=="function"?s[o+1]=N:(s.splice(o,3),o-=3),n0(s)}}}function r0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function mm(t){this._internalRoot=t}_f.prototype.render=mm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=la();Xv(s,o,t,n,null,null)},_f.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Xv(t.current,2,null,t,null,null),Jc(),n[an]=null}};function _f(t){this._internalRoot=t}_f.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ki();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ao.length&&n!==0&&n<ao[s].priority;s++);ao.splice(s,0,t),s===0&&e0(t)}};var i0=e.version;if(i0!=="19.2.0")throw Error(a(527,i0,"19.2.0"));Q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=E(n),t=t!==null?M(t):null,t=t===null?null:t.stateNode,t};var Xw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{$e=bf.inject(Xw),Qe=bf}catch{}}return Fu.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",f=fy,m=hy,T=dy;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Yv(t,1,!1,null,null,s,o,null,f,m,T,r0),t[an]=n.current,Kd(t),new mm(n)},Fu.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,f="",m=fy,T=hy,N=dy,X=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.formState!==void 0&&(X=s.formState)),n=Yv(t,1,!0,n,s??null,o,f,X,m,T,N,r0),n.context=Wv(null),s=n.current,o=la(),o=yi(o),f=qs(o),f.callback=null,Gs(s,f,o),s=o,n.current.lanes=s,bt(n,s),Qa(n),t[an]=n.current,Kd(t),new _f(n)},Fu.version="19.2.0",Fu}var h0;function rT(){if(h0)return gm.exports;h0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=nT(),gm.exports}var iT=rT();const aT=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sT=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),d0=i=>{const e=sT(i);return e.charAt(0).toUpperCase()+e.slice(1)},lb=(...i)=>i.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),oT=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var lT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uT=Ve.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:p,...b},w)=>Ve.createElement("svg",{ref:w,...lT,width:e,height:e,stroke:i,strokeWidth:a?Number(r)*24/Number(e):r,className:lb("lucide",l),...!c&&!oT(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,M])=>Ve.createElement(E,M)),...Array.isArray(c)?c:[c]]));const vn=(i,e)=>{const r=Ve.forwardRef(({className:a,...l},c)=>Ve.createElement(uT,{ref:c,iconNode:e,className:lb(`lucide-${aT(d0(i))}`,`lucide-${i}`,a),...l}));return r.displayName=d0(i),r};const cT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],fT=vn("arrow-down-a-z",cT);const hT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],m0=vn("arrow-left",hT);const dT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],mT=vn("book-open",dT);const pT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],gT=vn("check-check",pT);const yT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],p0=vn("check",yT);const vT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_T=vn("chevron-left",vT);const bT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ET=vn("chevron-right",bT);const wT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],TT=vn("circle-alert",wT);const AT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zm=vn("crown",AT);const ST=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],g0=vn("download",ST);const CT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RT=vn("eye",CT);const IT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],y0=vn("flag",IT);const xT=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ho=vn("gift",xT);const NT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],MT=vn("heart",NT);const DT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],OT=vn("info",DT);const kT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VT=vn("log-out",kT);const PT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],v0=vn("moon",PT);const LT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],UT=vn("play",LT);const zT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_0=vn("rotate-ccw",zT);const BT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],jT=vn("ruler",BT);const FT=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],b0=vn("scroll-text",FT);const HT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],E0=vn("settings",HT);const qT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],GT=vn("share-2",qT);const YT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],WT=vn("shuffle",YT);const XT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qo=vn("sparkles",XT);const KT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bm=vn("star",KT);const QT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],w0=vn("sun",QT);const $T=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],T0=vn("trophy",$T);const JT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],A0=vn("volume-2",JT);const ZT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],S0=vn("volume-x",ZT);const eA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ef=vn("x",eA);const tA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wf=vn("zap",tA);var Em={},Nf={exports:{}},nA=Nf.exports,C0;function rA(){return C0||(C0=1,(function(i,e){(function(a,l){i.exports=l()})(nA,()=>(()=>{var r=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>M});var E=(()=>{var O=typeof document<"u"?document.currentScript?.src:void 0;return(function(q={}){var ae,B=q,Oe,Te,ze=new Promise((h,d)=>{Oe=h,Te=d}),U=typeof window=="object",Le=typeof importScripts=="function";function tt(){function h(J){const ee=S;_=d=0,S=new Map,ee.forEach(fe=>{try{fe(J)}catch(ue){console.error(ue)}}),this.nb(),D&&D.Pb()}let d=0,_=0,S=new Map,D=null,j=null;this.requestAnimationFrame=function(J){d||=requestAnimationFrame(h.bind(this));const ee=++_;return S.set(ee,J),ee},this.cancelAnimationFrame=function(J){S.delete(J),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(J){j&&(document.body.remove(j),j=null),J||(j=document.createElement("div"),j.style.backgroundColor="black",j.style.position="fixed",j.style.right=0,j.style.top=0,j.style.color="white",j.style.padding="4px",j.innerHTML="RIVE FPS",J=function(ee){j.innerHTML="RIVE FPS "+ee.toFixed(1)},document.body.appendChild(j)),D=new function(){let ee=0,fe=0;this.Pb=function(){var ue=performance.now();fe?(++ee,ue-=fe,1e3<ue&&(J(1e3*ee/ue),ee=fe=0)):(fe=ue,ee=0)}}},this.Kb=function(){j&&(document.body.remove(j),j=null),D=null},this.nb=function(){}}function nt(h){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<h)-1)>>h,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<h}}const ut=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){ut&&ut();let h=B.decodeAudio;B.decodeAudio=function(D,j){D=h(D),j(D)};let d=B.decodeFont;B.decodeFont=function(D,j){D=d(D),j(D)};const _=B.FileAssetLoader;B.ptrToAsset=D=>{let j=B.ptrToFileAsset(D);return j.isImage?B.ptrToImageAsset(D):j.isFont?B.ptrToFontAsset(D):j.isAudio?B.ptrToAudioAsset(D):j},B.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:D}){this.__parent.__construct.call(this),this.Db=D},loadContents:function(D,j){return D=B.ptrToAsset(D),this.Db(D,j)}}),B.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(D){let j=B.ptrToAsset(D);return D=j.cdnUuid,D===""?!1:((function(J,ee){var fe=new XMLHttpRequest;fe.responseType="arraybuffer",fe.onreadystatechange=function(){fe.readyState==4&&fe.status==200&&ee(fe)},fe.open("GET",J,!0),fe.send(null)})(j.cdnBaseUrl+"/"+D,J=>{j.decode(new Uint8Array(J.response))}),!0)}}),B.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(D){this.jb.push(D)},loadContents:function(D,j){for(let J of this.jb)if(J.loadContents(D,j))return!0;return!1}});let S=B.computeAlignment;B.computeAlignment=function(D,j,J,ee,fe=1){return S.call(this,D,j,J,ee,fe)}};const Y="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),F=new function(){function h(){if(!d){let pn=function(Ze,zt,wn){if(zt=qe.createShader(zt),qe.shaderSource(zt,wn),qe.compileShader(zt),wn=qe.getShaderInfoLog(zt),0<(wn||"").length)throw wn;qe.attachShader(Ze,zt)};var it=pn,re=document.createElement("canvas"),je={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let qe;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(qe=re.getContext("webgl",je),_=1,!qe)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(qe=re.getContext("webgl2",je))_=2;else if(qe=re.getContext("webgl",je))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(qe=new Proxy(qe,{get(Ze,zt){if(Ze.isContextLost()){if(fe||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",zt),fe=!0),typeof Ze[zt]=="function")return function(){}}else return typeof Ze[zt]=="function"?function(...wn){return Ze[zt].apply(Ze,wn)}:Ze[zt]},set(Ze,zt,wn){if(Ze.isContextLost())fe||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+zt),fe=!0);else return Ze[zt]=wn,!0}}),S=Math.min(qe.getParameter(qe.MAX_RENDERBUFFER_SIZE),qe.getParameter(qe.MAX_TEXTURE_SIZE)),re=qe.createProgram(),pn(re,qe.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),pn(re,qe.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),qe.bindAttribLocation(re,0,"vertex"),qe.bindAttribLocation(re,1,"uv"),qe.linkProgram(re),je=qe.getProgramInfoLog(re),0<(je||"").trim().length)throw je;D=qe.getUniformLocation(re,"mat"),j=qe.getUniformLocation(re,"translate"),qe.useProgram(re),qe.bindBuffer(qe.ARRAY_BUFFER,qe.createBuffer()),qe.enableVertexAttribArray(0),qe.enableVertexAttribArray(1),qe.bindBuffer(qe.ELEMENT_ARRAY_BUFFER,qe.createBuffer()),qe.uniform1i(qe.getUniformLocation(re,"image"),0),qe.pixelStorei(qe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=qe}return!0}let d=null,_=0,S=0,D=null,j=null,J=0,ee=0,fe=!1;h(),this.ac=function(){return h(),S},this.Jb=function(re){d.deleteTexture&&d.deleteTexture(re)},this.Ib=function(re){if(!h())return null;const je=d.createTexture();return je?(d.bindTexture(d.TEXTURE_2D,je),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,re),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),je):null};const ue=new nt(8),ke=new nt(8),Je=new nt(10),lt=new nt(10);this.Mb=function(re,je,it,qe,pn){if(h()){var Ze=ue.push(re),zt=ke.push(je);if(d.canvas){(d.canvas.width!=Ze||d.canvas.height!=zt)&&(d.canvas.width=Ze,d.canvas.height=zt),d.viewport(0,zt-je,re,je),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),it.sort((Ft,na)=>na.ub-Ft.ub),Ze=Je.push(qe),J!=Ze&&(d.bufferData(d.ARRAY_BUFFER,8*Ze,d.DYNAMIC_DRAW),J=Ze),Ze=0;for(var wn of it)d.bufferSubData(d.ARRAY_BUFFER,Ze,wn.Sa),Ze+=4*wn.Sa.length;console.assert(Ze==4*qe);for(var ur of it)d.bufferSubData(d.ARRAY_BUFFER,Ze,ur.Ab),Ze+=4*ur.Ab.length;console.assert(Ze==8*qe),Ze=lt.push(pn),ee!=Ze&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Ze,d.DYNAMIC_DRAW),ee=Ze),wn=0;for(var ji of it)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,wn,ji.indices),wn+=2*ji.indices.length;console.assert(wn==2*pn),ji=0,ur=!0,Ze=wn=0;for(const Ft of it){Ft.image.Ia!=ji&&(d.bindTexture(d.TEXTURE_2D,Ft.image.Ha||null),ji=Ft.image.Ia),Ft.fc?(d.scissor(Ft.Ya,zt-Ft.Za-Ft.ib,Ft.tc,Ft.ib),ur=!0):ur&&(d.scissor(0,zt-je,re,je),ur=!1),it=2/re;const na=-2/je;d.uniform4f(D,Ft.ga[0]*it*Ft.za,Ft.ga[1]*na*Ft.Aa,Ft.ga[2]*it*Ft.za,Ft.ga[3]*na*Ft.Aa),d.uniform2f(j,Ft.ga[4]*it*Ft.za+it*(Ft.Ya-Ft.bc*Ft.za)-1,Ft.ga[5]*na*Ft.Aa+na*(Ft.Za-Ft.cc*Ft.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Ze),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Ze+4*qe),d.drawElements(d.TRIANGLES,Ft.indices.length,d.UNSIGNED_SHORT,wn),Ze+=4*Ft.Sa.length,wn+=2*Ft.indices.length}console.assert(Ze==4*qe),console.assert(wn==2*pn)}}},this.canvas=function(){return h()&&d.canvas}},P=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){function h(De){switch(De){case ue.srcOver:return"source-over";case ue.screen:return"screen";case ue.overlay:return"overlay";case ue.darken:return"darken";case ue.lighten:return"lighten";case ue.colorDodge:return"color-dodge";case ue.colorBurn:return"color-burn";case ue.hardLight:return"hard-light";case ue.softLight:return"soft-light";case ue.difference:return"difference";case ue.exclusion:return"exclusion";case ue.multiply:return"multiply";case ue.hue:return"hue";case ue.saturation:return"saturation";case ue.color:return"color";case ue.luminosity:return"luminosity"}}function d(De){return"rgba("+((16711680&De)>>>16)+","+((65280&De)>>>8)+","+((255&De)>>>0)+","+((4278190080&De)>>>24)/255+")"}function _(){0<zt.length&&(F.Mb(Ze.drawWidth(),Ze.drawHeight(),zt,wn,ur),zt=[],ur=wn=0,Ze.reset(512,512));for(const De of pn){for(const Xe of De.H)Xe();De.H=[]}pn.clear()}P&&P();var S=B.RenderPaintStyle;const D=B.RenderPath,j=B.RenderPaint,J=B.Renderer,ee=B.StrokeCap,fe=B.StrokeJoin,ue=B.BlendMode,ke=S.fill,Je=S.stroke,lt=B.FillRule.evenOdd;let re=1;var je=B.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:De,va:Xe}={}){this.__parent.__construct.call(this),this.Ia=re,re=re+1&2147483647||1,this.ka=De,this.va=Xe},__destruct:function(){this.Ha&&(F.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(De){var Xe=this;Xe.va&&Xe.va(Xe);var Bt=new Image;Xe.Va=URL.createObjectURL(new Blob([De],{type:"image/png"})),Bt.onload=function(){Xe.Cb=Bt,Xe.Ha=F.Ib(Bt),Xe.size(Bt.width,Bt.height),Xe.ka&&Xe.ka(Xe)},Bt.src=Xe.Va}}),it=D.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(De,Xe,Bt,Wt,Vt,qt,sn){var fn=this.T,Di=fn.addPath;De=De.T;const Tn=new DOMMatrix;Tn.a=Xe,Tn.b=Bt,Tn.c=Wt,Tn.d=Vt,Tn.e=qt,Tn.f=sn,Di.call(fn,De,Tn)},fillRule:function(De){this.Ua=De},moveTo:function(De,Xe){this.T.moveTo(De,Xe)},lineTo:function(De,Xe){this.T.lineTo(De,Xe)},cubicTo:function(De,Xe,Bt,Wt,Vt,qt){this.T.bezierCurveTo(De,Xe,Bt,Wt,Vt,qt)},close:function(){this.T.closePath()}}),qe=j.extend("CanvasRenderPaint",{color:function(De){this.Wa=d(De)},thickness:function(De){this.Fb=De},join:function(De){switch(De){case fe.miter:this.Ga="miter";break;case fe.round:this.Ga="round";break;case fe.bevel:this.Ga="bevel"}},cap:function(De){switch(De){case ee.butt:this.Fa="butt";break;case ee.round:this.Fa="round";break;case ee.square:this.Fa="square"}},style:function(De){this.Eb=De},blendMode:function(De){this.Bb=h(De)},clearGradient:function(){this.ia=null},linearGradient:function(De,Xe,Bt,Wt){this.ia={wb:De,xb:Xe,bb:Bt,cb:Wt,Pa:[]}},radialGradient:function(De,Xe,Bt,Wt){this.ia={wb:De,xb:Xe,bb:Bt,cb:Wt,Pa:[],$b:!0}},addStop:function(De,Xe){this.ia.Pa.push({color:De,stop:Xe})},completeGradient:function(){},draw:function(De,Xe,Bt){let Wt=this.Eb;var Vt=this.Wa,qt=this.ia;if(De.globalCompositeOperation=this.Bb,qt!=null){Vt=qt.wb;var sn=qt.xb;const Di=qt.bb;var fn=qt.cb;const Tn=qt.Pa;qt.$b?(qt=Di-Vt,fn-=sn,Vt=De.createRadialGradient(Vt,sn,0,Vt,sn,Math.sqrt(qt*qt+fn*fn))):Vt=De.createLinearGradient(Vt,sn,Di,fn);for(let Xr=0,bn=Tn.length;Xr<bn;Xr++)sn=Tn[Xr],Vt.addColorStop(sn.stop,d(sn.color));this.Wa=Vt,this.ia=null}switch(Wt){case Je:De.strokeStyle=Vt,De.lineWidth=this.Fb,De.lineCap=this.Fa,De.lineJoin=this.Ga,De.stroke(Xe);break;case ke:De.fillStyle=Vt,De.fill(Xe,Bt)}}});const pn=new Set;let Ze=null,zt=[],wn=0,ur=0;var ji=B.CanvasRenderer=J.extend("Renderer",{__construct:function(De){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=De.getContext("2d"),this.Ta=De,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const De=this.S.length-6;if(6>De)throw"restore() called without matching save().";this.S.splice(De),this.H.push(this.B.restore.bind(this.B))},transform:function(De,Xe,Bt,Wt,Vt,qt){const sn=this.S,fn=sn.length-6;sn.splice(fn,6,sn[fn]*De+sn[fn+2]*Xe,sn[fn+1]*De+sn[fn+3]*Xe,sn[fn]*Bt+sn[fn+2]*Wt,sn[fn+1]*Bt+sn[fn+3]*Wt,sn[fn]*Vt+sn[fn+2]*qt+sn[fn+4],sn[fn+1]*Vt+sn[fn+3]*qt+sn[fn+5]),this.H.push(this.B.transform.bind(this.B,De,Xe,Bt,Wt,Vt,qt))},rotate:function(De){const Xe=Math.sin(De);De=Math.cos(De),this.transform(De,Xe,-Xe,De,0,0)},_drawPath:function(De,Xe){this.H.push(Xe.draw.bind(Xe,this.B,De.T,De.Ua===lt?"evenodd":"nonzero"))},_drawRiveImage:function(De,Xe,Bt,Wt){var Vt=De.Cb;if(Vt){var qt=this.B,sn=h(Bt);this.H.push(function(){qt.globalCompositeOperation=sn,qt.globalAlpha=Wt,qt.drawImage(Vt,0,0),qt.globalAlpha=1})}},_getMatrix:function(De){const Xe=this.S,Bt=Xe.length-6;for(let Wt=0;6>Wt;++Wt)De[Wt]=Xe[Bt+Wt]},_drawImageMesh:function(De,Xe,Bt,Wt,Vt,qt,sn,fn,Di,Tn,Xr){Xe=this.B.canvas.width;var bn=this.B.canvas.height;const us=Tn-fn,il=Xr-Di;fn=Math.max(fn,0),Di=Math.max(Di,0),Tn=Math.min(Tn,Xe),Xr=Math.min(Xr,bn);const Ga=Tn-fn,Ya=Xr-Di;if(console.assert(Ga<=Math.min(us,Xe)),console.assert(Ya<=Math.min(il,bn)),!(0>=Ga||0>=Ya)){Tn=Ga<us||Ya<il,Xe=Xr=1;var ka=Math.ceil(Ga*Xr),Oi=Math.ceil(Ya*Xe);bn=F.ac(),ka>bn&&(Xr*=bn/ka,ka=bn),Oi>bn&&(Xe*=bn/Oi,Oi=bn),Ze||(Ze=new B.DynamicRectanizer(bn),Ze.reset(512,512)),bn=Ze.addRect(ka,Oi),0>bn&&(_(),pn.add(this),bn=Ze.addRect(ka,Oi),console.assert(0<=bn));var uu=bn&65535,No=bn>>16;zt.push({ga:this.S.slice(this.S.length-6),image:De,Ya:uu,Za:No,bc:fn,cc:Di,tc:ka,ib:Oi,za:Xr,Aa:Xe,Sa:new Float32Array(Vt),Ab:new Float32Array(qt),indices:new Uint16Array(sn),fc:Tn,ub:De.Ia<<1|(Tn?1:0)}),wn+=Vt.length,ur+=sn.length;var ra=this.B,Nh=h(Bt);this.H.push(function(){ra.save(),ra.resetTransform(),ra.globalCompositeOperation=Nh,ra.globalAlpha=Wt;const ci=F.canvas();ci&&ra.drawImage(ci,uu,No,ka,Oi,fn,Di,Ga,Ya),ra.restore()})}},_clipPath:function(De){this.H.push(this.B.clip.bind(this.B,De.T,De.Ua===lt?"evenodd":"nonzero"))},clear:function(){pn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(De,Xe){this.transform(1,0,0,1,De,Xe)}});B.makeRenderer=function(De){const Xe=new ji(De),Bt=Xe.B;return new Proxy(Xe,{get(Wt,Vt){if(typeof Wt[Vt]=="function")return function(...qt){return Wt[Vt].apply(Wt,qt)};if(typeof Bt[Vt]=="function"){if(-1<Y.indexOf(Vt))throw Error("RiveException: Method call to '"+Vt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...qt){Xe.H.push(Bt[Vt].bind(Bt,...qt))}}return Wt[Vt]},set(Wt,Vt,qt){if(Vt in Bt)return Xe.H.push(()=>{Bt[Vt]=qt}),!0}})},B.decodeImage=function(De,Xe){new je({ka:Xe}).decode(De)},B.renderFactory={makeRenderPaint:function(){return new qe},makeRenderPath:function(){return new it},makeRenderImage:function(){let De=na;return new je({va:()=>{De.total++},ka:()=>{if(De.loaded++,De.loaded===De.total){const Xe=De.ready;Xe&&(Xe(),De.ready=null)}}})}};let Ft=B.load,na=null;B.load=function(De,Xe,Bt=!0){const Wt=new B.FallbackFileAssetLoader;return Xe!==void 0&&Wt.addLoader(Xe),Bt&&(Xe=new B.CDNFileAssetLoader,Wt.addLoader(Xe)),new Promise(function(Vt){let qt=null;na={total:0,loaded:0,ready:function(){Vt(qt)}},qt=Ft(De,Wt),na.total==0&&Vt(qt)})};let ls=B.RendererWrapper.prototype.align;B.RendererWrapper.prototype.align=function(De,Xe,Bt,Wt,Vt=1){ls.call(this,De,Xe,Bt,Wt,Vt)},S=new tt,B.requestAnimationFrame=S.requestAnimationFrame.bind(S),B.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),B.enableFPSCounter=S.Nb.bind(S),B.disableFPSCounter=S.Kb,S.nb=_,B.resolveAnimationFrame=_,B.cleanup=function(){Ze&&Ze.delete()}};var H=Object.assign({},B),I="./this.program",L="",x,Z;(U||Le)&&(Le?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),O&&(L=O),L.startsWith("blob:")?L="":L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1),Le&&(Z=h=>{var d=new XMLHttpRequest;return d.open("GET",h,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),x=(h,d,_)=>{if(ar(h)){var S=new XMLHttpRequest;S.open("GET",h,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(h,{credentials:"same-origin"}).then(D=>D.ok?D.arrayBuffer():Promise.reject(Error(D.status+" : "+D.url))).then(d,_)});var se=B.print||console.log.bind(console),G=B.printErr||console.error.bind(console);Object.assign(B,H),H=null,B.thisProgram&&(I=B.thisProgram);var Q;B.wasmBinary&&(Q=B.wasmBinary);var _e,me=!1,xe,z,oe,Se,Ae,Ne,Ye,mt;function ft(){var h=_e.buffer;B.HEAP8=xe=new Int8Array(h),B.HEAP16=oe=new Int16Array(h),B.HEAPU8=z=new Uint8Array(h),B.HEAPU16=Se=new Uint16Array(h),B.HEAP32=Ae=new Int32Array(h),B.HEAPU32=Ne=new Uint32Array(h),B.HEAPF32=Ye=new Float32Array(h),B.HEAPF64=mt=new Float64Array(h)}var Et=[],kt=[],ht=[];function pt(){var h=B.preRun.shift();Et.unshift(h)}var wt=0,Ct=null;function Ut(h){throw B.onAbort?.(h),h="Aborted("+h+")",G(h),me=!0,h=new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info."),Te(h),h}var Fn=h=>h.startsWith("data:application/octet-stream;base64,"),ar=h=>h.startsWith("file://"),ln;function st(h){if(h==ln&&Q)return new Uint8Array(Q);if(Z)return Z(h);throw"both async and sync fetching of the wasm failed"}function nn(h){return Q?Promise.resolve().then(()=>st(h)):new Promise((d,_)=>{x(h,S=>d(new Uint8Array(S)),()=>{try{d(st(h))}catch(S){_(S)}})})}function Sn(h,d,_){return nn(h).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{G(`failed to asynchronously prepare wasm: ${S}`),Ut(S)})}function Xi(h,d){var _=ln;return Q||typeof WebAssembly.instantiateStreaming!="function"||Fn(_)||ar(_)||typeof fetch!="function"?Sn(_,h,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,h).then(d,function(D){return G(`wasm streaming compile failed: ${D}`),G("falling back to ArrayBuffer instantiation"),Sn(_,h,d)}))}var Hn,Ht,Dn={464256:(h,d,_,S,D)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=h,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=D;let j=window.h;j.D=[],j.rc=function(J){for(var ee=0;ee<j.D.length;++ee)if(j.D[ee]==null)return j.D[ee]=J,ee;return j.D.push(J),j.D.length-1},j.zb=function(J){for(j.D[J]=null;0<j.D.length&&j.D[j.D.length-1]==null;)j.D.pop()},j.Oc=function(J){for(var ee=0;ee<j.D.length;++ee)if(j.D[ee]==J)return j.zb(ee)},j.pa=function(J){return j.D[J]},j.Ra=["touchend","click"],j.unlock=function(){for(var J=0;J<j.D.length;++J){var ee=j.D[J];ee!=null&&ee.K!=null&&ee.state===j.fa.vb&&ee.K.resume().then(()=>{xo(ee.ob)},fe=>{console.error("Failed to resume audiocontext",fe)})}j.Ra.map(function(fe){document.removeEventListener(fe,j.unlock,!0)})},j.Ra.map(function(J){document.addEventListener(J,j.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(h){document.removeEventListener(h,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var h=new(window.AudioContext||window.webkitAudioContext),d=h.sampleRate;return h.close(),d}catch{return 0}},467013:(h,d,_,S,D,j)=>{if(typeof window.h>"u")return-1;var J={},ee={};return h==window.h.I.wa&&_!=0&&(ee.sampleRate=_),J.K=new(window.AudioContext||window.webkitAudioContext)(ee),J.K.suspend(),J.state=window.h.fa.stopped,_=0,h!=window.h.I.wa&&(_=d),J.Y=J.K.createScriptProcessor(S,_,d),J.Y.onaudioprocess=function(fe){if((J.qa==null||J.qa.length==0)&&(J.qa=new Float32Array(Ye.buffer,D,S*d)),h==window.h.I.capture||h==window.h.I.Ja){for(var ue=0;ue<d;ue+=1)for(var ke=fe.inputBuffer.getChannelData(ue),Je=J.qa,lt=0;lt<S;lt+=1)Je[lt*d+ue]=ke[lt];ou(j,S,D)}if(h==window.h.I.wa||h==window.h.I.Ja)for(lu(j,S,D),ue=0;ue<fe.outputBuffer.numberOfChannels;++ue)for(ke=fe.outputBuffer.getChannelData(ue),Je=J.qa,lt=0;lt<S;lt+=1)ke[lt]=Je[lt*d+ue];else for(ue=0;ue<fe.outputBuffer.numberOfChannels;++ue)fe.outputBuffer.getChannelData(ue).fill(0)},h!=window.h.I.capture&&h!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(fe){J.Ba=J.K.createMediaStreamSource(fe),J.Ba.connect(J.Y),J.Y.connect(J.K.destination)}).catch(function(fe){console.log("Failed to get user media: "+fe)}),h==window.h.I.wa&&J.Y.connect(J.K.destination),J.ob=j,window.h.rc(J)},469890:h=>window.h.pa(h).K.sampleRate,469963:h=>{h=window.h.pa(h),h.Y!==void 0&&(h.Y.onaudioprocess=function(){},h.Y.disconnect(),h.Y=void 0),h.Ba!==void 0&&(h.Ba.disconnect(),h.Ba=void 0),h.K.close(),h.K=void 0,h.ob=void 0},470363:h=>{window.h.zb(h)},470413:h=>{h=window.h.pa(h),h.K.resume(),h.state=window.h.fa.vb},470552:h=>{h=window.h.pa(h),h.K.suspend(),h.state=window.h.fa.stopped}},R=h=>{for(;0<h.length;)h.shift()(B)};function g(){var h=Ae[+Mr>>2];return Mr+=4,h}var v=(h,d)=>{for(var _=0,S=h.length-1;0<=S;S--){var D=h[S];D==="."?h.splice(S,1):D===".."?(h.splice(S,1),_++):_&&(h.splice(S,1),_--)}if(d)for(;_;_--)h.unshift("..");return h},V=h=>{var d=h.charAt(0)==="/",_=h.substr(-1)==="/";return(h=v(h.split("/").filter(S=>!!S),!d).join("/"))||d||(h="."),h&&_&&(h+="/"),(d?"/":"")+h},$=h=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=d[0],d=d[1],!h&&!d?".":(d&&=d.substr(0,d.length-1),h+d)},ge=h=>{if(h==="/")return"/";h=V(h),h=h.replace(/\/$/,"");var d=h.lastIndexOf("/");return d===-1?h:h.substr(d+1)},Me=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return h=>crypto.getRandomValues(h);Ut("initRandomDevice")},$e=h=>($e=Me())(h),Qe=(...h)=>{for(var d="",_=!1,S=h.length-1;-1<=S&&!_;S--){if(_=0<=S?h[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(D=>!!D),!_).join("/"),(_?"/":"")+d||"."},Ue=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Fe=(h,d,_)=>{var S=d+_;for(_=d;h[_]&&!(_>=S);)++_;if(16<_-d&&h.buffer&&Ue)return Ue.decode(h.subarray(d,_));for(S="";d<_;){var D=h[d++];if(D&128){var j=h[d++]&63;if((D&224)==192)S+=String.fromCharCode((D&31)<<6|j);else{var J=h[d++]&63;D=(D&240)==224?(D&15)<<12|j<<6|J:(D&7)<<18|j<<12|J<<6|h[d++]&63,65536>D?S+=String.fromCharCode(D):(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else S+=String.fromCharCode(D)}return S},ot=[],Zt=h=>{for(var d=0,_=0;_<h.length;++_){var S=h.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},St=(h,d,_,S)=>{if(!(0<S))return 0;var D=_;S=_+S-1;for(var j=0;j<h.length;++j){var J=h.charCodeAt(j);if(55296<=J&&57343>=J){var ee=h.charCodeAt(++j);J=65536+((J&1023)<<10)|ee&1023}if(127>=J){if(_>=S)break;d[_++]=J}else{if(2047>=J){if(_+1>=S)break;d[_++]=192|J>>6}else{if(65535>=J){if(_+2>=S)break;d[_++]=224|J>>12}else{if(_+3>=S)break;d[_++]=240|J>>18,d[_++]=128|J>>12&63}d[_++]=128|J>>6&63}d[_++]=128|J&63}}return d[_]=0,_-D};function Pn(h,d){var _=Array(Zt(h)+1);return h=St(h,_,0,_.length),d&&(_.length=h),_}var Ln=[];function jt(h,d){Ln[h]={input:[],G:[],V:d},bi(h,In)}var In={open(h){var d=Ln[h.node.xa];if(!d)throw new We(43);h.s=d,h.seekable=!1},close(h){h.s.V.oa(h.s)},oa(h){h.s.V.oa(h.s)},read(h,d,_,S){if(!h.s||!h.s.V.hb)throw new We(60);for(var D=0,j=0;j<S;j++){try{var J=h.s.V.hb(h.s)}catch{throw new We(29)}if(J===void 0&&D===0)throw new We(6);if(J==null)break;D++,d[_+j]=J}return D&&(h.node.timestamp=Date.now()),D},write(h,d,_,S){if(!h.s||!h.s.V.Ma)throw new We(60);try{for(var D=0;D<S;D++)h.s.V.Ma(h.s,d[_+D])}catch{throw new We(29)}return S&&(h.node.timestamp=Date.now()),D}},Un={hb(){e:{if(!ot.length){var h=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`)),!h){h=null;break e}ot=Pn(h,!0)}h=ot.shift()}return h},Ma(h,d){d===null||d===10?(se(Fe(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(se(Fe(h.G,0)),h.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},er={Ma(h,d){d===null||d===10?(G(Fe(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(G(Fe(h.G,0)),h.G=[])}};function Pr(h,d){var _=h.l?h.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=h.l,h.l=new Uint8Array(d),0<h.v&&h.l.set(_.subarray(0,h.v),0))}var _t={N:null,U(){return _t.createNode(null,"/",16895,0)},createNode(h,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new We(63);return _t.N||(_t.N={dir:{node:{X:_t.j.X,P:_t.j.P,ja:_t.j.ja,ta:_t.j.ta,sb:_t.j.sb,yb:_t.j.yb,tb:_t.j.tb,rb:_t.j.rb,Ca:_t.j.Ca},stream:{aa:_t.m.aa}},file:{node:{X:_t.j.X,P:_t.j.P},stream:{aa:_t.m.aa,read:_t.m.read,write:_t.m.write,Xa:_t.m.Xa,kb:_t.m.kb,mb:_t.m.mb}},link:{node:{X:_t.j.X,P:_t.j.P,la:_t.j.la},stream:{}},$a:{node:{X:_t.j.X,P:_t.j.P},stream:Ur}}),_=Ps(h,d,_,S),(_.mode&61440)===16384?(_.j=_t.N.dir.node,_.m=_t.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=_t.N.file.node,_.m=_t.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=_t.N.link.node,_.m=_t.N.link.stream):(_.mode&61440)===8192&&(_.j=_t.N.$a.node,_.m=_t.N.$a.stream),_.timestamp=Date.now(),h&&(h.l[d]=_,h.timestamp=_.timestamp),_},Fc(h){return h.l?h.l.subarray?h.l.subarray(0,h.v):new Uint8Array(h.l):new Uint8Array(0)},j:{X(h){var d={};return d.Dc=(h.mode&61440)===8192?h.id:1,d.Hc=h.id,d.mode=h.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=h.xa,(h.mode&61440)===16384?d.size=4096:(h.mode&61440)===32768?d.size=h.v:(h.mode&61440)===40960?d.size=h.link.length:d.size=0,d.vc=new Date(h.timestamp),d.Jc=new Date(h.timestamp),d.Cc=new Date(h.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(h,d){if(d.mode!==void 0&&(h.mode=d.mode),d.timestamp!==void 0&&(h.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,h.v!=d))if(d==0)h.l=null,h.v=0;else{var _=h.l;h.l=new Uint8Array(d),_&&h.l.set(_.subarray(0,Math.min(d,h.v))),h.v=d}},ja(){throw Ki[44]},ta(h,d,_,S){return _t.createNode(h,d,_,S)},sb(h,d,_){if((h.mode&61440)===16384){try{var S=vi(d,_)}catch{}if(S)for(var D in S.l)throw new We(55)}delete h.parent.l[h.name],h.parent.timestamp=Date.now(),h.name=_,d.l[_]=h,d.timestamp=h.parent.timestamp},yb(h,d){delete h.l[d],h.timestamp=Date.now()},tb(h,d){var _=vi(h,d),S;for(S in _.l)throw new We(55);delete h.l[d],h.timestamp=Date.now()},rb(h){var d=[".",".."],_;for(_ of Object.keys(h.l))d.push(_);return d},Ca(h,d,_){return h=_t.createNode(h,d,41471,0),h.link=_,h},la(h){if((h.mode&61440)!==40960)throw new We(28);return h.link}},m:{read(h,d,_,S,D){var j=h.node.l;if(D>=h.node.v)return 0;if(h=Math.min(h.node.v-D,S),8<h&&j.subarray)d.set(j.subarray(D,D+h),_);else for(S=0;S<h;S++)d[_+S]=j[D+S];return h},write(h,d,_,S,D,j){if(d.buffer===xe.buffer&&(j=!1),!S)return 0;if(h=h.node,h.timestamp=Date.now(),d.subarray&&(!h.l||h.l.subarray)){if(j)return h.l=d.subarray(_,_+S),h.v=S;if(h.v===0&&D===0)return h.l=d.slice(_,_+S),h.v=S;if(D+S<=h.v)return h.l.set(d.subarray(_,_+S),D),S}if(Pr(h,D+S),h.l.subarray&&d.subarray)h.l.set(d.subarray(_,_+S),D);else for(j=0;j<S;j++)h.l[D+j]=d[_+j];return h.v=Math.max(h.v,D+S),S},aa(h,d,_){if(_===1?d+=h.position:_===2&&(h.node.mode&61440)===32768&&(d+=h.node.v),0>d)throw new We(28);return d},Xa(h,d,_){Pr(h.node,d+_),h.node.v=Math.max(h.node.v,d+_)},kb(h,d,_,S,D){if((h.node.mode&61440)!==32768)throw new We(43);if(h=h.node.l,D&2||h.buffer!==xe.buffer){if((0<_||_+d<h.length)&&(h.subarray?h=h.subarray(_,_+d):h=Array.prototype.slice.call(h,_,_+d)),_=!0,Ut(),d=void 0,!d)throw new We(48);xe.set(h,d)}else _=!1,d=h.byteOffset;return{o:d,uc:_}},mb(h,d,_,S){return _t.m.write(h,d,0,S,_,!1),0}}},qn=(h,d)=>{var _=0;return h&&(_|=365),d&&(_|=146),_},bt=null,rn={},sr=[],Ma=1,gi=null,yi=!0,We=class{constructor(h){this.name="ErrnoError",this.$=h}},Ki={},Rr=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(h){this.h.flags=h}get position(){return this.h.position}set position(h){this.h.position=h}},Lr=class{constructor(h,d,_,S){h||=this,this.parent=h,this.U=h.U,this.ua=null,this.id=Ma++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function hn(h,d={}){if(h=Qe(h),!h)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new We(32);h=h.split("/").filter(J=>!!J);for(var _=bt,S="/",D=0;D<h.length;D++){var j=D===h.length-1;if(j&&d.parent)break;if(_=vi(_,h[D]),S=V(S+"/"+h[D]),_.ua&&(!j||j&&d.gb)&&(_=_.ua.root),!j||d.fb){for(j=0;(_.mode&61440)===40960;)if(_=jr(S),S=Qe($(S),_),_=hn(S,{Oa:d.Oa+1}).node,40<j++)throw new We(32)}}return{path:S,node:_}}function Gn(h){for(var d;;){if(h===h.parent)return h=h.U.lb,d?h[h.length-1]!=="/"?`${h}/${d}`:h+d:h;d=d?`${h.name}/${d}`:h.name,h=h.parent}}function an(h,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(h+_>>>0)%gi.length}function vi(h,d){var _=(h.mode&61440)===16384?(_=Qi(h,"x"))?_:h.j.ja?0:2:54;if(_)throw new We(_);for(_=gi[an(h.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===h.id&&S===d)return _}return h.j.ja(h,d)}function Ps(h,d,_,S){return h=new Lr(h,d,_,S),d=an(h.parent.id,h.name),h.ec=gi[d],gi[d]=h}function _i(h){var d=["r","w","rw"][h&3];return h&512&&(d+="w"),d}function Qi(h,d){if(yi)return 0;if(!d.includes("r")||h.mode&292){if(d.includes("w")&&!(h.mode&146)||d.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function Ir(h,d){try{return vi(h,d),20}catch{}return Qi(h,"wx")}function tr(h){if(h=sr[h],!h)throw new We(8);return h}function xr(h,d=-1){if(h=Object.assign(new Rr,h),d==-1)e:{for(d=0;4096>=d;d++)if(!sr[d])break e;throw new We(33)}return h.W=d,sr[d]=h}function dr(h,d=-1){return h=xr(h,d),h.m?.Ec?.(h),h}var Ur={open(h){h.m=rn[h.node.xa].m,h.m.open?.(h)},aa(){throw new We(70)}};function bi(h,d){rn[h]={m:d}}function On(h,d){var _=d==="/";if(_&&bt)throw new We(10);if(!_&&d){var S=hn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new We(10);if((S.mode&61440)!==16384)throw new We(54)}d={type:h,Mc:{},lb:d,dc:[]},h=h.U(d),h.U=d,d.root=h,_?bt=h:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function $i(h,d,_){var S=hn(h,{parent:!0}).node;if(h=ge(h),!h||h==="."||h==="..")throw new We(28);var D=Ir(S,h);if(D)throw new We(D);if(!S.j.ta)throw new We(63);return S.j.ta(S,h,d,_)}function zr(h){return $i(h,16895,0)}function Nr(h,d,_){typeof _>"u"&&(_=d,d=438),$i(h,d|8192,_)}function Br(h,d){if(!Qe(h))throw new We(44);var _=hn(d,{parent:!0}).node;if(!_)throw new We(44);d=ge(d);var S=Ir(_,d);if(S)throw new We(S);if(!_.j.Ca)throw new We(63);_.j.Ca(_,d,h)}function jr(h){if(h=hn(h).node,!h)throw new We(44);if(!h.j.la)throw new We(28);return Qe(Gn(h.parent),h.j.la(h))}function ca(h,d,_){if(h==="")throw new We(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof h=="object")var D=h;else{h=V(h);try{D=hn(h,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(D){if(d&128)throw new We(20)}else D=$i(h,_,0),S=!0;if(!D)throw new We(44);if((D.mode&61440)===8192&&(d&=-513),d&65536&&(D.mode&61440)!==16384)throw new We(54);if(!S&&(_=D?(D.mode&61440)===40960?32:(D.mode&61440)===16384&&(_i(d)!=="r"||d&512)?31:Qi(D,_i(d)):44))throw new We(_);if(d&512&&!S){if(_=D,_=typeof _=="string"?hn(_,{fb:!0}).node:_,!_.j.P)throw new We(63);if((_.mode&61440)===16384)throw new We(31);if((_.mode&61440)!==32768)throw new We(28);if(S=Qi(_,"w"))throw new We(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,D=xr({node:D,path:Gn(D),flags:d,seekable:!0,position:0,m:D.m,sc:[],error:!1}),D.m.open&&D.m.open(D),!B.logReadFiles||d&1||(dn||={},h in dn||(dn[h]=1)),D}function ja(h,d,_){if(h.W===null)throw new We(8);if(!h.seekable||!h.m.aa)throw new We(70);if(_!=0&&_!=1&&_!=2)throw new We(28);h.position=h.m.aa(h,d,_),h.sc=[]}var Fa;function Vi(h,d,_){h=V("/dev/"+h);var S=qn(!!d,!!_);mr||=64;var D=mr++<<8|0;bi(D,{open(j){j.seekable=!1},close(){_?.buffer?.length&&_(10)},read(j,J,ee,fe){for(var ue=0,ke=0;ke<fe;ke++){try{var Je=d()}catch{throw new We(29)}if(Je===void 0&&ue===0)throw new We(6);if(Je==null)break;ue++,J[ee+ke]=Je}return ue&&(j.node.timestamp=Date.now()),ue},write(j,J,ee,fe){for(var ue=0;ue<fe;ue++)try{_(J[ee+ue])}catch{throw new We(29)}return fe&&(j.node.timestamp=Date.now()),ue}}),Nr(h,S,D)}var mr,_n={},dn,Mr=void 0,ni=(h,d)=>Object.defineProperty(d,"name",{value:h}),en=[],Tr=[],gt,pr=h=>{if(!h)throw new gt("Cannot use deleted val. handle = "+h);return Tr[h]},kn=h=>{switch(h){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=en.pop()||Tr.length;return Tr[d]=h,Tr[d+1]=1,d}},Ji=h=>{var d=Error,_=ni(h,function(S){this.name=h,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},mn,Zi,un=h=>{for(var d="";z[h];)d+=Zi[z[h++]];return d},fa=[],Pi=()=>{for(;fa.length;){var h=fa.pop();h.g.ea=!1,h.delete()}},nr,Fr={},ha=(h,d)=>{if(d===void 0)throw new gt("ptr should not be undefined");for(;h.C;)d=h.ma(d),h=h.C;return d},Hr={},da=h=>{h=Ec(h);var d=un(h);return Mi(h),d},ma=(h,d)=>{var _=Hr[h];if(_===void 0)throw h=`${d} has unknown type ${da(h)}`,new gt(h);return _},Ei=()=>{},pa=!1,ri=(h,d,_)=>d===_?h:_.C===void 0?null:(h=ri(h,d,_.C),h===null?null:_.Lb(h)),Ha={},ii=(h,d)=>(d=ha(h,d),Fr[d]),ai,qr=(h,d)=>{if(!d.u||!d.o)throw new ai("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new ai("Both smartPtrType and smartPtr must be specified");return d.count={value:1},si(Object.create(h,{g:{value:d,writable:!0}}))},si=h=>typeof FinalizationRegistry>"u"?(si=d=>d,h):(pa=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),si=d=>{var _=d.g;return _.F&&pa.register(d,{g:_},d),d},Ei=d=>{pa.unregister(d)},si(h)),wi={},Gr=h=>{for(;h.length;){var d=h.pop();h.pop()(d)}};function Ar(h){return this.fromWireType(Ne[h>>2])}var or={},Ti={},xt=(h,d,_)=>{function S(ee){if(ee=_(ee),ee.length!==h.length)throw new ai("Mismatched type converter count");for(var fe=0;fe<h.length;++fe)Dr(h[fe],ee[fe])}h.forEach(function(ee){Ti[ee]=d});var D=Array(d.length),j=[],J=0;d.forEach((ee,fe)=>{Hr.hasOwnProperty(ee)?D[fe]=Hr[ee]:(j.push(ee),or.hasOwnProperty(ee)||(or[ee]=[]),or[ee].push(()=>{D[fe]=Hr[ee],++J,J===j.length&&S(D)}))}),j.length===0&&S(D)};function Ai(h,d,_={}){var S=d.name;if(!h)throw new gt(`type "${S}" must have a positive integer typeid pointer`);if(Hr.hasOwnProperty(h)){if(_.Vb)return;throw new gt(`Cannot register type '${S}' twice`)}Hr[h]=d,delete Ti[h],or.hasOwnProperty(h)&&(d=or[h],delete or[h],d.forEach(D=>D()))}function Dr(h,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Ai(h,d,_)}var ea=h=>{throw new gt(h.g.u.i.name+" instance already deleted")};function ga(){}var Li=(h,d,_)=>{if(h[d].A===void 0){var S=h[d];h[d]=function(...D){if(!h[d].A.hasOwnProperty(D.length))throw new gt(`Function '${_}' called with an invalid number of arguments (${D.length}) - expects one of (${h[d].A})!`);return h[d].A[D.length].apply(this,D)},h[d].A=[],h[d].A[S.da]=S}},Si=(h,d,_)=>{if(B.hasOwnProperty(h)){if(_===void 0||B[h].A!==void 0&&B[h].A[_]!==void 0)throw new gt(`Cannot register public name '${h}' twice`);if(Li(B,h,h),B.hasOwnProperty(_))throw new gt(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);B[h].A[_]=d}else B[h]=d,_!==void 0&&(B[h].Lc=_)},oi=h=>{if(h===void 0)return"_unknown";h=h.replace(/[^a-zA-Z0-9_]/g,"$");var d=h.charCodeAt(0);return 48<=d&&57>=d?`_${h}`:h};function lr(h,d,_,S,D,j,J,ee){this.name=h,this.constructor=d,this.M=_,this.O=S,this.C=D,this.Qb=j,this.ma=J,this.Lb=ee,this.pb=[]}var li=(h,d,_)=>{for(;d!==_;){if(!d.ma)throw new gt(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);h=d.ma(h),d=d.C}return h};function Ui(h,d){if(d===null){if(this.La)throw new gt(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new gt(`Cannot pass "${Ge(d)}" as a ${this.name}`);if(!d.g.o)throw new gt(`Cannot pass deleted object as a pointer of type ${this.name}`);return li(d.g.o,d.g.u.i,this.i)}function ya(h,d){if(d===null){if(this.La)throw new gt(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return h!==null&&h.push(this.O,_),_}return 0}if(!d||!d.g)throw new gt(`Cannot pass "${Ge(d)}" as a ${this.name}`);if(!d.g.o)throw new gt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new gt(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=li(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new gt("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new gt(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,kn(()=>S.delete())),h!==null&&h.push(this.O,_)}break;default:throw new gt("Unsupporting sharing policy")}}return _}function Ci(h,d){if(d===null){if(this.La)throw new gt(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new gt(`Cannot pass "${Ge(d)}" as a ${this.name}`);if(!d.g.o)throw new gt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new gt(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return li(d.g.o,d.g.u.i,this.i)}function Ri(h,d,_,S,D,j,J,ee,fe,ue,ke){this.name=h,this.i=d,this.La=_,this.ra=S,this.sa=D,this.hc=j,this.mc=J,this.qb=ee,this.Na=fe,this.ic=ue,this.O=ke,D||d.C!==void 0?this.toWireType=ya:(this.toWireType=S?Ui:Ci,this.L=null)}var Da=(h,d,_)=>{if(!B.hasOwnProperty(h))throw new ai("Replacing nonexistent public symbol");B[h].A!==void 0&&_!==void 0?B[h].A[_]=d:(B[h]=d,B[h].da=_)},Yr=[],va,qa=h=>{var d=Yr[h];return d||(h>=Yr.length&&(Yr.length=h+1),Yr[h]=d=va.get(h)),d},Oa=(h,d,_=[])=>(h.includes("j")?(h=h.replace(/p/g,"i"),d=(0,B["dynCall_"+h])(d,..._)):d=qa(d)(..._),d),Ii=(h,d)=>(..._)=>Oa(h,d,_),Qn=(h,d)=>{h=un(h);var _=h.includes("j")?Ii(h,d):qa(d);if(typeof _!="function")throw new gt(`unknown function pointer with signature ${h}: ${d}`);return _},ta,Wr=(h,d)=>{function _(j){D[j]||Hr[j]||(Ti[j]?Ti[j].forEach(_):(S.push(j),D[j]=!0))}var S=[],D={};throw d.forEach(_),new ta(`${h}: `+S.map(da).join([", "]))};function Ls(h){for(var d=1;d<h.length;++d)if(h[d]!==null&&h[d].L===void 0)return!0;return!1}function xi(h,d,_,S,D){var j=d.length;if(2>j)throw new gt("argTypes array size mismatch! Must at least get return value and 'this' types!");var J=d[1]!==null&&_!==null,ee=Ls(d),fe=d[0].name!=="void",ue=j-2,ke=Array(ue),Je=[],lt=[];return ni(h,function(...re){if(re.length!==ue)throw new gt(`function ${h} called with ${re.length} arguments, expected ${ue}`);if(lt.length=0,Je.length=J?2:1,Je[0]=D,J){var je=d[1].toWireType(lt,this);Je[1]=je}for(var it=0;it<ue;++it)ke[it]=d[it+2].toWireType(lt,re[it]),Je.push(ke[it]);if(re=S(...Je),ee)Gr(lt);else for(it=J?1:2;it<d.length;it++){var qe=it===1?je:ke[it-2];d[it].L!==null&&d[it].L(qe)}return je=fe?d[0].fromWireType(re):void 0,je})}var W=(h,d)=>{for(var _=[],S=0;S<h;S++)_.push(Ne[d+4*S>>2]);return _},te=h=>{h=h.trim();const d=h.indexOf("(");return d!==-1?h.substr(0,d):h},de=(h,d,_)=>{if(!(h instanceof Object))throw new gt(`${_} with invalid "this": ${h}`);if(!(h instanceof d.i.constructor))throw new gt(`${_} incompatible with "this" of type ${h.constructor.name}`);if(!h.g.o)throw new gt(`cannot call emscripten binding method ${_} on deleted object`);return li(h.g.o,h.g.u.i,d.i)},ye=h=>{9<h&&--Tr[h+1]===0&&(Tr[h]=void 0,en.push(h))},Ee={name:"emscripten::val",fromWireType:h=>{var d=pr(h);return ye(h),d},toWireType:(h,d)=>kn(d),argPackAdvance:8,readValueFromPointer:Ar,L:null},He=(h,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(xe[S])}:function(S){return this.fromWireType(z[S])};case 2:return _?function(S){return this.fromWireType(oe[S>>1])}:function(S){return this.fromWireType(Se[S>>1])};case 4:return _?function(S){return this.fromWireType(Ae[S>>2])}:function(S){return this.fromWireType(Ne[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},Ge=h=>{if(h===null)return"null";var d=typeof h;return d==="object"||d==="array"||d==="function"?h.toString():""+h},Pe=(h,d)=>{switch(d){case 4:return function(_){return this.fromWireType(Ye[_>>2])};case 8:return function(_){return this.fromWireType(mt[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${h}`)}},Ke=(h,d,_)=>{switch(d){case 1:return _?S=>xe[S]:S=>z[S];case 2:return _?S=>oe[S>>1]:S=>Se[S>>1];case 4:return _?S=>Ae[S>>2]:S=>Ne[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},rt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Nt=(h,d)=>{for(var _=h>>1,S=_+d/2;!(_>=S)&&Se[_];)++_;if(_<<=1,32<_-h&&rt)return rt.decode(z.subarray(h,_));for(_="",S=0;!(S>=d/2);++S){var D=oe[h+2*S>>1];if(D==0)break;_+=String.fromCharCode(D)}return _},zn=(h,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*h.length?_/2:h.length;for(var D=0;D<_;++D)oe[d>>1]=h.charCodeAt(D),d+=2;return oe[d>>1]=0,d-S},u=h=>2*h.length,y=(h,d)=>{for(var _=0,S="";!(_>=d/4);){var D=Ae[h+4*_>>2];if(D==0)break;++_,65536<=D?(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023)):S+=String.fromCharCode(D)}return S},A=(h,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var D=0;D<h.length;++D){var j=h.charCodeAt(D);if(55296<=j&&57343>=j){var J=h.charCodeAt(++D);j=65536+((j&1023)<<10)|J&1023}if(Ae[d>>2]=j,d+=4,d+4>_)break}return Ae[d>>2]=0,d-S},k=h=>{for(var d=0,_=0;_<h.length;++_){var S=h.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},ne=(h,d,_)=>{var S=[];return h=h.toWireType(S,_),S.length&&(Ne[d>>2]=kn(S)),h},pe={},Be=h=>{var d=pe[h];return d===void 0?un(h):d},It=[],Jn=h=>{var d=It.length;return It.push(h),d},cn=(h,d)=>{for(var _=Array(h),S=0;S<h;++S)_[S]=ma(Ne[d+4*S>>2],"parameter "+S);return _},Bn=Reflect.construct,ui=[],zi={},Bi=()=>{if(!Ni){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:I||"./this.program"},d;for(d in zi)zi[d]===void 0?delete h[d]:h[d]=zi[d];var _=[];for(d in h)_.push(`${d}=${h[d]}`);Ni=_}return Ni},Ni,_a=h=>h%4===0&&(h%100!==0||h%400===0),as=[31,29,31,30,31,30,31,31,30,31,30,31],ss=[31,28,31,30,31,30,31,31,30,31,30,31],xh=(h,d,_,S)=>{function D(re,je,it){for(re=typeof re=="number"?re.toString():re||"";re.length<je;)re=it[0]+re;return re}function j(re,je){return D(re,je,"0")}function J(re,je){function it(pn){return 0>pn?-1:0<pn?1:0}var qe;return(qe=it(re.getFullYear()-je.getFullYear()))===0&&(qe=it(re.getMonth()-je.getMonth()))===0&&(qe=it(re.getDate()-je.getDate())),qe}function ee(re){switch(re.getDay()){case 0:return new Date(re.getFullYear()-1,11,29);case 1:return re;case 2:return new Date(re.getFullYear(),0,3);case 3:return new Date(re.getFullYear(),0,2);case 4:return new Date(re.getFullYear(),0,1);case 5:return new Date(re.getFullYear()-1,11,31);case 6:return new Date(re.getFullYear()-1,11,30)}}function fe(re){var je=re.ba;for(re=new Date(new Date(re.ca+1900,0,1).getTime());0<je;){var it=re.getMonth(),qe=(_a(re.getFullYear())?as:ss)[it];if(je>qe-re.getDate())je-=qe-re.getDate()+1,re.setDate(1),11>it?re.setMonth(it+1):(re.setMonth(0),re.setFullYear(re.getFullYear()+1));else{re.setDate(re.getDate()+je);break}}return it=new Date(re.getFullYear()+1,0,4),je=ee(new Date(re.getFullYear(),0,4)),it=ee(it),0>=J(je,re)?0>=J(it,re)?re.getFullYear()+1:re.getFullYear():re.getFullYear()-1}var ue=Ne[S+40>>2];S={pc:Ae[S>>2],oc:Ae[S+4>>2],Da:Ae[S+8>>2],Qa:Ae[S+12>>2],Ea:Ae[S+16>>2],ca:Ae[S+20>>2],R:Ae[S+24>>2],ba:Ae[S+28>>2],Nc:Ae[S+32>>2],nc:Ae[S+36>>2],qc:ue&&ue?Fe(z,ue):""},_=_?Fe(z,_):"",ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ke in ue)_=_.replace(new RegExp(ke,"g"),ue[ke]);var Je="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lt="January February March April May June July August September October November December".split(" ");ue={"%a":re=>Je[re.R].substring(0,3),"%A":re=>Je[re.R],"%b":re=>lt[re.Ea].substring(0,3),"%B":re=>lt[re.Ea],"%C":re=>j((re.ca+1900)/100|0,2),"%d":re=>j(re.Qa,2),"%e":re=>D(re.Qa,2," "),"%g":re=>fe(re).toString().substring(2),"%G":fe,"%H":re=>j(re.Da,2),"%I":re=>(re=re.Da,re==0?re=12:12<re&&(re-=12),j(re,2)),"%j":re=>{for(var je=0,it=0;it<=re.Ea-1;je+=(_a(re.ca+1900)?as:ss)[it++]);return j(re.Qa+je,3)},"%m":re=>j(re.Ea+1,2),"%M":re=>j(re.oc,2),"%n":()=>`
`,"%p":re=>0<=re.Da&&12>re.Da?"AM":"PM","%S":re=>j(re.pc,2),"%t":()=>"	","%u":re=>re.R||7,"%U":re=>j(Math.floor((re.ba+7-re.R)/7),2),"%V":re=>{var je=Math.floor((re.ba+7-(re.R+6)%7)/7);if(2>=(re.R+371-re.ba-2)%7&&je++,je)je==53&&(it=(re.R+371-re.ba)%7,it==4||it==3&&_a(re.ca)||(je=1));else{je=52;var it=(re.R+7-re.ba-1)%7;(it==4||it==5&&_a(re.ca%400-1))&&je++}return j(je,2)},"%w":re=>re.R,"%W":re=>j(Math.floor((re.ba+7-(re.R+6)%7)/7),2),"%y":re=>(re.ca+1900).toString().substring(2),"%Y":re=>re.ca+1900,"%z":re=>{re=re.nc;var je=0<=re;return re=Math.abs(re)/60,(je?"+":"-")+("0000"+(re/60*100+re%60)).slice(-4)},"%Z":re=>re.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(ke in ue)_.includes(ke)&&(_=_.replace(new RegExp(ke,"g"),ue[ke](S)));return _=_.replace(/\0\0/g,"%"),ke=Pn(_,!1),ke.length>d?0:(xe.set(ke,h),ke.length-1)};[44].forEach(h=>{Ki[h]=new We(h),Ki[h].stack="<generic error, no stack>"}),gi=Array(4096),On(_t,"/"),zr("/tmp"),zr("/home"),zr("/home/web_user"),(function(){zr("/dev"),bi(259,{read:()=>0,write:(S,D,j,J)=>J}),Nr("/dev/null",259),jt(1280,Un),jt(1536,er),Nr("/dev/tty",1280),Nr("/dev/tty1",1536);var h=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=$e(h).byteLength),h[--d]);Vi("random",_),Vi("urandom",_),zr("/dev/shm"),zr("/dev/shm/tmp")})(),(function(){zr("/proc");var h=zr("/proc/self");zr("/proc/self/fd"),On({U(){var d=Ps(h,"fd",16895,73);return d.j={ja(_,S){var D=tr(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>D.path}},_.parent=_}},d}},"/proc/self/fd")})(),gt=B.BindingError=class extends Error{constructor(h){super(h),this.name="BindingError"}},Tr.push(0,1,void 0,1,null,1,!0,1,!1,1),B.count_emval_handles=()=>Tr.length/2-5-en.length,mn=B.PureVirtualError=Ji("PureVirtualError");for(var bc=Array(256),nl=0;256>nl;++nl)bc[nl]=String.fromCharCode(nl);Zi=bc,B.getInheritedInstanceCount=()=>Object.keys(Fr).length,B.getLiveInheritedInstances=()=>{var h=[],d;for(d in Fr)Fr.hasOwnProperty(d)&&h.push(Fr[d]);return h},B.flushPendingDeletes=Pi,B.setDelayFunction=h=>{nr=h,fa.length&&nr&&nr(Pi)},ai=B.InternalError=class extends Error{constructor(h){super(h),this.name="InternalError"}},Object.assign(ga.prototype,{isAliasOf:function(h){if(!(this instanceof ga&&h instanceof ga))return!1;var d=this.g.u.i,_=this.g.o;h.g=h.g;var S=h.g.u.i;for(h=h.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)h=S.ma(h),S=S.C;return d===S&&_===h},clone:function(){if(this.g.o||ea(this),this.g.ha)return this.g.count.value+=1,this;var h=si,d=Object,_=d.create,S=Object.getPrototypeOf(this),D=this.g;return h=h(_.call(d,S,{g:{value:{count:D.count,ea:D.ea,ha:D.ha,o:D.o,u:D.u,F:D.F,J:D.J}}})),h.g.count.value+=1,h.g.ea=!1,h},delete(){if(this.g.o||ea(this),this.g.ea&&!this.g.ha)throw new gt("Object already scheduled for deletion");Ei(this);var h=this.g;--h.count.value,h.count.value===0&&(h.F?h.J.O(h.F):h.u.i.O(h.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||ea(this),this.g.ea&&!this.g.ha)throw new gt("Object already scheduled for deletion");return fa.push(this),fa.length===1&&nr&&nr(Pi),this.g.ea=!0,this}}),Object.assign(Ri.prototype,{Rb(h){return this.qb&&(h=this.qb(h)),h},ab(h){this.O?.(h)},argPackAdvance:8,readValueFromPointer:Ar,fromWireType:function(h){function d(){return this.sa?qr(this.i.M,{u:this.hc,o:_,J:this,F:h}):qr(this.i.M,{u:this,o:h})}var _=this.Rb(h);if(!_)return this.ab(h),null;var S=ii(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=h,S.clone()):(S=S.clone(),this.ab(h),S);if(S=this.i.Qb(_),S=Ha[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var D=ri(_,this.i,S.i);return D===null?d.call(this):this.sa?qr(S.i.M,{u:S,o:D,J:this,F:h}):qr(S.i.M,{u:S,o:D})}}),ta=B.UnboundTypeError=Ji("UnboundTypeError");var su={__syscall_fcntl64:function(h,d,_){Mr=_;try{var S=tr(h);switch(d){case 0:var D=g();if(0>D)break;for(;sr[D];)D++;return dr(S,D).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return D=g(),S.flags|=D,0;case 12:return D=g(),oe[D+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(j){if(typeof _n>"u"||j.name!=="ErrnoError")throw j;return-j.$}},__syscall_ioctl:function(h,d,_){Mr=_;try{var S=tr(h);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){h=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var D=g();Ae[D>>2]=25856,Ae[D+4>>2]=5,Ae[D+8>>2]=191,Ae[D+12>>2]=35387;for(var j=0;32>j;j++)xe[D+j+17]=h[j]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(D=g(),h=[],j=0;32>j;j++)h.push(xe[D+j+17]);return 0;case 21519:return S.s?(D=g(),Ae[D>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(D=g(),!S.m.Wb)throw new We(59);return S.m.Wb(S,d,D);case 21523:return S.s?(S.s.V.Zb&&(j=[24,80],D=g(),oe[D>>1]=j[0],oe[D+2>>1]=j[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(J){if(typeof _n>"u"||J.name!=="ErrnoError")throw J;return-J.$}},__syscall_openat:function(h,d,_,S){Mr=S;try{d=d?Fe(z,d):"";var D=d;if(D.charAt(0)==="/")d=D;else{var j=h===-100?"/":tr(h).path;if(D.length==0)throw new We(44);d=V(j+"/"+D)}var J=S?g():0;return ca(d,_,J).W}catch(ee){if(typeof _n>"u"||ee.name!=="ErrnoError")throw ee;return-ee.$}},_abort_js:()=>{Ut("")},_embind_create_inheriting_constructor:(h,d,_)=>{h=un(h),d=ma(d,"wrapper"),_=pr(_);var S=d.i,D=S.M,j=S.C.M,J=S.C.constructor;return h=ni(h,function(...ee){S.C.pb.forEach((function(fe){if(this[fe]===j[fe])throw new mn(`Pure virtual function ${fe} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:D}),this.__construct(...ee)}),D.__construct=function(...ee){if(this===D)throw new gt("Pass correct 'this' to __construct");ee=J.implement(this,...ee),Ei(ee);var fe=ee.g;if(ee.notifyOnDestruction(),fe.ha=!0,Object.defineProperties(this,{g:{value:fe}}),si(this),ee=fe.o,ee=ha(S,ee),Fr.hasOwnProperty(ee))throw new gt(`Tried to register registered instance: ${ee}`);Fr[ee]=this},D.__destruct=function(){if(this===D)throw new gt("Pass correct 'this' to __destruct");Ei(this);var ee=this.g.o;if(ee=ha(S,ee),Fr.hasOwnProperty(ee))delete Fr[ee];else throw new gt(`Tried to unregister unregistered instance: ${ee}`)},h.prototype=Object.create(D),Object.assign(h.prototype,_),kn(h)},_embind_finalize_value_object:h=>{var d=wi[h];delete wi[h];var _=d.Na,S=d.O,D=d.eb,j=D.map(J=>J.Ub).concat(D.map(J=>J.kc));xt([h],j,J=>{var ee={};return D.forEach((fe,ue)=>{var ke=J[ue],Je=fe.Sb,lt=fe.Tb,re=J[ue+D.length],je=fe.jc,it=fe.lc;ee[fe.Ob]={read:qe=>ke.fromWireType(Je(lt,qe)),write:(qe,pn)=>{var Ze=[];je(it,qe,re.toWireType(Ze,pn)),Gr(Ze)}}}),[{name:d.name,fromWireType:fe=>{var ue={},ke;for(ke in ee)ue[ke]=ee[ke].read(fe);return S(fe),ue},toWireType:(fe,ue)=>{for(var ke in ee)if(!(ke in ue))throw new TypeError(`Missing field: "${ke}"`);var Je=_();for(ke in ee)ee[ke].write(Je,ue[ke]);return fe!==null&&fe.push(S,Je),Je},argPackAdvance:8,readValueFromPointer:Ar,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(h,d,_,S)=>{d=un(d),Dr(h,{name:d,fromWireType:function(D){return!!D},toWireType:function(D,j){return j?_:S},argPackAdvance:8,readValueFromPointer:function(D){return this.fromWireType(z[D])},L:null})},_embind_register_class:(h,d,_,S,D,j,J,ee,fe,ue,ke,Je,lt)=>{ke=un(ke),j=Qn(D,j),ee&&=Qn(J,ee),ue&&=Qn(fe,ue),lt=Qn(Je,lt);var re=oi(ke);Si(re,function(){Wr(`Cannot construct ${ke} due to unbound types`,[S])}),xt([h,d,_],S?[S]:[],je=>{if(je=je[0],S)var it=je.i,qe=it.M;else qe=ga.prototype;je=ni(ke,function(...wn){if(Object.getPrototypeOf(this)!==pn)throw new gt("Use 'new' to construct "+ke);if(Ze.Z===void 0)throw new gt(ke+" has no accessible constructor");var ur=Ze.Z[wn.length];if(ur===void 0)throw new gt(`Tried to invoke ctor of ${ke} with invalid number of parameters (${wn.length}) - expected (${Object.keys(Ze.Z).toString()}) parameters instead!`);return ur.apply(this,wn)});var pn=Object.create(qe,{constructor:{value:je}});je.prototype=pn;var Ze=new lr(ke,je,pn,lt,it,j,ee,ue);if(Ze.C){var zt;(zt=Ze.C).na??(zt.na=[]),Ze.C.na.push(Ze)}return it=new Ri(ke,Ze,!0,!1,!1),zt=new Ri(ke+"*",Ze,!1,!1,!1),qe=new Ri(ke+" const*",Ze,!1,!0,!1),Ha[h]={pointerType:zt,Hb:qe},Da(re,je),[it,zt,qe]})},_embind_register_class_class_function:(h,d,_,S,D,j,J)=>{var ee=W(_,S);d=un(d),d=te(d),j=Qn(D,j),xt([],[h],fe=>{function ue(){Wr(`Cannot call ${ke} due to unbound types`,ee)}fe=fe[0];var ke=`${fe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Je=fe.i.constructor;return Je[d]===void 0?(ue.da=_-1,Je[d]=ue):(Li(Je,d,ke),Je[d].A[_-1]=ue),xt([],ee,lt=>{if(lt=xi(ke,[lt[0],null].concat(lt.slice(1)),null,j,J),Je[d].A===void 0?(lt.da=_-1,Je[d]=lt):Je[d].A[_-1]=lt,fe.i.na)for(const re of fe.i.na)re.constructor.hasOwnProperty(d)||(re.constructor[d]=lt);return[]}),[]})},_embind_register_class_class_property:(h,d,_,S,D,j,J,ee)=>{d=un(d),j=Qn(D,j),xt([],[h],fe=>{fe=fe[0];var ue=`${fe.name}.${d}`,ke={get(){Wr(`Cannot access ${ue} due to unbound types`,[_])},enumerable:!0,configurable:!0};return ke.set=ee?()=>{Wr(`Cannot access ${ue} due to unbound types`,[_])}:()=>{throw new gt(`${ue} is a read-only property`)},Object.defineProperty(fe.i.constructor,d,ke),xt([],[_],Je=>{Je=Je[0];var lt={get(){return Je.fromWireType(j(S))},enumerable:!0};return ee&&(ee=Qn(J,ee),lt.set=re=>{var je=[];ee(S,Je.toWireType(je,re)),Gr(je)}),Object.defineProperty(fe.i.constructor,d,lt),[]}),[]})},_embind_register_class_constructor:(h,d,_,S,D,j)=>{var J=W(d,_);D=Qn(S,D),xt([],[h],ee=>{ee=ee[0];var fe=`constructor ${ee.name}`;if(ee.i.Z===void 0&&(ee.i.Z=[]),ee.i.Z[d-1]!==void 0)throw new gt(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${ee.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ee.i.Z[d-1]=()=>{Wr(`Cannot construct ${ee.name} due to unbound types`,J)},xt([],J,ue=>(ue.splice(1,0,null),ee.i.Z[d-1]=xi(fe,ue,null,D,j),[])),[]})},_embind_register_class_function:(h,d,_,S,D,j,J,ee)=>{var fe=W(_,S);d=un(d),d=te(d),j=Qn(D,j),xt([],[h],ue=>{function ke(){Wr(`Cannot call ${Je} due to unbound types`,fe)}ue=ue[0];var Je=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),ee&&ue.i.pb.push(d);var lt=ue.i.M,re=lt[d];return re===void 0||re.A===void 0&&re.className!==ue.name&&re.da===_-2?(ke.da=_-2,ke.className=ue.name,lt[d]=ke):(Li(lt,d,Je),lt[d].A[_-2]=ke),xt([],fe,je=>(je=xi(Je,je,ue,j,J),lt[d].A===void 0?(je.da=_-2,lt[d]=je):lt[d].A[_-2]=je,[])),[]})},_embind_register_class_property:(h,d,_,S,D,j,J,ee,fe,ue)=>{d=un(d),D=Qn(S,D),xt([],[h],ke=>{ke=ke[0];var Je=`${ke.name}.${d}`,lt={get(){Wr(`Cannot access ${Je} due to unbound types`,[_,J])},enumerable:!0,configurable:!0};return lt.set=fe?()=>Wr(`Cannot access ${Je} due to unbound types`,[_,J]):()=>{throw new gt(Je+" is a read-only property")},Object.defineProperty(ke.i.M,d,lt),xt([],fe?[_,J]:[_],re=>{var je=re[0],it={get(){var pn=de(this,ke,Je+" getter");return je.fromWireType(D(j,pn))},enumerable:!0};if(fe){fe=Qn(ee,fe);var qe=re[1];it.set=function(pn){var Ze=de(this,ke,Je+" setter"),zt=[];fe(ue,Ze,qe.toWireType(zt,pn)),Gr(zt)}}return Object.defineProperty(ke.i.M,d,it),[]}),[]})},_embind_register_emval:h=>Dr(h,Ee),_embind_register_enum:(h,d,_,S)=>{function D(){}d=un(d),D.values={},Dr(h,{name:d,constructor:D,fromWireType:function(j){return this.constructor.values[j]},toWireType:(j,J)=>J.value,argPackAdvance:8,readValueFromPointer:He(d,_,S),L:null}),Si(d,D)},_embind_register_enum_value:(h,d,_)=>{var S=ma(h,"enum");d=un(d),h=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:ni(`${S.name}_${d}`,function(){})}}),h.values[_]=S,h[d]=S},_embind_register_float:(h,d,_)=>{d=un(d),Dr(h,{name:d,fromWireType:S=>S,toWireType:(S,D)=>D,argPackAdvance:8,readValueFromPointer:Pe(d,_),L:null})},_embind_register_function:(h,d,_,S,D,j)=>{var J=W(d,_);h=un(h),h=te(h),D=Qn(S,D),Si(h,function(){Wr(`Cannot call ${h} due to unbound types`,J)},d-1),xt([],J,ee=>(Da(h,xi(h,[ee[0],null].concat(ee.slice(1)),null,D,j),d-1),[]))},_embind_register_integer:(h,d,_,S,D)=>{if(d=un(d),D===-1&&(D=4294967295),D=ee=>ee,S===0){var j=32-8*_;D=ee=>ee<<j>>>j}var J=d.includes("unsigned")?function(ee,fe){return fe>>>0}:function(ee,fe){return fe};Dr(h,{name:d,fromWireType:D,toWireType:J,argPackAdvance:8,readValueFromPointer:Ke(d,_,S!==0),L:null})},_embind_register_memory_view:(h,d,_)=>{function S(j){return new D(xe.buffer,Ne[j+4>>2],Ne[j>>2])}var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=un(_),Dr(h,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(h,d)=>{d=un(d);var _=d==="std::string";Dr(h,{name:d,fromWireType:function(S){var D=Ne[S>>2],j=S+4;if(_)for(var J=j,ee=0;ee<=D;++ee){var fe=j+ee;if(ee==D||z[fe]==0){if(J=J?Fe(z,J,fe-J):"",ue===void 0)var ue=J;else ue+="\0",ue+=J;J=fe+1}}else{for(ue=Array(D),ee=0;ee<D;++ee)ue[ee]=String.fromCharCode(z[j+ee]);ue=ue.join("")}return Mi(S),ue},toWireType:function(S,D){D instanceof ArrayBuffer&&(D=new Uint8Array(D));var j=typeof D=="string";if(!(j||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array))throw new gt("Cannot pass non-string to std::string");var J=_&&j?Zt(D):D.length,ee=os(4+J+1),fe=ee+4;if(Ne[ee>>2]=J,_&&j)St(D,z,fe,J+1);else if(j)for(j=0;j<J;++j){var ue=D.charCodeAt(j);if(255<ue)throw Mi(fe),new gt("String has UTF-16 code units that do not fit in 8 bits");z[fe+j]=ue}else for(j=0;j<J;++j)z[fe+j]=D[j];return S!==null&&S.push(Mi,ee),ee},argPackAdvance:8,readValueFromPointer:Ar,L(S){Mi(S)}})},_embind_register_std_wstring:(h,d,_)=>{if(_=un(_),d===2)var S=Nt,D=zn,j=u,J=ee=>Se[ee>>1];else d===4&&(S=y,D=A,j=k,J=ee=>Ne[ee>>2]);Dr(h,{name:_,fromWireType:ee=>{for(var fe=Ne[ee>>2],ue,ke=ee+4,Je=0;Je<=fe;++Je){var lt=ee+4+Je*d;(Je==fe||J(lt)==0)&&(ke=S(ke,lt-ke),ue===void 0?ue=ke:(ue+="\0",ue+=ke),ke=lt+d)}return Mi(ee),ue},toWireType:(ee,fe)=>{if(typeof fe!="string")throw new gt(`Cannot pass non-string to C++ string type ${_}`);var ue=j(fe),ke=os(4+ue+d);return Ne[ke>>2]=ue/d,D(fe,ke+4,ue+d),ee!==null&&ee.push(Mi,ke),ke},argPackAdvance:8,readValueFromPointer:Ar,L(ee){Mi(ee)}})},_embind_register_value_object:(h,d,_,S,D,j)=>{wi[h]={name:un(d),Na:Qn(_,S),O:Qn(D,j),eb:[]}},_embind_register_value_object_field:(h,d,_,S,D,j,J,ee,fe,ue)=>{wi[h].eb.push({Ob:un(d),Ub:_,Sb:Qn(S,D),Tb:j,kc:J,jc:Qn(ee,fe),lc:ue})},_embind_register_void:(h,d)=>{d=un(d),Dr(h,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(h,d,_)=>z.copyWithin(h,d,d+_),_emval_as:(h,d,_)=>(h=pr(h),d=ma(d,"emval::as"),ne(d,_,h)),_emval_call_method:(h,d,_,S,D)=>(h=It[h],d=pr(d),_=Be(_),h(d,d[_],S,D)),_emval_decref:ye,_emval_get_method_caller:(h,d,_)=>{var S=cn(h,d),D=S.shift();h--;var j=Array(h);return d=`methodCaller<(${S.map(J=>J.name).join(", ")}) => ${D.name}>`,Jn(ni(d,(J,ee,fe,ue)=>{for(var ke=0,Je=0;Je<h;++Je)j[Je]=S[Je].readValueFromPointer(ue+ke),ke+=S[Je].argPackAdvance;return J=_===1?Bn(ee,j):ee.apply(J,j),ne(D,fe,J)}))},_emval_get_module_property:h=>(h=Be(h),kn(B[h])),_emval_get_property:(h,d)=>(h=pr(h),d=pr(d),kn(h[d])),_emval_incref:h=>{9<h&&(Tr[h+1]+=1)},_emval_new_array:()=>kn([]),_emval_new_cstring:h=>kn(Be(h)),_emval_new_object:()=>kn({}),_emval_run_destructors:h=>{var d=pr(h);Gr(d),ye(h)},_emval_set_property:(h,d,_)=>{h=pr(h),d=pr(d),_=pr(_),h[d]=_},_emval_take_value:(h,d)=>(h=ma(h,"_emval_take_value"),h=h.readValueFromPointer(d),kn(h)),emscripten_asm_const_int:(h,d,_)=>{ui.length=0;for(var S;S=z[d++];){var D=S!=105;D&=S!=112,_+=D&&_%8?4:0,ui.push(S==112?Ne[_>>2]:S==105?Ae[_>>2]:mt[_>>3]),_+=D?8:4}return Dn[h](...ui)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:h=>{var d=z.length;if(h>>>=0,2147483648<h)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,h+100663296);var D=Math;S=Math.max(h,S);e:{D=(D.min.call(D,2147483648,S+(65536-S%65536)%65536)-_e.buffer.byteLength+65535)/65536;try{_e.grow(D),ft();var j=1;break e}catch{}j=void 0}if(j)return!0}return!1},environ_get:(h,d)=>{var _=0;return Bi().forEach((S,D)=>{var j=d+_;for(D=Ne[h+4*D>>2]=j,j=0;j<S.length;++j)xe[D++]=S.charCodeAt(j);xe[D]=0,_+=S.length+1}),0},environ_sizes_get:(h,d)=>{var _=Bi();Ne[h>>2]=_.length;var S=0;return _.forEach(D=>S+=D.length+1),Ne[d>>2]=S,0},fd_close:function(h){try{var d=tr(h);if(d.W===null)throw new We(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{sr[d.W]=null}return d.W=null,0}catch(_){if(typeof _n>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(h,d,_,S){try{e:{var D=tr(h);h=d;for(var j,J=d=0;J<_;J++){var ee=Ne[h>>2],fe=Ne[h+4>>2];h+=8;var ue=D,ke=j,Je=xe;if(0>fe||0>ke)throw new We(28);if(ue.W===null)throw new We(8);if((ue.flags&2097155)===1)throw new We(8);if((ue.node.mode&61440)===16384)throw new We(31);if(!ue.m.read)throw new We(28);var lt=typeof ke<"u";if(!lt)ke=ue.position;else if(!ue.seekable)throw new We(70);var re=ue.m.read(ue,Je,ee,fe,ke);lt||(ue.position+=re);var je=re;if(0>je){var it=-1;break e}if(d+=je,je<fe)break;typeof j<"u"&&(j+=je)}it=d}return Ne[S>>2]=it,0}catch(qe){if(typeof _n>"u"||qe.name!=="ErrnoError")throw qe;return qe.$}},fd_seek:function(h,d,_,S,D){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var j=tr(h);return ja(j,d,S),Ht=[j.position>>>0,(Hn=j.position,1<=+Math.abs(Hn)?0<Hn?+Math.floor(Hn/4294967296)>>>0:~~+Math.ceil((Hn-+(~~Hn>>>0))/4294967296)>>>0:0)],Ae[D>>2]=Ht[0],Ae[D+4>>2]=Ht[1],j.Ka&&d===0&&S===0&&(j.Ka=null),0}catch(J){if(typeof _n>"u"||J.name!=="ErrnoError")throw J;return J.$}},fd_write:function(h,d,_,S){try{e:{var D=tr(h);h=d;for(var j,J=d=0;J<_;J++){var ee=Ne[h>>2],fe=Ne[h+4>>2];h+=8;var ue=D,ke=ee,Je=fe,lt=j,re=xe;if(0>Je||0>lt)throw new We(28);if(ue.W===null)throw new We(8);if((ue.flags&2097155)===0)throw new We(8);if((ue.node.mode&61440)===16384)throw new We(31);if(!ue.m.write)throw new We(28);ue.seekable&&ue.flags&1024&&ja(ue,0,2);var je=typeof lt<"u";if(!je)lt=ue.position;else if(!ue.seekable)throw new We(70);var it=ue.m.write(ue,re,ke,Je,lt,void 0);je||(ue.position+=it);var qe=it;if(0>qe){var pn=-1;break e}d+=qe,typeof j<"u"&&(j+=qe)}pn=d}return Ne[S>>2]=pn,0}catch(Ze){if(typeof _n>"u"||Ze.name!=="ErrnoError")throw Ze;return Ze.$}},strftime_l:(h,d,_,S)=>xh(h,d,_,S)},Yn=(function(){function h(_){return Yn=_.exports,_e=Yn.memory,ft(),va=Yn.__indirect_function_table,kt.unshift(Yn.__wasm_call_ctors),wt--,B.monitorRunDependencies?.(wt),wt==0&&Ct&&(_=Ct,Ct=null,_()),Yn}var d={env:su,wasi_snapshot_preview1:su};if(wt++,B.monitorRunDependencies?.(wt),B.instantiateWasm)try{return B.instantiateWasm(d,h)}catch(_){G(`Module.instantiateWasm callback failed with error: ${_}`),Te(_)}return ln||=Fn("canvas_advanced.wasm")?"canvas_advanced.wasm":B.locateFile?B.locateFile("canvas_advanced.wasm",L):L+"canvas_advanced.wasm",Xi(d,function(_){h(_.instance)}).catch(Te),{}})(),Mi=h=>(Mi=Yn.free)(h),os=h=>(os=Yn.malloc)(h),Ec=h=>(Ec=Yn.__getTypeName)(h),xo=B._ma_device__on_notification_unlocked=h=>(xo=B._ma_device__on_notification_unlocked=Yn.ma_device__on_notification_unlocked)(h);B._ma_malloc_emscripten=(h,d)=>(B._ma_malloc_emscripten=Yn.ma_malloc_emscripten)(h,d),B._ma_free_emscripten=(h,d)=>(B._ma_free_emscripten=Yn.ma_free_emscripten)(h,d);var ou=B._ma_device_process_pcm_frames_capture__webaudio=(h,d,_)=>(ou=B._ma_device_process_pcm_frames_capture__webaudio=Yn.ma_device_process_pcm_frames_capture__webaudio)(h,d,_),lu=B._ma_device_process_pcm_frames_playback__webaudio=(h,d,_)=>(lu=B._ma_device_process_pcm_frames_playback__webaudio=Yn.ma_device_process_pcm_frames_playback__webaudio)(h,d,_);B.dynCall_iiji=(h,d,_,S,D)=>(B.dynCall_iiji=Yn.dynCall_iiji)(h,d,_,S,D),B.dynCall_jiji=(h,d,_,S,D)=>(B.dynCall_jiji=Yn.dynCall_jiji)(h,d,_,S,D),B.dynCall_iiiji=(h,d,_,S,D,j)=>(B.dynCall_iiiji=Yn.dynCall_iiiji)(h,d,_,S,D,j),B.dynCall_iij=(h,d,_,S)=>(B.dynCall_iij=Yn.dynCall_iij)(h,d,_,S),B.dynCall_jii=(h,d,_)=>(B.dynCall_jii=Yn.dynCall_jii)(h,d,_),B.dynCall_viijii=(h,d,_,S,D,j,J)=>(B.dynCall_viijii=Yn.dynCall_viijii)(h,d,_,S,D,j,J),B.dynCall_iiiiij=(h,d,_,S,D,j,J)=>(B.dynCall_iiiiij=Yn.dynCall_iiiiij)(h,d,_,S,D,j,J),B.dynCall_iiiiijj=(h,d,_,S,D,j,J,ee,fe)=>(B.dynCall_iiiiijj=Yn.dynCall_iiiiijj)(h,d,_,S,D,j,J,ee,fe),B.dynCall_iiiiiijj=(h,d,_,S,D,j,J,ee,fe,ue)=>(B.dynCall_iiiiiijj=Yn.dynCall_iiiiiijj)(h,d,_,S,D,j,J,ee,fe,ue);var Us;Ct=function h(){Us||rl(),Us||(Ct=h)};function rl(){function h(){if(!Us&&(Us=!0,B.calledRun=!0,!me)){if(B.noFSInit||Fa||(Fa=!0,B.stdin=B.stdin,B.stdout=B.stdout,B.stderr=B.stderr,B.stdin?Vi("stdin",B.stdin):Br("/dev/tty","/dev/stdin"),B.stdout?Vi("stdout",null,B.stdout):Br("/dev/tty","/dev/stdout"),B.stderr?Vi("stderr",null,B.stderr):Br("/dev/tty1","/dev/stderr"),ca("/dev/stdin",0),ca("/dev/stdout",1),ca("/dev/stderr",1)),yi=!1,R(kt),Oe(B),B.onRuntimeInitialized&&B.onRuntimeInitialized(),B.postRun)for(typeof B.postRun=="function"&&(B.postRun=[B.postRun]);B.postRun.length;){var d=B.postRun.shift();ht.unshift(d)}R(ht)}}if(!(0<wt)){if(B.preRun)for(typeof B.preRun=="function"&&(B.preRun=[B.preRun]);B.preRun.length;)pt();R(Et),0<wt||(B.setStatus?(B.setStatus("Running..."),setTimeout(function(){setTimeout(function(){B.setStatus("")},1),h()},1)):h())}}if(B.preInit)for(typeof B.preInit=="function"&&(B.preInit=[B.preInit]);0<B.preInit.length;)B.preInit.pop()();return rl(),ae=ze,ae})})();const M=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function M(O,q,ae,B){this.animation=O,this.artboard=q,this.playing=B,this.loopCount=0,this.scrubTo=null,this.instance=new ae.LinearAnimationInstance(O,q)}return Object.defineProperty(M.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"time",{get:function(){return this.instance.time},set:function(O){this.instance.time=O},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),M.prototype.advance=function(O){this.scrubTo===null?this.instance.advance(O):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},M.prototype.apply=function(O){this.instance.apply(O)},M.prototype.cleanup=function(){this.instance.delete()},M})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>O.AudioAssetWrapper,AudioWrapper:()=>O.AudioWrapper,BLANK_URL:()=>M.BLANK_URL,CustomFileAssetLoaderWrapper:()=>O.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>O.FileAssetWrapper,FileFinalizer:()=>O.FileFinalizer,FontAssetWrapper:()=>O.FontAssetWrapper,FontWrapper:()=>O.FontWrapper,ImageAssetWrapper:()=>O.ImageAssetWrapper,ImageWrapper:()=>O.ImageWrapper,createFinalization:()=>O.createFinalization,finalizationRegistry:()=>O.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>M.sanitizeUrl});var E=w(6),M=w(7),O=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>O});var E=void 0,M=function(q,ae,B){var Oe,Te,ze=[];if(["touchstart","touchmove"].indexOf(q.type)>-1&&(!((Oe=q.changedTouches)===null||Oe===void 0)&&Oe.length)){ae||q.preventDefault();for(var U=0,Le=B?q.changedTouches.length:1;U<Le;){var tt=q.changedTouches[U];ze.push({clientX:tt.clientX,clientY:tt.clientY,identifier:tt.identifier}),U++}}else if(q.type==="touchend"&&(!((Te=q.changedTouches)===null||Te===void 0)&&Te.length))for(var U=0,Le=B?q.changedTouches.length:1;U<Le;){var tt=q.changedTouches[U];ze.push({clientX:tt.clientX,clientY:tt.clientY,identifier:tt.identifier}),U++}else ze.push({clientX:q.clientX,clientY:q.clientY,identifier:0});return ze},O=function(q){var ae=q.canvas,B=q.artboard,Oe=q.stateMachines,Te=Oe===void 0?[]:Oe,ze=q.renderer,U=q.rive,Le=q.fit,tt=q.alignment,nt=q.isTouchScrollEnabled,ut=nt===void 0?!1:nt,Y=q.dispatchPointerExit,F=Y===void 0?!0:Y,P=q.enableMultiTouch,H=P===void 0?!1:P,I=q.layoutScaleFactor,L=I===void 0?1:I;if(!ae||!Te.length||!ze||!U||!B||typeof window>"u")return null;var x=null,Z=!1,se=function(Q){if(Z&&Q instanceof MouseEvent){Q.type=="mouseup"&&(Z=!1);return}Z=ut&&Q.type==="touchend"&&x==="touchstart",x=Q.type;var _e=Q.currentTarget.getBoundingClientRect(),me=M(Q,ut,H),xe=U.computeAlignment(Le,tt,{minX:0,minY:0,maxX:_e.width,maxY:_e.height},B.bounds,L),z=new U.Mat2D;switch(xe.invert(z),me.forEach(function(ln){var st=ln.clientX,nn=ln.clientY;if(!(!st&&!nn)){var Sn=st-_e.left,Xi=nn-_e.top,Hn=new U.Vec2D(Sn,Xi),Ht=U.mapXY(z,Hn),Dn=Ht.x(),R=Ht.y();ln.transformedX=Dn,ln.transformedY=R,Ht.delete(),Hn.delete()}}),z.delete(),xe.delete(),Q.type){case"mouseout":for(var oe=function(ln){F?me.forEach(function(st){ln.pointerExit(st.transformedX,st.transformedY,st.identifier)}):me.forEach(function(st){ln.pointerMove(st.transformedX,st.transformedY,st.identifier)})},Se=0,Ae=Te;Se<Ae.length;Se++){var Ne=Ae[Se];oe(Ne)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Ye=function(ln){me.forEach(function(st){ln.pointerMove(st.transformedX,st.transformedY,st.identifier)})},mt=0,ft=Te;mt<ft.length;mt++){var Ne=ft[mt];Ye(Ne)}break}case"touchstart":case"mousedown":{for(var Et=function(ln){me.forEach(function(st){ln.pointerDown(st.transformedX,st.transformedY,st.identifier)})},kt=0,ht=Te;kt<ht.length;kt++){var Ne=ht[kt];Et(Ne)}break}case"touchend":{for(var pt=function(ln){me.forEach(function(st){ln.pointerUp(st.transformedX,st.transformedY,st.identifier),ln.pointerExit(st.transformedX,st.transformedY,st.identifier)})},wt=0,Ct=Te;wt<Ct.length;wt++){var Ne=Ct[wt];pt(Ne)}break}case"mouseup":{for(var Ut=function(ln){me.forEach(function(st){ln.pointerUp(st.transformedX,st.transformedY,st.identifier)})},Fn=0,ar=Te;Fn<ar.length;Fn++){var Ne=ar[Fn];Ut(Ne)}break}}},G=se.bind(E);return ae.addEventListener("mouseover",G),ae.addEventListener("mouseout",G),ae.addEventListener("mousemove",G),ae.addEventListener("mousedown",G),ae.addEventListener("mouseup",G),ae.addEventListener("touchmove",G,{passive:ut}),ae.addEventListener("touchstart",G,{passive:ut}),ae.addEventListener("touchend",G),function(){ae.removeEventListener("mouseover",G),ae.removeEventListener("mouseout",G),ae.removeEventListener("mousemove",G),ae.removeEventListener("mousedown",G),ae.removeEventListener("mouseup",G),ae.removeEventListener("touchmove",G),ae.removeEventListener("touchstart",G),ae.removeEventListener("touchend",G)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>Oe,sanitizeUrl:()=>U});var E=/^([^\w]*)(javascript|data|vbscript)/im,M=/&#(\w+)(^\w|;)?/g,O=/&(newline|tab);/gi,q=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ae=/^.+(:|&colon;)/gim,B=[".","/"],Oe="about:blank";function Te(Le){return B.indexOf(Le[0])>-1}function ze(Le){var tt=Le.replace(q,"");return tt.replace(M,function(nt,ut){return String.fromCharCode(ut)})}function U(Le){if(!Le)return Oe;var tt=ze(Le).replace(O,"").replace(q,"").trim();if(!tt)return Oe;if(Te(tt))return tt;var nt=tt.match(ae);if(!nt)return tt;var ut=nt[0];return E.test(ut)?Oe:tt}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>Le,AudioWrapper:()=>B,CustomFileAssetLoaderWrapper:()=>Te,FileAssetWrapper:()=>ze,FileFinalizer:()=>M,FontAssetWrapper:()=>tt,FontWrapper:()=>Oe,ImageAssetWrapper:()=>U,ImageWrapper:()=>ae,createFinalization:()=>F,finalizationRegistry:()=>Y});var E=(function(){var P=function(H,I){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,x){L.__proto__=x}||function(L,x){for(var Z in x)Object.prototype.hasOwnProperty.call(x,Z)&&(L[Z]=x[Z])},P(H,I)};return function(H,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");P(H,I);function L(){this.constructor=H}H.prototype=I===null?Object.create(I):(L.prototype=I.prototype,new L)}})(),M=(function(){function P(H){this.selfUnref=!1,this._file=H}return P.prototype.unref=function(){this._file&&this._file.unref()},P})(),O=(function(){function P(H){this._finalizableObject=H}return P.prototype.unref=function(){this._finalizableObject.unref()},P})(),q=(function(){function P(){this.selfUnref=!1}return P.prototype.unref=function(){},P})(),ae=(function(P){E(H,P);function H(I){var L=P.call(this)||this;return L._nativeImage=I,L}return Object.defineProperty(H.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},H})(q),B=(function(P){E(H,P);function H(I){var L=P.call(this)||this;return L._nativeAudio=I,L}return Object.defineProperty(H.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},H})(q),Oe=(function(P){E(H,P);function H(I){var L=P.call(this)||this;return L._nativeFont=I,L}return Object.defineProperty(H.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},H})(q),Te=(function(){function P(H,I){this._assetLoaderCallback=I,this.assetLoader=new H.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return P.prototype.loadContents=function(H,I){var L;return H.isImage?L=new U(H):H.isAudio?L=new Le(H):H.isFont&&(L=new tt(H)),this._assetLoaderCallback(L,I)},P})(),ze=(function(){function P(H){this._nativeFileAsset=H}return P.prototype.decode=function(H){this._nativeFileAsset.decode(H)},Object.defineProperty(P.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),P})(),U=(function(P){E(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setRenderImage=function(I){this._nativeFileAsset.setRenderImage(I.nativeImage)},H})(ze),Le=(function(P){E(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setAudioSource=function(I){this._nativeFileAsset.setAudioSource(I.nativeAudio)},H})(ze),tt=(function(P){E(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setFont=function(I){this._nativeFileAsset.setFont(I.nativeFont)},H})(ze),nt=(function(){function P(H){}return P.prototype.register=function(H){H.selfUnref=!0},P.prototype.unregister=function(H){},P})(),ut=typeof FinalizationRegistry<"u"?FinalizationRegistry:nt,Y=new ut(function(P){P?.unref()}),F=function(P,H){var I=new O(H);Y.register(P,I)}})],a={};function l(p){var b=a[p];if(b!==void 0)return b.exports;var w=a[p]={exports:{}};return r[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>U,DataEnum:()=>mt,EventType:()=>x,Fit:()=>ze,Layout:()=>Le,LoopType:()=>Z,Rive:()=>Ne,RiveEventType:()=>Y,RiveFile:()=>Ae,RuntimeLoader:()=>tt,StateMachineInput:()=>ut,StateMachineInputType:()=>nt,Testing:()=>Xi,ViewModel:()=>Ye,ViewModelInstance:()=>Et,ViewModelInstanceArtboard:()=>st,ViewModelInstanceAssetImage:()=>ln,ViewModelInstanceBoolean:()=>wt,ViewModelInstanceColor:()=>ar,ViewModelInstanceEnum:()=>Ut,ViewModelInstanceList:()=>Fn,ViewModelInstanceNumber:()=>pt,ViewModelInstanceString:()=>ht,ViewModelInstanceTrigger:()=>Ct,ViewModelInstanceValue:()=>kt,decodeAudio:()=>Hn,decodeFont:()=>Dn,decodeImage:()=>Ht});var p=l(1),b=l(2),w=l(3),E=l(5),M=(function(){var R=function(g,v){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,$){V.__proto__=$}||function(V,$){for(var ge in $)Object.prototype.hasOwnProperty.call($,ge)&&(V[ge]=$[ge])},R(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");R(g,v);function V(){this.constructor=g}g.prototype=v===null?Object.create(v):(V.prototype=v.prototype,new V)}})(),O=function(){return O=Object.assign||function(R){for(var g,v=1,V=arguments.length;v<V;v++){g=arguments[v];for(var $ in g)Object.prototype.hasOwnProperty.call(g,$)&&(R[$]=g[$])}return R},O.apply(this,arguments)},q=function(R,g,v,V){function $(ge){return ge instanceof v?ge:new v(function(Me){Me(ge)})}return new(v||(v=Promise))(function(ge,Me){function $e(Fe){try{Ue(V.next(Fe))}catch(ot){Me(ot)}}function Qe(Fe){try{Ue(V.throw(Fe))}catch(ot){Me(ot)}}function Ue(Fe){Fe.done?ge(Fe.value):$(Fe.value).then($e,Qe)}Ue((V=V.apply(R,g||[])).next())})},ae=function(R,g){var v={label:0,sent:function(){if(ge[0]&1)throw ge[1];return ge[1]},trys:[],ops:[]},V,$,ge,Me=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Me.next=$e(0),Me.throw=$e(1),Me.return=$e(2),typeof Symbol=="function"&&(Me[Symbol.iterator]=function(){return this}),Me;function $e(Ue){return function(Fe){return Qe([Ue,Fe])}}function Qe(Ue){if(V)throw new TypeError("Generator is already executing.");for(;Me&&(Me=0,Ue[0]&&(v=0)),v;)try{if(V=1,$&&(ge=Ue[0]&2?$.return:Ue[0]?$.throw||((ge=$.return)&&ge.call($),0):$.next)&&!(ge=ge.call($,Ue[1])).done)return ge;switch($=0,ge&&(Ue=[Ue[0]&2,ge.value]),Ue[0]){case 0:case 1:ge=Ue;break;case 4:return v.label++,{value:Ue[1],done:!1};case 5:v.label++,$=Ue[1],Ue=[0];continue;case 7:Ue=v.ops.pop(),v.trys.pop();continue;default:if(ge=v.trys,!(ge=ge.length>0&&ge[ge.length-1])&&(Ue[0]===6||Ue[0]===2)){v=0;continue}if(Ue[0]===3&&(!ge||Ue[1]>ge[0]&&Ue[1]<ge[3])){v.label=Ue[1];break}if(Ue[0]===6&&v.label<ge[1]){v.label=ge[1],ge=Ue;break}if(ge&&v.label<ge[2]){v.label=ge[2],v.ops.push(Ue);break}ge[2]&&v.ops.pop(),v.trys.pop();continue}Ue=g.call(R,v)}catch(Fe){Ue=[6,Fe],$=0}finally{V=ge=0}if(Ue[0]&5)throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}},B=function(R,g,v){if(v||arguments.length===2)for(var V=0,$=g.length,ge;V<$;V++)(ge||!(V in g))&&(ge||(ge=Array.prototype.slice.call(g,0,V)),ge[V]=g[V]);return R.concat(ge||Array.prototype.slice.call(g))},Oe=(function(R){M(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Te=function(R){return R&&R.isHandledError?R.message:"Problem loading file; may be corrupt!"},ze;(function(R){R.Cover="cover",R.Contain="contain",R.Fill="fill",R.FitWidth="fitWidth",R.FitHeight="fitHeight",R.None="none",R.ScaleDown="scaleDown",R.Layout="layout"})(ze||(ze={}));var U;(function(R){R.Center="center",R.TopLeft="topLeft",R.TopCenter="topCenter",R.TopRight="topRight",R.CenterLeft="centerLeft",R.CenterRight="centerRight",R.BottomLeft="bottomLeft",R.BottomCenter="bottomCenter",R.BottomRight="bottomRight"})(U||(U={}));var Le=(function(){function R(g){var v,V,$,ge,Me,$e,Qe;this.fit=(v=g?.fit)!==null&&v!==void 0?v:ze.Contain,this.alignment=(V=g?.alignment)!==null&&V!==void 0?V:U.Center,this.layoutScaleFactor=($=g?.layoutScaleFactor)!==null&&$!==void 0?$:1,this.minX=(ge=g?.minX)!==null&&ge!==void 0?ge:0,this.minY=(Me=g?.minY)!==null&&Me!==void 0?Me:0,this.maxX=($e=g?.maxX)!==null&&$e!==void 0?$e:0,this.maxY=(Qe=g?.maxY)!==null&&Qe!==void 0?Qe:0}return R.new=function(g){var v=g.fit,V=g.alignment,$=g.minX,ge=g.minY,Me=g.maxX,$e=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new R({fit:v,alignment:V,minX:$,minY:ge,maxX:Me,maxY:$e})},R.prototype.copyWith=function(g){var v=g.fit,V=g.alignment,$=g.layoutScaleFactor,ge=g.minX,Me=g.minY,$e=g.maxX,Qe=g.maxY;return new R({fit:v??this.fit,alignment:V??this.alignment,layoutScaleFactor:$??this.layoutScaleFactor,minX:ge??this.minX,minY:Me??this.minY,maxX:$e??this.maxX,maxY:Qe??this.maxY})},R.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===ze.Cover?v=g.Fit.cover:this.fit===ze.Contain?v=g.Fit.contain:this.fit===ze.Fill?v=g.Fit.fill:this.fit===ze.FitWidth?v=g.Fit.fitWidth:this.fit===ze.FitHeight?v=g.Fit.fitHeight:this.fit===ze.ScaleDown?v=g.Fit.scaleDown:this.fit===ze.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},R.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===U.TopLeft?v=g.Alignment.topLeft:this.alignment===U.TopCenter?v=g.Alignment.topCenter:this.alignment===U.TopRight?v=g.Alignment.topRight:this.alignment===U.CenterLeft?v=g.Alignment.centerLeft:this.alignment===U.CenterRight?v=g.Alignment.centerRight:this.alignment===U.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===U.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===U.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},R})(),tt=(function(){function R(){}return R.loadRuntime=function(){p.default({locateFile:function(){return R.wasmURL}}).then(function(g){var v;for(R.runtime=g;R.callBackQueue.length>0;)(v=R.callBackQueue.shift())===null||v===void 0||v(R.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var V="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(R.wasmURL.toLowerCase()!==V)console.warn("Failed to load WASM from ".concat(R.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),R.setWasmUrl(V),R.loadRuntime();else{var $=["Could not load Rive WASM file from ".concat(R.wasmURL," or ").concat(V,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error($)}})},R.getInstance=function(g){R.isLoading||(R.isLoading=!0,R.loadRuntime()),R.runtime?g(R.runtime):R.callBackQueue.push(g)},R.awaitInstance=function(){return new Promise(function(g){return R.getInstance(function(v){return g(v)})})},R.setWasmUrl=function(g){R.wasmURL=g},R.getWasmUrl=function(){return R.wasmURL},R.isLoading=!1,R.callBackQueue=[],R.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),R})(),nt;(function(R){R[R.Number=56]="Number",R[R.Trigger=58]="Trigger",R[R.Boolean=59]="Boolean"})(nt||(nt={}));var ut=(function(){function R(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(R.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),R.prototype.fire=function(){this.type===nt.Trigger&&this.runtimeInput.fire()},R.prototype.delete=function(){this.runtimeInput=null},R})(),Y;(function(R){R[R.General=128]="General",R[R.OpenUrl=131]="OpenUrl"})(Y||(Y={}));var F=(function(){function R(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return R})(),P=(function(R){M(g,R);function g(v,V){var $=R.call(this,!1)||this;return $.nativeArtboard=v,$.file=V,$}return g})(F),H=(function(R){M(g,R);function g(v){var V=R.call(this,!0)||this;return V.selfUnref=!1,V.nativeArtboard=v,V}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(F),I=(function(){function R(g,v,V,$){this.stateMachine=g,this.playing=V,this.artboard=$,this.inputs=[],this.instance=new v.StateMachineInstance(g,$),this.initInputs(v)}return Object.defineProperty(R.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),R.prototype.advance=function(g){this.instance.advance(g)},R.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},R.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},R.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},R.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var V=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(V,g))}},R.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new ut(nt.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new ut(nt.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new ut(nt.Trigger,g.asTrigger())},R.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},R.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},R})(),L=(function(){function R(g,v,V,$,ge){$===void 0&&($=[]),ge===void 0&&(ge=[]),this.runtime=g,this.artboard=v,this.eventManager=V,this.animations=$,this.stateMachines=ge}return R.prototype.add=function(g,v,V){if(V===void 0&&(V=!0),g=Sn(g),g.length===0)this.animations.forEach(function(St){return St.playing=v}),this.stateMachines.forEach(function(St){return St.playing=v});else for(var $=this.animations.map(function(St){return St.name}),ge=this.stateMachines.map(function(St){return St.name}),Me=0;Me<g.length;Me++){var $e=$.indexOf(g[Me]),Qe=ge.indexOf(g[Me]);if($e>=0||Qe>=0)$e>=0?this.animations[$e].playing=v:this.stateMachines[Qe].playing=v;else{var Ue=this.artboard.animationByName(g[Me]);if(Ue){var Fe=new w.Animation(Ue,this.artboard,this.runtime,v);Fe.advance(0),Fe.apply(1),this.animations.push(Fe)}else{var ot=this.artboard.stateMachineByName(g[Me]);if(ot){var Zt=new I(ot,this.runtime,v,this.artboard);this.stateMachines.push(Zt)}}}}return V&&(v?this.eventManager.fire({type:x.Play,data:this.playing}):this.eventManager.fire({type:x.Pause,data:this.paused})),v?this.playing:this.paused},R.prototype.initLinearAnimations=function(g,v){for(var V=this.animations.map(function(Qe){return Qe.name}),$=0;$<g.length;$++){var ge=V.indexOf(g[$]);if(ge>=0)this.animations[ge].playing=v;else{var Me=this.artboard.animationByName(g[$]);if(Me){var $e=new w.Animation(Me,this.artboard,this.runtime,v);$e.advance(0),$e.apply(1),this.animations.push($e)}else console.error("Animation with name ".concat(g[$]," not found."))}}},R.prototype.initStateMachines=function(g,v){for(var V=this.stateMachines.map(function(Qe){return Qe.name}),$=0;$<g.length;$++){var ge=V.indexOf(g[$]);if(ge>=0)this.stateMachines[ge].playing=v;else{var Me=this.artboard.stateMachineByName(g[$]);if(Me){var $e=new I(Me,this.runtime,v,this.artboard);this.stateMachines.push($e)}else console.warn("State Machine with name ".concat(g[$]," not found.")),this.initLinearAnimations([g[$]],v)}}},R.prototype.play=function(g){return this.add(g,!0)},R.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},R.prototype.pause=function(g){return this.add(g,!1)},R.prototype.scrub=function(g,v){var V=this.animations.filter(function($){return g.includes($.name)});return V.forEach(function($){return $.scrubTo=v}),V.map(function($){return $.name})},Object.defineProperty(R.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),R.prototype.stop=function(g){var v=this;g=Sn(g);var V=[];if(g.length===0)V=this.animations.map(function(Me){return Me.name}).concat(this.stateMachines.map(function(Me){return Me.name})),this.animations.forEach(function(Me){return Me.cleanup()}),this.stateMachines.forEach(function(Me){return Me.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var $=this.animations.filter(function(Me){return g.includes(Me.name)});$.forEach(function(Me){Me.cleanup(),v.animations.splice(v.animations.indexOf(Me),1)});var ge=this.stateMachines.filter(function(Me){return g.includes(Me.name)});ge.forEach(function(Me){Me.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Me),1)}),V=$.map(function(Me){return Me.name}).concat(ge.map(function(Me){return Me.name}))}return this.eventManager.fire({type:x.Stop,data:V}),V},Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),R.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var V;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([V=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([V=this.artboard.stateMachineByIndex(0).name],g,v)),V},R.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function($){return $.playing});g<v.length;g++){var V=v[g];V.loopValue===0&&V.loopCount?(V.loopCount=0,this.stop(V.name)):V.loopValue===1&&V.loopCount?(this.eventManager.fire({type:x.Loop,data:{animation:V.name,type:Z.Loop}}),V.loopCount=0):V.loopValue===2&&V.loopCount>1&&(this.eventManager.fire({type:x.Loop,data:{animation:V.name,type:Z.PingPong}}),V.loopCount=0)}},R.prototype.handleStateChanges=function(){for(var g=[],v=0,V=this.stateMachines.filter(function(ge){return ge.playing});v<V.length;v++){var $=V[v];g.push.apply(g,$.statesChanged)}g.length>0&&this.eventManager.fire({type:x.StateChange,data:g})},R.prototype.handleAdvancing=function(g){this.eventManager.fire({type:x.Advance,data:g})},R})(),x;(function(R){R.Load="load",R.LoadError="loaderror",R.Play="play",R.Pause="pause",R.Stop="stop",R.Loop="loop",R.Draw="draw",R.Advance="advance",R.StateChange="statechange",R.RiveEvent="riveevent",R.AudioStatusChange="audiostatuschange"})(x||(x={}));var Z;(function(R){R.OneShot="oneshot",R.Loop="loop",R.PingPong="pingpong"})(Z||(Z={}));var se=(function(){function R(g){g===void 0&&(g=[]),this.listeners=g}return R.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},R.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},R.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var V=this.listeners[v];if(V.type===g.type&&V.callback===g.callback){this.listeners.splice(v,1);break}}},R.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(V){return V.type===g}).forEach(function(V){return v.remove(V)}):this.listeners.splice(0,this.listeners.length)},R.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(V){return V.callback(g)})},R})(),G=(function(){function R(g){this.eventManager=g,this.queue=[]}return R.prototype.add=function(g){this.queue.push(g)},R.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},R})(),Q;(function(R){R[R.AVAILABLE=0]="AVAILABLE",R[R.UNAVAILABLE=1]="UNAVAILABLE"})(Q||(Q={}));var _e=(function(R){M(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=Q.UNAVAILABLE,v}return g.prototype.delay=function(v){return q(this,void 0,void 0,function(){return ae(this,function(V){return[2,new Promise(function($){return setTimeout($,v)})]})})},g.prototype.timeout=function(){return q(this,void 0,void 0,function(){return ae(this,function(v){return[2,new Promise(function(V,$){return setTimeout($,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:x.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return q(this,void 0,void 0,function(){return ae(this,function(v){return this._enabled||(this._enabled=!0,this._status=Q.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return q(this,void 0,void 0,function(){return ae(this,function(v){switch(v.label){case 0:if(!(this._status===Q.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return q(this,void 0,void 0,function(){return ae(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==Q.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,V=function(){return q(v,void 0,void 0,function(){return ae(this,function($){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",V,{once:!0})},g.prototype.establishAudio=function(){return q(this,void 0,void 0,function(){return ae(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===Q.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(se),me=new _e,xe=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),z=globalThis.ResizeObserver||xe,oe=(function(){function R(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var V=g._elementsMap.get(v.target);V!==null?V.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new z(this._onObserved)}return R.prototype.add=function(g,v){var V={onResize:v,element:g};return this._elementsMap.set(g,V),this._resizeObserver.observe(g),V},R.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},R})(),Se=new oe,Ae=(function(){function R(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new se,g.onLoad&&this.on(x.Load,g.onLoad),g.onLoadError&&this.on(x.LoadError,g.onLoadError)}return R.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},R.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},R.prototype.initData=function(){return q(this,void 0,void 0,function(){var g,v,V,$,ge;return ae(this,function(Me){switch(Me.label){case 0:return this.src?(g=this,[4,nn(this.src)]):[3,2];case 1:g.buffer=Me.sent(),Me.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(V=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=V.assetLoader),$=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return $.file=Me.sent(),ge=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,ge),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:x.Load,data:this}):this.fireLoadError(R.fileLoadErrorMessage),[2])}})})},R.prototype.init=function(){return q(this,void 0,void 0,function(){var g,v;return ae(this,function(V){switch(V.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(R.missingErrorMessage),[2];V.label=1;case 1:return V.trys.push([1,4,,5]),g=this,[4,tt.awaitInstance()];case 2:return g.runtime=V.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return V.sent(),[3,5];case 4:return v=V.sent(),this.fireLoadError(v instanceof Error?v.message:R.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},R.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:x.LoadError,data:g}),new Error(g)},R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},R.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},R.prototype.createBindableArtboard=function(g){if(g!=null){var v=new H(g);return(0,E.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},R.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new P(v,this)},R.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},R.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},R.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},R.missingErrorMessage="Rive source file or data buffer required",R.fileLoadErrorMessage="The file failed to load",R})(),Ne=(function(){function R(g){var v=this,V;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function($){var ge=v._hasZeroSize!==$;v._hasZeroSize=$,$?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():ge&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Se.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(V=g.layout)!==null&&V!==void 0?V:new Le,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new se,g.onLoad&&this.on(x.Load,g.onLoad),g.onLoadError&&this.on(x.LoadError,g.onLoadError),g.onPlay&&this.on(x.Play,g.onPlay),g.onPause&&this.on(x.Pause,g.onPause),g.onStop&&this.on(x.Stop,g.onStop),g.onLoop&&this.on(x.Loop,g.onLoop),g.onStateChange&&this.on(x.StateChange,g.onStateChange),g.onAdvance&&this.on(x.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(x.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(x.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(x.Play,g.onplay),g.onpause&&!g.onPause&&this.on(x.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(x.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(x.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(x.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new G(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(R.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),R.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new R(g)},R.prototype.onSystemAudioChanged=function(){this.volume=this._volume},R.prototype.init=function(g){var v=this,V=g.src,$=g.buffer,ge=g.riveFile,Me=g.animations,$e=g.stateMachines,Qe=g.artboard,Ue=g.autoplay,Fe=Ue===void 0?!1:Ue,ot=g.useOffscreenRenderer,Zt=ot===void 0?!1:ot,St=g.autoBind,Pn=St===void 0?!1:St;if(!this.destroyed){if(this.src=V,this.buffer=$,this.riveFile=ge,!this.src&&!this.buffer&&!this.riveFile)throw new Oe(R.missingErrorMessage);var Ln=Sn(Me),jt=Sn($e);this.loaded=!1,this.readyForPlaying=!1,tt.awaitInstance().then(function(In){v.destroyed||(v.runtime=In,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,Zt),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(Qe,Ln,jt,Fe,Pn).then(function(Un){if(Un)return v.setupRiveListeners()}).catch(function(Un){console.error(Un)}))}).catch(function(In){console.error(In)})}},R.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var V=(this.animator.stateMachines||[]).filter(function($e){return $e.playing&&v.runtime.hasListeners($e.instance)}).map(function($e){return $e.instance}),$=this.isTouchScrollEnabled,ge=this.dispatchPointerExit,Me=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&($=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:V,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:$,dispatchPointerExit:ge,enableMultiTouch:Me,layoutScaleFactor:this._layout.layoutScaleFactor})}},R.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},R.prototype.initializeAudio=function(){var g=this,v;me.status==Q.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:x.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},me.add(this._audioEventListener),me.establishAudio())},R.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},R.prototype.initData=function(g,v,V,$,ge){return q(this,void 0,void 0,function(){var Me,$e,Qe,Ue;return ae(this,function(Fe){switch(Fe.label){case 0:return Fe.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Me=new Ae({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Me,[4,Me.init()]);case 1:if(Fe.sent(),this.destroyed)return Me.destroyIfUnused(),[2,!1];Fe.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,V,$,ge),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:x.Load,data:(Ue=this.src)!==null&&Ue!==void 0?Ue:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return $e=Fe.sent(),Qe=Te($e),console.warn(Qe),this.eventManager.fire({type:x.LoadError,data:Qe}),[2,Promise.reject(Qe)];case 4:return[2]}})})},R.prototype.initArtboard=function(g,v,V,$,ge){if(this.file){var Me=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Me){var $e="Invalid artboard name or no default artboard";console.warn($e),this.eventManager.fire({type:x.LoadError,data:$e});return}this.artboard=Me,Me.volume=this._volume*me.systemVolume,this.animator=new L(this.runtime,this.artboard,this.eventManager);var Qe;if(v.length>0||V.length>0?(Qe=v.concat(V),this.animator.initLinearAnimations(v,$),this.animator.initStateMachines(V,$)):Qe=[this.animator.atLeastOne($,!1)],this.taskQueue.add({event:{type:$?x.Play:x.Pause,data:Qe}}),ge){var Ue=this.file.defaultArtboardViewModel(Me);if(Ue!==null){var Fe=Ue.defaultInstance();if(Fe!==null){var ot=new Et(Fe,null);(0,E.createFinalization)(ot,ot.runtimeInstance),this.bindViewModelInstance(ot)}}}}},R.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},R.prototype.draw=function(g,v){var V;this.frameRequestId=null;var $=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var ge=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Me=this.animator.animations.filter(function(rn){return rn.playing||rn.needsScrub}).sort(function(rn){return rn.needsScrub?-1:1}),$e=0,Qe=Me;$e<Qe.length;$e++){var Ue=Qe[$e];Ue.advance(ge),Ue.instance.didLoop&&(Ue.loopCount+=1),Ue.apply(1)}for(var Fe=this.animator.stateMachines.filter(function(rn){return rn.playing}),ot=0,Zt=Fe;ot<Zt.length;ot++){var St=Zt[ot],Pn=St.reportedEventCount();if(Pn)for(var Ln=0;Ln<Pn;Ln++){var jt=St.reportedEventAt(Ln);if(jt)if(jt.type===Y.OpenUrl){if(this.eventManager.fire({type:x.RiveEvent,data:jt}),this.automaticallyHandleEvents){var In=document.createElement("a"),Un=jt,er=Un.url,Pr=Un.target,_t=(0,E.sanitizeUrl)(er);er&&In.setAttribute("href",_t),Pr&&In.setAttribute("target",Pr),_t&&_t!==E.BLANK_URL&&In.click()}}else this.eventManager.fire({type:x.RiveEvent,data:jt})}St.advanceAndApply(ge)}this.animator.stateMachines.length==0&&this.artboard.advance(ge);var qn=this.renderer;qn.clear(),qn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(qn),qn.restore(),qn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(ge),this.frameCount++;var bt=performance.now();for(this.frameTimes.push(bt),this.durations.push(bt-$);this.frameTimes[0]<=bt-1e3;)this.frameTimes.shift(),this.durations.shift();(V=this._viewModelInstance)===null||V===void 0||V.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},R.prototype.alignRenderer=function(){var g=this,v=g.renderer,V=g.runtime,$=g._layout,ge=g.artboard;v.align($.runtimeFit(V),$.runtimeAlignment(V),{minX:$.minX,minY:$.minY,maxX:$.maxX,maxY:$.maxY},ge.bounds,this._devicePixelRatioUsed*$.layoutScaleFactor)},Object.defineProperty(R.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),R.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Se.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(me.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},R.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},R.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},R.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var V=this.artboard.textRun(g);if(!V){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return V},R.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},R.prototype.setTextRunValue=function(g,v){var V=this.retrieveTextRun(g);V&&(V.text=v)},R.prototype.play=function(g,v){var V=this;if(g=Sn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return V.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},R.prototype.pause=function(g){var v=this;if(g=Sn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},R.prototype.scrub=function(g,v){var V=this;if(g=Sn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return V.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},R.prototype.stop=function(g){var v=this;if(g=Sn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},R.prototype.reset=function(g){var v,V,$=g?.artboard,ge=Sn(g?.animations),Me=Sn(g?.stateMachines),$e=(v=g?.autoplay)!==null&&v!==void 0?v:!1,Qe=(V=g?.autoBind)!==null&&V!==void 0?V:!1;this.cleanupInstances(),this.initArtboard($,ge,Me,$e,Qe),this.taskQueue.process()},R.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(R.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),R.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},R.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),V=v.width,$=v.height,ge=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=ge,this.canvas.width=ge*V,this.canvas.height=ge*$,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===ze.Layout){var Me=this._layout.layoutScaleFactor;this.artboard.width=V/Me,this.artboard.height=$/Me}}},Object.defineProperty(R.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),R.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(V){return V.name===g});return v?.inputs}},R.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var V=this.artboard.inputByPath(g,v);if(!V){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return V},R.prototype.setBooleanStateAtPath=function(g,v,V){var $=this.retrieveInputAtPath(g,V);$&&($.type===nt.Boolean?$.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(V,"' is not a boolean")))},R.prototype.setNumberStateAtPath=function(g,v,V){var $=this.retrieveInputAtPath(g,V);$&&($.type===nt.Number?$.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(V,"' is not a number")))},R.prototype.fireStateAtPath=function(g,v){var V=this.retrieveInputAtPath(g,v);V&&(V.type===nt.Trigger?V.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},R.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var V=this.artboard.textByPath(g,v);if(!V){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return V},R.prototype.getTextRunValueAtPath=function(g,v){var V=this.retrieveTextAtPath(g,v);if(!V){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return V.text},R.prototype.setTextRunValueAtPath=function(g,v,V){var $=this.retrieveTextAtPath(g,V);if(!$){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(V,"'"));return}$.text=v},Object.defineProperty(R.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},R.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},R.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},R.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},R.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(R.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var V=this.file.artboardByIndex(v),$={name:V.name,animations:[],stateMachines:[]},ge=0;ge<V.animationCount();ge++){var Me=V.animationByIndex(ge);$.animations.push(Me.name)}for(var $e=0;$e<V.stateMachineCount();$e++){for(var Qe=V.stateMachineByIndex($e),Ue=Qe.name,Fe=new this.runtime.StateMachineInstance(Qe,V),ot=[],Zt=0;Zt<Fe.inputCount();Zt++){var St=Fe.input(Zt);ot.push({name:St.name,type:St.type})}$.stateMachines.push({name:Ue,inputs:ot})}g.artboards.push($)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*me.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),R.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(R.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),R.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(V){return V.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(R.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),R.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new Ye(v):null},R.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new Ye(v):null},R.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new mt(v)})}return this._dataEnums},R.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new Ye(g)}return null},R.prototype.getArtboard=function(g){var v,V;return(V=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&V!==void 0?V:null},R.prototype.getBindableArtboard=function(g){var v,V;return(V=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&V!==void 0?V:null},R.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},R.missingErrorMessage="Rive source file or data buffer required",R.cleanupErrorMessage="Attempt to use file after calling cleanup.",R})(),Ye=(function(){function R(g){this._viewModel=g}return Object.defineProperty(R.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),R.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var V=new Et(v,null);return(0,E.createFinalization)(V,v),V}return null},R.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var V=new Et(v,null);return(0,E.createFinalization)(V,v),V}return null},R.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new Et(g,null);return(0,E.createFinalization)(v,g),v}return null},R.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new Et(g,null);return(0,E.createFinalization)(v,g),v}return null},Object.defineProperty(R.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),R})(),mt=(function(){function R(g){this._dataEnum=g}return Object.defineProperty(R.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),R})(),ft;(function(R){R.Number="number",R.String="string",R.Boolean="boolean",R.Color="color",R.Trigger="trigger",R.Enum="enum",R.List="list",R.Image="image",R.Artboard="artboard"})(ft||(ft={}));var Et=(function(){function R(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(R.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),R.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},R.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},R.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var V=this._parents[v];V.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},R.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(V){V.addToViewModelCallbacks(v)}))},R.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(V){return V!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(V){V.removeFromViewModelCallbacks(v)}))},R.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(V){V.addToViewModelCallbacks(v)}))},R.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(V){return V!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(V){V.removeFromViewModelCallbacks(v)}))},R.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},R.prototype.propertyFromPath=function(g,v){var V=g.split("/");return this.propertyFromPathSegments(V,0,v)},R.prototype.viewModelFromPathSegments=function(g,v){var V=this.internalViewModelInstance(g[v]);return V!==null?v==g.length-1?V:V.viewModelFromPathSegments(g,v++):null},R.prototype.propertyFromPathSegments=function(g,v,V){var $,ge,Me,$e,Qe,Ue,Fe,ot,Zt,St,Pn,Ln,jt,In,Un,er,Pr,_t;if(v<g.length-1){var qn=this.internalViewModelInstance(g[v]);return qn!==null?qn.propertyFromPathSegments(g,v+1,V):null}var bt=null;switch(V){case ft.Number:if(bt=(ge=($=this._runtimeInstance)===null||$===void 0?void 0:$.number(g[v]))!==null&&ge!==void 0?ge:null,bt!==null)return new pt(bt,this);break;case ft.String:if(bt=($e=(Me=this._runtimeInstance)===null||Me===void 0?void 0:Me.string(g[v]))!==null&&$e!==void 0?$e:null,bt!==null)return new ht(bt,this);break;case ft.Boolean:if(bt=(Ue=(Qe=this._runtimeInstance)===null||Qe===void 0?void 0:Qe.boolean(g[v]))!==null&&Ue!==void 0?Ue:null,bt!==null)return new wt(bt,this);break;case ft.Color:if(bt=(ot=(Fe=this._runtimeInstance)===null||Fe===void 0?void 0:Fe.color(g[v]))!==null&&ot!==void 0?ot:null,bt!==null)return new ar(bt,this);break;case ft.Trigger:if(bt=(St=(Zt=this._runtimeInstance)===null||Zt===void 0?void 0:Zt.trigger(g[v]))!==null&&St!==void 0?St:null,bt!==null)return new Ct(bt,this);break;case ft.Enum:if(bt=(Ln=(Pn=this._runtimeInstance)===null||Pn===void 0?void 0:Pn.enum(g[v]))!==null&&Ln!==void 0?Ln:null,bt!==null)return new Ut(bt,this);break;case ft.List:if(bt=(In=(jt=this._runtimeInstance)===null||jt===void 0?void 0:jt.list(g[v]))!==null&&In!==void 0?In:null,bt!==null)return new Fn(bt,this);break;case ft.Image:if(bt=(er=(Un=this._runtimeInstance)===null||Un===void 0?void 0:Un.image(g[v]))!==null&&er!==void 0?er:null,bt!==null)return new ln(bt,this);break;case ft.Artboard:if(bt=(_t=(Pr=this._runtimeInstance)===null||Pr===void 0?void 0:Pr.artboard(g[v]))!==null&&_t!==void 0?_t:null,bt!==null)return new st(bt,this);break}return null},R.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var V=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(V!==null){var $=new R(V,this);return(0,E.createFinalization)($,V),$.internalIncrementReferenceCount(),this._viewModelInstances.set(g,$),$}return null},R.prototype.number=function(g){var v=this.propertyFromPath(g,ft.Number);return v},R.prototype.string=function(g){var v=this.propertyFromPath(g,ft.String);return v},R.prototype.boolean=function(g){var v=this.propertyFromPath(g,ft.Boolean);return v},R.prototype.color=function(g){var v=this.propertyFromPath(g,ft.Color);return v},R.prototype.trigger=function(g){var v=this.propertyFromPath(g,ft.Trigger);return v},R.prototype.enum=function(g){var v=this.propertyFromPath(g,ft.Enum);return v},R.prototype.list=function(g){var v=this.propertyFromPath(g,ft.List);return v},R.prototype.image=function(g){var v=this.propertyFromPath(g,ft.Image);return v},R.prototype.artboard=function(g){var v=this.propertyFromPath(g,ft.Artboard);return v},R.prototype.viewModel=function(g){var v=g.split("/"),V=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return V!=null?V.internalViewModelInstance(v[v.length-1]):null},R.prototype.internalReplaceViewModel=function(g,v){var V;if(v.runtimeInstance!==null){var $=((V=this._runtimeInstance)===null||V===void 0?void 0:V.replaceViewModel(g,v.runtimeInstance))||!1;if($){v.internalIncrementReferenceCount();var ge=this.internalViewModelInstance(g);ge!==null&&(ge.removeParent(this),this._children.includes(ge)&&(this._children=this._children.filter(function(Me){return Me!==ge})),ge.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return $}return!1},R.prototype.replaceViewModel=function(g,v){var V,$=g.split("/"),ge=$.length>1?this.viewModelFromPathSegments($.slice(0,$.length-1),0):this;return(V=ge?.internalReplaceViewModel($[$.length-1],v))!==null&&V!==void 0?V:!1},R.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},R.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(R.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return O({},v)}))||[]},enumerable:!1,configurable:!0}),R.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},R.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(ge){ge.cleanup()}),this._viewModelInstances.clear();var V=B([],this._children,!0);this._children.length=0;var $=B([],this._parents,!0);this._parents.length=0,V.forEach(function(ge){ge.removeParent(g)}),$.forEach(function(ge){ge.removeFromViewModelCallbacks(g)})}},R})(),kt=(function(){function R(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return R.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},R.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},R.prototype.internalHandleCallback=function(g){},R.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},R.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},R.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),R})(),ht=(function(R){M(g,R);function g(v,V){return R.call(this,v,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),pt=(function(R){M(g,R);function g(v,V){return R.call(this,v,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),wt=(function(R){M(g,R);function g(v,V){return R.call(this,v,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),Ct=(function(R){M(g,R);function g(v,V){return R.call(this,v,V)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(kt),Ut=(function(R){M(g,R);function g(v,V){return R.call(this,v,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),Fn=(function(R){M(g,R);function g(v,V){return R.call(this,v,V)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,V){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,V)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var V=this._viewModelInstanceValue.instanceAt(v);if(V!=null){var $=new Et(V,this._parentViewModel);return(0,E.createFinalization)($,V),$}return null},g.prototype.swap=function(v,V){this._viewModelInstanceValue.swap(v,V)},g.prototype.internalHandleCallback=function(v){v()},g})(kt),ar=(function(R){M(g,R);function g(v,V){return R.call(this,v,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,V,$){this._viewModelInstanceValue.rgb(v,V,$)},g.prototype.rgba=function(v,V,$,ge){this._viewModelInstanceValue.argb(ge,v,V,$)},g.prototype.argb=function(v,V,$,ge){this._viewModelInstanceValue.argb(v,V,$,ge)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),ln=(function(R){M(g,R);function g(v,V){return R.call(this,v,V)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var V;this._viewModelInstanceValue.value((V=v?.nativeImage)!==null&&V!==void 0?V:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(kt),st=(function(R){M(g,R);function g(v,V){return R.call(this,v,V)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var V,$;v.isBindableArtboard?$=v:$=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((V=$?.nativeArtboard)!==null&&V!==void 0?V:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(kt),nn=function(R){return q(void 0,void 0,void 0,function(){var g,v,V;return ae(this,function($){switch($.label){case 0:return g=new Request(R),[4,fetch(g)];case 1:return v=$.sent(),[4,v.arrayBuffer()];case 2:return V=$.sent(),[2,V]}})})},Sn=function(R){return typeof R=="string"?[R]:R instanceof Array?R:[]},Xi={EventManager:se,TaskQueueManager:G},Hn=function(R){return q(void 0,void 0,void 0,function(){var g,v,V;return ae(this,function($){switch($.label){case 0:return g=new Promise(function(ge){return tt.getInstance(function(Me){Me.decodeAudio(R,ge)})}),[4,g];case 1:return v=$.sent(),V=new E.AudioWrapper(v),E.finalizationRegistry.register(V,v),[2,V]}})})},Ht=function(R){return q(void 0,void 0,void 0,function(){var g,v,V;return ae(this,function($){switch($.label){case 0:return g=new Promise(function(ge){return tt.getInstance(function(Me){Me.decodeImage(R,ge)})}),[4,g];case 1:return v=$.sent(),V=new E.ImageWrapper(v),E.finalizationRegistry.register(V,v),[2,V]}})})},Dn=function(R){return q(void 0,void 0,void 0,function(){var g,v,V;return ae(this,function($){switch($.label){case 0:return g=new Promise(function(ge){return tt.getInstance(function(Me){Me.decodeFont(R,ge)})}),[4,g];case 1:return v=$.sent(),V=new E.FontWrapper(v),E.finalizationRegistry.register(V,v),[2,V]}})})}})(),c})())})(Nf)),Nf.exports}var R0;function iA(){return R0||(R0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=lh(),r=rA();function a(I){return I&&typeof I=="object"&&"default"in I?I:{default:I}}var l=a(e),c=function(){return c=Object.assign||function(I){for(var L,x=1,Z=arguments.length;x<Z;x++)for(var se in L=arguments[x])Object.prototype.hasOwnProperty.call(L,se)&&(I[se]=L[se]);return I},c.apply(this,arguments)};function p(I,L){var x={};for(var Z in I)Object.prototype.hasOwnProperty.call(I,Z)&&L.indexOf(Z)<0&&(x[Z]=I[Z]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function"){var se=0;for(Z=Object.getOwnPropertySymbols(I);se<Z.length;se++)L.indexOf(Z[se])<0&&Object.prototype.propertyIsEnumerable.call(I,Z[se])&&(x[Z[se]]=I[Z[se]])}return x}function b(I,L,x,Z){return new(x||(x=Promise))(function(se,G){function Q(xe){try{me(Z.next(xe))}catch(z){G(z)}}function _e(xe){try{me(Z.throw(xe))}catch(z){G(z)}}function me(xe){var z;xe.done?se(xe.value):(z=xe.value,z instanceof x?z:new x(function(oe){oe(z)})).then(Q,_e)}me((Z=Z.apply(I,[])).next())})}function w(I,L){var x,Z,se,G,Q={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return G={next:_e(0),throw:_e(1),return:_e(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function _e(me){return function(xe){return(function(z){if(x)throw new TypeError("Generator is already executing.");for(;Q;)try{if(x=1,Z&&(se=2&z[0]?Z.return:z[0]?Z.throw||((se=Z.return)&&se.call(Z),0):Z.next)&&!(se=se.call(Z,z[1])).done)return se;switch(Z=0,se&&(z=[2&z[0],se.value]),z[0]){case 0:case 1:se=z;break;case 4:return Q.label++,{value:z[1],done:!1};case 5:Q.label++,Z=z[1],z=[0];continue;case 7:z=Q.ops.pop(),Q.trys.pop();continue;default:if(se=Q.trys,!((se=se.length>0&&se[se.length-1])||z[0]!==6&&z[0]!==2)){Q=0;continue}if(z[0]===3&&(!se||z[1]>se[0]&&z[1]<se[3])){Q.label=z[1];break}if(z[0]===6&&Q.label<se[1]){Q.label=se[1],se=z;break}if(se&&Q.label<se[2]){Q.label=se[2],Q.ops.push(z);break}se[2]&&Q.ops.pop(),Q.trys.pop();continue}z=L.call(I,Q)}catch(oe){z=[6,oe],Z=0}finally{x=se=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}})([me,xe])}}}function E(I){var L=I||M(),x=e.useState(L),Z=x[0],se=x[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var G=function(){var _e=I||M();se(_e)},Q=window.matchMedia("screen and (resolution: ".concat(Z,"dppx)"));return Q.hasOwnProperty("addEventListener")?Q.addEventListener("change",G):Q.addListener(G),function(){Q.hasOwnProperty("removeEventListener")?Q.removeEventListener("change",G):Q.removeListener(G)}}},[Z,I]),Z}function M(){var I=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,I),3)}var O=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),q=globalThis.ResizeObserver||O,ae=globalThis.ResizeObserver!==void 0,B=!ae;function Oe(I,L){L===void 0&&(L=!0);var x=e.useState({width:0,height:0}),Z=x[0],se=x[1];e.useEffect(function(){if(typeof window<"u"&&L){var xe=function(){se({width:window.innerWidth,height:window.innerHeight})};return B&&(xe(),window.addEventListener("resize",xe)),function(){return window.removeEventListener("resize",xe)}}},[]);var G,Q,_e,me=e.useRef(new q((G=function(xe){ae&&se({width:xe[xe.length-1].contentRect.width,height:xe[xe.length-1].contentRect.height})},Q=0,_e=0,function(){for(var xe=this,z=[],oe=0;oe<arguments.length;oe++)z[oe]=arguments[oe];clearTimeout(_e),_e=window.setTimeout(function(){return G.apply(xe,z)},Q)})));return e.useEffect(function(){var xe=me.current;if(L){var z=I.current;return I.current&&ae&&xe.observe(I.current),function(){xe.disconnect(),z&&ae&&xe.unobserve(z)}}xe.disconnect()},[I,me]),Z}var Te={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function ze(I){return Object.assign({},Te,I)}function U(I){var L=I.riveLoaded,x=L!==void 0&&L,Z=I.canvasElem,se=I.containerRef,G=I.options,Q=G===void 0?{}:G,_e=I.onCanvasHasResized,me=I.artboardBounds,xe=ze(Q),z=e.useState({height:0,width:0}),oe=z[0],Se=oe.height,Ae=oe.width,Ne=z[1],Ye=e.useState({height:0,width:0}),mt=Ye[0],ft=mt.height,Et=mt.width,kt=Ye[1],ht=e.useState(!0),pt=ht[0],wt=ht[1],Ct=xe.fitCanvasToArtboardHeight,Ut=xe.shouldResizeCanvasToContainer,Fn=xe.useDevicePixelRatio,ar=xe.customDevicePixelRatio,ln=Oe(se,Ut),st=E(ar),nn=me??{},Sn=nn.maxX,Xi=nn.maxY,Hn=e.useCallback(function(){var Ht,Dn,R,g,v=(Dn=(Ht=se.current)===null||Ht===void 0?void 0:Ht.clientWidth)!==null&&Dn!==void 0?Dn:0,V=(g=(R=se.current)===null||R===void 0?void 0:R.clientHeight)!==null&&g!==void 0?g:0;return Ct&&me?{width:v,height:v*(me.maxY/me.maxX)}:{width:v,height:V}},[se,Ct,Sn,Xi]);e.useEffect(function(){if(Ut&&se.current&&x){var Ht=Hn(),Dn=Ht.width,R=Ht.height,g=!1;if(Z){var v=Dn!==Ae||R!==Se;if(xe.fitCanvasToArtboardHeight&&v&&(se.current.style.height=R+"px",g=!0),xe.useDevicePixelRatio){if(v||Dn*st!==Et||R*st!==ft){var V=st*Dn,$=st*R;Z.width=V,Z.height=$,Z.style.width=Dn+"px",Z.style.height=R+"px",kt({width:V,height:$}),g=!0}}else v&&(Z.width=Dn,Z.height=R,kt({width:Dn,height:R}),g=!0);Ne({width:Dn,height:R})}_e&&(pt||g)&&_e&&_e(),pt&&wt(!1)}},[Z,se,ln,st,Hn,pt,wt,ft,Et,Se,Ae,_e,Ut,Ct,Fn,x]),e.useEffect(function(){kt({width:0,height:0})},[Z])}var Le,tt=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),nt=globalThis.IntersectionObserver||tt,ut=(function(){function I(){var L=this;this.elementsMap=new Map,this.onObserved=function(x){x.forEach(function(Z){var se=L.elementsMap.get(Z.target);se&&se(Z)})},this.observer=new nt(this.onObserved)}return I.prototype.registerCallback=function(L,x){this.observer.observe(L),this.elementsMap.set(L,x)},I.prototype.removeCallback=function(L){this.observer.unobserve(L),this.elementsMap.delete(L)},I})(),Y=function(){return Le||(Le=new ut),Le};function F(I){var L=I.setContainerRef,x=I.setCanvasRef,Z=I.className,se=Z===void 0?"":Z,G=I.style,Q=I.children,_e=p(I,["setContainerRef","setCanvasRef","className","style","children"]),me=c({width:"100%",height:"100%"},G);return l.default.createElement("div",c({ref:L,className:se},!se&&{style:me}),l.default.createElement("canvas",c({ref:x,style:{verticalAlign:"top",width:0,height:0}},_e),Q))}function P(I,L){L===void 0&&(L={});var x=e.useState(null),Z=x[0],se=x[1],G=e.useRef(null),Q=e.useRef(null),_e=e.useState(null),me=_e[0],xe=_e[1],z=!!I,oe=ze(L),Se=E(),Ae=e.useCallback(function(){if(me){if(me.layout&&me.layout.fit===r.Fit.Layout&&Z){var pt=Se*me.layout.layoutScaleFactor;me.devicePixelRatioUsed=Se,me.artboardWidth=Z?.width/pt,me.artboardHeight=Z?.height/pt}me.startRendering(),me.resizeToCanvas()}},[me,Se]);U({riveLoaded:!!me,canvasElem:Z,containerRef:G,options:oe,onCanvasHasResized:Ae,artboardBounds:me?.bounds});var Ne=e.useCallback(function(pt){pt===null&&Z&&(Z.height=0,Z.width=0),se(pt)},[]);e.useEffect(function(){if(Z&&I){var pt,wt=me!=null;if(me==null){var Ct=oe.useOffscreenRenderer,Ut=I.onRiveReady,Fn=p(I,["onRiveReady"]);pt=new r.Rive(c(c({useOffscreenRenderer:Ct},Fn),{canvas:Z})),Q.current!=null&&Q.current.cleanup(),Q.current=pt,pt.on(r.EventType.Load,function(){wt=!0,Ut&&Ut(pt),Z?xe(pt):pt.cleanup()})}return function(){wt||pt==null||pt.cleanup()}}},[Z,z,me]);var Ye=e.useCallback(function(pt){G.current=pt},[]),mt={observe:e.useCallback(function(pt,wt){Y().registerCallback(pt,wt)},[]),unobserve:e.useCallback(function(pt){Y().removeCallback(pt)},[])},ft=mt.observe,Et=mt.unobserve;e.useEffect(function(){var pt,wt=!1,Ct=function(){if(Z&&wt){var Ut=Z.getBoundingClientRect();Ut.width>0&&Ut.height>0&&Ut.top<(window.innerHeight||document.documentElement.clientHeight)&&Ut.bottom>0&&Ut.left<(window.innerWidth||document.documentElement.clientWidth)&&Ut.right>0&&(me?.startRendering(),wt=!1)}};return Z&&oe.shouldUseIntersectionObserver!==!1&&ft(Z,function(Ut){Ut.isIntersecting?me&&me.startRendering():me&&me.stopRendering(),wt=!Ut.isIntersecting,clearTimeout(pt),Ut.isIntersecting||Ut.boundingClientRect.width!==0||(pt=setTimeout(Ct,10))}),function(){Z&&Et(Z)}},[ft,Et,me,Z,oe.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){me&&(me.cleanup(),xe(null))}},[me,Z]),e.useEffect(function(){return function(){Q.current!=null&&Q.current.cleanup()}},[]);var kt=I?.animations;e.useEffect(function(){me&&kt&&(me.isPlaying?(me.stop(me.animationNames),me.play(kt)):me.isPaused&&(me.stop(me.animationNames),me.pause(kt)))},[kt,me]);var ht=e.useCallback(function(pt){return l.default.createElement(F,c({setContainerRef:Ye,setCanvasRef:Ne},pt))},[Ne,Ye]);return{canvas:Z,container:G.current,setCanvasRef:Ne,setContainerRef:Ye,rive:me,RiveComponent:ht}}function H(I,L,x){var Z=e.useState(null),se=Z[0],G=Z[1],Q=e.useState(x.defaultValue),_e=Q[0],me=Q[1],xe=e.useState(null),z=xe[0],oe=xe[1],Se=e.useRef(null),Ae=e.useRef(I),Ne=e.useRef(x);e.useEffect(function(){Ne.current=x},[x]);var Ye=e.useCallback(function(){var kt=Se.current,ht=Ae.current,pt=Ne.current;if(!kt||!ht)return G(null),me(pt.defaultValue),oe(null),function(){};var wt=pt.getProperty(kt,ht);if(wt){G(wt),me(pt.getValue(wt)),pt.getExtendedData&&oe(pt.getExtendedData(wt));var Ct=function(){me(pt.getValue(wt)),pt.getExtendedData&&oe(pt.getExtendedData(wt)),pt.onPropertyEvent&&pt.onPropertyEvent()};return wt.on(Ct),function(){wt.off(Ct)}}return function(){}},[]);e.useEffect(function(){return Se.current=L,Ae.current=I,Ye()},[L,I,Ye]);var mt=e.useCallback(function(kt){if(se&&Se.current===L)try{return kt(se),void(Ne.current.getExtendedData&&oe(Ne.current.getExtendedData(se)))}catch{}if(Se.current)try{var ht=Ne.current.getProperty(Se.current,Ae.current);ht&&(G(ht),kt(ht),Ne.current.getExtendedData&&oe(Ne.current.getExtendedData(ht)))}catch{}},[se,L]),ft=e.useMemo(function(){return Ne.current.buildPropertyOperations(mt)},[mt]),Et=c({value:_e},ft);return x.getExtendedData&&(Et.extendedData=z),Et}i.default=function(I){var L=I.src,x=I.artboard,Z=I.animations,se=I.stateMachines,G=I.layout,Q=I.useOffscreenRenderer,_e=Q===void 0||Q,me=I.shouldDisableRiveListeners,xe=me!==void 0&&me,z=I.shouldResizeCanvasToContainer,oe=z===void 0||z,Se=I.automaticallyHandleEvents,Ae=Se!==void 0&&Se,Ne=I.children,Ye=p(I,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),mt=P({src:L,artboard:x,animations:Z,layout:G,stateMachines:se,autoplay:!0,shouldDisableRiveListeners:xe,automaticallyHandleEvents:Ae},{useOffscreenRenderer:_e,shouldResizeCanvasToContainer:oe}).RiveComponent;return l.default.createElement(mt,c({},Ye),Ne)},i.useResizeCanvas=U,i.useRive=P,i.useRiveFile=function(I){var L=this,x=e.useState(null),Z=x[0],se=x[1],G=e.useState("idle"),Q=G[0],_e=G[1];return e.useEffect(function(){var me=null;return b(L,void 0,void 0,function(){return w(this,function(xe){try{_e("loading"),(me=new r.RiveFile(I)).init(),me.on(r.EventType.Load,function(){me?.getInstance(),se(me),_e("success")}),me.on(r.EventType.LoadError,function(){_e("failed")}),se(me)}catch(z){console.error(z),_e("failed")}return[2]})}),function(){me?.cleanup()}},[I.src,I.buffer]),{riveFile:Z,status:Q}},i.useStateMachineInput=function(I,L,x,Z){var se=e.useState(null),G=se[0],Q=se[1];return e.useEffect(function(){function _e(){if(I&&L&&x||Q(null),I&&L&&x){var me=I.stateMachineInputs(L);if(me){var xe=me.find(function(z){return z.name===x});Z!==void 0&&xe&&(xe.value=Z),Q(xe||null)}}else Q(null)}_e(),I&&I.on(r.EventType.Load,function(){_e()})},[I]),G},i.useViewModel=function(I,L){var x=L??{},Z=x.name,se=x.useDefault,G=se!==void 0&&se,Q=e.useState(null),_e=Q[0],me=Q[1];return e.useEffect(function(){function xe(){var z;if(I){var oe=null;oe=Z!=null?((z=I.viewModelByName)===null||z===void 0?void 0:z.call(I,Z))||null:I.defaultViewModel()||null,me(oe)}else me(null)}return xe(),I&&I.on(r.EventType.Load,xe),function(){I&&I.off(r.EventType.Load,xe)}},[I,Z,G]),_e},i.useViewModelInstance=function(I,L){var x=L??{},Z=x.name,se=x.useDefault,G=se!==void 0&&se,Q=x.useNew,_e=Q!==void 0&&Q,me=x.rive,xe=e.useState(null),z=xe[0],oe=xe[1];return e.useEffect(function(){var Se,Ae,Ne;if(I){var Ye=null;Ye=Z!=null?I.instanceByName(Z)||null:G?((Se=I.defaultInstance)===null||Se===void 0?void 0:Se.call(I))||null:_e?((Ae=I.instance)===null||Ae===void 0?void 0:Ae.call(I))||null:((Ne=I.defaultInstance)===null||Ne===void 0?void 0:Ne.call(I))||null,oe(Ye),me&&Ye&&me.viewModelInstance!==Ye&&me.bindViewModelInstance(Ye)}else oe(null)},[I,Z,G,_e,me]),z},i.useViewModelInstanceArtboard=function(I,L){return{setValue:H(I,L,{getProperty:e.useCallback(function(x,Z){return x.artboard(Z)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(x){return{setValue:function(Z){x(function(se){se.value=Z})}}},[])}).setValue}},i.useViewModelInstanceBoolean=function(I,L){var x=H(I,L,{getProperty:e.useCallback(function(Z,se){return Z.boolean(se)},[]),getValue:e.useCallback(function(Z){return Z.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Z){return{setValue:function(se){Z(function(G){G.value=se})}}},[])});return{value:x.value,setValue:x.setValue}},i.useViewModelInstanceColor=function(I,L){var x=H(I,L,{getProperty:e.useCallback(function(Z,se){return Z.color(se)},[]),getValue:e.useCallback(function(Z){return Z.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Z){return{setValue:function(se){Z(function(G){G.value=se})},setRgb:function(se,G,Q){Z(function(_e){_e.rgb(se,G,Q)})},setRgba:function(se,G,Q,_e){Z(function(me){me.rgba(se,G,Q,_e)})},setAlpha:function(se){Z(function(G){G.alpha(se)})},setOpacity:function(se){Z(function(G){G.opacity(se)})}}},[])});return{value:x.value,setValue:x.setValue,setRgb:x.setRgb,setRgba:x.setRgba,setAlpha:x.setAlpha,setOpacity:x.setOpacity}},i.useViewModelInstanceEnum=function(I,L){var x=H(I,L,{getProperty:e.useCallback(function(Z,se){return Z.enum(se)},[]),getValue:e.useCallback(function(Z){return Z.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(Z){return Z.values},[]),buildPropertyOperations:e.useCallback(function(Z){return{setValue:function(se){Z(function(G){G.value=se})}}},[])});return{value:x.value,values:x.extendedData||[],setValue:x.setValue}},i.useViewModelInstanceImage=function(I,L){return{setValue:H(I,L,{getProperty:e.useCallback(function(x,Z){return x.image(Z)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(x){return{setValue:function(Z){x(function(se){se.value=Z})}}},[])}).setValue}},i.useViewModelInstanceList=function(I,L){var x,Z=e.useState(0)[1],se=H(I,L,{getProperty:e.useCallback(function(G,Q){return G.list(Q)},[]),getValue:e.useCallback(function(G){return G.length},[]),defaultValue:null,onPropertyEvent:function(){Z(function(G){return G+1})},buildPropertyOperations:e.useCallback(function(G){return{addInstance:function(Q){G(function(_e){return _e.addInstance(Q)})},addInstanceAt:function(Q,_e){var me=!1;return G(function(xe){me=xe.addInstanceAt(Q,_e)}),me},removeInstance:function(Q){G(function(_e){return _e.removeInstance(Q)})},removeInstanceAt:function(Q){G(function(_e){return _e.removeInstanceAt(Q)})},getInstanceAt:function(Q){var _e=null;return G(function(me){_e=me.instanceAt(Q)}),_e},swap:function(Q,_e){G(function(me){return me.swap(Q,_e)})}}},[])});return{length:(x=se.value)!==null&&x!==void 0?x:0,addInstance:se.addInstance,addInstanceAt:se.addInstanceAt,removeInstance:se.removeInstance,removeInstanceAt:se.removeInstanceAt,getInstanceAt:se.getInstanceAt,swap:se.swap}},i.useViewModelInstanceNumber=function(I,L){var x=H(I,L,{getProperty:e.useCallback(function(Z,se){return Z.number(se)},[]),getValue:e.useCallback(function(Z){return Z.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Z){return{setValue:function(se){Z(function(G){G.value=se})}}},[])});return{value:x.value,setValue:x.setValue}},i.useViewModelInstanceString=function(I,L){var x=H(I,L,{getProperty:e.useCallback(function(Z,se){return Z.string(se)},[]),getValue:e.useCallback(function(Z){return Z.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Z){return{setValue:function(se){Z(function(G){G.value=se})}}},[])});return{value:x.value,setValue:x.setValue}},i.useViewModelInstanceTrigger=function(I,L,x){var Z=(x??{}).onTrigger;return{trigger:H(I,L,{getProperty:e.useCallback(function(se,G){return se.trigger(G)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:Z,buildPropertyOperations:e.useCallback(function(se){return{trigger:function(){se(function(G){G.trigger()})}}},[])}).trigger}},Object.keys(r).forEach(function(I){I==="default"||i.hasOwnProperty(I)||Object.defineProperty(i,I,{enumerable:!0,get:function(){return r[I]}})})})(Em)),Em}var mo=iA();const aA=()=>{};var I0={};const ub=function(i){const e=[];let r=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},sA=function(i){const e=[];let r=0,a=0;for(;r<i.length;){const l=i[r++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[r++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[r++],p=i[r++],b=i[r++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[a++]=String.fromCharCode(55296+(w>>10)),e[a++]=String.fromCharCode(56320+(w&1023))}else{const c=i[r++],p=i[r++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},cb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const c=i[l],p=l+1<i.length,b=p?i[l+1]:0,w=l+2<i.length,E=w?i[l+2]:0,M=c>>2,O=(c&3)<<4|b>>4;let q=(b&15)<<2|E>>6,ae=E&63;w||(ae=64,p||(q=64)),a.push(r[M],r[O],r[q],r[ae])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ub(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):sA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const c=r[i.charAt(l++)],b=l<i.length?r[i.charAt(l)]:0;++l;const E=l<i.length?r[i.charAt(l)]:64;++l;const O=l<i.length?r[i.charAt(l)]:64;if(++l,c==null||b==null||E==null||O==null)throw new oA;const q=c<<2|b>>4;if(a.push(q),E!==64){const ae=b<<4&240|E>>2;if(a.push(ae),O!==64){const B=E<<6&192|O;a.push(B)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class oA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lA=function(i){const e=ub(i);return cb.encodeByteArray(e,!0)},jf=function(i){return lA(i).replace(/\./g,"")},fb=function(i){try{return cb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cA=()=>uA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof I0>"u")return;const i=I0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},hA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&fb(i[1]);return e&&JSON.parse(e)},uh=()=>{try{return aA()||cA()||fA()||hA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},hb=i=>uh()?.emulatorHosts?.[i],dA=i=>{const e=hb(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),a]:[e.substring(0,r),a]},db=()=>uh()?.config,mb=i=>uh()?.[`_${i}`];class mA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}function Jl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pb(i){return(await fetch(i,{credentials:"include"})).ok}function pA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[jf(JSON.stringify(r)),jf(JSON.stringify(p)),""].join(".")}const Yu={};function gA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Yu))Yu[e]?i.emulator.push(e):i.prod.push(e);return i}function yA(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let x0=!1;function gb(i,e){if(typeof window>"u"||typeof document>"u"||!Jl(window.location.host)||Yu[i]===e||Yu[i]||x0)return;Yu[i]=e;function r(q){return`__firebase__banner__${q}`}const a="__firebase__banner",c=gA().prod.length>0;function p(){const q=document.getElementById(a);q&&q.remove()}function b(q){q.style.display="flex",q.style.background="#7faaf0",q.style.position="fixed",q.style.bottom="5px",q.style.left="5px",q.style.padding=".5em",q.style.borderRadius="5px",q.style.alignItems="center"}function w(q,ae){q.setAttribute("width","24"),q.setAttribute("id",ae),q.setAttribute("height","24"),q.setAttribute("viewBox","0 0 24 24"),q.setAttribute("fill","none"),q.style.marginLeft="-6px"}function E(){const q=document.createElement("span");return q.style.cursor="pointer",q.style.marginLeft="16px",q.style.fontSize="24px",q.innerHTML=" &times;",q.onclick=()=>{x0=!0,p()},q}function M(q,ae){q.setAttribute("id",ae),q.innerText="Learn more",q.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",q.setAttribute("target","__blank"),q.style.paddingLeft="5px",q.style.textDecoration="underline"}function O(){const q=yA(a),ae=r("text"),B=document.getElementById(ae)||document.createElement("span"),Oe=r("learnmore"),Te=document.getElementById(Oe)||document.createElement("a"),ze=r("preprendIcon"),U=document.getElementById(ze)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(q.created){const Le=q.element;b(Le),M(Te,Oe);const tt=E();w(U,ze),Le.append(U,B,Te,tt),document.body.appendChild(Le)}c?(B.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",ae)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}function pi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pi())}function _A(){const i=uh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function wA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){const i=pi();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function AA(){return!_A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function CA(){return new Promise((i,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(r){e(r)}})}const RA="FirebaseError";class Vs extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=RA,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lc.prototype.create)}}class lc{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?IA(c,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Vs(l,b,a)}}function IA(i,e){return i.replace(xA,(r,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const xA=/\{\$([^}]+)}/g;function NA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Wo(i,e){if(i===e)return!0;const r=Object.keys(i),a=Object.keys(e);for(const l of r){if(!a.includes(l))return!1;const c=i[l],p=e[l];if(N0(c)&&N0(p)){if(!Wo(c,p))return!1}else if(c!==p)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function N0(i){return i!==null&&typeof i=="object"}function uc(i){const e=[];for(const[r,a]of Object.entries(i))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function MA(i,e){const r=new DA(i,e);return r.subscribe.bind(r)}class DA{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let l;if(e===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");OA(e,["next","error","complete"])?l=e:l={next:e,error:r,complete:a},l.next===void 0&&(l.next=wm),l.error===void 0&&(l.error=wm),l.complete===void 0&&(l.complete=wm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OA(i,e){if(typeof i!="object"||i===null)return!1;for(const r of e)if(r in i&&typeof i[r]=="function")return!0;return!1}function wm(){}function ua(i){return i&&i._delegate?i._delegate:i}class Xo{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Go="[DEFAULT]";class kA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new mA;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PA(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);a===b&&p.resolve(l)}return l}onInit(e,r){const a=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:VA(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VA(i){return i===Go?void 0:i}function PA(i){return i.instantiationMode==="EAGER"}class LA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new kA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var Qt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Qt||(Qt={}));const UA={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},zA=Qt.INFO,BA={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},jA=(i,e,...r)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),l=BA[e];if(l)console[l](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mp{constructor(e){this.name=e,this._logLevel=zA,this._logHandler=jA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...e),this._logHandler(this,Qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...e),this._logHandler(this,Qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...e),this._logHandler(this,Qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...e),this._logHandler(this,Qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...e),this._logHandler(this,Qt.ERROR,...e)}}const FA=(i,e)=>e.some(r=>i instanceof r);let M0,D0;function HA(){return M0||(M0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qA(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yb=new WeakMap,Bm=new WeakMap,vb=new WeakMap,Tm=new WeakMap,pp=new WeakMap;function GA(i){const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",p)},c=()=>{r(go(i.result)),l()},p=()=>{a(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&yb.set(r,i)}).catch(()=>{}),pp.set(e,i),e}function YA(i){if(Bm.has(i))return;const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",p),i.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",p),i.addEventListener("abort",p)});Bm.set(i,e)}let jm={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Bm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||vb.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return go(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function WA(i){jm=i(jm)}function XA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=i.call(Am(this),e,...r);return vb.set(a,e.sort?e.sort():[e]),go(a)}:qA().includes(i)?function(...e){return i.apply(Am(this),e),go(yb.get(this))}:function(...e){return go(i.apply(Am(this),e))}}function KA(i){return typeof i=="function"?XA(i):(i instanceof IDBTransaction&&YA(i),FA(i,HA())?new Proxy(i,jm):i)}function go(i){if(i instanceof IDBRequest)return GA(i);if(Tm.has(i))return Tm.get(i);const e=KA(i);return e!==i&&(Tm.set(i,e),pp.set(e,i)),e}const Am=i=>pp.get(i);function QA(i,e,{blocked:r,upgrade:a,blocking:l,terminated:c}={}){const p=indexedDB.open(i,e),b=go(p);return a&&p.addEventListener("upgradeneeded",w=>{a(go(p.result),w.oldVersion,w.newVersion,go(p.transaction),w)}),r&&p.addEventListener("blocked",w=>r(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const $A=["get","getKey","getAll","getAllKeys","count"],JA=["put","add","delete","clear"],Sm=new Map;function O0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,l=JA.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||$A.includes(r)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return a&&(E=E.index(b.shift())),(await Promise.all([E[r](...b),l&&w.done]))[0]};return Sm.set(e,c),c}WA(i=>({...i,get:(e,r,a)=>O0(e,r)||i.get(e,r,a),has:(e,r)=>!!O0(e,r)||i.has(e,r)}));class ZA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(eS(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function eS(i){return i.getComponent()?.type==="VERSION"}const Fm="@firebase/app",k0="0.14.6";const xs=new mp("@firebase/app"),tS="@firebase/app-compat",nS="@firebase/analytics-compat",rS="@firebase/analytics",iS="@firebase/app-check-compat",aS="@firebase/app-check",sS="@firebase/auth",oS="@firebase/auth-compat",lS="@firebase/database",uS="@firebase/data-connect",cS="@firebase/database-compat",fS="@firebase/functions",hS="@firebase/functions-compat",dS="@firebase/installations",mS="@firebase/installations-compat",pS="@firebase/messaging",gS="@firebase/messaging-compat",yS="@firebase/performance",vS="@firebase/performance-compat",_S="@firebase/remote-config",bS="@firebase/remote-config-compat",ES="@firebase/storage",wS="@firebase/storage-compat",TS="@firebase/firestore",AS="@firebase/ai",SS="@firebase/firestore-compat",CS="firebase",RS="12.6.0";const Hm="[DEFAULT]",IS={[Fm]:"fire-core",[tS]:"fire-core-compat",[rS]:"fire-analytics",[nS]:"fire-analytics-compat",[aS]:"fire-app-check",[iS]:"fire-app-check-compat",[sS]:"fire-auth",[oS]:"fire-auth-compat",[lS]:"fire-rtdb",[uS]:"fire-data-connect",[cS]:"fire-rtdb-compat",[fS]:"fire-fn",[hS]:"fire-fn-compat",[dS]:"fire-iid",[mS]:"fire-iid-compat",[pS]:"fire-fcm",[gS]:"fire-fcm-compat",[yS]:"fire-perf",[vS]:"fire-perf-compat",[_S]:"fire-rc",[bS]:"fire-rc-compat",[ES]:"fire-gcs",[wS]:"fire-gcs-compat",[TS]:"fire-fst",[SS]:"fire-fst-compat",[AS]:"fire-vertex","fire-js":"fire-js",[CS]:"fire-js-all"};const Ff=new Map,xS=new Map,qm=new Map;function V0(i,e){try{i.container.addComponent(e)}catch(r){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Gl(i){const e=i.name;if(qm.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,i);for(const r of Ff.values())V0(r,i);for(const r of xS.values())V0(r,i);return!0}function gp(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function Ia(i){return i==null?!1:i.settings!==void 0}const NS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new lc("app","Firebase",NS);class MS{constructor(e,r,a){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}const Zl=RS;function _b(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const a={name:Hm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw yo.create("bad-app-name",{appName:String(l)});if(r||(r=db()),!r)throw yo.create("no-options");const c=Ff.get(l);if(c){if(Wo(r,c.options)&&Wo(a,c.config))return c;throw yo.create("duplicate-app",{appName:l})}const p=new LA(l);for(const w of qm.values())p.addComponent(w);const b=new MS(r,a,p);return Ff.set(l,b),b}function bb(i=Hm){const e=Ff.get(i);if(!e&&i===Hm&&db())return _b();if(!e)throw yo.create("no-app",{appName:i});return e}function vo(i,e,r){let a=IS[i]??i;r&&(a+=`-${r}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(p.join(" "));return}Gl(new Xo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const DS="firebase-heartbeat-database",OS=1,Zu="firebase-heartbeat-store";let Cm=null;function Eb(){return Cm||(Cm=QA(DS,OS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zu)}catch(r){console.warn(r)}}}}).catch(i=>{throw yo.create("idb-open",{originalErrorMessage:i.message})})),Cm}async function kS(i){try{const r=(await Eb()).transaction(Zu),a=await r.objectStore(Zu).get(wb(i));return await r.done,a}catch(e){if(e instanceof Vs)xs.warn(e.message);else{const r=yo.create("idb-get",{originalErrorMessage:e?.message});xs.warn(r.message)}}}async function P0(i,e){try{const a=(await Eb()).transaction(Zu,"readwrite");await a.objectStore(Zu).put(e,wb(i)),await a.done}catch(r){if(r instanceof Vs)xs.warn(r.message);else{const a=yo.create("idb-set",{originalErrorMessage:r?.message});xs.warn(a.message)}}}function wb(i){return`${i.name}!${i.options.appId}`}const VS=1024,PS=30;class LS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new zS(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=L0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>PS){const l=BS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=L0(),{heartbeatsToSend:r,unsentEntries:a}=US(this._heartbeatsCache.heartbeats),l=jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return xs.warn(e),""}}}function L0(){return new Date().toISOString().substring(0,10)}function US(i,e=VS){const r=[];let a=i.slice();for(const l of i){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),U0(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),U0(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class zS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?CA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await kS(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function U0(i){return jf(JSON.stringify({version:2,heartbeats:i})).length}function BS(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,e=a);return e}function jS(i){Gl(new Xo("platform-logger",e=>new ZA(e),"PRIVATE")),Gl(new Xo("heartbeat",e=>new LS(e),"PRIVATE")),vo(Fm,k0,i),vo(Fm,k0,"esm2020"),vo("fire-js","")}jS("");var FS="firebase",HS="12.6.0";vo(FS,HS,"app");function Tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qS=Tb,Ab=new lc("auth","Firebase",Tb());const Hf=new mp("@firebase/auth");function GS(i,...e){Hf.logLevel<=Qt.WARN&&Hf.warn(`Auth (${Zl}): ${i}`,...e)}function Mf(i,...e){Hf.logLevel<=Qt.ERROR&&Hf.error(`Auth (${Zl}): ${i}`,...e)}function Ns(i,...e){throw yp(i,...e)}function Ja(i,...e){return yp(i,...e)}function Sb(i,e,r){const a={...qS(),[e]:r};return new lc("auth","Firebase",a).create(e,{appName:i.name})}function Rs(i){return Sb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(i,...e){if(typeof i!="string"){const r=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(r,...a)}return Ab.create(i,...e)}function Rt(i,e,...r){if(!i)throw yp(e,...r)}function Ss(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Mf(e),new Error(e)}function Ms(i,e){i||Ss(e)}function Gm(){return typeof self<"u"&&self.location?.href||""}function YS(){return z0()==="http:"||z0()==="https:"}function z0(){return typeof self<"u"&&self.location?.protocol||null}function WS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YS()||EA()||"connection"in navigator)?navigator.onLine:!0}function XS(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class cc{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ms(r>e,"Short delay should be less than long delay!"),this.isMobile=vA()||wA()}get(){return WS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(i,e){Ms(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}class Cb{static initialize(e,r,a){this.fetchImpl=e,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$S=new cc(3e4,6e4);function fc(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function eu(i,e,r,a,l={}){return Rb(i,l,async()=>{let c={},p={};a&&(e==="GET"?p=a:c={body:JSON.stringify(a)});const b=uc({key:i.config.apiKey,...p}).slice(1),w=await i._getAdditionalHeaders();w["Content-Type"]="application/json",i.languageCode&&(w["X-Firebase-Locale"]=i.languageCode);const E={method:e,headers:w,...c};return bA()||(E.referrerPolicy="no-referrer"),i.emulatorConfig&&Jl(i.emulatorConfig.host)&&(E.credentials="include"),Cb.fetch()(await Ib(i,i.config.apiHost,r,b),E)})}async function Rb(i,e,r){i._canInitEmulator=!1;const a={...KS,...e};try{const l=new JS(i),c=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw Tf(i,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(i,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw Tf(i,"email-already-in-use",p);if(w==="USER_DISABLED")throw Tf(i,"user-disabled",p);const M=a[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Sb(i,M,E);Ns(i,M)}}catch(l){if(l instanceof Vs)throw l;Ns(i,"network-request-failed",{message:String(l)})}}async function _p(i,e,r,a,l={}){const c=await eu(i,e,r,a,l);return"mfaPendingCredential"in c&&Ns(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Ib(i,e,r,a){const l=`${e}${r}?${a}`,c=i,p=c.config.emulator?vp(i.config,l):`${i.config.apiScheme}://${l}`;return QS.includes(r)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class JS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(Ja(this.auth,"network-request-failed")),$S.get())})}}function Tf(i,e,r){const a={appName:i.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const l=Ja(i,e,a);return l.customData._tokenResponse=r,l}async function ZS(i,e){return eu(i,"POST","/v1/accounts:delete",e)}async function qf(i,e){return eu(i,"POST","/v1/accounts:lookup",e)}function Wu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e2(i,e=!1){const r=ua(i),a=await r.getIdToken(e),l=bp(a);Rt(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:a,authTime:Wu(Rm(l.auth_time)),issuedAtTime:Wu(Rm(l.iat)),expirationTime:Wu(Rm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Rm(i){return Number(i)*1e3}function bp(i){const[e,r,a]=i.split(".");if(e===void 0||r===void 0||a===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const l=fb(r);return l?JSON.parse(l):(Mf("Failed to decode base64 JWT payload"),null)}catch(l){return Mf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function B0(i){const e=bp(i);return Rt(e,"internal-error"),Rt(typeof e.exp<"u","internal-error"),Rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ec(i,e,r=!1){if(r)return e;try{return await e}catch(a){throw a instanceof Vs&&t2(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function t2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class n2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ym{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gf(i){const e=i.auth,r=await i.getIdToken(),a=await ec(i,qf(e,{idToken:r}));Rt(a?.users.length,e,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?xb(l.providerUserInfo):[],p=i2(i.providerData,c),b=i.isAnonymous,w=!(i.email&&l.passwordHash)&&!p?.length,E=b?w:!1,M={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Ym(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(i,M)}async function r2(i){const e=ua(i);await Gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i2(i,e){return[...i.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function xb(i){return i.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function a2(i,e){const r=await Rb(i,{},async()=>{const a=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,p=await Ib(i,l,"/v1/token",`key=${c}`),b=await i._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:a};return i.emulatorConfig&&Jl(i.emulatorConfig.host)&&(w.credentials="include"),Cb.fetch()(p,w)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function s2(i,e){return eu(i,"POST","/v2/accounts:revokeToken",fc(i,e))}class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Rt(e.idToken,"internal-error"),Rt(typeof e.idToken<"u","internal-error"),Rt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Rt(e.length!==0,"internal-error");const r=B0(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:a,refreshToken:l,expiresIn:c}=await a2(e,r);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,r,a){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,r){const{refreshToken:a,accessToken:l,expirationTime:c}=r,p=new zl;return a&&(Rt(typeof a=="string","internal-error",{appName:e}),p.refreshToken=a),l&&(Rt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Rt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function oo(i,e){Rt(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ua{constructor({uid:e,auth:r,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new n2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const r=await ec(this,this.stsTokenManager.getToken(this.auth,e));return Rt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return e2(this,e)}reload(){return r2(this)}_assign(e){this!==e&&(Rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ua({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),r&&await Gf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ia(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await ec(this,ZS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const a=r.displayName??void 0,l=r.email??void 0,c=r.phoneNumber??void 0,p=r.photoURL??void 0,b=r.tenantId??void 0,w=r._redirectEventId??void 0,E=r.createdAt??void 0,M=r.lastLoginAt??void 0,{uid:O,emailVerified:q,isAnonymous:ae,providerData:B,stsTokenManager:Oe}=r;Rt(O&&Oe,e,"internal-error");const Te=zl.fromJSON(this.name,Oe);Rt(typeof O=="string",e,"internal-error"),oo(a,e.name),oo(l,e.name),Rt(typeof q=="boolean",e,"internal-error"),Rt(typeof ae=="boolean",e,"internal-error"),oo(c,e.name),oo(p,e.name),oo(b,e.name),oo(w,e.name),oo(E,e.name),oo(M,e.name);const ze=new Ua({uid:O,auth:e,email:l,emailVerified:q,displayName:a,isAnonymous:ae,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Te,createdAt:E,lastLoginAt:M});return B&&Array.isArray(B)&&(ze.providerData=B.map(U=>({...U}))),w&&(ze._redirectEventId=w),ze}static async _fromIdTokenResponse(e,r,a=!1){const l=new zl;l.updateFromServerResponse(r);const c=new Ua({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Gf(c),c}static async _fromGetAccountInfoResponse(e,r,a){const l=r.users[0];Rt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?xb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new zl;b.updateFromIdToken(a);const w=new Ua({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const j0=new Map;function Cs(i){Ms(i instanceof Function,"Expected a class definition");let e=j0.get(i);return e?(Ms(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,j0.set(i,e),e)}class Nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Nb.type="NONE";const F0=Nb;function Df(i,e,r){return`firebase:${i}:${e}:${r}`}class Bl{constructor(e,r,a){this.persistence=e,this.auth=r,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Df(this.userKey,l.apiKey,c),this.fullPersistenceKey=Df("persistence",l.apiKey,c),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await qf(this.auth,{idToken:e}).catch(()=>{});return r?Ua._fromGetAccountInfoResponse(this.auth,r,e):null}return Ua._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,a="authUser"){if(!r.length)return new Bl(Cs(F0),e,a);const l=(await Promise.all(r.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||Cs(F0);const p=Df(a,e.config.apiKey,e.name);let b=null;for(const E of r)try{const M=await E._get(p);if(M){let O;if(typeof M=="string"){const q=await qf(e,{idToken:M}).catch(()=>{});if(!q)break;O=await Ua._fromGetAccountInfoResponse(e,q,M)}else O=Ua._fromJSON(e,M);E!==c&&(b=O),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new Bl(c,e,a):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(r.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new Bl(c,e,a))}}function H0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pb(e))return"Blackberry";if(Lb(e))return"Webos";if(Db(e))return"Safari";if((e.includes("chrome/")||Ob(e))&&!e.includes("edge/"))return"Chrome";if(Vb(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(r);if(a?.length===2)return a[1]}return"Other"}function Mb(i=pi()){return/firefox\//i.test(i)}function Db(i=pi()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ob(i=pi()){return/crios\//i.test(i)}function kb(i=pi()){return/iemobile/i.test(i)}function Vb(i=pi()){return/android/i.test(i)}function Pb(i=pi()){return/blackberry/i.test(i)}function Lb(i=pi()){return/webos/i.test(i)}function Ep(i=pi()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function o2(i=pi()){return Ep(i)&&!!window.navigator?.standalone}function l2(){return TA()&&document.documentMode===10}function Ub(i=pi()){return Ep(i)||Vb(i)||Lb(i)||Pb(i)||/windows phone/i.test(i)||kb(i)}function zb(i,e=[]){let r;switch(i){case"Browser":r=H0(pi());break;case"Worker":r=`${H0(pi())}-${i}`;break;default:r=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Zl}/${a}`}class u2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const a=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});a.onAbort=r,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const a of this.queue)await a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function c2(i,e={}){return eu(i,"GET","/v2/passwordPolicy",fc(i,e))}const f2=6;class h2{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??f2,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=e.length>=a),l&&(r.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,r,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class d2{constructor(e,r,a,l){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q0(this),this.idTokenSubscription=new q0(this),this.beforeStateQueue=new u2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Cs(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await qf(this,{idToken:e}),a=await Ua._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ia(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Gf(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ia(this.app))return Promise.reject(Rs(this));const r=e?ua(e):null;return r&&Rt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ia(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ia(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c2(this),r=new h2(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lc("auth","Firebase",e())}onAuthStateChanged(e,r,a){return this.registerStateListener(this.authStateSubscription,e,r,a)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,a){return this.registerStateListener(this.idTokenSubscription,e,r,a)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await s2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const a=await this.getOrInitRedirectPersistenceManager(r);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Cs(e)||this._popupRedirectResolver;Rt(r,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[Cs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,a,l){if(this._deleted)return()=>{};const c=typeof r=="function"?r:r.next.bind(r);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof r=="function"){const w=e.addObserver(r,a,l);return()=>{p=!0,w()}}else{const w=e.addObserver(r);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Ia(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hc(i){return ua(i)}class q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=MA(r=>this.observer=r)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m2(i){wp=i}function p2(i){return wp.loadJS(i)}function g2(){return wp.gapiScript}function y2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function v2(i,e){const r=gp(i,"auth");if(r.isInitialized()){const l=r.getImmediate(),c=r.getOptions();if(Wo(c,e??{}))return l;Ns(l,"already-initialized")}return r.initialize({options:e})}function _2(i,e){const r=e?.persistence||[],a=(Array.isArray(r)?r:[r]).map(Cs);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function b2(i,e,r){const a=hc(i);Rt(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Bb(e),{host:p,port:b}=E2(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},M=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Rt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Rt(Wo(E,a.config.emulator)&&Wo(M,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=M,a.settings.appVerificationDisabledForTesting=!0,Jl(p)?(pb(`${c}//${p}${w}`),gb("Auth",!0)):w2()}function Bb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function E2(i){const e=Bb(i),r=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:G0(a.substr(c.length+1))}}else{const[c,p]=a.split(":");return{host:c,port:G0(p)}}}function G0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function w2(){function i(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class jb{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,r){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function jl(i,e){return _p(i,"POST","/v1/accounts:signInWithIdp",fc(i,e))}const T2="http://localhost";class Ko extends jb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Ns("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=r;if(!a||!l)return null;const p=new Ko(a,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const r=this.buildRequest();return jl(e,r)}_linkToIdToken(e,r){const a=this.buildRequest();return a.idToken=r,jl(e,a)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,jl(e,r)}buildRequest(){const e={requestUri:T2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=uc(r)}return e}}class Fb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dc extends Fb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class uo extends dc{constructor(){super("facebook.com")}static credential(e){return Ko._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";class co extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ko._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:a}=e;if(!r&&!a)return null;try{return co.credential(r,a)}catch{return null}}}co.GOOGLE_SIGN_IN_METHOD="google.com";co.PROVIDER_ID="google.com";class fo extends dc{constructor(){super("github.com")}static credential(e){return Ko._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";class ho extends dc{constructor(){super("twitter.com")}static credential(e,r){return Ko._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=e;if(!r||!a)return null;try{return ho.credential(r,a)}catch{return null}}}ho.TWITTER_SIGN_IN_METHOD="twitter.com";ho.PROVIDER_ID="twitter.com";async function A2(i,e){return _p(i,"POST","/v1/accounts:signUp",fc(i,e))}class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,a,l=!1){const c=await Ua._fromIdTokenResponse(e,a,l),p=Y0(a);return new Ds({user:c,providerId:p,_tokenResponse:a,operationType:r})}static async _forOperation(e,r,a){await e._updateTokensIfNecessary(a,!0);const l=Y0(a);return new Ds({user:e,providerId:l,_tokenResponse:a,operationType:r})}}function Y0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function S2(i){if(Ia(i.app))return Promise.reject(Rs(i));const e=hc(i);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ds({user:e.currentUser,providerId:null,operationType:"signIn"});const r=await A2(e,{returnSecureToken:!0}),a=await Ds._fromIdTokenResponse(e,"signIn",r,!0);return await e._updateCurrentUser(a.user),a}class Yf extends Vs{constructor(e,r,a,l){super(r.code,r.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,r,a,l){return new Yf(e,r,a,l)}}function Hb(i,e,r,a){return(e==="reauthenticate"?r._getReauthenticationResolver(i):r._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(i,c,e,a):c})}async function C2(i,e,r=!1){const a=await ec(i,e._linkToIdToken(i.auth,await i.getIdToken()),r);return Ds._forOperation(i,"link",a)}async function R2(i,e,r=!1){const{auth:a}=i;if(Ia(a.app))return Promise.reject(Rs(a));const l="reauthenticate";try{const c=await ec(i,Hb(a,l,e,i),r);Rt(c.idToken,a,"internal-error");const p=bp(c.idToken);Rt(p,a,"internal-error");const{sub:b}=p;return Rt(i.uid===b,a,"user-mismatch"),Ds._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ns(a,"user-mismatch"),c}}async function I2(i,e,r=!1){if(Ia(i.app))return Promise.reject(Rs(i));const a="signIn",l=await Hb(i,a,e),c=await Ds._fromIdTokenResponse(i,a,l);return r||await i._updateCurrentUser(c.user),c}async function x2(i,e){return _p(i,"POST","/v1/accounts:signInWithCustomToken",fc(i,e))}async function N2(i,e){if(Ia(i.app))return Promise.reject(Rs(i));const r=hc(i),a=await x2(r,{token:e,returnSecureToken:!0}),l=await Ds._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function M2(i,e,r,a){return ua(i).onIdTokenChanged(e,r,a)}function D2(i,e,r){return ua(i).beforeAuthStateChanged(e,r)}function O2(i,e,r,a){return ua(i).onAuthStateChanged(e,r,a)}const Wf="__sak";class qb{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const k2=1e3,V2=10;class Gb extends qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),l=this.localCache[r];a!==l&&e(r,l,a)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const a=e.key;r?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!r&&this.localCache[a]===p||this.notifyListeners(a,p)},c=this.storage.getItem(a);l2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,V2):l()}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:a}),!0)})},k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gb.type="LOCAL";const P2=Gb;class Yb extends qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Yb.type="SESSION";const Wb=Yb;function L2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(l=>l.isListeningto(e));if(r)return r;const a=new ch(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:a,eventType:l,data:c}=r.data,p=this.handlersMap[l];if(!p?.size)return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async E=>E(r.origin,c)),w=await L2(b);r.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:w})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Tp(i="",e=10){let r="";for(let a=0;a<e;a++)r+=Math.floor(Math.random()*10);return i+r}class U2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=Tp("",20);l.port1.start();const M=setTimeout(()=>{w(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(O){const q=O;if(q.data.eventId===E)switch(q.data.status){case"ack":clearTimeout(M),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(q.data.response);break;default:clearTimeout(M),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:r},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Za(){return window}function z2(i){Za().location.href=i}function Xb(){return typeof Za().WorkerGlobalScope<"u"&&typeof Za().importScripts=="function"}async function B2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j2(){return navigator?.serviceWorker?.controller||null}function F2(){return Xb()?self:null}const Kb="firebaseLocalStorageDb",H2=1,Xf="firebaseLocalStorage",Qb="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function fh(i,e){return i.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function q2(){const i=indexedDB.deleteDatabase(Kb);return new mc(i).toPromise()}function Wm(){const i=indexedDB.open(Kb,H2);return new Promise((e,r)=>{i.addEventListener("error",()=>{r(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Xf,{keyPath:Qb})}catch(l){r(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Xf)?e(a):(a.close(),await q2(),e(await Wm()))})})}async function W0(i,e,r){const a=fh(i,!0).put({[Qb]:e,value:r});return new mc(a).toPromise()}async function G2(i,e){const r=fh(i,!1).get(e),a=await new mc(r).toPromise();return a===void 0?null:a.value}function X0(i,e){const r=fh(i,!0).delete(e);return new mc(r).toPromise()}const Y2=800,W2=3;class $b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let r=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(r++>W2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(F2()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await B2(),!this.activeServiceWorker)return;this.sender=new U2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await W0(e,Wf,"1"),await X0(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>W0(a,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(a=>G2(a,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>X0(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=fh(l,!1).getAll();return new mc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$b.type="LOCAL";const X2=$b;new cc(3e4,6e4);function K2(i,e){return e?Cs(e):(Rt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Ap extends jb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return jl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Q2(i){return I2(i.auth,new Ap(i),i.bypassAuthState)}function $2(i){const{auth:e,user:r}=i;return Rt(r,e,"internal-error"),R2(r,new Ap(i),i.bypassAuthState)}async function J2(i){const{auth:e,user:r}=i;return Rt(r,e,"internal-error"),C2(r,new Ap(i),i.bypassAuthState)}class Jb{constructor(e,r,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:a,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:r,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q2;case"linkViaPopup":case"linkViaRedirect":return J2;case"reauthViaPopup":case"reauthViaRedirect":return $2;default:Ns(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Z2=new cc(2e3,1e4);class Ll extends Jb{constructor(e,r,a,l,c){super(e,r,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ll.currentPopupAction&&Ll.currentPopupAction.cancel(),Ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Rt(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ja(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ja(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ja(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z2.get())};e()}}Ll.currentPopupAction=null;const eC="pendingRedirect",Of=new Map;class tC extends Jb{constructor(e,r,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const a=await nC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(r){e=()=>Promise.reject(r)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nC(i,e){const r=aC(e),a=iC(i);if(!await a._isAvailable())return!1;const l=await a._get(r)==="true";return await a._remove(r),l}function rC(i,e){Of.set(i._key(),e)}function iC(i){return Cs(i._redirectPersistence)}function aC(i){return Df(eC,i.config.apiKey,i.name)}async function sC(i,e,r=!1){if(Ia(i.app))return Promise.reject(Rs(i));const a=hc(i),l=K2(a,e),p=await new tC(a,l,r).execute();return p&&!r&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,e)),p}const oC=600*1e3;class lC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(r=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uC(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!Zb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Ja(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const a=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oC&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(e))}saveEventToCache(e){this.cachedEventUids.add(K0(e)),this.lastProcessedEventTime=Date.now()}}function K0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Zb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function uC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zb(i);default:return!1}}async function cC(i,e={}){return eu(i,"GET","/v1/projects",e)}const fC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hC=/^https?/;async function dC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await cC(i);for(const r of e)try{if(mC(r))return}catch{}Ns(i,"unauthorized-domain")}function mC(i){const e=Gm(),{protocol:r,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const p=new URL(i);return p.hostname===""&&a===""?r==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&p.hostname===a}if(!hC.test(r))return!1;if(fC.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const pC=new cc(3e4,6e4);function Q0(){const i=Za().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let r=0;r<i.CP.length;r++)i.CP[r]=null}}function gC(i){return new Promise((e,r)=>{function a(){Q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q0(),r(Ja(i,"network-request-failed"))},timeout:pC.get()})}if(Za().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Za().gapi?.load)a();else{const l=y2("iframefcb");return Za()[l]=()=>{gapi.load?a():r(Ja(i,"network-request-failed"))},p2(`${g2()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw kf=null,e})}let kf=null;function yC(i){return kf=kf||gC(i),kf}const vC=new cc(5e3,15e3),_C="__/auth/iframe",bC="emulator/auth/iframe",EC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TC(i){const e=i.config;Rt(e.authDomain,i,"auth-domain-config-required");const r=e.emulator?vp(e,bC):`https://${i.config.authDomain}/${_C}`,a={apiKey:e.apiKey,appName:i.name,v:Zl},l=wC.get(i.config.apiHost);l&&(a.eid=l);const c=i._getFrameworks();return c.length&&(a.fw=c.join(",")),`${r}?${uc(a).slice(1)}`}async function AC(i){const e=await yC(i),r=Za().gapi;return Rt(r,i,"internal-error"),e.open({where:document.body,url:TC(i),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const p=Ja(i,"network-request-failed"),b=Za().setTimeout(()=>{c(p)},vC.get());function w(){Za().clearTimeout(b),l(a)}a.ping(w).then(w,()=>{c(p)})}))}const SC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CC=500,RC=600,IC="_blank",xC="http://localhost";class $0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(i,e,r,a=CC,l=RC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const w={...SC,width:a.toString(),height:l.toString(),top:c,left:p},E=pi().toLowerCase();r&&(b=Ob(E)?IC:r),Mb(E)&&(e=e||xC,w.scrollbars="yes");const M=Object.entries(w).reduce((q,[ae,B])=>`${q}${ae}=${B},`,"");if(o2(E)&&b!=="_self")return MC(e||"",b),new $0(null);const O=window.open(e||"",b,M);Rt(O,i,"popup-blocked");try{O.focus()}catch{}return new $0(O)}function MC(i,e){const r=document.createElement("a");r.href=i,r.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}const DC="__/auth/handler",OC="emulator/auth/handler",kC=encodeURIComponent("fac");async function J0(i,e,r,a,l,c){Rt(i.config.authDomain,i,"auth-domain-config-required"),Rt(i.config.apiKey,i,"invalid-api-key");const p={apiKey:i.config.apiKey,appName:i.name,authType:r,redirectUrl:a,v:Zl,eventId:l};if(e instanceof Fb){e.setDefaultLanguage(i.languageCode),p.providerId=e.providerId||"",NA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[M,O]of Object.entries({}))p[M]=O}if(e instanceof dc){const M=e.getScopes().filter(O=>O!=="");M.length>0&&(p.scopes=M.join(","))}i.tenantId&&(p.tid=i.tenantId);const b=p;for(const M of Object.keys(b))b[M]===void 0&&delete b[M];const w=await i._getAppCheckToken(),E=w?`#${kC}=${encodeURIComponent(w)}`:"";return`${VC(i)}?${uc(b).slice(1)}${E}`}function VC({config:i}){return i.emulator?vp(i,OC):`https://${i.authDomain}/${DC}`}const Im="webStorageSupport";class PC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wb,this._completeRedirectFn=sC,this._overrideRedirectResult=rC}async _openPopup(e,r,a,l){Ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await J0(e,r,a,Gm(),l);return NC(e,c,Tp())}async _openRedirect(e,r,a,l){await this._originValidation(e);const c=await J0(e,r,a,Gm(),l);return z2(c),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:l,promise:c}=this.eventManagers[r];return l?Promise.resolve(l):(Ms(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(e){const r=await AC(e),a=new lC(e);return r.register("authEvent",l=>(Rt(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=r,a}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Im,{type:Im},l=>{const c=l?.[0]?.[Im];c!==void 0&&r(!!c),Ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=dC(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Ub()||Db()||Ep()}}const LC=PC;var Z0="@firebase/auth",e_="1.11.1";class UC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BC(i){Gl(new Xo("auth",(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;Rt(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const w={apiKey:p,authDomain:b,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zb(i)},E=new d2(a,l,c,w);return _2(E,r),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,a)=>{e.getProvider("auth-internal").initialize()})),Gl(new Xo("auth-internal",e=>{const r=hc(e.getProvider("auth").getImmediate());return(a=>new UC(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),vo(Z0,e_,zC(i)),vo(Z0,e_,"esm2020")}const jC=300,FC=mb("authIdTokenMaxAge")||jC;let t_=null;const HC=i=>async e=>{const r=e&&await e.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>FC)return;const l=r?.token;t_!==l&&(t_=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function qC(i=bb()){const e=gp(i,"auth");if(e.isInitialized())return e.getImmediate();const r=v2(i,{popupRedirectResolver:LC,persistence:[X2,P2,Wb]}),a=mb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const p=HC(c.toString());D2(r,p,()=>p(r.currentUser)),M2(r,b=>p(b))}}const l=hb("auth");return l&&b2(r,`http://${l}`),r}function GC(){return document.getElementsByTagName("head")?.[0]??document}m2({loadJS(i){return new Promise((e,r)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=l=>{const c=Ja("internal-error");c.customData=l,r(c)},a.type="text/javascript",a.charset="UTF-8",GC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BC("Browser");var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _o,eE;(function(){var i;function e(Y,F){function P(){}P.prototype=F.prototype,Y.F=F.prototype,Y.prototype=new P,Y.prototype.constructor=Y,Y.D=function(H,I,L){for(var x=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)x[Z-2]=arguments[Z];return F.prototype[I].apply(H,x)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,r),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(Y,F,P){P||(P=0);const H=Array(16);if(typeof F=="string")for(var I=0;I<16;++I)H[I]=F.charCodeAt(P++)|F.charCodeAt(P++)<<8|F.charCodeAt(P++)<<16|F.charCodeAt(P++)<<24;else for(I=0;I<16;++I)H[I]=F[P++]|F[P++]<<8|F[P++]<<16|F[P++]<<24;F=Y.g[0],P=Y.g[1],I=Y.g[2];let L=Y.g[3],x;x=F+(L^P&(I^L))+H[0]+3614090360&4294967295,F=P+(x<<7&4294967295|x>>>25),x=L+(I^F&(P^I))+H[1]+3905402710&4294967295,L=F+(x<<12&4294967295|x>>>20),x=I+(P^L&(F^P))+H[2]+606105819&4294967295,I=L+(x<<17&4294967295|x>>>15),x=P+(F^I&(L^F))+H[3]+3250441966&4294967295,P=I+(x<<22&4294967295|x>>>10),x=F+(L^P&(I^L))+H[4]+4118548399&4294967295,F=P+(x<<7&4294967295|x>>>25),x=L+(I^F&(P^I))+H[5]+1200080426&4294967295,L=F+(x<<12&4294967295|x>>>20),x=I+(P^L&(F^P))+H[6]+2821735955&4294967295,I=L+(x<<17&4294967295|x>>>15),x=P+(F^I&(L^F))+H[7]+4249261313&4294967295,P=I+(x<<22&4294967295|x>>>10),x=F+(L^P&(I^L))+H[8]+1770035416&4294967295,F=P+(x<<7&4294967295|x>>>25),x=L+(I^F&(P^I))+H[9]+2336552879&4294967295,L=F+(x<<12&4294967295|x>>>20),x=I+(P^L&(F^P))+H[10]+4294925233&4294967295,I=L+(x<<17&4294967295|x>>>15),x=P+(F^I&(L^F))+H[11]+2304563134&4294967295,P=I+(x<<22&4294967295|x>>>10),x=F+(L^P&(I^L))+H[12]+1804603682&4294967295,F=P+(x<<7&4294967295|x>>>25),x=L+(I^F&(P^I))+H[13]+4254626195&4294967295,L=F+(x<<12&4294967295|x>>>20),x=I+(P^L&(F^P))+H[14]+2792965006&4294967295,I=L+(x<<17&4294967295|x>>>15),x=P+(F^I&(L^F))+H[15]+1236535329&4294967295,P=I+(x<<22&4294967295|x>>>10),x=F+(I^L&(P^I))+H[1]+4129170786&4294967295,F=P+(x<<5&4294967295|x>>>27),x=L+(P^I&(F^P))+H[6]+3225465664&4294967295,L=F+(x<<9&4294967295|x>>>23),x=I+(F^P&(L^F))+H[11]+643717713&4294967295,I=L+(x<<14&4294967295|x>>>18),x=P+(L^F&(I^L))+H[0]+3921069994&4294967295,P=I+(x<<20&4294967295|x>>>12),x=F+(I^L&(P^I))+H[5]+3593408605&4294967295,F=P+(x<<5&4294967295|x>>>27),x=L+(P^I&(F^P))+H[10]+38016083&4294967295,L=F+(x<<9&4294967295|x>>>23),x=I+(F^P&(L^F))+H[15]+3634488961&4294967295,I=L+(x<<14&4294967295|x>>>18),x=P+(L^F&(I^L))+H[4]+3889429448&4294967295,P=I+(x<<20&4294967295|x>>>12),x=F+(I^L&(P^I))+H[9]+568446438&4294967295,F=P+(x<<5&4294967295|x>>>27),x=L+(P^I&(F^P))+H[14]+3275163606&4294967295,L=F+(x<<9&4294967295|x>>>23),x=I+(F^P&(L^F))+H[3]+4107603335&4294967295,I=L+(x<<14&4294967295|x>>>18),x=P+(L^F&(I^L))+H[8]+1163531501&4294967295,P=I+(x<<20&4294967295|x>>>12),x=F+(I^L&(P^I))+H[13]+2850285829&4294967295,F=P+(x<<5&4294967295|x>>>27),x=L+(P^I&(F^P))+H[2]+4243563512&4294967295,L=F+(x<<9&4294967295|x>>>23),x=I+(F^P&(L^F))+H[7]+1735328473&4294967295,I=L+(x<<14&4294967295|x>>>18),x=P+(L^F&(I^L))+H[12]+2368359562&4294967295,P=I+(x<<20&4294967295|x>>>12),x=F+(P^I^L)+H[5]+4294588738&4294967295,F=P+(x<<4&4294967295|x>>>28),x=L+(F^P^I)+H[8]+2272392833&4294967295,L=F+(x<<11&4294967295|x>>>21),x=I+(L^F^P)+H[11]+1839030562&4294967295,I=L+(x<<16&4294967295|x>>>16),x=P+(I^L^F)+H[14]+4259657740&4294967295,P=I+(x<<23&4294967295|x>>>9),x=F+(P^I^L)+H[1]+2763975236&4294967295,F=P+(x<<4&4294967295|x>>>28),x=L+(F^P^I)+H[4]+1272893353&4294967295,L=F+(x<<11&4294967295|x>>>21),x=I+(L^F^P)+H[7]+4139469664&4294967295,I=L+(x<<16&4294967295|x>>>16),x=P+(I^L^F)+H[10]+3200236656&4294967295,P=I+(x<<23&4294967295|x>>>9),x=F+(P^I^L)+H[13]+681279174&4294967295,F=P+(x<<4&4294967295|x>>>28),x=L+(F^P^I)+H[0]+3936430074&4294967295,L=F+(x<<11&4294967295|x>>>21),x=I+(L^F^P)+H[3]+3572445317&4294967295,I=L+(x<<16&4294967295|x>>>16),x=P+(I^L^F)+H[6]+76029189&4294967295,P=I+(x<<23&4294967295|x>>>9),x=F+(P^I^L)+H[9]+3654602809&4294967295,F=P+(x<<4&4294967295|x>>>28),x=L+(F^P^I)+H[12]+3873151461&4294967295,L=F+(x<<11&4294967295|x>>>21),x=I+(L^F^P)+H[15]+530742520&4294967295,I=L+(x<<16&4294967295|x>>>16),x=P+(I^L^F)+H[2]+3299628645&4294967295,P=I+(x<<23&4294967295|x>>>9),x=F+(I^(P|~L))+H[0]+4096336452&4294967295,F=P+(x<<6&4294967295|x>>>26),x=L+(P^(F|~I))+H[7]+1126891415&4294967295,L=F+(x<<10&4294967295|x>>>22),x=I+(F^(L|~P))+H[14]+2878612391&4294967295,I=L+(x<<15&4294967295|x>>>17),x=P+(L^(I|~F))+H[5]+4237533241&4294967295,P=I+(x<<21&4294967295|x>>>11),x=F+(I^(P|~L))+H[12]+1700485571&4294967295,F=P+(x<<6&4294967295|x>>>26),x=L+(P^(F|~I))+H[3]+2399980690&4294967295,L=F+(x<<10&4294967295|x>>>22),x=I+(F^(L|~P))+H[10]+4293915773&4294967295,I=L+(x<<15&4294967295|x>>>17),x=P+(L^(I|~F))+H[1]+2240044497&4294967295,P=I+(x<<21&4294967295|x>>>11),x=F+(I^(P|~L))+H[8]+1873313359&4294967295,F=P+(x<<6&4294967295|x>>>26),x=L+(P^(F|~I))+H[15]+4264355552&4294967295,L=F+(x<<10&4294967295|x>>>22),x=I+(F^(L|~P))+H[6]+2734768916&4294967295,I=L+(x<<15&4294967295|x>>>17),x=P+(L^(I|~F))+H[13]+1309151649&4294967295,P=I+(x<<21&4294967295|x>>>11),x=F+(I^(P|~L))+H[4]+4149444226&4294967295,F=P+(x<<6&4294967295|x>>>26),x=L+(P^(F|~I))+H[11]+3174756917&4294967295,L=F+(x<<10&4294967295|x>>>22),x=I+(F^(L|~P))+H[2]+718787259&4294967295,I=L+(x<<15&4294967295|x>>>17),x=P+(L^(I|~F))+H[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+F&4294967295,Y.g[1]=Y.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,Y.g[2]=Y.g[2]+I&4294967295,Y.g[3]=Y.g[3]+L&4294967295}a.prototype.v=function(Y,F){F===void 0&&(F=Y.length);const P=F-this.blockSize,H=this.C;let I=this.h,L=0;for(;L<F;){if(I==0)for(;L<=P;)l(this,Y,L),L+=this.blockSize;if(typeof Y=="string"){for(;L<F;)if(H[I++]=Y.charCodeAt(L++),I==this.blockSize){l(this,H),I=0;break}}else for(;L<F;)if(H[I++]=Y[L++],I==this.blockSize){l(this,H),I=0;break}}this.h=I,this.o+=F},a.prototype.A=function(){var Y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Y[0]=128;for(var F=1;F<Y.length-8;++F)Y[F]=0;F=this.o*8;for(var P=Y.length-8;P<Y.length;++P)Y[P]=F&255,F/=256;for(this.v(Y),Y=Array(16),F=0,P=0;P<4;++P)for(let H=0;H<32;H+=8)Y[F++]=this.g[P]>>>H&255;return Y};function c(Y,F){var P=b;return Object.prototype.hasOwnProperty.call(P,Y)?P[Y]:P[Y]=F(Y)}function p(Y,F){this.h=F;const P=[];let H=!0;for(let I=Y.length-1;I>=0;I--){const L=Y[I]|0;H&&L==F||(P[I]=L,H=!1)}this.g=P}var b={};function w(Y){return-128<=Y&&Y<128?c(Y,function(F){return new p([F|0],F<0?-1:0)}):new p([Y|0],Y<0?-1:0)}function E(Y){if(isNaN(Y)||!isFinite(Y))return O;if(Y<0)return Te(E(-Y));const F=[];let P=1;for(let H=0;Y>=P;H++)F[H]=Y/P|0,P*=4294967296;return new p(F,0)}function M(Y,F){if(Y.length==0)throw Error("number format error: empty string");if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(Y.charAt(0)=="-")return Te(M(Y.substring(1),F));if(Y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=E(Math.pow(F,8));let H=O;for(let L=0;L<Y.length;L+=8){var I=Math.min(8,Y.length-L);const x=parseInt(Y.substring(L,L+I),F);I<8?(I=E(Math.pow(F,I)),H=H.j(I).add(E(x))):(H=H.j(P),H=H.add(E(x)))}return H}var O=w(0),q=w(1),ae=w(16777216);i=p.prototype,i.m=function(){if(Oe(this))return-Te(this).m();let Y=0,F=1;for(let P=0;P<this.g.length;P++){const H=this.i(P);Y+=(H>=0?H:4294967296+H)*F,F*=4294967296}return Y},i.toString=function(Y){if(Y=Y||10,Y<2||36<Y)throw Error("radix out of range: "+Y);if(B(this))return"0";if(Oe(this))return"-"+Te(this).toString(Y);const F=E(Math.pow(Y,6));var P=this;let H="";for(;;){const I=tt(P,F).g;P=ze(P,I.j(F));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(Y);if(P=I,B(P))return L+H;for(;L.length<6;)L="0"+L;H=L+H}},i.i=function(Y){return Y<0?0:Y<this.g.length?this.g[Y]:this.h};function B(Y){if(Y.h!=0)return!1;for(let F=0;F<Y.g.length;F++)if(Y.g[F]!=0)return!1;return!0}function Oe(Y){return Y.h==-1}i.l=function(Y){return Y=ze(this,Y),Oe(Y)?-1:B(Y)?0:1};function Te(Y){const F=Y.g.length,P=[];for(let H=0;H<F;H++)P[H]=~Y.g[H];return new p(P,~Y.h).add(q)}i.abs=function(){return Oe(this)?Te(this):this},i.add=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];let H=0;for(let I=0;I<=F;I++){let L=H+(this.i(I)&65535)+(Y.i(I)&65535),x=(L>>>16)+(this.i(I)>>>16)+(Y.i(I)>>>16);H=x>>>16,L&=65535,x&=65535,P[I]=x<<16|L}return new p(P,P[P.length-1]&-2147483648?-1:0)};function ze(Y,F){return Y.add(Te(F))}i.j=function(Y){if(B(this)||B(Y))return O;if(Oe(this))return Oe(Y)?Te(this).j(Te(Y)):Te(Te(this).j(Y));if(Oe(Y))return Te(this.j(Te(Y)));if(this.l(ae)<0&&Y.l(ae)<0)return E(this.m()*Y.m());const F=this.g.length+Y.g.length,P=[];for(var H=0;H<2*F;H++)P[H]=0;for(H=0;H<this.g.length;H++)for(let I=0;I<Y.g.length;I++){const L=this.i(H)>>>16,x=this.i(H)&65535,Z=Y.i(I)>>>16,se=Y.i(I)&65535;P[2*H+2*I]+=x*se,U(P,2*H+2*I),P[2*H+2*I+1]+=L*se,U(P,2*H+2*I+1),P[2*H+2*I+1]+=x*Z,U(P,2*H+2*I+1),P[2*H+2*I+2]+=L*Z,U(P,2*H+2*I+2)}for(Y=0;Y<F;Y++)P[Y]=P[2*Y+1]<<16|P[2*Y];for(Y=F;Y<2*F;Y++)P[Y]=0;return new p(P,0)};function U(Y,F){for(;(Y[F]&65535)!=Y[F];)Y[F+1]+=Y[F]>>>16,Y[F]&=65535,F++}function Le(Y,F){this.g=Y,this.h=F}function tt(Y,F){if(B(F))throw Error("division by zero");if(B(Y))return new Le(O,O);if(Oe(Y))return F=tt(Te(Y),F),new Le(Te(F.g),Te(F.h));if(Oe(F))return F=tt(Y,Te(F)),new Le(Te(F.g),F.h);if(Y.g.length>30){if(Oe(Y)||Oe(F))throw Error("slowDivide_ only works with positive integers.");for(var P=q,H=F;H.l(Y)<=0;)P=nt(P),H=nt(H);var I=ut(P,1),L=ut(H,1);for(H=ut(H,2),P=ut(P,2);!B(H);){var x=L.add(H);x.l(Y)<=0&&(I=I.add(P),L=x),H=ut(H,1),P=ut(P,1)}return F=ze(Y,I.j(F)),new Le(I,F)}for(I=O;Y.l(F)>=0;){for(P=Math.max(1,Math.floor(Y.m()/F.m())),H=Math.ceil(Math.log(P)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),L=E(P),x=L.j(F);Oe(x)||x.l(Y)>0;)P-=H,L=E(P),x=L.j(F);B(L)&&(L=q),I=I.add(L),Y=ze(Y,x)}return new Le(I,Y)}i.B=function(Y){return tt(this,Y).h},i.and=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)&Y.i(H);return new p(P,this.h&Y.h)},i.or=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)|Y.i(H);return new p(P,this.h|Y.h)},i.xor=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)^Y.i(H);return new p(P,this.h^Y.h)};function nt(Y){const F=Y.g.length+1,P=[];for(let H=0;H<F;H++)P[H]=Y.i(H)<<1|Y.i(H-1)>>>31;return new p(P,Y.h)}function ut(Y,F){const P=F>>5;F%=32;const H=Y.g.length-P,I=[];for(let L=0;L<H;L++)I[L]=F>0?Y.i(L+P)>>>F|Y.i(L+P+1)<<32-F:Y.i(L+P);return new p(I,Y.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,eE=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=M,_o=p}).apply(typeof n_<"u"?n_:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tE,Hu,nE,Vf,Xm,rE,iE,aE;(function(){var i,e=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=r(this);function l(u,y){if(y)e:{var A=a;u=u.split(".");for(var k=0;k<u.length-1;k++){var ne=u[k];if(!(ne in A))break e;A=A[ne]}u=u[u.length-1],k=A[u],y=y(k),y!=k&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],k;for(k in y)Object.prototype.hasOwnProperty.call(y,k)&&A.push([k,y[k]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function M(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var k=A.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function O(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(k,ne,pe){for(var Be=Array(arguments.length-2),It=2;It<arguments.length;It++)Be[It-2]=arguments[It];return y.prototype[ne].apply(k,Be)}}var q=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function ae(u){const y=u.length;if(y>0){const A=Array(y);for(let k=0;k<y;k++)A[k]=u[k];return A}return[]}function B(u,y){for(let k=1;k<arguments.length;k++){const ne=arguments[k];var A=typeof ne;if(A=A!="object"?A:ne?Array.isArray(ne)?"array":A:"null",A=="array"||A=="object"&&typeof ne.length=="number"){A=u.length||0;const pe=ne.length||0;u.length=A+pe;for(let Be=0;Be<pe;Be++)u[A+Be]=ne[Be]}else u.push(ne)}}class Oe{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Te(u){p.setTimeout(()=>{throw u},0)}function ze(){var u=Y;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class U{constructor(){this.h=this.g=null}add(y,A){const k=Le.get();k.set(y,A),this.h?this.h.next=k:this.g=k,this.h=k}}var Le=new Oe(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ut=!1,Y=new U,F=()=>{const u=Promise.resolve(void 0);nt=()=>{u.then(P)}};function P(){for(var u;u=ze();){try{u.h.call(u.g)}catch(A){Te(A)}var y=Le;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}ut=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Z(u,y){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}O(Z,I),Z.prototype.init=function(u,y){const A=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),G=0;function Q(u,y,A,k,ne){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!k,this.ha=ne,this.key=++G,this.da=this.fa=!1}function _e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function me(u,y,A){for(const k in u)y.call(A,u[k],k,u)}function xe(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function z(u){const y={};for(const A in u)y[A]=u[A];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(u,y){let A,k;for(let ne=1;ne<arguments.length;ne++){k=arguments[ne];for(A in k)u[A]=k[A];for(let pe=0;pe<oe.length;pe++)A=oe[pe],Object.prototype.hasOwnProperty.call(k,A)&&(u[A]=k[A])}}function Ae(u){this.src=u,this.g={},this.h=0}Ae.prototype.add=function(u,y,A,k,ne){const pe=u.toString();u=this.g[pe],u||(u=this.g[pe]=[],this.h++);const Be=Ye(u,y,k,ne);return Be>-1?(y=u[Be],A||(y.fa=!1)):(y=new Q(y,this.src,pe,!!k,ne),y.fa=A,u.push(y)),y};function Ne(u,y){const A=y.type;if(A in u.g){var k=u.g[A],ne=Array.prototype.indexOf.call(k,y,void 0),pe;(pe=ne>=0)&&Array.prototype.splice.call(k,ne,1),pe&&(_e(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function Ye(u,y,A,k){for(let ne=0;ne<u.length;++ne){const pe=u[ne];if(!pe.da&&pe.listener==y&&pe.capture==!!A&&pe.ha==k)return ne}return-1}var mt="closure_lm_"+(Math.random()*1e6|0),ft={};function Et(u,y,A,k,ne){if(Array.isArray(y)){for(let pe=0;pe<y.length;pe++)Et(u,y[pe],A,k,ne);return null}return A=ln(A),u&&u[se]?u.J(y,A,b(k)?!!k.capture:!1,ne):kt(u,y,A,!1,k,ne)}function kt(u,y,A,k,ne,pe){if(!y)throw Error("Invalid event type");const Be=b(ne)?!!ne.capture:!!ne;let It=Fn(u);if(It||(u[mt]=It=new Ae(u)),A=It.add(y,A,k,Be,pe),A.proxy)return A;if(k=ht(),A.proxy=k,k.src=u,k.listener=A,u.addEventListener)L||(ne=Be),ne===void 0&&(ne=!1),u.addEventListener(y.toString(),k,ne);else if(u.attachEvent)u.attachEvent(Ct(y.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return A}function ht(){function u(A){return y.call(u.src,u.listener,A)}const y=Ut;return u}function pt(u,y,A,k,ne){if(Array.isArray(y))for(var pe=0;pe<y.length;pe++)pt(u,y[pe],A,k,ne);else k=b(k)?!!k.capture:!!k,A=ln(A),u&&u[se]?(u=u.i,pe=String(y).toString(),pe in u.g&&(y=u.g[pe],A=Ye(y,A,k,ne),A>-1&&(_e(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[pe],u.h--)))):u&&(u=Fn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Ye(y,A,k,ne)),(A=u>-1?y[u]:null)&&wt(A))}function wt(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[se])Ne(y.i,u);else{var A=u.type,k=u.proxy;y.removeEventListener?y.removeEventListener(A,k,u.capture):y.detachEvent?y.detachEvent(Ct(A),k):y.addListener&&y.removeListener&&y.removeListener(k),(A=Fn(y))?(Ne(A,u),A.h==0&&(A.src=null,y[mt]=null)):_e(u)}}}function Ct(u){return u in ft?ft[u]:ft[u]="on"+u}function Ut(u,y){if(u.da)u=!0;else{y=new Z(y,this);const A=u.listener,k=u.ha||u.src;u.fa&&wt(u),u=A.call(k,y)}return u}function Fn(u){return u=u[mt],u instanceof Ae?u:null}var ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function ln(u){return typeof u=="function"?u:(u[ar]||(u[ar]=function(y){return u.handleEvent(y)}),u[ar])}function st(){H.call(this),this.i=new Ae(this),this.M=this,this.G=null}O(st,H),st.prototype[se]=!0,st.prototype.removeEventListener=function(u,y,A,k){pt(this,u,y,A,k)};function nn(u,y){var A,k=u.G;if(k)for(A=[];k;k=k.G)A.push(k);if(u=u.M,k=y.type||y,typeof y=="string")y=new I(y,u);else if(y instanceof I)y.target=y.target||u;else{var ne=y;y=new I(k,u),Se(y,ne)}ne=!0;let pe,Be;if(A)for(Be=A.length-1;Be>=0;Be--)pe=y.g=A[Be],ne=Sn(pe,k,!0,y)&&ne;if(pe=y.g=u,ne=Sn(pe,k,!0,y)&&ne,ne=Sn(pe,k,!1,y)&&ne,A)for(Be=0;Be<A.length;Be++)pe=y.g=A[Be],ne=Sn(pe,k,!1,y)&&ne}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let k=0;k<A.length;k++)_e(A[k]);delete u.g[y],u.h--}}this.G=null},st.prototype.J=function(u,y,A,k){return this.i.add(String(u),y,!1,A,k)},st.prototype.K=function(u,y,A,k){return this.i.add(String(u),y,!0,A,k)};function Sn(u,y,A,k){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ne=!0;for(let pe=0;pe<y.length;++pe){const Be=y[pe];if(Be&&!Be.da&&Be.capture==A){const It=Be.listener,Jn=Be.ha||Be.src;Be.fa&&Ne(u.i,Be),ne=It.call(Jn,k)!==!1&&ne}}return ne&&!k.defaultPrevented}function Xi(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function Hn(u){u.g=Xi(()=>{u.g=null,u.i&&(u.i=!1,Hn(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Ht extends H{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Hn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dn(u){H.call(this),this.h=u,this.g={}}O(Dn,H);var R=[];function g(u){me(u.g,function(y,A){this.g.hasOwnProperty(A)&&wt(y)},u),u.g={}}Dn.prototype.N=function(){Dn.Z.N.call(this),g(this)},Dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,V=p.JSON.parse,$=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function ge(){}function Me(){}var $e={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){I.call(this,"d")}O(Qe,I);function Ue(){I.call(this,"c")}O(Ue,I);var Fe={},ot=null;function Zt(){return ot=ot||new st}Fe.Ia="serverreachability";function St(u){I.call(this,Fe.Ia,u)}O(St,I);function Pn(u){const y=Zt();nn(y,new St(y))}Fe.STAT_EVENT="statevent";function Ln(u,y){I.call(this,Fe.STAT_EVENT,u),this.stat=y}O(Ln,I);function jt(u){const y=Zt();nn(y,new Ln(y,u))}Fe.Ja="timingevent";function In(u,y){I.call(this,Fe.Ja,u),this.size=y}O(In,I);function Un(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function er(){this.g=!0}er.prototype.ua=function(){this.g=!1};function Pr(u,y,A,k,ne,pe){u.info(function(){if(u.g)if(pe){var Be="",It=pe.split("&");for(let cn=0;cn<It.length;cn++){var Jn=It[cn].split("=");if(Jn.length>1){const Bn=Jn[0];Jn=Jn[1];const ui=Bn.split("_");Be=ui.length>=2&&ui[1]=="type"?Be+(Bn+"="+Jn+"&"):Be+(Bn+"=redacted&")}}}else Be=null;else Be=pe;return"XMLHTTP REQ ("+k+") [attempt "+ne+"]: "+y+`
`+A+`
`+Be})}function _t(u,y,A,k,ne,pe,Be){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+ne+"]: "+y+`
`+A+`
`+pe+" "+Be})}function qn(u,y,A,k){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+rn(u,A)+(k?" "+k:"")})}function bt(u,y){u.info(function(){return"TIMEOUT: "+y})}er.prototype.info=function(){};function rn(u,y){if(!u.g)return y;if(!y)return null;try{const pe=JSON.parse(y);if(pe){for(u=0;u<pe.length;u++)if(Array.isArray(pe[u])){var A=pe[u];if(!(A.length<2)){var k=A[1];if(Array.isArray(k)&&!(k.length<1)){var ne=k[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Be=1;Be<k.length;Be++)k[Be]=""}}}}return v(pe)}catch{return y}}var sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ma={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gi;function yi(){}O(yi,ge),yi.prototype.g=function(){return new XMLHttpRequest},gi=new yi;function We(u){return encodeURIComponent(String(u))}function Ki(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Rr(u,y,A,k){this.j=u,this.i=y,this.l=A,this.S=k||1,this.V=new Dn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Lr}function Lr(){this.i=null,this.g="",this.h=!1}var hn={},Gn={};function an(u,y,A){u.M=1,u.A=Tr(_n(y)),u.u=A,u.R=!0,vi(u,null)}function vi(u,y){u.F=Date.now(),Ir(u),u.B=_n(u.A);var A=u.B,k=u.S;Array.isArray(k)||(k=[String(k)]),da(A.i,"t",k),u.C=0,A=u.j.L,u.h=new Lr,u.g=He(u.j,A?y:null,!u.u),u.P>0&&(u.O=new Ht(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,k=u.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(R[0]=ne.toString()),ne=R);for(let pe=0;pe<ne.length;pe++){const Be=Et(A,ne[pe],k||y.handleEvent,!1,y.h||y);if(!Be)break;y.g[Be.key]=Be}y=u.J?z(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Pn(),Pr(u.i,u.v,u.B,u.l,u.S,u.u)}Rr.prototype.ba=function(u){u=u.target;const y=this.O;y&&oi(u)==3?y.j():this.Y(u)},Rr.prototype.Y=function(u){try{if(u==this.g)e:{const It=oi(this.g),Jn=this.g.ya(),cn=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||lr(this.g)))){this.K||It!=4||Jn==7||(Jn==8||cn<=0?Pn(3):Pn(2)),xr(this);var y=this.g.ca();this.X=y;var A=Ps(this);if(this.o=y==200,_t(this.i,this.v,this.B,this.l,this.S,It,y),this.o){if(this.U&&!this.L){t:{if(this.g){var k,ne=this.g;if((k=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(k)){var pe=k;break t}}pe=null}if(u=pe)qn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,jt(12),Ur(this),dr(this);break e}}if(this.R){u=!0;let Bn;for(;!this.K&&this.C<A.length;)if(Bn=Qi(this,A),Bn==Gn){It==4&&(this.m=4,jt(14),u=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==hn){this.m=4,jt(15),qn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else qn(this.i,this.l,Bn,null),bi(this,Bn);if(_i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||A.length!=0||this.h.h||(this.m=1,jt(16),u=!1),this.o=this.o&&u,!u)qn(this.i,this.l,A,"[Invalid Chunked Response]"),Ur(this),dr(this);else if(A.length>0&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.aa&&!Be.P&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Wr(Be),Be.P=!0,jt(11))}}else qn(this.i,this.l,A,null),bi(this,A);It==4&&Ur(this),this.o&&!this.K&&(It==4?W(this.j,this):(this.o=!1,Ir(this)))}else li(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),Ur(this),dr(this)}}}catch{}finally{}};function Ps(u){if(!_i(u))return u.g.la();const y=lr(u.g);if(y==="")return"";let A="";const k=y.length,ne=oi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ur(u),dr(u),"";u.h.i=new p.TextDecoder}for(let pe=0;pe<k;pe++)u.h.h=!0,A+=u.h.i.decode(y[pe],{stream:!(ne&&pe==k-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function _i(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Qi(u,y){var A=u.C,k=y.indexOf(`
`,A);return k==-1?Gn:(A=Number(y.substring(A,k)),isNaN(A)?hn:(k+=1,k+A>y.length?Gn:(y=y.slice(k,k+A),u.C=k+A,y)))}Rr.prototype.cancel=function(){this.K=!0,Ur(this)};function Ir(u){u.T=Date.now()+u.H,tr(u,u.H)}function tr(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Un(E(u.aa,u),y)}function xr(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Rr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(bt(this.i,this.B),this.M!=2&&(Pn(),jt(17)),Ur(this),this.m=2,dr(this)):tr(this,this.T-u)};function dr(u){u.j.I==0||u.K||W(u.j,u)}function Ur(u){xr(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function bi(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||Br(A.h,u))){if(!u.L&&Br(A.h,u)&&A.I==3){try{var k=A.Ba.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var ne=k;if(ne[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)xi(A),Ri(A);else break e;ta(A),jt(18)}}else A.xa=ne[1],0<A.xa-A.K&&ne[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Un(E(A.Va,A),6e3));Nr(A.h)<=1&&A.ta&&(A.ta=void 0)}else de(A,11)}else if((u.L||A.g==u)&&xi(A),!x(y))for(ne=A.Ba.g.parse(y),y=0;y<ne.length;y++){let cn=ne[y];const Bn=cn[0];if(!(Bn<=A.K))if(A.K=Bn,cn=cn[1],A.I==2)if(cn[0]=="c"){A.M=cn[1],A.ba=cn[2];const ui=cn[3];ui!=null&&(A.ka=ui,A.j.info("VER="+A.ka));const zi=cn[4];zi!=null&&(A.za=zi,A.j.info("SVER="+A.za));const Bi=cn[5];Bi!=null&&typeof Bi=="number"&&Bi>0&&(k=1.5*Bi,A.O=k,A.j.info("backChannelRequestTimeoutMs_="+k)),k=A;const Ni=u.g;if(Ni){const _a=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var pe=k.h;pe.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(jr(pe,pe.h),pe.h=null))}if(k.G){const as=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(k.wa=as,en(k.J,k.G,as))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),k=A;var Be=u;if(k.na=Ee(k,k.L?k.ba:null,k.W),Be.L){ca(k.h,Be);var It=Be,Jn=k.O;Jn&&(It.H=Jn),It.D&&(xr(It),Ir(It)),k.g=Be}else Qn(k);A.i.length>0&&Yr(A)}else cn[0]!="stop"&&cn[0]!="close"||de(A,7);else A.I==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?de(A,7):Ci(A):cn[0]!="noop"&&A.l&&A.l.qa(cn),A.A=0)}}Pn(4)}catch{}}var On=class{constructor(u,y){this.g=u,this.map=y}};function $i(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Nr(u){return u.h?1:u.g?u.g.size:0}function Br(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function jr(u,y){u.g?u.g.add(y):u.h=y}function ca(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}$i.prototype.cancel=function(){if(this.i=ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ja(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return ae(u.i)}var Fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vi(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const k=u[A].indexOf("=");let ne,pe=null;k>=0?(ne=u[A].substring(0,k),pe=u[A].substring(k+1)):ne=u[A],y(ne,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function mr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof mr?(this.l=u.l,dn(this,u.j),this.o=u.o,this.g=u.g,Mr(this,u.u),this.h=u.h,ni(this,ma(u.i)),this.m=u.m):u&&(y=String(u).match(Fa))?(this.l=!1,dn(this,y[1]||"",!0),this.o=gt(y[2]||""),this.g=gt(y[3]||"",!0),Mr(this,y[4]),this.h=gt(y[5]||"",!0),ni(this,y[6]||"",!0),this.m=gt(y[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}mr.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(pr(y,Ji,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(pr(y,Ji,!0),"@"),u.push(We(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(pr(A,A.charAt(0)=="/"?Zi:mn,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",pr(A,fa)),u.join("")},mr.prototype.resolve=function(u){const y=_n(this);let A=!!u.j;A?dn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var k=u.h;if(A)Mr(y,u.u);else if(A=!!u.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var ne=y.h.lastIndexOf("/");ne!=-1&&(k=y.h.slice(0,ne+1)+k)}if(ne=k,ne==".."||ne==".")k="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){k=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const pe=[];for(let Be=0;Be<ne.length;){const It=ne[Be++];It=="."?k&&Be==ne.length&&pe.push(""):It==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),k&&Be==ne.length&&pe.push("")):(pe.push(It),k=!0)}k=pe.join("/")}else k=ne}return A?y.h=k:A=u.i.toString()!=="",A?ni(y,ma(u.i)):A=!!u.m,A&&(y.m=u.m),y};function _n(u){return new mr(u)}function dn(u,y,A){u.j=A?gt(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Mr(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function ni(u,y,A){y instanceof Pi?(u.i=y,pa(u.i,u.l)):(A||(y=pr(y,un)),u.i=new Pi(y,u.l))}function en(u,y,A){u.i.set(y,A)}function Tr(u){return en(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gt(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pr(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,kn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ji=/[#\/\?@]/g,mn=/[#\?:]/g,Zi=/[#\?]/g,un=/[#\?@]/g,fa=/#/g;function Pi(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function nr(u){u.g||(u.g=new Map,u.h=0,u.i&&Vi(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}i=Pi.prototype,i.add=function(u,y){nr(this),this.i=null,u=Ei(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function Fr(u,y){nr(u),y=Ei(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function ha(u,y){return nr(u),y=Ei(u,y),u.g.has(y)}i.forEach=function(u,y){nr(this),this.g.forEach(function(A,k){A.forEach(function(ne){u.call(y,ne,k,this)},this)},this)};function Hr(u,y){nr(u);let A=[];if(typeof y=="string")ha(u,y)&&(A=A.concat(u.g.get(Ei(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}i.set=function(u,y){return nr(this),this.i=null,u=Ei(this,u),ha(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},i.get=function(u,y){return u?(u=Hr(this,u),u.length>0?String(u[0]):y):y};function da(u,y,A){Fr(u,y),A.length>0&&(u.i=null,u.g.set(Ei(u,y),ae(A)),u.h+=A.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let k=0;k<y.length;k++){var A=y[k];const ne=We(A);A=Hr(this,A);for(let pe=0;pe<A.length;pe++){let Be=ne;A[pe]!==""&&(Be+="="+We(A[pe])),u.push(Be)}}return this.i=u.join("&")};function ma(u){const y=new Pi;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Ei(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function pa(u,y){y&&!u.j&&(nr(u),u.i=null,u.g.forEach(function(A,k){const ne=k.toLowerCase();k!=ne&&(Fr(this,k),da(this,ne,A))},u)),u.j=y}function ri(u,y){const A=new er;if(p.Image){const k=new Image;k.onload=M(ii,A,"TestLoadImage: loaded",!0,y,k),k.onerror=M(ii,A,"TestLoadImage: error",!1,y,k),k.onabort=M(ii,A,"TestLoadImage: abort",!1,y,k),k.ontimeout=M(ii,A,"TestLoadImage: timeout",!1,y,k),p.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else y(!1)}function Ha(u,y){const A=new er,k=new AbortController,ne=setTimeout(()=>{k.abort(),ii(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:k.signal}).then(pe=>{clearTimeout(ne),pe.ok?ii(A,"TestPingServer: ok",!0,y):ii(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ne),ii(A,"TestPingServer: error",!1,y)})}function ii(u,y,A,k,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),k(A)}catch{}}function ai(){this.g=new $}function qr(u){this.i=u.Sb||null,this.h=u.ab||!1}O(qr,ge),qr.prototype.g=function(){return new si(this.i,this.h)};function si(u,y){st.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}O(si,st),i=si.prototype,i.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Ar(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Gr(this):Ar(this),this.readyState==3&&wi(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Gr(this))},i.Na=function(u){this.g&&(this.response=u,Gr(this))},i.ga=function(){this.g&&Gr(this)};function Gr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ar(u)}i.setRequestHeader=function(u,y){this.A.append(u,y)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function or(u){let y="";return me(u,function(A,k){y+=k,y+=":",y+=A,y+=`\r
`}),y}function Ti(u,y,A){e:{for(k in A){var k=!1;break e}k=!0}k||(A=or(A),typeof u=="string"?A!=null&&We(A):en(u,y,A))}function xt(u){st.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}O(xt,st);var Ai=/^https?$/i,Dr=["POST","PUT"];i=xt.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,y,A,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gi.g(),this.g.onreadystatechange=q(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(pe){ea(this,pe);return}if(u=A||"",A=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var ne in k)A.set(ne,k[ne]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const pe of k.keys())A.set(pe,k.get(pe));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(A.keys()).find(pe=>pe.toLowerCase()=="content-type"),ne=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Dr,y,void 0)>=0)||k||ne||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Be]of A)this.g.setRequestHeader(pe,Be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(pe){ea(this,pe)}};function ea(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,ga(u),Si(u)}function ga(u){u.A||(u.A=!0,nn(u,"complete"),nn(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,nn(this,"complete"),nn(this,"abort"),Si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),xt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Li(this):this.Xa())},i.Xa=function(){Li(this)};function Li(u){if(u.h&&typeof c<"u"){if(u.v&&oi(u)==4)setTimeout(u.Ca.bind(u),0);else if(nn(u,"readystatechange"),oi(u)==4){u.h=!1;try{const pe=u.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var k;if(k=pe===0){let Be=String(u.D).match(Fa)[1]||null;!Be&&p.self&&p.self.location&&(Be=p.self.location.protocol.slice(0,-1)),k=!Ai.test(Be?Be.toLowerCase():"")}A=k}if(A)nn(u,"complete"),nn(u,"success");else{u.o=6;try{var ne=oi(u)>2?u.g.statusText:""}catch{ne=""}u.l=ne+" ["+u.ca()+"]",ga(u)}}finally{Si(u)}}}}function Si(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||nn(u,"ready");try{A.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function oi(u){return u.g?u.g.readyState:0}i.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),V(y)}};function lr(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function li(u){const y={};u=(u.g&&oi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(x(u[k]))continue;var A=Ki(u[k]);const ne=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const pe=y[ne]||[];y[ne]=pe,pe.push(A)}xe(y,function(k){return k.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function ya(u){this.za=0,this.i=[],this.j=new er,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,u),this.Za=Ui("retryDelaySeedMs",1e4,u),this.Ta=Ui("forwardChannelMaxRetries",2,u),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $i(u&&u.concurrentRequestLimit),this.Ba=new ai,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ya.prototype,i.ka=8,i.I=1,i.connect=function(u,y,A,k){jt(0),this.W=u,this.H=y||{},A&&k!==void 0&&(this.H.OSID=A,this.H.OAID=k),this.F=this.X,this.J=Ee(this,null,this.W),Yr(this)};function Ci(u){if(Da(u),u.I==3){var y=u.V++,A=_n(u.J);if(en(A,"SID",u.M),en(A,"RID",y),en(A,"TYPE","terminate"),Oa(u,A),y=new Rr(u,u.j,y),y.M=2,y.A=Tr(_n(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=He(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ir(y)}ye(u)}function Ri(u){u.g&&(Wr(u),u.g.cancel(),u.g=null)}function Da(u){Ri(u),u.v&&(p.clearTimeout(u.v),u.v=null),xi(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function Yr(u){if(!zr(u.h)&&!u.m){u.m=!0;var y=u.Ea;nt||F(),ut||(nt(),ut=!0),Y.add(y,u),u.D=0}}function va(u,y){return Nr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Un(E(u.Ea,u,y),te(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ne=new Rr(this,this.j,u);let pe=this.o;if(this.U&&(pe?(pe=z(pe),Se(pe,this.U)):pe=this.U),this.u!==null||this.R||(ne.J=pe,pe=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var k=this.i[A];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Ii(this,ne,y),A=_n(this.J),en(A,"RID",u),en(A,"CVER",22),this.G&&en(A,"X-HTTP-Session-Id",this.G),Oa(this,A),pe&&(this.R?y="headers="+We(or(pe))+"&"+y:this.u&&Ti(A,this.u,pe)),jr(this.h,ne),this.Ra&&en(A,"TYPE","init"),this.S?(en(A,"$req",y),en(A,"SID","null"),ne.U=!0,an(ne,A,null)):an(ne,A,y),this.I=2}}else this.I==3&&(u?qa(this,u):this.i.length==0||zr(this.h)||qa(this))};function qa(u,y){var A;y?A=y.l:A=u.V++;const k=_n(u.J);en(k,"SID",u.M),en(k,"RID",A),en(k,"AID",u.K),Oa(u,k),u.u&&u.o&&Ti(k,u.u,u.o),A=new Rr(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Ii(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),jr(u.h,A),an(A,k,y)}function Oa(u,y){u.H&&me(u.H,function(A,k){en(y,k,A)}),u.l&&me({},function(A,k){en(y,k,A)})}function Ii(u,y,A){A=Math.min(u.i.length,A);const k=u.l?E(u.l.Ka,u.l,u):null;e:{var ne=u.i;let It=-1;for(;;){const Jn=["count="+A];It==-1?A>0?(It=ne[0].g,Jn.push("ofs="+It)):It=0:Jn.push("ofs="+It);let cn=!0;for(let Bn=0;Bn<A;Bn++){var pe=ne[Bn].g;const ui=ne[Bn].map;if(pe-=It,pe<0)It=Math.max(0,ne[Bn].g-100),cn=!1;else try{pe="req"+pe+"_"||"";try{var Be=ui instanceof Map?ui:Object.entries(ui);for(const[zi,Bi]of Be){let Ni=Bi;b(Bi)&&(Ni=v(Bi)),Jn.push(pe+zi+"="+encodeURIComponent(Ni))}}catch(zi){throw Jn.push(pe+"type="+encodeURIComponent("_badmap")),zi}}catch{k&&k(ui)}}if(cn){Be=Jn.join("&");break e}}Be=void 0}return u=u.i.splice(0,A),y.G=u,Be}function Qn(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;nt||F(),ut||(nt(),ut=!0),Y.add(y,u),u.A=0}}function ta(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Un(E(u.Da,u),te(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Ls(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Un(E(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Ri(this),Ls(this))};function Wr(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Ls(u){u.g=new Rr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=_n(u.na);en(y,"RID","rpc"),en(y,"SID",u.M),en(y,"AID",u.K),en(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&en(y,"TO",u.ia),en(y,"TYPE","xmlhttp"),Oa(u,y),u.u&&u.o&&Ti(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=Tr(_n(y)),A.u=null,A.R=!0,vi(A,u)}i.Va=function(){this.C!=null&&(this.C=null,Ri(this),ta(this),jt(19))};function xi(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function W(u,y){var A=null;if(u.g==y){xi(u),Wr(u),u.g=null;var k=2}else if(Br(u.h,y))A=y.G,ca(u.h,y),k=1;else return;if(u.I!=0){if(y.o)if(k==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ne=u.D;k=Zt(),nn(k,new In(k,A)),Yr(u)}else Qn(u);else if(ne=y.m,ne==3||ne==0&&y.X>0||!(k==1&&va(u,y)||k==2&&ta(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ne){case 1:de(u,5);break;case 4:de(u,10);break;case 3:de(u,6);break;default:de(u,2)}}}function te(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function de(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),k=u.Ua;const ne=!k;k=new mr(k||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||dn(k,"https"),Tr(k),ne?ri(k.toString(),A):Ha(k.toString(),A)}else jt(2);u.I=0,u.l&&u.l.pa(y),ye(u),Da(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function ye(u){if(u.I=0,u.ja=[],u.l){const y=ja(u.h);(y.length!=0||u.i.length!=0)&&(B(u.ja,y),B(u.ja,u.i),u.h.i.length=0,ae(u.i),u.i.length=0),u.l.oa()}}function Ee(u,y,A){var k=A instanceof mr?_n(A):new mr(A);if(k.g!="")y&&(k.g=y+"."+k.g),Mr(k,k.u);else{var ne=p.location;k=ne.protocol,y=y?y+"."+ne.hostname:ne.hostname,ne=+ne.port;const pe=new mr(null);k&&dn(pe,k),y&&(pe.g=y),ne&&Mr(pe,ne),A&&(pe.h=A),k=pe}return A=u.G,y=u.wa,A&&y&&en(k,A,y),en(k,"VER",u.ka),Oa(u,k),k}function He(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new xt(new qr({ab:A})):new xt(u.ma),y.Fa(u.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ge(){}i=Ge.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Pe(){}Pe.prototype.g=function(u,y){return new Ke(u,y)};function Ke(u,y){st.call(this),this.g=new ya(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!x(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new zn(this)}O(Ke,st),Ke.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Ci(this.g)},Ke.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new On(y.Ya++,u)),y.I==3&&Yr(y)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Ci(this.g),delete this.g,Ke.Z.N.call(this)};function rt(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}O(rt,Qe);function Nt(){Ue.call(this),this.status=1}O(Nt,Ue);function zn(u){this.g=u}O(zn,Ge),zn.prototype.ra=function(){nn(this.g,"a")},zn.prototype.qa=function(u){nn(this.g,new rt(u))},zn.prototype.pa=function(u){nn(this.g,new Nt)},zn.prototype.oa=function(){nn(this.g,"b")},Pe.prototype.createWebChannel=Pe.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,aE=function(){return new Pe},iE=function(){return Zt()},rE=Fe,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,Vf=sr,Ma.COMPLETE="complete",nE=Ma,Me.EventType=$e,$e.OPEN="a",$e.CLOSE="b",$e.ERROR="c",$e.MESSAGE="d",st.prototype.listen=st.prototype.J,Hu=Me,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,tE=xt}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});const r_="@firebase/firestore",i_="4.9.2";class di{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}di.UNAUTHENTICATED=new di(null),di.GOOGLE_CREDENTIALS=new di("google-credentials-uid"),di.FIRST_PARTY=new di("first-party-uid"),di.MOCK_USER=new di("mock-user");let tu="12.3.0";const Qo=new mp("@firebase/firestore");function Nl(){return Qo.logLevel}function at(i,...e){if(Qo.logLevel<=Qt.DEBUG){const r=e.map(Sp);Qo.debug(`Firestore (${tu}): ${i}`,...r)}}function Os(i,...e){if(Qo.logLevel<=Qt.ERROR){const r=e.map(Sp);Qo.error(`Firestore (${tu}): ${i}`,...r)}}function Yl(i,...e){if(Qo.logLevel<=Qt.WARN){const r=e.map(Sp);Qo.warn(`Firestore (${tu}): ${i}`,...r)}}function Sp(i){if(typeof i=="string")return i;try{return(function(r){return JSON.stringify(r)})(i)}catch{return i}}function At(i,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,sE(i,a,r)}function sE(i,e,r){let a=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw Os(a),new Error(a)}function An(i,e,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,i||sE(e,l,a)}function Ot(i,e){return i}const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Vs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bo{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}class oE{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(di.UNAUTHENTICATED)))}shutdown(){}}class WC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class XC{constructor(e){this.t=e,this.currentUser=di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){An(this.o===void 0,42304);let a=this.i;const l=w=>this.i!==a?(a=this.i,r(w)):Promise.resolve();let c=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new bo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new bo)}}),0),p()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((a=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(An(typeof a.accessToken=="string",31837,{l:a}),new oE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return An(e===null||typeof e=="string",2055,{h:e}),new di(e)}}class KC{constructor(e,r,a){this.P=e,this.T=r,this.I=a,this.type="FirstParty",this.user=di.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QC{constructor(e,r,a){this.P=e,this.T=r,this.I=a}getToken(){return Promise.resolve(new KC(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(di.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $C{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ia(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){An(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(An(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new a_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=JC(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<r&&(a+=e.charAt(l[c]%62))}return a}}function $t(i,e){return i<e?-1:i>e?1:0}function Km(i,e){const r=Math.min(i.length,e.length);for(let a=0;a<r;a++){const l=i.charAt(a),c=e.charAt(a);if(l!==c)return xm(l)===xm(c)?$t(l,c):xm(l)?1:-1}return $t(i.length,e.length)}const ZC=55296,eR=57343;function xm(i){const e=i.charCodeAt(0);return e>=ZC&&e<=eR}function Wl(i,e,r){return i.length===e.length&&i.every(((a,l)=>r(a,e[l])))}const s_="__name__";class $a{constructor(e,r,a){r===void 0?r=0:r>e.length&&At(637,{offset:r,range:e.length}),a===void 0?a=e.length-r:a>e.length-r&&At(1746,{length:a,range:e.length-r}),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return $a.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof $a?e.forEach((a=>{r.push(a)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let l=0;l<a;l++){const c=$a.compareSegments(e.get(l),r.get(l));if(c!==0)return c}return $t(e.length,r.length)}static compareSegments(e,r){const a=$a.isNumericId(e),l=$a.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?$a.extractNumericId(e).compare($a.extractNumericId(r)):Km(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _o.fromString(e.substring(4,e.length-2))}}class jn extends $a{construct(e,r,a){return new jn(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new et(Re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter((l=>l.length>0)))}return new jn(r)}static emptyPath(){return new jn([])}}const tR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ei extends $a{construct(e,r,a){return new ei(e,r,a)}static isValidIdentifier(e){return tR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ei.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new ei([s_])}static fromServerFormat(e){const r=[];let a="",l=0;const c=()=>{if(a.length===0)throw new et(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new et(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new et(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(c(),l++)}if(c(),p)throw new et(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ei(r)}static emptyPath(){return new ei([])}}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(jn.fromString(e))}static fromName(e){return new vt(jn.fromString(e).popFirst(5))}static empty(){return new vt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return jn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new jn(e.slice()))}}function lE(i,e,r){if(!r)throw new et(Re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function nR(i,e,r,a){if(e===!0&&a===!0)throw new et(Re.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function o_(i){if(!vt.isDocumentKey(i))throw new et(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function l_(i){if(vt.isDocumentKey(i))throw new et(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function uE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function hh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":At(12329,{type:typeof i})}function Kf(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new et(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=hh(i);throw new et(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function rR(i,e){if(e<=0)throw new et(Re.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function wr(i,e){const r={typeString:i};return e&&(r.value=e),r}function pc(i,e){if(!uE(i))throw new et(Re.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){r=`JSON missing required field: '${a}'`;break}const p=i[a];if(l&&typeof p!==l){r=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${a}' field to equal '${c.value}'`;break}}if(r)throw new et(Re.INVALID_ARGUMENT,r);return!0}const u_=-62135596800,c_=1e6;class Kn{static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor((e-1e3*r)*c_);return new Kn(r,a)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new et(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new et(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<u_)throw new et(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c_}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pc(e,Kn._jsonSchema))return new Kn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kn._jsonSchemaVersion="firestore/timestamp/1.0",Kn._jsonSchema={type:wr("string",Kn._jsonSchemaVersion),seconds:wr("number"),nanoseconds:wr("number")};class Mt{static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Kn(0,0))}static max(){return new Mt(new Kn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tc=-1;function iR(i,e){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=Mt.fromTimestamp(a===1e9?new Kn(r+1,0):new Kn(r,a));return new wo(l,vt.empty(),e)}function aR(i){return new wo(i.readTime,i.key,tc)}class wo{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new wo(Mt.min(),vt.empty(),tc)}static max(){return new wo(Mt.max(),vt.empty(),tc)}}function sR(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=vt.comparator(i.documentKey,e.documentKey),r!==0?r:$t(i.largestBatchId,e.largestBatchId))}const oR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function nu(i){if(i.code!==Re.FAILED_PRECONDITION||i.message!==oR)throw i;at("LocalStore","Unexpectedly lost primary lease")}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ie(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(a,l)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Ie?r:Ie.resolve(r)}catch(r){return Ie.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Ie.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Ie.reject(r)}static resolve(e){return new Ie(((r,a)=>{r(e)}))}static reject(e){return new Ie(((r,a)=>{a(e)}))}static waitFor(e){return new Ie(((r,a)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&r()}),(w=>a(w)))})),p=!0,c===l&&r()}))}static or(e){let r=Ie.resolve(!1);for(const a of e)r=r.next((l=>l?Ie.resolve(l):a()));return r}static forEach(e,r){const a=[];return e.forEach(((l,c)=>{a.push(r.call(this,l,c))})),this.waitFor(a)}static mapArray(e,r){return new Ie(((a,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;r(e[E]).next((M=>{p[E]=M,++b,b===c&&a(p)}),(M=>l(M)))}}))}static doWhile(e,r){return new Ie(((a,l)=>{const c=()=>{e()===!0?r().next((()=>{c()}),l):a()};c()}))}}function uR(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ru(i){return i.name==="IndexedDbTransactionError"}class dh{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>r.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dh.ce=-1;const Rp=-1;function mh(i){return i==null}function Qf(i){return i===0&&1/i==-1/0}function cR(i){return typeof i=="number"&&Number.isInteger(i)&&!Qf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const cE="";function fR(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=f_(e)),e=hR(i.get(r),e);return f_(e)}function hR(i,e){let r=e;const a=i.length;for(let l=0;l<a;l++){const c=i.charAt(l);switch(c){case"\0":r+="";break;case cE:r+="";break;default:r+=c}}return r}function f_(i){return i+cE+""}function h_(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Jo(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function fE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Zn{constructor(e,r){this.comparator=e,this.root=r||Zr.EMPTY}insert(e,r){return new Zn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,a)=>(e(r,a),!1)))}toString(){const e=[];return this.inorderTraversal(((r,a)=>(e.push(`${r}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,r,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?a(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,r,a,l,c){this.key=e,this.value=r,this.color=a??Zr.RED,this.left=l??Zr.EMPTY,this.right=c??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,l,c){return new Zr(e??this.key,r??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,a),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return Zr.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1;Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,r,a,l,c){return this}insert(e,r,a){return new Zr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cr{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,a)=>(e(r),!1)))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new d_(this.data.getIterator())}getIteratorFrom(e){return new d_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((a=>{r=r.add(a)})),r}isEqual(e){if(!(e instanceof Cr)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Cr(this.comparator);return r.data=e,r}}class d_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class za{constructor(e){this.fields=e,e.sort(ei.comparator)}static empty(){return new za([])}unionWith(e){let r=new Cr(ei.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new za(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,((r,a)=>r.isEqual(a)))}}class hE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ti{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new hE("Invalid base64 string: "+c):c}})(e);return new ti(r)}static fromUint8Array(e){const r=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new ti(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const dR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(i){if(An(!!i,39018),typeof i=="string"){let e=0;const r=dR.exec(i);if(An(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:hr(i.seconds),nanos:hr(i.nanos)}}function hr(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ao(i){return typeof i=="string"?ti.fromBase64String(i):ti.fromUint8Array(i)}const dE="server_timestamp",mE="__type__",pE="__previous_value__",gE="__local_write_time__";function Ip(i){return(i?.mapValue?.fields||{})[mE]?.stringValue===dE}function ph(i){const e=i.mapValue.fields[pE];return Ip(e)?ph(e):e}function nc(i){const e=To(i.mapValue.fields[gE].timestampValue);return new Kn(e.seconds,e.nanos)}class mR{constructor(e,r,a,l,c,p,b,w,E,M){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=M}}const $f="(default)";class rc{constructor(e,r){this.projectId=e,this.database=r||$f}static empty(){return new rc("","")}get isDefaultDatabase(){return this.database===$f}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}const yE="__type__",pR="__max__",Cf={mapValue:{}},vE="__vector__",Jf="value";function So(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ip(i)?4:yR(i)?9007199254740991:gR(i)?10:11:At(28295,{value:i})}function is(i,e){if(i===e)return!0;const r=So(i);if(r!==So(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nc(i).isEqual(nc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=To(l.timestampValue),b=To(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return Ao(l.bytesValue).isEqual(Ao(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return hr(l.geoPointValue.latitude)===hr(c.geoPointValue.latitude)&&hr(l.geoPointValue.longitude)===hr(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return hr(l.integerValue)===hr(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=hr(l.doubleValue),b=hr(c.doubleValue);return p===b?Qf(p)===Qf(b):isNaN(p)&&isNaN(b)}return!1})(i,e);case 9:return Wl(i.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(h_(p)!==h_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!is(p[w],b[w])))return!1;return!0})(i,e);default:return At(52216,{left:i})}}function ic(i,e){return(i.values||[]).find((r=>is(r,e)))!==void 0}function Xl(i,e){if(i===e)return 0;const r=So(i),a=So(e);if(r!==a)return $t(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return $t(i.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=hr(c.integerValue||c.doubleValue),w=hr(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(i,e);case 3:return m_(i.timestampValue,e.timestampValue);case 4:return m_(nc(i),nc(e));case 5:return Km(i.stringValue,e.stringValue);case 6:return(function(c,p){const b=Ao(c),w=Ao(p);return b.compareTo(w)})(i.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const M=$t(b[E],w[E]);if(M!==0)return M}return $t(b.length,w.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=$t(hr(c.latitude),hr(p.latitude));return b!==0?b:$t(hr(c.longitude),hr(p.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return p_(i.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[Jf]?.arrayValue,M=w[Jf]?.arrayValue,O=$t(E?.values?.length||0,M?.values?.length||0);return O!==0?O:p_(E,M)})(i.mapValue,e.mapValue);case 11:return(function(c,p){if(c===Cf.mapValue&&p===Cf.mapValue)return 0;if(c===Cf.mapValue)return 1;if(p===Cf.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},M=Object.keys(E);w.sort(),M.sort();for(let O=0;O<w.length&&O<M.length;++O){const q=Km(w[O],M[O]);if(q!==0)return q;const ae=Xl(b[w[O]],E[M[O]]);if(ae!==0)return ae}return $t(w.length,M.length)})(i.mapValue,e.mapValue);default:throw At(23264,{he:r})}}function m_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return $t(i,e);const r=To(i),a=To(e),l=$t(r.seconds,a.seconds);return l!==0?l:$t(r.nanos,a.nanos)}function p_(i,e){const r=i.values||[],a=e.values||[];for(let l=0;l<r.length&&l<a.length;++l){const c=Xl(r[l],a[l]);if(c)return c}return $t(r.length,a.length)}function Kl(i){return Qm(i)}function Qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const a=To(r);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return Ao(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return vt.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let a="[",l=!0;for(const c of r.values||[])l?l=!1:a+=",",a+=Qm(c);return a+"]"})(i.arrayValue):"mapValue"in i?(function(r){const a=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of a)c?c=!1:l+=",",l+=`${p}:${Qm(r.fields[p])}`;return l+"}"})(i.mapValue):At(61005,{value:i})}function Pf(i){switch(So(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(i);return e?16+Pf(e):16;case 5:return 2*i.stringValue.length;case 6:return Ao(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pf(c)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return Jo(a.fields,((c,p)=>{l+=c.length+Pf(p)})),l})(i.mapValue);default:throw At(13486,{value:i})}}function g_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $m(i){return!!i&&"integerValue"in i}function xp(i){return!!i&&"arrayValue"in i}function y_(i){return!!i&&"nullValue"in i}function v_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Lf(i){return!!i&&"mapValue"in i}function gR(i){return(i?.mapValue?.fields||{})[yE]?.stringValue===vE}function Xu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Jo(i.mapValue.fields,((r,a)=>e.mapValue.fields[r]=Xu(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Xu(i.arrayValue.values[r]);return e}return{...i}}function yR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===pR}class xa{constructor(e){this.value=e}static empty(){return new xa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Lf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xu(r)}setAll(e){let r=ei.emptyPath(),a={},l=[];e.forEach(((p,b)=>{if(!r.isImmediateParentOf(b)){const w=this.getFieldsMap(r);this.applyChanges(w,a,l),a={},l=[],r=b.popLast()}p?a[b.lastSegment()]=Xu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(r);this.applyChanges(c,a,l)}delete(e){const r=this.field(e.popLast());Lf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=r.mapValue.fields[e.get(a)];Lf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,a){Jo(r,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new xa(Xu(this.value))}}function _E(i){const e=[];return Jo(i.fields,((r,a)=>{const l=new ei([r]);if(Lf(a)){const c=_E(a.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new za(e)}class mi{constructor(e,r,a,l,c,p,b){this.key=e,this.documentType=r,this.version=a,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new mi(e,0,Mt.min(),Mt.min(),Mt.min(),xa.empty(),0)}static newFoundDocument(e,r,a,l){return new mi(e,1,r,Mt.min(),a,l,0)}static newNoDocument(e,r){return new mi(e,2,r,Mt.min(),Mt.min(),xa.empty(),0)}static newUnknownDocument(e,r){return new mi(e,3,r,Mt.min(),Mt.min(),xa.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zf{constructor(e,r){this.position=e,this.inclusive=r}}function __(i,e,r){let a=0;for(let l=0;l<i.position.length;l++){const c=e[l],p=i.position[l];if(c.field.isKeyField()?a=vt.comparator(vt.fromName(p.referenceValue),r.key):a=Xl(p,r.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function b_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!is(i.position[r],e.position[r]))return!1;return!0}class ac{constructor(e,r="asc"){this.field=e,this.dir=r}}function vR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class bE{}class Er extends bE{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,a):new bR(e,r,a):r==="array-contains"?new TR(e,a):r==="in"?new AR(e,a):r==="not-in"?new SR(e,a):r==="array-contains-any"?new CR(e,a):new Er(e,r,a)}static createKeyFieldInFilter(e,r,a){return r==="in"?new ER(e,a):new wR(e,a)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Xl(r,this.value)):r!==null&&So(this.value)===So(r)&&this.matchesComparison(Xl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ba extends bE{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Ba(e,r)}matches(e){return EE(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EE(i){return i.op==="and"}function wE(i){return _R(i)&&EE(i)}function _R(i){for(const e of i.filters)if(e instanceof Ba)return!1;return!0}function Jm(i){if(i instanceof Er)return i.field.canonicalString()+i.op.toString()+Kl(i.value);if(wE(i))return i.filters.map((e=>Jm(e))).join(",");{const e=i.filters.map((r=>Jm(r))).join(",");return`${i.op}(${e})`}}function TE(i,e){return i instanceof Er?(function(a,l){return l instanceof Er&&a.op===l.op&&a.field.isEqual(l.field)&&is(a.value,l.value)})(i,e):i instanceof Ba?(function(a,l){return l instanceof Ba&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,p,b)=>c&&TE(p,l.filters[b])),!0):!1})(i,e):void At(19439)}function AE(i){return i instanceof Er?(function(r){return`${r.field.canonicalString()} ${r.op} ${Kl(r.value)}`})(i):i instanceof Ba?(function(r){return r.op.toString()+" {"+r.getFilters().map(AE).join(" ,")+"}"})(i):"Filter"}class bR extends Er{constructor(e,r,a){super(e,r,a),this.key=vt.fromName(a.referenceValue)}matches(e){const r=vt.comparator(e.key,this.key);return this.matchesComparison(r)}}class ER extends Er{constructor(e,r){super(e,"in",r),this.keys=SE("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class wR extends Er{constructor(e,r){super(e,"not-in",r),this.keys=SE("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function SE(i,e){return(e.arrayValue?.values||[]).map((r=>vt.fromName(r.referenceValue)))}class TR extends Er{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return xp(r)&&ic(r.arrayValue,this.value)}}class AR extends Er{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ic(this.value.arrayValue,r)}}class SR extends Er{constructor(e,r){super(e,"not-in",r)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!ic(this.value.arrayValue,r)}}class CR extends Er{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!xp(r)||!r.arrayValue.values)&&r.arrayValue.values.some((a=>ic(this.value.arrayValue,a)))}}class RR{constructor(e,r=null,a=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function E_(i,e=null,r=[],a=[],l=null,c=null,p=null){return new RR(i,e,r,a,l,c,p)}function Np(i){const e=Ot(i);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((a=>Jm(a))).join(","),r+="|ob:",r+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Kl(a))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Kl(a))).join(",")),e.Te=r}return e.Te}function Mp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!vR(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!TE(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!b_(i.startAt,e.startAt)&&b_(i.endAt,e.endAt)}function Zm(i){return vt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class iu{constructor(e,r=null,a=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IR(i,e,r,a,l,c,p,b){return new iu(i,e,r,a,l,c,p,b)}function CE(i){return new iu(i)}function w_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function RE(i){return i.collectionGroup!==null}function Ku(i){const e=Ot(i);if(e.Ie===null){e.Ie=[];const r=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),r.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Cr(ei.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{r.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ac(c,a))})),r.has(ei.keyField().canonicalString())||e.Ie.push(new ac(ei.keyField(),a))}return e.Ie}function es(i){const e=Ot(i);return e.Ee||(e.Ee=xR(e,Ku(i))),e.Ee}function xR(i,e){if(i.limitType==="F")return E_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ac(l.field,c)}));const r=i.endAt?new Zf(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Zf(i.startAt.position,i.startAt.inclusive):null;return E_(i.path,i.collectionGroup,e,i.filters,i.limit,r,a)}}function ep(i,e){const r=i.filters.concat([e]);return new iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function eh(i,e,r){return new iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function gh(i,e){return Mp(es(i),es(e))&&i.limitType===e.limitType}function IE(i){return`${Np(es(i))}|lt:${i.limitType}`}function Ml(i){return`Query(target=${(function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map((l=>AE(l))).join(", ")}]`),mh(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map((l=>Kl(l))).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map((l=>Kl(l))).join(",")),`Target(${a})`})(es(i))}; limitType=${i.limitType})`}function yh(i,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):vt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(i,e)&&(function(a,l){for(const c of Ku(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(a,l){return!(a.startAt&&!(function(p,b,w){const E=__(p,b,w);return p.inclusive?E<=0:E<0})(a.startAt,Ku(a),l)||a.endAt&&!(function(p,b,w){const E=__(p,b,w);return p.inclusive?E>=0:E>0})(a.endAt,Ku(a),l))})(i,e)}function NR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function xE(i){return(e,r)=>{let a=!1;for(const l of Ku(i)){const c=MR(l,e,r);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function MR(i,e,r){const a=i.field.isKeyField()?vt.comparator(e.key,r.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Xl(w,E):At(42886)})(i.field,e,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return At(19790,{direction:i.dir})}}class Zo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,((r,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}const DR=new Zn(vt.comparator);function ks(){return DR}const NE=new Zn(vt.comparator);function qu(...i){let e=NE;for(const r of i)e=e.insert(r.key,r);return e}function ME(i){let e=NE;return i.forEach(((r,a)=>e=e.insert(r,a.overlayedDocument))),e}function Yo(){return Qu()}function DE(){return Qu()}function Qu(){return new Zo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const OR=new Zn(vt.comparator),kR=new Cr(vt.comparator);function Jt(...i){let e=kR;for(const r of i)e=e.add(r);return e}const VR=new Cr($t);function PR(){return VR}function Dp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function OE(i){return{integerValue:""+i}}function LR(i,e){return cR(e)?OE(e):Dp(i,e)}class vh{constructor(){this._=void 0}}function UR(i,e,r){return i instanceof th?(function(l,c){const p={fields:{[mE]:{stringValue:dE},[gE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ip(c)&&(c=ph(c)),c&&(p.fields[pE]=c),{mapValue:p}})(r,e):i instanceof sc?VE(i,e):i instanceof oc?PE(i,e):(function(l,c){const p=kE(l,c),b=T_(p)+T_(l.Ae);return $m(p)&&$m(l.Ae)?OE(b):Dp(l.serializer,b)})(i,e)}function zR(i,e,r){return i instanceof sc?VE(i,e):i instanceof oc?PE(i,e):r}function kE(i,e){return i instanceof nh?(function(a){return $m(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class th extends vh{}class sc extends vh{constructor(e){super(),this.elements=e}}function VE(i,e){const r=LE(e);for(const a of i.elements)r.some((l=>is(l,a)))||r.push(a);return{arrayValue:{values:r}}}class oc extends vh{constructor(e){super(),this.elements=e}}function PE(i,e){let r=LE(e);for(const a of i.elements)r=r.filter((l=>!is(l,a)));return{arrayValue:{values:r}}}class nh extends vh{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function T_(i){return hr(i.integerValue||i.doubleValue)}function LE(i){return xp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function BR(i,e){return i.field.isEqual(e.field)&&(function(a,l){return a instanceof sc&&l instanceof sc||a instanceof oc&&l instanceof oc?Wl(a.elements,l.elements,is):a instanceof nh&&l instanceof nh?is(a.Ae,l.Ae):a instanceof th&&l instanceof th})(i.transform,e.transform)}class jR{constructor(e,r){this.version=e,this.transformResults=r}}class Is{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Is}static exists(e){return new Is(void 0,e)}static updateTime(e){return new Is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class _h{}function UE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new BE(i.key,Is.none()):new gc(i.key,i.data,Is.none());{const r=i.data,a=xa.empty();let l=new Cr(ei.comparator);for(let c of e.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?a.delete(c):a.set(c,p),l=l.add(c)}return new el(i.key,a,new za(l.toArray()),Is.none())}}function FR(i,e,r){i instanceof gc?(function(l,c,p){const b=l.value.clone(),w=S_(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(i,e,r):i instanceof el?(function(l,c,p){if(!Uf(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=S_(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(zE(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(i,e,r):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,r)}function $u(i,e,r,a){return i instanceof gc?(function(c,p,b,w){if(!Uf(c.precondition,p))return b;const E=c.value.clone(),M=C_(c.fieldTransforms,w,p);return E.setAll(M),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(i,e,r,a):i instanceof el?(function(c,p,b,w){if(!Uf(c.precondition,p))return b;const E=C_(c.fieldTransforms,w,p),M=p.data;return M.setAll(zE(c)),M.setAll(E),p.convertToFoundDocument(p.version,M).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((O=>O.field)))})(i,e,r,a):(function(c,p,b){return Uf(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(i,e,r)}function HR(i,e){let r=null;for(const a of i.fieldTransforms){const l=e.data.field(a.field),c=kE(a.transform,l||null);c!=null&&(r===null&&(r=xa.empty()),r.set(a.field,c))}return r||null}function A_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Wl(a,l,((c,p)=>BR(c,p)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class gc extends _h{constructor(e,r,a,l=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class el extends _h{constructor(e,r,a,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zE(i){const e=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const a=i.data.field(r);e.set(r,a)}})),e}function S_(i,e,r){const a=new Map;An(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let l=0;l<r.length;l++){const c=i[l],p=c.transform,b=e.data.field(c.field);a.set(c.field,zR(p,b,r[l]))}return a}function C_(i,e,r){const a=new Map;for(const l of i){const c=l.transform,p=r.data.field(l.field);a.set(l.field,UR(c,p,e))}return a}class BE extends _h{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qR extends _h{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GR{constructor(e,r,a,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&FR(c,e,a[l])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=$u(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=$u(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=DE();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=r.has(l.key)?null:b;const w=UE(p,b);w!==null&&a.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(Mt.min())})),a}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Jt())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,((r,a)=>A_(r,a)))&&Wl(this.baseMutations,e.baseMutations,((r,a)=>A_(r,a)))}}class Op{constructor(e,r,a,l){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(e,r,a){An(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return OR})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,a[p].version);return new Op(e,r,a,l)}}class YR{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WR{constructor(e,r){this.count=e,this.unchangedNames=r}}var br,on;function XR(i){switch(i){case Re.OK:return At(64938);case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return At(15467,{code:i})}}function jE(i){if(i===void 0)return Os("GRPC error has no .code"),Re.UNKNOWN;switch(i){case br.OK:return Re.OK;case br.CANCELLED:return Re.CANCELLED;case br.UNKNOWN:return Re.UNKNOWN;case br.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case br.INTERNAL:return Re.INTERNAL;case br.UNAVAILABLE:return Re.UNAVAILABLE;case br.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case br.NOT_FOUND:return Re.NOT_FOUND;case br.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case br.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case br.ABORTED:return Re.ABORTED;case br.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case br.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case br.DATA_LOSS:return Re.DATA_LOSS;default:return At(39323,{code:i})}}(on=br||(br={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";function KR(){return new TextEncoder}const QR=new _o([4294967295,4294967295],0);function R_(i){const e=KR().encode(i),r=new eE;return r.update(e),new Uint8Array(r.digest())}function I_(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new _o([r,a],0),new _o([l,c],0)]}class kp{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Gu(`Invalid padding: ${r}`);if(a<0)throw new Gu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${a}`);if(e.length===0&&r!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=_o.fromNumber(this.ge)}ye(e,r,a){let l=e.add(r.multiply(_o.fromNumber(a)));return l.compare(QR)===1&&(l=new _o([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=R_(e),[a,l]=I_(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);if(!this.we(p))return!1}return!0}static create(e,r,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new kp(c,l,r);return a.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const r=R_(e),[a,l]=I_(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);this.Se(p)}}Se(e){const r=Math.floor(e/8),a=e%8;this.bitmap[r]|=1<<a}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(e,r,a,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const l=new Map;return l.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new bh(Mt.min(),l,new Zn($t),ks(),Jt())}}class yc{constructor(e,r,a,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new yc(a,r,Jt(),Jt(),Jt())}}class zf{constructor(e,r,a,l){this.be=e,this.removedTargetIds=r,this.key=a,this.De=l}}class FE{constructor(e,r){this.targetId=e,this.Ce=r}}class HE{constructor(e,r,a=ti.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=l}}class x_{constructor(){this.ve=0,this.Fe=N_(),this.Me=ti.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Jt(),r=Jt(),a=Jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:At(38017,{changeType:c})}})),new yc(this.Me,this.xe,e,r,a)}qe(){this.Oe=!1,this.Fe=N_()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,An(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $R{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=Rf(),this.He=Rf(),this.Ye=new Zn($t)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const a=this.nt(r);switch(e.state){case 0:this.rt(r)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),a.Le(e.resumeToken));break;default:At(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((a,l)=>{this.rt(l)&&r(l)}))}st(e){const r=e.targetId,a=e.Ce.count,l=this.ot(r);if(l){const c=l.target;if(Zm(c))if(a===0){const p=new vt(c.path);this.et(r,p,mi.newNoDocument(p,Mt.min()))}else An(a===1,20013,{expectedCount:a});else{const p=this._t(r);if(p!==a){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(r);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,E)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=r;let p,b;try{p=Ao(a).toUint8Array()}catch(w){if(w instanceof hE)return Yl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new kp(p,l,c)}catch(w){return Yl(w instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,r,a){return r.Ce.count===a-this.Pt(e,r.targetId)?0:2}Pt(e,r){const a=this.Ge.getRemoteKeysForTarget(r);let l=0;return a.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(r,c,null),l++)})),l}Tt(e){const r=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Zm(b.target)){const w=new vt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,mi.newNoDocument(w,e))}c.Be&&(r.set(p,c.ke()),c.qe())}}));let a=Jt();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new bh(e,r,this.Ye,this.je,a);return this.je=ks(),this.Je=Rf(),this.He=Rf(),this.Ye=new Zn($t),l}Xe(e,r){if(!this.rt(e))return;const a=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,a),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),a&&(this.je=this.je.insert(r,a))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new x_,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Cr($t),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Cr($t),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||at("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x_),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Rf(){return new Zn(vt.comparator)}function N_(){return new Zn(vt.comparator)}const JR={asc:"ASCENDING",desc:"DESCENDING"},ZR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eI={and:"AND",or:"OR"};class tI{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function tp(i,e){return i.useProto3Json||mh(e)?e:{value:e}}function rh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function nI(i,e){return rh(i,e.toTimestamp())}function ts(i){return An(!!i,49232),Mt.fromTimestamp((function(r){const a=To(r);return new Kn(a.seconds,a.nanos)})(i))}function Vp(i,e){return np(i,e).canonicalString()}function np(i,e){const r=(function(l){return new jn(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?r:r.child(e)}function GE(i){const e=jn.fromString(i);return An(QE(e),10190,{key:e.toString()}),e}function rp(i,e){return Vp(i.databaseId,e.path)}function Nm(i,e){const r=GE(e);if(r.get(1)!==i.databaseId.projectId)throw new et(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new et(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new vt(WE(r))}function YE(i,e){return Vp(i.databaseId,e)}function rI(i){const e=GE(i);return e.length===4?jn.emptyPath():WE(e)}function ip(i){return new jn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function WE(i){return An(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function M_(i,e,r){return{name:rp(i,e),fields:r.value.mapValue.fields}}function iI(i,e){let r;if("targetChange"in e){e.targetChange;const a=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:At(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,M){return E.useProto3Json?(An(M===void 0||typeof M=="string",58123),ti.fromBase64String(M||"")):(An(M===void 0||M instanceof Buffer||M instanceof Uint8Array,16193),ti.fromUint8Array(M||new Uint8Array))})(i,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const M=E.code===void 0?Re.UNKNOWN:jE(E.code);return new et(M,E.message||"")})(p);r=new HE(a,l,c,b||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Nm(i,a.document.name),c=ts(a.document.updateTime),p=a.document.createTime?ts(a.document.createTime):Mt.min(),b=new xa({mapValue:{fields:a.document.fields}}),w=mi.newFoundDocument(l,c,p,b),E=a.targetIds||[],M=a.removedTargetIds||[];r=new zf(E,M,w.key,w)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Nm(i,a.document),c=a.readTime?ts(a.readTime):Mt.min(),p=mi.newNoDocument(l,c),b=a.removedTargetIds||[];r=new zf([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Nm(i,a.document),c=a.removedTargetIds||[];r=new zf([],c,l,null)}else{if(!("filter"in e))return At(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,p=new WR(l,c),b=a.targetId;r=new FE(b,p)}}return r}function aI(i,e){let r;if(e instanceof gc)r={update:M_(i,e.key,e.value)};else if(e instanceof BE)r={delete:rp(i,e.key)};else if(e instanceof el)r={update:M_(i,e.key,e.data),updateMask:mI(e.fieldMask)};else{if(!(e instanceof qR))return At(16599,{Vt:e.type});r={verify:rp(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((a=>(function(c,p){const b=p.transform;if(b instanceof th)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof sc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof oc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof nh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw At(20930,{transform:p.transform})})(0,a)))),e.precondition.isNone||(r.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:nI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:At(27497)})(i,e.precondition)),r}function sI(i,e){return i&&i.length>0?(An(e!==void 0,14353),i.map((r=>(function(l,c){let p=l.updateTime?ts(l.updateTime):ts(c);return p.isEqual(Mt.min())&&(p=ts(c)),new jR(p,l.transformResults||[])})(r,e)))):[]}function oI(i,e){return{documents:[YE(i,e.path)]}}function lI(i,e){const r={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=YE(i,l);const c=(function(E){if(E.length!==0)return KE(Ba.create(E,"and"))})(e.filters);c&&(r.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((M=>(function(q){return{field:Dl(q.field),direction:fI(q.dir)}})(M)))})(e.orderBy);p&&(r.structuredQuery.orderBy=p);const b=tp(i,e.limit);return b!==null&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:r,parent:l}}function uI(i){let e=rI(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){An(a===1,65062);const M=r.from[0];M.allDescendants?l=M.collectionId:e=e.child(M.collectionId)}let c=[];r.where&&(c=(function(O){const q=XE(O);return q instanceof Ba&&wE(q)?q.getFilters():[q]})(r.where));let p=[];r.orderBy&&(p=(function(O){return O.map((q=>(function(B){return new ac(Ol(B.field),(function(Te){switch(Te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(q)))})(r.orderBy));let b=null;r.limit&&(b=(function(O){let q;return q=typeof O=="object"?O.value:O,mh(q)?null:q})(r.limit));let w=null;r.startAt&&(w=(function(O){const q=!!O.before,ae=O.values||[];return new Zf(ae,q)})(r.startAt));let E=null;return r.endAt&&(E=(function(O){const q=!O.before,ae=O.values||[];return new Zf(ae,q)})(r.endAt)),IR(e,l,p,c,b,"F",w,E)}function cI(i,e){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:l})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function XE(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Ol(r.unaryFilter.field);return Er.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ol(r.unaryFilter.field);return Er.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ol(r.unaryFilter.field);return Er.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ol(r.unaryFilter.field);return Er.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(i):i.fieldFilter!==void 0?(function(r){return Er.create(Ol(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return Ba.create(r.compositeFilter.filters.map((a=>XE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(r.compositeFilter.op))})(i):At(30097,{filter:i})}function fI(i){return JR[i]}function hI(i){return ZR[i]}function dI(i){return eI[i]}function Dl(i){return{fieldPath:i.canonicalString()}}function Ol(i){return ei.fromServerFormat(i.fieldPath)}function KE(i){return i instanceof Er?(function(r){if(r.op==="=="){if(v_(r.value))return{unaryFilter:{field:Dl(r.field),op:"IS_NAN"}};if(y_(r.value))return{unaryFilter:{field:Dl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(v_(r.value))return{unaryFilter:{field:Dl(r.field),op:"IS_NOT_NAN"}};if(y_(r.value))return{unaryFilter:{field:Dl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(r.field),op:hI(r.op),value:r.value}}})(i):i instanceof Ba?(function(r){const a=r.getFilters().map((l=>KE(l)));return a.length===1?a[0]:{compositeFilter:{op:dI(r.op),filters:a}}})(i):At(54877,{filter:i})}function mI(i){const e=[];return i.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function QE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class po{constructor(e,r,a,l,c=Mt.min(),p=Mt.min(),b=ti.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pI{constructor(e){this.yt=e}}function gI(i){const e=uI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?eh(e,e.limit,"L"):e}class yI{constructor(){this.Cn=new vI}addToCollectionParentIndex(e,r){return this.Cn.add(r),Ie.resolve()}getCollectionParents(e,r){return Ie.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Ie.resolve()}deleteFieldIndex(e,r){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,r){return Ie.resolve()}getDocumentsMatchingTarget(e,r){return Ie.resolve(null)}getIndexType(e,r){return Ie.resolve(0)}getFieldIndexes(e,r){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,r){return Ie.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,r){return Ie.resolve(wo.min())}updateCollectionGroup(e,r,a){return Ie.resolve()}updateIndexEntries(e,r){return Ie.resolve()}}class vI{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r]||new Cr(jn.comparator),c=!l.has(a);return this.index[r]=l.add(a),c}has(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Cr(jn.comparator)).toArray()}}const D_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$E=41943040;class Wi{static withCacheSize(e){return new Wi(e,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi($E,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);class Ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ql(0)}static cr(){return new Ql(-1)}}const O_="LruGarbageCollector",_I=1048576;function k_([i,e],[r,a]){const l=$t(i,r);return l===0?$t(e,a):l}class bI{constructor(e){this.Ir=e,this.buffer=new Cr(k_),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();k_(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class EI{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(O_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ru(r)?at(O_,"Ignoring IndexedDB error during garbage collection: ",r):await nu(r)}await this.Vr(3e5)}))}}class wI{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((a=>Math.floor(r/100*a)))}nthSequenceNumber(e,r){if(r===0)return Ie.resolve(dh.ce);const a=new bI(r);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,r,a){return this.mr.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(D_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D_):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let a,l,c,p,b,w,E;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,p=Date.now(),this.nthSequenceNumber(e,l)))).next((O=>(a=O,b=Date.now(),this.removeTargets(e,a,r)))).next((O=>(c=O,w=Date.now(),this.removeOrphanedDocuments(e,a)))).next((O=>(E=Date.now(),Nl()<=Qt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-M}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${O} documents in `+(E-w)+`ms
Total Duration: ${E-M}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O}))))}}function TI(i,e){return new wI(i,e)}class AI{constructor(){this.changes=new Zo((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,mi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?Ie.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class SI{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class CI{constructor(e,r,a,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,r)))).next((l=>(a!==null&&$u(a.mutation,l,za.empty(),Kn.now()),l)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.getLocalViewOfDocuments(e,a,Jt()).next((()=>a))))}getLocalViewOfDocuments(e,r,a=Jt()){const l=Yo();return this.populateOverlays(e,l,r).next((()=>this.computeViews(e,r,l,a).next((c=>{let p=qu();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,r){const a=Yo();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,Jt())))}populateOverlays(e,r,a){const l=[];return a.forEach((c=>{r.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{r.set(p,b)}))}))}computeViews(e,r,a,l){let c=ks();const p=Qu(),b=(function(){return Qu()})();return r.forEach(((w,E)=>{const M=a.get(E.key);l.has(E.key)&&(M===void 0||M.mutation instanceof el)?c=c.insert(E.key,E):M!==void 0?(p.set(E.key,M.mutation.getFieldMask()),$u(M.mutation,E,M.mutation.getFieldMask(),Kn.now())):p.set(E.key,za.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,M)=>p.set(E,M))),r.forEach(((E,M)=>b.set(E,new SI(M,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,r){const a=Qu();let l=new Zn(((p,b)=>p-b)),c=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=r.get(w);if(E===null)return;let M=a.get(w)||za.empty();M=b.applyToLocalView(E,M),a.set(w,M);const O=(l.get(b.batchId)||Jt()).add(w);l=l.insert(b.batchId,O)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,M=w.value,O=DE();M.forEach((q=>{if(!c.has(q)){const ae=UE(r.get(q),a.get(q));ae!==null&&O.set(q,ae),c=c.add(q)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,O))}return Ie.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,r,a,l){return(function(p){return vt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):RE(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,l):this.getDocumentsMatchingCollectionQuery(e,r,a,l)}getNextDocuments(e,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,l-c.size):Ie.resolve(Yo());let b=tc,w=c;return p.next((E=>Ie.forEach(E,((M,O)=>(b<O.largestBatchId&&(b=O.largestBatchId),c.get(M)?Ie.resolve():this.remoteDocumentCache.getEntry(e,M).next((q=>{w=w.insert(M,q)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,Jt()))).next((M=>({batchId:b,changes:ME(M)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new vt(r)).next((a=>{let l=qu();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,r,a,l){const c=r.collectionGroup;let p=qu();return this.indexManager.getCollectionParents(e,c).next((b=>Ie.forEach(b,(w=>{const E=(function(O,q){return new iu(q,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(r,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,a,l).next((M=>{M.forEach(((O,q)=>{p=p.insert(O,q)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,r,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,c,l)))).next((p=>{c.forEach(((w,E)=>{const M=E.getKey();p.get(M)===null&&(p=p.insert(M,mi.newInvalidDocument(M)))}));let b=qu();return p.forEach(((w,E)=>{const M=c.get(w);M!==void 0&&$u(M.mutation,E,za.empty(),Kn.now()),yh(r,E)&&(b=b.insert(w,E))})),b}))}}class RI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Ie.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:ts(l.createTime)}})(r)),Ie.resolve()}getNamedQuery(e,r){return Ie.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:gI(l.bundledQuery),readTime:ts(l.readTime)}})(r)),Ie.resolve()}}class II{constructor(){this.overlays=new Zn(vt.comparator),this.qr=new Map}getOverlay(e,r){return Ie.resolve(this.overlays.get(r))}getOverlays(e,r){const a=Yo();return Ie.forEach(r,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,r,a){return a.forEach(((l,c)=>{this.St(e,r,c)})),Ie.resolve()}removeOverlaysForBatchId(e,r,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Ie.resolve()}getOverlaysForCollection(e,r,a){const l=Yo(),c=r.length+1,p=new vt(r.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>a&&l.set(w.getKey(),w)}return Ie.resolve(l)}getOverlaysForCollectionGroup(e,r,a,l){let c=new Zn(((E,M)=>E-M));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>a){let M=c.get(E.largestBatchId);M===null&&(M=Yo(),c=c.insert(E.largestBatchId,M)),M.set(E.getKey(),E)}}const b=Yo(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,M)=>b.set(E,M))),!(b.size()>=l)););return Ie.resolve(b)}St(e,r,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new YR(r,a));let c=this.qr.get(r);c===void 0&&(c=Jt(),this.qr.set(r,c)),this.qr.set(r,c.add(a.key))}}class xI{constructor(){this.sessionToken=ti.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ie.resolve()}}class Pp{constructor(){this.Qr=new Cr(kr.$r),this.Ur=new Cr(kr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const a=new kr(e,r);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,r){e.forEach((a=>this.addReference(a,r)))}removeReference(e,r){this.Gr(new kr(e,r))}zr(e,r){e.forEach((a=>this.removeReference(a,r)))}jr(e){const r=new vt(new jn([])),a=new kr(r,e),l=new kr(r,e+1),c=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new vt(new jn([])),a=new kr(r,e),l=new kr(r,e+1);let c=Jt();return this.Ur.forEachInRange([a,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const r=new kr(e,0),a=this.Qr.firstAfterOrEqual(r);return a!==null&&e.isEqual(a.key)}}class kr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return vt.comparator(e.key,r.key)||$t(e.Yr,r.Yr)}static Kr(e,r){return $t(e.Yr,r.Yr)||vt.comparator(e.key,r.key)}}class NI{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Cr(kr.$r)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new GR(c,r,a,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new kr(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Ie.resolve(p)}lookupMutationBatch(e,r){return Ie.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const a=r+1,l=this.ei(a),c=l<0?0:l;return Ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?Rp:this.tr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new kr(r,0),l=new kr(r,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Cr($t);return r.forEach((l=>{const c=new kr(l,0),p=new kr(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{a=a.add(b.Yr)}))})),Ie.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,l=a.length+1;let c=a;vt.isDocumentKey(c)||(c=c.child(""));const p=new kr(new vt(c),0);let b=new Cr($t);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!a.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Ie.resolve(this.ti(b))}ti(e){const r=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&r.push(l)})),r}removeMutationBatch(e,r){An(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Ie.forEach(r.mutations,(l=>{const c=new kr(l.key,r.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,r){const a=new kr(r,0),l=this.Zr.firstAfterOrEqual(a);return Ie.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class MI{constructor(e){this.ri=e,this.docs=(function(){return new Zn(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,l=this.docs.get(a),c=l?l.size:0,p=this.ri(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return Ie.resolve(a?a.document.mutableCopy():mi.newInvalidDocument(r))}getEntries(e,r){let a=ks();return r.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():mi.newInvalidDocument(l))})),Ie.resolve(a)}getDocumentsMatchingQuery(e,r,a,l){let c=ks();const p=r.path,b=new vt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:M}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||sR(aR(M),a)<=0||(l.has(M.key)||yh(r,M))&&(c=c.insert(M.key,M.mutableCopy()))}return Ie.resolve(c)}getAllFromCollectionGroup(e,r,a,l){At(9500)}ii(e,r){return Ie.forEach(this.docs,(a=>r(a)))}newChangeBuffer(e){return new DI(this)}getSize(e){return Ie.resolve(this.size)}}class DI extends AI{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Ie.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}class OI{constructor(e){this.persistence=e,this.si=new Zo((r=>Np(r)),Mp),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pp,this.targetCount=0,this.ai=Ql.ur()}forEachTarget(e,r){return this.si.forEach(((a,l)=>r(l))),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.oi&&(this.oi=r),Ie.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Ql(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Ie.resolve()}updateTargetData(e,r){return this.Pr(r),Ie.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,r,a){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=r&&a.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Ie.waitFor(c).next((()=>l))}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,r){const a=this.si.get(r)||null;return Ie.resolve(a)}addMatchingKeys(e,r,a){return this._i.Wr(r,a),Ie.resolve()}removeMatchingKeys(e,r,a){this._i.zr(r,a);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Ie.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Ie.resolve()}getMatchingKeysForTargetId(e,r){const a=this._i.Hr(r);return Ie.resolve(a)}containsKey(e,r){return Ie.resolve(this._i.containsKey(r))}}class JE{constructor(e,r){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new xI,this.referenceDelegate=e(this),this.Pi=new OI(this),this.indexManager=new yI,this.remoteDocumentCache=(function(l){return new MI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new pI(r),this.Ii=new RI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new II,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.ui[e.toKey()];return a||(a=new NI(r,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,a){at("MemoryPersistence","Starting transaction:",e);const l=new kI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,r){return Ie.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,r))))}}class kI extends lR{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new Pp,this.Vi=null}static mi(e){return new Lp(e)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(e,r,a){return this.Ri.addReference(a,r),this.fi.delete(a.toString()),Ie.resolve()}removeReference(e,r,a){return this.Ri.removeReference(a,r),this.fi.add(a.toString()),Ie.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Ie.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.fi,(a=>{const l=vt.fromPath(a);return this.gi(e,l).next((c=>{c||r.removeEntry(l,Mt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((a=>{a?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return Ie.or([()=>Ie.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class ih{constructor(e,r){this.persistence=e,this.pi=new Zo((a=>fR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=TI(this,r)}static mi(e,r){return new ih(e,r)}Ei(){}di(e){return Ie.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>r.next((l=>a+l))))}wr(e){let r=0;return this.pr(e,(a=>{r++})).next((()=>r))}pr(e,r){return Ie.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?Ie.resolve():r(l)))))}removeTargets(e,r,a){return this.persistence.getTargetCache().removeTargets(e,r,a)}removeOrphanedDocuments(e,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,r).next((b=>{b||(a++,c.removeEntry(p,Mt.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),Ie.resolve()}removeReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Ie.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Pf(e.data.value)),r}br(e,r,a){return Ie.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const l=this.pi.get(r);return Ie.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Up{constructor(e,r,a,l){this.targetId=e,this.fromCache=r,this.Es=a,this.ds=l}static As(e,r){let a=Jt(),l=Jt();for(const c of r.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Up(e,r.fromCache,a,l)}}class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class PI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AA()?8:uR(pi())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,a,l){const c={result:null};return this.ys(e,r).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,r,l,a).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new VI;return this.Ss(e,r,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,r,p,b.size)}))})).next((()=>c.result))}bs(e,r,a,l){return a.documentReadCount<this.fs?(Nl()<=Qt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ml(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ie.resolve()):(Nl()<=Qt.DEBUG&&at("QueryEngine","Query:",Ml(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Nl()<=Qt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ml(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(r))):Ie.resolve())}ys(e,r){if(w_(r))return Ie.resolve(null);let a=es(r);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=eh(r,null,"F"),a=es(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const p=Jt(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,a).next((w=>{const E=this.Ds(r,b);return this.Cs(r,E,p,w.readTime)?this.ys(e,eh(r,null,"F")):this.vs(e,E,r,w)}))))})))))}ws(e,r,a,l){return w_(r)||l.isEqual(Mt.min())?Ie.resolve(null):this.ps.getDocuments(e,a).next((c=>{const p=this.Ds(r,c);return this.Cs(r,p,a,l)?Ie.resolve(null):(Nl()<=Qt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ml(r)),this.vs(e,p,r,iR(l,tc)).next((b=>b)))}))}Ds(e,r){let a=new Cr(xE(e));return r.forEach(((l,c)=>{yh(e,c)&&(a=a.add(c))})),a}Cs(e,r,a,l){if(e.limit===null)return!1;if(a.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,r,a){return Nl()<=Qt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ml(r)),this.ps.getDocumentsMatchingQuery(e,r,wo.min(),a)}vs(e,r,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(r.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const zp="LocalStore",LI=3e8;class UI{constructor(e,r,a,l){this.persistence=e,this.Fs=r,this.serializer=l,this.Ms=new Zn($t),this.xs=new Zo((c=>Np(c)),Mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function zI(i,e,r,a){return new UI(i,e,r,a)}async function ZE(i,e){const r=Ot(i);return await r.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,r.Bs(e),r.mutationQueue.getAllMutationBatches(a)))).next((c=>{const p=[],b=[];let w=Jt();for(const E of l){p.push(E.batchId);for(const M of E.mutations)w=w.add(M.key)}for(const E of c){b.push(E.batchId);for(const M of E.mutations)w=w.add(M.key)}return r.localDocuments.getDocuments(a,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function BI(i,e){const r=Ot(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,M){const O=E.batch,q=O.keys();let ae=Ie.resolve();return q.forEach((B=>{ae=ae.next((()=>M.getEntry(w,B))).next((Oe=>{const Te=E.docVersions.get(B);An(Te!==null,48541),Oe.version.compareTo(Te)<0&&(O.applyToRemoteDocument(Oe,E),Oe.isValidDocument()&&(Oe.setReadTime(E.commitVersion),M.addEntry(Oe)))}))})),ae.next((()=>b.mutationQueue.removeMutationBatch(w,O)))})(r,a,e,c).next((()=>c.apply(a))).next((()=>r.mutationQueue.performConsistencyCheck(a))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let w=Jt();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>r.localDocuments.getDocuments(a,l)))}))}function e1(i){const e=Ot(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function jI(i,e){const r=Ot(i),a=e.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const b=[];e.targetChanges.forEach(((M,O)=>{const q=l.get(O);if(!q)return;b.push(r.Pi.removeMatchingKeys(c,M.removedDocuments,O).next((()=>r.Pi.addMatchingKeys(c,M.addedDocuments,O))));let ae=q.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(O)!==null?ae=ae.withResumeToken(ti.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):M.resumeToken.approximateByteSize()>0&&(ae=ae.withResumeToken(M.resumeToken,a)),l=l.insert(O,ae),(function(Oe,Te,ze){return Oe.resumeToken.approximateByteSize()===0||Te.snapshotVersion.toMicroseconds()-Oe.snapshotVersion.toMicroseconds()>=LI?!0:ze.addedDocuments.size+ze.modifiedDocuments.size+ze.removedDocuments.size>0})(q,ae,M)&&b.push(r.Pi.updateTargetData(c,ae))}));let w=ks(),E=Jt();if(e.documentUpdates.forEach((M=>{e.resolvedLimboDocuments.has(M)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(c,M))})),b.push(FI(c,p,e.documentUpdates).next((M=>{w=M.ks,E=M.qs}))),!a.isEqual(Mt.min())){const M=r.Pi.getLastRemoteSnapshotVersion(c).next((O=>r.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));b.push(M)}return Ie.waitFor(b).next((()=>p.apply(c))).next((()=>r.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(r.Ms=l,c)))}function FI(i,e,r){let a=Jt(),l=Jt();return r.forEach((c=>a=a.add(c))),e.getEntries(i,a).next((c=>{let p=ks();return r.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(Mt.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):at(zp,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function HI(i,e){const r=Ot(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Rp),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function qI(i,e){const r=Ot(i);return r.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return r.Pi.getTargetData(a,e).next((c=>c?(l=c,Ie.resolve(l)):r.Pi.allocateTargetId(a).next((p=>(l=new po(e,p,"TargetPurposeListen",a.currentSequenceNumber),r.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=r.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(a.targetId,a),r.xs.set(e,a.targetId)),a}))}async function ap(i,e,r){const a=Ot(i),l=a.Ms.get(e),c=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",c,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!ru(p))throw p;at(zp,`Failed to update sequence numbers for target ${e}: ${p}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function V_(i,e,r){const a=Ot(i);let l=Mt.min(),c=Jt();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,M){const O=Ot(w),q=O.xs.get(M);return q!==void 0?Ie.resolve(O.Ms.get(q)):O.Pi.getTargetData(E,M)})(a,p,es(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,e,r?l:Mt.min(),r?c:Jt()))).next((b=>(GI(a,NR(e),b),{documents:b,Qs:c})))))}function GI(i,e,r){let a=i.Os.get(e)||Mt.min();r.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),i.Os.set(e,a)}class P_{constructor(){this.activeTargetIds=PR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YI{constructor(){this.Mo=new P_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,a){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new P_,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WI{Oo(e){}shutdown(){}}const L_="ConnectivityMonitor";class U_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(L_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(L_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let If=null;function sp(){return If===null?If=(function(){return 268435456+Math.round(2147483648*Math.random())})():If++,"0x"+If.toString(16)}const Mm="RestConnection",XI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===$f?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,r,a,l,c){const p=sp(),b=this.zo(e,r.toUriEncodedString());at(Mm,`Sending RPC '${e}' ${p}:`,b,a);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),M=Jl(E);return this.Jo(e,b,w,a,M).then((O=>(at(Mm,`Received RPC '${e}' ${p}: `,O),O)),(O=>{throw Yl(Mm,`RPC '${e}' ${p} failed with error: `,O,"url: ",b,"request:",a),O}))}Ho(e,r,a,l,c,p){return this.Go(e,r,a,l,c)}jo(e,r,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,r){const a=XI[e];return`${this.Uo}/v1/${r}:${a}`}terminate(){}}class QI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hi="WebChannelConnection";class $I extends KI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,a,l,c){const p=sp();return new Promise(((b,w)=>{const E=new tE;E.setWithCredentials(!0),E.listenOnce(nE.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Vf.NO_ERROR:const O=E.getResponseJson();at(hi,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(O)),b(O);break;case Vf.TIMEOUT:at(hi,`RPC '${e}' ${p} timed out`),w(new et(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Vf.HTTP_ERROR:const q=E.getStatus();if(at(hi,`RPC '${e}' ${p} failed with status:`,q,"response text:",E.getResponseText()),q>0){let ae=E.getResponseJson();Array.isArray(ae)&&(ae=ae[0]);const B=ae?.error;if(B&&B.status&&B.message){const Oe=(function(ze){const U=ze.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(U)>=0?U:Re.UNKNOWN})(B.status);w(new et(Oe,B.message))}else w(new et(Re.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new et(Re.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{at(hi,`RPC '${e}' ${p} completed.`)}}));const M=JSON.stringify(l);at(hi,`RPC '${e}' ${p} sending request:`,l),E.send(r,"POST",M,a,15)}))}T_(e,r,a){const l=sp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=aE(),b=iE(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,r,a),w.encodeInitMessageHeaders=!0;const M=c.join("");at(hi,`Creating RPC '${e}' stream ${l}: ${M}`,w);const O=p.createWebChannel(M,w);this.I_(O);let q=!1,ae=!1;const B=new QI({Yo:Te=>{ae?at(hi,`Not sending because RPC '${e}' stream ${l} is closed:`,Te):(q||(at(hi,`Opening RPC '${e}' stream ${l} transport.`),O.open(),q=!0),at(hi,`RPC '${e}' stream ${l} sending:`,Te),O.send(Te))},Zo:()=>O.close()}),Oe=(Te,ze,U)=>{Te.listen(ze,(Le=>{try{U(Le)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return Oe(O,Hu.EventType.OPEN,(()=>{ae||(at(hi,`RPC '${e}' stream ${l} transport opened.`),B.o_())})),Oe(O,Hu.EventType.CLOSE,(()=>{ae||(ae=!0,at(hi,`RPC '${e}' stream ${l} transport closed`),B.a_(),this.E_(O))})),Oe(O,Hu.EventType.ERROR,(Te=>{ae||(ae=!0,Yl(hi,`RPC '${e}' stream ${l} transport errored. Name:`,Te.name,"Message:",Te.message),B.a_(new et(Re.UNAVAILABLE,"The operation could not be completed")))})),Oe(O,Hu.EventType.MESSAGE,(Te=>{if(!ae){const ze=Te.data[0];An(!!ze,16349);const U=ze,Le=U?.error||U[0]?.error;if(Le){at(hi,`RPC '${e}' stream ${l} received error:`,Le);const tt=Le.status;let nt=(function(F){const P=br[F];if(P!==void 0)return jE(P)})(tt),ut=Le.message;nt===void 0&&(nt=Re.INTERNAL,ut="Unknown error status: "+tt+" with message "+Le.message),ae=!0,B.a_(new et(nt,ut)),O.close()}else at(hi,`RPC '${e}' stream ${l} received:`,ze),B.u_(ze)}})),Oe(b,rE.STAT_EVENT,(Te=>{Te.stat===Xm.PROXY?at(hi,`RPC '${e}' stream ${l} detected buffering proxy`):Te.stat===Xm.NOPROXY&&at(hi,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function Dm(){return typeof document<"u"?document:null}function Eh(i){return new tI(i,!0)}class t1{constructor(e,r,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=r,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const z_="PersistentStream";class n1{constructor(e,r,a,l,c,p,b,w){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t1(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Re.RESOURCE_EXHAUSTED?(Os(r.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===r&&this.G_(a,l)}),(a=>{e((()=>{const l=new et(Re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,r){const a=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(at(z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JI extends n1{constructor(e,r,a,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=iI(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Mt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Mt.min():p.readTime?ts(p.readTime):Mt.min()})(e);return this.listener.H_(r,a)}Y_(e){const r={};r.database=ip(this.serializer),r.addTarget=(function(c,p){let b;const w=p.target;if(b=Zm(w)?{documents:oI(c,w)}:{query:lI(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=qE(c,p.resumeToken);const E=tp(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(Mt.min())>0){b.readTime=rh(c,p.snapshotVersion.toTimestamp());const E=tp(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const a=cI(this.serializer,e);a&&(r.labels=a),this.q_(r)}Z_(e){const r={};r.database=ip(this.serializer),r.removeTarget=e,this.q_(r)}}class ZI extends n1{constructor(e,r,a,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return An(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,An(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){An(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=sI(e.writeResults,e.commitTime),a=ts(e.commitTime);return this.listener.na(a,r)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((a=>aI(this.serializer,a)))};this.q_(r)}}class ex{}class tx extends ex{constructor(e,r,a,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new et(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,np(r,a),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new et(Re.UNKNOWN,c.toString())}))}Ho(e,r,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,np(r,a),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new et(Re.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nx{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(r),this.aa=!1):at("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $o="RemoteStore";class rx{constructor(e,r,a,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{tl(this)&&(at($o,"Restarting streams for network reachability change."),await(async function(w){const E=Ot(w);E.Ea.add(4),await vc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await wh(E)})(this))}))})),this.Ra=new nx(a,l)}}async function wh(i){if(tl(i))for(const e of i.da)await e(!0)}async function vc(i){for(const e of i.da)await e(!1)}function r1(i,e){const r=Ot(i);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Hp(r)?Fp(r):au(r).O_()&&jp(r,e))}function Bp(i,e){const r=Ot(i),a=au(r);r.Ia.delete(e),a.O_()&&i1(r,e),r.Ia.size===0&&(a.O_()?a.L_():tl(r)&&r.Ra.set("Unknown"))}function jp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mt.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}au(i).Y_(e)}function i1(i,e){i.Va.Ue(e),au(i).Z_(e)}function Fp(i){i.Va=new $R({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),au(i).start(),i.Ra.ua()}function Hp(i){return tl(i)&&!au(i).x_()&&i.Ia.size>0}function tl(i){return Ot(i).Ea.size===0}function a1(i){i.Va=void 0}async function ix(i){i.Ra.set("Online")}async function ax(i){i.Ia.forEach(((e,r)=>{jp(i,e)}))}async function sx(i,e){a1(i),Hp(i)?(i.Ra.ha(e),Fp(i)):i.Ra.set("Unknown")}async function ox(i,e,r){if(i.Ra.set("Online"),e instanceof HE&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(i,e)}catch(a){at($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ah(i,a)}else if(e instanceof zf?i.Va.Ze(e):e instanceof FE?i.Va.st(e):i.Va.tt(e),!r.isEqual(Mt.min()))try{const a=await e1(i.localStore);r.compareTo(a)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const M=c.Ia.get(E);M&&c.Ia.set(E,M.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const M=c.Ia.get(w);if(!M)return;c.Ia.set(w,M.withResumeToken(ti.EMPTY_BYTE_STRING,M.snapshotVersion)),i1(c,w);const O=new po(M.target,w,E,M.sequenceNumber);jp(c,O)})),c.remoteSyncer.applyRemoteEvent(b)})(i,r)}catch(a){at($o,"Failed to raise snapshot:",a),await ah(i,a)}}async function ah(i,e,r){if(!ru(e))throw e;i.Ea.add(1),await vc(i),i.Ra.set("Offline"),r||(r=()=>e1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{at($o,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await wh(i)}))}function s1(i,e){return e().catch((r=>ah(i,r,e)))}async function Th(i){const e=Ot(i),r=Co(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rp;for(;lx(e);)try{const l=await HI(e.localStore,a);if(l===null){e.Ta.length===0&&r.L_();break}a=l.batchId,ux(e,l)}catch(l){await ah(e,l)}o1(e)&&l1(e)}function lx(i){return tl(i)&&i.Ta.length<10}function ux(i,e){i.Ta.push(e);const r=Co(i);r.O_()&&r.X_&&r.ea(e.mutations)}function o1(i){return tl(i)&&!Co(i).x_()&&i.Ta.length>0}function l1(i){Co(i).start()}async function cx(i){Co(i).ra()}async function fx(i){const e=Co(i);for(const r of i.Ta)e.ea(r.mutations)}async function hx(i,e,r){const a=i.Ta.shift(),l=Op.from(a,e,r);await s1(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await Th(i)}async function dx(i,e){e&&Co(i).X_&&await(async function(a,l){if((function(p){return XR(p)&&p!==Re.ABORTED})(l.code)){const c=a.Ta.shift();Co(a).B_(),await s1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Th(a)}})(i,e),o1(i)&&l1(i)}async function B_(i,e){const r=Ot(i);r.asyncQueue.verifyOperationInProgress(),at($o,"RemoteStore received new credentials");const a=tl(r);r.Ea.add(3),await vc(r),a&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await wh(r)}async function mx(i,e){const r=Ot(i);e?(r.Ea.delete(2),await wh(r)):e||(r.Ea.add(2),await vc(r),r.Ra.set("Unknown"))}function au(i){return i.ma||(i.ma=(function(r,a,l){const c=Ot(r);return c.sa(),new JI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:ix.bind(null,i),t_:ax.bind(null,i),r_:sx.bind(null,i),H_:ox.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Hp(i)?Fp(i):i.Ra.set("Unknown")):(await i.ma.stop(),a1(i))}))),i.ma}function Co(i){return i.fa||(i.fa=(function(r,a,l){const c=Ot(r);return c.sa(),new ZI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:cx.bind(null,i),r_:dx.bind(null,i),ta:fx.bind(null,i),na:hx.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Th(i)):(await i.fa.stop(),i.Ta.length>0&&(at($o,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class qp{constructor(e,r,a,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,l,c){const p=Date.now()+a,b=new qp(e,r,p,l,c);return b.start(a),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(i,e){if(Os("AsyncQueue",`${e}: ${i}`),ru(i))return new et(Re.UNAVAILABLE,`${e}: ${i}`);throw i}class Fl{static emptySet(e){return new Fl(e.comparator)}constructor(e){this.comparator=e?(r,a)=>e(r,a)||vt.comparator(r.key,a.key):(r,a)=>vt.comparator(r.key,a.key),this.keyedMap=qu(),this.sortedSet=new Zn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,a)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const a=new Fl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class j_{constructor(){this.ga=new Zn(vt.comparator)}track(e){const r=e.doc.key,a=this.ga.get(r);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(r,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(r,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(r):e.type===1&&a.type===2?this.ga=this.ga.insert(r,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):At(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,a)=>{e.push(a)})),e}}class $l{constructor(e,r,a,l,c,p,b,w,E){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,r,a,l,c){const p=[];return r.forEach((b=>{p.push({type:0,doc:b})})),new $l(e,r,Fl.emptySet(r),p,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class px{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gx{constructor(){this.queries=F_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,a){const l=Ot(r),c=l.queries;l.queries=F_(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(a)}))})(this,new et(Re.ABORTED,"Firestore shutting down"))}}function F_(){return new Zo((i=>IE(i)),gh)}async function yx(i,e){const r=Ot(i);let a=3;const l=e.query;let c=r.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new px,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await r.onListen(l,!0);break;case 1:c.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const b=Gp(p,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(b)}r.queries.set(l,c),c.Sa.push(e),e.va(r.onlineState),c.wa&&e.Fa(c.wa)&&Yp(r)}async function vx(i,e){const r=Ot(i),a=e.query;let l=3;const c=r.queries.get(a);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function _x(i,e){const r=Ot(i);let a=!1;for(const l of e){const c=l.query,p=r.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(a=!0);p.wa=l}}a&&Yp(r)}function bx(i,e,r){const a=Ot(i),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(r);a.queries.delete(e)}function Yp(i){i.Ca.forEach((e=>{e.next()}))}var op,H_;(H_=op||(op={})).Ma="default",H_.Cache="cache";class Ex{constructor(e,r,a){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new $l(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const a=r!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==op.Cache}}class u1{constructor(e){this.key=e}}class c1{constructor(e){this.key=e}}class wx{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=xE(e),this.tu=new Fl(this.eu)}get nu(){return this.Ya}ru(e,r){const a=r?r.iu:new j_,l=r?r.tu:this.tu;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((M,O)=>{const q=l.get(M),ae=yh(this.query,O)?O:null,B=!!q&&this.mutatedKeys.has(q.key),Oe=!!ae&&(ae.hasLocalMutations||this.mutatedKeys.has(ae.key)&&ae.hasCommittedMutations);let Te=!1;q&&ae?q.data.isEqual(ae.data)?B!==Oe&&(a.track({type:3,doc:ae}),Te=!0):this.su(q,ae)||(a.track({type:2,doc:ae}),Te=!0,(w&&this.eu(ae,w)>0||E&&this.eu(ae,E)<0)&&(b=!0)):!q&&ae?(a.track({type:0,doc:ae}),Te=!0):q&&!ae&&(a.track({type:1,doc:q}),Te=!0,(w||E)&&(b=!0)),Te&&(ae?(p=p.add(ae),c=Oe?c.add(M):c.delete(M)):(p=p.delete(M),c=c.delete(M)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const M=this.query.limitType==="F"?p.last():p.first();p=p.delete(M.key),c=c.delete(M.key),a.track({type:1,doc:M})}return{tu:p,iu:a,Cs:b,mutatedKeys:c}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((M,O)=>(function(ae,B){const Oe=Te=>{switch(Te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:Te})}};return Oe(ae)-Oe(B)})(M.type,O.type)||this.eu(M.doc,O.doc))),this.ou(a),l=l??!1;const b=r&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new $l(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Jt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const r=[];return e.forEach((a=>{this.Xa.has(a)||r.push(new c1(a))})),this.Xa.forEach((a=>{e.has(a)||r.push(new u1(a))})),r}cu(e){this.Ya=e.Qs,this.Xa=Jt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return $l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wp="SyncEngine";class Tx{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Ax{constructor(e){this.key=e,this.hu=!1}}class Sx{constructor(e,r,a,l,c,p){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Zo((b=>IE(b)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new Zn(vt.comparator),this.Au=new Map,this.Ru=new Pp,this.Vu={},this.mu=new Map,this.fu=Ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Cx(i,e,r=!0){const a=g1(i);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await f1(a,e,r,!0),l}async function Rx(i,e){const r=g1(i);await f1(r,e,!0,!1)}async function f1(i,e,r,a){const l=await qI(i.localStore,es(e)),c=l.targetId,p=i.sharedClientState.addLocalQueryTarget(c,r);let b;return a&&(b=await Ix(i,e,c,p==="current",l.resumeToken)),i.isPrimaryClient&&r&&r1(i.remoteStore,l),b}async function Ix(i,e,r,a,l){i.pu=(O,q,ae)=>(async function(Oe,Te,ze,U){let Le=Te.view.ru(ze);Le.Cs&&(Le=await V_(Oe.localStore,Te.query,!1).then((({documents:Y})=>Te.view.ru(Y,Le))));const tt=U&&U.targetChanges.get(Te.targetId),nt=U&&U.targetMismatches.get(Te.targetId)!=null,ut=Te.view.applyChanges(Le,Oe.isPrimaryClient,tt,nt);return G_(Oe,Te.targetId,ut.au),ut.snapshot})(i,O,q,ae);const c=await V_(i.localStore,e,!0),p=new wx(e,c.Qs),b=p.ru(c.documents),w=yc.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",l),E=p.applyChanges(b,i.isPrimaryClient,w);G_(i,r,E.au);const M=new Tx(e,r,p);return i.Tu.set(e,M),i.Iu.has(r)?i.Iu.get(r).push(e):i.Iu.set(r,[e]),E.snapshot}async function xx(i,e,r){const a=Ot(i),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((p=>!gh(p,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ap(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),r&&Bp(a.remoteStore,l.targetId),lp(a,l.targetId)})).catch(nu)):(lp(a,l.targetId),await ap(a.localStore,l.targetId,!0))}async function Nx(i,e){const r=Ot(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Bp(r.remoteStore,a.targetId))}async function Mx(i,e,r){const a=Ux(i);try{const l=await(function(p,b){const w=Ot(p),E=Kn.now(),M=b.reduce(((ae,B)=>ae.add(B.key)),Jt());let O,q;return w.persistence.runTransaction("Locally write mutations","readwrite",(ae=>{let B=ks(),Oe=Jt();return w.Ns.getEntries(ae,M).next((Te=>{B=Te,B.forEach(((ze,U)=>{U.isValidDocument()||(Oe=Oe.add(ze))}))})).next((()=>w.localDocuments.getOverlayedDocuments(ae,B))).next((Te=>{O=Te;const ze=[];for(const U of b){const Le=HR(U,O.get(U.key).overlayedDocument);Le!=null&&ze.push(new el(U.key,Le,_E(Le.value.mapValue),Is.exists(!0)))}return w.mutationQueue.addMutationBatch(ae,E,ze,b)})).next((Te=>{q=Te;const ze=Te.applyToLocalDocumentSet(O,Oe);return w.documentOverlayCache.saveOverlays(ae,Te.batchId,ze)}))})).then((()=>({batchId:q.batchId,changes:ME(O)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new Zn($t)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(a,l.batchId,r),await _c(a,l.changes),await Th(a.remoteStore)}catch(l){const c=Gp(l,"Failed to persist write");r.reject(c)}}async function h1(i,e){const r=Ot(i);try{const a=await jI(r.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=r.Au.get(c);p&&(An(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?An(p.hu,14607):l.removedDocuments.size>0&&(An(p.hu,42227),p.hu=!1))})),await _c(r,a,e)}catch(a){await nu(a)}}function q_(i,e,r){const a=Ot(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=Ot(p);w.onlineState=b;let E=!1;w.queries.forEach(((M,O)=>{for(const q of O.Sa)q.va(b)&&(E=!0)})),E&&Yp(w)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Dx(i,e,r){const a=Ot(i);a.sharedClientState.updateQueryState(e,"rejected",r);const l=a.Au.get(e),c=l&&l.key;if(c){let p=new Zn(vt.comparator);p=p.insert(c,mi.newNoDocument(c,Mt.min()));const b=Jt().add(c),w=new bh(Mt.min(),new Map,new Zn($t),p,b);await h1(a,w),a.du=a.du.remove(c),a.Au.delete(e),Xp(a)}else await ap(a.localStore,e,!1).then((()=>lp(a,e,r))).catch(nu)}async function Ox(i,e){const r=Ot(i),a=e.batch.batchId;try{const l=await BI(r.localStore,e);m1(r,a,null),d1(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await _c(r,l)}catch(l){await nu(l)}}async function kx(i,e,r){const a=Ot(i);try{const l=await(function(p,b){const w=Ot(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let M;return w.mutationQueue.lookupMutationBatch(E,b).next((O=>(An(O!==null,37113),M=O.keys(),w.mutationQueue.removeMutationBatch(E,O)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,M,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,M))).next((()=>w.localDocuments.getDocuments(E,M)))}))})(a.localStore,e);m1(a,e,r),d1(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),await _c(a,l)}catch(l){await nu(l)}}function d1(i,e){(i.mu.get(e)||[]).forEach((r=>{r.resolve()})),i.mu.delete(e)}function m1(i,e,r){const a=Ot(i);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(r?c.reject(r):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function lp(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),r&&i.Pu.yu(a,r);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||p1(i,a)}))}function p1(i,e){i.Eu.delete(e.path.canonicalString());const r=i.du.get(e);r!==null&&(Bp(i.remoteStore,r),i.du=i.du.remove(e),i.Au.delete(r),Xp(i))}function G_(i,e,r){for(const a of r)a instanceof u1?(i.Ru.addReference(a.key,e),Vx(i,a)):a instanceof c1?(at(Wp,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||p1(i,a.key)):At(19791,{wu:a})}function Vx(i,e){const r=e.key,a=r.path.canonicalString();i.du.get(r)||i.Eu.has(a)||(at(Wp,"New document in limbo: "+r),i.Eu.add(a),Xp(i))}function Xp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const r=new vt(jn.fromString(e)),a=i.fu.next();i.Au.set(a,new Ax(r)),i.du=i.du.insert(r,a),r1(i.remoteStore,new po(es(CE(r.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function _c(i,e,r){const a=Ot(i),l=[],c=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,w)=>{p.push(a.pu(w,e,r).then((E=>{if((E||r)&&a.isPrimaryClient){const M=E?!E.fromCache:r?.targetChanges.get(w.targetId)?.current;a.sharedClientState.updateQueryState(w.targetId,M?"current":"not-current")}if(E){l.push(E);const M=Up.As(w.targetId,E);c.push(M)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(w,E){const M=Ot(w);try{await M.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>Ie.forEach(E,(q=>Ie.forEach(q.Es,(ae=>M.persistence.referenceDelegate.addReference(O,q.targetId,ae))).next((()=>Ie.forEach(q.ds,(ae=>M.persistence.referenceDelegate.removeReference(O,q.targetId,ae)))))))))}catch(O){if(!ru(O))throw O;at(zp,"Failed to update sequence numbers: "+O)}for(const O of E){const q=O.targetId;if(!O.fromCache){const ae=M.Ms.get(q),B=ae.snapshotVersion,Oe=ae.withLastLimboFreeSnapshotVersion(B);M.Ms=M.Ms.insert(q,Oe)}}})(a.localStore,c))}async function Px(i,e){const r=Ot(i);if(!r.currentUser.isEqual(e)){at(Wp,"User change. New user:",e.toKey());const a=await ZE(r.localStore,e);r.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new et(Re.CANCELLED,p))}))})),c.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await _c(r,a.Ls)}}function Lx(i,e){const r=Ot(i),a=r.Au.get(e);if(a&&a.hu)return Jt().add(a.key);{let l=Jt();const c=r.Iu.get(e);if(!c)return l;for(const p of c){const b=r.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function g1(i){const e=Ot(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dx.bind(null,e),e.Pu.H_=_x.bind(null,e.eventManager),e.Pu.yu=bx.bind(null,e.eventManager),e}function Ux(i){const e=Ot(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ox.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kx.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return zI(this.persistence,new PI,e.initialUser,this.serializer)}Cu(e){return new JE(Lp.mi,this.serializer)}Du(e){return new YI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class zx extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){An(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new EI(a,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new JE((a=>ih.mi(a,r)),this.serializer)}}class up{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>q_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Px.bind(null,this.syncEngine),await mx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gx})()}createDatastore(e){const r=Eh(e.databaseInfo.databaseId),a=(function(c){return new $I(c)})(e.databaseInfo);return(function(c,p,b,w){return new tx(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,a,r)}createRemoteStore(e){return(function(a,l,c,p,b){return new rx(a,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(r=>q_(this.syncEngine,r,0)),(function(){return U_.v()?new U_:new WI})())}createSyncEngine(e,r){return(function(l,c,p,b,w,E,M){const O=new Sx(l,c,p,b,w,E);return M&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const a=Ot(r);at($o,"RemoteStore shutting down."),a.Ea.add(5),await vc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}up.provider={build:()=>new up};class Bx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}const Ro="FirestoreClient";class jx{constructor(e,r,a,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=di.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async p=>{at(Ro,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(at(Ro,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const a=Gp(r,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Om(i,e){i.asyncQueue.verifyOperationInProgress(),at(Ro,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let a=r.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ZE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Y_(i,e){i.asyncQueue.verifyOperationInProgress();const r=await Fx(i);at(Ro,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener((a=>B_(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>B_(e.remoteStore,l))),i._onlineComponents=e}async function Fx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){at(Ro,"Using user provided OfflineComponentProvider");try{await Om(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Re.FAILED_PRECONDITION||l.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;Yl("Error using user provided cache. Falling back to memory cache: "+r),await Om(i,new sh)}}else at(Ro,"Using default OfflineComponentProvider"),await Om(i,new zx(void 0));return i._offlineComponents}async function y1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(at(Ro,"Using user provided OnlineComponentProvider"),await Y_(i,i._uninitializedComponentsProvider._online)):(at(Ro,"Using default OnlineComponentProvider"),await Y_(i,new up))),i._onlineComponents}function Hx(i){return y1(i).then((e=>e.syncEngine))}async function qx(i){const e=await y1(i),r=e.eventManager;return r.onListen=Cx.bind(null,e.syncEngine),r.onUnlisten=xx.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Rx.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Nx.bind(null,e.syncEngine),r}function Gx(i,e,r={}){const a=new bo;return i.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,w,E){const M=new Bx({next:q=>{M.Nu(),p.enqueueAndForget((()=>vx(c,O))),q.fromCache&&w.source==="server"?E.reject(new et(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(q)},error:q=>E.reject(q)}),O=new Ex(b,M,{includeMetadataChanges:!0,qa:!0});return yx(c,O)})(await qx(i),i.asyncQueue,e,r,a))),a.promise}function v1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const W_=new Map;const _1="firestore.googleapis.com",X_=!0;class K_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_1,this.ssl=X_}else this.host=e.host,this.ssl=e.ssl??X_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$E;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_I)throw new et(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new et(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new et(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new et(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,r,a,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new YC;switch(a.type){case"firstParty":return new QC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new et(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const a=W_.get(r);a&&(at("ComponentProvider","Removing Datastore"),W_.delete(r),a.terminate())})(this),Promise.resolve()}}function Yx(i,e,r,a={}){i=Kf(i,Ah);const l=Jl(e),c=i._getSettings(),p={...c,emulatorOptions:i._getEmulatorOptions()},b=`${e}:${r}`;l&&(pb(`https://${b}`),gb("Firestore",!0)),c.host!==_1&&c.host!==b&&Yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:a};if(!Wo(w,p)&&(i._setSettings(w),a.mockUserToken)){let E,M;if(typeof a.mockUserToken=="string")E=a.mockUserToken,M=di.MOCK_USER;else{E=pA(a.mockUserToken,i._app?.options.projectId);const O=a.mockUserToken.sub||a.mockUserToken.user_id;if(!O)throw new et(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new di(O)}i._authCredentials=new WC(new oE(E,M))}}class Io{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class Vr{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}toJSON(){return{type:Vr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,a){if(pc(r,Vr._jsonSchema))return new Vr(e,a||null,new vt(jn.fromString(r.referencePath)))}}Vr._jsonSchemaVersion="firestore/documentReference/1.0",Vr._jsonSchema={type:wr("string",Vr._jsonSchemaVersion),referencePath:wr("string")};class Eo extends Io{constructor(e,r,a){super(e,r,CE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new vt(e))}withConverter(e){return new Eo(this.firestore,e,this._path)}}function kl(i,e,...r){if(i=ua(i),lE("collection","path",e),i instanceof Ah){const a=jn.fromString(e,...r);return l_(a),new Eo(i,null,a)}{if(!(i instanceof Vr||i instanceof Eo))throw new et(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(jn.fromString(e,...r));return l_(a),new Eo(i.firestore,null,a)}}function Wx(i,e,...r){if(i=ua(i),arguments.length===1&&(e=Cp.newId()),lE("doc","path",e),i instanceof Ah){const a=jn.fromString(e,...r);return o_(a),new Vr(i,null,new vt(a))}{if(!(i instanceof Vr||i instanceof Eo))throw new et(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(jn.fromString(e,...r));return o_(a),new Vr(i.firestore,i instanceof Eo?i.converter:null,new vt(a))}}const Q_="AsyncQueue";class $_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t1(this,"async_queue_retry"),this._c=()=>{const a=Dm();a&&at(Q_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const r=Dm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Dm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new bo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ru(e))throw e;at(Q_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",J_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=r,r}enqueueAfterDelay(e,r,a){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const l=qp.createAndSchedule(this,e,r,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&At(47125,{Pc:J_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,a)=>r.targetTimeMs-a.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function J_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Kp extends Ah{constructor(e,r,a,l){super(e,r,a,l),this.type="firestore",this._queue=new $_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $_(e),this._firestoreClient=void 0,await e}}}function Xx(i,e){const r=typeof i=="object"?i:bb(),a=typeof i=="string"?i:$f,l=gp(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=dA("firestore");c&&Yx(l,...c)}return l}function b1(i){if(i._terminated)throw new et(Re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Kx(i),i._firestoreClient}function Kx(i){const e=i._freezeSettings(),r=(function(l,c,p,b){return new mR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,v1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new jx(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(ti.fromBase64String(e))}catch(r){throw new et(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Na(ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Na._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pc(e,Na._jsonSchema))return Na.fromBase64String(e.bytes)}}Na._jsonSchemaVersion="firestore/bytes/1.0",Na._jsonSchema={type:wr("string",Na._jsonSchemaVersion),bytes:wr("string")};class Qp{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new et(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class E1{constructor(e){this._methodName=e}}class ns{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new et(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new et(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(e){if(pc(e,ns._jsonSchema))return new ns(e.latitude,e.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:wr("string",ns._jsonSchemaVersion),latitude:wr("number"),longitude:wr("number")};class rs{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pc(e,rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new rs(e.vectorValues);throw new et(Re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:wr("string",rs._jsonSchemaVersion),vectorValues:wr("object")};const Qx=/^__.*__$/;class $x{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return this.fieldMask!==null?new el(e,this.data,this.fieldMask,r,this.fieldTransforms):new gc(e,this.data,r,this.fieldTransforms)}}function w1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:i})}}class $p{constructor(e,r,a,l,c,p){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.gc(e),a}yc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(w1(this.Ac)&&Qx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jx{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||Eh(e)}Cc(e,r,a,l=!1){return new $p({Ac:e,methodName:r,Dc:a,path:ei.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T1(i){const e=i._freezeSettings(),r=Eh(i._databaseId);return new Jx(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Zx(i,e,r,a,l,c={}){const p=i.Cc(c.merge||c.mergeFields?2:0,e,r,l);C1("Data must be an object, but it was:",p,a);const b=A1(a,p);let w,E;if(c.merge)w=new za(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const M=[];for(const O of c.mergeFields){const q=tN(e,O,r);if(!p.contains(q))throw new et(Re.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);rN(M,q)||M.push(q)}w=new za(M),E=p.fieldTransforms.filter((O=>w.covers(O.field)))}else w=null,E=p.fieldTransforms;return new $x(new xa(b),w,E)}function eN(i,e,r,a=!1){return Jp(r,i.Cc(a?4:3,e))}function Jp(i,e){if(S1(i=ua(i)))return C1("Unsupported field value:",e,i),A1(i,e);if(i instanceof E1)return(function(a,l){if(!w1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let p=0;for(const b of a){let w=Jp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(i,e)}return(function(a,l){if((a=ua(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return LR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Kn.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof Kn){const c=new Kn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof ns)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Na)return{bytesValue:qE(l.serializer,a._byteString)};if(a instanceof Vr){const c=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof rs)return(function(p,b){return{mapValue:{fields:{[yE]:{stringValue:vE},[Jf]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return Dp(b.serializer,E)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${hh(a)}`)})(i,e)}function A1(i,e){const r={};return fE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(i,((a,l)=>{const c=Jp(l,e.mc(a));c!=null&&(r[a]=c)})),{mapValue:{fields:r}}}function S1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Kn||i instanceof ns||i instanceof Na||i instanceof Vr||i instanceof E1||i instanceof rs)}function C1(i,e,r){if(!S1(r)||!uE(r)){const a=hh(r);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function tN(i,e,r){if((e=ua(e))instanceof Qp)return e._internalPath;if(typeof e=="string")return R1(i,e);throw oh("Field path arguments must be of type string or ",i,!1,void 0,r)}const nN=new RegExp("[~\\*/\\[\\]]");function R1(i,e,r){if(e.search(nN)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Qp(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function oh(i,e,r,a,l){const c=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${a}`),p&&(w+=` in document ${l}`),w+=")"),new et(Re.INVALID_ARGUMENT,b+i+w)}function rN(i,e){return i.some((r=>r.isEqual(e)))}class I1{constructor(e,r,a,l,c){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Sh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class iN extends I1{data(){return super.data()}}function Sh(i,e){return typeof e=="string"?R1(i,e):e instanceof Qp?e._internalPath:e._delegate._internalPath}function aN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new et(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class eg extends Zp{}function cp(i,e,...r){let a=[];e instanceof Zp&&a.push(e),a=a.concat(r),(function(c){const p=c.filter((w=>w instanceof tg)).length,b=c.filter((w=>w instanceof Ch)).length;if(p>1||p>0&&b>0)throw new et(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)i=l._apply(i);return i}class Ch extends eg{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new Ch(e,r,a)}_apply(e){const r=this._parse(e);return x1(e._query,r),new Io(e.firestore,e.converter,ep(e._query,r))}_parse(e){const r=T1(e.firestore);return(function(c,p,b,w,E,M,O){let q;if(E.isKeyField()){if(M==="array-contains"||M==="array-contains-any")throw new et(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if(M==="in"||M==="not-in"){eb(O,M);const B=[];for(const Oe of O)B.push(Z_(w,c,Oe));q={arrayValue:{values:B}}}else q=Z_(w,c,O)}else M!=="in"&&M!=="not-in"&&M!=="array-contains-any"||eb(O,M),q=eN(b,p,O,M==="in"||M==="not-in");return Er.create(E,M,q)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Ul(i,e,r){const a=e,l=Sh("where",i);return Ch._create(l,a,r)}class tg extends Zp{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new tg(e,r)}_parse(e){const r=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return r.length===1?r[0]:Ba.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)x1(p,w),p=ep(p,w)})(e._query,r),new Io(e.firestore,e.converter,ep(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends eg{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new ng(e,r)}_apply(e){const r=(function(l,c,p){if(l.startAt!==null)throw new et(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new et(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ac(c,p)})(e._query,this._field,this._direction);return new Io(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new iu(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,r))}}function lo(i,e="asc"){const r=e,a=Sh("orderBy",i);return ng._create(a,r)}class rg extends eg{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new rg(e,r,a)}_apply(e){return new Io(e.firestore,e.converter,eh(e._query,this._limit,this._limitType))}}function Ju(i){return rR("limit",i),rg._create("limit",i,"F")}function Z_(i,e,r){if(typeof(r=ua(r))=="string"){if(r==="")throw new et(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RE(e)&&r.indexOf("/")!==-1)throw new et(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(jn.fromString(r));if(!vt.isDocumentKey(a))throw new et(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return g_(i,new vt(a))}if(r instanceof Vr)return g_(i,r._key);throw new et(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(r)}.`)}function eb(i,e){if(!Array.isArray(i)||i.length===0)throw new et(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x1(i,e){const r=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new et(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class sN{convertValue(e,r="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw At(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return Jo(e,((l,c)=>{a[l]=this.convertValue(c,r)})),a}convertVectorValue(e){const r=e.fields?.[Jf].arrayValue?.values?.map((a=>hr(a.doubleValue)));return new rs(r)}convertGeoPoint(e){return new ns(hr(e.latitude),hr(e.longitude))}convertArray(e,r){return(e.values||[]).map((a=>this.convertValue(a,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const a=ph(e);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const r=To(e);return new Kn(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=jn.fromString(e);An(QE(a),9688,{name:e});const l=new rc(a.get(1),a.get(3)),c=new vt(a.popFirst(5));return l.isEqual(r)||Os(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}function oN(i,e,r){let a;return a=i?i.toFirestore(e):e,a}class xf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hl extends I1{constructor(e,r,a,l,c,p){super(e,r,a,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(Sh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Hl._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Hl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hl._jsonSchema={type:wr("string",Hl._jsonSchemaVersion),bundleSource:wr("string","DocumentSnapshot"),bundleName:wr("string"),bundle:wr("string")};class Bf extends Hl{data(e={}){return super.data(e)}}class ql{constructor(e,r,a,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new xf(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((a=>{e.call(r,new Bf(this._firestore,this._userDataWriter,a.key,a,new xf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new et(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Bf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new xf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Bf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new xf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,M=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),M=p.indexOf(b.doc.key)),{type:lN(b.type),doc:w,oldIndex:E,newIndex:M}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(r.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:i})}}ql._jsonSchemaVersion="firestore/querySnapshot/1.0",ql._jsonSchema={type:wr("string",ql._jsonSchemaVersion),bundleSource:wr("string","QuerySnapshot"),bundleName:wr("string"),bundle:wr("string")};class uN extends sN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,r)}}function fp(i){i=Kf(i,Io);const e=Kf(i.firestore,Kp),r=b1(e),a=new uN(e);return aN(i._query),Gx(r,i._query).then((l=>new ql(e,a,i,l)))}function km(i,e){const r=Kf(i.firestore,Kp),a=Wx(i),l=oN(i.converter,e);return cN(r,[Zx(T1(i.firestore),"addDoc",a._key,l,i.converter!==null,{}).toMutation(a._key,Is.exists(!1))]).then((()=>a))}function cN(i,e){return(function(a,l){const c=new bo;return a.asyncQueue.enqueueAndForget((async()=>Mx(await Hx(a),l,c))),c.promise})(b1(i),e)}(function(e,r=!0){(function(l){tu=l})(Zl),Gl(new Xo("firestore",((a,{instanceIdentifier:l,options:c})=>{const p=a.getProvider("app").getImmediate(),b=new Kp(new XC(a.getProvider("auth-internal")),new $C(p,a.getProvider("app-check-internal")),(function(E,M){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new et(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(E.options.projectId,M)})(p,l),p);return c={useFetchStreams:r,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),vo(r_,i_,e),vo(r_,i_,"esm2020")})();const fN={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},hN=typeof __firebase_config<"u"?JSON.parse(__firebase_config):fN,N1=_b(hN),Vm=qC(N1),Vl=Xx(N1),hp=typeof __app_id<"u"?__app_id:"long-jump-game",Pm={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWild:"#ffd700",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000",modalBg:"#ffffff",settingsBg:"#ffffff",handBg:"#dcd8cc",christmasRed:"#dc2626",christmasGreen:"#166534"},dN={background:"#111827",boardBackground:"#1f2937",boardLines:"#374151",tileLocked:"#374151",tileLockedText:"#f3f4f6",tileTemp:"#854d0e",tileTempRing:"#ca8a04",tileWild:"#b45309",tileWildPlaced:"#78350f",tileObstacle:"#000000",accentPrimary:"#65a30d",accentSecondary:"#4d7c0f",textMain:"#f9fafb",textSub:"#9ca3af",starGold:"#fbbf24",starPurple:"#c084fc",overlayComplete:"#1f2937",startArrow:"#ffffff",modalBg:"#1f2937",settingsBg:"#111827",handBg:"#1f2937",christmasRed:"#991b1b",christmasGreen:"#14532d"},Ra=5,dp=50,M1=30,La=40,D1={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},tb=new Set(["SANTA","CLAUS","ELF","ELVES","REINDEER","RUDOLPH","SLEIGH","SNOW","SNOWMAN","WINTER","COLD","ICE","ICY","FROST","FROSTY","NORTH","POLE","GIFT","PRESENT","TOY","TOYS","BOX","RIBBON","BOW","TREE","PINE","FIR","STAR","ANGEL","BELL","BELLS","JINGLE","RING","CAROL","SONG","MUSIC","CHOIR","MERRY","HAPPY","JOLLY","JOY","PEACE","LOVE","HOPE","NOEL","XMAS","YULE","LOG","FIRE","HEARTH","STOCKING","SOCK","CANDY","CANE","SWEET","COOKIE","MILK","FEAST","DINNER","TURKEY","HAM","PIE","CAKE","PUDDING","FAMILY","FRIEND","GUEST","PARTY","EVE","NIGHT","MORNING","DAY","DECEMBER","CHRIST","JESUS","MARY","JOSEPH","MANGER","STABLE","DONKEY","SHEEP","CAMEL","WISE","MEN","KING","GOLD","MYRRH","WREATH","HOLLY","IVY","MISTLETOE","LIGHT","LIGHTS","SHINE","GLOW","TWINKLE","SPIRIT","MAGIC","WISH","LIST","NAUGHTY","NICE","COAL","SCROOGE","GRINCH","WHO","SLED","SKI","SKATE","SCARF","MITTEN","GLOVE","COAT","HAT","BOOT","WOOL","WARM","COZY","HUG","KISS","CARD","PAPER","WRAP","TAG","BAG","SACK","CHIMNEY","ROOF","HOOF","PAW","RED","GREEN","WHITE","GOLD","SILVER"]),mN=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),nb=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire","Jolly","Snowy"],rb=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird","Elf","Deer"],ib=(i=dp)=>Array(Ra).fill(null).map(()=>Array(i).fill(null)),xl=(i,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:i,isNew:e,isPlaced:!1}),O1=i=>{const e=["th","st","nd","rd"],r=i%100;return i+(e[(r-20)%10]||e[r]||e[0])},pN=i=>{const e=new Date(i),r=e.getDate(),a=e.toLocaleDateString("en-GB",{month:"short"});return`${O1(r)} ${a}`},Rh=i=>function(){var e=i+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Ih=i=>{let e=1779033703,r=3144134277,a=1013904242,l=2773480762;for(let c=0,p;c<i.length;c++)p=i.charCodeAt(c),e=r^Math.imul(e^p,597399067),r=a^Math.imul(r^p,2869860233),a=l^Math.imul(a^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(a^e>>>18,597399067),r=Math.imul(l^r>>>22,2869860233),a=Math.imul(e^a>>>17,951274213),l=Math.imul(r^l>>>19,2716044179),(e^r^a^l)>>>0},gN=()=>new Date().toISOString().split("T")[0],yN=(i,e,r)=>{const a=Ih(i),l=Rh(a),c=[],p=Math.floor(e*.3),b=new Set;for(;c.length<p;){const w=Math.floor(l()*Ra),E=Math.floor(l()*e);if(E===0)continue;const M=`${w},${E}`;if(!b.has(M)){b.add(M);const O=l();let q=1,ae="star";r==="christmas"?O>.8?(ae="gift_large",q=3):O>.5?(ae="gift_medium",q=2):(ae="gift_small",q=1):(O>.5&&(q=2),O>.8&&(q=3)),c.push({r:w,c:E,val:q,type:ae})}}return c},vN=(i,e)=>{const r=Ih(i+"OBSTACLES"),a=Rh(r),l=[],c=Math.floor(e*.1),p=new Set;for(;l.length<c;){const b=Math.floor(a()*Ra),w=Math.floor(a()*e);if(w===0)continue;const E=`${b},${w}`;p.has(E)||(p.add(E),l.push({r:b,c:w}))}return l},_N=(i,e,r)=>{const a=Ih(i+"WILDCARDS_V3"),l=Rh(a),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*Ra),w=5,E=Math.min(29,r-2);if(E<=w)break;const M=Math.floor(l()*(E-w+1))+w;if(!e.some(O=>O.r===b&&O.c===M)){c.push({r:b,c:M});break}p++}for(p=0;p<100;){const b=Math.floor(l()*Ra),w=30,E=r-5,M=Math.floor(l()*(E-w+1))+w;if(!e.some(O=>O.r===b&&O.c===M)){c.push({r:b,c:M});break}p++}return c},bN=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],EN=i=>{const e=Ih(i),r=Rh(e);let a=[];Object.entries(D1).forEach(([b,w])=>{for(let E=0;E<w;E++)a.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(a);for(let b=l.length-1;b>0;b--){const w=Math.floor(r()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=M1;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(r()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},wN=i=>{const e=new Date().toISOString().split("T")[0],r=JSON.parse(localStorage.getItem("longJumpStats"))||{gamesPlayed:0,currentStreak:0,maxStreak:0,totalDistance:0,lastPlayedDate:null};let{gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:b}=r;if(a+=1,p+=i,b!==e){const E=new Date;E.setDate(E.getDate()-1);const M=E.toISOString().split("T")[0];b===M?l+=1:l=1}l>c&&(c=l);const w={gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:e};return localStorage.setItem("longJumpStats",JSON.stringify(w)),w},ab=()=>{const i=nb[Math.floor(Math.random()*nb.length)],e=rb[Math.floor(Math.random()*rb.length)],r=Math.floor(Math.random()*90)+10;return`${i}${e}${r}`},Lm=i=>{if(i.length<=1)return!0;const e=i[0].r,r=i[0].c;return i.every(a=>a.r===e)||i.every(a=>a.c===r)},Pl={ctx:null,init:()=>{Pl.ctx||(Pl.ctx=new(window.AudioContext||window.webkitAudioContext))},play:i=>{Pl.ctx||Pl.init();const e=Pl.ctx,r=e.createOscillator(),a=e.createGain();r.connect(a),a.connect(e.destination);const l=e.currentTime,c=.5+Math.random();i==="pop"?(r.type="triangle",r.frequency.setValueAtTime(600*c,l),r.frequency.exponentialRampToValueAtTime(100*c,l+.15),a.gain.setValueAtTime(.5,l),a.gain.exponentialRampToValueAtTime(.01,l+.15),r.start(l),r.stop(l+.15)):i==="success"?(r.type="sine",r.frequency.setValueAtTime(400*c,l),r.frequency.setValueAtTime(600*c,l+.1),a.gain.setValueAtTime(.3,l),a.gain.linearRampToValueAtTime(0,l+.3),r.start(l),r.stop(l+.3)):i==="error"?(r.type="sawtooth",r.frequency.setValueAtTime(150,l),r.frequency.linearRampToValueAtTime(100,l+.2),a.gain.setValueAtTime(.5,l),a.gain.linearRampToValueAtTime(0,l+.2),r.start(l),r.stop(l+.2)):i==="click"?(r.type="square",r.frequency.setValueAtTime(800,l),a.gain.setValueAtTime(.1,l),a.gain.exponentialRampToValueAtTime(.01,l+.05),r.start(l),r.stop(l+.05)):i==="fanfare"&&(r.type="square",r.frequency.setValueAtTime(261.63,l),r.frequency.setValueAtTime(329.63,l+.1),r.frequency.setValueAtTime(392,l+.2),r.frequency.setValueAtTime(523.25,l+.3),a.gain.setValueAtTime(.2,l),a.gain.setValueAtTime(.2,l+.3),a.gain.exponentialRampToValueAtTime(.01,l+.8),r.start(l),r.stop(l+.8))}},TN=i=>{if(navigator.vibrate)switch(i){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(15);break;case"success":navigator.vibrate([10,30,10]);break;case"error":navigator.vibrate([50,20,50]);break;case"heavy":navigator.vibrate(50);break}},AN=({theme:i})=>{const e=Ve.useRef(null);return Ve.useEffect(()=>{const r=e.current;if(!r)return;const a=r.getContext("2d");let l=window.innerWidth,c=window.innerHeight;if(l===0||c===0)return;r.width=l,r.height=c;const p=[],b=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",i.accentPrimary];for(let O=0;O<150;O++)p.push({x:Math.random()*l,y:Math.random()*c-c,vx:Math.random()*2-1,vy:Math.random()*3+2,color:b[Math.floor(Math.random()*b.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let w;const E=()=>{!a||!r.width||!r.height||(a.clearRect(0,0,l,c),p.forEach(O=>{O.y+=O.vy,O.x+=O.vx+Math.sin(O.y/50),O.rotation+=O.rotationSpeed,O.y>c&&(O.y=-10,O.x=Math.random()*l),!(!Number.isFinite(O.x)||!Number.isFinite(O.y)||!Number.isFinite(O.rotation)||!Number.isFinite(O.size))&&(a.save(),a.translate(O.x,O.y),a.rotate(O.rotation*Math.PI/180),a.fillStyle=O.color,a.fillRect(-O.size/2,-O.size/2,O.size,O.size),a.restore())}),w=requestAnimationFrame(E))};E();const M=()=>{r&&(l=window.innerWidth,c=window.innerHeight,l>0&&c>0&&(r.width=l,r.height=c))};return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),w&&cancelAnimationFrame(w)}},[i]),C.createElement("canvas",{ref:e,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},sb=()=>{const{RiveComponent:i}=mo.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new mo.Layout({fit:mo.Fit.Contain,alignment:mo.Alignment.Center})});return C.createElement(i,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},ob=({trigger:i})=>{const{rive:e,RiveComponent:r}=mo.useRive({src:"fan.riv",autoplay:!0,layout:new mo.Layout({fit:mo.Fit.Contain,alignment:mo.Alignment.Center})});return Ve.useEffect(()=>{if(i&&e&&e.viewModelInstance)try{const a=e.viewModelInstance("View Model 1");if(a){const l=a.trigger("Celebrate");l&&l.fire()}}catch(a){console.warn("Rive trigger warning:",a)}},[i,e]),r?C.createElement("div",{style:{width:`${La}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"}},C.createElement("div",{style:{width:"39px",height:"60px"}},C.createElement(r,null))):null},Um=({highlightName:i,user:e,onRankFound:r,lastUpdated:a,initialMode:l="standard",onParCalculated:c,theme:p})=>{const[b,w]=Ve.useState([]),[E,M]=Ve.useState(!0),[O,q]=Ve.useState("daily"),[ae,B]=Ve.useState(l),[Oe,Te]=Ve.useState(null);Ve.useEffect(()=>{B(l)},[l]);const ze=async()=>{if(!e)return;M(!0),Te(null);const U=kl(Vl,"artifacts",hp,"public","data","scores"),Le=new Date,tt=Le.toISOString().split("T")[0],nt=Le.getDay(),ut=Le.getDate()-nt+(nt===0?-6:1),F=new Date(Le.setDate(ut)).toISOString().split("T")[0],P=new Date,I=new Date(P.getFullYear(),P.getMonth(),1).toISOString().split("T")[0];let L=[];ae==="christmas"&&L.push(Ul("mode","==","christmas")),O==="daily"?(L.push(Ul("date","==",tt)),L.push(lo("score","desc")),L.push(lo("timestamp","asc")),L.push(Ju(100))):O==="weekly"?(L.push(Ul("date",">=",F)),L.push(lo("date","desc")),L.push(lo("score","desc")),L.push(Ju(500))):(L.push(Ul("date",">=",I)),L.push(lo("date","desc")),L.push(lo("score","desc")),L.push(Ju(500)));try{const x=cp(U,...L),Z=await fp(x);if(Z.empty){w([]),M(!1),c&&O==="daily"&&c(25,ae);return}let se=Z.docs.map(G=>({id:G.id,...G.data()}));if(ae==="standard"&&(se=se.filter(G=>!G.mode||G.mode==="standard")),O==="daily"&&c){const Q=se.reduce((xe,z)=>xe+z.score,0)/se.length,me=Math.floor((25+Q)/2);c(me,ae)}if(O==="weekly"||O==="monthly"){const G=new Map;se.forEach(Q=>{const _e=G.get(Q.name);_e?(Q.score>_e.score||Q.score===_e.score&&Q.timestamp<_e.timestamp)&&G.set(Q.name,Q):G.set(Q.name,Q)}),se=Array.from(G.values()),se.sort((Q,_e)=>_e.score!==Q.score?_e.score-Q.score:Q.timestamp-_e.timestamp),se=se.slice(0,100)}if(w(se),M(!1),i&&r){const G=se.findIndex(Q=>Q.name===i);G!==-1&&r(G+1)}}catch(x){console.error(" FIRESTORE ERROR:",x),Te(x.message),M(!1)}};return Ve.useEffect(()=>{ze()},[e,O,ae,i,a]),C.createElement("div",{className:"rounded-2xl p-4 shadow-xl border w-full h-full flex flex-col relative transition-colors duration-300",style:{backgroundColor:p.modalBg+"DD",borderColor:p.boardLines}},Oe&&Oe.includes("index")&&C.createElement("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-4 text-center bg-white/90"},C.createElement(TT,{className:"text-red-500 mb-2",size:32}),C.createElement("p",{className:"text-xs font-bold text-red-600 mb-2"},"DATABASE INDEX MISSING"),C.createElement("button",{onClick:ze,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold"},"Retry")),C.createElement("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b shrink-0",style:{borderColor:p.boardLines}},C.createElement("div",{className:"flex items-center justify-between"},C.createElement("div",{className:"flex items-center gap-2"},C.createElement(zm,{size:20,className:"text-yellow-500"}),C.createElement("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:p.textSub}},O==="daily"?"Today's Top":O==="weekly"?"Weekly Best":"Monthly Best")),C.createElement("div",{className:"flex rounded-lg p-1",style:{backgroundColor:p.boardLines}},C.createElement("button",{onClick:()=>q("daily"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Daily"),C.createElement("button",{onClick:()=>q("weekly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Weekly"),C.createElement("button",{onClick:()=>q("monthly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="monthly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Monthly"))),C.createElement("div",{className:"flex justify-center"},C.createElement("div",{className:"flex rounded-lg p-1 w-full",style:{backgroundColor:p.boardLines}},C.createElement("button",{onClick:()=>B("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${ae==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Standard"),C.createElement("button",{onClick:()=>B("christmas"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${ae==="christmas"?"bg-red-600 shadow-sm text-white":"text-gray-400 hover:text-gray-600"}`},"Christmas")))),C.createElement("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1"},E?C.createElement("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse"},"Loading..."):b.length===0?C.createElement("div",{className:"text-center py-8 text-gray-400 text-sm italic"},"No scores yet.",C.createElement("br",null),"Be the first!"):C.createElement("div",{className:"space-y-1"},b.map((U,Le)=>{const nt=U.score>=40;let ut="";return O==="weekly"?ut=new Date(U.date).toLocaleDateString(void 0,{weekday:"short"}):O==="monthly"&&(ut=pN(U.date)),C.createElement("div",{key:Le,className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${U.name===i?`bg-[${p.accentPrimary}]/10 border-[${p.accentPrimary}]/20`:nt?"bg-amber-100 border-amber-300":"hover:bg-white/10 border-transparent"}`,style:U.name!==i&&!nt?{borderColor:"transparent"}:{}},C.createElement("div",{className:"flex items-center gap-2"},C.createElement("span",{className:`font-black w-5 text-center ${Le===0?"text-yellow-600 text-lg":Le===1?"text-gray-500 text-base":Le===2?"text-orange-700 text-base":"text-gray-500"}`},Le+1),C.createElement("div",{className:"flex items-center gap-1 overflow-hidden"},nt&&C.createElement(zm,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),C.createElement("span",{className:`font-bold truncate max-w-[90px] ${U.name===i?"":nt?"text-amber-900":""}`,style:{color:U.name===i?p.textMain:nt?"#78350f":p.textMain}},U.name),ut&&C.createElement("span",{className:"text-[9px] font-normal ml-1 border-l pl-1",style:{color:p.textSub,borderColor:p.boardLines}},ut))),C.createElement("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${nt?"bg-amber-200 text-amber-900":"bg-gray-100 text-gray-900"}`},U.score,"m"))}))))};function SN(){const[i,e]=Ve.useState("menu"),[r,a]=Ve.useState("standard"),[l,c]=Ve.useState(()=>localStorage.getItem("longJumpPlayerName")||ab()),[p,b]=Ve.useState(!1),[w,E]=Ve.useState(!1),[M,O]=Ve.useState(()=>{const W=localStorage.getItem("longJumpShowFans");return W===null?!0:W!=="false"}),[q,ae]=Ve.useState(()=>{const W=localStorage.getItem("longJumpSound");return W===null?!0:W!=="false"}),[B,Oe]=Ve.useState(()=>{const W=localStorage.getItem("longJumpHaptics");return W===null?!0:W!=="false"}),[Te,ze]=Ve.useState(()=>localStorage.getItem("longJumpDarkMode")==="true"),U=Te?dN:Pm,[Le,tt]=Ve.useState(!1),[nt,ut]=Ve.useState(null),[Y,F]=Ve.useState(!1),[P,H]=Ve.useState(!1),[I,L]=Ve.useState(null),[x,Z]=Ve.useState([]),[se,G]=Ve.useState(new Set),Q=(W,te)=>{G(de=>{const ye=new Set(de);return ye.has(W)?(ye.delete(W),mn("click")):ye.size<te?(ye.add(W),mn("click")):mn("error"),ye})},_e=()=>{const W=x.filter((te,de)=>se.has(de));Da(W),G(new Set)},[me,xe]=Ve.useState(!1),[z,oe]=Ve.useState(new Set),[Se,Ae]=Ve.useState(null);Ve.useEffect(()=>{window.addEventListener("beforeinstallprompt",W=>{W.preventDefault(),Ae(W)})},[]);const Ne=()=>{Se&&(Se.prompt(),Se.userChoice.then(W=>{W.outcome==="accepted"&&console.log("User accepted the install prompt"),Ae(null)}))},[Ye,mt]=Ve.useState(""),[ft,Et]=Ve.useState("idle"),kt=async()=>{if(Ye.trim()){Et("submitting");try{const W=kl(Vl,"suggestions");await km(W,{text:Ye,player:l,date:new Date().toISOString(),version:"9.01"}),Et("success"),mt(""),setTimeout(()=>Et("idle"),3e3)}catch(W){console.error("Error submitting suggestion:",W),Et("idle"),rn({text:"Could not send suggestion. Try again.",type:"error"})}}},[ht,pt]=Ve.useState(()=>ib(dp)),[wt,Ct]=Ve.useState([]),[Ut,Fn]=Ve.useState([]),[ar,ln]=Ve.useState(0),[st,nn]=Ve.useState(!1),[Sn,Xi]=Ve.useState([]),[Hn,Ht]=Ve.useState(0),[Dn,R]=Ve.useState([]),[g,v]=Ve.useState([]),[V,$]=Ve.useState([]),[ge,Me]=Ve.useState([]),[$e,Qe]=Ve.useState(null),[Ue,Fe]=Ve.useState(null),[ot,Zt]=Ve.useState([]),[St,Pn]=Ve.useState(0),[Ln,jt]=Ve.useState(0),[In,Un]=Ve.useState(null),[er,Pr]=Ve.useState(!1),[_t,qn]=Ve.useState(!1),[bt,rn]=Ve.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[sr,Ma]=Ve.useState(!1),[gi,yi]=Ve.useState(!1),[We,Ki]=Ve.useState(!1),[Rr,Lr]=Ve.useState(!1),[hn,Gn]=Ve.useState(!1),[an,vi]=Ve.useState(!1),[Ps,_i]=Ve.useState(!1),[Qi,Ir]=Ve.useState(!1),[tr,xr]=Ve.useState(null),[dr,Ur]=Ve.useState(null),[bi,On]=Ve.useState(!1),[$i,zr]=Ve.useState(null),[Nr,Br]=Ve.useState(25),[jr,ca]=Ve.useState(null),[ja,Fa]=Ve.useState(new Set),[Vi,mr]=Ve.useState(!1),_n=Ve.useRef({standard:25,christmas:25}),dn=Ve.useRef(null),[Mr,ni]=Ve.useState(!1),[en,Tr]=Ve.useState(0),[gt,pr]=Ve.useState(0),kn=ht.some(W=>W.some(te=>te!==null));Ve.useEffect(()=>{localStorage.setItem("longJumpPlayerName",l)},[l]),Ve.useEffect(()=>{localStorage.setItem("longJumpShowFans",M)},[M]),Ve.useEffect(()=>{localStorage.setItem("longJumpSound",q)},[q]),Ve.useEffect(()=>{localStorage.setItem("longJumpHaptics",B)},[B]),Ve.useEffect(()=>{localStorage.setItem("longJumpDarkMode",Te)},[Te]),Ve.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await N2(Vm,__initial_auth_token):await S2(Vm)})();const te=O2(Vm,Ur);return()=>te()},[]),Ve.useEffect(()=>{(async()=>{try{const te=cp(kl(Vl,"missing_words")),de=await fp(te),ye=new Set;de.forEach(Ee=>{Ee.data().word&&ye.add(Ee.data().word.toUpperCase())}),Fa(ye)}catch(te){console.error("Error loading missing words:",te)}})()},[]),Ve.useEffect(()=>{if(Ln===St)return;const W=500,te=performance.now(),de=Ln,ye=St,Ee=He=>{const Ge=He-te,Pe=Math.min(Ge/W,1),Ke=1-Math.pow(1-Pe,3),rt=Math.floor(de+(ye-de)*Ke);jt(rt),Pe<1&&requestAnimationFrame(Ee)};requestAnimationFrame(Ee)},[St]),Ve.useEffect(()=>{(async()=>{try{const te=kl(Vl,"artifacts",hp,"public","data","scores"),de=new Date().toISOString().split("T")[0];let ye=[Ul("date","==",de),lo("score","desc"),lo("timestamp","asc")];r==="christmas"?(ye.push(Ul("mode","==","christmas")),ye.push(Ju(1))):ye.push(Ju(50));const Ee=cp(te,...ye),He=await fp(Ee);let Ge=null;if(!He.empty){const Pe=He.docs.map(Ke=>Ke.data());r==="christmas"?Ge=Pe[0]:Ge=Pe.find(Ke=>!Ke.mode||Ke.mode==="standard")}zr(Ge||null)}catch(te){console.error("Error fetching leader:",te)}})()},[ar,r]);const Ji=Ve.useCallback((W,te)=>{(te==="christmas"||te==="standard")&&(_n.current[te]=W),Br(W)},[]),mn=W=>{q&&Pl.play(W==="light"?"pop":W),B&&TN(W)};Ve.useEffect(()=>{Zi("standard")},[]);const Zi=(W="standard")=>{const te=gN(),de=EN(te);Xi(de),a(W);const ye=dp,Ee=M1,Ge=de.slice(0,Ee).map(rt=>xl(rt,!1)).sort((rt,Nt)=>rt.letter.localeCompare(Nt.letter));Ct(Ge),Ht(Ee),pt(ib(ye)),Zt([]),Fn([]),Pn(0),jt(0),Un(null),Pr(!1),qn(!1),oe(new Set),R(yN(te,ye,W));const Pe=vN(te,ye);v(Pe),$(_N(te,Pe,ye)),Me(bN()),rn({text:"Goal: Get as far right as you can.",type:"neutral"}),vi(!1),yi(!1),Lr(!1),Gn(!1),On(!1),_i(!1),Ki(!1),nn(!1),Qe(null),Fe(null),b(!1),H(!1),xe(!1);const Ke=_n.current[W]||25;Br(Ke),Fe({r:2,c:0}),mr(!1),dn.current&&(dn.current.scrollLeft=0)},un=W=>{mn("click"),l.trim()||c(ab()),e("playing"),Zi(W),Lr(!0)},fa=()=>{mn("click"),e("menu"),Zi("standard")},Pi=()=>{if(mn("click"),Ut.length!==0){if(Vi){rn({text:"Already used Undo this turn!",type:"error"}),mn("error");return}F(!0)}},nr=()=>{const W=Ut[Ut.length-1],te=Ut.slice(0,-1);pt(W.grid),Pn(W.score),Ht(W.drawCount),W.christmasCells?oe(W.christmasCells):oe(new Set);const de=Array.from(new Map(W.hand.map(ye=>[ye.id,{...ye,isPlaced:!1}])).values());Ct(de),Fn(te),Zt([]),Qe(null),rn({text:"Move undone",type:"info"}),mr(!0),F(!1)},Fr=W=>{const te=W.toUpperCase();return[...wt].reverse().find(de=>de.letter===te&&!de.isPlaced)},ha=()=>{if(ot.length===0)return;mn("click");const te=[...ot].sort((Ge,Pe)=>Ge.r-Pe.r||Ge.c-Pe.c)[0],de=te?te.r:null,ye=te?te.c:null,He=ot.map(Ge=>Ge.isWild?"*":Ge.letter).map(Ge=>xl(Ge,!1));Ct(Ge=>[...Ge.filter(Ke=>!Ke.isPlaced),...He].sort((Ke,rt)=>Ke.letter!==rt.letter?Ke.letter.localeCompare(rt.letter):Ke.isNew===rt.isNew?0:Ke.isNew?1:-1)),Zt([]),Qe(null),de!==null&&ye!==null&&(Fe(null),setTimeout(()=>{Fe({r:de,c:ye})},10))},Hr=W=>{const te=ht[0].length;if(!Ue){Fe({r:2,c:St});return}let{r:de,c:ye}=Ue;W==="ArrowUp"&&(de=Math.max(0,de-1)),W==="ArrowDown"&&(de=Math.min(Ra-1,de+1)),W==="ArrowLeft"&&(ye=Math.max(0,ye-1)),W==="ArrowRight"&&(ye=Math.min(te-1,ye+1)),Fe({r:de,c:ye})};Ve.useEffect(()=>{const W=te=>{if(!(i!=="playing"||an||hn||Rr||gi||Qi||We||p||Le||Y||P||me)){if(te.code==="Space"){te.preventDefault(),va();return}if(te.key==="Escape"){ha();return}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(te.key)){te.preventDefault(),Hr(te.key);return}if(te.key==="Backspace"||te.key==="Delete"){if(Ue){const{r:de,c:ye}=Ue;ot.find(He=>He.r===de&&He.c===ye)?Ti(de,ye):Hr("ArrowLeft")}return}if(te.key==="Enter"){ot.length>0&&oi();return}if(/^[a-zA-Z]$/.test(te.key)){const de=ht[0].length;if(!Ue){Fe({r:2,c:St});return}const{r:ye,c:Ee}=Ue;if(ht[ye]&&ht[ye][Ee]||g.some(Pe=>Pe.r===ye&&Pe.c===Ee)){Hr("ArrowRight");return}let He=Fr(te.key),Ge=null;if(!He){const Pe=Fr("*");Pe&&(He=Pe,Ge=te.key.toUpperCase())}He?(wi(He,ye,Ee,Ge),Fe({r:ye,c:Math.min(de-1,Ee+1)})):(rn({text:`No '${te.key.toUpperCase()}' or Wildcard in hand`,type:"error"}),setTimeout(()=>rn({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[i,an,Ue,wt,ot,hn,Rr,gi,Qi,We,p,Le,Y,P,me]),Ve.useEffect(()=>{if(Ue&&dn.current){const W=dn.current,te=Ue.c*La,de=te+La,ye=W.scrollLeft,Ee=ye+W.clientWidth,He=100;te<ye?W.scrollTo({left:Math.max(0,te-He),behavior:"smooth"}):de>Ee&&W.scrollTo({left:de-W.clientWidth+He,behavior:"smooth"})}},[Ue]);const da=()=>yi(!0),ma=async()=>{yi(!1),vi(!0),On(!0),mn("fanfare");const W=l.trim().toLowerCase()==="test";if(dr&&!W)try{const Ee=new Date().toISOString().split("T")[0],He=kl(Vl,"artifacts",hp,"public","data","scores");await km(He,{name:l||"Anonymous",score:St,mode:r,date:Ee,timestamp:Date.now(),userId:dr.uid}),ln(Date.now())}catch(Ee){console.error("Error saving score:",Ee)}const te=wN(St);ca(te),On(!1);const de=St*50+800;setTimeout(()=>{e("gameOver"),vi(!1)},Math.max(de,2500))},Ei=()=>yi(!1),pa=()=>i==="playing"?Ki(!0):e("menu"),ri=()=>{Ki(!1),e("menu"),Zi()},Ha=async()=>{const W=In?O1(In):"top",te="https://www.longjump.co.za";let de=In?`${l} placed ${W} in Long-Jump with a distance of ${St}m. How far can you get? ${te}`:`${l} got a distance of ${St}m in Long-Jump. How far can you get? ${te}`;try{await navigator.clipboard.writeText(de),Pr(!0),setTimeout(()=>Pr(!1),1e3)}catch(ye){console.error("Failed to copy: ",ye),rn({text:"Failed to copy result.",type:"error"})}},ii=W=>{W.target.closest('[draggable="true"]')||W.target.tagName==="BUTTON"||(ni(!0),Tr(W.pageX-dn.current.offsetLeft),pr(dn.current.scrollLeft))},ai=()=>ni(!1),qr=()=>ni(!1),si=W=>{if(!Mr)return;W.preventDefault();const de=(W.pageX-dn.current.offsetLeft-en)*1.5;dn.current.scrollLeft=gt-de},wi=(W,te,de,ye=null)=>{if(mn("light"),W.letter==="*"&&!ye){xr({r:te,c:de,tileId:W.id}),Ir(!0);return}const Ee=W.letter==="*";Gr(W,te,de,Ee,ye)},Gr=(W,te,de,ye=!1,Ee=null)=>{if(ht.every(Ke=>Ke.every(rt=>rt===null))&&ot.length===0&&de!==0){_i(!0),setTimeout(()=>_i(!1),3e3);return}const Ge=Ee||W.letter,Pe=[...ot,{r:te,c:de,letter:Ge,isWild:ye,id:W.id}];if(!Lm(Pe)){rn({text:" Tiles must be placed in a single row or column",type:"error"}),mn("error");return}Zt(Pe),Ct(Ke=>Ke.map(rt=>rt.id===W.id?{...rt,isPlaced:!0}:rt)),_i(!1),bt.type==="error"&&rn({text:"Goal: Get as far right as you can.",type:"neutral"})},Ar=W=>{if(mn("light"),tr){const te={id:tr.tileId,letter:"*"};Gr(te,tr.r,tr.c,!0,W),Fe({r:tr.r,c:Math.min(ht[0].length-1,tr.c+1)}),Ir(!1),xr(null),Qe(null)}},or=W=>{if(mn("light"),!an&&i==="playing"){if(Ue){const{r:te,c:de}=Ue,ye=ht[0].length;if(!(ht[te]&&ht[te][de]||g.some(He=>He.r===te&&He.c===de))){const He=wt.find(Ge=>Ge.id===W);He&&(wi(He,te,de),Fe({r:te,c:Math.min(ye-1,de+1)}));return}}Qe($e===W?null:W)}},Ti=(W,te)=>{if(Mr||an||i!=="playing"||ht[W]&&ht[W][te]||g.some(ye=>ye.r===W&&ye.c===te))return;const de=ot.findIndex(ye=>ye.r===W&&ye.c===te);if(de!==-1){mn("light");const ye=ot[de],Ee=[...ot];Ee.splice(de,1),Zt(Ee),Ct(He=>He.map(Ge=>Ge.id===ye.id?{...Ge,isPlaced:!1}:Ge)),Qe(null),Fe({r:W,c:te});return}if($e){const ye=wt.find(Ee=>Ee.id===$e);if(ye){const Ee=ht[0].length;wi(ye,W,te),Qe(null),Fe({r:W,c:Math.min(Ee-1,te+1)})}}else Fe({r:W,c:te})},xt=(W,te)=>{an||i!=="playing"||(W.dataTransfer.setData("text/plain",JSON.stringify(te)),W.dataTransfer.effectAllowed="move")},Ai=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},Dr=(W,te,de)=>{if(an||i!=="playing"||(W.preventDefault(),W.stopPropagation(),g.some(Ee=>Ee.r===te&&Ee.c===de)))return;const ye=W.dataTransfer.getData("text/plain");if(ye)try{const Ee=JSON.parse(ye);if(ht[te]&&ht[te][de])return;const He=ot.findIndex(Pe=>Pe.r===te&&Pe.c===de),Ge=ht[0].length;if(Ee.type==="hand"){mn("light");const Pe=Ee.tile;if(Pe.letter==="*"){xr({r:te,c:de,tileId:Pe.id}),Ir(!0);return}if(ht.every(rt=>rt.every(Nt=>Nt===null))&&ot.length===0&&de!==0){_i(!0),setTimeout(()=>_i(!1),3e3);return}if(He!==-1){const rt=ot[He],Nt=[...ot];Ct(zn=>zn.map(u=>u.id===Pe.id?{...u,isPlaced:!0}:u.id===rt.id?{...u,isPlaced:!1}:u)),Nt.splice(He,1,{r:te,c:de,letter:Pe.letter,isWild:!1,id:Pe.id}),Zt(Nt)}else{const rt=[...ot,{r:te,c:de,letter:Pe.letter,isWild:!1,id:Pe.id}];if(!Lm(rt)){rn({text:" Tiles must be placed in a single row or column",type:"error"}),mn("error");return}Zt(rt),Ct(Nt=>Nt.map(zn=>zn.id===Pe.id?{...zn,isPlaced:!0}:zn))}_i(!1),Qe(null),Fe({r:te,c:Math.min(Ge-1,de+1)}),bt.type==="error"&&rn({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Ee.type==="board"){if(Ee.r===te&&Ee.c===de)return;const Pe=ot.findIndex(Nt=>Nt.r===Ee.r&&Nt.c===Ee.c);if(Pe===-1)return;const Ke=ot[Pe],rt=[...ot];if(He!==-1){const Nt=ot[He];rt[He]={...Nt,r:Ee.r,c:Ee.c},rt[Pe]={...Ke,r:te,c:de}}else rt[Pe]={...Ke,r:te,c:de};if(!Lm(rt)){rn({text:" Tiles must be placed in a single row or column",type:"error"}),mn("error");return}Zt(rt),Fe({r:te,c:Math.min(Ge-1,de+1)})}}catch{}},ea=W=>{if(an||i!=="playing")return;W.preventDefault(),W.stopPropagation();const te=W.dataTransfer.getData("text/plain");if(te)try{const de=JSON.parse(te);if(de.type==="board"){const ye=ot.find(Ee=>Ee.r===de.r&&Ee.c===de.c);Zt(Ee=>Ee.filter(He=>!(He.r===de.r&&He.c===de.c))),Ct(Ee=>Ee.map(He=>He.id===ye.id?{...He,isPlaced:!1}:He)),mn("light")}}catch{}},ga=(W,te)=>{if(!ht||!ht[W])return null;if(ht[W][te])return{letter:ht[W][te],type:"locked"};const de=ot.find(ye=>ye.r===W&&ye.c===te);return de?{letter:de.letter,type:"temp",isWild:de.isWild}:null},Li=(W,te)=>Dn.find(de=>de.r===W&&de.c===te),Si=(W,te)=>g.find(de=>de.r===W&&de.c===te),oi=async()=>{if(ot.length===0)return;Ma(!0),rn({text:"Validating...",type:"info"});const W=ht.map(Pe=>[...Pe]);if(ot.forEach(Pe=>{W[Pe.r]&&(W[Pe.r][Pe.c]=Pe.letter)}),ot.length>1){const Pe=[...ot].sort((Nt,zn)=>Nt.r-zn.r||Nt.c-zn.c),Ke=Pe[0],rt=Pe[Pe.length-1];if(Ke.r===rt.r){for(let Nt=Ke.c;Nt<=rt.c;Nt++)if(!W[Ke.r][Nt]){Ci("Cannot leave gaps between tiles.");return}}else for(let Nt=Ke.r;Nt<=rt.r;Nt++)if(!W[Nt][Ke.c]){Ci("Cannot leave gaps between tiles.");return}}const te=ht.every(Pe=>Pe.every(Ke=>Ke===null));let de=!1,ye=!1;const Ee=ht[0].length;if(ot.forEach(Pe=>{Pe.c===0&&(de=!0),[{r:Pe.r+1,c:Pe.c},{r:Pe.r-1,c:Pe.c},{r:Pe.r,c:Pe.c+1},{r:Pe.r,c:Pe.c-1}].forEach(rt=>{rt.r>=0&&rt.r<Ra&&rt.c>=0&&rt.c<Ee&&ht[rt.r]&&ht[rt.r][rt.c]&&(ye=!0)})}),te&&!de){Ci("First word must start in Column 1.");return}if(!te&&!ye){Ci("Tiles must connect to existing words.");return}const Ge=ya(W).filter(Pe=>Pe.cells.some(Ke=>ot.some(rt=>rt.r===Ke.r&&rt.c===Ke.c)));if(Ge.length===0){Ci("Words must be at least 2 letters.");return}try{const Pe=[];for(const Ke of Ge)await lr(Ke.word)||Pe.push(Ke.word);if(Pe.length>0){Ci(`Invalid word(s): ${Pe.join(", ")}`,Pe[0]);return}Ri(W,Ge)}catch(Pe){console.error(Pe),Ci("Error checking dictionary. Try again.")}},lr=async W=>{const te=W.toLowerCase().trim(),de=te.toUpperCase();if(ja.has(de)||mN.has(de)||tb.has(de))return!0;if(te.length===2)return!1;try{const Ee=`https://dictionaryapi.com/api/v3/references/collegiate/json/${encodeURIComponent(te)}?key=4e64bca3-60b7-40bf-bcda-d8e496a67a7f`,He=await fetch(Ee);if(!He.ok)return!1;const Ge=await He.json();return!Array.isArray(Ge)||Ge.length===0||typeof Ge[0]=="string"?!1:Ge.some(Ke=>typeof Ke!="object"||!Ke.meta||Ke.fl==="abbreviation"||Ke.fl==="abbr"?!1:Array.isArray(Ke.meta.stems)?Ke.meta.stems.map(Nt=>Nt.toLowerCase()).includes(te):!1)}catch(ye){return console.warn("M-W API Error:",ye),!0}},li=W=>{ut(W),tt(!0)},Ui=async()=>{if(nt){try{const W=kl(Vl,"missing_words");await km(W,{word:nt.toUpperCase(),reportedBy:l,date:new Date().toISOString()}),Fa(te=>new Set(te).add(nt.toUpperCase())),rn({text:`Reported '${nt}' - You can use it now!`,type:"success"})}catch(W){console.error("Error reporting word:",W),rn({text:"Could not report word.",type:"error"})}tt(!1),ut(null)}},ya=W=>{let te=[];const de=ht[0].length;for(let ye=0;ye<Ra;ye++){let Ee="",He=[];for(let Ge=0;Ge<de;Ge++)W[ye]&&W[ye][Ge]?(Ee+=W[ye][Ge],He.push({r:ye,c:Ge})):(Ee.length>1&&te.push({word:Ee,cells:[...He],type:"H"}),Ee="",He=[]);Ee.length>1&&te.push({word:Ee,cells:[...He],type:"H"})}for(let ye=0;ye<de;ye++){let Ee="",He=[];for(let Ge=0;Ge<Ra;Ge++)W[Ge]&&W[Ge][ye]?(Ee+=W[Ge][ye],He.push({r:Ge,c:ye})):(Ee.length>1&&te.push({word:Ee,cells:[...He],type:"V"}),Ee="",He=[]);Ee.length>1&&te.push({word:Ee,cells:[...He],type:"V"})}return te},Ci=(W,te=null)=>{rn({text:W,type:"error",invalidWord:te}),Ma(!1),mn("error")},Ri=(W,te)=>{mn("success");const de=JSON.parse(JSON.stringify(ht)),ye=wt.map(u=>({...u,isPlaced:!1})),Ee=new Set(z);Fn(u=>[...u,{grid:de,hand:ye,score:St,drawCount:Hn,christmasCells:Ee}]),pt(W),qn(!0),setTimeout(()=>qn(!1),200);let He=0,Ge=!1,Pe=!1,Ke=null;te.forEach(u=>{tb.has(u.word.toUpperCase())&&(Pe=!0,u.cells.forEach(y=>{oe(A=>new Set(A).add(`${y.r},${y.c}`))})),u.cells.forEach(y=>{const A=Li(y.r,y.c),k=ot.some(ne=>ne.r===y.r&&ne.c===y.c);A&&k&&(A.type&&A.type.startsWith("gift")?Ke=A.type:A.val&&(He+=A.val)),V.some(ne=>ne.r===y.r&&ne.c===y.c)&&(Ge=!0)})});let rt=wt.filter(u=>!u.isPlaced);if(He>0){const y=Sn.slice(Hn,Hn+He).map(A=>xl(A,!0));rt=[...rt,...y],Ht(A=>A+He)}if(Ge){const u=xl("*",!0);rt=[...rt,u]}if(rt.sort((u,y)=>u.letter!==y.letter?u.letter.localeCompare(y.letter):u.isNew===y.isNew?0:u.isNew?1:-1),Ct(rt),Ke){let u=3;Ke==="gift_medium"&&(u=4),Ke==="gift_large"&&(u=5);const y=Sn.slice(Hn,Hn+u);L(Ke),Z(y),G(new Set),setTimeout(()=>H(!0),500)}else if(Pe)setTimeout(()=>xe(!0),500);else if(He>0||Ge){const u=Ge?"Wildcard Unlocked!":`Great! +${He} Bonus Tiles!`;rn({text:u,type:"success"})}else rn({text:"Valid move!",type:"success"});let Nt=St-1;const zn=ht[0].length;ot.forEach(u=>{u.c>Nt&&(Nt=u.c)});for(let u=0;u<Ra;u++)for(let y=0;y<zn;y++)W[u]&&W[u][y]&&y>Nt&&(Nt=y);Pn(Nt+1),Zt([]),Ma(!1),Fe(null),mr(!1)},Da=W=>{const te=W.map(de=>xl(de,!0));Ct(de=>[...de,...te].sort((ye,Ee)=>ye.letter!==Ee.letter?ye.letter.localeCompare(Ee.letter):ye.isNew===Ee.isNew?0:ye.isNew?1:-1)),Ht(de=>de+x.length),H(!1),L(null),Z([]),rn({text:`Opened Gift! +${W.length} Tiles`,type:"success"}),mn("success")},Yr=()=>{const W=xl("*",!0);Ct(te=>[...te,W].sort((de,ye)=>de.letter!==ye.letter?de.letter.localeCompare(ye.letter):de.isNew===ye.isNew?0:de.isNew?1:-1)),xe(!1),rn({text:"Festive Word! +1 Wildcard",type:"success"}),mn("success")},va=()=>{mn("click"),Ct(W=>[...W].sort(()=>Math.random()-.5))},qa=()=>{mn("click"),Ct(W=>[...W].sort((te,de)=>te.letter!==de.letter?te.letter.localeCompare(de.letter):te.isNew===de.isNew?0:te.isNew?1:-1))},Oa=wt.reduce((W,te)=>(W[te.letter]||(W[te.letter]=[]),W[te.letter].push(te),W),{}),Ii=Array.from(new Set(wt.map(W=>W.letter))),Qn=Ii.length>=6,ta=Math.ceil(Ii.length/2),Wr=Qn?Ii.slice(0,ta):Ii,Ls=Qn?Ii.slice(ta):[],xi=({letter:W})=>{const te=Oa[W]||[],de=te.filter(Ke=>!Ke.isPlaced),ye=Math.min(de.length,15),Ee=de[de.length-1];if(te.length>0&&ye===0)return C.createElement("div",{className:"w-10 h-10 rounded-lg border-2 border-dashed",style:{backgroundColor:U.boardBackground+"40",borderColor:U.boardLines}});if(ye===0)return null;const He=Ee&&$e===Ee.id,Ge=6,Pe=40+(ye>1?(ye-1)*Ge:0);return C.createElement("div",{className:"relative w-10 flex items-end",style:{height:`${Pe}px`}},[...Array(ye-1)].map((Ke,rt)=>{const zn=(W.charCodeAt(0)+rt)%7-3;return C.createElement("div",{key:rt,className:"absolute w-10 h-10 rounded-lg border transition-all shadow-md",style:{backgroundColor:"#e5e7eb",borderColor:"rgba(0,0,0,0.1)",bottom:`${rt*Ge}px`,zIndex:rt,transform:`rotate(${zn}deg)`}})}),C.createElement("button",{draggable:!an&&i==="playing",onDragStart:Ke=>xt(Ke,{type:"hand",tile:Ee}),onClick:()=>or(Ee.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${i==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(ye-1)*Ge}px`,zIndex:ye,backgroundColor:He?U.accentPrimary:W==="*"?U.tileTemp:"white",color:He?"white":"#1f2937",transform:He?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${He?0:W.charCodeAt(0)%5-2}deg)`}},Ee&&Ee.isNew&&C.createElement("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter"},"NEW"),W==="*"?C.createElement(qo,{size:20,fill:U.starPurple,className:"text-purple-500"}):W))};return i==="menu"?C.createElement("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto transition-colors duration-300",style:{backgroundColor:U.background,color:U.textMain}},C.createElement("div",{className:"absolute top-4 right-4 z-50"},C.createElement("button",{onClick:()=>b(!0),className:"p-2 rounded-full hover:bg-black/5 transition-colors",style:{color:U.textSub}},C.createElement(E0,{size:24}))),C.createElement("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch relative"},C.createElement("div",{className:"space-y-4 flex flex-col items-center w-full"},C.createElement(sb,null),C.createElement("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400"},C.createElement("span",null,"Refreshed Daily"),C.createElement(bm,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})),C.createElement("div",{className:"flex flex-col gap-1 items-center"},C.createElement("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:U.textSub}},"Jump as far as you can by building words, connecting tiles and picking up extra letters."),C.createElement("div",{className:"text-xs font-bold px-3 py-1 rounded-full border mt-2",style:{backgroundColor:U.tileLocked,color:U.accentSecondary,borderColor:U.accentPrimary}},"Today's Par: ",Nr,"m"))),C.createElement("div",{className:"w-full max-w-xs space-y-2 group"},C.createElement("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:U.textSub}},"Enter your name"),C.createElement("input",{type:"text",value:l,onChange:W=>c(W.target.value),placeholder:"Player 1",maxLength:12,className:"w-full border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{backgroundColor:U.modalBg,color:U.textMain,borderColor:"transparent"},onFocus:W=>W.target.style.borderColor=U.accentPrimary,onBlur:W=>W.target.style.borderColor="transparent"})),C.createElement("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center"},C.createElement("button",{onClick:()=>un("standard"),className:"flex-1 py-4 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:U.accentPrimary}},"Play ",C.createElement(UT,{size:20,fill:"currentColor"})),C.createElement("button",{onClick:()=>un("christmas"),className:"flex-1 py-4 text-white rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2",style:{backgroundColor:"#dc2626"}},C.createElement(Ho,{size:20})," Christmas Mode")),C.createElement("div",{className:"flex flex-col items-center gap-3 mt-8 w-full"},C.createElement("div",{className:"flex flex-row items-center justify-center gap-4"},C.createElement("button",{onClick:()=>E(!0),className:"group flex items-center gap-2 px-3 py-2 rounded-full font-bold text-xs transition-colors shadow-sm whitespace-nowrap",style:{backgroundColor:U.tileLocked,color:U.textSub},title:"Updates"},C.createElement(b0,{size:14})),C.createElement("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:opacity-80 border-b border-gray-500 transition-colors pb-0.5 whitespace-nowrap",style:{color:U.textSub}},"By Richard Bolland"),C.createElement("span",{style:{color:U.boardLines}},"|"),C.createElement("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap"},C.createElement(MT,{size:14,className:"fill-pink-600"}),C.createElement("span",null,"Tip Jar")))),C.createElement("div",{className:"block lg:hidden w-full h-full min-h-[300px]"},C.createElement(Um,{user:dr,lastUpdated:ar,initialMode:"standard",onParCalculated:Ji,theme:U}))),C.createElement("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch"},C.createElement(Um,{user:dr,lastUpdated:ar,initialMode:"standard",onParCalculated:Ji,theme:U})),w&&C.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},C.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border",style:{backgroundColor:U.modalBg,borderColor:U.boardLines}},C.createElement("div",{className:"flex justify-between items-center mb-6"},C.createElement("h3",{className:"text-xl font-black uppercase flex items-center gap-2",style:{color:U.textMain}},C.createElement(b0,{size:20})," What's New"),C.createElement("button",{onClick:()=>E(!1),style:{color:U.textSub}},C.createElement(Ef,{size:24}))),C.createElement("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar"},C.createElement("div",{className:"border-l-2 pl-3",style:{borderColor:U.christmasRed}},C.createElement("div",{className:"text-xs font-bold uppercase",style:{color:U.christmasRed}},"v9.01"),C.createElement("div",{className:"font-bold",style:{color:U.textMain}},"Christmas Polish "),C.createElement("p",{className:"text-xs",style:{color:U.textSub}},"New Gift Boxes, Secret Rewards, and festive fixes.")),C.createElement("div",{className:"border-l-2 pl-3",style:{borderColor:U.christmasRed}},C.createElement("div",{className:"text-xs font-bold uppercase",style:{color:U.christmasRed}},"v9.00"),C.createElement("div",{className:"font-bold",style:{color:U.textMain}},"Christmas Mode! "),C.createElement("p",{className:"text-xs",style:{color:U.textSub}},"Collect Gifts, find festive words, and unlock the Holiday Spirit.")),C.createElement("div",{className:"border-l-2 border-gray-300 pl-3"},C.createElement("div",{className:"text-xs font-bold text-gray-400 uppercase"},"v8.11"),C.createElement("div",{className:"font-bold",style:{color:U.textSub}},"Dictionary Upgrade"),C.createElement("p",{className:"text-xs",style:{color:U.textSub}},"Now powered by Merriam-Webster Collegiate Dictionary!"))),C.createElement("button",{onClick:()=>E(!1),className:"w-full mt-6 py-3 rounded-xl font-bold uppercase tracking-widest transition-all",style:{backgroundColor:U.boardLines,color:U.textMain}},"Close"))),p&&C.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},C.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar",style:{backgroundColor:U.modalBg,borderColor:U.boardLines}},C.createElement("div",{className:"flex justify-between items-center mb-6"},C.createElement("h3",{className:"text-xl font-black uppercase",style:{color:U.textMain}},"Settings"),C.createElement("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:U.textSub}},C.createElement(Ef,{size:24}))),C.createElement("div",{className:"space-y-6"},C.createElement("div",{className:"space-y-2"},C.createElement("label",{className:"text-xs font-bold uppercase tracking-widest",style:{color:U.textSub}},"Username"),C.createElement("input",{type:"text",value:l,onChange:W=>c(W.target.value),maxLength:12,className:"w-full border px-4 py-3 rounded-xl font-bold outline-none transition-all",style:{backgroundColor:U.settingsBg,borderColor:"transparent",color:U.textMain}})),C.createElement("div",{className:"space-y-3"},C.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:U.settingsBg}},C.createElement("div",{className:"flex items-center gap-3"},Te?C.createElement(v0,{size:20,className:"text-purple-400"}):C.createElement(w0,{size:20,className:"text-yellow-500"}),C.createElement("span",{className:"font-bold text-sm",style:{color:U.textMain}},"Dark Mode")),C.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},C.createElement("input",{type:"checkbox",className:"sr-only peer",checked:Te,onChange:()=>ze(!Te)}),C.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"}))),C.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:U.settingsBg}},C.createElement("div",{className:"flex items-center gap-3"},q?C.createElement(A0,{size:20,className:"text-blue-500"}):C.createElement(S0,{size:20,className:"text-gray-400"}),C.createElement("span",{className:"font-bold text-sm",style:{color:U.textMain}},"Sound Effects")),C.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},C.createElement("input",{type:"checkbox",className:"sr-only peer",checked:q,onChange:()=>ae(!q)}),C.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"}))),C.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:U.settingsBg}},C.createElement("div",{className:"flex items-center gap-3"},B?C.createElement(wf,{size:20,className:"text-orange-500 fill-orange-500"}):C.createElement(wf,{size:20,className:"text-gray-400"}),C.createElement("span",{className:"font-bold text-sm",style:{color:U.textMain}},"Haptics")),C.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},C.createElement("input",{type:"checkbox",className:"sr-only peer",checked:B,onChange:()=>Oe(!B)}),C.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),C.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:U.settingsBg}},C.createElement("div",{className:"flex items-center gap-3"},C.createElement("span",{className:"text-xl"},""),C.createElement("div",{className:"flex flex-col"},C.createElement("span",{className:"font-bold text-sm",style:{color:U.textMain}},"Crowd Fans"))),C.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},C.createElement("input",{type:"checkbox",className:"sr-only peer",checked:M,onChange:()=>O(!M)}),C.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})))),Se&&C.createElement("button",{onClick:Ne,className:"w-full py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm flex items-center justify-center gap-2 text-white",style:{backgroundColor:U.accentPrimary}},C.createElement(g0,{size:16})," Install App"),C.createElement("div",{className:"pt-4 border-t",style:{borderColor:U.boardLines}},C.createElement("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:U.textSub}},"Make a Suggestion"),C.createElement("textarea",{value:Ye,onChange:W=>mt(W.target.value),className:"w-full border px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24",style:{backgroundColor:U.settingsBg,borderColor:"transparent",color:U.textMain},placeholder:"Ideas for new modes, obstacles, or features..."}),C.createElement("button",{onClick:kt,disabled:ft!=="idle"||!Ye.trim(),className:`w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm ${ft==="success"?"bg-green-500 text-white":"bg-gray-800 text-white hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"}`},ft==="submitting"?"Sending...":ft==="success"?"Sent! Thanks":"Submit Suggestion"))),C.createElement("button",{onClick:()=>b(!1),className:"w-full mt-6 py-3 font-bold uppercase tracking-widest text-xs hover:opacity-70 transition-all",style:{color:U.textSub}},"Close Settings")))):C.createElement("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative transition-colors duration-300",style:{backgroundColor:U.background,color:U.textMain}},i==="gameOver"&&!st&&C.createElement("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6"},C.createElement(AN,{theme:U}),C.createElement("div",{className:"backdrop-blur-md p-8 rounded-3xl shadow-2xl text-center border max-w-md w-full flex flex-col relative z-[101]",style:{backgroundColor:U.modalBg+"EE",borderColor:U.boardLines}},C.createElement("h3",{className:"text-xl font-black uppercase tracking-widest mb-6",style:{color:U.textMain}},"STATISTICS"),C.createElement("div",{className:"flex justify-between items-start mb-8 px-1 gap-1"},C.createElement("div",{className:"flex flex-col items-center"},C.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:U.textMain}},jr?.gamesPlayed||0),C.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:U.textSub}},"Played")),C.createElement("div",{className:"flex flex-col items-center"},C.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:U.textMain}},jr?.currentStreak||0),C.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:U.textSub}},"Current",C.createElement("br",null),"Streak")),C.createElement("div",{className:"flex flex-col items-center"},C.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:U.textMain}},jr?.maxStreak||0),C.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:U.textSub}},"Max",C.createElement("br",null),"Streak")),C.createElement("div",{className:"flex flex-col items-center"},C.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:U.textMain}},jr?.gamesPlayed>0?Math.round(jr.totalDistance/jr.gamesPlayed):0,"m"),C.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:U.textSub}},"Avg",C.createElement("br",null),"Dist")),C.createElement("div",{className:"flex flex-col items-center"},C.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:U.textMain}},(jr?.totalDistance||0)>=1e3?(jr.totalDistance/1e3).toFixed(1)+"k":(jr?.totalDistance||0)+"m"),C.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:U.textSub}},"Total",C.createElement("br",null),"Dist"))),C.createElement("div",{className:"rounded-2xl p-6 mb-6 shadow-sm border",style:{backgroundColor:U.settingsBg,borderColor:U.boardLines}},C.createElement("div",{className:"text-xs font-bold uppercase tracking-widest mb-1",style:{color:U.textSub}},"Athlete"),C.createElement("div",{className:"text-3xl font-black mb-6",style:{color:U.textMain}},l),C.createElement("div",{className:"text-xs font-bold uppercase tracking-widest mb-1",style:{color:U.textSub}},"Distance"),C.createElement("div",{className:"text-6xl font-black",style:{color:U.accentPrimary}},Ln,"m")),C.createElement("div",{className:"flex flex-col gap-3"},C.createElement("button",{onClick:Ha,className:"w-full py-4 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 hover:opacity-80",style:{backgroundColor:U.modalBg,borderColor:U.boardLines,color:U.textMain}},er?C.createElement(C.Fragment,null,C.createElement(gT,{size:20})," Copied"):C.createElement(C.Fragment,null,C.createElement(GT,{size:20})," Share Result")),C.createElement("div",{className:"flex gap-2"},C.createElement("button",{onClick:fa,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg",style:{backgroundColor:"#111827"}},"Play Again"),C.createElement("button",{onClick:()=>nn(!0),className:"flex-none px-4 py-4 border-2 rounded-xl hover:opacity-80 shadow-sm transition-all flex items-center justify-center",style:{backgroundColor:U.modalBg,borderColor:U.boardLines,color:U.textMain},title:"View Board"},C.createElement(RT,{size:24}))))),C.createElement("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative"},C.createElement(Um,{highlightName:l,user:dr,onRankFound:Un,lastUpdated:ar,initialMode:r,onParCalculated:Ji,theme:U}))),P&&I&&C.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in p-4"},C.createElement("div",{className:`rounded-3xl p-6 shadow-2xl max-w-sm w-full text-center border-4 bg-white relative overflow-hidden flex flex-col items-center ${I==="gift_small"?"border-red-500":I==="gift_medium"?"border-purple-500":"border-green-600"}`},C.createElement("div",{className:`absolute top-0 left-0 w-full h-4 ${I==="gift_small"?"bg-red-500":I==="gift_medium"?"bg-purple-500":"bg-green-600"}`}),C.createElement("div",{className:"mb-4 flex flex-col items-center mt-4"},C.createElement("div",{className:`p-4 rounded-full mb-2 border-2 ${I==="gift_small"?"bg-red-100 border-red-200 text-red-600":I==="gift_medium"?"bg-purple-100 border-purple-200 text-purple-600":"bg-green-100 border-green-200 text-green-600"}`},C.createElement(Ho,{size:48})),C.createElement("h3",{className:"text-2xl font-black uppercase text-gray-900"},I==="gift_small"?"Small Gift":I==="gift_medium"?"Medium Gift":"Large Gift"),(()=>{const W=I==="gift_small"?1:I==="gift_medium"?2:3,te=se.size,de=W-te;return C.createElement("p",{className:"text-sm font-bold mt-1",style:{color:de===0?U.accentPrimary:U.textSub}},de===0?"Ready to confirm!":`Pick ${de} more tile${de>1?"s":""}`)})()),C.createElement("div",{className:"flex gap-2 mb-6 flex-wrap justify-center"},x.map((W,te)=>{const de=se.has(te),ye=I==="gift_small"?1:I==="gift_medium"?2:3;return C.createElement("button",{key:te,onClick:()=>Q(te,ye),className:`w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold font-mono transition-all shadow-sm border-2 relative
                                  ${de?`bg-[${U.accentPrimary}] text-white border-[${U.accentPrimary}] -translate-y-2 shadow-md`:"bg-white text-gray-700 border-gray-200 hover:border-gray-400"}`,style:de?{backgroundColor:U.accentPrimary,borderColor:U.accentPrimary}:{}},W,de&&C.createElement("div",{className:"absolute -top-2 -right-2 bg-white text-green-600 rounded-full p-0.5 border shadow-sm"},C.createElement(p0,{size:12,strokeWidth:4})))})),(()=>{const W=I==="gift_small"?1:I==="gift_medium"?2:3,te=se.size===W;return C.createElement("button",{onClick:_e,disabled:!te,className:`w-full py-3 rounded-xl font-black uppercase tracking-widest transition-all shadow-lg flex items-center justify-center gap-2
                            ${te?"hover:scale-105 active:scale-100 text-white":"opacity-50 cursor-not-allowed text-gray-400 bg-gray-200 shadow-none"}
                          `,style:te?{backgroundColor:U.accentPrimary}:{}},te?"Add to Hand":"Select Tiles")})())),me&&C.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-md animate-fade-in p-4"},C.createElement("div",{className:"bg-white rounded-3xl p-8 shadow-2xl max-w-sm w-full text-center border-4 border-yellow-400 relative"},C.createElement(qo,{className:"absolute top-4 left-4 text-yellow-400 animate-pulse",size:24}),C.createElement(qo,{className:"absolute top-4 right-4 text-yellow-400 animate-pulse",size:24}),C.createElement("div",{className:"flex justify-center mb-6"},C.createElement("div",{className:"bg-red-100 p-6 rounded-full border-4 border-red-200 shadow-inner"},C.createElement(Ho,{size:64,className:"text-red-600 drop-shadow-sm"}))),C.createElement("h3",{className:"text-2xl font-black uppercase text-gray-900 mb-2"},"Festive Word Found!"),C.createElement("p",{className:"text-gray-500 mb-8 font-medium"},"You found a secret holiday word."),C.createElement("button",{onClick:Yr,className:"w-full py-4 rounded-xl font-black text-white text-lg uppercase tracking-widest shadow-xl hover:scale-105 hover:shadow-2xl active:scale-100 transition-all bg-gradient-to-r from-red-500 to-red-600"},"Add a Wildcard!"))),Qi&&C.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},C.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border",style:{backgroundColor:U.modalBg,borderColor:U.boardLines}},C.createElement("h3",{className:"text-xl font-black mb-4 uppercase",style:{color:U.textMain}},"Pick a Letter"),C.createElement("div",{className:"grid grid-cols-6 gap-2"},Object.keys(D1).filter(W=>W!=="*").map(W=>C.createElement("button",{key:W,onClick:()=>Ar(W),className:"w-10 h-10 rounded-lg font-bold text-xl shadow-sm hover:scale-110 transition-transform border",style:{backgroundColor:U.tileTemp,borderColor:U.tileTempRing,color:U.textMain}},W))),C.createElement("button",{onClick:()=>{Ir(!1),xr(null)},className:"mt-6 text-sm font-bold hover:opacity-80",style:{color:U.textSub}},"Cancel"))),Le&&C.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},C.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:U.modalBg,borderColor:U.boardLines}},C.createElement("div",{className:"flex justify-center mb-4"},C.createElement("div",{className:"bg-yellow-100 p-3 rounded-full"},C.createElement(y0,{size:32,className:"text-yellow-600"}))),C.createElement("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:U.textMain}},"Report Missing Word"),C.createElement("p",{className:"mb-4 text-sm font-bold",style:{color:U.textMain}},'"',nt,'"'),C.createElement("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100 mb-6 text-left"},C.createElement("p",{className:"text-xs text-red-700 leading-relaxed font-medium"},C.createElement("strong",null," Warning:")," Moderators check all reported words. If you abuse this feature to create fake words, your high scores will be deleted.")),C.createElement("div",{className:"flex gap-3"},C.createElement("button",{onClick:()=>{tt(!1),ut(null)},className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:U.boardLines,color:U.textSub}},"Cancel"),C.createElement("button",{onClick:Ui,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-yellow-500 hover:bg-yellow-600"},"Report & Add")))),Y&&C.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},C.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:U.modalBg,borderColor:U.boardLines}},C.createElement("div",{className:"flex justify-center mb-4"},C.createElement("div",{className:"bg-blue-100 p-3 rounded-full"},C.createElement(_0,{size:32,className:"text-blue-600"}))),C.createElement("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:U.textMain}},"Use Undo?"),C.createElement("p",{className:"mb-6 text-sm",style:{color:U.textSub}},"You can only use Undo ",C.createElement("strong",{style:{color:U.accentPrimary}},"once per turn"),". ",C.createElement("br",null),C.createElement("br",null),"Are you sure you want to go back?"),C.createElement("div",{className:"flex gap-3"},C.createElement("button",{onClick:()=>F(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:U.boardLines,color:U.textSub}},"Cancel"),C.createElement("button",{onClick:nr,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-blue-500 hover:bg-blue-600"},"Confirm Undo")))),(Rr||hn)&&C.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},C.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border relative",style:{backgroundColor:U.modalBg,borderColor:U.boardLines}},C.createElement("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 p-4 rounded-full shadow-xl",style:{backgroundColor:U.modalBg}},C.createElement(mT,{size:48,style:{color:U.accentPrimary}})),C.createElement("h3",{className:"text-2xl font-black mt-8 mb-4 uppercase tracking-tight",style:{color:U.textMain}},"Game Rules"),C.createElement("div",{className:"text-left mb-6 text-sm space-y-3",style:{color:U.textSub}},C.createElement("p",{className:"flex gap-2"},C.createElement("span",{className:"font-bold",style:{color:U.textMain}},""),C.createElement("span",null,"This is a ",C.createElement("strong",null,"daily seeded game"),". Everyone gets the same letters and board.")),C.createElement("p",{className:"flex gap-2"},C.createElement("span",{className:"font-bold",style:{color:U.textMain}},""),C.createElement("span",null,"Place words ",C.createElement("strong",null,"Left to Right")," or ",C.createElement("strong",null,"Top to Bottom"),".")),r==="christmas"?C.createElement("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100 mt-2"},C.createElement("p",{className:"text-xs font-bold text-red-800 mb-2 uppercase"},"Christmas Mode Specials:"),C.createElement("p",{className:"flex gap-2 items-center text-xs text-red-700 mb-1"},C.createElement(Ho,{size:14}),C.createElement("span",null,C.createElement("strong",null,"Red Gift:")," Pick 1 of 3 tiles.")),C.createElement("p",{className:"flex gap-2 items-center text-xs text-purple-700 mb-1"},C.createElement(Ho,{size:14}),C.createElement("span",null,C.createElement("strong",null,"Purple Gift:")," Pick 2 of 4 tiles.")),C.createElement("p",{className:"flex gap-2 items-center text-xs text-green-700 mb-1"},C.createElement(Ho,{size:14}),C.createElement("span",null,C.createElement("strong",null,"Green Gift:")," Pick 3 of 5 tiles.")),C.createElement("p",{className:"flex gap-2 items-center text-xs text-blue-700"},C.createElement(qo,{size:14}),C.createElement("span",null,C.createElement("strong",null,"Festive Words:")," Use words like SNOW or SANTA to get a Wildcard!"))):C.createElement(C.Fragment,null,C.createElement("p",{className:"flex gap-2 items-center"},C.createElement(bm,{size:16,className:"text-yellow-500 fill-yellow-500"}),C.createElement("span",null,C.createElement("strong",null,"Yellow Stars:")," Give +1, +2, or +3 random letters.")),C.createElement("p",{className:"flex gap-2 items-center"},C.createElement(qo,{size:16,className:"text-purple-500 fill-purple-500"}),C.createElement("span",null,C.createElement("strong",null,"Purple Sparkles:")," Give you a blank Wildcard tile!")))),C.createElement("button",{onClick:()=>{Lr(!1),Gn(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:U.accentPrimary}},Rr?"Let's Jump!":"Close"))),We&&C.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in"},C.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:U.modalBg,borderColor:U.boardLines}},C.createElement("div",{className:"flex justify-center mb-4"},C.createElement("div",{className:"bg-red-100 p-3 rounded-full"},C.createElement(VT,{size:32,className:"text-red-500"}))),C.createElement("h3",{className:"text-2xl font-black mb-2",style:{color:U.textMain}},"Exit Game?"),C.createElement("p",{className:"mb-8",style:{color:U.textSub}},"Are you sure you want to quit? You will lose your current progress."),C.createElement("div",{className:"flex gap-3"},C.createElement("button",{onClick:()=>Ki(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:U.boardLines,color:U.textSub}},"Cancel"),C.createElement("button",{onClick:ri,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600"},"Exit")))),gi&&C.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in"},C.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:U.modalBg,borderColor:U.boardLines}},C.createElement("h3",{className:"text-2xl font-black mb-2",style:{color:U.textMain}},"Submit Score?"),C.createElement("p",{className:"mb-8",style:{color:U.textSub}},"You reached column ",C.createElement("strong",{style:{color:U.accentPrimary}},St),". This will end your current run."),C.createElement("div",{className:"flex gap-3"},C.createElement("button",{onClick:Ei,className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:U.boardLines,color:U.textSub}},"Cancel"),C.createElement("button",{onClick:ma,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:U.accentPrimary}},"Confirm")))),p&&C.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},C.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar",style:{backgroundColor:U.modalBg,borderColor:U.boardLines}},C.createElement("div",{className:"flex justify-between items-center mb-6"},C.createElement("h3",{className:"text-xl font-black uppercase",style:{color:U.textMain}},"Settings"),C.createElement("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:U.textSub}},C.createElement(Ef,{size:24}))),C.createElement("div",{className:"space-y-6"},C.createElement("div",{className:"space-y-2"},C.createElement("label",{className:"text-xs font-bold uppercase tracking-widest",style:{color:U.textSub}},"Username"),C.createElement("input",{type:"text",value:l,onChange:W=>c(W.target.value),maxLength:12,className:"w-full border px-4 py-3 rounded-xl font-bold outline-none transition-all",style:{backgroundColor:U.settingsBg,borderColor:"transparent",color:U.textMain}})),C.createElement("div",{className:"space-y-3"},C.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:U.settingsBg}},C.createElement("div",{className:"flex items-center gap-3"},Te?C.createElement(v0,{size:20,className:"text-purple-400"}):C.createElement(w0,{size:20,className:"text-yellow-500"}),C.createElement("span",{className:"font-bold text-sm",style:{color:U.textMain}},"Dark Mode")),C.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},C.createElement("input",{type:"checkbox",className:"sr-only peer",checked:Te,onChange:()=>ze(!Te)}),C.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"}))),C.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:U.settingsBg}},C.createElement("div",{className:"flex items-center gap-3"},q?C.createElement(A0,{size:20,className:"text-blue-500"}):C.createElement(S0,{size:20,className:"text-gray-400"}),C.createElement("span",{className:"font-bold text-sm",style:{color:U.textMain}},"Sound Effects")),C.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},C.createElement("input",{type:"checkbox",className:"sr-only peer",checked:q,onChange:()=>ae(!q)}),C.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"}))),C.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:U.settingsBg}},C.createElement("div",{className:"flex items-center gap-3"},B?C.createElement(wf,{size:20,className:"text-orange-500 fill-orange-500"}):C.createElement(wf,{size:20,className:"text-gray-400"}),C.createElement("span",{className:"font-bold text-sm",style:{color:U.textMain}},"Haptics")),C.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},C.createElement("input",{type:"checkbox",className:"sr-only peer",checked:B,onChange:()=>Oe(!B)}),C.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),C.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:U.settingsBg}},C.createElement("div",{className:"flex items-center gap-3"},C.createElement("span",{className:"text-xl"},""),C.createElement("div",{className:"flex flex-col"},C.createElement("span",{className:"font-bold text-sm",style:{color:U.textMain}},"Crowd Fans"))),C.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},C.createElement("input",{type:"checkbox",className:"sr-only peer",checked:M,onChange:()=>O(!M)}),C.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})))),Se&&C.createElement("button",{onClick:Ne,className:"w-full py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm flex items-center justify-center gap-2 text-white",style:{backgroundColor:U.accentPrimary}},C.createElement(g0,{size:16})," Install App"),C.createElement("div",{className:"pt-4 border-t",style:{borderColor:U.boardLines}},C.createElement("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:U.textSub}},"Make a Suggestion"),C.createElement("textarea",{value:Ye,onChange:W=>mt(W.target.value),className:"w-full border px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24",style:{backgroundColor:U.settingsBg,borderColor:"transparent",color:U.textMain},placeholder:"Ideas for new modes, obstacles, or features..."}),C.createElement("button",{onClick:kt,disabled:ft!=="idle"||!Ye.trim(),className:`w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm ${ft==="success"?"bg-green-500 text-white":"bg-gray-800 text-white hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"}`},ft==="submitting"?"Sending...":ft==="success"?"Sent! Thanks":"Submit Suggestion"))),C.createElement("button",{onClick:()=>b(!1),className:"w-full mt-6 py-3 font-bold uppercase tracking-widest text-xs hover:opacity-70 transition-all",style:{color:U.textSub}},"Close Settings"))),C.createElement("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50"},C.createElement("div",{className:"flex flex-col items-start"},C.createElement("div",{className:"hidden md:block text-sm font-bold tracking-widest",style:{color:U.textSub}},new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()),$i&&C.createElement("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap"},C.createElement("span",{className:"font-bold uppercase tracking-widest",style:{color:U.textSub}},r==="christmas"?"Xmas Leader":"Standard Leader"),C.createElement(zm,{size:12,className:"text-yellow-500 fill-yellow-500"}),C.createElement("span",{className:"font-bold",style:{color:U.textMain}},$i.name),C.createElement("span",{className:"font-mono",style:{color:U.textSub}},$i.score,"m")),C.createElement("div",{className:"block md:hidden"},St>0&&i==="playing"&&C.createElement("button",{onClick:da,disabled:an||sr,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"}},"END RUN ",C.createElement(T0,{size:10,style:{color:Pm.starGold}})),i==="gameOver"&&st&&C.createElement("button",{onClick:()=>nn(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:U.accentPrimary,color:"white"}},C.createElement(m0,{size:12})," RESULTS"))),C.createElement("div",{className:"flex flex-col items-center flex-1"},C.createElement("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:pa},C.createElement(sb,null)),C.createElement("div",{className:"hidden md:block mt-6"},i==="playing"&&St>0&&C.createElement("button",{onClick:da,disabled:an||sr,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"}},"END RUN ",C.createElement(T0,{size:10,style:{color:Pm.starGold}})),i==="gameOver"&&st&&C.createElement("button",{onClick:()=>nn(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:U.accentPrimary}},C.createElement(m0,{size:14})," BACK TO RESULTS"))),C.createElement("div",{className:"flex flex-col items-end w-32 gap-1"},C.createElement("span",{className:"text-xs font-bold tracking-widest",style:{color:U.accentPrimary}},l||"PLAYER 1"),C.createElement("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:U.accentPrimary}},C.createElement(jT,{size:16})," ",Ln,"m"),C.createElement("div",{className:"flex gap-2"},C.createElement("button",{onClick:()=>Gn(!0),className:"text-[10px] font-bold hover:opacity-70 uppercase tracking-widest flex items-center gap-1",style:{color:U.textSub}},"Rules ",C.createElement(OT,{size:12})),C.createElement("button",{onClick:()=>b(!0),className:"hover:opacity-70",style:{color:U.textSub}},C.createElement(E0,{size:14}))))),C.createElement("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:ii,onMouseLeave:ai,onMouseUp:qr,onMouseMove:si},C.createElement("div",{ref:dn,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${Mr?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"}},C.createElement("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area"},C.createElement("div",{className:"absolute top-0 bottom-0 border-r-2 border-red-400 border-dashed z-20 pointer-events-none opacity-60",style:{left:`${Nr*La}px`}},C.createElement("span",{className:"absolute top-[-20px] right-0 translate-x-1/2 text-red-500 text-[10px] font-black tracking-widest"},"PAR")),C.createElement("div",{className:"flex relative mb-3",style:{width:`${ht[0].length*La}px`,height:"24px"}},Array(ht[0].length).fill(0).map((W,te)=>{const de=te===0,ye=(te+1)%5===0;if(!de&&!ye)return null;const Ee=St<3;return C.createElement("div",{key:`ruler-${te}`,className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:te*La+La/2,transform:`translateX(-50%) ${de&&Ee?"translateY(-45px)":"translateY(0)"}`}},C.createElement("span",{className:"text-xs tracking-wider",style:{color:de?U.textMain:U.textSub}},de?"START":`${te+1}m`),C.createElement("div",{className:"w-0.5 h-1.5 mt-0.5",style:{backgroundColor:de?U.textMain:U.boardLines}}))})),C.createElement("div",{className:"relative"},C.createElement("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none"},M&&ge.filter(W=>W.type==="top").map((W,te)=>{const de=Math.max(W.startCol,St+W.offset);return C.createElement("div",{key:`fan-top-${W.id}`,className:"absolute -top-[55px]",style:{left:`${de*La}px`,transition:"left 1.2s ease-in-out",zIndex:50}},C.createElement(ob,{trigger:_t}))})),C.createElement("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${ht[0].length}, ${La}px)`,gridTemplateRows:`repeat(${Ra}, ${La}px)`,backgroundColor:U.boardBackground,borderColor:U.boardLines}},Array(Ra).fill(0).map((W,te)=>Array(ht[0].length).fill(0).map((de,ye)=>{const Ee=ga(te,ye),He=Li(te,ye),Ge=Si(te,ye),Pe=V.some(ne=>ne.r===te&&ne.c===ye),rt=ye===0&&!Ee&&!kn,Nt=Ee?.type==="locked",zn=(ye+1)%5===0,u=ye<Ln,y=Ue&&Ue.r===te&&Ue.c===ye,A=an&&Nt?"animate-jump-green":"",k=Nt&&z.has(`${te},${ye}`);return C.createElement("div",{key:`${te}-${ye}`,onClick:()=>Ti(te,ye),onDragOver:Ai,onDrop:ne=>Dr(ne,te,ye),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${Ee?Ee.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Ge?"cursor-not-allowed":"hover:bg-white/20"}  ${Ee?.type==="temp"?`bg-[${U.tileTemp}] ring-2 ring-[${U.tileTempRing}] -translate-y-[2px] z-10`:""} ${!Ee&&!Ge&&u?"bg-white/20":ye===0&&!Ee?"bg-green-100/40":!Ee&&!Ge&&!rt&&(te+ye)%2===0?"bg-black/5":"bg-transparent"} ${y?"ring-4 ring-blue-400 z-20":""} ${!Ee&&y?"bg-blue-50/20":""} ${!Ee&&zn?"border-r-2 border-r-black/10":"border border-black/5"} ${u?"animate-pop-green":""} ${A}`,style:Nt?{backgroundColor:k?U.christmasRed:u?U.overlayComplete:U.tileLocked,color:k?"white":U.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:an?`${ye*50}ms`:"0ms"}:Ee?.type==="temp"?{backgroundColor:Ee.isWild?U.tileWildPlaced:U.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Ge?{backgroundColor:U.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{}},!Ee&&rt&&C.createElement("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10"},C.createElement(ET,{size:20,style:{color:U.startArrow}})),!Ee&&Ge&&C.createElement("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Ee&&He&&!Ge&&!Pe&&C.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10"},He.type&&He.type.startsWith("gift")?C.createElement(Ho,{className:`w-6 h-6 ${He.type==="gift_small"?"text-red-600":He.type==="gift_medium"?"text-purple-600":"text-green-700"}`}):C.createElement(C.Fragment,null,C.createElement(bm,{className:"w-6 h-6",fill:U.starGold,stroke:U.starGold}),C.createElement("span",{className:"text-[16px] font-black mt-[-2px]",style:{color:"#000000"}},"+",He.val))),!Ee&&Pe&&!Ge&&C.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse"},C.createElement(qo,{className:"w-7 h-7",fill:U.starPurple,stroke:U.starPurple})),Ee&&C.createElement("div",{draggable:Ee.type==="temp"&&!an&&i==="playing",onDragStart:ne=>xt(ne,{type:"board",r:te,c:ye,letter:Ee.letter}),className:`w-full h-full flex items-center justify-center ${Ee.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`},C.createElement("span",{className:"text-2xl font-bold select-none font-mono"},Ee.letter),Ee.isWild&&C.createElement(qo,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})))}))),C.createElement("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none"},M&&ge.filter(W=>W.type==="bottom").map((W,te)=>{const de=Math.max(W.startCol,St+W.offset);return C.createElement("div",{key:`fan-bottom-${W.id}`,className:"absolute -bottom-[35px]",style:{left:`${de*La}px`,transition:"left 1.2s ease-in-out",zIndex:50}},C.createElement(ob,{trigger:_t}))}))),Ps&&C.createElement("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none"},C.createElement("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative"},C.createElement("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),C.createElement(_T,{size:16}),"Start Here!"))))),C.createElement("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50"},C.createElement("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4"},C.createElement("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${bt.type==="error"?"bg-red-100 text-red-700":bt.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`},C.createElement("span",null,sr?"Checking...":bt.text),bt.type==="error"&&bt.invalidWord&&C.createElement("button",{onClick:()=>li(bt.invalidWord),className:"ml-2 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors hover:opacity-80",style:{backgroundColor:U.accentPrimary,color:"white"}},"Report ",C.createElement(y0,{size:10}))),C.createElement("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center"},C.createElement("button",{onClick:Pi,disabled:an||Ut.length===0||i!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:U.modalBg,color:U.textMain},title:"Undo last move"},C.createElement(_0,{size:16})),C.createElement("button",{onClick:va,disabled:an||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:U.modalBg,color:U.textMain}},C.createElement(WT,{size:16})," Shuffle"),C.createElement("button",{onClick:qa,disabled:an||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:U.modalBg,color:U.textMain}},C.createElement(fT,{size:16})," Sort A-Z"),ot.length>0&&C.createElement("button",{onClick:oi,disabled:sr||an||i!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${sr||an?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:sr||an?{}:{backgroundColor:U.accentPrimary,color:"white"}},sr?"Checking...":"JUMP"," ",C.createElement(p0,{size:18,strokeWidth:4})),ot.length>0&&C.createElement("button",{onClick:ha,disabled:an||i!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50"},C.createElement(Ef,{size:16})))),C.createElement("div",{onDragOver:Ai,onDrop:ea,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:U.handBg}},Ii.length===0&&C.createElement("div",{className:"italic",style:{color:U.textSub}},"Empty Hand"),Ii.length<6?C.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},Ii.map(W=>C.createElement(xi,{key:W,letter:W}))):C.createElement("div",{className:"flex flex-col gap-2 w-full items-center"},C.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},Wr.map(W=>C.createElement(xi,{key:W,letter:W}))),C.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},Ls.map(W=>C.createElement(xi,{key:W,letter:W})))))),C.createElement("style",null,`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `))}iT.createRoot(document.getElementById("root")).render(C.createElement(Ve.StrictMode,null,C.createElement(SN,null)));
