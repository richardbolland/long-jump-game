(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Kw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pm={exports:{}},It={};var a0;function Qw(){if(a0)return It;a0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),G=Symbol.iterator;function ae(z){return z===null||typeof z!="object"?null:(z=G&&z[G]||z["@@iterator"],typeof z=="function"?z:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ie=Object.assign,be={};function Ue(z,oe,Oe){this.props=z,this.context=oe,this.refs=be,this.updater=Oe||B}Ue.prototype.isReactComponent={},Ue.prototype.setState=function(z,oe){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,oe,"setState")},Ue.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function V(){}V.prototype=Ue.prototype;function Le(z,oe,Oe){this.props=z,this.context=oe,this.refs=be,this.updater=Oe||B}var Xe=Le.prototype=new V;Xe.constructor=Le,Ie(Xe,Ue.prototype),Xe.isPureReactComponent=!0;var tt=Array.isArray;function st(){}var W={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function L(z,oe,Oe){var Se=Oe.ref;return{$$typeof:i,type:z,key:oe,ref:Se!==void 0?Se:null,props:Oe}}function H(z,oe){return L(z.type,oe,z.props)}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===i}function U(z){var oe={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Oe){return oe[Oe]})}var x=/\/+/g;function ee(z,oe){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):oe.toString(36)}function se(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(st,st):(z.status="pending",z.then(function(oe){z.status==="pending"&&(z.status="fulfilled",z.value=oe)},function(oe){z.status==="pending"&&(z.status="rejected",z.reason=oe)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Y(z,oe,Oe,Se,xe){var $e=typeof z;($e==="undefined"||$e==="boolean")&&(z=null);var dt=!1;if(z===null)dt=!0;else switch($e){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(z.$$typeof){case i:case e:dt=!0;break;case N:return dt=z._init,Y(dt(z._payload),oe,Oe,Se,xe)}}if(dt)return xe=xe(z),dt=Se===""?"."+ee(z,0):Se,tt(xe)?(Oe="",dt!=null&&(Oe=dt.replace(x,"$&/")+"/"),Y(xe,oe,Oe,"",function(bt){return bt})):xe!=null&&(I(xe)&&(xe=H(xe,Oe+(xe.key==null||z&&z.key===xe.key?"":(""+xe.key).replace(x,"$&/")+"/")+dt)),oe.push(xe)),1;dt=0;var ft=Se===""?".":Se+":";if(tt(z))for(var _t=0;_t<z.length;_t++)Se=z[_t],$e=ft+ee(Se,_t),dt+=Y(Se,oe,Oe,$e,xe);else if(_t=ae(z),typeof _t=="function")for(z=_t.call(z),_t=0;!(Se=z.next()).done;)Se=Se.value,$e=ft+ee(Se,_t++),dt+=Y(Se,oe,Oe,$e,xe);else if($e==="object"){if(typeof z.then=="function")return Y(se(z),oe,Oe,Se,xe);throw oe=String(z),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return dt}function K(z,oe,Oe){if(z==null)return z;var Se=[],xe=0;return Y(z,Se,"","",function($e){return oe.call(Oe,$e,xe++)}),Se}function _e(z){if(z._status===-1){var oe=z._result;oe=oe(),oe.then(function(Oe){(z._status===0||z._status===-1)&&(z._status=1,z._result=Oe)},function(Oe){(z._status===0||z._status===-1)&&(z._status=2,z._result=Oe)}),z._status===-1&&(z._status=0,z._result=oe)}if(z._status===1)return z._result.default;throw z._result}var pe=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Me={map:K,forEach:function(z,oe,Oe){K(z,function(){oe.apply(this,arguments)},Oe)},count:function(z){var oe=0;return K(z,function(){oe++}),oe},toArray:function(z){return K(z,function(oe){return oe})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return It.Activity=k,It.Children=Me,It.Component=Ue,It.Fragment=r,It.Profiler=l,It.PureComponent=Le,It.StrictMode=a,It.Suspense=w,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,It.__COMPILER_RUNTIME={__proto__:null,c:function(z){return W.H.useMemoCache(z)}},It.cache=function(z){return function(){return z.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(z,oe,Oe){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Se=Ie({},z.props),xe=z.key;if(oe!=null)for($e in oe.key!==void 0&&(xe=""+oe.key),oe)!F.call(oe,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&oe.ref===void 0||(Se[$e]=oe[$e]);var $e=arguments.length-2;if($e===1)Se.children=Oe;else if(1<$e){for(var dt=Array($e),ft=0;ft<$e;ft++)dt[ft]=arguments[ft+2];Se.children=dt}return L(z.type,xe,Se)},It.createContext=function(z){return z={$$typeof:p,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},It.createElement=function(z,oe,Oe){var Se,xe={},$e=null;if(oe!=null)for(Se in oe.key!==void 0&&($e=""+oe.key),oe)F.call(oe,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(xe[Se]=oe[Se]);var dt=arguments.length-2;if(dt===1)xe.children=Oe;else if(1<dt){for(var ft=Array(dt),_t=0;_t<dt;_t++)ft[_t]=arguments[_t+2];xe.children=ft}if(z&&z.defaultProps)for(Se in dt=z.defaultProps,dt)xe[Se]===void 0&&(xe[Se]=dt[Se]);return L(z,$e,xe)},It.createRef=function(){return{current:null}},It.forwardRef=function(z){return{$$typeof:b,render:z}},It.isValidElement=I,It.lazy=function(z){return{$$typeof:N,_payload:{_status:-1,_result:z},_init:_e}},It.memo=function(z,oe){return{$$typeof:E,type:z,compare:oe===void 0?null:oe}},It.startTransition=function(z){var oe=W.T,Oe={};W.T=Oe;try{var Se=z(),xe=W.S;xe!==null&&xe(Oe,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(st,pe)}catch($e){pe($e)}finally{oe!==null&&Oe.types!==null&&(oe.types=Oe.types),W.T=oe}},It.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},It.use=function(z){return W.H.use(z)},It.useActionState=function(z,oe,Oe){return W.H.useActionState(z,oe,Oe)},It.useCallback=function(z,oe){return W.H.useCallback(z,oe)},It.useContext=function(z){return W.H.useContext(z)},It.useDebugValue=function(){},It.useDeferredValue=function(z,oe){return W.H.useDeferredValue(z,oe)},It.useEffect=function(z,oe){return W.H.useEffect(z,oe)},It.useEffectEvent=function(z){return W.H.useEffectEvent(z)},It.useId=function(){return W.H.useId()},It.useImperativeHandle=function(z,oe,Oe){return W.H.useImperativeHandle(z,oe,Oe)},It.useInsertionEffect=function(z,oe){return W.H.useInsertionEffect(z,oe)},It.useLayoutEffect=function(z,oe){return W.H.useLayoutEffect(z,oe)},It.useMemo=function(z,oe){return W.H.useMemo(z,oe)},It.useOptimistic=function(z,oe){return W.H.useOptimistic(z,oe)},It.useReducer=function(z,oe,Oe){return W.H.useReducer(z,oe,Oe)},It.useRef=function(z){return W.H.useRef(z)},It.useState=function(z){return W.H.useState(z)},It.useSyncExternalStore=function(z,oe,Oe){return W.H.useSyncExternalStore(z,oe,Oe)},It.useTransition=function(){return W.H.useTransition()},It.version="19.2.0",It}var s0;function ch(){return s0||(s0=1,pm.exports=Qw()),pm.exports}var Pe=ch();const S=Kw(Pe);var gm={exports:{}},qu={},ym={exports:{}},vm={};var o0;function Jw(){return o0||(o0=1,(function(i){function e(Y,K){var _e=Y.length;Y.push(K);e:for(;0<_e;){var pe=_e-1>>>1,Me=Y[pe];if(0<l(Me,K))Y[pe]=K,Y[_e]=Me,_e=pe;else break e}}function r(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var K=Y[0],_e=Y.pop();if(_e!==K){Y[0]=_e;e:for(var pe=0,Me=Y.length,z=Me>>>1;pe<z;){var oe=2*(pe+1)-1,Oe=Y[oe],Se=oe+1,xe=Y[Se];if(0>l(Oe,_e))Se<Me&&0>l(xe,Oe)?(Y[pe]=xe,Y[Se]=_e,pe=Se):(Y[pe]=Oe,Y[oe]=_e,pe=oe);else if(Se<Me&&0>l(xe,_e))Y[pe]=xe,Y[Se]=_e,pe=Se;else break e}}return K}function l(Y,K){var _e=Y.sortIndex-K.sortIndex;return _e!==0?_e:Y.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();i.unstable_now=function(){return p.now()-b}}var w=[],E=[],N=1,k=null,G=3,ae=!1,B=!1,Ie=!1,be=!1,Ue=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,Le=typeof setImmediate<"u"?setImmediate:null;function Xe(Y){for(var K=r(E);K!==null;){if(K.callback===null)a(E);else if(K.startTime<=Y)a(E),K.sortIndex=K.expirationTime,e(w,K);else break;K=r(E)}}function tt(Y){if(Ie=!1,Xe(Y),!B)if(r(w)!==null)B=!0,st||(st=!0,U());else{var K=r(E);K!==null&&se(tt,K.startTime-Y)}}var st=!1,W=-1,F=5,L=-1;function H(){return be?!0:!(i.unstable_now()-L<F)}function I(){if(be=!1,st){var Y=i.unstable_now();L=Y;var K=!0;try{e:{B=!1,Ie&&(Ie=!1,V(W),W=-1),ae=!0;var _e=G;try{t:{for(Xe(Y),k=r(w);k!==null&&!(k.expirationTime>Y&&H());){var pe=k.callback;if(typeof pe=="function"){k.callback=null,G=k.priorityLevel;var Me=pe(k.expirationTime<=Y);if(Y=i.unstable_now(),typeof Me=="function"){k.callback=Me,Xe(Y),K=!0;break t}k===r(w)&&a(w),Xe(Y)}else a(w);k=r(w)}if(k!==null)K=!0;else{var z=r(E);z!==null&&se(tt,z.startTime-Y),K=!1}}break e}finally{k=null,G=_e,ae=!1}K=void 0}}finally{K?U():st=!1}}}var U;if(typeof Le=="function")U=function(){Le(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ee=x.port2;x.port1.onmessage=I,U=function(){ee.postMessage(null)}}else U=function(){Ue(I,0)};function se(Y,K){W=Ue(function(){Y(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return G},i.unstable_next=function(Y){switch(G){case 1:case 2:case 3:var K=3;break;default:K=G}var _e=G;G=K;try{return Y()}finally{G=_e}},i.unstable_requestPaint=function(){be=!0},i.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var _e=G;G=Y;try{return K()}finally{G=_e}},i.unstable_scheduleCallback=function(Y,K,_e){var pe=i.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?pe+_e:pe):_e=pe,Y){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=_e+Me,Y={id:N++,callback:K,priorityLevel:Y,startTime:_e,expirationTime:Me,sortIndex:-1},_e>pe?(Y.sortIndex=_e,e(E,Y),r(w)===null&&Y===r(E)&&(Ie?(V(W),W=-1):Ie=!0,se(tt,_e-pe))):(Y.sortIndex=Me,e(w,Y),B||ae||(B=!0,st||(st=!0,U()))),Y},i.unstable_shouldYield=H,i.unstable_wrapCallback=function(Y){var K=G;return function(){var _e=G;G=K;try{return Y.apply(this,arguments)}finally{G=_e}}}})(vm)),vm}var l0;function Zw(){return l0||(l0=1,ym.exports=Jw()),ym.exports}var _m={exports:{}},mi={};var u0;function eT(){if(u0)return mi;u0=1;var i=ch();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)E+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,N){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:k==null?null:""+k,children:w,containerInfo:E,implementation:N}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mi.createPortal=function(w,E){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,N)},mi.flushSync=function(w){var E=p.T,N=a.p;try{if(p.T=null,a.p=2,w)return w()}finally{p.T=E,a.p=N,a.d.f()}},mi.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(w,E))},mi.prefetchDNS=function(w){typeof w=="string"&&a.d.D(w)},mi.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var N=E.as,k=b(N,E.crossOrigin),G=typeof E.integrity=="string"?E.integrity:void 0,ae=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;N==="style"?a.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:k,integrity:G,fetchPriority:ae}):N==="script"&&a.d.X(w,{crossOrigin:k,integrity:G,fetchPriority:ae,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},mi.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var N=b(E.as,E.crossOrigin);a.d.M(w,{crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(w)},mi.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var N=E.as,k=b(N,E.crossOrigin);a.d.L(w,N,{crossOrigin:k,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},mi.preloadModule=function(w,E){if(typeof w=="string")if(E){var N=b(E.as,E.crossOrigin);a.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(w)},mi.requestFormReset=function(w){a.d.r(w)},mi.unstable_batchedUpdates=function(w,E){return w(E)},mi.useFormState=function(w,E,N){return p.H.useFormState(w,E,N)},mi.useFormStatus=function(){return p.H.useHostTransitionStatus()},mi.version="19.2.0",mi}var c0;function tT(){if(c0)return _m.exports;c0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=eT(),_m.exports}var f0;function nT(){if(f0)return qu;f0=1;var i=Zw(),e=ch(),r=tT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(a(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return w(f),t;if(m===o)return w(f),n;m=m.sibling}throw Error(a(188))}if(s.return!==o.return)s=f,o=m;else{for(var A=!1,O=f.child;O;){if(O===s){A=!0,s=f,o=m;break}if(O===o){A=!0,o=f,s=m;break}O=O.sibling}if(!A){for(O=m.child;O;){if(O===s){A=!0,s=m,o=f;break}if(O===o){A=!0,o=m,s=f;break}O=O.sibling}if(!A)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function N(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=N(t),n!==null)return n;t=t.sibling}return null}var k=Object.assign,G=Symbol.for("react.element"),ae=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Ie=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),Ue=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),Le=Symbol.for("react.context"),Xe=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ie:return"Fragment";case Ue:return"Profiler";case be:return"StrictMode";case tt:return"Suspense";case st:return"SuspenseList";case L:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case Le:return t.displayName||"Context";case V:return(t._context.displayName||"Context")+".Consumer";case Xe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return n=t.displayName||null,n!==null?n:ee(t.type)||"Memo";case F:n=t._payload,t=t._init;try{return ee(t(n))}catch{}}return null}var se=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},pe=[],Me=-1;function z(t){return{current:t}}function oe(t){0>Me||(t.current=pe[Me],pe[Me]=null,Me--)}function Oe(t,n){Me++,pe[Me]=t.current,t.current=n}var Se=z(null),xe=z(null),$e=z(null),dt=z(null);function ft(t,n){switch(Oe($e,n),Oe(xe,t),Oe(Se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Iv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Iv(n),t=xv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(Se),Oe(Se,t)}function _t(){oe(Se),oe(xe),oe($e)}function bt(t){t.memoizedState!==null&&Oe(dt,t);var n=Se.current,s=xv(n,t.type);n!==s&&(Oe(xe,t),Oe(Se,s))}function sn(t){xe.current===t&&(oe(Se),oe(xe)),dt.current===t&&(oe(dt),Bu._currentValue=_e)}var mt,qe;function Ft(t){if(mt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);mt=n&&n[1]||"",qe=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+t+qe}var Nt=!1;function Zt(t,n){if(!t||Nt)return"";Nt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ve){var me=ve}Reflect.construct(t,[],Ce)}else{try{Ce.call()}catch(ve){me=ve}t.call(Ce.prototype)}}else{try{throw Error()}catch(ve){me=ve}(Ce=t())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ve){if(ve&&me&&typeof ve.stack=="string")return[ve.stack,me.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),A=m[0],O=m[1];if(A&&O){var X=A.split(`
`),fe=O.split(`
`);for(f=o=0;o<X.length&&!X[o].includes("DetermineComponentFrameRoot");)o++;for(;f<fe.length&&!fe[f].includes("DetermineComponentFrameRoot");)f++;if(o===X.length||f===fe.length)for(o=X.length-1,f=fe.length-1;1<=o&&0<=f&&X[o]!==fe[f];)f--;for(;1<=o&&0<=f;o--,f--)if(X[o]!==fe[f]){if(o!==1||f!==1)do if(o--,f--,0>f||X[o]!==fe[f]){var we=`
`+X[o].replace(" at new "," at ");return t.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",t.displayName)),we}while(1<=o&&0<=f);break}}}finally{Nt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ft(s):""}function $n(t,n){switch(t.tag){case 26:case 27:case 5:return Ft(t.type);case 16:return Ft("Lazy");case 13:return t.child!==n&&n!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return Zt(t.type,!1);case 11:return Zt(t.type.render,!1);case 1:return Zt(t.type,!0);case 31:return Ft("Activity");default:return""}}function en(t){try{var n="",s=null;do n+=$n(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var it=Object.prototype.hasOwnProperty,yn=i.unstable_scheduleCallback,En=i.unstable_cancelCallback,ei=i.unstable_shouldYield,Kn=i.unstable_requestPaint,nn=i.unstable_now,vn=i.unstable_getCurrentPriorityLevel,R=i.unstable_ImmediatePriority,g=i.unstable_UserBlockingPriority,v=i.unstable_NormalPriority,P=i.unstable_LowPriority,J=i.unstable_IdlePriority,ye=i.log,De=i.unstable_setDisableYieldValue,et=null,ot=null;function He(t){if(typeof ye=="function"&&De(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(et,t)}catch{}}var Ge=Math.clz32?Math.clz32:ct,Et=Math.log,kt=Math.LN2;function ct(t){return t>>>=0,t===0?32:31-(Et(t)/kt|0)|0}var on=256,Lt=262144,Pt=4194304;function wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function On(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,A=t.pingedLanes;t=t.warmLanes;var O=o&134217727;return O!==0?(o=O&~m,o!==0?f=wn(o):(A&=O,A!==0?f=wn(A):s||(s=O&~t,s!==0&&(f=wn(s))))):(O=o&~m,O!==0?f=wn(O):A!==0?f=wn(A):s||(s=o&~t,s!==0&&(f=wn(s)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,s=n&-n,m>=s||m===32&&(s&4194048)!==0)?n:f}function qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ti(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var t=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),t}function Dn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function At(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zr(t,n,s,o,f,m){var A=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var O=t.entanglements,X=t.expirationTimes,fe=t.hiddenUpdates;for(s=A&~s;0<s;){var we=31-Ge(s),Ce=1<<we;O[we]=0,X[we]=-1;var me=fe[we];if(me!==null)for(fe[we]=null,we=0;we<me.length;we++){var ve=me[we];ve!==null&&(ve.lane&=-536870913)}s&=~Ce}o!==0&&Qn(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(A&~n))}function Qn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Ge(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function kn(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Ge(s),f=1<<o;f&n|t[o]&n&&(t[o]|=n),s&=~f}}function wr(t,n){var s=n&-n;return s=(s&42)!==0?1:Mi(s),(s&(t.suspendedLanes|n))!==0?0:s}function Mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ye(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qi(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Jv(t.type))}function Br(t,n){var s=K.p;try{return K.p=t,n()}finally{K.p=s}}var Nr=Math.random().toString(36).slice(2),ln="__reactFiber$"+Nr,Un="__reactProps$"+Nr,jr="__reactContainer$"+Nr,_i="__reactEvents$"+Nr,Vn="__reactListeners$"+Nr,Ea="__reactHandles$"+Nr,wa="__reactResources$"+Nr,tr="__reactMarker$"+Nr;function Tr(t){delete t[ln],delete t[Un],delete t[_i],delete t[Vn],delete t[Ea]}function Mr(t){var n=t[ln];if(n)return n;for(var s=t.parentNode;s;){if(n=s[jr]||s[ln]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Pv(t);t!==null;){if(s=t[ln])return s;t=Pv(t)}return n}t=s,s=t.parentNode}return null}function nr(t){if(t=t[ln]||t[jr]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function ur(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function cr(t){var n=t[wa];return n||(n=t[wa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zn(t){t[tr]=!0}var La=new Set,Ar={};function Sr(t,n){ni(t,n),ni(t+"Capture",n)}function ni(t,n){for(Ar[t]=n,t=0;t<n.length;t++)La.add(n[t])}var Ua=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gi={},Or={};function za(t){return it.call(Or,t)?!0:it.call(Gi,t)?!1:Ua.test(t)?Or[t]=!0:(Gi[t]=!0,!1)}function Dr(t,n,s){if(za(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function fr(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function un(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Gn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oi(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(A){s=""+A,m.call(this,A)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(A){s=""+A},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ht(t){if(!t._valueTracker){var n=Fr(t)?"checked":"value";t._valueTracker=Oi(t,n,""+t[n])}}function hr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Fr(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function at(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jn=/[\n"\\]/g;function Cn(t){return t.replace(Jn,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(t,n,s,o,f,m,A,O){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),n!=null?A==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Gn(n)):t.value!==""+Gn(n)&&(t.value=""+Gn(n)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),n!=null?Ba(t,A,Gn(n)):s!=null?Ba(t,A,Gn(s)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?t.name=""+Gn(O):t.removeAttribute("name")}function is(t,n,s,o,f,m,A,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Ht(t);return}s=s!=null?""+Gn(s):"",n=n!=null?""+Gn(n):s,O||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=O?t.checked:!!o,t.defaultChecked=!!o,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A),Ht(t)}function Ba(t,n,s){n==="number"&&at(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function fn(t,n,s,o){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Gn(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function aa(t,n,s){if(n!=null&&(n=""+Gn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Gn(s):""}function ri(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(se(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Gn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),Ht(t)}function St(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sa(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||Cr.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function bi(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&sa(t,f,o)}else for(var m in n)n.hasOwnProperty(m)&&sa(t,m,n[m])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ii=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yi(t){return ii.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kr(){}var Sa=null;function ai(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var si=null,Hr=null;function oi(t){var n=nr(t);if(n&&(t=n.stateNode)){var s=t[Un]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ta(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Cn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var f=o[Un]||null;if(!f)throw Error(a(90));Ta(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&hr(o)}break e;case"textarea":aa(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&fn(t,!!s.multiple,n,!1)}}}var Wi=!1;function li(t,n,s){if(Wi)return t(n,s);Wi=!0;try{var o=t(n);return o}finally{if(Wi=!1,(si!==null||Hr!==null)&&(tf(),si&&(n=si,t=Hr,Hr=si=null,oi(n),t)))for(n=0;n<t.length;n++)oi(t[n])}}function Rr(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Un]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Di=!1;if(rr)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){Di=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{Di=!1}var Ei=null,Vr=null,Xi=null;function $i(){if(Xi)return Xi;var t,n=Vr,s=n.length,o,f="value"in Ei?Ei.value:Ei.textContent,m=f.length;for(t=0;t<s&&n[t]===f[t];t++);var A=s-t;for(o=1;o<=A&&n[s-o]===f[m-o];o++);return Xi=f.slice(t,1<o?1-o:void 0)}function ki(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ui(){return!0}function wi(){return!1}function ir(t){function n(s,o,f,m,A){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=A,this.currentTarget=null;for(var O in t)t.hasOwnProperty(O)&&(s=t[O],this[O]=s?s(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ui:wi,this.isPropagationStopped=wi,this}return k(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),n}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=ir(ci),la=k({},ci,{view:0,detail:0}),ja=ir(la),Ai,Ca,qr,Ra=k({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ge,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qr&&(qr&&t.type==="mousemove"?(Ai=t.screenX-qr.screenX,Ca=t.screenY-qr.screenY):Ca=Ai=0,qr=t),Ai)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),fi=ir(Ra),Ia=k({},Ra,{dataTransfer:0}),Ps=ir(Ia),Wn=k({},la,{relatedTarget:0}),Ki=ir(Wn),Gr=k({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Ls=ir(Gr),dr=k({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ua=ir(dr),xa=k({},ci,{data:0}),Si=ir(xa),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ha={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=q[t])?!!n[t]:!1}function ge(){return Q}var le=k({},la,{key:function(t){if(t.key){var n=Fa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ki(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ha[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ge,charCode:function(t){return t.type==="keypress"?ki(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ki(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Te=ir(le),Fe=k({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Be=ir(Fe),u=k({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ge}),y=ir(u),T=k({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=ir(T),te=k({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),he=ir(te),Ee=k({},ci,{newState:0,oldState:0}),Ke=ir(Ee),Ut=[9,13,27,32],Ot=rr&&"CompositionEvent"in window,hn=null;rr&&"documentMode"in document&&(hn=document.documentMode);var hi=rr&&"TextEvent"in window&&!hn,Vi=rr&&(!Ot||hn&&8<hn&&11>=hn),Pi=" ",Ci=!1;function ca(t,n){switch(t){case"keyup":return Ut.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function as(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function xh(t,n){switch(t){case"compositionend":return as(n);case"keypress":return n.which!==32?null:(Ci=!0,Pi);case"textInput":return t=n.data,t===Pi&&Ci?null:t;default:return null}}function Tc(t,n){if(ss)return t==="compositionend"||!Ot&&ca(t,n)?(t=$i(),Xi=Vr=Ei=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var tl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tl[t.type]:n==="textarea"}function Bn(t,n,s,o){si?Hr?Hr.push(o):Hr=[o]:si=o,n=uf(n,"onChange"),0<n.length&&(s=new Ti("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Ri=null,os=null;function Ac(t){wv(t,0)}function xo(t){var n=ur(t);if(hr(n))return t}function uu(t,n){if(t==="change")return n}var cu=!1;if(rr){var Us;if(rr){var nl="oninput"in document;if(!nl){var h=document.createElement("div");h.setAttribute("oninput","return;"),nl=typeof h.oninput=="function"}Us=nl}else Us=!1;cu=Us&&(!document.documentMode||9<document.documentMode)}function d(){Ri&&(Ri.detachEvent("onpropertychange",_),os=Ri=null)}function _(t){if(t.propertyName==="value"&&xo(os)){var n=[];Bn(n,os,t,ai(t)),li(Ac,n)}}function C(t,n,s){t==="focusin"?(d(),Ri=n,os=s,Ri.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xo(os)}function j(t,n){if(t==="click")return xo(n)}function Z(t,n){if(t==="input"||t==="change")return xo(n)}function ne(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var de=typeof Object.is=="function"?Object.is:ne;function ce(t,n){if(de(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!it.call(n,f)||!de(t[f],n[f]))return!1}return!0}function Ve(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qe(t,n){var s=Ve(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ve(s)}}function lt(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?lt(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function re(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=at(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=at(t.document)}return n}function ze(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var nt=rr&&"documentMode"in document&&11>=document.documentMode,je=null,dn=null,Je=null,zt=!1;function Tn(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zt||je==null||je!==at(o)||(o=je,"selectionStart"in o&&ze(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Je&&ce(Je,o)||(Je=o,o=uf(dn,"onSelect"),0<o.length&&(n=new Ti("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=je)))}function ar(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Li={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionrun:ar("Transition","TransitionRun"),transitionstart:ar("Transition","TransitionStart"),transitioncancel:ar("Transition","TransitionCancel"),transitionend:ar("Transition","TransitionEnd")},jt={},Qi={};rr&&(Qi=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function ls(t){if(jt[t])return jt[t];if(!Li[t])return t;var n=Li[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Qi)return jt[t]=n[s];return t}var ke=ls("animationend"),We=ls("animationiteration"),Bt=ls("animationstart"),Wt=ls("transitionrun"),Mt=ls("transitionstart"),qt=ls("transitioncancel"),rn=ls("transitionend"),cn=new Map,Ii="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ii.push("scrollEnd");function An(t,n){cn.set(t,n),Sr(n,[t])}var Yr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_n=[],us=0,rl=0;function qa(){for(var t=us,n=rl=us=0;n<t;){var s=_n[n];_n[n++]=null;var o=_n[n];_n[n++]=null;var f=_n[n];_n[n++]=null;var m=_n[n];if(_n[n++]=null,o!==null&&f!==null){var A=o.pending;A===null?f.next=f:(f.next=A.next,A.next=f),o.pending=f}m!==0&&fu(s,f,m)}}function Ga(t,n,s,o){_n[us++]=t,_n[us++]=n,_n[us++]=s,_n[us++]=o,rl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Na(t,n,s,o){return Ga(t,n,s,o),No(t)}function xi(t,n){return Ga(t,null,null,n),No(t)}function fu(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&n!==null&&(f=31-Ge(s),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=s|536870912),m):null}function No(t){if(50<Du)throw Du=0,zd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ji={};function Nh(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(t,n,s,o){return new Nh(t,n,s,o)}function Mh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cs(t,n){var s=t.alternate;return s===null?(s=di(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ig(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Sc(t,n,s,o,f,m){var A=0;if(o=t,typeof t=="function")Mh(t)&&(A=1);else if(typeof t=="string")A=Uw(t,s,Se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case L:return t=di(31,s,n,f),t.elementType=L,t.lanes=m,t;case Ie:return Mo(s.children,f,m,n);case be:A=8,f|=24;break;case Ue:return t=di(12,s,n,f|2),t.elementType=Ue,t.lanes=m,t;case tt:return t=di(13,s,n,f),t.elementType=tt,t.lanes=m,t;case st:return t=di(19,s,n,f),t.elementType=st,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Le:A=10;break e;case V:A=9;break e;case Xe:A=11;break e;case W:A=14;break e;case F:A=16,o=null;break e}A=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=di(A,s,n,f),n.elementType=t,n.type=o,n.lanes=m,n}function Mo(t,n,s,o){return t=di(7,t,o,n),t.lanes=s,t}function Oh(t,n,s){return t=di(6,t,null,n),t.lanes=s,t}function ag(t){var n=di(18,null,null,0);return n.stateNode=t,n}function Dh(t,n,s){return n=di(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var sg=new WeakMap;function fa(t,n){if(typeof t=="object"&&t!==null){var s=sg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:en(n)},sg.set(t,n),n)}return{value:t,source:n,stack:en(n)}}var il=[],al=0,Cc=null,hu=0,ha=[],da=0,zs=null,Ya=1,Wa="";function fs(t,n){il[al++]=hu,il[al++]=Cc,Cc=t,hu=n}function og(t,n,s){ha[da++]=Ya,ha[da++]=Wa,ha[da++]=zs,zs=t;var o=Ya;t=Wa;var f=32-Ge(o)-1;o&=~(1<<f),s+=1;var m=32-Ge(n)+f;if(30<m){var A=f-f%5;m=(o&(1<<A)-1).toString(32),o>>=A,f-=A,Ya=1<<32-Ge(n)+f|s<<f|o,Wa=m+t}else Ya=1<<m|s<<f|o,Wa=t}function kh(t){t.return!==null&&(fs(t,1),og(t,1,0))}function Vh(t){for(;t===Cc;)Cc=il[--al],il[al]=null,hu=il[--al],il[al]=null;for(;t===zs;)zs=ha[--da],ha[da]=null,Wa=ha[--da],ha[da]=null,Ya=ha[--da],ha[da]=null}function lg(t,n){ha[da++]=Ya,ha[da++]=Wa,ha[da++]=zs,Ya=n.id,Wa=n.overflow,zs=t}var Wr=null,jn=null,tn=!1,Bs=null,ma=!1,Ph=Error(a(519));function js(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw du(fa(n,t)),Ph}function ug(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[ln]=t,n[Un]=o,s){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(s=0;s<Vu.length;s++)Yt(Vu[s],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":Yt("invalid",n),is(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Yt("invalid",n);break;case"textarea":Yt("invalid",n),ri(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Cv(n.textContent,s)?(o.popover!=null&&(Yt("beforetoggle",n),Yt("toggle",n)),o.onScroll!=null&&Yt("scroll",n),o.onScrollEnd!=null&&Yt("scrollend",n),o.onClick!=null&&(n.onclick=kr),n=!0):n=!1,n||js(t,!0)}function cg(t){for(Wr=t.return;Wr;)switch(Wr.tag){case 5:case 31:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:Wr=Wr.return}}function sl(t){if(t!==Wr)return!1;if(!tn)return cg(t),tn=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||em(t.type,t.memoizedProps)),s=!s),s&&jn&&js(t),cg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));jn=Vv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));jn=Vv(t)}else n===27?(n=jn,to(t.type)?(t=am,am=null,jn=t):jn=n):jn=Wr?ga(t.stateNode.nextSibling):null;return!0}function Oo(){jn=Wr=null,tn=!1}function Lh(){var t=Bs;return t!==null&&(ji===null?ji=t:ji.push.apply(ji,t),Bs=null),t}function du(t){Bs===null?Bs=[t]:Bs.push(t)}var Uh=z(null),Do=null,hs=null;function Fs(t,n,s){Oe(Uh,n._currentValue),n._currentValue=s}function ds(t){t._currentValue=Uh.current,oe(Uh)}function zh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Bh(t,n,s,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var A=f.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=f;for(var X=0;X<n.length;X++)if(O.context===n[X]){m.lanes|=s,O=m.alternate,O!==null&&(O.lanes|=s),zh(m.return,s,t),o||(A=null);break e}m=O.next}}else if(f.tag===18){if(A=f.return,A===null)throw Error(a(341));A.lanes|=s,m=A.alternate,m!==null&&(m.lanes|=s),zh(A,s,t),A=null}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===t){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}}function ol(t,n,s,o){t=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var A=f.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var O=f.type;de(f.pendingProps.value,A.value)||(t!==null?t.push(O):t=[O])}}else if(f===dt.current){if(A=f.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Bu):t=[Bu])}f=f.return}t!==null&&Bh(n,t,s,o),n.flags|=262144}function Rc(t){for(t=t.firstContext;t!==null;){if(!de(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ko(t){Do=t,hs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xr(t){return fg(Do,t)}function Ic(t,n){return Do===null&&ko(t),fg(t,n)}function fg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},hs===null){if(t===null)throw Error(a(308));hs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else hs=hs.next=n;return s}var k1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},V1=i.unstable_scheduleCallback,P1=i.unstable_NormalPriority,mr={$$typeof:Le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new k1,data:new Map,refCount:0}}function mu(t){t.refCount--,t.refCount===0&&V1(P1,function(){t.controller.abort()})}var pu=null,Fh=0,ll=0,ul=null;function L1(t,n){if(pu===null){var s=pu=[];Fh=0,ll=Gd(),ul={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Fh++,n.then(hg,hg),n}function hg(){if(--Fh===0&&pu!==null){ul!==null&&(ul.status="fulfilled");var t=pu;pu=null,ll=0,ul=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function U1(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var dg=Y.S;Y.S=function(t,n){Ky=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&L1(t,n),dg!==null&&dg(t,n)};var Vo=z(null);function Hh(){var t=Vo.current;return t!==null?t:Pn.pooledCache}function xc(t,n){n===null?Oe(Vo,Vo.current):Oe(Vo,n.pool)}function mg(){var t=Hh();return t===null?null:{parent:mr._currentValue,pool:t}}var cl=Error(a(460)),qh=Error(a(474)),Nc=Error(a(542)),Mc={then:function(){}};function pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(kr,kr),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vg(t),t;default:if(typeof n.status=="string")n.then(kr,kr);else{if(t=Pn,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vg(t),t}throw Lo=n,cl}}function Po(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Lo=s,cl):s}}var Lo=null;function yg(){if(Lo===null)throw Error(a(459));var t=Lo;return Lo=null,t}function vg(t){if(t===cl||t===Nc)throw Error(a(483))}var fl=null,gu=0;function Oc(t){var n=gu;return gu+=1,fl===null&&(fl=[]),gg(fl,t,n)}function yu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Dc(t,n){throw n.$$typeof===G?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _g(t){function n(ie,$){if(t){var ue=ie.deletions;ue===null?(ie.deletions=[$],ie.flags|=16):ue.push($)}}function s(ie,$){if(!t)return null;for(;$!==null;)n(ie,$),$=$.sibling;return null}function o(ie){for(var $=new Map;ie!==null;)ie.key!==null?$.set(ie.key,ie):$.set(ie.index,ie),ie=ie.sibling;return $}function f(ie,$){return ie=cs(ie,$),ie.index=0,ie.sibling=null,ie}function m(ie,$,ue){return ie.index=ue,t?(ue=ie.alternate,ue!==null?(ue=ue.index,ue<$?(ie.flags|=67108866,$):ue):(ie.flags|=67108866,$)):(ie.flags|=1048576,$)}function A(ie){return t&&ie.alternate===null&&(ie.flags|=67108866),ie}function O(ie,$,ue,Ae){return $===null||$.tag!==6?($=Oh(ue,ie.mode,Ae),$.return=ie,$):($=f($,ue),$.return=ie,$)}function X(ie,$,ue,Ae){var pt=ue.type;return pt===Ie?we(ie,$,ue.props.children,Ae,ue.key):$!==null&&($.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===F&&Po(pt)===$.type)?($=f($,ue.props),yu($,ue),$.return=ie,$):($=Sc(ue.type,ue.key,ue.props,null,ie.mode,Ae),yu($,ue),$.return=ie,$)}function fe(ie,$,ue,Ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==ue.containerInfo||$.stateNode.implementation!==ue.implementation?($=Dh(ue,ie.mode,Ae),$.return=ie,$):($=f($,ue.children||[]),$.return=ie,$)}function we(ie,$,ue,Ae,pt){return $===null||$.tag!==7?($=Mo(ue,ie.mode,Ae,pt),$.return=ie,$):($=f($,ue),$.return=ie,$)}function Ce(ie,$,ue){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Oh(""+$,ie.mode,ue),$.return=ie,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case ae:return ue=Sc($.type,$.key,$.props,null,ie.mode,ue),yu(ue,$),ue.return=ie,ue;case B:return $=Dh($,ie.mode,ue),$.return=ie,$;case F:return $=Po($),Ce(ie,$,ue)}if(se($)||U($))return $=Mo($,ie.mode,ue,null),$.return=ie,$;if(typeof $.then=="function")return Ce(ie,Oc($),ue);if($.$$typeof===Le)return Ce(ie,Ic(ie,$),ue);Dc(ie,$)}return null}function me(ie,$,ue,Ae){var pt=$!==null?$.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return pt!==null?null:O(ie,$,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case ae:return ue.key===pt?X(ie,$,ue,Ae):null;case B:return ue.key===pt?fe(ie,$,ue,Ae):null;case F:return ue=Po(ue),me(ie,$,ue,Ae)}if(se(ue)||U(ue))return pt!==null?null:we(ie,$,ue,Ae,null);if(typeof ue.then=="function")return me(ie,$,Oc(ue),Ae);if(ue.$$typeof===Le)return me(ie,$,Ic(ie,ue),Ae);Dc(ie,ue)}return null}function ve(ie,$,ue,Ae,pt){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return ie=ie.get(ue)||null,O($,ie,""+Ae,pt);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case ae:return ie=ie.get(Ae.key===null?ue:Ae.key)||null,X($,ie,Ae,pt);case B:return ie=ie.get(Ae.key===null?ue:Ae.key)||null,fe($,ie,Ae,pt);case F:return Ae=Po(Ae),ve(ie,$,ue,Ae,pt)}if(se(Ae)||U(Ae))return ie=ie.get(ue)||null,we($,ie,Ae,pt,null);if(typeof Ae.then=="function")return ve(ie,$,ue,Oc(Ae),pt);if(Ae.$$typeof===Le)return ve(ie,$,ue,Ic($,Ae),pt);Dc($,Ae)}return null}function ut(ie,$,ue,Ae){for(var pt=null,mn=null,ht=$,Vt=$=0,$t=null;ht!==null&&Vt<ue.length;Vt++){ht.index>Vt?($t=ht,ht=null):$t=ht.sibling;var pn=me(ie,ht,ue[Vt],Ae);if(pn===null){ht===null&&(ht=$t);break}t&&ht&&pn.alternate===null&&n(ie,ht),$=m(pn,$,Vt),mn===null?pt=pn:mn.sibling=pn,mn=pn,ht=$t}if(Vt===ue.length)return s(ie,ht),tn&&fs(ie,Vt),pt;if(ht===null){for(;Vt<ue.length;Vt++)ht=Ce(ie,ue[Vt],Ae),ht!==null&&($=m(ht,$,Vt),mn===null?pt=ht:mn.sibling=ht,mn=ht);return tn&&fs(ie,Vt),pt}for(ht=o(ht);Vt<ue.length;Vt++)$t=ve(ht,ie,Vt,ue[Vt],Ae),$t!==null&&(t&&$t.alternate!==null&&ht.delete($t.key===null?Vt:$t.key),$=m($t,$,Vt),mn===null?pt=$t:mn.sibling=$t,mn=$t);return t&&ht.forEach(function(so){return n(ie,so)}),tn&&fs(ie,Vt),pt}function vt(ie,$,ue,Ae){if(ue==null)throw Error(a(151));for(var pt=null,mn=null,ht=$,Vt=$=0,$t=null,pn=ue.next();ht!==null&&!pn.done;Vt++,pn=ue.next()){ht.index>Vt?($t=ht,ht=null):$t=ht.sibling;var so=me(ie,ht,pn.value,Ae);if(so===null){ht===null&&(ht=$t);break}t&&ht&&so.alternate===null&&n(ie,ht),$=m(so,$,Vt),mn===null?pt=so:mn.sibling=so,mn=so,ht=$t}if(pn.done)return s(ie,ht),tn&&fs(ie,Vt),pt;if(ht===null){for(;!pn.done;Vt++,pn=ue.next())pn=Ce(ie,pn.value,Ae),pn!==null&&($=m(pn,$,Vt),mn===null?pt=pn:mn.sibling=pn,mn=pn);return tn&&fs(ie,Vt),pt}for(ht=o(ht);!pn.done;Vt++,pn=ue.next())pn=ve(ht,ie,Vt,pn.value,Ae),pn!==null&&(t&&pn.alternate!==null&&ht.delete(pn.key===null?Vt:pn.key),$=m(pn,$,Vt),mn===null?pt=pn:mn.sibling=pn,mn=pn);return t&&ht.forEach(function($w){return n(ie,$w)}),tn&&fs(ie,Vt),pt}function Mn(ie,$,ue,Ae){if(typeof ue=="object"&&ue!==null&&ue.type===Ie&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case ae:e:{for(var pt=ue.key;$!==null;){if($.key===pt){if(pt=ue.type,pt===Ie){if($.tag===7){s(ie,$.sibling),Ae=f($,ue.props.children),Ae.return=ie,ie=Ae;break e}}else if($.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===F&&Po(pt)===$.type){s(ie,$.sibling),Ae=f($,ue.props),yu(Ae,ue),Ae.return=ie,ie=Ae;break e}s(ie,$);break}else n(ie,$);$=$.sibling}ue.type===Ie?(Ae=Mo(ue.props.children,ie.mode,Ae,ue.key),Ae.return=ie,ie=Ae):(Ae=Sc(ue.type,ue.key,ue.props,null,ie.mode,Ae),yu(Ae,ue),Ae.return=ie,ie=Ae)}return A(ie);case B:e:{for(pt=ue.key;$!==null;){if($.key===pt)if($.tag===4&&$.stateNode.containerInfo===ue.containerInfo&&$.stateNode.implementation===ue.implementation){s(ie,$.sibling),Ae=f($,ue.children||[]),Ae.return=ie,ie=Ae;break e}else{s(ie,$);break}else n(ie,$);$=$.sibling}Ae=Dh(ue,ie.mode,Ae),Ae.return=ie,ie=Ae}return A(ie);case F:return ue=Po(ue),Mn(ie,$,ue,Ae)}if(se(ue))return ut(ie,$,ue,Ae);if(U(ue)){if(pt=U(ue),typeof pt!="function")throw Error(a(150));return ue=pt.call(ue),vt(ie,$,ue,Ae)}if(typeof ue.then=="function")return Mn(ie,$,Oc(ue),Ae);if(ue.$$typeof===Le)return Mn(ie,$,Ic(ie,ue),Ae);Dc(ie,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,$!==null&&$.tag===6?(s(ie,$.sibling),Ae=f($,ue),Ae.return=ie,ie=Ae):(s(ie,$),Ae=Oh(ue,ie.mode,Ae),Ae.return=ie,ie=Ae),A(ie)):s(ie,$)}return function(ie,$,ue,Ae){try{gu=0;var pt=Mn(ie,$,ue,Ae);return fl=null,pt}catch(ht){if(ht===cl||ht===Nc)throw ht;var mn=di(29,ht,null,ie.mode);return mn.lanes=Ae,mn.return=ie,mn}finally{}}}var Uo=_g(!0),bg=_g(!1),Hs=!1;function Gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(bn&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=No(t),fu(t,null,s),n}return Ga(t,o,n,s),No(t)}function vu(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,kn(t,s)}}function Wh(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=A:m=m.next=A,s=s.next}while(s!==null);m===null?f=m=n:m=m.next=n}else f=m=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Xh=!1;function _u(){if(Xh){var t=ul;if(t!==null)throw t}}function bu(t,n,s,o){Xh=!1;var f=t.updateQueue;Hs=!1;var m=f.firstBaseUpdate,A=f.lastBaseUpdate,O=f.shared.pending;if(O!==null){f.shared.pending=null;var X=O,fe=X.next;X.next=null,A===null?m=fe:A.next=fe,A=X;var we=t.alternate;we!==null&&(we=we.updateQueue,O=we.lastBaseUpdate,O!==A&&(O===null?we.firstBaseUpdate=fe:O.next=fe,we.lastBaseUpdate=X))}if(m!==null){var Ce=f.baseState;A=0,we=fe=X=null,O=m;do{var me=O.lane&-536870913,ve=me!==O.lane;if(ve?(Xt&me)===me:(o&me)===me){me!==0&&me===ll&&(Xh=!0),we!==null&&(we=we.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var ut=t,vt=O;me=n;var Mn=s;switch(vt.tag){case 1:if(ut=vt.payload,typeof ut=="function"){Ce=ut.call(Mn,Ce,me);break e}Ce=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=vt.payload,me=typeof ut=="function"?ut.call(Mn,Ce,me):ut,me==null)break e;Ce=k({},Ce,me);break e;case 2:Hs=!0}}me=O.callback,me!==null&&(t.flags|=64,ve&&(t.flags|=8192),ve=f.callbacks,ve===null?f.callbacks=[me]:ve.push(me))}else ve={lane:me,tag:O.tag,payload:O.payload,callback:O.callback,next:null},we===null?(fe=we=ve,X=Ce):we=we.next=ve,A|=me;if(O=O.next,O===null){if(O=f.shared.pending,O===null)break;ve=O,O=ve.next,ve.next=null,f.lastBaseUpdate=ve,f.shared.pending=null}}while(!0);we===null&&(X=Ce),f.baseState=X,f.firstBaseUpdate=fe,f.lastBaseUpdate=we,m===null&&(f.shared.lanes=0),Ks|=A,t.lanes=A,t.memoizedState=Ce}}function Eg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function wg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Eg(s[t],n)}var hl=z(null),kc=z(0);function Tg(t,n){t=ws,Oe(kc,t),Oe(hl,n),ws=t|n.baseLanes}function $h(){Oe(kc,ws),Oe(hl,hl.current)}function Kh(){ws=kc.current,oe(hl),oe(kc)}var Zi=z(null),pa=null;function Ys(t){var n=t.alternate;Oe(sr,sr.current&1),Oe(Zi,t),pa===null&&(n===null||hl.current!==null||n.memoizedState!==null)&&(pa=t)}function Qh(t){Oe(sr,sr.current),Oe(Zi,t),pa===null&&(pa=t)}function Ag(t){t.tag===22?(Oe(sr,sr.current),Oe(Zi,t),pa===null&&(pa=t)):Ws()}function Ws(){Oe(sr,sr.current),Oe(Zi,Zi.current)}function ea(t){oe(Zi),pa===t&&(pa=null),oe(sr)}var sr=z(0);function Vc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||rm(s)||im(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ms=0,Dt=null,xn=null,pr=null,Pc=!1,dl=!1,zo=!1,Lc=0,Eu=0,ml=null,z1=0;function Zn(){throw Error(a(321))}function Jh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!de(t[s],n[s]))return!1;return!0}function Zh(t,n,s,o,f,m){return ms=m,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?oy:md,zo=!1,m=s(o,f),zo=!1,dl&&(m=Cg(n,s,o,f)),Sg(t),m}function Sg(t){Y.H=Au;var n=xn!==null&&xn.next!==null;if(ms=0,pr=xn=Dt=null,Pc=!1,Eu=0,ml=null,n)throw Error(a(300));t===null||gr||(t=t.dependencies,t!==null&&Rc(t)&&(gr=!0))}function Cg(t,n,s,o){Dt=t;var f=0;do{if(dl&&(ml=null),Eu=0,dl=!1,25<=f)throw Error(a(301));if(f+=1,pr=xn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=ly,m=n(s,o)}while(dl);return m}function B1(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?wu(n):n,t=t.useState()[0],(xn!==null?xn.memoizedState:null)!==t&&(Dt.flags|=1024),n}function ed(){var t=Lc!==0;return Lc=0,t}function td(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function nd(t){if(Pc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pc=!1}ms=0,pr=xn=Dt=null,dl=!1,Eu=Lc=0,ml=null}function Ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?Dt.memoizedState=pr=t:pr=pr.next=t,pr}function or(){if(xn===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var n=pr===null?Dt.memoizedState:pr.next;if(n!==null)pr=n,xn=t;else{if(t===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},pr===null?Dt.memoizedState=pr=t:pr=pr.next=t}return pr}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(t){var n=Eu;return Eu+=1,ml===null&&(ml=[]),t=gg(ml,t,n),n=Dt,(pr===null?n.memoizedState:pr.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?oy:md),t}function zc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wu(t);if(t.$$typeof===Le)return Xr(t)}throw Error(a(438,String(t)))}function rd(t){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Uc(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=H;return n.index++,s}function ps(t,n){return typeof n=="function"?n(t):n}function Bc(t){var n=or();return id(n,xn,t)}function id(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var A=f.next;f.next=m.next,m.next=A}n.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{n=f.next;var O=A=null,X=null,fe=n,we=!1;do{var Ce=fe.lane&-536870913;if(Ce!==fe.lane?(Xt&Ce)===Ce:(ms&Ce)===Ce){var me=fe.revertLane;if(me===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ce===ll&&(we=!0);else if((ms&me)===me){fe=fe.next,me===ll&&(we=!0);continue}else Ce={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},X===null?(O=X=Ce,A=m):X=X.next=Ce,Dt.lanes|=me,Ks|=me;Ce=fe.action,zo&&s(m,Ce),m=fe.hasEagerState?fe.eagerState:s(m,Ce)}else me={lane:Ce,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},X===null?(O=X=me,A=m):X=X.next=me,Dt.lanes|=Ce,Ks|=Ce;fe=fe.next}while(fe!==null&&fe!==n);if(X===null?A=m:X.next=O,!de(m,t.memoizedState)&&(gr=!0,we&&(s=ul,s!==null)))throw s;t.memoizedState=m,t.baseState=A,t.baseQueue=X,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ad(t){var n=or(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,f=s.pending,m=n.memoizedState;if(f!==null){s.pending=null;var A=f=f.next;do m=t(m,A.action),A=A.next;while(A!==f);de(m,n.memoizedState)||(gr=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,o]}function Rg(t,n,s){var o=Dt,f=or(),m=tn;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=n();var A=!de((xn||f).memoizedState,s);if(A&&(f.memoizedState=s,gr=!0),f=f.queue,ld(Ng.bind(null,o,f,t),[t]),f.getSnapshot!==n||A||pr!==null&&pr.memoizedState.tag&1){if(o.flags|=2048,pl(9,{destroy:void 0},xg.bind(null,o,f,s,n),null),Pn===null)throw Error(a(349));m||(ms&127)!==0||Ig(o,n,s)}return s}function Ig(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=Uc(),Dt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function xg(t,n,s,o){n.value=s,n.getSnapshot=o,Mg(n)&&Og(t)}function Ng(t,n,s){return s(function(){Mg(n)&&Og(t)})}function Mg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!de(t,s)}catch{return!0}}function Og(t){var n=xi(t,2);n!==null&&Fi(n,t,2)}function sd(t){var n=Ni();if(typeof t=="function"){var s=t;if(t=s(),zo){He(!0);try{s()}finally{He(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:t},n}function Dg(t,n,s,o){return t.baseState=s,id(t,xn,typeof o=="function"?o:ps)}function j1(t,n,s,o,f){if(Hc(t))throw Error(a(485));if(t=n.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){m.listeners.push(A)}};Y.T!==null?s(!0):m.isTransition=!1,o(m),s=n.pending,s===null?(m.next=n.pending=m,kg(n,m)):(m.next=s.next,n.pending=s.next=m)}}function kg(t,n){var s=n.action,o=n.payload,f=t.state;if(n.isTransition){var m=Y.T,A={};Y.T=A;try{var O=s(f,o),X=Y.S;X!==null&&X(A,O),Vg(t,n,O)}catch(fe){od(t,n,fe)}finally{m!==null&&A.types!==null&&(m.types=A.types),Y.T=m}}else try{m=s(f,o),Vg(t,n,m)}catch(fe){od(t,n,fe)}}function Vg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Pg(t,n,o)},function(o){return od(t,n,o)}):Pg(t,n,s)}function Pg(t,n,s){n.status="fulfilled",n.value=s,Lg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,kg(t,s)))}function od(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Lg(n),n=n.next;while(n!==o)}t.action=null}function Lg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ug(t,n){return n}function zg(t,n){if(tn){var s=Pn.formState;if(s!==null){e:{var o=Dt;if(tn){if(jn){t:{for(var f=jn,m=ma;f.nodeType!==8;){if(!m){f=null;break t}if(f=ga(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){jn=ga(f.nextSibling),o=f.data==="F!";break e}}js(o)}o=!1}o&&(n=s[0])}}return s=Ni(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:n},s.queue=o,s=iy.bind(null,Dt,o),o.dispatch=s,o=sd(!1),m=dd.bind(null,Dt,!1,o.queue),o=Ni(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,s=j1.bind(null,Dt,f,m,s),f.dispatch=s,o.memoizedState=t,[n,s,!1]}function Bg(t){var n=or();return jg(n,xn,t)}function jg(t,n,s){if(n=id(t,n,Ug)[0],t=Bc(ps)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=wu(n)}catch(A){throw A===cl?Nc:A}else o=n;n=or();var f=n.queue,m=f.dispatch;return s!==n.memoizedState&&(Dt.flags|=2048,pl(9,{destroy:void 0},F1.bind(null,f,s),null)),[o,m,t]}function F1(t,n){t.action=n}function Fg(t){var n=or(),s=xn;if(s!==null)return jg(n,s,t);or(),n=n.memoizedState,s=or();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function pl(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Uc(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Hg(){return or().memoizedState}function jc(t,n,s,o){var f=Ni();Dt.flags|=t,f.memoizedState=pl(1|n,{destroy:void 0},s,o===void 0?null:o)}function Fc(t,n,s,o){var f=or();o=o===void 0?null:o;var m=f.memoizedState.inst;xn!==null&&o!==null&&Jh(o,xn.memoizedState.deps)?f.memoizedState=pl(n,m,s,o):(Dt.flags|=t,f.memoizedState=pl(1|n,m,s,o))}function qg(t,n){jc(8390656,8,t,n)}function ld(t,n){Fc(2048,8,t,n)}function H1(t){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=Uc(),Dt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Gg(t){var n=or().memoizedState;return H1({ref:n,nextImpl:t}),function(){if((bn&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Yg(t,n){return Fc(4,2,t,n)}function Wg(t,n){return Fc(4,4,t,n)}function Xg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $g(t,n,s){s=s!=null?s.concat([t]):null,Fc(4,4,Xg.bind(null,n,t),s)}function ud(){}function Kg(t,n){var s=or();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Jh(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Qg(t,n){var s=or();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Jh(n,o[1]))return o[0];if(o=t(),zo){He(!0);try{t()}finally{He(!1)}}return s.memoizedState=[o,n],o}function cd(t,n,s){return s===void 0||(ms&1073741824)!==0&&(Xt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Jy(),Dt.lanes|=t,Ks|=t,s)}function Jg(t,n,s,o){return de(s,n)?s:hl.current!==null?(t=cd(t,s,o),de(t,n)||(gr=!0),t):(ms&42)===0||(ms&1073741824)!==0&&(Xt&261930)===0?(gr=!0,t.memoizedState=s):(t=Jy(),Dt.lanes|=t,Ks|=t,n)}function Zg(t,n,s,o,f){var m=K.p;K.p=m!==0&&8>m?m:8;var A=Y.T,O={};Y.T=O,dd(t,!1,n,s);try{var X=f(),fe=Y.S;if(fe!==null&&fe(O,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var we=U1(X,o);Tu(t,n,we,ra(t))}else Tu(t,n,o,ra(t))}catch(Ce){Tu(t,n,{then:function(){},status:"rejected",reason:Ce},ra())}finally{K.p=m,A!==null&&O.types!==null&&(A.types=O.types),Y.T=A}}function q1(){}function fd(t,n,s,o){if(t.tag!==5)throw Error(a(476));var f=ey(t).queue;Zg(t,f,n,_e,s===null?q1:function(){return ty(t),s(o)})}function ey(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:_e},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ty(t){var n=ey(t);n.next===null&&(n=t.alternate.memoizedState),Tu(t,n.next.queue,{},ra())}function hd(){return Xr(Bu)}function ny(){return or().memoizedState}function ry(){return or().memoizedState}function G1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=ra();t=qs(s);var o=Gs(n,t,s);o!==null&&(Fi(o,n,s),vu(o,n,s)),n={cache:jh()},t.payload=n;return}n=n.return}}function Y1(t,n,s){var o=ra();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hc(t)?ay(n,s):(s=Na(t,n,s,o),s!==null&&(Fi(s,t,o),sy(s,n,o)))}function iy(t,n,s){var o=ra();Tu(t,n,s,o)}function Tu(t,n,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hc(t))ay(n,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var A=n.lastRenderedState,O=m(A,s);if(f.hasEagerState=!0,f.eagerState=O,de(O,A))return Ga(t,n,f,0),Pn===null&&qa(),!1}catch{}finally{}if(s=Na(t,n,f,o),s!==null)return Fi(s,t,o),sy(s,n,o),!0}return!1}function dd(t,n,s,o){if(o={lane:2,revertLane:Gd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hc(t)){if(n)throw Error(a(479))}else n=Na(t,s,o,2),n!==null&&Fi(n,t,2)}function Hc(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function ay(t,n){dl=Pc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function sy(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,kn(t,s)}}var Au={readContext:Xr,use:zc,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useLayoutEffect:Zn,useInsertionEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useSyncExternalStore:Zn,useId:Zn,useHostTransitionStatus:Zn,useFormState:Zn,useActionState:Zn,useOptimistic:Zn,useMemoCache:Zn,useCacheRefresh:Zn};Au.useEffectEvent=Zn;var oy={readContext:Xr,use:zc,useCallback:function(t,n){return Ni().memoizedState=[t,n===void 0?null:n],t},useContext:Xr,useEffect:qg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,jc(4194308,4,Xg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return jc(4194308,4,t,n)},useInsertionEffect:function(t,n){jc(4,2,t,n)},useMemo:function(t,n){var s=Ni();n=n===void 0?null:n;var o=t();if(zo){He(!0);try{t()}finally{He(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Ni();if(s!==void 0){var f=s(n);if(zo){He(!0);try{s(n)}finally{He(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Y1.bind(null,Dt,t),[o.memoizedState,t]},useRef:function(t){var n=Ni();return t={current:t},n.memoizedState=t},useState:function(t){t=sd(t);var n=t.queue,s=iy.bind(null,Dt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:ud,useDeferredValue:function(t,n){var s=Ni();return cd(s,t,n)},useTransition:function(){var t=sd(!1);return t=Zg.bind(null,Dt,t.queue,!0,!1),Ni().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Dt,f=Ni();if(tn){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Pn===null)throw Error(a(349));(Xt&127)!==0||Ig(o,n,s)}f.memoizedState=s;var m={value:s,getSnapshot:n};return f.queue=m,qg(Ng.bind(null,o,m,t),[t]),o.flags|=2048,pl(9,{destroy:void 0},xg.bind(null,o,m,s,n),null),s},useId:function(){var t=Ni(),n=Pn.identifierPrefix;if(tn){var s=Wa,o=Ya;s=(o&~(1<<32-Ge(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Lc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=z1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:hd,useFormState:zg,useActionState:zg,useOptimistic:function(t){var n=Ni();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=dd.bind(null,Dt,!0,s),s.dispatch=n,[t,n]},useMemoCache:rd,useCacheRefresh:function(){return Ni().memoizedState=G1.bind(null,Dt)},useEffectEvent:function(t){var n=Ni(),s={impl:t};return n.memoizedState=s,function(){if((bn&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},md={readContext:Xr,use:zc,useCallback:Kg,useContext:Xr,useEffect:ld,useImperativeHandle:$g,useInsertionEffect:Yg,useLayoutEffect:Wg,useMemo:Qg,useReducer:Bc,useRef:Hg,useState:function(){return Bc(ps)},useDebugValue:ud,useDeferredValue:function(t,n){var s=or();return Jg(s,xn.memoizedState,t,n)},useTransition:function(){var t=Bc(ps)[0],n=or().memoizedState;return[typeof t=="boolean"?t:wu(t),n]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:hd,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,n){var s=or();return Dg(s,xn,t,n)},useMemoCache:rd,useCacheRefresh:ry};md.useEffectEvent=Gg;var ly={readContext:Xr,use:zc,useCallback:Kg,useContext:Xr,useEffect:ld,useImperativeHandle:$g,useInsertionEffect:Yg,useLayoutEffect:Wg,useMemo:Qg,useReducer:ad,useRef:Hg,useState:function(){return ad(ps)},useDebugValue:ud,useDeferredValue:function(t,n){var s=or();return xn===null?cd(s,t,n):Jg(s,xn.memoizedState,t,n)},useTransition:function(){var t=ad(ps)[0],n=or().memoizedState;return[typeof t=="boolean"?t:wu(t),n]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:hd,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,n){var s=or();return xn!==null?Dg(s,xn,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:rd,useCacheRefresh:ry};ly.useEffectEvent=Gg;function pd(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:k({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var gd={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=ra(),f=qs(o);f.payload=n,s!=null&&(f.callback=s),n=Gs(t,f,o),n!==null&&(Fi(n,t,o),vu(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=ra(),f=qs(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Gs(t,f,o),n!==null&&(Fi(n,t,o),vu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=ra(),o=qs(s);o.tag=2,n!=null&&(o.callback=n),n=Gs(t,o,s),n!==null&&(Fi(n,t,s),vu(n,t,s))}};function uy(t,n,s,o,f,m,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,A):n.prototype&&n.prototype.isPureReactComponent?!ce(s,o)||!ce(f,m):!0}function cy(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&gd.enqueueReplaceState(n,n.state,null)}function Bo(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=k({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function fy(t){Yr(t)}function hy(t){console.error(t)}function dy(t){Yr(t)}function qc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function my(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(t,n,s){return s=qs(s),s.tag=3,s.payload={element:null},s.callback=function(){qc(t,n)},s}function py(t){return t=qs(t),t.tag=3,t}function gy(t,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){my(n,s,o)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){my(n,s,o),typeof f!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var O=o.stack;this.componentDidCatch(o.value,{componentStack:O!==null?O:""})})}function W1(t,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ol(n,s,f,!0),s=Zi.current,s!==null){switch(s.tag){case 31:case 13:return pa===null?nf():s.alternate===null&&er===0&&(er=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===Mc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Fd(t,o,f)),!1;case 22:return s.flags|=65536,o===Mc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Fd(t,o,f)),!1}throw Error(a(435,s.tag))}return Fd(t,o,f),nf(),!1}if(tn)return n=Zi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Ph&&(t=Error(a(422),{cause:o}),du(fa(t,s)))):(o!==Ph&&(n=Error(a(423),{cause:o}),du(fa(n,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=fa(o,s),f=yd(t.stateNode,o,f),Wh(t,f),er!==4&&(er=2)),!1;var m=Error(a(520),{cause:o});if(m=fa(m,s),Ou===null?Ou=[m]:Ou.push(m),er!==4&&(er=2),n===null)return!0;o=fa(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=yd(s.stateNode,o,t),Wh(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Qs===null||!Qs.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=py(f),gy(f,t,s,o),Wh(s,f),!1}s=s.return}while(s!==null);return!1}var vd=Error(a(461)),gr=!1;function $r(t,n,s,o){n.child=t===null?bg(n,null,s,o):Uo(n,t.child,s,o)}function yy(t,n,s,o,f){s=s.render;var m=n.ref;if("ref"in o){var A={};for(var O in o)O!=="ref"&&(A[O]=o[O])}else A=o;return ko(n),o=Zh(t,n,s,A,m,f),O=ed(),t!==null&&!gr?(td(t,n,f),gs(t,n,f)):(tn&&O&&kh(n),n.flags|=1,$r(t,n,o,f),n.child)}function vy(t,n,s,o,f){if(t===null){var m=s.type;return typeof m=="function"&&!Mh(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,_y(t,n,m,o,f)):(t=Sc(s.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Cd(t,f)){var A=m.memoizedProps;if(s=s.compare,s=s!==null?s:ce,s(A,o)&&t.ref===n.ref)return gs(t,n,f)}return n.flags|=1,t=cs(m,o),t.ref=n.ref,t.return=n,n.child=t}function _y(t,n,s,o,f){if(t!==null){var m=t.memoizedProps;if(ce(m,o)&&t.ref===n.ref)if(gr=!1,n.pendingProps=o=m,Cd(t,f))(t.flags&131072)!==0&&(gr=!0);else return n.lanes=t.lanes,gs(t,n,f)}return _d(t,n,s,o,f)}function by(t,n,s,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(o=n.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,n.child=null;return Ey(t,n,m,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xc(n,m!==null?m.cachePool:null),m!==null?Tg(n,m):$h(),Ag(n);else return o=n.lanes=536870912,Ey(t,n,m!==null?m.baseLanes|s:s,s,o)}else m!==null?(xc(n,m.cachePool),Tg(n,m),Ws(),n.memoizedState=null):(t!==null&&xc(n,null),$h(),Ws());return $r(t,n,f,s),n.child}function Su(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ey(t,n,s,o,f){var m=Hh();return m=m===null?null:{parent:mr._currentValue,pool:m},n.memoizedState={baseLanes:s,cachePool:m},t!==null&&xc(n,null),$h(),Ag(n),t!==null&&ol(t,n,o,!0),n.childLanes=f,null}function Gc(t,n){return n=Wc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function wy(t,n,s){return Uo(n,t.child,null,s),t=Gc(n,n.pendingProps),t.flags|=2,ea(n),n.memoizedState=null,t}function X1(t,n,s){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(tn){if(o.mode==="hidden")return t=Gc(n,o),n.lanes=536870912,Su(null,t);if(Qh(n),(t=jn)?(t=kv(t,ma),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Ya,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},s=ag(t),s.return=n,n.child=s,Wr=n,jn=null)):t=null,t===null)throw js(n);return n.lanes=536870912,null}return Gc(n,o)}var m=t.memoizedState;if(m!==null){var A=m.dehydrated;if(Qh(n),f)if(n.flags&256)n.flags&=-257,n=wy(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(gr||ol(t,n,s,!1),f=(s&t.childLanes)!==0,gr||f){if(o=Pn,o!==null&&(A=wr(o,s),A!==0&&A!==m.retryLane))throw m.retryLane=A,xi(t,A),Fi(o,t,A),vd;nf(),n=wy(t,n,s)}else t=m.treeContext,jn=ga(A.nextSibling),Wr=n,tn=!0,Bs=null,ma=!1,t!==null&&lg(n,t),n=Gc(n,o),n.flags|=4096;return n}return t=cs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Yc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function _d(t,n,s,o,f){return ko(n),s=Zh(t,n,s,o,void 0,f),o=ed(),t!==null&&!gr?(td(t,n,f),gs(t,n,f)):(tn&&o&&kh(n),n.flags|=1,$r(t,n,s,f),n.child)}function Ty(t,n,s,o,f,m){return ko(n),n.updateQueue=null,s=Cg(n,o,s,f),Sg(t),o=ed(),t!==null&&!gr?(td(t,n,m),gs(t,n,m)):(tn&&o&&kh(n),n.flags|=1,$r(t,n,s,m),n.child)}function Ay(t,n,s,o,f){if(ko(n),n.stateNode===null){var m=Ji,A=s.contextType;typeof A=="object"&&A!==null&&(m=Xr(A)),m=new s(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=gd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Gh(n),A=s.contextType,m.context=typeof A=="object"&&A!==null?Xr(A):Ji,m.state=n.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(pd(n,s,A,o),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(A=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),A!==m.state&&gd.enqueueReplaceState(m,m.state,null),bu(n,o,m,f),_u(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var O=n.memoizedProps,X=Bo(s,O);m.props=X;var fe=m.context,we=s.contextType;A=Ji,typeof we=="object"&&we!==null&&(A=Xr(we));var Ce=s.getDerivedStateFromProps;we=typeof Ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=n.pendingProps!==O,we||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||fe!==A)&&cy(n,m,o,A),Hs=!1;var me=n.memoizedState;m.state=me,bu(n,o,m,f),_u(),fe=n.memoizedState,O||me!==fe||Hs?(typeof Ce=="function"&&(pd(n,s,Ce,o),fe=n.memoizedState),(X=Hs||uy(n,s,X,o,me,fe,A))?(we||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=fe),m.props=o,m.state=fe,m.context=A,o=X):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Yh(t,n),A=n.memoizedProps,we=Bo(s,A),m.props=we,Ce=n.pendingProps,me=m.context,fe=s.contextType,X=Ji,typeof fe=="object"&&fe!==null&&(X=Xr(fe)),O=s.getDerivedStateFromProps,(fe=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A!==Ce||me!==X)&&cy(n,m,o,X),Hs=!1,me=n.memoizedState,m.state=me,bu(n,o,m,f),_u();var ve=n.memoizedState;A!==Ce||me!==ve||Hs||t!==null&&t.dependencies!==null&&Rc(t.dependencies)?(typeof O=="function"&&(pd(n,s,O,o),ve=n.memoizedState),(we=Hs||uy(n,s,we,o,me,ve,X)||t!==null&&t.dependencies!==null&&Rc(t.dependencies))?(fe||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ve,X),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ve,X)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||A===t.memoizedProps&&me===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&me===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ve),m.props=o,m.state=ve,m.context=X,o=we):(typeof m.componentDidUpdate!="function"||A===t.memoizedProps&&me===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&me===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Yc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Uo(n,t.child,null,f),n.child=Uo(n,null,s,f)):$r(t,n,s,f),n.memoizedState=m.state,t=n.child):t=gs(t,n,f),t}function Sy(t,n,s,o){return Oo(),n.flags|=256,$r(t,n,s,o),n.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:mg()}}function wd(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=na),t}function Cy(t,n,s){var o=n.pendingProps,f=!1,m=(n.flags&128)!==0,A;if((A=m)||(A=t!==null&&t.memoizedState===null?!1:(sr.current&2)!==0),A&&(f=!0,n.flags&=-129),A=(n.flags&32)!==0,n.flags&=-33,t===null){if(tn){if(f?Ys(n):Ws(),(t=jn)?(t=kv(t,ma),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Ya,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},s=ag(t),s.return=n,n.child=s,Wr=n,jn=null)):t=null,t===null)throw js(n);return im(t)?n.lanes=32:n.lanes=536870912,null}var O=o.children;return o=o.fallback,f?(Ws(),f=n.mode,O=Wc({mode:"hidden",children:O},f),o=Mo(o,f,s,null),O.return=n,o.return=n,O.sibling=o,n.child=O,o=n.child,o.memoizedState=Ed(s),o.childLanes=wd(t,A,s),n.memoizedState=bd,Su(null,o)):(Ys(n),Td(n,O))}var X=t.memoizedState;if(X!==null&&(O=X.dehydrated,O!==null)){if(m)n.flags&256?(Ys(n),n.flags&=-257,n=Ad(t,n,s)):n.memoizedState!==null?(Ws(),n.child=t.child,n.flags|=128,n=null):(Ws(),O=o.fallback,f=n.mode,o=Wc({mode:"visible",children:o.children},f),O=Mo(O,f,s,null),O.flags|=2,o.return=n,O.return=n,o.sibling=O,n.child=o,Uo(n,t.child,null,s),o=n.child,o.memoizedState=Ed(s),o.childLanes=wd(t,A,s),n.memoizedState=bd,n=Su(null,o));else if(Ys(n),im(O)){if(A=O.nextSibling&&O.nextSibling.dataset,A)var fe=A.dgst;A=fe,o=Error(a(419)),o.stack="",o.digest=A,du({value:o,source:null,stack:null}),n=Ad(t,n,s)}else if(gr||ol(t,n,s,!1),A=(s&t.childLanes)!==0,gr||A){if(A=Pn,A!==null&&(o=wr(A,s),o!==0&&o!==X.retryLane))throw X.retryLane=o,xi(t,o),Fi(A,t,o),vd;rm(O)||nf(),n=Ad(t,n,s)}else rm(O)?(n.flags|=192,n.child=t.child,n=null):(t=X.treeContext,jn=ga(O.nextSibling),Wr=n,tn=!0,Bs=null,ma=!1,t!==null&&lg(n,t),n=Td(n,o.children),n.flags|=4096);return n}return f?(Ws(),O=o.fallback,f=n.mode,X=t.child,fe=X.sibling,o=cs(X,{mode:"hidden",children:o.children}),o.subtreeFlags=X.subtreeFlags&65011712,fe!==null?O=cs(fe,O):(O=Mo(O,f,s,null),O.flags|=2),O.return=n,o.return=n,o.sibling=O,n.child=o,Su(null,o),o=n.child,O=t.child.memoizedState,O===null?O=Ed(s):(f=O.cachePool,f!==null?(X=mr._currentValue,f=f.parent!==X?{parent:X,pool:X}:f):f=mg(),O={baseLanes:O.baseLanes|s,cachePool:f}),o.memoizedState=O,o.childLanes=wd(t,A,s),n.memoizedState=bd,Su(t.child,o)):(Ys(n),s=t.child,t=s.sibling,s=cs(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(A=n.deletions,A===null?(n.deletions=[t],n.flags|=16):A.push(t)),n.child=s,n.memoizedState=null,s)}function Td(t,n){return n=Wc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wc(t,n){return t=di(22,t,null,n),t.lanes=0,t}function Ad(t,n,s){return Uo(n,t.child,null,s),t=Td(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ry(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),zh(t.return,n,s)}function Sd(t,n,s,o,f,m){var A=t.memoizedState;A===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:m}:(A.isBackwards=n,A.rendering=null,A.renderingStartTime=0,A.last=o,A.tail=s,A.tailMode=f,A.treeForkCount=m)}function Iy(t,n,s){var o=n.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var A=sr.current,O=(A&2)!==0;if(O?(A=A&1|2,n.flags|=128):A&=1,Oe(sr,A),$r(t,n,o,s),o=tn?hu:0,!O&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,s,n);else if(t.tag===19)Ry(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&Vc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Sd(n,!1,f,s,m,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Vc(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Sd(n,!0,s,null,m,o);break;case"together":Sd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function gs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ks|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ol(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=cs(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=cs(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Cd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Rc(t)))}function $1(t,n,s){switch(n.tag){case 3:ft(n,n.stateNode.containerInfo),Fs(n,mr,t.memoizedState.cache),Oo();break;case 27:case 5:bt(n);break;case 4:ft(n,n.stateNode.containerInfo);break;case 10:Fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Qh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ys(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Cy(t,n,s):(Ys(n),t=gs(t,n,s),t!==null?t.sibling:null);Ys(n);break;case 19:var f=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ol(t,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return Iy(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Oe(sr,sr.current),o)break;return null;case 22:return n.lanes=0,by(t,n,s,n.pendingProps);case 24:Fs(n,mr,t.memoizedState.cache)}return gs(t,n,s)}function xy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)gr=!0;else{if(!Cd(t,s)&&(n.flags&128)===0)return gr=!1,$1(t,n,s);gr=(t.flags&131072)!==0}else gr=!1,tn&&(n.flags&1048576)!==0&&og(n,hu,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Po(n.elementType),n.type=t,typeof t=="function")Mh(t)?(o=Bo(t,o),n.tag=1,n=Ay(null,n,t,o,s)):(n.tag=0,n=_d(null,n,t,o,s));else{if(t!=null){var f=t.$$typeof;if(f===Xe){n.tag=11,n=yy(null,n,t,o,s);break e}else if(f===W){n.tag=14,n=vy(null,n,t,o,s);break e}}throw n=ee(t)||t,Error(a(306,n,""))}}return n;case 0:return _d(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=Bo(o,n.pendingProps),Ay(t,n,o,f,s);case 3:e:{if(ft(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var m=n.memoizedState;f=m.element,Yh(t,n),bu(n,o,null,s);var A=n.memoizedState;if(o=A.cache,Fs(n,mr,o),o!==m.cache&&Bh(n,[mr],s,!0),_u(),o=A.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:A.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Sy(t,n,o,s);break e}else if(o!==f){f=fa(Error(a(424)),n),du(f),n=Sy(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(jn=ga(t.firstChild),Wr=n,tn=!0,Bs=null,ma=!0,s=bg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Oo(),o===f){n=gs(t,n,s);break e}$r(t,n,o,s)}n=n.child}return n;case 26:return Yc(t,n),t===null?(s=Bv(n.type,null,n.pendingProps,null))?n.memoizedState=s:tn||(s=n.type,t=n.pendingProps,o=cf($e.current).createElement(s),o[ln]=n,o[Un]=t,Kr(o,s,t),zn(o),n.stateNode=o):n.memoizedState=Bv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return bt(n),t===null&&tn&&(o=n.stateNode=Lv(n.type,n.pendingProps,$e.current),Wr=n,ma=!0,f=jn,to(n.type)?(am=f,jn=ga(o.firstChild)):jn=f),$r(t,n,n.pendingProps.children,s),Yc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&tn&&((f=o=jn)&&(o=Sw(o,n.type,n.pendingProps,ma),o!==null?(n.stateNode=o,Wr=n,jn=ga(o.firstChild),ma=!1,f=!0):f=!1),f||js(n)),bt(n),f=n.type,m=n.pendingProps,A=t!==null?t.memoizedProps:null,o=m.children,em(f,m)?o=null:A!==null&&em(f,A)&&(n.flags|=32),n.memoizedState!==null&&(f=Zh(t,n,B1,null,null,s),Bu._currentValue=f),Yc(t,n),$r(t,n,o,s),n.child;case 6:return t===null&&tn&&((t=s=jn)&&(s=Cw(s,n.pendingProps,ma),s!==null?(n.stateNode=s,Wr=n,jn=null,t=!0):t=!1),t||js(n)),null;case 13:return Cy(t,n,s);case 4:return ft(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Uo(n,null,o,s):$r(t,n,o,s),n.child;case 11:return yy(t,n,n.type,n.pendingProps,s);case 7:return $r(t,n,n.pendingProps,s),n.child;case 8:return $r(t,n,n.pendingProps.children,s),n.child;case 12:return $r(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Fs(n,n.type,o.value),$r(t,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,ko(n),f=Xr(f),o=o(f),n.flags|=1,$r(t,n,o,s),n.child;case 14:return vy(t,n,n.type,n.pendingProps,s);case 15:return _y(t,n,n.type,n.pendingProps,s);case 19:return Iy(t,n,s);case 31:return X1(t,n,s);case 22:return by(t,n,s,n.pendingProps);case 24:return ko(n),o=Xr(mr),t===null?(f=Hh(),f===null&&(f=Pn,m=jh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),n.memoizedState={parent:o,cache:f},Gh(n),Fs(n,mr,f)):((t.lanes&s)!==0&&(Yh(t,n),bu(n,null,null,s),_u()),f=t.memoizedState,m=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Fs(n,mr,o)):(o=m.cache,Fs(n,mr,o),o!==f.cache&&Bh(n,[mr],s,!0))),$r(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ys(t){t.flags|=4}function Rd(t,n,s,o,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(nv())t.flags|=8192;else throw Lo=Mc,qh}else t.flags&=-16777217}function Ny(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gv(n))if(nv())t.flags|=8192;else throw Lo=Mc,qh}function Xc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?yt():536870912,t.lanes|=n,_l|=n)}function Cu(t,n){if(!tn)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Fn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function K1(t,n,s){var o=n.pendingProps;switch(Vh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(n),null;case 1:return Fn(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ds(mr),_t(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(sl(n)?ys(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lh())),Fn(n),null;case 26:var f=n.type,m=n.memoizedState;return t===null?(ys(n),m!==null?(Fn(n),Ny(n,m)):(Fn(n),Rd(n,f,null,o,s))):m?m!==t.memoizedState?(ys(n),Fn(n),Ny(n,m)):(Fn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ys(n),Fn(n),Rd(n,f,t,o,s)),null;case 27:if(sn(n),s=$e.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ys(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Fn(n),null}t=Se.current,sl(n)?ug(n):(t=Lv(f,o,s),n.stateNode=t,ys(n))}return Fn(n),null;case 5:if(sn(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ys(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Fn(n),null}if(m=Se.current,sl(n))ug(n);else{var A=cf($e.current);switch(m){case 1:m=A.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=A.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=A.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?A.createElement("select",{is:o.is}):A.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?A.createElement(f,{is:o.is}):A.createElement(f)}}m[ln]=n,m[Un]=o;e:for(A=n.child;A!==null;){if(A.tag===5||A.tag===6)m.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===n)break e;for(;A.sibling===null;){if(A.return===null||A.return===n)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}n.stateNode=m;e:switch(Kr(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ys(n)}}return Fn(n),Rd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ys(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=$e.current,sl(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,f=Wr,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[ln]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Cv(t.nodeValue,s)),t||js(n,!0)}else t=cf(t).createTextNode(o),t[ln]=n,n.stateNode=t}return Fn(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=sl(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[ln]=n}else Oo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fn(n),t=!1}else s=Lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(ea(n),n):(ea(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Fn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=sl(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ln]=n}else Oo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fn(n),f=!1}else f=Lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ea(n),n):(ea(n),null)}return ea(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Xc(n,n.updateQueue),Fn(n),null);case 4:return _t(),t===null&&$d(n.stateNode.containerInfo),Fn(n),null;case 10:return ds(n.type),Fn(n),null;case 19:if(oe(sr),o=n.memoizedState,o===null)return Fn(n),null;if(f=(n.flags&128)!==0,m=o.rendering,m===null)if(f)Cu(o,!1);else{if(er!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Vc(t),m!==null){for(n.flags|=128,Cu(o,!1),t=m.updateQueue,n.updateQueue=t,Xc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)ig(s,t),s=s.sibling;return Oe(sr,sr.current&1|2),tn&&fs(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&nn()>Zc&&(n.flags|=128,f=!0,Cu(o,!1),n.lanes=4194304)}else{if(!f)if(t=Vc(m),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,Xc(n,t),Cu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!tn)return Fn(n),null}else 2*nn()-o.renderingStartTime>Zc&&s!==536870912&&(n.flags|=128,f=!0,Cu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,s=sr.current,Oe(sr,f?s&1|2:s&1),tn&&fs(n,o.treeForkCount),t):(Fn(n),null);case 22:case 23:return ea(n),Kh(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Fn(n),n.subtreeFlags&6&&(n.flags|=8192)):Fn(n),s=n.updateQueue,s!==null&&Xc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&oe(Vo),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ds(mr),Fn(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Q1(t,n){switch(Vh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ds(mr),_t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return sn(n),null;case 31:if(n.memoizedState!==null){if(ea(n),n.alternate===null)throw Error(a(340));Oo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(ea(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Oo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(sr),null;case 4:return _t(),null;case 10:return ds(n.type),null;case 22:case 23:return ea(n),Kh(),t!==null&&oe(Vo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ds(mr),null;case 25:return null;default:return null}}function My(t,n){switch(Vh(n),n.tag){case 3:ds(mr),_t();break;case 26:case 27:case 5:sn(n);break;case 4:_t();break;case 31:n.memoizedState!==null&&ea(n);break;case 13:ea(n);break;case 19:oe(sr);break;case 10:ds(n.type);break;case 22:case 23:ea(n),Kh(),t!==null&&oe(Vo);break;case 24:ds(mr)}}function Ru(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&t)===t){o=void 0;var m=s.create,A=s.inst;o=m(),A.destroy=o}s=s.next}while(s!==f)}}catch(O){In(n,n.return,O)}}function Xs(t,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var A=o.inst,O=A.destroy;if(O!==void 0){A.destroy=void 0,f=n;var X=s,fe=O;try{fe()}catch(we){In(f,X,we)}}}o=o.next}while(o!==m)}}catch(we){In(n,n.return,we)}}function Oy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{wg(n,s)}catch(o){In(t,t.return,o)}}}function Dy(t,n,s){s.props=Bo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){In(t,n,o)}}function Iu(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(f){In(t,n,f)}}function Xa(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){In(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){In(t,n,f)}else s.current=null}function ky(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){In(t,t.return,f)}}function Id(t,n,s){try{var o=t.stateNode;_w(o,t.type,s,n),o[Un]=n}catch(f){In(t,t.return,f)}}function Vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&to(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&to(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=kr));else if(o!==4&&(o===27&&to(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Nd(t,n,s),t=t.sibling;t!==null;)Nd(t,n,s),t=t.sibling}function $c(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&to(t.type)&&(s=t.stateNode),t=t.child,t!==null))for($c(t,n,s),t=t.sibling;t!==null;)$c(t,n,s),t=t.sibling}function Py(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Kr(n,o,s),n[ln]=t,n[Un]=s}catch(m){In(t,t.return,m)}}var vs=!1,yr=!1,Md=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function J1(t,n){if(t=t.containerInfo,Jd=yf,t=re(t),ze(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var A=0,O=-1,X=-1,fe=0,we=0,Ce=t,me=null;t:for(;;){for(var ve;Ce!==s||f!==0&&Ce.nodeType!==3||(O=A+f),Ce!==m||o!==0&&Ce.nodeType!==3||(X=A+o),Ce.nodeType===3&&(A+=Ce.nodeValue.length),(ve=Ce.firstChild)!==null;)me=Ce,Ce=ve;for(;;){if(Ce===t)break t;if(me===s&&++fe===f&&(O=A),me===m&&++we===o&&(X=A),(ve=Ce.nextSibling)!==null)break;Ce=me,me=Ce.parentNode}Ce=ve}s=O===-1||X===-1?null:{start:O,end:X}}else s=null}s=s||{start:0,end:0}}else s=null;for(Zd={focusedElem:t,selectionRange:s},yf=!1,Pr=n;Pr!==null;)if(n=Pr,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pr=t;else for(;Pr!==null;){switch(n=Pr,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=n,f=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var ut=Bo(s.type,f);t=o.getSnapshotBeforeUpdate(ut,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(vt){In(s,s.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)nm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Pr=t;break}Pr=n.return}}function Uy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:bs(t,s),o&4&&Ru(5,s);break;case 1:if(bs(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(A){In(s,s.return,A)}else{var f=Bo(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(A){In(s,s.return,A)}}o&64&&Oy(s),o&512&&Iu(s,s.return);break;case 3:if(bs(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{wg(t,n)}catch(A){In(s,s.return,A)}}break;case 27:n===null&&o&4&&Py(s);case 26:case 5:bs(t,s),n===null&&o&4&&ky(s),o&512&&Iu(s,s.return);break;case 12:bs(t,s);break;case 31:bs(t,s),o&4&&jy(t,s);break;case 13:bs(t,s),o&4&&Fy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=ow.bind(null,s),Rw(t,s))));break;case 22:if(o=s.memoizedState!==null||vs,!o){n=n!==null&&n.memoizedState!==null||yr,f=vs;var m=yr;vs=o,(yr=n)&&!m?Es(t,s,(s.subtreeFlags&8772)!==0):bs(t,s),vs=f,yr=m}break;case 30:break;default:bs(t,s)}}function zy(t){var n=t.alternate;n!==null&&(t.alternate=null,zy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Tr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Yn=null,Ui=!1;function _s(t,n,s){for(s=s.child;s!==null;)By(t,n,s),s=s.sibling}function By(t,n,s){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(et,s)}catch{}switch(s.tag){case 26:yr||Xa(s,n),_s(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:yr||Xa(s,n);var o=Yn,f=Ui;to(s.type)&&(Yn=s.stateNode,Ui=!1),_s(t,n,s),Lu(s.stateNode),Yn=o,Ui=f;break;case 5:yr||Xa(s,n);case 6:if(o=Yn,f=Ui,Yn=null,_s(t,n,s),Yn=o,Ui=f,Yn!==null)if(Ui)try{(Yn.nodeType===9?Yn.body:Yn.nodeName==="HTML"?Yn.ownerDocument.body:Yn).removeChild(s.stateNode)}catch(m){In(s,n,m)}else try{Yn.removeChild(s.stateNode)}catch(m){In(s,n,m)}break;case 18:Yn!==null&&(Ui?(t=Yn,Ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Rl(t)):Ov(Yn,s.stateNode));break;case 4:o=Yn,f=Ui,Yn=s.stateNode.containerInfo,Ui=!0,_s(t,n,s),Yn=o,Ui=f;break;case 0:case 11:case 14:case 15:Xs(2,s,n),yr||Xs(4,s,n),_s(t,n,s);break;case 1:yr||(Xa(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Dy(s,n,o)),_s(t,n,s);break;case 21:_s(t,n,s);break;case 22:yr=(o=yr)||s.memoizedState!==null,_s(t,n,s),yr=o;break;default:_s(t,n,s)}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Rl(t)}catch(s){In(n,n.return,s)}}}function Fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(s){In(n,n.return,s)}}function Z1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ly),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ly),n;default:throw Error(a(435,t.tag))}}function Kc(t,n){var s=Z1(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var f=lw.bind(null,t,o);o.then(f,f)}})}function zi(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],m=t,A=n,O=A;e:for(;O!==null;){switch(O.tag){case 27:if(to(O.type)){Yn=O.stateNode,Ui=!1;break e}break;case 5:Yn=O.stateNode,Ui=!1;break e;case 3:case 4:Yn=O.stateNode.containerInfo,Ui=!0;break e}O=O.return}if(Yn===null)throw Error(a(160));By(m,A,f),Yn=null,Ui=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hy(n,t),n=n.sibling}var Ma=null;function Hy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zi(n,t),Bi(t),o&4&&(Xs(3,t,t.return),Ru(3,t),Xs(5,t,t.return));break;case 1:zi(n,t),Bi(t),o&512&&(yr||s===null||Xa(s,s.return)),o&64&&vs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=Ma;if(zi(n,t),Bi(t),o&512&&(yr||s===null||Xa(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[tr]||m[ln]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Kr(m,o,s),m[ln]=t,zn(m),o=m;break e;case"link":var A=Hv("link","href",f).get(o+(s.href||""));if(A){for(var O=0;O<A.length;O++)if(m=A[O],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(O,1);break t}}m=f.createElement(o),Kr(m,o,s),f.head.appendChild(m);break;case"meta":if(A=Hv("meta","content",f).get(o+(s.content||""))){for(O=0;O<A.length;O++)if(m=A[O],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(O,1);break t}}m=f.createElement(o),Kr(m,o,s),f.head.appendChild(m);break;default:throw Error(a(468,o))}m[ln]=t,zn(m),o=m}t.stateNode=o}else qv(f,t.type,t.stateNode);else t.stateNode=Fv(f,o,t.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?qv(f,t.type,t.stateNode):Fv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Id(t,t.memoizedProps,s.memoizedProps)}break;case 27:zi(n,t),Bi(t),o&512&&(yr||s===null||Xa(s,s.return)),s!==null&&o&4&&Id(t,t.memoizedProps,s.memoizedProps);break;case 5:if(zi(n,t),Bi(t),o&512&&(yr||s===null||Xa(s,s.return)),t.flags&32){f=t.stateNode;try{St(f,"")}catch(ut){In(t,t.return,ut)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Id(t,f,s!==null?s.memoizedProps:f)),o&1024&&(Md=!0);break;case 6:if(zi(n,t),Bi(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ut){In(t,t.return,ut)}}break;case 3:if(df=null,f=Ma,Ma=ff(n.containerInfo),zi(n,t),Ma=f,Bi(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Rl(n.containerInfo)}catch(ut){In(t,t.return,ut)}Md&&(Md=!1,qy(t));break;case 4:o=Ma,Ma=ff(t.stateNode.containerInfo),zi(n,t),Bi(t),Ma=o;break;case 12:zi(n,t),Bi(t);break;case 31:zi(n,t),Bi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Kc(t,o)));break;case 13:zi(n,t),Bi(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Jc=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Kc(t,o)));break;case 22:f=t.memoizedState!==null;var X=s!==null&&s.memoizedState!==null,fe=vs,we=yr;if(vs=fe||f,yr=we||X,zi(n,t),yr=we,vs=fe,Bi(t),o&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||X||vs||yr||jo(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){X=s=n;try{if(m=X.stateNode,f)A=m.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{O=X.stateNode;var Ce=X.memoizedProps.style,me=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;O.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(ut){In(X,X.return,ut)}}}else if(n.tag===6){if(s===null){X=n;try{X.stateNode.nodeValue=f?"":X.memoizedProps}catch(ut){In(X,X.return,ut)}}}else if(n.tag===18){if(s===null){X=n;try{var ve=X.stateNode;f?Dv(ve,!0):Dv(X.stateNode,!1)}catch(ut){In(X,X.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Kc(t,s))));break;case 19:zi(n,t),Bi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Kc(t,o)));break;case 30:break;case 21:break;default:zi(n,t),Bi(t)}}function Bi(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Vy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,m=xd(t);$c(t,m,f);break;case 5:var A=s.stateNode;s.flags&32&&(St(A,""),s.flags&=-33);var O=xd(t);$c(t,O,A);break;case 3:case 4:var X=s.stateNode.containerInfo,fe=xd(t);Nd(t,fe,X);break;default:throw Error(a(161))}}catch(we){In(t,t.return,we)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;qy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function bs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Uy(t,n.alternate,n),n=n.sibling}function jo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xs(4,n,n.return),jo(n);break;case 1:Xa(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Dy(n,n.return,s),jo(n);break;case 27:Lu(n.stateNode);case 26:case 5:Xa(n,n.return),jo(n);break;case 22:n.memoizedState===null&&jo(n);break;case 30:jo(n);break;default:jo(n)}t=t.sibling}}function Es(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,m=n,A=m.flags;switch(m.tag){case 0:case 11:case 15:Es(f,m,s),Ru(4,m);break;case 1:if(Es(f,m,s),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(fe){In(o,o.return,fe)}if(o=m,f=o.updateQueue,f!==null){var O=o.stateNode;try{var X=f.shared.hiddenCallbacks;if(X!==null)for(f.shared.hiddenCallbacks=null,f=0;f<X.length;f++)Eg(X[f],O)}catch(fe){In(o,o.return,fe)}}s&&A&64&&Oy(m),Iu(m,m.return);break;case 27:Py(m);case 26:case 5:Es(f,m,s),s&&o===null&&A&4&&ky(m),Iu(m,m.return);break;case 12:Es(f,m,s);break;case 31:Es(f,m,s),s&&A&4&&jy(f,m);break;case 13:Es(f,m,s),s&&A&4&&Fy(f,m);break;case 22:m.memoizedState===null&&Es(f,m,s),Iu(m,m.return);break;case 30:break;default:Es(f,m,s)}n=n.sibling}}function Od(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&mu(s))}function Dd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&mu(t))}function Oa(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gy(t,n,s,o),n=n.sibling}function Gy(t,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Oa(t,n,s,o),f&2048&&Ru(9,n);break;case 1:Oa(t,n,s,o);break;case 3:Oa(t,n,s,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&mu(t)));break;case 12:if(f&2048){Oa(t,n,s,o),t=n.stateNode;try{var m=n.memoizedProps,A=m.id,O=m.onPostCommit;typeof O=="function"&&O(A,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(X){In(n,n.return,X)}}else Oa(t,n,s,o);break;case 31:Oa(t,n,s,o);break;case 13:Oa(t,n,s,o);break;case 23:break;case 22:m=n.stateNode,A=n.alternate,n.memoizedState!==null?m._visibility&2?Oa(t,n,s,o):xu(t,n):m._visibility&2?Oa(t,n,s,o):(m._visibility|=2,gl(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Od(A,n);break;case 24:Oa(t,n,s,o),f&2048&&Dd(n.alternate,n);break;default:Oa(t,n,s,o)}}function gl(t,n,s,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,A=n,O=s,X=o,fe=A.flags;switch(A.tag){case 0:case 11:case 15:gl(m,A,O,X,f),Ru(8,A);break;case 23:break;case 22:var we=A.stateNode;A.memoizedState!==null?we._visibility&2?gl(m,A,O,X,f):xu(m,A):(we._visibility|=2,gl(m,A,O,X,f)),f&&fe&2048&&Od(A.alternate,A);break;case 24:gl(m,A,O,X,f),f&&fe&2048&&Dd(A.alternate,A);break;default:gl(m,A,O,X,f)}n=n.sibling}}function xu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,f=o.flags;switch(o.tag){case 22:xu(s,o),f&2048&&Od(o.alternate,o);break;case 24:xu(s,o),f&2048&&Dd(o.alternate,o);break;default:xu(s,o)}n=n.sibling}}var Nu=8192;function yl(t,n,s){if(t.subtreeFlags&Nu)for(t=t.child;t!==null;)Yy(t,n,s),t=t.sibling}function Yy(t,n,s){switch(t.tag){case 26:yl(t,n,s),t.flags&Nu&&t.memoizedState!==null&&zw(s,Ma,t.memoizedState,t.memoizedProps);break;case 5:yl(t,n,s);break;case 3:case 4:var o=Ma;Ma=ff(t.stateNode.containerInfo),yl(t,n,s),Ma=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Nu,Nu=16777216,yl(t,n,s),Nu=o):yl(t,n,s));break;default:yl(t,n,s)}}function Wy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pr=o,$y(o,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:Mu(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:Mu(t);break;case 12:Mu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Qc(t)):Mu(t);break;default:Mu(t)}}function Qc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pr=o,$y(o,t)}Wy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xs(8,n,n.return),Qc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Qc(n));break;default:Qc(n)}t=t.sibling}}function $y(t,n){for(;Pr!==null;){var s=Pr;switch(s.tag){case 0:case 11:case 15:Xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:mu(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Pr=o;else e:for(s=t;Pr!==null;){o=Pr;var f=o.sibling,m=o.return;if(zy(o),o===s){Pr=null;break e}if(f!==null){f.return=m,Pr=f;break e}Pr=m}}}var ew={getCacheForType:function(t){var n=Xr(mr),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Xr(mr).controller.signal}},tw=typeof WeakMap=="function"?WeakMap:Map,bn=0,Pn=null,Gt=null,Xt=0,Rn=0,ta=null,$s=!1,vl=!1,kd=!1,ws=0,er=0,Ks=0,Fo=0,Vd=0,na=0,_l=0,Ou=null,ji=null,Pd=!1,Jc=0,Ky=0,Zc=1/0,ef=null,Qs=null,Ir=0,Js=null,bl=null,Ts=0,Ld=0,Ud=null,Qy=null,Du=0,zd=null;function ra(){return(bn&2)!==0&&Xt!==0?Xt&-Xt:Y.T!==null?Gd():qi()}function Jy(){if(na===0)if((Xt&536870912)===0||tn){var t=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),na=t}else na=536870912;return t=Zi.current,t!==null&&(t.flags|=32),na}function Fi(t,n,s){(t===Pn&&(Rn===2||Rn===9)||t.cancelPendingCommit!==null)&&(El(t,0),Zs(t,Xt,na,!1)),At(t,s),((bn&2)===0||t!==Pn)&&(t===Pn&&((bn&2)===0&&(Fo|=s),er===4&&Zs(t,Xt,na,!1)),$a(t))}function Zy(t,n,s){if((bn&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||qn(t,n),f=o?iw(t,n):jd(t,n,!0),m=o;do{if(f===0){vl&&!o&&Zs(t,n,0,!1);break}else{if(s=t.current.alternate,m&&!nw(s)){f=jd(t,n,!1),m=!1;continue}if(f===2){if(m=n,t.errorRecoveryDisabledLanes&m)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){n=A;e:{var O=t;f=Ou;var X=O.current.memoizedState.isDehydrated;if(X&&(El(O,A).flags|=256),A=jd(O,A,!1),A!==2){if(kd&&!X){O.errorRecoveryDisabledLanes|=m,Fo|=m,f=4;break e}m=ji,ji=f,m!==null&&(ji===null?ji=m:ji.push.apply(ji,m))}f=A}if(m=!1,f!==2)continue}}if(f===1){El(t,0),Zs(t,n,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Zs(o,n,na,!$s);break e;case 2:ji=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Jc+300-nn(),10<f)){if(Zs(o,n,na,!$s),On(o,0,!0)!==0)break e;Ts=n,o.timeoutHandle=Nv(ev.bind(null,o,s,ji,ef,Pd,n,na,Fo,_l,$s,m,"Throttled",-0,0),f);break e}ev(o,s,ji,ef,Pd,n,na,Fo,_l,$s,m,null,-0,0)}}break}while(!0);$a(t)}function ev(t,n,s,o,f,m,A,O,X,fe,we,Ce,me,ve){if(t.timeoutHandle=-1,Ce=n.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kr},Yy(n,m,Ce);var ut=(m&62914560)===m?Jc-nn():(m&4194048)===m?Ky-nn():0;if(ut=Bw(Ce,ut),ut!==null){Ts=m,t.cancelPendingCommit=ut(lv.bind(null,t,n,m,s,o,f,A,O,X,we,Ce,null,me,ve)),Zs(t,m,A,!fe);return}}lv(t,n,m,s,o,f,A,O,X)}function nw(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],m=f.getSnapshot;f=f.value;try{if(!de(m(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zs(t,n,s,o){n&=~Vd,n&=~Fo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var m=31-Ge(f),A=1<<m;o[m]=-1,f&=~A}s!==0&&Qn(t,s,n)}function tf(){return(bn&6)===0?(ku(0),!1):!0}function Bd(){if(Gt!==null){if(Rn===0)var t=Gt.return;else t=Gt,hs=Do=null,nd(t),fl=null,gu=0,t=Gt;for(;t!==null;)My(t.alternate,t),t=t.return;Gt=null}}function El(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,ww(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ts=0,Bd(),Pn=t,Gt=s=cs(t.current,null),Xt=n,Rn=0,ta=null,$s=!1,vl=qn(t,n),kd=!1,_l=na=Vd=Fo=Ks=er=0,ji=Ou=null,Pd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-Ge(o),m=1<<f;n|=t[f],o&=~m}return ws=n,qa(),s}function tv(t,n){Dt=null,Y.H=Au,n===cl||n===Nc?(n=yg(),Rn=3):n===qh?(n=yg(),Rn=4):Rn=n===vd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ta=n,Gt===null&&(er=1,qc(t,fa(n,t.current)))}function nv(){var t=Zi.current;return t===null?!0:(Xt&4194048)===Xt?pa===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?t===pa:!1}function rv(){var t=Y.H;return Y.H=Au,t===null?Au:t}function iv(){var t=Y.A;return Y.A=ew,t}function nf(){er=4,$s||(Xt&4194048)!==Xt&&Zi.current!==null||(vl=!0),(Ks&134217727)===0&&(Fo&134217727)===0||Pn===null||Zs(Pn,Xt,na,!1)}function jd(t,n,s){var o=bn;bn|=2;var f=rv(),m=iv();(Pn!==t||Xt!==n)&&(ef=null,El(t,n)),n=!1;var A=er;e:do try{if(Rn!==0&&Gt!==null){var O=Gt,X=ta;switch(Rn){case 8:Bd(),A=6;break e;case 3:case 2:case 9:case 6:Zi.current===null&&(n=!0);var fe=Rn;if(Rn=0,ta=null,wl(t,O,X,fe),s&&vl){A=0;break e}break;default:fe=Rn,Rn=0,ta=null,wl(t,O,X,fe)}}rw(),A=er;break}catch(we){tv(t,we)}while(!0);return n&&t.shellSuspendCounter++,hs=Do=null,bn=o,Y.H=f,Y.A=m,Gt===null&&(Pn=null,Xt=0,qa()),A}function rw(){for(;Gt!==null;)av(Gt)}function iw(t,n){var s=bn;bn|=2;var o=rv(),f=iv();Pn!==t||Xt!==n?(ef=null,Zc=nn()+500,El(t,n)):vl=qn(t,n);e:do try{if(Rn!==0&&Gt!==null){n=Gt;var m=ta;t:switch(Rn){case 1:Rn=0,ta=null,wl(t,n,m,1);break;case 2:case 9:if(pg(m)){Rn=0,ta=null,sv(n);break}n=function(){Rn!==2&&Rn!==9||Pn!==t||(Rn=7),$a(t)},m.then(n,n);break e;case 3:Rn=7;break e;case 4:Rn=5;break e;case 7:pg(m)?(Rn=0,ta=null,sv(n)):(Rn=0,ta=null,wl(t,n,m,7));break;case 5:var A=null;switch(Gt.tag){case 26:A=Gt.memoizedState;case 5:case 27:var O=Gt;if(A?Gv(A):O.stateNode.complete){Rn=0,ta=null;var X=O.sibling;if(X!==null)Gt=X;else{var fe=O.return;fe!==null?(Gt=fe,rf(fe)):Gt=null}break t}}Rn=0,ta=null,wl(t,n,m,5);break;case 6:Rn=0,ta=null,wl(t,n,m,6);break;case 8:Bd(),er=6;break e;default:throw Error(a(462))}}aw();break}catch(we){tv(t,we)}while(!0);return hs=Do=null,Y.H=o,Y.A=f,bn=s,Gt!==null?0:(Pn=null,Xt=0,qa(),er)}function aw(){for(;Gt!==null&&!ei();)av(Gt)}function av(t){var n=xy(t.alternate,t,ws);t.memoizedProps=t.pendingProps,n===null?rf(t):Gt=n}function sv(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Ty(s,n,n.pendingProps,n.type,void 0,Xt);break;case 11:n=Ty(s,n,n.pendingProps,n.type.render,n.ref,Xt);break;case 5:nd(n);default:My(s,n),n=Gt=ig(n,ws),n=xy(s,n,ws)}t.memoizedProps=t.pendingProps,n===null?rf(t):Gt=n}function wl(t,n,s,o){hs=Do=null,nd(n),fl=null,gu=0;var f=n.return;try{if(W1(t,f,n,s,Xt)){er=1,qc(t,fa(s,t.current)),Gt=null;return}}catch(m){if(f!==null)throw Gt=f,m;er=1,qc(t,fa(s,t.current)),Gt=null;return}n.flags&32768?(tn||o===1?t=!0:vl||(Xt&536870912)!==0?t=!1:($s=t=!0,(o===2||o===9||o===3||o===6)&&(o=Zi.current,o!==null&&o.tag===13&&(o.flags|=16384))),ov(n,t)):rf(n)}function rf(t){var n=t;do{if((n.flags&32768)!==0){ov(n,$s);return}t=n.return;var s=K1(n.alternate,n,ws);if(s!==null){Gt=s;return}if(n=n.sibling,n!==null){Gt=n;return}Gt=n=t}while(n!==null);er===0&&(er=5)}function ov(t,n){do{var s=Q1(t.alternate,t);if(s!==null){s.flags&=32767,Gt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=s}while(t!==null);er=6,Gt=null}function lv(t,n,s,o,f,m,A,O,X){t.cancelPendingCommit=null;do af();while(Ir!==0);if((bn&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=rl,zr(t,s,m,A,O,X),t===Pn&&(Gt=Pn=null,Xt=0),bl=n,Js=t,Ts=s,Ld=m,Ud=f,Qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uw(v,function(){return dv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,f=K.p,K.p=2,A=bn,bn|=4;try{J1(t,n,s)}finally{bn=A,K.p=f,Y.T=o}}Ir=1,uv(),cv(),fv()}}function uv(){if(Ir===1){Ir=0;var t=Js,n=bl,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var o=K.p;K.p=2;var f=bn;bn|=4;try{Hy(n,t);var m=Zd,A=re(t.containerInfo),O=m.focusedElem,X=m.selectionRange;if(A!==O&&O&&O.ownerDocument&&lt(O.ownerDocument.documentElement,O)){if(X!==null&&ze(O)){var fe=X.start,we=X.end;if(we===void 0&&(we=fe),"selectionStart"in O)O.selectionStart=fe,O.selectionEnd=Math.min(we,O.value.length);else{var Ce=O.ownerDocument||document,me=Ce&&Ce.defaultView||window;if(me.getSelection){var ve=me.getSelection(),ut=O.textContent.length,vt=Math.min(X.start,ut),Mn=X.end===void 0?vt:Math.min(X.end,ut);!ve.extend&&vt>Mn&&(A=Mn,Mn=vt,vt=A);var ie=Qe(O,vt),$=Qe(O,Mn);if(ie&&$&&(ve.rangeCount!==1||ve.anchorNode!==ie.node||ve.anchorOffset!==ie.offset||ve.focusNode!==$.node||ve.focusOffset!==$.offset)){var ue=Ce.createRange();ue.setStart(ie.node,ie.offset),ve.removeAllRanges(),vt>Mn?(ve.addRange(ue),ve.extend($.node,$.offset)):(ue.setEnd($.node,$.offset),ve.addRange(ue))}}}}for(Ce=[],ve=O;ve=ve.parentNode;)ve.nodeType===1&&Ce.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<Ce.length;O++){var Ae=Ce[O];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}yf=!!Jd,Zd=Jd=null}finally{bn=f,K.p=o,Y.T=s}}t.current=n,Ir=2}}function cv(){if(Ir===2){Ir=0;var t=Js,n=bl,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var o=K.p;K.p=2;var f=bn;bn|=4;try{Uy(t,n.alternate,n)}finally{bn=f,K.p=o,Y.T=s}}Ir=3}}function fv(){if(Ir===4||Ir===3){Ir=0,Kn();var t=Js,n=bl,s=Ts,o=Qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ir=5:(Ir=0,bl=Js=null,hv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Qs=null),Ye(s),n=n.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(et,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Y.T,f=K.p,K.p=2,Y.T=null;try{for(var m=t.onRecoverableError,A=0;A<o.length;A++){var O=o[A];m(O.value,{componentStack:O.stack})}}finally{Y.T=n,K.p=f}}(Ts&3)!==0&&af(),$a(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===zd?Du++:(Du=0,zd=t):Du=0,ku(0)}}function hv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,mu(n)))}function af(){return uv(),cv(),fv(),dv()}function dv(){if(Ir!==5)return!1;var t=Js,n=Ld;Ld=0;var s=Ye(Ts),o=Y.T,f=K.p;try{K.p=32>s?32:s,Y.T=null,s=Ud,Ud=null;var m=Js,A=Ts;if(Ir=0,bl=Js=null,Ts=0,(bn&6)!==0)throw Error(a(331));var O=bn;if(bn|=4,Xy(m.current),Gy(m,m.current,A,s),bn=O,ku(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(et,m)}catch{}return!0}finally{K.p=f,Y.T=o,hv(t,n)}}function mv(t,n,s){n=fa(s,n),n=yd(t.stateNode,n,2),t=Gs(t,n,2),t!==null&&(At(t,2),$a(t))}function In(t,n,s){if(t.tag===3)mv(t,t,s);else for(;n!==null;){if(n.tag===3){mv(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Qs===null||!Qs.has(o))){t=fa(s,t),s=py(2),o=Gs(n,s,2),o!==null&&(gy(s,o,n,t),At(o,2),$a(o));break}}n=n.return}}function Fd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new tw;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(kd=!0,f.add(s),t=sw.bind(null,t,n,s),n.then(t,t))}function sw(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Pn===t&&(Xt&s)===s&&(er===4||er===3&&(Xt&62914560)===Xt&&300>nn()-Jc?(bn&2)===0&&El(t,0):Vd|=s,_l===Xt&&(_l=0)),$a(t)}function pv(t,n){n===0&&(n=yt()),t=xi(t,n),t!==null&&(At(t,n),$a(t))}function ow(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),pv(t,s)}function lw(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),pv(t,s)}function uw(t,n){return yn(t,n)}var sf=null,Tl=null,Hd=!1,of=!1,qd=!1,eo=0;function $a(t){t!==Tl&&t.next===null&&(Tl===null?sf=Tl=t:Tl=Tl.next=t),of=!0,Hd||(Hd=!0,fw())}function ku(t,n){if(!qd&&of){qd=!0;do for(var s=!1,o=sf;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var A=o.suspendedLanes,O=o.pingedLanes;m=(1<<31-Ge(42|t)+1)-1,m&=f&~(A&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,_v(o,m))}else m=Xt,m=On(o,o===Pn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||qn(o,m)||(s=!0,_v(o,m));o=o.next}while(s);qd=!1}}function cw(){gv()}function gv(){of=Hd=!1;var t=0;eo!==0&&Ew()&&(t=eo);for(var n=nn(),s=null,o=sf;o!==null;){var f=o.next,m=yv(o,n);m===0?(o.next=null,s===null?sf=f:s.next=f,f===null&&(Tl=s)):(s=o,(t!==0||(m&3)!==0)&&(of=!0)),o=f}Ir!==0&&Ir!==5||ku(t),eo!==0&&(eo=0)}function yv(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var A=31-Ge(m),O=1<<A,X=f[A];X===-1?((O&s)===0||(O&o)!==0)&&(f[A]=ti(O,n)):X<=n&&(t.expiredLanes|=O),m&=~O}if(n=Pn,s=Xt,s=On(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Rn===2||Rn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&En(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||qn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&En(o),Ye(s)){case 2:case 8:s=g;break;case 32:s=v;break;case 268435456:s=J;break;default:s=v}return o=vv.bind(null,t),s=yn(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&En(o),t.callbackPriority=2,t.callbackNode=null,2}function vv(t,n){if(Ir!==0&&Ir!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(af()&&t.callbackNode!==s)return null;var o=Xt;return o=On(t,t===Pn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Zy(t,o,n),yv(t,nn()),t.callbackNode!=null&&t.callbackNode===s?vv.bind(null,t):null)}function _v(t,n){if(af())return null;Zy(t,n,!0)}function fw(){Tw(function(){(bn&6)!==0?yn(R,cw):gv()})}function Gd(){if(eo===0){var t=ll;t===0&&(t=on,on<<=1,(on&261888)===0&&(on=256)),eo=t}return eo}function bv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yi(""+t)}function Ev(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function hw(t,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var m=bv((f[Un]||null).action),A=o.submitter;A&&(n=(n=A[Un]||null)?bv(n.formAction):A.getAttribute("formAction"),n!==null&&(m=n,A=null));var O=new Ti("action","action",null,o,f);t.push({event:O,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(eo!==0){var X=A?Ev(f,A):new FormData(f);fd(s,{pending:!0,data:X,method:f.method,action:m},null,X)}}else typeof m=="function"&&(O.preventDefault(),X=A?Ev(f,A):new FormData(f),fd(s,{pending:!0,data:X,method:f.method,action:m},m,X))},currentTarget:f}]})}}for(var Yd=0;Yd<Ii.length;Yd++){var Wd=Ii[Yd],dw=Wd.toLowerCase(),mw=Wd[0].toUpperCase()+Wd.slice(1);An(dw,"on"+mw)}An(ke,"onAnimationEnd"),An(We,"onAnimationIteration"),An(Bt,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(Wt,"onTransitionRun"),An(Mt,"onTransitionStart"),An(qt,"onTransitionCancel"),An(rn,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function wv(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],f=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var A=o.length-1;0<=A;A--){var O=o[A],X=O.instance,fe=O.currentTarget;if(O=O.listener,X!==m&&f.isPropagationStopped())break e;m=O,f.currentTarget=fe;try{m(f)}catch(we){Yr(we)}f.currentTarget=null,m=X}else for(A=0;A<o.length;A++){if(O=o[A],X=O.instance,fe=O.currentTarget,O=O.listener,X!==m&&f.isPropagationStopped())break e;m=O,f.currentTarget=fe;try{m(f)}catch(we){Yr(we)}f.currentTarget=null,m=X}}}}function Yt(t,n){var s=n[_i];s===void 0&&(s=n[_i]=new Set);var o=t+"__bubble";s.has(o)||(Tv(n,t,2,!1),s.add(o))}function Xd(t,n,s){var o=0;n&&(o|=4),Tv(s,t,o,n)}var lf="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[lf]){t[lf]=!0,La.forEach(function(s){s!=="selectionchange"&&(pw.has(s)||Xd(s,!1,t),Xd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lf]||(n[lf]=!0,Xd("selectionchange",!1,n))}}function Tv(t,n,s,o){switch(Jv(n)){case 2:var f=Hw;break;case 8:f=qw;break;default:f=cm}s=f.bind(null,n,s,t),f=void 0,!Di||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function Kd(t,n,s,o,f){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var A=o.tag;if(A===3||A===4){var O=o.stateNode.containerInfo;if(O===f)break;if(A===4)for(A=o.return;A!==null;){var X=A.tag;if((X===3||X===4)&&A.stateNode.containerInfo===f)return;A=A.return}for(;O!==null;){if(A=Mr(O),A===null)return;if(X=A.tag,X===5||X===6||X===26||X===27){o=m=A;continue e}O=O.parentNode}}o=o.return}li(function(){var fe=m,we=ai(s),Ce=[];e:{var me=cn.get(t);if(me!==void 0){var ve=Ti,ut=t;switch(t){case"keypress":if(ki(s)===0)break e;case"keydown":case"keyup":ve=Te;break;case"focusin":ut="focus",ve=Ki;break;case"focusout":ut="blur",ve=Ki;break;case"beforeblur":case"afterblur":ve=Ki;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=y;break;case ke:case We:case Bt:ve=Ls;break;case rn:ve=M;break;case"scroll":case"scrollend":ve=ja;break;case"wheel":ve=he;break;case"copy":case"cut":case"paste":ve=ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Be;break;case"toggle":case"beforetoggle":ve=Ke}var vt=(n&4)!==0,Mn=!vt&&(t==="scroll"||t==="scrollend"),ie=vt?me!==null?me+"Capture":null:me;vt=[];for(var $=fe,ue;$!==null;){var Ae=$;if(ue=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||ue===null||ie===null||(Ae=Rr($,ie),Ae!=null&&vt.push(Pu($,Ae,ue))),Mn)break;$=$.return}0<vt.length&&(me=new ve(me,ut,null,s,we),Ce.push({event:me,listeners:vt}))}}if((n&7)===0){e:{if(me=t==="mouseover"||t==="pointerover",ve=t==="mouseout"||t==="pointerout",me&&s!==Sa&&(ut=s.relatedTarget||s.fromElement)&&(Mr(ut)||ut[jr]))break e;if((ve||me)&&(me=we.window===we?we:(me=we.ownerDocument)?me.defaultView||me.parentWindow:window,ve?(ut=s.relatedTarget||s.toElement,ve=fe,ut=ut?Mr(ut):null,ut!==null&&(Mn=c(ut),vt=ut.tag,ut!==Mn||vt!==5&&vt!==27&&vt!==6)&&(ut=null)):(ve=null,ut=fe),ve!==ut)){if(vt=fi,Ae="onMouseLeave",ie="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(vt=Be,Ae="onPointerLeave",ie="onPointerEnter",$="pointer"),Mn=ve==null?me:ur(ve),ue=ut==null?me:ur(ut),me=new vt(Ae,$+"leave",ve,s,we),me.target=Mn,me.relatedTarget=ue,Ae=null,Mr(we)===fe&&(vt=new vt(ie,$+"enter",ut,s,we),vt.target=ue,vt.relatedTarget=Mn,Ae=vt),Mn=Ae,ve&&ut)t:{for(vt=gw,ie=ve,$=ut,ue=0,Ae=ie;Ae;Ae=vt(Ae))ue++;Ae=0;for(var pt=$;pt;pt=vt(pt))Ae++;for(;0<ue-Ae;)ie=vt(ie),ue--;for(;0<Ae-ue;)$=vt($),Ae--;for(;ue--;){if(ie===$||$!==null&&ie===$.alternate){vt=ie;break t}ie=vt(ie),$=vt($)}vt=null}else vt=null;ve!==null&&Av(Ce,me,ve,vt,!1),ut!==null&&Mn!==null&&Av(Ce,Mn,ut,vt,!0)}}e:{if(me=fe?ur(fe):window,ve=me.nodeName&&me.nodeName.toLowerCase(),ve==="select"||ve==="input"&&me.type==="file")var mn=uu;else if(lu(me))if(cu)mn=Z;else{mn=D;var ht=C}else ve=me.nodeName,!ve||ve.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?fe&&Aa(fe.elementType)&&(mn=uu):mn=j;if(mn&&(mn=mn(t,fe))){Bn(Ce,mn,s,we);break e}ht&&ht(t,me,fe),t==="focusout"&&fe&&me.type==="number"&&fe.memoizedProps.value!=null&&Ba(me,"number",me.value)}switch(ht=fe?ur(fe):window,t){case"focusin":(lu(ht)||ht.contentEditable==="true")&&(je=ht,dn=fe,Je=null);break;case"focusout":Je=dn=je=null;break;case"mousedown":zt=!0;break;case"contextmenu":case"mouseup":case"dragend":zt=!1,Tn(Ce,s,we);break;case"selectionchange":if(nt)break;case"keydown":case"keyup":Tn(Ce,s,we)}var Vt;if(Ot)e:{switch(t){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else ss?ca(t,s)&&($t="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&($t="onCompositionStart");$t&&(Vi&&s.locale!=="ko"&&(ss||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&ss&&(Vt=$i()):(Ei=we,Vr="value"in Ei?Ei.value:Ei.textContent,ss=!0)),ht=uf(fe,$t),0<ht.length&&($t=new Si($t,t,null,s,we),Ce.push({event:$t,listeners:ht}),Vt?$t.data=Vt:(Vt=as(s),Vt!==null&&($t.data=Vt)))),(Vt=hi?xh(t,s):Tc(t,s))&&($t=uf(fe,"onBeforeInput"),0<$t.length&&(ht=new Si("onBeforeInput","beforeinput",null,s,we),Ce.push({event:ht,listeners:$t}),ht.data=Vt)),hw(Ce,t,fe,s,we)}wv(Ce,n)})}function Pu(t,n,s){return{instance:t,listener:n,currentTarget:s}}function uf(t,n){for(var s=n+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Rr(t,s),f!=null&&o.unshift(Pu(t,f,m)),f=Rr(t,n),f!=null&&o.push(Pu(t,f,m))),t.tag===3)return o;t=t.return}return[]}function gw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Av(t,n,s,o,f){for(var m=n._reactName,A=[];s!==null&&s!==o;){var O=s,X=O.alternate,fe=O.stateNode;if(O=O.tag,X!==null&&X===o)break;O!==5&&O!==26&&O!==27||fe===null||(X=fe,f?(fe=Rr(s,m),fe!=null&&A.unshift(Pu(s,fe,X))):f||(fe=Rr(s,m),fe!=null&&A.push(Pu(s,fe,X)))),s=s.return}A.length!==0&&t.push({event:n,listeners:A})}var yw=/\r\n?/g,vw=/\u0000|\uFFFD/g;function Sv(t){return(typeof t=="string"?t:""+t).replace(yw,`
`).replace(vw,"")}function Cv(t,n){return n=Sv(n),Sv(t)===n}function Nn(t,n,s,o,f,m){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||St(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&St(t,""+o);break;case"className":fr(t,"class",o);break;case"tabIndex":fr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(t,s,o);break;case"style":bi(t,o,m);break;case"data":if(n!=="object"){fr(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Yi(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&Nn(t,n,"name",f.name,f,null),Nn(t,n,"formEncType",f.formEncType,f,null),Nn(t,n,"formMethod",f.formMethod,f,null),Nn(t,n,"formTarget",f.formTarget,f,null)):(Nn(t,n,"encType",f.encType,f,null),Nn(t,n,"method",f.method,f,null),Nn(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Yi(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=kr);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Yi(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Yt("beforetoggle",t),Yt("toggle",t),Dr(t,"popover",o);break;case"xlinkActuate":un(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":un(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":un(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":un(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":un(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":un(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":un(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":un(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":un(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Dr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=oa.get(s)||s,Dr(t,s,o))}}function Qd(t,n,s,o,f,m){switch(s){case"style":bi(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?St(t,o):(typeof o=="number"||typeof o=="bigint")&&St(t,""+o);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ar.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),m=t[Un]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,f);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Dr(t,s,o)}}}function Kr(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",t),Yt("load",t);var o=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var A=s[m];if(A!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Nn(t,n,m,A,s,null)}}f&&Nn(t,n,"srcSet",s.srcSet,s,null),o&&Nn(t,n,"src",s.src,s,null);return;case"input":Yt("invalid",t);var O=m=A=f=null,X=null,fe=null;for(o in s)if(s.hasOwnProperty(o)){var we=s[o];if(we!=null)switch(o){case"name":f=we;break;case"type":A=we;break;case"checked":X=we;break;case"defaultChecked":fe=we;break;case"value":m=we;break;case"defaultValue":O=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(a(137,n));break;default:Nn(t,n,o,we,s,null)}}is(t,m,O,X,fe,A,f,!1);return;case"select":Yt("invalid",t),o=A=m=null;for(f in s)if(s.hasOwnProperty(f)&&(O=s[f],O!=null))switch(f){case"value":m=O;break;case"defaultValue":A=O;break;case"multiple":o=O;default:Nn(t,n,f,O,s,null)}n=m,s=A,t.multiple=!!o,n!=null?fn(t,!!o,n,!1):s!=null&&fn(t,!!o,s,!0);return;case"textarea":Yt("invalid",t),m=f=o=null;for(A in s)if(s.hasOwnProperty(A)&&(O=s[A],O!=null))switch(A){case"value":o=O;break;case"defaultValue":f=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(91));break;default:Nn(t,n,A,O,s,null)}ri(t,o,f,m);return;case"option":for(X in s)if(s.hasOwnProperty(X)&&(o=s[X],o!=null))switch(X){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Nn(t,n,X,o,s,null)}return;case"dialog":Yt("beforetoggle",t),Yt("toggle",t),Yt("cancel",t),Yt("close",t);break;case"iframe":case"object":Yt("load",t);break;case"video":case"audio":for(o=0;o<Vu.length;o++)Yt(Vu[o],t);break;case"image":Yt("error",t),Yt("load",t);break;case"details":Yt("toggle",t);break;case"embed":case"source":case"link":Yt("error",t),Yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in s)if(s.hasOwnProperty(fe)&&(o=s[fe],o!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Nn(t,n,fe,o,s,null)}return;default:if(Aa(n)){for(we in s)s.hasOwnProperty(we)&&(o=s[we],o!==void 0&&Qd(t,n,we,o,s,void 0));return}}for(O in s)s.hasOwnProperty(O)&&(o=s[O],o!=null&&Nn(t,n,O,o,s,null))}function _w(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,A=null,O=null,X=null,fe=null,we=null;for(ve in s){var Ce=s[ve];if(s.hasOwnProperty(ve)&&Ce!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":X=Ce;default:o.hasOwnProperty(ve)||Nn(t,n,ve,null,o,Ce)}}for(var me in o){var ve=o[me];if(Ce=s[me],o.hasOwnProperty(me)&&(ve!=null||Ce!=null))switch(me){case"type":m=ve;break;case"name":f=ve;break;case"checked":fe=ve;break;case"defaultChecked":we=ve;break;case"value":A=ve;break;case"defaultValue":O=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(a(137,n));break;default:ve!==Ce&&Nn(t,n,me,ve,o,Ce)}}Ta(t,A,O,X,fe,we,m,f);return;case"select":ve=A=O=me=null;for(m in s)if(X=s[m],s.hasOwnProperty(m)&&X!=null)switch(m){case"value":break;case"multiple":ve=X;default:o.hasOwnProperty(m)||Nn(t,n,m,null,o,X)}for(f in o)if(m=o[f],X=s[f],o.hasOwnProperty(f)&&(m!=null||X!=null))switch(f){case"value":me=m;break;case"defaultValue":O=m;break;case"multiple":A=m;default:m!==X&&Nn(t,n,f,m,o,X)}n=O,s=A,o=ve,me!=null?fn(t,!!s,me,!1):!!o!=!!s&&(n!=null?fn(t,!!s,n,!0):fn(t,!!s,s?[]:"",!1));return;case"textarea":ve=me=null;for(O in s)if(f=s[O],s.hasOwnProperty(O)&&f!=null&&!o.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Nn(t,n,O,null,o,f)}for(A in o)if(f=o[A],m=s[A],o.hasOwnProperty(A)&&(f!=null||m!=null))switch(A){case"value":me=f;break;case"defaultValue":ve=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Nn(t,n,A,f,o,m)}aa(t,me,ve);return;case"option":for(var ut in s)if(me=s[ut],s.hasOwnProperty(ut)&&me!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:Nn(t,n,ut,null,o,me)}for(X in o)if(me=o[X],ve=s[X],o.hasOwnProperty(X)&&me!==ve&&(me!=null||ve!=null))switch(X){case"selected":t.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:Nn(t,n,X,me,o,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)me=s[vt],s.hasOwnProperty(vt)&&me!=null&&!o.hasOwnProperty(vt)&&Nn(t,n,vt,null,o,me);for(fe in o)if(me=o[fe],ve=s[fe],o.hasOwnProperty(fe)&&me!==ve&&(me!=null||ve!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,n));break;default:Nn(t,n,fe,me,o,ve)}return;default:if(Aa(n)){for(var Mn in s)me=s[Mn],s.hasOwnProperty(Mn)&&me!==void 0&&!o.hasOwnProperty(Mn)&&Qd(t,n,Mn,void 0,o,me);for(we in o)me=o[we],ve=s[we],!o.hasOwnProperty(we)||me===ve||me===void 0&&ve===void 0||Qd(t,n,we,me,o,ve);return}}for(var ie in s)me=s[ie],s.hasOwnProperty(ie)&&me!=null&&!o.hasOwnProperty(ie)&&Nn(t,n,ie,null,o,me);for(Ce in o)me=o[Ce],ve=s[Ce],!o.hasOwnProperty(Ce)||me===ve||me==null&&ve==null||Nn(t,n,Ce,me,o,ve)}function Rv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],m=f.transferSize,A=f.initiatorType,O=f.duration;if(m&&O&&Rv(A)){for(A=0,O=f.responseEnd,o+=1;o<s.length;o++){var X=s[o],fe=X.startTime;if(fe>O)break;var we=X.transferSize,Ce=X.initiatorType;we&&Rv(Ce)&&(X=X.responseEnd,A+=we*(X<O?1:(O-fe)/(X-fe)))}if(--o,n+=8*(m+A)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jd=null,Zd=null;function cf(t){return t.nodeType===9?t:t.ownerDocument}function Iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function em(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tm=null;function Ew(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var Nv=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,Tw=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(t){return Mv.resolve(null).then(t).catch(Aw)}:Nv;function Aw(t){setTimeout(function(){throw t})}function to(t){return t==="head"}function Ov(t,n){var s=n,o=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(f),Rl(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Lu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Lu(s);for(var m=s.firstChild;m;){var A=m.nextSibling,O=m.nodeName;m[tr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=A}}else s==="body"&&Lu(t.ownerDocument.body);s=f}while(s);Rl(n)}function Dv(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function nm(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":nm(s),Tr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Sw(t,n,s,o){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[tr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ga(t.nextSibling),t===null)break}return null}function Cw(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ga(t.nextSibling),t===null))return null;return t}function kv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ga(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$?"||t.data==="$~"}function im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Rw(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ga(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var am=null;function Vv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ga(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Pv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Lv(t,n,s){switch(n=cf(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Lu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Tr(t)}var ya=new Map,Uv=new Set;function ff(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var As=K.d;K.d={f:Iw,r:xw,D:Nw,C:Mw,L:Ow,m:Dw,X:Vw,S:kw,M:Pw};function Iw(){var t=As.f(),n=tf();return t||n}function xw(t){var n=nr(t);n!==null&&n.tag===5&&n.type==="form"?ty(n):As.r(t)}var Al=typeof document>"u"?null:document;function zv(t,n,s){var o=Al;if(o&&typeof n=="string"&&n){var f=Cn(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Uv.has(f)||(Uv.add(f),t={rel:t,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Kr(n,"link",t),zn(n),o.head.appendChild(n)))}}function Nw(t){As.D(t),zv("dns-prefetch",t,null)}function Mw(t,n){As.C(t,n),zv("preconnect",t,n)}function Ow(t,n,s){As.L(t,n,s);var o=Al;if(o&&t&&n){var f='link[rel="preload"][as="'+Cn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Cn(s.imageSizes)+'"]')):f+='[href="'+Cn(t)+'"]';var m=f;switch(n){case"style":m=Sl(t);break;case"script":m=Cl(t)}ya.has(m)||(t=k({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ya.set(m,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(Uu(m))||n==="script"&&o.querySelector(zu(m))||(n=o.createElement("link"),Kr(n,"link",t),zn(n),o.head.appendChild(n)))}}function Dw(t,n){As.m(t,n);var s=Al;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Cn(o)+'"][href="'+Cn(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Cl(t)}if(!ya.has(m)&&(t=k({rel:"modulepreload",href:t},n),ya.set(m,t),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(zu(m)))return}o=s.createElement("link"),Kr(o,"link",t),zn(o),s.head.appendChild(o)}}}function kw(t,n,s){As.S(t,n,s);var o=Al;if(o&&t){var f=cr(o).hoistableStyles,m=Sl(t);n=n||"default";var A=f.get(m);if(!A){var O={loading:0,preload:null};if(A=o.querySelector(Uu(m)))O.loading=5;else{t=k({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ya.get(m))&&sm(t,s);var X=A=o.createElement("link");zn(X),Kr(X,"link",t),X._p=new Promise(function(fe,we){X.onload=fe,X.onerror=we}),X.addEventListener("load",function(){O.loading|=1}),X.addEventListener("error",function(){O.loading|=2}),O.loading|=4,hf(A,n,o)}A={type:"stylesheet",instance:A,count:1,state:O},f.set(m,A)}}}function Vw(t,n){As.X(t,n);var s=Al;if(s&&t){var o=cr(s).hoistableScripts,f=Cl(t),m=o.get(f);m||(m=s.querySelector(zu(f)),m||(t=k({src:t,async:!0},n),(n=ya.get(f))&&om(t,n),m=s.createElement("script"),zn(m),Kr(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Pw(t,n){As.M(t,n);var s=Al;if(s&&t){var o=cr(s).hoistableScripts,f=Cl(t),m=o.get(f);m||(m=s.querySelector(zu(f)),m||(t=k({src:t,async:!0,type:"module"},n),(n=ya.get(f))&&om(t,n),m=s.createElement("script"),zn(m),Kr(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Bv(t,n,s,o){var f=(f=$e.current)?ff(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Sl(s.href),s=cr(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Sl(s.href);var m=cr(f).hoistableStyles,A=m.get(t);if(A||(f=f.ownerDocument||f,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,A),(m=f.querySelector(Uu(t)))&&!m._p&&(A.instance=m,A.state.loading=5),ya.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ya.set(t,s),m||Lw(f,t,s,A.state))),n&&o===null)throw Error(a(528,""));return A}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cl(s),s=cr(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Sl(t){return'href="'+Cn(t)+'"'}function Uu(t){return'link[rel="stylesheet"]['+t+"]"}function jv(t){return k({},t,{"data-precedence":t.precedence,precedence:null})}function Lw(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Kr(n,"link",s),zn(n),t.head.appendChild(n))}function Cl(t){return'[src="'+Cn(t)+'"]'}function zu(t){return"script[async]"+t}function Fv(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Cn(s.href)+'"]');if(o)return n.instance=o,zn(o),o;var f=k({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),zn(o),Kr(o,"style",f),hf(o,s.precedence,t),n.instance=o;case"stylesheet":f=Sl(s.href);var m=t.querySelector(Uu(f));if(m)return n.state.loading|=4,n.instance=m,zn(m),m;o=jv(s),(f=ya.get(f))&&sm(o,f),m=(t.ownerDocument||t).createElement("link"),zn(m);var A=m;return A._p=new Promise(function(O,X){A.onload=O,A.onerror=X}),Kr(m,"link",o),n.state.loading|=4,hf(m,s.precedence,t),n.instance=m;case"script":return m=Cl(s.src),(f=t.querySelector(zu(m)))?(n.instance=f,zn(f),f):(o=s,(f=ya.get(m))&&(o=k({},s),om(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),zn(f),Kr(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hf(o,s.precedence,t));return n.instance}function hf(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,A=0;A<o.length;A++){var O=o[A];if(O.dataset.precedence===n)m=O;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function sm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function om(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var df=null;function Hv(t,n,s){if(df===null){var o=new Map,f=df=new Map;f.set(s,o)}else f=df,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[tr]||m[ln]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var A=m.getAttribute(n)||"";A=t+A;var O=o.get(A);O?O.push(m):o.set(A,[m])}}return o}function qv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Uw(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zw(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Sl(o.href),m=n.querySelector(Uu(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=mf.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=m,zn(m);return}m=n.ownerDocument||n,o=jv(o),(f=ya.get(f))&&sm(o,f),m=m.createElement("link"),zn(m);var A=m;A._p=new Promise(function(O,X){A.onload=O,A.onerror=X}),Kr(m,"link",o),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=mf.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var lm=0;function Bw(t,n){return t.stylesheets&&t.count===0&&gf(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&gf(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&lm===0&&(lm=62500*bw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&gf(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>lm?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pf=null;function gf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pf=new Map,n.forEach(jw,t),pf=null,mf.call(t))}function jw(t,n){if(!(n.state.loading&4)){var s=pf.get(t);if(s)var o=s.get(null);else{s=new Map,pf.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var A=f[m];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),o=A)}o&&s.set(null,o)}f=n.instance,A=f.getAttribute("data-precedence"),m=s.get(A)||o,m===o&&s.set(null,f),s.set(A,f),this.count++,o=mf.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Bu={$$typeof:Le,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function Fw(t,n,s,o,f,m,A,O,X){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.hiddenUpdates=Dn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Yv(t,n,s,o,f,m,A,O,X,fe,we,Ce){return t=new Fw(t,n,s,A,X,fe,we,Ce,O),n=1,m===!0&&(n|=24),m=di(3,null,null,n),t.current=m,m.stateNode=t,n=jh(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:n},Gh(m),t}function Wv(t){return t?(t=Ji,t):Ji}function Xv(t,n,s,o,f,m){f=Wv(f),o.context===null?o.context=f:o.pendingContext=f,o=qs(n),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Gs(t,o,n),s!==null&&(Fi(s,t,n),vu(s,t,n))}function $v(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function um(t,n){$v(t,n),(t=t.alternate)&&$v(t,n)}function Kv(t){if(t.tag===13||t.tag===31){var n=xi(t,67108864);n!==null&&Fi(n,t,67108864),um(t,67108864)}}function Qv(t){if(t.tag===13||t.tag===31){var n=ra();n=Mi(n);var s=xi(t,n);s!==null&&Fi(s,t,n),um(t,n)}}var yf=!0;function Hw(t,n,s,o){var f=Y.T;Y.T=null;var m=K.p;try{K.p=2,cm(t,n,s,o)}finally{K.p=m,Y.T=f}}function qw(t,n,s,o){var f=Y.T;Y.T=null;var m=K.p;try{K.p=8,cm(t,n,s,o)}finally{K.p=m,Y.T=f}}function cm(t,n,s,o){if(yf){var f=fm(o);if(f===null)Kd(t,n,o,vf,s),Zv(t,o);else if(Yw(f,t,n,s,o))o.stopPropagation();else if(Zv(t,o),n&4&&-1<Gw.indexOf(t)){for(;f!==null;){var m=nr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var A=wn(m.pendingLanes);if(A!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;A;){var X=1<<31-Ge(A);O.entanglements[1]|=X,A&=~X}$a(m),(bn&6)===0&&(Zc=nn()+500,ku(0))}}break;case 31:case 13:O=xi(m,2),O!==null&&Fi(O,m,2),tf(),um(m,2)}if(m=fm(o),m===null&&Kd(t,n,o,vf,s),m===f)break;f=m}f!==null&&o.stopPropagation()}else Kd(t,n,o,null,s)}}function fm(t){return t=ai(t),hm(t)}var vf=null;function hm(t){if(vf=null,t=Mr(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=p(n),t!==null)return t;t=null}else if(s===31){if(t=b(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return vf=t,null}function Jv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vn()){case R:return 2;case g:return 8;case v:case P:return 32;case J:return 268435456;default:return 32}default:return 32}}var dm=!1,no=null,ro=null,io=null,ju=new Map,Fu=new Map,ao=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zv(t,n){switch(t){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":ju.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(n.pointerId)}}function Hu(t,n,s,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},n!==null&&(n=nr(n),n!==null&&Kv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function Yw(t,n,s,o,f){switch(n){case"focusin":return no=Hu(no,t,n,s,o,f),!0;case"dragenter":return ro=Hu(ro,t,n,s,o,f),!0;case"mouseover":return io=Hu(io,t,n,s,o,f),!0;case"pointerover":var m=f.pointerId;return ju.set(m,Hu(ju.get(m)||null,t,n,s,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Fu.set(m,Hu(Fu.get(m)||null,t,n,s,o,f)),!0}return!1}function e0(t){var n=Mr(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){t.blockedOn=n,Br(t.priority,function(){Qv(s)});return}}else if(n===31){if(n=b(s),n!==null){t.blockedOn=n,Br(t.priority,function(){Qv(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _f(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=fm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Sa=o,s.target.dispatchEvent(o),Sa=null}else return n=nr(s),n!==null&&Kv(n),t.blockedOn=s,!1;n.shift()}return!0}function t0(t,n,s){_f(t)&&s.delete(n)}function Ww(){dm=!1,no!==null&&_f(no)&&(no=null),ro!==null&&_f(ro)&&(ro=null),io!==null&&_f(io)&&(io=null),ju.forEach(t0),Fu.forEach(t0)}function bf(t,n){t.blockedOn===n&&(t.blockedOn=null,dm||(dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ww)))}var Ef=null;function n0(t){Ef!==t&&(Ef=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ef===t&&(Ef=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(hm(o||s)===null)continue;break}var m=nr(s);m!==null&&(t.splice(n,3),n-=3,fd(m,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Rl(t){function n(X){return bf(X,t)}no!==null&&bf(no,t),ro!==null&&bf(ro,t),io!==null&&bf(io,t),ju.forEach(n),Fu.forEach(n);for(var s=0;s<ao.length;s++){var o=ao[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ao.length&&(s=ao[0],s.blockedOn===null);)e0(s),s.blockedOn===null&&ao.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],m=s[o+1],A=f[Un]||null;if(typeof m=="function")A||n0(s);else if(A){var O=null;if(m&&m.hasAttribute("formAction")){if(f=m,A=m[Un]||null)O=A.formAction;else if(hm(f)!==null)continue}else O=A.action;typeof O=="function"?s[o+1]=O:(s.splice(o,3),o-=3),n0(s)}}}function r0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(A){return f=A})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function mm(t){this._internalRoot=t}wf.prototype.render=mm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=ra();Xv(s,o,t,n,null,null)},wf.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Xv(t.current,2,null,t,null,null),tf(),n[jr]=null}};function wf(t){this._internalRoot=t}wf.prototype.unstable_scheduleHydration=function(t){if(t){var n=qi();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ao.length&&n!==0&&n<ao[s].priority;s++);ao.splice(s,0,t),s===0&&e0(t)}};var i0=e.version;if(i0!=="19.2.0")throw Error(a(527,i0,"19.2.0"));K.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=E(n),t=t!==null?N(t):null,t=t===null?null:t.stateNode,t};var Xw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{et=Tf.inject(Xw),ot=Tf}catch{}}return qu.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",f=fy,m=hy,A=dy;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError)),n=Yv(t,1,!1,null,null,s,o,null,f,m,A,r0),t[jr]=n.current,$d(t),new mm(n)},qu.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,f="",m=fy,A=hy,O=dy,X=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError),s.formState!==void 0&&(X=s.formState)),n=Yv(t,1,!0,n,s??null,o,f,X,m,A,O,r0),n.context=Wv(null),s=n.current,o=ra(),o=Mi(o),f=qs(o),f.callback=null,Gs(s,f,o),s=o,n.current.lanes=s,At(n,s),$a(n),t[jr]=n.current,$d(t),new wf(n)},qu.version="19.2.0",qu}var h0;function rT(){if(h0)return gm.exports;h0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=nT(),gm.exports}var iT=rT();const aT=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sT=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),d0=i=>{const e=sT(i);return e.charAt(0).toUpperCase()+e.slice(1)},lb=(...i)=>i.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),oT=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var lT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uT=Pe.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:p,...b},w)=>Pe.createElement("svg",{ref:w,...lT,width:e,height:e,stroke:i,strokeWidth:a?Number(r)*24/Number(e):r,className:lb("lucide",l),...!c&&!oT(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,N])=>Pe.createElement(E,N)),...Array.isArray(c)?c:[c]]));const gn=(i,e)=>{const r=Pe.forwardRef(({className:a,...l},c)=>Pe.createElement(uT,{ref:c,iconNode:e,className:lb(`lucide-${aT(d0(i))}`,`lucide-${i}`,a),...l}));return r.displayName=d0(i),r};const cT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],fT=gn("arrow-down-a-z",cT);const hT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],m0=gn("arrow-left",hT);const dT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],mT=gn("book-open",dT);const pT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],gT=gn("check-check",pT);const yT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],p0=gn("check",yT);const vT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_T=gn("chevron-left",vT);const bT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ET=gn("chevron-right",bT);const wT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],TT=gn("circle-alert",wT);const AT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zm=gn("crown",AT);const ST=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],g0=gn("download",ST);const CT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RT=gn("eye",CT);const IT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],y0=gn("flag",IT);const xT=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Il=gn("gift",xT);const NT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],MT=gn("heart",NT);const OT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],DT=gn("info",OT);const kT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VT=gn("log-out",kT);const PT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],v0=gn("moon",PT);const LT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],UT=gn("play",LT);const zT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_0=gn("rotate-ccw",zT);const BT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],jT=gn("ruler",BT);const FT=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],b0=gn("scroll-text",FT);const HT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],E0=gn("settings",HT);const qT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],GT=gn("share-2",qT);const YT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],WT=gn("shuffle",YT);const XT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ho=gn("sparkles",XT);const $T=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bm=gn("star",$T);const KT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],w0=gn("sun",KT);const QT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],T0=gn("trophy",QT);const JT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],A0=gn("volume-2",JT);const ZT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],S0=gn("volume-x",ZT);const eA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Af=gn("x",eA);const tA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Gu=gn("zap",tA);var Em={},Of={exports:{}},nA=Of.exports,C0;function rA(){return C0||(C0=1,(function(i,e){(function(a,l){i.exports=l()})(nA,()=>(()=>{var r=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>N});var E=(()=>{var k=typeof document<"u"?document.currentScript?.src:void 0;return(function(G={}){var ae,B=G,Ie,be,Ue=new Promise((h,d)=>{Ie=h,be=d}),V=typeof window=="object",Le=typeof importScripts=="function";function Xe(){function h(Z){const ne=C;_=d=0,C=new Map,ne.forEach(de=>{try{de(Z)}catch(ce){console.error(ce)}}),this.nb(),D&&D.Pb()}let d=0,_=0,C=new Map,D=null,j=null;this.requestAnimationFrame=function(Z){d||=requestAnimationFrame(h.bind(this));const ne=++_;return C.set(ne,Z),ne},this.cancelAnimationFrame=function(Z){C.delete(Z),d&&C.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(Z){j&&(document.body.remove(j),j=null),Z||(j=document.createElement("div"),j.style.backgroundColor="black",j.style.position="fixed",j.style.right=0,j.style.top=0,j.style.color="white",j.style.padding="4px",j.innerHTML="RIVE FPS",Z=function(ne){j.innerHTML="RIVE FPS "+ne.toFixed(1)},document.body.appendChild(j)),D=new function(){let ne=0,de=0;this.Pb=function(){var ce=performance.now();de?(++ne,ce-=de,1e3<ce&&(Z(1e3*ne/ce),ne=de=0)):(de=ce,ne=0)}}},this.Kb=function(){j&&(document.body.remove(j),j=null),D=null},this.nb=function(){}}function tt(h){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(C){return C=C+((1<<h)-1)>>h,d.has(C)&&clearTimeout(d.get(C)),d.set(C,setTimeout(function(){d.delete(C),d.length==0?_=-1/0:C==_&&(_=Math.max(...d.keys()),console.assert(_<C))},1e3)),_=Math.max(C,_),_<<h}}const st=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){st&&st();let h=B.decodeAudio;B.decodeAudio=function(D,j){D=h(D),j(D)};let d=B.decodeFont;B.decodeFont=function(D,j){D=d(D),j(D)};const _=B.FileAssetLoader;B.ptrToAsset=D=>{let j=B.ptrToFileAsset(D);return j.isImage?B.ptrToImageAsset(D):j.isFont?B.ptrToFontAsset(D):j.isAudio?B.ptrToAudioAsset(D):j},B.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:D}){this.__parent.__construct.call(this),this.Db=D},loadContents:function(D,j){return D=B.ptrToAsset(D),this.Db(D,j)}}),B.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(D){let j=B.ptrToAsset(D);return D=j.cdnUuid,D===""?!1:((function(Z,ne){var de=new XMLHttpRequest;de.responseType="arraybuffer",de.onreadystatechange=function(){de.readyState==4&&de.status==200&&ne(de)},de.open("GET",Z,!0),de.send(null)})(j.cdnBaseUrl+"/"+D,Z=>{j.decode(new Uint8Array(Z.response))}),!0)}}),B.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(D){this.jb.push(D)},loadContents:function(D,j){for(let Z of this.jb)if(Z.loadContents(D,j))return!0;return!1}});let C=B.computeAlignment;B.computeAlignment=function(D,j,Z,ne,de=1){return C.call(this,D,j,Z,ne,de)}};const W="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),F=new function(){function h(){if(!d){let dn=function(Je,zt,Tn){if(zt=je.createShader(zt),je.shaderSource(zt,Tn),je.compileShader(zt),Tn=je.getShaderInfoLog(zt),0<(Tn||"").length)throw Tn;je.attachShader(Je,zt)};var nt=dn,re=document.createElement("canvas"),ze={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let je;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(je=re.getContext("webgl",ze),_=1,!je)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(je=re.getContext("webgl2",ze))_=2;else if(je=re.getContext("webgl",ze))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(je=new Proxy(je,{get(Je,zt){if(Je.isContextLost()){if(de||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",zt),de=!0),typeof Je[zt]=="function")return function(){}}else return typeof Je[zt]=="function"?function(...Tn){return Je[zt].apply(Je,Tn)}:Je[zt]},set(Je,zt,Tn){if(Je.isContextLost())de||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+zt),de=!0);else return Je[zt]=Tn,!0}}),C=Math.min(je.getParameter(je.MAX_RENDERBUFFER_SIZE),je.getParameter(je.MAX_TEXTURE_SIZE)),re=je.createProgram(),dn(re,je.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),dn(re,je.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),je.bindAttribLocation(re,0,"vertex"),je.bindAttribLocation(re,1,"uv"),je.linkProgram(re),ze=je.getProgramInfoLog(re),0<(ze||"").trim().length)throw ze;D=je.getUniformLocation(re,"mat"),j=je.getUniformLocation(re,"translate"),je.useProgram(re),je.bindBuffer(je.ARRAY_BUFFER,je.createBuffer()),je.enableVertexAttribArray(0),je.enableVertexAttribArray(1),je.bindBuffer(je.ELEMENT_ARRAY_BUFFER,je.createBuffer()),je.uniform1i(je.getUniformLocation(re,"image"),0),je.pixelStorei(je.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=je}return!0}let d=null,_=0,C=0,D=null,j=null,Z=0,ne=0,de=!1;h(),this.ac=function(){return h(),C},this.Jb=function(re){d.deleteTexture&&d.deleteTexture(re)},this.Ib=function(re){if(!h())return null;const ze=d.createTexture();return ze?(d.bindTexture(d.TEXTURE_2D,ze),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,re),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),ze):null};const ce=new tt(8),Ve=new tt(8),Qe=new tt(10),lt=new tt(10);this.Mb=function(re,ze,nt,je,dn){if(h()){var Je=ce.push(re),zt=Ve.push(ze);if(d.canvas){(d.canvas.width!=Je||d.canvas.height!=zt)&&(d.canvas.width=Je,d.canvas.height=zt),d.viewport(0,zt-ze,re,ze),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),nt.sort((jt,Qi)=>Qi.ub-jt.ub),Je=Qe.push(je),Z!=Je&&(d.bufferData(d.ARRAY_BUFFER,8*Je,d.DYNAMIC_DRAW),Z=Je),Je=0;for(var Tn of nt)d.bufferSubData(d.ARRAY_BUFFER,Je,Tn.Sa),Je+=4*Tn.Sa.length;console.assert(Je==4*je);for(var ar of nt)d.bufferSubData(d.ARRAY_BUFFER,Je,ar.Ab),Je+=4*ar.Ab.length;console.assert(Je==8*je),Je=lt.push(dn),ne!=Je&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Je,d.DYNAMIC_DRAW),ne=Je),Tn=0;for(var Li of nt)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,Tn,Li.indices),Tn+=2*Li.indices.length;console.assert(Tn==2*dn),Li=0,ar=!0,Je=Tn=0;for(const jt of nt){jt.image.Ia!=Li&&(d.bindTexture(d.TEXTURE_2D,jt.image.Ha||null),Li=jt.image.Ia),jt.fc?(d.scissor(jt.Ya,zt-jt.Za-jt.ib,jt.tc,jt.ib),ar=!0):ar&&(d.scissor(0,zt-ze,re,ze),ar=!1),nt=2/re;const Qi=-2/ze;d.uniform4f(D,jt.ga[0]*nt*jt.za,jt.ga[1]*Qi*jt.Aa,jt.ga[2]*nt*jt.za,jt.ga[3]*Qi*jt.Aa),d.uniform2f(j,jt.ga[4]*nt*jt.za+nt*(jt.Ya-jt.bc*jt.za)-1,jt.ga[5]*Qi*jt.Aa+Qi*(jt.Za-jt.cc*jt.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Je),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Je+4*je),d.drawElements(d.TRIANGLES,jt.indices.length,d.UNSIGNED_SHORT,Tn),Je+=4*jt.Sa.length,Tn+=2*jt.indices.length}console.assert(Je==4*je),console.assert(Tn==2*dn)}}},this.canvas=function(){return h()&&d.canvas}},L=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){function h(ke){switch(ke){case ce.srcOver:return"source-over";case ce.screen:return"screen";case ce.overlay:return"overlay";case ce.darken:return"darken";case ce.lighten:return"lighten";case ce.colorDodge:return"color-dodge";case ce.colorBurn:return"color-burn";case ce.hardLight:return"hard-light";case ce.softLight:return"soft-light";case ce.difference:return"difference";case ce.exclusion:return"exclusion";case ce.multiply:return"multiply";case ce.hue:return"hue";case ce.saturation:return"saturation";case ce.color:return"color";case ce.luminosity:return"luminosity"}}function d(ke){return"rgba("+((16711680&ke)>>>16)+","+((65280&ke)>>>8)+","+((255&ke)>>>0)+","+((4278190080&ke)>>>24)/255+")"}function _(){0<zt.length&&(F.Mb(Je.drawWidth(),Je.drawHeight(),zt,Tn,ar),zt=[],ar=Tn=0,Je.reset(512,512));for(const ke of dn){for(const We of ke.H)We();ke.H=[]}dn.clear()}L&&L();var C=B.RenderPaintStyle;const D=B.RenderPath,j=B.RenderPaint,Z=B.Renderer,ne=B.StrokeCap,de=B.StrokeJoin,ce=B.BlendMode,Ve=C.fill,Qe=C.stroke,lt=B.FillRule.evenOdd;let re=1;var ze=B.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:ke,va:We}={}){this.__parent.__construct.call(this),this.Ia=re,re=re+1&2147483647||1,this.ka=ke,this.va=We},__destruct:function(){this.Ha&&(F.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(ke){var We=this;We.va&&We.va(We);var Bt=new Image;We.Va=URL.createObjectURL(new Blob([ke],{type:"image/png"})),Bt.onload=function(){We.Cb=Bt,We.Ha=F.Ib(Bt),We.size(Bt.width,Bt.height),We.ka&&We.ka(We)},Bt.src=We.Va}}),nt=D.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(ke,We,Bt,Wt,Mt,qt,rn){var cn=this.T,Ii=cn.addPath;ke=ke.T;const An=new DOMMatrix;An.a=We,An.b=Bt,An.c=Wt,An.d=Mt,An.e=qt,An.f=rn,Ii.call(cn,ke,An)},fillRule:function(ke){this.Ua=ke},moveTo:function(ke,We){this.T.moveTo(ke,We)},lineTo:function(ke,We){this.T.lineTo(ke,We)},cubicTo:function(ke,We,Bt,Wt,Mt,qt){this.T.bezierCurveTo(ke,We,Bt,Wt,Mt,qt)},close:function(){this.T.closePath()}}),je=j.extend("CanvasRenderPaint",{color:function(ke){this.Wa=d(ke)},thickness:function(ke){this.Fb=ke},join:function(ke){switch(ke){case de.miter:this.Ga="miter";break;case de.round:this.Ga="round";break;case de.bevel:this.Ga="bevel"}},cap:function(ke){switch(ke){case ne.butt:this.Fa="butt";break;case ne.round:this.Fa="round";break;case ne.square:this.Fa="square"}},style:function(ke){this.Eb=ke},blendMode:function(ke){this.Bb=h(ke)},clearGradient:function(){this.ia=null},linearGradient:function(ke,We,Bt,Wt){this.ia={wb:ke,xb:We,bb:Bt,cb:Wt,Pa:[]}},radialGradient:function(ke,We,Bt,Wt){this.ia={wb:ke,xb:We,bb:Bt,cb:Wt,Pa:[],$b:!0}},addStop:function(ke,We){this.ia.Pa.push({color:ke,stop:We})},completeGradient:function(){},draw:function(ke,We,Bt){let Wt=this.Eb;var Mt=this.Wa,qt=this.ia;if(ke.globalCompositeOperation=this.Bb,qt!=null){Mt=qt.wb;var rn=qt.xb;const Ii=qt.bb;var cn=qt.cb;const An=qt.Pa;qt.$b?(qt=Ii-Mt,cn-=rn,Mt=ke.createRadialGradient(Mt,rn,0,Mt,rn,Math.sqrt(qt*qt+cn*cn))):Mt=ke.createLinearGradient(Mt,rn,Ii,cn);for(let Yr=0,_n=An.length;Yr<_n;Yr++)rn=An[Yr],Mt.addColorStop(rn.stop,d(rn.color));this.Wa=Mt,this.ia=null}switch(Wt){case Qe:ke.strokeStyle=Mt,ke.lineWidth=this.Fb,ke.lineCap=this.Fa,ke.lineJoin=this.Ga,ke.stroke(We);break;case Ve:ke.fillStyle=Mt,ke.fill(We,Bt)}}});const dn=new Set;let Je=null,zt=[],Tn=0,ar=0;var Li=B.CanvasRenderer=Z.extend("Renderer",{__construct:function(ke){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=ke.getContext("2d"),this.Ta=ke,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const ke=this.S.length-6;if(6>ke)throw"restore() called without matching save().";this.S.splice(ke),this.H.push(this.B.restore.bind(this.B))},transform:function(ke,We,Bt,Wt,Mt,qt){const rn=this.S,cn=rn.length-6;rn.splice(cn,6,rn[cn]*ke+rn[cn+2]*We,rn[cn+1]*ke+rn[cn+3]*We,rn[cn]*Bt+rn[cn+2]*Wt,rn[cn+1]*Bt+rn[cn+3]*Wt,rn[cn]*Mt+rn[cn+2]*qt+rn[cn+4],rn[cn+1]*Mt+rn[cn+3]*qt+rn[cn+5]),this.H.push(this.B.transform.bind(this.B,ke,We,Bt,Wt,Mt,qt))},rotate:function(ke){const We=Math.sin(ke);ke=Math.cos(ke),this.transform(ke,We,-We,ke,0,0)},_drawPath:function(ke,We){this.H.push(We.draw.bind(We,this.B,ke.T,ke.Ua===lt?"evenodd":"nonzero"))},_drawRiveImage:function(ke,We,Bt,Wt){var Mt=ke.Cb;if(Mt){var qt=this.B,rn=h(Bt);this.H.push(function(){qt.globalCompositeOperation=rn,qt.globalAlpha=Wt,qt.drawImage(Mt,0,0),qt.globalAlpha=1})}},_getMatrix:function(ke){const We=this.S,Bt=We.length-6;for(let Wt=0;6>Wt;++Wt)ke[Wt]=We[Bt+Wt]},_drawImageMesh:function(ke,We,Bt,Wt,Mt,qt,rn,cn,Ii,An,Yr){We=this.B.canvas.width;var _n=this.B.canvas.height;const us=An-cn,rl=Yr-Ii;cn=Math.max(cn,0),Ii=Math.max(Ii,0),An=Math.min(An,We),Yr=Math.min(Yr,_n);const qa=An-cn,Ga=Yr-Ii;if(console.assert(qa<=Math.min(us,We)),console.assert(Ga<=Math.min(rl,_n)),!(0>=qa||0>=Ga)){An=qa<us||Ga<rl,We=Yr=1;var Na=Math.ceil(qa*Yr),xi=Math.ceil(Ga*We);_n=F.ac(),Na>_n&&(Yr*=_n/Na,Na=_n),xi>_n&&(We*=_n/xi,xi=_n),Je||(Je=new B.DynamicRectanizer(_n),Je.reset(512,512)),_n=Je.addRect(Na,xi),0>_n&&(_(),dn.add(this),_n=Je.addRect(Na,xi),console.assert(0<=_n));var fu=_n&65535,No=_n>>16;zt.push({ga:this.S.slice(this.S.length-6),image:ke,Ya:fu,Za:No,bc:cn,cc:Ii,tc:Na,ib:xi,za:Yr,Aa:We,Sa:new Float32Array(Mt),Ab:new Float32Array(qt),indices:new Uint16Array(rn),fc:An,ub:ke.Ia<<1|(An?1:0)}),Tn+=Mt.length,ar+=rn.length;var Ji=this.B,Nh=h(Bt);this.H.push(function(){Ji.save(),Ji.resetTransform(),Ji.globalCompositeOperation=Nh,Ji.globalAlpha=Wt;const di=F.canvas();di&&Ji.drawImage(di,fu,No,Na,xi,cn,Ii,qa,Ga),Ji.restore()})}},_clipPath:function(ke){this.H.push(this.B.clip.bind(this.B,ke.T,ke.Ua===lt?"evenodd":"nonzero"))},clear:function(){dn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(ke,We){this.transform(1,0,0,1,ke,We)}});B.makeRenderer=function(ke){const We=new Li(ke),Bt=We.B;return new Proxy(We,{get(Wt,Mt){if(typeof Wt[Mt]=="function")return function(...qt){return Wt[Mt].apply(Wt,qt)};if(typeof Bt[Mt]=="function"){if(-1<W.indexOf(Mt))throw Error("RiveException: Method call to '"+Mt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...qt){We.H.push(Bt[Mt].bind(Bt,...qt))}}return Wt[Mt]},set(Wt,Mt,qt){if(Mt in Bt)return We.H.push(()=>{Bt[Mt]=qt}),!0}})},B.decodeImage=function(ke,We){new ze({ka:We}).decode(ke)},B.renderFactory={makeRenderPaint:function(){return new je},makeRenderPath:function(){return new nt},makeRenderImage:function(){let ke=Qi;return new ze({va:()=>{ke.total++},ka:()=>{if(ke.loaded++,ke.loaded===ke.total){const We=ke.ready;We&&(We(),ke.ready=null)}}})}};let jt=B.load,Qi=null;B.load=function(ke,We,Bt=!0){const Wt=new B.FallbackFileAssetLoader;return We!==void 0&&Wt.addLoader(We),Bt&&(We=new B.CDNFileAssetLoader,Wt.addLoader(We)),new Promise(function(Mt){let qt=null;Qi={total:0,loaded:0,ready:function(){Mt(qt)}},qt=jt(ke,Wt),Qi.total==0&&Mt(qt)})};let ls=B.RendererWrapper.prototype.align;B.RendererWrapper.prototype.align=function(ke,We,Bt,Wt,Mt=1){ls.call(this,ke,We,Bt,Wt,Mt)},C=new Xe,B.requestAnimationFrame=C.requestAnimationFrame.bind(C),B.cancelAnimationFrame=C.cancelAnimationFrame.bind(C),B.enableFPSCounter=C.Nb.bind(C),B.disableFPSCounter=C.Kb,C.nb=_,B.resolveAnimationFrame=_,B.cleanup=function(){Je&&Je.delete()}};var H=Object.assign({},B),I="./this.program",U="",x,ee;(V||Le)&&(Le?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),k&&(U=k),U.startsWith("blob:")?U="":U=U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1),Le&&(ee=h=>{var d=new XMLHttpRequest;return d.open("GET",h,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),x=(h,d,_)=>{if($n(h)){var C=new XMLHttpRequest;C.open("GET",h,!0),C.responseType="arraybuffer",C.onload=()=>{C.status==200||C.status==0&&C.response?d(C.response):_()},C.onerror=_,C.send(null)}else fetch(h,{credentials:"same-origin"}).then(D=>D.ok?D.arrayBuffer():Promise.reject(Error(D.status+" : "+D.url))).then(d,_)});var se=B.print||console.log.bind(console),Y=B.printErr||console.error.bind(console);Object.assign(B,H),H=null,B.thisProgram&&(I=B.thisProgram);var K;B.wasmBinary&&(K=B.wasmBinary);var _e,pe=!1,Me,z,oe,Oe,Se,xe,$e,dt;function ft(){var h=_e.buffer;B.HEAP8=Me=new Int8Array(h),B.HEAP16=oe=new Int16Array(h),B.HEAPU8=z=new Uint8Array(h),B.HEAPU16=Oe=new Uint16Array(h),B.HEAP32=Se=new Int32Array(h),B.HEAPU32=xe=new Uint32Array(h),B.HEAPF32=$e=new Float32Array(h),B.HEAPF64=dt=new Float64Array(h)}var _t=[],bt=[],sn=[];function mt(){var h=B.preRun.shift();_t.unshift(h)}var qe=0,Ft=null;function Nt(h){throw B.onAbort?.(h),h="Aborted("+h+")",Y(h),pe=!0,h=new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info."),be(h),h}var Zt=h=>h.startsWith("data:application/octet-stream;base64,"),$n=h=>h.startsWith("file://"),en;function it(h){if(h==en&&K)return new Uint8Array(K);if(ee)return ee(h);throw"both async and sync fetching of the wasm failed"}function yn(h){return K?Promise.resolve().then(()=>it(h)):new Promise((d,_)=>{x(h,C=>d(new Uint8Array(C)),()=>{try{d(it(h))}catch(C){_(C)}})})}function En(h,d,_){return yn(h).then(C=>WebAssembly.instantiate(C,d)).then(_,C=>{Y(`failed to asynchronously prepare wasm: ${C}`),Nt(C)})}function ei(h,d){var _=en;return K||typeof WebAssembly.instantiateStreaming!="function"||Zt(_)||$n(_)||typeof fetch!="function"?En(_,h,d):fetch(_,{credentials:"same-origin"}).then(C=>WebAssembly.instantiateStreaming(C,h).then(d,function(D){return Y(`wasm streaming compile failed: ${D}`),Y("falling back to ArrayBuffer instantiation"),En(_,h,d)}))}var Kn,nn,vn={464256:(h,d,_,C,D)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=h,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=C,window.h.fa.vb=D;let j=window.h;j.D=[],j.rc=function(Z){for(var ne=0;ne<j.D.length;++ne)if(j.D[ne]==null)return j.D[ne]=Z,ne;return j.D.push(Z),j.D.length-1},j.zb=function(Z){for(j.D[Z]=null;0<j.D.length&&j.D[j.D.length-1]==null;)j.D.pop()},j.Oc=function(Z){for(var ne=0;ne<j.D.length;++ne)if(j.D[ne]==Z)return j.zb(ne)},j.pa=function(Z){return j.D[Z]},j.Ra=["touchend","click"],j.unlock=function(){for(var Z=0;Z<j.D.length;++Z){var ne=j.D[Z];ne!=null&&ne.K!=null&&ne.state===j.fa.vb&&ne.K.resume().then(()=>{xo(ne.ob)},de=>{console.error("Failed to resume audiocontext",de)})}j.Ra.map(function(de){document.removeEventListener(de,j.unlock,!0)})},j.Ra.map(function(Z){document.addEventListener(Z,j.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(h){document.removeEventListener(h,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var h=new(window.AudioContext||window.webkitAudioContext),d=h.sampleRate;return h.close(),d}catch{return 0}},467013:(h,d,_,C,D,j)=>{if(typeof window.h>"u")return-1;var Z={},ne={};return h==window.h.I.wa&&_!=0&&(ne.sampleRate=_),Z.K=new(window.AudioContext||window.webkitAudioContext)(ne),Z.K.suspend(),Z.state=window.h.fa.stopped,_=0,h!=window.h.I.wa&&(_=d),Z.Y=Z.K.createScriptProcessor(C,_,d),Z.Y.onaudioprocess=function(de){if((Z.qa==null||Z.qa.length==0)&&(Z.qa=new Float32Array($e.buffer,D,C*d)),h==window.h.I.capture||h==window.h.I.Ja){for(var ce=0;ce<d;ce+=1)for(var Ve=de.inputBuffer.getChannelData(ce),Qe=Z.qa,lt=0;lt<C;lt+=1)Qe[lt*d+ce]=Ve[lt];uu(j,C,D)}if(h==window.h.I.wa||h==window.h.I.Ja)for(cu(j,C,D),ce=0;ce<de.outputBuffer.numberOfChannels;++ce)for(Ve=de.outputBuffer.getChannelData(ce),Qe=Z.qa,lt=0;lt<C;lt+=1)Ve[lt]=Qe[lt*d+ce];else for(ce=0;ce<de.outputBuffer.numberOfChannels;++ce)de.outputBuffer.getChannelData(ce).fill(0)},h!=window.h.I.capture&&h!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(de){Z.Ba=Z.K.createMediaStreamSource(de),Z.Ba.connect(Z.Y),Z.Y.connect(Z.K.destination)}).catch(function(de){console.log("Failed to get user media: "+de)}),h==window.h.I.wa&&Z.Y.connect(Z.K.destination),Z.ob=j,window.h.rc(Z)},469890:h=>window.h.pa(h).K.sampleRate,469963:h=>{h=window.h.pa(h),h.Y!==void 0&&(h.Y.onaudioprocess=function(){},h.Y.disconnect(),h.Y=void 0),h.Ba!==void 0&&(h.Ba.disconnect(),h.Ba=void 0),h.K.close(),h.K=void 0,h.ob=void 0},470363:h=>{window.h.zb(h)},470413:h=>{h=window.h.pa(h),h.K.resume(),h.state=window.h.fa.vb},470552:h=>{h=window.h.pa(h),h.K.suspend(),h.state=window.h.fa.stopped}},R=h=>{for(;0<h.length;)h.shift()(B)};function g(){var h=Se[+Fr>>2];return Fr+=4,h}var v=(h,d)=>{for(var _=0,C=h.length-1;0<=C;C--){var D=h[C];D==="."?h.splice(C,1):D===".."?(h.splice(C,1),_++):_&&(h.splice(C,1),_--)}if(d)for(;_;_--)h.unshift("..");return h},P=h=>{var d=h.charAt(0)==="/",_=h.substr(-1)==="/";return(h=v(h.split("/").filter(C=>!!C),!d).join("/"))||d||(h="."),h&&_&&(h+="/"),(d?"/":"")+h},J=h=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=d[0],d=d[1],!h&&!d?".":(d&&=d.substr(0,d.length-1),h+d)},ye=h=>{if(h==="/")return"/";h=P(h),h=h.replace(/\/$/,"");var d=h.lastIndexOf("/");return d===-1?h:h.substr(d+1)},De=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return h=>crypto.getRandomValues(h);Nt("initRandomDevice")},et=h=>(et=De())(h),ot=(...h)=>{for(var d="",_=!1,C=h.length-1;-1<=C&&!_;C--){if(_=0<=C?h[C]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(D=>!!D),!_).join("/"),(_?"/":"")+d||"."},He=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ge=(h,d,_)=>{var C=d+_;for(_=d;h[_]&&!(_>=C);)++_;if(16<_-d&&h.buffer&&He)return He.decode(h.subarray(d,_));for(C="";d<_;){var D=h[d++];if(D&128){var j=h[d++]&63;if((D&224)==192)C+=String.fromCharCode((D&31)<<6|j);else{var Z=h[d++]&63;D=(D&240)==224?(D&15)<<12|j<<6|Z:(D&7)<<18|j<<12|Z<<6|h[d++]&63,65536>D?C+=String.fromCharCode(D):(D-=65536,C+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else C+=String.fromCharCode(D)}return C},Et=[],kt=h=>{for(var d=0,_=0;_<h.length;++_){var C=h.charCodeAt(_);127>=C?d++:2047>=C?d+=2:55296<=C&&57343>=C?(d+=4,++_):d+=3}return d},ct=(h,d,_,C)=>{if(!(0<C))return 0;var D=_;C=_+C-1;for(var j=0;j<h.length;++j){var Z=h.charCodeAt(j);if(55296<=Z&&57343>=Z){var ne=h.charCodeAt(++j);Z=65536+((Z&1023)<<10)|ne&1023}if(127>=Z){if(_>=C)break;d[_++]=Z}else{if(2047>=Z){if(_+1>=C)break;d[_++]=192|Z>>6}else{if(65535>=Z){if(_+2>=C)break;d[_++]=224|Z>>12}else{if(_+3>=C)break;d[_++]=240|Z>>18,d[_++]=128|Z>>12&63}d[_++]=128|Z>>6&63}d[_++]=128|Z&63}}return d[_]=0,_-D};function on(h,d){var _=Array(kt(h)+1);return h=ct(h,_,0,_.length),d&&(_.length=h),_}var Lt=[];function Pt(h,d){Lt[h]={input:[],G:[],V:d},cr(h,wn)}var wn={open(h){var d=Lt[h.node.xa];if(!d)throw new Ye(43);h.s=d,h.seekable=!1},close(h){h.s.V.oa(h.s)},oa(h){h.s.V.oa(h.s)},read(h,d,_,C){if(!h.s||!h.s.V.hb)throw new Ye(60);for(var D=0,j=0;j<C;j++){try{var Z=h.s.V.hb(h.s)}catch{throw new Ye(29)}if(Z===void 0&&D===0)throw new Ye(6);if(Z==null)break;D++,d[_+j]=Z}return D&&(h.node.timestamp=Date.now()),D},write(h,d,_,C){if(!h.s||!h.s.V.Ma)throw new Ye(60);try{for(var D=0;D<C;D++)h.s.V.Ma(h.s,d[_+D])}catch{throw new Ye(29)}return C&&(h.node.timestamp=Date.now()),D}},On={hb(){e:{if(!Et.length){var h=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`)),!h){h=null;break e}Et=on(h,!0)}h=Et.shift()}return h},Ma(h,d){d===null||d===10?(se(Ge(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(se(Ge(h.G,0)),h.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},qn={Ma(h,d){d===null||d===10?(Y(Ge(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(Y(Ge(h.G,0)),h.G=[])}};function ti(h,d){var _=h.l?h.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=h.l,h.l=new Uint8Array(d),0<h.v&&h.l.set(_.subarray(0,h.v),0))}var yt={N:null,U(){return yt.createNode(null,"/",16895,0)},createNode(h,d,_,C){if((_&61440)===24576||(_&61440)===4096)throw new Ye(63);return yt.N||(yt.N={dir:{node:{X:yt.j.X,P:yt.j.P,ja:yt.j.ja,ta:yt.j.ta,sb:yt.j.sb,yb:yt.j.yb,tb:yt.j.tb,rb:yt.j.rb,Ca:yt.j.Ca},stream:{aa:yt.m.aa}},file:{node:{X:yt.j.X,P:yt.j.P},stream:{aa:yt.m.aa,read:yt.m.read,write:yt.m.write,Xa:yt.m.Xa,kb:yt.m.kb,mb:yt.m.mb}},link:{node:{X:yt.j.X,P:yt.j.P,la:yt.j.la},stream:{}},$a:{node:{X:yt.j.X,P:yt.j.P},stream:ur}}),_=Vn(h,d,_,C),(_.mode&61440)===16384?(_.j=yt.N.dir.node,_.m=yt.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=yt.N.file.node,_.m=yt.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=yt.N.link.node,_.m=yt.N.link.stream):(_.mode&61440)===8192&&(_.j=yt.N.$a.node,_.m=yt.N.$a.stream),_.timestamp=Date.now(),h&&(h.l[d]=_,h.timestamp=_.timestamp),_},Fc(h){return h.l?h.l.subarray?h.l.subarray(0,h.v):new Uint8Array(h.l):new Uint8Array(0)},j:{X(h){var d={};return d.Dc=(h.mode&61440)===8192?h.id:1,d.Hc=h.id,d.mode=h.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=h.xa,(h.mode&61440)===16384?d.size=4096:(h.mode&61440)===32768?d.size=h.v:(h.mode&61440)===40960?d.size=h.link.length:d.size=0,d.vc=new Date(h.timestamp),d.Jc=new Date(h.timestamp),d.Cc=new Date(h.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(h,d){if(d.mode!==void 0&&(h.mode=d.mode),d.timestamp!==void 0&&(h.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,h.v!=d))if(d==0)h.l=null,h.v=0;else{var _=h.l;h.l=new Uint8Array(d),_&&h.l.set(_.subarray(0,Math.min(d,h.v))),h.v=d}},ja(){throw qi[44]},ta(h,d,_,C){return yt.createNode(h,d,_,C)},sb(h,d,_){if((h.mode&61440)===16384){try{var C=_i(d,_)}catch{}if(C)for(var D in C.l)throw new Ye(55)}delete h.parent.l[h.name],h.parent.timestamp=Date.now(),h.name=_,d.l[_]=h,d.timestamp=h.parent.timestamp},yb(h,d){delete h.l[d],h.timestamp=Date.now()},tb(h,d){var _=_i(h,d),C;for(C in _.l)throw new Ye(55);delete h.l[d],h.timestamp=Date.now()},rb(h){var d=[".",".."],_;for(_ of Object.keys(h.l))d.push(_);return d},Ca(h,d,_){return h=yt.createNode(h,d,41471,0),h.link=_,h},la(h){if((h.mode&61440)!==40960)throw new Ye(28);return h.link}},m:{read(h,d,_,C,D){var j=h.node.l;if(D>=h.node.v)return 0;if(h=Math.min(h.node.v-D,C),8<h&&j.subarray)d.set(j.subarray(D,D+h),_);else for(C=0;C<h;C++)d[_+C]=j[D+C];return h},write(h,d,_,C,D,j){if(d.buffer===Me.buffer&&(j=!1),!C)return 0;if(h=h.node,h.timestamp=Date.now(),d.subarray&&(!h.l||h.l.subarray)){if(j)return h.l=d.subarray(_,_+C),h.v=C;if(h.v===0&&D===0)return h.l=d.slice(_,_+C),h.v=C;if(D+C<=h.v)return h.l.set(d.subarray(_,_+C),D),C}if(ti(h,D+C),h.l.subarray&&d.subarray)h.l.set(d.subarray(_,_+C),D);else for(j=0;j<C;j++)h.l[D+j]=d[_+j];return h.v=Math.max(h.v,D+C),C},aa(h,d,_){if(_===1?d+=h.position:_===2&&(h.node.mode&61440)===32768&&(d+=h.node.v),0>d)throw new Ye(28);return d},Xa(h,d,_){ti(h.node,d+_),h.node.v=Math.max(h.node.v,d+_)},kb(h,d,_,C,D){if((h.node.mode&61440)!==32768)throw new Ye(43);if(h=h.node.l,D&2||h.buffer!==Me.buffer){if((0<_||_+d<h.length)&&(h.subarray?h=h.subarray(_,_+d):h=Array.prototype.slice.call(h,_,_+d)),_=!0,Nt(),d=void 0,!d)throw new Ye(48);Me.set(h,d)}else _=!1,d=h.byteOffset;return{o:d,uc:_}},mb(h,d,_,C){return yt.m.write(h,d,0,C,_,!1),0}}},Dn=(h,d)=>{var _=0;return h&&(_|=365),d&&(_|=146),_},At=null,zr={},Qn=[],kn=1,wr=null,Mi=!0,Ye=class{constructor(h){this.name="ErrnoError",this.$=h}},qi={},Br=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(h){this.h.flags=h}get position(){return this.h.position}set position(h){this.h.position=h}},Nr=class{constructor(h,d,_,C){h||=this,this.parent=h,this.U=h.U,this.ua=null,this.id=kn++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=C}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function ln(h,d={}){if(h=ot(h),!h)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Ye(32);h=h.split("/").filter(Z=>!!Z);for(var _=At,C="/",D=0;D<h.length;D++){var j=D===h.length-1;if(j&&d.parent)break;if(_=_i(_,h[D]),C=P(C+"/"+h[D]),_.ua&&(!j||j&&d.gb)&&(_=_.ua.root),!j||d.fb){for(j=0;(_.mode&61440)===40960;)if(_=Ua(C),C=ot(J(C),_),_=ln(C,{Oa:d.Oa+1}).node,40<j++)throw new Ye(32)}}return{path:C,node:_}}function Un(h){for(var d;;){if(h===h.parent)return h=h.U.lb,d?h[h.length-1]!=="/"?`${h}/${d}`:h+d:h;d=d?`${h.name}/${d}`:h.name,h=h.parent}}function jr(h,d){for(var _=0,C=0;C<d.length;C++)_=(_<<5)-_+d.charCodeAt(C)|0;return(h+_>>>0)%wr.length}function _i(h,d){var _=(h.mode&61440)===16384?(_=wa(h,"x"))?_:h.j.ja?0:2:54;if(_)throw new Ye(_);for(_=wr[jr(h.id,d)];_;_=_.ec){var C=_.name;if(_.parent.id===h.id&&C===d)return _}return h.j.ja(h,d)}function Vn(h,d,_,C){return h=new Nr(h,d,_,C),d=jr(h.parent.id,h.name),h.ec=wr[d],wr[d]=h}function Ea(h){var d=["r","w","rw"][h&3];return h&512&&(d+="w"),d}function wa(h,d){if(Mi)return 0;if(!d.includes("r")||h.mode&292){if(d.includes("w")&&!(h.mode&146)||d.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function tr(h,d){try{return _i(h,d),20}catch{}return wa(h,"wx")}function Tr(h){if(h=Qn[h],!h)throw new Ye(8);return h}function Mr(h,d=-1){if(h=Object.assign(new Br,h),d==-1)e:{for(d=0;4096>=d;d++)if(!Qn[d])break e;throw new Ye(33)}return h.W=d,Qn[d]=h}function nr(h,d=-1){return h=Mr(h,d),h.m?.Ec?.(h),h}var ur={open(h){h.m=zr[h.node.xa].m,h.m.open?.(h)},aa(){throw new Ye(70)}};function cr(h,d){zr[h]={m:d}}function zn(h,d){var _=d==="/";if(_&&At)throw new Ye(10);if(!_&&d){var C=ln(d,{gb:!1});if(d=C.path,C=C.node,C.ua)throw new Ye(10);if((C.mode&61440)!==16384)throw new Ye(54)}d={type:h,Mc:{},lb:d,dc:[]},h=h.U(d),h.U=d,d.root=h,_?At=h:C&&(C.ua=d,C.U&&C.U.dc.push(d))}function La(h,d,_){var C=ln(h,{parent:!0}).node;if(h=ye(h),!h||h==="."||h==="..")throw new Ye(28);var D=tr(C,h);if(D)throw new Ye(D);if(!C.j.ta)throw new Ye(63);return C.j.ta(C,h,d,_)}function Ar(h){return La(h,16895,0)}function Sr(h,d,_){typeof _>"u"&&(_=d,d=438),La(h,d|8192,_)}function ni(h,d){if(!ot(h))throw new Ye(44);var _=ln(d,{parent:!0}).node;if(!_)throw new Ye(44);d=ye(d);var C=tr(_,d);if(C)throw new Ye(C);if(!_.j.Ca)throw new Ye(63);_.j.Ca(_,d,h)}function Ua(h){if(h=ln(h).node,!h)throw new Ye(44);if(!h.j.la)throw new Ye(28);return ot(Un(h.parent),h.j.la(h))}function Gi(h,d,_){if(h==="")throw new Ye(44);if(typeof d=="string"){var C={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof C>"u")throw Error(`Unknown file open mode: ${d}`);d=C}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof h=="object")var D=h;else{h=P(h);try{D=ln(h,{fb:!(d&131072)}).node}catch{}}if(C=!1,d&64)if(D){if(d&128)throw new Ye(20)}else D=La(h,_,0),C=!0;if(!D)throw new Ye(44);if((D.mode&61440)===8192&&(d&=-513),d&65536&&(D.mode&61440)!==16384)throw new Ye(54);if(!C&&(_=D?(D.mode&61440)===40960?32:(D.mode&61440)===16384&&(Ea(d)!=="r"||d&512)?31:wa(D,Ea(d)):44))throw new Ye(_);if(d&512&&!C){if(_=D,_=typeof _=="string"?ln(_,{fb:!0}).node:_,!_.j.P)throw new Ye(63);if((_.mode&61440)===16384)throw new Ye(31);if((_.mode&61440)!==32768)throw new Ye(28);if(C=wa(_,"w"))throw new Ye(C);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,D=Mr({node:D,path:Un(D),flags:d,seekable:!0,position:0,m:D.m,sc:[],error:!1}),D.m.open&&D.m.open(D),!B.logReadFiles||d&1||(Gn||={},h in Gn||(Gn[h]=1)),D}function Or(h,d,_){if(h.W===null)throw new Ye(8);if(!h.seekable||!h.m.aa)throw new Ye(70);if(_!=0&&_!=1&&_!=2)throw new Ye(28);h.position=h.m.aa(h,d,_),h.sc=[]}var za;function Dr(h,d,_){h=P("/dev/"+h);var C=Dn(!!d,!!_);fr||=64;var D=fr++<<8|0;cr(D,{open(j){j.seekable=!1},close(){_?.buffer?.length&&_(10)},read(j,Z,ne,de){for(var ce=0,Ve=0;Ve<de;Ve++){try{var Qe=d()}catch{throw new Ye(29)}if(Qe===void 0&&ce===0)throw new Ye(6);if(Qe==null)break;ce++,Z[ne+Ve]=Qe}return ce&&(j.node.timestamp=Date.now()),ce},write(j,Z,ne,de){for(var ce=0;ce<de;ce++)try{_(Z[ne+ce])}catch{throw new Ye(29)}return de&&(j.node.timestamp=Date.now()),ce}}),Sr(h,C,D)}var fr,un={},Gn,Fr=void 0,Oi=(h,d)=>Object.defineProperty(d,"name",{value:h}),Ht=[],hr=[],at,Jn=h=>{if(!h)throw new at("Cannot use deleted val. handle = "+h);return hr[h]},Cn=h=>{switch(h){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=Ht.pop()||hr.length;return hr[d]=h,hr[d+1]=1,d}},Ta=h=>{var d=Error,_=Oi(h,function(C){this.name=h,this.message=C,C=Error(C).stack,C!==void 0&&(this.stack=this.toString()+`
`+C.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},is,Ba,fn=h=>{for(var d="";z[h];)d+=Ba[z[h++]];return d},aa=[],ri=()=>{for(;aa.length;){var h=aa.pop();h.g.ea=!1,h.delete()}},St,Cr={},sa=(h,d)=>{if(d===void 0)throw new at("ptr should not be undefined");for(;h.C;)d=h.ma(d),h=h.C;return d},bi={},Aa=h=>{h=Ac(h);var d=fn(h);return Ri(h),d},oa=(h,d)=>{var _=bi[h];if(_===void 0)throw h=`${d} has unknown type ${Aa(h)}`,new at(h);return _},ii=()=>{},Yi=!1,kr=(h,d,_)=>d===_?h:_.C===void 0?null:(h=kr(h,d,_.C),h===null?null:_.Lb(h)),Sa={},ai=(h,d)=>(d=sa(h,d),Cr[d]),si,Hr=(h,d)=>{if(!d.u||!d.o)throw new si("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new si("Both smartPtrType and smartPtr must be specified");return d.count={value:1},oi(Object.create(h,{g:{value:d,writable:!0}}))},oi=h=>typeof FinalizationRegistry>"u"?(oi=d=>d,h):(Yi=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),oi=d=>{var _=d.g;return _.F&&Yi.register(d,{g:_},d),d},ii=d=>{Yi.unregister(d)},oi(h)),Wi={},li=h=>{for(;h.length;){var d=h.pop();h.pop()(d)}};function Rr(h){return this.fromWireType(xe[h>>2])}var rr={},Di={},Ct=(h,d,_)=>{function C(ne){if(ne=_(ne),ne.length!==h.length)throw new si("Mismatched type converter count");for(var de=0;de<h.length;++de)Vr(h[de],ne[de])}h.forEach(function(ne){Di[ne]=d});var D=Array(d.length),j=[],Z=0;d.forEach((ne,de)=>{bi.hasOwnProperty(ne)?D[de]=bi[ne]:(j.push(ne),rr.hasOwnProperty(ne)||(rr[ne]=[]),rr[ne].push(()=>{D[de]=bi[ne],++Z,Z===j.length&&C(D)}))}),j.length===0&&C(D)};function Ei(h,d,_={}){var C=d.name;if(!h)throw new at(`type "${C}" must have a positive integer typeid pointer`);if(bi.hasOwnProperty(h)){if(_.Vb)return;throw new at(`Cannot register type '${C}' twice`)}bi[h]=d,delete Di[h],rr.hasOwnProperty(h)&&(d=rr[h],delete rr[h],d.forEach(D=>D()))}function Vr(h,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Ei(h,d,_)}var Xi=h=>{throw new at(h.g.u.i.name+" instance already deleted")};function $i(){}var ki=(h,d,_)=>{if(h[d].A===void 0){var C=h[d];h[d]=function(...D){if(!h[d].A.hasOwnProperty(D.length))throw new at(`Function '${_}' called with an invalid number of arguments (${D.length}) - expects one of (${h[d].A})!`);return h[d].A[D.length].apply(this,D)},h[d].A=[],h[d].A[C.da]=C}},ui=(h,d,_)=>{if(B.hasOwnProperty(h)){if(_===void 0||B[h].A!==void 0&&B[h].A[_]!==void 0)throw new at(`Cannot register public name '${h}' twice`);if(ki(B,h,h),B.hasOwnProperty(_))throw new at(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);B[h].A[_]=d}else B[h]=d,_!==void 0&&(B[h].Lc=_)},wi=h=>{if(h===void 0)return"_unknown";h=h.replace(/[^a-zA-Z0-9_]/g,"$");var d=h.charCodeAt(0);return 48<=d&&57>=d?`_${h}`:h};function ir(h,d,_,C,D,j,Z,ne){this.name=h,this.constructor=d,this.M=_,this.O=C,this.C=D,this.Qb=j,this.ma=Z,this.Lb=ne,this.pb=[]}var ci=(h,d,_)=>{for(;d!==_;){if(!d.ma)throw new at(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);h=d.ma(h),d=d.C}return h};function Ti(h,d){if(d===null){if(this.La)throw new at(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new at(`Cannot pass "${Q(d)}" as a ${this.name}`);if(!d.g.o)throw new at(`Cannot pass deleted object as a pointer of type ${this.name}`);return ci(d.g.o,d.g.u.i,this.i)}function la(h,d){if(d===null){if(this.La)throw new at(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return h!==null&&h.push(this.O,_),_}return 0}if(!d||!d.g)throw new at(`Cannot pass "${Q(d)}" as a ${this.name}`);if(!d.g.o)throw new at(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new at(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=ci(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new at("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new at(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var C=d.clone();_=this.ic(_,Cn(()=>C.delete())),h!==null&&h.push(this.O,_)}break;default:throw new at("Unsupporting sharing policy")}}return _}function ja(h,d){if(d===null){if(this.La)throw new at(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new at(`Cannot pass "${Q(d)}" as a ${this.name}`);if(!d.g.o)throw new at(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new at(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return ci(d.g.o,d.g.u.i,this.i)}function Ai(h,d,_,C,D,j,Z,ne,de,ce,Ve){this.name=h,this.i=d,this.La=_,this.ra=C,this.sa=D,this.hc=j,this.mc=Z,this.qb=ne,this.Na=de,this.ic=ce,this.O=Ve,D||d.C!==void 0?this.toWireType=la:(this.toWireType=C?Ti:ja,this.L=null)}var Ca=(h,d,_)=>{if(!B.hasOwnProperty(h))throw new si("Replacing nonexistent public symbol");B[h].A!==void 0&&_!==void 0?B[h].A[_]=d:(B[h]=d,B[h].da=_)},qr=[],Ra,fi=h=>{var d=qr[h];return d||(h>=qr.length&&(qr.length=h+1),qr[h]=d=Ra.get(h)),d},Ia=(h,d,_=[])=>(h.includes("j")?(h=h.replace(/p/g,"i"),d=(0,B["dynCall_"+h])(d,..._)):d=fi(d)(..._),d),Ps=(h,d)=>(..._)=>Ia(h,d,_),Wn=(h,d)=>{h=fn(h);var _=h.includes("j")?Ps(h,d):fi(d);if(typeof _!="function")throw new at(`unknown function pointer with signature ${h}: ${d}`);return _},Ki,Gr=(h,d)=>{function _(j){D[j]||bi[j]||(Di[j]?Di[j].forEach(_):(C.push(j),D[j]=!0))}var C=[],D={};throw d.forEach(_),new Ki(`${h}: `+C.map(Aa).join([", "]))};function Ls(h){for(var d=1;d<h.length;++d)if(h[d]!==null&&h[d].L===void 0)return!0;return!1}function dr(h,d,_,C,D){var j=d.length;if(2>j)throw new at("argTypes array size mismatch! Must at least get return value and 'this' types!");var Z=d[1]!==null&&_!==null,ne=Ls(d),de=d[0].name!=="void",ce=j-2,Ve=Array(ce),Qe=[],lt=[];return Oi(h,function(...re){if(re.length!==ce)throw new at(`function ${h} called with ${re.length} arguments, expected ${ce}`);if(lt.length=0,Qe.length=Z?2:1,Qe[0]=D,Z){var ze=d[1].toWireType(lt,this);Qe[1]=ze}for(var nt=0;nt<ce;++nt)Ve[nt]=d[nt+2].toWireType(lt,re[nt]),Qe.push(Ve[nt]);if(re=C(...Qe),ne)li(lt);else for(nt=Z?1:2;nt<d.length;nt++){var je=nt===1?ze:Ve[nt-2];d[nt].L!==null&&d[nt].L(je)}return ze=de?d[0].fromWireType(re):void 0,ze})}var ua=(h,d)=>{for(var _=[],C=0;C<h;C++)_.push(xe[d+4*C>>2]);return _},xa=h=>{h=h.trim();const d=h.indexOf("(");return d!==-1?h.substr(0,d):h},Si=(h,d,_)=>{if(!(h instanceof Object))throw new at(`${_} with invalid "this": ${h}`);if(!(h instanceof d.i.constructor))throw new at(`${_} incompatible with "this" of type ${h.constructor.name}`);if(!h.g.o)throw new at(`cannot call emscripten binding method ${_} on deleted object`);return ci(h.g.o,h.g.u.i,d.i)},Fa=h=>{9<h&&--hr[h+1]===0&&(hr[h]=void 0,Ht.push(h))},Ha={name:"emscripten::val",fromWireType:h=>{var d=Jn(h);return Fa(h),d},toWireType:(h,d)=>Cn(d),argPackAdvance:8,readValueFromPointer:Rr,L:null},q=(h,d,_)=>{switch(d){case 1:return _?function(C){return this.fromWireType(Me[C])}:function(C){return this.fromWireType(z[C])};case 2:return _?function(C){return this.fromWireType(oe[C>>1])}:function(C){return this.fromWireType(Oe[C>>1])};case 4:return _?function(C){return this.fromWireType(Se[C>>2])}:function(C){return this.fromWireType(xe[C>>2])};default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},Q=h=>{if(h===null)return"null";var d=typeof h;return d==="object"||d==="array"||d==="function"?h.toString():""+h},ge=(h,d)=>{switch(d){case 4:return function(_){return this.fromWireType($e[_>>2])};case 8:return function(_){return this.fromWireType(dt[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${h}`)}},le=(h,d,_)=>{switch(d){case 1:return _?C=>Me[C]:C=>z[C];case 2:return _?C=>oe[C>>1]:C=>Oe[C>>1];case 4:return _?C=>Se[C>>2]:C=>xe[C>>2];default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},Te=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Fe=(h,d)=>{for(var _=h>>1,C=_+d/2;!(_>=C)&&Oe[_];)++_;if(_<<=1,32<_-h&&Te)return Te.decode(z.subarray(h,_));for(_="",C=0;!(C>=d/2);++C){var D=oe[h+2*C>>1];if(D==0)break;_+=String.fromCharCode(D)}return _},Be=(h,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var C=d;_=_<2*h.length?_/2:h.length;for(var D=0;D<_;++D)oe[d>>1]=h.charCodeAt(D),d+=2;return oe[d>>1]=0,d-C},u=h=>2*h.length,y=(h,d)=>{for(var _=0,C="";!(_>=d/4);){var D=Se[h+4*_>>2];if(D==0)break;++_,65536<=D?(D-=65536,C+=String.fromCharCode(55296|D>>10,56320|D&1023)):C+=String.fromCharCode(D)}return C},T=(h,d,_)=>{if(_??=2147483647,4>_)return 0;var C=d;_=C+_-4;for(var D=0;D<h.length;++D){var j=h.charCodeAt(D);if(55296<=j&&57343>=j){var Z=h.charCodeAt(++D);j=65536+((j&1023)<<10)|Z&1023}if(Se[d>>2]=j,d+=4,d+4>_)break}return Se[d>>2]=0,d-C},M=h=>{for(var d=0,_=0;_<h.length;++_){var C=h.charCodeAt(_);55296<=C&&57343>=C&&++_,d+=4}return d},te=(h,d,_)=>{var C=[];return h=h.toWireType(C,_),C.length&&(xe[d>>2]=Cn(C)),h},he={},Ee=h=>{var d=he[h];return d===void 0?fn(h):d},Ke=[],Ut=h=>{var d=Ke.length;return Ke.push(h),d},Ot=(h,d)=>{for(var _=Array(h),C=0;C<h;++C)_[C]=oa(xe[d+4*C>>2],"parameter "+C);return _},hn=Reflect.construct,hi=[],Vi={},Pi=()=>{if(!Ci){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:I||"./this.program"},d;for(d in Vi)Vi[d]===void 0?delete h[d]:h[d]=Vi[d];var _=[];for(d in h)_.push(`${d}=${h[d]}`);Ci=_}return Ci},Ci,ca=h=>h%4===0&&(h%100!==0||h%400===0),as=[31,29,31,30,31,30,31,31,30,31,30,31],ss=[31,28,31,30,31,30,31,31,30,31,30,31],xh=(h,d,_,C)=>{function D(re,ze,nt){for(re=typeof re=="number"?re.toString():re||"";re.length<ze;)re=nt[0]+re;return re}function j(re,ze){return D(re,ze,"0")}function Z(re,ze){function nt(dn){return 0>dn?-1:0<dn?1:0}var je;return(je=nt(re.getFullYear()-ze.getFullYear()))===0&&(je=nt(re.getMonth()-ze.getMonth()))===0&&(je=nt(re.getDate()-ze.getDate())),je}function ne(re){switch(re.getDay()){case 0:return new Date(re.getFullYear()-1,11,29);case 1:return re;case 2:return new Date(re.getFullYear(),0,3);case 3:return new Date(re.getFullYear(),0,2);case 4:return new Date(re.getFullYear(),0,1);case 5:return new Date(re.getFullYear()-1,11,31);case 6:return new Date(re.getFullYear()-1,11,30)}}function de(re){var ze=re.ba;for(re=new Date(new Date(re.ca+1900,0,1).getTime());0<ze;){var nt=re.getMonth(),je=(ca(re.getFullYear())?as:ss)[nt];if(ze>je-re.getDate())ze-=je-re.getDate()+1,re.setDate(1),11>nt?re.setMonth(nt+1):(re.setMonth(0),re.setFullYear(re.getFullYear()+1));else{re.setDate(re.getDate()+ze);break}}return nt=new Date(re.getFullYear()+1,0,4),ze=ne(new Date(re.getFullYear(),0,4)),nt=ne(nt),0>=Z(ze,re)?0>=Z(nt,re)?re.getFullYear()+1:re.getFullYear():re.getFullYear()-1}var ce=xe[C+40>>2];C={pc:Se[C>>2],oc:Se[C+4>>2],Da:Se[C+8>>2],Qa:Se[C+12>>2],Ea:Se[C+16>>2],ca:Se[C+20>>2],R:Se[C+24>>2],ba:Se[C+28>>2],Nc:Se[C+32>>2],nc:Se[C+36>>2],qc:ce&&ce?Ge(z,ce):""},_=_?Ge(z,_):"",ce={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ve in ce)_=_.replace(new RegExp(Ve,"g"),ce[Ve]);var Qe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lt="January February March April May June July August September October November December".split(" ");ce={"%a":re=>Qe[re.R].substring(0,3),"%A":re=>Qe[re.R],"%b":re=>lt[re.Ea].substring(0,3),"%B":re=>lt[re.Ea],"%C":re=>j((re.ca+1900)/100|0,2),"%d":re=>j(re.Qa,2),"%e":re=>D(re.Qa,2," "),"%g":re=>de(re).toString().substring(2),"%G":de,"%H":re=>j(re.Da,2),"%I":re=>(re=re.Da,re==0?re=12:12<re&&(re-=12),j(re,2)),"%j":re=>{for(var ze=0,nt=0;nt<=re.Ea-1;ze+=(ca(re.ca+1900)?as:ss)[nt++]);return j(re.Qa+ze,3)},"%m":re=>j(re.Ea+1,2),"%M":re=>j(re.oc,2),"%n":()=>`
`,"%p":re=>0<=re.Da&&12>re.Da?"AM":"PM","%S":re=>j(re.pc,2),"%t":()=>"	","%u":re=>re.R||7,"%U":re=>j(Math.floor((re.ba+7-re.R)/7),2),"%V":re=>{var ze=Math.floor((re.ba+7-(re.R+6)%7)/7);if(2>=(re.R+371-re.ba-2)%7&&ze++,ze)ze==53&&(nt=(re.R+371-re.ba)%7,nt==4||nt==3&&ca(re.ca)||(ze=1));else{ze=52;var nt=(re.R+7-re.ba-1)%7;(nt==4||nt==5&&ca(re.ca%400-1))&&ze++}return j(ze,2)},"%w":re=>re.R,"%W":re=>j(Math.floor((re.ba+7-(re.R+6)%7)/7),2),"%y":re=>(re.ca+1900).toString().substring(2),"%Y":re=>re.ca+1900,"%z":re=>{re=re.nc;var ze=0<=re;return re=Math.abs(re)/60,(ze?"+":"-")+("0000"+(re/60*100+re%60)).slice(-4)},"%Z":re=>re.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(Ve in ce)_.includes(Ve)&&(_=_.replace(new RegExp(Ve,"g"),ce[Ve](C)));return _=_.replace(/\0\0/g,"%"),Ve=on(_,!1),Ve.length>d?0:(Me.set(Ve,h),Ve.length-1)};[44].forEach(h=>{qi[h]=new Ye(h),qi[h].stack="<generic error, no stack>"}),wr=Array(4096),zn(yt,"/"),Ar("/tmp"),Ar("/home"),Ar("/home/web_user"),(function(){Ar("/dev"),cr(259,{read:()=>0,write:(C,D,j,Z)=>Z}),Sr("/dev/null",259),Pt(1280,On),Pt(1536,qn),Sr("/dev/tty",1280),Sr("/dev/tty1",1536);var h=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=et(h).byteLength),h[--d]);Dr("random",_),Dr("urandom",_),Ar("/dev/shm"),Ar("/dev/shm/tmp")})(),(function(){Ar("/proc");var h=Ar("/proc/self");Ar("/proc/self/fd"),zn({U(){var d=Vn(h,"fd",16895,73);return d.j={ja(_,C){var D=Tr(+C);return _={parent:null,U:{lb:"fake"},j:{la:()=>D.path}},_.parent=_}},d}},"/proc/self/fd")})(),at=B.BindingError=class extends Error{constructor(h){super(h),this.name="BindingError"}},hr.push(0,1,void 0,1,null,1,!0,1,!1,1),B.count_emval_handles=()=>hr.length/2-5-Ht.length,is=B.PureVirtualError=Ta("PureVirtualError");for(var Tc=Array(256),tl=0;256>tl;++tl)Tc[tl]=String.fromCharCode(tl);Ba=Tc,B.getInheritedInstanceCount=()=>Object.keys(Cr).length,B.getLiveInheritedInstances=()=>{var h=[],d;for(d in Cr)Cr.hasOwnProperty(d)&&h.push(Cr[d]);return h},B.flushPendingDeletes=ri,B.setDelayFunction=h=>{St=h,aa.length&&St&&St(ri)},si=B.InternalError=class extends Error{constructor(h){super(h),this.name="InternalError"}},Object.assign($i.prototype,{isAliasOf:function(h){if(!(this instanceof $i&&h instanceof $i))return!1;var d=this.g.u.i,_=this.g.o;h.g=h.g;var C=h.g.u.i;for(h=h.g.o;d.C;)_=d.ma(_),d=d.C;for(;C.C;)h=C.ma(h),C=C.C;return d===C&&_===h},clone:function(){if(this.g.o||Xi(this),this.g.ha)return this.g.count.value+=1,this;var h=oi,d=Object,_=d.create,C=Object.getPrototypeOf(this),D=this.g;return h=h(_.call(d,C,{g:{value:{count:D.count,ea:D.ea,ha:D.ha,o:D.o,u:D.u,F:D.F,J:D.J}}})),h.g.count.value+=1,h.g.ea=!1,h},delete(){if(this.g.o||Xi(this),this.g.ea&&!this.g.ha)throw new at("Object already scheduled for deletion");ii(this);var h=this.g;--h.count.value,h.count.value===0&&(h.F?h.J.O(h.F):h.u.i.O(h.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||Xi(this),this.g.ea&&!this.g.ha)throw new at("Object already scheduled for deletion");return aa.push(this),aa.length===1&&St&&St(ri),this.g.ea=!0,this}}),Object.assign(Ai.prototype,{Rb(h){return this.qb&&(h=this.qb(h)),h},ab(h){this.O?.(h)},argPackAdvance:8,readValueFromPointer:Rr,fromWireType:function(h){function d(){return this.sa?Hr(this.i.M,{u:this.hc,o:_,J:this,F:h}):Hr(this.i.M,{u:this,o:h})}var _=this.Rb(h);if(!_)return this.ab(h),null;var C=ai(this.i,_);if(C!==void 0)return C.g.count.value===0?(C.g.o=_,C.g.F=h,C.clone()):(C=C.clone(),this.ab(h),C);if(C=this.i.Qb(_),C=Sa[C],!C)return d.call(this);C=this.ra?C.Hb:C.pointerType;var D=kr(_,this.i,C.i);return D===null?d.call(this):this.sa?Hr(C.i.M,{u:C,o:D,J:this,F:h}):Hr(C.i.M,{u:C,o:D})}}),Ki=B.UnboundTypeError=Ta("UnboundTypeError");var lu={__syscall_fcntl64:function(h,d,_){Fr=_;try{var C=Tr(h);switch(d){case 0:var D=g();if(0>D)break;for(;Qn[D];)D++;return nr(C,D).W;case 1:case 2:return 0;case 3:return C.flags;case 4:return D=g(),C.flags|=D,0;case 12:return D=g(),oe[D+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(j){if(typeof un>"u"||j.name!=="ErrnoError")throw j;return-j.$}},__syscall_ioctl:function(h,d,_){Fr=_;try{var C=Tr(h);switch(d){case 21509:return C.s?0:-59;case 21505:if(!C.s)return-59;if(C.s.V.Xb){h=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var D=g();Se[D>>2]=25856,Se[D+4>>2]=5,Se[D+8>>2]=191,Se[D+12>>2]=35387;for(var j=0;32>j;j++)Me[D+j+17]=h[j]||0}return 0;case 21510:case 21511:case 21512:return C.s?0:-59;case 21506:case 21507:case 21508:if(!C.s)return-59;if(C.s.V.Yb)for(D=g(),h=[],j=0;32>j;j++)h.push(Me[D+j+17]);return 0;case 21519:return C.s?(D=g(),Se[D>>2]=0):-59;case 21520:return C.s?-28:-59;case 21531:if(D=g(),!C.m.Wb)throw new Ye(59);return C.m.Wb(C,d,D);case 21523:return C.s?(C.s.V.Zb&&(j=[24,80],D=g(),oe[D>>1]=j[0],oe[D+2>>1]=j[1]),0):-59;case 21524:return C.s?0:-59;case 21515:return C.s?0:-59;default:return-28}}catch(Z){if(typeof un>"u"||Z.name!=="ErrnoError")throw Z;return-Z.$}},__syscall_openat:function(h,d,_,C){Fr=C;try{d=d?Ge(z,d):"";var D=d;if(D.charAt(0)==="/")d=D;else{var j=h===-100?"/":Tr(h).path;if(D.length==0)throw new Ye(44);d=P(j+"/"+D)}var Z=C?g():0;return Gi(d,_,Z).W}catch(ne){if(typeof un>"u"||ne.name!=="ErrnoError")throw ne;return-ne.$}},_abort_js:()=>{Nt("")},_embind_create_inheriting_constructor:(h,d,_)=>{h=fn(h),d=oa(d,"wrapper"),_=Jn(_);var C=d.i,D=C.M,j=C.C.M,Z=C.C.constructor;return h=Oi(h,function(...ne){C.C.pb.forEach((function(de){if(this[de]===j[de])throw new is(`Pure virtual function ${de} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:D}),this.__construct(...ne)}),D.__construct=function(...ne){if(this===D)throw new at("Pass correct 'this' to __construct");ne=Z.implement(this,...ne),ii(ne);var de=ne.g;if(ne.notifyOnDestruction(),de.ha=!0,Object.defineProperties(this,{g:{value:de}}),oi(this),ne=de.o,ne=sa(C,ne),Cr.hasOwnProperty(ne))throw new at(`Tried to register registered instance: ${ne}`);Cr[ne]=this},D.__destruct=function(){if(this===D)throw new at("Pass correct 'this' to __destruct");ii(this);var ne=this.g.o;if(ne=sa(C,ne),Cr.hasOwnProperty(ne))delete Cr[ne];else throw new at(`Tried to unregister unregistered instance: ${ne}`)},h.prototype=Object.create(D),Object.assign(h.prototype,_),Cn(h)},_embind_finalize_value_object:h=>{var d=Wi[h];delete Wi[h];var _=d.Na,C=d.O,D=d.eb,j=D.map(Z=>Z.Ub).concat(D.map(Z=>Z.kc));Ct([h],j,Z=>{var ne={};return D.forEach((de,ce)=>{var Ve=Z[ce],Qe=de.Sb,lt=de.Tb,re=Z[ce+D.length],ze=de.jc,nt=de.lc;ne[de.Ob]={read:je=>Ve.fromWireType(Qe(lt,je)),write:(je,dn)=>{var Je=[];ze(nt,je,re.toWireType(Je,dn)),li(Je)}}}),[{name:d.name,fromWireType:de=>{var ce={},Ve;for(Ve in ne)ce[Ve]=ne[Ve].read(de);return C(de),ce},toWireType:(de,ce)=>{for(var Ve in ne)if(!(Ve in ce))throw new TypeError(`Missing field: "${Ve}"`);var Qe=_();for(Ve in ne)ne[Ve].write(Qe,ce[Ve]);return de!==null&&de.push(C,Qe),Qe},argPackAdvance:8,readValueFromPointer:Rr,L:C}]})},_embind_register_bigint:()=>{},_embind_register_bool:(h,d,_,C)=>{d=fn(d),Vr(h,{name:d,fromWireType:function(D){return!!D},toWireType:function(D,j){return j?_:C},argPackAdvance:8,readValueFromPointer:function(D){return this.fromWireType(z[D])},L:null})},_embind_register_class:(h,d,_,C,D,j,Z,ne,de,ce,Ve,Qe,lt)=>{Ve=fn(Ve),j=Wn(D,j),ne&&=Wn(Z,ne),ce&&=Wn(de,ce),lt=Wn(Qe,lt);var re=wi(Ve);ui(re,function(){Gr(`Cannot construct ${Ve} due to unbound types`,[C])}),Ct([h,d,_],C?[C]:[],ze=>{if(ze=ze[0],C)var nt=ze.i,je=nt.M;else je=$i.prototype;ze=Oi(Ve,function(...Tn){if(Object.getPrototypeOf(this)!==dn)throw new at("Use 'new' to construct "+Ve);if(Je.Z===void 0)throw new at(Ve+" has no accessible constructor");var ar=Je.Z[Tn.length];if(ar===void 0)throw new at(`Tried to invoke ctor of ${Ve} with invalid number of parameters (${Tn.length}) - expected (${Object.keys(Je.Z).toString()}) parameters instead!`);return ar.apply(this,Tn)});var dn=Object.create(je,{constructor:{value:ze}});ze.prototype=dn;var Je=new ir(Ve,ze,dn,lt,nt,j,ne,ce);if(Je.C){var zt;(zt=Je.C).na??(zt.na=[]),Je.C.na.push(Je)}return nt=new Ai(Ve,Je,!0,!1,!1),zt=new Ai(Ve+"*",Je,!1,!1,!1),je=new Ai(Ve+" const*",Je,!1,!0,!1),Sa[h]={pointerType:zt,Hb:je},Ca(re,ze),[nt,zt,je]})},_embind_register_class_class_function:(h,d,_,C,D,j,Z)=>{var ne=ua(_,C);d=fn(d),d=xa(d),j=Wn(D,j),Ct([],[h],de=>{function ce(){Gr(`Cannot call ${Ve} due to unbound types`,ne)}de=de[0];var Ve=`${de.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Qe=de.i.constructor;return Qe[d]===void 0?(ce.da=_-1,Qe[d]=ce):(ki(Qe,d,Ve),Qe[d].A[_-1]=ce),Ct([],ne,lt=>{if(lt=dr(Ve,[lt[0],null].concat(lt.slice(1)),null,j,Z),Qe[d].A===void 0?(lt.da=_-1,Qe[d]=lt):Qe[d].A[_-1]=lt,de.i.na)for(const re of de.i.na)re.constructor.hasOwnProperty(d)||(re.constructor[d]=lt);return[]}),[]})},_embind_register_class_class_property:(h,d,_,C,D,j,Z,ne)=>{d=fn(d),j=Wn(D,j),Ct([],[h],de=>{de=de[0];var ce=`${de.name}.${d}`,Ve={get(){Gr(`Cannot access ${ce} due to unbound types`,[_])},enumerable:!0,configurable:!0};return Ve.set=ne?()=>{Gr(`Cannot access ${ce} due to unbound types`,[_])}:()=>{throw new at(`${ce} is a read-only property`)},Object.defineProperty(de.i.constructor,d,Ve),Ct([],[_],Qe=>{Qe=Qe[0];var lt={get(){return Qe.fromWireType(j(C))},enumerable:!0};return ne&&(ne=Wn(Z,ne),lt.set=re=>{var ze=[];ne(C,Qe.toWireType(ze,re)),li(ze)}),Object.defineProperty(de.i.constructor,d,lt),[]}),[]})},_embind_register_class_constructor:(h,d,_,C,D,j)=>{var Z=ua(d,_);D=Wn(C,D),Ct([],[h],ne=>{ne=ne[0];var de=`constructor ${ne.name}`;if(ne.i.Z===void 0&&(ne.i.Z=[]),ne.i.Z[d-1]!==void 0)throw new at(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${ne.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ne.i.Z[d-1]=()=>{Gr(`Cannot construct ${ne.name} due to unbound types`,Z)},Ct([],Z,ce=>(ce.splice(1,0,null),ne.i.Z[d-1]=dr(de,ce,null,D,j),[])),[]})},_embind_register_class_function:(h,d,_,C,D,j,Z,ne)=>{var de=ua(_,C);d=fn(d),d=xa(d),j=Wn(D,j),Ct([],[h],ce=>{function Ve(){Gr(`Cannot call ${Qe} due to unbound types`,de)}ce=ce[0];var Qe=`${ce.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),ne&&ce.i.pb.push(d);var lt=ce.i.M,re=lt[d];return re===void 0||re.A===void 0&&re.className!==ce.name&&re.da===_-2?(Ve.da=_-2,Ve.className=ce.name,lt[d]=Ve):(ki(lt,d,Qe),lt[d].A[_-2]=Ve),Ct([],de,ze=>(ze=dr(Qe,ze,ce,j,Z),lt[d].A===void 0?(ze.da=_-2,lt[d]=ze):lt[d].A[_-2]=ze,[])),[]})},_embind_register_class_property:(h,d,_,C,D,j,Z,ne,de,ce)=>{d=fn(d),D=Wn(C,D),Ct([],[h],Ve=>{Ve=Ve[0];var Qe=`${Ve.name}.${d}`,lt={get(){Gr(`Cannot access ${Qe} due to unbound types`,[_,Z])},enumerable:!0,configurable:!0};return lt.set=de?()=>Gr(`Cannot access ${Qe} due to unbound types`,[_,Z]):()=>{throw new at(Qe+" is a read-only property")},Object.defineProperty(Ve.i.M,d,lt),Ct([],de?[_,Z]:[_],re=>{var ze=re[0],nt={get(){var dn=Si(this,Ve,Qe+" getter");return ze.fromWireType(D(j,dn))},enumerable:!0};if(de){de=Wn(ne,de);var je=re[1];nt.set=function(dn){var Je=Si(this,Ve,Qe+" setter"),zt=[];de(ce,Je,je.toWireType(zt,dn)),li(zt)}}return Object.defineProperty(Ve.i.M,d,nt),[]}),[]})},_embind_register_emval:h=>Vr(h,Ha),_embind_register_enum:(h,d,_,C)=>{function D(){}d=fn(d),D.values={},Vr(h,{name:d,constructor:D,fromWireType:function(j){return this.constructor.values[j]},toWireType:(j,Z)=>Z.value,argPackAdvance:8,readValueFromPointer:q(d,_,C),L:null}),ui(d,D)},_embind_register_enum_value:(h,d,_)=>{var C=oa(h,"enum");d=fn(d),h=C.constructor,C=Object.create(C.constructor.prototype,{value:{value:_},constructor:{value:Oi(`${C.name}_${d}`,function(){})}}),h.values[_]=C,h[d]=C},_embind_register_float:(h,d,_)=>{d=fn(d),Vr(h,{name:d,fromWireType:C=>C,toWireType:(C,D)=>D,argPackAdvance:8,readValueFromPointer:ge(d,_),L:null})},_embind_register_function:(h,d,_,C,D,j)=>{var Z=ua(d,_);h=fn(h),h=xa(h),D=Wn(C,D),ui(h,function(){Gr(`Cannot call ${h} due to unbound types`,Z)},d-1),Ct([],Z,ne=>(Ca(h,dr(h,[ne[0],null].concat(ne.slice(1)),null,D,j),d-1),[]))},_embind_register_integer:(h,d,_,C,D)=>{if(d=fn(d),D===-1&&(D=4294967295),D=ne=>ne,C===0){var j=32-8*_;D=ne=>ne<<j>>>j}var Z=d.includes("unsigned")?function(ne,de){return de>>>0}:function(ne,de){return de};Vr(h,{name:d,fromWireType:D,toWireType:Z,argPackAdvance:8,readValueFromPointer:le(d,_,C!==0),L:null})},_embind_register_memory_view:(h,d,_)=>{function C(j){return new D(Me.buffer,xe[j+4>>2],xe[j>>2])}var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=fn(_),Vr(h,{name:_,fromWireType:C,argPackAdvance:8,readValueFromPointer:C},{Vb:!0})},_embind_register_std_string:(h,d)=>{d=fn(d);var _=d==="std::string";Vr(h,{name:d,fromWireType:function(C){var D=xe[C>>2],j=C+4;if(_)for(var Z=j,ne=0;ne<=D;++ne){var de=j+ne;if(ne==D||z[de]==0){if(Z=Z?Ge(z,Z,de-Z):"",ce===void 0)var ce=Z;else ce+="\0",ce+=Z;Z=de+1}}else{for(ce=Array(D),ne=0;ne<D;++ne)ce[ne]=String.fromCharCode(z[j+ne]);ce=ce.join("")}return Ri(C),ce},toWireType:function(C,D){D instanceof ArrayBuffer&&(D=new Uint8Array(D));var j=typeof D=="string";if(!(j||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array))throw new at("Cannot pass non-string to std::string");var Z=_&&j?kt(D):D.length,ne=os(4+Z+1),de=ne+4;if(xe[ne>>2]=Z,_&&j)ct(D,z,de,Z+1);else if(j)for(j=0;j<Z;++j){var ce=D.charCodeAt(j);if(255<ce)throw Ri(de),new at("String has UTF-16 code units that do not fit in 8 bits");z[de+j]=ce}else for(j=0;j<Z;++j)z[de+j]=D[j];return C!==null&&C.push(Ri,ne),ne},argPackAdvance:8,readValueFromPointer:Rr,L(C){Ri(C)}})},_embind_register_std_wstring:(h,d,_)=>{if(_=fn(_),d===2)var C=Fe,D=Be,j=u,Z=ne=>Oe[ne>>1];else d===4&&(C=y,D=T,j=M,Z=ne=>xe[ne>>2]);Vr(h,{name:_,fromWireType:ne=>{for(var de=xe[ne>>2],ce,Ve=ne+4,Qe=0;Qe<=de;++Qe){var lt=ne+4+Qe*d;(Qe==de||Z(lt)==0)&&(Ve=C(Ve,lt-Ve),ce===void 0?ce=Ve:(ce+="\0",ce+=Ve),Ve=lt+d)}return Ri(ne),ce},toWireType:(ne,de)=>{if(typeof de!="string")throw new at(`Cannot pass non-string to C++ string type ${_}`);var ce=j(de),Ve=os(4+ce+d);return xe[Ve>>2]=ce/d,D(de,Ve+4,ce+d),ne!==null&&ne.push(Ri,Ve),Ve},argPackAdvance:8,readValueFromPointer:Rr,L(ne){Ri(ne)}})},_embind_register_value_object:(h,d,_,C,D,j)=>{Wi[h]={name:fn(d),Na:Wn(_,C),O:Wn(D,j),eb:[]}},_embind_register_value_object_field:(h,d,_,C,D,j,Z,ne,de,ce)=>{Wi[h].eb.push({Ob:fn(d),Ub:_,Sb:Wn(C,D),Tb:j,kc:Z,jc:Wn(ne,de),lc:ce})},_embind_register_void:(h,d)=>{d=fn(d),Vr(h,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(h,d,_)=>z.copyWithin(h,d,d+_),_emval_as:(h,d,_)=>(h=Jn(h),d=oa(d,"emval::as"),te(d,_,h)),_emval_call_method:(h,d,_,C,D)=>(h=Ke[h],d=Jn(d),_=Ee(_),h(d,d[_],C,D)),_emval_decref:Fa,_emval_get_method_caller:(h,d,_)=>{var C=Ot(h,d),D=C.shift();h--;var j=Array(h);return d=`methodCaller<(${C.map(Z=>Z.name).join(", ")}) => ${D.name}>`,Ut(Oi(d,(Z,ne,de,ce)=>{for(var Ve=0,Qe=0;Qe<h;++Qe)j[Qe]=C[Qe].readValueFromPointer(ce+Ve),Ve+=C[Qe].argPackAdvance;return Z=_===1?hn(ne,j):ne.apply(Z,j),te(D,de,Z)}))},_emval_get_module_property:h=>(h=Ee(h),Cn(B[h])),_emval_get_property:(h,d)=>(h=Jn(h),d=Jn(d),Cn(h[d])),_emval_incref:h=>{9<h&&(hr[h+1]+=1)},_emval_new_array:()=>Cn([]),_emval_new_cstring:h=>Cn(Ee(h)),_emval_new_object:()=>Cn({}),_emval_run_destructors:h=>{var d=Jn(h);li(d),Fa(h)},_emval_set_property:(h,d,_)=>{h=Jn(h),d=Jn(d),_=Jn(_),h[d]=_},_emval_take_value:(h,d)=>(h=oa(h,"_emval_take_value"),h=h.readValueFromPointer(d),Cn(h)),emscripten_asm_const_int:(h,d,_)=>{hi.length=0;for(var C;C=z[d++];){var D=C!=105;D&=C!=112,_+=D&&_%8?4:0,hi.push(C==112?xe[_>>2]:C==105?Se[_>>2]:dt[_>>3]),_+=D?8:4}return vn[h](...hi)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:h=>{var d=z.length;if(h>>>=0,2147483648<h)return!1;for(var _=1;4>=_;_*=2){var C=d*(1+.2/_);C=Math.min(C,h+100663296);var D=Math;C=Math.max(h,C);e:{D=(D.min.call(D,2147483648,C+(65536-C%65536)%65536)-_e.buffer.byteLength+65535)/65536;try{_e.grow(D),ft();var j=1;break e}catch{}j=void 0}if(j)return!0}return!1},environ_get:(h,d)=>{var _=0;return Pi().forEach((C,D)=>{var j=d+_;for(D=xe[h+4*D>>2]=j,j=0;j<C.length;++j)Me[D++]=C.charCodeAt(j);Me[D]=0,_+=C.length+1}),0},environ_sizes_get:(h,d)=>{var _=Pi();xe[h>>2]=_.length;var C=0;return _.forEach(D=>C+=D.length+1),xe[d>>2]=C,0},fd_close:function(h){try{var d=Tr(h);if(d.W===null)throw new Ye(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{Qn[d.W]=null}return d.W=null,0}catch(_){if(typeof un>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(h,d,_,C){try{e:{var D=Tr(h);h=d;for(var j,Z=d=0;Z<_;Z++){var ne=xe[h>>2],de=xe[h+4>>2];h+=8;var ce=D,Ve=j,Qe=Me;if(0>de||0>Ve)throw new Ye(28);if(ce.W===null)throw new Ye(8);if((ce.flags&2097155)===1)throw new Ye(8);if((ce.node.mode&61440)===16384)throw new Ye(31);if(!ce.m.read)throw new Ye(28);var lt=typeof Ve<"u";if(!lt)Ve=ce.position;else if(!ce.seekable)throw new Ye(70);var re=ce.m.read(ce,Qe,ne,de,Ve);lt||(ce.position+=re);var ze=re;if(0>ze){var nt=-1;break e}if(d+=ze,ze<de)break;typeof j<"u"&&(j+=ze)}nt=d}return xe[C>>2]=nt,0}catch(je){if(typeof un>"u"||je.name!=="ErrnoError")throw je;return je.$}},fd_seek:function(h,d,_,C,D){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var j=Tr(h);return Or(j,d,C),nn=[j.position>>>0,(Kn=j.position,1<=+Math.abs(Kn)?0<Kn?+Math.floor(Kn/4294967296)>>>0:~~+Math.ceil((Kn-+(~~Kn>>>0))/4294967296)>>>0:0)],Se[D>>2]=nn[0],Se[D+4>>2]=nn[1],j.Ka&&d===0&&C===0&&(j.Ka=null),0}catch(Z){if(typeof un>"u"||Z.name!=="ErrnoError")throw Z;return Z.$}},fd_write:function(h,d,_,C){try{e:{var D=Tr(h);h=d;for(var j,Z=d=0;Z<_;Z++){var ne=xe[h>>2],de=xe[h+4>>2];h+=8;var ce=D,Ve=ne,Qe=de,lt=j,re=Me;if(0>Qe||0>lt)throw new Ye(28);if(ce.W===null)throw new Ye(8);if((ce.flags&2097155)===0)throw new Ye(8);if((ce.node.mode&61440)===16384)throw new Ye(31);if(!ce.m.write)throw new Ye(28);ce.seekable&&ce.flags&1024&&Or(ce,0,2);var ze=typeof lt<"u";if(!ze)lt=ce.position;else if(!ce.seekable)throw new Ye(70);var nt=ce.m.write(ce,re,Ve,Qe,lt,void 0);ze||(ce.position+=nt);var je=nt;if(0>je){var dn=-1;break e}d+=je,typeof j<"u"&&(j+=je)}dn=d}return xe[C>>2]=dn,0}catch(Je){if(typeof un>"u"||Je.name!=="ErrnoError")throw Je;return Je.$}},strftime_l:(h,d,_,C)=>xh(h,d,_,C)},Bn=(function(){function h(_){return Bn=_.exports,_e=Bn.memory,ft(),Ra=Bn.__indirect_function_table,bt.unshift(Bn.__wasm_call_ctors),qe--,B.monitorRunDependencies?.(qe),qe==0&&Ft&&(_=Ft,Ft=null,_()),Bn}var d={env:lu,wasi_snapshot_preview1:lu};if(qe++,B.monitorRunDependencies?.(qe),B.instantiateWasm)try{return B.instantiateWasm(d,h)}catch(_){Y(`Module.instantiateWasm callback failed with error: ${_}`),be(_)}return en||=Zt("canvas_advanced.wasm")?"canvas_advanced.wasm":B.locateFile?B.locateFile("canvas_advanced.wasm",U):U+"canvas_advanced.wasm",ei(d,function(_){h(_.instance)}).catch(be),{}})(),Ri=h=>(Ri=Bn.free)(h),os=h=>(os=Bn.malloc)(h),Ac=h=>(Ac=Bn.__getTypeName)(h),xo=B._ma_device__on_notification_unlocked=h=>(xo=B._ma_device__on_notification_unlocked=Bn.ma_device__on_notification_unlocked)(h);B._ma_malloc_emscripten=(h,d)=>(B._ma_malloc_emscripten=Bn.ma_malloc_emscripten)(h,d),B._ma_free_emscripten=(h,d)=>(B._ma_free_emscripten=Bn.ma_free_emscripten)(h,d);var uu=B._ma_device_process_pcm_frames_capture__webaudio=(h,d,_)=>(uu=B._ma_device_process_pcm_frames_capture__webaudio=Bn.ma_device_process_pcm_frames_capture__webaudio)(h,d,_),cu=B._ma_device_process_pcm_frames_playback__webaudio=(h,d,_)=>(cu=B._ma_device_process_pcm_frames_playback__webaudio=Bn.ma_device_process_pcm_frames_playback__webaudio)(h,d,_);B.dynCall_iiji=(h,d,_,C,D)=>(B.dynCall_iiji=Bn.dynCall_iiji)(h,d,_,C,D),B.dynCall_jiji=(h,d,_,C,D)=>(B.dynCall_jiji=Bn.dynCall_jiji)(h,d,_,C,D),B.dynCall_iiiji=(h,d,_,C,D,j)=>(B.dynCall_iiiji=Bn.dynCall_iiiji)(h,d,_,C,D,j),B.dynCall_iij=(h,d,_,C)=>(B.dynCall_iij=Bn.dynCall_iij)(h,d,_,C),B.dynCall_jii=(h,d,_)=>(B.dynCall_jii=Bn.dynCall_jii)(h,d,_),B.dynCall_viijii=(h,d,_,C,D,j,Z)=>(B.dynCall_viijii=Bn.dynCall_viijii)(h,d,_,C,D,j,Z),B.dynCall_iiiiij=(h,d,_,C,D,j,Z)=>(B.dynCall_iiiiij=Bn.dynCall_iiiiij)(h,d,_,C,D,j,Z),B.dynCall_iiiiijj=(h,d,_,C,D,j,Z,ne,de)=>(B.dynCall_iiiiijj=Bn.dynCall_iiiiijj)(h,d,_,C,D,j,Z,ne,de),B.dynCall_iiiiiijj=(h,d,_,C,D,j,Z,ne,de,ce)=>(B.dynCall_iiiiiijj=Bn.dynCall_iiiiiijj)(h,d,_,C,D,j,Z,ne,de,ce);var Us;Ft=function h(){Us||nl(),Us||(Ft=h)};function nl(){function h(){if(!Us&&(Us=!0,B.calledRun=!0,!pe)){if(B.noFSInit||za||(za=!0,B.stdin=B.stdin,B.stdout=B.stdout,B.stderr=B.stderr,B.stdin?Dr("stdin",B.stdin):ni("/dev/tty","/dev/stdin"),B.stdout?Dr("stdout",null,B.stdout):ni("/dev/tty","/dev/stdout"),B.stderr?Dr("stderr",null,B.stderr):ni("/dev/tty1","/dev/stderr"),Gi("/dev/stdin",0),Gi("/dev/stdout",1),Gi("/dev/stderr",1)),Mi=!1,R(bt),Ie(B),B.onRuntimeInitialized&&B.onRuntimeInitialized(),B.postRun)for(typeof B.postRun=="function"&&(B.postRun=[B.postRun]);B.postRun.length;){var d=B.postRun.shift();sn.unshift(d)}R(sn)}}if(!(0<qe)){if(B.preRun)for(typeof B.preRun=="function"&&(B.preRun=[B.preRun]);B.preRun.length;)mt();R(_t),0<qe||(B.setStatus?(B.setStatus("Running..."),setTimeout(function(){setTimeout(function(){B.setStatus("")},1),h()},1)):h())}}if(B.preInit)for(typeof B.preInit=="function"&&(B.preInit=[B.preInit]);0<B.preInit.length;)B.preInit.pop()();return nl(),ae=Ue,ae})})();const N=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function N(k,G,ae,B){this.animation=k,this.artboard=G,this.playing=B,this.loopCount=0,this.scrubTo=null,this.instance=new ae.LinearAnimationInstance(k,G)}return Object.defineProperty(N.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"time",{get:function(){return this.instance.time},set:function(k){this.instance.time=k},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),N.prototype.advance=function(k){this.scrubTo===null?this.instance.advance(k):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},N.prototype.apply=function(k){this.instance.apply(k)},N.prototype.cleanup=function(){this.instance.delete()},N})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>k.AudioAssetWrapper,AudioWrapper:()=>k.AudioWrapper,BLANK_URL:()=>N.BLANK_URL,CustomFileAssetLoaderWrapper:()=>k.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>k.FileAssetWrapper,FileFinalizer:()=>k.FileFinalizer,FontAssetWrapper:()=>k.FontAssetWrapper,FontWrapper:()=>k.FontWrapper,ImageAssetWrapper:()=>k.ImageAssetWrapper,ImageWrapper:()=>k.ImageWrapper,createFinalization:()=>k.createFinalization,finalizationRegistry:()=>k.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>N.sanitizeUrl});var E=w(6),N=w(7),k=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>k});var E=void 0,N=function(G,ae,B){var Ie,be,Ue=[];if(["touchstart","touchmove"].indexOf(G.type)>-1&&(!((Ie=G.changedTouches)===null||Ie===void 0)&&Ie.length)){ae||G.preventDefault();for(var V=0,Le=B?G.changedTouches.length:1;V<Le;){var Xe=G.changedTouches[V];Ue.push({clientX:Xe.clientX,clientY:Xe.clientY,identifier:Xe.identifier}),V++}}else if(G.type==="touchend"&&(!((be=G.changedTouches)===null||be===void 0)&&be.length))for(var V=0,Le=B?G.changedTouches.length:1;V<Le;){var Xe=G.changedTouches[V];Ue.push({clientX:Xe.clientX,clientY:Xe.clientY,identifier:Xe.identifier}),V++}else Ue.push({clientX:G.clientX,clientY:G.clientY,identifier:0});return Ue},k=function(G){var ae=G.canvas,B=G.artboard,Ie=G.stateMachines,be=Ie===void 0?[]:Ie,Ue=G.renderer,V=G.rive,Le=G.fit,Xe=G.alignment,tt=G.isTouchScrollEnabled,st=tt===void 0?!1:tt,W=G.dispatchPointerExit,F=W===void 0?!0:W,L=G.enableMultiTouch,H=L===void 0?!1:L,I=G.layoutScaleFactor,U=I===void 0?1:I;if(!ae||!be.length||!Ue||!V||!B||typeof window>"u")return null;var x=null,ee=!1,se=function(K){if(ee&&K instanceof MouseEvent){K.type=="mouseup"&&(ee=!1);return}ee=st&&K.type==="touchend"&&x==="touchstart",x=K.type;var _e=K.currentTarget.getBoundingClientRect(),pe=N(K,st,H),Me=V.computeAlignment(Le,Xe,{minX:0,minY:0,maxX:_e.width,maxY:_e.height},B.bounds,U),z=new V.Mat2D;switch(Me.invert(z),pe.forEach(function(en){var it=en.clientX,yn=en.clientY;if(!(!it&&!yn)){var En=it-_e.left,ei=yn-_e.top,Kn=new V.Vec2D(En,ei),nn=V.mapXY(z,Kn),vn=nn.x(),R=nn.y();en.transformedX=vn,en.transformedY=R,nn.delete(),Kn.delete()}}),z.delete(),Me.delete(),K.type){case"mouseout":for(var oe=function(en){F?pe.forEach(function(it){en.pointerExit(it.transformedX,it.transformedY,it.identifier)}):pe.forEach(function(it){en.pointerMove(it.transformedX,it.transformedY,it.identifier)})},Oe=0,Se=be;Oe<Se.length;Oe++){var xe=Se[Oe];oe(xe)}break;case"touchmove":case"mouseover":case"mousemove":{for(var $e=function(en){pe.forEach(function(it){en.pointerMove(it.transformedX,it.transformedY,it.identifier)})},dt=0,ft=be;dt<ft.length;dt++){var xe=ft[dt];$e(xe)}break}case"touchstart":case"mousedown":{for(var _t=function(en){pe.forEach(function(it){en.pointerDown(it.transformedX,it.transformedY,it.identifier)})},bt=0,sn=be;bt<sn.length;bt++){var xe=sn[bt];_t(xe)}break}case"touchend":{for(var mt=function(en){pe.forEach(function(it){en.pointerUp(it.transformedX,it.transformedY,it.identifier),en.pointerExit(it.transformedX,it.transformedY,it.identifier)})},qe=0,Ft=be;qe<Ft.length;qe++){var xe=Ft[qe];mt(xe)}break}case"mouseup":{for(var Nt=function(en){pe.forEach(function(it){en.pointerUp(it.transformedX,it.transformedY,it.identifier)})},Zt=0,$n=be;Zt<$n.length;Zt++){var xe=$n[Zt];Nt(xe)}break}}},Y=se.bind(E);return ae.addEventListener("mouseover",Y),ae.addEventListener("mouseout",Y),ae.addEventListener("mousemove",Y),ae.addEventListener("mousedown",Y),ae.addEventListener("mouseup",Y),ae.addEventListener("touchmove",Y,{passive:st}),ae.addEventListener("touchstart",Y,{passive:st}),ae.addEventListener("touchend",Y),function(){ae.removeEventListener("mouseover",Y),ae.removeEventListener("mouseout",Y),ae.removeEventListener("mousemove",Y),ae.removeEventListener("mousedown",Y),ae.removeEventListener("mouseup",Y),ae.removeEventListener("touchmove",Y),ae.removeEventListener("touchstart",Y),ae.removeEventListener("touchend",Y)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>Ie,sanitizeUrl:()=>V});var E=/^([^\w]*)(javascript|data|vbscript)/im,N=/&#(\w+)(^\w|;)?/g,k=/&(newline|tab);/gi,G=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ae=/^.+(:|&colon;)/gim,B=[".","/"],Ie="about:blank";function be(Le){return B.indexOf(Le[0])>-1}function Ue(Le){var Xe=Le.replace(G,"");return Xe.replace(N,function(tt,st){return String.fromCharCode(st)})}function V(Le){if(!Le)return Ie;var Xe=Ue(Le).replace(k,"").replace(G,"").trim();if(!Xe)return Ie;if(be(Xe))return Xe;var tt=Xe.match(ae);if(!tt)return Xe;var st=tt[0];return E.test(st)?Ie:Xe}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>Le,AudioWrapper:()=>B,CustomFileAssetLoaderWrapper:()=>be,FileAssetWrapper:()=>Ue,FileFinalizer:()=>N,FontAssetWrapper:()=>Xe,FontWrapper:()=>Ie,ImageAssetWrapper:()=>V,ImageWrapper:()=>ae,createFinalization:()=>F,finalizationRegistry:()=>W});var E=(function(){var L=function(H,I){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,x){U.__proto__=x}||function(U,x){for(var ee in x)Object.prototype.hasOwnProperty.call(x,ee)&&(U[ee]=x[ee])},L(H,I)};return function(H,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");L(H,I);function U(){this.constructor=H}H.prototype=I===null?Object.create(I):(U.prototype=I.prototype,new U)}})(),N=(function(){function L(H){this.selfUnref=!1,this._file=H}return L.prototype.unref=function(){this._file&&this._file.unref()},L})(),k=(function(){function L(H){this._finalizableObject=H}return L.prototype.unref=function(){this._finalizableObject.unref()},L})(),G=(function(){function L(){this.selfUnref=!1}return L.prototype.unref=function(){},L})(),ae=(function(L){E(H,L);function H(I){var U=L.call(this)||this;return U._nativeImage=I,U}return Object.defineProperty(H.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},H})(G),B=(function(L){E(H,L);function H(I){var U=L.call(this)||this;return U._nativeAudio=I,U}return Object.defineProperty(H.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},H})(G),Ie=(function(L){E(H,L);function H(I){var U=L.call(this)||this;return U._nativeFont=I,U}return Object.defineProperty(H.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},H})(G),be=(function(){function L(H,I){this._assetLoaderCallback=I,this.assetLoader=new H.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return L.prototype.loadContents=function(H,I){var U;return H.isImage?U=new V(H):H.isAudio?U=new Le(H):H.isFont&&(U=new Xe(H)),this._assetLoaderCallback(U,I)},L})(),Ue=(function(){function L(H){this._nativeFileAsset=H}return L.prototype.decode=function(H){this._nativeFileAsset.decode(H)},Object.defineProperty(L.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),L})(),V=(function(L){E(H,L);function H(){return L!==null&&L.apply(this,arguments)||this}return H.prototype.setRenderImage=function(I){this._nativeFileAsset.setRenderImage(I.nativeImage)},H})(Ue),Le=(function(L){E(H,L);function H(){return L!==null&&L.apply(this,arguments)||this}return H.prototype.setAudioSource=function(I){this._nativeFileAsset.setAudioSource(I.nativeAudio)},H})(Ue),Xe=(function(L){E(H,L);function H(){return L!==null&&L.apply(this,arguments)||this}return H.prototype.setFont=function(I){this._nativeFileAsset.setFont(I.nativeFont)},H})(Ue),tt=(function(){function L(H){}return L.prototype.register=function(H){H.selfUnref=!0},L.prototype.unregister=function(H){},L})(),st=typeof FinalizationRegistry<"u"?FinalizationRegistry:tt,W=new st(function(L){L?.unref()}),F=function(L,H){var I=new k(H);W.register(L,I)}})],a={};function l(p){var b=a[p];if(b!==void 0)return b.exports;var w=a[p]={exports:{}};return r[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>V,DataEnum:()=>dt,EventType:()=>x,Fit:()=>Ue,Layout:()=>Le,LoopType:()=>ee,Rive:()=>xe,RiveEventType:()=>W,RiveFile:()=>Se,RuntimeLoader:()=>Xe,StateMachineInput:()=>st,StateMachineInputType:()=>tt,Testing:()=>ei,ViewModel:()=>$e,ViewModelInstance:()=>_t,ViewModelInstanceArtboard:()=>it,ViewModelInstanceAssetImage:()=>en,ViewModelInstanceBoolean:()=>qe,ViewModelInstanceColor:()=>$n,ViewModelInstanceEnum:()=>Nt,ViewModelInstanceList:()=>Zt,ViewModelInstanceNumber:()=>mt,ViewModelInstanceString:()=>sn,ViewModelInstanceTrigger:()=>Ft,ViewModelInstanceValue:()=>bt,decodeAudio:()=>Kn,decodeFont:()=>vn,decodeImage:()=>nn});var p=l(1),b=l(2),w=l(3),E=l(5),N=(function(){var R=function(g,v){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,J){P.__proto__=J}||function(P,J){for(var ye in J)Object.prototype.hasOwnProperty.call(J,ye)&&(P[ye]=J[ye])},R(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");R(g,v);function P(){this.constructor=g}g.prototype=v===null?Object.create(v):(P.prototype=v.prototype,new P)}})(),k=function(){return k=Object.assign||function(R){for(var g,v=1,P=arguments.length;v<P;v++){g=arguments[v];for(var J in g)Object.prototype.hasOwnProperty.call(g,J)&&(R[J]=g[J])}return R},k.apply(this,arguments)},G=function(R,g,v,P){function J(ye){return ye instanceof v?ye:new v(function(De){De(ye)})}return new(v||(v=Promise))(function(ye,De){function et(Ge){try{He(P.next(Ge))}catch(Et){De(Et)}}function ot(Ge){try{He(P.throw(Ge))}catch(Et){De(Et)}}function He(Ge){Ge.done?ye(Ge.value):J(Ge.value).then(et,ot)}He((P=P.apply(R,g||[])).next())})},ae=function(R,g){var v={label:0,sent:function(){if(ye[0]&1)throw ye[1];return ye[1]},trys:[],ops:[]},P,J,ye,De=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return De.next=et(0),De.throw=et(1),De.return=et(2),typeof Symbol=="function"&&(De[Symbol.iterator]=function(){return this}),De;function et(He){return function(Ge){return ot([He,Ge])}}function ot(He){if(P)throw new TypeError("Generator is already executing.");for(;De&&(De=0,He[0]&&(v=0)),v;)try{if(P=1,J&&(ye=He[0]&2?J.return:He[0]?J.throw||((ye=J.return)&&ye.call(J),0):J.next)&&!(ye=ye.call(J,He[1])).done)return ye;switch(J=0,ye&&(He=[He[0]&2,ye.value]),He[0]){case 0:case 1:ye=He;break;case 4:return v.label++,{value:He[1],done:!1};case 5:v.label++,J=He[1],He=[0];continue;case 7:He=v.ops.pop(),v.trys.pop();continue;default:if(ye=v.trys,!(ye=ye.length>0&&ye[ye.length-1])&&(He[0]===6||He[0]===2)){v=0;continue}if(He[0]===3&&(!ye||He[1]>ye[0]&&He[1]<ye[3])){v.label=He[1];break}if(He[0]===6&&v.label<ye[1]){v.label=ye[1],ye=He;break}if(ye&&v.label<ye[2]){v.label=ye[2],v.ops.push(He);break}ye[2]&&v.ops.pop(),v.trys.pop();continue}He=g.call(R,v)}catch(Ge){He=[6,Ge],J=0}finally{P=ye=0}if(He[0]&5)throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}},B=function(R,g,v){if(v||arguments.length===2)for(var P=0,J=g.length,ye;P<J;P++)(ye||!(P in g))&&(ye||(ye=Array.prototype.slice.call(g,0,P)),ye[P]=g[P]);return R.concat(ye||Array.prototype.slice.call(g))},Ie=(function(R){N(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),be=function(R){return R&&R.isHandledError?R.message:"Problem loading file; may be corrupt!"},Ue;(function(R){R.Cover="cover",R.Contain="contain",R.Fill="fill",R.FitWidth="fitWidth",R.FitHeight="fitHeight",R.None="none",R.ScaleDown="scaleDown",R.Layout="layout"})(Ue||(Ue={}));var V;(function(R){R.Center="center",R.TopLeft="topLeft",R.TopCenter="topCenter",R.TopRight="topRight",R.CenterLeft="centerLeft",R.CenterRight="centerRight",R.BottomLeft="bottomLeft",R.BottomCenter="bottomCenter",R.BottomRight="bottomRight"})(V||(V={}));var Le=(function(){function R(g){var v,P,J,ye,De,et,ot;this.fit=(v=g?.fit)!==null&&v!==void 0?v:Ue.Contain,this.alignment=(P=g?.alignment)!==null&&P!==void 0?P:V.Center,this.layoutScaleFactor=(J=g?.layoutScaleFactor)!==null&&J!==void 0?J:1,this.minX=(ye=g?.minX)!==null&&ye!==void 0?ye:0,this.minY=(De=g?.minY)!==null&&De!==void 0?De:0,this.maxX=(et=g?.maxX)!==null&&et!==void 0?et:0,this.maxY=(ot=g?.maxY)!==null&&ot!==void 0?ot:0}return R.new=function(g){var v=g.fit,P=g.alignment,J=g.minX,ye=g.minY,De=g.maxX,et=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new R({fit:v,alignment:P,minX:J,minY:ye,maxX:De,maxY:et})},R.prototype.copyWith=function(g){var v=g.fit,P=g.alignment,J=g.layoutScaleFactor,ye=g.minX,De=g.minY,et=g.maxX,ot=g.maxY;return new R({fit:v??this.fit,alignment:P??this.alignment,layoutScaleFactor:J??this.layoutScaleFactor,minX:ye??this.minX,minY:De??this.minY,maxX:et??this.maxX,maxY:ot??this.maxY})},R.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===Ue.Cover?v=g.Fit.cover:this.fit===Ue.Contain?v=g.Fit.contain:this.fit===Ue.Fill?v=g.Fit.fill:this.fit===Ue.FitWidth?v=g.Fit.fitWidth:this.fit===Ue.FitHeight?v=g.Fit.fitHeight:this.fit===Ue.ScaleDown?v=g.Fit.scaleDown:this.fit===Ue.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},R.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===V.TopLeft?v=g.Alignment.topLeft:this.alignment===V.TopCenter?v=g.Alignment.topCenter:this.alignment===V.TopRight?v=g.Alignment.topRight:this.alignment===V.CenterLeft?v=g.Alignment.centerLeft:this.alignment===V.CenterRight?v=g.Alignment.centerRight:this.alignment===V.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===V.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===V.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},R})(),Xe=(function(){function R(){}return R.loadRuntime=function(){p.default({locateFile:function(){return R.wasmURL}}).then(function(g){var v;for(R.runtime=g;R.callBackQueue.length>0;)(v=R.callBackQueue.shift())===null||v===void 0||v(R.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var P="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(R.wasmURL.toLowerCase()!==P)console.warn("Failed to load WASM from ".concat(R.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),R.setWasmUrl(P),R.loadRuntime();else{var J=["Could not load Rive WASM file from ".concat(R.wasmURL," or ").concat(P,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(J)}})},R.getInstance=function(g){R.isLoading||(R.isLoading=!0,R.loadRuntime()),R.runtime?g(R.runtime):R.callBackQueue.push(g)},R.awaitInstance=function(){return new Promise(function(g){return R.getInstance(function(v){return g(v)})})},R.setWasmUrl=function(g){R.wasmURL=g},R.getWasmUrl=function(){return R.wasmURL},R.isLoading=!1,R.callBackQueue=[],R.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),R})(),tt;(function(R){R[R.Number=56]="Number",R[R.Trigger=58]="Trigger",R[R.Boolean=59]="Boolean"})(tt||(tt={}));var st=(function(){function R(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(R.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),R.prototype.fire=function(){this.type===tt.Trigger&&this.runtimeInput.fire()},R.prototype.delete=function(){this.runtimeInput=null},R})(),W;(function(R){R[R.General=128]="General",R[R.OpenUrl=131]="OpenUrl"})(W||(W={}));var F=(function(){function R(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return R})(),L=(function(R){N(g,R);function g(v,P){var J=R.call(this,!1)||this;return J.nativeArtboard=v,J.file=P,J}return g})(F),H=(function(R){N(g,R);function g(v){var P=R.call(this,!0)||this;return P.selfUnref=!1,P.nativeArtboard=v,P}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(F),I=(function(){function R(g,v,P,J){this.stateMachine=g,this.playing=P,this.artboard=J,this.inputs=[],this.instance=new v.StateMachineInstance(g,J),this.initInputs(v)}return Object.defineProperty(R.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),R.prototype.advance=function(g){this.instance.advance(g)},R.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},R.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},R.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},R.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var P=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(P,g))}},R.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new st(tt.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new st(tt.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new st(tt.Trigger,g.asTrigger())},R.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},R.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},R})(),U=(function(){function R(g,v,P,J,ye){J===void 0&&(J=[]),ye===void 0&&(ye=[]),this.runtime=g,this.artboard=v,this.eventManager=P,this.animations=J,this.stateMachines=ye}return R.prototype.add=function(g,v,P){if(P===void 0&&(P=!0),g=En(g),g.length===0)this.animations.forEach(function(ct){return ct.playing=v}),this.stateMachines.forEach(function(ct){return ct.playing=v});else for(var J=this.animations.map(function(ct){return ct.name}),ye=this.stateMachines.map(function(ct){return ct.name}),De=0;De<g.length;De++){var et=J.indexOf(g[De]),ot=ye.indexOf(g[De]);if(et>=0||ot>=0)et>=0?this.animations[et].playing=v:this.stateMachines[ot].playing=v;else{var He=this.artboard.animationByName(g[De]);if(He){var Ge=new w.Animation(He,this.artboard,this.runtime,v);Ge.advance(0),Ge.apply(1),this.animations.push(Ge)}else{var Et=this.artboard.stateMachineByName(g[De]);if(Et){var kt=new I(Et,this.runtime,v,this.artboard);this.stateMachines.push(kt)}}}}return P&&(v?this.eventManager.fire({type:x.Play,data:this.playing}):this.eventManager.fire({type:x.Pause,data:this.paused})),v?this.playing:this.paused},R.prototype.initLinearAnimations=function(g,v){for(var P=this.animations.map(function(ot){return ot.name}),J=0;J<g.length;J++){var ye=P.indexOf(g[J]);if(ye>=0)this.animations[ye].playing=v;else{var De=this.artboard.animationByName(g[J]);if(De){var et=new w.Animation(De,this.artboard,this.runtime,v);et.advance(0),et.apply(1),this.animations.push(et)}else console.error("Animation with name ".concat(g[J]," not found."))}}},R.prototype.initStateMachines=function(g,v){for(var P=this.stateMachines.map(function(ot){return ot.name}),J=0;J<g.length;J++){var ye=P.indexOf(g[J]);if(ye>=0)this.stateMachines[ye].playing=v;else{var De=this.artboard.stateMachineByName(g[J]);if(De){var et=new I(De,this.runtime,v,this.artboard);this.stateMachines.push(et)}else console.warn("State Machine with name ".concat(g[J]," not found.")),this.initLinearAnimations([g[J]],v)}}},R.prototype.play=function(g){return this.add(g,!0)},R.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},R.prototype.pause=function(g){return this.add(g,!1)},R.prototype.scrub=function(g,v){var P=this.animations.filter(function(J){return g.includes(J.name)});return P.forEach(function(J){return J.scrubTo=v}),P.map(function(J){return J.name})},Object.defineProperty(R.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),R.prototype.stop=function(g){var v=this;g=En(g);var P=[];if(g.length===0)P=this.animations.map(function(De){return De.name}).concat(this.stateMachines.map(function(De){return De.name})),this.animations.forEach(function(De){return De.cleanup()}),this.stateMachines.forEach(function(De){return De.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var J=this.animations.filter(function(De){return g.includes(De.name)});J.forEach(function(De){De.cleanup(),v.animations.splice(v.animations.indexOf(De),1)});var ye=this.stateMachines.filter(function(De){return g.includes(De.name)});ye.forEach(function(De){De.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(De),1)}),P=J.map(function(De){return De.name}).concat(ye.map(function(De){return De.name}))}return this.eventManager.fire({type:x.Stop,data:P}),P},Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),R.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var P;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([P=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([P=this.artboard.stateMachineByIndex(0).name],g,v)),P},R.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(J){return J.playing});g<v.length;g++){var P=v[g];P.loopValue===0&&P.loopCount?(P.loopCount=0,this.stop(P.name)):P.loopValue===1&&P.loopCount?(this.eventManager.fire({type:x.Loop,data:{animation:P.name,type:ee.Loop}}),P.loopCount=0):P.loopValue===2&&P.loopCount>1&&(this.eventManager.fire({type:x.Loop,data:{animation:P.name,type:ee.PingPong}}),P.loopCount=0)}},R.prototype.handleStateChanges=function(){for(var g=[],v=0,P=this.stateMachines.filter(function(ye){return ye.playing});v<P.length;v++){var J=P[v];g.push.apply(g,J.statesChanged)}g.length>0&&this.eventManager.fire({type:x.StateChange,data:g})},R.prototype.handleAdvancing=function(g){this.eventManager.fire({type:x.Advance,data:g})},R})(),x;(function(R){R.Load="load",R.LoadError="loaderror",R.Play="play",R.Pause="pause",R.Stop="stop",R.Loop="loop",R.Draw="draw",R.Advance="advance",R.StateChange="statechange",R.RiveEvent="riveevent",R.AudioStatusChange="audiostatuschange"})(x||(x={}));var ee;(function(R){R.OneShot="oneshot",R.Loop="loop",R.PingPong="pingpong"})(ee||(ee={}));var se=(function(){function R(g){g===void 0&&(g=[]),this.listeners=g}return R.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},R.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},R.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var P=this.listeners[v];if(P.type===g.type&&P.callback===g.callback){this.listeners.splice(v,1);break}}},R.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(P){return P.type===g}).forEach(function(P){return v.remove(P)}):this.listeners.splice(0,this.listeners.length)},R.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(P){return P.callback(g)})},R})(),Y=(function(){function R(g){this.eventManager=g,this.queue=[]}return R.prototype.add=function(g){this.queue.push(g)},R.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},R})(),K;(function(R){R[R.AVAILABLE=0]="AVAILABLE",R[R.UNAVAILABLE=1]="UNAVAILABLE"})(K||(K={}));var _e=(function(R){N(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=K.UNAVAILABLE,v}return g.prototype.delay=function(v){return G(this,void 0,void 0,function(){return ae(this,function(P){return[2,new Promise(function(J){return setTimeout(J,v)})]})})},g.prototype.timeout=function(){return G(this,void 0,void 0,function(){return ae(this,function(v){return[2,new Promise(function(P,J){return setTimeout(J,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:x.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return G(this,void 0,void 0,function(){return ae(this,function(v){return this._enabled||(this._enabled=!0,this._status=K.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return G(this,void 0,void 0,function(){return ae(this,function(v){switch(v.label){case 0:if(!(this._status===K.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return G(this,void 0,void 0,function(){return ae(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==K.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,P=function(){return G(v,void 0,void 0,function(){return ae(this,function(J){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",P,{once:!0})},g.prototype.establishAudio=function(){return G(this,void 0,void 0,function(){return ae(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===K.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(se),pe=new _e,Me=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),z=globalThis.ResizeObserver||Me,oe=(function(){function R(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var P=g._elementsMap.get(v.target);P!==null?P.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new z(this._onObserved)}return R.prototype.add=function(g,v){var P={onResize:v,element:g};return this._elementsMap.set(g,P),this._resizeObserver.observe(g),P},R.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},R})(),Oe=new oe,Se=(function(){function R(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new se,g.onLoad&&this.on(x.Load,g.onLoad),g.onLoadError&&this.on(x.LoadError,g.onLoadError)}return R.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},R.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},R.prototype.initData=function(){return G(this,void 0,void 0,function(){var g,v,P,J,ye;return ae(this,function(De){switch(De.label){case 0:return this.src?(g=this,[4,yn(this.src)]):[3,2];case 1:g.buffer=De.sent(),De.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(P=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=P.assetLoader),J=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return J.file=De.sent(),ye=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,ye),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:x.Load,data:this}):this.fireLoadError(R.fileLoadErrorMessage),[2])}})})},R.prototype.init=function(){return G(this,void 0,void 0,function(){var g,v;return ae(this,function(P){switch(P.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(R.missingErrorMessage),[2];P.label=1;case 1:return P.trys.push([1,4,,5]),g=this,[4,Xe.awaitInstance()];case 2:return g.runtime=P.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return P.sent(),[3,5];case 4:return v=P.sent(),this.fireLoadError(v instanceof Error?v.message:R.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},R.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:x.LoadError,data:g}),new Error(g)},R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},R.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},R.prototype.createBindableArtboard=function(g){if(g!=null){var v=new H(g);return(0,E.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},R.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new L(v,this)},R.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},R.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},R.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},R.missingErrorMessage="Rive source file or data buffer required",R.fileLoadErrorMessage="The file failed to load",R})(),xe=(function(){function R(g){var v=this,P;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(J){var ye=v._hasZeroSize!==J;v._hasZeroSize=J,J?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():ye&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Oe.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(P=g.layout)!==null&&P!==void 0?P:new Le,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new se,g.onLoad&&this.on(x.Load,g.onLoad),g.onLoadError&&this.on(x.LoadError,g.onLoadError),g.onPlay&&this.on(x.Play,g.onPlay),g.onPause&&this.on(x.Pause,g.onPause),g.onStop&&this.on(x.Stop,g.onStop),g.onLoop&&this.on(x.Loop,g.onLoop),g.onStateChange&&this.on(x.StateChange,g.onStateChange),g.onAdvance&&this.on(x.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(x.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(x.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(x.Play,g.onplay),g.onpause&&!g.onPause&&this.on(x.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(x.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(x.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(x.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new Y(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(R.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),R.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new R(g)},R.prototype.onSystemAudioChanged=function(){this.volume=this._volume},R.prototype.init=function(g){var v=this,P=g.src,J=g.buffer,ye=g.riveFile,De=g.animations,et=g.stateMachines,ot=g.artboard,He=g.autoplay,Ge=He===void 0?!1:He,Et=g.useOffscreenRenderer,kt=Et===void 0?!1:Et,ct=g.autoBind,on=ct===void 0?!1:ct;if(!this.destroyed){if(this.src=P,this.buffer=J,this.riveFile=ye,!this.src&&!this.buffer&&!this.riveFile)throw new Ie(R.missingErrorMessage);var Lt=En(De),Pt=En(et);this.loaded=!1,this.readyForPlaying=!1,Xe.awaitInstance().then(function(wn){v.destroyed||(v.runtime=wn,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,kt),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(ot,Lt,Pt,Ge,on).then(function(On){if(On)return v.setupRiveListeners()}).catch(function(On){console.error(On)}))}).catch(function(wn){console.error(wn)})}},R.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var P=(this.animator.stateMachines||[]).filter(function(et){return et.playing&&v.runtime.hasListeners(et.instance)}).map(function(et){return et.instance}),J=this.isTouchScrollEnabled,ye=this.dispatchPointerExit,De=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(J=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:P,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:J,dispatchPointerExit:ye,enableMultiTouch:De,layoutScaleFactor:this._layout.layoutScaleFactor})}},R.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},R.prototype.initializeAudio=function(){var g=this,v;pe.status==K.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:x.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},pe.add(this._audioEventListener),pe.establishAudio())},R.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},R.prototype.initData=function(g,v,P,J,ye){return G(this,void 0,void 0,function(){var De,et,ot,He;return ae(this,function(Ge){switch(Ge.label){case 0:return Ge.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(De=new Se({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=De,[4,De.init()]);case 1:if(Ge.sent(),this.destroyed)return De.destroyIfUnused(),[2,!1];Ge.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,P,J,ye),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:x.Load,data:(He=this.src)!==null&&He!==void 0?He:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return et=Ge.sent(),ot=be(et),console.warn(ot),this.eventManager.fire({type:x.LoadError,data:ot}),[2,Promise.reject(ot)];case 4:return[2]}})})},R.prototype.initArtboard=function(g,v,P,J,ye){if(this.file){var De=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!De){var et="Invalid artboard name or no default artboard";console.warn(et),this.eventManager.fire({type:x.LoadError,data:et});return}this.artboard=De,De.volume=this._volume*pe.systemVolume,this.animator=new U(this.runtime,this.artboard,this.eventManager);var ot;if(v.length>0||P.length>0?(ot=v.concat(P),this.animator.initLinearAnimations(v,J),this.animator.initStateMachines(P,J)):ot=[this.animator.atLeastOne(J,!1)],this.taskQueue.add({event:{type:J?x.Play:x.Pause,data:ot}}),ye){var He=this.file.defaultArtboardViewModel(De);if(He!==null){var Ge=He.defaultInstance();if(Ge!==null){var Et=new _t(Ge,null);(0,E.createFinalization)(Et,Et.runtimeInstance),this.bindViewModelInstance(Et)}}}}},R.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},R.prototype.draw=function(g,v){var P;this.frameRequestId=null;var J=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var ye=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var De=this.animator.animations.filter(function(zr){return zr.playing||zr.needsScrub}).sort(function(zr){return zr.needsScrub?-1:1}),et=0,ot=De;et<ot.length;et++){var He=ot[et];He.advance(ye),He.instance.didLoop&&(He.loopCount+=1),He.apply(1)}for(var Ge=this.animator.stateMachines.filter(function(zr){return zr.playing}),Et=0,kt=Ge;Et<kt.length;Et++){var ct=kt[Et],on=ct.reportedEventCount();if(on)for(var Lt=0;Lt<on;Lt++){var Pt=ct.reportedEventAt(Lt);if(Pt)if(Pt.type===W.OpenUrl){if(this.eventManager.fire({type:x.RiveEvent,data:Pt}),this.automaticallyHandleEvents){var wn=document.createElement("a"),On=Pt,qn=On.url,ti=On.target,yt=(0,E.sanitizeUrl)(qn);qn&&wn.setAttribute("href",yt),ti&&wn.setAttribute("target",ti),yt&&yt!==E.BLANK_URL&&wn.click()}}else this.eventManager.fire({type:x.RiveEvent,data:Pt})}ct.advanceAndApply(ye)}this.animator.stateMachines.length==0&&this.artboard.advance(ye);var Dn=this.renderer;Dn.clear(),Dn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Dn),Dn.restore(),Dn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(ye),this.frameCount++;var At=performance.now();for(this.frameTimes.push(At),this.durations.push(At-J);this.frameTimes[0]<=At-1e3;)this.frameTimes.shift(),this.durations.shift();(P=this._viewModelInstance)===null||P===void 0||P.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},R.prototype.alignRenderer=function(){var g=this,v=g.renderer,P=g.runtime,J=g._layout,ye=g.artboard;v.align(J.runtimeFit(P),J.runtimeAlignment(P),{minX:J.minX,minY:J.minY,maxX:J.maxX,maxY:J.maxY},ye.bounds,this._devicePixelRatioUsed*J.layoutScaleFactor)},Object.defineProperty(R.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),R.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Oe.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(pe.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},R.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},R.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},R.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var P=this.artboard.textRun(g);if(!P){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return P},R.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},R.prototype.setTextRunValue=function(g,v){var P=this.retrieveTextRun(g);P&&(P.text=v)},R.prototype.play=function(g,v){var P=this;if(g=En(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return P.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},R.prototype.pause=function(g){var v=this;if(g=En(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},R.prototype.scrub=function(g,v){var P=this;if(g=En(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return P.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},R.prototype.stop=function(g){var v=this;if(g=En(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},R.prototype.reset=function(g){var v,P,J=g?.artboard,ye=En(g?.animations),De=En(g?.stateMachines),et=(v=g?.autoplay)!==null&&v!==void 0?v:!1,ot=(P=g?.autoBind)!==null&&P!==void 0?P:!1;this.cleanupInstances(),this.initArtboard(J,ye,De,et,ot),this.taskQueue.process()},R.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(R.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),R.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},R.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),P=v.width,J=v.height,ye=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=ye,this.canvas.width=ye*P,this.canvas.height=ye*J,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Ue.Layout){var De=this._layout.layoutScaleFactor;this.artboard.width=P/De,this.artboard.height=J/De}}},Object.defineProperty(R.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),R.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(P){return P.name===g});return v?.inputs}},R.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var P=this.artboard.inputByPath(g,v);if(!P){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return P},R.prototype.setBooleanStateAtPath=function(g,v,P){var J=this.retrieveInputAtPath(g,P);J&&(J.type===tt.Boolean?J.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(P,"' is not a boolean")))},R.prototype.setNumberStateAtPath=function(g,v,P){var J=this.retrieveInputAtPath(g,P);J&&(J.type===tt.Number?J.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(P,"' is not a number")))},R.prototype.fireStateAtPath=function(g,v){var P=this.retrieveInputAtPath(g,v);P&&(P.type===tt.Trigger?P.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},R.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var P=this.artboard.textByPath(g,v);if(!P){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return P},R.prototype.getTextRunValueAtPath=function(g,v){var P=this.retrieveTextAtPath(g,v);if(!P){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return P.text},R.prototype.setTextRunValueAtPath=function(g,v,P){var J=this.retrieveTextAtPath(g,P);if(!J){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(P,"'"));return}J.text=v},Object.defineProperty(R.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},R.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},R.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},R.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},R.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(R.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var P=this.file.artboardByIndex(v),J={name:P.name,animations:[],stateMachines:[]},ye=0;ye<P.animationCount();ye++){var De=P.animationByIndex(ye);J.animations.push(De.name)}for(var et=0;et<P.stateMachineCount();et++){for(var ot=P.stateMachineByIndex(et),He=ot.name,Ge=new this.runtime.StateMachineInstance(ot,P),Et=[],kt=0;kt<Ge.inputCount();kt++){var ct=Ge.input(kt);Et.push({name:ct.name,type:ct.type})}J.stateMachines.push({name:He,inputs:Et})}g.artboards.push(J)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*pe.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),R.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(R.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),R.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(P){return P.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(R.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),R.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new $e(v):null},R.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new $e(v):null},R.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new dt(v)})}return this._dataEnums},R.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new $e(g)}return null},R.prototype.getArtboard=function(g){var v,P;return(P=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&P!==void 0?P:null},R.prototype.getBindableArtboard=function(g){var v,P;return(P=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&P!==void 0?P:null},R.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},R.missingErrorMessage="Rive source file or data buffer required",R.cleanupErrorMessage="Attempt to use file after calling cleanup.",R})(),$e=(function(){function R(g){this._viewModel=g}return Object.defineProperty(R.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),R.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var P=new _t(v,null);return(0,E.createFinalization)(P,v),P}return null},R.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var P=new _t(v,null);return(0,E.createFinalization)(P,v),P}return null},R.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new _t(g,null);return(0,E.createFinalization)(v,g),v}return null},R.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new _t(g,null);return(0,E.createFinalization)(v,g),v}return null},Object.defineProperty(R.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),R})(),dt=(function(){function R(g){this._dataEnum=g}return Object.defineProperty(R.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),R})(),ft;(function(R){R.Number="number",R.String="string",R.Boolean="boolean",R.Color="color",R.Trigger="trigger",R.Enum="enum",R.List="list",R.Image="image",R.Artboard="artboard"})(ft||(ft={}));var _t=(function(){function R(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(R.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),R.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},R.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},R.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var P=this._parents[v];P.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},R.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(P){P.addToViewModelCallbacks(v)}))},R.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(P){return P!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(P){P.removeFromViewModelCallbacks(v)}))},R.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(P){P.addToViewModelCallbacks(v)}))},R.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(P){return P!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(P){P.removeFromViewModelCallbacks(v)}))},R.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},R.prototype.propertyFromPath=function(g,v){var P=g.split("/");return this.propertyFromPathSegments(P,0,v)},R.prototype.viewModelFromPathSegments=function(g,v){var P=this.internalViewModelInstance(g[v]);return P!==null?v==g.length-1?P:P.viewModelFromPathSegments(g,v++):null},R.prototype.propertyFromPathSegments=function(g,v,P){var J,ye,De,et,ot,He,Ge,Et,kt,ct,on,Lt,Pt,wn,On,qn,ti,yt;if(v<g.length-1){var Dn=this.internalViewModelInstance(g[v]);return Dn!==null?Dn.propertyFromPathSegments(g,v+1,P):null}var At=null;switch(P){case ft.Number:if(At=(ye=(J=this._runtimeInstance)===null||J===void 0?void 0:J.number(g[v]))!==null&&ye!==void 0?ye:null,At!==null)return new mt(At,this);break;case ft.String:if(At=(et=(De=this._runtimeInstance)===null||De===void 0?void 0:De.string(g[v]))!==null&&et!==void 0?et:null,At!==null)return new sn(At,this);break;case ft.Boolean:if(At=(He=(ot=this._runtimeInstance)===null||ot===void 0?void 0:ot.boolean(g[v]))!==null&&He!==void 0?He:null,At!==null)return new qe(At,this);break;case ft.Color:if(At=(Et=(Ge=this._runtimeInstance)===null||Ge===void 0?void 0:Ge.color(g[v]))!==null&&Et!==void 0?Et:null,At!==null)return new $n(At,this);break;case ft.Trigger:if(At=(ct=(kt=this._runtimeInstance)===null||kt===void 0?void 0:kt.trigger(g[v]))!==null&&ct!==void 0?ct:null,At!==null)return new Ft(At,this);break;case ft.Enum:if(At=(Lt=(on=this._runtimeInstance)===null||on===void 0?void 0:on.enum(g[v]))!==null&&Lt!==void 0?Lt:null,At!==null)return new Nt(At,this);break;case ft.List:if(At=(wn=(Pt=this._runtimeInstance)===null||Pt===void 0?void 0:Pt.list(g[v]))!==null&&wn!==void 0?wn:null,At!==null)return new Zt(At,this);break;case ft.Image:if(At=(qn=(On=this._runtimeInstance)===null||On===void 0?void 0:On.image(g[v]))!==null&&qn!==void 0?qn:null,At!==null)return new en(At,this);break;case ft.Artboard:if(At=(yt=(ti=this._runtimeInstance)===null||ti===void 0?void 0:ti.artboard(g[v]))!==null&&yt!==void 0?yt:null,At!==null)return new it(At,this);break}return null},R.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var P=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(P!==null){var J=new R(P,this);return(0,E.createFinalization)(J,P),J.internalIncrementReferenceCount(),this._viewModelInstances.set(g,J),J}return null},R.prototype.number=function(g){var v=this.propertyFromPath(g,ft.Number);return v},R.prototype.string=function(g){var v=this.propertyFromPath(g,ft.String);return v},R.prototype.boolean=function(g){var v=this.propertyFromPath(g,ft.Boolean);return v},R.prototype.color=function(g){var v=this.propertyFromPath(g,ft.Color);return v},R.prototype.trigger=function(g){var v=this.propertyFromPath(g,ft.Trigger);return v},R.prototype.enum=function(g){var v=this.propertyFromPath(g,ft.Enum);return v},R.prototype.list=function(g){var v=this.propertyFromPath(g,ft.List);return v},R.prototype.image=function(g){var v=this.propertyFromPath(g,ft.Image);return v},R.prototype.artboard=function(g){var v=this.propertyFromPath(g,ft.Artboard);return v},R.prototype.viewModel=function(g){var v=g.split("/"),P=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return P!=null?P.internalViewModelInstance(v[v.length-1]):null},R.prototype.internalReplaceViewModel=function(g,v){var P;if(v.runtimeInstance!==null){var J=((P=this._runtimeInstance)===null||P===void 0?void 0:P.replaceViewModel(g,v.runtimeInstance))||!1;if(J){v.internalIncrementReferenceCount();var ye=this.internalViewModelInstance(g);ye!==null&&(ye.removeParent(this),this._children.includes(ye)&&(this._children=this._children.filter(function(De){return De!==ye})),ye.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return J}return!1},R.prototype.replaceViewModel=function(g,v){var P,J=g.split("/"),ye=J.length>1?this.viewModelFromPathSegments(J.slice(0,J.length-1),0):this;return(P=ye?.internalReplaceViewModel(J[J.length-1],v))!==null&&P!==void 0?P:!1},R.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},R.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(R.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return k({},v)}))||[]},enumerable:!1,configurable:!0}),R.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},R.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(ye){ye.cleanup()}),this._viewModelInstances.clear();var P=B([],this._children,!0);this._children.length=0;var J=B([],this._parents,!0);this._parents.length=0,P.forEach(function(ye){ye.removeParent(g)}),J.forEach(function(ye){ye.removeFromViewModelCallbacks(g)})}},R})(),bt=(function(){function R(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return R.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},R.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},R.prototype.internalHandleCallback=function(g){},R.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},R.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},R.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),R})(),sn=(function(R){N(g,R);function g(v,P){return R.call(this,v,P)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(bt),mt=(function(R){N(g,R);function g(v,P){return R.call(this,v,P)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(bt),qe=(function(R){N(g,R);function g(v,P){return R.call(this,v,P)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(bt),Ft=(function(R){N(g,R);function g(v,P){return R.call(this,v,P)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(bt),Nt=(function(R){N(g,R);function g(v,P){return R.call(this,v,P)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(bt),Zt=(function(R){N(g,R);function g(v,P){return R.call(this,v,P)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,P){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,P)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var P=this._viewModelInstanceValue.instanceAt(v);if(P!=null){var J=new _t(P,this._parentViewModel);return(0,E.createFinalization)(J,P),J}return null},g.prototype.swap=function(v,P){this._viewModelInstanceValue.swap(v,P)},g.prototype.internalHandleCallback=function(v){v()},g})(bt),$n=(function(R){N(g,R);function g(v,P){return R.call(this,v,P)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,P,J){this._viewModelInstanceValue.rgb(v,P,J)},g.prototype.rgba=function(v,P,J,ye){this._viewModelInstanceValue.argb(ye,v,P,J)},g.prototype.argb=function(v,P,J,ye){this._viewModelInstanceValue.argb(v,P,J,ye)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(bt),en=(function(R){N(g,R);function g(v,P){return R.call(this,v,P)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var P;this._viewModelInstanceValue.value((P=v?.nativeImage)!==null&&P!==void 0?P:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(bt),it=(function(R){N(g,R);function g(v,P){return R.call(this,v,P)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var P,J;v.isBindableArtboard?J=v:J=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((P=J?.nativeArtboard)!==null&&P!==void 0?P:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(bt),yn=function(R){return G(void 0,void 0,void 0,function(){var g,v,P;return ae(this,function(J){switch(J.label){case 0:return g=new Request(R),[4,fetch(g)];case 1:return v=J.sent(),[4,v.arrayBuffer()];case 2:return P=J.sent(),[2,P]}})})},En=function(R){return typeof R=="string"?[R]:R instanceof Array?R:[]},ei={EventManager:se,TaskQueueManager:Y},Kn=function(R){return G(void 0,void 0,void 0,function(){var g,v,P;return ae(this,function(J){switch(J.label){case 0:return g=new Promise(function(ye){return Xe.getInstance(function(De){De.decodeAudio(R,ye)})}),[4,g];case 1:return v=J.sent(),P=new E.AudioWrapper(v),E.finalizationRegistry.register(P,v),[2,P]}})})},nn=function(R){return G(void 0,void 0,void 0,function(){var g,v,P;return ae(this,function(J){switch(J.label){case 0:return g=new Promise(function(ye){return Xe.getInstance(function(De){De.decodeImage(R,ye)})}),[4,g];case 1:return v=J.sent(),P=new E.ImageWrapper(v),E.finalizationRegistry.register(P,v),[2,P]}})})},vn=function(R){return G(void 0,void 0,void 0,function(){var g,v,P;return ae(this,function(J){switch(J.label){case 0:return g=new Promise(function(ye){return Xe.getInstance(function(De){De.decodeFont(R,ye)})}),[4,g];case 1:return v=J.sent(),P=new E.FontWrapper(v),E.finalizationRegistry.register(P,v),[2,P]}})})}})(),c})())})(Of)),Of.exports}var R0;function iA(){return R0||(R0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=ch(),r=rA();function a(I){return I&&typeof I=="object"&&"default"in I?I:{default:I}}var l=a(e),c=function(){return c=Object.assign||function(I){for(var U,x=1,ee=arguments.length;x<ee;x++)for(var se in U=arguments[x])Object.prototype.hasOwnProperty.call(U,se)&&(I[se]=U[se]);return I},c.apply(this,arguments)};function p(I,U){var x={};for(var ee in I)Object.prototype.hasOwnProperty.call(I,ee)&&U.indexOf(ee)<0&&(x[ee]=I[ee]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function"){var se=0;for(ee=Object.getOwnPropertySymbols(I);se<ee.length;se++)U.indexOf(ee[se])<0&&Object.prototype.propertyIsEnumerable.call(I,ee[se])&&(x[ee[se]]=I[ee[se]])}return x}function b(I,U,x,ee){return new(x||(x=Promise))(function(se,Y){function K(Me){try{pe(ee.next(Me))}catch(z){Y(z)}}function _e(Me){try{pe(ee.throw(Me))}catch(z){Y(z)}}function pe(Me){var z;Me.done?se(Me.value):(z=Me.value,z instanceof x?z:new x(function(oe){oe(z)})).then(K,_e)}pe((ee=ee.apply(I,[])).next())})}function w(I,U){var x,ee,se,Y,K={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return Y={next:_e(0),throw:_e(1),return:_e(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function _e(pe){return function(Me){return(function(z){if(x)throw new TypeError("Generator is already executing.");for(;K;)try{if(x=1,ee&&(se=2&z[0]?ee.return:z[0]?ee.throw||((se=ee.return)&&se.call(ee),0):ee.next)&&!(se=se.call(ee,z[1])).done)return se;switch(ee=0,se&&(z=[2&z[0],se.value]),z[0]){case 0:case 1:se=z;break;case 4:return K.label++,{value:z[1],done:!1};case 5:K.label++,ee=z[1],z=[0];continue;case 7:z=K.ops.pop(),K.trys.pop();continue;default:if(se=K.trys,!((se=se.length>0&&se[se.length-1])||z[0]!==6&&z[0]!==2)){K=0;continue}if(z[0]===3&&(!se||z[1]>se[0]&&z[1]<se[3])){K.label=z[1];break}if(z[0]===6&&K.label<se[1]){K.label=se[1],se=z;break}if(se&&K.label<se[2]){K.label=se[2],K.ops.push(z);break}se[2]&&K.ops.pop(),K.trys.pop();continue}z=U.call(I,K)}catch(oe){z=[6,oe],ee=0}finally{x=se=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}})([pe,Me])}}}function E(I){var U=I||N(),x=e.useState(U),ee=x[0],se=x[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var Y=function(){var _e=I||N();se(_e)},K=window.matchMedia("screen and (resolution: ".concat(ee,"dppx)"));return K.hasOwnProperty("addEventListener")?K.addEventListener("change",Y):K.addListener(Y),function(){K.hasOwnProperty("removeEventListener")?K.removeEventListener("change",Y):K.removeListener(Y)}}},[ee,I]),ee}function N(){var I=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,I),3)}var k=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),G=globalThis.ResizeObserver||k,ae=globalThis.ResizeObserver!==void 0,B=!ae;function Ie(I,U){U===void 0&&(U=!0);var x=e.useState({width:0,height:0}),ee=x[0],se=x[1];e.useEffect(function(){if(typeof window<"u"&&U){var Me=function(){se({width:window.innerWidth,height:window.innerHeight})};return B&&(Me(),window.addEventListener("resize",Me)),function(){return window.removeEventListener("resize",Me)}}},[]);var Y,K,_e,pe=e.useRef(new G((Y=function(Me){ae&&se({width:Me[Me.length-1].contentRect.width,height:Me[Me.length-1].contentRect.height})},K=0,_e=0,function(){for(var Me=this,z=[],oe=0;oe<arguments.length;oe++)z[oe]=arguments[oe];clearTimeout(_e),_e=window.setTimeout(function(){return Y.apply(Me,z)},K)})));return e.useEffect(function(){var Me=pe.current;if(U){var z=I.current;return I.current&&ae&&Me.observe(I.current),function(){Me.disconnect(),z&&ae&&Me.unobserve(z)}}Me.disconnect()},[I,pe]),ee}var be={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Ue(I){return Object.assign({},be,I)}function V(I){var U=I.riveLoaded,x=U!==void 0&&U,ee=I.canvasElem,se=I.containerRef,Y=I.options,K=Y===void 0?{}:Y,_e=I.onCanvasHasResized,pe=I.artboardBounds,Me=Ue(K),z=e.useState({height:0,width:0}),oe=z[0],Oe=oe.height,Se=oe.width,xe=z[1],$e=e.useState({height:0,width:0}),dt=$e[0],ft=dt.height,_t=dt.width,bt=$e[1],sn=e.useState(!0),mt=sn[0],qe=sn[1],Ft=Me.fitCanvasToArtboardHeight,Nt=Me.shouldResizeCanvasToContainer,Zt=Me.useDevicePixelRatio,$n=Me.customDevicePixelRatio,en=Ie(se,Nt),it=E($n),yn=pe??{},En=yn.maxX,ei=yn.maxY,Kn=e.useCallback(function(){var nn,vn,R,g,v=(vn=(nn=se.current)===null||nn===void 0?void 0:nn.clientWidth)!==null&&vn!==void 0?vn:0,P=(g=(R=se.current)===null||R===void 0?void 0:R.clientHeight)!==null&&g!==void 0?g:0;return Ft&&pe?{width:v,height:v*(pe.maxY/pe.maxX)}:{width:v,height:P}},[se,Ft,En,ei]);e.useEffect(function(){if(Nt&&se.current&&x){var nn=Kn(),vn=nn.width,R=nn.height,g=!1;if(ee){var v=vn!==Se||R!==Oe;if(Me.fitCanvasToArtboardHeight&&v&&(se.current.style.height=R+"px",g=!0),Me.useDevicePixelRatio){if(v||vn*it!==_t||R*it!==ft){var P=it*vn,J=it*R;ee.width=P,ee.height=J,ee.style.width=vn+"px",ee.style.height=R+"px",bt({width:P,height:J}),g=!0}}else v&&(ee.width=vn,ee.height=R,bt({width:vn,height:R}),g=!0);xe({width:vn,height:R})}_e&&(mt||g)&&_e&&_e(),mt&&qe(!1)}},[ee,se,en,it,Kn,mt,qe,ft,_t,Oe,Se,_e,Nt,Ft,Zt,x]),e.useEffect(function(){bt({width:0,height:0})},[ee])}var Le,Xe=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),tt=globalThis.IntersectionObserver||Xe,st=(function(){function I(){var U=this;this.elementsMap=new Map,this.onObserved=function(x){x.forEach(function(ee){var se=U.elementsMap.get(ee.target);se&&se(ee)})},this.observer=new tt(this.onObserved)}return I.prototype.registerCallback=function(U,x){this.observer.observe(U),this.elementsMap.set(U,x)},I.prototype.removeCallback=function(U){this.observer.unobserve(U),this.elementsMap.delete(U)},I})(),W=function(){return Le||(Le=new st),Le};function F(I){var U=I.setContainerRef,x=I.setCanvasRef,ee=I.className,se=ee===void 0?"":ee,Y=I.style,K=I.children,_e=p(I,["setContainerRef","setCanvasRef","className","style","children"]),pe=c({width:"100%",height:"100%"},Y);return l.default.createElement("div",c({ref:U,className:se},!se&&{style:pe}),l.default.createElement("canvas",c({ref:x,style:{verticalAlign:"top",width:0,height:0}},_e),K))}function L(I,U){U===void 0&&(U={});var x=e.useState(null),ee=x[0],se=x[1],Y=e.useRef(null),K=e.useRef(null),_e=e.useState(null),pe=_e[0],Me=_e[1],z=!!I,oe=Ue(U),Oe=E(),Se=e.useCallback(function(){if(pe){if(pe.layout&&pe.layout.fit===r.Fit.Layout&&ee){var mt=Oe*pe.layout.layoutScaleFactor;pe.devicePixelRatioUsed=Oe,pe.artboardWidth=ee?.width/mt,pe.artboardHeight=ee?.height/mt}pe.startRendering(),pe.resizeToCanvas()}},[pe,Oe]);V({riveLoaded:!!pe,canvasElem:ee,containerRef:Y,options:oe,onCanvasHasResized:Se,artboardBounds:pe?.bounds});var xe=e.useCallback(function(mt){mt===null&&ee&&(ee.height=0,ee.width=0),se(mt)},[]);e.useEffect(function(){if(ee&&I){var mt,qe=pe!=null;if(pe==null){var Ft=oe.useOffscreenRenderer,Nt=I.onRiveReady,Zt=p(I,["onRiveReady"]);mt=new r.Rive(c(c({useOffscreenRenderer:Ft},Zt),{canvas:ee})),K.current!=null&&K.current.cleanup(),K.current=mt,mt.on(r.EventType.Load,function(){qe=!0,Nt&&Nt(mt),ee?Me(mt):mt.cleanup()})}return function(){qe||mt==null||mt.cleanup()}}},[ee,z,pe]);var $e=e.useCallback(function(mt){Y.current=mt},[]),dt={observe:e.useCallback(function(mt,qe){W().registerCallback(mt,qe)},[]),unobserve:e.useCallback(function(mt){W().removeCallback(mt)},[])},ft=dt.observe,_t=dt.unobserve;e.useEffect(function(){var mt,qe=!1,Ft=function(){if(ee&&qe){var Nt=ee.getBoundingClientRect();Nt.width>0&&Nt.height>0&&Nt.top<(window.innerHeight||document.documentElement.clientHeight)&&Nt.bottom>0&&Nt.left<(window.innerWidth||document.documentElement.clientWidth)&&Nt.right>0&&(pe?.startRendering(),qe=!1)}};return ee&&oe.shouldUseIntersectionObserver!==!1&&ft(ee,function(Nt){Nt.isIntersecting?pe&&pe.startRendering():pe&&pe.stopRendering(),qe=!Nt.isIntersecting,clearTimeout(mt),Nt.isIntersecting||Nt.boundingClientRect.width!==0||(mt=setTimeout(Ft,10))}),function(){ee&&_t(ee)}},[ft,_t,pe,ee,oe.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){pe&&(pe.cleanup(),Me(null))}},[pe,ee]),e.useEffect(function(){return function(){K.current!=null&&K.current.cleanup()}},[]);var bt=I?.animations;e.useEffect(function(){pe&&bt&&(pe.isPlaying?(pe.stop(pe.animationNames),pe.play(bt)):pe.isPaused&&(pe.stop(pe.animationNames),pe.pause(bt)))},[bt,pe]);var sn=e.useCallback(function(mt){return l.default.createElement(F,c({setContainerRef:$e,setCanvasRef:xe},mt))},[xe,$e]);return{canvas:ee,container:Y.current,setCanvasRef:xe,setContainerRef:$e,rive:pe,RiveComponent:sn}}function H(I,U,x){var ee=e.useState(null),se=ee[0],Y=ee[1],K=e.useState(x.defaultValue),_e=K[0],pe=K[1],Me=e.useState(null),z=Me[0],oe=Me[1],Oe=e.useRef(null),Se=e.useRef(I),xe=e.useRef(x);e.useEffect(function(){xe.current=x},[x]);var $e=e.useCallback(function(){var bt=Oe.current,sn=Se.current,mt=xe.current;if(!bt||!sn)return Y(null),pe(mt.defaultValue),oe(null),function(){};var qe=mt.getProperty(bt,sn);if(qe){Y(qe),pe(mt.getValue(qe)),mt.getExtendedData&&oe(mt.getExtendedData(qe));var Ft=function(){pe(mt.getValue(qe)),mt.getExtendedData&&oe(mt.getExtendedData(qe)),mt.onPropertyEvent&&mt.onPropertyEvent()};return qe.on(Ft),function(){qe.off(Ft)}}return function(){}},[]);e.useEffect(function(){return Oe.current=U,Se.current=I,$e()},[U,I,$e]);var dt=e.useCallback(function(bt){if(se&&Oe.current===U)try{return bt(se),void(xe.current.getExtendedData&&oe(xe.current.getExtendedData(se)))}catch{}if(Oe.current)try{var sn=xe.current.getProperty(Oe.current,Se.current);sn&&(Y(sn),bt(sn),xe.current.getExtendedData&&oe(xe.current.getExtendedData(sn)))}catch{}},[se,U]),ft=e.useMemo(function(){return xe.current.buildPropertyOperations(dt)},[dt]),_t=c({value:_e},ft);return x.getExtendedData&&(_t.extendedData=z),_t}i.default=function(I){var U=I.src,x=I.artboard,ee=I.animations,se=I.stateMachines,Y=I.layout,K=I.useOffscreenRenderer,_e=K===void 0||K,pe=I.shouldDisableRiveListeners,Me=pe!==void 0&&pe,z=I.shouldResizeCanvasToContainer,oe=z===void 0||z,Oe=I.automaticallyHandleEvents,Se=Oe!==void 0&&Oe,xe=I.children,$e=p(I,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),dt=L({src:U,artboard:x,animations:ee,layout:Y,stateMachines:se,autoplay:!0,shouldDisableRiveListeners:Me,automaticallyHandleEvents:Se},{useOffscreenRenderer:_e,shouldResizeCanvasToContainer:oe}).RiveComponent;return l.default.createElement(dt,c({},$e),xe)},i.useResizeCanvas=V,i.useRive=L,i.useRiveFile=function(I){var U=this,x=e.useState(null),ee=x[0],se=x[1],Y=e.useState("idle"),K=Y[0],_e=Y[1];return e.useEffect(function(){var pe=null;return b(U,void 0,void 0,function(){return w(this,function(Me){try{_e("loading"),(pe=new r.RiveFile(I)).init(),pe.on(r.EventType.Load,function(){pe?.getInstance(),se(pe),_e("success")}),pe.on(r.EventType.LoadError,function(){_e("failed")}),se(pe)}catch(z){console.error(z),_e("failed")}return[2]})}),function(){pe?.cleanup()}},[I.src,I.buffer]),{riveFile:ee,status:K}},i.useStateMachineInput=function(I,U,x,ee){var se=e.useState(null),Y=se[0],K=se[1];return e.useEffect(function(){function _e(){if(I&&U&&x||K(null),I&&U&&x){var pe=I.stateMachineInputs(U);if(pe){var Me=pe.find(function(z){return z.name===x});ee!==void 0&&Me&&(Me.value=ee),K(Me||null)}}else K(null)}_e(),I&&I.on(r.EventType.Load,function(){_e()})},[I]),Y},i.useViewModel=function(I,U){var x=U??{},ee=x.name,se=x.useDefault,Y=se!==void 0&&se,K=e.useState(null),_e=K[0],pe=K[1];return e.useEffect(function(){function Me(){var z;if(I){var oe=null;oe=ee!=null?((z=I.viewModelByName)===null||z===void 0?void 0:z.call(I,ee))||null:I.defaultViewModel()||null,pe(oe)}else pe(null)}return Me(),I&&I.on(r.EventType.Load,Me),function(){I&&I.off(r.EventType.Load,Me)}},[I,ee,Y]),_e},i.useViewModelInstance=function(I,U){var x=U??{},ee=x.name,se=x.useDefault,Y=se!==void 0&&se,K=x.useNew,_e=K!==void 0&&K,pe=x.rive,Me=e.useState(null),z=Me[0],oe=Me[1];return e.useEffect(function(){var Oe,Se,xe;if(I){var $e=null;$e=ee!=null?I.instanceByName(ee)||null:Y?((Oe=I.defaultInstance)===null||Oe===void 0?void 0:Oe.call(I))||null:_e?((Se=I.instance)===null||Se===void 0?void 0:Se.call(I))||null:((xe=I.defaultInstance)===null||xe===void 0?void 0:xe.call(I))||null,oe($e),pe&&$e&&pe.viewModelInstance!==$e&&pe.bindViewModelInstance($e)}else oe(null)},[I,ee,Y,_e,pe]),z},i.useViewModelInstanceArtboard=function(I,U){return{setValue:H(I,U,{getProperty:e.useCallback(function(x,ee){return x.artboard(ee)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(x){return{setValue:function(ee){x(function(se){se.value=ee})}}},[])}).setValue}},i.useViewModelInstanceBoolean=function(I,U){var x=H(I,U,{getProperty:e.useCallback(function(ee,se){return ee.boolean(se)},[]),getValue:e.useCallback(function(ee){return ee.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(ee){return{setValue:function(se){ee(function(Y){Y.value=se})}}},[])});return{value:x.value,setValue:x.setValue}},i.useViewModelInstanceColor=function(I,U){var x=H(I,U,{getProperty:e.useCallback(function(ee,se){return ee.color(se)},[]),getValue:e.useCallback(function(ee){return ee.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(ee){return{setValue:function(se){ee(function(Y){Y.value=se})},setRgb:function(se,Y,K){ee(function(_e){_e.rgb(se,Y,K)})},setRgba:function(se,Y,K,_e){ee(function(pe){pe.rgba(se,Y,K,_e)})},setAlpha:function(se){ee(function(Y){Y.alpha(se)})},setOpacity:function(se){ee(function(Y){Y.opacity(se)})}}},[])});return{value:x.value,setValue:x.setValue,setRgb:x.setRgb,setRgba:x.setRgba,setAlpha:x.setAlpha,setOpacity:x.setOpacity}},i.useViewModelInstanceEnum=function(I,U){var x=H(I,U,{getProperty:e.useCallback(function(ee,se){return ee.enum(se)},[]),getValue:e.useCallback(function(ee){return ee.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(ee){return ee.values},[]),buildPropertyOperations:e.useCallback(function(ee){return{setValue:function(se){ee(function(Y){Y.value=se})}}},[])});return{value:x.value,values:x.extendedData||[],setValue:x.setValue}},i.useViewModelInstanceImage=function(I,U){return{setValue:H(I,U,{getProperty:e.useCallback(function(x,ee){return x.image(ee)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(x){return{setValue:function(ee){x(function(se){se.value=ee})}}},[])}).setValue}},i.useViewModelInstanceList=function(I,U){var x,ee=e.useState(0)[1],se=H(I,U,{getProperty:e.useCallback(function(Y,K){return Y.list(K)},[]),getValue:e.useCallback(function(Y){return Y.length},[]),defaultValue:null,onPropertyEvent:function(){ee(function(Y){return Y+1})},buildPropertyOperations:e.useCallback(function(Y){return{addInstance:function(K){Y(function(_e){return _e.addInstance(K)})},addInstanceAt:function(K,_e){var pe=!1;return Y(function(Me){pe=Me.addInstanceAt(K,_e)}),pe},removeInstance:function(K){Y(function(_e){return _e.removeInstance(K)})},removeInstanceAt:function(K){Y(function(_e){return _e.removeInstanceAt(K)})},getInstanceAt:function(K){var _e=null;return Y(function(pe){_e=pe.instanceAt(K)}),_e},swap:function(K,_e){Y(function(pe){return pe.swap(K,_e)})}}},[])});return{length:(x=se.value)!==null&&x!==void 0?x:0,addInstance:se.addInstance,addInstanceAt:se.addInstanceAt,removeInstance:se.removeInstance,removeInstanceAt:se.removeInstanceAt,getInstanceAt:se.getInstanceAt,swap:se.swap}},i.useViewModelInstanceNumber=function(I,U){var x=H(I,U,{getProperty:e.useCallback(function(ee,se){return ee.number(se)},[]),getValue:e.useCallback(function(ee){return ee.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(ee){return{setValue:function(se){ee(function(Y){Y.value=se})}}},[])});return{value:x.value,setValue:x.setValue}},i.useViewModelInstanceString=function(I,U){var x=H(I,U,{getProperty:e.useCallback(function(ee,se){return ee.string(se)},[]),getValue:e.useCallback(function(ee){return ee.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(ee){return{setValue:function(se){ee(function(Y){Y.value=se})}}},[])});return{value:x.value,setValue:x.setValue}},i.useViewModelInstanceTrigger=function(I,U,x){var ee=(x??{}).onTrigger;return{trigger:H(I,U,{getProperty:e.useCallback(function(se,Y){return se.trigger(Y)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:ee,buildPropertyOperations:e.useCallback(function(se){return{trigger:function(){se(function(Y){Y.trigger()})}}},[])}).trigger}},Object.keys(r).forEach(function(I){I==="default"||i.hasOwnProperty(I)||Object.defineProperty(i,I,{enumerable:!0,get:function(){return r[I]}})})})(Em)),Em}var mo=iA();const aA=()=>{};var I0={};const ub=function(i){const e=[];let r=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},sA=function(i){const e=[];let r=0,a=0;for(;r<i.length;){const l=i[r++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[r++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[r++],p=i[r++],b=i[r++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[a++]=String.fromCharCode(55296+(w>>10)),e[a++]=String.fromCharCode(56320+(w&1023))}else{const c=i[r++],p=i[r++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},cb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const c=i[l],p=l+1<i.length,b=p?i[l+1]:0,w=l+2<i.length,E=w?i[l+2]:0,N=c>>2,k=(c&3)<<4|b>>4;let G=(b&15)<<2|E>>6,ae=E&63;w||(ae=64,p||(G=64)),a.push(r[N],r[k],r[G],r[ae])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ub(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):sA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const c=r[i.charAt(l++)],b=l<i.length?r[i.charAt(l)]:0;++l;const E=l<i.length?r[i.charAt(l)]:64;++l;const k=l<i.length?r[i.charAt(l)]:64;if(++l,c==null||b==null||E==null||k==null)throw new oA;const G=c<<2|b>>4;if(a.push(G),E!==64){const ae=b<<4&240|E>>2;if(a.push(ae),k!==64){const B=E<<6&192|k;a.push(B)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class oA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lA=function(i){const e=ub(i);return cb.encodeByteArray(e,!0)},Hf=function(i){return lA(i).replace(/\./g,"")},fb=function(i){try{return cb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cA=()=>uA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof I0>"u")return;const i=I0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},hA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&fb(i[1]);return e&&JSON.parse(e)},fh=()=>{try{return aA()||cA()||fA()||hA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},hb=i=>fh()?.emulatorHosts?.[i],dA=i=>{const e=hb(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),a]:[e.substring(0,r),a]},db=()=>fh()?.config,mb=i=>fh()?.[`_${i}`];class mA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}function eu(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pb(i){return(await fetch(i,{credentials:"include"})).ok}function pA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Hf(JSON.stringify(r)),Hf(JSON.stringify(p)),""].join(".")}const $u={};function gA(){const i={prod:[],emulator:[]};for(const e of Object.keys($u))$u[e]?i.emulator.push(e):i.prod.push(e);return i}function yA(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let x0=!1;function gb(i,e){if(typeof window>"u"||typeof document>"u"||!eu(window.location.host)||$u[i]===e||$u[i]||x0)return;$u[i]=e;function r(G){return`__firebase__banner__${G}`}const a="__firebase__banner",c=gA().prod.length>0;function p(){const G=document.getElementById(a);G&&G.remove()}function b(G){G.style.display="flex",G.style.background="#7faaf0",G.style.position="fixed",G.style.bottom="5px",G.style.left="5px",G.style.padding=".5em",G.style.borderRadius="5px",G.style.alignItems="center"}function w(G,ae){G.setAttribute("width","24"),G.setAttribute("id",ae),G.setAttribute("height","24"),G.setAttribute("viewBox","0 0 24 24"),G.setAttribute("fill","none"),G.style.marginLeft="-6px"}function E(){const G=document.createElement("span");return G.style.cursor="pointer",G.style.marginLeft="16px",G.style.fontSize="24px",G.innerHTML=" &times;",G.onclick=()=>{x0=!0,p()},G}function N(G,ae){G.setAttribute("id",ae),G.innerText="Learn more",G.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",G.setAttribute("target","__blank"),G.style.paddingLeft="5px",G.style.textDecoration="underline"}function k(){const G=yA(a),ae=r("text"),B=document.getElementById(ae)||document.createElement("span"),Ie=r("learnmore"),be=document.getElementById(Ie)||document.createElement("a"),Ue=r("preprendIcon"),V=document.getElementById(Ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(G.created){const Le=G.element;b(Le),N(be,Ie);const Xe=E();w(V,Ue),Le.append(V,B,be,Xe),document.body.appendChild(Le)}c?(B.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",ae)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",k):k()}function vi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vi())}function _A(){const i=fh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function wA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){const i=vi();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function AA(){return!_A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function CA(){return new Promise((i,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(r){e(r)}})}const RA="FirebaseError";class Vs extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=RA,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fc.prototype.create)}}class fc{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?IA(c,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Vs(l,b,a)}}function IA(i,e){return i.replace(xA,(r,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const xA=/\{\$([^}]+)}/g;function NA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Yo(i,e){if(i===e)return!0;const r=Object.keys(i),a=Object.keys(e);for(const l of r){if(!a.includes(l))return!1;const c=i[l],p=e[l];if(N0(c)&&N0(p)){if(!Yo(c,p))return!1}else if(c!==p)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function N0(i){return i!==null&&typeof i=="object"}function hc(i){const e=[];for(const[r,a]of Object.entries(i))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function MA(i,e){const r=new OA(i,e);return r.subscribe.bind(r)}class OA{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let l;if(e===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");DA(e,["next","error","complete"])?l=e:l={next:e,error:r,complete:a},l.next===void 0&&(l.next=wm),l.error===void 0&&(l.error=wm),l.complete===void 0&&(l.complete=wm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DA(i,e){if(typeof i!="object"||i===null)return!1;for(const r of e)if(r in i&&typeof i[r]=="function")return!0;return!1}function wm(){}function ia(i){return i&&i._delegate?i._delegate:i}class Wo{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qo="[DEFAULT]";class kA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new mA;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PA(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);a===b&&p.resolve(l)}return l}onInit(e,r){const a=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:VA(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VA(i){return i===qo?void 0:i}function PA(i){return i.instantiationMode==="EAGER"}class LA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new kA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var Kt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Kt||(Kt={}));const UA={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},zA=Kt.INFO,BA={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},jA=(i,e,...r)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),l=BA[e];if(l)console[l](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mp{constructor(e){this.name=e,this._logLevel=zA,this._logHandler=jA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const FA=(i,e)=>e.some(r=>i instanceof r);let M0,O0;function HA(){return M0||(M0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qA(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yb=new WeakMap,Bm=new WeakMap,vb=new WeakMap,Tm=new WeakMap,pp=new WeakMap;function GA(i){const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",p)},c=()=>{r(go(i.result)),l()},p=()=>{a(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&yb.set(r,i)}).catch(()=>{}),pp.set(e,i),e}function YA(i){if(Bm.has(i))return;const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",p),i.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",p),i.addEventListener("abort",p)});Bm.set(i,e)}let jm={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Bm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||vb.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return go(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function WA(i){jm=i(jm)}function XA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=i.call(Am(this),e,...r);return vb.set(a,e.sort?e.sort():[e]),go(a)}:qA().includes(i)?function(...e){return i.apply(Am(this),e),go(yb.get(this))}:function(...e){return go(i.apply(Am(this),e))}}function $A(i){return typeof i=="function"?XA(i):(i instanceof IDBTransaction&&YA(i),FA(i,HA())?new Proxy(i,jm):i)}function go(i){if(i instanceof IDBRequest)return GA(i);if(Tm.has(i))return Tm.get(i);const e=$A(i);return e!==i&&(Tm.set(i,e),pp.set(e,i)),e}const Am=i=>pp.get(i);function KA(i,e,{blocked:r,upgrade:a,blocking:l,terminated:c}={}){const p=indexedDB.open(i,e),b=go(p);return a&&p.addEventListener("upgradeneeded",w=>{a(go(p.result),w.oldVersion,w.newVersion,go(p.transaction),w)}),r&&p.addEventListener("blocked",w=>r(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const QA=["get","getKey","getAll","getAllKeys","count"],JA=["put","add","delete","clear"],Sm=new Map;function D0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,l=JA.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||QA.includes(r)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return a&&(E=E.index(b.shift())),(await Promise.all([E[r](...b),l&&w.done]))[0]};return Sm.set(e,c),c}WA(i=>({...i,get:(e,r,a)=>D0(e,r)||i.get(e,r,a),has:(e,r)=>!!D0(e,r)||i.has(e,r)}));class ZA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(eS(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function eS(i){return i.getComponent()?.type==="VERSION"}const Fm="@firebase/app",k0="0.14.6";const xs=new mp("@firebase/app"),tS="@firebase/app-compat",nS="@firebase/analytics-compat",rS="@firebase/analytics",iS="@firebase/app-check-compat",aS="@firebase/app-check",sS="@firebase/auth",oS="@firebase/auth-compat",lS="@firebase/database",uS="@firebase/data-connect",cS="@firebase/database-compat",fS="@firebase/functions",hS="@firebase/functions-compat",dS="@firebase/installations",mS="@firebase/installations-compat",pS="@firebase/messaging",gS="@firebase/messaging-compat",yS="@firebase/performance",vS="@firebase/performance-compat",_S="@firebase/remote-config",bS="@firebase/remote-config-compat",ES="@firebase/storage",wS="@firebase/storage-compat",TS="@firebase/firestore",AS="@firebase/ai",SS="@firebase/firestore-compat",CS="firebase",RS="12.6.0";const Hm="[DEFAULT]",IS={[Fm]:"fire-core",[tS]:"fire-core-compat",[rS]:"fire-analytics",[nS]:"fire-analytics-compat",[aS]:"fire-app-check",[iS]:"fire-app-check-compat",[sS]:"fire-auth",[oS]:"fire-auth-compat",[lS]:"fire-rtdb",[uS]:"fire-data-connect",[cS]:"fire-rtdb-compat",[fS]:"fire-fn",[hS]:"fire-fn-compat",[dS]:"fire-iid",[mS]:"fire-iid-compat",[pS]:"fire-fcm",[gS]:"fire-fcm-compat",[yS]:"fire-perf",[vS]:"fire-perf-compat",[_S]:"fire-rc",[bS]:"fire-rc-compat",[ES]:"fire-gcs",[wS]:"fire-gcs-compat",[TS]:"fire-fst",[SS]:"fire-fst-compat",[AS]:"fire-vertex","fire-js":"fire-js",[CS]:"fire-js-all"};const qf=new Map,xS=new Map,qm=new Map;function V0(i,e){try{i.container.addComponent(e)}catch(r){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Wl(i){const e=i.name;if(qm.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,i);for(const r of qf.values())V0(r,i);for(const r of xS.values())V0(r,i);return!0}function gp(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function va(i){return i==null?!1:i.settings!==void 0}const NS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new fc("app","Firebase",NS);class MS{constructor(e,r,a){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}const tu=RS;function _b(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const a={name:Hm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw yo.create("bad-app-name",{appName:String(l)});if(r||(r=db()),!r)throw yo.create("no-options");const c=qf.get(l);if(c){if(Yo(r,c.options)&&Yo(a,c.config))return c;throw yo.create("duplicate-app",{appName:l})}const p=new LA(l);for(const w of qm.values())p.addComponent(w);const b=new MS(r,a,p);return qf.set(l,b),b}function bb(i=Hm){const e=qf.get(i);if(!e&&i===Hm&&db())return _b();if(!e)throw yo.create("no-app",{appName:i});return e}function vo(i,e,r){let a=IS[i]??i;r&&(a+=`-${r}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(p.join(" "));return}Wl(new Wo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const OS="firebase-heartbeat-database",DS=1,nc="firebase-heartbeat-store";let Cm=null;function Eb(){return Cm||(Cm=KA(OS,DS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(nc)}catch(r){console.warn(r)}}}}).catch(i=>{throw yo.create("idb-open",{originalErrorMessage:i.message})})),Cm}async function kS(i){try{const r=(await Eb()).transaction(nc),a=await r.objectStore(nc).get(wb(i));return await r.done,a}catch(e){if(e instanceof Vs)xs.warn(e.message);else{const r=yo.create("idb-get",{originalErrorMessage:e?.message});xs.warn(r.message)}}}async function P0(i,e){try{const a=(await Eb()).transaction(nc,"readwrite");await a.objectStore(nc).put(e,wb(i)),await a.done}catch(r){if(r instanceof Vs)xs.warn(r.message);else{const a=yo.create("idb-set",{originalErrorMessage:r?.message});xs.warn(a.message)}}}function wb(i){return`${i.name}!${i.options.appId}`}const VS=1024,PS=30;class LS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new zS(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=L0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>PS){const l=BS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=L0(),{heartbeatsToSend:r,unsentEntries:a}=US(this._heartbeatsCache.heartbeats),l=Hf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return xs.warn(e),""}}}function L0(){return new Date().toISOString().substring(0,10)}function US(i,e=VS){const r=[];let a=i.slice();for(const l of i){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),U0(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),U0(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class zS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?CA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await kS(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function U0(i){return Hf(JSON.stringify({version:2,heartbeats:i})).length}function BS(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,e=a);return e}function jS(i){Wl(new Wo("platform-logger",e=>new ZA(e),"PRIVATE")),Wl(new Wo("heartbeat",e=>new LS(e),"PRIVATE")),vo(Fm,k0,i),vo(Fm,k0,"esm2020"),vo("fire-js","")}jS("");var FS="firebase",HS="12.6.0";vo(FS,HS,"app");function Tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qS=Tb,Ab=new fc("auth","Firebase",Tb());const Gf=new mp("@firebase/auth");function GS(i,...e){Gf.logLevel<=Kt.WARN&&Gf.warn(`Auth (${tu}): ${i}`,...e)}function Df(i,...e){Gf.logLevel<=Kt.ERROR&&Gf.error(`Auth (${tu}): ${i}`,...e)}function Ns(i,...e){throw yp(i,...e)}function Qa(i,...e){return yp(i,...e)}function Sb(i,e,r){const a={...qS(),[e]:r};return new fc("auth","Firebase",a).create(e,{appName:i.name})}function Rs(i){return Sb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(i,...e){if(typeof i!="string"){const r=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(r,...a)}return Ab.create(i,...e)}function Tt(i,e,...r){if(!i)throw yp(e,...r)}function Ss(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Df(e),new Error(e)}function Ms(i,e){i||Ss(e)}function Gm(){return typeof self<"u"&&self.location?.href||""}function YS(){return z0()==="http:"||z0()==="https:"}function z0(){return typeof self<"u"&&self.location?.protocol||null}function WS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YS()||EA()||"connection"in navigator)?navigator.onLine:!0}function XS(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class dc{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ms(r>e,"Short delay should be less than long delay!"),this.isMobile=vA()||wA()}get(){return WS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(i,e){Ms(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}class Cb{static initialize(e,r,a){this.fetchImpl=e,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QS=new dc(3e4,6e4);function mc(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function nu(i,e,r,a,l={}){return Rb(i,l,async()=>{let c={},p={};a&&(e==="GET"?p=a:c={body:JSON.stringify(a)});const b=hc({key:i.config.apiKey,...p}).slice(1),w=await i._getAdditionalHeaders();w["Content-Type"]="application/json",i.languageCode&&(w["X-Firebase-Locale"]=i.languageCode);const E={method:e,headers:w,...c};return bA()||(E.referrerPolicy="no-referrer"),i.emulatorConfig&&eu(i.emulatorConfig.host)&&(E.credentials="include"),Cb.fetch()(await Ib(i,i.config.apiHost,r,b),E)})}async function Rb(i,e,r){i._canInitEmulator=!1;const a={...$S,...e};try{const l=new JS(i),c=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw Sf(i,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(i,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw Sf(i,"email-already-in-use",p);if(w==="USER_DISABLED")throw Sf(i,"user-disabled",p);const N=a[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Sb(i,N,E);Ns(i,N)}}catch(l){if(l instanceof Vs)throw l;Ns(i,"network-request-failed",{message:String(l)})}}async function _p(i,e,r,a,l={}){const c=await nu(i,e,r,a,l);return"mfaPendingCredential"in c&&Ns(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Ib(i,e,r,a){const l=`${e}${r}?${a}`,c=i,p=c.config.emulator?vp(i.config,l):`${i.config.apiScheme}://${l}`;return KS.includes(r)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class JS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(Qa(this.auth,"network-request-failed")),QS.get())})}}function Sf(i,e,r){const a={appName:i.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const l=Qa(i,e,a);return l.customData._tokenResponse=r,l}async function ZS(i,e){return nu(i,"POST","/v1/accounts:delete",e)}async function Yf(i,e){return nu(i,"POST","/v1/accounts:lookup",e)}function Ku(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e2(i,e=!1){const r=ia(i),a=await r.getIdToken(e),l=bp(a);Tt(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:a,authTime:Ku(Rm(l.auth_time)),issuedAtTime:Ku(Rm(l.iat)),expirationTime:Ku(Rm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Rm(i){return Number(i)*1e3}function bp(i){const[e,r,a]=i.split(".");if(e===void 0||r===void 0||a===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const l=fb(r);return l?JSON.parse(l):(Df("Failed to decode base64 JWT payload"),null)}catch(l){return Df("Caught error parsing JWT payload as JSON",l?.toString()),null}}function B0(i){const e=bp(i);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function rc(i,e,r=!1){if(r)return e;try{return await e}catch(a){throw a instanceof Vs&&t2(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function t2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class n2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ym{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wf(i){const e=i.auth,r=await i.getIdToken(),a=await rc(i,Yf(e,{idToken:r}));Tt(a?.users.length,e,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?xb(l.providerUserInfo):[],p=i2(i.providerData,c),b=i.isAnonymous,w=!(i.email&&l.passwordHash)&&!p?.length,E=b?w:!1,N={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Ym(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(i,N)}async function r2(i){const e=ia(i);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i2(i,e){return[...i.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function xb(i){return i.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function a2(i,e){const r=await Rb(i,{},async()=>{const a=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,p=await Ib(i,l,"/v1/token",`key=${c}`),b=await i._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:a};return i.emulatorConfig&&eu(i.emulatorConfig.host)&&(w.credentials="include"),Cb.fetch()(p,w)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function s2(i,e){return nu(i,"POST","/v2/accounts:revokeToken",mc(i,e))}class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const r=B0(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:a,refreshToken:l,expiresIn:c}=await a2(e,r);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,r,a){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,r){const{refreshToken:a,accessToken:l,expirationTime:c}=r,p=new zl;return a&&(Tt(typeof a=="string","internal-error",{appName:e}),p.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function oo(i,e){Tt(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ka{constructor({uid:e,auth:r,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new n2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const r=await rc(this,this.stsTokenManager.getToken(this.auth,e));return Tt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return e2(this,e)}reload(){return r2(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ka({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),r&&await Wf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(va(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await rc(this,ZS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const a=r.displayName??void 0,l=r.email??void 0,c=r.phoneNumber??void 0,p=r.photoURL??void 0,b=r.tenantId??void 0,w=r._redirectEventId??void 0,E=r.createdAt??void 0,N=r.lastLoginAt??void 0,{uid:k,emailVerified:G,isAnonymous:ae,providerData:B,stsTokenManager:Ie}=r;Tt(k&&Ie,e,"internal-error");const be=zl.fromJSON(this.name,Ie);Tt(typeof k=="string",e,"internal-error"),oo(a,e.name),oo(l,e.name),Tt(typeof G=="boolean",e,"internal-error"),Tt(typeof ae=="boolean",e,"internal-error"),oo(c,e.name),oo(p,e.name),oo(b,e.name),oo(w,e.name),oo(E,e.name),oo(N,e.name);const Ue=new ka({uid:k,auth:e,email:l,emailVerified:G,displayName:a,isAnonymous:ae,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:be,createdAt:E,lastLoginAt:N});return B&&Array.isArray(B)&&(Ue.providerData=B.map(V=>({...V}))),w&&(Ue._redirectEventId=w),Ue}static async _fromIdTokenResponse(e,r,a=!1){const l=new zl;l.updateFromServerResponse(r);const c=new ka({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Wf(c),c}static async _fromGetAccountInfoResponse(e,r,a){const l=r.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?xb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new zl;b.updateFromIdToken(a);const w=new ka({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const j0=new Map;function Cs(i){Ms(i instanceof Function,"Expected a class definition");let e=j0.get(i);return e?(Ms(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,j0.set(i,e),e)}class Nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Nb.type="NONE";const F0=Nb;function kf(i,e,r){return`firebase:${i}:${e}:${r}`}class Bl{constructor(e,r,a){this.persistence=e,this.auth=r,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=kf(this.userKey,l.apiKey,c),this.fullPersistenceKey=kf("persistence",l.apiKey,c),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Yf(this.auth,{idToken:e}).catch(()=>{});return r?ka._fromGetAccountInfoResponse(this.auth,r,e):null}return ka._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,a="authUser"){if(!r.length)return new Bl(Cs(F0),e,a);const l=(await Promise.all(r.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||Cs(F0);const p=kf(a,e.config.apiKey,e.name);let b=null;for(const E of r)try{const N=await E._get(p);if(N){let k;if(typeof N=="string"){const G=await Yf(e,{idToken:N}).catch(()=>{});if(!G)break;k=await ka._fromGetAccountInfoResponse(e,G,N)}else k=ka._fromJSON(e,N);E!==c&&(b=k),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new Bl(c,e,a):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(r.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new Bl(c,e,a))}}function H0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pb(e))return"Blackberry";if(Lb(e))return"Webos";if(Ob(e))return"Safari";if((e.includes("chrome/")||Db(e))&&!e.includes("edge/"))return"Chrome";if(Vb(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(r);if(a?.length===2)return a[1]}return"Other"}function Mb(i=vi()){return/firefox\//i.test(i)}function Ob(i=vi()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Db(i=vi()){return/crios\//i.test(i)}function kb(i=vi()){return/iemobile/i.test(i)}function Vb(i=vi()){return/android/i.test(i)}function Pb(i=vi()){return/blackberry/i.test(i)}function Lb(i=vi()){return/webos/i.test(i)}function Ep(i=vi()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function o2(i=vi()){return Ep(i)&&!!window.navigator?.standalone}function l2(){return TA()&&document.documentMode===10}function Ub(i=vi()){return Ep(i)||Vb(i)||Lb(i)||Pb(i)||/windows phone/i.test(i)||kb(i)}function zb(i,e=[]){let r;switch(i){case"Browser":r=H0(vi());break;case"Worker":r=`${H0(vi())}-${i}`;break;default:r=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${tu}/${a}`}class u2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const a=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});a.onAbort=r,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const a of this.queue)await a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function c2(i,e={}){return nu(i,"GET","/v2/passwordPolicy",mc(i,e))}const f2=6;class h2{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??f2,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=e.length>=a),l&&(r.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,r,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class d2{constructor(e,r,a,l){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q0(this),this.idTokenSubscription=new q0(this),this.beforeStateQueue=new u2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Cs(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Yf(this,{idToken:e}),a=await ka._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(va(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(va(this.app))return Promise.reject(Rs(this));const r=e?ia(e):null;return r&&Tt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return va(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return va(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c2(this),r=new h2(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fc("auth","Firebase",e())}onAuthStateChanged(e,r,a){return this.registerStateListener(this.authStateSubscription,e,r,a)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,a){return this.registerStateListener(this.idTokenSubscription,e,r,a)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await s2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const a=await this.getOrInitRedirectPersistenceManager(r);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Cs(e)||this._popupRedirectResolver;Tt(r,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[Cs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,a,l){if(this._deleted)return()=>{};const c=typeof r=="function"?r:r.next.bind(r);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof r=="function"){const w=e.addObserver(r,a,l);return()=>{p=!0,w()}}else{const w=e.addObserver(r);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(va(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function pc(i){return ia(i)}class q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=MA(r=>this.observer=r)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m2(i){wp=i}function p2(i){return wp.loadJS(i)}function g2(){return wp.gapiScript}function y2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function v2(i,e){const r=gp(i,"auth");if(r.isInitialized()){const l=r.getImmediate(),c=r.getOptions();if(Yo(c,e??{}))return l;Ns(l,"already-initialized")}return r.initialize({options:e})}function _2(i,e){const r=e?.persistence||[],a=(Array.isArray(r)?r:[r]).map(Cs);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function b2(i,e,r){const a=pc(i);Tt(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Bb(e),{host:p,port:b}=E2(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},N=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(Yo(E,a.config.emulator)&&Yo(N,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=N,a.settings.appVerificationDisabledForTesting=!0,eu(p)?(pb(`${c}//${p}${w}`),gb("Auth",!0)):w2()}function Bb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function E2(i){const e=Bb(i),r=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:G0(a.substr(c.length+1))}}else{const[c,p]=a.split(":");return{host:c,port:G0(p)}}}function G0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function w2(){function i(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class jb{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,r){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function jl(i,e){return _p(i,"POST","/v1/accounts:signInWithIdp",mc(i,e))}const T2="http://localhost";class Xo extends jb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Ns("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=r;if(!a||!l)return null;const p=new Xo(a,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const r=this.buildRequest();return jl(e,r)}_linkToIdToken(e,r){const a=this.buildRequest();return a.idToken=r,jl(e,a)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,jl(e,r)}buildRequest(){const e={requestUri:T2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=hc(r)}return e}}class Fb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gc extends Fb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class uo extends gc{constructor(){super("facebook.com")}static credential(e){return Xo._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";class co extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Xo._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:a}=e;if(!r&&!a)return null;try{return co.credential(r,a)}catch{return null}}}co.GOOGLE_SIGN_IN_METHOD="google.com";co.PROVIDER_ID="google.com";class fo extends gc{constructor(){super("github.com")}static credential(e){return Xo._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";class ho extends gc{constructor(){super("twitter.com")}static credential(e,r){return Xo._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=e;if(!r||!a)return null;try{return ho.credential(r,a)}catch{return null}}}ho.TWITTER_SIGN_IN_METHOD="twitter.com";ho.PROVIDER_ID="twitter.com";async function A2(i,e){return _p(i,"POST","/v1/accounts:signUp",mc(i,e))}class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,a,l=!1){const c=await ka._fromIdTokenResponse(e,a,l),p=Y0(a);return new Os({user:c,providerId:p,_tokenResponse:a,operationType:r})}static async _forOperation(e,r,a){await e._updateTokensIfNecessary(a,!0);const l=Y0(a);return new Os({user:e,providerId:l,_tokenResponse:a,operationType:r})}}function Y0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function S2(i){if(va(i.app))return Promise.reject(Rs(i));const e=pc(i);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Os({user:e.currentUser,providerId:null,operationType:"signIn"});const r=await A2(e,{returnSecureToken:!0}),a=await Os._fromIdTokenResponse(e,"signIn",r,!0);return await e._updateCurrentUser(a.user),a}class Xf extends Vs{constructor(e,r,a,l){super(r.code,r.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,r,a,l){return new Xf(e,r,a,l)}}function Hb(i,e,r,a){return(e==="reauthenticate"?r._getReauthenticationResolver(i):r._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(i,c,e,a):c})}async function C2(i,e,r=!1){const a=await rc(i,e._linkToIdToken(i.auth,await i.getIdToken()),r);return Os._forOperation(i,"link",a)}async function R2(i,e,r=!1){const{auth:a}=i;if(va(a.app))return Promise.reject(Rs(a));const l="reauthenticate";try{const c=await rc(i,Hb(a,l,e,i),r);Tt(c.idToken,a,"internal-error");const p=bp(c.idToken);Tt(p,a,"internal-error");const{sub:b}=p;return Tt(i.uid===b,a,"user-mismatch"),Os._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ns(a,"user-mismatch"),c}}async function I2(i,e,r=!1){if(va(i.app))return Promise.reject(Rs(i));const a="signIn",l=await Hb(i,a,e),c=await Os._fromIdTokenResponse(i,a,l);return r||await i._updateCurrentUser(c.user),c}async function x2(i,e){return _p(i,"POST","/v1/accounts:signInWithCustomToken",mc(i,e))}async function N2(i,e){if(va(i.app))return Promise.reject(Rs(i));const r=pc(i),a=await x2(r,{token:e,returnSecureToken:!0}),l=await Os._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function M2(i,e,r,a){return ia(i).onIdTokenChanged(e,r,a)}function O2(i,e,r){return ia(i).beforeAuthStateChanged(e,r)}function D2(i,e,r,a){return ia(i).onAuthStateChanged(e,r,a)}const $f="__sak";class qb{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem($f,"1"),this.storage.removeItem($f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const k2=1e3,V2=10;class Gb extends qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),l=this.localCache[r];a!==l&&e(r,l,a)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const a=e.key;r?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!r&&this.localCache[a]===p||this.notifyListeners(a,p)},c=this.storage.getItem(a);l2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,V2):l()}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:a}),!0)})},k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gb.type="LOCAL";const P2=Gb;class Yb extends qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Yb.type="SESSION";const Wb=Yb;function L2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(l=>l.isListeningto(e));if(r)return r;const a=new hh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:a,eventType:l,data:c}=r.data,p=this.handlersMap[l];if(!p?.size)return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async E=>E(r.origin,c)),w=await L2(b);r.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:w})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Tp(i="",e=10){let r="";for(let a=0;a<e;a++)r+=Math.floor(Math.random()*10);return i+r}class U2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=Tp("",20);l.port1.start();const N=setTimeout(()=>{w(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(k){const G=k;if(G.data.eventId===E)switch(G.data.status){case"ack":clearTimeout(N),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(G.data.response);break;default:clearTimeout(N),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:r},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Ja(){return window}function z2(i){Ja().location.href=i}function Xb(){return typeof Ja().WorkerGlobalScope<"u"&&typeof Ja().importScripts=="function"}async function B2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j2(){return navigator?.serviceWorker?.controller||null}function F2(){return Xb()?self:null}const $b="firebaseLocalStorageDb",H2=1,Kf="firebaseLocalStorage",Kb="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function dh(i,e){return i.transaction([Kf],e?"readwrite":"readonly").objectStore(Kf)}function q2(){const i=indexedDB.deleteDatabase($b);return new yc(i).toPromise()}function Wm(){const i=indexedDB.open($b,H2);return new Promise((e,r)=>{i.addEventListener("error",()=>{r(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Kf,{keyPath:Kb})}catch(l){r(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Kf)?e(a):(a.close(),await q2(),e(await Wm()))})})}async function W0(i,e,r){const a=dh(i,!0).put({[Kb]:e,value:r});return new yc(a).toPromise()}async function G2(i,e){const r=dh(i,!1).get(e),a=await new yc(r).toPromise();return a===void 0?null:a.value}function X0(i,e){const r=dh(i,!0).delete(e);return new yc(r).toPromise()}const Y2=800,W2=3;class Qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let r=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(r++>W2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(F2()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await B2(),!this.activeServiceWorker)return;this.sender=new U2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await W0(e,$f,"1"),await X0(e,$f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>W0(a,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(a=>G2(a,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>X0(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new yc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qb.type="LOCAL";const X2=Qb;new dc(3e4,6e4);function $2(i,e){return e?Cs(e):(Tt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Ap extends jb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return jl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function K2(i){return I2(i.auth,new Ap(i),i.bypassAuthState)}function Q2(i){const{auth:e,user:r}=i;return Tt(r,e,"internal-error"),R2(r,new Ap(i),i.bypassAuthState)}async function J2(i){const{auth:e,user:r}=i;return Tt(r,e,"internal-error"),C2(r,new Ap(i),i.bypassAuthState)}class Jb{constructor(e,r,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:a,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:r,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K2;case"linkViaPopup":case"linkViaRedirect":return J2;case"reauthViaPopup":case"reauthViaRedirect":return Q2;default:Ns(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Z2=new dc(2e3,1e4);class Ll extends Jb{constructor(e,r,a,l,c){super(e,r,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ll.currentPopupAction&&Ll.currentPopupAction.cancel(),Ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Qa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z2.get())};e()}}Ll.currentPopupAction=null;const eC="pendingRedirect",Vf=new Map;class tC extends Jb{constructor(e,r,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let e=Vf.get(this.auth._key());if(!e){try{const a=await nC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(r){e=()=>Promise.reject(r)}Vf.set(this.auth._key(),e)}return this.bypassAuthState||Vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nC(i,e){const r=aC(e),a=iC(i);if(!await a._isAvailable())return!1;const l=await a._get(r)==="true";return await a._remove(r),l}function rC(i,e){Vf.set(i._key(),e)}function iC(i){return Cs(i._redirectPersistence)}function aC(i){return kf(eC,i.config.apiKey,i.name)}async function sC(i,e,r=!1){if(va(i.app))return Promise.reject(Rs(i));const a=pc(i),l=$2(a,e),p=await new tC(a,l,r).execute();return p&&!r&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,e)),p}const oC=600*1e3;class lC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(r=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uC(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!Zb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Qa(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const a=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oC&&this.cachedEventUids.clear(),this.cachedEventUids.has($0(e))}saveEventToCache(e){this.cachedEventUids.add($0(e)),this.lastProcessedEventTime=Date.now()}}function $0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Zb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function uC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zb(i);default:return!1}}async function cC(i,e={}){return nu(i,"GET","/v1/projects",e)}const fC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hC=/^https?/;async function dC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await cC(i);for(const r of e)try{if(mC(r))return}catch{}Ns(i,"unauthorized-domain")}function mC(i){const e=Gm(),{protocol:r,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const p=new URL(i);return p.hostname===""&&a===""?r==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&p.hostname===a}if(!hC.test(r))return!1;if(fC.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const pC=new dc(3e4,6e4);function K0(){const i=Ja().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let r=0;r<i.CP.length;r++)i.CP[r]=null}}function gC(i){return new Promise((e,r)=>{function a(){K0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K0(),r(Qa(i,"network-request-failed"))},timeout:pC.get()})}if(Ja().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ja().gapi?.load)a();else{const l=y2("iframefcb");return Ja()[l]=()=>{gapi.load?a():r(Qa(i,"network-request-failed"))},p2(`${g2()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Pf=null,e})}let Pf=null;function yC(i){return Pf=Pf||gC(i),Pf}const vC=new dc(5e3,15e3),_C="__/auth/iframe",bC="emulator/auth/iframe",EC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TC(i){const e=i.config;Tt(e.authDomain,i,"auth-domain-config-required");const r=e.emulator?vp(e,bC):`https://${i.config.authDomain}/${_C}`,a={apiKey:e.apiKey,appName:i.name,v:tu},l=wC.get(i.config.apiHost);l&&(a.eid=l);const c=i._getFrameworks();return c.length&&(a.fw=c.join(",")),`${r}?${hc(a).slice(1)}`}async function AC(i){const e=await yC(i),r=Ja().gapi;return Tt(r,i,"internal-error"),e.open({where:document.body,url:TC(i),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const p=Qa(i,"network-request-failed"),b=Ja().setTimeout(()=>{c(p)},vC.get());function w(){Ja().clearTimeout(b),l(a)}a.ping(w).then(w,()=>{c(p)})}))}const SC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CC=500,RC=600,IC="_blank",xC="http://localhost";class Q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(i,e,r,a=CC,l=RC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const w={...SC,width:a.toString(),height:l.toString(),top:c,left:p},E=vi().toLowerCase();r&&(b=Db(E)?IC:r),Mb(E)&&(e=e||xC,w.scrollbars="yes");const N=Object.entries(w).reduce((G,[ae,B])=>`${G}${ae}=${B},`,"");if(o2(E)&&b!=="_self")return MC(e||"",b),new Q0(null);const k=window.open(e||"",b,N);Tt(k,i,"popup-blocked");try{k.focus()}catch{}return new Q0(k)}function MC(i,e){const r=document.createElement("a");r.href=i,r.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}const OC="__/auth/handler",DC="emulator/auth/handler",kC=encodeURIComponent("fac");async function J0(i,e,r,a,l,c){Tt(i.config.authDomain,i,"auth-domain-config-required"),Tt(i.config.apiKey,i,"invalid-api-key");const p={apiKey:i.config.apiKey,appName:i.name,authType:r,redirectUrl:a,v:tu,eventId:l};if(e instanceof Fb){e.setDefaultLanguage(i.languageCode),p.providerId=e.providerId||"",NA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[N,k]of Object.entries({}))p[N]=k}if(e instanceof gc){const N=e.getScopes().filter(k=>k!=="");N.length>0&&(p.scopes=N.join(","))}i.tenantId&&(p.tid=i.tenantId);const b=p;for(const N of Object.keys(b))b[N]===void 0&&delete b[N];const w=await i._getAppCheckToken(),E=w?`#${kC}=${encodeURIComponent(w)}`:"";return`${VC(i)}?${hc(b).slice(1)}${E}`}function VC({config:i}){return i.emulator?vp(i,DC):`https://${i.authDomain}/${OC}`}const Im="webStorageSupport";class PC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wb,this._completeRedirectFn=sC,this._overrideRedirectResult=rC}async _openPopup(e,r,a,l){Ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await J0(e,r,a,Gm(),l);return NC(e,c,Tp())}async _openRedirect(e,r,a,l){await this._originValidation(e);const c=await J0(e,r,a,Gm(),l);return z2(c),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:l,promise:c}=this.eventManagers[r];return l?Promise.resolve(l):(Ms(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(e){const r=await AC(e),a=new lC(e);return r.register("authEvent",l=>(Tt(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=r,a}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Im,{type:Im},l=>{const c=l?.[0]?.[Im];c!==void 0&&r(!!c),Ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=dC(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Ub()||Ob()||Ep()}}const LC=PC;var Z0="@firebase/auth",e_="1.11.1";class UC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BC(i){Wl(new Wo("auth",(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;Tt(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const w={apiKey:p,authDomain:b,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zb(i)},E=new d2(a,l,c,w);return _2(E,r),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,a)=>{e.getProvider("auth-internal").initialize()})),Wl(new Wo("auth-internal",e=>{const r=pc(e.getProvider("auth").getImmediate());return(a=>new UC(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),vo(Z0,e_,zC(i)),vo(Z0,e_,"esm2020")}const jC=300,FC=mb("authIdTokenMaxAge")||jC;let t_=null;const HC=i=>async e=>{const r=e&&await e.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>FC)return;const l=r?.token;t_!==l&&(t_=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function qC(i=bb()){const e=gp(i,"auth");if(e.isInitialized())return e.getImmediate();const r=v2(i,{popupRedirectResolver:LC,persistence:[X2,P2,Wb]}),a=mb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const p=HC(c.toString());O2(r,p,()=>p(r.currentUser)),M2(r,b=>p(b))}}const l=hb("auth");return l&&b2(r,`http://${l}`),r}function GC(){return document.getElementsByTagName("head")?.[0]??document}m2({loadJS(i){return new Promise((e,r)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=l=>{const c=Qa("internal-error");c.customData=l,r(c)},a.type="text/javascript",a.charset="UTF-8",GC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BC("Browser");var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _o,eE;(function(){var i;function e(W,F){function L(){}L.prototype=F.prototype,W.F=F.prototype,W.prototype=new L,W.prototype.constructor=W,W.D=function(H,I,U){for(var x=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)x[ee-2]=arguments[ee];return F.prototype[I].apply(H,x)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,r),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(W,F,L){L||(L=0);const H=Array(16);if(typeof F=="string")for(var I=0;I<16;++I)H[I]=F.charCodeAt(L++)|F.charCodeAt(L++)<<8|F.charCodeAt(L++)<<16|F.charCodeAt(L++)<<24;else for(I=0;I<16;++I)H[I]=F[L++]|F[L++]<<8|F[L++]<<16|F[L++]<<24;F=W.g[0],L=W.g[1],I=W.g[2];let U=W.g[3],x;x=F+(U^L&(I^U))+H[0]+3614090360&4294967295,F=L+(x<<7&4294967295|x>>>25),x=U+(I^F&(L^I))+H[1]+3905402710&4294967295,U=F+(x<<12&4294967295|x>>>20),x=I+(L^U&(F^L))+H[2]+606105819&4294967295,I=U+(x<<17&4294967295|x>>>15),x=L+(F^I&(U^F))+H[3]+3250441966&4294967295,L=I+(x<<22&4294967295|x>>>10),x=F+(U^L&(I^U))+H[4]+4118548399&4294967295,F=L+(x<<7&4294967295|x>>>25),x=U+(I^F&(L^I))+H[5]+1200080426&4294967295,U=F+(x<<12&4294967295|x>>>20),x=I+(L^U&(F^L))+H[6]+2821735955&4294967295,I=U+(x<<17&4294967295|x>>>15),x=L+(F^I&(U^F))+H[7]+4249261313&4294967295,L=I+(x<<22&4294967295|x>>>10),x=F+(U^L&(I^U))+H[8]+1770035416&4294967295,F=L+(x<<7&4294967295|x>>>25),x=U+(I^F&(L^I))+H[9]+2336552879&4294967295,U=F+(x<<12&4294967295|x>>>20),x=I+(L^U&(F^L))+H[10]+4294925233&4294967295,I=U+(x<<17&4294967295|x>>>15),x=L+(F^I&(U^F))+H[11]+2304563134&4294967295,L=I+(x<<22&4294967295|x>>>10),x=F+(U^L&(I^U))+H[12]+1804603682&4294967295,F=L+(x<<7&4294967295|x>>>25),x=U+(I^F&(L^I))+H[13]+4254626195&4294967295,U=F+(x<<12&4294967295|x>>>20),x=I+(L^U&(F^L))+H[14]+2792965006&4294967295,I=U+(x<<17&4294967295|x>>>15),x=L+(F^I&(U^F))+H[15]+1236535329&4294967295,L=I+(x<<22&4294967295|x>>>10),x=F+(I^U&(L^I))+H[1]+4129170786&4294967295,F=L+(x<<5&4294967295|x>>>27),x=U+(L^I&(F^L))+H[6]+3225465664&4294967295,U=F+(x<<9&4294967295|x>>>23),x=I+(F^L&(U^F))+H[11]+643717713&4294967295,I=U+(x<<14&4294967295|x>>>18),x=L+(U^F&(I^U))+H[0]+3921069994&4294967295,L=I+(x<<20&4294967295|x>>>12),x=F+(I^U&(L^I))+H[5]+3593408605&4294967295,F=L+(x<<5&4294967295|x>>>27),x=U+(L^I&(F^L))+H[10]+38016083&4294967295,U=F+(x<<9&4294967295|x>>>23),x=I+(F^L&(U^F))+H[15]+3634488961&4294967295,I=U+(x<<14&4294967295|x>>>18),x=L+(U^F&(I^U))+H[4]+3889429448&4294967295,L=I+(x<<20&4294967295|x>>>12),x=F+(I^U&(L^I))+H[9]+568446438&4294967295,F=L+(x<<5&4294967295|x>>>27),x=U+(L^I&(F^L))+H[14]+3275163606&4294967295,U=F+(x<<9&4294967295|x>>>23),x=I+(F^L&(U^F))+H[3]+4107603335&4294967295,I=U+(x<<14&4294967295|x>>>18),x=L+(U^F&(I^U))+H[8]+1163531501&4294967295,L=I+(x<<20&4294967295|x>>>12),x=F+(I^U&(L^I))+H[13]+2850285829&4294967295,F=L+(x<<5&4294967295|x>>>27),x=U+(L^I&(F^L))+H[2]+4243563512&4294967295,U=F+(x<<9&4294967295|x>>>23),x=I+(F^L&(U^F))+H[7]+1735328473&4294967295,I=U+(x<<14&4294967295|x>>>18),x=L+(U^F&(I^U))+H[12]+2368359562&4294967295,L=I+(x<<20&4294967295|x>>>12),x=F+(L^I^U)+H[5]+4294588738&4294967295,F=L+(x<<4&4294967295|x>>>28),x=U+(F^L^I)+H[8]+2272392833&4294967295,U=F+(x<<11&4294967295|x>>>21),x=I+(U^F^L)+H[11]+1839030562&4294967295,I=U+(x<<16&4294967295|x>>>16),x=L+(I^U^F)+H[14]+4259657740&4294967295,L=I+(x<<23&4294967295|x>>>9),x=F+(L^I^U)+H[1]+2763975236&4294967295,F=L+(x<<4&4294967295|x>>>28),x=U+(F^L^I)+H[4]+1272893353&4294967295,U=F+(x<<11&4294967295|x>>>21),x=I+(U^F^L)+H[7]+4139469664&4294967295,I=U+(x<<16&4294967295|x>>>16),x=L+(I^U^F)+H[10]+3200236656&4294967295,L=I+(x<<23&4294967295|x>>>9),x=F+(L^I^U)+H[13]+681279174&4294967295,F=L+(x<<4&4294967295|x>>>28),x=U+(F^L^I)+H[0]+3936430074&4294967295,U=F+(x<<11&4294967295|x>>>21),x=I+(U^F^L)+H[3]+3572445317&4294967295,I=U+(x<<16&4294967295|x>>>16),x=L+(I^U^F)+H[6]+76029189&4294967295,L=I+(x<<23&4294967295|x>>>9),x=F+(L^I^U)+H[9]+3654602809&4294967295,F=L+(x<<4&4294967295|x>>>28),x=U+(F^L^I)+H[12]+3873151461&4294967295,U=F+(x<<11&4294967295|x>>>21),x=I+(U^F^L)+H[15]+530742520&4294967295,I=U+(x<<16&4294967295|x>>>16),x=L+(I^U^F)+H[2]+3299628645&4294967295,L=I+(x<<23&4294967295|x>>>9),x=F+(I^(L|~U))+H[0]+4096336452&4294967295,F=L+(x<<6&4294967295|x>>>26),x=U+(L^(F|~I))+H[7]+1126891415&4294967295,U=F+(x<<10&4294967295|x>>>22),x=I+(F^(U|~L))+H[14]+2878612391&4294967295,I=U+(x<<15&4294967295|x>>>17),x=L+(U^(I|~F))+H[5]+4237533241&4294967295,L=I+(x<<21&4294967295|x>>>11),x=F+(I^(L|~U))+H[12]+1700485571&4294967295,F=L+(x<<6&4294967295|x>>>26),x=U+(L^(F|~I))+H[3]+2399980690&4294967295,U=F+(x<<10&4294967295|x>>>22),x=I+(F^(U|~L))+H[10]+4293915773&4294967295,I=U+(x<<15&4294967295|x>>>17),x=L+(U^(I|~F))+H[1]+2240044497&4294967295,L=I+(x<<21&4294967295|x>>>11),x=F+(I^(L|~U))+H[8]+1873313359&4294967295,F=L+(x<<6&4294967295|x>>>26),x=U+(L^(F|~I))+H[15]+4264355552&4294967295,U=F+(x<<10&4294967295|x>>>22),x=I+(F^(U|~L))+H[6]+2734768916&4294967295,I=U+(x<<15&4294967295|x>>>17),x=L+(U^(I|~F))+H[13]+1309151649&4294967295,L=I+(x<<21&4294967295|x>>>11),x=F+(I^(L|~U))+H[4]+4149444226&4294967295,F=L+(x<<6&4294967295|x>>>26),x=U+(L^(F|~I))+H[11]+3174756917&4294967295,U=F+(x<<10&4294967295|x>>>22),x=I+(F^(U|~L))+H[2]+718787259&4294967295,I=U+(x<<15&4294967295|x>>>17),x=L+(U^(I|~F))+H[9]+3951481745&4294967295,W.g[0]=W.g[0]+F&4294967295,W.g[1]=W.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,W.g[2]=W.g[2]+I&4294967295,W.g[3]=W.g[3]+U&4294967295}a.prototype.v=function(W,F){F===void 0&&(F=W.length);const L=F-this.blockSize,H=this.C;let I=this.h,U=0;for(;U<F;){if(I==0)for(;U<=L;)l(this,W,U),U+=this.blockSize;if(typeof W=="string"){for(;U<F;)if(H[I++]=W.charCodeAt(U++),I==this.blockSize){l(this,H),I=0;break}}else for(;U<F;)if(H[I++]=W[U++],I==this.blockSize){l(this,H),I=0;break}}this.h=I,this.o+=F},a.prototype.A=function(){var W=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);W[0]=128;for(var F=1;F<W.length-8;++F)W[F]=0;F=this.o*8;for(var L=W.length-8;L<W.length;++L)W[L]=F&255,F/=256;for(this.v(W),W=Array(16),F=0,L=0;L<4;++L)for(let H=0;H<32;H+=8)W[F++]=this.g[L]>>>H&255;return W};function c(W,F){var L=b;return Object.prototype.hasOwnProperty.call(L,W)?L[W]:L[W]=F(W)}function p(W,F){this.h=F;const L=[];let H=!0;for(let I=W.length-1;I>=0;I--){const U=W[I]|0;H&&U==F||(L[I]=U,H=!1)}this.g=L}var b={};function w(W){return-128<=W&&W<128?c(W,function(F){return new p([F|0],F<0?-1:0)}):new p([W|0],W<0?-1:0)}function E(W){if(isNaN(W)||!isFinite(W))return k;if(W<0)return be(E(-W));const F=[];let L=1;for(let H=0;W>=L;H++)F[H]=W/L|0,L*=4294967296;return new p(F,0)}function N(W,F){if(W.length==0)throw Error("number format error: empty string");if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(W.charAt(0)=="-")return be(N(W.substring(1),F));if(W.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=E(Math.pow(F,8));let H=k;for(let U=0;U<W.length;U+=8){var I=Math.min(8,W.length-U);const x=parseInt(W.substring(U,U+I),F);I<8?(I=E(Math.pow(F,I)),H=H.j(I).add(E(x))):(H=H.j(L),H=H.add(E(x)))}return H}var k=w(0),G=w(1),ae=w(16777216);i=p.prototype,i.m=function(){if(Ie(this))return-be(this).m();let W=0,F=1;for(let L=0;L<this.g.length;L++){const H=this.i(L);W+=(H>=0?H:4294967296+H)*F,F*=4294967296}return W},i.toString=function(W){if(W=W||10,W<2||36<W)throw Error("radix out of range: "+W);if(B(this))return"0";if(Ie(this))return"-"+be(this).toString(W);const F=E(Math.pow(W,6));var L=this;let H="";for(;;){const I=Xe(L,F).g;L=Ue(L,I.j(F));let U=((L.g.length>0?L.g[0]:L.h)>>>0).toString(W);if(L=I,B(L))return U+H;for(;U.length<6;)U="0"+U;H=U+H}},i.i=function(W){return W<0?0:W<this.g.length?this.g[W]:this.h};function B(W){if(W.h!=0)return!1;for(let F=0;F<W.g.length;F++)if(W.g[F]!=0)return!1;return!0}function Ie(W){return W.h==-1}i.l=function(W){return W=Ue(this,W),Ie(W)?-1:B(W)?0:1};function be(W){const F=W.g.length,L=[];for(let H=0;H<F;H++)L[H]=~W.g[H];return new p(L,~W.h).add(G)}i.abs=function(){return Ie(this)?be(this):this},i.add=function(W){const F=Math.max(this.g.length,W.g.length),L=[];let H=0;for(let I=0;I<=F;I++){let U=H+(this.i(I)&65535)+(W.i(I)&65535),x=(U>>>16)+(this.i(I)>>>16)+(W.i(I)>>>16);H=x>>>16,U&=65535,x&=65535,L[I]=x<<16|U}return new p(L,L[L.length-1]&-2147483648?-1:0)};function Ue(W,F){return W.add(be(F))}i.j=function(W){if(B(this)||B(W))return k;if(Ie(this))return Ie(W)?be(this).j(be(W)):be(be(this).j(W));if(Ie(W))return be(this.j(be(W)));if(this.l(ae)<0&&W.l(ae)<0)return E(this.m()*W.m());const F=this.g.length+W.g.length,L=[];for(var H=0;H<2*F;H++)L[H]=0;for(H=0;H<this.g.length;H++)for(let I=0;I<W.g.length;I++){const U=this.i(H)>>>16,x=this.i(H)&65535,ee=W.i(I)>>>16,se=W.i(I)&65535;L[2*H+2*I]+=x*se,V(L,2*H+2*I),L[2*H+2*I+1]+=U*se,V(L,2*H+2*I+1),L[2*H+2*I+1]+=x*ee,V(L,2*H+2*I+1),L[2*H+2*I+2]+=U*ee,V(L,2*H+2*I+2)}for(W=0;W<F;W++)L[W]=L[2*W+1]<<16|L[2*W];for(W=F;W<2*F;W++)L[W]=0;return new p(L,0)};function V(W,F){for(;(W[F]&65535)!=W[F];)W[F+1]+=W[F]>>>16,W[F]&=65535,F++}function Le(W,F){this.g=W,this.h=F}function Xe(W,F){if(B(F))throw Error("division by zero");if(B(W))return new Le(k,k);if(Ie(W))return F=Xe(be(W),F),new Le(be(F.g),be(F.h));if(Ie(F))return F=Xe(W,be(F)),new Le(be(F.g),F.h);if(W.g.length>30){if(Ie(W)||Ie(F))throw Error("slowDivide_ only works with positive integers.");for(var L=G,H=F;H.l(W)<=0;)L=tt(L),H=tt(H);var I=st(L,1),U=st(H,1);for(H=st(H,2),L=st(L,2);!B(H);){var x=U.add(H);x.l(W)<=0&&(I=I.add(L),U=x),H=st(H,1),L=st(L,1)}return F=Ue(W,I.j(F)),new Le(I,F)}for(I=k;W.l(F)>=0;){for(L=Math.max(1,Math.floor(W.m()/F.m())),H=Math.ceil(Math.log(L)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),U=E(L),x=U.j(F);Ie(x)||x.l(W)>0;)L-=H,U=E(L),x=U.j(F);B(U)&&(U=G),I=I.add(U),W=Ue(W,x)}return new Le(I,W)}i.B=function(W){return Xe(this,W).h},i.and=function(W){const F=Math.max(this.g.length,W.g.length),L=[];for(let H=0;H<F;H++)L[H]=this.i(H)&W.i(H);return new p(L,this.h&W.h)},i.or=function(W){const F=Math.max(this.g.length,W.g.length),L=[];for(let H=0;H<F;H++)L[H]=this.i(H)|W.i(H);return new p(L,this.h|W.h)},i.xor=function(W){const F=Math.max(this.g.length,W.g.length),L=[];for(let H=0;H<F;H++)L[H]=this.i(H)^W.i(H);return new p(L,this.h^W.h)};function tt(W){const F=W.g.length+1,L=[];for(let H=0;H<F;H++)L[H]=W.i(H)<<1|W.i(H-1)>>>31;return new p(L,W.h)}function st(W,F){const L=F>>5;F%=32;const H=W.g.length-L,I=[];for(let U=0;U<H;U++)I[U]=F>0?W.i(U+L)>>>F|W.i(U+L+1)<<32-F:W.i(U+L);return new p(I,W.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,eE=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=N,_o=p}).apply(typeof n_<"u"?n_:typeof self<"u"?self:typeof window<"u"?window:{});var Cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tE,Yu,nE,Lf,Xm,rE,iE,aE;(function(){var i,e=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cf=="object"&&Cf];for(var y=0;y<u.length;++y){var T=u[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=r(this);function l(u,y){if(y)e:{var T=a;u=u.split(".");for(var M=0;M<u.length-1;M++){var te=u[M];if(!(te in T))break e;T=T[te]}u=u[u.length-1],M=T[u],y=y(M),y!=M&&y!=null&&e(T,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var T=[],M;for(M in y)Object.prototype.hasOwnProperty.call(y,M)&&T.push([M,y[M]]);return T}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,T){return u.call.apply(u.bind,arguments)}function E(u,y,T){return E=w,E.apply(null,arguments)}function N(u,y){var T=Array.prototype.slice.call(arguments,1);return function(){var M=T.slice();return M.push.apply(M,arguments),u.apply(this,M)}}function k(u,y){function T(){}T.prototype=y.prototype,u.Z=y.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(M,te,he){for(var Ee=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)Ee[Ke-2]=arguments[Ke];return y.prototype[te].apply(M,Ee)}}var G=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function ae(u){const y=u.length;if(y>0){const T=Array(y);for(let M=0;M<y;M++)T[M]=u[M];return T}return[]}function B(u,y){for(let M=1;M<arguments.length;M++){const te=arguments[M];var T=typeof te;if(T=T!="object"?T:te?Array.isArray(te)?"array":T:"null",T=="array"||T=="object"&&typeof te.length=="number"){T=u.length||0;const he=te.length||0;u.length=T+he;for(let Ee=0;Ee<he;Ee++)u[T+Ee]=te[Ee]}else u.push(te)}}class Ie{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function be(u){p.setTimeout(()=>{throw u},0)}function Ue(){var u=W;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class V{constructor(){this.h=this.g=null}add(y,T){const M=Le.get();M.set(y,T),this.h?this.h.next=M:this.g=M,this.h=M}}var Le=new Ie(()=>new Xe,u=>u.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,st=!1,W=new V,F=()=>{const u=Promise.resolve(void 0);tt=()=>{u.then(L)}};function L(){for(var u;u=Ue();){try{u.h.call(u.g)}catch(T){be(T)}var y=Le;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}st=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};p.addEventListener("test",T,y),p.removeEventListener("test",T,y)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ee(u,y){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}k(ee,I),ee.prototype.init=function(u,y){const T=this.type=u.type,M=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(T=="mouseover"?y=u.fromElement:T=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),Y=0;function K(u,y,T,M,te){this.listener=u,this.proxy=null,this.src=y,this.type=T,this.capture=!!M,this.ha=te,this.key=++Y,this.da=this.fa=!1}function _e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pe(u,y,T){for(const M in u)y.call(T,u[M],M,u)}function Me(u,y){for(const T in u)y.call(void 0,u[T],T,u)}function z(u){const y={};for(const T in u)y[T]=u[T];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oe(u,y){let T,M;for(let te=1;te<arguments.length;te++){M=arguments[te];for(T in M)u[T]=M[T];for(let he=0;he<oe.length;he++)T=oe[he],Object.prototype.hasOwnProperty.call(M,T)&&(u[T]=M[T])}}function Se(u){this.src=u,this.g={},this.h=0}Se.prototype.add=function(u,y,T,M,te){const he=u.toString();u=this.g[he],u||(u=this.g[he]=[],this.h++);const Ee=$e(u,y,M,te);return Ee>-1?(y=u[Ee],T||(y.fa=!1)):(y=new K(y,this.src,he,!!M,te),y.fa=T,u.push(y)),y};function xe(u,y){const T=y.type;if(T in u.g){var M=u.g[T],te=Array.prototype.indexOf.call(M,y,void 0),he;(he=te>=0)&&Array.prototype.splice.call(M,te,1),he&&(_e(y),u.g[T].length==0&&(delete u.g[T],u.h--))}}function $e(u,y,T,M){for(let te=0;te<u.length;++te){const he=u[te];if(!he.da&&he.listener==y&&he.capture==!!T&&he.ha==M)return te}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),ft={};function _t(u,y,T,M,te){if(Array.isArray(y)){for(let he=0;he<y.length;he++)_t(u,y[he],T,M,te);return null}return T=en(T),u&&u[se]?u.J(y,T,b(M)?!!M.capture:!1,te):bt(u,y,T,!1,M,te)}function bt(u,y,T,M,te,he){if(!y)throw Error("Invalid event type");const Ee=b(te)?!!te.capture:!!te;let Ke=Zt(u);if(Ke||(u[dt]=Ke=new Se(u)),T=Ke.add(y,T,M,Ee,he),T.proxy)return T;if(M=sn(),T.proxy=M,M.src=u,M.listener=T,u.addEventListener)U||(te=Ee),te===void 0&&(te=!1),u.addEventListener(y.toString(),M,te);else if(u.attachEvent)u.attachEvent(Ft(y.toString()),M);else if(u.addListener&&u.removeListener)u.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return T}function sn(){function u(T){return y.call(u.src,u.listener,T)}const y=Nt;return u}function mt(u,y,T,M,te){if(Array.isArray(y))for(var he=0;he<y.length;he++)mt(u,y[he],T,M,te);else M=b(M)?!!M.capture:!!M,T=en(T),u&&u[se]?(u=u.i,he=String(y).toString(),he in u.g&&(y=u.g[he],T=$e(y,T,M,te),T>-1&&(_e(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete u.g[he],u.h--)))):u&&(u=Zt(u))&&(y=u.g[y.toString()],u=-1,y&&(u=$e(y,T,M,te)),(T=u>-1?y[u]:null)&&qe(T))}function qe(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[se])xe(y.i,u);else{var T=u.type,M=u.proxy;y.removeEventListener?y.removeEventListener(T,M,u.capture):y.detachEvent?y.detachEvent(Ft(T),M):y.addListener&&y.removeListener&&y.removeListener(M),(T=Zt(y))?(xe(T,u),T.h==0&&(T.src=null,y[dt]=null)):_e(u)}}}function Ft(u){return u in ft?ft[u]:ft[u]="on"+u}function Nt(u,y){if(u.da)u=!0;else{y=new ee(y,this);const T=u.listener,M=u.ha||u.src;u.fa&&qe(u),u=T.call(M,y)}return u}function Zt(u){return u=u[dt],u instanceof Se?u:null}var $n="__closure_events_fn_"+(Math.random()*1e9>>>0);function en(u){return typeof u=="function"?u:(u[$n]||(u[$n]=function(y){return u.handleEvent(y)}),u[$n])}function it(){H.call(this),this.i=new Se(this),this.M=this,this.G=null}k(it,H),it.prototype[se]=!0,it.prototype.removeEventListener=function(u,y,T,M){mt(this,u,y,T,M)};function yn(u,y){var T,M=u.G;if(M)for(T=[];M;M=M.G)T.push(M);if(u=u.M,M=y.type||y,typeof y=="string")y=new I(y,u);else if(y instanceof I)y.target=y.target||u;else{var te=y;y=new I(M,u),Oe(y,te)}te=!0;let he,Ee;if(T)for(Ee=T.length-1;Ee>=0;Ee--)he=y.g=T[Ee],te=En(he,M,!0,y)&&te;if(he=y.g=u,te=En(he,M,!0,y)&&te,te=En(he,M,!1,y)&&te,T)for(Ee=0;Ee<T.length;Ee++)he=y.g=T[Ee],te=En(he,M,!1,y)&&te}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const T=u.g[y];for(let M=0;M<T.length;M++)_e(T[M]);delete u.g[y],u.h--}}this.G=null},it.prototype.J=function(u,y,T,M){return this.i.add(String(u),y,!1,T,M)},it.prototype.K=function(u,y,T,M){return this.i.add(String(u),y,!0,T,M)};function En(u,y,T,M){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let te=!0;for(let he=0;he<y.length;++he){const Ee=y[he];if(Ee&&!Ee.da&&Ee.capture==T){const Ke=Ee.listener,Ut=Ee.ha||Ee.src;Ee.fa&&xe(u.i,Ee),te=Ke.call(Ut,M)!==!1&&te}}return te&&!M.defaultPrevented}function ei(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function Kn(u){u.g=ei(()=>{u.g=null,u.i&&(u.i=!1,Kn(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class nn extends H{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(u){H.call(this),this.h=u,this.g={}}k(vn,H);var R=[];function g(u){pe(u.g,function(y,T){this.g.hasOwnProperty(T)&&qe(y)},u),u.g={}}vn.prototype.N=function(){vn.Z.N.call(this),g(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,P=p.JSON.parse,J=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function ye(){}function De(){}var et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ot(){I.call(this,"d")}k(ot,I);function He(){I.call(this,"c")}k(He,I);var Ge={},Et=null;function kt(){return Et=Et||new it}Ge.Ia="serverreachability";function ct(u){I.call(this,Ge.Ia,u)}k(ct,I);function on(u){const y=kt();yn(y,new ct(y))}Ge.STAT_EVENT="statevent";function Lt(u,y){I.call(this,Ge.STAT_EVENT,u),this.stat=y}k(Lt,I);function Pt(u){const y=kt();yn(y,new Lt(y,u))}Ge.Ja="timingevent";function wn(u,y){I.call(this,Ge.Ja,u),this.size=y}k(wn,I);function On(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function ti(u,y,T,M,te,he){u.info(function(){if(u.g)if(he){var Ee="",Ke=he.split("&");for(let Ot=0;Ot<Ke.length;Ot++){var Ut=Ke[Ot].split("=");if(Ut.length>1){const hn=Ut[0];Ut=Ut[1];const hi=hn.split("_");Ee=hi.length>=2&&hi[1]=="type"?Ee+(hn+"="+Ut+"&"):Ee+(hn+"=redacted&")}}}else Ee=null;else Ee=he;return"XMLHTTP REQ ("+M+") [attempt "+te+"]: "+y+`
`+T+`
`+Ee})}function yt(u,y,T,M,te,he,Ee){u.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+te+"]: "+y+`
`+T+`
`+he+" "+Ee})}function Dn(u,y,T,M){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+zr(u,T)+(M?" "+M:"")})}function At(u,y){u.info(function(){return"TIMEOUT: "+y})}qn.prototype.info=function(){};function zr(u,y){if(!u.g)return y;if(!y)return null;try{const he=JSON.parse(y);if(he){for(u=0;u<he.length;u++)if(Array.isArray(he[u])){var T=he[u];if(!(T.length<2)){var M=T[1];if(Array.isArray(M)&&!(M.length<1)){var te=M[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Ee=1;Ee<M.length;Ee++)M[Ee]=""}}}}return v(he)}catch{return y}}var Qn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wr;function Mi(){}k(Mi,ye),Mi.prototype.g=function(){return new XMLHttpRequest},wr=new Mi;function Ye(u){return encodeURIComponent(String(u))}function qi(u){var y=1;u=u.split(":");const T=[];for(;y>0&&u.length;)T.push(u.shift()),y--;return u.length&&T.push(u.join(":")),T}function Br(u,y,T,M){this.j=u,this.i=y,this.l=T,this.S=M||1,this.V=new vn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Nr}function Nr(){this.i=null,this.g="",this.h=!1}var ln={},Un={};function jr(u,y,T){u.M=1,u.A=hr(un(y)),u.u=T,u.R=!0,_i(u,null)}function _i(u,y){u.F=Date.now(),tr(u),u.B=un(u.A);var T=u.B,M=u.S;Array.isArray(M)||(M=[String(M)]),Aa(T.i,"t",M),u.C=0,T=u.j.L,u.h=new Nr,u.g=q(u.j,T?y:null,!u.u),u.P>0&&(u.O=new nn(E(u.Y,u,u.g),u.P)),y=u.V,T=u.g,M=u.ba;var te="readystatechange";Array.isArray(te)||(te&&(R[0]=te.toString()),te=R);for(let he=0;he<te.length;he++){const Ee=_t(T,te[he],M||y.handleEvent,!1,y.h||y);if(!Ee)break;y.g[Ee.key]=Ee}y=u.J?z(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),on(),ti(u.i,u.v,u.B,u.l,u.S,u.u)}Br.prototype.ba=function(u){u=u.target;const y=this.O;y&&wi(u)==3?y.j():this.Y(u)},Br.prototype.Y=function(u){try{if(u==this.g)e:{const Ke=wi(this.g),Ut=this.g.ya(),Ot=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||ir(this.g)))){this.K||Ke!=4||Ut==7||(Ut==8||Ot<=0?on(3):on(2)),Mr(this);var y=this.g.ca();this.X=y;var T=Vn(this);if(this.o=y==200,yt(this.i,this.v,this.B,this.l,this.S,Ke,y),this.o){if(this.U&&!this.L){t:{if(this.g){var M,te=this.g;if((M=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(M)){var he=M;break t}}he=null}if(u=he)Dn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,cr(this,u);else{this.o=!1,this.m=3,Pt(12),ur(this),nr(this);break e}}if(this.R){u=!0;let hn;for(;!this.K&&this.C<T.length;)if(hn=wa(this,T),hn==Un){Ke==4&&(this.m=4,Pt(14),u=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==ln){this.m=4,Pt(15),Dn(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else Dn(this.i,this.l,hn,null),cr(this,hn);if(Ea(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||T.length!=0||this.h.h||(this.m=1,Pt(16),u=!1),this.o=this.o&&u,!u)Dn(this.i,this.l,T,"[Invalid Chunked Response]"),ur(this),nr(this);else if(T.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Gr(Ee),Ee.P=!0,Pt(11))}}else Dn(this.i,this.l,T,null),cr(this,T);Ke==4&&ur(this),this.o&&!this.K&&(Ke==4?ua(this.j,this):(this.o=!1,tr(this)))}else ci(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),ur(this),nr(this)}}}catch{}finally{}};function Vn(u){if(!Ea(u))return u.g.la();const y=ir(u.g);if(y==="")return"";let T="";const M=y.length,te=wi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ur(u),nr(u),"";u.h.i=new p.TextDecoder}for(let he=0;he<M;he++)u.h.h=!0,T+=u.h.i.decode(y[he],{stream:!(te&&he==M-1)});return y.length=0,u.h.g+=T,u.C=0,u.h.g}function Ea(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wa(u,y){var T=u.C,M=y.indexOf(`
`,T);return M==-1?Un:(T=Number(y.substring(T,M)),isNaN(T)?ln:(M+=1,M+T>y.length?Un:(y=y.slice(M,M+T),u.C=M+T,y)))}Br.prototype.cancel=function(){this.K=!0,ur(this)};function tr(u){u.T=Date.now()+u.H,Tr(u,u.H)}function Tr(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=On(E(u.aa,u),y)}function Mr(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Br.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(At(this.i,this.B),this.M!=2&&(on(),Pt(17)),ur(this),this.m=2,nr(this)):Tr(this,this.T-u)};function nr(u){u.j.I==0||u.K||ua(u.j,u)}function ur(u){Mr(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function cr(u,y){try{var T=u.j;if(T.I!=0&&(T.g==u||ni(T.h,u))){if(!u.L&&ni(T.h,u)&&T.I==3){try{var M=T.Ba.g.parse(y)}catch{M=null}if(Array.isArray(M)&&M.length==3){var te=M;if(te[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)dr(T),Ai(T);else break e;Ki(T),Pt(18)}}else T.xa=te[1],0<T.xa-T.K&&te[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=On(E(T.Va,T),6e3));Sr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Si(T,11)}else if((u.L||T.g==u)&&dr(T),!x(y))for(te=T.Ba.g.parse(y),y=0;y<te.length;y++){let Ot=te[y];const hn=Ot[0];if(!(hn<=T.K))if(T.K=hn,Ot=Ot[1],T.I==2)if(Ot[0]=="c"){T.M=Ot[1],T.ba=Ot[2];const hi=Ot[3];hi!=null&&(T.ka=hi,T.j.info("VER="+T.ka));const Vi=Ot[4];Vi!=null&&(T.za=Vi,T.j.info("SVER="+T.za));const Pi=Ot[5];Pi!=null&&typeof Pi=="number"&&Pi>0&&(M=1.5*Pi,T.O=M,T.j.info("backChannelRequestTimeoutMs_="+M)),M=T;const Ci=u.g;if(Ci){const ca=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var he=M.h;he.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(Ua(he,he.h),he.h=null))}if(M.G){const as=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(M.wa=as,Ht(M.J,M.G,as))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),M=T;var Ee=u;if(M.na=Ha(M,M.L?M.ba:null,M.W),Ee.L){Gi(M.h,Ee);var Ke=Ee,Ut=M.O;Ut&&(Ke.H=Ut),Ke.D&&(Mr(Ke),tr(Ke)),M.g=Ee}else Wn(M);T.i.length>0&&qr(T)}else Ot[0]!="stop"&&Ot[0]!="close"||Si(T,7);else T.I==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?Si(T,7):ja(T):Ot[0]!="noop"&&T.l&&T.l.qa(Ot),T.A=0)}}on(4)}catch{}}var zn=class{constructor(u,y){this.g=u,this.map=y}};function La(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ar(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Sr(u){return u.h?1:u.g?u.g.size:0}function ni(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ua(u,y){u.g?u.g.add(y):u.h=y}function Gi(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}La.prototype.cancel=function(){if(this.i=Or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Or(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const T of u.g.values())y=y.concat(T.G);return y}return ae(u.i)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dr(u,y){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const M=u[T].indexOf("=");let te,he=null;M>=0?(te=u[T].substring(0,M),he=u[T].substring(M+1)):te=u[T],y(te,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function fr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof fr?(this.l=u.l,Gn(this,u.j),this.o=u.o,this.g=u.g,Fr(this,u.u),this.h=u.h,Oi(this,oa(u.i)),this.m=u.m):u&&(y=String(u).match(za))?(this.l=!1,Gn(this,y[1]||"",!0),this.o=at(y[2]||""),this.g=at(y[3]||"",!0),Fr(this,y[4]),this.h=at(y[5]||"",!0),Oi(this,y[6]||"",!0),this.m=at(y[7]||"")):(this.l=!1,this.i=new ri(null,this.l))}fr.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Jn(y,Ta,!0),":");var T=this.g;return(T||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Jn(y,Ta,!0),"@"),u.push(Ye(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(Jn(T,T.charAt(0)=="/"?Ba:is,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",Jn(T,aa)),u.join("")},fr.prototype.resolve=function(u){const y=un(this);let T=!!u.j;T?Gn(y,u.j):T=!!u.o,T?y.o=u.o:T=!!u.g,T?y.g=u.g:T=u.u!=null;var M=u.h;if(T)Fr(y,u.u);else if(T=!!u.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var te=y.h.lastIndexOf("/");te!=-1&&(M=y.h.slice(0,te+1)+M)}if(te=M,te==".."||te==".")M="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){M=te.lastIndexOf("/",0)==0,te=te.split("/");const he=[];for(let Ee=0;Ee<te.length;){const Ke=te[Ee++];Ke=="."?M&&Ee==te.length&&he.push(""):Ke==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),M&&Ee==te.length&&he.push("")):(he.push(Ke),M=!0)}M=he.join("/")}else M=te}return T?y.h=M:T=u.i.toString()!=="",T?Oi(y,oa(u.i)):T=!!u.m,T&&(y.m=u.m),y};function un(u){return new fr(u)}function Gn(u,y,T){u.j=T?at(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Fr(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Oi(u,y,T){y instanceof ri?(u.i=y,Yi(u.i,u.l)):(T||(y=Jn(y,fn)),u.i=new ri(y,u.l))}function Ht(u,y,T){u.i.set(y,T)}function hr(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function at(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jn(u,y,T){return typeof u=="string"?(u=encodeURI(u).replace(y,Cn),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,is=/[#\?:]/g,Ba=/[#\?]/g,fn=/[#\?@]/g,aa=/#/g;function ri(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function St(u){u.g||(u.g=new Map,u.h=0,u.i&&Dr(u.i,function(y,T){u.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}i=ri.prototype,i.add=function(u,y){St(this),this.i=null,u=ii(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(y),this.h+=1,this};function Cr(u,y){St(u),y=ii(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function sa(u,y){return St(u),y=ii(u,y),u.g.has(y)}i.forEach=function(u,y){St(this),this.g.forEach(function(T,M){T.forEach(function(te){u.call(y,te,M,this)},this)},this)};function bi(u,y){St(u);let T=[];if(typeof y=="string")sa(u,y)&&(T=T.concat(u.g.get(ii(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)T=T.concat(u[y]);return T}i.set=function(u,y){return St(this),this.i=null,u=ii(this,u),sa(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},i.get=function(u,y){return u?(u=bi(this,u),u.length>0?String(u[0]):y):y};function Aa(u,y,T){Cr(u,y),T.length>0&&(u.i=null,u.g.set(ii(u,y),ae(T)),u.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let M=0;M<y.length;M++){var T=y[M];const te=Ye(T);T=bi(this,T);for(let he=0;he<T.length;he++){let Ee=te;T[he]!==""&&(Ee+="="+Ye(T[he])),u.push(Ee)}}return this.i=u.join("&")};function oa(u){const y=new ri;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function ii(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Yi(u,y){y&&!u.j&&(St(u),u.i=null,u.g.forEach(function(T,M){const te=M.toLowerCase();M!=te&&(Cr(this,M),Aa(this,te,T))},u)),u.j=y}function kr(u,y){const T=new qn;if(p.Image){const M=new Image;M.onload=N(ai,T,"TestLoadImage: loaded",!0,y,M),M.onerror=N(ai,T,"TestLoadImage: error",!1,y,M),M.onabort=N(ai,T,"TestLoadImage: abort",!1,y,M),M.ontimeout=N(ai,T,"TestLoadImage: timeout",!1,y,M),p.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=u}else y(!1)}function Sa(u,y){const T=new qn,M=new AbortController,te=setTimeout(()=>{M.abort(),ai(T,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:M.signal}).then(he=>{clearTimeout(te),he.ok?ai(T,"TestPingServer: ok",!0,y):ai(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(te),ai(T,"TestPingServer: error",!1,y)})}function ai(u,y,T,M,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),M(T)}catch{}}function si(){this.g=new J}function Hr(u){this.i=u.Sb||null,this.h=u.ab||!1}k(Hr,ye),Hr.prototype.g=function(){return new oi(this.i,this.h)};function oi(u,y){it.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}k(oi,it),i=oi.prototype,i.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Rr(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?li(this):Rr(this),this.readyState==3&&Wi(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,li(this))},i.Na=function(u){this.g&&(this.response=u,li(this))},i.ga=function(){this.g&&li(this)};function li(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Rr(u)}i.setRequestHeader=function(u,y){this.A.append(u,y)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=y.next();return u.join(`\r
`)};function Rr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function rr(u){let y="";return pe(u,function(T,M){y+=M,y+=":",y+=T,y+=`\r
`}),y}function Di(u,y,T){e:{for(M in T){var M=!1;break e}M=!0}M||(T=rr(T),typeof u=="string"?T!=null&&Ye(T):Ht(u,y,T))}function Ct(u){it.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}k(Ct,it);var Ei=/^https?$/i,Vr=["POST","PUT"];i=Ct.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,y,T,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wr.g(),this.g.onreadystatechange=G(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(he){Xi(this,he);return}if(u=T||"",T=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var te in M)T.set(te,M[te]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const he of M.keys())T.set(he,M.get(he));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(T.keys()).find(he=>he.toLowerCase()=="content-type"),te=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Vr,y,void 0)>=0)||M||te||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Ee]of T)this.g.setRequestHeader(he,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(he){Xi(this,he)}};function Xi(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,$i(u),ui(u)}function $i(u){u.A||(u.A=!0,yn(u,"complete"),yn(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,yn(this,"complete"),yn(this,"abort"),ui(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),Ct.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ki(this):this.Xa())},i.Xa=function(){ki(this)};function ki(u){if(u.h&&typeof c<"u"){if(u.v&&wi(u)==4)setTimeout(u.Ca.bind(u),0);else if(yn(u,"readystatechange"),wi(u)==4){u.h=!1;try{const he=u.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var M;if(M=he===0){let Ee=String(u.D).match(za)[1]||null;!Ee&&p.self&&p.self.location&&(Ee=p.self.location.protocol.slice(0,-1)),M=!Ei.test(Ee?Ee.toLowerCase():"")}T=M}if(T)yn(u,"complete"),yn(u,"success");else{u.o=6;try{var te=wi(u)>2?u.g.statusText:""}catch{te=""}u.l=te+" ["+u.ca()+"]",$i(u)}}finally{ui(u)}}}}function ui(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,y||yn(u,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function wi(u){return u.g?u.g.readyState:0}i.ca=function(){try{return wi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),P(y)}};function ir(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ci(u){const y={};u=(u.g&&wi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<u.length;M++){if(x(u[M]))continue;var T=qi(u[M]);const te=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const he=y[te]||[];y[te]=he,he.push(T)}Me(y,function(M){return M.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||y}function la(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new La(u&&u.concurrentRequestLimit),this.Ba=new si,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=la.prototype,i.ka=8,i.I=1,i.connect=function(u,y,T,M){Pt(0),this.W=u,this.H=y||{},T&&M!==void 0&&(this.H.OSID=T,this.H.OAID=M),this.F=this.X,this.J=Ha(this,null,this.W),qr(this)};function ja(u){if(Ca(u),u.I==3){var y=u.V++,T=un(u.J);if(Ht(T,"SID",u.M),Ht(T,"RID",y),Ht(T,"TYPE","terminate"),Ia(u,T),y=new Br(u,u.j,y),y.M=2,y.A=hr(un(T)),T=!1,p.navigator&&p.navigator.sendBeacon)try{T=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&p.Image&&(new Image().src=y.A,T=!0),T||(y.g=q(y.j,null),y.g.ea(y.A)),y.F=Date.now(),tr(y)}Fa(u)}function Ai(u){u.g&&(Gr(u),u.g.cancel(),u.g=null)}function Ca(u){Ai(u),u.v&&(p.clearTimeout(u.v),u.v=null),dr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function qr(u){if(!Ar(u.h)&&!u.m){u.m=!0;var y=u.Ea;tt||F(),st||(tt(),st=!0),W.add(y,u),u.D=0}}function Ra(u,y){return Sr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=On(E(u.Ea,u,y),xa(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const te=new Br(this,this.j,u);let he=this.o;if(this.U&&(he?(he=z(he),Oe(he,this.U)):he=this.U),this.u!==null||this.R||(te.J=he,he=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var M=this.i[T];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(y+=M,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Ps(this,te,y),T=un(this.J),Ht(T,"RID",u),Ht(T,"CVER",22),this.G&&Ht(T,"X-HTTP-Session-Id",this.G),Ia(this,T),he&&(this.R?y="headers="+Ye(rr(he))+"&"+y:this.u&&Di(T,this.u,he)),Ua(this.h,te),this.Ra&&Ht(T,"TYPE","init"),this.S?(Ht(T,"$req",y),Ht(T,"SID","null"),te.U=!0,jr(te,T,null)):jr(te,T,y),this.I=2}}else this.I==3&&(u?fi(this,u):this.i.length==0||Ar(this.h)||fi(this))};function fi(u,y){var T;y?T=y.l:T=u.V++;const M=un(u.J);Ht(M,"SID",u.M),Ht(M,"RID",T),Ht(M,"AID",u.K),Ia(u,M),u.u&&u.o&&Di(M,u.u,u.o),T=new Br(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Ps(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ua(u.h,T),jr(T,M,y)}function Ia(u,y){u.H&&pe(u.H,function(T,M){Ht(y,M,T)}),u.l&&pe({},function(T,M){Ht(y,M,T)})}function Ps(u,y,T){T=Math.min(u.i.length,T);const M=u.l?E(u.l.Ka,u.l,u):null;e:{var te=u.i;let Ke=-1;for(;;){const Ut=["count="+T];Ke==-1?T>0?(Ke=te[0].g,Ut.push("ofs="+Ke)):Ke=0:Ut.push("ofs="+Ke);let Ot=!0;for(let hn=0;hn<T;hn++){var he=te[hn].g;const hi=te[hn].map;if(he-=Ke,he<0)Ke=Math.max(0,te[hn].g-100),Ot=!1;else try{he="req"+he+"_"||"";try{var Ee=hi instanceof Map?hi:Object.entries(hi);for(const[Vi,Pi]of Ee){let Ci=Pi;b(Pi)&&(Ci=v(Pi)),Ut.push(he+Vi+"="+encodeURIComponent(Ci))}}catch(Vi){throw Ut.push(he+"type="+encodeURIComponent("_badmap")),Vi}}catch{M&&M(hi)}}if(Ot){Ee=Ut.join("&");break e}}Ee=void 0}return u=u.i.splice(0,T),y.G=u,Ee}function Wn(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;tt||F(),st||(tt(),st=!0),W.add(y,u),u.A=0}}function Ki(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=On(E(u.Da,u),xa(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Ls(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=On(E(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),Ai(this),Ls(this))};function Gr(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Ls(u){u.g=new Br(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=un(u.na);Ht(y,"RID","rpc"),Ht(y,"SID",u.M),Ht(y,"AID",u.K),Ht(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(y,"TO",u.ia),Ht(y,"TYPE","xmlhttp"),Ia(u,y),u.u&&u.o&&Di(y,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=hr(un(y)),T.u=null,T.R=!0,_i(T,u)}i.Va=function(){this.C!=null&&(this.C=null,Ai(this),Ki(this),Pt(19))};function dr(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function ua(u,y){var T=null;if(u.g==y){dr(u),Gr(u),u.g=null;var M=2}else if(ni(u.h,y))T=y.G,Gi(u.h,y),M=1;else return;if(u.I!=0){if(y.o)if(M==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var te=u.D;M=kt(),yn(M,new wn(M,T)),qr(u)}else Wn(u);else if(te=y.m,te==3||te==0&&y.X>0||!(M==1&&Ra(u,y)||M==2&&Ki(u)))switch(T&&T.length>0&&(y=u.h,y.i=y.i.concat(T)),te){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function xa(u,y){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*y}function Si(u,y){if(u.j.info("Error code "+y),y==2){var T=E(u.bb,u),M=u.Ua;const te=!M;M=new fr(M||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Gn(M,"https"),hr(M),te?kr(M.toString(),T):Sa(M.toString(),T)}else Pt(2);u.I=0,u.l&&u.l.pa(y),Fa(u),Ca(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Fa(u){if(u.I=0,u.ja=[],u.l){const y=Or(u.h);(y.length!=0||u.i.length!=0)&&(B(u.ja,y),B(u.ja,u.i),u.h.i.length=0,ae(u.i),u.i.length=0),u.l.oa()}}function Ha(u,y,T){var M=T instanceof fr?un(T):new fr(T);if(M.g!="")y&&(M.g=y+"."+M.g),Fr(M,M.u);else{var te=p.location;M=te.protocol,y=y?y+"."+te.hostname:te.hostname,te=+te.port;const he=new fr(null);M&&Gn(he,M),y&&(he.g=y),te&&Fr(he,te),T&&(he.h=T),M=he}return T=u.G,y=u.wa,T&&y&&Ht(M,T,y),Ht(M,"VER",u.ka),Ia(u,M),M}function q(u,y,T){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Ct(new Hr({ab:T})):new Ct(u.ma),y.Fa(u.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Q(){}i=Q.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ge(){}ge.prototype.g=function(u,y){return new le(u,y)};function le(u,y){it.call(this),this.g=new la(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!x(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Be(this)}k(le,it),le.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},le.prototype.close=function(){ja(this.g)},le.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=v(u),u=T);y.i.push(new zn(y.Ya++,u)),y.I==3&&qr(y)},le.prototype.N=function(){this.g.l=null,delete this.j,ja(this.g),delete this.g,le.Z.N.call(this)};function Te(u){ot.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const T in y){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}k(Te,ot);function Fe(){He.call(this),this.status=1}k(Fe,He);function Be(u){this.g=u}k(Be,Q),Be.prototype.ra=function(){yn(this.g,"a")},Be.prototype.qa=function(u){yn(this.g,new Te(u))},Be.prototype.pa=function(u){yn(this.g,new Fe)},Be.prototype.oa=function(){yn(this.g,"b")},ge.prototype.createWebChannel=ge.prototype.g,le.prototype.send=le.prototype.o,le.prototype.open=le.prototype.m,le.prototype.close=le.prototype.close,aE=function(){return new ge},iE=function(){return kt()},rE=Ge,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qn.NO_ERROR=0,Qn.TIMEOUT=8,Qn.HTTP_ERROR=6,Lf=Qn,kn.COMPLETE="complete",nE=kn,De.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",it.prototype.listen=it.prototype.J,Yu=De,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,tE=Ct}).apply(typeof Cf<"u"?Cf:typeof self<"u"?self:typeof window<"u"?window:{});const r_="@firebase/firestore",i_="4.9.2";class gi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");let ru="12.3.0";const $o=new mp("@firebase/firestore");function Nl(){return $o.logLevel}function rt(i,...e){if($o.logLevel<=Kt.DEBUG){const r=e.map(Sp);$o.debug(`Firestore (${ru}): ${i}`,...r)}}function Ds(i,...e){if($o.logLevel<=Kt.ERROR){const r=e.map(Sp);$o.error(`Firestore (${ru}): ${i}`,...r)}}function Xl(i,...e){if($o.logLevel<=Kt.WARN){const r=e.map(Sp);$o.warn(`Firestore (${ru}): ${i}`,...r)}}function Sp(i){if(typeof i=="string")return i;try{return(function(r){return JSON.stringify(r)})(i)}catch{return i}}function wt(i,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,sE(i,a,r)}function sE(i,e,r){let a=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw Ds(a),new Error(a)}function Sn(i,e,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,i||sE(e,l,a)}function xt(i,e){return i}const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends Vs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bo{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}class oE{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(gi.UNAUTHENTICATED)))}shutdown(){}}class WC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class XC{constructor(e){this.t=e,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Sn(this.o===void 0,42304);let a=this.i;const l=w=>this.i!==a?(a=this.i,r(w)):Promise.resolve();let c=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new bo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new bo)}}),0),p()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Sn(typeof a.accessToken=="string",31837,{l:a}),new oE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sn(e===null||typeof e=="string",2055,{h:e}),new gi(e)}}class $C{constructor(e,r,a){this.P=e,this.T=r,this.I=a,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KC{constructor(e,r,a){this.P=e,this.T=r,this.I=a}getToken(){return Promise.resolve(new $C(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(gi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,va(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Sn(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Sn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new a_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=JC(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<r&&(a+=e.charAt(l[c]%62))}return a}}function Qt(i,e){return i<e?-1:i>e?1:0}function $m(i,e){const r=Math.min(i.length,e.length);for(let a=0;a<r;a++){const l=i.charAt(a),c=e.charAt(a);if(l!==c)return xm(l)===xm(c)?Qt(l,c):xm(l)?1:-1}return Qt(i.length,e.length)}const ZC=55296,eR=57343;function xm(i){const e=i.charCodeAt(0);return e>=ZC&&e<=eR}function $l(i,e,r){return i.length===e.length&&i.every(((a,l)=>r(a,e[l])))}const s_="__name__";class Ka{constructor(e,r,a){r===void 0?r=0:r>e.length&&wt(637,{offset:r,range:e.length}),a===void 0?a=e.length-r:a>e.length-r&&wt(1746,{length:a,range:e.length-r}),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return Ka.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ka?e.forEach((a=>{r.push(a)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let l=0;l<a;l++){const c=Ka.compareSegments(e.get(l),r.get(l));if(c!==0)return c}return Qt(e.length,r.length)}static compareSegments(e,r){const a=Ka.isNumericId(e),l=Ka.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?Ka.extractNumericId(e).compare(Ka.extractNumericId(r)):$m(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _o.fromString(e.substring(4,e.length-2))}}class Ln extends Ka{construct(e,r,a){return new Ln(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter((l=>l.length>0)))}return new Ln(r)}static emptyPath(){return new Ln([])}}const tR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends Ka{construct(e,r,a){return new Jr(e,r,a)}static isValidIdentifier(e){return tR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new Jr([s_])}static fromServerFormat(e){const r=[];let a="",l=0;const c=()=>{if(a.length===0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new Ze(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new Ze(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(c(),l++)}if(c(),p)throw new Ze(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jr(r)}static emptyPath(){return new Jr([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Ln.fromString(e))}static fromName(e){return new gt(Ln.fromString(e).popFirst(5))}static empty(){return new gt(Ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ln.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Ln(e.slice()))}}function lE(i,e,r){if(!r)throw new Ze(Re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function nR(i,e,r,a){if(e===!0&&a===!0)throw new Ze(Re.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function o_(i){if(!gt.isDocumentKey(i))throw new Ze(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function l_(i){if(gt.isDocumentKey(i))throw new Ze(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function uE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function mh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":wt(12329,{type:typeof i})}function Qf(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ze(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=mh(i);throw new Ze(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function rR(i,e){if(e<=0)throw new Ze(Re.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Er(i,e){const r={typeString:i};return e&&(r.value=e),r}function vc(i,e){if(!uE(i))throw new Ze(Re.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){r=`JSON missing required field: '${a}'`;break}const p=i[a];if(l&&typeof p!==l){r=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${a}' field to equal '${c.value}'`;break}}if(r)throw new Ze(Re.INVALID_ARGUMENT,r);return!0}const u_=-62135596800,c_=1e6;class Hn{static now(){return Hn.fromMillis(Date.now())}static fromDate(e){return Hn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor((e-1e3*r)*c_);return new Hn(r,a)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<u_)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c_}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Hn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vc(e,Hn._jsonSchema))return new Hn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Hn._jsonSchemaVersion="firestore/timestamp/1.0",Hn._jsonSchema={type:Er("string",Hn._jsonSchemaVersion),seconds:Er("number"),nanoseconds:Er("number")};class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Hn(0,0))}static max(){return new Rt(new Hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ic=-1;function iR(i,e){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=Rt.fromTimestamp(a===1e9?new Hn(r+1,0):new Hn(r,a));return new wo(l,gt.empty(),e)}function aR(i){return new wo(i.readTime,i.key,ic)}class wo{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new wo(Rt.min(),gt.empty(),ic)}static max(){return new wo(Rt.max(),gt.empty(),ic)}}function sR(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=gt.comparator(i.documentKey,e.documentKey),r!==0?r:Qt(i.largestBatchId,e.largestBatchId))}const oR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function iu(i){if(i.code!==Re.FAILED_PRECONDITION||i.message!==oR)throw i;rt("LocalStore","Unexpectedly lost primary lease")}class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ne(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(a,l)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Ne?r:Ne.resolve(r)}catch(r){return Ne.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Ne.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Ne.reject(r)}static resolve(e){return new Ne(((r,a)=>{r(e)}))}static reject(e){return new Ne(((r,a)=>{a(e)}))}static waitFor(e){return new Ne(((r,a)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&r()}),(w=>a(w)))})),p=!0,c===l&&r()}))}static or(e){let r=Ne.resolve(!1);for(const a of e)r=r.next((l=>l?Ne.resolve(l):a()));return r}static forEach(e,r){const a=[];return e.forEach(((l,c)=>{a.push(r.call(this,l,c))})),this.waitFor(a)}static mapArray(e,r){return new Ne(((a,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;r(e[E]).next((N=>{p[E]=N,++b,b===c&&a(p)}),(N=>l(N)))}}))}static doWhile(e,r){return new Ne(((a,l)=>{const c=()=>{e()===!0?r().next((()=>{c()}),l):a()};c()}))}}function uR(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function au(i){return i.name==="IndexedDbTransactionError"}class ph{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>r.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;const Rp=-1;function gh(i){return i==null}function Jf(i){return i===0&&1/i==-1/0}function cR(i){return typeof i=="number"&&Number.isInteger(i)&&!Jf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const cE="";function fR(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=f_(e)),e=hR(i.get(r),e);return f_(e)}function hR(i,e){let r=e;const a=i.length;for(let l=0;l<a;l++){const c=i.charAt(l);switch(c){case"\0":r+="";break;case cE:r+="";break;default:r+=c}}return r}function f_(i){return i+cE+""}function h_(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Qo(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function fE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Xn{constructor(e,r){this.comparator=e,this.root=r||Qr.EMPTY}insert(e,r){return new Xn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,a)=>(e(r,a),!1)))}toString(){const e=[];return this.inorderTraversal(((r,a)=>(e.push(`${r}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rf(this.root,e,this.comparator,!0)}}class Rf{constructor(e,r,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?a(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,r,a,l,c){this.key=e,this.value=r,this.color=a??Qr.RED,this.left=l??Qr.EMPTY,this.right=c??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,l,c){return new Qr(e??this.key,r??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,a),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return Qr.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1;Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,r,a,l,c){return this}insert(e,r,a){return new Qr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,a)=>(e(r),!1)))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new d_(this.data.getIterator())}getIteratorFrom(e){return new d_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((a=>{r=r.add(a)})),r}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new xr(this.comparator);return r.data=e,r}}class d_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Va{constructor(e){this.fields=e,e.sort(Jr.comparator)}static empty(){return new Va([])}unionWith(e){let r=new xr(Jr.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new Va(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,((r,a)=>r.isEqual(a)))}}class hE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new hE("Invalid base64 string: "+c):c}})(e);return new Zr(r)}static fromUint8Array(e){const r=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new Zr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const dR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(i){if(Sn(!!i,39018),typeof i=="string"){let e=0;const r=dR.exec(i);if(Sn(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:lr(i.seconds),nanos:lr(i.nanos)}}function lr(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ao(i){return typeof i=="string"?Zr.fromBase64String(i):Zr.fromUint8Array(i)}const dE="server_timestamp",mE="__type__",pE="__previous_value__",gE="__local_write_time__";function Ip(i){return(i?.mapValue?.fields||{})[mE]?.stringValue===dE}function yh(i){const e=i.mapValue.fields[pE];return Ip(e)?yh(e):e}function ac(i){const e=To(i.mapValue.fields[gE].timestampValue);return new Hn(e.seconds,e.nanos)}class mR{constructor(e,r,a,l,c,p,b,w,E,N){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=N}}const Zf="(default)";class sc{constructor(e,r){this.projectId=e,this.database=r||Zf}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}const yE="__type__",pR="__max__",If={mapValue:{}},vE="__vector__",eh="value";function So(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ip(i)?4:yR(i)?9007199254740991:gR(i)?10:11:wt(28295,{value:i})}function rs(i,e){if(i===e)return!0;const r=So(i);if(r!==So(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ac(i).isEqual(ac(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=To(l.timestampValue),b=To(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return Ao(l.bytesValue).isEqual(Ao(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return lr(l.geoPointValue.latitude)===lr(c.geoPointValue.latitude)&&lr(l.geoPointValue.longitude)===lr(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return lr(l.integerValue)===lr(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=lr(l.doubleValue),b=lr(c.doubleValue);return p===b?Jf(p)===Jf(b):isNaN(p)&&isNaN(b)}return!1})(i,e);case 9:return $l(i.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(h_(p)!==h_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!rs(p[w],b[w])))return!1;return!0})(i,e);default:return wt(52216,{left:i})}}function oc(i,e){return(i.values||[]).find((r=>rs(r,e)))!==void 0}function Kl(i,e){if(i===e)return 0;const r=So(i),a=So(e);if(r!==a)return Qt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Qt(i.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=lr(c.integerValue||c.doubleValue),w=lr(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(i,e);case 3:return m_(i.timestampValue,e.timestampValue);case 4:return m_(ac(i),ac(e));case 5:return $m(i.stringValue,e.stringValue);case 6:return(function(c,p){const b=Ao(c),w=Ao(p);return b.compareTo(w)})(i.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const N=Qt(b[E],w[E]);if(N!==0)return N}return Qt(b.length,w.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=Qt(lr(c.latitude),lr(p.latitude));return b!==0?b:Qt(lr(c.longitude),lr(p.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return p_(i.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[eh]?.arrayValue,N=w[eh]?.arrayValue,k=Qt(E?.values?.length||0,N?.values?.length||0);return k!==0?k:p_(E,N)})(i.mapValue,e.mapValue);case 11:return(function(c,p){if(c===If.mapValue&&p===If.mapValue)return 0;if(c===If.mapValue)return 1;if(p===If.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},N=Object.keys(E);w.sort(),N.sort();for(let k=0;k<w.length&&k<N.length;++k){const G=$m(w[k],N[k]);if(G!==0)return G;const ae=Kl(b[w[k]],E[N[k]]);if(ae!==0)return ae}return Qt(w.length,N.length)})(i.mapValue,e.mapValue);default:throw wt(23264,{he:r})}}function m_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Qt(i,e);const r=To(i),a=To(e),l=Qt(r.seconds,a.seconds);return l!==0?l:Qt(r.nanos,a.nanos)}function p_(i,e){const r=i.values||[],a=e.values||[];for(let l=0;l<r.length&&l<a.length;++l){const c=Kl(r[l],a[l]);if(c)return c}return Qt(r.length,a.length)}function Ql(i){return Km(i)}function Km(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const a=To(r);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return Ao(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return gt.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let a="[",l=!0;for(const c of r.values||[])l?l=!1:a+=",",a+=Km(c);return a+"]"})(i.arrayValue):"mapValue"in i?(function(r){const a=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of a)c?c=!1:l+=",",l+=`${p}:${Km(r.fields[p])}`;return l+"}"})(i.mapValue):wt(61005,{value:i})}function Uf(i){switch(So(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(i);return e?16+Uf(e):16;case 5:return 2*i.stringValue.length;case 6:return Ao(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uf(c)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return Qo(a.fields,((c,p)=>{l+=c.length+Uf(p)})),l})(i.mapValue);default:throw wt(13486,{value:i})}}function g_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Qm(i){return!!i&&"integerValue"in i}function xp(i){return!!i&&"arrayValue"in i}function y_(i){return!!i&&"nullValue"in i}function v_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zf(i){return!!i&&"mapValue"in i}function gR(i){return(i?.mapValue?.fields||{})[yE]?.stringValue===vE}function Qu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Qo(i.mapValue.fields,((r,a)=>e.mapValue.fields[r]=Qu(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Qu(i.arrayValue.values[r]);return e}return{...i}}function yR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===pR}class _a{constructor(e){this.value=e}static empty(){return new _a({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!zf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qu(r)}setAll(e){let r=Jr.emptyPath(),a={},l=[];e.forEach(((p,b)=>{if(!r.isImmediateParentOf(b)){const w=this.getFieldsMap(r);this.applyChanges(w,a,l),a={},l=[],r=b.popLast()}p?a[b.lastSegment()]=Qu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(r);this.applyChanges(c,a,l)}delete(e){const r=this.field(e.popLast());zf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=r.mapValue.fields[e.get(a)];zf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,a){Qo(r,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new _a(Qu(this.value))}}function _E(i){const e=[];return Qo(i.fields,((r,a)=>{const l=new Jr([r]);if(zf(a)){const c=_E(a.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new Va(e)}class yi{constructor(e,r,a,l,c,p,b){this.key=e,this.documentType=r,this.version=a,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new yi(e,0,Rt.min(),Rt.min(),Rt.min(),_a.empty(),0)}static newFoundDocument(e,r,a,l){return new yi(e,1,r,Rt.min(),a,l,0)}static newNoDocument(e,r){return new yi(e,2,r,Rt.min(),Rt.min(),_a.empty(),0)}static newUnknownDocument(e,r){return new yi(e,3,r,Rt.min(),Rt.min(),_a.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_a.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_a.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,r){this.position=e,this.inclusive=r}}function __(i,e,r){let a=0;for(let l=0;l<i.position.length;l++){const c=e[l],p=i.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(p.referenceValue),r.key):a=Kl(p,r.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function b_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!rs(i.position[r],e.position[r]))return!1;return!0}class lc{constructor(e,r="asc"){this.field=e,this.dir=r}}function vR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class bE{}class br extends bE{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,a):new bR(e,r,a):r==="array-contains"?new TR(e,a):r==="in"?new AR(e,a):r==="not-in"?new SR(e,a):r==="array-contains-any"?new CR(e,a):new br(e,r,a)}static createKeyFieldInFilter(e,r,a){return r==="in"?new ER(e,a):new wR(e,a)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Kl(r,this.value)):r!==null&&So(this.value)===So(r)&&this.matchesComparison(Kl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pa extends bE{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Pa(e,r)}matches(e){return EE(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EE(i){return i.op==="and"}function wE(i){return _R(i)&&EE(i)}function _R(i){for(const e of i.filters)if(e instanceof Pa)return!1;return!0}function Jm(i){if(i instanceof br)return i.field.canonicalString()+i.op.toString()+Ql(i.value);if(wE(i))return i.filters.map((e=>Jm(e))).join(",");{const e=i.filters.map((r=>Jm(r))).join(",");return`${i.op}(${e})`}}function TE(i,e){return i instanceof br?(function(a,l){return l instanceof br&&a.op===l.op&&a.field.isEqual(l.field)&&rs(a.value,l.value)})(i,e):i instanceof Pa?(function(a,l){return l instanceof Pa&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,p,b)=>c&&TE(p,l.filters[b])),!0):!1})(i,e):void wt(19439)}function AE(i){return i instanceof br?(function(r){return`${r.field.canonicalString()} ${r.op} ${Ql(r.value)}`})(i):i instanceof Pa?(function(r){return r.op.toString()+" {"+r.getFilters().map(AE).join(" ,")+"}"})(i):"Filter"}class bR extends br{constructor(e,r,a){super(e,r,a),this.key=gt.fromName(a.referenceValue)}matches(e){const r=gt.comparator(e.key,this.key);return this.matchesComparison(r)}}class ER extends br{constructor(e,r){super(e,"in",r),this.keys=SE("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class wR extends br{constructor(e,r){super(e,"not-in",r),this.keys=SE("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function SE(i,e){return(e.arrayValue?.values||[]).map((r=>gt.fromName(r.referenceValue)))}class TR extends br{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return xp(r)&&oc(r.arrayValue,this.value)}}class AR extends br{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&oc(this.value.arrayValue,r)}}class SR extends br{constructor(e,r){super(e,"not-in",r)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!oc(this.value.arrayValue,r)}}class CR extends br{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!xp(r)||!r.arrayValue.values)&&r.arrayValue.values.some((a=>oc(this.value.arrayValue,a)))}}class RR{constructor(e,r=null,a=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function E_(i,e=null,r=[],a=[],l=null,c=null,p=null){return new RR(i,e,r,a,l,c,p)}function Np(i){const e=xt(i);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((a=>Jm(a))).join(","),r+="|ob:",r+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Ql(a))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Ql(a))).join(",")),e.Te=r}return e.Te}function Mp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!vR(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!TE(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!b_(i.startAt,e.startAt)&&b_(i.endAt,e.endAt)}function Zm(i){return gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class su{constructor(e,r=null,a=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IR(i,e,r,a,l,c,p,b){return new su(i,e,r,a,l,c,p,b)}function CE(i){return new su(i)}function w_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function RE(i){return i.collectionGroup!==null}function Ju(i){const e=xt(i);if(e.Ie===null){e.Ie=[];const r=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),r.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new xr(Jr.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{r.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lc(c,a))})),r.has(Jr.keyField().canonicalString())||e.Ie.push(new lc(Jr.keyField(),a))}return e.Ie}function Za(i){const e=xt(i);return e.Ee||(e.Ee=xR(e,Ju(i))),e.Ee}function xR(i,e){if(i.limitType==="F")return E_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new lc(l.field,c)}));const r=i.endAt?new th(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new th(i.startAt.position,i.startAt.inclusive):null;return E_(i.path,i.collectionGroup,e,i.filters,i.limit,r,a)}}function ep(i,e){const r=i.filters.concat([e]);return new su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function nh(i,e,r){return new su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function vh(i,e){return Mp(Za(i),Za(e))&&i.limitType===e.limitType}function IE(i){return`${Np(Za(i))}|lt:${i.limitType}`}function Ml(i){return`Query(target=${(function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map((l=>AE(l))).join(", ")}]`),gh(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map((l=>Ql(l))).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map((l=>Ql(l))).join(",")),`Target(${a})`})(Za(i))}; limitType=${i.limitType})`}function _h(i,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(i,e)&&(function(a,l){for(const c of Ju(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(a,l){return!(a.startAt&&!(function(p,b,w){const E=__(p,b,w);return p.inclusive?E<=0:E<0})(a.startAt,Ju(a),l)||a.endAt&&!(function(p,b,w){const E=__(p,b,w);return p.inclusive?E>=0:E>0})(a.endAt,Ju(a),l))})(i,e)}function NR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function xE(i){return(e,r)=>{let a=!1;for(const l of Ju(i)){const c=MR(l,e,r);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function MR(i,e,r){const a=i.field.isKeyField()?gt.comparator(e.key,r.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Kl(w,E):wt(42886)})(i.field,e,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return wt(19790,{direction:i.dir})}}class Jo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,((r,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}const OR=new Xn(gt.comparator);function ks(){return OR}const NE=new Xn(gt.comparator);function Wu(...i){let e=NE;for(const r of i)e=e.insert(r.key,r);return e}function ME(i){let e=NE;return i.forEach(((r,a)=>e=e.insert(r,a.overlayedDocument))),e}function Go(){return Zu()}function OE(){return Zu()}function Zu(){return new Jo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const DR=new Xn(gt.comparator),kR=new xr(gt.comparator);function Jt(...i){let e=kR;for(const r of i)e=e.add(r);return e}const VR=new xr(Qt);function PR(){return VR}function Op(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function DE(i){return{integerValue:""+i}}function LR(i,e){return cR(e)?DE(e):Op(i,e)}class bh{constructor(){this._=void 0}}function UR(i,e,r){return i instanceof rh?(function(l,c){const p={fields:{[mE]:{stringValue:dE},[gE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ip(c)&&(c=yh(c)),c&&(p.fields[pE]=c),{mapValue:p}})(r,e):i instanceof uc?VE(i,e):i instanceof cc?PE(i,e):(function(l,c){const p=kE(l,c),b=T_(p)+T_(l.Ae);return Qm(p)&&Qm(l.Ae)?DE(b):Op(l.serializer,b)})(i,e)}function zR(i,e,r){return i instanceof uc?VE(i,e):i instanceof cc?PE(i,e):r}function kE(i,e){return i instanceof ih?(function(a){return Qm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class rh extends bh{}class uc extends bh{constructor(e){super(),this.elements=e}}function VE(i,e){const r=LE(e);for(const a of i.elements)r.some((l=>rs(l,a)))||r.push(a);return{arrayValue:{values:r}}}class cc extends bh{constructor(e){super(),this.elements=e}}function PE(i,e){let r=LE(e);for(const a of i.elements)r=r.filter((l=>!rs(l,a)));return{arrayValue:{values:r}}}class ih extends bh{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function T_(i){return lr(i.integerValue||i.doubleValue)}function LE(i){return xp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function BR(i,e){return i.field.isEqual(e.field)&&(function(a,l){return a instanceof uc&&l instanceof uc||a instanceof cc&&l instanceof cc?$l(a.elements,l.elements,rs):a instanceof ih&&l instanceof ih?rs(a.Ae,l.Ae):a instanceof rh&&l instanceof rh})(i.transform,e.transform)}class jR{constructor(e,r){this.version=e,this.transformResults=r}}class Is{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Is}static exists(e){return new Is(void 0,e)}static updateTime(e){return new Is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Eh{}function UE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new BE(i.key,Is.none()):new _c(i.key,i.data,Is.none());{const r=i.data,a=_a.empty();let l=new xr(Jr.comparator);for(let c of e.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?a.delete(c):a.set(c,p),l=l.add(c)}return new Zo(i.key,a,new Va(l.toArray()),Is.none())}}function FR(i,e,r){i instanceof _c?(function(l,c,p){const b=l.value.clone(),w=S_(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(i,e,r):i instanceof Zo?(function(l,c,p){if(!Bf(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=S_(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(zE(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(i,e,r):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,r)}function ec(i,e,r,a){return i instanceof _c?(function(c,p,b,w){if(!Bf(c.precondition,p))return b;const E=c.value.clone(),N=C_(c.fieldTransforms,w,p);return E.setAll(N),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(i,e,r,a):i instanceof Zo?(function(c,p,b,w){if(!Bf(c.precondition,p))return b;const E=C_(c.fieldTransforms,w,p),N=p.data;return N.setAll(zE(c)),N.setAll(E),p.convertToFoundDocument(p.version,N).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((k=>k.field)))})(i,e,r,a):(function(c,p,b){return Bf(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(i,e,r)}function HR(i,e){let r=null;for(const a of i.fieldTransforms){const l=e.data.field(a.field),c=kE(a.transform,l||null);c!=null&&(r===null&&(r=_a.empty()),r.set(a.field,c))}return r||null}function A_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&$l(a,l,((c,p)=>BR(c,p)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class _c extends Eh{constructor(e,r,a,l=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Zo extends Eh{constructor(e,r,a,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zE(i){const e=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const a=i.data.field(r);e.set(r,a)}})),e}function S_(i,e,r){const a=new Map;Sn(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let l=0;l<r.length;l++){const c=i[l],p=c.transform,b=e.data.field(c.field);a.set(c.field,zR(p,b,r[l]))}return a}function C_(i,e,r){const a=new Map;for(const l of i){const c=l.transform,p=r.data.field(l.field);a.set(l.field,UR(c,p,e))}return a}class BE extends Eh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qR extends Eh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GR{constructor(e,r,a,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&FR(c,e,a[l])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=ec(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=ec(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=OE();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=r.has(l.key)?null:b;const w=UE(p,b);w!==null&&a.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(Rt.min())})),a}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Jt())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,((r,a)=>A_(r,a)))&&$l(this.baseMutations,e.baseMutations,((r,a)=>A_(r,a)))}}class Dp{constructor(e,r,a,l){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(e,r,a){Sn(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return DR})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,a[p].version);return new Dp(e,r,a,l)}}class YR{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WR{constructor(e,r){this.count=e,this.unchangedNames=r}}var vr,an;function XR(i){switch(i){case Re.OK:return wt(64938);case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return wt(15467,{code:i})}}function jE(i){if(i===void 0)return Ds("GRPC error has no .code"),Re.UNKNOWN;switch(i){case vr.OK:return Re.OK;case vr.CANCELLED:return Re.CANCELLED;case vr.UNKNOWN:return Re.UNKNOWN;case vr.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case vr.INTERNAL:return Re.INTERNAL;case vr.UNAVAILABLE:return Re.UNAVAILABLE;case vr.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case vr.NOT_FOUND:return Re.NOT_FOUND;case vr.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case vr.ABORTED:return Re.ABORTED;case vr.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case vr.DATA_LOSS:return Re.DATA_LOSS;default:return wt(39323,{code:i})}}(an=vr||(vr={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";function $R(){return new TextEncoder}const KR=new _o([4294967295,4294967295],0);function R_(i){const e=$R().encode(i),r=new eE;return r.update(e),new Uint8Array(r.digest())}function I_(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new _o([r,a],0),new _o([l,c],0)]}class kp{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Xu(`Invalid padding: ${r}`);if(a<0)throw new Xu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${a}`);if(e.length===0&&r!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=_o.fromNumber(this.ge)}ye(e,r,a){let l=e.add(r.multiply(_o.fromNumber(a)));return l.compare(KR)===1&&(l=new _o([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=R_(e),[a,l]=I_(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);if(!this.we(p))return!1}return!0}static create(e,r,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new kp(c,l,r);return a.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const r=R_(e),[a,l]=I_(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);this.Se(p)}}Se(e){const r=Math.floor(e/8),a=e%8;this.bitmap[r]|=1<<a}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,r,a,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const l=new Map;return l.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new wh(Rt.min(),l,new Xn(Qt),ks(),Jt())}}class bc{constructor(e,r,a,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new bc(a,r,Jt(),Jt(),Jt())}}class jf{constructor(e,r,a,l){this.be=e,this.removedTargetIds=r,this.key=a,this.De=l}}class FE{constructor(e,r){this.targetId=e,this.Ce=r}}class HE{constructor(e,r,a=Zr.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=l}}class x_{constructor(){this.ve=0,this.Fe=N_(),this.Me=Zr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Jt(),r=Jt(),a=Jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:wt(38017,{changeType:c})}})),new bc(this.Me,this.xe,e,r,a)}qe(){this.Oe=!1,this.Fe=N_()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Sn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=xf(),this.He=xf(),this.Ye=new Xn(Qt)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const a=this.nt(r);switch(e.state){case 0:this.rt(r)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),a.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((a,l)=>{this.rt(l)&&r(l)}))}st(e){const r=e.targetId,a=e.Ce.count,l=this.ot(r);if(l){const c=l.target;if(Zm(c))if(a===0){const p=new gt(c.path);this.et(r,p,yi.newNoDocument(p,Rt.min()))}else Sn(a===1,20013,{expectedCount:a});else{const p=this._t(r);if(p!==a){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(r);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,E)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=r;let p,b;try{p=Ao(a).toUint8Array()}catch(w){if(w instanceof hE)return Xl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new kp(p,l,c)}catch(w){return Xl(w instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,r,a){return r.Ce.count===a-this.Pt(e,r.targetId)?0:2}Pt(e,r){const a=this.Ge.getRemoteKeysForTarget(r);let l=0;return a.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(r,c,null),l++)})),l}Tt(e){const r=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Zm(b.target)){const w=new gt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,yi.newNoDocument(w,e))}c.Be&&(r.set(p,c.ke()),c.qe())}}));let a=Jt();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new wh(e,r,this.Ye,this.je,a);return this.je=ks(),this.Je=xf(),this.He=xf(),this.Ye=new Xn(Qt),l}Xe(e,r){if(!this.rt(e))return;const a=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,a),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),a&&(this.je=this.je.insert(r,a))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new x_,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new xr(Qt),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new xr(Qt),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||rt("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x_),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function xf(){return new Xn(gt.comparator)}function N_(){return new Xn(gt.comparator)}const JR={asc:"ASCENDING",desc:"DESCENDING"},ZR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eI={and:"AND",or:"OR"};class tI{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function tp(i,e){return i.useProto3Json||gh(e)?e:{value:e}}function ah(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function nI(i,e){return ah(i,e.toTimestamp())}function es(i){return Sn(!!i,49232),Rt.fromTimestamp((function(r){const a=To(r);return new Hn(a.seconds,a.nanos)})(i))}function Vp(i,e){return np(i,e).canonicalString()}function np(i,e){const r=(function(l){return new Ln(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?r:r.child(e)}function GE(i){const e=Ln.fromString(i);return Sn(KE(e),10190,{key:e.toString()}),e}function rp(i,e){return Vp(i.databaseId,e.path)}function Nm(i,e){const r=GE(e);if(r.get(1)!==i.databaseId.projectId)throw new Ze(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ze(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new gt(WE(r))}function YE(i,e){return Vp(i.databaseId,e)}function rI(i){const e=GE(i);return e.length===4?Ln.emptyPath():WE(e)}function ip(i){return new Ln(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function WE(i){return Sn(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function M_(i,e,r){return{name:rp(i,e),fields:r.value.mapValue.fields}}function iI(i,e){let r;if("targetChange"in e){e.targetChange;const a=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:wt(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,N){return E.useProto3Json?(Sn(N===void 0||typeof N=="string",58123),Zr.fromBase64String(N||"")):(Sn(N===void 0||N instanceof Buffer||N instanceof Uint8Array,16193),Zr.fromUint8Array(N||new Uint8Array))})(i,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const N=E.code===void 0?Re.UNKNOWN:jE(E.code);return new Ze(N,E.message||"")})(p);r=new HE(a,l,c,b||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Nm(i,a.document.name),c=es(a.document.updateTime),p=a.document.createTime?es(a.document.createTime):Rt.min(),b=new _a({mapValue:{fields:a.document.fields}}),w=yi.newFoundDocument(l,c,p,b),E=a.targetIds||[],N=a.removedTargetIds||[];r=new jf(E,N,w.key,w)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Nm(i,a.document),c=a.readTime?es(a.readTime):Rt.min(),p=yi.newNoDocument(l,c),b=a.removedTargetIds||[];r=new jf([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Nm(i,a.document),c=a.removedTargetIds||[];r=new jf([],c,l,null)}else{if(!("filter"in e))return wt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,p=new WR(l,c),b=a.targetId;r=new FE(b,p)}}return r}function aI(i,e){let r;if(e instanceof _c)r={update:M_(i,e.key,e.value)};else if(e instanceof BE)r={delete:rp(i,e.key)};else if(e instanceof Zo)r={update:M_(i,e.key,e.data),updateMask:mI(e.fieldMask)};else{if(!(e instanceof qR))return wt(16599,{Vt:e.type});r={verify:rp(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((a=>(function(c,p){const b=p.transform;if(b instanceof rh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof uc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof cc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof ih)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw wt(20930,{transform:p.transform})})(0,a)))),e.precondition.isNone||(r.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:nI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:wt(27497)})(i,e.precondition)),r}function sI(i,e){return i&&i.length>0?(Sn(e!==void 0,14353),i.map((r=>(function(l,c){let p=l.updateTime?es(l.updateTime):es(c);return p.isEqual(Rt.min())&&(p=es(c)),new jR(p,l.transformResults||[])})(r,e)))):[]}function oI(i,e){return{documents:[YE(i,e.path)]}}function lI(i,e){const r={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=YE(i,l);const c=(function(E){if(E.length!==0)return $E(Pa.create(E,"and"))})(e.filters);c&&(r.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((N=>(function(G){return{field:Ol(G.field),direction:fI(G.dir)}})(N)))})(e.orderBy);p&&(r.structuredQuery.orderBy=p);const b=tp(i,e.limit);return b!==null&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:r,parent:l}}function uI(i){let e=rI(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Sn(a===1,65062);const N=r.from[0];N.allDescendants?l=N.collectionId:e=e.child(N.collectionId)}let c=[];r.where&&(c=(function(k){const G=XE(k);return G instanceof Pa&&wE(G)?G.getFilters():[G]})(r.where));let p=[];r.orderBy&&(p=(function(k){return k.map((G=>(function(B){return new lc(Dl(B.field),(function(be){switch(be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(G)))})(r.orderBy));let b=null;r.limit&&(b=(function(k){let G;return G=typeof k=="object"?k.value:k,gh(G)?null:G})(r.limit));let w=null;r.startAt&&(w=(function(k){const G=!!k.before,ae=k.values||[];return new th(ae,G)})(r.startAt));let E=null;return r.endAt&&(E=(function(k){const G=!k.before,ae=k.values||[];return new th(ae,G)})(r.endAt)),IR(e,l,p,c,b,"F",w,E)}function cI(i,e){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:l})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function XE(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Dl(r.unaryFilter.field);return br.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Dl(r.unaryFilter.field);return br.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Dl(r.unaryFilter.field);return br.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Dl(r.unaryFilter.field);return br.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(i):i.fieldFilter!==void 0?(function(r){return br.create(Dl(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return Pa.create(r.compositeFilter.filters.map((a=>XE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(r.compositeFilter.op))})(i):wt(30097,{filter:i})}function fI(i){return JR[i]}function hI(i){return ZR[i]}function dI(i){return eI[i]}function Ol(i){return{fieldPath:i.canonicalString()}}function Dl(i){return Jr.fromServerFormat(i.fieldPath)}function $E(i){return i instanceof br?(function(r){if(r.op==="=="){if(v_(r.value))return{unaryFilter:{field:Ol(r.field),op:"IS_NAN"}};if(y_(r.value))return{unaryFilter:{field:Ol(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(v_(r.value))return{unaryFilter:{field:Ol(r.field),op:"IS_NOT_NAN"}};if(y_(r.value))return{unaryFilter:{field:Ol(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(r.field),op:hI(r.op),value:r.value}}})(i):i instanceof Pa?(function(r){const a=r.getFilters().map((l=>$E(l)));return a.length===1?a[0]:{compositeFilter:{op:dI(r.op),filters:a}}})(i):wt(54877,{filter:i})}function mI(i){const e=[];return i.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function KE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class po{constructor(e,r,a,l,c=Rt.min(),p=Rt.min(),b=Zr.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pI{constructor(e){this.yt=e}}function gI(i){const e=uI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?nh(e,e.limit,"L"):e}class yI{constructor(){this.Cn=new vI}addToCollectionParentIndex(e,r){return this.Cn.add(r),Ne.resolve()}getCollectionParents(e,r){return Ne.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Ne.resolve()}deleteFieldIndex(e,r){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,r){return Ne.resolve()}getDocumentsMatchingTarget(e,r){return Ne.resolve(null)}getIndexType(e,r){return Ne.resolve(0)}getFieldIndexes(e,r){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,r){return Ne.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,r){return Ne.resolve(wo.min())}updateCollectionGroup(e,r,a){return Ne.resolve()}updateIndexEntries(e,r){return Ne.resolve()}}class vI{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r]||new xr(Ln.comparator),c=!l.has(a);return this.index[r]=l.add(a),c}has(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(e){return(this.index[e]||new xr(Ln.comparator)).toArray()}}const O_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QE=41943040;class Hi{static withCacheSize(e){return new Hi(e,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(QE,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);class Jl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jl(0)}static cr(){return new Jl(-1)}}const D_="LruGarbageCollector",_I=1048576;function k_([i,e],[r,a]){const l=Qt(i,r);return l===0?Qt(e,a):l}class bI{constructor(e){this.Ir=e,this.buffer=new xr(k_),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();k_(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class EI{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(D_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){au(r)?rt(D_,"Ignoring IndexedDB error during garbage collection: ",r):await iu(r)}await this.Vr(3e5)}))}}class wI{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((a=>Math.floor(r/100*a)))}nthSequenceNumber(e,r){if(r===0)return Ne.resolve(ph.ce);const a=new bI(r);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,r,a){return this.mr.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(O_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O_):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let a,l,c,p,b,w,E;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((k=>(k>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),l=this.params.maximumSequenceNumbersToCollect):l=k,p=Date.now(),this.nthSequenceNumber(e,l)))).next((k=>(a=k,b=Date.now(),this.removeTargets(e,a,r)))).next((k=>(c=k,w=Date.now(),this.removeOrphanedDocuments(e,a)))).next((k=>(E=Date.now(),Nl()<=Kt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-N}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${k} documents in `+(E-w)+`ms
Total Duration: ${E-N}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:k}))))}}function TI(i,e){return new wI(i,e)}class AI{constructor(){this.changes=new Jo((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,yi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?Ne.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class SI{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class CI{constructor(e,r,a,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,r)))).next((l=>(a!==null&&ec(a.mutation,l,Va.empty(),Hn.now()),l)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.getLocalViewOfDocuments(e,a,Jt()).next((()=>a))))}getLocalViewOfDocuments(e,r,a=Jt()){const l=Go();return this.populateOverlays(e,l,r).next((()=>this.computeViews(e,r,l,a).next((c=>{let p=Wu();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,r){const a=Go();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,Jt())))}populateOverlays(e,r,a){const l=[];return a.forEach((c=>{r.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{r.set(p,b)}))}))}computeViews(e,r,a,l){let c=ks();const p=Zu(),b=(function(){return Zu()})();return r.forEach(((w,E)=>{const N=a.get(E.key);l.has(E.key)&&(N===void 0||N.mutation instanceof Zo)?c=c.insert(E.key,E):N!==void 0?(p.set(E.key,N.mutation.getFieldMask()),ec(N.mutation,E,N.mutation.getFieldMask(),Hn.now())):p.set(E.key,Va.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,N)=>p.set(E,N))),r.forEach(((E,N)=>b.set(E,new SI(N,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,r){const a=Zu();let l=new Xn(((p,b)=>p-b)),c=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=r.get(w);if(E===null)return;let N=a.get(w)||Va.empty();N=b.applyToLocalView(E,N),a.set(w,N);const k=(l.get(b.batchId)||Jt()).add(w);l=l.insert(b.batchId,k)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,N=w.value,k=OE();N.forEach((G=>{if(!c.has(G)){const ae=UE(r.get(G),a.get(G));ae!==null&&k.set(G,ae),c=c.add(G)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,k))}return Ne.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,r,a,l){return(function(p){return gt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):RE(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,l):this.getDocumentsMatchingCollectionQuery(e,r,a,l)}getNextDocuments(e,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,l-c.size):Ne.resolve(Go());let b=ic,w=c;return p.next((E=>Ne.forEach(E,((N,k)=>(b<k.largestBatchId&&(b=k.largestBatchId),c.get(N)?Ne.resolve():this.remoteDocumentCache.getEntry(e,N).next((G=>{w=w.insert(N,G)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,Jt()))).next((N=>({batchId:b,changes:ME(N)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new gt(r)).next((a=>{let l=Wu();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,r,a,l){const c=r.collectionGroup;let p=Wu();return this.indexManager.getCollectionParents(e,c).next((b=>Ne.forEach(b,(w=>{const E=(function(k,G){return new su(G,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)})(r,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,a,l).next((N=>{N.forEach(((k,G)=>{p=p.insert(k,G)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,r,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,c,l)))).next((p=>{c.forEach(((w,E)=>{const N=E.getKey();p.get(N)===null&&(p=p.insert(N,yi.newInvalidDocument(N)))}));let b=Wu();return p.forEach(((w,E)=>{const N=c.get(w);N!==void 0&&ec(N.mutation,E,Va.empty(),Hn.now()),_h(r,E)&&(b=b.insert(w,E))})),b}))}}class RI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Ne.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:es(l.createTime)}})(r)),Ne.resolve()}getNamedQuery(e,r){return Ne.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:gI(l.bundledQuery),readTime:es(l.readTime)}})(r)),Ne.resolve()}}class II{constructor(){this.overlays=new Xn(gt.comparator),this.qr=new Map}getOverlay(e,r){return Ne.resolve(this.overlays.get(r))}getOverlays(e,r){const a=Go();return Ne.forEach(r,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,r,a){return a.forEach(((l,c)=>{this.St(e,r,c)})),Ne.resolve()}removeOverlaysForBatchId(e,r,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Ne.resolve()}getOverlaysForCollection(e,r,a){const l=Go(),c=r.length+1,p=new gt(r.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>a&&l.set(w.getKey(),w)}return Ne.resolve(l)}getOverlaysForCollectionGroup(e,r,a,l){let c=new Xn(((E,N)=>E-N));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>a){let N=c.get(E.largestBatchId);N===null&&(N=Go(),c=c.insert(E.largestBatchId,N)),N.set(E.getKey(),E)}}const b=Go(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,N)=>b.set(E,N))),!(b.size()>=l)););return Ne.resolve(b)}St(e,r,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new YR(r,a));let c=this.qr.get(r);c===void 0&&(c=Jt(),this.qr.set(r,c)),this.qr.set(r,c.add(a.key))}}class xI{constructor(){this.sessionToken=Zr.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ne.resolve()}}class Pp{constructor(){this.Qr=new xr(Lr.$r),this.Ur=new xr(Lr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const a=new Lr(e,r);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,r){e.forEach((a=>this.addReference(a,r)))}removeReference(e,r){this.Gr(new Lr(e,r))}zr(e,r){e.forEach((a=>this.removeReference(a,r)))}jr(e){const r=new gt(new Ln([])),a=new Lr(r,e),l=new Lr(r,e+1),c=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new gt(new Ln([])),a=new Lr(r,e),l=new Lr(r,e+1);let c=Jt();return this.Ur.forEachInRange([a,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const r=new Lr(e,0),a=this.Qr.firstAfterOrEqual(r);return a!==null&&e.isEqual(a.key)}}class Lr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return gt.comparator(e.key,r.key)||Qt(e.Yr,r.Yr)}static Kr(e,r){return Qt(e.Yr,r.Yr)||gt.comparator(e.key,r.key)}}class NI{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new xr(Lr.$r)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new GR(c,r,a,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Lr(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Ne.resolve(p)}lookupMutationBatch(e,r){return Ne.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const a=r+1,l=this.ei(a),c=l<0?0:l;return Ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?Rp:this.tr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Lr(r,0),l=new Lr(r,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new xr(Qt);return r.forEach((l=>{const c=new Lr(l,0),p=new Lr(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{a=a.add(b.Yr)}))})),Ne.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const p=new Lr(new gt(c),0);let b=new xr(Qt);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!a.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Ne.resolve(this.ti(b))}ti(e){const r=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&r.push(l)})),r}removeMutationBatch(e,r){Sn(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Ne.forEach(r.mutations,(l=>{const c=new Lr(l.key,r.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,r){const a=new Lr(r,0),l=this.Zr.firstAfterOrEqual(a);return Ne.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class MI{constructor(e){this.ri=e,this.docs=(function(){return new Xn(gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,l=this.docs.get(a),c=l?l.size:0,p=this.ri(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return Ne.resolve(a?a.document.mutableCopy():yi.newInvalidDocument(r))}getEntries(e,r){let a=ks();return r.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():yi.newInvalidDocument(l))})),Ne.resolve(a)}getDocumentsMatchingQuery(e,r,a,l){let c=ks();const p=r.path,b=new gt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:N}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||sR(aR(N),a)<=0||(l.has(N.key)||_h(r,N))&&(c=c.insert(N.key,N.mutableCopy()))}return Ne.resolve(c)}getAllFromCollectionGroup(e,r,a,l){wt(9500)}ii(e,r){return Ne.forEach(this.docs,(a=>r(a)))}newChangeBuffer(e){return new OI(this)}getSize(e){return Ne.resolve(this.size)}}class OI extends AI{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Ne.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}class DI{constructor(e){this.persistence=e,this.si=new Jo((r=>Np(r)),Mp),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pp,this.targetCount=0,this.ai=Jl.ur()}forEachTarget(e,r){return this.si.forEach(((a,l)=>r(l))),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.oi&&(this.oi=r),Ne.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Jl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Ne.resolve()}updateTargetData(e,r){return this.Pr(r),Ne.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,r,a){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=r&&a.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Ne.waitFor(c).next((()=>l))}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,r){const a=this.si.get(r)||null;return Ne.resolve(a)}addMatchingKeys(e,r,a){return this._i.Wr(r,a),Ne.resolve()}removeMatchingKeys(e,r,a){this._i.zr(r,a);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Ne.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Ne.resolve()}getMatchingKeysForTargetId(e,r){const a=this._i.Hr(r);return Ne.resolve(a)}containsKey(e,r){return Ne.resolve(this._i.containsKey(r))}}class JE{constructor(e,r){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new xI,this.referenceDelegate=e(this),this.Pi=new DI(this),this.indexManager=new yI,this.remoteDocumentCache=(function(l){return new MI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new pI(r),this.Ii=new RI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new II,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.ui[e.toKey()];return a||(a=new NI(r,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,a){rt("MemoryPersistence","Starting transaction:",e);const l=new kI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,r){return Ne.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,r))))}}class kI extends lR{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new Pp,this.Vi=null}static mi(e){return new Lp(e)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(e,r,a){return this.Ri.addReference(a,r),this.fi.delete(a.toString()),Ne.resolve()}removeReference(e,r,a){return this.Ri.removeReference(a,r),this.fi.add(a.toString()),Ne.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Ne.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(e,l).next((c=>{c||r.removeEntry(l,Rt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((a=>{a?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return Ne.or([()=>Ne.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class sh{constructor(e,r){this.persistence=e,this.pi=new Jo((a=>fR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=TI(this,r)}static mi(e,r){return new sh(e,r)}Ei(){}di(e){return Ne.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>r.next((l=>a+l))))}wr(e){let r=0;return this.pr(e,(a=>{r++})).next((()=>r))}pr(e,r){return Ne.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?Ne.resolve():r(l)))))}removeTargets(e,r,a){return this.persistence.getTargetCache().removeTargets(e,r,a)}removeOrphanedDocuments(e,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,r).next((b=>{b||(a++,c.removeEntry(p,Rt.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Ne.resolve()}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),Ne.resolve()}removeReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),Ne.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Ne.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Uf(e.data.value)),r}br(e,r,a){return Ne.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const l=this.pi.get(r);return Ne.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Up{constructor(e,r,a,l){this.targetId=e,this.fromCache=r,this.Es=a,this.ds=l}static As(e,r){let a=Jt(),l=Jt();for(const c of r.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Up(e,r.fromCache,a,l)}}class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class PI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AA()?8:uR(vi())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,a,l){const c={result:null};return this.ys(e,r).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,r,l,a).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new VI;return this.Ss(e,r,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,r,p,b.size)}))})).next((()=>c.result))}bs(e,r,a,l){return a.documentReadCount<this.fs?(Nl()<=Kt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ml(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ne.resolve()):(Nl()<=Kt.DEBUG&&rt("QueryEngine","Query:",Ml(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Nl()<=Kt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ml(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Za(r))):Ne.resolve())}ys(e,r){if(w_(r))return Ne.resolve(null);let a=Za(r);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=nh(r,null,"F"),a=Za(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const p=Jt(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,a).next((w=>{const E=this.Ds(r,b);return this.Cs(r,E,p,w.readTime)?this.ys(e,nh(r,null,"F")):this.vs(e,E,r,w)}))))})))))}ws(e,r,a,l){return w_(r)||l.isEqual(Rt.min())?Ne.resolve(null):this.ps.getDocuments(e,a).next((c=>{const p=this.Ds(r,c);return this.Cs(r,p,a,l)?Ne.resolve(null):(Nl()<=Kt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ml(r)),this.vs(e,p,r,iR(l,ic)).next((b=>b)))}))}Ds(e,r){let a=new xr(xE(e));return r.forEach(((l,c)=>{_h(e,c)&&(a=a.add(c))})),a}Cs(e,r,a,l){if(e.limit===null)return!1;if(a.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,r,a){return Nl()<=Kt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ml(r)),this.ps.getDocumentsMatchingQuery(e,r,wo.min(),a)}vs(e,r,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(r.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const zp="LocalStore",LI=3e8;class UI{constructor(e,r,a,l){this.persistence=e,this.Fs=r,this.serializer=l,this.Ms=new Xn(Qt),this.xs=new Jo((c=>Np(c)),Mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function zI(i,e,r,a){return new UI(i,e,r,a)}async function ZE(i,e){const r=xt(i);return await r.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,r.Bs(e),r.mutationQueue.getAllMutationBatches(a)))).next((c=>{const p=[],b=[];let w=Jt();for(const E of l){p.push(E.batchId);for(const N of E.mutations)w=w.add(N.key)}for(const E of c){b.push(E.batchId);for(const N of E.mutations)w=w.add(N.key)}return r.localDocuments.getDocuments(a,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function BI(i,e){const r=xt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,N){const k=E.batch,G=k.keys();let ae=Ne.resolve();return G.forEach((B=>{ae=ae.next((()=>N.getEntry(w,B))).next((Ie=>{const be=E.docVersions.get(B);Sn(be!==null,48541),Ie.version.compareTo(be)<0&&(k.applyToRemoteDocument(Ie,E),Ie.isValidDocument()&&(Ie.setReadTime(E.commitVersion),N.addEntry(Ie)))}))})),ae.next((()=>b.mutationQueue.removeMutationBatch(w,k)))})(r,a,e,c).next((()=>c.apply(a))).next((()=>r.mutationQueue.performConsistencyCheck(a))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let w=Jt();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>r.localDocuments.getDocuments(a,l)))}))}function e1(i){const e=xt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function jI(i,e){const r=xt(i),a=e.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const b=[];e.targetChanges.forEach(((N,k)=>{const G=l.get(k);if(!G)return;b.push(r.Pi.removeMatchingKeys(c,N.removedDocuments,k).next((()=>r.Pi.addMatchingKeys(c,N.addedDocuments,k))));let ae=G.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(k)!==null?ae=ae.withResumeToken(Zr.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):N.resumeToken.approximateByteSize()>0&&(ae=ae.withResumeToken(N.resumeToken,a)),l=l.insert(k,ae),(function(Ie,be,Ue){return Ie.resumeToken.approximateByteSize()===0||be.snapshotVersion.toMicroseconds()-Ie.snapshotVersion.toMicroseconds()>=LI?!0:Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0})(G,ae,N)&&b.push(r.Pi.updateTargetData(c,ae))}));let w=ks(),E=Jt();if(e.documentUpdates.forEach((N=>{e.resolvedLimboDocuments.has(N)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(c,N))})),b.push(FI(c,p,e.documentUpdates).next((N=>{w=N.ks,E=N.qs}))),!a.isEqual(Rt.min())){const N=r.Pi.getLastRemoteSnapshotVersion(c).next((k=>r.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));b.push(N)}return Ne.waitFor(b).next((()=>p.apply(c))).next((()=>r.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(r.Ms=l,c)))}function FI(i,e,r){let a=Jt(),l=Jt();return r.forEach((c=>a=a.add(c))),e.getEntries(i,a).next((c=>{let p=ks();return r.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(Rt.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):rt(zp,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function HI(i,e){const r=xt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Rp),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function qI(i,e){const r=xt(i);return r.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return r.Pi.getTargetData(a,e).next((c=>c?(l=c,Ne.resolve(l)):r.Pi.allocateTargetId(a).next((p=>(l=new po(e,p,"TargetPurposeListen",a.currentSequenceNumber),r.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=r.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(a.targetId,a),r.xs.set(e,a.targetId)),a}))}async function ap(i,e,r){const a=xt(i),l=a.Ms.get(e),c=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",c,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!au(p))throw p;rt(zp,`Failed to update sequence numbers for target ${e}: ${p}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function V_(i,e,r){const a=xt(i);let l=Rt.min(),c=Jt();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,N){const k=xt(w),G=k.xs.get(N);return G!==void 0?Ne.resolve(k.Ms.get(G)):k.Pi.getTargetData(E,N)})(a,p,Za(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,e,r?l:Rt.min(),r?c:Jt()))).next((b=>(GI(a,NR(e),b),{documents:b,Qs:c})))))}function GI(i,e,r){let a=i.Os.get(e)||Rt.min();r.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),i.Os.set(e,a)}class P_{constructor(){this.activeTargetIds=PR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YI{constructor(){this.Mo=new P_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,a){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new P_,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WI{Oo(e){}shutdown(){}}const L_="ConnectivityMonitor";class U_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(L_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(L_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nf=null;function sp(){return Nf===null?Nf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nf++,"0x"+Nf.toString(16)}const Mm="RestConnection",XI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $I{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Zf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,r,a,l,c){const p=sp(),b=this.zo(e,r.toUriEncodedString());rt(Mm,`Sending RPC '${e}' ${p}:`,b,a);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),N=eu(E);return this.Jo(e,b,w,a,N).then((k=>(rt(Mm,`Received RPC '${e}' ${p}: `,k),k)),(k=>{throw Xl(Mm,`RPC '${e}' ${p} failed with error: `,k,"url: ",b,"request:",a),k}))}Ho(e,r,a,l,c,p){return this.Go(e,r,a,l,c)}jo(e,r,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ru})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,r){const a=XI[e];return`${this.Uo}/v1/${r}:${a}`}terminate(){}}class KI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pi="WebChannelConnection";class QI extends $I{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,a,l,c){const p=sp();return new Promise(((b,w)=>{const E=new tE;E.setWithCredentials(!0),E.listenOnce(nE.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Lf.NO_ERROR:const k=E.getResponseJson();rt(pi,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(k)),b(k);break;case Lf.TIMEOUT:rt(pi,`RPC '${e}' ${p} timed out`),w(new Ze(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const G=E.getStatus();if(rt(pi,`RPC '${e}' ${p} failed with status:`,G,"response text:",E.getResponseText()),G>0){let ae=E.getResponseJson();Array.isArray(ae)&&(ae=ae[0]);const B=ae?.error;if(B&&B.status&&B.message){const Ie=(function(Ue){const V=Ue.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(V)>=0?V:Re.UNKNOWN})(B.status);w(new Ze(Ie,B.message))}else w(new Ze(Re.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new Ze(Re.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{rt(pi,`RPC '${e}' ${p} completed.`)}}));const N=JSON.stringify(l);rt(pi,`RPC '${e}' ${p} sending request:`,l),E.send(r,"POST",N,a,15)}))}T_(e,r,a){const l=sp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=aE(),b=iE(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,r,a),w.encodeInitMessageHeaders=!0;const N=c.join("");rt(pi,`Creating RPC '${e}' stream ${l}: ${N}`,w);const k=p.createWebChannel(N,w);this.I_(k);let G=!1,ae=!1;const B=new KI({Yo:be=>{ae?rt(pi,`Not sending because RPC '${e}' stream ${l} is closed:`,be):(G||(rt(pi,`Opening RPC '${e}' stream ${l} transport.`),k.open(),G=!0),rt(pi,`RPC '${e}' stream ${l} sending:`,be),k.send(be))},Zo:()=>k.close()}),Ie=(be,Ue,V)=>{be.listen(Ue,(Le=>{try{V(Le)}catch(Xe){setTimeout((()=>{throw Xe}),0)}}))};return Ie(k,Yu.EventType.OPEN,(()=>{ae||(rt(pi,`RPC '${e}' stream ${l} transport opened.`),B.o_())})),Ie(k,Yu.EventType.CLOSE,(()=>{ae||(ae=!0,rt(pi,`RPC '${e}' stream ${l} transport closed`),B.a_(),this.E_(k))})),Ie(k,Yu.EventType.ERROR,(be=>{ae||(ae=!0,Xl(pi,`RPC '${e}' stream ${l} transport errored. Name:`,be.name,"Message:",be.message),B.a_(new Ze(Re.UNAVAILABLE,"The operation could not be completed")))})),Ie(k,Yu.EventType.MESSAGE,(be=>{if(!ae){const Ue=be.data[0];Sn(!!Ue,16349);const V=Ue,Le=V?.error||V[0]?.error;if(Le){rt(pi,`RPC '${e}' stream ${l} received error:`,Le);const Xe=Le.status;let tt=(function(F){const L=vr[F];if(L!==void 0)return jE(L)})(Xe),st=Le.message;tt===void 0&&(tt=Re.INTERNAL,st="Unknown error status: "+Xe+" with message "+Le.message),ae=!0,B.a_(new Ze(tt,st)),k.close()}else rt(pi,`RPC '${e}' stream ${l} received:`,Ue),B.u_(Ue)}})),Ie(b,rE.STAT_EVENT,(be=>{be.stat===Xm.PROXY?rt(pi,`RPC '${e}' stream ${l} detected buffering proxy`):be.stat===Xm.NOPROXY&&rt(pi,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function Om(){return typeof document<"u"?document:null}function Th(i){return new tI(i,!0)}class t1{constructor(e,r,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=r,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const z_="PersistentStream";class n1{constructor(e,r,a,l,c,p,b,w){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t1(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Re.RESOURCE_EXHAUSTED?(Ds(r.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===r&&this.G_(a,l)}),(a=>{e((()=>{const l=new Ze(Re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,r){const a=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(rt(z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JI extends n1{constructor(e,r,a,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=iI(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Rt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Rt.min():p.readTime?es(p.readTime):Rt.min()})(e);return this.listener.H_(r,a)}Y_(e){const r={};r.database=ip(this.serializer),r.addTarget=(function(c,p){let b;const w=p.target;if(b=Zm(w)?{documents:oI(c,w)}:{query:lI(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=qE(c,p.resumeToken);const E=tp(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(Rt.min())>0){b.readTime=ah(c,p.snapshotVersion.toTimestamp());const E=tp(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const a=cI(this.serializer,e);a&&(r.labels=a),this.q_(r)}Z_(e){const r={};r.database=ip(this.serializer),r.removeTarget=e,this.q_(r)}}class ZI extends n1{constructor(e,r,a,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Sn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Sn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Sn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=sI(e.writeResults,e.commitTime),a=es(e.commitTime);return this.listener.na(a,r)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((a=>aI(this.serializer,a)))};this.q_(r)}}class ex{}class tx extends ex{constructor(e,r,a,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ze(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,np(r,a),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ze(Re.UNKNOWN,c.toString())}))}Ho(e,r,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,np(r,a),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ze(Re.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nx{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(r),this.aa=!1):rt("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ko="RemoteStore";class rx{constructor(e,r,a,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{el(this)&&(rt(Ko,"Restarting streams for network reachability change."),await(async function(w){const E=xt(w);E.Ea.add(4),await Ec(E),E.Ra.set("Unknown"),E.Ea.delete(4),await Ah(E)})(this))}))})),this.Ra=new nx(a,l)}}async function Ah(i){if(el(i))for(const e of i.da)await e(!0)}async function Ec(i){for(const e of i.da)await e(!1)}function r1(i,e){const r=xt(i);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Hp(r)?Fp(r):ou(r).O_()&&jp(r,e))}function Bp(i,e){const r=xt(i),a=ou(r);r.Ia.delete(e),a.O_()&&i1(r,e),r.Ia.size===0&&(a.O_()?a.L_():el(r)&&r.Ra.set("Unknown"))}function jp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ou(i).Y_(e)}function i1(i,e){i.Va.Ue(e),ou(i).Z_(e)}function Fp(i){i.Va=new QR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ou(i).start(),i.Ra.ua()}function Hp(i){return el(i)&&!ou(i).x_()&&i.Ia.size>0}function el(i){return xt(i).Ea.size===0}function a1(i){i.Va=void 0}async function ix(i){i.Ra.set("Online")}async function ax(i){i.Ia.forEach(((e,r)=>{jp(i,e)}))}async function sx(i,e){a1(i),Hp(i)?(i.Ra.ha(e),Fp(i)):i.Ra.set("Unknown")}async function ox(i,e,r){if(i.Ra.set("Online"),e instanceof HE&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(i,e)}catch(a){rt(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await oh(i,a)}else if(e instanceof jf?i.Va.Ze(e):e instanceof FE?i.Va.st(e):i.Va.tt(e),!r.isEqual(Rt.min()))try{const a=await e1(i.localStore);r.compareTo(a)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const N=c.Ia.get(E);N&&c.Ia.set(E,N.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const N=c.Ia.get(w);if(!N)return;c.Ia.set(w,N.withResumeToken(Zr.EMPTY_BYTE_STRING,N.snapshotVersion)),i1(c,w);const k=new po(N.target,w,E,N.sequenceNumber);jp(c,k)})),c.remoteSyncer.applyRemoteEvent(b)})(i,r)}catch(a){rt(Ko,"Failed to raise snapshot:",a),await oh(i,a)}}async function oh(i,e,r){if(!au(e))throw e;i.Ea.add(1),await Ec(i),i.Ra.set("Offline"),r||(r=()=>e1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{rt(Ko,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await Ah(i)}))}function s1(i,e){return e().catch((r=>oh(i,r,e)))}async function Sh(i){const e=xt(i),r=Co(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rp;for(;lx(e);)try{const l=await HI(e.localStore,a);if(l===null){e.Ta.length===0&&r.L_();break}a=l.batchId,ux(e,l)}catch(l){await oh(e,l)}o1(e)&&l1(e)}function lx(i){return el(i)&&i.Ta.length<10}function ux(i,e){i.Ta.push(e);const r=Co(i);r.O_()&&r.X_&&r.ea(e.mutations)}function o1(i){return el(i)&&!Co(i).x_()&&i.Ta.length>0}function l1(i){Co(i).start()}async function cx(i){Co(i).ra()}async function fx(i){const e=Co(i);for(const r of i.Ta)e.ea(r.mutations)}async function hx(i,e,r){const a=i.Ta.shift(),l=Dp.from(a,e,r);await s1(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await Sh(i)}async function dx(i,e){e&&Co(i).X_&&await(async function(a,l){if((function(p){return XR(p)&&p!==Re.ABORTED})(l.code)){const c=a.Ta.shift();Co(a).B_(),await s1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(i,e),o1(i)&&l1(i)}async function B_(i,e){const r=xt(i);r.asyncQueue.verifyOperationInProgress(),rt(Ko,"RemoteStore received new credentials");const a=el(r);r.Ea.add(3),await Ec(r),a&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Ah(r)}async function mx(i,e){const r=xt(i);e?(r.Ea.delete(2),await Ah(r)):e||(r.Ea.add(2),await Ec(r),r.Ra.set("Unknown"))}function ou(i){return i.ma||(i.ma=(function(r,a,l){const c=xt(r);return c.sa(),new JI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:ix.bind(null,i),t_:ax.bind(null,i),r_:sx.bind(null,i),H_:ox.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Hp(i)?Fp(i):i.Ra.set("Unknown")):(await i.ma.stop(),a1(i))}))),i.ma}function Co(i){return i.fa||(i.fa=(function(r,a,l){const c=xt(r);return c.sa(),new ZI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:cx.bind(null,i),r_:dx.bind(null,i),ta:fx.bind(null,i),na:hx.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Sh(i)):(await i.fa.stop(),i.Ta.length>0&&(rt(Ko,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class qp{constructor(e,r,a,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,l,c){const p=Date.now()+a,b=new qp(e,r,p,l,c);return b.start(a),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(i,e){if(Ds("AsyncQueue",`${e}: ${i}`),au(i))return new Ze(Re.UNAVAILABLE,`${e}: ${i}`);throw i}class Fl{static emptySet(e){return new Fl(e.comparator)}constructor(e){this.comparator=e?(r,a)=>e(r,a)||gt.comparator(r.key,a.key):(r,a)=>gt.comparator(r.key,a.key),this.keyedMap=Wu(),this.sortedSet=new Xn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,a)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const a=new Fl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class j_{constructor(){this.ga=new Xn(gt.comparator)}track(e){const r=e.doc.key,a=this.ga.get(r);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(r,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(r,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(r):e.type===1&&a.type===2?this.ga=this.ga.insert(r,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):wt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,a)=>{e.push(a)})),e}}class Zl{constructor(e,r,a,l,c,p,b,w,E){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,r,a,l,c){const p=[];return r.forEach((b=>{p.push({type:0,doc:b})})),new Zl(e,r,Fl.emptySet(r),p,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class px{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gx{constructor(){this.queries=F_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,a){const l=xt(r),c=l.queries;l.queries=F_(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(a)}))})(this,new Ze(Re.ABORTED,"Firestore shutting down"))}}function F_(){return new Jo((i=>IE(i)),vh)}async function yx(i,e){const r=xt(i);let a=3;const l=e.query;let c=r.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new px,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await r.onListen(l,!0);break;case 1:c.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const b=Gp(p,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(b)}r.queries.set(l,c),c.Sa.push(e),e.va(r.onlineState),c.wa&&e.Fa(c.wa)&&Yp(r)}async function vx(i,e){const r=xt(i),a=e.query;let l=3;const c=r.queries.get(a);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function _x(i,e){const r=xt(i);let a=!1;for(const l of e){const c=l.query,p=r.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(a=!0);p.wa=l}}a&&Yp(r)}function bx(i,e,r){const a=xt(i),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(r);a.queries.delete(e)}function Yp(i){i.Ca.forEach((e=>{e.next()}))}var op,H_;(H_=op||(op={})).Ma="default",H_.Cache="cache";class Ex{constructor(e,r,a){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Zl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const a=r!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==op.Cache}}class u1{constructor(e){this.key=e}}class c1{constructor(e){this.key=e}}class wx{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=xE(e),this.tu=new Fl(this.eu)}get nu(){return this.Ya}ru(e,r){const a=r?r.iu:new j_,l=r?r.tu:this.tu;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((N,k)=>{const G=l.get(N),ae=_h(this.query,k)?k:null,B=!!G&&this.mutatedKeys.has(G.key),Ie=!!ae&&(ae.hasLocalMutations||this.mutatedKeys.has(ae.key)&&ae.hasCommittedMutations);let be=!1;G&&ae?G.data.isEqual(ae.data)?B!==Ie&&(a.track({type:3,doc:ae}),be=!0):this.su(G,ae)||(a.track({type:2,doc:ae}),be=!0,(w&&this.eu(ae,w)>0||E&&this.eu(ae,E)<0)&&(b=!0)):!G&&ae?(a.track({type:0,doc:ae}),be=!0):G&&!ae&&(a.track({type:1,doc:G}),be=!0,(w||E)&&(b=!0)),be&&(ae?(p=p.add(ae),c=Ie?c.add(N):c.delete(N)):(p=p.delete(N),c=c.delete(N)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const N=this.query.limitType==="F"?p.last():p.first();p=p.delete(N.key),c=c.delete(N.key),a.track({type:1,doc:N})}return{tu:p,iu:a,Cs:b,mutatedKeys:c}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((N,k)=>(function(ae,B){const Ie=be=>{switch(be){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:be})}};return Ie(ae)-Ie(B)})(N.type,k.type)||this.eu(N.doc,k.doc))),this.ou(a),l=l??!1;const b=r&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Zl(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Jt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const r=[];return e.forEach((a=>{this.Xa.has(a)||r.push(new c1(a))})),this.Xa.forEach((a=>{e.has(a)||r.push(new u1(a))})),r}cu(e){this.Ya=e.Qs,this.Xa=Jt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wp="SyncEngine";class Tx{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Ax{constructor(e){this.key=e,this.hu=!1}}class Sx{constructor(e,r,a,l,c,p){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Jo((b=>IE(b)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new Xn(gt.comparator),this.Au=new Map,this.Ru=new Pp,this.Vu={},this.mu=new Map,this.fu=Jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Cx(i,e,r=!0){const a=g1(i);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await f1(a,e,r,!0),l}async function Rx(i,e){const r=g1(i);await f1(r,e,!0,!1)}async function f1(i,e,r,a){const l=await qI(i.localStore,Za(e)),c=l.targetId,p=i.sharedClientState.addLocalQueryTarget(c,r);let b;return a&&(b=await Ix(i,e,c,p==="current",l.resumeToken)),i.isPrimaryClient&&r&&r1(i.remoteStore,l),b}async function Ix(i,e,r,a,l){i.pu=(k,G,ae)=>(async function(Ie,be,Ue,V){let Le=be.view.ru(Ue);Le.Cs&&(Le=await V_(Ie.localStore,be.query,!1).then((({documents:W})=>be.view.ru(W,Le))));const Xe=V&&V.targetChanges.get(be.targetId),tt=V&&V.targetMismatches.get(be.targetId)!=null,st=be.view.applyChanges(Le,Ie.isPrimaryClient,Xe,tt);return G_(Ie,be.targetId,st.au),st.snapshot})(i,k,G,ae);const c=await V_(i.localStore,e,!0),p=new wx(e,c.Qs),b=p.ru(c.documents),w=bc.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",l),E=p.applyChanges(b,i.isPrimaryClient,w);G_(i,r,E.au);const N=new Tx(e,r,p);return i.Tu.set(e,N),i.Iu.has(r)?i.Iu.get(r).push(e):i.Iu.set(r,[e]),E.snapshot}async function xx(i,e,r){const a=xt(i),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((p=>!vh(p,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ap(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),r&&Bp(a.remoteStore,l.targetId),lp(a,l.targetId)})).catch(iu)):(lp(a,l.targetId),await ap(a.localStore,l.targetId,!0))}async function Nx(i,e){const r=xt(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Bp(r.remoteStore,a.targetId))}async function Mx(i,e,r){const a=Ux(i);try{const l=await(function(p,b){const w=xt(p),E=Hn.now(),N=b.reduce(((ae,B)=>ae.add(B.key)),Jt());let k,G;return w.persistence.runTransaction("Locally write mutations","readwrite",(ae=>{let B=ks(),Ie=Jt();return w.Ns.getEntries(ae,N).next((be=>{B=be,B.forEach(((Ue,V)=>{V.isValidDocument()||(Ie=Ie.add(Ue))}))})).next((()=>w.localDocuments.getOverlayedDocuments(ae,B))).next((be=>{k=be;const Ue=[];for(const V of b){const Le=HR(V,k.get(V.key).overlayedDocument);Le!=null&&Ue.push(new Zo(V.key,Le,_E(Le.value.mapValue),Is.exists(!0)))}return w.mutationQueue.addMutationBatch(ae,E,Ue,b)})).next((be=>{G=be;const Ue=be.applyToLocalDocumentSet(k,Ie);return w.documentOverlayCache.saveOverlays(ae,be.batchId,Ue)}))})).then((()=>({batchId:G.batchId,changes:ME(k)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new Xn(Qt)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(a,l.batchId,r),await wc(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=Gp(l,"Failed to persist write");r.reject(c)}}async function h1(i,e){const r=xt(i);try{const a=await jI(r.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=r.Au.get(c);p&&(Sn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Sn(p.hu,14607):l.removedDocuments.size>0&&(Sn(p.hu,42227),p.hu=!1))})),await wc(r,a,e)}catch(a){await iu(a)}}function q_(i,e,r){const a=xt(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=xt(p);w.onlineState=b;let E=!1;w.queries.forEach(((N,k)=>{for(const G of k.Sa)G.va(b)&&(E=!0)})),E&&Yp(w)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Ox(i,e,r){const a=xt(i);a.sharedClientState.updateQueryState(e,"rejected",r);const l=a.Au.get(e),c=l&&l.key;if(c){let p=new Xn(gt.comparator);p=p.insert(c,yi.newNoDocument(c,Rt.min()));const b=Jt().add(c),w=new wh(Rt.min(),new Map,new Xn(Qt),p,b);await h1(a,w),a.du=a.du.remove(c),a.Au.delete(e),Xp(a)}else await ap(a.localStore,e,!1).then((()=>lp(a,e,r))).catch(iu)}async function Dx(i,e){const r=xt(i),a=e.batch.batchId;try{const l=await BI(r.localStore,e);m1(r,a,null),d1(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await wc(r,l)}catch(l){await iu(l)}}async function kx(i,e,r){const a=xt(i);try{const l=await(function(p,b){const w=xt(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let N;return w.mutationQueue.lookupMutationBatch(E,b).next((k=>(Sn(k!==null,37113),N=k.keys(),w.mutationQueue.removeMutationBatch(E,k)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,N,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,N))).next((()=>w.localDocuments.getDocuments(E,N)))}))})(a.localStore,e);m1(a,e,r),d1(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),await wc(a,l)}catch(l){await iu(l)}}function d1(i,e){(i.mu.get(e)||[]).forEach((r=>{r.resolve()})),i.mu.delete(e)}function m1(i,e,r){const a=xt(i);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(r?c.reject(r):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function lp(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),r&&i.Pu.yu(a,r);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||p1(i,a)}))}function p1(i,e){i.Eu.delete(e.path.canonicalString());const r=i.du.get(e);r!==null&&(Bp(i.remoteStore,r),i.du=i.du.remove(e),i.Au.delete(r),Xp(i))}function G_(i,e,r){for(const a of r)a instanceof u1?(i.Ru.addReference(a.key,e),Vx(i,a)):a instanceof c1?(rt(Wp,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||p1(i,a.key)):wt(19791,{wu:a})}function Vx(i,e){const r=e.key,a=r.path.canonicalString();i.du.get(r)||i.Eu.has(a)||(rt(Wp,"New document in limbo: "+r),i.Eu.add(a),Xp(i))}function Xp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const r=new gt(Ln.fromString(e)),a=i.fu.next();i.Au.set(a,new Ax(r)),i.du=i.du.insert(r,a),r1(i.remoteStore,new po(Za(CE(r.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function wc(i,e,r){const a=xt(i),l=[],c=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,w)=>{p.push(a.pu(w,e,r).then((E=>{if((E||r)&&a.isPrimaryClient){const N=E?!E.fromCache:r?.targetChanges.get(w.targetId)?.current;a.sharedClientState.updateQueryState(w.targetId,N?"current":"not-current")}if(E){l.push(E);const N=Up.As(w.targetId,E);c.push(N)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(w,E){const N=xt(w);try{await N.persistence.runTransaction("notifyLocalViewChanges","readwrite",(k=>Ne.forEach(E,(G=>Ne.forEach(G.Es,(ae=>N.persistence.referenceDelegate.addReference(k,G.targetId,ae))).next((()=>Ne.forEach(G.ds,(ae=>N.persistence.referenceDelegate.removeReference(k,G.targetId,ae)))))))))}catch(k){if(!au(k))throw k;rt(zp,"Failed to update sequence numbers: "+k)}for(const k of E){const G=k.targetId;if(!k.fromCache){const ae=N.Ms.get(G),B=ae.snapshotVersion,Ie=ae.withLastLimboFreeSnapshotVersion(B);N.Ms=N.Ms.insert(G,Ie)}}})(a.localStore,c))}async function Px(i,e){const r=xt(i);if(!r.currentUser.isEqual(e)){rt(Wp,"User change. New user:",e.toKey());const a=await ZE(r.localStore,e);r.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new Ze(Re.CANCELLED,p))}))})),c.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await wc(r,a.Ls)}}function Lx(i,e){const r=xt(i),a=r.Au.get(e);if(a&&a.hu)return Jt().add(a.key);{let l=Jt();const c=r.Iu.get(e);if(!c)return l;for(const p of c){const b=r.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function g1(i){const e=xt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ox.bind(null,e),e.Pu.H_=_x.bind(null,e.eventManager),e.Pu.yu=bx.bind(null,e.eventManager),e}function Ux(i){const e=xt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kx.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return zI(this.persistence,new PI,e.initialUser,this.serializer)}Cu(e){return new JE(Lp.mi,this.serializer)}Du(e){return new YI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class zx extends lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Sn(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new EI(a,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Hi.withCacheSize(this.cacheSizeBytes):Hi.DEFAULT;return new JE((a=>sh.mi(a,r)),this.serializer)}}class up{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>q_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Px.bind(null,this.syncEngine),await mx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gx})()}createDatastore(e){const r=Th(e.databaseInfo.databaseId),a=(function(c){return new QI(c)})(e.databaseInfo);return(function(c,p,b,w){return new tx(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,a,r)}createRemoteStore(e){return(function(a,l,c,p,b){return new rx(a,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(r=>q_(this.syncEngine,r,0)),(function(){return U_.v()?new U_:new WI})())}createSyncEngine(e,r){return(function(l,c,p,b,w,E,N){const k=new Sx(l,c,p,b,w,E);return N&&(k.gu=!0),k})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const a=xt(r);rt(Ko,"RemoteStore shutting down."),a.Ea.add(5),await Ec(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}up.provider={build:()=>new up};class Bx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}const Ro="FirestoreClient";class jx{constructor(e,r,a,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=gi.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async p=>{rt(Ro,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(rt(Ro,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const a=Gp(r,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Dm(i,e){i.asyncQueue.verifyOperationInProgress(),rt(Ro,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let a=r.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ZE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Y_(i,e){i.asyncQueue.verifyOperationInProgress();const r=await Fx(i);rt(Ro,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener((a=>B_(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>B_(e.remoteStore,l))),i._onlineComponents=e}async function Fx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){rt(Ro,"Using user provided OfflineComponentProvider");try{await Dm(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Re.FAILED_PRECONDITION||l.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;Xl("Error using user provided cache. Falling back to memory cache: "+r),await Dm(i,new lh)}}else rt(Ro,"Using default OfflineComponentProvider"),await Dm(i,new zx(void 0));return i._offlineComponents}async function y1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(rt(Ro,"Using user provided OnlineComponentProvider"),await Y_(i,i._uninitializedComponentsProvider._online)):(rt(Ro,"Using default OnlineComponentProvider"),await Y_(i,new up))),i._onlineComponents}function Hx(i){return y1(i).then((e=>e.syncEngine))}async function qx(i){const e=await y1(i),r=e.eventManager;return r.onListen=Cx.bind(null,e.syncEngine),r.onUnlisten=xx.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Rx.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Nx.bind(null,e.syncEngine),r}function Gx(i,e,r={}){const a=new bo;return i.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,w,E){const N=new Bx({next:G=>{N.Nu(),p.enqueueAndForget((()=>vx(c,k))),G.fromCache&&w.source==="server"?E.reject(new Ze(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(G)},error:G=>E.reject(G)}),k=new Ex(b,N,{includeMetadataChanges:!0,qa:!0});return yx(c,k)})(await qx(i),i.asyncQueue,e,r,a))),a.promise}function v1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const W_=new Map;const _1="firestore.googleapis.com",X_=!0;class $_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_1,this.ssl=X_}else this.host=e.host,this.ssl=e.ssl??X_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_I)throw new Ze(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,r,a,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new YC;switch(a.type){case"firstParty":return new KC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ze(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const a=W_.get(r);a&&(rt("ComponentProvider","Removing Datastore"),W_.delete(r),a.terminate())})(this),Promise.resolve()}}function Yx(i,e,r,a={}){i=Qf(i,Ch);const l=eu(e),c=i._getSettings(),p={...c,emulatorOptions:i._getEmulatorOptions()},b=`${e}:${r}`;l&&(pb(`https://${b}`),gb("Firestore",!0)),c.host!==_1&&c.host!==b&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:a};if(!Yo(w,p)&&(i._setSettings(w),a.mockUserToken)){let E,N;if(typeof a.mockUserToken=="string")E=a.mockUserToken,N=gi.MOCK_USER;else{E=pA(a.mockUserToken,i._app?.options.projectId);const k=a.mockUserToken.sub||a.mockUserToken.user_id;if(!k)throw new Ze(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new gi(k)}i._authCredentials=new WC(new oE(E,N))}}class Io{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class Ur{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ur(this.firestore,e,this._key)}toJSON(){return{type:Ur._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,a){if(vc(r,Ur._jsonSchema))return new Ur(e,a||null,new gt(Ln.fromString(r.referencePath)))}}Ur._jsonSchemaVersion="firestore/documentReference/1.0",Ur._jsonSchema={type:Er("string",Ur._jsonSchemaVersion),referencePath:Er("string")};class Eo extends Io{constructor(e,r,a){super(e,r,CE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ur(this.firestore,null,new gt(e))}withConverter(e){return new Eo(this.firestore,e,this._path)}}function kl(i,e,...r){if(i=ia(i),lE("collection","path",e),i instanceof Ch){const a=Ln.fromString(e,...r);return l_(a),new Eo(i,null,a)}{if(!(i instanceof Ur||i instanceof Eo))throw new Ze(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Ln.fromString(e,...r));return l_(a),new Eo(i.firestore,null,a)}}function Wx(i,e,...r){if(i=ia(i),arguments.length===1&&(e=Cp.newId()),lE("doc","path",e),i instanceof Ch){const a=Ln.fromString(e,...r);return o_(a),new Ur(i,null,new gt(a))}{if(!(i instanceof Ur||i instanceof Eo))throw new Ze(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Ln.fromString(e,...r));return o_(a),new Ur(i.firestore,i instanceof Eo?i.converter:null,new gt(a))}}const K_="AsyncQueue";class Q_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t1(this,"async_queue_retry"),this._c=()=>{const a=Om();a&&rt(K_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const r=Om();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Om();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new bo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!au(e))throw e;rt(K_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",J_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=r,r}enqueueAfterDelay(e,r,a){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const l=qp.createAndSchedule(this,e,r,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&wt(47125,{Pc:J_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,a)=>r.targetTimeMs-a.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function J_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class $p extends Ch{constructor(e,r,a,l){super(e,r,a,l),this.type="firestore",this._queue=new Q_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q_(e),this._firestoreClient=void 0,await e}}}function Xx(i,e){const r=typeof i=="object"?i:bb(),a=typeof i=="string"?i:Zf,l=gp(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=dA("firestore");c&&Yx(l,...c)}return l}function b1(i){if(i._terminated)throw new Ze(Re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$x(i),i._firestoreClient}function $x(i){const e=i._freezeSettings(),r=(function(l,c,p,b){return new mR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,v1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new jx(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(Zr.fromBase64String(e))}catch(r){throw new Ze(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ba(Zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ba._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vc(e,ba._jsonSchema))return ba.fromBase64String(e.bytes)}}ba._jsonSchemaVersion="firestore/bytes/1.0",ba._jsonSchema={type:Er("string",ba._jsonSchemaVersion),bytes:Er("string")};class Kp{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ze(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class E1{constructor(e){this._methodName=e}}class ts{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ze(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ze(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(vc(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Er("string",ts._jsonSchemaVersion),latitude:Er("number"),longitude:Er("number")};class ns{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vc(e,ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new ns(e.vectorValues);throw new Ze(Re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:Er("string",ns._jsonSchemaVersion),vectorValues:Er("object")};const Kx=/^__.*__$/;class Qx{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return this.fieldMask!==null?new Zo(e,this.data,this.fieldMask,r,this.fieldTransforms):new _c(e,this.data,r,this.fieldTransforms)}}function w1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:i})}}class Qp{constructor(e,r,a,l,c,p){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.gc(e),a}yc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(w1(this.Ac)&&Kx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jx{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||Th(e)}Cc(e,r,a,l=!1){return new Qp({Ac:e,methodName:r,Dc:a,path:Jr.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T1(i){const e=i._freezeSettings(),r=Th(i._databaseId);return new Jx(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Zx(i,e,r,a,l,c={}){const p=i.Cc(c.merge||c.mergeFields?2:0,e,r,l);C1("Data must be an object, but it was:",p,a);const b=A1(a,p);let w,E;if(c.merge)w=new Va(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const N=[];for(const k of c.mergeFields){const G=tN(e,k,r);if(!p.contains(G))throw new Ze(Re.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);rN(N,G)||N.push(G)}w=new Va(N),E=p.fieldTransforms.filter((k=>w.covers(k.field)))}else w=null,E=p.fieldTransforms;return new Qx(new _a(b),w,E)}function eN(i,e,r,a=!1){return Jp(r,i.Cc(a?4:3,e))}function Jp(i,e){if(S1(i=ia(i)))return C1("Unsupported field value:",e,i),A1(i,e);if(i instanceof E1)return(function(a,l){if(!w1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let p=0;for(const b of a){let w=Jp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(i,e)}return(function(a,l){if((a=ia(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return LR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Hn.fromDate(a);return{timestampValue:ah(l.serializer,c)}}if(a instanceof Hn){const c=new Hn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(a instanceof ts)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ba)return{bytesValue:qE(l.serializer,a._byteString)};if(a instanceof Ur){const c=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ns)return(function(p,b){return{mapValue:{fields:{[yE]:{stringValue:vE},[eh]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return Op(b.serializer,E)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${mh(a)}`)})(i,e)}function A1(i,e){const r={};return fE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(i,((a,l)=>{const c=Jp(l,e.mc(a));c!=null&&(r[a]=c)})),{mapValue:{fields:r}}}function S1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Hn||i instanceof ts||i instanceof ba||i instanceof Ur||i instanceof E1||i instanceof ns)}function C1(i,e,r){if(!S1(r)||!uE(r)){const a=mh(r);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function tN(i,e,r){if((e=ia(e))instanceof Kp)return e._internalPath;if(typeof e=="string")return R1(i,e);throw uh("Field path arguments must be of type string or ",i,!1,void 0,r)}const nN=new RegExp("[~\\*/\\[\\]]");function R1(i,e,r){if(e.search(nN)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Kp(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function uh(i,e,r,a,l){const c=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${a}`),p&&(w+=` in document ${l}`),w+=")"),new Ze(Re.INVALID_ARGUMENT,b+i+w)}function rN(i,e){return i.some((r=>r.isEqual(e)))}class I1{constructor(e,r,a,l,c){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Rh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class iN extends I1{data(){return super.data()}}function Rh(i,e){return typeof e=="string"?R1(i,e):e instanceof Kp?e._internalPath:e._delegate._internalPath}function aN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ze(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class eg extends Zp{}function cp(i,e,...r){let a=[];e instanceof Zp&&a.push(e),a=a.concat(r),(function(c){const p=c.filter((w=>w instanceof tg)).length,b=c.filter((w=>w instanceof Ih)).length;if(p>1||p>0&&b>0)throw new Ze(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)i=l._apply(i);return i}class Ih extends eg{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new Ih(e,r,a)}_apply(e){const r=this._parse(e);return x1(e._query,r),new Io(e.firestore,e.converter,ep(e._query,r))}_parse(e){const r=T1(e.firestore);return(function(c,p,b,w,E,N,k){let G;if(E.isKeyField()){if(N==="array-contains"||N==="array-contains-any")throw new Ze(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on documentId().`);if(N==="in"||N==="not-in"){eb(k,N);const B=[];for(const Ie of k)B.push(Z_(w,c,Ie));G={arrayValue:{values:B}}}else G=Z_(w,c,k)}else N!=="in"&&N!=="not-in"&&N!=="array-contains-any"||eb(k,N),G=eN(b,p,k,N==="in"||N==="not-in");return br.create(E,N,G)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Ul(i,e,r){const a=e,l=Rh("where",i);return Ih._create(l,a,r)}class tg extends Zp{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new tg(e,r)}_parse(e){const r=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return r.length===1?r[0]:Pa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)x1(p,w),p=ep(p,w)})(e._query,r),new Io(e.firestore,e.converter,ep(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends eg{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new ng(e,r)}_apply(e){const r=(function(l,c,p){if(l.startAt!==null)throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(c,p)})(e._query,this._field,this._direction);return new Io(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new su(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,r))}}function lo(i,e="asc"){const r=e,a=Rh("orderBy",i);return ng._create(a,r)}class rg extends eg{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new rg(e,r,a)}_apply(e){return new Io(e.firestore,e.converter,nh(e._query,this._limit,this._limitType))}}function tc(i){return rR("limit",i),rg._create("limit",i,"F")}function Z_(i,e,r){if(typeof(r=ia(r))=="string"){if(r==="")throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RE(e)&&r.indexOf("/")!==-1)throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(Ln.fromString(r));if(!gt.isDocumentKey(a))throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return g_(i,new gt(a))}if(r instanceof Ur)return g_(i,r._key);throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(r)}.`)}function eb(i,e){if(!Array.isArray(i)||i.length===0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x1(i,e){const r=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Ze(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ze(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class sN{convertValue(e,r="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return Qo(e,((l,c)=>{a[l]=this.convertValue(c,r)})),a}convertVectorValue(e){const r=e.fields?.[eh].arrayValue?.values?.map((a=>lr(a.doubleValue)));return new ns(r)}convertGeoPoint(e){return new ts(lr(e.latitude),lr(e.longitude))}convertArray(e,r){return(e.values||[]).map((a=>this.convertValue(a,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const a=yh(e);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const r=To(e);return new Hn(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=Ln.fromString(e);Sn(KE(a),9688,{name:e});const l=new sc(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(r)||Ds(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}function oN(i,e,r){let a;return a=i?i.toFirestore(e):e,a}class Mf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hl extends I1{constructor(e,r,a,l,c,p){super(e,r,a,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(Rh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Hl._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Hl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hl._jsonSchema={type:Er("string",Hl._jsonSchemaVersion),bundleSource:Er("string","DocumentSnapshot"),bundleName:Er("string"),bundle:Er("string")};class Ff extends Hl{data(e={}){return super.data(e)}}class ql{constructor(e,r,a,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Mf(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((a=>{e.call(r,new Ff(this._firestore,this._userDataWriter,a.key,a,new Mf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ze(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Ff(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Mf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Ff(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Mf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,N=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),N=p.indexOf(b.doc.key)),{type:lN(b.type),doc:w,oldIndex:E,newIndex:N}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(r.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:i})}}ql._jsonSchemaVersion="firestore/querySnapshot/1.0",ql._jsonSchema={type:Er("string",ql._jsonSchemaVersion),bundleSource:Er("string","QuerySnapshot"),bundleName:Er("string"),bundle:Er("string")};class uN extends sN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,r)}}function fp(i){i=Qf(i,Io);const e=Qf(i.firestore,$p),r=b1(e),a=new uN(e);return aN(i._query),Gx(r,i._query).then((l=>new ql(e,a,i,l)))}function km(i,e){const r=Qf(i.firestore,$p),a=Wx(i),l=oN(i.converter,e);return cN(r,[Zx(T1(i.firestore),"addDoc",a._key,l,i.converter!==null,{}).toMutation(a._key,Is.exists(!1))]).then((()=>a))}function cN(i,e){return(function(a,l){const c=new bo;return a.asyncQueue.enqueueAndForget((async()=>Mx(await Hx(a),l,c))),c.promise})(b1(i),e)}(function(e,r=!0){(function(l){ru=l})(tu),Wl(new Wo("firestore",((a,{instanceIdentifier:l,options:c})=>{const p=a.getProvider("app").getImmediate(),b=new $p(new XC(a.getProvider("auth-internal")),new QC(p,a.getProvider("app-check-internal")),(function(E,N){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ze(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(E.options.projectId,N)})(p,l),p);return c={useFetchStreams:r,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),vo(r_,i_,e),vo(r_,i_,"esm2020")})();const fN={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},hN=typeof __firebase_config<"u"?JSON.parse(__firebase_config):fN,N1=_b(hN),Vm=qC(N1),Vl=Xx(N1),hp=typeof __app_id<"u"?__app_id:"long-jump-game",Pm={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWild:"#ffd700",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000",modalBg:"#ffffff",settingsBg:"#ffffff",handBg:"#dcd8cc",christmasRed:"#dc2626",christmasGreen:"#166534"},dN={background:"#111827",boardBackground:"#1f2937",boardLines:"#374151",tileLocked:"#374151",tileLockedText:"#f3f4f6",tileTemp:"#854d0e",tileTempRing:"#ca8a04",tileWild:"#b45309",tileWildPlaced:"#78350f",tileObstacle:"#000000",accentPrimary:"#65a30d",accentSecondary:"#4d7c0f",textMain:"#f9fafb",textSub:"#9ca3af",starGold:"#fbbf24",starPurple:"#c084fc",overlayComplete:"#1f2937",startArrow:"#ffffff",modalBg:"#1f2937",settingsBg:"#111827",handBg:"#1f2937",christmasRed:"#991b1b",christmasGreen:"#14532d"},_r=5,dp=50,M1=30,Da=40,O1={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},tb=new Set(["SANTA","CLAUS","ELF","ELVES","REINDEER","RUDOLPH","SLEIGH","SNOW","SNOWMAN","WINTER","COLD","ICE","ICY","FROST","FROSTY","NORTH","POLE","GIFT","PRESENT","TOY","TOYS","BOX","RIBBON","BOW","TREE","PINE","FIR","STAR","ANGEL","BELL","BELLS","JINGLE","RING","CAROL","SONG","MUSIC","CHOIR","MERRY","HAPPY","JOLLY","JOY","PEACE","LOVE","HOPE","NOEL","XMAS","YULE","LOG","FIRE","HEARTH","STOCKING","SOCK","CANDY","CANE","SWEET","COOKIE","MILK","FEAST","DINNER","TURKEY","HAM","PIE","CAKE","PUDDING","FAMILY","FRIEND","GUEST","PARTY","EVE","NIGHT","MORNING","DAY","DECEMBER","CHRIST","JESUS","MARY","JOSEPH","MANGER","STABLE","DONKEY","SHEEP","CAMEL","WISE","MEN","KING","GOLD","MYRRH","WREATH","HOLLY","IVY","MISTLETOE","LIGHT","LIGHTS","SHINE","GLOW","TWINKLE","SPIRIT","MAGIC","WISH","LIST","NAUGHTY","NICE","COAL","SCROOGE","GRINCH","WHO","SLED","SKI","SKATE","SCARF","MITTEN","GLOVE","COAT","HAT","BOOT","WOOL","WARM","COZY","HUG","KISS","CARD","PAPER","WRAP","TAG","BAG","SACK","CHIMNEY","ROOF","HOOF","PAW","RED","GREEN","WHITE","GOLD","SILVER"]),mN=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),nb=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire","Jolly","Snowy"],rb=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird","Elf","Deer"],ib=(i=dp)=>Array(_r).fill(null).map(()=>Array(i).fill(null)),xl=(i,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:i,isNew:e,isPlaced:!1}),D1=i=>{const e=["th","st","nd","rd"],r=i%100;return i+(e[(r-20)%10]||e[r]||e[0])},pN=i=>{const e=new Date(i),r=e.getDate(),a=e.toLocaleDateString("en-GB",{month:"short"});return`${D1(r)} ${a}`},Gl=i=>function(){var e=i+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Yl=i=>{let e=1779033703,r=3144134277,a=1013904242,l=2773480762;for(let c=0,p;c<i.length;c++)p=i.charCodeAt(c),e=r^Math.imul(e^p,597399067),r=a^Math.imul(r^p,2869860233),a=l^Math.imul(a^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(a^e>>>18,597399067),r=Math.imul(l^r>>>22,2869860233),a=Math.imul(e^a>>>17,951274213),l=Math.imul(r^l>>>19,2716044179),(e^r^a^l)>>>0},gN=()=>new Date().toISOString().split("T")[0],yN=(i,e,r)=>{const a=Yl(i),l=Gl(a),c=[],p=Math.floor(e*.3),b=new Set;for(;c.length<p;){const w=Math.floor(l()*_r),E=Math.floor(l()*e);if(E===0||r==="maze"&&(E===14||E===29))continue;const N=`${w},${E}`;if(!b.has(N)){b.add(N);const k=l();let G=1,ae="star";k>.5&&(G=2),k>.8&&(G=3),c.push({r:w,c:E,val:G,type:ae})}}return r==="maze"&&[14,29].forEach(w=>{for(let E=0;E<_r;E++){if((E+w)%3===0)continue;const k=E*w*13%10/10>.5?3:2;c.push({r:E,c:w,val:k,type:"star"})}}),c},vN=(i,e,r)=>{const a=Yl(i+"OBSTACLES"),l=Gl(a),c=[];if(r!=="maze"){const B=Math.floor(e*.1),Ie=new Set;for(;c.length<B;){const be=Math.floor(l()*_r),Ue=Math.floor(l()*e);if(Ue===0)continue;const V=`${be},${Ue}`;Ie.has(V)||(Ie.add(V),c.push({r:be,c:Ue}))}return c}const p=new Set;for(let B=0;B<_r;B++)p.add(`${B},14`),p.add(`${B},29`);const b=(B,Ie,be)=>{const Ue=Yl(i+B),V=Gl(Ue);let Le=Ie;for(let Xe=1;Xe<e;Xe++)p.add(`${Le},${Xe}`),V()<.4&&(V()>.5&&Le<_r-1?Le++:Le>0&&Le--,p.add(`${Le},${Xe}`))};b("LANE_TOP",1),b("LANE_MID",2),b("LANE_BOT",3);const w=Yl(i+"CONNECTORS"),E=Gl(w);for(let B=5;B<e-5;B+=3)if(E()>.4){const Ie=Math.floor(E()*_r);p.add(`${Ie},${B}`),Ie+1<_r&&p.add(`${Ie+1},${B}`)}const N=e*_r,k=Math.floor(N*.5),G=new Set;let ae=0;for(;c.length<k&&ae<N*10;){ae++;const B=Math.floor(l()*_r),Ie=Math.floor(l()*e);if(Ie===0)continue;const be=`${B},${Ie}`;p.has(be)||G.has(be)||(G.add(be),c.push({r:B,c:Ie}))}return c},_N=(i,e,r)=>{const a=Yl(i+"WILDCARDS_V3"),l=Gl(a),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*_r),w=5,E=Math.min(29,r-2);if(E<=w)break;const N=Math.floor(l()*(E-w+1))+w;if(!(N===14||N===29)){if(!e.some(k=>k.r===b&&k.c===N)){c.push({r:b,c:N});break}p++}}for(p=0;p<100;){const b=Math.floor(l()*_r),w=30,E=r-5,N=Math.floor(l()*(E-w+1))+w;if(!(N===14||N===29)){if(!e.some(k=>k.r===b&&k.c===N)){c.push({r:b,c:N});break}p++}}return[14,29].forEach(b=>{if(b<r)for(let w=0;w<_r;w++)(w+b)%3===0&&(e.some(E=>E.r===w&&E.c===b)||c.push({r:w,c:b}))}),c},bN=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],EN=i=>{const e=Yl(i),r=Gl(e);let a=[];Object.entries(O1).forEach(([b,w])=>{for(let E=0;E<w;E++)a.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(a);for(let b=l.length-1;b>0;b--){const w=Math.floor(r()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=M1;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(r()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},wN=i=>{const e=new Date().toISOString().split("T")[0],r=JSON.parse(localStorage.getItem("longJumpStats"))||{gamesPlayed:0,currentStreak:0,maxStreak:0,totalDistance:0,lastPlayedDate:null};let{gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:b}=r;if(a+=1,p+=i,b!==e){const E=new Date;E.setDate(E.getDate()-1);const N=E.toISOString().split("T")[0];b===N?l+=1:l=1}l>c&&(c=l);const w={gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:e};return localStorage.setItem("longJumpStats",JSON.stringify(w)),w},ab=()=>{const i=nb[Math.floor(Math.random()*nb.length)],e=rb[Math.floor(Math.random()*rb.length)],r=Math.floor(Math.random()*90)+10;return`${i}${e}${r}`},Lm=i=>{if(i.length<=1)return!0;const e=i[0].r,r=i[0].c;return i.every(a=>a.r===e)||i.every(a=>a.c===r)},Pl={ctx:null,init:()=>{Pl.ctx||(Pl.ctx=new(window.AudioContext||window.webkitAudioContext))},play:i=>{Pl.ctx||Pl.init();const e=Pl.ctx,r=e.createOscillator(),a=e.createGain();r.connect(a),a.connect(e.destination);const l=e.currentTime,c=.5+Math.random();i==="pop"?(r.type="triangle",r.frequency.setValueAtTime(600*c,l),r.frequency.exponentialRampToValueAtTime(100*c,l+.15),a.gain.setValueAtTime(.5,l),a.gain.exponentialRampToValueAtTime(.01,l+.15),r.start(l),r.stop(l+.15)):i==="success"?(r.type="sine",r.frequency.setValueAtTime(400*c,l),r.frequency.setValueAtTime(600*c,l+.1),a.gain.setValueAtTime(.3,l),a.gain.linearRampToValueAtTime(0,l+.3),r.start(l),r.stop(l+.3)):i==="error"?(r.type="sawtooth",r.frequency.setValueAtTime(150,l),r.frequency.linearRampToValueAtTime(100,l+.2),a.gain.setValueAtTime(.5,l),a.gain.linearRampToValueAtTime(0,l+.2),r.start(l),r.stop(l+.2)):i==="click"?(r.type="square",r.frequency.setValueAtTime(800,l),a.gain.setValueAtTime(.1,l),a.gain.exponentialRampToValueAtTime(.01,l+.05),r.start(l),r.stop(l+.05)):i==="fanfare"&&(r.type="square",r.frequency.setValueAtTime(261.63,l),r.frequency.setValueAtTime(329.63,l+.1),r.frequency.setValueAtTime(392,l+.2),r.frequency.setValueAtTime(523.25,l+.3),a.gain.setValueAtTime(.2,l),a.gain.setValueAtTime(.2,l+.3),a.gain.exponentialRampToValueAtTime(.01,l+.8),r.start(l),r.stop(l+.8))}},TN=i=>{if(navigator.vibrate)switch(i){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(15);break;case"success":navigator.vibrate([10,30,10]);break;case"error":navigator.vibrate([50,20,50]);break;case"heavy":navigator.vibrate(50);break}},AN=({theme:i})=>{const e=Pe.useRef(null);return Pe.useEffect(()=>{const r=e.current;if(!r)return;const a=r.getContext("2d");let l=window.innerWidth,c=window.innerHeight;if(l===0||c===0)return;r.width=l,r.height=c;const p=[],b=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",i.accentPrimary];for(let k=0;k<150;k++)p.push({x:Math.random()*l,y:Math.random()*c-c,vx:Math.random()*2-1,vy:Math.random()*3+2,color:b[Math.floor(Math.random()*b.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let w;const E=()=>{!a||!r.width||!r.height||(a.clearRect(0,0,l,c),p.forEach(k=>{k.y+=k.vy,k.x+=k.vx+Math.sin(k.y/50),k.rotation+=k.rotationSpeed,k.y>c&&(k.y=-10,k.x=Math.random()*l),!(!Number.isFinite(k.x)||!Number.isFinite(k.y)||!Number.isFinite(k.rotation)||!Number.isFinite(k.size))&&(a.save(),a.translate(k.x,k.y),a.rotate(k.rotation*Math.PI/180),a.fillStyle=k.color,a.fillRect(-k.size/2,-k.size/2,k.size,k.size),a.restore())}),w=requestAnimationFrame(E))};E();const N=()=>{r&&(l=window.innerWidth,c=window.innerHeight,l>0&&c>0&&(r.width=l,r.height=c))};return window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N),w&&cancelAnimationFrame(w)}},[i]),S.createElement("canvas",{ref:e,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},sb=()=>{const{RiveComponent:i}=mo.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new mo.Layout({fit:mo.Fit.Contain,alignment:mo.Alignment.Center})});return S.createElement(i,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},ob=({trigger:i})=>{const{rive:e,RiveComponent:r}=mo.useRive({src:"fan.riv",autoplay:!0,layout:new mo.Layout({fit:mo.Fit.Contain,alignment:mo.Alignment.Center})});return Pe.useEffect(()=>{if(i&&e&&e.viewModelInstance)try{const a=e.viewModelInstance("View Model 1");if(a){const l=a.trigger("Celebrate");l&&l.fire()}}catch(a){console.warn("Rive trigger warning:",a)}},[i,e]),r?S.createElement("div",{style:{width:`${Da}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"}},S.createElement("div",{style:{width:"39px",height:"60px"}},S.createElement(r,null))):null},Um=({highlightName:i,user:e,onRankFound:r,lastUpdated:a,initialMode:l="standard",onParCalculated:c,theme:p})=>{const[b,w]=Pe.useState([]),[E,N]=Pe.useState(!0),[k,G]=Pe.useState("daily"),[ae,B]=Pe.useState(l),[Ie,be]=Pe.useState(null);Pe.useEffect(()=>{B(l)},[l]);const Ue=async()=>{if(!e)return;N(!0),be(null);const V=kl(Vl,"artifacts",hp,"public","data","scores"),Le=new Date,Xe=Le.toISOString().split("T")[0],tt=Le.getDay(),st=Le.getDate()-tt+(tt===0?-6:1),F=new Date(Le.setDate(st)).toISOString().split("T")[0],L=new Date,I=new Date(L.getFullYear(),L.getMonth(),1).toISOString().split("T")[0];let U=[];ae==="maze"&&U.push(Ul("mode","==","maze")),k==="daily"?(U.push(Ul("date","==",Xe)),U.push(lo("score","desc")),U.push(lo("timestamp","asc")),U.push(tc(100))):k==="weekly"?(U.push(Ul("date",">=",F)),U.push(lo("date","desc")),U.push(lo("score","desc")),U.push(tc(500))):(U.push(Ul("date",">=",I)),U.push(lo("date","desc")),U.push(lo("score","desc")),U.push(tc(500)));try{const x=cp(V,...U),ee=await fp(x);if(ee.empty){w([]),N(!1),c&&k==="daily"&&c(25,ae);return}let se=ee.docs.map(Y=>({id:Y.id,...Y.data()}));if(ae==="standard"&&(se=se.filter(Y=>!Y.mode||Y.mode==="standard")),k==="daily"&&c){const K=se.reduce((Me,z)=>Me+z.score,0)/se.length,pe=Math.floor((25+K)/2);c(pe,ae)}if(k==="weekly"||k==="monthly"){const Y=new Map;se.forEach(K=>{const _e=Y.get(K.name);_e?(K.score>_e.score||K.score===_e.score&&K.timestamp<_e.timestamp)&&Y.set(K.name,K):Y.set(K.name,K)}),se=Array.from(Y.values()),se.sort((K,_e)=>_e.score!==K.score?_e.score-K.score:K.timestamp-_e.timestamp),se=se.slice(0,100)}if(w(se),N(!1),i&&r){const Y=se.findIndex(K=>K.name===i);Y!==-1&&r(Y+1)}}catch(x){console.error(" FIRESTORE ERROR:",x),be(x.message),N(!1)}};return Pe.useEffect(()=>{Ue()},[e,k,ae,i,a]),S.createElement("div",{className:"rounded-2xl p-4 shadow-xl border w-full h-full flex flex-col relative transition-colors duration-300",style:{backgroundColor:p.modalBg+"DD",borderColor:p.boardLines}},Ie&&Ie.includes("index")&&S.createElement("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-4 text-center bg-white/90"},S.createElement(TT,{className:"text-red-500 mb-2",size:32}),S.createElement("p",{className:"text-xs font-bold text-red-600 mb-2"},"DATABASE INDEX MISSING"),S.createElement("button",{onClick:Ue,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold"},"Retry")),S.createElement("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b shrink-0",style:{borderColor:p.boardLines}},S.createElement("div",{className:"flex items-center justify-between"},S.createElement("div",{className:"flex items-center gap-2"},S.createElement(zm,{size:20,className:"text-yellow-500"}),S.createElement("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:p.textSub}},k==="daily"?"Today's Top":k==="weekly"?"Weekly Best":"Monthly Best")),S.createElement("div",{className:"flex rounded-lg p-1",style:{backgroundColor:p.boardLines}},S.createElement("button",{onClick:()=>G("daily"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${k==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Daily"),S.createElement("button",{onClick:()=>G("weekly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${k==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Weekly"),S.createElement("button",{onClick:()=>G("monthly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${k==="monthly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Monthly"))),S.createElement("div",{className:"flex justify-center"},S.createElement("div",{className:"flex rounded-lg p-1 w-full",style:{backgroundColor:p.boardLines}},S.createElement("button",{onClick:()=>B("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${ae==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Standard"),S.createElement("button",{onClick:()=>B("maze"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${ae==="maze"?"bg-amber-500 shadow-sm text-white":"text-gray-400 hover:text-gray-600"}`},"Maze")))),S.createElement("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1"},E?S.createElement("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse"},"Loading..."):b.length===0?S.createElement("div",{className:"text-center py-8 text-gray-400 text-sm italic"},"No scores yet.",S.createElement("br",null),"Be the first!"):S.createElement("div",{className:"space-y-1"},b.map((V,Le)=>{const tt=V.score>=40;let st="";return k==="weekly"?st=new Date(V.date).toLocaleDateString(void 0,{weekday:"short"}):k==="monthly"&&(st=pN(V.date)),S.createElement("div",{key:Le,className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${V.name===i?`bg-[${p.accentPrimary}]/10 border-[${p.accentPrimary}]/20`:tt?"bg-amber-100 border-amber-300":"hover:bg-white/10 border-transparent"}`,style:V.name!==i&&!tt?{borderColor:"transparent"}:{}},S.createElement("div",{className:"flex items-center gap-2"},S.createElement("span",{className:`font-black w-5 text-center ${Le===0?"text-yellow-600 text-lg":Le===1?"text-gray-500 text-base":Le===2?"text-orange-700 text-base":"text-gray-500"}`},Le+1),S.createElement("div",{className:"flex items-center gap-1 overflow-hidden"},tt&&S.createElement(zm,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),S.createElement("span",{className:`font-bold truncate max-w-[90px] ${V.name===i?"":tt?"text-amber-900":""}`,style:{color:V.name===i?p.textMain:tt?"#78350f":p.textMain}},V.name),st&&S.createElement("span",{className:"text-[9px] font-normal ml-1 border-l pl-1",style:{color:p.textSub,borderColor:p.boardLines}},st))),S.createElement("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${tt?"bg-amber-200 text-amber-900":"bg-gray-100 text-gray-900"}`},V.score,"m"))}))))};function SN(){const[i,e]=Pe.useState("menu"),[r,a]=Pe.useState("standard"),[l,c]=Pe.useState(()=>localStorage.getItem("longJumpPlayerName")||ab()),[p,b]=Pe.useState(!1),[w,E]=Pe.useState(!1),[N,k]=Pe.useState(()=>{const q=localStorage.getItem("longJumpShowFans");return q===null?!1:q==="true"}),[G,ae]=Pe.useState(()=>{const q=localStorage.getItem("longJumpSound");return q===null?!1:q==="true"}),[B,Ie]=Pe.useState(()=>{const q=localStorage.getItem("longJumpHaptics");return q===null?!0:q!=="false"}),[be,Ue]=Pe.useState(()=>localStorage.getItem("longJumpDarkMode")==="true"),V=be?dN:Pm,[Le,Xe]=Pe.useState(!1),[tt,st]=Pe.useState(null),[W,F]=Pe.useState(!1),[L,H]=Pe.useState(!1),[I,U]=Pe.useState(null),[x,ee]=Pe.useState([]),[se,Y]=Pe.useState(new Set),K=(q,Q)=>{Y(ge=>{const le=new Set(ge);return le.has(q)?(le.delete(q),St("click")):le.size<Q?(le.add(q),St("click")):St("error"),le})},_e=()=>{const q=x.filter((Q,ge)=>se.has(ge));Ps(q),Y(new Set)},[pe,Me]=Pe.useState(!1),[z,oe]=Pe.useState(new Set),[Oe,Se]=Pe.useState(!1);Pe.useEffect(()=>{localStorage.getItem("longJumpWelcomeMessageSeen_v1")||setTimeout(()=>Se(!0),1500)},[]);const[xe,$e]=Pe.useState(null);Pe.useEffect(()=>{window.addEventListener("beforeinstallprompt",q=>{q.preventDefault(),$e(q)})},[]);const dt=()=>{xe&&(xe.prompt(),xe.userChoice.then(q=>{q.outcome==="accepted"&&console.log("User accepted the install prompt"),$e(null)}))},[ft,_t]=Pe.useState(""),[bt,sn]=Pe.useState("idle"),mt=async()=>{if(ft.trim()){sn("submitting");try{const q=kl(Vl,"suggestions");await km(q,{text:ft,player:l,date:new Date().toISOString(),version:"9.01"}),sn("success"),_t(""),setTimeout(()=>sn("idle"),3e3)}catch(q){console.error("Error submitting suggestion:",q),sn("idle"),kn({text:"Could not send suggestion. Try again.",type:"error"})}}},[qe,Ft]=Pe.useState(()=>ib(dp)),[Nt,Zt]=Pe.useState([]),[$n,en]=Pe.useState([]),[it,yn]=Pe.useState(0),[En,ei]=Pe.useState(!1),[Kn,nn]=Pe.useState([]),[vn,R]=Pe.useState(0),[g,v]=Pe.useState([]),[P,J]=Pe.useState([]),[ye,De]=Pe.useState([]),[et,ot]=Pe.useState([]),[He,Ge]=Pe.useState(null),[Et,kt]=Pe.useState(null),[ct,on]=Pe.useState([]),[Lt,Pt]=Pe.useState(0),[wn,On]=Pe.useState(0),[qn,ti]=Pe.useState(null),[yt,Dn]=Pe.useState(!1),[At,zr]=Pe.useState(!1),[Qn,kn]=Pe.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[wr,Mi]=Pe.useState(!1),[Ye,qi]=Pe.useState(!1),[Br,Nr]=Pe.useState(!1),[ln,Un]=Pe.useState(!1),[jr,_i]=Pe.useState(!1),[Vn,Ea]=Pe.useState(!1),[wa,tr]=Pe.useState(!1),[Tr,Mr]=Pe.useState(!1),[nr,ur]=Pe.useState(null),[cr,zn]=Pe.useState(null),[La,Ar]=Pe.useState(!1),[Sr,ni]=Pe.useState(null),[Ua,Gi]=Pe.useState(25),[Or,za]=Pe.useState(null),[Dr,fr]=Pe.useState([]),un=Pe.useRef(0),[Gn,Fr]=Pe.useState(new Set),[Oi,Ht]=Pe.useState(!1),hr=Pe.useRef({standard:25,christmas:25}),at=Pe.useRef(null),[Jn,Cn]=Pe.useState(!1),[Ta,is]=Pe.useState(0),[Ba,fn]=Pe.useState(0),aa=qe.some(q=>q.some(Q=>Q!==null));Pe.useEffect(()=>{localStorage.setItem("longJumpPlayerName",l)},[l]),Pe.useEffect(()=>{localStorage.setItem("longJumpShowFans",N)},[N]),Pe.useEffect(()=>{localStorage.setItem("longJumpSound",G)},[G]),Pe.useEffect(()=>{localStorage.setItem("longJumpHaptics",B)},[B]),Pe.useEffect(()=>{localStorage.setItem("longJumpDarkMode",be)},[be]),Pe.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await N2(Vm,__initial_auth_token):await S2(Vm)})();const Q=D2(Vm,zn);return()=>Q()},[]),Pe.useEffect(()=>{(async()=>{try{const Q=cp(kl(Vl,"missing_words")),ge=await fp(Q),le=new Set;ge.forEach(Te=>{Te.data().word&&le.add(Te.data().word.toUpperCase())}),Fr(le)}catch(Q){console.error("Error loading missing words:",Q)}})()},[]),Pe.useEffect(()=>{if(wn===Lt)return;const q=500,Q=performance.now(),ge=wn,le=Lt,Te=Fe=>{const Be=Fe-Q,u=Math.min(Be/q,1),y=1-Math.pow(1-u,3),T=Math.floor(ge+(le-ge)*y);On(T),u<1&&requestAnimationFrame(Te)};requestAnimationFrame(Te)},[Lt]),Pe.useEffect(()=>{(async()=>{try{const Q=kl(Vl,"artifacts",hp,"public","data","scores"),ge=new Date().toISOString().split("T")[0];let le=[Ul("date","==",ge),lo("score","desc"),lo("timestamp","asc")];r==="christmas"?(le.push(Ul("mode","==","christmas")),le.push(tc(1))):le.push(tc(50));const Te=cp(Q,...le),Fe=await fp(Te);let Be=null;if(!Fe.empty){const u=Fe.docs.map(y=>y.data());r==="christmas"?Be=u[0]:Be=u.find(y=>!y.mode||y.mode==="standard")}ni(Be||null)}catch(Q){console.error("Error fetching leader:",Q)}})()},[it,r]);const ri=Pe.useCallback((q,Q)=>{(Q==="christmas"||Q==="standard")&&(hr.current[Q]=q),Gi(q)},[]),St=q=>{G&&Pl.play(q==="light"?"pop":q),B&&TN(q)};Pe.useEffect(()=>{Cr("standard")},[]);const Cr=(q="standard")=>{const Q=gN(),ge=EN(Q);nn(ge),a(q);const le=dp,Te=M1,Be=ge.slice(0,Te).map(T=>xl(T,!1)).sort((T,M)=>T.letter.localeCompare(M.letter));Zt(Be),R(Te),Ft(ib(le)),on([]),en([]),fr([]),Pt(0),On(0),ti(null),Dn(!1),zr(!1),oe(new Set),v(yN(Q,le,q));const u=vN(Q,le,q);J(u),De(_N(Q,u,le)),ot(bN()),kn({text:"Goal: Get as far right as you can.",type:"neutral"}),Ea(!1),qi(!1),Un(!1),_i(!1),Ar(!1),tr(!1),Nr(!1),ei(!1),Ge(null),kt(null),b(!1),H(!1),Me(!1);const y=hr.current[q]||25;Gi(y),kt({r:2,c:0}),Ht(!1),at.current&&(at.current.scrollLeft=0)},sa=q=>{St("click"),l.trim()||c(ab()),e("playing"),Cr(q),Un(!0)},bi=()=>{St("click"),e("menu"),Cr("standard")},Aa=()=>{if(St("click"),$n.length!==0){if(Oi){kn({text:"Already used Undo this turn!",type:"error"}),St("error");return}F(!0)}},oa=()=>{const q=$n[$n.length-1],Q=$n.slice(0,-1);Ft(q.grid),Pt(q.score),R(q.drawCount),q.christmasCells?oe(q.christmasCells):oe(new Set);const ge=Array.from(new Map(q.hand.map(le=>[le.id,{...le,isPlaced:!1}])).values());Zt(ge),en(Q),on([]),Ge(null),kn({text:"Move undone",type:"info"}),Ht(!0),F(!1)},ii=q=>{const Q=q.toUpperCase();return[...Nt].reverse().find(ge=>ge.letter===Q&&!ge.isPlaced)},Yi=()=>{if(ct.length===0)return;St("click");const Q=[...ct].sort((Be,u)=>Be.r-u.r||Be.c-u.c)[0],ge=Q?Q.r:null,le=Q?Q.c:null,Fe=ct.map(Be=>Be.isWild?"*":Be.letter).map(Be=>xl(Be,!1));Zt(Be=>[...Be.filter(y=>!y.isPlaced),...Fe].sort((y,T)=>y.letter!==T.letter?y.letter.localeCompare(T.letter):y.isNew===T.isNew?0:y.isNew?1:-1)),on([]),Ge(null),ge!==null&&le!==null&&(kt(null),setTimeout(()=>{kt({r:ge,c:le})},10))},kr=q=>{const Q=qe[0].length;if(!Et){kt({r:2,c:Lt});return}let{r:ge,c:le}=Et;q==="ArrowUp"&&(ge=Math.max(0,ge-1)),q==="ArrowDown"&&(ge=Math.min(_r-1,ge+1)),q==="ArrowLeft"&&(le=Math.max(0,le-1)),q==="ArrowRight"&&(le=Math.min(Q-1,le+1)),kt({r:ge,c:le})};Pe.useEffect(()=>{const q=Q=>{if(!(i!=="playing"||Vn||jr||ln||Ye||Tr||Br||p||Le||W||L||pe)){if(Q.key==="k"||Q.key==="K"){if(un.current+=1,un.current>=10){St("fanfare"),fr(["TEST","MODE","ACTIVE","RANDOM","WORDS","SHOWN","HERE","FOR","DEBUG","PURPOSES"]),Pt(42),On(42),za({gamesPlayed:10,currentStreak:5,maxStreak:10,totalDistance:420,lastPlayedDate:new Date().toISOString().split("T")[0]}),e("gameOver"),un.current=0;return}}else un.current=0;if(Q.code==="Space"){Q.preventDefault(),Ki();return}if(Q.key==="Escape"){Yi();return}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(Q.key)){Q.preventDefault(),kr(Q.key);return}if(Q.key==="Backspace"||Q.key==="Delete"){if(Et){const{r:ge,c:le}=Et;ct.find(Fe=>Fe.r===ge&&Fe.c===le)?$i(ge,le):kr("ArrowLeft")}return}if(Q.key==="Enter"){ct.length>0&&ja();return}if(/^[a-zA-Z]$/.test(Q.key)){const ge=qe[0].length;if(!Et){kt({r:2,c:Lt});return}const{r:le,c:Te}=Et;if(qe[le]&&qe[le][Te]||P.some(u=>u.r===le&&u.c===Te)){kr("ArrowRight");return}let Fe=ii(Q.key),Be=null;if(!Fe){const u=ii("*");u&&(Fe=u,Be=Q.key.toUpperCase())}Fe?(Ct(Fe,le,Te,Be),kt({r:le,c:Math.min(ge-1,Te+1)})):(kn({text:`No '${Q.key.toUpperCase()}' or Wildcard in hand`,type:"error"}),setTimeout(()=>kn({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[i,Vn,Et,Nt,ct,jr,ln,Ye,Tr,Br,p,Le,W,L,pe]),Pe.useEffect(()=>{if(Et&&at.current){const q=at.current,Q=Et.c*Da,ge=Q+Da,le=q.scrollLeft,Te=le+q.clientWidth,Fe=100;Q<le?q.scrollTo({left:Math.max(0,Q-Fe),behavior:"smooth"}):ge>Te&&q.scrollTo({left:ge-q.clientWidth+Fe,behavior:"smooth"})}},[Et]);const Sa=()=>qi(!0),ai=async()=>{qi(!1),Ea(!0),Ar(!0),St("fanfare");const q=l.trim().toLowerCase()==="test";if(cr&&!q)try{const Te=new Date().toISOString().split("T")[0],Fe=kl(Vl,"artifacts",hp,"public","data","scores");await km(Fe,{name:l||"Anonymous",score:Lt,mode:r,date:Te,timestamp:Date.now(),userId:cr.uid}),yn(Date.now())}catch(Te){console.error("Error saving score:",Te)}const Q=wN(Lt);za(Q),Ar(!1);const ge=Lt*50+800;setTimeout(()=>{e("gameOver"),Ea(!1)},Math.max(ge,2500))},si=()=>qi(!1),Hr=()=>i==="playing"?Nr(!0):e("menu"),oi=()=>{Nr(!1),e("menu"),Cr()},Wi=async()=>{const q=qn?D1(qn):"top",Q="https://www.longjump.co.za",ge=Dr.length>0?`

 Words: ${Dr.join(", ")}`:"";let le=qn?`${l} placed ${q} in Long-Jump with a distance of ${Lt}m. How far can you get? ${Q}${ge}`:`${l} got a distance of ${Lt}m in Long-Jump. How far can you get? ${Q}${ge}`;try{navigator.share?await navigator.share({title:"Long Jump Result",text:le}):(await navigator.clipboard.writeText(le),Dn(!0),setTimeout(()=>Dn(!1),1e3))}catch(Te){console.error("Failed to copy/share: ",Te);try{await navigator.clipboard.writeText(le),Dn(!0),setTimeout(()=>Dn(!1),1e3)}catch{}}},li=q=>{q.target.closest('[draggable="true"]')||q.target.tagName==="BUTTON"||(Cn(!0),is(q.pageX-at.current.offsetLeft),fn(at.current.scrollLeft))},Rr=()=>Cn(!1),rr=()=>Cn(!1),Di=q=>{if(!Jn)return;q.preventDefault();const ge=(q.pageX-at.current.offsetLeft-Ta)*1.5;at.current.scrollLeft=Ba-ge},Ct=(q,Q,ge,le=null)=>{if(St("light"),q.letter==="*"&&!le){ur({r:Q,c:ge,tileId:q.id}),Mr(!0);return}const Te=q.letter==="*";Ei(q,Q,ge,Te,le)},Ei=(q,Q,ge,le=!1,Te=null)=>{if(qe.every(y=>y.every(T=>T===null))&&ct.length===0&&ge!==0){tr(!0),setTimeout(()=>tr(!1),3e3);return}const Be=Te||q.letter,u=[...ct,{r:Q,c:ge,letter:Be,isWild:le,id:q.id}];if(!Lm(u)){kn({text:" Tiles must be placed in a single row or column",type:"error"}),St("error");return}on(u),Zt(y=>y.map(T=>T.id===q.id?{...T,isPlaced:!0}:T)),tr(!1),Qn.type==="error"&&kn({text:"Goal: Get as far right as you can.",type:"neutral"})},Vr=q=>{if(St("light"),nr){const Q={id:nr.tileId,letter:"*"};Ei(Q,nr.r,nr.c,!0,q),kt({r:nr.r,c:Math.min(qe[0].length-1,nr.c+1)}),Mr(!1),ur(null),Ge(null)}},Xi=q=>{if(St("light"),!Vn&&i==="playing"){if(Et){const{r:Q,c:ge}=Et,le=qe[0].length;if(!(qe[Q]&&qe[Q][ge]||P.some(Fe=>Fe.r===Q&&Fe.c===ge))){const Fe=Nt.find(Be=>Be.id===q);Fe&&(Ct(Fe,Q,ge),kt({r:Q,c:Math.min(le-1,ge+1)}));return}}Ge(He===q?null:q)}},$i=(q,Q)=>{if(Jn||Vn||i!=="playing"||qe[q]&&qe[q][Q]||P.some(le=>le.r===q&&le.c===Q))return;const ge=ct.findIndex(le=>le.r===q&&le.c===Q);if(ge!==-1){St("light");const le=ct[ge],Te=[...ct];Te.splice(ge,1),on(Te),Zt(Fe=>Fe.map(Be=>Be.id===le.id?{...Be,isPlaced:!1}:Be)),Ge(null),kt({r:q,c:Q});return}if(He){const le=Nt.find(Te=>Te.id===He);if(le){const Te=qe[0].length;Ct(le,q,Q),Ge(null),kt({r:q,c:Math.min(Te-1,Q+1)})}}else kt({r:q,c:Q})},ki=(q,Q)=>{Vn||i!=="playing"||(q.dataTransfer.setData("text/plain",JSON.stringify(Q)),q.dataTransfer.effectAllowed="move")},ui=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},wi=(q,Q,ge)=>{if(Vn||i!=="playing"||(q.preventDefault(),q.stopPropagation(),P.some(Te=>Te.r===Q&&Te.c===ge)))return;const le=q.dataTransfer.getData("text/plain");if(le)try{const Te=JSON.parse(le);if(qe[Q]&&qe[Q][ge])return;const Fe=ct.findIndex(u=>u.r===Q&&u.c===ge),Be=qe[0].length;if(Te.type==="hand"){St("light");const u=Te.tile;if(u.letter==="*"){ur({r:Q,c:ge,tileId:u.id}),Mr(!0);return}if(qe.every(T=>T.every(M=>M===null))&&ct.length===0&&ge!==0){tr(!0),setTimeout(()=>tr(!1),3e3);return}if(Fe!==-1){const T=ct[Fe],M=[...ct];Zt(te=>te.map(he=>he.id===u.id?{...he,isPlaced:!0}:he.id===T.id?{...he,isPlaced:!1}:he)),M.splice(Fe,1,{r:Q,c:ge,letter:u.letter,isWild:!1,id:u.id}),on(M)}else{const T=[...ct,{r:Q,c:ge,letter:u.letter,isWild:!1,id:u.id}];if(!Lm(T)){kn({text:" Tiles must be placed in a single row or column",type:"error"}),St("error");return}on(T),Zt(M=>M.map(te=>te.id===u.id?{...te,isPlaced:!0}:te))}tr(!1),Ge(null),kt({r:Q,c:Math.min(Be-1,ge+1)}),Qn.type==="error"&&kn({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Te.type==="board"){if(Te.r===Q&&Te.c===ge)return;const u=ct.findIndex(M=>M.r===Te.r&&M.c===Te.c);if(u===-1)return;const y=ct[u],T=[...ct];if(Fe!==-1){const M=ct[Fe];T[Fe]={...M,r:Te.r,c:Te.c},T[u]={...y,r:Q,c:ge}}else T[u]={...y,r:Q,c:ge};if(!Lm(T)){kn({text:" Tiles must be placed in a single row or column",type:"error"}),St("error");return}on(T),kt({r:Q,c:Math.min(Be-1,ge+1)})}}catch{}},ir=q=>{if(Vn||i!=="playing")return;q.preventDefault(),q.stopPropagation();const Q=q.dataTransfer.getData("text/plain");if(Q)try{const ge=JSON.parse(Q);if(ge.type==="board"){const le=ct.find(Te=>Te.r===ge.r&&Te.c===ge.c);on(Te=>Te.filter(Fe=>!(Fe.r===ge.r&&Fe.c===ge.c))),Zt(Te=>Te.map(Fe=>Fe.id===le.id?{...Fe,isPlaced:!1}:Fe)),St("light")}}catch{}},ci=(q,Q)=>{if(!qe||!qe[q])return null;if(qe[q][Q])return{letter:qe[q][Q],type:"locked"};const ge=ct.find(le=>le.r===q&&le.c===Q);return ge?{letter:ge.letter,type:"temp",isWild:ge.isWild}:null},Ti=(q,Q)=>g.find(ge=>ge.r===q&&ge.c===Q),la=(q,Q)=>P.find(ge=>ge.r===q&&ge.c===Q),ja=async()=>{if(ct.length===0)return;Mi(!0),kn({text:"Validating...",type:"info"});const q=qe.map(u=>[...u]);if(ct.forEach(u=>{q[u.r]&&(q[u.r][u.c]=u.letter)}),ct.length>1){const u=[...ct].sort((M,te)=>M.r-te.r||M.c-te.c),y=u[0],T=u[u.length-1];if(y.r===T.r){for(let M=y.c;M<=T.c;M++)if(!q[y.r][M]){fi("Cannot leave gaps between tiles.");return}}else for(let M=y.r;M<=T.r;M++)if(!q[M][y.c]){fi("Cannot leave gaps between tiles.");return}}const Q=qe.every(u=>u.every(y=>y===null));let ge=!1,le=!1;const Te=qe[0].length;if(ct.forEach(u=>{u.c===0&&(ge=!0),[{r:u.r+1,c:u.c},{r:u.r-1,c:u.c},{r:u.r,c:u.c+1},{r:u.r,c:u.c-1}].forEach(T=>{T.r>=0&&T.r<_r&&T.c>=0&&T.c<Te&&qe[T.r]&&qe[T.r][T.c]&&(le=!0)})}),Q&&!ge){fi("First word must start in Column 1.");return}if(!Q&&!le){fi("Tiles must connect to existing words.");return}const Be=Ra(q).filter(u=>u.cells.some(y=>ct.some(T=>T.r===y.r&&T.c===y.c)));if(Be.length===0){fi("Words must be at least 2 letters.");return}try{const u=[];for(const y of Be)await Ai(y.word)||u.push(y.word);if(u.length>0){fi(`Invalid word(s): ${u.join(", ")}`,u[0]);return}Ia(q,Be)}catch(u){console.error(u),fi("Error checking dictionary. Try again.")}},Ai=async q=>{const Q=q.toLowerCase().trim(),ge=Q.toUpperCase();if(Gn.has(ge)||mN.has(ge)||tb.has(ge))return!0;if(Q.length===2)return!1;try{const Te=`https://dictionaryapi.com/api/v3/references/collegiate/json/${encodeURIComponent(Q)}?key=4e64bca3-60b7-40bf-bcda-d8e496a67a7f`,Fe=await fetch(Te);if(!Fe.ok)return!1;const Be=await Fe.json();return!Array.isArray(Be)||Be.length===0||typeof Be[0]=="string"?!1:Be.some(y=>typeof y!="object"||!y.meta||y.fl==="abbreviation"||y.fl==="abbr"?!1:Array.isArray(y.meta.stems)?y.meta.stems.map(M=>M.toLowerCase()).includes(Q):!1)}catch(le){return console.warn("M-W API Error:",le),!0}},Ca=q=>{st(q),Xe(!0)},qr=async()=>{if(tt){try{const q=kl(Vl,"missing_words");await km(q,{word:tt.toUpperCase(),reportedBy:l,date:new Date().toISOString()}),Fr(Q=>new Set(Q).add(tt.toUpperCase())),kn({text:`Reported '${tt}' - You can use it now!`,type:"success"})}catch(q){console.error("Error reporting word:",q),kn({text:"Could not report word.",type:"error"})}Xe(!1),st(null)}},Ra=q=>{let Q=[];const ge=qe[0].length;for(let le=0;le<_r;le++){let Te="",Fe=[];for(let Be=0;Be<ge;Be++)q[le]&&q[le][Be]?(Te+=q[le][Be],Fe.push({r:le,c:Be})):(Te.length>1&&Q.push({word:Te,cells:[...Fe],type:"H"}),Te="",Fe=[]);Te.length>1&&Q.push({word:Te,cells:[...Fe],type:"H"})}for(let le=0;le<ge;le++){let Te="",Fe=[];for(let Be=0;Be<_r;Be++)q[Be]&&q[Be][le]?(Te+=q[Be][le],Fe.push({r:Be,c:le})):(Te.length>1&&Q.push({word:Te,cells:[...Fe],type:"V"}),Te="",Fe=[]);Te.length>1&&Q.push({word:Te,cells:[...Fe],type:"V"})}return Q},fi=(q,Q=null)=>{kn({text:q,type:"error",invalidWord:Q}),Mi(!1),St("error")},Ia=(q,Q)=>{St("success");const ge=JSON.parse(JSON.stringify(qe)),le=Q.map(Ee=>Ee.word);fr(Ee=>[...Ee,...le]);const Te=Nt.map(Ee=>({...Ee,isPlaced:!1})),Fe=new Set(z);en(Ee=>[...Ee,{grid:ge,hand:Te,score:Lt,drawCount:vn,christmasCells:Fe}]),Ft(q),zr(!0),setTimeout(()=>zr(!1),200);let Be=0,u=!1,y=!1,T=null;Q.forEach(Ee=>{r==="christmas"&&tb.has(Ee.word.toUpperCase())&&(y=!0,Ee.cells.forEach(Ke=>{oe(Ut=>new Set(Ut).add(`${Ke.r},${Ke.c}`))})),Ee.cells.forEach(Ke=>{const Ut=Ti(Ke.r,Ke.c),Ot=ct.some(hn=>hn.r===Ke.r&&hn.c===Ke.c);Ut&&Ot&&(Ut.type&&Ut.type.startsWith("gift")?T=Ut.type:Ut.val&&(Be+=Ut.val)),ye.some(hn=>hn.r===Ke.r&&hn.c===Ke.c)&&(u=!0)})});let M=Nt.filter(Ee=>!Ee.isPlaced);if(Be>0){const Ke=Kn.slice(vn,vn+Be).map(Ut=>xl(Ut,!0));M=[...M,...Ke],R(Ut=>Ut+Be)}if(u){const Ee=xl("*",!0);M=[...M,Ee]}if(M.sort((Ee,Ke)=>Ee.letter!==Ke.letter?Ee.letter.localeCompare(Ke.letter):Ee.isNew===Ke.isNew?0:Ee.isNew?1:-1),Zt(M),T){let Ee=3;T==="gift_medium"&&(Ee=4),T==="gift_large"&&(Ee=5);const Ke=Kn.slice(vn,vn+Ee);U(T),ee(Ke),Y(new Set),setTimeout(()=>H(!0),500)}else if(y)setTimeout(()=>Me(!0),500);else if(Be>0||u){const Ee=u?"Wildcard Unlocked!":`Great! +${Be} Bonus Tiles!`;kn({text:Ee,type:"success"})}else kn({text:"Valid move!",type:"success"});let te=Lt-1;const he=qe[0].length;ct.forEach(Ee=>{Ee.c>te&&(te=Ee.c)});for(let Ee=0;Ee<_r;Ee++)for(let Ke=0;Ke<he;Ke++)q[Ee]&&q[Ee][Ke]&&Ke>te&&(te=Ke);Pt(te+1),on([]),Mi(!1),kt(null),Ht(!1)},Ps=q=>{const Q=q.map(ge=>xl(ge,!0));Zt(ge=>[...ge,...Q].sort((le,Te)=>le.letter!==Te.letter?le.letter.localeCompare(Te.letter):le.isNew===Te.isNew?0:le.isNew?1:-1)),R(ge=>ge+x.length),H(!1),U(null),ee([]),kn({text:`Opened Gift! +${q.length} Tiles`,type:"success"}),St("success")},Wn=()=>{const q=xl("*",!0);Zt(Q=>[...Q,q].sort((ge,le)=>ge.letter!==le.letter?ge.letter.localeCompare(le.letter):ge.isNew===le.isNew?0:ge.isNew?1:-1)),Me(!1),kn({text:"Festive Word! +1 Wildcard",type:"success"}),St("success")},Ki=()=>{St("click"),Zt(q=>[...q].sort(()=>Math.random()-.5))},Gr=()=>{St("click"),Zt(q=>[...q].sort((Q,ge)=>Q.letter!==ge.letter?Q.letter.localeCompare(ge.letter):Q.isNew===ge.isNew?0:Q.isNew?1:-1))},Ls=Nt.reduce((q,Q)=>(q[Q.letter]||(q[Q.letter]=[]),q[Q.letter].push(Q),q),{}),dr=Array.from(new Set(Nt.map(q=>q.letter))),ua=dr.length>=6,xa=Math.ceil(dr.length/2),Si=ua?dr.slice(0,xa):dr,Fa=ua?dr.slice(xa):[],Ha=({letter:q})=>{const Q=Ls[q]||[],ge=Q.filter(y=>!y.isPlaced),le=Math.min(ge.length,15),Te=ge[ge.length-1];if(Q.length>0&&le===0)return S.createElement("div",{className:"w-10 h-10 rounded-lg border-2 border-dashed",style:{backgroundColor:V.boardBackground+"40",borderColor:V.boardLines}});if(le===0)return null;const Fe=Te&&He===Te.id,Be=6,u=40+(le>1?(le-1)*Be:0);return S.createElement("div",{className:"relative w-10 flex items-end",style:{height:`${u}px`}},[...Array(le-1)].map((y,T)=>{const te=(q.charCodeAt(0)+T)%7-3;return S.createElement("div",{key:T,className:"absolute w-10 h-10 rounded-lg border transition-all shadow-md",style:{backgroundColor:"#e5e7eb",borderColor:"rgba(0,0,0,0.1)",bottom:`${T*Be}px`,zIndex:T,transform:`rotate(${te}deg)`}})}),S.createElement("button",{draggable:!Vn&&i==="playing",onDragStart:y=>ki(y,{type:"hand",tile:Te}),onClick:()=>Xi(Te.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${i==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(le-1)*Be}px`,zIndex:le,backgroundColor:Fe?V.accentPrimary:q==="*"?V.tileTemp:"white",color:Fe?"white":"#1f2937",transform:Fe?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Fe?0:q.charCodeAt(0)%5-2}deg)`}},Te&&Te.isNew&&S.createElement("div",{className:"absolute -top-2 -right-1 bg-green-600 text-white text-[7px] font-black px-1 py-0.5 rounded shadow-sm z-50 tracking-tighter leading-none"},"NEW"),q==="*"?S.createElement(Ho,{size:20,fill:V.starPurple,className:"text-purple-500"}):q))};return i==="menu"?S.createElement("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto transition-colors duration-300",style:{backgroundColor:V.background,color:V.textMain}},S.createElement("div",{className:"absolute top-4 right-4 z-50"},S.createElement("button",{onClick:()=>b(!0),className:"p-2 rounded-full hover:bg-black/5 transition-colors",style:{color:V.textSub}},S.createElement(E0,{size:24}))),S.createElement("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch relative"},S.createElement("div",{className:"space-y-4 flex flex-col items-center w-full"},S.createElement(sb,null),S.createElement("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400"},S.createElement("span",null,"Refreshed Daily"),S.createElement(bm,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})),S.createElement("div",{className:"flex flex-col gap-1 items-center"},S.createElement("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:V.textSub}},"Jump as far as you can by building words, connecting tiles and picking up extra letters."),S.createElement("div",{className:"text-xs font-bold px-3 py-1 rounded-full border mt-2",style:{backgroundColor:V.tileLocked,color:V.accentSecondary,borderColor:V.accentPrimary}},"Today's Par: ",Ua,"m"))),S.createElement("div",{className:"w-full max-w-xs space-y-2 group"},S.createElement("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:V.textSub}},"Enter your name"),S.createElement("input",{type:"text",value:l,onChange:q=>c(q.target.value),placeholder:"Player 1",maxLength:12,className:"w-full border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{backgroundColor:V.modalBg,color:V.textMain,borderColor:"transparent"},onFocus:q=>q.target.style.borderColor=V.accentPrimary,onBlur:q=>q.target.style.borderColor="transparent"})),S.createElement("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center"},S.createElement("button",{onClick:()=>sa("standard"),className:"flex-1 py-4 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:V.accentPrimary}},"Play ",S.createElement(UT,{size:20,fill:"currentColor"})),S.createElement("button",{onClick:()=>sa("maze"),className:"flex-1 py-4 text-white rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2",style:{backgroundColor:"#D97706"}},S.createElement("div",{className:"flex flex-col items-center leading-none"},S.createElement("span",null,"Maze Mode"),S.createElement("span",{className:"text-[9px] opacity-80 font-medium tracking-widest mt-0.5"},"HARDCORE")))),S.createElement("div",{className:"flex flex-col items-center gap-3 mt-8 w-full"},S.createElement("div",{className:"flex flex-row items-center justify-center gap-4"},S.createElement("button",{onClick:()=>E(!0),className:"group flex items-center gap-2 px-3 py-2 rounded-full font-bold text-xs transition-colors shadow-sm whitespace-nowrap",style:{backgroundColor:V.tileLocked,color:V.textSub},title:"Updates"},S.createElement(b0,{size:14})),S.createElement("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:opacity-80 border-b border-gray-500 transition-colors pb-0.5 whitespace-nowrap",style:{color:V.textSub}},"By Richard Bolland"),S.createElement("span",{style:{color:V.boardLines}},"|"),S.createElement("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap"},S.createElement(MT,{size:14,className:"fill-pink-600"}),S.createElement("span",null,"Tip Jar")))),S.createElement("div",{className:"block lg:hidden w-full h-full min-h-[300px]"},S.createElement(Um,{user:cr,lastUpdated:it,initialMode:"standard",onParCalculated:ri,theme:V}))),S.createElement("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch"},S.createElement(Um,{user:cr,lastUpdated:it,initialMode:"standard",onParCalculated:ri,theme:V})),w&&S.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},S.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border",style:{backgroundColor:V.modalBg,borderColor:V.boardLines}},S.createElement("div",{className:"flex justify-between items-center mb-6"},S.createElement("h3",{className:"text-xl font-black uppercase flex items-center gap-2",style:{color:V.textMain}},S.createElement(b0,{size:20})," What's New"),S.createElement("button",{onClick:()=>E(!1),style:{color:V.textSub}},S.createElement(Af,{size:24}))),S.createElement("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar"},S.createElement("div",{className:"border-l-2 pl-3",style:{borderColor:V.christmasRed}},S.createElement("div",{className:"text-xs font-bold uppercase",style:{color:V.christmasRed}},"v9.01"),S.createElement("div",{className:"font-bold",style:{color:V.textMain}},"Christmas Polish "),S.createElement("p",{className:"text-xs",style:{color:V.textSub}},"New Gift Boxes, Secret Rewards, and festive fixes.")),S.createElement("div",{className:"border-l-2 pl-3",style:{borderColor:V.christmasRed}},S.createElement("div",{className:"text-xs font-bold uppercase",style:{color:V.christmasRed}},"v9.00"),S.createElement("div",{className:"font-bold",style:{color:V.textMain}},"Christmas Mode! "),S.createElement("p",{className:"text-xs",style:{color:V.textSub}},"Collect Gifts, find festive words, and unlock the Holiday Spirit.")),S.createElement("div",{className:"border-l-2 border-gray-300 pl-3"},S.createElement("div",{className:"text-xs font-bold text-gray-400 uppercase"},"v8.11"),S.createElement("div",{className:"font-bold",style:{color:V.textSub}},"Dictionary Upgrade"),S.createElement("p",{className:"text-xs",style:{color:V.textSub}},"Now powered by Merriam-Webster Collegiate Dictionary!"))),S.createElement("button",{onClick:()=>E(!1),className:"w-full mt-6 py-3 rounded-xl font-bold uppercase tracking-widest transition-all",style:{backgroundColor:V.boardLines,color:V.textMain}},"Close"))),p&&S.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},S.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar",style:{backgroundColor:V.modalBg,borderColor:V.boardLines}},S.createElement("div",{className:"flex justify-between items-center mb-6"},S.createElement("h3",{className:"text-xl font-black uppercase",style:{color:V.textMain}},"Settings"),S.createElement("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:V.textSub}},S.createElement(Af,{size:24}))),S.createElement("div",{className:"space-y-6"},S.createElement("input",{type:"text",value:l,onChange:q=>c(q.target.value),maxLength:12,className:"w-full border-2 px-4 py-3 rounded-xl font-bold outline-none transition-all",style:{backgroundColor:V.settingsBg,borderColor:V.boardLines,color:V.textMain},onFocus:q=>q.target.style.borderColor=V.accentPrimary,onBlur:q=>q.target.style.borderColor=V.boardLines}),S.createElement("div",{className:"space-y-2"},S.createElement("label",{className:"text-xs font-bold uppercase tracking-widest",style:{color:V.textSub}},"Username"),S.createElement("input",{type:"text",value:l,onChange:q=>c(q.target.value),maxLength:12,className:"w-full border px-4 py-3 rounded-xl font-bold outline-none transition-all",style:{backgroundColor:V.settingsBg,borderColor:"transparent",color:V.textMain}})),S.createElement("div",{className:"space-y-3"},S.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:V.settingsBg}},S.createElement("div",{className:"flex items-center gap-3"},be?S.createElement(v0,{size:20,className:"text-purple-400"}):S.createElement(w0,{size:20,className:"text-yellow-500"}),S.createElement("span",{className:"font-bold text-sm",style:{color:V.textMain}},"Dark Mode")),S.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},S.createElement("input",{type:"checkbox",className:"sr-only peer",checked:be,onChange:()=>Ue(!be)}),S.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"}))),S.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:V.settingsBg}},S.createElement("div",{className:"flex items-center gap-3"},G?S.createElement(A0,{size:20,className:"text-blue-500"}):S.createElement(S0,{size:20,className:"text-gray-400"}),S.createElement("span",{className:"font-bold text-sm",style:{color:V.textMain}},"Sound Effects")),S.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},S.createElement("input",{type:"checkbox",className:"sr-only peer",checked:G,onChange:()=>ae(!G)}),S.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"}))),S.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:V.settingsBg}},S.createElement("div",{className:"flex items-center gap-3"},B?S.createElement(Gu,{size:20,className:"text-orange-500 fill-orange-500"}):S.createElement(Gu,{size:20,className:"text-gray-400"}),S.createElement("span",{className:"font-bold text-sm",style:{color:V.textMain}},"Haptics")),S.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},S.createElement("input",{type:"checkbox",className:"sr-only peer",checked:B,onChange:()=>Ie(!B)}),S.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),S.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:V.settingsBg}},S.createElement("div",{className:"flex items-center gap-3"},S.createElement("span",{className:"text-xl"},""),S.createElement("div",{className:"flex flex-col"},S.createElement("span",{className:"font-bold text-sm",style:{color:V.textMain}},"Crowd Fans"))),S.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},S.createElement("input",{type:"checkbox",className:"sr-only peer",checked:N,onChange:()=>k(!N)}),S.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})))),xe&&S.createElement("button",{onClick:dt,className:"w-full py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm flex items-center justify-center gap-2 text-white",style:{backgroundColor:V.accentPrimary}},S.createElement(g0,{size:16})," Install App"),S.createElement("div",{className:"pt-4 border-t",style:{borderColor:V.boardLines}},S.createElement("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:V.textSub}},"Make a Suggestion"),S.createElement("textarea",{value:ft,onChange:q=>_t(q.target.value),className:"w-full border-2 px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24",style:{backgroundColor:V.settingsBg,borderColor:V.boardLines,color:V.textMain},placeholder:"Ideas for new modes, obstacles, or features...",onFocus:q=>q.target.style.borderColor=V.accentPrimary,onBlur:q=>q.target.style.borderColor=V.boardLines}),S.createElement("button",{onClick:mt,disabled:bt!=="idle"||!ft.trim(),className:`w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm ${bt==="success"?"bg-green-500 text-white":"bg-gray-800 text-white hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"}`},bt==="submitting"?"Sending...":bt==="success"?"Sent! Thanks":"Submit Suggestion"))),S.createElement("button",{onClick:()=>b(!1),className:"w-full mt-6 py-3 font-bold uppercase tracking-widest text-xs hover:opacity-70 transition-all",style:{color:V.textSub}},"Close Settings")))):S.createElement("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative transition-colors duration-300",style:{backgroundColor:V.background,color:V.textMain}},i==="gameOver"&&!En&&S.createElement("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6"},S.createElement(AN,{theme:V}),S.createElement("div",{className:"backdrop-blur-md p-8 rounded-3xl shadow-2xl text-center border max-w-md w-full flex flex-col relative z-[101]",style:{backgroundColor:V.modalBg+"EE",borderColor:V.boardLines}},S.createElement("h3",{className:"text-xl font-black uppercase tracking-widest mb-6",style:{color:V.textMain}},"STATISTICS"),S.createElement("div",{className:"flex justify-between items-start mb-8 px-1 gap-1"},S.createElement("div",{className:"flex flex-col items-center"},S.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:V.textMain}},Or?.gamesPlayed||0),S.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:V.textSub}},"Played")),S.createElement("div",{className:"flex flex-col items-center"},S.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:V.textMain}},Or?.currentStreak||0),S.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:V.textSub}},"Current",S.createElement("br",null),"Streak")),S.createElement("div",{className:"flex flex-col items-center"},S.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:V.textMain}},Or?.maxStreak||0),S.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:V.textSub}},"Max",S.createElement("br",null),"Streak")),S.createElement("div",{className:"flex flex-col items-center"},S.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:V.textMain}},Or?.gamesPlayed>0?Math.round(Or.totalDistance/Or.gamesPlayed):0,"m"),S.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:V.textSub}},"Avg",S.createElement("br",null),"Dist")),S.createElement("div",{className:"flex flex-col items-center"},S.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:V.textMain}},(Or?.totalDistance||0)>=1e3?(Or.totalDistance/1e3).toFixed(1)+"k":(Or?.totalDistance||0)+"m"),S.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:V.textSub}},"Total",S.createElement("br",null),"Dist"))),S.createElement("div",{className:"rounded-2xl overflow-hidden mb-6 shadow-sm border",style:{backgroundColor:V.settingsBg,borderColor:V.boardLines}},S.createElement("div",{className:"flex border-b",style:{borderColor:V.boardLines}},S.createElement("div",{className:"flex-1 p-4 border-r",style:{borderColor:V.boardLines}},S.createElement("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-1 opacity-60",style:{color:V.textSub}},"Athlete"),S.createElement("div",{className:"text-xl font-black truncate",style:{color:V.textMain}},l)),S.createElement("div",{className:"flex-1 p-4 bg-black/5"},S.createElement("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-1 opacity-60",style:{color:V.textSub}},"Distance"),S.createElement("div",{className:"text-3xl font-black",style:{color:V.accentPrimary}},wn,"m"))),S.createElement("div",{className:"p-4 bg-white/50"},S.createElement("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2 opacity-60 text-left",style:{color:V.textSub}},"Words Found (",Dr.length,")"),S.createElement("div",{className:"flex flex-wrap gap-2 max-h-[120px] overflow-y-auto custom-scrollbar content-start"},Dr.length>0?Dr.map((q,Q)=>S.createElement("span",{key:Q,className:"px-2 py-1 rounded text-[10px] font-bold border",style:{backgroundColor:V.modalBg,borderColor:V.boardLines,color:V.textMain}},q)):S.createElement("span",{className:"text-xs italic opacity-50"},"No words found yet.")))),S.createElement("div",{className:"flex flex-col gap-3"},S.createElement("button",{onClick:Wi,className:"w-full py-4 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 hover:opacity-80",style:{backgroundColor:V.modalBg,borderColor:V.boardLines,color:V.textMain}},yt?S.createElement(S.Fragment,null,S.createElement(gT,{size:20})," Copied"):S.createElement(S.Fragment,null,S.createElement(GT,{size:20})," Share Result")),S.createElement("div",{className:"flex gap-2"},S.createElement("button",{onClick:bi,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg",style:{backgroundColor:"#111827"}},"Play Again"),S.createElement("button",{onClick:()=>ei(!0),className:"flex-none px-4 py-4 border-2 rounded-xl hover:opacity-80 shadow-sm transition-all flex items-center justify-center",style:{backgroundColor:V.modalBg,borderColor:V.boardLines,color:V.textMain},title:"View Board"},S.createElement(RT,{size:24}))))),S.createElement("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative"},S.createElement(Um,{highlightName:l,user:cr,onRankFound:ti,lastUpdated:it,initialMode:r,onParCalculated:ri,theme:V}))),L&&I&&S.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in p-4"},S.createElement("div",{className:`rounded-3xl p-6 shadow-2xl max-w-sm w-full text-center border-4 bg-white relative overflow-hidden flex flex-col items-center ${I==="gift_small"?"border-red-500":I==="gift_medium"?"border-purple-500":"border-green-600"}`},S.createElement("div",{className:`absolute top-0 left-0 w-full h-4 ${I==="gift_small"?"bg-red-500":I==="gift_medium"?"bg-purple-500":"bg-green-600"}`}),S.createElement("div",{className:"mb-4 flex flex-col items-center mt-4"},S.createElement("div",{className:`p-4 rounded-full mb-2 border-2 ${I==="gift_small"?"bg-red-100 border-red-200 text-red-600":I==="gift_medium"?"bg-purple-100 border-purple-200 text-purple-600":"bg-green-100 border-green-200 text-green-600"}`},S.createElement(Il,{size:48})),S.createElement("h3",{className:"text-2xl font-black uppercase text-gray-900"},I==="gift_small"?"Small Gift":I==="gift_medium"?"Medium Gift":"Large Gift"),(()=>{const q=I==="gift_small"?1:I==="gift_medium"?2:3,Q=se.size,ge=q-Q;return S.createElement("p",{className:"text-sm font-bold mt-1",style:{color:ge===0?V.accentPrimary:V.textSub}},ge===0?"Ready to confirm!":`Pick ${ge} more tile${ge>1?"s":""}`)})()),S.createElement("div",{className:"flex gap-2 mb-6 flex-wrap justify-center"},x.map((q,Q)=>{const ge=se.has(Q),le=I==="gift_small"?1:I==="gift_medium"?2:3;return S.createElement("button",{key:Q,onClick:()=>K(Q,le),className:`w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold font-mono transition-all shadow-sm border-2 relative
                                  ${ge?`bg-[${V.accentPrimary}] text-white border-[${V.accentPrimary}] -translate-y-2 shadow-md`:"bg-white text-gray-700 border-gray-200 hover:border-gray-400"}`,style:ge?{backgroundColor:V.accentPrimary,borderColor:V.accentPrimary}:{}},q,ge&&S.createElement("div",{className:"absolute -top-2 -right-2 bg-white text-green-600 rounded-full p-0.5 border shadow-sm"},S.createElement(p0,{size:12,strokeWidth:4})))})),(()=>{const q=I==="gift_small"?1:I==="gift_medium"?2:3,Q=se.size===q;return S.createElement("button",{onClick:_e,disabled:!Q,className:`w-full py-3 rounded-xl font-black uppercase tracking-widest transition-all shadow-lg flex items-center justify-center gap-2
                            ${Q?"hover:scale-105 active:scale-100 text-white":"opacity-50 cursor-not-allowed text-gray-400 bg-gray-200 shadow-none"}
                          `,style:Q?{backgroundColor:V.accentPrimary}:{}},Q?"Add to Hand":"Select Tiles")})())),pe&&S.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-md animate-fade-in p-4"},S.createElement("div",{className:"bg-white rounded-3xl p-8 shadow-2xl max-w-sm w-full text-center border-4 border-yellow-400 relative"},S.createElement(Ho,{className:"absolute top-4 left-4 text-yellow-400 animate-pulse",size:24}),S.createElement(Ho,{className:"absolute top-4 right-4 text-yellow-400 animate-pulse",size:24}),S.createElement("div",{className:"flex justify-center mb-6"},S.createElement("div",{className:"bg-red-100 p-6 rounded-full border-4 border-red-200 shadow-inner"},S.createElement(Il,{size:64,className:"text-red-600 drop-shadow-sm"}))),S.createElement("h3",{className:"text-2xl font-black uppercase text-gray-900 mb-2"},"Festive Word Found!"),S.createElement("p",{className:"text-gray-500 mb-8 font-medium"},"You found a secret holiday word."),S.createElement("button",{onClick:Wn,className:"w-full py-4 rounded-xl font-black text-white text-lg uppercase tracking-widest shadow-xl hover:scale-105 hover:shadow-2xl active:scale-100 transition-all bg-gradient-to-r from-red-500 to-red-600"},"Add a Wildcard!"))),Tr&&S.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},S.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border",style:{backgroundColor:V.modalBg,borderColor:V.boardLines}},S.createElement("h3",{className:"text-xl font-black mb-4 uppercase",style:{color:V.textMain}},"Pick a Letter"),S.createElement("div",{className:"grid grid-cols-6 gap-2"},Object.keys(O1).filter(q=>q!=="*").map(q=>S.createElement("button",{key:q,onClick:()=>Vr(q),className:"w-10 h-10 rounded-lg font-bold text-xl shadow-sm hover:scale-110 transition-transform border",style:{backgroundColor:V.tileTemp,borderColor:V.tileTempRing,color:V.textMain}},q))),S.createElement("button",{onClick:()=>{Mr(!1),ur(null)},className:"mt-6 text-sm font-bold hover:opacity-80",style:{color:V.textSub}},"Cancel"))),Le&&S.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},S.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:V.modalBg,borderColor:V.boardLines}},S.createElement("div",{className:"flex justify-center mb-4"},S.createElement("div",{className:"bg-yellow-100 p-3 rounded-full"},S.createElement(y0,{size:32,className:"text-yellow-600"}))),S.createElement("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:V.textMain}},"Report Missing Word"),S.createElement("p",{className:"mb-4 text-sm font-bold",style:{color:V.textMain}},'"',tt,'"'),S.createElement("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100 mb-6 text-left"},S.createElement("p",{className:"text-xs text-red-700 leading-relaxed font-medium"},S.createElement("strong",null," Warning:")," Moderators check all reported words. If you abuse this feature to create fake words, your high scores will be deleted.")),S.createElement("div",{className:"flex gap-3"},S.createElement("button",{onClick:()=>{Xe(!1),st(null)},className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:V.boardLines,color:V.textSub}},"Cancel"),S.createElement("button",{onClick:qr,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-yellow-500 hover:bg-yellow-600"},"Report & Add")))),W&&S.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},S.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:V.modalBg,borderColor:V.boardLines}},S.createElement("div",{className:"flex justify-center mb-4"},S.createElement("div",{className:"bg-blue-100 p-3 rounded-full"},S.createElement(_0,{size:32,className:"text-blue-600"}))),S.createElement("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:V.textMain}},"Use Undo?"),S.createElement("p",{className:"mb-6 text-sm",style:{color:V.textSub}},"You can only use Undo ",S.createElement("strong",{style:{color:V.accentPrimary}},"once per turn"),". ",S.createElement("br",null),S.createElement("br",null),"Are you sure you want to go back?"),S.createElement("div",{className:"flex gap-3"},S.createElement("button",{onClick:()=>F(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:V.boardLines,color:V.textSub}},"Cancel"),S.createElement("button",{onClick:oa,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-blue-500 hover:bg-blue-600"},"Confirm Undo")))),(ln||jr)&&S.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},S.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border relative",style:{backgroundColor:V.modalBg,borderColor:V.boardLines}},S.createElement("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 p-4 rounded-full shadow-xl",style:{backgroundColor:V.modalBg}},S.createElement(mT,{size:48,style:{color:V.accentPrimary}})),S.createElement("h3",{className:"text-2xl font-black mt-8 mb-4 uppercase tracking-tight",style:{color:V.textMain}},"Game Rules"),S.createElement("div",{className:"text-left mb-6 text-sm space-y-3",style:{color:V.textSub}},S.createElement("p",{className:"flex gap-2"},S.createElement("span",{className:"font-bold",style:{color:V.textMain}},""),S.createElement("span",null,"This is a ",S.createElement("strong",null,"daily seeded game"),". Everyone gets the same letters and board.")),S.createElement("p",{className:"flex gap-2"},S.createElement("span",{className:"font-bold",style:{color:V.textMain}},""),S.createElement("span",null,"Place words ",S.createElement("strong",null,"Left to Right")," or ",S.createElement("strong",null,"Top to Bottom"),".")),r==="christmas"?S.createElement("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100 mt-2"},S.createElement("p",{className:"text-xs font-bold text-red-800 mb-2 uppercase"},"Christmas Mode Specials:"),S.createElement("p",{className:"flex gap-2 items-center text-xs text-red-700 mb-1"},S.createElement(Il,{size:14}),S.createElement("span",null,S.createElement("strong",null,"Red Gift:")," Pick 1 of 3 tiles.")),S.createElement("p",{className:"flex gap-2 items-center text-xs text-purple-700 mb-1"},S.createElement(Il,{size:14}),S.createElement("span",null,S.createElement("strong",null,"Purple Gift:")," Pick 2 of 4 tiles.")),S.createElement("p",{className:"flex gap-2 items-center text-xs text-green-700 mb-1"},S.createElement(Il,{size:14}),S.createElement("span",null,S.createElement("strong",null,"Green Gift:")," Pick 3 of 5 tiles.")),S.createElement("p",{className:"flex gap-2 items-center text-xs text-blue-700"},S.createElement(Ho,{size:14}),S.createElement("span",null,S.createElement("strong",null,"Festive Words:")," Use words like SNOW or SANTA to get a Wildcard!"))):S.createElement(S.Fragment,null,S.createElement("div",{className:"space-y-3"},S.createElement("p",{className:"flex gap-2 items-center"},S.createElement(bm,{size:16,className:"text-yellow-500 fill-yellow-500"}),S.createElement("span",null,S.createElement("strong",null,"Yellow Stars:")," Give +1, +2, or +3 random letters.")),S.createElement("p",{className:"flex gap-2 items-center"},S.createElement(Ho,{size:16,className:"text-purple-500 fill-purple-500"}),S.createElement("span",null,S.createElement("strong",null,"Purple Sparkles:")," Give you a blank Wildcard tile!"))),S.createElement("div",{className:"bg-yellow-50 p-3 rounded-xl border border-yellow-200 mt-4 text-left shadow-sm"},S.createElement("p",{className:"text-xs font-black text-yellow-700 mb-1 uppercase flex items-center gap-1"},S.createElement(Gu,{size:14,className:"fill-yellow-700"})," Handy Tip:"),S.createElement("p",{className:"text-xs text-yellow-900 leading-relaxed font-medium"},"Stars act like ",S.createElement("strong",null,"Double Word Scores")," in Scrabble! If you place a vertical AND horizontal word over a star, you get double the letters.")))),S.createElement("button",{onClick:()=>{Un(!1),_i(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:V.accentPrimary}},ln?"Let's Jump!":"Close"))),Br&&S.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in"},S.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:V.modalBg,borderColor:V.boardLines}},S.createElement("div",{className:"flex justify-center mb-4"},S.createElement("div",{className:"bg-red-100 p-3 rounded-full"},S.createElement(VT,{size:32,className:"text-red-500"}))),S.createElement("h3",{className:"text-2xl font-black mb-2",style:{color:V.textMain}},"Exit Game?"),S.createElement("p",{className:"mb-8",style:{color:V.textSub}},"Are you sure you want to quit? You will lose your current progress."),S.createElement("div",{className:"flex gap-3"},S.createElement("button",{onClick:()=>Nr(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:V.boardLines,color:V.textSub}},"Cancel"),S.createElement("button",{onClick:oi,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600"},"Exit")))),Ye&&S.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in"},S.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:V.modalBg,borderColor:V.boardLines}},S.createElement("h3",{className:"text-2xl font-black mb-2",style:{color:V.textMain}},"Submit Score?"),S.createElement("p",{className:"mb-8",style:{color:V.textSub}},"You reached column ",S.createElement("strong",{style:{color:V.accentPrimary}},Lt),". This will end your current run."),S.createElement("div",{className:"flex gap-3"},S.createElement("button",{onClick:si,className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:V.boardLines,color:V.textSub}},"Cancel"),S.createElement("button",{onClick:ai,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:V.accentPrimary}},"Confirm")))),p&&S.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},S.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar",style:{backgroundColor:V.modalBg,borderColor:V.boardLines}},S.createElement("div",{className:"flex justify-between items-center mb-6"},S.createElement("h3",{className:"text-xl font-black uppercase",style:{color:V.textMain}},"Settings"),S.createElement("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:V.textSub}},S.createElement(Af,{size:24}))),S.createElement("div",{className:"space-y-6"},S.createElement("div",{className:"space-y-2"},S.createElement("label",{className:"text-xs font-bold uppercase tracking-widest",style:{color:V.textSub}},"Username"),S.createElement("input",{type:"text",value:l,onChange:q=>c(q.target.value),maxLength:12,className:"w-full border-2 px-4 py-3 rounded-xl font-bold outline-none transition-all bg-gray-100 dark:bg-gray-800",style:{borderColor:V.boardLines,color:V.textMain},onFocus:q=>q.target.style.borderColor=V.accentPrimary,onBlur:q=>q.target.style.borderColor=V.boardLines})),S.createElement("div",{className:"space-y-3"},S.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:V.settingsBg}},S.createElement("div",{className:"flex items-center gap-3"},be?S.createElement(v0,{size:20,className:"text-purple-400"}):S.createElement(w0,{size:20,className:"text-yellow-500"}),S.createElement("span",{className:"font-bold text-sm",style:{color:V.textMain}},"Dark Mode")),S.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},S.createElement("input",{type:"checkbox",className:"sr-only peer",checked:be,onChange:()=>Ue(!be)}),S.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"}))),S.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:V.settingsBg}},S.createElement("div",{className:"flex items-center gap-3"},G?S.createElement(A0,{size:20,className:"text-blue-500"}):S.createElement(S0,{size:20,className:"text-gray-400"}),S.createElement("span",{className:"font-bold text-sm",style:{color:V.textMain}},"Sound Effects")),S.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},S.createElement("input",{type:"checkbox",className:"sr-only peer",checked:G,onChange:()=>ae(!G)}),S.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"}))),S.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:V.settingsBg}},S.createElement("div",{className:"flex items-center gap-3"},B?S.createElement(Gu,{size:20,className:"text-orange-500 fill-orange-500"}):S.createElement(Gu,{size:20,className:"text-gray-400"}),S.createElement("span",{className:"font-bold text-sm",style:{color:V.textMain}},"Haptics")),S.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},S.createElement("input",{type:"checkbox",className:"sr-only peer",checked:B,onChange:()=>Ie(!B)}),S.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),S.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:V.settingsBg}},S.createElement("div",{className:"flex items-center gap-3"},S.createElement("span",{className:"text-xl"},""),S.createElement("div",{className:"flex flex-col"},S.createElement("span",{className:"font-bold text-sm",style:{color:V.textMain}},"Crowd Fans"))),S.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},S.createElement("input",{type:"checkbox",className:"sr-only peer",checked:N,onChange:()=>k(!N)}),S.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})))),xe&&S.createElement("button",{onClick:dt,className:"w-full py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm flex items-center justify-center gap-2 text-white",style:{backgroundColor:V.accentPrimary}},S.createElement(g0,{size:16})," Install App"),S.createElement("div",{className:"pt-4 border-t",style:{borderColor:V.boardLines}},S.createElement("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:V.textSub}},"Make a Suggestion"),S.createElement("textarea",{value:ft,onChange:q=>_t(q.target.value),className:"w-full border-2 px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24 bg-gray-100 dark:bg-gray-800",style:{borderColor:V.boardLines,color:V.textMain},placeholder:"Ideas for new modes, obstacles, or features...",onFocus:q=>q.target.style.borderColor=V.accentPrimary,onBlur:q=>q.target.style.borderColor=V.boardLines}),S.createElement("button",{onClick:mt,disabled:bt!=="idle"||!ft.trim(),className:`w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm ${bt==="success"?"bg-green-500 text-white":"bg-gray-800 text-white hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"}`},bt==="submitting"?"Sending...":bt==="success"?"Sent! Thanks":"Submit Suggestion"))),S.createElement("button",{onClick:()=>b(!1),className:"w-full mt-6 py-3 font-bold uppercase tracking-widest text-xs hover:opacity-70 transition-all",style:{color:V.textSub}},"Close Settings"))),S.createElement("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50"},S.createElement("div",{className:"flex flex-col items-start"},S.createElement("div",{className:"hidden md:block text-sm font-bold tracking-widest",style:{color:V.textSub}},new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()),Sr&&S.createElement("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap"},S.createElement("span",{className:"font-bold uppercase tracking-widest",style:{color:V.textSub}},r==="christmas"?"Xmas Leader":"Standard Leader"),S.createElement(zm,{size:12,className:"text-yellow-500 fill-yellow-500"}),S.createElement("span",{className:"font-bold",style:{color:V.textMain}},Sr.name),S.createElement("span",{className:"font-mono",style:{color:V.textSub}},Sr.score,"m")),S.createElement("div",{className:"block md:hidden"},Lt>0&&i==="playing"&&S.createElement("button",{onClick:Sa,disabled:Vn||wr,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"}},"END RUN ",S.createElement(T0,{size:10,style:{color:Pm.starGold}})),i==="gameOver"&&En&&S.createElement("button",{onClick:()=>ei(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:V.accentPrimary,color:"white"}},S.createElement(m0,{size:12})," RESULTS"))),S.createElement("div",{className:"flex flex-col items-center flex-1"},S.createElement("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:Hr},S.createElement(sb,null)),S.createElement("div",{className:"hidden md:block mt-6"},i==="playing"&&Lt>0&&S.createElement("button",{onClick:Sa,disabled:Vn||wr,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"}},"END RUN ",S.createElement(T0,{size:10,style:{color:Pm.starGold}})),i==="gameOver"&&En&&S.createElement("button",{onClick:()=>ei(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:V.accentPrimary}},S.createElement(m0,{size:14})," BACK TO RESULTS"))),S.createElement("div",{className:"flex flex-col items-end w-32 gap-1"},S.createElement("span",{className:"text-xs font-bold tracking-widest",style:{color:V.accentPrimary}},l||"PLAYER 1"),S.createElement("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:V.accentPrimary}},S.createElement(jT,{size:16})," ",wn,"m"),S.createElement("div",{className:"flex gap-2"},S.createElement("button",{onClick:()=>_i(!0),className:"text-[10px] font-bold hover:opacity-70 uppercase tracking-widest flex items-center gap-1",style:{color:V.textSub}},"Rules ",S.createElement(DT,{size:12})),S.createElement("button",{onClick:()=>b(!0),className:"hover:opacity-70",style:{color:V.textSub}},S.createElement(E0,{size:14}))))),S.createElement("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:li,onMouseLeave:Rr,onMouseUp:rr,onMouseMove:Di},S.createElement("div",{ref:at,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${Jn?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"}},S.createElement("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area"},S.createElement("div",{className:"absolute top-0 bottom-0 border-r-2 border-red-400 border-dashed z-20 pointer-events-none opacity-60",style:{left:`${Ua*Da}px`}},S.createElement("span",{className:"absolute top-[-20px] right-0 translate-x-1/2 text-red-500 text-[10px] font-black tracking-widest"},"PAR")),S.createElement("div",{className:"flex relative mb-3",style:{width:`${qe[0].length*Da}px`,height:"24px"}},Array(qe[0].length).fill(0).map((q,Q)=>{const ge=Q===0,le=(Q+1)%5===0;if(!ge&&!le)return null;const Te=Lt<3;return S.createElement("div",{key:`ruler-${Q}`,className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:Q*Da+Da/2,transform:`translateX(-50%) ${ge&&Te?"translateY(-45px)":"translateY(0)"}`}},S.createElement("span",{className:"text-xs tracking-wider",style:{color:ge?V.textMain:V.textSub}},ge?"START":`${Q+1}m`),S.createElement("div",{className:"w-0.5 h-1.5 mt-0.5",style:{backgroundColor:ge?V.textMain:V.boardLines}}))})),S.createElement("div",{className:"relative"},S.createElement("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none"},N&&et.filter(q=>q.type==="top").map((q,Q)=>{const ge=Math.max(q.startCol,Lt+q.offset);return S.createElement("div",{key:`fan-top-${q.id}`,className:"absolute -top-[55px]",style:{left:`${ge*Da}px`,transition:"left 1.2s ease-in-out",zIndex:50}},S.createElement(ob,{trigger:At}))})),S.createElement("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${qe[0].length}, ${Da}px)`,gridTemplateRows:`repeat(${_r}, ${Da}px)`,backgroundColor:V.boardBackground,borderColor:V.boardLines}},Array(_r).fill(0).map((q,Q)=>Array(qe[0].length).fill(0).map((ge,le)=>{const Te=ci(Q,le),Fe=Ti(Q,le),Be=la(Q,le),u=ye.some(Ot=>Ot.r===Q&&Ot.c===le),T=le===0&&!Te&&!aa,M=Te?.type==="locked",te=(le+1)%5===0,he=le<wn,Ee=Et&&Et.r===Q&&Et.c===le,Ke=Vn&&M?"animate-jump-green":"",Ut=M&&z.has(`${Q},${le}`);return S.createElement("div",{key:`${Q}-${le}`,onClick:()=>$i(Q,le),onDragOver:ui,onDrop:Ot=>wi(Ot,Q,le),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${Te?Te.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Be?"cursor-not-allowed":"hover:bg-white/20"}  ${Te?.type==="temp"?`bg-[${V.tileTemp}] ring-2 ring-[${V.tileTempRing}] -translate-y-[2px] z-10`:""} ${!Te&&!Be&&he?"bg-white/20":le===0&&!Te?"bg-green-100/40":!Te&&!Be&&!T&&(Q+le)%2===0?"bg-black/5":"bg-transparent"} ${Ee?"ring-4 ring-blue-400 z-20":""} ${!Te&&Ee?"bg-blue-50/20":""} ${!Te&&te?"border-r-2 border-r-black/10":"border border-black/5"} ${he?"animate-pop-green":""} ${Ke}`,style:M?{backgroundColor:Ut?V.christmasRed:he?V.overlayComplete:V.tileLocked,color:Ut?"white":V.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:Vn?`${le*50}ms`:"0ms"}:Te?.type==="temp"?{backgroundColor:Te.isWild?V.tileWildPlaced:V.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Be?{backgroundColor:V.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{backgroundColor:r==="maze"&&(le===14||le===29)?"#fef08a":le===0&&!Te?"bg-green-100/40":!Te&&!Be&&!T&&(Q+le)%2===0?"rgba(0,0,0,0.05)":"transparent",borderLeft:r==="maze"&&(le===14||le===29)?"2px solid #eab308":void 0,borderRight:r==="maze"&&(le===14||le===29)?"2px solid #eab308":void 0}},!Te&&T&&S.createElement("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10"},S.createElement(ET,{size:20,style:{color:V.startArrow}})),!Te&&Be&&S.createElement("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Te&&Fe&&!Be&&!u&&S.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10"},Fe.type&&Fe.type.startsWith("gift")?S.createElement(Il,{className:`w-6 h-6 ${Fe.type==="gift_small"?"text-red-600":Fe.type==="gift_medium"?"text-purple-600":"text-green-700"}`}):S.createElement(S.Fragment,null,S.createElement(bm,{className:"w-6 h-6",fill:V.starGold,stroke:V.starGold}),S.createElement("span",{className:"text-[16px] font-black mt-[-2px]",style:{color:"#000000"}},"+",Fe.val))),!Te&&u&&!Be&&S.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse"},S.createElement(Ho,{className:"w-7 h-7",fill:V.starPurple,stroke:V.starPurple})),Te&&S.createElement("div",{draggable:Te.type==="temp"&&!Vn&&i==="playing",onDragStart:Ot=>ki(Ot,{type:"board",r:Q,c:le,letter:Te.letter}),className:`w-full h-full flex items-center justify-center ${Te.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`},S.createElement("span",{className:"text-2xl font-bold select-none font-mono"},Te.letter),Te.isWild&&S.createElement(Ho,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})))}))),S.createElement("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none"},N&&et.filter(q=>q.type==="bottom").map((q,Q)=>{const ge=Math.max(q.startCol,Lt+q.offset);return S.createElement("div",{key:`fan-bottom-${q.id}`,className:"absolute -bottom-[35px]",style:{left:`${ge*Da}px`,transition:"left 1.2s ease-in-out",zIndex:50}},S.createElement(ob,{trigger:At}))}))),wa&&S.createElement("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none"},S.createElement("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative"},S.createElement("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),S.createElement(_T,{size:16}),"Start Here!"))))),S.createElement("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50"},S.createElement("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4"},S.createElement("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${Qn.type==="error"?"bg-red-100 text-red-700":Qn.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`},S.createElement("span",null,wr?"Checking...":Qn.text),Qn.type==="error"&&Qn.invalidWord&&S.createElement("button",{onClick:()=>Ca(Qn.invalidWord),className:"ml-2 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors hover:opacity-80",style:{backgroundColor:V.accentPrimary,color:"white"}},"Report ",S.createElement(y0,{size:10}))),S.createElement("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center"},S.createElement("button",{onClick:Aa,disabled:Vn||$n.length===0||i!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:V.modalBg,color:V.textMain},title:"Undo last move"},S.createElement(_0,{size:16})),S.createElement("button",{onClick:Ki,disabled:Vn||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:V.modalBg,color:V.textMain}},S.createElement(WT,{size:16})," Shuffle"),S.createElement("button",{onClick:Gr,disabled:Vn||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:V.modalBg,color:V.textMain}},S.createElement(fT,{size:16})," Sort A-Z"),ct.length>0&&S.createElement("button",{onClick:ja,disabled:wr||Vn||i!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${wr||Vn?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:wr||Vn?{}:{backgroundColor:V.accentPrimary,color:"white"}},wr?"Checking...":"JUMP"," ",S.createElement(p0,{size:18,strokeWidth:4})),ct.length>0&&S.createElement("button",{onClick:Yi,disabled:Vn||i!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50"},S.createElement(Af,{size:16})))),S.createElement("div",{onDragOver:ui,onDrop:ir,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:V.handBg}},dr.length===0&&S.createElement("div",{className:"italic",style:{color:V.textSub}},"Empty Hand"),dr.length<6?S.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},dr.map(q=>S.createElement(Ha,{key:q,letter:q}))):S.createElement("div",{className:"flex flex-col gap-2 w-full items-center"},S.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},Si.map(q=>S.createElement(Ha,{key:q,letter:q}))),S.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},Fa.map(q=>S.createElement(Ha,{key:q,letter:q})))))),S.createElement("style",null,`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `))}iT.createRoot(document.getElementById("root")).render(S.createElement(Pe.StrictMode,null,S.createElement(SN,null)));
