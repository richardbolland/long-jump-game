(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ed={exports:{}},wl={};var S_;function Eb(){if(S_)return wl;S_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return wl.Fragment=t,wl.jsx=i,wl.jsxs=i,wl}var A_;function bb(){return A_||(A_=1,Ed.exports=Eb()),Ed.exports}var j=bb(),bd={exports:{}},It={};var w_;function Sb(){if(w_)return It;w_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function Q(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function yt(x,Y,st){this.props=x,this.context=Y,this.refs=tt,this.updater=st||J}yt.prototype.isReactComponent={},yt.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},yt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Tt(){}Tt.prototype=yt.prototype;function Et(x,Y,st){this.props=x,this.context=Y,this.refs=tt,this.updater=st||J}var Dt=Et.prototype=new Tt;Dt.constructor=Et,et(Dt,yt.prototype),Dt.isPureReactComponent=!0;var Vt=Array.isArray;function kt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(x,Y,st){var lt=st.ref;return{$$typeof:a,type:x,key:Y,ref:lt!==void 0?lt:null,props:st}}function V(x,Y){return R(x.type,Y,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function O(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(st){return Y[st]})}var w=/\/+/g;function he(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):Y.toString(36)}function ye(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(kt,kt):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function G(x,Y,st,lt,At){var xt=typeof x;(xt==="undefined"||xt==="boolean")&&(x=null);var Bt=!1;if(x===null)Bt=!0;else switch(xt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(x.$$typeof){case a:case t:Bt=!0;break;case E:return Bt=x._init,G(Bt(x._payload),Y,st,lt,At)}}if(Bt)return At=At(x),Bt=lt===""?"."+he(x,0):lt,Vt(At)?(st="",Bt!=null&&(st=Bt.replace(w,"$&/")+"/"),G(At,Y,st,"",function(ni){return ni})):At!=null&&(N(At)&&(At=V(At,st+(At.key==null||x&&x.key===At.key?"":(""+At.key).replace(w,"$&/")+"/")+Bt)),Y.push(At)),1;Bt=0;var Ie=lt===""?".":lt+":";if(Vt(x))for(var fe=0;fe<x.length;fe++)lt=x[fe],xt=Ie+he(lt,fe),Bt+=G(lt,Y,st,xt,At);else if(fe=Q(x),typeof fe=="function")for(x=fe.call(x),fe=0;!(lt=x.next()).done;)lt=lt.value,xt=Ie+he(lt,fe++),Bt+=G(lt,Y,st,xt,At);else if(xt==="object"){if(typeof x.then=="function")return G(ye(x),Y,st,lt,At);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function rt(x,Y,st){if(x==null)return x;var lt=[],At=0;return G(x,lt,"","",function(xt){return Y.call(st,xt,At++)}),lt}function mt(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(st){(x._status===0||x._status===-1)&&(x._status=1,x._result=st)},function(st){(x._status===0||x._status===-1)&&(x._status=2,x._result=st)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var Yt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},te={map:rt,forEach:function(x,Y,st){rt(x,function(){Y.apply(this,arguments)},st)},count:function(x){var Y=0;return rt(x,function(){Y++}),Y},toArray:function(x){return rt(x,function(Y){return Y})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return It.Activity=S,It.Children=te,It.Component=yt,It.Fragment=i,It.Profiler=l,It.PureComponent=Et,It.StrictMode=s,It.Suspense=y,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,It.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},It.cache=function(x){return function(){return x.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(x,Y,st){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var lt=et({},x.props),At=x.key;if(Y!=null)for(xt in Y.key!==void 0&&(At=""+Y.key),Y)!A.call(Y,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&Y.ref===void 0||(lt[xt]=Y[xt]);var xt=arguments.length-2;if(xt===1)lt.children=st;else if(1<xt){for(var Bt=Array(xt),Ie=0;Ie<xt;Ie++)Bt[Ie]=arguments[Ie+2];lt.children=Bt}return R(x.type,At,lt)},It.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},It.createElement=function(x,Y,st){var lt,At={},xt=null;if(Y!=null)for(lt in Y.key!==void 0&&(xt=""+Y.key),Y)A.call(Y,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(At[lt]=Y[lt]);var Bt=arguments.length-2;if(Bt===1)At.children=st;else if(1<Bt){for(var Ie=Array(Bt),fe=0;fe<Bt;fe++)Ie[fe]=arguments[fe+2];At.children=Ie}if(x&&x.defaultProps)for(lt in Bt=x.defaultProps,Bt)At[lt]===void 0&&(At[lt]=Bt[lt]);return R(x,xt,At)},It.createRef=function(){return{current:null}},It.forwardRef=function(x){return{$$typeof:g,render:x}},It.isValidElement=N,It.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:mt}},It.memo=function(x,Y){return{$$typeof:_,type:x,compare:Y===void 0?null:Y}},It.startTransition=function(x){var Y=I.T,st={};I.T=st;try{var lt=x(),At=I.S;At!==null&&At(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(kt,Yt)}catch(xt){Yt(xt)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),I.T=Y}},It.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},It.use=function(x){return I.H.use(x)},It.useActionState=function(x,Y,st){return I.H.useActionState(x,Y,st)},It.useCallback=function(x,Y){return I.H.useCallback(x,Y)},It.useContext=function(x){return I.H.useContext(x)},It.useDebugValue=function(){},It.useDeferredValue=function(x,Y){return I.H.useDeferredValue(x,Y)},It.useEffect=function(x,Y){return I.H.useEffect(x,Y)},It.useEffectEvent=function(x){return I.H.useEffectEvent(x)},It.useId=function(){return I.H.useId()},It.useImperativeHandle=function(x,Y,st){return I.H.useImperativeHandle(x,Y,st)},It.useInsertionEffect=function(x,Y){return I.H.useInsertionEffect(x,Y)},It.useLayoutEffect=function(x,Y){return I.H.useLayoutEffect(x,Y)},It.useMemo=function(x,Y){return I.H.useMemo(x,Y)},It.useOptimistic=function(x,Y){return I.H.useOptimistic(x,Y)},It.useReducer=function(x,Y,st){return I.H.useReducer(x,Y,st)},It.useRef=function(x){return I.H.useRef(x)},It.useState=function(x){return I.H.useState(x)},It.useSyncExternalStore=function(x,Y,st){return I.H.useSyncExternalStore(x,Y,st)},It.useTransition=function(){return I.H.useTransition()},It.version="19.2.0",It}var R_;function mm(){return R_||(R_=1,bd.exports=Sb()),bd.exports}var Pt=mm(),Sd={exports:{}},Rl={},Ad={exports:{}},wd={};var C_;function Ab(){return C_||(C_=1,(function(a){function t(G,rt){var mt=G.length;G.push(rt);t:for(;0<mt;){var Yt=mt-1>>>1,te=G[Yt];if(0<l(te,rt))G[Yt]=rt,G[mt]=te,mt=Yt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var rt=G[0],mt=G.pop();if(mt!==rt){G[0]=mt;t:for(var Yt=0,te=G.length,x=te>>>1;Yt<x;){var Y=2*(Yt+1)-1,st=G[Y],lt=Y+1,At=G[lt];if(0>l(st,mt))lt<te&&0>l(At,st)?(G[Yt]=At,G[lt]=mt,Yt=lt):(G[Yt]=st,G[Y]=mt,Yt=Y);else if(lt<te&&0>l(At,mt))G[Yt]=At,G[lt]=mt,Yt=lt;else break t}}return rt}function l(G,rt){var mt=G.sortIndex-rt.sortIndex;return mt!==0?mt:G.id-rt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],_=[],E=1,S=null,M=3,Q=!1,J=!1,et=!1,tt=!1,yt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;function Dt(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)s(_);else if(rt.startTime<=G)s(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function Vt(G){if(et=!1,Dt(G),!J)if(i(y)!==null)J=!0,kt||(kt=!0,O());else{var rt=i(_);rt!==null&&ye(Vt,rt.startTime-G)}}var kt=!1,I=-1,A=5,R=-1;function V(){return tt?!0:!(a.unstable_now()-R<A)}function N(){if(tt=!1,kt){var G=a.unstable_now();R=G;var rt=!0;try{t:{J=!1,et&&(et=!1,Tt(I),I=-1),Q=!0;var mt=M;try{e:{for(Dt(G),S=i(y);S!==null&&!(S.expirationTime>G&&V());){var Yt=S.callback;if(typeof Yt=="function"){S.callback=null,M=S.priorityLevel;var te=Yt(S.expirationTime<=G);if(G=a.unstable_now(),typeof te=="function"){S.callback=te,Dt(G),rt=!0;break e}S===i(y)&&s(y),Dt(G)}else s(y);S=i(y)}if(S!==null)rt=!0;else{var x=i(_);x!==null&&ye(Vt,x.startTime-G),rt=!1}}break t}finally{S=null,M=mt,Q=!1}rt=void 0}}finally{rt?O():kt=!1}}}var O;if(typeof Et=="function")O=function(){Et(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,he=w.port2;w.port1.onmessage=N,O=function(){he.postMessage(null)}}else O=function(){yt(N,0)};function ye(G,rt){I=yt(function(){G(a.unstable_now())},rt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_next=function(G){switch(M){case 1:case 2:case 3:var rt=3;break;default:rt=M}var mt=M;M=rt;try{return G()}finally{M=mt}},a.unstable_requestPaint=function(){tt=!0},a.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=M;M=G;try{return rt()}finally{M=mt}},a.unstable_scheduleCallback=function(G,rt,mt){var Yt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Yt+mt:Yt):mt=Yt,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=mt+te,G={id:E++,callback:rt,priorityLevel:G,startTime:mt,expirationTime:te,sortIndex:-1},mt>Yt?(G.sortIndex=mt,t(_,G),i(y)===null&&G===i(_)&&(et?(Tt(I),I=-1):et=!0,ye(Vt,mt-Yt))):(G.sortIndex=te,t(y,G),J||Q||(J=!0,kt||(kt=!0,O()))),G},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(G){var rt=M;return function(){var mt=M;M=rt;try{return G.apply(this,arguments)}finally{M=mt}}}})(wd)),wd}var I_;function wb(){return I_||(I_=1,Ad.exports=Ab()),Ad.exports}var Rd={exports:{}},ln={};var N_;function Rb(){if(N_)return ln;N_=1;var a=mm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},ln.flushSync=function(y){var _=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=E,s.d.f()}},ln.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},ln.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ln.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,S=g(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:Q}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:M,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ln.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},ln.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,S=g(E,_.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ln.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=g(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},ln.requestFormReset=function(y){s.d.r(y)},ln.unstable_batchedUpdates=function(y,_){return y(_)},ln.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.0",ln}var D_;function Cb(){if(D_)return Rd.exports;D_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Rd.exports=Rb(),Rd.exports}var x_;function Ib(){if(x_)return Rl;x_=1;var a=wb(),t=mm(),i=Cb();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,o=f;break}if(T===o){p=!0,o=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,o=h;break}if(T===o){p=!0,o=f,r=h;break}T=T.sibling}if(!p)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),Vt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case yt:return"Profiler";case tt:return"StrictMode";case Vt:return"Suspense";case kt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case Et:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case Dt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}var ye=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Yt=[],te=-1;function x(e){return{current:e}}function Y(e){0>te||(e.current=Yt[te],Yt[te]=null,te--)}function st(e,n){te++,Yt[te]=e.current,e.current=n}var lt=x(null),At=x(null),xt=x(null),Bt=x(null);function Ie(e,n){switch(st(xt,n),st(At,e),st(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Yy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(lt),st(lt,e)}function fe(){Y(lt),Y(At),Y(xt)}function ni(e){e.memoizedState!==null&&st(Bt,e);var n=lt.current,r=Yy(n,e.type);n!==r&&(st(At,e),st(lt,r))}function Gi(e){At.current===e&&(Y(lt),Y(At)),Bt.current===e&&(Y(Bt),El._currentValue=mt)}var Ar,Fi;function zn(e){if(Ar===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ar=n&&n[1]||"",Fi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+e+Fi}var bs=!1;function Qi(e,n){if(!e||bs)return"";bs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){z=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),P=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{bs=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?zn(r):""}function Ss(e,n){switch(e.tag){case 26:case 27:case 5:return zn(e.type);case 16:return zn("Lazy");case 13:return e.child!==n&&n!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return Qi(e.type,!1);case 11:return Qi(e.type.render,!1);case 1:return Qi(e.type,!0);case 31:return zn("Activity");default:return""}}function As(e){try{var n="",r=null;do n+=Ss(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Se=Object.prototype.hasOwnProperty,Ae=a.unstable_scheduleCallback,ii=a.unstable_cancelCallback,Ro=a.unstable_shouldYield,ca=a.unstable_requestPaint,Je=a.unstable_now,gi=a.unstable_getCurrentPriorityLevel,wr=a.unstable_ImmediatePriority,ws=a.unstable_UserBlockingPriority,pi=a.unstable_NormalPriority,Co=a.unstable_LowPriority,Rs=a.unstable_IdlePriority,ha=a.log,fa=a.unstable_setDisableYieldValue,Cn=null,Te=null;function pn(e){if(typeof ha=="function"&&fa(e),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(Cn,e)}catch{}}var Ee=Math.clz32?Math.clz32:In,da=Math.log,Rr=Math.LN2;function In(e){return e>>>=0,e===0?32:31-(da(e)/Rr|0)|0}var Nn=256,yi=262144,we=4194304;function jn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yn(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=jn(o):(p&=T,p!==0?h=jn(p):r||(r=T&~e,r!==0&&(h=jn(r))))):(T=o&~f,T!==0?h=jn(T):p!==0?h=jn(p):r||(r=o&~e,r!==0&&(h=jn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function B(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function W(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function at(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ot(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gt(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(r=p&~r;0<r;){var F=31-Ee(r),X=1<<F;T[F]=0,C[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}r&=~X}o!==0&&ft(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ft(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ee(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Ut(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ee(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Rt(e,n){var r=n&-n;return r=(r&42)!==0?1:se(r),(r&(e.suspendedLanes|n))!==0?0:r}function se(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yi(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:p_(e.type))}function Ye(e,n){var r=rt.p;try{return rt.p=e,n()}finally{rt.p=r}}var dn=Math.random().toString(36).slice(2),Me="__reactFiber$"+dn,Ke="__reactProps$"+dn,_i="__reactContainer$"+dn,ma="__reactEvents$"+dn,Rh="__reactListeners$"+dn,au="__reactHandles$"+dn,ou="__reactResources$"+dn,vi="__reactMarker$"+dn;function ga(e){delete e[Me],delete e[Ke],delete e[ma],delete e[Rh],delete e[au]}function Ti(e){var n=e[Me];if(n)return n;for(var r=e.parentNode;r;){if(n=r[_i]||r[Me]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=t_(e);e!==null;){if(r=e[Me])return r;e=t_(e)}return n}e=r,r=e.parentNode}return null}function Bn(e){if(e=e[Me]||e[_i]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ei(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ve(e){e[vi]=!0}var Io=new Set,No={};function bi(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(No[e]=n,e=0;e<n.length;e++)Io.add(n[e])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Oo={};function lu(e){return Se.call(Oo,e)?!0:Se.call(xo,e)?!1:Do.test(e)?Oo[e]=!0:(xo[e]=!0,!1)}function pa(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function xn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ke(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ne(e){if(!e._valueTracker){var n=Cr(e)?"checked":"value";e._valueTracker=Mo(e,n,""+e[n])}}function Cs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Cr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Is=/[\n"\\]/g;function _n(e){return e.replace(Is,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(e,n,r,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Vo(e,p,Xe(n)):r!=null?Vo(e,p,Xe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Xe(T):e.removeAttribute("name")}function uu(e,n,r,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ne(e);return}r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),ne(e)}function Vo(e,n,r){n==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ir(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,r){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Xe(r):""}function Nr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(ye(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),ne(e)}function vn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Lo(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&ko(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ko(e,f,n[f])}function _a(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(e){return Dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ri(){}var Uo=null;function qn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xr=null,wi=null;function Ns(e){var n=Bn(e);if(n&&(e=n.stateNode)){var r=e[Ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ya(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ke]||null;if(!h)throw Error(s(90));ya(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Cs(o)}break t;case"textarea":cu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Ir(e,!!r.multiple,n,!1)}}}var Ta=!1;function Or(e,n,r){if(Ta)return e(n,r);Ta=!0;try{var o=e(n);return o}finally{if(Ta=!1,(xr!==null||wi!==null)&&(sc(),xr&&(n=xr,e=wi,wi=xr=null,Ns(n),e)))for(n=0;n<e.length;n++)Ns(e[n])}}function si(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ke]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(Hn)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{Ds=!1}var Ri=null,Po=null,xs=null;function zo(){if(xs)return xs;var e,n=Po,r=n.length,o,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return xs=h.slice(e,1<o?1-o:void 0)}function Os(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ki(){return!0}function ai(){return!1}function We(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ai,this.isPropagationStopped=ai,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=We(Xi),Mr=S({},Xi,{view:0,detail:0}),jo=We(Mr),Vr,Ea,Ii,ba=S({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(Vr=e.screenX-Ii.screenX,Ea=e.screenY-Ii.screenY):Ea=Vr=0,Ii=e),Vr)},movementY:function(e){return"movementY"in e?e.movementY:Ea}}),Bo=We(ba),Ms=S({},ba,{dataTransfer:0}),du=We(Ms),mu=S({},Mr,{relatedTarget:0}),Vs=We(mu),qo=S({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=We(qo),Sa=S({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=We(Sa),yu=S({},Xi,{data:0}),Ni=We(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function kr(){return Eu}var mn=S({},Mr,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return e.type==="keypress"?Os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=We(mn),Su=S({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=We(Su),u=S({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),m=We(u),v=S({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=We(v),L=S({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=We(L),it=S({},Xi,{newState:0,oldState:0}),Ot=We(it),Ne=[9,13,27,32],Jt=Hn&&"CompositionEvent"in window,_e=null;Hn&&"documentMode"in document&&(_e=document.documentMode);var Gn=Hn&&"TextEvent"in window&&!_e,Di=Hn&&(!Jt||_e&&8<_e&&11>=_e),oi=" ",li=!1;function ks(e,n){switch(e){case"keyup":return Ne.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function FE(e,n){switch(e){case"compositionend":return Aa(n);case"keypress":return n.which!==32?null:(li=!0,oi);case"textInput":return e=n.data,e===oi&&li?null:e;default:return null}}function QE(e,n){if(wa)return e==="compositionend"||!Jt&&ks(e,n)?(e=zo(),xs=Po=Ri=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var YE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!YE[e.type]:n==="textarea"}function rg(e,n,r,o){xr?wi?wi.push(o):wi=[o]:xr=o,n=fc(n,"onChange"),0<n.length&&(r=new Ci("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ho=null,Go=null;function KE(e){jy(e,0)}function Au(e){var n=Dn(e);if(Cs(n))return e}function sg(e,n){if(e==="change")return n}var ag=!1;if(Hn){var Ch;if(Hn){var Ih="oninput"in document;if(!Ih){var og=document.createElement("div");og.setAttribute("oninput","return;"),Ih=typeof og.oninput=="function"}Ch=Ih}else Ch=!1;ag=Ch&&(!document.documentMode||9<document.documentMode)}function lg(){Ho&&(Ho.detachEvent("onpropertychange",ug),Go=Ho=null)}function ug(e){if(e.propertyName==="value"&&Au(Go)){var n=[];rg(n,Go,e,qn(e)),Or(KE,n)}}function XE(e,n,r){e==="focusin"?(lg(),Ho=n,Go=r,Ho.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function $E(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Go)}function ZE(e,n){if(e==="click")return Au(n)}function JE(e,n){if(e==="input"||e==="change")return Au(n)}function WE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var On=typeof Object.is=="function"?Object.is:WE;function Fo(e,n){if(On(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Se.call(n,h)||!On(e[h],n[h]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,n){var r=cg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cg(r)}}function fg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ai(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Ai(e.document)}return n}function Nh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var t1=Hn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Dh=null,Qo=null,xh=!1;function mg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xh||Ra==null||Ra!==Ai(o)||(o=Ra,"selectionStart"in o&&Nh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Fo(Qo,o)||(Qo=o,o=fc(Dh,"onSelect"),0<o.length&&(n=new Ci("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Ra)))}function Ls(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ca={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Oh={},gg={};Hn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Us(e){if(Oh[e])return Oh[e];if(!Ca[e])return e;var n=Ca[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in gg)return Oh[e]=n[r];return e}var pg=Us("animationend"),yg=Us("animationiteration"),_g=Us("animationstart"),e1=Us("transitionrun"),n1=Us("transitionstart"),i1=Us("transitioncancel"),vg=Us("transitionend"),Tg=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function ui(e,n){Tg.set(e,n),bi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fn=[],Ia=0,Vh=0;function Ru(){for(var e=Ia,n=Vh=Ia=0;n<e;){var r=Fn[n];Fn[n++]=null;var o=Fn[n];Fn[n++]=null;var h=Fn[n];Fn[n++]=null;var f=Fn[n];if(Fn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Eg(r,h,f)}}function Cu(e,n,r,o){Fn[Ia++]=e,Fn[Ia++]=n,Fn[Ia++]=r,Fn[Ia++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function kh(e,n,r,o){return Cu(e,n,r,o),Iu(e)}function Ps(e,n){return Cu(e,null,null,n),Iu(e)}function Eg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ee(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Iu(e){if(50<ml)throw ml=0,Ff=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Na={};function r1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,n,r,o){return new r1(e,n,r,o)}function Lh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,n){var r=e.alternate;return r===null?(r=Mn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function bg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Lh(e)&&(p=1);else if(typeof e=="string")p=ub(e,r,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Mn(31,r,n,h),e.elementType=R,e.lanes=f,e;case et:return zs(r.children,h,f,n);case tt:p=8,h|=24;break;case yt:return e=Mn(12,r,n,h|2),e.elementType=yt,e.lanes=f,e;case Vt:return e=Mn(13,r,n,h),e.elementType=Vt,e.lanes=f,e;case kt:return e=Mn(19,r,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:p=10;break t;case Tt:p=9;break t;case Dt:p=11;break t;case I:p=14;break t;case A:p=16,o=null;break t}p=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Mn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function zs(e,n,r,o){return e=Mn(7,e,o,n),e.lanes=r,e}function Uh(e,n,r){return e=Mn(6,e,null,n),e.lanes=r,e}function Sg(e){var n=Mn(18,null,null,0);return n.stateNode=e,n}function Ph(e,n,r){return n=Mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ag=new WeakMap;function Qn(e,n){if(typeof e=="object"&&e!==null){var r=Ag.get(e);return r!==void 0?r:(n={value:e,source:n,stack:As(n)},Ag.set(e,n),n)}return{value:e,source:n,stack:As(n)}}var Da=[],xa=0,Du=null,Yo=0,Yn=[],Kn=0,Lr=null,xi=1,Oi="";function Ji(e,n){Da[xa++]=Yo,Da[xa++]=Du,Du=e,Yo=n}function wg(e,n,r){Yn[Kn++]=xi,Yn[Kn++]=Oi,Yn[Kn++]=Lr,Lr=e;var o=xi;e=Oi;var h=32-Ee(o)-1;o&=~(1<<h),r+=1;var f=32-Ee(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,xi=1<<32-Ee(n)+h|r<<h|o,Oi=f+e}else xi=1<<f|r<<h|o,Oi=e}function zh(e){e.return!==null&&(Ji(e,1),wg(e,1,0))}function jh(e){for(;e===Du;)Du=Da[--xa],Da[xa]=null,Yo=Da[--xa],Da[xa]=null;for(;e===Lr;)Lr=Yn[--Kn],Yn[Kn]=null,Oi=Yn[--Kn],Yn[Kn]=null,xi=Yn[--Kn],Yn[Kn]=null}function Rg(e,n){Yn[Kn++]=xi,Yn[Kn++]=Oi,Yn[Kn++]=Lr,xi=n.id,Oi=n.overflow,Lr=e}var tn=null,me=null,Kt=!1,Ur=null,Xn=!1,Bh=Error(s(519));function Pr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Qn(n,e)),Bh}function Cg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Me]=e,n[Ke]=o,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(r=0;r<pl.length;r++)jt(pl[r],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":jt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":jt("invalid",n);break;case"textarea":jt("invalid",n),Nr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Gy(n.textContent,r)?(o.popover!=null&&(jt("beforetoggle",n),jt("toggle",n)),o.onScroll!=null&&jt("scroll",n),o.onScrollEnd!=null&&jt("scrollend",n),o.onClick!=null&&(n.onclick=ri),n=!0):n=!1,n||Pr(e,!0)}function Ig(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:tn=tn.return}}function Oa(e){if(e!==tn)return!1;if(!Kt)return Ig(e),Kt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ad(e.type,e.memoizedProps)),r=!r),r&&me&&Pr(e),Ig(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));me=Wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));me=Wy(e)}else n===27?(n=me,Jr(e.type)?(e=hd,hd=null,me=e):me=n):me=tn?Zn(e.stateNode.nextSibling):null;return!0}function js(){me=tn=null,Kt=!1}function qh(){var e=Ur;return e!==null&&(Sn===null?Sn=e:Sn.push.apply(Sn,e),Ur=null),e}function Ko(e){Ur===null?Ur=[e]:Ur.push(e)}var Hh=x(null),Bs=null,Wi=null;function zr(e,n,r){st(Hh,n._currentValue),n._currentValue=r}function tr(e){e._currentValue=Hh.current,Y(Hh)}function Gh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Fh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Gh(f.return,r,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Gh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ma(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var T=h.type;On(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Bt.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&Fh(n,e,r,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!On(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qs(e){Bs=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return Ng(Bs,e)}function Ou(e,n){return Bs===null&&qs(e),Ng(e,n)}function Ng(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Wi===null){if(e===null)throw Error(s(308));Wi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wi=Wi.next=n;return r}var s1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},a1=a.unstable_scheduleCallback,o1=a.unstable_NormalPriority,Le={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new s1,data:new Map,refCount:0}}function Xo(e){e.refCount--,e.refCount===0&&a1(o1,function(){e.controller.abort()})}var $o=null,Yh=0,Va=0,ka=null;function l1(e,n){if($o===null){var r=$o=[];Yh=0,Va=Zf(),ka={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Yh++,n.then(Dg,Dg),n}function Dg(){if(--Yh===0&&$o!==null){ka!==null&&(ka.status="fulfilled");var e=$o;$o=null,Va=0,ka=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function u1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var xg=G.S;G.S=function(e,n){my=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&l1(e,n),xg!==null&&xg(e,n)};var Hs=x(null);function Kh(){var e=Hs.current;return e!==null?e:ce.pooledCache}function Mu(e,n){n===null?st(Hs,Hs.current):st(Hs,n.pool)}function Og(){var e=Kh();return e===null?null:{parent:Le._currentValue,pool:e}}var La=Error(s(460)),Xh=Error(s(474)),Vu=Error(s(542)),ku={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ri,ri),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e;default:if(typeof n.status=="string")n.then(ri,ri);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e}throw Fs=n,La}}function Gs(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Fs=r,La):r}}var Fs=null;function kg(){if(Fs===null)throw Error(s(459));var e=Fs;return Fs=null,e}function Lg(e){if(e===La||e===Vu)throw Error(s(483))}var Ua=null,Zo=0;function Lu(e){var n=Zo;return Zo+=1,Ua===null&&(Ua=[]),Vg(Ua,e,n)}function Jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===M?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ug(e){function n(k,D){if(e){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function r(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Zi(k,D),k.index=0,k.sibling=null,k}function f(k,D,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,U,K){return D===null||D.tag!==6?(D=Uh(U,k.mode,K),D.return=k,D):(D=h(D,U),D.return=k,D)}function C(k,D,U,K){var _t=U.type;return _t===et?F(k,D,U.props.children,K,U.key):D!==null&&(D.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&Gs(_t)===D.type)?(D=h(D,U.props),Jo(D,U),D.return=k,D):(D=Nu(U.type,U.key,U.props,null,k.mode,K),Jo(D,U),D.return=k,D)}function P(k,D,U,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Ph(U,k.mode,K),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function F(k,D,U,K,_t){return D===null||D.tag!==7?(D=zs(U,k.mode,K,_t),D.return=k,D):(D=h(D,U),D.return=k,D)}function X(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Uh(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return U=Nu(D.type,D.key,D.props,null,k.mode,U),Jo(U,D),U.return=k,U;case J:return D=Ph(D,k.mode,U),D.return=k,D;case A:return D=Gs(D),X(k,D,U)}if(ye(D)||O(D))return D=zs(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return X(k,Lu(D),U);if(D.$$typeof===Et)return X(k,Ou(k,D),U);Uu(k,D)}return null}function z(k,D,U,K){var _t=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return _t!==null?null:T(k,D,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:return U.key===_t?C(k,D,U,K):null;case J:return U.key===_t?P(k,D,U,K):null;case A:return U=Gs(U),z(k,D,U,K)}if(ye(U)||O(U))return _t!==null?null:F(k,D,U,K,null);if(typeof U.then=="function")return z(k,D,Lu(U),K);if(U.$$typeof===Et)return z(k,D,Ou(k,U),K);Uu(k,U)}return null}function H(k,D,U,K,_t){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(U)||null,T(D,k,""+K,_t);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?U:K.key)||null,C(D,k,K,_t);case J:return k=k.get(K.key===null?U:K.key)||null,P(D,k,K,_t);case A:return K=Gs(K),H(k,D,U,K,_t)}if(ye(K)||O(K))return k=k.get(U)||null,F(D,k,K,_t,null);if(typeof K.then=="function")return H(k,D,U,Lu(K),_t);if(K.$$typeof===Et)return H(k,D,U,Ou(D,K),_t);Uu(D,K)}return null}function ht(k,D,U,K){for(var _t=null,$t=null,dt=D,Lt=D=0,Ht=null;dt!==null&&Lt<U.length;Lt++){dt.index>Lt?(Ht=dt,dt=null):Ht=dt.sibling;var Zt=z(k,dt,U[Lt],K);if(Zt===null){dt===null&&(dt=Ht);break}e&&dt&&Zt.alternate===null&&n(k,dt),D=f(Zt,D,Lt),$t===null?_t=Zt:$t.sibling=Zt,$t=Zt,dt=Ht}if(Lt===U.length)return r(k,dt),Kt&&Ji(k,Lt),_t;if(dt===null){for(;Lt<U.length;Lt++)dt=X(k,U[Lt],K),dt!==null&&(D=f(dt,D,Lt),$t===null?_t=dt:$t.sibling=dt,$t=dt);return Kt&&Ji(k,Lt),_t}for(dt=o(dt);Lt<U.length;Lt++)Ht=H(dt,k,Lt,U[Lt],K),Ht!==null&&(e&&Ht.alternate!==null&&dt.delete(Ht.key===null?Lt:Ht.key),D=f(Ht,D,Lt),$t===null?_t=Ht:$t.sibling=Ht,$t=Ht);return e&&dt.forEach(function(is){return n(k,is)}),Kt&&Ji(k,Lt),_t}function bt(k,D,U,K){if(U==null)throw Error(s(151));for(var _t=null,$t=null,dt=D,Lt=D=0,Ht=null,Zt=U.next();dt!==null&&!Zt.done;Lt++,Zt=U.next()){dt.index>Lt?(Ht=dt,dt=null):Ht=dt.sibling;var is=z(k,dt,Zt.value,K);if(is===null){dt===null&&(dt=Ht);break}e&&dt&&is.alternate===null&&n(k,dt),D=f(is,D,Lt),$t===null?_t=is:$t.sibling=is,$t=is,dt=Ht}if(Zt.done)return r(k,dt),Kt&&Ji(k,Lt),_t;if(dt===null){for(;!Zt.done;Lt++,Zt=U.next())Zt=X(k,Zt.value,K),Zt!==null&&(D=f(Zt,D,Lt),$t===null?_t=Zt:$t.sibling=Zt,$t=Zt);return Kt&&Ji(k,Lt),_t}for(dt=o(dt);!Zt.done;Lt++,Zt=U.next())Zt=H(dt,k,Lt,Zt.value,K),Zt!==null&&(e&&Zt.alternate!==null&&dt.delete(Zt.key===null?Lt:Zt.key),D=f(Zt,D,Lt),$t===null?_t=Zt:$t.sibling=Zt,$t=Zt);return e&&dt.forEach(function(Tb){return n(k,Tb)}),Kt&&Ji(k,Lt),_t}function ue(k,D,U,K){if(typeof U=="object"&&U!==null&&U.type===et&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:t:{for(var _t=U.key;D!==null;){if(D.key===_t){if(_t=U.type,_t===et){if(D.tag===7){r(k,D.sibling),K=h(D,U.props.children),K.return=k,k=K;break t}}else if(D.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&Gs(_t)===D.type){r(k,D.sibling),K=h(D,U.props),Jo(K,U),K.return=k,k=K;break t}r(k,D);break}else n(k,D);D=D.sibling}U.type===et?(K=zs(U.props.children,k.mode,K,U.key),K.return=k,k=K):(K=Nu(U.type,U.key,U.props,null,k.mode,K),Jo(K,U),K.return=k,k=K)}return p(k);case J:t:{for(_t=U.key;D!==null;){if(D.key===_t)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){r(k,D.sibling),K=h(D,U.children||[]),K.return=k,k=K;break t}else{r(k,D);break}else n(k,D);D=D.sibling}K=Ph(U,k.mode,K),K.return=k,k=K}return p(k);case A:return U=Gs(U),ue(k,D,U,K)}if(ye(U))return ht(k,D,U,K);if(O(U)){if(_t=O(U),typeof _t!="function")throw Error(s(150));return U=_t.call(U),bt(k,D,U,K)}if(typeof U.then=="function")return ue(k,D,Lu(U),K);if(U.$$typeof===Et)return ue(k,D,Ou(k,U),K);Uu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,U),K.return=k,k=K):(r(k,D),K=Uh(U,k.mode,K),K.return=k,k=K),p(k)):r(k,D)}return function(k,D,U,K){try{Zo=0;var _t=ue(k,D,U,K);return Ua=null,_t}catch(dt){if(dt===La||dt===Vu)throw dt;var $t=Mn(29,dt,null,k.mode);return $t.lanes=K,$t.return=k,$t}finally{}}}var Qs=Ug(!0),Pg=Ug(!1),jr=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Wt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Eg(e,null,r),n}return Cu(e,o,n,r),Iu(e)}function Wo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ut(e,r)}}function Jh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Wh=!1;function tl(){if(Wh){var e=ka;if(e!==null)throw e}}function el(e,n,r,o){Wh=!1;var h=e.updateQueue;jr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,p===null?f=P:p.next=P,p=C;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=P:T.next=P,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;p=0,F=P=C=null,T=f;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(qt&z)===z:(o&z)===z){z!==0&&z===Va&&(Wh=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ht=e,bt=T;z=n;var ue=r;switch(bt.tag){case 1:if(ht=bt.payload,typeof ht=="function"){X=ht.call(ue,X,z);break t}X=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=bt.payload,z=typeof ht=="function"?ht.call(ue,X,z):ht,z==null)break t;X=S({},X,z);break t;case 2:jr=!0}}z=T.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(P=F=H,C=X):F=F.next=H,p|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Yr|=p,e.lanes=p,e.memoizedState=X}}function zg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function jg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)zg(r[e],n)}var Pa=x(null),Pu=x(0);function Bg(e,n){e=ur,st(Pu,e),st(Pa,n),ur=e|n.baseLanes}function tf(){st(Pu,ur),st(Pa,Pa.current)}function ef(){ur=Pu.current,Y(Pa),Y(Pu)}var Vn=x(null),$n=null;function Hr(e){var n=e.alternate;st(De,De.current&1),st(Vn,e),$n===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&($n=e)}function nf(e){st(De,De.current),st(Vn,e),$n===null&&($n=e)}function qg(e){e.tag===22?(st(De,De.current),st(Vn,e),$n===null&&($n=e)):Gr()}function Gr(){st(De,De.current),st(Vn,Vn.current)}function kn(e){Y(Vn),$n===e&&($n=null),Y(De)}var De=x(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ud(r)||cd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var er=0,Mt=null,oe=null,Ue=null,ju=!1,za=!1,Ys=!1,Bu=0,nl=0,ja=null,c1=0;function Re(){throw Error(s(321))}function rf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!On(e[r],n[r]))return!1;return!0}function sf(e,n,r,o,h,f){return er=f,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?wp:Tf,Ys=!1,f=r(o,h),Ys=!1,za&&(f=Gg(n,r,o,h)),Hg(e),f}function Hg(e){G.H=sl;var n=oe!==null&&oe.next!==null;if(er=0,Ue=oe=Mt=null,ju=!1,nl=0,ja=null,n)throw Error(s(300));e===null||Pe||(e=e.dependencies,e!==null&&xu(e)&&(Pe=!0))}function Gg(e,n,r,o){Mt=e;var h=0;do{if(za&&(ja=null),nl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,Ue=oe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Rp,f=n(r,o)}while(za);return f}function h1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?il(n):n,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(Mt.flags|=1024),n}function af(){var e=Bu!==0;return Bu=0,e}function of(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function lf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}er=0,Ue=oe=Mt=null,za=!1,nl=Bu=0,ja=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Mt.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function xe(){if(oe===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var n=Ue===null?Mt.memoizedState:Ue.next;if(n!==null)Ue=n,oe=e;else{if(e===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Ue===null?Mt.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(e){var n=nl;return nl+=1,ja===null&&(ja=[]),e=Vg(ja,e,n),n=Mt,(Ue===null?n.memoizedState:Ue.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?wp:Tf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return il(e);if(e.$$typeof===Et)return en(e)}throw Error(s(438,String(e)))}function uf(e){var n=null,r=Mt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Mt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),Mt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function nr(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=xe();return cf(n,oe,e)}function cf(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,C=null,P=n,F=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(qt&X)===X:(er&X)===X){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Va&&(F=!0);else if((er&z)===z){P=P.next,z===Va&&(F=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=X,p=f):C=C.next=X,Mt.lanes|=z,Yr|=z;X=P.action,Ys&&r(f,X),f=P.hasEagerState?P.eagerState:r(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=z,p=f):C=C.next=z,Mt.lanes|=X,Yr|=X;P=P.next}while(P!==null&&P!==n);if(C===null?p=f:C.next=T,!On(f,e.memoizedState)&&(Pe=!0,F&&(r=ka,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function hf(e){var n=xe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);On(f,n.memoizedState)||(Pe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Fg(e,n,r){var o=Mt,h=xe(),f=Kt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var p=!On((oe||h).memoizedState,r);if(p&&(h.memoizedState=r,Pe=!0),h=h.queue,mf(Kg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ue!==null&&Ue.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},Yg.bind(null,o,h,r,n),null),ce===null)throw Error(s(349));f||(er&127)!==0||Qg(o,n,r)}return r}function Qg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Mt.updateQueue,n===null?(n=qu(),Mt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Yg(e,n,r,o){n.value=r,n.getSnapshot=o,Xg(n)&&$g(e)}function Kg(e,n,r){return r(function(){Xg(n)&&$g(e)})}function Xg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!On(e,r)}catch{return!0}}function $g(e){var n=Ps(e,2);n!==null&&An(n,e,2)}function ff(e){var n=gn();if(typeof e=="function"){var r=e;if(e=r(),Ys){pn(!0);try{r()}finally{pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:e},n}function Zg(e,n,r,o){return e.baseState=r,cf(e,oe,typeof o=="function"?o:nr)}function f1(e,n,r,o,h){if(Yu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Jg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Jg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=r(h,o),C=G.S;C!==null&&C(p,T),Wg(e,n,T)}catch(P){df(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,o),Wg(e,n,f)}catch(P){df(e,n,P)}}function Wg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){tp(e,n,o)},function(o){return df(e,n,o)}):tp(e,n,r)}function tp(e,n,r){n.status="fulfilled",n.value=r,ep(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Jg(e,r)))}function df(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ep(n),n=n.next;while(n!==o)}e.action=null}function ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function np(e,n){return n}function ip(e,n){if(Kt){var r=ce.formState;if(r!==null){t:{var o=Mt;if(Kt){if(me){e:{for(var h=me,f=Xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){me=Zn(h.nextSibling),o=h.data==="F!";break t}}Pr(o)}o=!1}o&&(n=r[0])}}return r=gn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:n},r.queue=o,r=bp.bind(null,Mt,o),o.dispatch=r,o=ff(!1),f=vf.bind(null,Mt,!1,o.queue),o=gn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=f1.bind(null,Mt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function rp(e){var n=xe();return sp(n,oe,e)}function sp(e,n,r){if(n=cf(e,n,np)[0],e=Gu(nr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(p){throw p===La?Vu:p}else o=n;n=xe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Mt.flags|=2048,Ba(9,{destroy:void 0},d1.bind(null,h,r),null)),[o,f,e]}function d1(e,n){e.action=n}function ap(e){var n=xe(),r=oe;if(r!==null)return sp(n,r,e);xe(),n=n.memoizedState,r=xe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ba(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Mt.updateQueue,n===null&&(n=qu(),Mt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function op(){return xe().memoizedState}function Fu(e,n,r,o){var h=gn();Mt.flags|=e,h.memoizedState=Ba(1|n,{destroy:void 0},r,o===void 0?null:o)}function Qu(e,n,r,o){var h=xe();o=o===void 0?null:o;var f=h.memoizedState.inst;oe!==null&&o!==null&&rf(o,oe.memoizedState.deps)?h.memoizedState=Ba(n,f,r,o):(Mt.flags|=e,h.memoizedState=Ba(1|n,f,r,o))}function lp(e,n){Fu(8390656,8,e,n)}function mf(e,n){Qu(2048,8,e,n)}function m1(e){Mt.flags|=4;var n=Mt.updateQueue;if(n===null)n=qu(),Mt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function up(e){var n=xe().memoizedState;return m1({ref:n,nextImpl:e}),function(){if((Wt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function cp(e,n){return Qu(4,2,e,n)}function hp(e,n){return Qu(4,4,e,n)}function fp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dp(e,n,r){r=r!=null?r.concat([e]):null,Qu(4,4,fp.bind(null,n,e),r)}function gf(){}function mp(e,n){var r=xe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&rf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function gp(e,n){var r=xe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&rf(n,o[1]))return o[0];if(o=e(),Ys){pn(!0);try{e()}finally{pn(!1)}}return r.memoizedState=[o,n],o}function pf(e,n,r){return r===void 0||(er&1073741824)!==0&&(qt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=py(),Mt.lanes|=e,Yr|=e,r)}function pp(e,n,r,o){return On(r,n)?r:Pa.current!==null?(e=pf(e,r,o),On(e,n)||(Pe=!0),e):(er&42)===0||(er&1073741824)!==0&&(qt&261930)===0?(Pe=!0,e.memoizedState=r):(e=py(),Mt.lanes|=e,Yr|=e,n)}function yp(e,n,r,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,vf(e,!1,n,r);try{var C=h(),P=G.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=u1(C,o);rl(e,n,F,Pn(e))}else rl(e,n,o,Pn(e))}catch(X){rl(e,n,{then:function(){},status:"rejected",reason:X},Pn())}finally{rt.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function g1(){}function yf(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=_p(e).queue;yp(e,h,n,mt,r===null?g1:function(){return vp(e),r(o)})}function _p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:mt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vp(e){var n=_p(e);n.next===null&&(n=e.alternate.memoizedState),rl(e,n.next.queue,{},Pn())}function _f(){return en(El)}function Tp(){return xe().memoizedState}function Ep(){return xe().memoizedState}function p1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Pn();e=Br(r);var o=qr(n,e,r);o!==null&&(An(o,n,r),Wo(o,n,r)),n={cache:Qh()},e.payload=n;return}n=n.return}}function y1(e,n,r){var o=Pn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Sp(n,r):(r=kh(e,n,r,o),r!==null&&(An(r,e,o),Ap(r,n,o)))}function bp(e,n,r){var o=Pn();rl(e,n,r,o)}function rl(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Sp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,On(T,p))return Cu(e,n,h,0),ce===null&&Ru(),!1}catch{}finally{}if(r=kh(e,n,h,o),r!==null)return An(r,e,o),Ap(r,n,o),!0}return!1}function vf(e,n,r,o){if(o={lane:2,revertLane:Zf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(s(479))}else n=kh(e,r,o,2),n!==null&&An(n,e,2)}function Yu(e){var n=e.alternate;return e===Mt||n!==null&&n===Mt}function Sp(e,n){za=ju=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ap(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ut(e,r)}}var sl={readContext:en,use:Hu,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re};sl.useEffectEvent=Re;var wp={readContext:en,use:Hu,useCallback:function(e,n){return gn().memoizedState=[e,n===void 0?null:n],e},useContext:en,useEffect:lp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Fu(4194308,4,fp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var r=gn();n=n===void 0?null:n;var o=e();if(Ys){pn(!0);try{e()}finally{pn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=gn();if(r!==void 0){var h=r(n);if(Ys){pn(!0);try{r(n)}finally{pn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=y1.bind(null,Mt,e),[o.memoizedState,e]},useRef:function(e){var n=gn();return e={current:e},n.memoizedState=e},useState:function(e){e=ff(e);var n=e.queue,r=bp.bind(null,Mt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:gf,useDeferredValue:function(e,n){var r=gn();return pf(r,e,n)},useTransition:function(){var e=ff(!1);return e=yp.bind(null,Mt,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Mt,h=gn();if(Kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ce===null)throw Error(s(349));(qt&127)!==0||Qg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,lp(Kg.bind(null,o,f,e),[e]),o.flags|=2048,Ba(9,{destroy:void 0},Yg.bind(null,o,f,r,n),null),r},useId:function(){var e=gn(),n=ce.identifierPrefix;if(Kt){var r=Oi,o=xi;r=(o&~(1<<32-Ee(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=c1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:_f,useFormState:ip,useActionState:ip,useOptimistic:function(e){var n=gn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=vf.bind(null,Mt,!0,r),r.dispatch=n,[e,n]},useMemoCache:uf,useCacheRefresh:function(){return gn().memoizedState=p1.bind(null,Mt)},useEffectEvent:function(e){var n=gn(),r={impl:e};return n.memoizedState=r,function(){if((Wt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Tf={readContext:en,use:Hu,useCallback:mp,useContext:en,useEffect:mf,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:Gu,useRef:op,useState:function(){return Gu(nr)},useDebugValue:gf,useDeferredValue:function(e,n){var r=xe();return pp(r,oe.memoizedState,e,n)},useTransition:function(){var e=Gu(nr)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:il(e),n]},useSyncExternalStore:Fg,useId:Tp,useHostTransitionStatus:_f,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var r=xe();return Zg(r,oe,e,n)},useMemoCache:uf,useCacheRefresh:Ep};Tf.useEffectEvent=up;var Rp={readContext:en,use:Hu,useCallback:mp,useContext:en,useEffect:mf,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:hf,useRef:op,useState:function(){return hf(nr)},useDebugValue:gf,useDeferredValue:function(e,n){var r=xe();return oe===null?pf(r,e,n):pp(r,oe.memoizedState,e,n)},useTransition:function(){var e=hf(nr)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:il(e),n]},useSyncExternalStore:Fg,useId:Tp,useHostTransitionStatus:_f,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var r=xe();return oe!==null?Zg(r,oe,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:uf,useCacheRefresh:Ep};Rp.useEffectEvent=up;function Ef(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Pn(),h=Br(o);h.payload=n,r!=null&&(h.callback=r),n=qr(e,h,o),n!==null&&(An(n,e,o),Wo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Pn(),h=Br(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=qr(e,h,o),n!==null&&(An(n,e,o),Wo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Pn(),o=Br(r);o.tag=2,n!=null&&(o.callback=n),n=qr(e,o,r),n!==null&&(An(n,e,r),Wo(n,e,r))}};function Cp(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Fo(r,o)||!Fo(h,f):!0}function Ip(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&bf.enqueueReplaceState(n,n.state,null)}function Ks(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Np(e){wu(e)}function Dp(e){console.error(e)}function xp(e){wu(e)}function Ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Op(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(e,n,r){return r=Br(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(e,n)},r}function Mp(e){return e=Br(e),e.tag=3,e}function Vp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Op(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Op(n,r,o),typeof h!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function _1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ma(n,r,h,!0),r=Vn.current,r!==null){switch(r.tag){case 31:case 13:return $n===null?ac():r.alternate===null&&Ce===0&&(Ce=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Kf(e,o,h)),!1;case 22:return r.flags|=65536,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Kf(e,o,h)),!1}throw Error(s(435,r.tag))}return Kf(e,o,h),ac(),!1}if(Kt)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Bh&&(e=Error(s(422),{cause:o}),Ko(Qn(e,r)))):(o!==Bh&&(n=Error(s(423),{cause:o}),Ko(Qn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Qn(o,r),h=Sf(e.stateNode,o,h),Jh(e,h),Ce!==4&&(Ce=2)),!1;var f=Error(s(520),{cause:o});if(f=Qn(f,r),dl===null?dl=[f]:dl.push(f),Ce!==4&&(Ce=2),n===null)return!0;o=Qn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Sf(r.stateNode,o,e),Jh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Kr===null||!Kr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Mp(h),Vp(h,e,r,o),Jh(r,h),!1}r=r.return}while(r!==null);return!1}var Af=Error(s(461)),Pe=!1;function nn(e,n,r,o){n.child=e===null?Pg(n,null,r,o):Qs(n,e.child,r,o)}function kp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return qs(n),o=sf(e,n,r,p,f,h),T=af(),e!==null&&!Pe?(of(e,n,h),ir(e,n,h)):(Kt&&T&&zh(n),n.flags|=1,nn(e,n,o,h),n.child)}function Lp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Lh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Up(e,n,f,o,h)):(e=Nu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Of(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Fo,r(p,o)&&e.ref===n.ref)return ir(e,n,h)}return n.flags|=1,e=Zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Up(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Fo(f,o)&&e.ref===n.ref)if(Pe=!1,n.pendingProps=o=f,Of(e,h))(e.flags&131072)!==0&&(Pe=!0);else return n.lanes=e.lanes,ir(e,n,h)}return wf(e,n,r,o,h)}function Pp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return zp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Bg(n,f):tf(),qg(n);else return o=n.lanes=536870912,zp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Mu(n,f.cachePool),Bg(n,f),Gr(),n.memoizedState=null):(e!==null&&Mu(n,null),tf(),Gr());return nn(e,n,h,r),n.child}function al(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zp(e,n,r,o,h){var f=Kh();return f=f===null?null:{parent:Le._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Mu(n,null),tf(),qg(n),e!==null&&Ma(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jp(e,n,r){return Qs(n,e.child,null,r),e=Xu(n,n.pendingProps),e.flags|=2,kn(n),n.memoizedState=null,e}function v1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Kt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,al(null,e);if(nf(n),(e=me)?(e=Jy(e,Xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Lr!==null?{id:xi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},r=Sg(e),r.return=n,n.child=r,tn=n,me=null)):e=null,e===null)throw Pr(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(nf(n),h)if(n.flags&256)n.flags&=-257,n=jp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Pe||Ma(e,n,r,!1),h=(r&e.childLanes)!==0,Pe||h){if(o=ce,o!==null&&(p=Rt(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ps(e,p),An(o,e,p),Af;ac(),n=jp(e,n,r)}else e=f.treeContext,me=Zn(p.nextSibling),tn=n,Kt=!0,Ur=null,Xn=!1,e!==null&&Rg(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function wf(e,n,r,o,h){return qs(n),r=sf(e,n,r,o,void 0,h),o=af(),e!==null&&!Pe?(of(e,n,h),ir(e,n,h)):(Kt&&o&&zh(n),n.flags|=1,nn(e,n,r,h),n.child)}function Bp(e,n,r,o,h,f){return qs(n),n.updateQueue=null,r=Gg(n,o,r,h),Hg(e),o=af(),e!==null&&!Pe?(of(e,n,f),ir(e,n,f)):(Kt&&o&&zh(n),n.flags|=1,nn(e,n,r,f),n.child)}function qp(e,n,r,o,h){if(qs(n),n.stateNode===null){var f=Na,p=r.contextType;typeof p=="object"&&p!==null&&(f=en(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},$h(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?en(p):Na,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Ef(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&bf.enqueueReplaceState(f,f.state,null),el(n,o,f,h),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,C=Ks(r,T);f.props=C;var P=f.context,F=r.contextType;p=Na,typeof F=="object"&&F!==null&&(p=en(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==p)&&Ip(n,f,o,p),jr=!1;var z=n.memoizedState;f.state=z,el(n,o,f,h),tl(),P=n.memoizedState,T||z!==P||jr?(typeof X=="function"&&(Ef(n,r,X,o),P=n.memoizedState),(C=jr||Cp(n,r,C,o,z,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Zh(e,n),p=n.memoizedProps,F=Ks(r,p),f.props=F,X=n.pendingProps,z=f.context,P=r.contextType,C=Na,typeof P=="object"&&P!==null&&(C=en(P)),T=r.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==C)&&Ip(n,f,o,C),jr=!1,z=n.memoizedState,f.state=z,el(n,o,f,h),tl();var H=n.memoizedState;p!==X||z!==H||jr||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof T=="function"&&(Ef(n,r,T,o),H=n.memoizedState),(F=jr||Cp(n,r,F,o,z,H,C)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Qs(n,e.child,null,h),n.child=Qs(n,null,r,h)):nn(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ir(e,n,h),e}function Hp(e,n,r,o){return js(),n.flags|=256,nn(e,n,r,o),n.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(e){return{baseLanes:e,cachePool:Og()}}function If(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Un),e}function Gp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Kt){if(h?Hr(n):Gr(),(e=me)?(e=Jy(e,Xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Lr!==null?{id:xi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},r=Sg(e),r.return=n,n.child=r,tn=n,me=null)):e=null,e===null)throw Pr(n);return cd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Gr(),h=n.mode,T=Zu({mode:"hidden",children:T},h),o=zs(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Cf(r),o.childLanes=If(e,p,r),n.memoizedState=Rf,al(null,o)):(Hr(n),Nf(n,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Hr(n),n.flags&=-257,n=Df(e,n,r)):n.memoizedState!==null?(Gr(),n.child=e.child,n.flags|=128,n=null):(Gr(),T=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),T=zs(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Qs(n,e.child,null,r),o=n.child,o.memoizedState=Cf(r),o.childLanes=If(e,p,r),n.memoizedState=Rf,n=al(null,o));else if(Hr(n),cd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(s(419)),o.stack="",o.digest=p,Ko({value:o,source:null,stack:null}),n=Df(e,n,r)}else if(Pe||Ma(e,n,r,!1),p=(r&e.childLanes)!==0,Pe||p){if(p=ce,p!==null&&(o=Rt(p,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ps(e,o),An(p,e,o),Af;ud(T)||ac(),n=Df(e,n,r)}else ud(T)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,me=Zn(T.nextSibling),tn=n,Kt=!0,Ur=null,Xn=!1,e!==null&&Rg(n,e),n=Nf(n,o.children),n.flags|=4096);return n}return h?(Gr(),T=o.fallback,h=n.mode,C=e.child,P=C.sibling,o=Zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=Zi(P,T):(T=zs(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,al(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Cf(r):(h=T.cachePool,h!==null?(C=Le._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Og(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=If(e,p,r),n.memoizedState=Rf,al(e.child,o)):(Hr(n),r=e.child,e=r.sibling,r=Zi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Nf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=Mn(22,e,null,n),e.lanes=0,e}function Df(e,n,r){return Qs(n,e.child,null,r),e=Nf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Gh(e.return,n,r)}function xf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function Qp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=De.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,st(De,p),nn(e,n,o,r),o=Kt?Yo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,r,n);else if(e.tag===19)Fp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&zu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),xf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}xf(n,!0,r,null,f,o);break;case"together":xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ir(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Yr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ma(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Zi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Zi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function T1(e,n,r){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),zr(n,Le,e.memoizedState.cache),js();break;case 27:case 5:ni(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:zr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,nf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Hr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Gp(e,n,r):(Hr(n),e=ir(e,n,r),e!==null?e.sibling:null);Hr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ma(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Qp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(De,De.current),o)break;return null;case 22:return n.lanes=0,Pp(e,n,r,n.pendingProps);case 24:zr(n,Le,e.memoizedState.cache)}return ir(e,n,r)}function Yp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Pe=!0;else{if(!Of(e,r)&&(n.flags&128)===0)return Pe=!1,T1(e,n,r);Pe=(e.flags&131072)!==0}else Pe=!1,Kt&&(n.flags&1048576)!==0&&wg(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Gs(n.elementType),n.type=e,typeof e=="function")Lh(e)?(o=Ks(e,o),n.tag=1,n=qp(null,n,e,o,r)):(n.tag=0,n=wf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Dt){n.tag=11,n=kp(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Lp(null,n,e,o,r);break t}}throw n=he(e)||e,Error(s(306,n,""))}}return n;case 0:return wf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ks(o,n.pendingProps),qp(e,n,o,h,r);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Zh(e,n),el(n,o,null,r);var p=n.memoizedState;if(o=p.cache,zr(n,Le,o),o!==f.cache&&Fh(n,[Le],r,!0),tl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hp(e,n,o,r);break t}else if(o!==h){h=Qn(Error(s(424)),n),Ko(h),n=Hp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=Zn(e.firstChild),tn=n,Kt=!0,Ur=null,Xn=!0,r=Pg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(js(),o===h){n=ir(e,n,r);break t}nn(e,n,o,r)}n=n.child}return n;case 26:return $u(e,n),e===null?(r=r_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Kt||(r=n.type,e=n.pendingProps,o=dc(xt.current).createElement(r),o[Me]=n,o[Ke]=e,rn(o,r,e),Ve(o),n.stateNode=o):n.memoizedState=r_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ni(n),e===null&&Kt&&(o=n.stateNode=e_(n.type,n.pendingProps,xt.current),tn=n,Xn=!0,h=me,Jr(n.type)?(hd=h,me=Zn(o.firstChild)):me=h),nn(e,n,n.pendingProps.children,r),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Kt&&((h=o=me)&&(o=$1(o,n.type,n.pendingProps,Xn),o!==null?(n.stateNode=o,tn=n,me=Zn(o.firstChild),Xn=!1,h=!0):h=!1),h||Pr(n)),ni(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,ad(h,f)?o=null:p!==null&&ad(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=sf(e,n,h1,null,null,r),El._currentValue=h),$u(e,n),nn(e,n,o,r),n.child;case 6:return e===null&&Kt&&((e=r=me)&&(r=Z1(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,tn=n,me=null,e=!0):e=!1),e||Pr(n)),null;case 13:return Gp(e,n,r);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Qs(n,null,o,r):nn(e,n,o,r),n.child;case 11:return kp(e,n,n.type,n.pendingProps,r);case 7:return nn(e,n,n.pendingProps,r),n.child;case 8:return nn(e,n,n.pendingProps.children,r),n.child;case 12:return nn(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,zr(n,n.type,o.value),nn(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qs(n),h=en(h),o=o(h),n.flags|=1,nn(e,n,o,r),n.child;case 14:return Lp(e,n,n.type,n.pendingProps,r);case 15:return Up(e,n,n.type,n.pendingProps,r);case 19:return Qp(e,n,r);case 31:return v1(e,n,r);case 22:return Pp(e,n,r,n.pendingProps);case 24:return qs(n),o=en(Le),e===null?(h=Kh(),h===null&&(h=ce,f=Qh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},$h(n),zr(n,Le,h)):((e.lanes&r)!==0&&(Zh(e,n),el(n,null,null,r),tl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zr(n,Le,o)):(o=f.cache,zr(n,Le,o),o!==h.cache&&Fh(n,[Le],r,!0))),nn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function rr(e){e.flags|=4}function Mf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ty())e.flags|=8192;else throw Fs=ku,Xh}else e.flags&=-16777217}function Kp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ty())e.flags|=8192;else throw Fs=ku,Xh}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nt():536870912,e.lanes|=n,Fa|=n)}function ol(e,n){if(!Kt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function E1(e,n,r){var o=n.pendingProps;switch(jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(n),null;case 1:return ge(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),tr(Le),fe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oa(n)?rr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qh())),ge(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(rr(n),f!==null?(ge(n),Kp(n,f)):(ge(n),Mf(n,h,null,o,r))):f?f!==e.memoizedState?(rr(n),ge(n),Kp(n,f)):(ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&rr(n),ge(n),Mf(n,h,e,o,r)),null;case 27:if(Gi(n),r=xt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&rr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ge(n),null}e=lt.current,Oa(n)?Cg(n):(e=e_(h,o,r),n.stateNode=e,rr(n))}return ge(n),null;case 5:if(Gi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&rr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ge(n),null}if(f=lt.current,Oa(n))Cg(n);else{var p=dc(xt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Me]=n,f[Ke]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(rn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&rr(n)}}return ge(n),Mf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&rr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=xt.current,Oa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Me]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Gy(e.nodeValue,r)),e||Pr(n,!0)}else e=dc(e).createTextNode(o),e[Me]=n,n.stateNode=e}return ge(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Oa(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Me]=n}else js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),e=!1}else r=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ge(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Oa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Me]=n}else js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),h=!1}else h=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),ge(n),null);case 4:return fe(),e===null&&ed(n.stateNode.containerInfo),ge(n),null;case 10:return tr(n.type),ge(n),null;case 19:if(Y(De),o=n.memoizedState,o===null)return ge(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(Ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,ol(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)bg(r,e),r=r.sibling;return st(De,De.current&1|2),Kt&&Ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>ic&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Kt)return ge(n),null}else 2*Je()-o.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,r=De.current,st(De,h?r&1|2:r&1),Kt&&Ji(n,o.treeForkCount),e):(ge(n),null);case 22:case 23:return kn(n),ef(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ge(n),n.subtreeFlags&6&&(n.flags|=8192)):ge(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Hs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),tr(Le),ge(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function b1(e,n){switch(jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return tr(Le),fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gi(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(s(340));js()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(kn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));js()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(De),null;case 4:return fe(),null;case 10:return tr(n.type),null;case 22:case 23:return kn(n),ef(),e!==null&&Y(Hs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return tr(Le),null;case 25:return null;default:return null}}function Xp(e,n){switch(jh(n),n.tag){case 3:tr(Le),fe();break;case 26:case 27:case 5:Gi(n);break;case 4:fe();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:Y(De);break;case 10:tr(n.type);break;case 22:case 23:kn(n),ef(),e!==null&&Y(Hs);break;case 24:tr(Le)}}function ll(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(T){re(n,n.return,T)}}function Fr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=r,P=T;try{P()}catch(F){re(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){re(n,n.return,F)}}function $p(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{jg(n,r)}catch(o){re(e,e.return,o)}}}function Zp(e,n,r){r.props=Ks(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){re(e,n,o)}}function ul(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){re(e,n,h)}}function Mi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){re(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){re(e,n,h)}else r.current=null}function Jp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){re(e,e.return,h)}}function Vf(e,n,r){try{var o=e.stateNode;G1(o,e.type,r,n),o[Ke]=n}catch(h){re(e,e.return,h)}}function Wp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jr(e.type)||e.tag===4}function kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ri));else if(o!==4&&(o===27&&Jr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Lf(e,n,r),e=e.sibling;e!==null;)Lf(e,n,r),e=e.sibling}function Wu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Jr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Wu(e,n,r),e=e.sibling;e!==null;)Wu(e,n,r),e=e.sibling}function ty(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);rn(n,o,r),n[Me]=e,n[Ke]=r}catch(f){re(e,e.return,f)}}var sr=!1,ze=!1,Uf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,$e=null;function S1(e,n){if(e=e.containerInfo,rd=Tc,e=dg(e),Nh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,T=-1,C=-1,P=0,F=0,X=e,z=null;e:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(T=p+h),X!==f||o!==0&&X.nodeType!==3||(C=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===e)break e;if(z===r&&++P===h&&(T=p),z===f&&++F===o&&(C=p),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(sd={focusedElem:e,selectionRange:r},Tc=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ht=Ks(r.type,h);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(bt){re(r,r.return,bt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)ld(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function ny(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:or(e,r),o&4&&ll(5,r);break;case 1:if(or(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){re(r,r.return,p)}else{var h=Ks(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){re(r,r.return,p)}}o&64&&$p(r),o&512&&ul(r,r.return);break;case 3:if(or(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{jg(e,n)}catch(p){re(r,r.return,p)}}break;case 27:n===null&&o&4&&ty(r);case 26:case 5:or(e,r),n===null&&o&4&&Jp(r),o&512&&ul(r,r.return);break;case 12:or(e,r);break;case 31:or(e,r),o&4&&sy(e,r);break;case 13:or(e,r),o&4&&ay(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=O1.bind(null,r),J1(e,r))));break;case 22:if(o=r.memoizedState!==null||sr,!o){n=n!==null&&n.memoizedState!==null||ze,h=sr;var f=ze;sr=o,(ze=n)&&!f?lr(e,r,(r.subtreeFlags&8772)!==0):or(e,r),sr=h,ze=f}break;case 30:break;default:or(e,r)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ga(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,Tn=!1;function ar(e,n,r){for(r=r.child;r!==null;)ry(e,n,r),r=r.sibling}function ry(e,n,r){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(Cn,r)}catch{}switch(r.tag){case 26:ze||Mi(r,n),ar(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ze||Mi(r,n);var o=ve,h=Tn;Jr(r.type)&&(ve=r.stateNode,Tn=!1),ar(e,n,r),_l(r.stateNode),ve=o,Tn=h;break;case 5:ze||Mi(r,n);case 6:if(o=ve,h=Tn,ve=null,ar(e,n,r),ve=o,Tn=h,ve!==null)if(Tn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(r.stateNode)}catch(f){re(r,n,f)}else try{ve.removeChild(r.stateNode)}catch(f){re(r,n,f)}break;case 18:ve!==null&&(Tn?(e=ve,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Wa(e)):$y(ve,r.stateNode));break;case 4:o=ve,h=Tn,ve=r.stateNode.containerInfo,Tn=!0,ar(e,n,r),ve=o,Tn=h;break;case 0:case 11:case 14:case 15:Fr(2,r,n),ze||Fr(4,r,n),ar(e,n,r);break;case 1:ze||(Mi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Zp(r,n,o)),ar(e,n,r);break;case 21:ar(e,n,r);break;case 22:ze=(o=ze)||r.memoizedState!==null,ar(e,n,r),ze=o;break;default:ar(e,n,r)}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wa(e)}catch(r){re(n,n.return,r)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wa(e)}catch(r){re(n,n.return,r)}}function A1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(s(435,e.tag))}}function tc(e,n){var r=A1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=M1.bind(null,e,o);o.then(h,h)}})}function En(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(Jr(T.type)){ve=T.stateNode,Tn=!1;break t}break;case 5:ve=T.stateNode,Tn=!1;break t;case 3:case 4:ve=T.stateNode.containerInfo,Tn=!0;break t}T=T.return}if(ve===null)throw Error(s(160));ry(f,p,h),ve=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var ci=null;function oy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:En(n,e),bn(e),o&4&&(Fr(3,e,e.return),ll(3,e),Fr(5,e,e.return));break;case 1:En(n,e),bn(e),o&512&&(ze||r===null||Mi(r,r.return)),o&64&&sr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ci;if(En(n,e),bn(e),o&512&&(ze||r===null||Mi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vi]||f[Me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),rn(f,o,r),f[Me]=e,Ve(f),o=f;break t;case"link":var p=o_("link","href",h).get(o+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),rn(f,o,r),h.head.appendChild(f);break;case"meta":if(p=o_("meta","content",h).get(o+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break e}}f=h.createElement(o),rn(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Me]=e,Ve(f),o=f}e.stateNode=o}else l_(h,e.type,e.stateNode);else e.stateNode=a_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?l_(h,e.type,e.stateNode):a_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,r.memoizedProps)}break;case 27:En(n,e),bn(e),o&512&&(ze||r===null||Mi(r,r.return)),r!==null&&o&4&&Vf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(En(n,e),bn(e),o&512&&(ze||r===null||Mi(r,r.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(ht){re(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Uf=!0);break;case 6:if(En(n,e),bn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ht){re(e,e.return,ht)}}break;case 3:if(pc=null,h=ci,ci=mc(n.containerInfo),En(n,e),ci=h,bn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(ht){re(e,e.return,ht)}Uf&&(Uf=!1,ly(e));break;case 4:o=ci,ci=mc(e.stateNode.containerInfo),En(n,e),bn(e),ci=o;break;case 12:En(n,e),bn(e);break;case 31:En(n,e),bn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:En(n,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,P=sr,F=ze;if(sr=P||h,ze=F||C,En(n,e),ze=F,sr=P,bn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||sr||ze||Xs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ht){re(C,C.return,ht)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ht){re(C,C.return,ht)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?Zy(H,!0):Zy(C.stateNode,!1)}catch(ht){re(C,C.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(e,r))));break;case 19:En(n,e),bn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:En(n,e),bn(e)}}function bn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Wp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=kf(e);Wu(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(vn(p,""),r.flags&=-33);var T=kf(e);Wu(e,T,p);break;case 3:case 4:var C=r.stateNode.containerInfo,P=kf(e);Lf(e,P,C);break;default:throw Error(s(161))}}catch(F){re(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function or(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function Xs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fr(4,n,n.return),Xs(n);break;case 1:Mi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Zp(n,n.return,r),Xs(n);break;case 27:_l(n.stateNode);case 26:case 5:Mi(n,n.return),Xs(n);break;case 22:n.memoizedState===null&&Xs(n);break;case 30:Xs(n);break;default:Xs(n)}e=e.sibling}}function lr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:lr(h,f,r),ll(4,f);break;case 1:if(lr(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){re(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)zg(C[h],T)}catch(P){re(o,o.return,P)}}r&&p&64&&$p(f),ul(f,f.return);break;case 27:ty(f);case 26:case 5:lr(h,f,r),r&&o===null&&p&4&&Jp(f),ul(f,f.return);break;case 12:lr(h,f,r);break;case 31:lr(h,f,r),r&&p&4&&sy(h,f);break;case 13:lr(h,f,r),r&&p&4&&ay(h,f);break;case 22:f.memoizedState===null&&lr(h,f,r),ul(f,f.return);break;case 30:break;default:lr(h,f,r)}n=n.sibling}}function Pf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Xo(r))}function zf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xo(e))}function hi(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,r,o),n=n.sibling}function uy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(e,n,r,o),h&2048&&ll(9,n);break;case 1:hi(e,n,r,o);break;case 3:hi(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xo(e)));break;case 12:if(h&2048){hi(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){re(n,n.return,C)}}else hi(e,n,r,o);break;case 31:hi(e,n,r,o);break;case 13:hi(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?hi(e,n,r,o):cl(e,n):f._visibility&2?hi(e,n,r,o):(f._visibility|=2,qa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Pf(p,n);break;case 24:hi(e,n,r,o),h&2048&&zf(n.alternate,n);break;default:hi(e,n,r,o)}}function qa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=r,C=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:qa(f,p,T,C,h),ll(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?qa(f,p,T,C,h):cl(f,p):(F._visibility|=2,qa(f,p,T,C,h)),h&&P&2048&&Pf(p.alternate,p);break;case 24:qa(f,p,T,C,h),h&&P&2048&&zf(p.alternate,p);break;default:qa(f,p,T,C,h)}n=n.sibling}}function cl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:cl(r,o),h&2048&&Pf(o.alternate,o);break;case 24:cl(r,o),h&2048&&zf(o.alternate,o);break;default:cl(r,o)}n=n.sibling}}var hl=8192;function Ha(e,n,r){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)cy(e,n,r),e=e.sibling}function cy(e,n,r){switch(e.tag){case 26:Ha(e,n,r),e.flags&hl&&e.memoizedState!==null&&cb(r,ci,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,n,r);break;case 3:case 4:var o=ci;ci=mc(e.stateNode.containerInfo),Ha(e,n,r),ci=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,Ha(e,n,r),hl=o):Ha(e,n,r));break;default:Ha(e,n,r)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function fl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];$e=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&Fr(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):fl(e);break;default:fl(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];$e=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fr(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function dy(e,n){for(;$e!==null;){var r=$e;switch(r.tag){case 0:case 11:case 15:Fr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,$e=o;else t:for(r=e;$e!==null;){o=$e;var h=o.sibling,f=o.return;if(iy(o),o===r){$e=null;break t}if(h!==null){h.return=f,$e=h;break t}$e=f}}}var w1={getCacheForType:function(e){var n=en(Le),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return en(Le).controller.signal}},R1=typeof WeakMap=="function"?WeakMap:Map,Wt=0,ce=null,zt=null,qt=0,ie=0,Ln=null,Qr=!1,Ga=!1,jf=!1,ur=0,Ce=0,Yr=0,$s=0,Bf=0,Un=0,Fa=0,dl=null,Sn=null,qf=!1,nc=0,my=0,ic=1/0,rc=null,Kr=null,He=0,Xr=null,Qa=null,cr=0,Hf=0,Gf=null,gy=null,ml=0,Ff=null;function Pn(){return(Wt&2)!==0&&qt!==0?qt&-qt:G.T!==null?Zf():Yi()}function py(){if(Un===0)if((qt&536870912)===0||Kt){var e=yi;yi<<=1,(yi&3932160)===0&&(yi=262144),Un=e}else Un=536870912;return e=Vn.current,e!==null&&(e.flags|=32),Un}function An(e,n,r){(e===ce&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),$r(e,qt,Un,!1)),ot(e,r),((Wt&2)===0||e!==ce)&&(e===ce&&((Wt&2)===0&&($s|=r),Ce===4&&$r(e,qt,Un,!1)),Vi(e))}function yy(e,n,r){if((Wt&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||B(e,n),h=o?N1(e,n):Yf(e,n,!0),f=o;do{if(h===0){Ga&&!o&&$r(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!C1(r)){h=Yf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=dl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ya(T,p).flags|=256),p=Yf(T,p,!1),p!==2){if(jf&&!C){T.errorRecoveryDisabledLanes|=f,$s|=f,h=4;break t}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ya(e,0),$r(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:$r(o,n,Un,!Qr);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=nc+300-Je(),10<h)){if($r(o,n,Un,!Qr),yn(o,0,!0)!==0)break t;cr=n,o.timeoutHandle=Ky(_y.bind(null,o,r,Sn,rc,qf,n,Un,$s,Fa,Qr,f,"Throttled",-0,0),h);break t}_y(o,r,Sn,rc,qf,n,Un,$s,Fa,Qr,f,null,-0,0)}}break}while(!0);Vi(e)}function _y(e,n,r,o,h,f,p,T,C,P,F,X,z,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},cy(n,f,X);var ht=(f&62914560)===f?nc-Je():(f&4194048)===f?my-Je():0;if(ht=hb(X,ht),ht!==null){cr=f,e.cancelPendingCommit=ht(Ry.bind(null,e,n,f,r,o,h,p,T,C,F,X,null,z,H)),$r(e,f,p,!P);return}}Ry(e,n,f,r,o,h,p,T,C)}function C1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $r(e,n,r,o){n&=~Bf,n&=~$s,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ee(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&ft(e,r,n)}function sc(){return(Wt&6)===0?(gl(0),!1):!0}function Qf(){if(zt!==null){if(ie===0)var e=zt.return;else e=zt,Wi=Bs=null,lf(e),Ua=null,Zo=0,e=zt;for(;e!==null;)Xp(e.alternate,e),e=e.return;zt=null}}function Ya(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Y1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),cr=0,Qf(),ce=e,zt=r=Zi(e.current,null),qt=n,ie=0,Ln=null,Qr=!1,Ga=B(e,n),jf=!1,Fa=Un=Bf=$s=Yr=Ce=0,Sn=dl=null,qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ee(o),f=1<<h;n|=e[h],o&=~f}return ur=n,Ru(),r}function vy(e,n){Mt=null,G.H=sl,n===La||n===Vu?(n=kg(),ie=3):n===Xh?(n=kg(),ie=4):ie=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,zt===null&&(Ce=1,Ku(e,Qn(n,e.current)))}function Ty(){var e=Vn.current;return e===null?!0:(qt&4194048)===qt?$n===null:(qt&62914560)===qt||(qt&536870912)!==0?e===$n:!1}function Ey(){var e=G.H;return G.H=sl,e===null?sl:e}function by(){var e=G.A;return G.A=w1,e}function ac(){Ce=4,Qr||(qt&4194048)!==qt&&Vn.current!==null||(Ga=!0),(Yr&134217727)===0&&($s&134217727)===0||ce===null||$r(ce,qt,Un,!1)}function Yf(e,n,r){var o=Wt;Wt|=2;var h=Ey(),f=by();(ce!==e||qt!==n)&&(rc=null,Ya(e,n)),n=!1;var p=Ce;t:do try{if(ie!==0&&zt!==null){var T=zt,C=Ln;switch(ie){case 8:Qf(),p=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var P=ie;if(ie=0,Ln=null,Ka(e,T,C,P),r&&Ga){p=0;break t}break;default:P=ie,ie=0,Ln=null,Ka(e,T,C,P)}}I1(),p=Ce;break}catch(F){vy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Wi=Bs=null,Wt=o,G.H=h,G.A=f,zt===null&&(ce=null,qt=0,Ru()),p}function I1(){for(;zt!==null;)Sy(zt)}function N1(e,n){var r=Wt;Wt|=2;var o=Ey(),h=by();ce!==e||qt!==n?(rc=null,ic=Je()+500,Ya(e,n)):Ga=B(e,n);t:do try{if(ie!==0&&zt!==null){n=zt;var f=Ln;e:switch(ie){case 1:ie=0,Ln=null,Ka(e,n,f,1);break;case 2:case 9:if(Mg(f)){ie=0,Ln=null,Ay(n);break}n=function(){ie!==2&&ie!==9||ce!==e||(ie=7),Vi(e)},f.then(n,n);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:Mg(f)?(ie=0,Ln=null,Ay(n)):(ie=0,Ln=null,Ka(e,n,f,7));break;case 5:var p=null;switch(zt.tag){case 26:p=zt.memoizedState;case 5:case 27:var T=zt;if(p?u_(p):T.stateNode.complete){ie=0,Ln=null;var C=T.sibling;if(C!==null)zt=C;else{var P=T.return;P!==null?(zt=P,oc(P)):zt=null}break e}}ie=0,Ln=null,Ka(e,n,f,5);break;case 6:ie=0,Ln=null,Ka(e,n,f,6);break;case 8:Qf(),Ce=6;break t;default:throw Error(s(462))}}D1();break}catch(F){vy(e,F)}while(!0);return Wi=Bs=null,G.H=o,G.A=h,Wt=r,zt!==null?0:(ce=null,qt=0,Ru(),Ce)}function D1(){for(;zt!==null&&!Ro();)Sy(zt)}function Sy(e){var n=Yp(e.alternate,e,ur);e.memoizedProps=e.pendingProps,n===null?oc(e):zt=n}function Ay(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Bp(r,n,n.pendingProps,n.type,void 0,qt);break;case 11:n=Bp(r,n,n.pendingProps,n.type.render,n.ref,qt);break;case 5:lf(n);default:Xp(r,n),n=zt=bg(n,ur),n=Yp(r,n,ur)}e.memoizedProps=e.pendingProps,n===null?oc(e):zt=n}function Ka(e,n,r,o){Wi=Bs=null,lf(n),Ua=null,Zo=0;var h=n.return;try{if(_1(e,h,n,r,qt)){Ce=1,Ku(e,Qn(r,e.current)),zt=null;return}}catch(f){if(h!==null)throw zt=h,f;Ce=1,Ku(e,Qn(r,e.current)),zt=null;return}n.flags&32768?(Kt||o===1?e=!0:Ga||(qt&536870912)!==0?e=!1:(Qr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){wy(n,Qr);return}e=n.return;var r=E1(n.alternate,n,ur);if(r!==null){zt=r;return}if(n=n.sibling,n!==null){zt=n;return}zt=n=e}while(n!==null);Ce===0&&(Ce=5)}function wy(e,n){do{var r=b1(e.alternate,e);if(r!==null){r.flags&=32767,zt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){zt=e;return}zt=e=r}while(e!==null);Ce=6,zt=null}function Ry(e,n,r,o,h,f,p,T,C){e.cancelPendingCommit=null;do lc();while(He!==0);if((Wt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Vh,gt(e,r,f,p,T,C),e===ce&&(zt=ce=null,qt=0),Qa=n,Xr=e,cr=r,Hf=f,Gf=h,gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,V1(pi,function(){return xy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,p=Wt,Wt|=4;try{S1(e,n,r)}finally{Wt=p,rt.p=h,G.T=o}}He=1,Cy(),Iy(),Ny()}}function Cy(){if(He===1){He=0;var e=Xr,n=Qa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Wt;Wt|=4;try{oy(n,e);var f=sd,p=dg(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&fg(T.ownerDocument.documentElement,T)){if(C!==null&&Nh(T)){var P=C.start,F=C.end;if(F===void 0&&(F=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),ht=T.textContent.length,bt=Math.min(C.start,ht),ue=C.end===void 0?bt:Math.min(C.end,ht);!H.extend&&bt>ue&&(p=ue,ue=bt,bt=p);var k=hg(T,bt),D=hg(T,ue);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=X.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),bt>ue?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!rd,sd=rd=null}finally{Wt=h,rt.p=o,G.T=r}}e.current=n,He=2}}function Iy(){if(He===2){He=0;var e=Xr,n=Qa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Wt;Wt|=4;try{ny(e,n.alternate,n)}finally{Wt=h,rt.p=o,G.T=r}}He=3}}function Ny(){if(He===4||He===3){He=0,ca();var e=Xr,n=Qa,r=cr,o=gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?He=5:(He=0,Qa=Xr=null,Dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Kr=null),Qe(r),n=n.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(Cn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,rt.p=h}}(cr&3)!==0&&lc(),Vi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Ff?ml++:(ml=0,Ff=e):ml=0,gl(0)}}function Dy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Xo(n)))}function lc(){return Cy(),Iy(),Ny(),xy()}function xy(){if(He!==5)return!1;var e=Xr,n=Hf;Hf=0;var r=Qe(cr),o=G.T,h=rt.p;try{rt.p=32>r?32:r,G.T=null,r=Gf,Gf=null;var f=Xr,p=cr;if(He=0,Qa=Xr=null,cr=0,(Wt&6)!==0)throw Error(s(331));var T=Wt;if(Wt|=4,fy(f.current),uy(f,f.current,p,r),Wt=T,gl(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(Cn,f)}catch{}return!0}finally{rt.p=h,G.T=o,Dy(e,n)}}function Oy(e,n,r){n=Qn(r,n),n=Sf(e.stateNode,n,2),e=qr(e,n,2),e!==null&&(ot(e,2),Vi(e))}function re(e,n,r){if(e.tag===3)Oy(e,e,r);else for(;n!==null;){if(n.tag===3){Oy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Kr===null||!Kr.has(o))){e=Qn(r,e),r=Mp(2),o=qr(n,r,2),o!==null&&(Vp(r,o,n,e),ot(o,2),Vi(o));break}}n=n.return}}function Kf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new R1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(jf=!0,h.add(r),e=x1.bind(null,e,n,r),n.then(e,e))}function x1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ce===e&&(qt&r)===r&&(Ce===4||Ce===3&&(qt&62914560)===qt&&300>Je()-nc?(Wt&2)===0&&Ya(e,0):Bf|=r,Fa===qt&&(Fa=0)),Vi(e)}function My(e,n){n===0&&(n=nt()),e=Ps(e,n),e!==null&&(ot(e,n),Vi(e))}function O1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),My(e,r)}function M1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),My(e,r)}function V1(e,n){return Ae(e,n)}var uc=null,Xa=null,Xf=!1,cc=!1,$f=!1,Zr=0;function Vi(e){e!==Xa&&e.next===null&&(Xa===null?uc=Xa=e:Xa=Xa.next=e),cc=!0,Xf||(Xf=!0,L1())}function gl(e,n){if(!$f&&cc){$f=!0;do for(var r=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Ee(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Uy(o,f))}else f=qt,f=yn(o,o===ce?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||B(o,f)||(r=!0,Uy(o,f));o=o.next}while(r);$f=!1}}function k1(){Vy()}function Vy(){cc=Xf=!1;var e=0;Zr!==0&&Q1()&&(e=Zr);for(var n=Je(),r=null,o=uc;o!==null;){var h=o.next,f=ky(o,n);f===0?(o.next=null,r===null?uc=h:r.next=h,h===null&&(Xa=r)):(r=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}He!==0&&He!==5||gl(e),Zr!==0&&(Zr=0)}function ky(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Ee(f),T=1<<p,C=h[p];C===-1?((T&r)===0||(T&o)!==0)&&(h[p]=W(T,n)):C<=n&&(e.expiredLanes|=T),f&=~T}if(n=ce,r=qt,r=yn(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ii(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||B(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ii(o),Qe(r)){case 2:case 8:r=ws;break;case 32:r=pi;break;case 268435456:r=Rs;break;default:r=pi}return o=Ly.bind(null,e),r=Ae(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ii(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,n){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var o=qt;return o=yn(e,e===ce?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),ky(e,Je()),e.callbackNode!=null&&e.callbackNode===r?Ly.bind(null,e):null)}function Uy(e,n){if(lc())return null;yy(e,n,!0)}function L1(){K1(function(){(Wt&6)!==0?Ae(wr,k1):Vy()})}function Zf(){if(Zr===0){var e=Va;e===0&&(e=Nn,Nn<<=1,(Nn&261888)===0&&(Nn=256)),Zr=e}return Zr}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:va(""+e)}function zy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function U1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Py((h[Ke]||null).action),p=o.submitter;p&&(n=(n=p[Ke]||null)?Py(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ci("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zr!==0){var C=p?zy(h,p):new FormData(h);yf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?zy(h,p):new FormData(h),yf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Jf=0;Jf<Mh.length;Jf++){var Wf=Mh[Jf],P1=Wf.toLowerCase(),z1=Wf[0].toUpperCase()+Wf.slice(1);ui(P1,"on"+z1)}ui(pg,"onAnimationEnd"),ui(yg,"onAnimationIteration"),ui(_g,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(e1,"onTransitionRun"),ui(n1,"onTransitionStart"),ui(i1,"onTransitionCancel"),ui(vg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function jy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(T=o[p],C=T.instance,P=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=C}}}}function jt(e,n){var r=n[ma];r===void 0&&(r=n[ma]=new Set);var o=e+"__bubble";r.has(o)||(By(n,e,2,!1),r.add(o))}function td(e,n,r){var o=0;n&&(o|=4),By(r,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[hc]){e[hc]=!0,Io.forEach(function(r){r!=="selectionchange"&&(j1.has(r)||td(r,!1,e),td(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,td("selectionchange",!1,n))}}function By(e,n,r,o){switch(p_(n)){case 2:var h=mb;break;case 8:h=gb;break;default:h=pd}r=h.bind(null,n,r,e),h=void 0,!Ds||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function nd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ti(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue t}T=T.parentNode}}o=o.return}Or(function(){var P=f,F=qn(r),X=[];t:{var z=Tg.get(e);if(z!==void 0){var H=Ci,ht=e;switch(e){case"keypress":if(Os(r)===0)break t;case"keydown":case"keyup":H=bu;break;case"focusin":ht="focus",H=Vs;break;case"focusout":ht="blur",H=Vs;break;case"beforeblur":case"afterblur":H=Vs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case pg:case yg:case _g:H=gu;break;case vg:H=b;break;case"scroll":case"scrollend":H=jo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=$i;break;case"toggle":case"beforetoggle":H=Ot}var bt=(n&4)!==0,ue=!bt&&(e==="scroll"||e==="scrollend"),k=bt?z!==null?z+"Capture":null:z;bt=[];for(var D=P,U;D!==null;){var K=D;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||k===null||(K=si(D,k),K!=null&&bt.push(yl(D,K,U))),ue)break;D=D.return}0<bt.length&&(z=new H(z,ht,null,r,F),X.push({event:z,listeners:bt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&r!==Uo&&(ht=r.relatedTarget||r.fromElement)&&(Ti(ht)||ht[_i]))break t;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ht=r.relatedTarget||r.toElement,H=P,ht=ht?Ti(ht):null,ht!==null&&(ue=c(ht),bt=ht.tag,ht!==ue||bt!==5&&bt!==27&&bt!==6)&&(ht=null)):(H=null,ht=P),H!==ht)){if(bt=Bo,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(bt=$i,K="onPointerLeave",k="onPointerEnter",D="pointer"),ue=H==null?z:Dn(H),U=ht==null?z:Dn(ht),z=new bt(K,D+"leave",H,r,F),z.target=ue,z.relatedTarget=U,K=null,Ti(F)===P&&(bt=new bt(k,D+"enter",ht,r,F),bt.target=U,bt.relatedTarget=ue,K=bt),ue=K,H&&ht)e:{for(bt=B1,k=H,D=ht,U=0,K=k;K;K=bt(K))U++;K=0;for(var _t=D;_t;_t=bt(_t))K++;for(;0<U-K;)k=bt(k),U--;for(;0<K-U;)D=bt(D),K--;for(;U--;){if(k===D||D!==null&&k===D.alternate){bt=k;break e}k=bt(k),D=bt(D)}bt=null}else bt=null;H!==null&&qy(X,z,H,bt,!1),ht!==null&&ue!==null&&qy(X,ue,ht,bt,!0)}}t:{if(z=P?Dn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var $t=sg;else if(ig(z))if(ag)$t=JE;else{$t=$E;var dt=XE}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&_a(P.elementType)&&($t=sg):$t=ZE;if($t&&($t=$t(e,P))){rg(X,$t,r,F);break t}dt&&dt(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Vo(z,"number",z.value)}switch(dt=P?Dn(P):window,e){case"focusin":(ig(dt)||dt.contentEditable==="true")&&(Ra=dt,Dh=P,Qo=null);break;case"focusout":Qo=Dh=Ra=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,mg(X,r,F);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":mg(X,r,F)}var Lt;if(Jt)t:{switch(e){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else wa?ks(e,r)&&(Ht="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ht="onCompositionStart");Ht&&(Di&&r.locale!=="ko"&&(wa||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&wa&&(Lt=zo()):(Ri=F,Po="value"in Ri?Ri.value:Ri.textContent,wa=!0)),dt=fc(P,Ht),0<dt.length&&(Ht=new Ni(Ht,e,null,r,F),X.push({event:Ht,listeners:dt}),Lt?Ht.data=Lt:(Lt=Aa(r),Lt!==null&&(Ht.data=Lt)))),(Lt=Gn?FE(e,r):QE(e,r))&&(Ht=fc(P,"onBeforeInput"),0<Ht.length&&(dt=new Ni("onBeforeInput","beforeinput",null,r,F),X.push({event:dt,listeners:Ht}),dt.data=Lt)),U1(X,e,P,r,F)}jy(X,n)})}function yl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(e,r),h!=null&&o.unshift(yl(e,h,f)),h=si(e,n),h!=null&&o.push(yl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function B1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qy(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var T=r,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=si(r,f),P!=null&&p.unshift(yl(r,P,C))):h||(P=si(r,f),P!=null&&p.push(yl(r,P,C)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var q1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(q1,`
`).replace(H1,"")}function Gy(e,n){return n=Hy(n),Hy(e)===n}function le(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(e,""+o);break;case"className":xn(e,"class",o);break;case"tabIndex":xn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(e,r,o);break;case"style":Lo(e,o,f);break;case"data":if(n!=="object"){xn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=va(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&le(e,n,"name",h.name,h,null),le(e,n,"formEncType",h.formEncType,h,null),le(e,n,"formMethod",h.formMethod,h,null),le(e,n,"formTarget",h.formTarget,h,null)):(le(e,n,"encType",h.encType,h,null),le(e,n,"method",h.method,h,null),le(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=va(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ri);break;case"onScroll":o!=null&&jt("scroll",e);break;case"onScrollEnd":o!=null&&jt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=va(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":jt("beforetoggle",e),jt("toggle",e),pa(e,"popover",o);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,pa(e,r,o))}}function id(e,n,r,o,h,f){switch(r){case"style":Lo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?vn(e,o):(typeof o=="number"||typeof o=="bigint")&&vn(e,""+o);break;case"onScroll":o!=null&&jt("scroll",e);break;case"onScrollEnd":o!=null&&jt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ke]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):pa(e,r,o)}}}function rn(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",e),jt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:le(e,n,f,p,r,null)}}h&&le(e,n,"srcSet",r.srcSet,r,null),o&&le(e,n,"src",r.src,r,null);return;case"input":jt("invalid",e);var T=f=p=h=null,C=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:le(e,n,o,F,r,null)}}uu(e,f,T,C,P,p,h,!1);return;case"select":jt("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:le(e,n,h,T,r,null)}n=f,r=p,e.multiple=!!o,n!=null?Ir(e,!!o,n,!1):r!=null&&Ir(e,!!o,r,!0);return;case"textarea":jt("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:le(e,n,p,T,r,null)}Nr(e,o,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:le(e,n,C,o,r,null)}return;case"dialog":jt("beforetoggle",e),jt("toggle",e),jt("cancel",e),jt("close",e);break;case"iframe":case"object":jt("load",e);break;case"video":case"audio":for(o=0;o<pl.length;o++)jt(pl[o],e);break;case"image":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"embed":case"source":case"link":jt("error",e),jt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:le(e,n,P,o,r,null)}return;default:if(_a(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&id(e,n,F,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&le(e,n,T,o,r,null))}function G1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,P=null,F=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||le(e,n,H,null,o,X)}}for(var z in o){var H=o[z];if(X=r[z],o.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==X&&le(e,n,z,H,o,X)}}ya(e,p,T,C,P,F,f,h);return;case"select":H=p=T=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||le(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&le(e,n,h,f,o,C)}n=T,r=p,o=H,z!=null?Ir(e,!!r,z,!1):!!o!=!!r&&(n!=null?Ir(e,!!r,n,!0):Ir(e,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:le(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&le(e,n,p,h,o,f)}cu(e,z,H);return;case"option":for(var ht in r)if(z=r[ht],r.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:le(e,n,ht,null,o,z)}for(C in o)if(z=o[C],H=r[C],o.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null))switch(C){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:le(e,n,C,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in r)z=r[bt],r.hasOwnProperty(bt)&&z!=null&&!o.hasOwnProperty(bt)&&le(e,n,bt,null,o,z);for(P in o)if(z=o[P],H=r[P],o.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:le(e,n,P,z,o,H)}return;default:if(_a(n)){for(var ue in r)z=r[ue],r.hasOwnProperty(ue)&&z!==void 0&&!o.hasOwnProperty(ue)&&id(e,n,ue,void 0,o,z);for(F in o)z=o[F],H=r[F],!o.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||id(e,n,F,z,o,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&le(e,n,k,null,o,z);for(X in o)z=o[X],H=r[X],!o.hasOwnProperty(X)||z===H||z==null&&H==null||le(e,n,X,z,o,H)}function Fy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&Fy(p)){for(p=0,T=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],P=C.startTime;if(P>T)break;var F=C.transferSize,X=C.initiatorType;F&&Fy(X)&&(C=C.responseEnd,p+=F*(C<T?1:(T-P)/(C-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var rd=null,sd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var od=null;function Q1(){var e=window.event;return e&&e.type==="popstate"?e===od?!1:(od=e,!0):(od=null,!1)}var Ky=typeof setTimeout=="function"?setTimeout:void 0,Y1=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(X1)}:Ky;function X1(e){setTimeout(function(){throw e})}function Jr(e){return e==="head"}function $y(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Wa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")_l(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,_l(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[vi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&_l(e.ownerDocument.body);r=h}while(r);Wa(n)}function Zy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function ld(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ld(r),ga(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function $1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[vi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Zn(e.nextSibling),e===null)break}return null}function Z1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Zn(e.nextSibling),e===null))return null;return e}function Jy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zn(e.nextSibling),e===null))return null;return e}function ud(e){return e.data==="$?"||e.data==="$~"}function cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function J1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var hd=null;function Wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Zn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,r){switch(n=dc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function _l(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ga(e)}var Jn=new Map,n_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hr=rt.d;rt.d={f:W1,r:tb,D:eb,C:nb,L:ib,m:rb,X:ab,S:sb,M:ob};function W1(){var e=hr.f(),n=sc();return e||n}function tb(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?vp(n):hr.r(e)}var $a=typeof document>"u"?null:document;function i_(e,n,r){var o=$a;if(o&&typeof n=="string"&&n){var h=_n(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),n_.has(h)||(n_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),rn(n,"link",e),Ve(n),o.head.appendChild(n)))}}function eb(e){hr.D(e),i_("dns-prefetch",e,null)}function nb(e,n){hr.C(e,n),i_("preconnect",e,n)}function ib(e,n,r){hr.L(e,n,r);var o=$a;if(o&&e&&n){var h='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+_n(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+_n(r.imageSizes)+'"]')):h+='[href="'+_n(e)+'"]';var f=h;switch(n){case"style":f=Za(e);break;case"script":f=Ja(e)}Jn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Jn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(Tl(f))||(n=o.createElement("link"),rn(n,"link",e),Ve(n),o.head.appendChild(n)))}}function rb(e,n){hr.m(e,n);var r=$a;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ja(e)}if(!Jn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Jn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Tl(f)))return}o=r.createElement("link"),rn(o,"link",e),Ve(o),r.head.appendChild(o)}}}function sb(e,n,r){hr.S(e,n,r);var o=$a;if(o&&e){var h=Ei(o).hoistableStyles,f=Za(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(vl(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Jn.get(f))&&fd(e,r);var C=p=o.createElement("link");Ve(C),rn(C,"link",e),C._p=new Promise(function(P,F){C.onload=P,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function ab(e,n){hr.X(e,n);var r=$a;if(r&&e){var o=Ei(r).hoistableScripts,h=Ja(e),f=o.get(h);f||(f=r.querySelector(Tl(h)),f||(e=S({src:e,async:!0},n),(n=Jn.get(h))&&dd(e,n),f=r.createElement("script"),Ve(f),rn(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function ob(e,n){hr.M(e,n);var r=$a;if(r&&e){var o=Ei(r).hoistableScripts,h=Ja(e),f=o.get(h);f||(f=r.querySelector(Tl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Jn.get(h))&&dd(e,n),f=r.createElement("script"),Ve(f),rn(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function r_(e,n,r,o){var h=(h=xt.current)?mc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Za(r.href),r=Ei(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Za(r.href);var f=Ei(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(vl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Jn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Jn.set(e,r),f||lb(h,e,r,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ja(r),r=Ei(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Za(e){return'href="'+_n(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function s_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function lb(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),rn(n,"link",r),Ve(n),e.head.appendChild(n))}function Ja(e){return'[src="'+_n(e)+'"]'}function Tl(e){return"script[async]"+e}function a_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+_n(r.href)+'"]');if(o)return n.instance=o,Ve(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ve(o),rn(o,"style",h),gc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Za(r.href);var f=e.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,Ve(f),f;o=s_(r),(h=Jn.get(h))&&fd(o,h),f=(e.ownerDocument||e).createElement("link"),Ve(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),rn(f,"link",o),n.state.loading|=4,gc(f,r.precedence,e),n.instance=f;case"script":return f=Ja(r.src),(h=e.querySelector(Tl(f)))?(n.instance=h,Ve(h),h):(o=r,(h=Jn.get(f))&&(o=S({},r),dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ve(h),rn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,r.precedence,e));return n.instance}function gc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function o_(e,n,r){if(pc===null){var o=new Map,h=pc=new Map;h.set(r,o)}else h=pc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[vi]||f[Me]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function l_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function ub(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Za(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ve(f);return}f=n.ownerDocument||n,o=s_(o),(h=Jn.get(h))&&fd(o,h),f=f.createElement("link"),Ve(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),rn(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=yc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var md=0;function hb(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&md===0&&(md=62500*F1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>md?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(fb,e),_c=null,yc.call(e))}function fb(e,n){if(!(n.state.loading&4)){var r=_c.get(e);if(r)var o=r.get(null);else{r=new Map,_c.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var El={$$typeof:Et,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function db(e,n,r,o,h,f,p,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=at(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=at(0),this.hiddenUpdates=at(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function c_(e,n,r,o,h,f,p,T,C,P,F,X){return e=new db(e,n,r,p,C,P,F,X,T),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),e.current=f,f.stateNode=e,n=Qh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},$h(f),e}function h_(e){return e?(e=Na,e):Na}function f_(e,n,r,o,h,f){h=h_(h),o.context===null?o.context=h:o.pendingContext=h,o=Br(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=qr(e,o,n),r!==null&&(An(r,e,n),Wo(r,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function gd(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=Ps(e,67108864);n!==null&&An(n,e,67108864),gd(e,67108864)}}function g_(e){if(e.tag===13||e.tag===31){var n=Pn();n=se(n);var r=Ps(e,n);r!==null&&An(r,e,n),gd(e,n)}}var Tc=!0;function mb(e,n,r,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,pd(e,n,r,o)}finally{rt.p=f,G.T=h}}function gb(e,n,r,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,pd(e,n,r,o)}finally{rt.p=f,G.T=h}}function pd(e,n,r,o){if(Tc){var h=yd(o);if(h===null)nd(e,n,o,Ec,r),y_(e,o);else if(yb(h,e,n,r,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<pb.indexOf(e)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=jn(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-Ee(p);T.entanglements[1]|=C,p&=~C}Vi(f),(Wt&6)===0&&(ic=Je()+500,gl(0))}}break;case 31:case 13:T=Ps(f,2),T!==null&&An(T,f,2),sc(),gd(f,2)}if(f=yd(o),f===null&&nd(e,n,o,Ec,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else nd(e,n,o,null,r)}}function yd(e){return e=qn(e),_d(e)}var Ec=null;function _d(e){if(Ec=null,e=Ti(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function p_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gi()){case wr:return 2;case ws:return 8;case pi:case Co:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var vd=!1,Wr=null,ts=null,es=null,bl=new Map,Sl=new Map,ns=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function Al(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function yb(e,n,r,o,h){switch(n){case"focusin":return Wr=Al(Wr,e,n,r,o,h),!0;case"dragenter":return ts=Al(ts,e,n,r,o,h),!0;case"mouseover":return es=Al(es,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return bl.set(f,Al(bl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Sl.set(f,Al(Sl.get(f)||null,e,n,r,o,h)),!0}return!1}function __(e){var n=Ti(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Ye(e.priority,function(){g_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Ye(e.priority,function(){g_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=yd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Uo=o,r.target.dispatchEvent(o),Uo=null}else return n=Bn(r),n!==null&&m_(n),e.blockedOn=r,!1;n.shift()}return!0}function v_(e,n,r){bc(e)&&r.delete(n)}function _b(){vd=!1,Wr!==null&&bc(Wr)&&(Wr=null),ts!==null&&bc(ts)&&(ts=null),es!==null&&bc(es)&&(es=null),bl.forEach(v_),Sl.forEach(v_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,vd||(vd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,_b)))}var Ac=null;function T_(e){Ac!==e&&(Ac=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(_d(o||r)===null)continue;break}var f=Bn(r);f!==null&&(e.splice(n,3),n-=3,yf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Wa(e){function n(C){return Sc(C,e)}Wr!==null&&Sc(Wr,e),ts!==null&&Sc(ts,e),es!==null&&Sc(es,e),bl.forEach(n),Sl.forEach(n);for(var r=0;r<ns.length;r++){var o=ns[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ns.length&&(r=ns[0],r.blockedOn===null);)__(r),r.blockedOn===null&&ns.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Ke]||null;if(typeof f=="function")p||T_(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ke]||null)T=p.formAction;else if(_d(h)!==null)continue}else T=p.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),T_(r)}}}function E_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Td(e){this._internalRoot=e}wc.prototype.render=Td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=Pn();f_(r,o,e,n,null,null)},wc.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),sc(),n[_i]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<ns.length&&n!==0&&n<ns[r].priority;r++);ns.splice(r,0,e),r===0&&__(e)}};var b_=t.version;if(b_!=="19.2.0")throw Error(s(527,b_,"19.2.0"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var vb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Cn=Rc.inject(vb),Te=Rc}catch{}}return Rl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=Np,f=Dp,p=xp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=c_(e,1,!1,null,null,r,o,null,h,f,p,E_),e[_i]=n.current,ed(e),new Td(n)},Rl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=Np,p=Dp,T=xp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=c_(e,1,!0,n,r??null,o,h,C,f,p,T,E_),n.context=h_(null),r=n.current,o=Pn(),o=se(o),h=Br(o),h.callback=null,qr(r,h,o),r=o,n.current.lanes=r,ot(n,r),Vi(n),e[_i]=n.current,ed(e),new wc(n)},Rl.version="19.2.0",Rl}var O_;function Nb(){if(O_)return Sd.exports;O_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Sd.exports=Ib(),Sd.exports}var Db=Nb();const xb=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ob=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),M_=a=>{const t=Ob(a);return t.charAt(0).toUpperCase()+t.slice(1)},g0=(...a)=>a.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),Mb=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Vb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kb=Pt.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},y)=>Pt.createElement("svg",{ref:y,...Vb,width:t,height:t,stroke:a,strokeWidth:s?Number(i)*24/Number(t):i,className:g0("lucide",l),...!c&&!Mb(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,E])=>Pt.createElement(_,E)),...Array.isArray(c)?c:[c]]));const br=(a,t)=>{const i=Pt.forwardRef(({className:s,...l},c)=>Pt.createElement(kb,{ref:c,iconNode:t,className:g0(`lucide-${xb(M_(a))}`,`lucide-${a}`,s),...l}));return i.displayName=M_(a),i};const Lb=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],Ub=br("arrow-down-a-z",Lb);const Pb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zb=br("check",Pb);const jb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bb=br("chevron-right",jb);const qb=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Hb=br("crown",qb);const Gb=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Fb=br("play",Gb);const Qb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Yb=br("rotate-ccw",Qb);const Kb=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Xb=br("shuffle",Kb);const $b=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Zb=br("star",$b);const Jb=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Cd=br("trophy",Jb),Wb=()=>{};var V_={};const p0=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},tS=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,y=l+2<a.length,_=y?a[l+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(M=64)),s.push(i[E],i[S],i[M],i[Q])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(p0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):tS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const _=l<a.length?i[a.charAt(l)]:64;++l;const S=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||_==null||S==null)throw new eS;const M=c<<2|g>>4;if(s.push(M),_!==64){const Q=g<<4&240|_>>2;if(s.push(Q),S!==64){const J=_<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class eS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nS=function(a){const t=p0(a);return y0.encodeByteArray(t,!0)},Hc=function(a){return nS(a).replace(/\./g,"")},_0=function(a){try{return y0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rS=()=>iS().__FIREBASE_DEFAULTS__,sS=()=>{if(typeof process>"u"||typeof V_>"u")return;const a=V_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},aS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&_0(a[1]);return t&&JSON.parse(t)},ch=()=>{try{return Wb()||rS()||sS()||aS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},v0=a=>ch()?.emulatorHosts?.[a],oS=a=>{const t=v0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},T0=()=>ch()?.config,E0=a=>ch()?.[`_${a}`];class lS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function _o(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b0(a){return(await fetch(a,{credentials:"include"})).ok}function uS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Ol={};function cS(){const a={prod:[],emulator:[]};for(const t of Object.keys(Ol))Ol[t]?a.emulator.push(t):a.prod.push(t);return a}function hS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let k_=!1;function S0(a,t){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Ol[a]===t||Ol[a]||k_)return;Ol[a]=t;function i(M){return`__firebase__banner__${M}`}const s="__firebase__banner",c=cS().prod.length>0;function d(){const M=document.getElementById(s);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{k_=!0,d()},M}function E(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=hS(s),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),et=i("learnmore"),tt=document.getElementById(et)||document.createElement("a"),yt=i("preprendIcon"),Tt=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Et=M.element;g(Et),E(tt,et);const Dt=_();y(Tt,yt),Et.append(Tt,J,tt,Dt),document.body.appendChild(Et)}c?(J.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function dS(){const a=ch()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function pS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yS(){const a=fn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function _S(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function TS(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const ES="FirebaseError";class Sr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=ES,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?bS(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Sr(l,g,s)}}function bS(a,t){return a.replace(SS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const SS=/\{\$([^}]+)}/g;function AS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function ea(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(L_(c)&&L_(d)){if(!ea(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function L_(a){return a!==null&&typeof a=="object"}function Kl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function wS(a,t){const i=new RS(a,t);return i.subscribe.bind(i)}class RS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");CS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Id),l.error===void 0&&(l.error=Id),l.complete===void 0&&(l.complete=Id);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Id(){}function Rn(a){return a&&a._delegate?a._delegate:a}class na{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zs="[DEFAULT]";class IS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new lS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DS(t))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zs){return this.instances.has(t)}getOptions(t=Zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Zs){return this.component?this.component.multipleInstances?t:Zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NS(a){return a===Zs?void 0:a}function DS(a){return a.instantiationMode==="EAGER"}class xS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new IS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Gt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Gt||(Gt={}));const OS={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},MS=Gt.INFO,VS={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},kS=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=VS[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gm{constructor(t){this.name=t,this._logLevel=MS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const LS=(a,t)=>t.some(i=>a instanceof i);let U_,P_;function US(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A0=new WeakMap,Hd=new WeakMap,w0=new WeakMap,Nd=new WeakMap,pm=new WeakMap;function zS(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(hs(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&A0.set(i,a)}).catch(()=>{}),pm.set(t,a),t}function jS(a){if(Hd.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Hd.set(a,t)}let Gd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Hd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||w0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function BS(a){Gd=a(Gd)}function qS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Dd(this),t,...i);return w0.set(s,t.sort?t.sort():[t]),hs(s)}:PS().includes(a)?function(...t){return a.apply(Dd(this),t),hs(A0.get(this))}:function(...t){return hs(a.apply(Dd(this),t))}}function HS(a){return typeof a=="function"?qS(a):(a instanceof IDBTransaction&&jS(a),LS(a,US())?new Proxy(a,Gd):a)}function hs(a){if(a instanceof IDBRequest)return zS(a);if(Nd.has(a))return Nd.get(a);const t=HS(a);return t!==a&&(Nd.set(a,t),pm.set(t,a)),t}const Dd=a=>pm.get(a);function GS(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),g=hs(d);return s&&d.addEventListener("upgradeneeded",y=>{s(hs(d.result),y.oldVersion,y.newVersion,hs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const FS=["get","getKey","getAll","getAllKeys","count"],QS=["put","add","delete","clear"],xd=new Map;function z_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(xd.get(t))return xd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=QS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||FS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return xd.set(t,c),c}BS(a=>({...a,get:(t,i,s)=>z_(t,i)||a.get(t,i,s),has:(t,i)=>!!z_(t,i)||a.has(t,i)}));class YS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function KS(a){return a.getComponent()?.type==="VERSION"}const Fd="@firebase/app",j_="0.14.6";const pr=new gm("@firebase/app"),XS="@firebase/app-compat",$S="@firebase/analytics-compat",ZS="@firebase/analytics",JS="@firebase/app-check-compat",WS="@firebase/app-check",tA="@firebase/auth",eA="@firebase/auth-compat",nA="@firebase/database",iA="@firebase/data-connect",rA="@firebase/database-compat",sA="@firebase/functions",aA="@firebase/functions-compat",oA="@firebase/installations",lA="@firebase/installations-compat",uA="@firebase/messaging",cA="@firebase/messaging-compat",hA="@firebase/performance",fA="@firebase/performance-compat",dA="@firebase/remote-config",mA="@firebase/remote-config-compat",gA="@firebase/storage",pA="@firebase/storage-compat",yA="@firebase/firestore",_A="@firebase/ai",vA="@firebase/firestore-compat",TA="firebase",EA="12.6.0";const Qd="[DEFAULT]",bA={[Fd]:"fire-core",[XS]:"fire-core-compat",[ZS]:"fire-analytics",[$S]:"fire-analytics-compat",[WS]:"fire-app-check",[JS]:"fire-app-check-compat",[tA]:"fire-auth",[eA]:"fire-auth-compat",[nA]:"fire-rtdb",[iA]:"fire-data-connect",[rA]:"fire-rtdb-compat",[sA]:"fire-fn",[aA]:"fire-fn-compat",[oA]:"fire-iid",[lA]:"fire-iid-compat",[uA]:"fire-fcm",[cA]:"fire-fcm-compat",[hA]:"fire-perf",[fA]:"fire-perf-compat",[dA]:"fire-rc",[mA]:"fire-rc-compat",[gA]:"fire-gcs",[pA]:"fire-gcs-compat",[yA]:"fire-fst",[vA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[TA]:"fire-js-all"};const Gc=new Map,SA=new Map,Yd=new Map;function B_(a,t){try{a.container.addComponent(t)}catch(i){pr.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function co(a){const t=a.name;if(Yd.has(t))return pr.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,a);for(const i of Gc.values())B_(i,a);for(const i of SA.values())B_(i,a);return!0}function ym(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Wn(a){return a==null?!1:a.settings!==void 0}const AA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Yl("app","Firebase",AA);class wA{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}const vo=EA;function R0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:Qd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw fs.create("bad-app-name",{appName:String(l)});if(i||(i=T0()),!i)throw fs.create("no-options");const c=Gc.get(l);if(c){if(ea(i,c.options)&&ea(s,c.config))return c;throw fs.create("duplicate-app",{appName:l})}const d=new xS(l);for(const y of Yd.values())d.addComponent(y);const g=new wA(i,s,d);return Gc.set(l,g),g}function C0(a=Qd){const t=Gc.get(a);if(!t&&a===Qd&&T0())return R0();if(!t)throw fs.create("no-app",{appName:a});return t}function ds(a,t,i){let s=bA[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pr.warn(d.join(" "));return}co(new na(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const RA="firebase-heartbeat-database",CA=1,zl="firebase-heartbeat-store";let Od=null;function I0(){return Od||(Od=GS(RA,CA,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(a=>{throw fs.create("idb-open",{originalErrorMessage:a.message})})),Od}async function IA(a){try{const i=(await I0()).transaction(zl),s=await i.objectStore(zl).get(N0(a));return await i.done,s}catch(t){if(t instanceof Sr)pr.warn(t.message);else{const i=fs.create("idb-get",{originalErrorMessage:t?.message});pr.warn(i.message)}}}async function q_(a,t){try{const s=(await I0()).transaction(zl,"readwrite");await s.objectStore(zl).put(t,N0(a)),await s.done}catch(i){if(i instanceof Sr)pr.warn(i.message);else{const s=fs.create("idb-set",{originalErrorMessage:i?.message});pr.warn(s.message)}}}function N0(a){return`${a.name}!${a.options.appId}`}const NA=1024,DA=30;class xA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new MA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=H_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>DA){const l=VA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){pr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H_(),{heartbeatsToSend:i,unsentEntries:s}=OA(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return pr.warn(t),""}}}function H_(){return new Date().toISOString().substring(0,10)}function OA(a,t=NA){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),G_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),G_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class MA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?TS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await IA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function G_(a){return Hc(JSON.stringify({version:2,heartbeats:a})).length}function VA(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}function kA(a){co(new na("platform-logger",t=>new YS(t),"PRIVATE")),co(new na("heartbeat",t=>new xA(t),"PRIVATE")),ds(Fd,j_,a),ds(Fd,j_,"esm2020"),ds("fire-js","")}kA("");var LA="firebase",UA="12.6.0";ds(LA,UA,"app");function D0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PA=D0,x0=new Yl("auth","Firebase",D0());const Fc=new gm("@firebase/auth");function zA(a,...t){Fc.logLevel<=Gt.WARN&&Fc.warn(`Auth (${vo}): ${a}`,...t)}function Mc(a,...t){Fc.logLevel<=Gt.ERROR&&Fc.error(`Auth (${vo}): ${a}`,...t)}function yr(a,...t){throw _m(a,...t)}function Ui(a,...t){return _m(a,...t)}function O0(a,t,i){const s={...PA(),[t]:i};return new Yl("auth","Firebase",s).create(t,{appName:a.name})}function mr(a){return O0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _m(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return x0.create(a,...t)}function wt(a,t,...i){if(!a)throw _m(t,...i)}function fr(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Mc(t),new Error(t)}function _r(a,t){a||fr(t)}function Kd(){return typeof self<"u"&&self.location?.href||""}function jA(){return F_()==="http:"||F_()==="https:"}function F_(){return typeof self<"u"&&self.location?.protocol||null}function BA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jA()||gS()||"connection"in navigator)?navigator.onLine:!0}function qA(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,_r(i>t,"Short delay should be less than long delay!"),this.isMobile=fS()||pS()}get(){return BA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vm(a,t){_r(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class M0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FA=new Xl(3e4,6e4);function $l(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function To(a,t,i,s,l={}){return V0(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Kl({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const _={method:t,headers:y,...c};return mS()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&_o(a.emulatorConfig.host)&&(_.credentials="include"),M0.fetch()(await k0(a,a.config.apiHost,i,g),_)})}async function V0(a,t,i){a._canInitEmulator=!1;const s={...HA,...t};try{const l=new QA(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Cc(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw Cc(a,"user-disabled",d);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw O0(a,E,_);yr(a,E)}}catch(l){if(l instanceof Sr)throw l;yr(a,"network-request-failed",{message:String(l)})}}async function Tm(a,t,i,s,l={}){const c=await To(a,t,i,s,l);return"mfaPendingCredential"in c&&yr(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function k0(a,t,i,s){const l=`${t}${i}?${s}`,c=a,d=c.config.emulator?vm(a.config,l):`${a.config.apiScheme}://${l}`;return GA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class QA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),FA.get())})}}function Cc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ui(a,t,s);return l.customData._tokenResponse=i,l}async function YA(a,t){return To(a,"POST","/v1/accounts:delete",t)}async function Qc(a,t){return To(a,"POST","/v1/accounts:lookup",t)}function Ml(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KA(a,t=!1){const i=Rn(a),s=await i.getIdToken(t),l=Em(s);wt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Ml(Md(l.auth_time)),issuedAtTime:Ml(Md(l.iat)),expirationTime:Ml(Md(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Md(a){return Number(a)*1e3}function Em(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=_0(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Q_(a){const t=Em(a);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof Sr&&XA(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function XA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class $A{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(a){const t=a.auth,i=await a.getIdToken(),s=await jl(a,Qc(t,{idToken:i}));wt(s?.users.length,t,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?L0(l.providerUserInfo):[],d=JA(a.providerData,c),g=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,_=g?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(a,E)}async function ZA(a){const t=Rn(a);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JA(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function L0(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function WA(a,t){const i=await V0(a,{},async()=>{const s=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await k0(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return a.emulatorConfig&&_o(a.emulatorConfig.host)&&(y.credentials="include"),M0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function tw(a,t){return To(a,"POST","/v2/accounts:revokeToken",$l(a,t))}class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Q_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const i=Q_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await WA(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new so;return s&&(wt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(wt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(wt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return fr("not implemented")}}function rs(a,t){wt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class fi{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new $A(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await jl(this,this.stsTokenManager.getToken(this.auth,t));return wt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return KA(this,t)}reload(){return ZA(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new fi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(mr(this.auth));const t=await this.getIdToken();return await jl(this,YA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:Q,providerData:J,stsTokenManager:et}=i;wt(S&&et,t,"internal-error");const tt=so.fromJSON(this.name,et);wt(typeof S=="string",t,"internal-error"),rs(s,t.name),rs(l,t.name),wt(typeof M=="boolean",t,"internal-error"),wt(typeof Q=="boolean",t,"internal-error"),rs(c,t.name),rs(d,t.name),rs(g,t.name),rs(y,t.name),rs(_,t.name),rs(E,t.name);const yt=new fi({uid:S,auth:t,email:l,emailVerified:M,displayName:s,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:tt,createdAt:_,lastLoginAt:E});return J&&Array.isArray(J)&&(yt.providerData=J.map(Tt=>({...Tt}))),y&&(yt._redirectEventId=y),yt}static async _fromIdTokenResponse(t,i,s=!1){const l=new so;l.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];wt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?L0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new so;g.updateFromIdToken(s);const y=new fi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const Y_=new Map;function dr(a){_r(a instanceof Function,"Expected a class definition");let t=Y_.get(a);return t?(_r(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Y_.set(a,t),t)}class U0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}U0.type="NONE";const K_=U0;function Vc(a,t,i){return`firebase:${a}:${t}:${i}`}class ao{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,t):null}return fi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new ao(dr(K_),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||dr(K_);const d=Vc(s,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const E=await _._get(d);if(E){let S;if(typeof E=="string"){const M=await Qc(t,{idToken:E}).catch(()=>{});if(!M)break;S=await fi._fromGetAccountInfoResponse(t,M,E)}else S=fi._fromJSON(t,E);_!==c&&(g=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new ao(c,t,s):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ao(c,t,s))}}function X_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(B0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(P0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(H0(t))return"Blackberry";if(G0(t))return"Webos";if(z0(t))return"Safari";if((t.includes("chrome/")||j0(t))&&!t.includes("edge/"))return"Chrome";if(q0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function P0(a=fn()){return/firefox\//i.test(a)}function z0(a=fn()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function j0(a=fn()){return/crios\//i.test(a)}function B0(a=fn()){return/iemobile/i.test(a)}function q0(a=fn()){return/android/i.test(a)}function H0(a=fn()){return/blackberry/i.test(a)}function G0(a=fn()){return/webos/i.test(a)}function bm(a=fn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function ew(a=fn()){return bm(a)&&!!window.navigator?.standalone}function nw(){return yS()&&document.documentMode===10}function F0(a=fn()){return bm(a)||q0(a)||G0(a)||H0(a)||/windows phone/i.test(a)||B0(a)}function Q0(a,t=[]){let i;switch(a){case"Browser":i=X_(fn());break;case"Worker":i=`${X_(fn())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${vo}/${s}`}class iw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function rw(a,t={}){return To(a,"GET","/v2/passwordPolicy",$l(a,t))}const sw=6;class aw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??sw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class ow{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new iw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=dr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),s=await fi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=qA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wn(this.app))return Promise.reject(mr(this));const i=t?Rn(t):null;return i&&wt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rw(this),i=new aw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await tw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&dr(t)||this._popupRedirectResolver;wt(i,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[dr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&zA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zl(a){return Rn(a)}class $_{constructor(t){this.auth=t,this.observer=null,this.addObserver=wS(i=>this.observer=i)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lw(a){Sm=a}function uw(a){return Sm.loadJS(a)}function cw(){return Sm.gapiScript}function hw(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function fw(a,t){const i=ym(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ea(c,t??{}))return l;yr(l,"already-initialized")}return i.initialize({options:t})}function dw(a,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(dr);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function mw(a,t,i){const s=Zl(a);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=Y0(t),{host:d,port:g}=gw(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(ea(_,s.config.emulator)&&ea(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,_o(d)?(b0(`${c}//${d}${y}`),S0("Auth",!0)):pw()}function Y0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function gw(a){const t=Y0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Z_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Z_(d)}}}function Z_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function pw(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class K0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return fr("not implemented")}_getIdTokenResponse(t){return fr("not implemented")}_linkToIdToken(t,i){return fr("not implemented")}_getReauthenticationResolver(t){return fr("not implemented")}}async function oo(a,t){return Tm(a,"POST","/v1/accounts:signInWithIdp",$l(a,t))}const yw="http://localhost";class ia extends K0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):yr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new ia(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return oo(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,oo(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,oo(t,i)}buildRequest(){const t={requestUri:yw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Kl(i)}return t}}class X0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends X0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class as extends Jl{constructor(){super("facebook.com")}static credential(t){return ia._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return as.credential(t.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";class os extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ia._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return os.credential(i,s)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";class ls extends Jl{constructor(){super("github.com")}static credential(t){return ia._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ls.credential(t.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";class us extends Jl{constructor(){super("twitter.com")}static credential(t,i){return ia._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return us.credential(i,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";async function _w(a,t){return Tm(a,"POST","/v1/accounts:signUp",$l(a,t))}class vr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await fi._fromIdTokenResponse(t,s,l),d=J_(s);return new vr({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=J_(s);return new vr({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function J_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function vw(a){if(Wn(a.app))return Promise.reject(mr(a));const t=Zl(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new vr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await _w(t,{returnSecureToken:!0}),s=await vr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class Kc extends Sr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Kc(t,i,s,l)}}function $0(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(a,c,t,s):c})}async function Tw(a,t,i=!1){const s=await jl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return vr._forOperation(a,"link",s)}async function Ew(a,t,i=!1){const{auth:s}=a;if(Wn(s.app))return Promise.reject(mr(s));const l="reauthenticate";try{const c=await jl(a,$0(s,l,t,a),i);wt(c.idToken,s,"internal-error");const d=Em(c.idToken);wt(d,s,"internal-error");const{sub:g}=d;return wt(a.uid===g,s,"user-mismatch"),vr._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&yr(s,"user-mismatch"),c}}async function bw(a,t,i=!1){if(Wn(a.app))return Promise.reject(mr(a));const s="signIn",l=await $0(a,s,t),c=await vr._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}async function Sw(a,t){return Tm(a,"POST","/v1/accounts:signInWithCustomToken",$l(a,t))}async function Aw(a,t){if(Wn(a.app))return Promise.reject(mr(a));const i=Zl(a),s=await Sw(i,{token:t,returnSecureToken:!0}),l=await vr._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function ww(a,t,i,s){return Rn(a).onIdTokenChanged(t,i,s)}function Rw(a,t,i){return Rn(a).beforeAuthStateChanged(t,i)}function Cw(a,t,i,s){return Rn(a).onAuthStateChanged(t,i,s)}const Xc="__sak";class Z0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Iw=1e3,Nw=10;class J0 extends Z0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);nw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Nw):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}J0.type="LOCAL";const Dw=J0;class W0 extends Z0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}W0.type="SESSION";const tT=W0;function xw(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new hh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await xw(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Am(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}class Ow{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Am("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function Mw(a){Pi().location.href=a}function eT(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function Vw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kw(){return navigator?.serviceWorker?.controller||null}function Lw(){return eT()?self:null}const nT="firebaseLocalStorageDb",Uw=1,$c="firebaseLocalStorage",iT="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fh(a,t){return a.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function Pw(){const a=indexedDB.deleteDatabase(nT);return new Wl(a).toPromise()}function $d(){const a=indexedDB.open(nT,Uw);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore($c,{keyPath:iT})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains($c)?t(s):(s.close(),await Pw(),t(await $d()))})})}async function W_(a,t,i){const s=fh(a,!0).put({[iT]:t,value:i});return new Wl(s).toPromise()}async function zw(a,t){const i=fh(a,!1).get(t),s=await new Wl(i).toPromise();return s===void 0?null:s.value}function tv(a,t){const i=fh(a,!0).delete(t);return new Wl(i).toPromise()}const jw=800,Bw=3;class rT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>Bw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(Lw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Vw(),!this.activeServiceWorker)return;this.sender=new Ow(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await W_(t,Xc,"1"),await tv(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>W_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>zw(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>tv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=fh(l,!1).getAll();return new Wl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rT.type="LOCAL";const qw=rT;new Xl(3e4,6e4);function Hw(a,t){return t?dr(t):(wt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class wm extends K0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return oo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Gw(a){return bw(a.auth,new wm(a),a.bypassAuthState)}function Fw(a){const{auth:t,user:i}=a;return wt(i,t,"internal-error"),Ew(i,new wm(a),a.bypassAuthState)}async function Qw(a){const{auth:t,user:i}=a;return wt(i,t,"internal-error"),Tw(i,new wm(a),a.bypassAuthState)}class sT{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Gw;case"linkViaPopup":case"linkViaRedirect":return Qw;case"reauthViaPopup":case"reauthViaRedirect":return Fw;default:yr(this.auth,"internal-error")}}resolve(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yw=new Xl(2e3,1e4);class ro extends sT{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const t=Am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Yw.get())};t()}}ro.currentPopupAction=null;const Kw="pendingRedirect",kc=new Map;class Xw extends sT{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const s=await $w(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $w(a,t){const i=Ww(t),s=Jw(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function Zw(a,t){kc.set(a._key(),t)}function Jw(a){return dr(a._redirectPersistence)}function Ww(a){return Vc(Kw,a.config.apiKey,a.name)}async function tR(a,t,i=!1){if(Wn(a.app))return Promise.reject(mr(a));const s=Zl(a),l=Hw(s,t),d=await new Xw(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const eR=600*1e3;class nR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!aT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ui(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eR&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(t))}saveEventToCache(t){this.cachedEventUids.add(ev(t)),this.lastProcessedEventTime=Date.now()}}function ev(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function aT({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function iR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(a);default:return!1}}async function rR(a,t={}){return To(a,"GET","/v1/projects",t)}const sR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aR=/^https?/;async function oR(a){if(a.config.emulator)return;const{authorizedDomains:t}=await rR(a);for(const i of t)try{if(lR(i))return}catch{}yr(a,"unauthorized-domain")}function lR(a){const t=Kd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!aR.test(i))return!1;if(sR.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const uR=new Xl(3e4,6e4);function nv(){const a=Pi().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function cR(a){return new Promise((t,i)=>{function s(){nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nv(),i(Ui(a,"network-request-failed"))},timeout:uR.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const l=hw("iframefcb");return Pi()[l]=()=>{gapi.load?s():i(Ui(a,"network-request-failed"))},uw(`${cw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function hR(a){return Lc=Lc||cR(a),Lc}const fR=new Xl(5e3,15e3),dR="__/auth/iframe",mR="emulator/auth/iframe",gR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yR(a){const t=a.config;wt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?vm(t,mR):`https://${a.config.authDomain}/${dR}`,s={apiKey:t.apiKey,appName:a.name,v:vo},l=pR.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Kl(s).slice(1)}`}async function _R(a){const t=await hR(a),i=Pi().gapi;return wt(i,a,"internal-error"),t.open({where:document.body,url:yR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ui(a,"network-request-failed"),g=Pi().setTimeout(()=>{c(d)},fR.get());function y(){Pi().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{c(d)})}))}const vR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TR=500,ER=600,bR="_blank",SR="http://localhost";class iv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AR(a,t,i,s=TR,l=ER){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...vR,width:s.toString(),height:l.toString(),top:c,left:d},_=fn().toLowerCase();i&&(g=j0(_)?bR:i),P0(_)&&(t=t||SR,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[Q,J])=>`${M}${Q}=${J},`,"");if(ew(_)&&g!=="_self")return wR(t||"",g),new iv(null);const S=window.open(t||"",g,E);wt(S,a,"popup-blocked");try{S.focus()}catch{}return new iv(S)}function wR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const RR="__/auth/handler",CR="emulator/auth/handler",IR=encodeURIComponent("fac");async function rv(a,t,i,s,l,c){wt(a.config.authDomain,a,"auth-domain-config-required"),wt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:vo,eventId:l};if(t instanceof X0){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",AS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(t instanceof Jl){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await a._getAppCheckToken(),_=y?`#${IR}=${encodeURIComponent(y)}`:"";return`${NR(a)}?${Kl(g).slice(1)}${_}`}function NR({config:a}){return a.emulator?vm(a,CR):`https://${a.authDomain}/${RR}`}const Vd="webStorageSupport";class DR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tT,this._completeRedirectFn=tR,this._overrideRedirectResult=Zw}async _openPopup(t,i,s,l){_r(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await rv(t,i,s,Kd(),l);return AR(t,c,Am())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await rv(t,i,s,Kd(),l);return Mw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(_r(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await _R(t),s=new nR(t);return i.register("authEvent",l=>(wt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Vd,{type:Vd},l=>{const c=l?.[0]?.[Vd];c!==void 0&&i(!!c),yr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=oR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return F0()||z0()||bm()}}const xR=DR;var sv="@firebase/auth",av="1.11.1";class OR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VR(a){co(new na("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;wt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q0(a)},_=new ow(s,l,c,y);return dw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),co(new na("auth-internal",t=>{const i=Zl(t.getProvider("auth").getImmediate());return(s=>new OR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(sv,av,MR(a)),ds(sv,av,"esm2020")}const kR=300,LR=E0("authIdTokenMaxAge")||kR;let ov=null;const UR=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>LR)return;const l=i?.token;ov!==l&&(ov=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function PR(a=C0()){const t=ym(a,"auth");if(t.isInitialized())return t.getImmediate();const i=fw(a,{popupRedirectResolver:xR,persistence:[qw,Dw,tT]}),s=E0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=UR(c.toString());Rw(i,d,()=>d(i.currentUser)),ww(i,g=>d(g))}}const l=v0("auth");return l&&mw(i,`http://${l}`),i}function zR(){return document.getElementsByTagName("head")?.[0]??document}lw({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=Ui("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",zR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VR("Browser");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ms,oT;(function(){var a;function t(I,A){function R(){}R.prototype=A.prototype,I.F=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(V,N,O){for(var w=Array(arguments.length-2),he=2;he<arguments.length;he++)w[he-2]=arguments[he];return A.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],N=I.g[2];let O=I.g[3],w;w=A+(O^R&(N^O))+V[0]+3614090360&4294967295,A=R+(w<<7&4294967295|w>>>25),w=O+(N^A&(R^N))+V[1]+3905402710&4294967295,O=A+(w<<12&4294967295|w>>>20),w=N+(R^O&(A^R))+V[2]+606105819&4294967295,N=O+(w<<17&4294967295|w>>>15),w=R+(A^N&(O^A))+V[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(O^R&(N^O))+V[4]+4118548399&4294967295,A=R+(w<<7&4294967295|w>>>25),w=O+(N^A&(R^N))+V[5]+1200080426&4294967295,O=A+(w<<12&4294967295|w>>>20),w=N+(R^O&(A^R))+V[6]+2821735955&4294967295,N=O+(w<<17&4294967295|w>>>15),w=R+(A^N&(O^A))+V[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(O^R&(N^O))+V[8]+1770035416&4294967295,A=R+(w<<7&4294967295|w>>>25),w=O+(N^A&(R^N))+V[9]+2336552879&4294967295,O=A+(w<<12&4294967295|w>>>20),w=N+(R^O&(A^R))+V[10]+4294925233&4294967295,N=O+(w<<17&4294967295|w>>>15),w=R+(A^N&(O^A))+V[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(O^R&(N^O))+V[12]+1804603682&4294967295,A=R+(w<<7&4294967295|w>>>25),w=O+(N^A&(R^N))+V[13]+4254626195&4294967295,O=A+(w<<12&4294967295|w>>>20),w=N+(R^O&(A^R))+V[14]+2792965006&4294967295,N=O+(w<<17&4294967295|w>>>15),w=R+(A^N&(O^A))+V[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(N^O&(R^N))+V[1]+4129170786&4294967295,A=R+(w<<5&4294967295|w>>>27),w=O+(R^N&(A^R))+V[6]+3225465664&4294967295,O=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(O^A))+V[11]+643717713&4294967295,N=O+(w<<14&4294967295|w>>>18),w=R+(O^A&(N^O))+V[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^O&(R^N))+V[5]+3593408605&4294967295,A=R+(w<<5&4294967295|w>>>27),w=O+(R^N&(A^R))+V[10]+38016083&4294967295,O=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(O^A))+V[15]+3634488961&4294967295,N=O+(w<<14&4294967295|w>>>18),w=R+(O^A&(N^O))+V[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^O&(R^N))+V[9]+568446438&4294967295,A=R+(w<<5&4294967295|w>>>27),w=O+(R^N&(A^R))+V[14]+3275163606&4294967295,O=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(O^A))+V[3]+4107603335&4294967295,N=O+(w<<14&4294967295|w>>>18),w=R+(O^A&(N^O))+V[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^O&(R^N))+V[13]+2850285829&4294967295,A=R+(w<<5&4294967295|w>>>27),w=O+(R^N&(A^R))+V[2]+4243563512&4294967295,O=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(O^A))+V[7]+1735328473&4294967295,N=O+(w<<14&4294967295|w>>>18),w=R+(O^A&(N^O))+V[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(R^N^O)+V[5]+4294588738&4294967295,A=R+(w<<4&4294967295|w>>>28),w=O+(A^R^N)+V[8]+2272392833&4294967295,O=A+(w<<11&4294967295|w>>>21),w=N+(O^A^R)+V[11]+1839030562&4294967295,N=O+(w<<16&4294967295|w>>>16),w=R+(N^O^A)+V[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^O)+V[1]+2763975236&4294967295,A=R+(w<<4&4294967295|w>>>28),w=O+(A^R^N)+V[4]+1272893353&4294967295,O=A+(w<<11&4294967295|w>>>21),w=N+(O^A^R)+V[7]+4139469664&4294967295,N=O+(w<<16&4294967295|w>>>16),w=R+(N^O^A)+V[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^O)+V[13]+681279174&4294967295,A=R+(w<<4&4294967295|w>>>28),w=O+(A^R^N)+V[0]+3936430074&4294967295,O=A+(w<<11&4294967295|w>>>21),w=N+(O^A^R)+V[3]+3572445317&4294967295,N=O+(w<<16&4294967295|w>>>16),w=R+(N^O^A)+V[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^O)+V[9]+3654602809&4294967295,A=R+(w<<4&4294967295|w>>>28),w=O+(A^R^N)+V[12]+3873151461&4294967295,O=A+(w<<11&4294967295|w>>>21),w=N+(O^A^R)+V[15]+530742520&4294967295,N=O+(w<<16&4294967295|w>>>16),w=R+(N^O^A)+V[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(N^(R|~O))+V[0]+4096336452&4294967295,A=R+(w<<6&4294967295|w>>>26),w=O+(R^(A|~N))+V[7]+1126891415&4294967295,O=A+(w<<10&4294967295|w>>>22),w=N+(A^(O|~R))+V[14]+2878612391&4294967295,N=O+(w<<15&4294967295|w>>>17),w=R+(O^(N|~A))+V[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~O))+V[12]+1700485571&4294967295,A=R+(w<<6&4294967295|w>>>26),w=O+(R^(A|~N))+V[3]+2399980690&4294967295,O=A+(w<<10&4294967295|w>>>22),w=N+(A^(O|~R))+V[10]+4293915773&4294967295,N=O+(w<<15&4294967295|w>>>17),w=R+(O^(N|~A))+V[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~O))+V[8]+1873313359&4294967295,A=R+(w<<6&4294967295|w>>>26),w=O+(R^(A|~N))+V[15]+4264355552&4294967295,O=A+(w<<10&4294967295|w>>>22),w=N+(A^(O|~R))+V[6]+2734768916&4294967295,N=O+(w<<15&4294967295|w>>>17),w=R+(O^(N|~A))+V[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~O))+V[4]+4149444226&4294967295,A=R+(w<<6&4294967295|w>>>26),w=O+(R^(A|~N))+V[11]+3174756917&4294967295,O=A+(w<<10&4294967295|w>>>22),w=N+(A^(O|~R))+V[2]+718787259&4294967295,N=O+(w<<15&4294967295|w>>>17),w=R+(O^(N|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+O&4294967295}s.prototype.v=function(I,A){A===void 0&&(A=I.length);const R=A-this.blockSize,V=this.C;let N=this.h,O=0;for(;O<A;){if(N==0)for(;O<=R;)l(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<A;)if(V[N++]=I.charCodeAt(O++),N==this.blockSize){l(this,V),N=0;break}}else for(;O<A;)if(V[N++]=I[O++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=A},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)I[A++]=this.g[R]>>>V&255;return I};function c(I,A){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function d(I,A){this.h=A;const R=[];let V=!0;for(let N=I.length-1;N>=0;N--){const O=I[N]|0;V&&O==A||(R[N]=O,V=!1)}this.g=R}var g={};function y(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return tt(_(-I));const A=[];let R=1;for(let V=0;I>=R;V++)A[V]=I/R|0,R*=4294967296;return new d(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return tt(E(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(A,8));let V=S;for(let O=0;O<I.length;O+=8){var N=Math.min(8,I.length-O);const w=parseInt(I.substring(O,O+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(w))):(V=V.j(R),V=V.add(_(w)))}return V}var S=y(0),M=y(1),Q=y(16777216);a=d.prototype,a.m=function(){if(et(this))return-tt(this).m();let I=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(et(this))return"-"+tt(this).toString(I);const A=_(Math.pow(I,6));var R=this;let V="";for(;;){const N=Dt(R,A).g;R=yt(R,N.j(A));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,J(R))return O+V;for(;O.length<6;)O="0"+O;V=O+V}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function et(I){return I.h==-1}a.l=function(I){return I=yt(this,I),et(I)?-1:J(I)?0:1};function tt(I){const A=I.g.length,R=[];for(let V=0;V<A;V++)R[V]=~I.g[V];return new d(R,~I.h).add(M)}a.abs=function(){return et(this)?tt(this):this},a.add=function(I){const A=Math.max(this.g.length,I.g.length),R=[];let V=0;for(let N=0;N<=A;N++){let O=V+(this.i(N)&65535)+(I.i(N)&65535),w=(O>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=w>>>16,O&=65535,w&=65535,R[N]=w<<16|O}return new d(R,R[R.length-1]&-2147483648?-1:0)};function yt(I,A){return I.add(tt(A))}a.j=function(I){if(J(this)||J(I))return S;if(et(this))return et(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(et(I))return tt(this.j(tt(I)));if(this.l(Q)<0&&I.l(Q)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const O=this.i(V)>>>16,w=this.i(V)&65535,he=I.i(N)>>>16,ye=I.i(N)&65535;R[2*V+2*N]+=w*ye,Tt(R,2*V+2*N),R[2*V+2*N+1]+=O*ye,Tt(R,2*V+2*N+1),R[2*V+2*N+1]+=w*he,Tt(R,2*V+2*N+1),R[2*V+2*N+2]+=O*he,Tt(R,2*V+2*N+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new d(R,0)};function Tt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function Et(I,A){this.g=I,this.h=A}function Dt(I,A){if(J(A))throw Error("division by zero");if(J(I))return new Et(S,S);if(et(I))return A=Dt(tt(I),A),new Et(tt(A.g),tt(A.h));if(et(A))return A=Dt(I,tt(A)),new Et(tt(A.g),A.h);if(I.g.length>30){if(et(I)||et(A))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=A;V.l(I)<=0;)R=Vt(R),V=Vt(V);var N=kt(R,1),O=kt(V,1);for(V=kt(V,2),R=kt(R,2);!J(V);){var w=O.add(V);w.l(I)<=0&&(N=N.add(R),O=w),V=kt(V,1),R=kt(R,1)}return A=yt(I,N.j(A)),new Et(N,A)}for(N=S;I.l(A)>=0;){for(R=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),O=_(R),w=O.j(A);et(w)||w.l(I)>0;)R-=V,O=_(R),w=O.j(A);J(O)&&(O=M),N=N.add(O),I=yt(I,w)}return new Et(N,I)}a.B=function(I){return Dt(this,I).h},a.and=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&I.i(V);return new d(R,this.h&I.h)},a.or=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|I.i(V);return new d(R,this.h|I.h)},a.xor=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^I.i(V);return new d(R,this.h^I.h)};function Vt(I){const A=I.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(R,I.h)}function kt(I,A){const R=A>>5;A%=32;const V=I.g.length-R,N=[];for(let O=0;O<V;O++)N[O]=A>0?I.i(O+R)>>>A|I.i(O+R+1)<<32-A:I.i(O+R);return new d(N,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,oT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,ms=d}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lT,Il,uT,Uc,Zd,cT,hT,fT;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,q){for(var it=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)it[Ot-2]=arguments[Ot];return m.prototype[L].apply(b,it)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let it=0;it<q;it++)u[v+it]=L[it]}else u.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function yt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const b=Et.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Et=new et(()=>new Dt,u=>u.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Vt,kt=!1,I=new Tt,A=()=>{const u=Promise.resolve(void 0);Vt=()=>{u.then(R)}};function R(){for(var u;u=yt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=Et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function he(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(he,N),he.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Yt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function te(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,v,b,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=xt(u,m,b,L);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!b,L),m.fa=v,u.push(m)),m};function At(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(b,L,1),q&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xt(u,m,v,b){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return L}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Ie={};function fe(u,m,v,b,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)fe(u,m[q],v,b,L);return null}return v=As(v),u&&u[ye]?u.J(m,v,g(b)?!!b.capture:!1,L):ni(u,m,v,!1,b,L)}function ni(u,m,v,b,L,q){if(!m)throw Error("Invalid event type");const it=g(L)?!!L.capture:!!L;let Ot=Qi(u);if(Ot||(u[Bt]=Ot=new lt(u)),v=Ot.add(m,v,b,it,q),v.proxy)return v;if(b=Gi(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)O||(L=it),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(zn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Gi(){function u(v){return m.call(u.src,u.listener,v)}const m=bs;return u}function Ar(u,m,v,b,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ar(u,m[q],v,b,L);else b=g(b)?!!b.capture:!!b,v=As(v),u&&u[ye]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=xt(m,v,b,L),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Qi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xt(m,v,b,L)),(v=u>-1?m[u]:null)&&Fi(v))}function Fi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ye])At(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(zn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Qi(m))?(At(v,u),v.h==0&&(v.src=null,m[Bt]=null)):mt(u)}}}function zn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function bs(u,m){if(u.da)u=!0;else{m=new he(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Fi(u),u=v.call(b,m)}return u}function Qi(u){return u=u[Bt],u instanceof lt?u:null}var Ss="__closure_events_fn_"+(Math.random()*1e9>>>0);function As(u){return typeof u=="function"?u:(u[Ss]||(u[Ss]=function(m){return u.handleEvent(m)}),u[Ss])}function Se(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}S(Se,V),Se.prototype[ye]=!0,Se.prototype.removeEventListener=function(u,m,v,b){Ar(this,u,m,v,b)};function Ae(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),st(m,L)}L=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],L=ii(q,b,!0,m)&&L;if(q=m.g=u,L=ii(q,b,!0,m)&&L,L=ii(q,b,!1,m)&&L,v)for(it=0;it<v.length;it++)q=m.g=v[it],L=ii(q,b,!1,m)&&L}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)mt(v[b]);delete u.g[m],u.h--}}this.G=null},Se.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Se.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function ii(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const Ot=it.listener,Ne=it.ha||it.src;it.fa&&At(u.i,it),L=Ot.call(Ne,b)!==!1&&L}}return L&&!b.defaultPrevented}function Ro(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ca(u){u.g=Ro(()=>{u.g=null,u.i&&(u.i=!1,ca(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ca(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(u){V.call(this),this.h=u,this.g={}}S(gi,V);var wr=[];function ws(u){Yt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Fi(m)},u),u.g={}}gi.prototype.N=function(){gi.Z.N.call(this),ws(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=d.JSON.stringify,Co=d.JSON.parse,Rs=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ha(){}function fa(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Te(){N.call(this,"d")}S(Te,N);function pn(){N.call(this,"c")}S(pn,N);var Ee={},da=null;function Rr(){return da=da||new Se}Ee.Ia="serverreachability";function In(u){N.call(this,Ee.Ia,u)}S(In,N);function Nn(u){const m=Rr();Ae(m,new In(m))}Ee.STAT_EVENT="statevent";function yi(u,m){N.call(this,Ee.STAT_EVENT,u),this.stat=m}S(yi,N);function we(u){const m=Rr();Ae(m,new yi(m,u))}Ee.Ja="timingevent";function jn(u,m){N.call(this,Ee.Ja,u),this.size=m}S(jn,N);function yn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function B(){this.g=!0}B.prototype.ua=function(){this.g=!1};function W(u,m,v,b,L,q){u.info(function(){if(u.g)if(q){var it="",Ot=q.split("&");for(let Jt=0;Jt<Ot.length;Jt++){var Ne=Ot[Jt].split("=");if(Ne.length>1){const _e=Ne[0];Ne=Ne[1];const Gn=_e.split("_");it=Gn.length>=2&&Gn[1]=="type"?it+(_e+"="+Ne+"&"):it+(_e+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+it})}function nt(u,m,v,b,L,q,it){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+it})}function at(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+gt(u,v)+(b?" "+b:"")})}function ot(u,m){u.info(function(){return"TIMEOUT: "+m})}B.prototype.info=function(){};function gt(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let it=1;it<b.length;it++)b[it]=""}}}}return pi(q)}catch{return m}}var ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rt;function se(){}S(se,ha),se.prototype.g=function(){return new XMLHttpRequest},Rt=new se;function Qe(u){return encodeURIComponent(String(u))}function Yi(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Ye(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dn}function dn(){this.i=null,this.g="",this.h=!1}var Me={},Ke={};function _i(u,m,v){u.M=1,u.A=Cs(ke(m)),u.u=v,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),vi(u),u.B=ke(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),_a(v.i,"t",b),u.C=0,v=u.j.L,u.h=new dn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(wr[0]=L.toString()),L=wr);for(let q=0;q<L.length;q++){const it=fe(v,L[q],b||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Nn(),W(u.i,u.v,u.B,u.l,u.S,u.u)}Ye.prototype.ba=function(u){u=u.target;const m=this.O;m&&ai(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ot=ai(this.g),Ne=this.g.ya(),Jt=this.g.ca();if(!(Ot<3)&&(Ot!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||Ot!=4||Ne==7||(Ne==8||Jt<=0?Nn(3):Nn(2)),Ti(this);var m=this.g.ca();this.X=m;var v=Rh(this);if(this.o=m==200,nt(this.i,this.v,this.B,this.l,this.S,Ot,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var q=b;break e}}q=null}if(u=q)at(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,u);else{this.o=!1,this.m=3,we(12),Dn(this),Bn(this);break t}}if(this.R){u=!0;let _e;for(;!this.K&&this.C<v.length;)if(_e=ou(this,v),_e==Ke){Ot==4&&(this.m=4,we(14),u=!1),at(this.i,this.l,null,"[Incomplete Response]");break}else if(_e==Me){this.m=4,we(15),at(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else at(this.i,this.l,_e,null),Ei(this,_e);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)at(this.i,this.l,v,"[Invalid Chunked Response]"),Dn(this),Bn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(it),it.P=!0,we(11))}}else at(this.i,this.l,v,null),Ei(this,v);Ot==4&&Dn(this),this.o&&!this.K&&(Ot==4?pu(this.j,this):(this.o=!1,vi(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),Dn(this),Bn(this)}}}catch{}finally{}};function Rh(u){if(!au(u))return u.g.la();const m=We(u.g);if(m==="")return"";let v="";const b=m.length,L=ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Dn(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ke:(v=Number(m.substring(v,b)),isNaN(v)?Me:(b+=1,b+v>m.length?Ke:(m=m.slice(b,b+v),u.C=b+v,m)))}Ye.prototype.cancel=function(){this.K=!0,Dn(this)};function vi(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yn(_(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ye.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ot(this.i,this.B),this.M!=2&&(Nn(),we(17)),Dn(this),this.m=2,Bn(this)):ga(this,this.T-u)};function Bn(u){u.j.I==0||u.K||pu(u.j,u)}function Dn(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ws(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ei(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Si(v.h,u))){if(!u.L&&Si(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Sa(v),Vr(v);else break t;Vs(v),we(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yn(_(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&Sa(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Jt=L[m];const _e=Jt[0];if(!(_e<=v.K))if(v.K=_e,Jt=Jt[1],v.I==2)if(Jt[0]=="c"){v.M=Jt[1],v.ba=Jt[2];const Gn=Jt[3];Gn!=null&&(v.ka=Gn,v.j.info("VER="+v.ka));const Di=Jt[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const oi=Jt[5];oi!=null&&typeof oi=="number"&&oi>0&&(b=1.5*oi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const li=u.g;if(li){const ks=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var q=b.h;q.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Do(q,q.h),q.h=null))}if(b.G){const Aa=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(b.wa=Aa,ne(b.J,b.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var it=u;if(b.na=vu(b,b.L?b.ba:null,b.W),it.L){xo(b.h,it);var Ot=it,Ne=b.O;Ne&&(Ot.H=Ne),Ot.D&&(Ti(Ot),vi(Ot)),b.g=it}else mu(b);v.i.length>0&&Ii(v)}else Jt[0]!="stop"&&Jt[0]!="close"||Ni(v,7);else v.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Ni(v,7):jo(v):Jt[0]!="noop"&&v.l&&v.l.qa(Jt),v.A=0)}}Nn(4)}catch{}}var Ve=class{constructor(u,m){this.g=u,this.map=m}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function xo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Oo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,q=null;b>=0?(L=u[v].substring(0,b),q=u[v].substring(b+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function xn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof xn?(this.l=u.l,Xe(this,u.j),this.o=u.o,this.g=u.g,Cr(this,u.u),this.h=u.h,Mo(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Xe(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),Cr(this,m[4]),this.h=Ai(m[5]||"",!0),Mo(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new Nr(null,this.l))}xn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Is(m,ya,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Is(m,ya,!0),"@"),u.push(Qe(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Is(v,v.charAt(0)=="/"?Vo:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Is(v,cu)),u.join("")},xn.prototype.resolve=function(u){const m=ke(this);let v=!!u.j;v?Xe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Cr(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let it=0;it<L.length;){const Ot=L[it++];Ot=="."?b&&it==L.length&&q.push(""):Ot==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&it==L.length&&q.push("")):(q.push(Ot),b=!0)}b=q.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Mo(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function ke(u){return new xn(u)}function Xe(u,m,v){u.j=v?Ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Cr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Mo(u,m,v){m instanceof Nr?(u.i=m,va(u.i,u.l)):(v||(m=Is(m,Ir)),u.i=new Nr(m,u.l))}function ne(u,m,v){u.i.set(m,v)}function Cs(u){return ne(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Is(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,_n),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _n(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,uu=/[#\?:]/g,Vo=/[#\?]/g,Ir=/[#\?@]/g,cu=/#/g;function Nr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=Nr.prototype,a.add=function(u,m){vn(this),this.i=null,u=Dr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){vn(u),m=Dr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ko(u,m){return vn(u),m=Dr(u,m),u.g.has(m)}a.forEach=function(u,m){vn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Lo(u,m){vn(u);let v=[];if(typeof m=="string")ko(u,m)&&(v=v.concat(u.g.get(Dr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return vn(this),this.i=null,u=Dr(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Lo(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(Dr(u,m),Q(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Qe(v);v=Lo(this,v);for(let q=0;q<v.length;q++){let it=L;v[q]!==""&&(it+="="+Qe(v[q])),u.push(it)}}return this.i=u.join("&")};function fu(u){const m=new Nr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Dr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(hu(this,b),_a(this,L,v))},u)),u.j=m}function ri(u,m){const v=new B;if(d.Image){const b=new Image;b.onload=E(qn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(qn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(qn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(qn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Uo(u,m){const v=new B,b=new AbortController,L=setTimeout(()=>{b.abort(),qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(L),q.ok?qn(v,"TestPingServer: ok",!0,m):qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),qn(v,"TestPingServer: error",!1,m)})}function qn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function xr(){this.g=new Rs}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(wi,ha),wi.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(u,m){Se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ns,Se),a=Ns.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Or(this):si(this),this.readyState==3&&Ta(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Or(this))},a.Na=function(u){this.g&&(this.response=u,Or(this))},a.ga=function(){this.g&&Or(this)};function Or(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hn(u){let m="";return Yt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ds(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Hn(v),typeof u=="string"?v!=null&&Qe(v):ne(u,m,v))}function ae(u){Se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ae,Se);var Ri=/^https?$/i,Po=["POST","PUT"];a=ae.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rt.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){xs(this,q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){xs(this,q)}};function xs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zo(u),Ki(u)}function zo(u){u.A||(u.A=!0,Ae(u,"complete"),Ae(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ae(this,"complete"),Ae(this,"abort"),Ki(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),ae.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},a.Xa=function(){Os(this)};function Os(u){if(u.h&&typeof c<"u"){if(u.v&&ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ae(u,"readystatechange"),ai(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let it=String(u.D).match(lu)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),b=!Ri.test(it?it.toLowerCase():"")}v=b}if(v)Ae(u,"complete"),Ae(u,"success");else{u.o=6;try{var L=ai(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",zo(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ae(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function ai(u){return u.g?u.g.readyState:0}a.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Co(m)}};function We(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=Yi(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}te(m,function(b){return b.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Mr(u){this.za=0,this.i=[],this.j=new B,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new xr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Mr.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,b){we(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=vu(this,null,this.W),Ii(this)};function jo(u){if(Ea(u),u.I==3){var m=u.V++,v=ke(u.J);if(ne(v,"SID",u.M),ne(v,"RID",m),ne(v,"TYPE","terminate"),Ms(u,v),m=new Ye(u,u.j,m),m.M=2,m.A=Cs(ke(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}_u(u)}function Vr(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function Ea(u){Vr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ii(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;Vt||A(),kt||(Vt(),kt=!0),I.add(m,u),u.D=0}}function ba(u,m){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yn(_(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Ye(this,this.j,u);let q=this.o;if(this.U&&(q?(q=x(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),v=ke(this.J),ne(v,"RID",u),ne(v,"CVER",22),this.G&&ne(v,"X-HTTP-Session-Id",this.G),Ms(this,v),q&&(this.R?m="headers="+Qe(Hn(q))+"&"+m:this.u&&Ds(v,this.u,q)),Do(this.h,L),this.Ra&&ne(v,"TYPE","init"),this.S?(ne(v,"$req",m),ne(v,"SID","null"),L.U=!0,_i(L,v,null)):_i(L,v,m),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||No(this.h)||Bo(this))};function Bo(u,m){var v;m?v=m.l:v=u.V++;const b=ke(u.J);ne(b,"SID",u.M),ne(b,"RID",v),ne(b,"AID",u.K),Ms(u,b),u.u&&u.o&&Ds(b,u.u,u.o),v=new Ye(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),_i(v,b,m)}function Ms(u,m){u.H&&Yt(u.H,function(v,b){ne(m,b,v)}),u.l&&Yt({},function(v,b){ne(m,b,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ot=-1;for(;;){const Ne=["count="+v];Ot==-1?v>0?(Ot=L[0].g,Ne.push("ofs="+Ot)):Ot=0:Ne.push("ofs="+Ot);let Jt=!0;for(let _e=0;_e<v;_e++){var q=L[_e].g;const Gn=L[_e].map;if(q-=Ot,q<0)Ot=Math.max(0,L[_e].g-100),Jt=!1;else try{q="req"+q+"_"||"";try{var it=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Di,oi]of it){let li=oi;g(oi)&&(li=pi(oi)),Ne.push(q+Di+"="+encodeURIComponent(li))}}catch(Di){throw Ne.push(q+"type="+encodeURIComponent("_badmap")),Di}}catch{b&&b(Gn)}}if(Jt){it=Ne.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Vt||A(),kt||(Vt(),kt=!0),I.add(m,u),u.A=0}}function Vs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yn(_(u.Da,u),yu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yn(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Vr(this),gu(this))};function qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ke(u.na);ne(m,"RID","rpc"),ne(m,"SID",u.M),ne(m,"AID",u.K),ne(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ne(m,"TO",u.ia),ne(m,"TYPE","xmlhttp"),Ms(u,m),u.u&&u.o&&Ds(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Cs(ke(m)),v.u=null,v.R=!0,ma(v,u)}a.Va=function(){this.C!=null&&(this.C=null,Vr(this),Vs(this),we(19))};function Sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){Sa(u),qo(u),u.g=null;var b=2}else if(Si(u.h,m))v=m.G,xo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=Rr(),Ae(b,new jn(b,v)),Ii(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ba(u,m)||b==2&&Vs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new xn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xe(b,"https"),Cs(b),L?ri(b.toString(),v):Uo(b.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),_u(u),Ea(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Oo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var b=v instanceof xn?ke(v):new xn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Cr(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new xn(null);b&&Xe(q,b),m&&(q.g=m),L&&Cr(q,L),v&&(q.h=v),b=q}return v=u.G,m=u.wa,v&&m&&ne(b,v,m),ne(b,"VER",u.ka),Ms(u,b),b}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ae(new wi({ab:v})):new ae(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}a=Eu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function kr(){}kr.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){Se.call(this),this.g=new Mr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}S(mn,Se),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){jo(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=pi(u),u=v);m.i.push(new Ve(m.Ya++,u)),m.I==3&&Ii(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,mn.Z.N.call(this)};function bu(u){Te.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(bu,Te);function Su(){pn.call(this),this.status=1}S(Su,pn);function $i(u){this.g=u}S($i,Eu),$i.prototype.ra=function(){Ae(this.g,"a")},$i.prototype.qa=function(u){Ae(this.g,new bu(u))},$i.prototype.pa=function(u){Ae(this.g,new Su)},$i.prototype.oa=function(){Ae(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,fT=function(){return new kr},hT=function(){return Rr()},cT=Ee,Zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,Uc=ft,Ut.COMPLETE="complete",uT=Ut,fa.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Il=fa,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,lT=ae}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const uv="@firebase/firestore",cv="4.9.2";class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Eo="12.3.0";const ra=new gm("@firebase/firestore");function to(){return ra.logLevel}function ut(a,...t){if(ra.logLevel<=Gt.DEBUG){const i=t.map(Rm);ra.debug(`Firestore (${Eo}): ${a}`,...i)}}function Tr(a,...t){if(ra.logLevel<=Gt.ERROR){const i=t.map(Rm);ra.error(`Firestore (${Eo}): ${a}`,...i)}}function ho(a,...t){if(ra.logLevel<=Gt.WARN){const i=t.map(Rm);ra.warn(`Firestore (${Eo}): ${a}`,...i)}}function Rm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function St(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,dT(a,s,i)}function dT(a,t,i){let s=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Tr(s),new Error(s)}function ee(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||dT(t,l,s)}function Nt(a,t){return a}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Sr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ws{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class mT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class BR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class qR{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ee(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ws,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ws)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ee(typeof s.accessToken=="string",31837,{l:s}),new mT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ee(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class HR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new HR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ee(this.o===void 0,3512);const s=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ee(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new hv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class Cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=QR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Ft(a,t){return a<t?-1:a>t?1:0}function Jd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),c=t.charAt(s);if(l!==c)return kd(l)===kd(c)?Ft(l,c):kd(l)?1:-1}return Ft(a.length,t.length)}const YR=55296,KR=57343;function kd(a){const t=a.charCodeAt(0);return t>=YR&&t<=KR}function fo(a,t,i){return a.length===t.length&&a.every(((s,l)=>i(s,t[l])))}const fv="__name__";class Li{constructor(t,i,s){i===void 0?i=0:i>t.length&&St(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&St(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Li.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ft(t.length,i.length)}static compareSegments(t,i){const s=Li.isNumericId(t),l=Li.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Li.extractNumericId(t).compare(Li.extractNumericId(i)):Jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ms.fromString(t.substring(4,t.length-2))}}class de extends Li{construct(t,i,s){return new de(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new de(i)}static emptyPath(){return new de([])}}const XR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Li{construct(t,i,s){return new an(t,i,s)}static isValidIdentifier(t){return XR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new an([fv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new ct($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(i)}static emptyPath(){return new an([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(de.fromString(t))}static fromName(t){return new vt(de.fromString(t).popFirst(5))}static empty(){return new vt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return de.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new de(t.slice()))}}function gT(a,t,i){if(!i)throw new ct($.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function $R(a,t,i,s){if(t===!0&&s===!0)throw new ct($.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function dv(a){if(!vt.isDocumentKey(a))throw new ct($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function mv(a){if(vt.isDocumentKey(a))throw new ct($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function pT(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function dh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":St(12329,{type:typeof a})}function Vl(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ct($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(a);throw new ct($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function qe(a,t){const i={typeString:a};return t&&(i.value=t),i}function tu(a,t){if(!pT(a))throw new ct($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ct($.INVALID_ARGUMENT,i);return!0}const gv=-62135596800,pv=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(t){return pe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*pv);return new pe(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<gv)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tu(t,pe._jsonSchema))return new pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-gv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:qe("string",pe._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new pe(0,0))}static max(){return new Ct(new pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function ZR(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=Ct.fromTimestamp(s===1e9?new pe(i+1,0):new pe(i,s));return new ps(l,vt.empty(),t)}function JR(a){return new ps(a.readTime,a.key,Bl)}class ps{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new ps(Ct.min(),vt.empty(),Bl)}static max(){return new ps(Ct.max(),vt.empty(),Bl)}}function WR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(a.documentKey,t.documentKey),i!==0?i:Ft(a.largestBatchId,t.largestBatchId))}const t2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function bo(a){if(a.code!==$.FAILED_PRECONDITION||a.message!==t2)throw a;ut("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,s)=>{i(t)}))}static reject(t){return new Z(((i,s)=>{s(t)}))}static waitFor(t){return new Z(((i,s)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const s of t)i=i.next((l=>l?Z.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new Z(((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++g,g===c&&s(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new Z(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function n2(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function So(a){return a.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Im=-1;function gh(a){return a==null}function Zc(a){return a===0&&1/a==-1/0}function i2(a){return typeof a=="number"&&Number.isInteger(a)&&!Zc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const yT="";function r2(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=yv(t)),t=s2(a.get(i),t);return yv(t)}function s2(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case yT:i+="";break;default:i+=c}}return i}function yv(a){return a+yT+""}function _v(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function aa(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function _T(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class be{constructor(t,i){this.comparator=t,this.root=i||sn.EMPTY}insert(t,i){return new be(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??sn.RED,this.left=l??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new sn(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return sn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new sn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(t){return new vv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Fe(this.comparator);return i.data=t,i}}class vv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new di([])}unionWith(t){let i=new Fe(an.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new di(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return fo(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vT("Invalid base64 string: "+c):c}})(t);return new on(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new on(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}on.EMPTY_BYTE_STRING=new on("");const a2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(a){if(ee(!!a,39018),typeof a=="string"){let t=0;const i=a2.exec(a);if(ee(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Oe(a.seconds),nanos:Oe(a.nanos)}}function Oe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function _s(a){return typeof a=="string"?on.fromBase64String(a):on.fromUint8Array(a)}const TT="server_timestamp",ET="__type__",bT="__previous_value__",ST="__local_write_time__";function Nm(a){return(a?.mapValue?.fields||{})[ET]?.stringValue===TT}function ph(a){const t=a.mapValue.fields[bT];return Nm(t)?ph(t):t}function ql(a){const t=ys(a.mapValue.fields[ST].timestampValue);return new pe(t.seconds,t.nanos)}class o2{constructor(t,i,s,l,c,d,g,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const Jc="(default)";class Hl{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}const AT="__type__",l2="__max__",Dc={mapValue:{}},wT="__vector__",Wc="value";function vs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Nm(a)?4:c2(a)?9007199254740991:u2(a)?10:11:St(28295,{value:a})}function Hi(a,t){if(a===t)return!0;const i=vs(a);if(i!==vs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return ql(a).isEqual(ql(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ys(l.timestampValue),g=ys(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return _s(l.bytesValue).isEqual(_s(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return Oe(l.geoPointValue.latitude)===Oe(c.geoPointValue.latitude)&&Oe(l.geoPointValue.longitude)===Oe(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Oe(l.integerValue)===Oe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Oe(l.doubleValue),g=Oe(c.doubleValue);return d===g?Zc(d)===Zc(g):isNaN(d)&&isNaN(g)}return!1})(a,t);case 9:return fo(a.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(_v(d)!==_v(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Hi(d[y],g[y])))return!1;return!0})(a,t);default:return St(52216,{left:a})}}function Gl(a,t){return(a.values||[]).find((i=>Hi(i,t)))!==void 0}function mo(a,t){if(a===t)return 0;const i=vs(a),s=vs(t);if(i!==s)return Ft(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ft(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Oe(c.integerValue||c.doubleValue),y=Oe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(a,t);case 3:return Tv(a.timestampValue,t.timestampValue);case 4:return Tv(ql(a),ql(t));case 5:return Jd(a.stringValue,t.stringValue);case 6:return(function(c,d){const g=_s(c),y=_s(d);return g.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const E=Ft(g[_],y[_]);if(E!==0)return E}return Ft(g.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ft(Oe(c.latitude),Oe(d.latitude));return g!==0?g:Ft(Oe(c.longitude),Oe(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return Ev(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Wc]?.arrayValue,E=y[Wc]?.arrayValue,S=Ft(_?.values?.length||0,E?.values?.length||0);return S!==0?S:Ev(_,E)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const M=Jd(y[S],E[S]);if(M!==0)return M;const Q=mo(g[y[S]],_[E[S]]);if(Q!==0)return Q}return Ft(y.length,E.length)})(a.mapValue,t.mapValue);default:throw St(23264,{he:i})}}function Tv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Ft(a,t);const i=ys(a),s=ys(t),l=Ft(i.seconds,s.seconds);return l!==0?l:Ft(i.nanos,s.nanos)}function Ev(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=mo(i[l],s[l]);if(c)return c}return Ft(i.length,s.length)}function go(a){return Wd(a)}function Wd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=ys(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return _s(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return vt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Wd(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Wd(i.fields[d])}`;return l+"}"})(a.mapValue):St(61005,{value:a})}function Pc(a){switch(vs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(a);return t?16+Pc(t):16;case 5:return 2*a.stringValue.length;case 6:return _s(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return aa(s.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(a.mapValue);default:throw St(13486,{value:a})}}function bv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function tm(a){return!!a&&"integerValue"in a}function Dm(a){return!!a&&"arrayValue"in a}function Sv(a){return!!a&&"nullValue"in a}function Av(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function zc(a){return!!a&&"mapValue"in a}function u2(a){return(a?.mapValue?.fields||{})[AT]?.stringValue===wT}function kl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return aa(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=kl(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=kl(a.arrayValue.values[i]);return t}return{...a}}function c2(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===l2}class ti{constructor(t){this.value=t}static empty(){return new ti({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=kl(i)}setAll(t){let i=an.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=kl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){aa(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new ti(kl(this.value))}}function RT(a){const t=[];return aa(a.fields,((i,s)=>{const l=new an([i]);if(zc(s)){const c=RT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new di(t)}class hn{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new hn(t,0,Ct.min(),Ct.min(),Ct.min(),ti.empty(),0)}static newFoundDocument(t,i,s,l){return new hn(t,1,i,Ct.min(),s,l,0)}static newNoDocument(t,i){return new hn(t,2,i,Ct.min(),Ct.min(),ti.empty(),0)}static newUnknownDocument(t,i){return new hn(t,3,i,Ct.min(),Ct.min(),ti.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function wv(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=vt.comparator(vt.fromName(d.referenceValue),i.key):s=mo(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Hi(a.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function h2(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class CT{}class Be extends CT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new d2(t,i,s):i==="array-contains"?new p2(t,s):i==="in"?new y2(t,s):i==="not-in"?new _2(t,s):i==="array-contains-any"?new v2(t,s):new Be(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new m2(t,s):new g2(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(mo(i,this.value)):i!==null&&vs(this.value)===vs(i)&&this.matchesComparison(mo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends CT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new mi(t,i)}matches(t){return IT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IT(a){return a.op==="and"}function NT(a){return f2(a)&&IT(a)}function f2(a){for(const t of a.filters)if(t instanceof mi)return!1;return!0}function em(a){if(a instanceof Be)return a.field.canonicalString()+a.op.toString()+go(a.value);if(NT(a))return a.filters.map((t=>em(t))).join(",");{const t=a.filters.map((i=>em(i))).join(",");return`${a.op}(${t})`}}function DT(a,t){return a instanceof Be?(function(s,l){return l instanceof Be&&s.op===l.op&&s.field.isEqual(l.field)&&Hi(s.value,l.value)})(a,t):a instanceof mi?(function(s,l){return l instanceof mi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&DT(d,l.filters[g])),!0):!1})(a,t):void St(19439)}function xT(a){return a instanceof Be?(function(i){return`${i.field.canonicalString()} ${i.op} ${go(i.value)}`})(a):a instanceof mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(xT).join(" ,")+"}"})(a):"Filter"}class d2 extends Be{constructor(t,i,s){super(t,i,s),this.key=vt.fromName(s.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class m2 extends Be{constructor(t,i){super(t,"in",i),this.keys=OT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class g2 extends Be{constructor(t,i){super(t,"not-in",i),this.keys=OT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function OT(a,t){return(t.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class p2 extends Be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&Gl(i.arrayValue,this.value)}}class y2 extends Be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class _2 extends Be{constructor(t,i){super(t,"not-in",i)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Gl(this.value.arrayValue,i)}}class v2 extends Be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Gl(this.value.arrayValue,s)))}}class T2{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Cv(a,t=null,i=[],s=[],l=null,c=null,d=null){return new T2(a,t,i,s,l,c,d)}function xm(a){const t=Nt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>em(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>go(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>go(s))).join(",")),t.Te=i}return t.Te}function Om(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!h2(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!DT(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Rv(a.startAt,t.startAt)&&Rv(a.endAt,t.endAt)}function nm(a){return vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class eu{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function E2(a,t,i,s,l,c,d,g){return new eu(a,t,i,s,l,c,d,g)}function Mm(a){return new eu(a)}function Iv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function MT(a){return a.collectionGroup!==null}function Ll(a){const t=Nt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Fe(an.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,s))})),i.has(an.keyField().canonicalString())||t.Ie.push(new eh(an.keyField(),s))}return t.Ie}function zi(a){const t=Nt(a);return t.Ee||(t.Ee=b2(t,Ll(a))),t.Ee}function b2(a,t){if(a.limitType==="F")return Cv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=a.endAt?new th(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new th(a.startAt.position,a.startAt.inclusive):null;return Cv(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function im(a,t){const i=a.filters.concat([t]);return new eu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function rm(a,t,i){return new eu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function yh(a,t){return Om(zi(a),zi(t))&&a.limitType===t.limitType}function VT(a){return`${xm(zi(a))}|lt:${a.limitType}`}function eo(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>xT(l))).join(", ")}]`),gh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>go(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>go(l))).join(",")),`Target(${s})`})(zi(a))}; limitType=${a.limitType})`}function _h(a,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):vt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,l){for(const c of Ll(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,y){const _=wv(d,g,y);return d.inclusive?_<=0:_<0})(s.startAt,Ll(s),l)||s.endAt&&!(function(d,g,y){const _=wv(d,g,y);return d.inclusive?_>=0:_>0})(s.endAt,Ll(s),l))})(a,t)}function S2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function kT(a){return(t,i)=>{let s=!1;for(const l of Ll(a)){const c=A2(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function A2(a,t,i){const s=a.field.isKeyField()?vt.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?mo(y,_):St(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:a.dir})}}class oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){aa(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}const w2=new be(vt.comparator);function Er(){return w2}const LT=new be(vt.comparator);function Nl(...a){let t=LT;for(const i of a)t=t.insert(i.key,i);return t}function UT(a){let t=LT;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Js(){return Ul()}function PT(){return Ul()}function Ul(){return new oa((a=>a.toString()),((a,t)=>a.isEqual(t)))}const R2=new be(vt.comparator),C2=new Fe(vt.comparator);function Qt(...a){let t=C2;for(const i of a)t=t.add(i);return t}const I2=new Fe(Ft);function N2(){return I2}function Vm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function zT(a){return{integerValue:""+a}}function D2(a,t){return i2(t)?zT(t):Vm(a,t)}class vh{constructor(){this._=void 0}}function x2(a,t,i){return a instanceof nh?(function(l,c){const d={fields:{[ET]:{stringValue:TT},[ST]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Nm(c)&&(c=ph(c)),c&&(d.fields[bT]=c),{mapValue:d}})(i,t):a instanceof Fl?BT(a,t):a instanceof Ql?qT(a,t):(function(l,c){const d=jT(l,c),g=Nv(d)+Nv(l.Ae);return tm(d)&&tm(l.Ae)?zT(g):Vm(l.serializer,g)})(a,t)}function O2(a,t,i){return a instanceof Fl?BT(a,t):a instanceof Ql?qT(a,t):i}function jT(a,t){return a instanceof ih?(function(s){return tm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class nh extends vh{}class Fl extends vh{constructor(t){super(),this.elements=t}}function BT(a,t){const i=HT(t);for(const s of a.elements)i.some((l=>Hi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ql extends vh{constructor(t){super(),this.elements=t}}function qT(a,t){let i=HT(t);for(const s of a.elements)i=i.filter((l=>!Hi(l,s)));return{arrayValue:{values:i}}}class ih extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Nv(a){return Oe(a.integerValue||a.doubleValue)}function HT(a){return Dm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function M2(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof Fl&&l instanceof Fl||s instanceof Ql&&l instanceof Ql?fo(s.elements,l.elements,Hi):s instanceof ih&&l instanceof ih?Hi(s.Ae,l.Ae):s instanceof nh&&l instanceof nh})(a.transform,t.transform)}class V2{constructor(t,i){this.version=t,this.transformResults=i}}class gr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new gr}static exists(t){return new gr(void 0,t)}static updateTime(t){return new gr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Th{}function GT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new QT(a.key,gr.none()):new nu(a.key,a.data,gr.none());{const i=a.data,s=ti.empty();let l=new Fe(an.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new la(a.key,s,new di(l.toArray()),gr.none())}}function k2(a,t,i){a instanceof nu?(function(l,c,d){const g=l.value.clone(),y=xv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,t,i):a instanceof la?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=xv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(FT(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Pl(a,t,i,s){return a instanceof nu?(function(c,d,g,y){if(!jc(c.precondition,d))return g;const _=c.value.clone(),E=Ov(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,t,i,s):a instanceof la?(function(c,d,g,y){if(!jc(c.precondition,d))return g;const _=Ov(c.fieldTransforms,y,d),E=d.data;return E.setAll(FT(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(a,t,i,s):(function(c,d,g){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,t,i)}function L2(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=jT(s.transform,l||null);c!=null&&(i===null&&(i=ti.empty()),i.set(s.field,c))}return i||null}function Dv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&fo(s,l,((c,d)=>M2(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class nu extends Th{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class la extends Th{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function FT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function xv(a,t,i){const s=new Map;ee(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,O2(d,g,i[l]))}return s}function Ov(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,x2(c,d,t))}return s}class QT extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U2 extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class P2{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&k2(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Pl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Pl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=PT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=GT(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ct.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Qt())}isEqual(t){return this.batchId===t.batchId&&fo(this.mutations,t.mutations,((i,s)=>Dv(i,s)))&&fo(this.baseMutations,t.baseMutations,((i,s)=>Dv(i,s)))}}class km{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){ee(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return R2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new km(t,i,s,l)}}class z2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class j2{constructor(t,i){this.count=t,this.unchangedNames=i}}var je,Xt;function B2(a){switch(a){case $.OK:return St(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return St(15467,{code:a})}}function YT(a){if(a===void 0)return Tr("GRPC error has no .code"),$.UNKNOWN;switch(a){case je.OK:return $.OK;case je.CANCELLED:return $.CANCELLED;case je.UNKNOWN:return $.UNKNOWN;case je.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case je.INTERNAL:return $.INTERNAL;case je.UNAVAILABLE:return $.UNAVAILABLE;case je.UNAUTHENTICATED:return $.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case je.NOT_FOUND:return $.NOT_FOUND;case je.ALREADY_EXISTS:return $.ALREADY_EXISTS;case je.PERMISSION_DENIED:return $.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case je.ABORTED:return $.ABORTED;case je.OUT_OF_RANGE:return $.OUT_OF_RANGE;case je.UNIMPLEMENTED:return $.UNIMPLEMENTED;case je.DATA_LOSS:return $.DATA_LOSS;default:return St(39323,{code:a})}}(Xt=je||(je={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";function q2(){return new TextEncoder}const H2=new ms([4294967295,4294967295],0);function Mv(a){const t=q2().encode(a),i=new oT;return i.update(t),new Uint8Array(i.digest())}function Vv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ms([i,s],0),new ms([l,c],0)]}class Lm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Dl(`Invalid padding: ${i}`);if(s<0)throw new Dl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ms.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(ms.fromNumber(s)));return l.compare(H2)===1&&(l=new ms([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Mv(t),[s,l]=Vv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Lm(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Mv(t),[s,l]=Vv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Eh(Ct.min(),l,new be(Ft),Er(),Qt())}}class iu{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new iu(s,i,Qt(),Qt(),Qt())}}class Bc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class KT{constructor(t,i){this.targetId=t,this.Ce=i}}class XT{constructor(t,i,s=on.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class kv{constructor(){this.ve=0,this.Fe=Lv(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Qt(),i=Qt(),s=Qt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:St(38017,{changeType:c})}})),new iu(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=Lv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class G2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Er(),this.Je=xc(),this.He=xc(),this.Ye=new be(Ft)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(nm(c))if(s===0){const d=new vt(c.path);this.et(i,d,hn.newNoDocument(d,Ct.min()))}else ee(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=_s(s).toUint8Array()}catch(y){if(y instanceof vT)return ho("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Lm(d,l,c)}catch(y){return ho(y instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&nm(g.target)){const y=new vt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,hn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Qt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ye,this.je,s);return this.je=Er(),this.Je=xc(),this.He=xc(),this.Ye=new be(Ft),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new kv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Fe(Ft),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Fe(Ft),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new be(vt.comparator)}function Lv(){return new be(vt.comparator)}const F2={asc:"ASCENDING",desc:"DESCENDING"},Q2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y2={and:"AND",or:"OR"};class K2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(a,t){return a.useProto3Json||gh(t)?t:{value:t}}function rh(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $T(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function X2(a,t){return rh(a,t.toTimestamp())}function ji(a){return ee(!!a,49232),Ct.fromTimestamp((function(i){const s=ys(i);return new pe(s.seconds,s.nanos)})(a))}function Um(a,t){return am(a,t).canonicalString()}function am(a,t){const i=(function(l){return new de(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function ZT(a){const t=de.fromString(a);return ee(nE(t),10190,{key:t.toString()}),t}function om(a,t){return Um(a.databaseId,t.path)}function Ld(a,t){const i=ZT(t);if(i.get(1)!==a.databaseId.projectId)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new vt(WT(i))}function JT(a,t){return Um(a.databaseId,t)}function $2(a){const t=ZT(a);return t.length===4?de.emptyPath():WT(t)}function lm(a){return new de(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function WT(a){return ee(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Uv(a,t,i){return{name:om(a,t),fields:i.value.mapValue.fields}}function Z2(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:St(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(ee(E===void 0||typeof E=="string",58123),on.fromBase64String(E||"")):(ee(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),on.fromUint8Array(E||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const E=_.code===void 0?$.UNKNOWN:YT(_.code);return new ct(E,_.message||"")})(d);i=new XT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Ld(a,s.document.name),c=ji(s.document.updateTime),d=s.document.createTime?ji(s.document.createTime):Ct.min(),g=new ti({mapValue:{fields:s.document.fields}}),y=hn.newFoundDocument(l,c,d,g),_=s.targetIds||[],E=s.removedTargetIds||[];i=new Bc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Ld(a,s.document),c=s.readTime?ji(s.readTime):Ct.min(),d=hn.newNoDocument(l,c),g=s.removedTargetIds||[];i=new Bc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Ld(a,s.document),c=s.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new j2(l,c),g=s.targetId;i=new KT(g,d)}}return i}function J2(a,t){let i;if(t instanceof nu)i={update:Uv(a,t.key,t.value)};else if(t instanceof QT)i={delete:om(a,t.key)};else if(t instanceof la)i={update:Uv(a,t.key,t.data),updateMask:oC(t.fieldMask)};else{if(!(t instanceof U2))return St(16599,{Vt:t.type});i={verify:om(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ih)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw St(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:X2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:St(27497)})(a,t.precondition)),i}function W2(a,t){return a&&a.length>0?(ee(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(Ct.min())&&(d=ji(c)),new V2(d,l.transformResults||[])})(i,t)))):[]}function tC(a,t){return{documents:[JT(a,t.path)]}}function eC(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=JT(a,l);const c=(function(_){if(_.length!==0)return eE(mi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:no(M.field),direction:rC(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=sm(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function nC(a){let t=$2(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){ee(s===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const M=tE(S);return M instanceof mi&&NT(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(J){return new eh(io(J.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let M;return M=typeof S=="object"?S.value:S,gh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(S){const M=!!S.before,Q=S.values||[];return new th(Q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,Q=S.values||[];return new th(Q,M)})(i.endAt)),E2(t,l,d,c,g,"F",y,_)}function iC(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function tE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=io(i.unaryFilter.field);return Be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return Be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return Be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return Be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Be.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return mi.create(i.compositeFilter.filters.map((s=>tE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(i.compositeFilter.op))})(a):St(30097,{filter:a})}function rC(a){return F2[a]}function sC(a){return Q2[a]}function aC(a){return Y2[a]}function no(a){return{fieldPath:a.canonicalString()}}function io(a){return an.fromServerFormat(a.fieldPath)}function eE(a){return a instanceof Be?(function(i){if(i.op==="=="){if(Av(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(Sv(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Av(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(Sv(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:sC(i.op),value:i.value}}})(a):a instanceof mi?(function(i){const s=i.getFilters().map((l=>eE(l)));return s.length===1?s[0]:{compositeFilter:{op:aC(i.op),filters:s}}})(a):St(54877,{filter:a})}function oC(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function nE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class cs{constructor(t,i,s,l,c=Ct.min(),d=Ct.min(),g=on.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new cs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class lC{constructor(t){this.yt=t}}function uC(a){const t=nC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?rm(t,t.limit,"L"):t}class cC{constructor(){this.Cn=new hC}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(ps.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(ps.min())}updateCollectionGroup(t,i,s){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class hC{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Fe(de.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Fe(de.comparator)).toArray()}}const Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iE=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(iE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}const zv="LruGarbageCollector",fC=1048576;function jv([a,t],[i,s]){const l=Ft(a,i);return l===0?Ft(t,s):l}class dC{constructor(t){this.Ir=t,this.buffer=new Fe(jv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();jv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class mC{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){So(i)?ut(zv,"Ignoring IndexedDB error during garbage collection: ",i):await bo(i)}await this.Vr(3e5)}))}}class gC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(mh.ce);const s=new dC(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Pv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,g,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,g=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(_=Date.now(),to()<=Gt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function pC(a,t){return new gC(a,t)}class yC{constructor(){this.changes=new oa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,hn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class _C{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class vC{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Pl(s.mutation,l,di.empty(),pe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Qt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Qt()){const l=Js();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Nl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Js();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Qt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,s,l){let c=Er();const d=Ul(),g=(function(){return Ul()})();return i.forEach(((y,_)=>{const E=s.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof la)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Pl(E.mutation,_,E.mutation.getFieldMask(),pe.now())):d.set(_.key,di.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>g.set(_,new _C(E,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const s=Ul();let l=new be(((d,g)=>d-g)),c=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=s.get(y)||di.empty();E=g.applyToLocalView(_,E),s.set(y,E);const S=(l.get(g.batchId)||Qt()).add(y);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,E=y.value,S=PT();E.forEach((M=>{if(!c.has(M)){const Q=GT(i.get(M),s.get(M));Q!==null&&S.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return vt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):MT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):Z.resolve(Js());let g=Bl,y=c;return d.next((_=>Z.forEach(_,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Qt()))).next((E=>({batchId:g,changes:UT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next((s=>{let l=Nl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(y=>{const _=(function(S,M){return new eu(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((E=>{E.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,hn.newInvalidDocument(E)))}));let g=Nl();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Pl(E.mutation,_,di.empty(),pe.now()),_h(i,_)&&(g=g.insert(y,_))})),g}))}}class TC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:uC(l.bundledQuery),readTime:ji(l.readTime)}})(i)),Z.resolve()}}class EC{constructor(){this.overlays=new be(vt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Js();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(t,i,s){const l=Js(),c=i.length+1,d=new vt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new be(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let E=c.get(_.largestBatchId);E===null&&(E=Js(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=Js(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>g.set(_,E))),!(g.size()>=l)););return Z.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new z2(i,s));let c=this.qr.get(i);c===void 0&&(c=Qt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class bC{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Pm{constructor(){this.Qr=new Fe(Ze.$r),this.Ur=new Fe(Ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Ze(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Ze(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new vt(new de([])),s=new Ze(i,t),l=new Ze(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new vt(new de([])),s=new Ze(i,t),l=new Ze(i,t+1);let c=Qt();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ze(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ze{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return vt.comparator(t.key,i.key)||Ft(t.Yr,i.Yr)}static Kr(t,i){return Ft(t.Yr,i.Yr)||vt.comparator(t.key,i.key)}}class SC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Fe(Ze.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new P2(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ze(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Im:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ze(i,0),l=new Ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Fe(Ft);return i.forEach((l=>{const c=new Ze(l,0),d=new Ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;vt.isDocumentKey(c)||(c=c.child(""));const d=new Ze(new vt(c),0);let g=new Fe(Ft);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){ee(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Ze(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Ze(i,0),l=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class AC{constructor(t){this.ri=t,this.docs=(function(){return new be(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(t,i){let s=Er();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():hn.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Er();const d=i.path,g=new vt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||WR(JR(E),s)<=0||(l.has(E.key)||_h(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,s,l){St(9500)}ii(t,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new wC(this)}getSize(t){return Z.resolve(this.size)}}class wC extends yC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class RC{constructor(t){this.persistence=t,this.si=new oa((i=>xm(i)),Om),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=po.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new po(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class rE{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new bC,this.referenceDelegate=t(this),this.Pi=new RC(this),this.indexManager=new cC,this.remoteDocumentCache=(function(l){return new AC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new lC(i),this.Ii=new TC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new EC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new SC(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){ut("MemoryPersistence","Starting transaction:",t);const l=new CC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class CC extends e2{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const l=vt.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Ct.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new oa((s=>r2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=pC(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(s++,c.removeEntry(d,Ct.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,s){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Qt(),l=Qt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new jm(t,i.fromCache,s,l)}}class IC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class NC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _S()?8:n2(fn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new IC;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(to()<=Gt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(to()<=Gt.DEBUG&&ut("QueryEngine","Query:",eo(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(to()<=Gt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(i))):Z.resolve())}ys(t,i){if(Iv(i))return Z.resolve(null);let s=zi(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=rm(i,null,"F"),s=zi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Qt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,rm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,s,l){return Iv(i)||l.isEqual(Ct.min())?Z.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?Z.resolve(null):(to()<=Gt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),eo(i)),this.vs(t,d,i,ZR(l,Bl)).next((g=>g)))}))}Ds(t,i){let s=new Fe(kT(t));return i.forEach(((l,c)=>{_h(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return to()<=Gt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",eo(i)),this.ps.getDocumentsMatchingQuery(t,i,ps.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Bm="LocalStore",DC=3e8;class xC{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new be(Ft),this.xs=new oa((c=>xm(c)),Om),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function OC(a,t,i,s){return new xC(a,t,i,s)}async function sE(a,t){const i=Nt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let y=Qt();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){g.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function MC(a,t){const i=Nt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,E){const S=_.batch,M=S.keys();let Q=Z.resolve();return M.forEach((J=>{Q=Q.next((()=>E.getEntry(y,J))).next((et=>{const tt=_.docVersions.get(J);ee(tt!==null,48541),et.version.compareTo(tt)<0&&(S.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),E.addEntry(et)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Qt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function aE(a){const t=Nt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function VC(a,t){const i=Nt(a),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((E,S)=>{const M=l.get(S);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let Q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(on.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):E.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(E.resumeToken,s)),l=l.insert(S,Q),(function(et,tt,yt){return et.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=DC?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0})(M,Q,E)&&g.push(i.Pi.updateTargetData(c,Q))}));let y=Er(),_=Qt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(kC(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!s.isEqual(Ct.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function kC(a,t,i){let s=Qt(),l=Qt();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let d=Er();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Ct.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ut(Bm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function LC(a,t){const i=Nt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function UC(a,t){const i=Nt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new cs(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function um(a,t,i){const s=Nt(a),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!So(d))throw d;ut(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Bv(a,t,i){const s=Nt(a);let l=Ct.min(),c=Qt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const S=Nt(y),M=S.xs.get(E);return M!==void 0?Z.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,E)})(s,d,zi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:Ct.min(),i?c:Qt()))).next((g=>(PC(s,S2(t),g),{documents:g,Qs:c})))))}function PC(a,t,i){let s=a.Os.get(t)||Ct.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(t,s)}class qv{constructor(){this.activeTargetIds=N2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zC{constructor(){this.Mo=new qv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new qv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class jC{Oo(t){}shutdown(){}}const Hv="ConnectivityMonitor";class Gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(Hv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(Hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function cm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Ud="RestConnection",BC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Jc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=cm(),g=this.zo(t,i.toUriEncodedString());ut(Ud,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),E=_o(_);return this.Jo(t,g,y,s,E).then((S=>(ut(Ud,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw ho(Ud,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=BC[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class HC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const un="WebChannelConnection";class GC extends qC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=cm();return new Promise(((g,y)=>{const _=new lT;_.setWithCredentials(!0),_.listenOnce(uT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uc.NO_ERROR:const S=_.getResponseJson();ut(un,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Uc.TIMEOUT:ut(un,`RPC '${t}' ${d} timed out`),y(new ct($.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const M=_.getStatus();if(ut(un,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const et=(function(yt){const Tt=yt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Tt)>=0?Tt:$.UNKNOWN})(J.status);y(new ct(et,J.message))}else y(new ct($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ct($.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ut(un,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);ut(un,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",E,s,15)}))}T_(t,i,s){const l=cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=fT(),g=hT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=c.join("");ut(un,`Creating RPC '${t}' stream ${l}: ${E}`,y);const S=d.createWebChannel(E,y);this.I_(S);let M=!1,Q=!1;const J=new HC({Yo:tt=>{Q?ut(un,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(M||(ut(un,`Opening RPC '${t}' stream ${l} transport.`),S.open(),M=!0),ut(un,`RPC '${t}' stream ${l} sending:`,tt),S.send(tt))},Zo:()=>S.close()}),et=(tt,yt,Tt)=>{tt.listen(yt,(Et=>{try{Tt(Et)}catch(Dt){setTimeout((()=>{throw Dt}),0)}}))};return et(S,Il.EventType.OPEN,(()=>{Q||(ut(un,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),et(S,Il.EventType.CLOSE,(()=>{Q||(Q=!0,ut(un,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),et(S,Il.EventType.ERROR,(tt=>{Q||(Q=!0,ho(un,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),J.a_(new ct($.UNAVAILABLE,"The operation could not be completed")))})),et(S,Il.EventType.MESSAGE,(tt=>{if(!Q){const yt=tt.data[0];ee(!!yt,16349);const Tt=yt,Et=Tt?.error||Tt[0]?.error;if(Et){ut(un,`RPC '${t}' stream ${l} received error:`,Et);const Dt=Et.status;let Vt=(function(A){const R=je[A];if(R!==void 0)return YT(R)})(Dt),kt=Et.message;Vt===void 0&&(Vt=$.INTERNAL,kt="Unknown error status: "+Dt+" with message "+Et.message),Q=!0,J.a_(new ct(Vt,kt)),S.close()}else ut(un,`RPC '${t}' stream ${l} received:`,yt),J.u_(yt)}})),et(g,cT.STAT_EVENT,(tt=>{tt.stat===Zd.PROXY?ut(un,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===Zd.NOPROXY&&ut(un,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Pd(){return typeof document<"u"?document:null}function bh(a){return new K2(a,!0)}class oE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Fv="PersistentStream";class lE{constructor(t,i,s,l,c,d,g,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Tr(i.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new ct($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(Fv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(Fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FC extends lE{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Z2(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Ct.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ct.min():d.readTime?ji(d.readTime):Ct.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=lm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=nm(y)?{documents:tC(c,y)}:{query:eC(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=$T(c,d.resumeToken);const _=sm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ct.min())>0){g.readTime=rh(c,d.snapshotVersion.toTimestamp());const _=sm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const s=iC(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=lm(this.serializer),i.removeTarget=t,this.q_(i)}}class QC extends lE{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ee(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ee(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ee(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=W2(t.writeResults,t.commitTime),s=ji(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=lm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>J2(this.serializer,s)))};this.q_(i)}}class YC{}class KC extends YC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,am(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct($.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,am(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class $C{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ua(this)&&(ut(sa,"Restarting streams for network reachability change."),await(async function(y){const _=Nt(y);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Ra=new XC(s,l)}}async function Sh(a){if(ua(a))for(const t of a.da)await t(!0)}async function ru(a){for(const t of a.da)await t(!1)}function uE(a,t){const i=Nt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Fm(i)?Gm(i):Ao(i).O_()&&Hm(i,t))}function qm(a,t){const i=Nt(a),s=Ao(i);i.Ia.delete(t),s.O_()&&cE(i,t),i.Ia.size===0&&(s.O_()?s.L_():ua(i)&&i.Ra.set("Unknown"))}function Hm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ao(a).Y_(t)}function cE(a,t){a.Va.Ue(t),Ao(a).Z_(t)}function Gm(a){a.Va=new G2({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Ao(a).start(),a.Ra.ua()}function Fm(a){return ua(a)&&!Ao(a).x_()&&a.Ia.size>0}function ua(a){return Nt(a).Ea.size===0}function hE(a){a.Va=void 0}async function ZC(a){a.Ra.set("Online")}async function JC(a){a.Ia.forEach(((t,i)=>{Hm(a,t)}))}async function WC(a,t){hE(a),Fm(a)?(a.Ra.ha(t),Gm(a)):a.Ra.set("Unknown")}async function tI(a,t,i){if(a.Ra.set("Online"),t instanceof XT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(a,t)}catch(s){ut(sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ah(a,s)}else if(t instanceof Bc?a.Va.Ze(t):t instanceof KT?a.Va.st(t):a.Va.tt(t),!i.isEqual(Ct.min()))try{const s=await aE(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(on.EMPTY_BYTE_STRING,E.snapshotVersion)),cE(c,y);const S=new cs(E.target,y,_,E.sequenceNumber);Hm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(s){ut(sa,"Failed to raise snapshot:",s),await ah(a,s)}}async function ah(a,t,i){if(!So(t))throw t;a.Ea.add(1),await ru(a),a.Ra.set("Offline"),i||(i=()=>aE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ut(sa,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Sh(a)}))}function fE(a,t){return t().catch((i=>ah(a,i,t)))}async function Ah(a){const t=Nt(a),i=Ts(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;eI(t);)try{const l=await LC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,nI(t,l)}catch(l){await ah(t,l)}dE(t)&&mE(t)}function eI(a){return ua(a)&&a.Ta.length<10}function nI(a,t){a.Ta.push(t);const i=Ts(a);i.O_()&&i.X_&&i.ea(t.mutations)}function dE(a){return ua(a)&&!Ts(a).x_()&&a.Ta.length>0}function mE(a){Ts(a).start()}async function iI(a){Ts(a).ra()}async function rI(a){const t=Ts(a);for(const i of a.Ta)t.ea(i.mutations)}async function sI(a,t,i){const s=a.Ta.shift(),l=km.from(s,t,i);await fE(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Ah(a)}async function aI(a,t){t&&Ts(a).X_&&await(async function(s,l){if((function(d){return B2(d)&&d!==$.ABORTED})(l.code)){const c=s.Ta.shift();Ts(s).B_(),await fE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(s)}})(a,t),dE(a)&&mE(a)}async function Qv(a,t){const i=Nt(a);i.asyncQueue.verifyOperationInProgress(),ut(sa,"RemoteStore received new credentials");const s=ua(i);i.Ea.add(3),await ru(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function oI(a,t){const i=Nt(a);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await ru(i),i.Ra.set("Unknown"))}function Ao(a){return a.ma||(a.ma=(function(i,s,l){const c=Nt(i);return c.sa(),new FC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:ZC.bind(null,a),t_:JC.bind(null,a),r_:WC.bind(null,a),H_:tI.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Fm(a)?Gm(a):a.Ra.set("Unknown")):(await a.ma.stop(),hE(a))}))),a.ma}function Ts(a){return a.fa||(a.fa=(function(i,s,l){const c=Nt(i);return c.sa(),new QC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:iI.bind(null,a),r_:aI.bind(null,a),ta:rI.bind(null,a),na:sI.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await Ah(a)):(await a.fa.stop(),a.Ta.length>0&&(ut(sa,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Qm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new Qm(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(a,t){if(Tr("AsyncQueue",`${t}: ${a}`),So(a))return new ct($.UNAVAILABLE,`${t}: ${a}`);throw a}class lo{static emptySet(t){return new lo(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||vt.comparator(i.key,s.key):(i,s)=>vt.comparator(i.key,s.key),this.keyedMap=Nl(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new lo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class Yv{constructor(){this.ga=new be(vt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class yo{constructor(t,i,s,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new yo(t,i,lo.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class lI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class uI{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Nt(i),c=l.queries;l.queries=Kv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new ct($.ABORTED,"Firestore shutting down"))}}function Kv(){return new oa((a=>VT(a)),yh)}async function cI(a,t){const i=Nt(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new lI,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Ym(d,`Initialization of query '${eo(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Km(i)}async function hI(a,t){const i=Nt(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function fI(a,t){const i=Nt(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&Km(i)}function dI(a,t,i){const s=Nt(a),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function Km(a){a.Ca.forEach((t=>{t.next()}))}var hm,Xv;(Xv=hm||(hm={})).Ma="default",Xv.Cache="cache";class mI{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new yo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}class gE{constructor(t){this.key=t}}class pE{constructor(t){this.key=t}}class gI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=kT(t),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new Yv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,S)=>{const M=l.get(E),Q=_h(this.query,S)?S:null,J=!!M&&this.mutatedKeys.has(M.key),et=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;M&&Q?M.data.isEqual(Q.data)?J!==et&&(s.track({type:3,doc:Q}),tt=!0):this.su(M,Q)||(s.track({type:2,doc:Q}),tt=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(g=!0)):!M&&Q?(s.track({type:0,doc:Q}),tt=!0):M&&!Q&&(s.track({type:1,doc:M}),tt=!0,(y||_)&&(g=!0)),tt&&(Q?(d=d.add(Q),c=et?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,S)=>(function(Q,J){const et=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:tt})}};return et(Q)-et(J)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new yo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Qt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new pE(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new gE(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xm="SyncEngine";class pI{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class yI{constructor(t){this.key=t,this.hu=!1}}class _I{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((g=>VT(g)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new be(vt.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vI(a,t,i=!0){const s=bE(a);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await yE(s,t,i,!0),l}async function TI(a,t){const i=bE(a);await yE(i,t,!0,!1)}async function yE(a,t,i,s){const l=await UC(a.localStore,zi(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await EI(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&uE(a.remoteStore,l),g}async function EI(a,t,i,s,l){a.pu=(S,M,Q)=>(async function(et,tt,yt,Tt){let Et=tt.view.ru(yt);Et.Cs&&(Et=await Bv(et.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,Et))));const Dt=Tt&&Tt.targetChanges.get(tt.targetId),Vt=Tt&&Tt.targetMismatches.get(tt.targetId)!=null,kt=tt.view.applyChanges(Et,et.isPrimaryClient,Dt,Vt);return Zv(et,tt.targetId,kt.au),kt.snapshot})(a,S,M,Q);const c=await Bv(a.localStore,t,!0),d=new gI(t,c.Qs),g=d.ru(c.documents),y=iu.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),_=d.applyChanges(g,a.isPrimaryClient,y);Zv(a,i,_.au);const E=new pI(t,i,d);return a.Tu.set(t,E),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),_.snapshot}async function bI(a,t,i){const s=Nt(a),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await um(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&qm(s.remoteStore,l.targetId),fm(s,l.targetId)})).catch(bo)):(fm(s,l.targetId),await um(s.localStore,l.targetId,!0))}async function SI(a,t){const i=Nt(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),qm(i.remoteStore,s.targetId))}async function AI(a,t,i){const s=xI(a);try{const l=await(function(d,g){const y=Nt(d),_=pe.now(),E=g.reduce(((Q,J)=>Q.add(J.key)),Qt());let S,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let J=Er(),et=Qt();return y.Ns.getEntries(Q,E).next((tt=>{J=tt,J.forEach(((yt,Tt)=>{Tt.isValidDocument()||(et=et.add(yt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,J))).next((tt=>{S=tt;const yt=[];for(const Tt of g){const Et=L2(Tt,S.get(Tt.key).overlayedDocument);Et!=null&&yt.push(new la(Tt.key,Et,RT(Et.value.mapValue),gr.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,yt,g)})).next((tt=>{M=tt;const yt=tt.applyToLocalDocumentSet(S,et);return y.documentOverlayCache.saveOverlays(Q,tt.batchId,yt)}))})).then((()=>({batchId:M.batchId,changes:UT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new be(Ft)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await su(s,l.changes),await Ah(s.remoteStore)}catch(l){const c=Ym(l,"Failed to persist write");i.reject(c)}}async function _E(a,t){const i=Nt(a);try{const s=await VC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ee(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ee(d.hu,14607):l.removedDocuments.size>0&&(ee(d.hu,42227),d.hu=!1))})),await su(i,s,t)}catch(s){await bo(s)}}function $v(a,t,i){const s=Nt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Nt(d);y.onlineState=g;let _=!1;y.queries.forEach(((E,S)=>{for(const M of S.Sa)M.va(g)&&(_=!0)})),_&&Km(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function wI(a,t,i){const s=Nt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new be(vt.comparator);d=d.insert(c,hn.newNoDocument(c,Ct.min()));const g=Qt().add(c),y=new Eh(Ct.min(),new Map,new be(Ft),d,g);await _E(s,y),s.du=s.du.remove(c),s.Au.delete(t),$m(s)}else await um(s.localStore,t,!1).then((()=>fm(s,t,i))).catch(bo)}async function RI(a,t){const i=Nt(a),s=t.batch.batchId;try{const l=await MC(i.localStore,t);TE(i,s,null),vE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await su(i,l)}catch(l){await bo(l)}}async function CI(a,t,i){const s=Nt(a);try{const l=await(function(d,g){const y=Nt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,g).next((S=>(ee(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(s.localStore,t);TE(s,t,i),vE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await su(s,l)}catch(l){await bo(l)}}function vE(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function TE(a,t,i){const s=Nt(a);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function fm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||EE(a,s)}))}function EE(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(qm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),$m(a))}function Zv(a,t,i){for(const s of i)s instanceof gE?(a.Ru.addReference(s.key,t),II(a,s)):s instanceof pE?(ut(Xm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||EE(a,s.key)):St(19791,{wu:s})}function II(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ut(Xm,"New document in limbo: "+i),a.Eu.add(s),$m(a))}function $m(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new vt(de.fromString(t)),s=a.fu.next();a.Au.set(s,new yI(i)),a.du=a.du.insert(i,s),uE(a.remoteStore,new cs(zi(Mm(i.path)),s,"TargetPurposeLimboResolution",mh.ce))}}async function su(a,t,i){const s=Nt(a),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){l.push(_);const E=jm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const E=Nt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(M=>Z.forEach(M.Es,(Q=>E.persistence.referenceDelegate.addReference(S,M.targetId,Q))).next((()=>Z.forEach(M.ds,(Q=>E.persistence.referenceDelegate.removeReference(S,M.targetId,Q)))))))))}catch(S){if(!So(S))throw S;ut(Bm,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const Q=E.Ms.get(M),J=Q.snapshotVersion,et=Q.withLastLimboFreeSnapshotVersion(J);E.Ms=E.Ms.insert(M,et)}}})(s.localStore,c))}async function NI(a,t){const i=Nt(a);if(!i.currentUser.isEqual(t)){ut(Xm,"User change. New user:",t.toKey());const s=await sE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ct($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await su(i,s.Ls)}}function DI(a,t){const i=Nt(a),s=i.Au.get(t);if(s&&s.hu)return Qt().add(s.key);{let l=Qt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function bE(a){const t=Nt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wI.bind(null,t),t.Pu.H_=fI.bind(null,t.eventManager),t.Pu.yu=dI.bind(null,t.eventManager),t}function xI(a){const t=Nt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CI.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return OC(this.persistence,new NC,t.initialUser,this.serializer)}Cu(t){return new rE(zm.mi,this.serializer)}Du(t){return new zC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class OI extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ee(this.persistence.referenceDelegate instanceof sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mC(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new rE((s=>sh.mi(s,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$v(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NI.bind(null,this.syncEngine),await oI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uI})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),s=(function(c){return new GC(c)})(t.databaseInfo);return(function(c,d,g,y){return new KC(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,g){return new $C(s,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>$v(this.syncEngine,i,0)),(function(){return Gv.v()?new Gv:new jC})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,E){const S=new _I(l,c,d,g,y,_);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Nt(i);ut(sa,"RemoteStore shutting down."),s.Ea.add(5),await ru(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class MI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Es="FirestoreClient";class VI{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=cn.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ut(Es,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ut(Es,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Ym(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function zd(a,t){a.asyncQueue.verifyOperationInProgress(),ut(Es,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await sE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Jv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await kI(a);ut(Es,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>Qv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>Qv(t.remoteStore,l))),a._onlineComponents=t}async function kI(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ut(Es,"Using user provided OfflineComponentProvider");try{await zd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ho("Error using user provided cache. Falling back to memory cache: "+i),await zd(a,new oh)}}else ut(Es,"Using default OfflineComponentProvider"),await zd(a,new OI(void 0));return a._offlineComponents}async function SE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ut(Es,"Using user provided OnlineComponentProvider"),await Jv(a,a._uninitializedComponentsProvider._online)):(ut(Es,"Using default OnlineComponentProvider"),await Jv(a,new dm))),a._onlineComponents}function LI(a){return SE(a).then((t=>t.syncEngine))}async function Wv(a){const t=await SE(a),i=t.eventManager;return i.onListen=vI.bind(null,t.syncEngine),i.onUnlisten=bI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=TI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=SI.bind(null,t.syncEngine),i}function AE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const t0=new Map;const wE="firestore.googleapis.com",e0=!0;class n0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wE,this.ssl=e0}else this.host=t.host,this.ssl=t.ssl??e0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fC)throw new ct($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$R("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new jR;switch(s.type){case"firstParty":return new GR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=t0.get(i);s&&(ut("ComponentProvider","Removing Datastore"),t0.delete(i),s.terminate())})(this),Promise.resolve()}}function UI(a,t,i,s={}){a=Vl(a,wh);const l=_o(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},g=`${t}:${i}`;l&&(b0(`https://${g}`),S0("Firestore",!0)),c.host!==wE&&c.host!==g&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:s};if(!ea(y,d)&&(a._setSettings(y),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=cn.MOCK_USER;else{_=uS(s.mockUserToken,a._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ct($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(S)}a._authCredentials=new BR(new mT(_,E))}}class wo{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new wo(this.firestore,t,this._query)}}class Ge{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ge(this.firestore,t,this._key)}toJSON(){return{type:Ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(tu(i,Ge._jsonSchema))return new Ge(t,s||null,new vt(de.fromString(i.referencePath)))}}Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:qe("string",Ge._jsonSchemaVersion),referencePath:qe("string")};class gs extends wo{constructor(t,i,s){super(t,i,Mm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ge(this.firestore,null,new vt(t))}withConverter(t){return new gs(this.firestore,t,this._path)}}function RE(a,t,...i){if(a=Rn(a),gT("collection","path",t),a instanceof wh){const s=de.fromString(t,...i);return mv(s),new gs(a,null,s)}{if(!(a instanceof Ge||a instanceof gs))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(de.fromString(t,...i));return mv(s),new gs(a.firestore,null,s)}}function PI(a,t,...i){if(a=Rn(a),arguments.length===1&&(t=Cm.newId()),gT("doc","path",t),a instanceof wh){const s=de.fromString(t,...i);return dv(s),new Ge(a,null,new vt(s))}{if(!(a instanceof Ge||a instanceof gs))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(de.fromString(t,...i));return dv(s),new Ge(a.firestore,a instanceof gs?a.converter:null,new vt(s))}}const i0="AsyncQueue";class r0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oE(this,"async_queue_retry"),this._c=()=>{const s=Pd();s&&ut(i0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Pd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Pd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!So(t))throw t;ut(i0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",s0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Qm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&St(47125,{Pc:s0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function s0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function a0(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class lh extends wh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new r0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new r0(t),this._firestoreClient=void 0,await t}}}function zI(a,t){const i=typeof a=="object"?a:C0(),s=typeof a=="string"?a:Jc,l=ym(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=oS("firestore");c&&UI(l,...c)}return l}function CE(a){if(a._terminated)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||jI(a),a._firestoreClient}function jI(a){const t=a._freezeSettings(),i=(function(l,c,d,g){return new o2(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,AE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new VI(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class ei{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ei(on.fromBase64String(t))}catch(i){throw new ct($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ei(on.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tu(t,ei._jsonSchema))return ei.fromBase64String(t.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:qe("string",ei._jsonSchemaVersion),bytes:qe("string")};class Zm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class IE{constructor(t){this._methodName=t}}class Bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(tu(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:qe("string",Bi._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};class qi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tu(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new qi(t.vectorValues);throw new ct($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:qe("string",qi._jsonSchemaVersion),vectorValues:qe("object")};const BI=/^__.*__$/;class qI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new la(t,this.data,this.fieldMask,i,this.fieldTransforms):new nu(t,this.data,i,this.fieldTransforms)}}function NE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:a})}}class Jm{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(NE(this.Ac)&&BI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class HI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||bh(t)}Cc(t,i,s,l=!1){return new Jm({Ac:t,methodName:i,Dc:s,path:an.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DE(a){const t=a._freezeSettings(),i=bh(a._databaseId);return new HI(a._databaseId,!!t.ignoreUndefinedProperties,i)}function GI(a,t,i,s,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);ME("Data must be an object, but it was:",d,s);const g=xE(s,d);let y,_;if(c.merge)y=new di(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const M=QI(t,S,i);if(!d.contains(M))throw new ct($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);KI(E,M)||E.push(M)}y=new di(E),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new qI(new ti(g),y,_)}function FI(a,t,i,s=!1){return Wm(i,a.Cc(s?4:3,t))}function Wm(a,t){if(OE(a=Rn(a)))return ME("Unsupported field value:",t,a),xE(a,t);if(a instanceof IE)return(function(s,l){if(!NE(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let y=Wm(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,t)}return(function(s,l){if((s=Rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return D2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pe.fromDate(s);return{timestampValue:rh(l.serializer,c)}}if(s instanceof pe){const c=new pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ei)return{bytesValue:$T(l.serializer,s._byteString)};if(s instanceof Ge){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Um(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof qi)return(function(d,g){return{mapValue:{fields:{[AT]:{stringValue:wT},[Wc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Vm(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${dh(s)}`)})(a,t)}function xE(a,t){const i={};return _T(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aa(a,((s,l)=>{const c=Wm(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function OE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof pe||a instanceof Bi||a instanceof ei||a instanceof Ge||a instanceof IE||a instanceof qi)}function ME(a,t,i){if(!OE(i)||!pT(i)){const s=dh(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function QI(a,t,i){if((t=Rn(t))instanceof Zm)return t._internalPath;if(typeof t=="string")return VE(a,t);throw uh("Field path arguments must be of type string or ",a,!1,void 0,i)}const YI=new RegExp("[~\\*/\\[\\]]");function VE(a,t,i){if(t.search(YI)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Zm(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function uh(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new ct($.INVALID_ARGUMENT,g+a+y)}function KI(a,t){return a.some((i=>i.isEqual(t)))}class kE{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(LE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class XI extends kE{data(){return super.data()}}function LE(a,t){return typeof t=="string"?VE(a,t):t instanceof Zm?t._internalPath:t._delegate._internalPath}function $I(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ct($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class ZI extends tg{}function JI(a,t,...i){let s=[];t instanceof tg&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof ng)).length,g=c.filter((y=>y instanceof eg)).length;if(d>1||d>0&&g>0)throw new ct($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class eg extends ZI{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new eg(t,i,s)}_apply(t){const i=this._parse(t);return UE(t._query,i),new wo(t.firestore,t.converter,im(t._query,i))}_parse(t){const i=DE(t.firestore);return(function(c,d,g,y,_,E,S){let M;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){l0(S,E);const J=[];for(const et of S)J.push(o0(y,c,et));M={arrayValue:{values:J}}}else M=o0(y,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||l0(S,E),M=FI(g,d,S,E==="in"||E==="not-in");return Be.create(_,E,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class ng extends tg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ng(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:mi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)UE(d,y),d=im(d,y)})(t._query,i),new wo(t.firestore,t.converter,im(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function o0(a,t,i){if(typeof(i=Rn(i))=="string"){if(i==="")throw new ct($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(t)&&i.indexOf("/")!==-1)throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(de.fromString(i));if(!vt.isDocumentKey(s))throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bv(a,new vt(s))}if(i instanceof Ge)return bv(a,i._key);throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function l0(a,t){if(!Array.isArray(a)||a.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function UE(a,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ct($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class WI{convertValue(t,i="none"){switch(vs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(_s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return aa(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((s=>Oe(s.doubleValue)));return new qi(i)}convertGeoPoint(t){return new Bi(Oe(t.latitude),Oe(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=ph(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const i=ys(t);return new pe(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=de.fromString(t);ee(nE(s),9688,{name:t});const l=new Hl(s.get(1),s.get(3)),c=new vt(s.popFirst(5));return l.isEqual(i)||Tr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function tN(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class xl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ta extends kE{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(LE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:qe("string",ta._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class qc extends ta{data(t={}){return super.data(t)}}class uo{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new qc(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:eN(g.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function eN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:a})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:qe("string",uo._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class PE extends WI{constructor(t){super(),this.firestore=t}convertBytes(t){return new ei(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ge(this.firestore,null,i)}}function nN(a,t){const i=Vl(a.firestore,lh),s=PI(a),l=tN(a.converter,t);return rN(i,[GI(DE(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,gr.exists(!1))]).then((()=>s))}function iN(a,...t){a=Rn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||a0(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(a0(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,g;if(a instanceof Ge)d=Vl(a.firestore,lh),g=Mm(a._key.path),c={next:y=>{t[s]&&t[s](sN(d,a,y))},error:t[s+1],complete:t[s+2]};else{const y=Vl(a,wo);d=Vl(y.firestore,lh),g=y._query;const _=new PE(d);c={next:E=>{t[s]&&t[s](new uo(d,_,y,E))},error:t[s+1],complete:t[s+2]},$I(a._query)}return(function(_,E,S,M){const Q=new MI(M),J=new mI(E,Q,S);return _.asyncQueue.enqueueAndForget((async()=>cI(await Wv(_),J))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>hI(await Wv(_),J)))}})(CE(d),g,l,c)}function rN(a,t){return(function(s,l){const c=new Ws;return s.asyncQueue.enqueueAndForget((async()=>AI(await LI(s),l,c))),c.promise})(CE(a),t)}function sN(a,t,i){const s=i.docs.get(t._key),l=new PE(a);return new ta(a,l,t._key,s,new xl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Eo=l})(vo),co(new na("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new lh(new qR(s.getProvider("auth-internal")),new FR(d,s.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),ds(uv,cv,t),ds(uv,cv,"esm2020")})();const aN={apiKey:"",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},oN=typeof __firebase_config<"u"?JSON.parse(__firebase_config):aN,zE=R0(oN),jd=PR(zE),jE=zI(zE),BE=typeof __app_id<"u"?__app_id:"long-jump-game",pt={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWild:"#ffd700",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",overlayComplete:"#ffffff",startArrow:"#000000"},ss=5,ki=40,lN=30,Cl=40,qE={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},u0=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],c0=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],HE=a=>function(){var t=a+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296},GE=a=>{let t=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,d;c<a.length;c++)d=a.charCodeAt(c),t=i^Math.imul(t^d,597399067),i=s^Math.imul(i^d,2869860233),s=l^Math.imul(s^d,951274213),l=t^Math.imul(l^d,2716044179);return t=Math.imul(s^t>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(t^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(t^i^s^l)>>>0},h0=()=>new Date().toISOString().split("T")[0],uN=()=>{const a=Pt.useRef(null);return Pt.useEffect(()=>{const t=a.current,i=t.getContext("2d");let s=window.innerWidth,l=window.innerHeight;t.width=s,t.height=l;const c=[],d=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",pt.accentPrimary];for(let E=0;E<150;E++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:d[Math.floor(Math.random()*d.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let g;const y=()=>{i.clearRect(0,0,s,l),c.forEach(E=>{E.y+=E.vy,E.x+=E.vx+Math.sin(E.y/50),E.rotation+=E.rotationSpeed,E.y>l&&(E.y=-10,E.x=Math.random()*s),i.save(),i.translate(E.x,E.y),i.rotate(E.rotation*Math.PI/180),i.fillStyle=E.color,i.fillRect(-E.size/2,-E.size/2,E.size,E.size),i.restore()}),g=requestAnimationFrame(y)};y();const _=()=>{s=window.innerWidth,l=window.innerHeight,t.width=s,t.height=l};return window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_),cancelAnimationFrame(g)}},[]),j.jsx("canvas",{ref:a,className:"fixed inset-0 pointer-events-none z-50"})},Bd=({highlightName:a,user:t})=>{const[i,s]=Pt.useState([]),[l,c]=Pt.useState(!0),[d,g]=Pt.useState("daily");return Pt.useEffect(()=>{if(!t)return;c(!0);const y=RE(jE,"artifacts",BE,"public","data","scores"),_=JI(y),E=iN(_,S=>{const M=new Date,Q=M.toISOString().split("T")[0],J=M.getDay(),et=M.getDate()-J+(J===0?-6:1),tt=new Date(M.setDate(et));tt.setHours(0,0,0,0);const yt=S.docs.map(Dt=>({id:Dt.id,...Dt.data()}));let Tt=[];d==="daily"?Tt=yt.filter(Dt=>Dt.date===Q):Tt=yt.filter(Dt=>new Date(Dt.date)>=tt);const Et=Tt.sort((Dt,Vt)=>Vt.score-Dt.score).slice(0,10);s(Et),c(!1)},S=>{console.error("Error fetching leaderboard:",S),c(!1)});return()=>E()},[t,d]),j.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col",children:[j.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(Hb,{size:20,className:"text-yellow-500"}),j.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:"Leaders"})]}),j.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[j.jsx("button",{onClick:()=>g("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${d==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),j.jsx("button",{onClick:()=>g("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${d==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),j.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:l?j.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):i.length===0?j.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",j.jsx("br",{}),"Be the first!"]}):j.jsx("div",{className:"space-y-1",children:i.map((y,_)=>j.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all ${y.name===a?`bg-[${pt.accentPrimary}]/10 border border-[${pt.accentPrimary}]/20`:"hover:bg-white/60"}`,style:y.name===a?{backgroundColor:`${pt.accentPrimary}15`,borderColor:`${pt.accentPrimary}30`}:{},children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("span",{className:`font-black w-5 text-center ${_===0?"text-yellow-500 text-lg":_===1?"text-gray-400 text-base":_===2?"text-orange-700 text-base":"text-gray-300"}`,children:_+1}),j.jsx("span",{className:`font-bold truncate max-w-[100px] ${y.name===a?"text-black":"text-gray-700"}`,style:y.name===a?{color:pt.accentPrimary}:{},children:y.name})]}),j.jsxs("span",{className:"font-mono font-black text-gray-900 bg-gray-100 px-2 py-0.5 rounded-md text-xs",children:[y.score,"m"]})]},_))})})]})},f0=()=>{const a=u0[Math.floor(Math.random()*u0.length)],t=c0[Math.floor(Math.random()*c0.length)],i=Math.floor(Math.random()*90)+10;return`${a}${t}${i}`},cN=a=>{const t=GE(a),i=HE(t),s=[],l=15,c=new Set;for(;s.length<l;){const d=Math.floor(i()*ss),g=Math.floor(i()*ki);if(g===0)continue;const y=`${d},${g}`;if(!c.has(y)){c.add(y);const _=i();let E=1;_>.5&&(E=2),_>.8&&(E=3),s.push({r:d,c:g,val:E})}}return s},d0=(a,t)=>{const i=GE(t),s=HE(i);let l=[];Object.entries(qE).forEach(([g,y])=>{for(let _=0;_<y;_++)l.push(g)});const c=[],d=l.indexOf("*");for(d!==-1&&(c.push("*"),l.splice(d,1));c.length<a&&l.length!==0;){const g=Math.floor(s()*l.length);c.push(l[g]),l.splice(g,1)}return c},m0=()=>Array(ss).fill(null).map(()=>Array(ki).fill(null)),qd=a=>{if(a.length<=1)return!0;const t=a[0].r,i=a[0].c;return a.every(s=>s.r===t)||a.every(s=>s.c===i)};function hN(){const[a,t]=Pt.useState("menu"),[i,s]=Pt.useState(()=>f0()),[l,c]=Pt.useState(()=>m0()),[d,g]=Pt.useState([]),[y,_]=Pt.useState([]),[E,S]=Pt.useState(null),[M,Q]=Pt.useState(null),[J,et]=Pt.useState([]),[tt,yt]=Pt.useState(0),[Tt,Et]=Pt.useState(0),[Dt,Vt]=Pt.useState({text:"Goal: Get as far right as you can.",type:"info"}),[kt,I]=Pt.useState(!1),[A,R]=Pt.useState(!1),[V,N]=Pt.useState(!1),[O,w]=Pt.useState(!1),[he,ye]=Pt.useState(!1),[G,rt]=Pt.useState(null),[mt,Yt]=Pt.useState(null),[te,x]=Pt.useState(!1),Y=Pt.useRef(null),[st,lt]=Pt.useState(!1),[At,xt]=Pt.useState(0),[Bt,Ie]=Pt.useState(0),fe=l.some(B=>B.some(W=>W!==null));Pt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await Aw(jd,__initial_auth_token):await vw(jd)})();const W=Cw(jd,Yt);return()=>W()},[]),Pt.useEffect(()=>{if(Tt===tt)return;const B=500,W=performance.now(),nt=Tt,at=tt,ot=gt=>{const ft=gt-W,Ut=Math.min(ft/B,1),Rt=1-Math.pow(1-Ut,3),se=Math.floor(nt+(at-nt)*Rt);Et(se),Ut<1&&requestAnimationFrame(ot)};requestAnimationFrame(ot)},[tt]),Pt.useEffect(()=>{ni()},[]);const ni=()=>{const B=h0();c(m0()),g(d0(lN,B)),et([]),yt(0),Et(0),_(cN(B)),Vt({text:"Goal: Get as far right as you can.",type:"neutral"}),w(!1),R(!1),N(!1),x(!1),S(null),Q(null),Y.current&&(Y.current.scrollLeft=0)},Gi=()=>{i.trim()||s(f0()),t("playing"),ni(),N(!0)},Ar=()=>{t("menu"),ni()},Fi=()=>{R(!0)},zn=async()=>{if(R(!1),w(!0),x(!0),mt)try{const nt=new Date().toISOString().split("T")[0],at=RE(jE,"artifacts",BE,"public","data","scores");await nN(at,{name:i||"Anonymous",score:tt,date:nt,timestamp:Date.now(),userId:mt.uid})}catch(nt){console.error("Error saving score:",nt)}x(!1);const B=tt*50+800;setTimeout(()=>{t("gameOver"),w(!1)},Math.max(B,2500))},bs=()=>{R(!1)},Qi=B=>{B.target.closest('[draggable="true"]')||B.target.tagName==="BUTTON"||(lt(!0),xt(B.pageX-Y.current.offsetLeft),Ie(Y.current.scrollLeft))},Ss=()=>{lt(!1)},As=()=>{lt(!1)},Se=B=>{if(!st)return;B.preventDefault();const nt=(B.pageX-Y.current.offsetLeft-At)*1.5;Y.current.scrollLeft=Bt-nt},Ae=(B,W,nt)=>{if(B==="*"){rt({r:W,c:nt}),ye(!0);return}ii(B,W,nt)},ii=(B,W,nt,at=!1)=>{if(l.every(Rt=>Rt.every(se=>se===null))&&J.length===0&&nt!==0){Vt({text:" Start Game: Place first tile in Column 1",type:"error"});return}const gt=[...J,{r:W,c:nt,letter:B,isWild:at}];if(!qd(gt)){Vt({text:" Tiles must be placed in a single row or column",type:"error"});return}et(gt);const ft=at?"*":B,Ut=d.lastIndexOf(ft);if(Ut!==-1){const Rt=[...d];Rt.splice(Ut,1),g(Rt)}Dt.type==="error"&&Vt({text:"Goal: Get as far right as you can.",type:"neutral"})},Ro=B=>{G&&(ii(B,G.r,G.c,!0),ye(!1),rt(null),S(null),Q(null))},ca=B=>{if(!O){if(M){Ae(B,M.r,M.c),Q(null);return}S(E===B?null:B)}},Je=(B,W)=>{if(st||O||l[B]&&l[B][W])return;const nt=J.findIndex(at=>at.r===B&&at.c===W);if(nt!==-1){const at=J[nt],ot=[...J];ot.splice(nt,1),et(ot);const gt=at.isWild?"*":at.letter;g(ft=>[...ft,gt].sort()),S(null),Q(null);return}E!==null?(Ae(E,B,W),S(null)):M&&M.r===B&&M.c===W?Q(null):Q({r:B,c:W})},gi=(B,W)=>{O||(B.dataTransfer.setData("text/plain",JSON.stringify(W)),B.dataTransfer.effectAllowed="move")},wr=B=>{B.preventDefault(),B.dataTransfer.dropEffect="move"},ws=(B,W,nt)=>{if(O)return;B.preventDefault(),B.stopPropagation();const at=B.dataTransfer.getData("text/plain");if(!(!at||!at.trim()||!at.trim().startsWith("{")))try{const ot=JSON.parse(at);if(l[W]&&l[W][nt])return;const gt=J.findIndex(ft=>ft.r===W&&ft.c===nt);if(ot.type==="hand"){if(ot.letter==="*"){rt({r:W,c:nt}),ye(!0);return}if(l.every(Rt=>Rt.every(se=>se===null))&&J.length===0&&nt!==0){Vt({text:" Start Game: Place first tile in Column 1",type:"error"});return}const Ut=ot.letter;if(gt!==-1){const Rt=J[gt],se=[...J],Qe=Rt.isWild?"*":Rt.letter;se.splice(gt,1,{r:W,c:nt,letter:Ut}),et(se),g(Ye=>[...Ye,Qe].sort());const Yi=d.lastIndexOf(Ut);if(Yi!==-1){const Ye=[...d];Ye.splice(Yi,1),g(Ye.sort())}}else{const Rt=[...J,{r:W,c:nt,letter:Ut}];if(!qd(Rt)){Vt({text:" Tiles must be placed in a single row or column",type:"error"});return}et(Rt);const se=d.lastIndexOf(Ut);if(se!==-1){const Qe=[...d];Qe.splice(se,1),g(Qe.sort())}}S(null),Q(null),Dt.type==="error"&&Vt({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(ot.type==="board"){if(ot.r===W&&ot.c===nt)return;const ft=J.findIndex(se=>se.r===ot.r&&se.c===ot.c);if(ft===-1)return;const Ut=J[ft],Rt=[...J];if(gt!==-1){const se=J[gt];Rt[gt]={...se,r:ot.r,c:ot.c},Rt[ft]={...Ut,r:W,c:nt}}else Rt[ft]={...Ut,r:W,c:nt};if(!qd(Rt)){Vt({text:" Tiles must be placed in a single row or column",type:"error"});return}et(Rt)}}catch{}},pi=B=>{if(O)return;B.preventDefault(),B.stopPropagation();const W=B.dataTransfer.getData("text/plain");if(!(!W||!W.trim()||!W.trim().startsWith("{")))try{const nt=JSON.parse(W);if(nt.type==="board"){const at=J.find(gt=>gt.r===nt.r&&gt.c===nt.c),ot=at&&at.isWild?"*":nt.letter;et(gt=>gt.filter(ft=>!(ft.r===nt.r&&ft.c===nt.c))),g(gt=>[...gt,ot].sort())}}catch{}},Co=(B,W)=>{if(!l||!l[B])return null;if(l[B][W])return{letter:l[B][W],type:"locked"};const nt=J.find(at=>at.r===B&&at.c===W);return nt?{letter:nt.letter,type:"temp",isWild:nt.isWild}:null},Rs=(B,W)=>y.find(nt=>nt.r===B&&nt.c===W),ha=async()=>{if(J.length===0)return;I(!0),Vt({text:"Validating...",type:"info"});const B=l.map(ft=>[...ft]);J.forEach(ft=>{B[ft.r]&&(B[ft.r][ft.c]=ft.letter)});const W=l.every(ft=>ft.every(Ut=>Ut===null));let nt=!1,at=!1;if(J.forEach(ft=>{ft.c===0&&(nt=!0),[{r:ft.r+1,c:ft.c},{r:ft.r-1,c:ft.c},{r:ft.r,c:ft.c+1},{r:ft.r,c:ft.c-1}].forEach(Rt=>{Rt.r>=0&&Rt.r<ss&&Rt.c>=0&&Rt.c<ki&&l[Rt.r]&&l[Rt.r][Rt.c]&&(at=!0)})}),W&&!nt){Te("First word must start in Column 1.");return}if(!W&&!at){Te("Tiles must connect to existing words.");return}const gt=Cn(B).filter(ft=>ft.cells.some(Ut=>J.some(Rt=>Rt.r===Ut.r&&Rt.c===Ut.c)));if(gt.length===0){Te("Words must be at least 2 letters.");return}try{const ft=[];for(const Ut of gt)await fa(Ut.word)||ft.push(Ut.word);if(ft.length>0){Te(`Invalid word(s): ${ft.join(", ")}`);return}pn(B,gt)}catch(ft){console.error(ft),Te("Error checking dictionary. Try again.")}},fa=async B=>{if(B.length===2)return["AM","AN","AS","AT","BE","BY","DO","GO","HE","HI","IF","IN","IS","IT","ME","MY","NO","OF","OH","ON","OR","OX","SO","TO","UP","US","WE"].includes(B);try{const nt=await(await fetch(`https://api.datamuse.com/words?sp=${B}&max=1`)).json();return nt.length>0&&nt[0].word.toUpperCase()===B.toUpperCase()}catch{return!0}},Cn=B=>{let W=[];for(let nt=0;nt<ss;nt++){let at="",ot=[];for(let gt=0;gt<ki;gt++)B[nt]&&B[nt][gt]?(at+=B[nt][gt],ot.push({r:nt,c:gt})):(at.length>1&&W.push({word:at,cells:[...ot],type:"H"}),at="",ot=[]);at.length>1&&W.push({word:at,cells:[...ot],type:"H"})}for(let nt=0;nt<ki;nt++){let at="",ot=[];for(let gt=0;gt<ss;gt++)B[gt]&&B[gt][nt]?(at+=B[gt][nt],ot.push({r:gt,c:nt})):(at.length>1&&W.push({word:at,cells:[...ot],type:"V"}),at="",ot=[]);at.length>1&&W.push({word:at,cells:[...ot],type:"V"})}return W},Te=B=>{Vt({text:B,type:"error"}),I(!1)},pn=(B,W)=>{c(B);let nt=0;if(W.forEach(ot=>{ot.cells.forEach(gt=>{const ft=Rs(gt.r,gt.c),Ut=J.some(Rt=>Rt.r===gt.r&&Rt.c===gt.c);ft&&Ut&&(nt+=ft.val)})}),nt>0){const ot=h0(),gt=d0(nt,ot);g(ft=>[...ft,...gt].sort()),Vt({text:`Great! +${nt} Bonus Tiles!`,type:"success"})}else Vt({text:"Valid move!",type:"success"});let at=tt-1;J.forEach(ot=>{ot.c>at&&(at=ot.c)});for(let ot=0;ot<ss;ot++)for(let gt=0;gt<ki;gt++)B[ot]&&B[ot][gt]&&gt>at&&(at=gt);yt(at+1),et([]),I(!1),Q(null)},Ee=()=>{g(B=>[...B].sort(()=>Math.random()-.5))},da=()=>{g(B=>[...B].sort())},Rr=d.reduce((B,W)=>(B[W]=(B[W]||0)+1,B),{}),In=[...new Set(d)],Nn=In.length>=6,yi=Math.ceil(In.length/2),we=Nn?In.slice(0,yi):In,jn=Nn?In.slice(yi):[],yn=({letter:B})=>{const W=Rr[B],nt=E===B,at=Math.min(W,15),ot=3,gt=40+(at>1?(at-1)*ot:0);return j.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${gt}px`},children:[[...Array(at-1)].map((ft,Ut)=>{const se=(B.charCodeAt(0)+Ut)%7-3;return j.jsx("div",{className:"absolute w-10 h-10 rounded-lg shadow-sm border border-black/10 transition-all",style:{backgroundColor:"#e5e7eb",bottom:`${Ut*ot}px`,zIndex:Ut,transform:`rotate(${se}deg)`}},Ut)}),j.jsx("button",{draggable:!O,onDragStart:ft=>gi(ft,{type:"hand",letter:B}),onClick:()=>ca(B),className:`
                    absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-md transition-all cursor-grab active:cursor-grabbing
                `,style:{bottom:`${(at-1)*ot}px`,zIndex:at,backgroundColor:nt?pt.accentPrimary:B==="*"?pt.tileTemp:"white",color:nt?"white":pt.textMain,transform:nt?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${nt?0:B.charCodeAt(0)%5-2}deg)`},children:B})]})};return a==="gameOver"?j.jsxs("div",{className:"min-h-screen w-full flex flex-col lg:flex-row items-center justify-center relative overflow-hidden font-sans p-6 gap-12 overflow-y-auto",style:{backgroundColor:pt.background,color:pt.textMain},children:[j.jsx(uN,{}),j.jsxs("div",{className:"z-10 bg-white/80 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex-1 self-stretch flex flex-col justify-center lg:h-[600px]",children:[j.jsx("div",{className:"hidden md:block w-48 h-16 mx-auto mb-4",children:j.jsx("h1",{className:"text-4xl font-black tracking-tight text-black uppercase drop-shadow-sm",children:"Long Jump"})}),j.jsx("h3",{className:"text-2xl font-bold mb-8 tracking-widest uppercase",style:{color:pt.accentPrimary},children:"Complete"}),j.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[j.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:pt.textSub},children:"Athlete"}),j.jsx("div",{className:"text-3xl font-black mb-6",style:{color:pt.textMain},children:i}),j.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:pt.textSub},children:"Distance"}),j.jsxs("div",{className:"text-6xl font-black",style:{color:pt.accentSecondary},children:[Tt,"m"]})]}),j.jsx("button",{onClick:Ar,className:"w-full py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg mt-auto",style:{backgroundColor:"#111827"},children:"Play Again"})]}),j.jsx("div",{className:"z-10 w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:j.jsx(Bd,{highlightName:i,user:mt})})]}):a==="menu"?j.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:pt.background,color:pt.textMain},children:[j.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch",children:[j.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[j.jsx("h1",{className:"text-7xl font-black tracking-tighter uppercase drop-shadow-sm",style:{color:pt.textMain},children:"Long Jump"}),j.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:pt.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."})]}),j.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[j.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:pt.textSub},children:"Enter your name"}),j.jsx("input",{type:"text",value:i,onChange:B=>s(B.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:pt.textMain,borderColor:"transparent"},onFocus:B=>B.target.style.borderColor=pt.accentPrimary,onBlur:B=>B.target.style.borderColor="transparent",onKeyDown:B=>B.key==="Enter"&&Gi()})]}),j.jsx("button",{onClick:Gi,className:"group relative px-12 py-6 text-white rounded-2xl font-black text-xl tracking-widest uppercase shadow-[0_10px_20px_rgba(0,0,0,0.1)] hover:shadow-[0_15px_30px_rgba(0,0,0,0.15)] hover:-translate-y-1 active:translate-y-0 transition-all duration-300 animate-pulse-slow",style:{backgroundColor:pt.accentPrimary},children:j.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Play Game ",j.jsx(Fb,{size:24,fill:"currentColor"})]})}),j.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:j.jsx(Bd,{user:mt})})]}),j.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:j.jsx(Bd,{user:mt})})]}):j.jsxs("div",{className:"min-h-screen w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center",style:{backgroundColor:pt.background,color:pt.textMain},children:[he&&j.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:j.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[j.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),j.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(qE).filter(B=>B!=="*").map(B=>j.jsx("button",{onClick:()=>Ro(B),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:pt.textMain},children:B},B))}),j.jsx("button",{onClick:()=>{ye(!1),rt(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),V&&j.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:j.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[j.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:j.jsx(Cd,{size:48,style:{color:pt.accentPrimary}})}),j.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"How to Play"}),j.jsxs("p",{className:"text-gray-600 mb-6 text-lg leading-relaxed",children:["The goal of the game is to get as",j.jsx("strong",{children:"far right"}),"in distance as possible.",j.jsx("br",{}),j.jsx("br",{}),j.jsx("strong",{children:"Submit your score"})," when you can't play anymore."]}),j.jsx("div",{className:"flex justify-center mb-6",children:j.jsxs("div",{className:"grid grid-cols-6 gap-0 p-2 rounded-lg border-2",style:{backgroundColor:pt.boardBackground,borderColor:pt.boardLines},children:[[...Array(6)].map((B,W)=>j.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},`r1-${W}`)),["S","T","A","R","T"].map((B,W)=>j.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center font-bold shadow-sm border text-white",style:{backgroundColor:pt.accentPrimary,borderColor:"rgba(0,0,0,0.1)"},children:B},`start-${W}`)),j.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}}),[...Array(3)].map((B,W)=>j.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},`r3-pre-${W}`)),j.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center font-bold shadow-sm border text-white",style:{backgroundColor:pt.accentPrimary,borderColor:"rgba(0,0,0,0.1)"},children:"I"}),[...Array(2)].map((B,W)=>j.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},`r3-post-${W}`)),[...Array(3)].map((B,W)=>j.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},`r4-pre-${W}`)),["P","A","T"].map((B,W)=>j.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center font-bold shadow-sm border text-white",style:{backgroundColor:pt.accentPrimary,borderColor:"rgba(0,0,0,0.1)"},children:B},`pat-${W}`)),[...Array(6)].map((B,W)=>j.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},`r5-${W}`))]})}),j.jsx("button",{onClick:()=>N(!1),className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:pt.accentPrimary},children:"Let's Jump!"})]})}),A&&j.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:j.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[j.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),j.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",j.jsx("strong",{style:{color:pt.accentPrimary},children:tt}),". This will end your current run."]}),j.jsxs("div",{className:"flex gap-3",children:[j.jsx("button",{onClick:bs,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),j.jsx("button",{onClick:zn,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:pt.accentPrimary},children:"Confirm"})]})]})}),j.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-end shrink-0 relative",children:[j.jsxs("div",{className:"w-32 flex items-end",children:[j.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),j.jsx("div",{className:"block md:hidden",children:tt>0&&j.jsxs("button",{onClick:Fi,disabled:O||kt,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["Submit ",j.jsx(Cd,{size:10,style:{color:pt.starGold}})]})})]}),j.jsxs("div",{className:"flex flex-col items-center flex-1",children:[j.jsx("h1",{className:"hidden md:block text-4xl font-black tracking-tight uppercase cursor-pointer hover:opacity-80 transition-opacity",style:{color:pt.textMain},onClick:()=>t("menu"),children:"Long Jump"}),j.jsx("div",{className:"hidden md:block",children:tt>0&&j.jsxs("button",{onClick:Fi,disabled:O||kt,className:"mt-1 px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["Submit Score ",j.jsx(Cd,{size:10,style:{color:pt.starGold}})]})})]}),j.jsx("div",{className:"flex flex-col items-end text-xs font-bold tracking-widest w-32",children:j.jsx("span",{style:{color:pt.accentPrimary},children:i||"PLAYER 1"})})]}),j.jsxs("div",{className:"w-full max-w-6xl px-4 mb-1 flex justify-between items-center shrink-0",children:[j.jsx("div",{className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Dt.type==="error"?"bg-red-100 text-red-700":Dt.type==="success"?"bg-green-100 text-green-800":"bg-white/50 text-gray-600"}`,children:kt?"Checking...":Dt.text}),j.jsx("div",{className:"flex gap-6",children:j.jsxs("div",{className:"text-center",children:[j.jsx("span",{className:"block text-[10px] uppercase tracking-widest",style:{color:pt.accentPrimary},children:"DISTANCE"}),j.jsxs("span",{className:"font-black text-2xl transition-all duration-500",style:{color:pt.accentPrimary},children:[Tt,"m"]})]})})]}),j.jsx("div",{className:"landscape:flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 mt-4 landscape:mt-0",onMouseDown:Qi,onMouseLeave:Ss,onMouseUp:As,onMouseMove:Se,children:j.jsx("div",{ref:Y,className:`
            w-full overflow-x-auto overflow-y-hidden custom-scrollbar flex items-center landscape:h-full no-scrollbar
            ${st?"cursor-grabbing":"cursor-grab"}
            py-8
          `,style:{userSelect:"none"},children:j.jsxs("div",{className:"relative p-1 mx-4",style:{width:"fit-content",minWidth:"fit-content"},children:[j.jsx("div",{className:"flex relative mb-3",style:{width:`${ki*Cl}px`,height:"24px"},children:Array(ki).fill(0).map((B,W)=>{const nt=W===0,at=(W+1)%5===0;return!nt&&!at?null:j.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end",style:{left:W*Cl+Cl/2},children:[j.jsx("span",{className:`text-xs tracking-wider ${nt?"text-black font-black":"text-gray-400"}`,children:nt?"START":`${W+1}m`}),j.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${nt?"bg-black":"bg-gray-300"}`})]},`ruler-${W}`)})}),j.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${ki}, ${Cl}px)`,gridTemplateRows:`repeat(${ss}, ${Cl}px)`,backgroundColor:pt.boardBackground,borderColor:pt.boardLines},children:Array(ss).fill(0).map((B,W)=>Array(ki).fill(0).map((nt,at)=>{const ot=Co(W,at),gt=Rs(W,at),Ut=at===0&&!ot&&!fe,Rt=ot?.type==="locked",se=(at+1)%5===0,Qe=at<Tt,Yi=M&&M.r===W&&M.c===at,Ye=O&&Rt?"animate-jump-green":"";return j.jsxs("div",{onClick:()=>Je(W,at),onDragOver:wr,onDrop:dn=>ws(dn,W,at),className:`
                            relative flex items-center justify-center transition-all duration-300 w-full h-full overflow-hidden
                            ${ot?ot.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":"hover:bg-white/20"}
                            
                            
                            ${ot?.type==="temp"?`bg-[${pt.tileTemp}] ring-2 ring-[${pt.tileTempRing}] -translate-y-[2px] z-10`:""}
                            ${!ot&&Qe?"bg-white/20":!ot&&!Ut&&(W+at)%2===0?"bg-black/5":"bg-transparent"} 
                            
                            ${!ot&&Yi?"ring-2 ring-blue-400 bg-blue-50/20":""}
                            ${!ot&&se?"border-r-2 border-r-black/10":"border border-black/5"}
                            
                            ${Qe?"animate-pop-green":""}
                            ${Ye}
                            `,style:Rt?{backgroundColor:Qe?pt.overlayComplete:pt.tileLocked,color:pt.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:O?`${at*50}ms`:"0ms"}:ot?.type==="temp"?{backgroundColor:ot.isWild?pt.tileWild:pt.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:{},children:[!ot&&Ut&&j.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none",children:j.jsx(Bb,{size:20,style:{color:pt.startArrow}})}),!ot&&gt&&j.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none",children:[j.jsx(Zb,{className:"w-6 h-6",fill:pt.starGold,stroke:pt.starGold}),j.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",gt.val]})]}),ot&&j.jsx("span",{draggable:ot.type==="temp"&&!O,onDragStart:dn=>gi(dn,{type:"board",r:W,c:at,letter:ot.letter}),className:`text-2xl font-bold select-none font-mono w-full h-full flex items-center justify-center ${ot.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:ot.letter})]},`${W}-${at}`)}))})]})})}),j.jsxs("div",{className:"w-full max-w-4xl px-4 mt-2 pb-10 landscape:pb-2 flex flex-col items-center shrink-0",children:[j.jsxs("div",{className:"flex gap-4 items-center flex-wrap justify-center mb-4",children:[j.jsxs("button",{onClick:Ee,disabled:O,className:"flex items-center gap-2 px-6 py-3 bg-white rounded-xl font-bold text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[j.jsx(Xb,{size:16})," Shuffle"]}),j.jsxs("button",{onClick:da,disabled:O,className:"flex items-center gap-2 px-6 py-3 bg-white rounded-xl font-bold text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[j.jsx(Ub,{size:16})," Sort A-Z"]}),j.jsx("div",{className:"w-4 hidden md:block"}),J.length>0&&j.jsxs("button",{onClick:ha,disabled:kt||O,className:`
                  flex items-center gap-2 px-8 py-3 rounded-xl font-black text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all
                  ${kt||O?"bg-gray-400 text-gray-200 cursor-wait":""}
                `,style:kt||O?{}:{backgroundColor:pt.accentPrimary,color:"white"},children:[kt?"Checking...":"Validate & Jump"," ",j.jsx(zb,{size:18,strokeWidth:4})]}),J.length>0&&j.jsx("button",{onClick:()=>{const B=J.map(W=>W.letter);g(W=>[...W,...B].sort()),et([]),S(null)},disabled:O,className:"flex items-center gap-2 px-4 py-3 bg-red-100 text-red-600 rounded-xl font-bold text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:j.jsx(Yb,{size:16})})]}),j.jsxs("div",{onDragOver:wr,onDrop:pi,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[160px] w-full transition-colors",style:{backgroundColor:pt.boardLines},children:[In.length===0&&j.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),In.length<6?j.jsx("div",{className:"flex gap-6 flex-wrap justify-center items-end",children:In.map(B=>j.jsx(yn,{letter:B},B))}):j.jsxs("div",{className:"flex flex-col gap-4 w-full items-center",children:[j.jsx("div",{className:"flex gap-6 flex-wrap justify-center items-end",children:we.map(B=>j.jsx(yn,{letter:B},B))}),j.jsx("div",{className:"flex gap-6 flex-wrap justify-center items-end",children:jn.map(B=>j.jsx(yn,{letter:B},B))})]})]})]}),j.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(0,0,0,0.1);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background-color: rgba(0,0,0,0.2);
        }
        
        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .no-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        
        .animate-pulse-slow {
            animation: pulse-slow 3s infinite ease-in-out;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-flash-orange {
            animation: flash-orange 0.6s ease-in-out infinite;
        }
        .animate-pop-green {
            animation: pop-green 0.3s ease-out forwards;
        }
        
        .animate-jump-green {
            animation: jump-green 0.6s ease-in-out forwards;
        }

        @keyframes pop-green {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes jump-green {
            0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
            20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
            40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; }
            80% { background-color: #59AD20; color: white; }
            100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
        }

        @keyframes pulse-white {
           0%, 100% { background-color: rgba(255,255,255,0.05); }
           50% { background-color: rgba(255,255,255,0.7); }
        }
        @keyframes pulse-slow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes flash-orange {
             0%, 100% { background-color: #f8f5ed; color: black; }
             50% { background-color: #f97316; color: white; border-color: #f97316; }
        }
      `})]})}Db.createRoot(document.getElementById("root")).render(j.jsx(Pt.StrictMode,{children:j.jsx(hN,{})}));
