(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var hm={exports:{}},Pu={};var t0;function jE(){if(t0)return Pu;t0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Pu.Fragment=e,Pu.jsx=i,Pu.jsxs=i,Pu}var n0;function zE(){return n0||(n0=1,hm.exports=jE()),hm.exports}var L=zE(),fm={exports:{}},xt={};var i0;function BE(){if(i0)return xt;i0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),j=Symbol.iterator;function re(P){return P===null||typeof P!="object"?null:(P=j&&P[j]||P["@@iterator"],typeof P=="function"?P:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Me=Object.assign,Re={};function Ve(P,K,Ee){this.props=P,this.context=K,this.refs=Re,this.updater=Ee||F}Ve.prototype.isReactComponent={},Ve.prototype.setState=function(P,K){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,K,"setState")},Ve.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ke(){}ke.prototype=Ve.prototype;function Be(P,K,Ee){this.props=P,this.context=K,this.refs=Re,this.updater=Ee||F}var Xe=Be.prototype=new ke;Xe.constructor=Be,Me(Xe,Ve.prototype),Xe.isPureReactComponent=!0;var ct=Array.isArray;function mt(){}var q={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function V(P,K,Ee){var ge=Ee.ref;return{$$typeof:r,type:P,key:K,ref:ge!==void 0?ge:null,props:Ee}}function H(P,K){return V(P.type,K,P.props)}function I(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function k(P){var K={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Ee){return K[Ee]})}var R=/\/+/g;function Q(P,K){return typeof P=="object"&&P!==null&&P.key!=null?k(""+P.key):K.toString(36)}function se(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(mt,mt):(P.status="pending",P.then(function(K){P.status==="pending"&&(P.status="fulfilled",P.value=K)},function(K){P.status==="pending"&&(P.status="rejected",P.reason=K)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function G(P,K,Ee,ge,Ne){var He=typeof P;(He==="undefined"||He==="boolean")&&(P=null);var ht=!1;if(P===null)ht=!0;else switch(He){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(P.$$typeof){case r:case e:ht=!0;break;case x:return ht=P._init,G(ht(P._payload),K,Ee,ge,Ne)}}if(ht)return Ne=Ne(P),ht=ge===""?"."+Q(P,0):ge,ct(Ne)?(Ee="",ht!=null&&(Ee=ht.replace(R,"$&/")+"/"),G(Ne,K,Ee,"",function(Ot){return Ot})):Ne!=null&&(I(Ne)&&(Ne=H(Ne,Ee+(Ne.key==null||P&&P.key===Ne.key?"":(""+Ne.key).replace(R,"$&/")+"/")+ht)),K.push(Ne)),1;ht=0;var dt=ge===""?".":ge+":";if(ct(P))for(var bt=0;bt<P.length;bt++)ge=P[bt],He=dt+Q(ge,bt),ht+=G(ge,K,Ee,He,Ne);else if(bt=re(P),typeof bt=="function")for(P=bt.call(P),bt=0;!(ge=P.next()).done;)ge=ge.value,He=dt+Q(ge,bt++),ht+=G(ge,K,Ee,He,Ne);else if(He==="object"){if(typeof P.then=="function")return G(se(P),K,Ee,ge,Ne);throw K=String(P),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ht}function te(P,K,Ee){if(P==null)return P;var ge=[],Ne=0;return G(P,ge,"","",function(He){return K.call(Ee,He,Ne++)}),ge}function ye(P){if(P._status===-1){var K=P._result;K=K(),K.then(function(Ee){(P._status===0||P._status===-1)&&(P._status=1,P._result=Ee)},function(Ee){(P._status===0||P._status===-1)&&(P._status=2,P._result=Ee)}),P._status===-1&&(P._status=0,P._result=K)}if(P._status===1)return P._result.default;throw P._result}var he=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},we={map:te,forEach:function(P,K,Ee){te(P,function(){K.apply(this,arguments)},Ee)},count:function(P){var K=0;return te(P,function(){K++}),K},toArray:function(P){return te(P,function(K){return K})||[]},only:function(P){if(!I(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return xt.Activity=U,xt.Children=we,xt.Component=Ve,xt.Fragment=i,xt.Profiler=l,xt.PureComponent=Be,xt.StrictMode=s,xt.Suspense=E,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,xt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return q.H.useMemoCache(P)}},xt.cache=function(P){return function(){return P.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(P,K,Ee){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ge=Me({},P.props),Ne=P.key;if(K!=null)for(He in K.key!==void 0&&(Ne=""+K.key),K)!z.call(K,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&K.ref===void 0||(ge[He]=K[He]);var He=arguments.length-2;if(He===1)ge.children=Ee;else if(1<He){for(var ht=Array(He),dt=0;dt<He;dt++)ht[dt]=arguments[dt+2];ge.children=ht}return V(P.type,Ne,ge)},xt.createContext=function(P){return P={$$typeof:p,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},xt.createElement=function(P,K,Ee){var ge,Ne={},He=null;if(K!=null)for(ge in K.key!==void 0&&(He=""+K.key),K)z.call(K,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ne[ge]=K[ge]);var ht=arguments.length-2;if(ht===1)Ne.children=Ee;else if(1<ht){for(var dt=Array(ht),bt=0;bt<ht;bt++)dt[bt]=arguments[bt+2];Ne.children=dt}if(P&&P.defaultProps)for(ge in ht=P.defaultProps,ht)Ne[ge]===void 0&&(Ne[ge]=ht[ge]);return V(P,He,Ne)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(P){return{$$typeof:b,render:P}},xt.isValidElement=I,xt.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:ye}},xt.memo=function(P,K){return{$$typeof:w,type:P,compare:K===void 0?null:K}},xt.startTransition=function(P){var K=q.T,Ee={};q.T=Ee;try{var ge=P(),Ne=q.S;Ne!==null&&Ne(Ee,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(mt,he)}catch(He){he(He)}finally{K!==null&&Ee.types!==null&&(K.types=Ee.types),q.T=K}},xt.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},xt.use=function(P){return q.H.use(P)},xt.useActionState=function(P,K,Ee){return q.H.useActionState(P,K,Ee)},xt.useCallback=function(P,K){return q.H.useCallback(P,K)},xt.useContext=function(P){return q.H.useContext(P)},xt.useDebugValue=function(){},xt.useDeferredValue=function(P,K){return q.H.useDeferredValue(P,K)},xt.useEffect=function(P,K){return q.H.useEffect(P,K)},xt.useEffectEvent=function(P){return q.H.useEffectEvent(P)},xt.useId=function(){return q.H.useId()},xt.useImperativeHandle=function(P,K,Ee){return q.H.useImperativeHandle(P,K,Ee)},xt.useInsertionEffect=function(P,K){return q.H.useInsertionEffect(P,K)},xt.useLayoutEffect=function(P,K){return q.H.useLayoutEffect(P,K)},xt.useMemo=function(P,K){return q.H.useMemo(P,K)},xt.useOptimistic=function(P,K){return q.H.useOptimistic(P,K)},xt.useReducer=function(P,K,Ee){return q.H.useReducer(P,K,Ee)},xt.useRef=function(P){return q.H.useRef(P)},xt.useState=function(P){return q.H.useState(P)},xt.useSyncExternalStore=function(P,K,Ee){return q.H.useSyncExternalStore(P,K,Ee)},xt.useTransition=function(){return q.H.useTransition()},xt.version="19.2.0",xt}var r0;function rf(){return r0||(r0=1,fm.exports=BE()),fm.exports}var et=rf(),dm={exports:{}},Lu={},mm={exports:{}},pm={};var a0;function FE(){return a0||(a0=1,(function(r){function e(G,te){var ye=G.length;G.push(te);e:for(;0<ye;){var he=ye-1>>>1,we=G[he];if(0<l(we,te))G[he]=te,G[ye]=we,ye=he;else break e}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var te=G[0],ye=G.pop();if(ye!==te){G[0]=ye;e:for(var he=0,we=G.length,P=we>>>1;he<P;){var K=2*(he+1)-1,Ee=G[K],ge=K+1,Ne=G[ge];if(0>l(Ee,ye))ge<we&&0>l(Ne,Ee)?(G[he]=Ne,G[ge]=ye,he=ge):(G[he]=Ee,G[K]=ye,he=K);else if(ge<we&&0>l(Ne,ye))G[he]=Ne,G[ge]=ye,he=ge;else break e}}return te}function l(G,te){var ye=G.sortIndex-te.sortIndex;return ye!==0?ye:G.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var E=[],w=[],x=1,U=null,j=3,re=!1,F=!1,Me=!1,Re=!1,Ve=typeof setTimeout=="function"?setTimeout:null,ke=typeof clearTimeout=="function"?clearTimeout:null,Be=typeof setImmediate<"u"?setImmediate:null;function Xe(G){for(var te=i(w);te!==null;){if(te.callback===null)s(w);else if(te.startTime<=G)s(w),te.sortIndex=te.expirationTime,e(E,te);else break;te=i(w)}}function ct(G){if(Me=!1,Xe(G),!F)if(i(E)!==null)F=!0,mt||(mt=!0,k());else{var te=i(w);te!==null&&se(ct,te.startTime-G)}}var mt=!1,q=-1,z=5,V=-1;function H(){return Re?!0:!(r.unstable_now()-V<z)}function I(){if(Re=!1,mt){var G=r.unstable_now();V=G;var te=!0;try{e:{F=!1,Me&&(Me=!1,ke(q),q=-1),re=!0;var ye=j;try{t:{for(Xe(G),U=i(E);U!==null&&!(U.expirationTime>G&&H());){var he=U.callback;if(typeof he=="function"){U.callback=null,j=U.priorityLevel;var we=he(U.expirationTime<=G);if(G=r.unstable_now(),typeof we=="function"){U.callback=we,Xe(G),te=!0;break t}U===i(E)&&s(E),Xe(G)}else s(E);U=i(E)}if(U!==null)te=!0;else{var P=i(w);P!==null&&se(ct,P.startTime-G),te=!1}}break e}finally{U=null,j=ye,re=!1}te=void 0}}finally{te?k():mt=!1}}}var k;if(typeof Be=="function")k=function(){Be(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Q=R.port2;R.port1.onmessage=I,k=function(){Q.postMessage(null)}}else k=function(){Ve(I,0)};function se(G,te){q=Ve(function(){G(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return j},r.unstable_next=function(G){switch(j){case 1:case 2:case 3:var te=3;break;default:te=j}var ye=j;j=te;try{return G()}finally{j=ye}},r.unstable_requestPaint=function(){Re=!0},r.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ye=j;j=G;try{return te()}finally{j=ye}},r.unstable_scheduleCallback=function(G,te,ye){var he=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?he+ye:he):ye=he,G){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ye+we,G={id:x++,callback:te,priorityLevel:G,startTime:ye,expirationTime:we,sortIndex:-1},ye>he?(G.sortIndex=ye,e(w,G),i(E)===null&&G===i(w)&&(Me?(ke(q),q=-1):Me=!0,se(ct,ye-he))):(G.sortIndex=we,e(E,G),F||re||(F=!0,mt||(mt=!0,k()))),G},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(G){var te=j;return function(){var ye=j;j=te;try{return G.apply(this,arguments)}finally{j=ye}}}})(pm)),pm}var s0;function HE(){return s0||(s0=1,mm.exports=FE()),mm.exports}var gm={exports:{}},Zi={};var o0;function qE(){if(o0)return Zi;o0=1;var r=rf();function e(E){var w="https://react.dev/errors/"+E;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)w+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+E+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(E,w,x){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:U==null?null:""+U,children:E,containerInfo:w,implementation:x}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(E,w){if(E==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Zi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zi.createPortal=function(E,w){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return c(E,w,null,x)},Zi.flushSync=function(E){var w=p.T,x=s.p;try{if(p.T=null,s.p=2,E)return E()}finally{p.T=w,s.p=x,s.d.f()}},Zi.preconnect=function(E,w){typeof E=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,s.d.C(E,w))},Zi.prefetchDNS=function(E){typeof E=="string"&&s.d.D(E)},Zi.preinit=function(E,w){if(typeof E=="string"&&w&&typeof w.as=="string"){var x=w.as,U=b(x,w.crossOrigin),j=typeof w.integrity=="string"?w.integrity:void 0,re=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;x==="style"?s.d.S(E,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:U,integrity:j,fetchPriority:re}):x==="script"&&s.d.X(E,{crossOrigin:U,integrity:j,fetchPriority:re,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Zi.preinitModule=function(E,w){if(typeof E=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var x=b(w.as,w.crossOrigin);s.d.M(E,{crossOrigin:x,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&s.d.M(E)},Zi.preload=function(E,w){if(typeof E=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var x=w.as,U=b(x,w.crossOrigin);s.d.L(E,x,{crossOrigin:U,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Zi.preloadModule=function(E,w){if(typeof E=="string")if(w){var x=b(w.as,w.crossOrigin);s.d.m(E,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:x,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else s.d.m(E)},Zi.requestFormReset=function(E){s.d.r(E)},Zi.unstable_batchedUpdates=function(E,w){return E(w)},Zi.useFormState=function(E,w,x){return p.H.useFormState(E,w,x)},Zi.useFormStatus=function(){return p.H.useHostTransitionStatus()},Zi.version="19.2.0",Zi}var l0;function GE(){if(l0)return gm.exports;l0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=qE(),gm.exports}var u0;function YE(){if(u0)return Lu;u0=1;var r=HE(),e=rf(),i=GE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(c(t)!==t)throw Error(s(188))}function w(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return E(h),t;if(m===o)return E(h),n;m=m.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=m;else{for(var T=!1,M=h.child;M;){if(M===a){T=!0,a=h,o=m;break}if(M===o){T=!0,o=h,a=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===a){T=!0,a=m,o=h;break}if(M===o){T=!0,o=m,a=h;break}M=M.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var U=Object.assign,j=Symbol.for("react.element"),re=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Me=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),Ve=Symbol.for("react.profiler"),ke=Symbol.for("react.consumer"),Be=Symbol.for("react.context"),Xe=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Q(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Me:return"Fragment";case Ve:return"Profiler";case Re:return"StrictMode";case ct:return"Suspense";case mt:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case Be:return t.displayName||"Context";case ke:return(t._context.displayName||"Context")+".Consumer";case Xe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return n=t.displayName||null,n!==null?n:Q(t.type)||"Memo";case z:n=t._payload,t=t._init;try{return Q(t(n))}catch{}}return null}var se=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},he=[],we=-1;function P(t){return{current:t}}function K(t){0>we||(t.current=he[we],he[we]=null,we--)}function Ee(t,n){we++,he[we]=t.current,t.current=n}var ge=P(null),Ne=P(null),He=P(null),ht=P(null);function dt(t,n){switch(Ee(He,n),Ee(Ne,t),Ee(ge,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Av(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Av(n),t=Sv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ge),Ee(ge,t)}function bt(){K(ge),K(Ne),K(He)}function Ot(t){t.memoizedState!==null&&Ee(ht,t);var n=ge.current,a=Sv(n,t.type);n!==a&&(Ee(Ne,t),Ee(ge,a))}function un(t){Ne.current===t&&(K(ge),K(Ne)),ht.current===t&&(K(ht),Du._currentValue=ye)}var ft,St;function Nt(t){if(ft===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ft=n&&n[1]||"",St=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+t+St}var wt=!1;function En(t,n){if(!t||wt)return"";wt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(pe){var fe=pe}Reflect.construct(t,[],Se)}else{try{Se.call()}catch(pe){fe=pe}t.call(Se.prototype)}}else{try{throw Error()}catch(pe){fe=pe}(Se=t())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(pe){if(pe&&fe&&typeof pe.stack=="string")return[pe.stack,fe.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var Y=T.split(`
`),ue=M.split(`
`);for(h=o=0;o<Y.length&&!Y[o].includes("DetermineComponentFrameRoot");)o++;for(;h<ue.length&&!ue[h].includes("DetermineComponentFrameRoot");)h++;if(o===Y.length||h===ue.length)for(o=Y.length-1,h=ue.length-1;1<=o&&0<=h&&Y[o]!==ue[h];)h--;for(;1<=o&&0<=h;o--,h--)if(Y[o]!==ue[h]){if(o!==1||h!==1)do if(o--,h--,0>h||Y[o]!==ue[h]){var _e=`
`+Y[o].replace(" at new "," at ");return t.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",t.displayName)),_e}while(1<=o&&0<=h);break}}}finally{wt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Nt(a):""}function ci(t,n){switch(t.tag){case 26:case 27:case 5:return Nt(t.type);case 16:return Nt("Lazy");case 13:return t.child!==n&&n!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return En(t.type,!1);case 11:return En(t.type.render,!1);case 1:return En(t.type,!0);case 31:return Nt("Activity");default:return""}}function Zt(t){try{var n="",a=null;do n+=ci(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var it=Object.prototype.hasOwnProperty,sn=r.unstable_scheduleCallback,dn=r.unstable_cancelCallback,Gi=r.unstable_shouldYield,Kn=r.unstable_requestPaint,Gt=r.unstable_now,Tn=r.unstable_getCurrentPriorityLevel,C=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,v=r.unstable_NormalPriority,D=r.unstable_LowPriority,W=r.unstable_IdlePriority,me=r.log,Ie=r.unstable_setDisableYieldValue,Qe=null,Je=null;function Ge(t){if(typeof me=="function"&&Ie(t),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Qe,t)}catch{}}var rt=Math.clz32?Math.clz32:mn,Bt=Math.log,Cn=Math.LN2;function mn(t){return t>>>=0,t===0?32:31-(Bt(t)/Cn|0)|0}var zn=256,Wn=262144,jt=4194304;function nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function On(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?h=nn(o):(T&=M,T!==0?h=nn(T):a||(a=M&~t,a!==0&&(h=nn(a))))):(M=o&~m,M!==0?h=nn(M):T!==0?h=nn(T):a||(a=o&~t,a!==0&&(h=nn(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function Yn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function rr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vt(){var t=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),t}function $n(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Rt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ar(t,n,a,o,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var M=t.entanglements,Y=t.expirationTimes,ue=t.hiddenUpdates;for(a=T&~a;0<a;){var _e=31-rt(a),Se=1<<_e;M[_e]=0,Y[_e]=-1;var fe=ue[_e];if(fe!==null)for(ue[_e]=null,_e=0;_e<fe.length;_e++){var pe=fe[_e];pe!==null&&(pe.lane&=-536870913)}a&=~Se}o!==0&&Ii(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Ii(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-rt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function qr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-rt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function pr(t,n){var a=n&-n;return a=(a&42)!==0?1:Gr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ye(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ta(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Qv(t.type))}function xi(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var Yi=Math.random().toString(36).slice(2),vn="__reactFiber$"+Yi,Jn="__reactProps$"+Yi,sr="__reactContainer$"+Yi,Mr="__reactEvents$"+Yi,Rs="__reactListeners$"+Yi,qa="__reactHandles$"+Yi,la="__reactResources$"+Yi,or="__reactMarker$"+Yi;function Mi(t){delete t[vn],delete t[Jn],delete t[Mr],delete t[Rs],delete t[qa]}function Ni(t){var n=t[vn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[sr]||a[vn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Dv(t);t!==null;){if(a=t[vn])return a;t=Dv(t)}return n}t=a,a=t.parentNode}return null}function Di(t){if(t=t[vn]||t[sr]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Oi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xi(t){var n=t[la];return n||(n=t[la]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pn(t){t[or]=!0}var Yr=new Set,Ti={};function Vi(t,n){Qi(t,n),Qi(t+"Capture",n)}function Qi(t,n){for(Ti[t]=n,t=0;t<n.length;t++)Yr.add(n[t])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nr={},Aa={};function Sa(t){return it.call(Aa,t)?!0:it.call(Nr,t)?!1:Ga.test(t)?Aa[t]=!0:(Nr[t]=!0,!1)}function gr(t,n,a){if(Sa(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Ai(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Yt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Xn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ki(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yr(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function en(t){if(!t._valueTracker){var n=Ki(t)?"checked":"value";t._valueTracker=yr(t,n,""+t[n])}}function Ln(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Ki(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function ut(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ii=/[\n"\\]/g;function Vn(t){return t.replace(ii,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ua(t,n,a,o,h,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xn(n)):t.value!==""+Xn(n)&&(t.value=""+Xn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?J(t,T,Xn(n)):a!=null?J(t,T,Xn(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Xn(M):t.removeAttribute("name")}function ca(t,n,a,o,h,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){en(t);return}a=a!=null?""+Xn(a):"",n=n!=null?""+Xn(n):a,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),en(t)}function J(t,n,a){n==="number"&&ut(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ie(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Xn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function be(t,n,a){if(n!=null&&(n=""+Xn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Xn(a):""}function ve(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(se(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Xn(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),en(t)}function Ae(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Fe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ze(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Fe.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Pe(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ze(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&Ze(t,m,n[m])}function pt(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Le=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pn(t){return ot.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Rn(){}var In=null;function ri(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xn=null,vi=null;function vr(t){var n=Di(t);if(n&&(t=n.stateNode)){var a=t[Jn]||null;e:switch(t=n.stateNode,n.type){case"input":if(ua(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Jn]||null;if(!h)throw Error(s(90));ua(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Ln(o)}break e;case"textarea":be(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ie(t,!!a.multiple,n,!1)}}}var ha=!1;function _r(t,n,a){if(ha)return t(n,a);ha=!0;try{var o=t(n);return o}finally{if(ha=!1,(xn!==null||vi!==null)&&(Xc(),xn&&(n=xn,t=vi,vi=xn=null,vr(n),t)))for(n=0;n<t.length;n++)vr(t[n])}}function ki(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Jn]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(_i)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{Xr=!1}var Qr=null,Wi=null,fa=null;function Ca(){if(fa)return fa;var t,n=Wi,a=n.length,o,h="value"in Qr?Qr.value:Qr.textContent,m=h.length;for(t=0;t<a&&n[t]===h[t];t++);var T=a-t;for(o=1;o<=T&&n[a-o]===h[m-o];o++);return fa=h.slice(t,1<o?1-o:void 0)}function da(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Dr(){return!0}function Or(){return!1}function bi(t){function n(a,o,h,m,T){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(a=t[M],this[M]=a?a(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Dr:Or,this.isPropagationStopped=Or,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),n}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kr=bi(br),Ra=U({},br,{view:0,detail:0}),Eo=bi(Ra),Vr,Ya,lr,Xa=U({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lr&&(lr&&t.type==="mousemove"?(Vr=t.screenX-lr.screenX,Ya=t.screenY-lr.screenY):Ya=Vr=0,lr=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),Is=bi(Xa),Qa=U({},Xa,{dataTransfer:0}),Ko=bi(Qa),ai=U({},Ra,{relatedTarget:0}),Ia=bi(ai),ur=U({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=bi(ur),ma=U({},br,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ka=bi(ma),xs=U({},br,{data:0}),kr=bi(xs),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function xa(){return Ns}var Pi=U({},Ra,{key:function(t){if(t.key){var n=Ms[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(t){return t.type==="keypress"?da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),To=bi(Pi),Zo=U({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pa=bi(Zo),u=U({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),y=bi(u),A=U({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=bi(A),ae=U({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),de=bi(ae),Ue=U({},br,{newState:0,oldState:0}),Ct=bi(Ue),Zn=[9,13,27,32],on=_i&&"CompositionEvent"in window,Un=null;_i&&"documentMode"in document&&(Un=document.documentMode);var $i=_i&&"TextEvent"in window&&!Un,wr=_i&&(!on||Un&&8<Un&&11>=Un),Er=" ",cr=!1;function Wr(t,n){switch(t){case"keyup":return Zn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function Sf(t,n){switch(t){case"compositionend":return Wa(n);case"keypress":return n.which!==32?null:(cr=!0,Er);case"textInput":return t=n.data,t===Er&&cr?null:t;default:return null}}function pc(t,n){if($a)return t==="compositionend"||!on&&Wr(t,n)?(t=Ca(),fa=Wi=Qr=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wr&&n.locale!=="ko"?null:n.data;default:return null}}var el={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!el[t.type]:n==="textarea"}function Bn(t,n,a,o){xn?vi?vi.push(o):vi=[o]:xn=o,n=eh(n,"onChange"),0<n.length&&(a=new Kr("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var hr=null,Ja=null;function gc(t){vv(t,0)}function Ao(t){var n=Oi(t);if(Ln(n))return t}function tu(t,n){if(t==="change")return n}var nu=!1;if(_i){var Ds;if(_i){var tl="oninput"in document;if(!tl){var f=document.createElement("div");f.setAttribute("oninput","return;"),tl=typeof f.oninput=="function"}Ds=tl}else Ds=!1;nu=Ds&&(!document.documentMode||9<document.documentMode)}function d(){hr&&(hr.detachEvent("onpropertychange",_),Ja=hr=null)}function _(t){if(t.propertyName==="value"&&Ao(Ja)){var n=[];Bn(n,Ja,t,ri(t)),_r(gc,n)}}function S(t,n,a){t==="focusin"?(d(),hr=n,Ja=a,hr.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function N(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Ja)}function B(t,n){if(t==="click")return Ao(n)}function $(t,n){if(t==="input"||t==="change")return Ao(n)}function Z(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ce=typeof Object.is=="function"?Object.is:Z;function le(t,n){if(ce(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!it.call(n,h)||!ce(t[h],n[h]))return!1}return!0}function Oe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ke(t,n){var a=Oe(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Oe(a)}}function at(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?at(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ee(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ut(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ut(t.document)}return n}function je(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var tt=_i&&"documentMode"in document&&11>=document.documentMode,ze=null,cn=null,We=null,Lt=!1;function _n(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lt||ze==null||ze!==ut(o)||(o=ze,"selectionStart"in o&&je(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),We&&le(We,o)||(We=o,o=eh(cn,"onSelect"),0<o.length&&(n=new Kr("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ze)))}function si(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Tr={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionrun:si("Transition","TransitionRun"),transitionstart:si("Transition","TransitionStart"),transitioncancel:si("Transition","TransitionCancel"),transitionend:si("Transition","TransitionEnd")},zt={},Pr={};_i&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function Za(t){if(zt[t])return zt[t];if(!Tr[t])return t;var n=Tr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Pr)return zt[t]=n[a];return t}var De=Za("animationend"),qe=Za("animationiteration"),Ut=Za("animationstart"),Xt=Za("transitionrun"),Dt=Za("transitionstart"),Ft=Za("transitioncancel"),rn=Za("transitionend"),ln=new Map,fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fr.push("scrollEnd");function bn(t,n){ln.set(t,n),Vi(n,[t])}var Li=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gn=[],es=0,nl=0;function Ma(){for(var t=es,n=nl=es=0;n<t;){var a=gn[n];gn[n++]=null;var o=gn[n];gn[n++]=null;var h=gn[n];gn[n++]=null;var m=gn[n];if(gn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&iu(a,h,m)}}function Na(t,n,a,o){gn[es++]=t,gn[es++]=n,gn[es++]=a,gn[es++]=o,nl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ga(t,n,a,o){return Na(t,n,a,o),So(t)}function dr(t,n){return Na(t,null,null,n),So(t)}function iu(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-rt(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),m):null}function So(t){if(50<Su)throw Su=0,kd=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Lr={};function Cf(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(t,n,a,o){return new Cf(t,n,a,o)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var a=t.alternate;return a===null?(a=Ji(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function eg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yc(t,n,a,o,h,m){var T=0;if(o=t,typeof t=="function")Rf(t)&&(T=1);else if(typeof t=="string")T=RE(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=Ji(31,a,n,h),t.elementType=V,t.lanes=m,t;case Me:return Co(a.children,h,m,n);case Re:T=8,h|=24;break;case Ve:return t=Ji(12,a,n,h|2),t.elementType=Ve,t.lanes=m,t;case ct:return t=Ji(13,a,n,h),t.elementType=ct,t.lanes=m,t;case mt:return t=Ji(19,a,n,h),t.elementType=mt,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Be:T=10;break e;case ke:T=9;break e;case Xe:T=11;break e;case q:T=14;break e;case z:T=16,o=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=Ji(T,a,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Co(t,n,a,o){return t=Ji(7,t,o,n),t.lanes=a,t}function If(t,n,a){return t=Ji(6,t,null,n),t.lanes=a,t}function tg(t){var n=Ji(18,null,null,0);return n.stateNode=t,n}function xf(t,n,a){return n=Ji(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ng=new WeakMap;function $r(t,n){if(typeof t=="object"&&t!==null){var a=ng.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Zt(n)},ng.set(t,n),n)}return{value:t,source:n,stack:Zt(n)}}var il=[],rl=0,vc=null,ru=0,Jr=[],Zr=0,Os=null,Da=1,Oa="";function ns(t,n){il[rl++]=ru,il[rl++]=vc,vc=t,ru=n}function ig(t,n,a){Jr[Zr++]=Da,Jr[Zr++]=Oa,Jr[Zr++]=Os,Os=t;var o=Da;t=Oa;var h=32-rt(o)-1;o&=~(1<<h),a+=1;var m=32-rt(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,Da=1<<32-rt(n)+h|a<<h|o,Oa=m+t}else Da=1<<m|a<<h|o,Oa=t}function Mf(t){t.return!==null&&(ns(t,1),ig(t,1,0))}function Nf(t){for(;t===vc;)vc=il[--rl],il[rl]=null,ru=il[--rl],il[rl]=null;for(;t===Os;)Os=Jr[--Zr],Jr[Zr]=null,Oa=Jr[--Zr],Jr[Zr]=null,Da=Jr[--Zr],Jr[Zr]=null}function rg(t,n){Jr[Zr++]=Da,Jr[Zr++]=Oa,Jr[Zr++]=Os,Da=n.id,Oa=n.overflow,Os=t}var Ui=null,Fn=null,tn=!1,Vs=null,ea=!1,Df=Error(s(519));function ks(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au($r(n,t)),Df}function ag(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[vn]=t,n[Jn]=o,a){case"dialog":qt("cancel",n),qt("close",n);break;case"iframe":case"object":case"embed":qt("load",n);break;case"video":case"audio":for(a=0;a<Ru.length;a++)qt(Ru[a],n);break;case"source":qt("error",n);break;case"img":case"image":case"link":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"input":qt("invalid",n),ca(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":qt("invalid",n);break;case"textarea":qt("invalid",n),ve(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Ev(n.textContent,a)?(o.popover!=null&&(qt("beforetoggle",n),qt("toggle",n)),o.onScroll!=null&&qt("scroll",n),o.onScrollEnd!=null&&qt("scrollend",n),o.onClick!=null&&(n.onclick=Rn),n=!0):n=!1,n||ks(t,!0)}function sg(t){for(Ui=t.return;Ui;)switch(Ui.tag){case 5:case 31:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:Ui=Ui.return}}function al(t){if(t!==Ui)return!1;if(!tn)return sg(t),tn=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&Fn&&ks(t),sg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Fn=Nv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Fn=Nv(t)}else n===27?(n=Fn,Ks(t.type)?(t=tm,tm=null,Fn=t):Fn=n):Fn=Ui?na(t.stateNode.nextSibling):null;return!0}function Ro(){Fn=Ui=null,tn=!1}function Of(){var t=Vs;return t!==null&&(Rr===null?Rr=t:Rr.push.apply(Rr,t),Vs=null),t}function au(t){Vs===null?Vs=[t]:Vs.push(t)}var Vf=P(null),Io=null,is=null;function Ps(t,n,a){Ee(Vf,n._currentValue),n._currentValue=a}function rs(t){t._currentValue=Vf.current,K(Vf)}function kf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Pf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=h;for(var Y=0;Y<n.length;Y++)if(M.context===n[Y]){m.lanes|=a,M=m.alternate,M!==null&&(M.lanes|=a),kf(m.return,a,t),o||(T=null);break e}m=M.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),kf(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function sl(t,n,a,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var M=h.type;ce(h.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(h===ht.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Du):t=[Du])}h=h.return}t!==null&&Pf(n,t,a,o),n.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!ce(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xo(t){Io=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ji(t){return og(Io,t)}function bc(t,n){return Io===null&&xo(t),og(t,n)}function og(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},is===null){if(t===null)throw Error(s(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return a}var T1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},A1=r.unstable_scheduleCallback,S1=r.unstable_NormalPriority,hi={$$typeof:Be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new T1,data:new Map,refCount:0}}function su(t){t.refCount--,t.refCount===0&&A1(S1,function(){t.controller.abort()})}var ou=null,Uf=0,ol=0,ll=null;function C1(t,n){if(ou===null){var a=ou=[];Uf=0,ol=Bd(),ll={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Uf++,n.then(lg,lg),n}function lg(){if(--Uf===0&&ou!==null){ll!==null&&(ll.status="fulfilled");var t=ou;ou=null,ol=0,ll=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function R1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ug=G.S;G.S=function(t,n){Yy=Gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&C1(t,n),ug!==null&&ug(t,n)};var Mo=P(null);function jf(){var t=Mo.current;return t!==null?t:kn.pooledCache}function wc(t,n){n===null?Ee(Mo,Mo.current):Ee(Mo,n.pool)}function cg(){var t=jf();return t===null?null:{parent:hi._currentValue,pool:t}}var ul=Error(s(460)),zf=Error(s(474)),Ec=Error(s(542)),Tc={then:function(){}};function hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Rn,Rn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,mg(t),t;default:if(typeof n.status=="string")n.then(Rn,Rn);else{if(t=kn,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,mg(t),t}throw Do=n,ul}}function No(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Do=a,ul):a}}var Do=null;function dg(){if(Do===null)throw Error(s(459));var t=Do;return Do=null,t}function mg(t){if(t===ul||t===Ec)throw Error(s(483))}var cl=null,lu=0;function Ac(t){var n=lu;return lu+=1,cl===null&&(cl=[]),fg(cl,t,n)}function uu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Sc(t,n){throw n.$$typeof===j?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function pg(t){function n(ne,X){if(t){var oe=ne.deletions;oe===null?(ne.deletions=[X],ne.flags|=16):oe.push(X)}}function a(ne,X){if(!t)return null;for(;X!==null;)n(ne,X),X=X.sibling;return null}function o(ne){for(var X=new Map;ne!==null;)ne.key!==null?X.set(ne.key,ne):X.set(ne.index,ne),ne=ne.sibling;return X}function h(ne,X){return ne=ts(ne,X),ne.index=0,ne.sibling=null,ne}function m(ne,X,oe){return ne.index=oe,t?(oe=ne.alternate,oe!==null?(oe=oe.index,oe<X?(ne.flags|=67108866,X):oe):(ne.flags|=67108866,X)):(ne.flags|=1048576,X)}function T(ne){return t&&ne.alternate===null&&(ne.flags|=67108866),ne}function M(ne,X,oe,Te){return X===null||X.tag!==6?(X=If(oe,ne.mode,Te),X.return=ne,X):(X=h(X,oe),X.return=ne,X)}function Y(ne,X,oe,Te){var gt=oe.type;return gt===Me?_e(ne,X,oe.props.children,Te,oe.key):X!==null&&(X.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===z&&No(gt)===X.type)?(X=h(X,oe.props),uu(X,oe),X.return=ne,X):(X=yc(oe.type,oe.key,oe.props,null,ne.mode,Te),uu(X,oe),X.return=ne,X)}function ue(ne,X,oe,Te){return X===null||X.tag!==4||X.stateNode.containerInfo!==oe.containerInfo||X.stateNode.implementation!==oe.implementation?(X=xf(oe,ne.mode,Te),X.return=ne,X):(X=h(X,oe.children||[]),X.return=ne,X)}function _e(ne,X,oe,Te,gt){return X===null||X.tag!==7?(X=Co(oe,ne.mode,Te,gt),X.return=ne,X):(X=h(X,oe),X.return=ne,X)}function Se(ne,X,oe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=If(""+X,ne.mode,oe),X.return=ne,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case re:return oe=yc(X.type,X.key,X.props,null,ne.mode,oe),uu(oe,X),oe.return=ne,oe;case F:return X=xf(X,ne.mode,oe),X.return=ne,X;case z:return X=No(X),Se(ne,X,oe)}if(se(X)||k(X))return X=Co(X,ne.mode,oe,null),X.return=ne,X;if(typeof X.then=="function")return Se(ne,Ac(X),oe);if(X.$$typeof===Be)return Se(ne,bc(ne,X),oe);Sc(ne,X)}return null}function fe(ne,X,oe,Te){var gt=X!==null?X.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return gt!==null?null:M(ne,X,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case re:return oe.key===gt?Y(ne,X,oe,Te):null;case F:return oe.key===gt?ue(ne,X,oe,Te):null;case z:return oe=No(oe),fe(ne,X,oe,Te)}if(se(oe)||k(oe))return gt!==null?null:_e(ne,X,oe,Te,null);if(typeof oe.then=="function")return fe(ne,X,Ac(oe),Te);if(oe.$$typeof===Be)return fe(ne,X,bc(ne,oe),Te);Sc(ne,oe)}return null}function pe(ne,X,oe,Te,gt){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return ne=ne.get(oe)||null,M(X,ne,""+Te,gt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case re:return ne=ne.get(Te.key===null?oe:Te.key)||null,Y(X,ne,Te,gt);case F:return ne=ne.get(Te.key===null?oe:Te.key)||null,ue(X,ne,Te,gt);case z:return Te=No(Te),pe(ne,X,oe,Te,gt)}if(se(Te)||k(Te))return ne=ne.get(oe)||null,_e(X,ne,Te,gt,null);if(typeof Te.then=="function")return pe(ne,X,oe,Ac(Te),gt);if(Te.$$typeof===Be)return pe(ne,X,oe,bc(X,Te),gt);Sc(X,Te)}return null}function st(ne,X,oe,Te){for(var gt=null,hn=null,lt=X,Pt=X=0,Kt=null;lt!==null&&Pt<oe.length;Pt++){lt.index>Pt?(Kt=lt,lt=null):Kt=lt.sibling;var fn=fe(ne,lt,oe[Pt],Te);if(fn===null){lt===null&&(lt=Kt);break}t&&lt&&fn.alternate===null&&n(ne,lt),X=m(fn,X,Pt),hn===null?gt=fn:hn.sibling=fn,hn=fn,lt=Kt}if(Pt===oe.length)return a(ne,lt),tn&&ns(ne,Pt),gt;if(lt===null){for(;Pt<oe.length;Pt++)lt=Se(ne,oe[Pt],Te),lt!==null&&(X=m(lt,X,Pt),hn===null?gt=lt:hn.sibling=lt,hn=lt);return tn&&ns(ne,Pt),gt}for(lt=o(lt);Pt<oe.length;Pt++)Kt=pe(lt,ne,Pt,oe[Pt],Te),Kt!==null&&(t&&Kt.alternate!==null&&lt.delete(Kt.key===null?Pt:Kt.key),X=m(Kt,X,Pt),hn===null?gt=Kt:hn.sibling=Kt,hn=Kt);return t&&lt.forEach(function(eo){return n(ne,eo)}),tn&&ns(ne,Pt),gt}function _t(ne,X,oe,Te){if(oe==null)throw Error(s(151));for(var gt=null,hn=null,lt=X,Pt=X=0,Kt=null,fn=oe.next();lt!==null&&!fn.done;Pt++,fn=oe.next()){lt.index>Pt?(Kt=lt,lt=null):Kt=lt.sibling;var eo=fe(ne,lt,fn.value,Te);if(eo===null){lt===null&&(lt=Kt);break}t&&lt&&eo.alternate===null&&n(ne,lt),X=m(eo,X,Pt),hn===null?gt=eo:hn.sibling=eo,hn=eo,lt=Kt}if(fn.done)return a(ne,lt),tn&&ns(ne,Pt),gt;if(lt===null){for(;!fn.done;Pt++,fn=oe.next())fn=Se(ne,fn.value,Te),fn!==null&&(X=m(fn,X,Pt),hn===null?gt=fn:hn.sibling=fn,hn=fn);return tn&&ns(ne,Pt),gt}for(lt=o(lt);!fn.done;Pt++,fn=oe.next())fn=pe(lt,ne,Pt,fn.value,Te),fn!==null&&(t&&fn.alternate!==null&&lt.delete(fn.key===null?Pt:fn.key),X=m(fn,X,Pt),hn===null?gt=fn:hn.sibling=fn,hn=fn);return t&&lt.forEach(function(UE){return n(ne,UE)}),tn&&ns(ne,Pt),gt}function Dn(ne,X,oe,Te){if(typeof oe=="object"&&oe!==null&&oe.type===Me&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case re:e:{for(var gt=oe.key;X!==null;){if(X.key===gt){if(gt=oe.type,gt===Me){if(X.tag===7){a(ne,X.sibling),Te=h(X,oe.props.children),Te.return=ne,ne=Te;break e}}else if(X.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===z&&No(gt)===X.type){a(ne,X.sibling),Te=h(X,oe.props),uu(Te,oe),Te.return=ne,ne=Te;break e}a(ne,X);break}else n(ne,X);X=X.sibling}oe.type===Me?(Te=Co(oe.props.children,ne.mode,Te,oe.key),Te.return=ne,ne=Te):(Te=yc(oe.type,oe.key,oe.props,null,ne.mode,Te),uu(Te,oe),Te.return=ne,ne=Te)}return T(ne);case F:e:{for(gt=oe.key;X!==null;){if(X.key===gt)if(X.tag===4&&X.stateNode.containerInfo===oe.containerInfo&&X.stateNode.implementation===oe.implementation){a(ne,X.sibling),Te=h(X,oe.children||[]),Te.return=ne,ne=Te;break e}else{a(ne,X);break}else n(ne,X);X=X.sibling}Te=xf(oe,ne.mode,Te),Te.return=ne,ne=Te}return T(ne);case z:return oe=No(oe),Dn(ne,X,oe,Te)}if(se(oe))return st(ne,X,oe,Te);if(k(oe)){if(gt=k(oe),typeof gt!="function")throw Error(s(150));return oe=gt.call(oe),_t(ne,X,oe,Te)}if(typeof oe.then=="function")return Dn(ne,X,Ac(oe),Te);if(oe.$$typeof===Be)return Dn(ne,X,bc(ne,oe),Te);Sc(ne,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,X!==null&&X.tag===6?(a(ne,X.sibling),Te=h(X,oe),Te.return=ne,ne=Te):(a(ne,X),Te=If(oe,ne.mode,Te),Te.return=ne,ne=Te),T(ne)):a(ne,X)}return function(ne,X,oe,Te){try{lu=0;var gt=Dn(ne,X,oe,Te);return cl=null,gt}catch(lt){if(lt===ul||lt===Ec)throw lt;var hn=Ji(29,lt,null,ne.mode);return hn.lanes=Te,hn.return=ne,hn}finally{}}}var Oo=pg(!0),gg=pg(!1),Ls=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(yn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=So(t),iu(t,null,a),n}return Na(t,o,n,a),So(t)}function cu(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,qr(t,a)}}function Hf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var qf=!1;function hu(){if(qf){var t=ll;if(t!==null)throw t}}function fu(t,n,a,o){qf=!1;var h=t.updateQueue;Ls=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var Y=M,ue=Y.next;Y.next=null,T===null?m=ue:T.next=ue,T=Y;var _e=t.alternate;_e!==null&&(_e=_e.updateQueue,M=_e.lastBaseUpdate,M!==T&&(M===null?_e.firstBaseUpdate=ue:M.next=ue,_e.lastBaseUpdate=Y))}if(m!==null){var Se=h.baseState;T=0,_e=ue=Y=null,M=m;do{var fe=M.lane&-536870913,pe=fe!==M.lane;if(pe?(Qt&fe)===fe:(o&fe)===fe){fe!==0&&fe===ol&&(qf=!0),_e!==null&&(_e=_e.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var st=t,_t=M;fe=n;var Dn=a;switch(_t.tag){case 1:if(st=_t.payload,typeof st=="function"){Se=st.call(Dn,Se,fe);break e}Se=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=_t.payload,fe=typeof st=="function"?st.call(Dn,Se,fe):st,fe==null)break e;Se=U({},Se,fe);break e;case 2:Ls=!0}}fe=M.callback,fe!==null&&(t.flags|=64,pe&&(t.flags|=8192),pe=h.callbacks,pe===null?h.callbacks=[fe]:pe.push(fe))}else pe={lane:fe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},_e===null?(ue=_e=pe,Y=Se):_e=_e.next=pe,T|=fe;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;pe=M,M=pe.next,pe.next=null,h.lastBaseUpdate=pe,h.shared.pending=null}}while(!0);_e===null&&(Y=Se),h.baseState=Y,h.firstBaseUpdate=ue,h.lastBaseUpdate=_e,m===null&&(h.shared.lanes=0),qs|=T,t.lanes=T,t.memoizedState=Se}}function yg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function vg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)yg(a[t],n)}var hl=P(null),Cc=P(0);function _g(t,n){t=ds,Ee(Cc,t),Ee(hl,n),ds=t|n.baseLanes}function Gf(){Ee(Cc,ds),Ee(hl,hl.current)}function Yf(){ds=Cc.current,K(hl),K(Cc)}var Ur=P(null),ta=null;function zs(t){var n=t.alternate;Ee(oi,oi.current&1),Ee(Ur,t),ta===null&&(n===null||hl.current!==null||n.memoizedState!==null)&&(ta=t)}function Xf(t){Ee(oi,oi.current),Ee(Ur,t),ta===null&&(ta=t)}function bg(t){t.tag===22?(Ee(oi,oi.current),Ee(Ur,t),ta===null&&(ta=t)):Bs()}function Bs(){Ee(oi,oi.current),Ee(Ur,Ur.current)}function jr(t){K(Ur),ta===t&&(ta=null),K(oi)}var oi=P(0);function Rc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||em(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,kt=null,Mn=null,fi=null,Ic=!1,fl=!1,Vo=!1,xc=0,du=0,dl=null,I1=0;function ti(){throw Error(s(321))}function Qf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ce(t[a],n[a]))return!1;return!0}function Kf(t,n,a,o,h,m){return as=m,kt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?iy:cd,Vo=!1,m=a(o,h),Vo=!1,fl&&(m=Eg(n,a,o,h)),wg(t),m}function wg(t){G.H=gu;var n=Mn!==null&&Mn.next!==null;if(as=0,fi=Mn=kt=null,Ic=!1,du=0,dl=null,n)throw Error(s(300));t===null||di||(t=t.dependencies,t!==null&&_c(t)&&(di=!0))}function Eg(t,n,a,o){kt=t;var h=0;do{if(fl&&(dl=null),du=0,fl=!1,25<=h)throw Error(s(301));if(h+=1,fi=Mn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=ry,m=n(a,o)}while(fl);return m}function x1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?mu(n):n,t=t.useState()[0],(Mn!==null?Mn.memoizedState:null)!==t&&(kt.flags|=1024),n}function Wf(){var t=xc!==0;return xc=0,t}function $f(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Jf(t){if(Ic){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ic=!1}as=0,fi=Mn=kt=null,fl=!1,du=xc=0,dl=null}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?kt.memoizedState=fi=t:fi=fi.next=t,fi}function li(){if(Mn===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=Mn.next;var n=fi===null?kt.memoizedState:fi.next;if(n!==null)fi=n,Mn=t;else{if(t===null)throw kt.alternate===null?Error(s(467)):Error(s(310));Mn=t,t={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},fi===null?kt.memoizedState=fi=t:fi=fi.next=t}return fi}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(t){var n=du;return du+=1,dl===null&&(dl=[]),t=fg(dl,t,n),n=kt,(fi===null?n.memoizedState:fi.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?iy:cd),t}function Nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mu(t);if(t.$$typeof===Be)return ji(t)}throw Error(s(438,String(t)))}function Zf(t){var n=null,a=kt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=kt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Mc(),kt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=H;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function Dc(t){var n=li();return ed(n,Mn,t)}function ed(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var M=T=null,Y=null,ue=n,_e=!1;do{var Se=ue.lane&-536870913;if(Se!==ue.lane?(Qt&Se)===Se:(as&Se)===Se){var fe=ue.revertLane;if(fe===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Se===ol&&(_e=!0);else if((as&fe)===fe){ue=ue.next,fe===ol&&(_e=!0);continue}else Se={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Y===null?(M=Y=Se,T=m):Y=Y.next=Se,kt.lanes|=fe,qs|=fe;Se=ue.action,Vo&&a(m,Se),m=ue.hasEagerState?ue.eagerState:a(m,Se)}else fe={lane:Se,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Y===null?(M=Y=fe,T=m):Y=Y.next=fe,kt.lanes|=Se,qs|=Se;ue=ue.next}while(ue!==null&&ue!==n);if(Y===null?T=m:Y.next=M,!ce(m,t.memoizedState)&&(di=!0,_e&&(a=ll,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=Y,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function td(t){var n=li(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ce(m,n.memoizedState)||(di=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function Tg(t,n,a){var o=kt,h=li(),m=tn;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var T=!ce((Mn||h).memoizedState,a);if(T&&(h.memoizedState=a,di=!0),h=h.queue,rd(Cg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||fi!==null&&fi.memoizedState.tag&1){if(o.flags|=2048,ml(9,{destroy:void 0},Sg.bind(null,o,h,a,n),null),kn===null)throw Error(s(349));m||(as&127)!==0||Ag(o,n,a)}return a}function Ag(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=kt.updateQueue,n===null?(n=Mc(),kt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Sg(t,n,a,o){n.value=a,n.getSnapshot=o,Rg(n)&&Ig(t)}function Cg(t,n,a){return a(function(){Rg(n)&&Ig(t)})}function Rg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ce(t,a)}catch{return!0}}function Ig(t){var n=dr(t,2);n!==null&&Ir(n,t,2)}function nd(t){var n=mr();if(typeof t=="function"){var a=t;if(t=a(),Vo){Ge(!0);try{a()}finally{Ge(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function xg(t,n,a,o){return t.baseState=a,ed(t,Mn,typeof o=="function"?o:ss)}function M1(t,n,a,o,h){if(kc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};G.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,Mg(n,m)):(m.next=a.next,n.pending=a.next=m)}}function Mg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=G.T,T={};G.T=T;try{var M=a(h,o),Y=G.S;Y!==null&&Y(T,M),Ng(t,n,M)}catch(ue){id(t,n,ue)}finally{m!==null&&T.types!==null&&(m.types=T.types),G.T=m}}else try{m=a(h,o),Ng(t,n,m)}catch(ue){id(t,n,ue)}}function Ng(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Dg(t,n,o)},function(o){return id(t,n,o)}):Dg(t,n,a)}function Dg(t,n,a){n.status="fulfilled",n.value=a,Og(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Mg(t,a)))}function id(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Og(n),n=n.next;while(n!==o)}t.action=null}function Og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Vg(t,n){return n}function kg(t,n){if(tn){var a=kn.formState;if(a!==null){e:{var o=kt;if(tn){if(Fn){t:{for(var h=Fn,m=ea;h.nodeType!==8;){if(!m){h=null;break t}if(h=na(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Fn=na(h.nextSibling),o=h.data==="F!";break e}}ks(o)}o=!1}o&&(n=a[0])}}return a=mr(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:n},a.queue=o,a=ey.bind(null,kt,o),o.dispatch=a,o=nd(!1),m=ud.bind(null,kt,!1,o.queue),o=mr(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=M1.bind(null,kt,h,m,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Pg(t){var n=li();return Lg(n,Mn,t)}function Lg(t,n,a){if(n=ed(t,n,Vg)[0],t=Dc(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=mu(n)}catch(T){throw T===ul?Ec:T}else o=n;n=li();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(kt.flags|=2048,ml(9,{destroy:void 0},N1.bind(null,h,a),null)),[o,m,t]}function N1(t,n){t.action=n}function Ug(t){var n=li(),a=Mn;if(a!==null)return Lg(n,a,t);li(),n=n.memoizedState,a=li();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function ml(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=kt.updateQueue,n===null&&(n=Mc(),kt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function jg(){return li().memoizedState}function Oc(t,n,a,o){var h=mr();kt.flags|=t,h.memoizedState=ml(1|n,{destroy:void 0},a,o===void 0?null:o)}function Vc(t,n,a,o){var h=li();o=o===void 0?null:o;var m=h.memoizedState.inst;Mn!==null&&o!==null&&Qf(o,Mn.memoizedState.deps)?h.memoizedState=ml(n,m,a,o):(kt.flags|=t,h.memoizedState=ml(1|n,m,a,o))}function zg(t,n){Oc(8390656,8,t,n)}function rd(t,n){Vc(2048,8,t,n)}function D1(t){kt.flags|=4;var n=kt.updateQueue;if(n===null)n=Mc(),kt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Bg(t){var n=li().memoizedState;return D1({ref:n,nextImpl:t}),function(){if((yn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Fg(t,n){return Vc(4,2,t,n)}function Hg(t,n){return Vc(4,4,t,n)}function qg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gg(t,n,a){a=a!=null?a.concat([t]):null,Vc(4,4,qg.bind(null,n,t),a)}function ad(){}function Yg(t,n){var a=li();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Qf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Xg(t,n){var a=li();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Qf(n,o[1]))return o[0];if(o=t(),Vo){Ge(!0);try{t()}finally{Ge(!1)}}return a.memoizedState=[o,n],o}function sd(t,n,a){return a===void 0||(as&1073741824)!==0&&(Qt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Qy(),kt.lanes|=t,qs|=t,a)}function Qg(t,n,a,o){return ce(a,n)?a:hl.current!==null?(t=sd(t,a,o),ce(t,n)||(di=!0),t):(as&42)===0||(as&1073741824)!==0&&(Qt&261930)===0?(di=!0,t.memoizedState=a):(t=Qy(),kt.lanes|=t,qs|=t,n)}function Kg(t,n,a,o,h){var m=te.p;te.p=m!==0&&8>m?m:8;var T=G.T,M={};G.T=M,ud(t,!1,n,a);try{var Y=h(),ue=G.S;if(ue!==null&&ue(M,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var _e=R1(Y,o);pu(t,n,_e,Fr(t))}else pu(t,n,o,Fr(t))}catch(Se){pu(t,n,{then:function(){},status:"rejected",reason:Se},Fr())}finally{te.p=m,T!==null&&M.types!==null&&(T.types=M.types),G.T=T}}function O1(){}function od(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=Wg(t).queue;Kg(t,h,n,ye,a===null?O1:function(){return $g(t),a(o)})}function Wg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $g(t){var n=Wg(t);n.next===null&&(n=t.alternate.memoizedState),pu(t,n.next.queue,{},Fr())}function ld(){return ji(Du)}function Jg(){return li().memoizedState}function Zg(){return li().memoizedState}function V1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Fr();t=Us(a);var o=js(n,t,a);o!==null&&(Ir(o,n,a),cu(o,n,a)),n={cache:Lf()},t.payload=n;return}n=n.return}}function k1(t,n,a){var o=Fr();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kc(t)?ty(n,a):(a=ga(t,n,a,o),a!==null&&(Ir(a,t,o),ny(a,n,o)))}function ey(t,n,a){var o=Fr();pu(t,n,a,o)}function pu(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(t))ty(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,a);if(h.hasEagerState=!0,h.eagerState=M,ce(M,T))return Na(t,n,h,0),kn===null&&Ma(),!1}catch{}finally{}if(a=ga(t,n,h,o),a!==null)return Ir(a,t,o),ny(a,n,o),!0}return!1}function ud(t,n,a,o){if(o={lane:2,revertLane:Bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(n)throw Error(s(479))}else n=ga(t,a,o,2),n!==null&&Ir(n,t,2)}function kc(t){var n=t.alternate;return t===kt||n!==null&&n===kt}function ty(t,n){fl=Ic=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ny(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,qr(t,a)}}var gu={readContext:ji,use:Nc,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useLayoutEffect:ti,useInsertionEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useSyncExternalStore:ti,useId:ti,useHostTransitionStatus:ti,useFormState:ti,useActionState:ti,useOptimistic:ti,useMemoCache:ti,useCacheRefresh:ti};gu.useEffectEvent=ti;var iy={readContext:ji,use:Nc,useCallback:function(t,n){return mr().memoizedState=[t,n===void 0?null:n],t},useContext:ji,useEffect:zg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Oc(4194308,4,qg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Oc(4194308,4,t,n)},useInsertionEffect:function(t,n){Oc(4,2,t,n)},useMemo:function(t,n){var a=mr();n=n===void 0?null:n;var o=t();if(Vo){Ge(!0);try{t()}finally{Ge(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=mr();if(a!==void 0){var h=a(n);if(Vo){Ge(!0);try{a(n)}finally{Ge(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=k1.bind(null,kt,t),[o.memoizedState,t]},useRef:function(t){var n=mr();return t={current:t},n.memoizedState=t},useState:function(t){t=nd(t);var n=t.queue,a=ey.bind(null,kt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(t,n){var a=mr();return sd(a,t,n)},useTransition:function(){var t=nd(!1);return t=Kg.bind(null,kt,t.queue,!0,!1),mr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=kt,h=mr();if(tn){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),kn===null)throw Error(s(349));(Qt&127)!==0||Ag(o,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,zg(Cg.bind(null,o,m,t),[t]),o.flags|=2048,ml(9,{destroy:void 0},Sg.bind(null,o,m,a,n),null),a},useId:function(){var t=mr(),n=kn.identifierPrefix;if(tn){var a=Oa,o=Da;a=(o&~(1<<32-rt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=xc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=I1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ld,useFormState:kg,useActionState:kg,useOptimistic:function(t){var n=mr();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ud.bind(null,kt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Zf,useCacheRefresh:function(){return mr().memoizedState=V1.bind(null,kt)},useEffectEvent:function(t){var n=mr(),a={impl:t};return n.memoizedState=a,function(){if((yn&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:ji,use:Nc,useCallback:Yg,useContext:ji,useEffect:rd,useImperativeHandle:Gg,useInsertionEffect:Fg,useLayoutEffect:Hg,useMemo:Xg,useReducer:Dc,useRef:jg,useState:function(){return Dc(ss)},useDebugValue:ad,useDeferredValue:function(t,n){var a=li();return Qg(a,Mn.memoizedState,t,n)},useTransition:function(){var t=Dc(ss)[0],n=li().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:Tg,useId:Jg,useHostTransitionStatus:ld,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,n){var a=li();return xg(a,Mn,t,n)},useMemoCache:Zf,useCacheRefresh:Zg};cd.useEffectEvent=Bg;var ry={readContext:ji,use:Nc,useCallback:Yg,useContext:ji,useEffect:rd,useImperativeHandle:Gg,useInsertionEffect:Fg,useLayoutEffect:Hg,useMemo:Xg,useReducer:td,useRef:jg,useState:function(){return td(ss)},useDebugValue:ad,useDeferredValue:function(t,n){var a=li();return Mn===null?sd(a,t,n):Qg(a,Mn.memoizedState,t,n)},useTransition:function(){var t=td(ss)[0],n=li().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:Tg,useId:Jg,useHostTransitionStatus:ld,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,n){var a=li();return Mn!==null?xg(a,Mn,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Zg};ry.useEffectEvent=Bg;function hd(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:U({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Fr(),h=Us(o);h.payload=n,a!=null&&(h.callback=a),n=js(t,h,o),n!==null&&(Ir(n,t,o),cu(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Fr(),h=Us(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=js(t,h,o),n!==null&&(Ir(n,t,o),cu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Fr(),o=Us(a);o.tag=2,n!=null&&(o.callback=n),n=js(t,o,a),n!==null&&(Ir(n,t,a),cu(n,t,a))}};function ay(t,n,a,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!le(a,o)||!le(h,m):!0}function sy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&fd.enqueueReplaceState(n,n.state,null)}function ko(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=U({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function oy(t){Li(t)}function ly(t){console.error(t)}function uy(t){Li(t)}function Pc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function cy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,n,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(t,n)},a}function hy(t){return t=Us(t),t.tag=3,t}function fy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){cy(n,a,o)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){cy(n,a,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function P1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&sl(n,a,h,!0),a=Ur.current,a!==null){switch(a.tag){case 31:case 13:return ta===null?Qc():a.alternate===null&&ni===0&&(ni=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ud(t,o,h)),!1;case 22:return a.flags|=65536,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ud(t,o,h)),!1}throw Error(s(435,a.tag))}return Ud(t,o,h),Qc(),!1}if(tn)return n=Ur.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Df&&(t=Error(s(422),{cause:o}),au($r(t,a)))):(o!==Df&&(n=Error(s(423),{cause:o}),au($r(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=$r(o,a),h=dd(t.stateNode,o,h),Hf(t,h),ni!==4&&(ni=2)),!1;var m=Error(s(520),{cause:o});if(m=$r(m,a),Au===null?Au=[m]:Au.push(m),ni!==4&&(ni=2),n===null)return!0;o=$r(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dd(a.stateNode,o,t),Hf(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gs===null||!Gs.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=hy(h),fy(h,t,a,o),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(s(461)),di=!1;function zi(t,n,a,o){n.child=t===null?gg(n,null,a,o):Oo(n,t.child,a,o)}function dy(t,n,a,o,h){a=a.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return xo(n),o=Kf(t,n,a,T,m,h),M=Wf(),t!==null&&!di?($f(t,n,h),os(t,n,h)):(tn&&M&&Mf(n),n.flags|=1,zi(t,n,o,h),n.child)}function my(t,n,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!Rf(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,py(t,n,m,o,h)):(t=yc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Ed(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:le,a(T,o)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ts(m,o),t.ref=n.ref,t.return=n,n.child=t}function py(t,n,a,o,h){if(t!==null){var m=t.memoizedProps;if(le(m,o)&&t.ref===n.ref)if(di=!1,n.pendingProps=o=m,Ed(t,h))(t.flags&131072)!==0&&(di=!0);else return n.lanes=t.lanes,os(t,n,h)}return pd(t,n,a,o,h)}function gy(t,n,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return yy(t,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&wc(n,m!==null?m.cachePool:null),m!==null?_g(n,m):Gf(),bg(n);else return o=n.lanes=536870912,yy(t,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(wc(n,m.cachePool),_g(n,m),Bs(),n.memoizedState=null):(t!==null&&wc(n,null),Gf(),Bs());return zi(t,n,h,a),n.child}function yu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function yy(t,n,a,o,h){var m=jf();return m=m===null?null:{parent:hi._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&wc(n,null),Gf(),bg(n),t!==null&&sl(t,n,o,!0),n.childLanes=h,null}function Lc(t,n){return n=jc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function vy(t,n,a){return Oo(n,t.child,null,a),t=Lc(n,n.pendingProps),t.flags|=2,jr(n),n.memoizedState=null,t}function L1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(tn){if(o.mode==="hidden")return t=Lc(n,o),n.lanes=536870912,yu(null,t);if(Xf(n),(t=Fn)?(t=Mv(t,ea),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Da,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},a=tg(t),a.return=n,n.child=a,Ui=n,Fn=null)):t=null,t===null)throw ks(n);return n.lanes=536870912,null}return Lc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Xf(n),h)if(n.flags&256)n.flags&=-257,n=vy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(di||sl(t,n,a,!1),h=(a&t.childLanes)!==0,di||h){if(o=kn,o!==null&&(T=pr(o,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,dr(t,T),Ir(o,t,T),md;Qc(),n=vy(t,n,a)}else t=m.treeContext,Fn=na(T.nextSibling),Ui=n,tn=!0,Vs=null,ea=!1,t!==null&&rg(n,t),n=Lc(n,o),n.flags|=4096;return n}return t=ts(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Uc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function pd(t,n,a,o,h){return xo(n),a=Kf(t,n,a,o,void 0,h),o=Wf(),t!==null&&!di?($f(t,n,h),os(t,n,h)):(tn&&o&&Mf(n),n.flags|=1,zi(t,n,a,h),n.child)}function _y(t,n,a,o,h,m){return xo(n),n.updateQueue=null,a=Eg(n,o,a,h),wg(t),o=Wf(),t!==null&&!di?($f(t,n,m),os(t,n,m)):(tn&&o&&Mf(n),n.flags|=1,zi(t,n,a,m),n.child)}function by(t,n,a,o,h){if(xo(n),n.stateNode===null){var m=Lr,T=a.contextType;typeof T=="object"&&T!==null&&(m=ji(T)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=fd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Bf(n),T=a.contextType,m.context=typeof T=="object"&&T!==null?ji(T):Lr,m.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(hd(n,a,T,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&fd.enqueueReplaceState(m,m.state,null),fu(n,o,m,h),hu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,Y=ko(a,M);m.props=Y;var ue=m.context,_e=a.contextType;T=Lr,typeof _e=="object"&&_e!==null&&(T=ji(_e));var Se=a.getDerivedStateFromProps;_e=typeof Se=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,_e||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||ue!==T)&&sy(n,m,o,T),Ls=!1;var fe=n.memoizedState;m.state=fe,fu(n,o,m,h),hu(),ue=n.memoizedState,M||fe!==ue||Ls?(typeof Se=="function"&&(hd(n,a,Se,o),ue=n.memoizedState),(Y=Ls||ay(n,a,Y,o,fe,ue,T))?(_e||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ue),m.props=o,m.state=ue,m.context=T,o=Y):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Ff(t,n),T=n.memoizedProps,_e=ko(a,T),m.props=_e,Se=n.pendingProps,fe=m.context,ue=a.contextType,Y=Lr,typeof ue=="object"&&ue!==null&&(Y=ji(ue)),M=a.getDerivedStateFromProps,(ue=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Se||fe!==Y)&&sy(n,m,o,Y),Ls=!1,fe=n.memoizedState,m.state=fe,fu(n,o,m,h),hu();var pe=n.memoizedState;T!==Se||fe!==pe||Ls||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof M=="function"&&(hd(n,a,M,o),pe=n.memoizedState),(_e=Ls||ay(n,a,_e,o,fe,pe,Y)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(ue||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,pe,Y),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,pe,Y)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=pe),m.props=o,m.state=pe,m.context=Y,o=_e):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Uc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Oo(n,t.child,null,h),n.child=Oo(n,null,a,h)):zi(t,n,a,h),n.memoizedState=m.state,t=n.child):t=os(t,n,h),t}function wy(t,n,a,o){return Ro(),n.flags|=256,zi(t,n,a,o),n.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:cg()}}function vd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Br),t}function Ey(t,n,a){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(oi.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(tn){if(h?zs(n):Bs(),(t=Fn)?(t=Mv(t,ea),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Da,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},a=tg(t),a.return=n,n.child=a,Ui=n,Fn=null)):t=null,t===null)throw ks(n);return em(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,h?(Bs(),h=n.mode,M=jc({mode:"hidden",children:M},h),o=Co(o,h,a,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=yd(a),o.childLanes=vd(t,T,a),n.memoizedState=gd,yu(null,o)):(zs(n),_d(n,M))}var Y=t.memoizedState;if(Y!==null&&(M=Y.dehydrated,M!==null)){if(m)n.flags&256?(zs(n),n.flags&=-257,n=bd(t,n,a)):n.memoizedState!==null?(Bs(),n.child=t.child,n.flags|=128,n=null):(Bs(),M=o.fallback,h=n.mode,o=jc({mode:"visible",children:o.children},h),M=Co(M,h,a,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Oo(n,t.child,null,a),o=n.child,o.memoizedState=yd(a),o.childLanes=vd(t,T,a),n.memoizedState=gd,n=yu(null,o));else if(zs(n),em(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var ue=T.dgst;T=ue,o=Error(s(419)),o.stack="",o.digest=T,au({value:o,source:null,stack:null}),n=bd(t,n,a)}else if(di||sl(t,n,a,!1),T=(a&t.childLanes)!==0,di||T){if(T=kn,T!==null&&(o=pr(T,a),o!==0&&o!==Y.retryLane))throw Y.retryLane=o,dr(t,o),Ir(T,t,o),md;Zd(M)||Qc(),n=bd(t,n,a)}else Zd(M)?(n.flags|=192,n.child=t.child,n=null):(t=Y.treeContext,Fn=na(M.nextSibling),Ui=n,tn=!0,Vs=null,ea=!1,t!==null&&rg(n,t),n=_d(n,o.children),n.flags|=4096);return n}return h?(Bs(),M=o.fallback,h=n.mode,Y=t.child,ue=Y.sibling,o=ts(Y,{mode:"hidden",children:o.children}),o.subtreeFlags=Y.subtreeFlags&65011712,ue!==null?M=ts(ue,M):(M=Co(M,h,a,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,yu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=yd(a):(h=M.cachePool,h!==null?(Y=hi._currentValue,h=h.parent!==Y?{parent:Y,pool:Y}:h):h=cg(),M={baseLanes:M.baseLanes|a,cachePool:h}),o.memoizedState=M,o.childLanes=vd(t,T,a),n.memoizedState=gd,yu(t.child,o)):(zs(n),a=t.child,t=a.sibling,a=ts(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=a,n.memoizedState=null,a)}function _d(t,n){return n=jc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function jc(t,n){return t=Ji(22,t,null,n),t.lanes=0,t}function bd(t,n,a){return Oo(n,t.child,null,a),t=_d(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ty(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),kf(t.return,n,a)}function wd(t,n,a,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function Ay(t,n,a){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=oi.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Ee(oi,T),zi(t,n,o,a),o=tn?ru:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,n);else if(t.tag===19)Ty(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),wd(n,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Rc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}wd(n,!0,a,null,m,o);break;case"together":wd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function os(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),qs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(sl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ts(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ts(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ed(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function U1(t,n,a){switch(n.tag){case 3:dt(n,n.stateNode.containerInfo),Ps(n,hi,t.memoizedState.cache),Ro();break;case 27:case 5:Ot(n);break;case 4:dt(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ey(t,n,a):(zs(n),t=os(t,n,a),t!==null?t.sibling:null);zs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(sl(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ay(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ee(oi,oi.current),o)break;return null;case 22:return n.lanes=0,gy(t,n,a,n.pendingProps);case 24:Ps(n,hi,t.memoizedState.cache)}return os(t,n,a)}function Sy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)di=!0;else{if(!Ed(t,a)&&(n.flags&128)===0)return di=!1,U1(t,n,a);di=(t.flags&131072)!==0}else di=!1,tn&&(n.flags&1048576)!==0&&ig(n,ru,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=No(n.elementType),n.type=t,typeof t=="function")Rf(t)?(o=ko(t,o),n.tag=1,n=by(null,n,t,o,a)):(n.tag=0,n=pd(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Xe){n.tag=11,n=dy(null,n,t,o,a);break e}else if(h===q){n.tag=14,n=my(null,n,t,o,a);break e}}throw n=Q(t)||t,Error(s(306,n,""))}}return n;case 0:return pd(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ko(o,n.pendingProps),by(t,n,o,h,a);case 3:e:{if(dt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,Ff(t,n),fu(n,o,null,a);var T=n.memoizedState;if(o=T.cache,Ps(n,hi,o),o!==m.cache&&Pf(n,[hi],a,!0),hu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=wy(t,n,o,a);break e}else if(o!==h){h=$r(Error(s(424)),n),au(h),n=wy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fn=na(t.firstChild),Ui=n,tn=!0,Vs=null,ea=!0,a=gg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ro(),o===h){n=os(t,n,a);break e}zi(t,n,o,a)}n=n.child}return n;case 26:return Uc(t,n),t===null?(a=Pv(n.type,null,n.pendingProps,null))?n.memoizedState=a:tn||(a=n.type,t=n.pendingProps,o=th(He.current).createElement(a),o[vn]=n,o[Jn]=t,Bi(o,a,t),Pn(o),n.stateNode=o):n.memoizedState=Pv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ot(n),t===null&&tn&&(o=n.stateNode=Ov(n.type,n.pendingProps,He.current),Ui=n,ea=!0,h=Fn,Ks(n.type)?(tm=h,Fn=na(o.firstChild)):Fn=h),zi(t,n,n.pendingProps.children,a),Uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&tn&&((h=o=Fn)&&(o=mE(o,n.type,n.pendingProps,ea),o!==null?(n.stateNode=o,Ui=n,Fn=na(o.firstChild),ea=!1,h=!0):h=!1),h||ks(n)),Ot(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Wd(h,m)?o=null:T!==null&&Wd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=Kf(t,n,x1,null,null,a),Du._currentValue=h),Uc(t,n),zi(t,n,o,a),n.child;case 6:return t===null&&tn&&((t=a=Fn)&&(a=pE(a,n.pendingProps,ea),a!==null?(n.stateNode=a,Ui=n,Fn=null,t=!0):t=!1),t||ks(n)),null;case 13:return Ey(t,n,a);case 4:return dt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Oo(n,null,o,a):zi(t,n,o,a),n.child;case 11:return dy(t,n,n.type,n.pendingProps,a);case 7:return zi(t,n,n.pendingProps,a),n.child;case 8:return zi(t,n,n.pendingProps.children,a),n.child;case 12:return zi(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ps(n,n.type,o.value),zi(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,xo(n),h=ji(h),o=o(h),n.flags|=1,zi(t,n,o,a),n.child;case 14:return my(t,n,n.type,n.pendingProps,a);case 15:return py(t,n,n.type,n.pendingProps,a);case 19:return Ay(t,n,a);case 31:return L1(t,n,a);case 22:return gy(t,n,a,n.pendingProps);case 24:return xo(n),o=ji(hi),t===null?(h=jf(),h===null&&(h=kn,m=Lf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:o,cache:h},Bf(n),Ps(n,hi,h)):((t.lanes&a)!==0&&(Ff(t,n),fu(n,null,null,a),hu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,hi,o)):(o=m.cache,Ps(n,hi,o),o!==h.cache&&Pf(n,[hi],a,!0))),zi(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ls(t){t.flags|=4}function Td(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Jy())t.flags|=8192;else throw Do=Tc,zf}else t.flags&=-16777217}function Cy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Bv(n))if(Jy())t.flags|=8192;else throw Do=Tc,zf}function zc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?vt():536870912,t.lanes|=n,vl|=n)}function vu(t,n){if(!tn)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Hn(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function j1(t,n,a){var o=n.pendingProps;switch(Nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(n),null;case 1:return Hn(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),rs(hi),bt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(al(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Of())),Hn(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(ls(n),m!==null?(Hn(n),Cy(n,m)):(Hn(n),Td(n,h,null,o,a))):m?m!==t.memoizedState?(ls(n),Hn(n),Cy(n,m)):(Hn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ls(n),Hn(n),Td(n,h,t,o,a)),null;case 27:if(un(n),a=He.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Hn(n),null}t=ge.current,al(n)?ag(n):(t=Ov(h,o,a),n.stateNode=t,ls(n))}return Hn(n),null;case 5:if(un(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Hn(n),null}if(m=ge.current,al(n))ag(n);else{var T=th(He.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[vn]=n,m[Jn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Bi(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ls(n)}}return Hn(n),Td(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=He.current,al(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Ui,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[vn]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ev(t.nodeValue,a)),t||ks(n,!0)}else t=th(t).createTextNode(o),t[vn]=n,n.stateNode=t}return Hn(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=al(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vn]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Hn(n),t=!1}else a=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(jr(n),n):(jr(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Hn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=al(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vn]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Hn(n),h=!1}else h=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jr(n),n):(jr(n),null)}return jr(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),zc(n,n.updateQueue),Hn(n),null);case 4:return bt(),t===null&&Gd(n.stateNode.containerInfo),Hn(n),null;case 10:return rs(n.type),Hn(n),null;case 19:if(K(oi),o=n.memoizedState,o===null)return Hn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)vu(o,!1);else{if(ni!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Rc(t),m!==null){for(n.flags|=128,vu(o,!1),t=m.updateQueue,n.updateQueue=t,zc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)eg(a,t),a=a.sibling;return Ee(oi,oi.current&1|2),tn&&ns(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Gt()>Gc&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304)}else{if(!h)if(t=Rc(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,zc(n,t),vu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!tn)return Hn(n),null}else 2*Gt()-o.renderingStartTime>Gc&&a!==536870912&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Gt(),t.sibling=null,a=oi.current,Ee(oi,h?a&1|2:a&1),tn&&ns(n,o.treeForkCount),t):(Hn(n),null);case 22:case 23:return jr(n),Yf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Hn(n),n.subtreeFlags&6&&(n.flags|=8192)):Hn(n),a=n.updateQueue,a!==null&&zc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&K(Mo),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),rs(hi),Hn(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function z1(t,n){switch(Nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(hi),bt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return un(n),null;case 31:if(n.memoizedState!==null){if(jr(n),n.alternate===null)throw Error(s(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(oi),null;case 4:return bt(),null;case 10:return rs(n.type),null;case 22:case 23:return jr(n),Yf(),t!==null&&K(Mo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(hi),null;case 25:return null;default:return null}}function Ry(t,n){switch(Nf(n),n.tag){case 3:rs(hi),bt();break;case 26:case 27:case 5:un(n);break;case 4:bt();break;case 31:n.memoizedState!==null&&jr(n);break;case 13:jr(n);break;case 19:K(oi);break;case 10:rs(n.type);break;case 22:case 23:jr(n),Yf(),t!==null&&K(Mo);break;case 24:rs(hi)}}function _u(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,T=a.inst;o=m(),T.destroy=o}a=a.next}while(a!==h)}}catch(M){Sn(n,n.return,M)}}function Fs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,h=n;var Y=a,ue=M;try{ue()}catch(_e){Sn(h,Y,_e)}}}o=o.next}while(o!==m)}}catch(_e){Sn(n,n.return,_e)}}function Iy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{vg(n,a)}catch(o){Sn(t,t.return,o)}}}function xy(t,n,a){a.props=ko(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Sn(t,n,o)}}function bu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Sn(t,n,h)}}function Va(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Sn(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Sn(t,n,h)}else a.current=null}function My(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Sn(t,t.return,h)}}function Ad(t,n,a){try{var o=t.stateNode;lE(o,t.type,a,n),o[Jn]=n}catch(h){Sn(t,t.return,h)}}function Ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Rn));else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Cd(t,n,a),t=t.sibling;t!==null;)Cd(t,n,a),t=t.sibling}function Bc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bc(t,n,a),t=t.sibling;t!==null;)Bc(t,n,a),t=t.sibling}function Dy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Bi(n,o,a),n[vn]=t,n[Jn]=a}catch(m){Sn(t,t.return,m)}}var us=!1,mi=!1,Rd=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Si=null;function B1(t,n){if(t=t.containerInfo,Qd=lh,t=ee(t),je(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,M=-1,Y=-1,ue=0,_e=0,Se=t,fe=null;t:for(;;){for(var pe;Se!==a||h!==0&&Se.nodeType!==3||(M=T+h),Se!==m||o!==0&&Se.nodeType!==3||(Y=T+o),Se.nodeType===3&&(T+=Se.nodeValue.length),(pe=Se.firstChild)!==null;)fe=Se,Se=pe;for(;;){if(Se===t)break t;if(fe===a&&++ue===h&&(M=T),fe===m&&++_e===o&&(Y=T),(pe=Se.nextSibling)!==null)break;Se=fe,fe=Se.parentNode}Se=pe}a=M===-1||Y===-1?null:{start:M,end:Y}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kd={focusedElem:t,selectionRange:a},lh=!1,Si=n;Si!==null;)if(n=Si,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Si=t;else for(;Si!==null;){switch(n=Si,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var st=ko(a.type,h);t=o.getSnapshotBeforeUpdate(st,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Sn(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Si=t;break}Si=n.return}}function Vy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hs(t,a),o&4&&_u(5,a);break;case 1:if(hs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){Sn(a,a.return,T)}else{var h=ko(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Sn(a,a.return,T)}}o&64&&Iy(a),o&512&&bu(a,a.return);break;case 3:if(hs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{vg(t,n)}catch(T){Sn(a,a.return,T)}}break;case 27:n===null&&o&4&&Dy(a);case 26:case 5:hs(t,a),n===null&&o&4&&My(a),o&512&&bu(a,a.return);break;case 12:hs(t,a);break;case 31:hs(t,a),o&4&&Ly(t,a);break;case 13:hs(t,a),o&4&&Uy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=W1.bind(null,a),gE(t,a))));break;case 22:if(o=a.memoizedState!==null||us,!o){n=n!==null&&n.memoizedState!==null||mi,h=us;var m=mi;us=o,(mi=n)&&!m?fs(t,a,(a.subtreeFlags&8772)!==0):hs(t,a),us=h,mi=m}break;case 30:break;default:hs(t,a)}}function ky(t){var n=t.alternate;n!==null&&(t.alternate=null,ky(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Mi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qn=null,Ar=!1;function cs(t,n,a){for(a=a.child;a!==null;)Py(t,n,a),a=a.sibling}function Py(t,n,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Qe,a)}catch{}switch(a.tag){case 26:mi||Va(a,n),cs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mi||Va(a,n);var o=Qn,h=Ar;Ks(a.type)&&(Qn=a.stateNode,Ar=!1),cs(t,n,a),xu(a.stateNode),Qn=o,Ar=h;break;case 5:mi||Va(a,n);case 6:if(o=Qn,h=Ar,Qn=null,cs(t,n,a),Qn=o,Ar=h,Qn!==null)if(Ar)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(a.stateNode)}catch(m){Sn(a,n,m)}else try{Qn.removeChild(a.stateNode)}catch(m){Sn(a,n,m)}break;case 18:Qn!==null&&(Ar?(t=Qn,Iv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):Iv(Qn,a.stateNode));break;case 4:o=Qn,h=Ar,Qn=a.stateNode.containerInfo,Ar=!0,cs(t,n,a),Qn=o,Ar=h;break;case 0:case 11:case 14:case 15:Fs(2,a,n),mi||Fs(4,a,n),cs(t,n,a);break;case 1:mi||(Va(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&xy(a,n,o)),cs(t,n,a);break;case 21:cs(t,n,a);break;case 22:mi=(o=mi)||a.memoizedState!==null,cs(t,n,a),mi=o;break;default:cs(t,n,a)}}function Ly(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(a){Sn(n,n.return,a)}}}function Uy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){Sn(n,n.return,a)}}function F1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Oy),n;default:throw Error(s(435,t.tag))}}function Fc(t,n){var a=F1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=$1.bind(null,t,o);o.then(h,h)}})}function Sr(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(Ks(M.type)){Qn=M.stateNode,Ar=!1;break e}break;case 5:Qn=M.stateNode,Ar=!1;break e;case 3:case 4:Qn=M.stateNode.containerInfo,Ar=!0;break e}M=M.return}if(Qn===null)throw Error(s(160));Py(m,T,h),Qn=null,Ar=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jy(n,t),n=n.sibling}var ya=null;function jy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sr(n,t),Cr(t),o&4&&(Fs(3,t,t.return),_u(3,t),Fs(5,t,t.return));break;case 1:Sr(n,t),Cr(t),o&512&&(mi||a===null||Va(a,a.return)),o&64&&us&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ya;if(Sr(n,t),Cr(t),o&512&&(mi||a===null||Va(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[or]||m[vn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Bi(m,o,a),m[vn]=t,Pn(m),o=m;break e;case"link":var T=jv("link","href",h).get(o+(a.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(M,1);break t}}m=h.createElement(o),Bi(m,o,a),h.head.appendChild(m);break;case"meta":if(T=jv("meta","content",h).get(o+(a.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(M,1);break t}}m=h.createElement(o),Bi(m,o,a),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[vn]=t,Pn(m),o=m}t.stateNode=o}else zv(h,t.type,t.stateNode);else t.stateNode=Uv(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?zv(h,t.type,t.stateNode):Uv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sr(n,t),Cr(t),o&512&&(mi||a===null||Va(a,a.return)),a!==null&&o&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sr(n,t),Cr(t),o&512&&(mi||a===null||Va(a,a.return)),t.flags&32){h=t.stateNode;try{Ae(h,"")}catch(st){Sn(t,t.return,st)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Rd=!0);break;case 6:if(Sr(n,t),Cr(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(st){Sn(t,t.return,st)}}break;case 3:if(rh=null,h=ya,ya=nh(n.containerInfo),Sr(n,t),ya=h,Cr(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(st){Sn(t,t.return,st)}Rd&&(Rd=!1,zy(t));break;case 4:o=ya,ya=nh(t.stateNode.containerInfo),Sr(n,t),Cr(t),ya=o;break;case 12:Sr(n,t),Cr(t);break;case 31:Sr(n,t),Cr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 13:Sr(n,t),Cr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qc=Gt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 22:h=t.memoizedState!==null;var Y=a!==null&&a.memoizedState!==null,ue=us,_e=mi;if(us=ue||h,mi=_e||Y,Sr(n,t),mi=_e,us=ue,Cr(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||Y||us||mi||Po(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){Y=a=n;try{if(m=Y.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=Y.stateNode;var Se=Y.memoizedProps.style,fe=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;M.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(st){Sn(Y,Y.return,st)}}}else if(n.tag===6){if(a===null){Y=n;try{Y.stateNode.nodeValue=h?"":Y.memoizedProps}catch(st){Sn(Y,Y.return,st)}}}else if(n.tag===18){if(a===null){Y=n;try{var pe=Y.stateNode;h?xv(pe,!0):xv(Y.stateNode,!1)}catch(st){Sn(Y,Y.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Fc(t,a))));break;case 19:Sr(n,t),Cr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 30:break;case 21:break;default:Sr(n,t),Cr(t)}}function Cr(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ny(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Sd(t);Bc(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(Ae(T,""),a.flags&=-33);var M=Sd(t);Bc(t,M,T);break;case 3:case 4:var Y=a.stateNode.containerInfo,ue=Sd(t);Cd(t,ue,Y);break;default:throw Error(s(161))}}catch(_e){Sn(t,t.return,_e)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vy(t,n.alternate,n),n=n.sibling}function Po(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),Po(n);break;case 1:Va(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&xy(n,n.return,a),Po(n);break;case 27:xu(n.stateNode);case 26:case 5:Va(n,n.return),Po(n);break;case 22:n.memoizedState===null&&Po(n);break;case 30:Po(n);break;default:Po(n)}t=t.sibling}}function fs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:fs(h,m,a),_u(4,m);break;case 1:if(fs(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ue){Sn(o,o.return,ue)}if(o=m,h=o.updateQueue,h!==null){var M=o.stateNode;try{var Y=h.shared.hiddenCallbacks;if(Y!==null)for(h.shared.hiddenCallbacks=null,h=0;h<Y.length;h++)yg(Y[h],M)}catch(ue){Sn(o,o.return,ue)}}a&&T&64&&Iy(m),bu(m,m.return);break;case 27:Dy(m);case 26:case 5:fs(h,m,a),a&&o===null&&T&4&&My(m),bu(m,m.return);break;case 12:fs(h,m,a);break;case 31:fs(h,m,a),a&&T&4&&Ly(h,m);break;case 13:fs(h,m,a),a&&T&4&&Uy(h,m);break;case 22:m.memoizedState===null&&fs(h,m,a),bu(m,m.return);break;case 30:break;default:fs(h,m,a)}n=n.sibling}}function Id(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&su(a))}function xd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t))}function va(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)By(t,n,a,o),n=n.sibling}function By(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:va(t,n,a,o),h&2048&&_u(9,n);break;case 1:va(t,n,a,o);break;case 3:va(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t)));break;case 12:if(h&2048){va(t,n,a,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Y){Sn(n,n.return,Y)}}else va(t,n,a,o);break;case 31:va(t,n,a,o);break;case 13:va(t,n,a,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?va(t,n,a,o):wu(t,n):m._visibility&2?va(t,n,a,o):(m._visibility|=2,pl(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Id(T,n);break;case 24:va(t,n,a,o),h&2048&&xd(n.alternate,n);break;default:va(t,n,a,o)}}function pl(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=a,Y=o,ue=T.flags;switch(T.tag){case 0:case 11:case 15:pl(m,T,M,Y,h),_u(8,T);break;case 23:break;case 22:var _e=T.stateNode;T.memoizedState!==null?_e._visibility&2?pl(m,T,M,Y,h):wu(m,T):(_e._visibility|=2,pl(m,T,M,Y,h)),h&&ue&2048&&Id(T.alternate,T);break;case 24:pl(m,T,M,Y,h),h&&ue&2048&&xd(T.alternate,T);break;default:pl(m,T,M,Y,h)}n=n.sibling}}function wu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:wu(a,o),h&2048&&Id(o.alternate,o);break;case 24:wu(a,o),h&2048&&xd(o.alternate,o);break;default:wu(a,o)}n=n.sibling}}var Eu=8192;function gl(t,n,a){if(t.subtreeFlags&Eu)for(t=t.child;t!==null;)Fy(t,n,a),t=t.sibling}function Fy(t,n,a){switch(t.tag){case 26:gl(t,n,a),t.flags&Eu&&t.memoizedState!==null&&IE(a,ya,t.memoizedState,t.memoizedProps);break;case 5:gl(t,n,a);break;case 3:case 4:var o=ya;ya=nh(t.stateNode.containerInfo),gl(t,n,a),ya=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Eu,Eu=16777216,gl(t,n,a),Eu=o):gl(t,n,a));break;default:gl(t,n,a)}}function Hy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Si=o,Gy(o,t)}Hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 0:case 11:case 15:Tu(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:Tu(t);break;case 12:Tu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Hc(t)):Tu(t);break;default:Tu(t)}}function Hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Si=o,Gy(o,t)}Hy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),Hc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(n));break;default:Hc(n)}t=t.sibling}}function Gy(t,n){for(;Si!==null;){var a=Si;switch(a.tag){case 0:case 11:case 15:Fs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:su(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Si=o;else e:for(a=t;Si!==null;){o=Si;var h=o.sibling,m=o.return;if(ky(o),o===a){Si=null;break e}if(h!==null){h.return=m,Si=h;break e}Si=m}}}var H1={getCacheForType:function(t){var n=ji(hi),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ji(hi).controller.signal}},q1=typeof WeakMap=="function"?WeakMap:Map,yn=0,kn=null,Ht=null,Qt=0,An=0,zr=null,Hs=!1,yl=!1,Md=!1,ds=0,ni=0,qs=0,Lo=0,Nd=0,Br=0,vl=0,Au=null,Rr=null,Dd=!1,qc=0,Yy=0,Gc=1/0,Yc=null,Gs=null,wi=0,Ys=null,_l=null,ms=0,Od=0,Vd=null,Xy=null,Su=0,kd=null;function Fr(){return(yn&2)!==0&&Qt!==0?Qt&-Qt:G.T!==null?Bd():Ta()}function Qy(){if(Br===0)if((Qt&536870912)===0||tn){var t=Wn;Wn<<=1,(Wn&3932160)===0&&(Wn=262144),Br=t}else Br=536870912;return t=Ur.current,t!==null&&(t.flags|=32),Br}function Ir(t,n,a){(t===kn&&(An===2||An===9)||t.cancelPendingCommit!==null)&&(bl(t,0),Xs(t,Qt,Br,!1)),Rt(t,a),((yn&2)===0||t!==kn)&&(t===kn&&((yn&2)===0&&(Lo|=a),ni===4&&Xs(t,Qt,Br,!1)),ka(t))}function Ky(t,n,a){if((yn&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Yn(t,n),h=o?X1(t,n):Ld(t,n,!0),m=o;do{if(h===0){yl&&!o&&Xs(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!G1(a)){h=Ld(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;h=Au;var Y=M.current.memoizedState.isDehydrated;if(Y&&(bl(M,T).flags|=256),T=Ld(M,T,!1),T!==2){if(Md&&!Y){M.errorRecoveryDisabledLanes|=m,Lo|=m,h=4;break e}m=Rr,Rr=h,m!==null&&(Rr===null?Rr=m:Rr.push.apply(Rr,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){bl(t,0),Xs(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Xs(o,n,Br,!Hs);break e;case 2:Rr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=qc+300-Gt(),10<h)){if(Xs(o,n,Br,!Hs),On(o,0,!0)!==0)break e;ms=n,o.timeoutHandle=Cv(Wy.bind(null,o,a,Rr,Yc,Dd,n,Br,Lo,vl,Hs,m,"Throttled",-0,0),h);break e}Wy(o,a,Rr,Yc,Dd,n,Br,Lo,vl,Hs,m,null,-0,0)}}break}while(!0);ka(t)}function Wy(t,n,a,o,h,m,T,M,Y,ue,_e,Se,fe,pe){if(t.timeoutHandle=-1,Se=n.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},Fy(n,m,Se);var st=(m&62914560)===m?qc-Gt():(m&4194048)===m?Yy-Gt():0;if(st=xE(Se,st),st!==null){ms=m,t.cancelPendingCommit=st(rv.bind(null,t,n,m,a,o,h,T,M,Y,_e,Se,null,fe,pe)),Xs(t,m,T,!ue);return}}rv(t,n,m,a,o,h,T,M,Y)}function G1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!ce(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(t,n,a,o){n&=~Nd,n&=~Lo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-rt(h),T=1<<m;o[m]=-1,h&=~T}a!==0&&Ii(t,a,n)}function Xc(){return(yn&6)===0?(Cu(0),!1):!0}function Pd(){if(Ht!==null){if(An===0)var t=Ht.return;else t=Ht,is=Io=null,Jf(t),cl=null,lu=0,t=Ht;for(;t!==null;)Ry(t.alternate,t),t=t.return;Ht=null}}function bl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ms=0,Pd(),kn=t,Ht=a=ts(t.current,null),Qt=n,An=0,zr=null,Hs=!1,yl=Yn(t,n),Md=!1,vl=Br=Nd=Lo=qs=ni=0,Rr=Au=null,Dd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-rt(o),m=1<<h;n|=t[h],o&=~m}return ds=n,Ma(),a}function $y(t,n){kt=null,G.H=gu,n===ul||n===Ec?(n=dg(),An=3):n===zf?(n=dg(),An=4):An=n===md?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zr=n,Ht===null&&(ni=1,Pc(t,$r(n,t.current)))}function Jy(){var t=Ur.current;return t===null?!0:(Qt&4194048)===Qt?ta===null:(Qt&62914560)===Qt||(Qt&536870912)!==0?t===ta:!1}function Zy(){var t=G.H;return G.H=gu,t===null?gu:t}function ev(){var t=G.A;return G.A=H1,t}function Qc(){ni=4,Hs||(Qt&4194048)!==Qt&&Ur.current!==null||(yl=!0),(qs&134217727)===0&&(Lo&134217727)===0||kn===null||Xs(kn,Qt,Br,!1)}function Ld(t,n,a){var o=yn;yn|=2;var h=Zy(),m=ev();(kn!==t||Qt!==n)&&(Yc=null,bl(t,n)),n=!1;var T=ni;e:do try{if(An!==0&&Ht!==null){var M=Ht,Y=zr;switch(An){case 8:Pd(),T=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(n=!0);var ue=An;if(An=0,zr=null,wl(t,M,Y,ue),a&&yl){T=0;break e}break;default:ue=An,An=0,zr=null,wl(t,M,Y,ue)}}Y1(),T=ni;break}catch(_e){$y(t,_e)}while(!0);return n&&t.shellSuspendCounter++,is=Io=null,yn=o,G.H=h,G.A=m,Ht===null&&(kn=null,Qt=0,Ma()),T}function Y1(){for(;Ht!==null;)tv(Ht)}function X1(t,n){var a=yn;yn|=2;var o=Zy(),h=ev();kn!==t||Qt!==n?(Yc=null,Gc=Gt()+500,bl(t,n)):yl=Yn(t,n);e:do try{if(An!==0&&Ht!==null){n=Ht;var m=zr;t:switch(An){case 1:An=0,zr=null,wl(t,n,m,1);break;case 2:case 9:if(hg(m)){An=0,zr=null,nv(n);break}n=function(){An!==2&&An!==9||kn!==t||(An=7),ka(t)},m.then(n,n);break e;case 3:An=7;break e;case 4:An=5;break e;case 7:hg(m)?(An=0,zr=null,nv(n)):(An=0,zr=null,wl(t,n,m,7));break;case 5:var T=null;switch(Ht.tag){case 26:T=Ht.memoizedState;case 5:case 27:var M=Ht;if(T?Bv(T):M.stateNode.complete){An=0,zr=null;var Y=M.sibling;if(Y!==null)Ht=Y;else{var ue=M.return;ue!==null?(Ht=ue,Kc(ue)):Ht=null}break t}}An=0,zr=null,wl(t,n,m,5);break;case 6:An=0,zr=null,wl(t,n,m,6);break;case 8:Pd(),ni=6;break e;default:throw Error(s(462))}}Q1();break}catch(_e){$y(t,_e)}while(!0);return is=Io=null,G.H=o,G.A=h,yn=a,Ht!==null?0:(kn=null,Qt=0,Ma(),ni)}function Q1(){for(;Ht!==null&&!Gi();)tv(Ht)}function tv(t){var n=Sy(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?Kc(t):Ht=n}function nv(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=_y(a,n,n.pendingProps,n.type,void 0,Qt);break;case 11:n=_y(a,n,n.pendingProps,n.type.render,n.ref,Qt);break;case 5:Jf(n);default:Ry(a,n),n=Ht=eg(n,ds),n=Sy(a,n,ds)}t.memoizedProps=t.pendingProps,n===null?Kc(t):Ht=n}function wl(t,n,a,o){is=Io=null,Jf(n),cl=null,lu=0;var h=n.return;try{if(P1(t,h,n,a,Qt)){ni=1,Pc(t,$r(a,t.current)),Ht=null;return}}catch(m){if(h!==null)throw Ht=h,m;ni=1,Pc(t,$r(a,t.current)),Ht=null;return}n.flags&32768?(tn||o===1?t=!0:yl||(Qt&536870912)!==0?t=!1:(Hs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Ur.current,o!==null&&o.tag===13&&(o.flags|=16384))),iv(n,t)):Kc(n)}function Kc(t){var n=t;do{if((n.flags&32768)!==0){iv(n,Hs);return}t=n.return;var a=j1(n.alternate,n,ds);if(a!==null){Ht=a;return}if(n=n.sibling,n!==null){Ht=n;return}Ht=n=t}while(n!==null);ni===0&&(ni=5)}function iv(t,n){do{var a=z1(t.alternate,t);if(a!==null){a.flags&=32767,Ht=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ht=t;return}Ht=t=a}while(t!==null);ni=6,Ht=null}function rv(t,n,a,o,h,m,T,M,Y){t.cancelPendingCommit=null;do Wc();while(wi!==0);if((yn&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=nl,ar(t,a,m,T,M,Y),t===kn&&(Ht=kn=null,Qt=0),_l=n,Ys=t,ms=a,Od=m,Vd=h,Xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,J1(v,function(){return uv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=te.p,te.p=2,T=yn,yn|=4;try{B1(t,n,a)}finally{yn=T,te.p=h,G.T=o}}wi=1,av(),sv(),ov()}}function av(){if(wi===1){wi=0;var t=Ys,n=_l,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=te.p;te.p=2;var h=yn;yn|=4;try{jy(n,t);var m=Kd,T=ee(t.containerInfo),M=m.focusedElem,Y=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&at(M.ownerDocument.documentElement,M)){if(Y!==null&&je(M)){var ue=Y.start,_e=Y.end;if(_e===void 0&&(_e=ue),"selectionStart"in M)M.selectionStart=ue,M.selectionEnd=Math.min(_e,M.value.length);else{var Se=M.ownerDocument||document,fe=Se&&Se.defaultView||window;if(fe.getSelection){var pe=fe.getSelection(),st=M.textContent.length,_t=Math.min(Y.start,st),Dn=Y.end===void 0?_t:Math.min(Y.end,st);!pe.extend&&_t>Dn&&(T=Dn,Dn=_t,_t=T);var ne=Ke(M,_t),X=Ke(M,Dn);if(ne&&X&&(pe.rangeCount!==1||pe.anchorNode!==ne.node||pe.anchorOffset!==ne.offset||pe.focusNode!==X.node||pe.focusOffset!==X.offset)){var oe=Se.createRange();oe.setStart(ne.node,ne.offset),pe.removeAllRanges(),_t>Dn?(pe.addRange(oe),pe.extend(X.node,X.offset)):(oe.setEnd(X.node,X.offset),pe.addRange(oe))}}}}for(Se=[],pe=M;pe=pe.parentNode;)pe.nodeType===1&&Se.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Se.length;M++){var Te=Se[M];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}lh=!!Qd,Kd=Qd=null}finally{yn=h,te.p=o,G.T=a}}t.current=n,wi=2}}function sv(){if(wi===2){wi=0;var t=Ys,n=_l,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=te.p;te.p=2;var h=yn;yn|=4;try{Vy(t,n.alternate,n)}finally{yn=h,te.p=o,G.T=a}}wi=3}}function ov(){if(wi===4||wi===3){wi=0,Kn();var t=Ys,n=_l,a=ms,o=Xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?wi=5:(wi=0,_l=Ys=null,lv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gs=null),Ye(a),n=n.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Qe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=te.p,te.p=2,G.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{G.T=n,te.p=h}}(ms&3)!==0&&Wc(),ka(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===kd?Su++:(Su=0,kd=t):Su=0,Cu(0)}}function lv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,su(n)))}function Wc(){return av(),sv(),ov(),uv()}function uv(){if(wi!==5)return!1;var t=Ys,n=Od;Od=0;var a=Ye(ms),o=G.T,h=te.p;try{te.p=32>a?32:a,G.T=null,a=Vd,Vd=null;var m=Ys,T=ms;if(wi=0,_l=Ys=null,ms=0,(yn&6)!==0)throw Error(s(331));var M=yn;if(yn|=4,qy(m.current),By(m,m.current,T,a),yn=M,Cu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Qe,m)}catch{}return!0}finally{te.p=h,G.T=o,lv(t,n)}}function cv(t,n,a){n=$r(a,n),n=dd(t.stateNode,n,2),t=js(t,n,2),t!==null&&(Rt(t,2),ka(t))}function Sn(t,n,a){if(t.tag===3)cv(t,t,a);else for(;n!==null;){if(n.tag===3){cv(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gs===null||!Gs.has(o))){t=$r(a,t),a=hy(2),o=js(n,a,2),o!==null&&(fy(a,o,n,t),Rt(o,2),ka(o));break}}n=n.return}}function Ud(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new q1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Md=!0,h.add(a),t=K1.bind(null,t,n,a),n.then(t,t))}function K1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,kn===t&&(Qt&a)===a&&(ni===4||ni===3&&(Qt&62914560)===Qt&&300>Gt()-qc?(yn&2)===0&&bl(t,0):Nd|=a,vl===Qt&&(vl=0)),ka(t)}function hv(t,n){n===0&&(n=vt()),t=dr(t,n),t!==null&&(Rt(t,n),ka(t))}function W1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),hv(t,a)}function $1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),hv(t,a)}function J1(t,n){return sn(t,n)}var $c=null,El=null,jd=!1,Jc=!1,zd=!1,Qs=0;function ka(t){t!==El&&t.next===null&&(El===null?$c=El=t:El=El.next=t),Jc=!0,jd||(jd=!0,eE())}function Cu(t,n){if(!zd&&Jc){zd=!0;do for(var a=!1,o=$c;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-rt(42|t)+1)-1,m&=h&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,pv(o,m))}else m=Qt,m=On(o,o===kn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Yn(o,m)||(a=!0,pv(o,m));o=o.next}while(a);zd=!1}}function Z1(){fv()}function fv(){Jc=jd=!1;var t=0;Qs!==0&&cE()&&(t=Qs);for(var n=Gt(),a=null,o=$c;o!==null;){var h=o.next,m=dv(o,n);m===0?(o.next=null,a===null?$c=h:a.next=h,h===null&&(El=a)):(a=o,(t!==0||(m&3)!==0)&&(Jc=!0)),o=h}wi!==0&&wi!==5||Cu(t),Qs!==0&&(Qs=0)}function dv(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-rt(m),M=1<<T,Y=h[T];Y===-1?((M&a)===0||(M&o)!==0)&&(h[T]=rr(M,n)):Y<=n&&(t.expiredLanes|=M),m&=~M}if(n=kn,a=Qt,a=On(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(An===2||An===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&dn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&dn(o),Ye(a)){case 2:case 8:a=g;break;case 32:a=v;break;case 268435456:a=W;break;default:a=v}return o=mv.bind(null,t),a=sn(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&dn(o),t.callbackPriority=2,t.callbackNode=null,2}function mv(t,n){if(wi!==0&&wi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Wc()&&t.callbackNode!==a)return null;var o=Qt;return o=On(t,t===kn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ky(t,o,n),dv(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?mv.bind(null,t):null)}function pv(t,n){if(Wc())return null;Ky(t,n,!0)}function eE(){fE(function(){(yn&6)!==0?sn(C,Z1):fv()})}function Bd(){if(Qs===0){var t=ol;t===0&&(t=zn,zn<<=1,(zn&261888)===0&&(zn=256)),Qs=t}return Qs}function gv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pn(""+t)}function yv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function tE(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var m=gv((h[Jn]||null).action),T=o.submitter;T&&(n=(n=T[Jn]||null)?gv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new Kr("action","action",null,o,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var Y=T?yv(h,T):new FormData(h);od(a,{pending:!0,data:Y,method:h.method,action:m},null,Y)}}else typeof m=="function"&&(M.preventDefault(),Y=T?yv(h,T):new FormData(h),od(a,{pending:!0,data:Y,method:h.method,action:m},m,Y))},currentTarget:h}]})}}for(var Fd=0;Fd<fr.length;Fd++){var Hd=fr[Fd],nE=Hd.toLowerCase(),iE=Hd[0].toUpperCase()+Hd.slice(1);bn(nE,"on"+iE)}bn(De,"onAnimationEnd"),bn(qe,"onAnimationIteration"),bn(Ut,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(Xt,"onTransitionRun"),bn(Dt,"onTransitionStart"),bn(Ft,"onTransitionCancel"),bn(rn,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function vv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],Y=M.instance,ue=M.currentTarget;if(M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=ue;try{m(h)}catch(_e){Li(_e)}h.currentTarget=null,m=Y}else for(T=0;T<o.length;T++){if(M=o[T],Y=M.instance,ue=M.currentTarget,M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=ue;try{m(h)}catch(_e){Li(_e)}h.currentTarget=null,m=Y}}}}function qt(t,n){var a=n[Mr];a===void 0&&(a=n[Mr]=new Set);var o=t+"__bubble";a.has(o)||(_v(n,t,2,!1),a.add(o))}function qd(t,n,a){var o=0;n&&(o|=4),_v(a,t,o,n)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Zc]){t[Zc]=!0,Yr.forEach(function(a){a!=="selectionchange"&&(rE.has(a)||qd(a,!1,t),qd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Zc]||(n[Zc]=!0,qd("selectionchange",!1,n))}}function _v(t,n,a,o){switch(Qv(n)){case 2:var h=DE;break;case 8:h=OE;break;default:h=sm}a=h.bind(null,n,a,t),h=void 0,!Xr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Yd(t,n,a,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===h)break;if(T===4)for(T=o.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;M!==null;){if(T=Ni(M),T===null)return;if(Y=T.tag,Y===5||Y===6||Y===26||Y===27){o=m=T;continue e}M=M.parentNode}}o=o.return}_r(function(){var ue=m,_e=ri(a),Se=[];e:{var fe=ln.get(t);if(fe!==void 0){var pe=Kr,st=t;switch(t){case"keypress":if(da(a)===0)break e;case"keydown":case"keyup":pe=To;break;case"focusin":st="focus",pe=Ia;break;case"focusout":st="blur",pe=Ia;break;case"beforeblur":case"afterblur":pe=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=y;break;case De:case qe:case Ut:pe=Wo;break;case rn:pe=O;break;case"scroll":case"scrollend":pe=Eo;break;case"wheel":pe=de;break;case"copy":case"cut":case"paste":pe=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=pa;break;case"toggle":case"beforetoggle":pe=Ct}var _t=(n&4)!==0,Dn=!_t&&(t==="scroll"||t==="scrollend"),ne=_t?fe!==null?fe+"Capture":null:fe;_t=[];for(var X=ue,oe;X!==null;){var Te=X;if(oe=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||oe===null||ne===null||(Te=ki(X,ne),Te!=null&&_t.push(Iu(X,Te,oe))),Dn)break;X=X.return}0<_t.length&&(fe=new pe(fe,st,null,a,_e),Se.push({event:fe,listeners:_t}))}}if((n&7)===0){e:{if(fe=t==="mouseover"||t==="pointerover",pe=t==="mouseout"||t==="pointerout",fe&&a!==In&&(st=a.relatedTarget||a.fromElement)&&(Ni(st)||st[sr]))break e;if((pe||fe)&&(fe=_e.window===_e?_e:(fe=_e.ownerDocument)?fe.defaultView||fe.parentWindow:window,pe?(st=a.relatedTarget||a.toElement,pe=ue,st=st?Ni(st):null,st!==null&&(Dn=c(st),_t=st.tag,st!==Dn||_t!==5&&_t!==27&&_t!==6)&&(st=null)):(pe=null,st=ue),pe!==st)){if(_t=Is,Te="onMouseLeave",ne="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(_t=pa,Te="onPointerLeave",ne="onPointerEnter",X="pointer"),Dn=pe==null?fe:Oi(pe),oe=st==null?fe:Oi(st),fe=new _t(Te,X+"leave",pe,a,_e),fe.target=Dn,fe.relatedTarget=oe,Te=null,Ni(_e)===ue&&(_t=new _t(ne,X+"enter",st,a,_e),_t.target=oe,_t.relatedTarget=Dn,Te=_t),Dn=Te,pe&&st)t:{for(_t=aE,ne=pe,X=st,oe=0,Te=ne;Te;Te=_t(Te))oe++;Te=0;for(var gt=X;gt;gt=_t(gt))Te++;for(;0<oe-Te;)ne=_t(ne),oe--;for(;0<Te-oe;)X=_t(X),Te--;for(;oe--;){if(ne===X||X!==null&&ne===X.alternate){_t=ne;break t}ne=_t(ne),X=_t(X)}_t=null}else _t=null;pe!==null&&bv(Se,fe,pe,_t,!1),st!==null&&Dn!==null&&bv(Se,Dn,st,_t,!0)}}e:{if(fe=ue?Oi(ue):window,pe=fe.nodeName&&fe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&fe.type==="file")var hn=tu;else if(eu(fe))if(nu)hn=$;else{hn=N;var lt=S}else pe=fe.nodeName,!pe||pe.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ue&&pt(ue.elementType)&&(hn=tu):hn=B;if(hn&&(hn=hn(t,ue))){Bn(Se,hn,a,_e);break e}lt&&lt(t,fe,ue),t==="focusout"&&ue&&fe.type==="number"&&ue.memoizedProps.value!=null&&J(fe,"number",fe.value)}switch(lt=ue?Oi(ue):window,t){case"focusin":(eu(lt)||lt.contentEditable==="true")&&(ze=lt,cn=ue,We=null);break;case"focusout":We=cn=ze=null;break;case"mousedown":Lt=!0;break;case"contextmenu":case"mouseup":case"dragend":Lt=!1,_n(Se,a,_e);break;case"selectionchange":if(tt)break;case"keydown":case"keyup":_n(Se,a,_e)}var Pt;if(on)e:{switch(t){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else $a?Wr(t,a)&&(Kt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Kt="onCompositionStart");Kt&&(wr&&a.locale!=="ko"&&($a||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&$a&&(Pt=Ca()):(Qr=_e,Wi="value"in Qr?Qr.value:Qr.textContent,$a=!0)),lt=eh(ue,Kt),0<lt.length&&(Kt=new kr(Kt,t,null,a,_e),Se.push({event:Kt,listeners:lt}),Pt?Kt.data=Pt:(Pt=Wa(a),Pt!==null&&(Kt.data=Pt)))),(Pt=$i?Sf(t,a):pc(t,a))&&(Kt=eh(ue,"onBeforeInput"),0<Kt.length&&(lt=new kr("onBeforeInput","beforeinput",null,a,_e),Se.push({event:lt,listeners:Kt}),lt.data=Pt)),tE(Se,t,ue,a,_e)}vv(Se,n)})}function Iu(t,n,a){return{instance:t,listener:n,currentTarget:a}}function eh(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ki(t,a),h!=null&&o.unshift(Iu(t,h,m)),h=ki(t,n),h!=null&&o.push(Iu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function aE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bv(t,n,a,o,h){for(var m=n._reactName,T=[];a!==null&&a!==o;){var M=a,Y=M.alternate,ue=M.stateNode;if(M=M.tag,Y!==null&&Y===o)break;M!==5&&M!==26&&M!==27||ue===null||(Y=ue,h?(ue=ki(a,m),ue!=null&&T.unshift(Iu(a,ue,Y))):h||(ue=ki(a,m),ue!=null&&T.push(Iu(a,ue,Y)))),a=a.return}T.length!==0&&t.push({event:n,listeners:T})}var sE=/\r\n?/g,oE=/\u0000|\uFFFD/g;function wv(t){return(typeof t=="string"?t:""+t).replace(sE,`
`).replace(oE,"")}function Ev(t,n){return n=wv(n),wv(t)===n}function Nn(t,n,a,o,h,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Ae(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Ae(t,""+o);break;case"className":Ai(t,"class",o);break;case"tabIndex":Ai(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ai(t,a,o);break;case"style":Pe(t,o,m);break;case"data":if(n!=="object"){Ai(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=pn(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Nn(t,n,"name",h.name,h,null),Nn(t,n,"formEncType",h.formEncType,h,null),Nn(t,n,"formMethod",h.formMethod,h,null),Nn(t,n,"formTarget",h.formTarget,h,null)):(Nn(t,n,"encType",h.encType,h,null),Nn(t,n,"method",h.method,h,null),Nn(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=pn(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Rn);break;case"onScroll":o!=null&&qt("scroll",t);break;case"onScrollEnd":o!=null&&qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=pn(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":qt("beforetoggle",t),qt("toggle",t),gr(t,"popover",o);break;case"xlinkActuate":Yt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Yt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Yt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Yt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Yt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Yt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":gr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Le.get(a)||a,gr(t,a,o))}}function Xd(t,n,a,o,h,m){switch(a){case"style":Pe(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Ae(t,o):(typeof o=="number"||typeof o=="bigint")&&Ae(t,""+o);break;case"onScroll":o!=null&&qt("scroll",t);break;case"onScrollEnd":o!=null&&qt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ti.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=t[Jn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):gr(t,a,o)}}}function Bi(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",t),qt("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Nn(t,n,m,T,a,null)}}h&&Nn(t,n,"srcSet",a.srcSet,a,null),o&&Nn(t,n,"src",a.src,a,null);return;case"input":qt("invalid",t);var M=m=T=h=null,Y=null,ue=null;for(o in a)if(a.hasOwnProperty(o)){var _e=a[o];if(_e!=null)switch(o){case"name":h=_e;break;case"type":T=_e;break;case"checked":Y=_e;break;case"defaultChecked":ue=_e;break;case"value":m=_e;break;case"defaultValue":M=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,n));break;default:Nn(t,n,o,_e,a,null)}}ca(t,m,M,Y,ue,T,h,!1);return;case"select":qt("invalid",t),o=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(M=a[h],M!=null))switch(h){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:Nn(t,n,h,M,a,null)}n=m,a=T,t.multiple=!!o,n!=null?ie(t,!!o,n,!1):a!=null&&ie(t,!!o,a,!0);return;case"textarea":qt("invalid",t),m=h=o=null;for(T in a)if(a.hasOwnProperty(T)&&(M=a[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":h=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Nn(t,n,T,M,a,null)}ve(t,o,h,m);return;case"option":for(Y in a)if(a.hasOwnProperty(Y)&&(o=a[Y],o!=null))switch(Y){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Nn(t,n,Y,o,a,null)}return;case"dialog":qt("beforetoggle",t),qt("toggle",t),qt("cancel",t),qt("close",t);break;case"iframe":case"object":qt("load",t);break;case"video":case"audio":for(o=0;o<Ru.length;o++)qt(Ru[o],t);break;case"image":qt("error",t),qt("load",t);break;case"details":qt("toggle",t);break;case"embed":case"source":case"link":qt("error",t),qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in a)if(a.hasOwnProperty(ue)&&(o=a[ue],o!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Nn(t,n,ue,o,a,null)}return;default:if(pt(n)){for(_e in a)a.hasOwnProperty(_e)&&(o=a[_e],o!==void 0&&Xd(t,n,_e,o,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!=null&&Nn(t,n,M,o,a,null))}function lE(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,M=null,Y=null,ue=null,_e=null;for(pe in a){var Se=a[pe];if(a.hasOwnProperty(pe)&&Se!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":Y=Se;default:o.hasOwnProperty(pe)||Nn(t,n,pe,null,o,Se)}}for(var fe in o){var pe=o[fe];if(Se=a[fe],o.hasOwnProperty(fe)&&(pe!=null||Se!=null))switch(fe){case"type":m=pe;break;case"name":h=pe;break;case"checked":ue=pe;break;case"defaultChecked":_e=pe;break;case"value":T=pe;break;case"defaultValue":M=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,n));break;default:pe!==Se&&Nn(t,n,fe,pe,o,Se)}}ua(t,T,M,Y,ue,_e,m,h);return;case"select":pe=T=M=fe=null;for(m in a)if(Y=a[m],a.hasOwnProperty(m)&&Y!=null)switch(m){case"value":break;case"multiple":pe=Y;default:o.hasOwnProperty(m)||Nn(t,n,m,null,o,Y)}for(h in o)if(m=o[h],Y=a[h],o.hasOwnProperty(h)&&(m!=null||Y!=null))switch(h){case"value":fe=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==Y&&Nn(t,n,h,m,o,Y)}n=M,a=T,o=pe,fe!=null?ie(t,!!a,fe,!1):!!o!=!!a&&(n!=null?ie(t,!!a,n,!0):ie(t,!!a,a?[]:"",!1));return;case"textarea":pe=fe=null;for(M in a)if(h=a[M],a.hasOwnProperty(M)&&h!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Nn(t,n,M,null,o,h)}for(T in o)if(h=o[T],m=a[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":fe=h;break;case"defaultValue":pe=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Nn(t,n,T,h,o,m)}be(t,fe,pe);return;case"option":for(var st in a)if(fe=a[st],a.hasOwnProperty(st)&&fe!=null&&!o.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Nn(t,n,st,null,o,fe)}for(Y in o)if(fe=o[Y],pe=a[Y],o.hasOwnProperty(Y)&&fe!==pe&&(fe!=null||pe!=null))switch(Y){case"selected":t.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Nn(t,n,Y,fe,o,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)fe=a[_t],a.hasOwnProperty(_t)&&fe!=null&&!o.hasOwnProperty(_t)&&Nn(t,n,_t,null,o,fe);for(ue in o)if(fe=o[ue],pe=a[ue],o.hasOwnProperty(ue)&&fe!==pe&&(fe!=null||pe!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,n));break;default:Nn(t,n,ue,fe,o,pe)}return;default:if(pt(n)){for(var Dn in a)fe=a[Dn],a.hasOwnProperty(Dn)&&fe!==void 0&&!o.hasOwnProperty(Dn)&&Xd(t,n,Dn,void 0,o,fe);for(_e in o)fe=o[_e],pe=a[_e],!o.hasOwnProperty(_e)||fe===pe||fe===void 0&&pe===void 0||Xd(t,n,_e,fe,o,pe);return}}for(var ne in a)fe=a[ne],a.hasOwnProperty(ne)&&fe!=null&&!o.hasOwnProperty(ne)&&Nn(t,n,ne,null,o,fe);for(Se in o)fe=o[Se],pe=a[Se],!o.hasOwnProperty(Se)||fe===pe||fe==null&&pe==null||Nn(t,n,Se,fe,o,pe)}function Tv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,T=h.initiatorType,M=h.duration;if(m&&M&&Tv(T)){for(T=0,M=h.responseEnd,o+=1;o<a.length;o++){var Y=a[o],ue=Y.startTime;if(ue>M)break;var _e=Y.transferSize,Se=Y.initiatorType;_e&&Tv(Se)&&(Y=Y.responseEnd,T+=_e*(Y<M?1:(M-ue)/(Y-ue)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Kd=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function Av(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Wd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $d=null;function cE(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,hE=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,fE=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(t){return Rv.resolve(null).then(t).catch(dE)}:Cv;function dE(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function Iv(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Cl(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")xu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xu(a);for(var m=a.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[or]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&xu(t.ownerDocument.body);a=h}while(a);Cl(n)}function xv(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Jd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),Mi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mE(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[or])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=na(t.nextSibling),t===null)break}return null}function pE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=na(t.nextSibling),t===null))return null;return t}function Mv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=na(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function na(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var tm=null;function Nv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return na(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Dv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Ov(t,n,a){switch(n=th(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Mi(t)}var ia=new Map,Vv=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=te.d;te.d={f:yE,r:vE,D:_E,C:bE,L:wE,m:EE,X:AE,S:TE,M:SE};function yE(){var t=ps.f(),n=Xc();return t||n}function vE(t){var n=Di(t);n!==null&&n.tag===5&&n.type==="form"?$g(n):ps.r(t)}var Tl=typeof document>"u"?null:document;function kv(t,n,a){var o=Tl;if(o&&typeof n=="string"&&n){var h=Vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Vv.has(h)||(Vv.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Bi(n,"link",t),Pn(n),o.head.appendChild(n)))}}function _E(t){ps.D(t),kv("dns-prefetch",t,null)}function bE(t,n){ps.C(t,n),kv("preconnect",t,n)}function wE(t,n,a){ps.L(t,n,a);var o=Tl;if(o&&t&&n){var h='link[rel="preload"][as="'+Vn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Vn(a.imageSizes)+'"]')):h+='[href="'+Vn(t)+'"]';var m=h;switch(n){case"style":m=Al(t);break;case"script":m=Sl(t)}ia.has(m)||(t=U({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ia.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Mu(m))||n==="script"&&o.querySelector(Nu(m))||(n=o.createElement("link"),Bi(n,"link",t),Pn(n),o.head.appendChild(n)))}}function EE(t,n){ps.m(t,n);var a=Tl;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Vn(o)+'"][href="'+Vn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Sl(t)}if(!ia.has(m)&&(t=U({rel:"modulepreload",href:t},n),ia.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nu(m)))return}o=a.createElement("link"),Bi(o,"link",t),Pn(o),a.head.appendChild(o)}}}function TE(t,n,a){ps.S(t,n,a);var o=Tl;if(o&&t){var h=Xi(o).hoistableStyles,m=Al(t);n=n||"default";var T=h.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Mu(m)))M.loading=5;else{t=U({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ia.get(m))&&nm(t,a);var Y=T=o.createElement("link");Pn(Y),Bi(Y,"link",t),Y._p=new Promise(function(ue,_e){Y.onload=ue,Y.onerror=_e}),Y.addEventListener("load",function(){M.loading|=1}),Y.addEventListener("error",function(){M.loading|=2}),M.loading|=4,ih(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},h.set(m,T)}}}function AE(t,n){ps.X(t,n);var a=Tl;if(a&&t){var o=Xi(a).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=a.querySelector(Nu(h)),m||(t=U({src:t,async:!0},n),(n=ia.get(h))&&im(t,n),m=a.createElement("script"),Pn(m),Bi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function SE(t,n){ps.M(t,n);var a=Tl;if(a&&t){var o=Xi(a).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=a.querySelector(Nu(h)),m||(t=U({src:t,async:!0,type:"module"},n),(n=ia.get(h))&&im(t,n),m=a.createElement("script"),Pn(m),Bi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Pv(t,n,a,o){var h=(h=He.current)?nh(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Al(a.href),a=Xi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Al(a.href);var m=Xi(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Mu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),ia.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ia.set(t,a),m||CE(h,t,a,T.state))),n&&o===null)throw Error(s(528,""));return T}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(a),a=Xi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Al(t){return'href="'+Vn(t)+'"'}function Mu(t){return'link[rel="stylesheet"]['+t+"]"}function Lv(t){return U({},t,{"data-precedence":t.precedence,precedence:null})}function CE(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Bi(n,"link",a),Pn(n),t.head.appendChild(n))}function Sl(t){return'[src="'+Vn(t)+'"]'}function Nu(t){return"script[async]"+t}function Uv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Vn(a.href)+'"]');if(o)return n.instance=o,Pn(o),o;var h=U({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Pn(o),Bi(o,"style",h),ih(o,a.precedence,t),n.instance=o;case"stylesheet":h=Al(a.href);var m=t.querySelector(Mu(h));if(m)return n.state.loading|=4,n.instance=m,Pn(m),m;o=Lv(a),(h=ia.get(h))&&nm(o,h),m=(t.ownerDocument||t).createElement("link"),Pn(m);var T=m;return T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Bi(m,"link",o),n.state.loading|=4,ih(m,a.precedence,t),n.instance=m;case"script":return m=Sl(a.src),(h=t.querySelector(Nu(m)))?(n.instance=h,Pn(h),h):(o=a,(h=ia.get(m))&&(o=U({},a),im(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pn(h),Bi(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ih(o,a.precedence,t));return n.instance}function ih(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function nm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function im(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var rh=null;function jv(t,n,a){if(rh===null){var o=new Map,h=rh=new Map;h.set(a,o)}else h=rh,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[or]||m[vn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function zv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function RE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function IE(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Al(o.href),m=n.querySelector(Mu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ah.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=m,Pn(m);return}m=n.ownerDocument||n,o=Lv(o),(h=ia.get(h))&&nm(o,h),m=m.createElement("link"),Pn(m);var T=m;T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Bi(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ah.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var rm=0;function xE(t,n){return t.stylesheets&&t.count===0&&oh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&rm===0&&(rm=62500*uE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>rm?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function oh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,n.forEach(ME,t),sh=null,ah.call(t))}function ME(t,n){if(!(n.state.loading&4)){var a=sh.get(t);if(a)var o=a.get(null);else{a=new Map,sh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),o=T)}o&&a.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||o,m===o&&a.set(null,h),a.set(T,h),this.count++,o=ah.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Du={$$typeof:Be,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function NE(t,n,a,o,h,m,T,M,Y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Fv(t,n,a,o,h,m,T,M,Y,ue,_e,Se){return t=new NE(t,n,a,T,Y,ue,_e,Se,M),n=1,m===!0&&(n|=24),m=Ji(3,null,null,n),t.current=m,m.stateNode=t,n=Lf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},Bf(m),t}function Hv(t){return t?(t=Lr,t):Lr}function qv(t,n,a,o,h,m){h=Hv(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=js(t,o,n),a!==null&&(Ir(a,t,n),cu(a,t,n))}function Gv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function am(t,n){Gv(t,n),(t=t.alternate)&&Gv(t,n)}function Yv(t){if(t.tag===13||t.tag===31){var n=dr(t,67108864);n!==null&&Ir(n,t,67108864),am(t,67108864)}}function Xv(t){if(t.tag===13||t.tag===31){var n=Fr();n=Gr(n);var a=dr(t,n);a!==null&&Ir(a,t,n),am(t,n)}}var lh=!0;function DE(t,n,a,o){var h=G.T;G.T=null;var m=te.p;try{te.p=2,sm(t,n,a,o)}finally{te.p=m,G.T=h}}function OE(t,n,a,o){var h=G.T;G.T=null;var m=te.p;try{te.p=8,sm(t,n,a,o)}finally{te.p=m,G.T=h}}function sm(t,n,a,o){if(lh){var h=om(o);if(h===null)Yd(t,n,o,uh,a),Kv(t,o);else if(kE(h,t,n,a,o))o.stopPropagation();else if(Kv(t,o),n&4&&-1<VE.indexOf(t)){for(;h!==null;){var m=Di(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=nn(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var Y=1<<31-rt(T);M.entanglements[1]|=Y,T&=~Y}ka(m),(yn&6)===0&&(Gc=Gt()+500,Cu(0))}}break;case 31:case 13:M=dr(m,2),M!==null&&Ir(M,m,2),Xc(),am(m,2)}if(m=om(o),m===null&&Yd(t,n,o,uh,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else Yd(t,n,o,null,a)}}function om(t){return t=ri(t),lm(t)}var uh=null;function lm(t){if(uh=null,t=Ni(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=b(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return uh=t,null}function Qv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case C:return 2;case g:return 8;case v:case D:return 32;case W:return 268435456;default:return 32}default:return 32}}var um=!1,Ws=null,$s=null,Js=null,Ou=new Map,Vu=new Map,Zs=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Ou.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(n.pointerId)}}function ku(t,n,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Di(n),n!==null&&Yv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function kE(t,n,a,o,h){switch(n){case"focusin":return Ws=ku(Ws,t,n,a,o,h),!0;case"dragenter":return $s=ku($s,t,n,a,o,h),!0;case"mouseover":return Js=ku(Js,t,n,a,o,h),!0;case"pointerover":var m=h.pointerId;return Ou.set(m,ku(Ou.get(m)||null,t,n,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Vu.set(m,ku(Vu.get(m)||null,t,n,a,o,h)),!0}return!1}function Wv(t){var n=Ni(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,xi(t.priority,function(){Xv(a)});return}}else if(n===31){if(n=b(a),n!==null){t.blockedOn=n,xi(t.priority,function(){Xv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);In=o,a.target.dispatchEvent(o),In=null}else return n=Di(a),n!==null&&Yv(n),t.blockedOn=a,!1;n.shift()}return!0}function $v(t,n,a){ch(t)&&a.delete(n)}function PE(){um=!1,Ws!==null&&ch(Ws)&&(Ws=null),$s!==null&&ch($s)&&($s=null),Js!==null&&ch(Js)&&(Js=null),Ou.forEach($v),Vu.forEach($v)}function hh(t,n){t.blockedOn===n&&(t.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,PE)))}var fh=null;function Jv(t){fh!==t&&(fh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fh===t&&(fh=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(lm(o||a)===null)continue;break}var m=Di(a);m!==null&&(t.splice(n,3),n-=3,od(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Cl(t){function n(Y){return hh(Y,t)}Ws!==null&&hh(Ws,t),$s!==null&&hh($s,t),Js!==null&&hh(Js,t),Ou.forEach(n),Vu.forEach(n);for(var a=0;a<Zs.length;a++){var o=Zs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)Wv(a),a.blockedOn===null&&Zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],T=h[Jn]||null;if(typeof m=="function")T||Jv(a);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[Jn]||null)M=T.formAction;else if(lm(h)!==null)continue}else M=T.action;typeof M=="function"?a[o+1]=M:(a.splice(o,3),o-=3),Jv(a)}}}function Zv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}dh.prototype.render=cm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Fr();qv(a,o,t,n,null,null)},dh.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;qv(t.current,2,null,t,null,null),Xc(),n[sr]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ta();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Zs.length&&n!==0&&n<Zs[a].priority;a++);Zs.splice(a,0,t),a===0&&Wv(t)}};var e0=e.version;if(e0!=="19.2.0")throw Error(s(527,e0,"19.2.0"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=w(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var LE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Qe=mh.inject(LE),Je=mh}catch{}}return Lu.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=oy,m=ly,T=uy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Fv(t,1,!1,null,null,a,o,null,h,m,T,Zv),t[sr]=n.current,Gd(t),new cm(n)},Lu.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",m=oy,T=ly,M=uy,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(Y=a.formState)),n=Fv(t,1,!0,n,a??null,o,h,Y,m,T,M,Zv),n.context=Hv(null),a=n.current,o=Fr(),o=Gr(o),h=Us(o),h.callback=null,js(a,h,o),a=o,n.current.lanes=a,Rt(n,a),ka(n),t[sr]=n.current,Gd(t),new dh(n)},Lu.version="19.2.0",Lu}var c0;function XE(){if(c0)return dm.exports;c0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=YE(),dm.exports}var QE=XE();const KE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),h0=r=>{const e=WE(r);return e.charAt(0).toUpperCase()+e.slice(1)},W_=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),$E=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var JE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZE=et.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},E)=>et.createElement("svg",{ref:E,...JE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:W_("lucide",l),...!c&&!$E(b)&&{"aria-hidden":"true"},...b},[...p.map(([w,x])=>et.createElement(w,x)),...Array.isArray(c)?c:[c]]));const Gn=(r,e)=>{const i=et.forwardRef(({className:s,...l},c)=>et.createElement(ZE,{ref:c,iconNode:e,className:W_(`lucide-${KE(h0(r))}`,`lucide-${r}`,s),...l}));return i.displayName=h0(r),i};const eT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],tT=Gn("arrow-down-a-z",eT);const nT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],f0=Gn("arrow-left",nT);const iT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],rT=Gn("book-open",iT);const aT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],sT=Gn("check-check",aT);const oT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lT=Gn("check",oT);const uT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cT=Gn("chevron-left",uT);const hT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fT=Gn("chevron-right",hT);const dT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mT=Gn("circle-alert",dT);const pT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],km=Gn("crown",pT);const gT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yT=Gn("eye",gT);const vT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],_T=Gn("heart",vT);const bT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wT=Gn("info",bT);const ET=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],TT=Gn("log-out",ET);const AT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ST=Gn("mail",AT);const CT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],RT=Gn("play",CT);const IT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xT=Gn("rotate-ccw",IT);const MT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],NT=Gn("ruler",MT);const DT=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],d0=Gn("scroll-text",DT);const OT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VT=Gn("settings",OT);const kT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],PT=Gn("share-2",kT);const LT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],UT=Gn("shuffle",LT);const jT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ph=Gn("sparkles",jT);const zT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ym=Gn("star",zT);const BT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],m0=Gn("trophy",BT);const FT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vm=Gn("x",FT);var _m={},Ah={exports:{}},HT=Ah.exports,p0;function qT(){return p0||(p0=1,(function(r,e){(function(s,l){r.exports=l()})(HT,()=>(()=>{var i=[,((p,b,E)=>{E.r(b),E.d(b,{default:()=>x});var w=(()=>{var U=typeof document<"u"?document.currentScript?.src:void 0;return(function(j={}){var re,F=j,Me,Re,Ve=new Promise((f,d)=>{Me=f,Re=d}),ke=typeof window=="object",Be=typeof importScripts=="function";function Xe(){function f($){const Z=S;_=d=0,S=new Map,Z.forEach(ce=>{try{ce($)}catch(le){console.error(le)}}),this.nb(),N&&N.Pb()}let d=0,_=0,S=new Map,N=null,B=null;this.requestAnimationFrame=function($){d||=requestAnimationFrame(f.bind(this));const Z=++_;return S.set(Z,$),Z},this.cancelAnimationFrame=function($){S.delete($),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function($){B&&(document.body.remove(B),B=null),$||(B=document.createElement("div"),B.style.backgroundColor="black",B.style.position="fixed",B.style.right=0,B.style.top=0,B.style.color="white",B.style.padding="4px",B.innerHTML="RIVE FPS",$=function(Z){B.innerHTML="RIVE FPS "+Z.toFixed(1)},document.body.appendChild(B)),N=new function(){let Z=0,ce=0;this.Pb=function(){var le=performance.now();ce?(++Z,le-=ce,1e3<le&&($(1e3*Z/le),Z=ce=0)):(ce=le,Z=0)}}},this.Kb=function(){B&&(document.body.remove(B),B=null),N=null},this.nb=function(){}}function ct(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const mt=F.onRuntimeInitialized;F.onRuntimeInitialized=function(){mt&&mt();let f=F.decodeAudio;F.decodeAudio=function(N,B){N=f(N),B(N)};let d=F.decodeFont;F.decodeFont=function(N,B){N=d(N),B(N)};const _=F.FileAssetLoader;F.ptrToAsset=N=>{let B=F.ptrToFileAsset(N);return B.isImage?F.ptrToImageAsset(N):B.isFont?F.ptrToFontAsset(N):B.isAudio?F.ptrToAudioAsset(N):B},F.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:N}){this.__parent.__construct.call(this),this.Db=N},loadContents:function(N,B){return N=F.ptrToAsset(N),this.Db(N,B)}}),F.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(N){let B=F.ptrToAsset(N);return N=B.cdnUuid,N===""?!1:((function($,Z){var ce=new XMLHttpRequest;ce.responseType="arraybuffer",ce.onreadystatechange=function(){ce.readyState==4&&ce.status==200&&Z(ce)},ce.open("GET",$,!0),ce.send(null)})(B.cdnBaseUrl+"/"+N,$=>{B.decode(new Uint8Array($.response))}),!0)}}),F.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(N){this.jb.push(N)},loadContents:function(N,B){for(let $ of this.jb)if($.loadContents(N,B))return!0;return!1}});let S=F.computeAlignment;F.computeAlignment=function(N,B,$,Z,ce=1){return S.call(this,N,B,$,Z,ce)}};const q="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),z=new function(){function f(){if(!d){let cn=function(We,Lt,_n){if(Lt=ze.createShader(Lt),ze.shaderSource(Lt,_n),ze.compileShader(Lt),_n=ze.getShaderInfoLog(Lt),0<(_n||"").length)throw _n;ze.attachShader(We,Lt)};var tt=cn,ee=document.createElement("canvas"),je={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let ze;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(ze=ee.getContext("webgl",je),_=1,!ze)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(ze=ee.getContext("webgl2",je))_=2;else if(ze=ee.getContext("webgl",je))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(ze=new Proxy(ze,{get(We,Lt){if(We.isContextLost()){if(ce||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Lt),ce=!0),typeof We[Lt]=="function")return function(){}}else return typeof We[Lt]=="function"?function(..._n){return We[Lt].apply(We,_n)}:We[Lt]},set(We,Lt,_n){if(We.isContextLost())ce||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Lt),ce=!0);else return We[Lt]=_n,!0}}),S=Math.min(ze.getParameter(ze.MAX_RENDERBUFFER_SIZE),ze.getParameter(ze.MAX_TEXTURE_SIZE)),ee=ze.createProgram(),cn(ee,ze.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),cn(ee,ze.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),ze.bindAttribLocation(ee,0,"vertex"),ze.bindAttribLocation(ee,1,"uv"),ze.linkProgram(ee),je=ze.getProgramInfoLog(ee),0<(je||"").trim().length)throw je;N=ze.getUniformLocation(ee,"mat"),B=ze.getUniformLocation(ee,"translate"),ze.useProgram(ee),ze.bindBuffer(ze.ARRAY_BUFFER,ze.createBuffer()),ze.enableVertexAttribArray(0),ze.enableVertexAttribArray(1),ze.bindBuffer(ze.ELEMENT_ARRAY_BUFFER,ze.createBuffer()),ze.uniform1i(ze.getUniformLocation(ee,"image"),0),ze.pixelStorei(ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=ze}return!0}let d=null,_=0,S=0,N=null,B=null,$=0,Z=0,ce=!1;f(),this.ac=function(){return f(),S},this.Jb=function(ee){d.deleteTexture&&d.deleteTexture(ee)},this.Ib=function(ee){if(!f())return null;const je=d.createTexture();return je?(d.bindTexture(d.TEXTURE_2D,je),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,ee),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),je):null};const le=new ct(8),Oe=new ct(8),Ke=new ct(10),at=new ct(10);this.Mb=function(ee,je,tt,ze,cn){if(f()){var We=le.push(ee),Lt=Oe.push(je);if(d.canvas){(d.canvas.width!=We||d.canvas.height!=Lt)&&(d.canvas.width=We,d.canvas.height=Lt),d.viewport(0,Lt-je,ee,je),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),tt.sort((zt,Pr)=>Pr.ub-zt.ub),We=Ke.push(ze),$!=We&&(d.bufferData(d.ARRAY_BUFFER,8*We,d.DYNAMIC_DRAW),$=We),We=0;for(var _n of tt)d.bufferSubData(d.ARRAY_BUFFER,We,_n.Sa),We+=4*_n.Sa.length;console.assert(We==4*ze);for(var si of tt)d.bufferSubData(d.ARRAY_BUFFER,We,si.Ab),We+=4*si.Ab.length;console.assert(We==8*ze),We=at.push(cn),Z!=We&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*We,d.DYNAMIC_DRAW),Z=We),_n=0;for(var Tr of tt)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,_n,Tr.indices),_n+=2*Tr.indices.length;console.assert(_n==2*cn),Tr=0,si=!0,We=_n=0;for(const zt of tt){zt.image.Ia!=Tr&&(d.bindTexture(d.TEXTURE_2D,zt.image.Ha||null),Tr=zt.image.Ia),zt.fc?(d.scissor(zt.Ya,Lt-zt.Za-zt.ib,zt.tc,zt.ib),si=!0):si&&(d.scissor(0,Lt-je,ee,je),si=!1),tt=2/ee;const Pr=-2/je;d.uniform4f(N,zt.ga[0]*tt*zt.za,zt.ga[1]*Pr*zt.Aa,zt.ga[2]*tt*zt.za,zt.ga[3]*Pr*zt.Aa),d.uniform2f(B,zt.ga[4]*tt*zt.za+tt*(zt.Ya-zt.bc*zt.za)-1,zt.ga[5]*Pr*zt.Aa+Pr*(zt.Za-zt.cc*zt.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,We),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,We+4*ze),d.drawElements(d.TRIANGLES,zt.indices.length,d.UNSIGNED_SHORT,_n),We+=4*zt.Sa.length,_n+=2*zt.indices.length}console.assert(We==4*ze),console.assert(_n==2*cn)}}},this.canvas=function(){return f()&&d.canvas}},V=F.onRuntimeInitialized;F.onRuntimeInitialized=function(){function f(De){switch(De){case le.srcOver:return"source-over";case le.screen:return"screen";case le.overlay:return"overlay";case le.darken:return"darken";case le.lighten:return"lighten";case le.colorDodge:return"color-dodge";case le.colorBurn:return"color-burn";case le.hardLight:return"hard-light";case le.softLight:return"soft-light";case le.difference:return"difference";case le.exclusion:return"exclusion";case le.multiply:return"multiply";case le.hue:return"hue";case le.saturation:return"saturation";case le.color:return"color";case le.luminosity:return"luminosity"}}function d(De){return"rgba("+((16711680&De)>>>16)+","+((65280&De)>>>8)+","+((255&De)>>>0)+","+((4278190080&De)>>>24)/255+")"}function _(){0<Lt.length&&(z.Mb(We.drawWidth(),We.drawHeight(),Lt,_n,si),Lt=[],si=_n=0,We.reset(512,512));for(const De of cn){for(const qe of De.H)qe();De.H=[]}cn.clear()}V&&V();var S=F.RenderPaintStyle;const N=F.RenderPath,B=F.RenderPaint,$=F.Renderer,Z=F.StrokeCap,ce=F.StrokeJoin,le=F.BlendMode,Oe=S.fill,Ke=S.stroke,at=F.FillRule.evenOdd;let ee=1;var je=F.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:De,va:qe}={}){this.__parent.__construct.call(this),this.Ia=ee,ee=ee+1&2147483647||1,this.ka=De,this.va=qe},__destruct:function(){this.Ha&&(z.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(De){var qe=this;qe.va&&qe.va(qe);var Ut=new Image;qe.Va=URL.createObjectURL(new Blob([De],{type:"image/png"})),Ut.onload=function(){qe.Cb=Ut,qe.Ha=z.Ib(Ut),qe.size(Ut.width,Ut.height),qe.ka&&qe.ka(qe)},Ut.src=qe.Va}}),tt=N.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(De,qe,Ut,Xt,Dt,Ft,rn){var ln=this.T,fr=ln.addPath;De=De.T;const bn=new DOMMatrix;bn.a=qe,bn.b=Ut,bn.c=Xt,bn.d=Dt,bn.e=Ft,bn.f=rn,fr.call(ln,De,bn)},fillRule:function(De){this.Ua=De},moveTo:function(De,qe){this.T.moveTo(De,qe)},lineTo:function(De,qe){this.T.lineTo(De,qe)},cubicTo:function(De,qe,Ut,Xt,Dt,Ft){this.T.bezierCurveTo(De,qe,Ut,Xt,Dt,Ft)},close:function(){this.T.closePath()}}),ze=B.extend("CanvasRenderPaint",{color:function(De){this.Wa=d(De)},thickness:function(De){this.Fb=De},join:function(De){switch(De){case ce.miter:this.Ga="miter";break;case ce.round:this.Ga="round";break;case ce.bevel:this.Ga="bevel"}},cap:function(De){switch(De){case Z.butt:this.Fa="butt";break;case Z.round:this.Fa="round";break;case Z.square:this.Fa="square"}},style:function(De){this.Eb=De},blendMode:function(De){this.Bb=f(De)},clearGradient:function(){this.ia=null},linearGradient:function(De,qe,Ut,Xt){this.ia={wb:De,xb:qe,bb:Ut,cb:Xt,Pa:[]}},radialGradient:function(De,qe,Ut,Xt){this.ia={wb:De,xb:qe,bb:Ut,cb:Xt,Pa:[],$b:!0}},addStop:function(De,qe){this.ia.Pa.push({color:De,stop:qe})},completeGradient:function(){},draw:function(De,qe,Ut){let Xt=this.Eb;var Dt=this.Wa,Ft=this.ia;if(De.globalCompositeOperation=this.Bb,Ft!=null){Dt=Ft.wb;var rn=Ft.xb;const fr=Ft.bb;var ln=Ft.cb;const bn=Ft.Pa;Ft.$b?(Ft=fr-Dt,ln-=rn,Dt=De.createRadialGradient(Dt,rn,0,Dt,rn,Math.sqrt(Ft*Ft+ln*ln))):Dt=De.createLinearGradient(Dt,rn,fr,ln);for(let Li=0,gn=bn.length;Li<gn;Li++)rn=bn[Li],Dt.addColorStop(rn.stop,d(rn.color));this.Wa=Dt,this.ia=null}switch(Xt){case Ke:De.strokeStyle=Dt,De.lineWidth=this.Fb,De.lineCap=this.Fa,De.lineJoin=this.Ga,De.stroke(qe);break;case Oe:De.fillStyle=Dt,De.fill(qe,Ut)}}});const cn=new Set;let We=null,Lt=[],_n=0,si=0;var Tr=F.CanvasRenderer=$.extend("Renderer",{__construct:function(De){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=De.getContext("2d"),this.Ta=De,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const De=this.S.length-6;if(6>De)throw"restore() called without matching save().";this.S.splice(De),this.H.push(this.B.restore.bind(this.B))},transform:function(De,qe,Ut,Xt,Dt,Ft){const rn=this.S,ln=rn.length-6;rn.splice(ln,6,rn[ln]*De+rn[ln+2]*qe,rn[ln+1]*De+rn[ln+3]*qe,rn[ln]*Ut+rn[ln+2]*Xt,rn[ln+1]*Ut+rn[ln+3]*Xt,rn[ln]*Dt+rn[ln+2]*Ft+rn[ln+4],rn[ln+1]*Dt+rn[ln+3]*Ft+rn[ln+5]),this.H.push(this.B.transform.bind(this.B,De,qe,Ut,Xt,Dt,Ft))},rotate:function(De){const qe=Math.sin(De);De=Math.cos(De),this.transform(De,qe,-qe,De,0,0)},_drawPath:function(De,qe){this.H.push(qe.draw.bind(qe,this.B,De.T,De.Ua===at?"evenodd":"nonzero"))},_drawRiveImage:function(De,qe,Ut,Xt){var Dt=De.Cb;if(Dt){var Ft=this.B,rn=f(Ut);this.H.push(function(){Ft.globalCompositeOperation=rn,Ft.globalAlpha=Xt,Ft.drawImage(Dt,0,0),Ft.globalAlpha=1})}},_getMatrix:function(De){const qe=this.S,Ut=qe.length-6;for(let Xt=0;6>Xt;++Xt)De[Xt]=qe[Ut+Xt]},_drawImageMesh:function(De,qe,Ut,Xt,Dt,Ft,rn,ln,fr,bn,Li){qe=this.B.canvas.width;var gn=this.B.canvas.height;const es=bn-ln,nl=Li-fr;ln=Math.max(ln,0),fr=Math.max(fr,0),bn=Math.min(bn,qe),Li=Math.min(Li,gn);const Ma=bn-ln,Na=Li-fr;if(console.assert(Ma<=Math.min(es,qe)),console.assert(Na<=Math.min(nl,gn)),!(0>=Ma||0>=Na)){bn=Ma<es||Na<nl,qe=Li=1;var ga=Math.ceil(Ma*Li),dr=Math.ceil(Na*qe);gn=z.ac(),ga>gn&&(Li*=gn/ga,ga=gn),dr>gn&&(qe*=gn/dr,dr=gn),We||(We=new F.DynamicRectanizer(gn),We.reset(512,512)),gn=We.addRect(ga,dr),0>gn&&(_(),cn.add(this),gn=We.addRect(ga,dr),console.assert(0<=gn));var iu=gn&65535,So=gn>>16;Lt.push({ga:this.S.slice(this.S.length-6),image:De,Ya:iu,Za:So,bc:ln,cc:fr,tc:ga,ib:dr,za:Li,Aa:qe,Sa:new Float32Array(Dt),Ab:new Float32Array(Ft),indices:new Uint16Array(rn),fc:bn,ub:De.Ia<<1|(bn?1:0)}),_n+=Dt.length,si+=rn.length;var Lr=this.B,Cf=f(Ut);this.H.push(function(){Lr.save(),Lr.resetTransform(),Lr.globalCompositeOperation=Cf,Lr.globalAlpha=Xt;const Ji=z.canvas();Ji&&Lr.drawImage(Ji,iu,So,ga,dr,ln,fr,Ma,Na),Lr.restore()})}},_clipPath:function(De){this.H.push(this.B.clip.bind(this.B,De.T,De.Ua===at?"evenodd":"nonzero"))},clear:function(){cn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(De,qe){this.transform(1,0,0,1,De,qe)}});F.makeRenderer=function(De){const qe=new Tr(De),Ut=qe.B;return new Proxy(qe,{get(Xt,Dt){if(typeof Xt[Dt]=="function")return function(...Ft){return Xt[Dt].apply(Xt,Ft)};if(typeof Ut[Dt]=="function"){if(-1<q.indexOf(Dt))throw Error("RiveException: Method call to '"+Dt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Ft){qe.H.push(Ut[Dt].bind(Ut,...Ft))}}return Xt[Dt]},set(Xt,Dt,Ft){if(Dt in Ut)return qe.H.push(()=>{Ut[Dt]=Ft}),!0}})},F.decodeImage=function(De,qe){new je({ka:qe}).decode(De)},F.renderFactory={makeRenderPaint:function(){return new ze},makeRenderPath:function(){return new tt},makeRenderImage:function(){let De=Pr;return new je({va:()=>{De.total++},ka:()=>{if(De.loaded++,De.loaded===De.total){const qe=De.ready;qe&&(qe(),De.ready=null)}}})}};let zt=F.load,Pr=null;F.load=function(De,qe,Ut=!0){const Xt=new F.FallbackFileAssetLoader;return qe!==void 0&&Xt.addLoader(qe),Ut&&(qe=new F.CDNFileAssetLoader,Xt.addLoader(qe)),new Promise(function(Dt){let Ft=null;Pr={total:0,loaded:0,ready:function(){Dt(Ft)}},Ft=zt(De,Xt),Pr.total==0&&Dt(Ft)})};let Za=F.RendererWrapper.prototype.align;F.RendererWrapper.prototype.align=function(De,qe,Ut,Xt,Dt=1){Za.call(this,De,qe,Ut,Xt,Dt)},S=new Xe,F.requestAnimationFrame=S.requestAnimationFrame.bind(S),F.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),F.enableFPSCounter=S.Nb.bind(S),F.disableFPSCounter=S.Kb,S.nb=_,F.resolveAnimationFrame=_,F.cleanup=function(){We&&We.delete()}};var H=Object.assign({},F),I="./this.program",k="",R,Q;(ke||Be)&&(Be?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),U&&(k=U),k.startsWith("blob:")?k="":k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1),Be&&(Q=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),R=(f,d,_)=>{if(ci(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(N=>N.ok?N.arrayBuffer():Promise.reject(Error(N.status+" : "+N.url))).then(d,_)});var se=F.print||console.log.bind(console),G=F.printErr||console.error.bind(console);Object.assign(F,H),H=null,F.thisProgram&&(I=F.thisProgram);var te;F.wasmBinary&&(te=F.wasmBinary);var ye,he=!1,we,P,K,Ee,ge,Ne,He,ht;function dt(){var f=ye.buffer;F.HEAP8=we=new Int8Array(f),F.HEAP16=K=new Int16Array(f),F.HEAPU8=P=new Uint8Array(f),F.HEAPU16=Ee=new Uint16Array(f),F.HEAP32=ge=new Int32Array(f),F.HEAPU32=Ne=new Uint32Array(f),F.HEAPF32=He=new Float32Array(f),F.HEAPF64=ht=new Float64Array(f)}var bt=[],Ot=[],un=[];function ft(){var f=F.preRun.shift();bt.unshift(f)}var St=0,Nt=null;function wt(f){throw F.onAbort?.(f),f="Aborted("+f+")",G(f),he=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Re(f),f}var En=f=>f.startsWith("data:application/octet-stream;base64,"),ci=f=>f.startsWith("file://"),Zt;function it(f){if(f==Zt&&te)return new Uint8Array(te);if(Q)return Q(f);throw"both async and sync fetching of the wasm failed"}function sn(f){return te?Promise.resolve().then(()=>it(f)):new Promise((d,_)=>{R(f,S=>d(new Uint8Array(S)),()=>{try{d(it(f))}catch(S){_(S)}})})}function dn(f,d,_){return sn(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{G(`failed to asynchronously prepare wasm: ${S}`),wt(S)})}function Gi(f,d){var _=Zt;return te||typeof WebAssembly.instantiateStreaming!="function"||En(_)||ci(_)||typeof fetch!="function"?dn(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(N){return G(`wasm streaming compile failed: ${N}`),G("falling back to ArrayBuffer instantiation"),dn(_,f,d)}))}var Kn,Gt,Tn={464256:(f,d,_,S,N)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=N;let B=window.h;B.D=[],B.rc=function($){for(var Z=0;Z<B.D.length;++Z)if(B.D[Z]==null)return B.D[Z]=$,Z;return B.D.push($),B.D.length-1},B.zb=function($){for(B.D[$]=null;0<B.D.length&&B.D[B.D.length-1]==null;)B.D.pop()},B.Oc=function($){for(var Z=0;Z<B.D.length;++Z)if(B.D[Z]==$)return B.zb(Z)},B.pa=function($){return B.D[$]},B.Ra=["touchend","click"],B.unlock=function(){for(var $=0;$<B.D.length;++$){var Z=B.D[$];Z!=null&&Z.K!=null&&Z.state===B.fa.vb&&Z.K.resume().then(()=>{Ao(Z.ob)},ce=>{console.error("Failed to resume audiocontext",ce)})}B.Ra.map(function(ce){document.removeEventListener(ce,B.unlock,!0)})},B.Ra.map(function($){document.addEventListener($,B.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,N,B)=>{if(typeof window.h>"u")return-1;var $={},Z={};return f==window.h.I.wa&&_!=0&&(Z.sampleRate=_),$.K=new(window.AudioContext||window.webkitAudioContext)(Z),$.K.suspend(),$.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),$.Y=$.K.createScriptProcessor(S,_,d),$.Y.onaudioprocess=function(ce){if(($.qa==null||$.qa.length==0)&&($.qa=new Float32Array(He.buffer,N,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var le=0;le<d;le+=1)for(var Oe=ce.inputBuffer.getChannelData(le),Ke=$.qa,at=0;at<S;at+=1)Ke[at*d+le]=Oe[at];tu(B,S,N)}if(f==window.h.I.wa||f==window.h.I.Ja)for(nu(B,S,N),le=0;le<ce.outputBuffer.numberOfChannels;++le)for(Oe=ce.outputBuffer.getChannelData(le),Ke=$.qa,at=0;at<S;at+=1)Oe[at]=Ke[at*d+le];else for(le=0;le<ce.outputBuffer.numberOfChannels;++le)ce.outputBuffer.getChannelData(le).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ce){$.Ba=$.K.createMediaStreamSource(ce),$.Ba.connect($.Y),$.Y.connect($.K.destination)}).catch(function(ce){console.log("Failed to get user media: "+ce)}),f==window.h.I.wa&&$.Y.connect($.K.destination),$.ob=B,window.h.rc($)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},C=f=>{for(;0<f.length;)f.shift()(F)};function g(){var f=ge[+Ki>>2];return Ki+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var N=f[S];N==="."?f.splice(S,1):N===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},D=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},W=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},me=f=>{if(f==="/")return"/";f=D(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Ie=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);wt("initRandomDevice")},Qe=f=>(Qe=Ie())(f),Je=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(N=>!!N),!_).join("/"),(_?"/":"")+d||"."},Ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,rt=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&Ge)return Ge.decode(f.subarray(d,_));for(S="";d<_;){var N=f[d++];if(N&128){var B=f[d++]&63;if((N&224)==192)S+=String.fromCharCode((N&31)<<6|B);else{var $=f[d++]&63;N=(N&240)==224?(N&15)<<12|B<<6|$:(N&7)<<18|B<<12|$<<6|f[d++]&63,65536>N?S+=String.fromCharCode(N):(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023))}}else S+=String.fromCharCode(N)}return S},Bt=[],Cn=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},mn=(f,d,_,S)=>{if(!(0<S))return 0;var N=_;S=_+S-1;for(var B=0;B<f.length;++B){var $=f.charCodeAt(B);if(55296<=$&&57343>=$){var Z=f.charCodeAt(++B);$=65536+(($&1023)<<10)|Z&1023}if(127>=$){if(_>=S)break;d[_++]=$}else{if(2047>=$){if(_+1>=S)break;d[_++]=192|$>>6}else{if(65535>=$){if(_+2>=S)break;d[_++]=224|$>>12}else{if(_+3>=S)break;d[_++]=240|$>>18,d[_++]=128|$>>12&63}d[_++]=128|$>>6&63}d[_++]=128|$&63}}return d[_]=0,_-N};function zn(f,d){var _=Array(Cn(f)+1);return f=mn(f,_,0,_.length),d&&(_.length=f),_}var Wn=[];function jt(f,d){Wn[f]={input:[],G:[],V:d},Xi(f,nn)}var nn={open(f){var d=Wn[f.node.xa];if(!d)throw new Ye(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new Ye(60);for(var N=0,B=0;B<S;B++){try{var $=f.s.V.hb(f.s)}catch{throw new Ye(29)}if($===void 0&&N===0)throw new Ye(6);if($==null)break;N++,d[_+B]=$}return N&&(f.node.timestamp=Date.now()),N},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new Ye(60);try{for(var N=0;N<S;N++)f.s.V.Ma(f.s,d[_+N])}catch{throw new Ye(29)}return S&&(f.node.timestamp=Date.now()),N}},On={hb(){e:{if(!Bt.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}Bt=zn(f,!0)}f=Bt.shift()}return f},Ma(f,d){d===null||d===10?(se(rt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(se(rt(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Yn={Ma(f,d){d===null||d===10?(G(rt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(G(rt(f.G,0)),f.G=[])}};function rr(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var vt={N:null,U(){return vt.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new Ye(63);return vt.N||(vt.N={dir:{node:{X:vt.j.X,P:vt.j.P,ja:vt.j.ja,ta:vt.j.ta,sb:vt.j.sb,yb:vt.j.yb,tb:vt.j.tb,rb:vt.j.rb,Ca:vt.j.Ca},stream:{aa:vt.m.aa}},file:{node:{X:vt.j.X,P:vt.j.P},stream:{aa:vt.m.aa,read:vt.m.read,write:vt.m.write,Xa:vt.m.Xa,kb:vt.m.kb,mb:vt.m.mb}},link:{node:{X:vt.j.X,P:vt.j.P,la:vt.j.la},stream:{}},$a:{node:{X:vt.j.X,P:vt.j.P},stream:Oi}}),_=Rs(f,d,_,S),(_.mode&61440)===16384?(_.j=vt.N.dir.node,_.m=vt.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=vt.N.file.node,_.m=vt.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=vt.N.link.node,_.m=vt.N.link.stream):(_.mode&61440)===8192&&(_.j=vt.N.$a.node,_.m=vt.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw Ta[44]},ta(f,d,_,S){return vt.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=Mr(d,_)}catch{}if(S)for(var N in S.l)throw new Ye(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=Mr(f,d),S;for(S in _.l)throw new Ye(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=vt.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new Ye(28);return f.link}},m:{read(f,d,_,S,N){var B=f.node.l;if(N>=f.node.v)return 0;if(f=Math.min(f.node.v-N,S),8<f&&B.subarray)d.set(B.subarray(N,N+f),_);else for(S=0;S<f;S++)d[_+S]=B[N+S];return f},write(f,d,_,S,N,B){if(d.buffer===we.buffer&&(B=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(B)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&N===0)return f.l=d.slice(_,_+S),f.v=S;if(N+S<=f.v)return f.l.set(d.subarray(_,_+S),N),S}if(rr(f,N+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),N);else for(B=0;B<S;B++)f.l[N+B]=d[_+B];return f.v=Math.max(f.v,N+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Ye(28);return d},Xa(f,d,_){rr(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,N){if((f.node.mode&61440)!==32768)throw new Ye(43);if(f=f.node.l,N&2||f.buffer!==we.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,wt(),d=void 0,!d)throw new Ye(48);we.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return vt.m.write(f,d,0,S,_,!1),0}}},$n=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},Rt=null,ar={},Ii=[],qr=1,pr=null,Gr=!0,Ye=class{constructor(f){this.name="ErrnoError",this.$=f}},Ta={},xi=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},Yi=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=qr++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function vn(f,d={}){if(f=Je(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Ye(32);f=f.split("/").filter($=>!!$);for(var _=Rt,S="/",N=0;N<f.length;N++){var B=N===f.length-1;if(B&&d.parent)break;if(_=Mr(_,f[N]),S=D(S+"/"+f[N]),_.ua&&(!B||B&&d.gb)&&(_=_.ua.root),!B||d.fb){for(B=0;(_.mode&61440)===40960;)if(_=Ga(S),S=Je(W(S),_),_=vn(S,{Oa:d.Oa+1}).node,40<B++)throw new Ye(32)}}return{path:S,node:_}}function Jn(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function sr(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%pr.length}function Mr(f,d){var _=(f.mode&61440)===16384?(_=la(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new Ye(_);for(_=pr[sr(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function Rs(f,d,_,S){return f=new Yi(f,d,_,S),d=sr(f.parent.id,f.name),f.ec=pr[d],pr[d]=f}function qa(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function la(f,d){if(Gr)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function or(f,d){try{return Mr(f,d),20}catch{}return la(f,"wx")}function Mi(f){if(f=Ii[f],!f)throw new Ye(8);return f}function Ni(f,d=-1){if(f=Object.assign(new xi,f),d==-1)e:{for(d=0;4096>=d;d++)if(!Ii[d])break e;throw new Ye(33)}return f.W=d,Ii[d]=f}function Di(f,d=-1){return f=Ni(f,d),f.m?.Ec?.(f),f}var Oi={open(f){f.m=ar[f.node.xa].m,f.m.open?.(f)},aa(){throw new Ye(70)}};function Xi(f,d){ar[f]={m:d}}function Pn(f,d){var _=d==="/";if(_&&Rt)throw new Ye(10);if(!_&&d){var S=vn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Ye(10);if((S.mode&61440)!==16384)throw new Ye(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?Rt=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function Yr(f,d,_){var S=vn(f,{parent:!0}).node;if(f=me(f),!f||f==="."||f==="..")throw new Ye(28);var N=or(S,f);if(N)throw new Ye(N);if(!S.j.ta)throw new Ye(63);return S.j.ta(S,f,d,_)}function Ti(f){return Yr(f,16895,0)}function Vi(f,d,_){typeof _>"u"&&(_=d,d=438),Yr(f,d|8192,_)}function Qi(f,d){if(!Je(f))throw new Ye(44);var _=vn(d,{parent:!0}).node;if(!_)throw new Ye(44);d=me(d);var S=or(_,d);if(S)throw new Ye(S);if(!_.j.Ca)throw new Ye(63);_.j.Ca(_,d,f)}function Ga(f){if(f=vn(f).node,!f)throw new Ye(44);if(!f.j.la)throw new Ye(28);return Je(Jn(f.parent),f.j.la(f))}function Nr(f,d,_){if(f==="")throw new Ye(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var N=f;else{f=D(f);try{N=vn(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(N){if(d&128)throw new Ye(20)}else N=Yr(f,_,0),S=!0;if(!N)throw new Ye(44);if((N.mode&61440)===8192&&(d&=-513),d&65536&&(N.mode&61440)!==16384)throw new Ye(54);if(!S&&(_=N?(N.mode&61440)===40960?32:(N.mode&61440)===16384&&(qa(d)!=="r"||d&512)?31:la(N,qa(d)):44))throw new Ye(_);if(d&512&&!S){if(_=N,_=typeof _=="string"?vn(_,{fb:!0}).node:_,!_.j.P)throw new Ye(63);if((_.mode&61440)===16384)throw new Ye(31);if((_.mode&61440)!==32768)throw new Ye(28);if(S=la(_,"w"))throw new Ye(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,N=Ni({node:N,path:Jn(N),flags:d,seekable:!0,position:0,m:N.m,sc:[],error:!1}),N.m.open&&N.m.open(N),!F.logReadFiles||d&1||(Xn||={},f in Xn||(Xn[f]=1)),N}function Aa(f,d,_){if(f.W===null)throw new Ye(8);if(!f.seekable||!f.m.aa)throw new Ye(70);if(_!=0&&_!=1&&_!=2)throw new Ye(28);f.position=f.m.aa(f,d,_),f.sc=[]}var Sa;function gr(f,d,_){f=D("/dev/"+f);var S=$n(!!d,!!_);Ai||=64;var N=Ai++<<8|0;Xi(N,{open(B){B.seekable=!1},close(){_?.buffer?.length&&_(10)},read(B,$,Z,ce){for(var le=0,Oe=0;Oe<ce;Oe++){try{var Ke=d()}catch{throw new Ye(29)}if(Ke===void 0&&le===0)throw new Ye(6);if(Ke==null)break;le++,$[Z+Oe]=Ke}return le&&(B.node.timestamp=Date.now()),le},write(B,$,Z,ce){for(var le=0;le<ce;le++)try{_($[Z+le])}catch{throw new Ye(29)}return ce&&(B.node.timestamp=Date.now()),le}}),Vi(f,S,N)}var Ai,Yt={},Xn,Ki=void 0,yr=(f,d)=>Object.defineProperty(d,"name",{value:f}),en=[],Ln=[],ut,ii=f=>{if(!f)throw new ut("Cannot use deleted val. handle = "+f);return Ln[f]},Vn=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=en.pop()||Ln.length;return Ln[d]=f,Ln[d+1]=1,d}},ua=f=>{var d=Error,_=yr(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},ca,J,ie=f=>{for(var d="";P[f];)d+=J[P[f++]];return d},be=[],ve=()=>{for(;be.length;){var f=be.pop();f.g.ea=!1,f.delete()}},Ae,Fe={},Ze=(f,d)=>{if(d===void 0)throw new ut("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},Pe={},pt=f=>{f=gc(f);var d=ie(f);return hr(f),d},Le=(f,d)=>{var _=Pe[f];if(_===void 0)throw f=`${d} has unknown type ${pt(f)}`,new ut(f);return _},ot=()=>{},pn=!1,Rn=(f,d,_)=>d===_?f:_.C===void 0?null:(f=Rn(f,d,_.C),f===null?null:_.Lb(f)),In={},ri=(f,d)=>(d=Ze(f,d),Fe[d]),xn,vi=(f,d)=>{if(!d.u||!d.o)throw new xn("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new xn("Both smartPtrType and smartPtr must be specified");return d.count={value:1},vr(Object.create(f,{g:{value:d,writable:!0}}))},vr=f=>typeof FinalizationRegistry>"u"?(vr=d=>d,f):(pn=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),vr=d=>{var _=d.g;return _.F&&pn.register(d,{g:_},d),d},ot=d=>{pn.unregister(d)},vr(f)),ha={},_r=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function ki(f){return this.fromWireType(Ne[f>>2])}var _i={},Xr={},Vt=(f,d,_)=>{function S(Z){if(Z=_(Z),Z.length!==f.length)throw new xn("Mismatched type converter count");for(var ce=0;ce<f.length;++ce)Wi(f[ce],Z[ce])}f.forEach(function(Z){Xr[Z]=d});var N=Array(d.length),B=[],$=0;d.forEach((Z,ce)=>{Pe.hasOwnProperty(Z)?N[ce]=Pe[Z]:(B.push(Z),_i.hasOwnProperty(Z)||(_i[Z]=[]),_i[Z].push(()=>{N[ce]=Pe[Z],++$,$===B.length&&S(N)}))}),B.length===0&&S(N)};function Qr(f,d,_={}){var S=d.name;if(!f)throw new ut(`type "${S}" must have a positive integer typeid pointer`);if(Pe.hasOwnProperty(f)){if(_.Vb)return;throw new ut(`Cannot register type '${S}' twice`)}Pe[f]=d,delete Xr[f],_i.hasOwnProperty(f)&&(d=_i[f],delete _i[f],d.forEach(N=>N()))}function Wi(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Qr(f,d,_)}var fa=f=>{throw new ut(f.g.u.i.name+" instance already deleted")};function Ca(){}var da=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...N){if(!f[d].A.hasOwnProperty(N.length))throw new ut(`Function '${_}' called with an invalid number of arguments (${N.length}) - expects one of (${f[d].A})!`);return f[d].A[N.length].apply(this,N)},f[d].A=[],f[d].A[S.da]=S}},Dr=(f,d,_)=>{if(F.hasOwnProperty(f)){if(_===void 0||F[f].A!==void 0&&F[f].A[_]!==void 0)throw new ut(`Cannot register public name '${f}' twice`);if(da(F,f,f),F.hasOwnProperty(_))throw new ut(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);F[f].A[_]=d}else F[f]=d,_!==void 0&&(F[f].Lc=_)},Or=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function bi(f,d,_,S,N,B,$,Z){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=N,this.Qb=B,this.ma=$,this.Lb=Z,this.pb=[]}var br=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new ut(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function Kr(f,d){if(d===null){if(this.La)throw new ut(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ut(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new ut(`Cannot pass deleted object as a pointer of type ${this.name}`);return br(d.g.o,d.g.u.i,this.i)}function Ra(f,d){if(d===null){if(this.La)throw new ut(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new ut(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new ut(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new ut(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=br(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new ut("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new ut(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,Vn(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new ut("Unsupporting sharing policy")}}return _}function Eo(f,d){if(d===null){if(this.La)throw new ut(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ut(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new ut(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new ut(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return br(d.g.o,d.g.u.i,this.i)}function Vr(f,d,_,S,N,B,$,Z,ce,le,Oe){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=N,this.hc=B,this.mc=$,this.qb=Z,this.Na=ce,this.ic=le,this.O=Oe,N||d.C!==void 0?this.toWireType=Ra:(this.toWireType=S?Kr:Eo,this.L=null)}var Ya=(f,d,_)=>{if(!F.hasOwnProperty(f))throw new xn("Replacing nonexistent public symbol");F[f].A!==void 0&&_!==void 0?F[f].A[_]=d:(F[f]=d,F[f].da=_)},lr=[],Xa,Is=f=>{var d=lr[f];return d||(f>=lr.length&&(lr.length=f+1),lr[f]=d=Xa.get(f)),d},Qa=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,F["dynCall_"+f])(d,..._)):d=Is(d)(..._),d),Ko=(f,d)=>(..._)=>Qa(f,d,_),ai=(f,d)=>{f=ie(f);var _=f.includes("j")?Ko(f,d):Is(d);if(typeof _!="function")throw new ut(`unknown function pointer with signature ${f}: ${d}`);return _},Ia,ur=(f,d)=>{function _(B){N[B]||Pe[B]||(Xr[B]?Xr[B].forEach(_):(S.push(B),N[B]=!0))}var S=[],N={};throw d.forEach(_),new Ia(`${f}: `+S.map(pt).join([", "]))};function Wo(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function ma(f,d,_,S,N){var B=d.length;if(2>B)throw new ut("argTypes array size mismatch! Must at least get return value and 'this' types!");var $=d[1]!==null&&_!==null,Z=Wo(d),ce=d[0].name!=="void",le=B-2,Oe=Array(le),Ke=[],at=[];return yr(f,function(...ee){if(ee.length!==le)throw new ut(`function ${f} called with ${ee.length} arguments, expected ${le}`);if(at.length=0,Ke.length=$?2:1,Ke[0]=N,$){var je=d[1].toWireType(at,this);Ke[1]=je}for(var tt=0;tt<le;++tt)Oe[tt]=d[tt+2].toWireType(at,ee[tt]),Ke.push(Oe[tt]);if(ee=S(...Ke),Z)_r(at);else for(tt=$?1:2;tt<d.length;tt++){var ze=tt===1?je:Oe[tt-2];d[tt].L!==null&&d[tt].L(ze)}return je=ce?d[0].fromWireType(ee):void 0,je})}var Ka=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(Ne[d+4*S>>2]);return _},xs=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},kr=(f,d,_)=>{if(!(f instanceof Object))throw new ut(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new ut(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new ut(`cannot call emscripten binding method ${_} on deleted object`);return br(f.g.o,f.g.u.i,d.i)},Ms=f=>{9<f&&--Ln[f+1]===0&&(Ln[f]=void 0,en.push(f))},$o={name:"emscripten::val",fromWireType:f=>{var d=ii(f);return Ms(f),d},toWireType:(f,d)=>Vn(d),argPackAdvance:8,readValueFromPointer:ki,L:null},Jo=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(we[S])}:function(S){return this.fromWireType(P[S])};case 2:return _?function(S){return this.fromWireType(K[S>>1])}:function(S){return this.fromWireType(Ee[S>>1])};case 4:return _?function(S){return this.fromWireType(ge[S>>2])}:function(S){return this.fromWireType(Ne[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ns=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},xa=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(He[_>>2])};case 8:return function(_){return this.fromWireType(ht[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Pi=(f,d,_)=>{switch(d){case 1:return _?S=>we[S]:S=>P[S];case 2:return _?S=>K[S>>1]:S=>Ee[S>>1];case 4:return _?S=>ge[S>>2]:S=>Ne[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},To=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Zo=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&Ee[_];)++_;if(_<<=1,32<_-f&&To)return To.decode(P.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var N=K[f+2*S>>1];if(N==0)break;_+=String.fromCharCode(N)}return _},pa=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var N=0;N<_;++N)K[d>>1]=f.charCodeAt(N),d+=2;return K[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var N=ge[f+4*_>>2];if(N==0)break;++_,65536<=N?(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023)):S+=String.fromCharCode(N)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var N=0;N<f.length;++N){var B=f.charCodeAt(N);if(55296<=B&&57343>=B){var $=f.charCodeAt(++N);B=65536+((B&1023)<<10)|$&1023}if(ge[d>>2]=B,d+=4,d+4>_)break}return ge[d>>2]=0,d-S},O=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},ae=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(Ne[d>>2]=Vn(S)),f},de={},Ue=f=>{var d=de[f];return d===void 0?ie(f):d},Ct=[],Zn=f=>{var d=Ct.length;return Ct.push(f),d},on=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=Le(Ne[d+4*S>>2],"parameter "+S);return _},Un=Reflect.construct,$i=[],wr={},Er=()=>{if(!cr){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:I||"./this.program"},d;for(d in wr)wr[d]===void 0?delete f[d]:f[d]=wr[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);cr=_}return cr},cr,Wr=f=>f%4===0&&(f%100!==0||f%400===0),Wa=[31,29,31,30,31,30,31,31,30,31,30,31],$a=[31,28,31,30,31,30,31,31,30,31,30,31],Sf=(f,d,_,S)=>{function N(ee,je,tt){for(ee=typeof ee=="number"?ee.toString():ee||"";ee.length<je;)ee=tt[0]+ee;return ee}function B(ee,je){return N(ee,je,"0")}function $(ee,je){function tt(cn){return 0>cn?-1:0<cn?1:0}var ze;return(ze=tt(ee.getFullYear()-je.getFullYear()))===0&&(ze=tt(ee.getMonth()-je.getMonth()))===0&&(ze=tt(ee.getDate()-je.getDate())),ze}function Z(ee){switch(ee.getDay()){case 0:return new Date(ee.getFullYear()-1,11,29);case 1:return ee;case 2:return new Date(ee.getFullYear(),0,3);case 3:return new Date(ee.getFullYear(),0,2);case 4:return new Date(ee.getFullYear(),0,1);case 5:return new Date(ee.getFullYear()-1,11,31);case 6:return new Date(ee.getFullYear()-1,11,30)}}function ce(ee){var je=ee.ba;for(ee=new Date(new Date(ee.ca+1900,0,1).getTime());0<je;){var tt=ee.getMonth(),ze=(Wr(ee.getFullYear())?Wa:$a)[tt];if(je>ze-ee.getDate())je-=ze-ee.getDate()+1,ee.setDate(1),11>tt?ee.setMonth(tt+1):(ee.setMonth(0),ee.setFullYear(ee.getFullYear()+1));else{ee.setDate(ee.getDate()+je);break}}return tt=new Date(ee.getFullYear()+1,0,4),je=Z(new Date(ee.getFullYear(),0,4)),tt=Z(tt),0>=$(je,ee)?0>=$(tt,ee)?ee.getFullYear()+1:ee.getFullYear():ee.getFullYear()-1}var le=Ne[S+40>>2];S={pc:ge[S>>2],oc:ge[S+4>>2],Da:ge[S+8>>2],Qa:ge[S+12>>2],Ea:ge[S+16>>2],ca:ge[S+20>>2],R:ge[S+24>>2],ba:ge[S+28>>2],Nc:ge[S+32>>2],nc:ge[S+36>>2],qc:le&&le?rt(P,le):""},_=_?rt(P,_):"",le={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Oe in le)_=_.replace(new RegExp(Oe,"g"),le[Oe]);var Ke="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),at="January February March April May June July August September October November December".split(" ");le={"%a":ee=>Ke[ee.R].substring(0,3),"%A":ee=>Ke[ee.R],"%b":ee=>at[ee.Ea].substring(0,3),"%B":ee=>at[ee.Ea],"%C":ee=>B((ee.ca+1900)/100|0,2),"%d":ee=>B(ee.Qa,2),"%e":ee=>N(ee.Qa,2," "),"%g":ee=>ce(ee).toString().substring(2),"%G":ce,"%H":ee=>B(ee.Da,2),"%I":ee=>(ee=ee.Da,ee==0?ee=12:12<ee&&(ee-=12),B(ee,2)),"%j":ee=>{for(var je=0,tt=0;tt<=ee.Ea-1;je+=(Wr(ee.ca+1900)?Wa:$a)[tt++]);return B(ee.Qa+je,3)},"%m":ee=>B(ee.Ea+1,2),"%M":ee=>B(ee.oc,2),"%n":()=>`
`,"%p":ee=>0<=ee.Da&&12>ee.Da?"AM":"PM","%S":ee=>B(ee.pc,2),"%t":()=>"	","%u":ee=>ee.R||7,"%U":ee=>B(Math.floor((ee.ba+7-ee.R)/7),2),"%V":ee=>{var je=Math.floor((ee.ba+7-(ee.R+6)%7)/7);if(2>=(ee.R+371-ee.ba-2)%7&&je++,je)je==53&&(tt=(ee.R+371-ee.ba)%7,tt==4||tt==3&&Wr(ee.ca)||(je=1));else{je=52;var tt=(ee.R+7-ee.ba-1)%7;(tt==4||tt==5&&Wr(ee.ca%400-1))&&je++}return B(je,2)},"%w":ee=>ee.R,"%W":ee=>B(Math.floor((ee.ba+7-(ee.R+6)%7)/7),2),"%y":ee=>(ee.ca+1900).toString().substring(2),"%Y":ee=>ee.ca+1900,"%z":ee=>{ee=ee.nc;var je=0<=ee;return ee=Math.abs(ee)/60,(je?"+":"-")+("0000"+(ee/60*100+ee%60)).slice(-4)},"%Z":ee=>ee.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(Oe in le)_.includes(Oe)&&(_=_.replace(new RegExp(Oe,"g"),le[Oe](S)));return _=_.replace(/\0\0/g,"%"),Oe=zn(_,!1),Oe.length>d?0:(we.set(Oe,f),Oe.length-1)};[44].forEach(f=>{Ta[f]=new Ye(f),Ta[f].stack="<generic error, no stack>"}),pr=Array(4096),Pn(vt,"/"),Ti("/tmp"),Ti("/home"),Ti("/home/web_user"),(function(){Ti("/dev"),Xi(259,{read:()=>0,write:(S,N,B,$)=>$}),Vi("/dev/null",259),jt(1280,On),jt(1536,Yn),Vi("/dev/tty",1280),Vi("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=Qe(f).byteLength),f[--d]);gr("random",_),gr("urandom",_),Ti("/dev/shm"),Ti("/dev/shm/tmp")})(),(function(){Ti("/proc");var f=Ti("/proc/self");Ti("/proc/self/fd"),Pn({U(){var d=Rs(f,"fd",16895,73);return d.j={ja(_,S){var N=Mi(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>N.path}},_.parent=_}},d}},"/proc/self/fd")})(),ut=F.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},Ln.push(0,1,void 0,1,null,1,!0,1,!1,1),F.count_emval_handles=()=>Ln.length/2-5-en.length,ca=F.PureVirtualError=ua("PureVirtualError");for(var pc=Array(256),el=0;256>el;++el)pc[el]=String.fromCharCode(el);J=pc,F.getInheritedInstanceCount=()=>Object.keys(Fe).length,F.getLiveInheritedInstances=()=>{var f=[],d;for(d in Fe)Fe.hasOwnProperty(d)&&f.push(Fe[d]);return f},F.flushPendingDeletes=ve,F.setDelayFunction=f=>{Ae=f,be.length&&Ae&&Ae(ve)},xn=F.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(Ca.prototype,{isAliasOf:function(f){if(!(this instanceof Ca&&f instanceof Ca))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||fa(this),this.g.ha)return this.g.count.value+=1,this;var f=vr,d=Object,_=d.create,S=Object.getPrototypeOf(this),N=this.g;return f=f(_.call(d,S,{g:{value:{count:N.count,ea:N.ea,ha:N.ha,o:N.o,u:N.u,F:N.F,J:N.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||fa(this),this.g.ea&&!this.g.ha)throw new ut("Object already scheduled for deletion");ot(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||fa(this),this.g.ea&&!this.g.ha)throw new ut("Object already scheduled for deletion");return be.push(this),be.length===1&&Ae&&Ae(ve),this.g.ea=!0,this}}),Object.assign(Vr.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:ki,fromWireType:function(f){function d(){return this.sa?vi(this.i.M,{u:this.hc,o:_,J:this,F:f}):vi(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=ri(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=In[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var N=Rn(_,this.i,S.i);return N===null?d.call(this):this.sa?vi(S.i.M,{u:S,o:N,J:this,F:f}):vi(S.i.M,{u:S,o:N})}}),Ia=F.UnboundTypeError=ua("UnboundTypeError");var eu={__syscall_fcntl64:function(f,d,_){Ki=_;try{var S=Mi(f);switch(d){case 0:var N=g();if(0>N)break;for(;Ii[N];)N++;return Di(S,N).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return N=g(),S.flags|=N,0;case 12:return N=g(),K[N+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(B){if(typeof Yt>"u"||B.name!=="ErrnoError")throw B;return-B.$}},__syscall_ioctl:function(f,d,_){Ki=_;try{var S=Mi(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var N=g();ge[N>>2]=25856,ge[N+4>>2]=5,ge[N+8>>2]=191,ge[N+12>>2]=35387;for(var B=0;32>B;B++)we[N+B+17]=f[B]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(N=g(),f=[],B=0;32>B;B++)f.push(we[N+B+17]);return 0;case 21519:return S.s?(N=g(),ge[N>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(N=g(),!S.m.Wb)throw new Ye(59);return S.m.Wb(S,d,N);case 21523:return S.s?(S.s.V.Zb&&(B=[24,80],N=g(),K[N>>1]=B[0],K[N+2>>1]=B[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch($){if(typeof Yt>"u"||$.name!=="ErrnoError")throw $;return-$.$}},__syscall_openat:function(f,d,_,S){Ki=S;try{d=d?rt(P,d):"";var N=d;if(N.charAt(0)==="/")d=N;else{var B=f===-100?"/":Mi(f).path;if(N.length==0)throw new Ye(44);d=D(B+"/"+N)}var $=S?g():0;return Nr(d,_,$).W}catch(Z){if(typeof Yt>"u"||Z.name!=="ErrnoError")throw Z;return-Z.$}},_abort_js:()=>{wt("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=ie(f),d=Le(d,"wrapper"),_=ii(_);var S=d.i,N=S.M,B=S.C.M,$=S.C.constructor;return f=yr(f,function(...Z){S.C.pb.forEach((function(ce){if(this[ce]===B[ce])throw new ca(`Pure virtual function ${ce} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:N}),this.__construct(...Z)}),N.__construct=function(...Z){if(this===N)throw new ut("Pass correct 'this' to __construct");Z=$.implement(this,...Z),ot(Z);var ce=Z.g;if(Z.notifyOnDestruction(),ce.ha=!0,Object.defineProperties(this,{g:{value:ce}}),vr(this),Z=ce.o,Z=Ze(S,Z),Fe.hasOwnProperty(Z))throw new ut(`Tried to register registered instance: ${Z}`);Fe[Z]=this},N.__destruct=function(){if(this===N)throw new ut("Pass correct 'this' to __destruct");ot(this);var Z=this.g.o;if(Z=Ze(S,Z),Fe.hasOwnProperty(Z))delete Fe[Z];else throw new ut(`Tried to unregister unregistered instance: ${Z}`)},f.prototype=Object.create(N),Object.assign(f.prototype,_),Vn(f)},_embind_finalize_value_object:f=>{var d=ha[f];delete ha[f];var _=d.Na,S=d.O,N=d.eb,B=N.map($=>$.Ub).concat(N.map($=>$.kc));Vt([f],B,$=>{var Z={};return N.forEach((ce,le)=>{var Oe=$[le],Ke=ce.Sb,at=ce.Tb,ee=$[le+N.length],je=ce.jc,tt=ce.lc;Z[ce.Ob]={read:ze=>Oe.fromWireType(Ke(at,ze)),write:(ze,cn)=>{var We=[];je(tt,ze,ee.toWireType(We,cn)),_r(We)}}}),[{name:d.name,fromWireType:ce=>{var le={},Oe;for(Oe in Z)le[Oe]=Z[Oe].read(ce);return S(ce),le},toWireType:(ce,le)=>{for(var Oe in Z)if(!(Oe in le))throw new TypeError(`Missing field: "${Oe}"`);var Ke=_();for(Oe in Z)Z[Oe].write(Ke,le[Oe]);return ce!==null&&ce.push(S,Ke),Ke},argPackAdvance:8,readValueFromPointer:ki,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=ie(d),Wi(f,{name:d,fromWireType:function(N){return!!N},toWireType:function(N,B){return B?_:S},argPackAdvance:8,readValueFromPointer:function(N){return this.fromWireType(P[N])},L:null})},_embind_register_class:(f,d,_,S,N,B,$,Z,ce,le,Oe,Ke,at)=>{Oe=ie(Oe),B=ai(N,B),Z&&=ai($,Z),le&&=ai(ce,le),at=ai(Ke,at);var ee=Or(Oe);Dr(ee,function(){ur(`Cannot construct ${Oe} due to unbound types`,[S])}),Vt([f,d,_],S?[S]:[],je=>{if(je=je[0],S)var tt=je.i,ze=tt.M;else ze=Ca.prototype;je=yr(Oe,function(..._n){if(Object.getPrototypeOf(this)!==cn)throw new ut("Use 'new' to construct "+Oe);if(We.Z===void 0)throw new ut(Oe+" has no accessible constructor");var si=We.Z[_n.length];if(si===void 0)throw new ut(`Tried to invoke ctor of ${Oe} with invalid number of parameters (${_n.length}) - expected (${Object.keys(We.Z).toString()}) parameters instead!`);return si.apply(this,_n)});var cn=Object.create(ze,{constructor:{value:je}});je.prototype=cn;var We=new bi(Oe,je,cn,at,tt,B,Z,le);if(We.C){var Lt;(Lt=We.C).na??(Lt.na=[]),We.C.na.push(We)}return tt=new Vr(Oe,We,!0,!1,!1),Lt=new Vr(Oe+"*",We,!1,!1,!1),ze=new Vr(Oe+" const*",We,!1,!0,!1),In[f]={pointerType:Lt,Hb:ze},Ya(ee,je),[tt,Lt,ze]})},_embind_register_class_class_function:(f,d,_,S,N,B,$)=>{var Z=Ka(_,S);d=ie(d),d=xs(d),B=ai(N,B),Vt([],[f],ce=>{function le(){ur(`Cannot call ${Oe} due to unbound types`,Z)}ce=ce[0];var Oe=`${ce.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Ke=ce.i.constructor;return Ke[d]===void 0?(le.da=_-1,Ke[d]=le):(da(Ke,d,Oe),Ke[d].A[_-1]=le),Vt([],Z,at=>{if(at=ma(Oe,[at[0],null].concat(at.slice(1)),null,B,$),Ke[d].A===void 0?(at.da=_-1,Ke[d]=at):Ke[d].A[_-1]=at,ce.i.na)for(const ee of ce.i.na)ee.constructor.hasOwnProperty(d)||(ee.constructor[d]=at);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,N,B,$,Z)=>{d=ie(d),B=ai(N,B),Vt([],[f],ce=>{ce=ce[0];var le=`${ce.name}.${d}`,Oe={get(){ur(`Cannot access ${le} due to unbound types`,[_])},enumerable:!0,configurable:!0};return Oe.set=Z?()=>{ur(`Cannot access ${le} due to unbound types`,[_])}:()=>{throw new ut(`${le} is a read-only property`)},Object.defineProperty(ce.i.constructor,d,Oe),Vt([],[_],Ke=>{Ke=Ke[0];var at={get(){return Ke.fromWireType(B(S))},enumerable:!0};return Z&&(Z=ai($,Z),at.set=ee=>{var je=[];Z(S,Ke.toWireType(je,ee)),_r(je)}),Object.defineProperty(ce.i.constructor,d,at),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,N,B)=>{var $=Ka(d,_);N=ai(S,N),Vt([],[f],Z=>{Z=Z[0];var ce=`constructor ${Z.name}`;if(Z.i.Z===void 0&&(Z.i.Z=[]),Z.i.Z[d-1]!==void 0)throw new ut(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${Z.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return Z.i.Z[d-1]=()=>{ur(`Cannot construct ${Z.name} due to unbound types`,$)},Vt([],$,le=>(le.splice(1,0,null),Z.i.Z[d-1]=ma(ce,le,null,N,B),[])),[]})},_embind_register_class_function:(f,d,_,S,N,B,$,Z)=>{var ce=Ka(_,S);d=ie(d),d=xs(d),B=ai(N,B),Vt([],[f],le=>{function Oe(){ur(`Cannot call ${Ke} due to unbound types`,ce)}le=le[0];var Ke=`${le.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),Z&&le.i.pb.push(d);var at=le.i.M,ee=at[d];return ee===void 0||ee.A===void 0&&ee.className!==le.name&&ee.da===_-2?(Oe.da=_-2,Oe.className=le.name,at[d]=Oe):(da(at,d,Ke),at[d].A[_-2]=Oe),Vt([],ce,je=>(je=ma(Ke,je,le,B,$),at[d].A===void 0?(je.da=_-2,at[d]=je):at[d].A[_-2]=je,[])),[]})},_embind_register_class_property:(f,d,_,S,N,B,$,Z,ce,le)=>{d=ie(d),N=ai(S,N),Vt([],[f],Oe=>{Oe=Oe[0];var Ke=`${Oe.name}.${d}`,at={get(){ur(`Cannot access ${Ke} due to unbound types`,[_,$])},enumerable:!0,configurable:!0};return at.set=ce?()=>ur(`Cannot access ${Ke} due to unbound types`,[_,$]):()=>{throw new ut(Ke+" is a read-only property")},Object.defineProperty(Oe.i.M,d,at),Vt([],ce?[_,$]:[_],ee=>{var je=ee[0],tt={get(){var cn=kr(this,Oe,Ke+" getter");return je.fromWireType(N(B,cn))},enumerable:!0};if(ce){ce=ai(Z,ce);var ze=ee[1];tt.set=function(cn){var We=kr(this,Oe,Ke+" setter"),Lt=[];ce(le,We,ze.toWireType(Lt,cn)),_r(Lt)}}return Object.defineProperty(Oe.i.M,d,tt),[]}),[]})},_embind_register_emval:f=>Wi(f,$o),_embind_register_enum:(f,d,_,S)=>{function N(){}d=ie(d),N.values={},Wi(f,{name:d,constructor:N,fromWireType:function(B){return this.constructor.values[B]},toWireType:(B,$)=>$.value,argPackAdvance:8,readValueFromPointer:Jo(d,_,S),L:null}),Dr(d,N)},_embind_register_enum_value:(f,d,_)=>{var S=Le(f,"enum");d=ie(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:yr(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=ie(d),Wi(f,{name:d,fromWireType:S=>S,toWireType:(S,N)=>N,argPackAdvance:8,readValueFromPointer:xa(d,_),L:null})},_embind_register_function:(f,d,_,S,N,B)=>{var $=Ka(d,_);f=ie(f),f=xs(f),N=ai(S,N),Dr(f,function(){ur(`Cannot call ${f} due to unbound types`,$)},d-1),Vt([],$,Z=>(Ya(f,ma(f,[Z[0],null].concat(Z.slice(1)),null,N,B),d-1),[]))},_embind_register_integer:(f,d,_,S,N)=>{if(d=ie(d),N===-1&&(N=4294967295),N=Z=>Z,S===0){var B=32-8*_;N=Z=>Z<<B>>>B}var $=d.includes("unsigned")?function(Z,ce){return ce>>>0}:function(Z,ce){return ce};Wi(f,{name:d,fromWireType:N,toWireType:$,argPackAdvance:8,readValueFromPointer:Pi(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(B){return new N(we.buffer,Ne[B+4>>2],Ne[B>>2])}var N=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=ie(_),Wi(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=ie(d);var _=d==="std::string";Wi(f,{name:d,fromWireType:function(S){var N=Ne[S>>2],B=S+4;if(_)for(var $=B,Z=0;Z<=N;++Z){var ce=B+Z;if(Z==N||P[ce]==0){if($=$?rt(P,$,ce-$):"",le===void 0)var le=$;else le+="\0",le+=$;$=ce+1}}else{for(le=Array(N),Z=0;Z<N;++Z)le[Z]=String.fromCharCode(P[B+Z]);le=le.join("")}return hr(S),le},toWireType:function(S,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var B=typeof N=="string";if(!(B||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array))throw new ut("Cannot pass non-string to std::string");var $=_&&B?Cn(N):N.length,Z=Ja(4+$+1),ce=Z+4;if(Ne[Z>>2]=$,_&&B)mn(N,P,ce,$+1);else if(B)for(B=0;B<$;++B){var le=N.charCodeAt(B);if(255<le)throw hr(ce),new ut("String has UTF-16 code units that do not fit in 8 bits");P[ce+B]=le}else for(B=0;B<$;++B)P[ce+B]=N[B];return S!==null&&S.push(hr,Z),Z},argPackAdvance:8,readValueFromPointer:ki,L(S){hr(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=ie(_),d===2)var S=Zo,N=pa,B=u,$=Z=>Ee[Z>>1];else d===4&&(S=y,N=A,B=O,$=Z=>Ne[Z>>2]);Wi(f,{name:_,fromWireType:Z=>{for(var ce=Ne[Z>>2],le,Oe=Z+4,Ke=0;Ke<=ce;++Ke){var at=Z+4+Ke*d;(Ke==ce||$(at)==0)&&(Oe=S(Oe,at-Oe),le===void 0?le=Oe:(le+="\0",le+=Oe),Oe=at+d)}return hr(Z),le},toWireType:(Z,ce)=>{if(typeof ce!="string")throw new ut(`Cannot pass non-string to C++ string type ${_}`);var le=B(ce),Oe=Ja(4+le+d);return Ne[Oe>>2]=le/d,N(ce,Oe+4,le+d),Z!==null&&Z.push(hr,Oe),Oe},argPackAdvance:8,readValueFromPointer:ki,L(Z){hr(Z)}})},_embind_register_value_object:(f,d,_,S,N,B)=>{ha[f]={name:ie(d),Na:ai(_,S),O:ai(N,B),eb:[]}},_embind_register_value_object_field:(f,d,_,S,N,B,$,Z,ce,le)=>{ha[f].eb.push({Ob:ie(d),Ub:_,Sb:ai(S,N),Tb:B,kc:$,jc:ai(Z,ce),lc:le})},_embind_register_void:(f,d)=>{d=ie(d),Wi(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>P.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=ii(f),d=Le(d,"emval::as"),ae(d,_,f)),_emval_call_method:(f,d,_,S,N)=>(f=Ct[f],d=ii(d),_=Ue(_),f(d,d[_],S,N)),_emval_decref:Ms,_emval_get_method_caller:(f,d,_)=>{var S=on(f,d),N=S.shift();f--;var B=Array(f);return d=`methodCaller<(${S.map($=>$.name).join(", ")}) => ${N.name}>`,Zn(yr(d,($,Z,ce,le)=>{for(var Oe=0,Ke=0;Ke<f;++Ke)B[Ke]=S[Ke].readValueFromPointer(le+Oe),Oe+=S[Ke].argPackAdvance;return $=_===1?Un(Z,B):Z.apply($,B),ae(N,ce,$)}))},_emval_get_module_property:f=>(f=Ue(f),Vn(F[f])),_emval_get_property:(f,d)=>(f=ii(f),d=ii(d),Vn(f[d])),_emval_incref:f=>{9<f&&(Ln[f+1]+=1)},_emval_new_array:()=>Vn([]),_emval_new_cstring:f=>Vn(Ue(f)),_emval_new_object:()=>Vn({}),_emval_run_destructors:f=>{var d=ii(f);_r(d),Ms(f)},_emval_set_property:(f,d,_)=>{f=ii(f),d=ii(d),_=ii(_),f[d]=_},_emval_take_value:(f,d)=>(f=Le(f,"_emval_take_value"),f=f.readValueFromPointer(d),Vn(f)),emscripten_asm_const_int:(f,d,_)=>{$i.length=0;for(var S;S=P[d++];){var N=S!=105;N&=S!=112,_+=N&&_%8?4:0,$i.push(S==112?Ne[_>>2]:S==105?ge[_>>2]:ht[_>>3]),_+=N?8:4}return Tn[f](...$i)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=P.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var N=Math;S=Math.max(f,S);e:{N=(N.min.call(N,2147483648,S+(65536-S%65536)%65536)-ye.buffer.byteLength+65535)/65536;try{ye.grow(N),dt();var B=1;break e}catch{}B=void 0}if(B)return!0}return!1},environ_get:(f,d)=>{var _=0;return Er().forEach((S,N)=>{var B=d+_;for(N=Ne[f+4*N>>2]=B,B=0;B<S.length;++B)we[N++]=S.charCodeAt(B);we[N]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=Er();Ne[f>>2]=_.length;var S=0;return _.forEach(N=>S+=N.length+1),Ne[d>>2]=S,0},fd_close:function(f){try{var d=Mi(f);if(d.W===null)throw new Ye(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{Ii[d.W]=null}return d.W=null,0}catch(_){if(typeof Yt>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var N=Mi(f);f=d;for(var B,$=d=0;$<_;$++){var Z=Ne[f>>2],ce=Ne[f+4>>2];f+=8;var le=N,Oe=B,Ke=we;if(0>ce||0>Oe)throw new Ye(28);if(le.W===null)throw new Ye(8);if((le.flags&2097155)===1)throw new Ye(8);if((le.node.mode&61440)===16384)throw new Ye(31);if(!le.m.read)throw new Ye(28);var at=typeof Oe<"u";if(!at)Oe=le.position;else if(!le.seekable)throw new Ye(70);var ee=le.m.read(le,Ke,Z,ce,Oe);at||(le.position+=ee);var je=ee;if(0>je){var tt=-1;break e}if(d+=je,je<ce)break;typeof B<"u"&&(B+=je)}tt=d}return Ne[S>>2]=tt,0}catch(ze){if(typeof Yt>"u"||ze.name!=="ErrnoError")throw ze;return ze.$}},fd_seek:function(f,d,_,S,N){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var B=Mi(f);return Aa(B,d,S),Gt=[B.position>>>0,(Kn=B.position,1<=+Math.abs(Kn)?0<Kn?+Math.floor(Kn/4294967296)>>>0:~~+Math.ceil((Kn-+(~~Kn>>>0))/4294967296)>>>0:0)],ge[N>>2]=Gt[0],ge[N+4>>2]=Gt[1],B.Ka&&d===0&&S===0&&(B.Ka=null),0}catch($){if(typeof Yt>"u"||$.name!=="ErrnoError")throw $;return $.$}},fd_write:function(f,d,_,S){try{e:{var N=Mi(f);f=d;for(var B,$=d=0;$<_;$++){var Z=Ne[f>>2],ce=Ne[f+4>>2];f+=8;var le=N,Oe=Z,Ke=ce,at=B,ee=we;if(0>Ke||0>at)throw new Ye(28);if(le.W===null)throw new Ye(8);if((le.flags&2097155)===0)throw new Ye(8);if((le.node.mode&61440)===16384)throw new Ye(31);if(!le.m.write)throw new Ye(28);le.seekable&&le.flags&1024&&Aa(le,0,2);var je=typeof at<"u";if(!je)at=le.position;else if(!le.seekable)throw new Ye(70);var tt=le.m.write(le,ee,Oe,Ke,at,void 0);je||(le.position+=tt);var ze=tt;if(0>ze){var cn=-1;break e}d+=ze,typeof B<"u"&&(B+=ze)}cn=d}return Ne[S>>2]=cn,0}catch(We){if(typeof Yt>"u"||We.name!=="ErrnoError")throw We;return We.$}},strftime_l:(f,d,_,S)=>Sf(f,d,_,S)},Bn=(function(){function f(_){return Bn=_.exports,ye=Bn.memory,dt(),Xa=Bn.__indirect_function_table,Ot.unshift(Bn.__wasm_call_ctors),St--,F.monitorRunDependencies?.(St),St==0&&Nt&&(_=Nt,Nt=null,_()),Bn}var d={env:eu,wasi_snapshot_preview1:eu};if(St++,F.monitorRunDependencies?.(St),F.instantiateWasm)try{return F.instantiateWasm(d,f)}catch(_){G(`Module.instantiateWasm callback failed with error: ${_}`),Re(_)}return Zt||=En("canvas_advanced.wasm")?"canvas_advanced.wasm":F.locateFile?F.locateFile("canvas_advanced.wasm",k):k+"canvas_advanced.wasm",Gi(d,function(_){f(_.instance)}).catch(Re),{}})(),hr=f=>(hr=Bn.free)(f),Ja=f=>(Ja=Bn.malloc)(f),gc=f=>(gc=Bn.__getTypeName)(f),Ao=F._ma_device__on_notification_unlocked=f=>(Ao=F._ma_device__on_notification_unlocked=Bn.ma_device__on_notification_unlocked)(f);F._ma_malloc_emscripten=(f,d)=>(F._ma_malloc_emscripten=Bn.ma_malloc_emscripten)(f,d),F._ma_free_emscripten=(f,d)=>(F._ma_free_emscripten=Bn.ma_free_emscripten)(f,d);var tu=F._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(tu=F._ma_device_process_pcm_frames_capture__webaudio=Bn.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),nu=F._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(nu=F._ma_device_process_pcm_frames_playback__webaudio=Bn.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);F.dynCall_iiji=(f,d,_,S,N)=>(F.dynCall_iiji=Bn.dynCall_iiji)(f,d,_,S,N),F.dynCall_jiji=(f,d,_,S,N)=>(F.dynCall_jiji=Bn.dynCall_jiji)(f,d,_,S,N),F.dynCall_iiiji=(f,d,_,S,N,B)=>(F.dynCall_iiiji=Bn.dynCall_iiiji)(f,d,_,S,N,B),F.dynCall_iij=(f,d,_,S)=>(F.dynCall_iij=Bn.dynCall_iij)(f,d,_,S),F.dynCall_jii=(f,d,_)=>(F.dynCall_jii=Bn.dynCall_jii)(f,d,_),F.dynCall_viijii=(f,d,_,S,N,B,$)=>(F.dynCall_viijii=Bn.dynCall_viijii)(f,d,_,S,N,B,$),F.dynCall_iiiiij=(f,d,_,S,N,B,$)=>(F.dynCall_iiiiij=Bn.dynCall_iiiiij)(f,d,_,S,N,B,$),F.dynCall_iiiiijj=(f,d,_,S,N,B,$,Z,ce)=>(F.dynCall_iiiiijj=Bn.dynCall_iiiiijj)(f,d,_,S,N,B,$,Z,ce),F.dynCall_iiiiiijj=(f,d,_,S,N,B,$,Z,ce,le)=>(F.dynCall_iiiiiijj=Bn.dynCall_iiiiiijj)(f,d,_,S,N,B,$,Z,ce,le);var Ds;Nt=function f(){Ds||tl(),Ds||(Nt=f)};function tl(){function f(){if(!Ds&&(Ds=!0,F.calledRun=!0,!he)){if(F.noFSInit||Sa||(Sa=!0,F.stdin=F.stdin,F.stdout=F.stdout,F.stderr=F.stderr,F.stdin?gr("stdin",F.stdin):Qi("/dev/tty","/dev/stdin"),F.stdout?gr("stdout",null,F.stdout):Qi("/dev/tty","/dev/stdout"),F.stderr?gr("stderr",null,F.stderr):Qi("/dev/tty1","/dev/stderr"),Nr("/dev/stdin",0),Nr("/dev/stdout",1),Nr("/dev/stderr",1)),Gr=!1,C(Ot),Me(F),F.onRuntimeInitialized&&F.onRuntimeInitialized(),F.postRun)for(typeof F.postRun=="function"&&(F.postRun=[F.postRun]);F.postRun.length;){var d=F.postRun.shift();un.unshift(d)}C(un)}}if(!(0<St)){if(F.preRun)for(typeof F.preRun=="function"&&(F.preRun=[F.preRun]);F.preRun.length;)ft();C(bt),0<St||(F.setStatus?(F.setStatus("Running..."),setTimeout(function(){setTimeout(function(){F.setStatus("")},1),f()},1)):f())}}if(F.preInit)for(typeof F.preInit=="function"&&(F.preInit=[F.preInit]);0<F.preInit.length;)F.preInit.pop()();return tl(),re=Ve,re})})();const x=w}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w.Animation});var w=E(4)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w});var w=(function(){function x(U,j,re,F){this.animation=U,this.artboard=j,this.playing=F,this.loopCount=0,this.scrubTo=null,this.instance=new re.LinearAnimationInstance(U,j)}return Object.defineProperty(x.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"time",{get:function(){return this.instance.time},set:function(U){this.instance.time=U},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),x.prototype.advance=function(U){this.scrubTo===null?this.instance.advance(U):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},x.prototype.apply=function(U){this.instance.apply(U)},x.prototype.cleanup=function(){this.instance.delete()},x})()}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>U.AudioAssetWrapper,AudioWrapper:()=>U.AudioWrapper,BLANK_URL:()=>x.BLANK_URL,CustomFileAssetLoaderWrapper:()=>U.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>U.FileAssetWrapper,FileFinalizer:()=>U.FileFinalizer,FontAssetWrapper:()=>U.FontAssetWrapper,FontWrapper:()=>U.FontWrapper,ImageAssetWrapper:()=>U.ImageAssetWrapper,ImageWrapper:()=>U.ImageWrapper,createFinalization:()=>U.createFinalization,finalizationRegistry:()=>U.finalizationRegistry,registerTouchInteractions:()=>w.registerTouchInteractions,sanitizeUrl:()=>x.sanitizeUrl});var w=E(6),x=E(7),U=E(8)}),((p,b,E)=>{E.r(b),E.d(b,{registerTouchInteractions:()=>U});var w=void 0,x=function(j,re,F){var Me,Re,Ve=[];if(["touchstart","touchmove"].indexOf(j.type)>-1&&(!((Me=j.changedTouches)===null||Me===void 0)&&Me.length)){re||j.preventDefault();for(var ke=0,Be=F?j.changedTouches.length:1;ke<Be;){var Xe=j.changedTouches[ke];Ve.push({clientX:Xe.clientX,clientY:Xe.clientY,identifier:Xe.identifier}),ke++}}else if(j.type==="touchend"&&(!((Re=j.changedTouches)===null||Re===void 0)&&Re.length))for(var ke=0,Be=F?j.changedTouches.length:1;ke<Be;){var Xe=j.changedTouches[ke];Ve.push({clientX:Xe.clientX,clientY:Xe.clientY,identifier:Xe.identifier}),ke++}else Ve.push({clientX:j.clientX,clientY:j.clientY,identifier:0});return Ve},U=function(j){var re=j.canvas,F=j.artboard,Me=j.stateMachines,Re=Me===void 0?[]:Me,Ve=j.renderer,ke=j.rive,Be=j.fit,Xe=j.alignment,ct=j.isTouchScrollEnabled,mt=ct===void 0?!1:ct,q=j.dispatchPointerExit,z=q===void 0?!0:q,V=j.enableMultiTouch,H=V===void 0?!1:V,I=j.layoutScaleFactor,k=I===void 0?1:I;if(!re||!Re.length||!Ve||!ke||!F||typeof window>"u")return null;var R=null,Q=!1,se=function(te){if(Q&&te instanceof MouseEvent){te.type=="mouseup"&&(Q=!1);return}Q=mt&&te.type==="touchend"&&R==="touchstart",R=te.type;var ye=te.currentTarget.getBoundingClientRect(),he=x(te,mt,H),we=ke.computeAlignment(Be,Xe,{minX:0,minY:0,maxX:ye.width,maxY:ye.height},F.bounds,k),P=new ke.Mat2D;switch(we.invert(P),he.forEach(function(Zt){var it=Zt.clientX,sn=Zt.clientY;if(!(!it&&!sn)){var dn=it-ye.left,Gi=sn-ye.top,Kn=new ke.Vec2D(dn,Gi),Gt=ke.mapXY(P,Kn),Tn=Gt.x(),C=Gt.y();Zt.transformedX=Tn,Zt.transformedY=C,Gt.delete(),Kn.delete()}}),P.delete(),we.delete(),te.type){case"mouseout":for(var K=function(Zt){z?he.forEach(function(it){Zt.pointerExit(it.transformedX,it.transformedY,it.identifier)}):he.forEach(function(it){Zt.pointerMove(it.transformedX,it.transformedY,it.identifier)})},Ee=0,ge=Re;Ee<ge.length;Ee++){var Ne=ge[Ee];K(Ne)}break;case"touchmove":case"mouseover":case"mousemove":{for(var He=function(Zt){he.forEach(function(it){Zt.pointerMove(it.transformedX,it.transformedY,it.identifier)})},ht=0,dt=Re;ht<dt.length;ht++){var Ne=dt[ht];He(Ne)}break}case"touchstart":case"mousedown":{for(var bt=function(Zt){he.forEach(function(it){Zt.pointerDown(it.transformedX,it.transformedY,it.identifier)})},Ot=0,un=Re;Ot<un.length;Ot++){var Ne=un[Ot];bt(Ne)}break}case"touchend":{for(var ft=function(Zt){he.forEach(function(it){Zt.pointerUp(it.transformedX,it.transformedY,it.identifier),Zt.pointerExit(it.transformedX,it.transformedY,it.identifier)})},St=0,Nt=Re;St<Nt.length;St++){var Ne=Nt[St];ft(Ne)}break}case"mouseup":{for(var wt=function(Zt){he.forEach(function(it){Zt.pointerUp(it.transformedX,it.transformedY,it.identifier)})},En=0,ci=Re;En<ci.length;En++){var Ne=ci[En];wt(Ne)}break}}},G=se.bind(w);return re.addEventListener("mouseover",G),re.addEventListener("mouseout",G),re.addEventListener("mousemove",G),re.addEventListener("mousedown",G),re.addEventListener("mouseup",G),re.addEventListener("touchmove",G,{passive:mt}),re.addEventListener("touchstart",G,{passive:mt}),re.addEventListener("touchend",G),function(){re.removeEventListener("mouseover",G),re.removeEventListener("mouseout",G),re.removeEventListener("mousemove",G),re.removeEventListener("mousedown",G),re.removeEventListener("mouseup",G),re.removeEventListener("touchmove",G),re.removeEventListener("touchstart",G),re.removeEventListener("touchend",G)}}}),((p,b,E)=>{E.r(b),E.d(b,{BLANK_URL:()=>Me,sanitizeUrl:()=>ke});var w=/^([^\w]*)(javascript|data|vbscript)/im,x=/&#(\w+)(^\w|;)?/g,U=/&(newline|tab);/gi,j=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,re=/^.+(:|&colon;)/gim,F=[".","/"],Me="about:blank";function Re(Be){return F.indexOf(Be[0])>-1}function Ve(Be){var Xe=Be.replace(j,"");return Xe.replace(x,function(ct,mt){return String.fromCharCode(mt)})}function ke(Be){if(!Be)return Me;var Xe=Ve(Be).replace(U,"").replace(j,"").trim();if(!Xe)return Me;if(Re(Xe))return Xe;var ct=Xe.match(re);if(!ct)return Xe;var mt=ct[0];return w.test(mt)?Me:Xe}}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>Be,AudioWrapper:()=>F,CustomFileAssetLoaderWrapper:()=>Re,FileAssetWrapper:()=>Ve,FileFinalizer:()=>x,FontAssetWrapper:()=>Xe,FontWrapper:()=>Me,ImageAssetWrapper:()=>ke,ImageWrapper:()=>re,createFinalization:()=>z,finalizationRegistry:()=>q});var w=(function(){var V=function(H,I){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,R){k.__proto__=R}||function(k,R){for(var Q in R)Object.prototype.hasOwnProperty.call(R,Q)&&(k[Q]=R[Q])},V(H,I)};return function(H,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");V(H,I);function k(){this.constructor=H}H.prototype=I===null?Object.create(I):(k.prototype=I.prototype,new k)}})(),x=(function(){function V(H){this.selfUnref=!1,this._file=H}return V.prototype.unref=function(){this._file&&this._file.unref()},V})(),U=(function(){function V(H){this._finalizableObject=H}return V.prototype.unref=function(){this._finalizableObject.unref()},V})(),j=(function(){function V(){this.selfUnref=!1}return V.prototype.unref=function(){},V})(),re=(function(V){w(H,V);function H(I){var k=V.call(this)||this;return k._nativeImage=I,k}return Object.defineProperty(H.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},H})(j),F=(function(V){w(H,V);function H(I){var k=V.call(this)||this;return k._nativeAudio=I,k}return Object.defineProperty(H.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},H})(j),Me=(function(V){w(H,V);function H(I){var k=V.call(this)||this;return k._nativeFont=I,k}return Object.defineProperty(H.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},H})(j),Re=(function(){function V(H,I){this._assetLoaderCallback=I,this.assetLoader=new H.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return V.prototype.loadContents=function(H,I){var k;return H.isImage?k=new ke(H):H.isAudio?k=new Be(H):H.isFont&&(k=new Xe(H)),this._assetLoaderCallback(k,I)},V})(),Ve=(function(){function V(H){this._nativeFileAsset=H}return V.prototype.decode=function(H){this._nativeFileAsset.decode(H)},Object.defineProperty(V.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),V})(),ke=(function(V){w(H,V);function H(){return V!==null&&V.apply(this,arguments)||this}return H.prototype.setRenderImage=function(I){this._nativeFileAsset.setRenderImage(I.nativeImage)},H})(Ve),Be=(function(V){w(H,V);function H(){return V!==null&&V.apply(this,arguments)||this}return H.prototype.setAudioSource=function(I){this._nativeFileAsset.setAudioSource(I.nativeAudio)},H})(Ve),Xe=(function(V){w(H,V);function H(){return V!==null&&V.apply(this,arguments)||this}return H.prototype.setFont=function(I){this._nativeFileAsset.setFont(I.nativeFont)},H})(Ve),ct=(function(){function V(H){}return V.prototype.register=function(H){H.selfUnref=!0},V.prototype.unregister=function(H){},V})(),mt=typeof FinalizationRegistry<"u"?FinalizationRegistry:ct,q=new mt(function(V){V?.unref()}),z=function(V,H){var I=new U(H);q.register(V,I)}})],s={};function l(p){var b=s[p];if(b!==void 0)return b.exports;var E=s[p]={exports:{}};return i[p](E,E.exports,l),E.exports}l.d=(p,b)=>{for(var E in b)l.o(b,E)&&!l.o(p,E)&&Object.defineProperty(p,E,{enumerable:!0,get:b[E]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>ke,DataEnum:()=>ht,EventType:()=>R,Fit:()=>Ve,Layout:()=>Be,LoopType:()=>Q,Rive:()=>Ne,RiveEventType:()=>q,RiveFile:()=>ge,RuntimeLoader:()=>Xe,StateMachineInput:()=>mt,StateMachineInputType:()=>ct,Testing:()=>Gi,ViewModel:()=>He,ViewModelInstance:()=>bt,ViewModelInstanceArtboard:()=>it,ViewModelInstanceAssetImage:()=>Zt,ViewModelInstanceBoolean:()=>St,ViewModelInstanceColor:()=>ci,ViewModelInstanceEnum:()=>wt,ViewModelInstanceList:()=>En,ViewModelInstanceNumber:()=>ft,ViewModelInstanceString:()=>un,ViewModelInstanceTrigger:()=>Nt,ViewModelInstanceValue:()=>Ot,decodeAudio:()=>Kn,decodeFont:()=>Tn,decodeImage:()=>Gt});var p=l(1),b=l(2),E=l(3),w=l(5),x=(function(){var C=function(g,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,W){D.__proto__=W}||function(D,W){for(var me in W)Object.prototype.hasOwnProperty.call(W,me)&&(D[me]=W[me])},C(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(g,v);function D(){this.constructor=g}g.prototype=v===null?Object.create(v):(D.prototype=v.prototype,new D)}})(),U=function(){return U=Object.assign||function(C){for(var g,v=1,D=arguments.length;v<D;v++){g=arguments[v];for(var W in g)Object.prototype.hasOwnProperty.call(g,W)&&(C[W]=g[W])}return C},U.apply(this,arguments)},j=function(C,g,v,D){function W(me){return me instanceof v?me:new v(function(Ie){Ie(me)})}return new(v||(v=Promise))(function(me,Ie){function Qe(rt){try{Ge(D.next(rt))}catch(Bt){Ie(Bt)}}function Je(rt){try{Ge(D.throw(rt))}catch(Bt){Ie(Bt)}}function Ge(rt){rt.done?me(rt.value):W(rt.value).then(Qe,Je)}Ge((D=D.apply(C,g||[])).next())})},re=function(C,g){var v={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},D,W,me,Ie=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ie.next=Qe(0),Ie.throw=Qe(1),Ie.return=Qe(2),typeof Symbol=="function"&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Qe(Ge){return function(rt){return Je([Ge,rt])}}function Je(Ge){if(D)throw new TypeError("Generator is already executing.");for(;Ie&&(Ie=0,Ge[0]&&(v=0)),v;)try{if(D=1,W&&(me=Ge[0]&2?W.return:Ge[0]?W.throw||((me=W.return)&&me.call(W),0):W.next)&&!(me=me.call(W,Ge[1])).done)return me;switch(W=0,me&&(Ge=[Ge[0]&2,me.value]),Ge[0]){case 0:case 1:me=Ge;break;case 4:return v.label++,{value:Ge[1],done:!1};case 5:v.label++,W=Ge[1],Ge=[0];continue;case 7:Ge=v.ops.pop(),v.trys.pop();continue;default:if(me=v.trys,!(me=me.length>0&&me[me.length-1])&&(Ge[0]===6||Ge[0]===2)){v=0;continue}if(Ge[0]===3&&(!me||Ge[1]>me[0]&&Ge[1]<me[3])){v.label=Ge[1];break}if(Ge[0]===6&&v.label<me[1]){v.label=me[1],me=Ge;break}if(me&&v.label<me[2]){v.label=me[2],v.ops.push(Ge);break}me[2]&&v.ops.pop(),v.trys.pop();continue}Ge=g.call(C,v)}catch(rt){Ge=[6,rt],W=0}finally{D=me=0}if(Ge[0]&5)throw Ge[1];return{value:Ge[0]?Ge[1]:void 0,done:!0}}},F=function(C,g,v){if(v||arguments.length===2)for(var D=0,W=g.length,me;D<W;D++)(me||!(D in g))&&(me||(me=Array.prototype.slice.call(g,0,D)),me[D]=g[D]);return C.concat(me||Array.prototype.slice.call(g))},Me=(function(C){x(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Re=function(C){return C&&C.isHandledError?C.message:"Problem loading file; may be corrupt!"},Ve;(function(C){C.Cover="cover",C.Contain="contain",C.Fill="fill",C.FitWidth="fitWidth",C.FitHeight="fitHeight",C.None="none",C.ScaleDown="scaleDown",C.Layout="layout"})(Ve||(Ve={}));var ke;(function(C){C.Center="center",C.TopLeft="topLeft",C.TopCenter="topCenter",C.TopRight="topRight",C.CenterLeft="centerLeft",C.CenterRight="centerRight",C.BottomLeft="bottomLeft",C.BottomCenter="bottomCenter",C.BottomRight="bottomRight"})(ke||(ke={}));var Be=(function(){function C(g){var v,D,W,me,Ie,Qe,Je;this.fit=(v=g?.fit)!==null&&v!==void 0?v:Ve.Contain,this.alignment=(D=g?.alignment)!==null&&D!==void 0?D:ke.Center,this.layoutScaleFactor=(W=g?.layoutScaleFactor)!==null&&W!==void 0?W:1,this.minX=(me=g?.minX)!==null&&me!==void 0?me:0,this.minY=(Ie=g?.minY)!==null&&Ie!==void 0?Ie:0,this.maxX=(Qe=g?.maxX)!==null&&Qe!==void 0?Qe:0,this.maxY=(Je=g?.maxY)!==null&&Je!==void 0?Je:0}return C.new=function(g){var v=g.fit,D=g.alignment,W=g.minX,me=g.minY,Ie=g.maxX,Qe=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new C({fit:v,alignment:D,minX:W,minY:me,maxX:Ie,maxY:Qe})},C.prototype.copyWith=function(g){var v=g.fit,D=g.alignment,W=g.layoutScaleFactor,me=g.minX,Ie=g.minY,Qe=g.maxX,Je=g.maxY;return new C({fit:v??this.fit,alignment:D??this.alignment,layoutScaleFactor:W??this.layoutScaleFactor,minX:me??this.minX,minY:Ie??this.minY,maxX:Qe??this.maxX,maxY:Je??this.maxY})},C.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===Ve.Cover?v=g.Fit.cover:this.fit===Ve.Contain?v=g.Fit.contain:this.fit===Ve.Fill?v=g.Fit.fill:this.fit===Ve.FitWidth?v=g.Fit.fitWidth:this.fit===Ve.FitHeight?v=g.Fit.fitHeight:this.fit===Ve.ScaleDown?v=g.Fit.scaleDown:this.fit===Ve.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},C.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===ke.TopLeft?v=g.Alignment.topLeft:this.alignment===ke.TopCenter?v=g.Alignment.topCenter:this.alignment===ke.TopRight?v=g.Alignment.topRight:this.alignment===ke.CenterLeft?v=g.Alignment.centerLeft:this.alignment===ke.CenterRight?v=g.Alignment.centerRight:this.alignment===ke.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===ke.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===ke.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},C})(),Xe=(function(){function C(){}return C.loadRuntime=function(){p.default({locateFile:function(){return C.wasmURL}}).then(function(g){var v;for(C.runtime=g;C.callBackQueue.length>0;)(v=C.callBackQueue.shift())===null||v===void 0||v(C.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var D="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(C.wasmURL.toLowerCase()!==D)console.warn("Failed to load WASM from ".concat(C.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),C.setWasmUrl(D),C.loadRuntime();else{var W=["Could not load Rive WASM file from ".concat(C.wasmURL," or ").concat(D,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(W)}})},C.getInstance=function(g){C.isLoading||(C.isLoading=!0,C.loadRuntime()),C.runtime?g(C.runtime):C.callBackQueue.push(g)},C.awaitInstance=function(){return new Promise(function(g){return C.getInstance(function(v){return g(v)})})},C.setWasmUrl=function(g){C.wasmURL=g},C.getWasmUrl=function(){return C.wasmURL},C.isLoading=!1,C.callBackQueue=[],C.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),C})(),ct;(function(C){C[C.Number=56]="Number",C[C.Trigger=58]="Trigger",C[C.Boolean=59]="Boolean"})(ct||(ct={}));var mt=(function(){function C(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(C.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),C.prototype.fire=function(){this.type===ct.Trigger&&this.runtimeInput.fire()},C.prototype.delete=function(){this.runtimeInput=null},C})(),q;(function(C){C[C.General=128]="General",C[C.OpenUrl=131]="OpenUrl"})(q||(q={}));var z=(function(){function C(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return C})(),V=(function(C){x(g,C);function g(v,D){var W=C.call(this,!1)||this;return W.nativeArtboard=v,W.file=D,W}return g})(z),H=(function(C){x(g,C);function g(v){var D=C.call(this,!0)||this;return D.selfUnref=!1,D.nativeArtboard=v,D}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(z),I=(function(){function C(g,v,D,W){this.stateMachine=g,this.playing=D,this.artboard=W,this.inputs=[],this.instance=new v.StateMachineInstance(g,W),this.initInputs(v)}return Object.defineProperty(C.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),C.prototype.advance=function(g){this.instance.advance(g)},C.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},C.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},C.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},C.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var D=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(D,g))}},C.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new mt(ct.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new mt(ct.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new mt(ct.Trigger,g.asTrigger())},C.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},C.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},C})(),k=(function(){function C(g,v,D,W,me){W===void 0&&(W=[]),me===void 0&&(me=[]),this.runtime=g,this.artboard=v,this.eventManager=D,this.animations=W,this.stateMachines=me}return C.prototype.add=function(g,v,D){if(D===void 0&&(D=!0),g=dn(g),g.length===0)this.animations.forEach(function(mn){return mn.playing=v}),this.stateMachines.forEach(function(mn){return mn.playing=v});else for(var W=this.animations.map(function(mn){return mn.name}),me=this.stateMachines.map(function(mn){return mn.name}),Ie=0;Ie<g.length;Ie++){var Qe=W.indexOf(g[Ie]),Je=me.indexOf(g[Ie]);if(Qe>=0||Je>=0)Qe>=0?this.animations[Qe].playing=v:this.stateMachines[Je].playing=v;else{var Ge=this.artboard.animationByName(g[Ie]);if(Ge){var rt=new E.Animation(Ge,this.artboard,this.runtime,v);rt.advance(0),rt.apply(1),this.animations.push(rt)}else{var Bt=this.artboard.stateMachineByName(g[Ie]);if(Bt){var Cn=new I(Bt,this.runtime,v,this.artboard);this.stateMachines.push(Cn)}}}}return D&&(v?this.eventManager.fire({type:R.Play,data:this.playing}):this.eventManager.fire({type:R.Pause,data:this.paused})),v?this.playing:this.paused},C.prototype.initLinearAnimations=function(g,v){for(var D=this.animations.map(function(Je){return Je.name}),W=0;W<g.length;W++){var me=D.indexOf(g[W]);if(me>=0)this.animations[me].playing=v;else{var Ie=this.artboard.animationByName(g[W]);if(Ie){var Qe=new E.Animation(Ie,this.artboard,this.runtime,v);Qe.advance(0),Qe.apply(1),this.animations.push(Qe)}else console.error("Animation with name ".concat(g[W]," not found."))}}},C.prototype.initStateMachines=function(g,v){for(var D=this.stateMachines.map(function(Je){return Je.name}),W=0;W<g.length;W++){var me=D.indexOf(g[W]);if(me>=0)this.stateMachines[me].playing=v;else{var Ie=this.artboard.stateMachineByName(g[W]);if(Ie){var Qe=new I(Ie,this.runtime,v,this.artboard);this.stateMachines.push(Qe)}else console.warn("State Machine with name ".concat(g[W]," not found.")),this.initLinearAnimations([g[W]],v)}}},C.prototype.play=function(g){return this.add(g,!0)},C.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},C.prototype.pause=function(g){return this.add(g,!1)},C.prototype.scrub=function(g,v){var D=this.animations.filter(function(W){return g.includes(W.name)});return D.forEach(function(W){return W.scrubTo=v}),D.map(function(W){return W.name})},Object.defineProperty(C.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),C.prototype.stop=function(g){var v=this;g=dn(g);var D=[];if(g.length===0)D=this.animations.map(function(Ie){return Ie.name}).concat(this.stateMachines.map(function(Ie){return Ie.name})),this.animations.forEach(function(Ie){return Ie.cleanup()}),this.stateMachines.forEach(function(Ie){return Ie.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var W=this.animations.filter(function(Ie){return g.includes(Ie.name)});W.forEach(function(Ie){Ie.cleanup(),v.animations.splice(v.animations.indexOf(Ie),1)});var me=this.stateMachines.filter(function(Ie){return g.includes(Ie.name)});me.forEach(function(Ie){Ie.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ie),1)}),D=W.map(function(Ie){return Ie.name}).concat(me.map(function(Ie){return Ie.name}))}return this.eventManager.fire({type:R.Stop,data:D}),D},Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),C.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var D;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([D=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([D=this.artboard.stateMachineByIndex(0).name],g,v)),D},C.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(W){return W.playing});g<v.length;g++){var D=v[g];D.loopValue===0&&D.loopCount?(D.loopCount=0,this.stop(D.name)):D.loopValue===1&&D.loopCount?(this.eventManager.fire({type:R.Loop,data:{animation:D.name,type:Q.Loop}}),D.loopCount=0):D.loopValue===2&&D.loopCount>1&&(this.eventManager.fire({type:R.Loop,data:{animation:D.name,type:Q.PingPong}}),D.loopCount=0)}},C.prototype.handleStateChanges=function(){for(var g=[],v=0,D=this.stateMachines.filter(function(me){return me.playing});v<D.length;v++){var W=D[v];g.push.apply(g,W.statesChanged)}g.length>0&&this.eventManager.fire({type:R.StateChange,data:g})},C.prototype.handleAdvancing=function(g){this.eventManager.fire({type:R.Advance,data:g})},C})(),R;(function(C){C.Load="load",C.LoadError="loaderror",C.Play="play",C.Pause="pause",C.Stop="stop",C.Loop="loop",C.Draw="draw",C.Advance="advance",C.StateChange="statechange",C.RiveEvent="riveevent",C.AudioStatusChange="audiostatuschange"})(R||(R={}));var Q;(function(C){C.OneShot="oneshot",C.Loop="loop",C.PingPong="pingpong"})(Q||(Q={}));var se=(function(){function C(g){g===void 0&&(g=[]),this.listeners=g}return C.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},C.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},C.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var D=this.listeners[v];if(D.type===g.type&&D.callback===g.callback){this.listeners.splice(v,1);break}}},C.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(D){return D.type===g}).forEach(function(D){return v.remove(D)}):this.listeners.splice(0,this.listeners.length)},C.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(D){return D.callback(g)})},C})(),G=(function(){function C(g){this.eventManager=g,this.queue=[]}return C.prototype.add=function(g){this.queue.push(g)},C.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},C})(),te;(function(C){C[C.AVAILABLE=0]="AVAILABLE",C[C.UNAVAILABLE=1]="UNAVAILABLE"})(te||(te={}));var ye=(function(C){x(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=te.UNAVAILABLE,v}return g.prototype.delay=function(v){return j(this,void 0,void 0,function(){return re(this,function(D){return[2,new Promise(function(W){return setTimeout(W,v)})]})})},g.prototype.timeout=function(){return j(this,void 0,void 0,function(){return re(this,function(v){return[2,new Promise(function(D,W){return setTimeout(W,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:R.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return j(this,void 0,void 0,function(){return re(this,function(v){return this._enabled||(this._enabled=!0,this._status=te.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return j(this,void 0,void 0,function(){return re(this,function(v){switch(v.label){case 0:if(!(this._status===te.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return j(this,void 0,void 0,function(){return re(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==te.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,D=function(){return j(v,void 0,void 0,function(){return re(this,function(W){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",D,{once:!0})},g.prototype.establishAudio=function(){return j(this,void 0,void 0,function(){return re(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===te.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(se),he=new ye,we=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),P=globalThis.ResizeObserver||we,K=(function(){function C(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var D=g._elementsMap.get(v.target);D!==null?D.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new P(this._onObserved)}return C.prototype.add=function(g,v){var D={onResize:v,element:g};return this._elementsMap.set(g,D),this._resizeObserver.observe(g),D},C.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},C})(),Ee=new K,ge=(function(){function C(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new se,g.onLoad&&this.on(R.Load,g.onLoad),g.onLoadError&&this.on(R.LoadError,g.onLoadError)}return C.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},C.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},C.prototype.initData=function(){return j(this,void 0,void 0,function(){var g,v,D,W,me;return re(this,function(Ie){switch(Ie.label){case 0:return this.src?(g=this,[4,sn(this.src)]):[3,2];case 1:g.buffer=Ie.sent(),Ie.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(D=new w.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=D.assetLoader),W=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return W.file=Ie.sent(),me=new w.FileFinalizer(this.file),w.finalizationRegistry.register(this,me),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:R.Load,data:this}):this.fireLoadError(C.fileLoadErrorMessage),[2])}})})},C.prototype.init=function(){return j(this,void 0,void 0,function(){var g,v;return re(this,function(D){switch(D.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(C.missingErrorMessage),[2];D.label=1;case 1:return D.trys.push([1,4,,5]),g=this,[4,Xe.awaitInstance()];case 2:return g.runtime=D.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return D.sent(),[3,5];case 4:return v=D.sent(),this.fireLoadError(v instanceof Error?v.message:C.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},C.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:R.LoadError,data:g}),new Error(g)},C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},C.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},C.prototype.createBindableArtboard=function(g){if(g!=null){var v=new H(g);return(0,w.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},C.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new V(v,this)},C.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},C.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},C.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},C.missingErrorMessage="Rive source file or data buffer required",C.fileLoadErrorMessage="The file failed to load",C})(),Ne=(function(){function C(g){var v=this,D;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(W){var me=v._hasZeroSize!==W;v._hasZeroSize=W,W?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():me&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Ee.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(D=g.layout)!==null&&D!==void 0?D:new Be,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new se,g.onLoad&&this.on(R.Load,g.onLoad),g.onLoadError&&this.on(R.LoadError,g.onLoadError),g.onPlay&&this.on(R.Play,g.onPlay),g.onPause&&this.on(R.Pause,g.onPause),g.onStop&&this.on(R.Stop,g.onStop),g.onLoop&&this.on(R.Loop,g.onLoop),g.onStateChange&&this.on(R.StateChange,g.onStateChange),g.onAdvance&&this.on(R.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(R.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(R.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(R.Play,g.onplay),g.onpause&&!g.onPause&&this.on(R.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(R.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(R.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(R.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new G(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(C.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),C.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new C(g)},C.prototype.onSystemAudioChanged=function(){this.volume=this._volume},C.prototype.init=function(g){var v=this,D=g.src,W=g.buffer,me=g.riveFile,Ie=g.animations,Qe=g.stateMachines,Je=g.artboard,Ge=g.autoplay,rt=Ge===void 0?!1:Ge,Bt=g.useOffscreenRenderer,Cn=Bt===void 0?!1:Bt,mn=g.autoBind,zn=mn===void 0?!1:mn;if(!this.destroyed){if(this.src=D,this.buffer=W,this.riveFile=me,!this.src&&!this.buffer&&!this.riveFile)throw new Me(C.missingErrorMessage);var Wn=dn(Ie),jt=dn(Qe);this.loaded=!1,this.readyForPlaying=!1,Xe.awaitInstance().then(function(nn){v.destroyed||(v.runtime=nn,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,Cn),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(Je,Wn,jt,rt,zn).then(function(On){if(On)return v.setupRiveListeners()}).catch(function(On){console.error(On)}))}).catch(function(nn){console.error(nn)})}},C.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var D=(this.animator.stateMachines||[]).filter(function(Qe){return Qe.playing&&v.runtime.hasListeners(Qe.instance)}).map(function(Qe){return Qe.instance}),W=this.isTouchScrollEnabled,me=this.dispatchPointerExit,Ie=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(W=g.isTouchScrollEnabled),this.eventCleanup=(0,w.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:D,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:W,dispatchPointerExit:me,enableMultiTouch:Ie,layoutScaleFactor:this._layout.layoutScaleFactor})}},C.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},C.prototype.initializeAudio=function(){var g=this,v;he.status==te.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:R.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},he.add(this._audioEventListener),he.establishAudio())},C.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},C.prototype.initData=function(g,v,D,W,me){return j(this,void 0,void 0,function(){var Ie,Qe,Je,Ge;return re(this,function(rt){switch(rt.label){case 0:return rt.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ie=new ge({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ie,[4,Ie.init()]);case 1:if(rt.sent(),this.destroyed)return Ie.destroyIfUnused(),[2,!1];rt.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,D,W,me),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:R.Load,data:(Ge=this.src)!==null&&Ge!==void 0?Ge:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Qe=rt.sent(),Je=Re(Qe),console.warn(Je),this.eventManager.fire({type:R.LoadError,data:Je}),[2,Promise.reject(Je)];case 4:return[2]}})})},C.prototype.initArtboard=function(g,v,D,W,me){if(this.file){var Ie=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ie){var Qe="Invalid artboard name or no default artboard";console.warn(Qe),this.eventManager.fire({type:R.LoadError,data:Qe});return}this.artboard=Ie,Ie.volume=this._volume*he.systemVolume,this.animator=new k(this.runtime,this.artboard,this.eventManager);var Je;if(v.length>0||D.length>0?(Je=v.concat(D),this.animator.initLinearAnimations(v,W),this.animator.initStateMachines(D,W)):Je=[this.animator.atLeastOne(W,!1)],this.taskQueue.add({event:{type:W?R.Play:R.Pause,data:Je}}),me){var Ge=this.file.defaultArtboardViewModel(Ie);if(Ge!==null){var rt=Ge.defaultInstance();if(rt!==null){var Bt=new bt(rt,null);(0,w.createFinalization)(Bt,Bt.runtimeInstance),this.bindViewModelInstance(Bt)}}}}},C.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},C.prototype.draw=function(g,v){var D;this.frameRequestId=null;var W=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var me=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ie=this.animator.animations.filter(function(ar){return ar.playing||ar.needsScrub}).sort(function(ar){return ar.needsScrub?-1:1}),Qe=0,Je=Ie;Qe<Je.length;Qe++){var Ge=Je[Qe];Ge.advance(me),Ge.instance.didLoop&&(Ge.loopCount+=1),Ge.apply(1)}for(var rt=this.animator.stateMachines.filter(function(ar){return ar.playing}),Bt=0,Cn=rt;Bt<Cn.length;Bt++){var mn=Cn[Bt],zn=mn.reportedEventCount();if(zn)for(var Wn=0;Wn<zn;Wn++){var jt=mn.reportedEventAt(Wn);if(jt)if(jt.type===q.OpenUrl){if(this.eventManager.fire({type:R.RiveEvent,data:jt}),this.automaticallyHandleEvents){var nn=document.createElement("a"),On=jt,Yn=On.url,rr=On.target,vt=(0,w.sanitizeUrl)(Yn);Yn&&nn.setAttribute("href",vt),rr&&nn.setAttribute("target",rr),vt&&vt!==w.BLANK_URL&&nn.click()}}else this.eventManager.fire({type:R.RiveEvent,data:jt})}mn.advanceAndApply(me)}this.animator.stateMachines.length==0&&this.artboard.advance(me);var $n=this.renderer;$n.clear(),$n.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw($n),$n.restore(),$n.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(me),this.frameCount++;var Rt=performance.now();for(this.frameTimes.push(Rt),this.durations.push(Rt-W);this.frameTimes[0]<=Rt-1e3;)this.frameTimes.shift(),this.durations.shift();(D=this._viewModelInstance)===null||D===void 0||D.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},C.prototype.alignRenderer=function(){var g=this,v=g.renderer,D=g.runtime,W=g._layout,me=g.artboard;v.align(W.runtimeFit(D),W.runtimeAlignment(D),{minX:W.minX,minY:W.minY,maxX:W.maxX,maxY:W.maxY},me.bounds,this._devicePixelRatioUsed*W.layoutScaleFactor)},Object.defineProperty(C.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),C.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ee.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(he.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},C.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},C.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},C.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var D=this.artboard.textRun(g);if(!D){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return D},C.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},C.prototype.setTextRunValue=function(g,v){var D=this.retrieveTextRun(g);D&&(D.text=v)},C.prototype.play=function(g,v){var D=this;if(g=dn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},C.prototype.pause=function(g){var v=this;if(g=dn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},C.prototype.scrub=function(g,v){var D=this;if(g=dn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},C.prototype.stop=function(g){var v=this;if(g=dn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},C.prototype.reset=function(g){var v,D,W=g?.artboard,me=dn(g?.animations),Ie=dn(g?.stateMachines),Qe=(v=g?.autoplay)!==null&&v!==void 0?v:!1,Je=(D=g?.autoBind)!==null&&D!==void 0?D:!1;this.cleanupInstances(),this.initArtboard(W,me,Ie,Qe,Je),this.taskQueue.process()},C.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(C.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),C.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},C.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),D=v.width,W=v.height,me=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=me,this.canvas.width=me*D,this.canvas.height=me*W,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Ve.Layout){var Ie=this._layout.layoutScaleFactor;this.artboard.width=D/Ie,this.artboard.height=W/Ie}}},Object.defineProperty(C.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),C.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(D){return D.name===g});return v?.inputs}},C.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.inputByPath(g,v);if(!D){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},C.prototype.setBooleanStateAtPath=function(g,v,D){var W=this.retrieveInputAtPath(g,D);W&&(W.type===ct.Boolean?W.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a boolean")))},C.prototype.setNumberStateAtPath=function(g,v,D){var W=this.retrieveInputAtPath(g,D);W&&(W.type===ct.Number?W.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a number")))},C.prototype.fireStateAtPath=function(g,v){var D=this.retrieveInputAtPath(g,v);D&&(D.type===ct.Trigger?D.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},C.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.textByPath(g,v);if(!D){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},C.prototype.getTextRunValueAtPath=function(g,v){var D=this.retrieveTextAtPath(g,v);if(!D){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D.text},C.prototype.setTextRunValueAtPath=function(g,v,D){var W=this.retrieveTextAtPath(g,D);if(!W){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(D,"'"));return}W.text=v},Object.defineProperty(C.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},C.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},C.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},C.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},C.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(C.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var D=this.file.artboardByIndex(v),W={name:D.name,animations:[],stateMachines:[]},me=0;me<D.animationCount();me++){var Ie=D.animationByIndex(me);W.animations.push(Ie.name)}for(var Qe=0;Qe<D.stateMachineCount();Qe++){for(var Je=D.stateMachineByIndex(Qe),Ge=Je.name,rt=new this.runtime.StateMachineInstance(Je,D),Bt=[],Cn=0;Cn<rt.inputCount();Cn++){var mn=rt.input(Cn);Bt.push({name:mn.name,type:mn.type})}W.stateMachines.push({name:Ge,inputs:Bt})}g.artboards.push(W)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*he.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),C.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(C.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),C.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(D){return D.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(C.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),C.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new He(v):null},C.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new He(v):null},C.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new ht(v)})}return this._dataEnums},C.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new He(g)}return null},C.prototype.getArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&D!==void 0?D:null},C.prototype.getBindableArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&D!==void 0?D:null},C.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},C.missingErrorMessage="Rive source file or data buffer required",C.cleanupErrorMessage="Attempt to use file after calling cleanup.",C})(),He=(function(){function C(g){this._viewModel=g}return Object.defineProperty(C.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),C.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var D=new bt(v,null);return(0,w.createFinalization)(D,v),D}return null},C.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var D=new bt(v,null);return(0,w.createFinalization)(D,v),D}return null},C.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new bt(g,null);return(0,w.createFinalization)(v,g),v}return null},C.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new bt(g,null);return(0,w.createFinalization)(v,g),v}return null},Object.defineProperty(C.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),C})(),ht=(function(){function C(g){this._dataEnum=g}return Object.defineProperty(C.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),C})(),dt;(function(C){C.Number="number",C.String="string",C.Boolean="boolean",C.Color="color",C.Trigger="trigger",C.Enum="enum",C.List="list",C.Image="image",C.Artboard="artboard"})(dt||(dt={}));var bt=(function(){function C(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(C.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),C.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},C.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},C.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var D=this._parents[v];D.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},C.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},C.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},C.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},C.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},C.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},C.prototype.propertyFromPath=function(g,v){var D=g.split("/");return this.propertyFromPathSegments(D,0,v)},C.prototype.viewModelFromPathSegments=function(g,v){var D=this.internalViewModelInstance(g[v]);return D!==null?v==g.length-1?D:D.viewModelFromPathSegments(g,v++):null},C.prototype.propertyFromPathSegments=function(g,v,D){var W,me,Ie,Qe,Je,Ge,rt,Bt,Cn,mn,zn,Wn,jt,nn,On,Yn,rr,vt;if(v<g.length-1){var $n=this.internalViewModelInstance(g[v]);return $n!==null?$n.propertyFromPathSegments(g,v+1,D):null}var Rt=null;switch(D){case dt.Number:if(Rt=(me=(W=this._runtimeInstance)===null||W===void 0?void 0:W.number(g[v]))!==null&&me!==void 0?me:null,Rt!==null)return new ft(Rt,this);break;case dt.String:if(Rt=(Qe=(Ie=this._runtimeInstance)===null||Ie===void 0?void 0:Ie.string(g[v]))!==null&&Qe!==void 0?Qe:null,Rt!==null)return new un(Rt,this);break;case dt.Boolean:if(Rt=(Ge=(Je=this._runtimeInstance)===null||Je===void 0?void 0:Je.boolean(g[v]))!==null&&Ge!==void 0?Ge:null,Rt!==null)return new St(Rt,this);break;case dt.Color:if(Rt=(Bt=(rt=this._runtimeInstance)===null||rt===void 0?void 0:rt.color(g[v]))!==null&&Bt!==void 0?Bt:null,Rt!==null)return new ci(Rt,this);break;case dt.Trigger:if(Rt=(mn=(Cn=this._runtimeInstance)===null||Cn===void 0?void 0:Cn.trigger(g[v]))!==null&&mn!==void 0?mn:null,Rt!==null)return new Nt(Rt,this);break;case dt.Enum:if(Rt=(Wn=(zn=this._runtimeInstance)===null||zn===void 0?void 0:zn.enum(g[v]))!==null&&Wn!==void 0?Wn:null,Rt!==null)return new wt(Rt,this);break;case dt.List:if(Rt=(nn=(jt=this._runtimeInstance)===null||jt===void 0?void 0:jt.list(g[v]))!==null&&nn!==void 0?nn:null,Rt!==null)return new En(Rt,this);break;case dt.Image:if(Rt=(Yn=(On=this._runtimeInstance)===null||On===void 0?void 0:On.image(g[v]))!==null&&Yn!==void 0?Yn:null,Rt!==null)return new Zt(Rt,this);break;case dt.Artboard:if(Rt=(vt=(rr=this._runtimeInstance)===null||rr===void 0?void 0:rr.artboard(g[v]))!==null&&vt!==void 0?vt:null,Rt!==null)return new it(Rt,this);break}return null},C.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var D=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(D!==null){var W=new C(D,this);return(0,w.createFinalization)(W,D),W.internalIncrementReferenceCount(),this._viewModelInstances.set(g,W),W}return null},C.prototype.number=function(g){var v=this.propertyFromPath(g,dt.Number);return v},C.prototype.string=function(g){var v=this.propertyFromPath(g,dt.String);return v},C.prototype.boolean=function(g){var v=this.propertyFromPath(g,dt.Boolean);return v},C.prototype.color=function(g){var v=this.propertyFromPath(g,dt.Color);return v},C.prototype.trigger=function(g){var v=this.propertyFromPath(g,dt.Trigger);return v},C.prototype.enum=function(g){var v=this.propertyFromPath(g,dt.Enum);return v},C.prototype.list=function(g){var v=this.propertyFromPath(g,dt.List);return v},C.prototype.image=function(g){var v=this.propertyFromPath(g,dt.Image);return v},C.prototype.artboard=function(g){var v=this.propertyFromPath(g,dt.Artboard);return v},C.prototype.viewModel=function(g){var v=g.split("/"),D=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return D!=null?D.internalViewModelInstance(v[v.length-1]):null},C.prototype.internalReplaceViewModel=function(g,v){var D;if(v.runtimeInstance!==null){var W=((D=this._runtimeInstance)===null||D===void 0?void 0:D.replaceViewModel(g,v.runtimeInstance))||!1;if(W){v.internalIncrementReferenceCount();var me=this.internalViewModelInstance(g);me!==null&&(me.removeParent(this),this._children.includes(me)&&(this._children=this._children.filter(function(Ie){return Ie!==me})),me.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return W}return!1},C.prototype.replaceViewModel=function(g,v){var D,W=g.split("/"),me=W.length>1?this.viewModelFromPathSegments(W.slice(0,W.length-1),0):this;return(D=me?.internalReplaceViewModel(W[W.length-1],v))!==null&&D!==void 0?D:!1},C.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},C.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(C.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return U({},v)}))||[]},enumerable:!1,configurable:!0}),C.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},C.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(me){me.cleanup()}),this._viewModelInstances.clear();var D=F([],this._children,!0);this._children.length=0;var W=F([],this._parents,!0);this._parents.length=0,D.forEach(function(me){me.removeParent(g)}),W.forEach(function(me){me.removeFromViewModelCallbacks(g)})}},C})(),Ot=(function(){function C(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return C.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},C.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},C.prototype.internalHandleCallback=function(g){},C.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},C.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},C.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),C})(),un=(function(C){x(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ot),ft=(function(C){x(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ot),St=(function(C){x(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ot),Nt=(function(C){x(g,C);function g(v,D){return C.call(this,v,D)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(Ot),wt=(function(C){x(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ot),En=(function(C){x(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,D){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,D)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var D=this._viewModelInstanceValue.instanceAt(v);if(D!=null){var W=new bt(D,this._parentViewModel);return(0,w.createFinalization)(W,D),W}return null},g.prototype.swap=function(v,D){this._viewModelInstanceValue.swap(v,D)},g.prototype.internalHandleCallback=function(v){v()},g})(Ot),ci=(function(C){x(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,D,W){this._viewModelInstanceValue.rgb(v,D,W)},g.prototype.rgba=function(v,D,W,me){this._viewModelInstanceValue.argb(me,v,D,W)},g.prototype.argb=function(v,D,W,me){this._viewModelInstanceValue.argb(v,D,W,me)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ot),Zt=(function(C){x(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D;this._viewModelInstanceValue.value((D=v?.nativeImage)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Ot),it=(function(C){x(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D,W;v.isBindableArtboard?W=v:W=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((D=W?.nativeArtboard)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Ot),sn=function(C){return j(void 0,void 0,void 0,function(){var g,v,D;return re(this,function(W){switch(W.label){case 0:return g=new Request(C),[4,fetch(g)];case 1:return v=W.sent(),[4,v.arrayBuffer()];case 2:return D=W.sent(),[2,D]}})})},dn=function(C){return typeof C=="string"?[C]:C instanceof Array?C:[]},Gi={EventManager:se,TaskQueueManager:G},Kn=function(C){return j(void 0,void 0,void 0,function(){var g,v,D;return re(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return Xe.getInstance(function(Ie){Ie.decodeAudio(C,me)})}),[4,g];case 1:return v=W.sent(),D=new w.AudioWrapper(v),w.finalizationRegistry.register(D,v),[2,D]}})})},Gt=function(C){return j(void 0,void 0,void 0,function(){var g,v,D;return re(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return Xe.getInstance(function(Ie){Ie.decodeImage(C,me)})}),[4,g];case 1:return v=W.sent(),D=new w.ImageWrapper(v),w.finalizationRegistry.register(D,v),[2,D]}})})},Tn=function(C){return j(void 0,void 0,void 0,function(){var g,v,D;return re(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return Xe.getInstance(function(Ie){Ie.decodeFont(C,me)})}),[4,g];case 1:return v=W.sent(),D=new w.FontWrapper(v),w.finalizationRegistry.register(D,v),[2,D]}})})}})(),c})())})(Ah)),Ah.exports}var g0;function GT(){return g0||(g0=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=rf(),i=qT();function s(I){return I&&typeof I=="object"&&"default"in I?I:{default:I}}var l=s(e),c=function(){return c=Object.assign||function(I){for(var k,R=1,Q=arguments.length;R<Q;R++)for(var se in k=arguments[R])Object.prototype.hasOwnProperty.call(k,se)&&(I[se]=k[se]);return I},c.apply(this,arguments)};function p(I,k){var R={};for(var Q in I)Object.prototype.hasOwnProperty.call(I,Q)&&k.indexOf(Q)<0&&(R[Q]=I[Q]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function"){var se=0;for(Q=Object.getOwnPropertySymbols(I);se<Q.length;se++)k.indexOf(Q[se])<0&&Object.prototype.propertyIsEnumerable.call(I,Q[se])&&(R[Q[se]]=I[Q[se]])}return R}function b(I,k,R,Q){return new(R||(R=Promise))(function(se,G){function te(we){try{he(Q.next(we))}catch(P){G(P)}}function ye(we){try{he(Q.throw(we))}catch(P){G(P)}}function he(we){var P;we.done?se(we.value):(P=we.value,P instanceof R?P:new R(function(K){K(P)})).then(te,ye)}he((Q=Q.apply(I,[])).next())})}function E(I,k){var R,Q,se,G,te={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return G={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function ye(he){return function(we){return(function(P){if(R)throw new TypeError("Generator is already executing.");for(;te;)try{if(R=1,Q&&(se=2&P[0]?Q.return:P[0]?Q.throw||((se=Q.return)&&se.call(Q),0):Q.next)&&!(se=se.call(Q,P[1])).done)return se;switch(Q=0,se&&(P=[2&P[0],se.value]),P[0]){case 0:case 1:se=P;break;case 4:return te.label++,{value:P[1],done:!1};case 5:te.label++,Q=P[1],P=[0];continue;case 7:P=te.ops.pop(),te.trys.pop();continue;default:if(se=te.trys,!((se=se.length>0&&se[se.length-1])||P[0]!==6&&P[0]!==2)){te=0;continue}if(P[0]===3&&(!se||P[1]>se[0]&&P[1]<se[3])){te.label=P[1];break}if(P[0]===6&&te.label<se[1]){te.label=se[1],se=P;break}if(se&&te.label<se[2]){te.label=se[2],te.ops.push(P);break}se[2]&&te.ops.pop(),te.trys.pop();continue}P=k.call(I,te)}catch(K){P=[6,K],Q=0}finally{R=se=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}})([he,we])}}}function w(I){var k=I||x(),R=e.useState(k),Q=R[0],se=R[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var G=function(){var ye=I||x();se(ye)},te=window.matchMedia("screen and (resolution: ".concat(Q,"dppx)"));return te.hasOwnProperty("addEventListener")?te.addEventListener("change",G):te.addListener(G),function(){te.hasOwnProperty("removeEventListener")?te.removeEventListener("change",G):te.removeListener(G)}}},[Q,I]),Q}function x(){var I=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,I),3)}var U=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),j=globalThis.ResizeObserver||U,re=globalThis.ResizeObserver!==void 0,F=!re;function Me(I,k){k===void 0&&(k=!0);var R=e.useState({width:0,height:0}),Q=R[0],se=R[1];e.useEffect(function(){if(typeof window<"u"&&k){var we=function(){se({width:window.innerWidth,height:window.innerHeight})};return F&&(we(),window.addEventListener("resize",we)),function(){return window.removeEventListener("resize",we)}}},[]);var G,te,ye,he=e.useRef(new j((G=function(we){re&&se({width:we[we.length-1].contentRect.width,height:we[we.length-1].contentRect.height})},te=0,ye=0,function(){for(var we=this,P=[],K=0;K<arguments.length;K++)P[K]=arguments[K];clearTimeout(ye),ye=window.setTimeout(function(){return G.apply(we,P)},te)})));return e.useEffect(function(){var we=he.current;if(k){var P=I.current;return I.current&&re&&we.observe(I.current),function(){we.disconnect(),P&&re&&we.unobserve(P)}}we.disconnect()},[I,he]),Q}var Re={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Ve(I){return Object.assign({},Re,I)}function ke(I){var k=I.riveLoaded,R=k!==void 0&&k,Q=I.canvasElem,se=I.containerRef,G=I.options,te=G===void 0?{}:G,ye=I.onCanvasHasResized,he=I.artboardBounds,we=Ve(te),P=e.useState({height:0,width:0}),K=P[0],Ee=K.height,ge=K.width,Ne=P[1],He=e.useState({height:0,width:0}),ht=He[0],dt=ht.height,bt=ht.width,Ot=He[1],un=e.useState(!0),ft=un[0],St=un[1],Nt=we.fitCanvasToArtboardHeight,wt=we.shouldResizeCanvasToContainer,En=we.useDevicePixelRatio,ci=we.customDevicePixelRatio,Zt=Me(se,wt),it=w(ci),sn=he??{},dn=sn.maxX,Gi=sn.maxY,Kn=e.useCallback(function(){var Gt,Tn,C,g,v=(Tn=(Gt=se.current)===null||Gt===void 0?void 0:Gt.clientWidth)!==null&&Tn!==void 0?Tn:0,D=(g=(C=se.current)===null||C===void 0?void 0:C.clientHeight)!==null&&g!==void 0?g:0;return Nt&&he?{width:v,height:v*(he.maxY/he.maxX)}:{width:v,height:D}},[se,Nt,dn,Gi]);e.useEffect(function(){if(wt&&se.current&&R){var Gt=Kn(),Tn=Gt.width,C=Gt.height,g=!1;if(Q){var v=Tn!==ge||C!==Ee;if(we.fitCanvasToArtboardHeight&&v&&(se.current.style.height=C+"px",g=!0),we.useDevicePixelRatio){if(v||Tn*it!==bt||C*it!==dt){var D=it*Tn,W=it*C;Q.width=D,Q.height=W,Q.style.width=Tn+"px",Q.style.height=C+"px",Ot({width:D,height:W}),g=!0}}else v&&(Q.width=Tn,Q.height=C,Ot({width:Tn,height:C}),g=!0);Ne({width:Tn,height:C})}ye&&(ft||g)&&ye&&ye(),ft&&St(!1)}},[Q,se,Zt,it,Kn,ft,St,dt,bt,Ee,ge,ye,wt,Nt,En,R]),e.useEffect(function(){Ot({width:0,height:0})},[Q])}var Be,Xe=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),ct=globalThis.IntersectionObserver||Xe,mt=(function(){function I(){var k=this;this.elementsMap=new Map,this.onObserved=function(R){R.forEach(function(Q){var se=k.elementsMap.get(Q.target);se&&se(Q)})},this.observer=new ct(this.onObserved)}return I.prototype.registerCallback=function(k,R){this.observer.observe(k),this.elementsMap.set(k,R)},I.prototype.removeCallback=function(k){this.observer.unobserve(k),this.elementsMap.delete(k)},I})(),q=function(){return Be||(Be=new mt),Be};function z(I){var k=I.setContainerRef,R=I.setCanvasRef,Q=I.className,se=Q===void 0?"":Q,G=I.style,te=I.children,ye=p(I,["setContainerRef","setCanvasRef","className","style","children"]),he=c({width:"100%",height:"100%"},G);return l.default.createElement("div",c({ref:k,className:se},!se&&{style:he}),l.default.createElement("canvas",c({ref:R,style:{verticalAlign:"top",width:0,height:0}},ye),te))}function V(I,k){k===void 0&&(k={});var R=e.useState(null),Q=R[0],se=R[1],G=e.useRef(null),te=e.useRef(null),ye=e.useState(null),he=ye[0],we=ye[1],P=!!I,K=Ve(k),Ee=w(),ge=e.useCallback(function(){if(he){if(he.layout&&he.layout.fit===i.Fit.Layout&&Q){var ft=Ee*he.layout.layoutScaleFactor;he.devicePixelRatioUsed=Ee,he.artboardWidth=Q?.width/ft,he.artboardHeight=Q?.height/ft}he.startRendering(),he.resizeToCanvas()}},[he,Ee]);ke({riveLoaded:!!he,canvasElem:Q,containerRef:G,options:K,onCanvasHasResized:ge,artboardBounds:he?.bounds});var Ne=e.useCallback(function(ft){ft===null&&Q&&(Q.height=0,Q.width=0),se(ft)},[]);e.useEffect(function(){if(Q&&I){var ft,St=he!=null;if(he==null){var Nt=K.useOffscreenRenderer,wt=I.onRiveReady,En=p(I,["onRiveReady"]);ft=new i.Rive(c(c({useOffscreenRenderer:Nt},En),{canvas:Q})),te.current!=null&&te.current.cleanup(),te.current=ft,ft.on(i.EventType.Load,function(){St=!0,wt&&wt(ft),Q?we(ft):ft.cleanup()})}return function(){St||ft==null||ft.cleanup()}}},[Q,P,he]);var He=e.useCallback(function(ft){G.current=ft},[]),ht={observe:e.useCallback(function(ft,St){q().registerCallback(ft,St)},[]),unobserve:e.useCallback(function(ft){q().removeCallback(ft)},[])},dt=ht.observe,bt=ht.unobserve;e.useEffect(function(){var ft,St=!1,Nt=function(){if(Q&&St){var wt=Q.getBoundingClientRect();wt.width>0&&wt.height>0&&wt.top<(window.innerHeight||document.documentElement.clientHeight)&&wt.bottom>0&&wt.left<(window.innerWidth||document.documentElement.clientWidth)&&wt.right>0&&(he?.startRendering(),St=!1)}};return Q&&K.shouldUseIntersectionObserver!==!1&&dt(Q,function(wt){wt.isIntersecting?he&&he.startRendering():he&&he.stopRendering(),St=!wt.isIntersecting,clearTimeout(ft),wt.isIntersecting||wt.boundingClientRect.width!==0||(ft=setTimeout(Nt,10))}),function(){Q&&bt(Q)}},[dt,bt,he,Q,K.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){he&&(he.cleanup(),we(null))}},[he,Q]),e.useEffect(function(){return function(){te.current!=null&&te.current.cleanup()}},[]);var Ot=I?.animations;e.useEffect(function(){he&&Ot&&(he.isPlaying?(he.stop(he.animationNames),he.play(Ot)):he.isPaused&&(he.stop(he.animationNames),he.pause(Ot)))},[Ot,he]);var un=e.useCallback(function(ft){return l.default.createElement(z,c({setContainerRef:He,setCanvasRef:Ne},ft))},[Ne,He]);return{canvas:Q,container:G.current,setCanvasRef:Ne,setContainerRef:He,rive:he,RiveComponent:un}}function H(I,k,R){var Q=e.useState(null),se=Q[0],G=Q[1],te=e.useState(R.defaultValue),ye=te[0],he=te[1],we=e.useState(null),P=we[0],K=we[1],Ee=e.useRef(null),ge=e.useRef(I),Ne=e.useRef(R);e.useEffect(function(){Ne.current=R},[R]);var He=e.useCallback(function(){var Ot=Ee.current,un=ge.current,ft=Ne.current;if(!Ot||!un)return G(null),he(ft.defaultValue),K(null),function(){};var St=ft.getProperty(Ot,un);if(St){G(St),he(ft.getValue(St)),ft.getExtendedData&&K(ft.getExtendedData(St));var Nt=function(){he(ft.getValue(St)),ft.getExtendedData&&K(ft.getExtendedData(St)),ft.onPropertyEvent&&ft.onPropertyEvent()};return St.on(Nt),function(){St.off(Nt)}}return function(){}},[]);e.useEffect(function(){return Ee.current=k,ge.current=I,He()},[k,I,He]);var ht=e.useCallback(function(Ot){if(se&&Ee.current===k)try{return Ot(se),void(Ne.current.getExtendedData&&K(Ne.current.getExtendedData(se)))}catch{}if(Ee.current)try{var un=Ne.current.getProperty(Ee.current,ge.current);un&&(G(un),Ot(un),Ne.current.getExtendedData&&K(Ne.current.getExtendedData(un)))}catch{}},[se,k]),dt=e.useMemo(function(){return Ne.current.buildPropertyOperations(ht)},[ht]),bt=c({value:ye},dt);return R.getExtendedData&&(bt.extendedData=P),bt}r.default=function(I){var k=I.src,R=I.artboard,Q=I.animations,se=I.stateMachines,G=I.layout,te=I.useOffscreenRenderer,ye=te===void 0||te,he=I.shouldDisableRiveListeners,we=he!==void 0&&he,P=I.shouldResizeCanvasToContainer,K=P===void 0||P,Ee=I.automaticallyHandleEvents,ge=Ee!==void 0&&Ee,Ne=I.children,He=p(I,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),ht=V({src:k,artboard:R,animations:Q,layout:G,stateMachines:se,autoplay:!0,shouldDisableRiveListeners:we,automaticallyHandleEvents:ge},{useOffscreenRenderer:ye,shouldResizeCanvasToContainer:K}).RiveComponent;return l.default.createElement(ht,c({},He),Ne)},r.useResizeCanvas=ke,r.useRive=V,r.useRiveFile=function(I){var k=this,R=e.useState(null),Q=R[0],se=R[1],G=e.useState("idle"),te=G[0],ye=G[1];return e.useEffect(function(){var he=null;return b(k,void 0,void 0,function(){return E(this,function(we){try{ye("loading"),(he=new i.RiveFile(I)).init(),he.on(i.EventType.Load,function(){he?.getInstance(),se(he),ye("success")}),he.on(i.EventType.LoadError,function(){ye("failed")}),se(he)}catch(P){console.error(P),ye("failed")}return[2]})}),function(){he?.cleanup()}},[I.src,I.buffer]),{riveFile:Q,status:te}},r.useStateMachineInput=function(I,k,R,Q){var se=e.useState(null),G=se[0],te=se[1];return e.useEffect(function(){function ye(){if(I&&k&&R||te(null),I&&k&&R){var he=I.stateMachineInputs(k);if(he){var we=he.find(function(P){return P.name===R});Q!==void 0&&we&&(we.value=Q),te(we||null)}}else te(null)}ye(),I&&I.on(i.EventType.Load,function(){ye()})},[I]),G},r.useViewModel=function(I,k){var R=k??{},Q=R.name,se=R.useDefault,G=se!==void 0&&se,te=e.useState(null),ye=te[0],he=te[1];return e.useEffect(function(){function we(){var P;if(I){var K=null;K=Q!=null?((P=I.viewModelByName)===null||P===void 0?void 0:P.call(I,Q))||null:I.defaultViewModel()||null,he(K)}else he(null)}return we(),I&&I.on(i.EventType.Load,we),function(){I&&I.off(i.EventType.Load,we)}},[I,Q,G]),ye},r.useViewModelInstance=function(I,k){var R=k??{},Q=R.name,se=R.useDefault,G=se!==void 0&&se,te=R.useNew,ye=te!==void 0&&te,he=R.rive,we=e.useState(null),P=we[0],K=we[1];return e.useEffect(function(){var Ee,ge,Ne;if(I){var He=null;He=Q!=null?I.instanceByName(Q)||null:G?((Ee=I.defaultInstance)===null||Ee===void 0?void 0:Ee.call(I))||null:ye?((ge=I.instance)===null||ge===void 0?void 0:ge.call(I))||null:((Ne=I.defaultInstance)===null||Ne===void 0?void 0:Ne.call(I))||null,K(He),he&&He&&he.viewModelInstance!==He&&he.bindViewModelInstance(He)}else K(null)},[I,Q,G,ye,he]),P},r.useViewModelInstanceArtboard=function(I,k){return{setValue:H(I,k,{getProperty:e.useCallback(function(R,Q){return R.artboard(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(R){return{setValue:function(Q){R(function(se){se.value=Q})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(I,k){var R=H(I,k,{getProperty:e.useCallback(function(Q,se){return Q.boolean(se)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(se){Q(function(G){G.value=se})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceColor=function(I,k){var R=H(I,k,{getProperty:e.useCallback(function(Q,se){return Q.color(se)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(se){Q(function(G){G.value=se})},setRgb:function(se,G,te){Q(function(ye){ye.rgb(se,G,te)})},setRgba:function(se,G,te,ye){Q(function(he){he.rgba(se,G,te,ye)})},setAlpha:function(se){Q(function(G){G.alpha(se)})},setOpacity:function(se){Q(function(G){G.opacity(se)})}}},[])});return{value:R.value,setValue:R.setValue,setRgb:R.setRgb,setRgba:R.setRgba,setAlpha:R.setAlpha,setOpacity:R.setOpacity}},r.useViewModelInstanceEnum=function(I,k){var R=H(I,k,{getProperty:e.useCallback(function(Q,se){return Q.enum(se)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(Q){return Q.values},[]),buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(se){Q(function(G){G.value=se})}}},[])});return{value:R.value,values:R.extendedData||[],setValue:R.setValue}},r.useViewModelInstanceImage=function(I,k){return{setValue:H(I,k,{getProperty:e.useCallback(function(R,Q){return R.image(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(R){return{setValue:function(Q){R(function(se){se.value=Q})}}},[])}).setValue}},r.useViewModelInstanceList=function(I,k){var R,Q=e.useState(0)[1],se=H(I,k,{getProperty:e.useCallback(function(G,te){return G.list(te)},[]),getValue:e.useCallback(function(G){return G.length},[]),defaultValue:null,onPropertyEvent:function(){Q(function(G){return G+1})},buildPropertyOperations:e.useCallback(function(G){return{addInstance:function(te){G(function(ye){return ye.addInstance(te)})},addInstanceAt:function(te,ye){var he=!1;return G(function(we){he=we.addInstanceAt(te,ye)}),he},removeInstance:function(te){G(function(ye){return ye.removeInstance(te)})},removeInstanceAt:function(te){G(function(ye){return ye.removeInstanceAt(te)})},getInstanceAt:function(te){var ye=null;return G(function(he){ye=he.instanceAt(te)}),ye},swap:function(te,ye){G(function(he){return he.swap(te,ye)})}}},[])});return{length:(R=se.value)!==null&&R!==void 0?R:0,addInstance:se.addInstance,addInstanceAt:se.addInstanceAt,removeInstance:se.removeInstance,removeInstanceAt:se.removeInstanceAt,getInstanceAt:se.getInstanceAt,swap:se.swap}},r.useViewModelInstanceNumber=function(I,k){var R=H(I,k,{getProperty:e.useCallback(function(Q,se){return Q.number(se)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(se){Q(function(G){G.value=se})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceString=function(I,k){var R=H(I,k,{getProperty:e.useCallback(function(Q,se){return Q.string(se)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(se){Q(function(G){G.value=se})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceTrigger=function(I,k,R){var Q=(R??{}).onTrigger;return{trigger:H(I,k,{getProperty:e.useCallback(function(se,G){return se.trigger(G)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:Q,buildPropertyOperations:e.useCallback(function(se){return{trigger:function(){se(function(G){G.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(I){I==="default"||r.hasOwnProperty(I)||Object.defineProperty(r,I,{enumerable:!0,get:function(){return i[I]}})})})(_m)),_m}var so=GT();const YT=()=>{};var y0={};const $_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},XT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],E=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[s++]=String.fromCharCode(55296+(E>>10)),e[s++]=String.fromCharCode(56320+(E&1023))}else{const c=r[i++],p=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},J_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,E=l+2<r.length,w=E?r[l+2]:0,x=c>>2,U=(c&3)<<4|b>>4;let j=(b&15)<<2|w>>6,re=w&63;E||(re=64,p||(j=64)),s.push(i[x],i[U],i[j],i[re])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):XT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const w=l<r.length?i[r.charAt(l)]:64;++l;const U=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||w==null||U==null)throw new QT;const j=c<<2|b>>4;if(s.push(j),w!==64){const re=b<<4&240|w>>2;if(s.push(re),U!==64){const F=w<<6&192|U;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KT=function(r){const e=$_(r);return J_.encodeByteArray(e,!0)},kh=function(r){return KT(r).replace(/\./g,"")},Z_=function(r){try{return J_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $T=()=>WT().__FIREBASE_DEFAULTS__,JT=()=>{if(typeof process>"u"||typeof y0>"u")return;const r=y0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Z_(r[1]);return e&&JSON.parse(e)},af=()=>{try{return YT()||$T()||JT()||ZT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},eb=r=>af()?.emulatorHosts?.[r],eA=r=>{const e=eb(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},tb=()=>af()?.config,nb=r=>af()?.[`_${r}`];class tA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ib(r){return(await fetch(r,{credentials:"include"})).ok}function nA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[kh(JSON.stringify(i)),kh(JSON.stringify(p)),""].join(".")}const Bu={};function iA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?r.emulator.push(e):r.prod.push(e);return r}function rA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let v0=!1;function rb(r,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||Bu[r]===e||Bu[r]||v0)return;Bu[r]=e;function i(j){return`__firebase__banner__${j}`}const s="__firebase__banner",c=iA().prod.length>0;function p(){const j=document.getElementById(s);j&&j.remove()}function b(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function E(j,re){j.setAttribute("width","24"),j.setAttribute("id",re),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function w(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{v0=!0,p()},j}function x(j,re){j.setAttribute("id",re),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function U(){const j=rA(s),re=i("text"),F=document.getElementById(re)||document.createElement("span"),Me=i("learnmore"),Re=document.getElementById(Me)||document.createElement("a"),Ve=i("preprendIcon"),ke=document.getElementById(Ve)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const Be=j.element;b(Be),x(Re,Me);const Xe=w();E(ke,Ve),Be.append(ke,F,Re,Xe),document.body.appendChild(Be)}c?(F.innerText="Preview backend disconnected.",ke.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ke.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",re)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",U):U()}function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function sA(){const r=af()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function uA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cA(){const r=ir();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function hA(){return!sA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fA(){try{return typeof indexedDB=="object"}catch{return!1}}function dA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const mA="FirebaseError";class Cs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=mA,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?pA(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Cs(l,b,s)}}function pA(r,e){return r.replace(gA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const gA=/\{\$([^}]+)}/g;function yA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function zo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],p=e[l];if(_0(c)&&_0(p)){if(!zo(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function _0(r){return r!==null&&typeof r=="object"}function rc(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function vA(r,e){const i=new _A(r,e);return i.subscribe.bind(i)}class _A{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");bA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=bm),l.error===void 0&&(l.error=bm),l.complete===void 0&&(l.complete=bm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function bm(){}function Hr(r){return r&&r._delegate?r._delegate:r}class Bo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Uo="[DEFAULT]";class wA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new tA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TA(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:EA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EA(r){return r===Uo?void 0:r}function TA(r){return r.instantiationMode==="EAGER"}class AA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new wA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Wt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Wt||(Wt={}));const SA={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},CA=Wt.INFO,RA={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},IA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=RA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=CA,this._logHandler=IA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const xA=(r,e)=>e.some(i=>r instanceof i);let b0,w0;function MA(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NA(){return w0||(w0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,Pm=new WeakMap,sb=new WeakMap,wm=new WeakMap,hp=new WeakMap;function DA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(lo(r.result)),l()},p=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&ab.set(i,r)}).catch(()=>{}),hp.set(e,r),e}function OA(r){if(Pm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});Pm.set(r,e)}let Lm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sb.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lo(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function VA(r){Lm=r(Lm)}function kA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Em(this),e,...i);return sb.set(s,e.sort?e.sort():[e]),lo(s)}:NA().includes(r)?function(...e){return r.apply(Em(this),e),lo(ab.get(this))}:function(...e){return lo(r.apply(Em(this),e))}}function PA(r){return typeof r=="function"?kA(r):(r instanceof IDBTransaction&&OA(r),xA(r,MA())?new Proxy(r,Lm):r)}function lo(r){if(r instanceof IDBRequest)return DA(r);if(wm.has(r))return wm.get(r);const e=PA(r);return e!==r&&(wm.set(r,e),hp.set(e,r)),e}const Em=r=>hp.get(r);function LA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=lo(p);return s&&p.addEventListener("upgradeneeded",E=>{s(lo(p.result),E.oldVersion,E.newVersion,lo(p.transaction),E)}),i&&p.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),b.then(E=>{c&&E.addEventListener("close",()=>c()),l&&E.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),b}const UA=["get","getKey","getAll","getAllKeys","count"],jA=["put","add","delete","clear"],Tm=new Map;function E0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=jA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||UA.includes(i)))return;const c=async function(p,...b){const E=this.transaction(p,l?"readwrite":"readonly");let w=E.store;return s&&(w=w.index(b.shift())),(await Promise.all([w[i](...b),l&&E.done]))[0]};return Tm.set(e,c),c}VA(r=>({...r,get:(e,i,s)=>E0(e,i)||r.get(e,i,s),has:(e,i)=>!!E0(e,i)||r.has(e,i)}));class zA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function BA(r){return r.getComponent()?.type==="VERSION"}const Um="@firebase/app",T0="0.14.6";const bs=new cp("@firebase/app"),FA="@firebase/app-compat",HA="@firebase/analytics-compat",qA="@firebase/analytics",GA="@firebase/app-check-compat",YA="@firebase/app-check",XA="@firebase/auth",QA="@firebase/auth-compat",KA="@firebase/database",WA="@firebase/data-connect",$A="@firebase/database-compat",JA="@firebase/functions",ZA="@firebase/functions-compat",eS="@firebase/installations",tS="@firebase/installations-compat",nS="@firebase/messaging",iS="@firebase/messaging-compat",rS="@firebase/performance",aS="@firebase/performance-compat",sS="@firebase/remote-config",oS="@firebase/remote-config-compat",lS="@firebase/storage",uS="@firebase/storage-compat",cS="@firebase/firestore",hS="@firebase/ai",fS="@firebase/firestore-compat",dS="firebase",mS="12.6.0";const jm="[DEFAULT]",pS={[Um]:"fire-core",[FA]:"fire-core-compat",[qA]:"fire-analytics",[HA]:"fire-analytics-compat",[YA]:"fire-app-check",[GA]:"fire-app-check-compat",[XA]:"fire-auth",[QA]:"fire-auth-compat",[KA]:"fire-rtdb",[WA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[JA]:"fire-fn",[ZA]:"fire-fn-compat",[eS]:"fire-iid",[tS]:"fire-iid-compat",[nS]:"fire-fcm",[iS]:"fire-fcm-compat",[rS]:"fire-perf",[aS]:"fire-perf-compat",[sS]:"fire-rc",[oS]:"fire-rc-compat",[lS]:"fire-gcs",[uS]:"fire-gcs-compat",[cS]:"fire-fst",[fS]:"fire-fst-compat",[hS]:"fire-vertex","fire-js":"fire-js",[dS]:"fire-js-all"};const Ph=new Map,gS=new Map,zm=new Map;function A0(r,e){try{r.container.addComponent(e)}catch(i){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function jl(r){const e=r.name;if(zm.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,r);for(const i of Ph.values())A0(i,r);for(const i of gS.values())A0(i,r);return!0}function fp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function aa(r){return r==null?!1:r.settings!==void 0}const yS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new ic("app","Firebase",yS);class vS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}const Xl=mS;function ob(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:jm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw uo.create("bad-app-name",{appName:String(l)});if(i||(i=tb()),!i)throw uo.create("no-options");const c=Ph.get(l);if(c){if(zo(i,c.options)&&zo(s,c.config))return c;throw uo.create("duplicate-app",{appName:l})}const p=new AA(l);for(const E of zm.values())p.addComponent(E);const b=new vS(i,s,p);return Ph.set(l,b),b}function lb(r=jm){const e=Ph.get(r);if(!e&&r===jm&&tb())return ob();if(!e)throw uo.create("no-app",{appName:r});return e}function co(r,e,i){let s=pS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(p.join(" "));return}jl(new Bo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const _S="firebase-heartbeat-database",bS=1,Qu="firebase-heartbeat-store";let Am=null;function ub(){return Am||(Am=LA(_S,bS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Qu)}catch(i){console.warn(i)}}}}).catch(r=>{throw uo.create("idb-open",{originalErrorMessage:r.message})})),Am}async function wS(r){try{const i=(await ub()).transaction(Qu),s=await i.objectStore(Qu).get(cb(r));return await i.done,s}catch(e){if(e instanceof Cs)bs.warn(e.message);else{const i=uo.create("idb-get",{originalErrorMessage:e?.message});bs.warn(i.message)}}}async function S0(r,e){try{const s=(await ub()).transaction(Qu,"readwrite");await s.objectStore(Qu).put(e,cb(r)),await s.done}catch(i){if(i instanceof Cs)bs.warn(i.message);else{const s=uo.create("idb-set",{originalErrorMessage:i?.message});bs.warn(s.message)}}}function cb(r){return`${r.name}!${r.options.appId}`}const ES=1024,TS=30;class AS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=C0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>TS){const l=RS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C0(),{heartbeatsToSend:i,unsentEntries:s}=SS(this._heartbeatsCache.heartbeats),l=kh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return bs.warn(e),""}}}function C0(){return new Date().toISOString().substring(0,10)}function SS(r,e=ES){const i=[];let s=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),R0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),R0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class CS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fA()?dA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await wS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function R0(r){return kh(JSON.stringify({version:2,heartbeats:r})).length}function RS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function IS(r){jl(new Bo("platform-logger",e=>new zA(e),"PRIVATE")),jl(new Bo("heartbeat",e=>new AS(e),"PRIVATE")),co(Um,T0,r),co(Um,T0,"esm2020"),co("fire-js","")}IS("");var xS="firebase",MS="12.6.0";co(xS,MS,"app");function hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NS=hb,fb=new ic("auth","Firebase",hb());const Lh=new cp("@firebase/auth");function DS(r,...e){Lh.logLevel<=Wt.WARN&&Lh.warn(`Auth (${Xl}): ${r}`,...e)}function Sh(r,...e){Lh.logLevel<=Wt.ERROR&&Lh.error(`Auth (${Xl}): ${r}`,...e)}function ws(r,...e){throw dp(r,...e)}function La(r,...e){return dp(r,...e)}function db(r,e,i){const s={...NS(),[e]:i};return new ic("auth","Firebase",s).create(e,{appName:r.name})}function vs(r){return db(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dp(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return fb.create(r,...e)}function At(r,e,...i){if(!r)throw dp(e,...i)}function gs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function Es(r,e){r||gs(e)}function Bm(){return typeof self<"u"&&self.location?.href||""}function OS(){return I0()==="http:"||I0()==="https:"}function I0(){return typeof self<"u"&&self.location?.protocol||null}function VS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OS()||lA()||"connection"in navigator)?navigator.onLine:!0}function kS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ac{constructor(e,i){this.shortDelay=e,this.longDelay=i,Es(i>e,"Short delay should be less than long delay!"),this.isMobile=aA()||uA()}get(){return VS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mp(r,e){Es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class mb{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],US=new ac(3e4,6e4);function sc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ql(r,e,i,s,l={}){return pb(r,l,async()=>{let c={},p={};s&&(e==="GET"?p=s:c={body:JSON.stringify(s)});const b=rc({key:r.config.apiKey,...p}).slice(1),E=await r._getAdditionalHeaders();E["Content-Type"]="application/json",r.languageCode&&(E["X-Firebase-Locale"]=r.languageCode);const w={method:e,headers:E,...c};return oA()||(w.referrerPolicy="no-referrer"),r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(w.credentials="include"),mb.fetch()(await gb(r,r.config.apiHost,i,b),w)})}async function pb(r,e,i){r._canInitEmulator=!1;const s={...PS,...e};try{const l=new jS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw gh(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[E,w]=b.split(" : ");if(E==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",p);if(E==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",p);if(E==="USER_DISABLED")throw gh(r,"user-disabled",p);const x=s[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw db(r,x,w);ws(r,x)}}catch(l){if(l instanceof Cs)throw l;ws(r,"network-request-failed",{message:String(l)})}}async function pp(r,e,i,s,l={}){const c=await Ql(r,e,i,s,l);return"mfaPendingCredential"in c&&ws(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function gb(r,e,i,s){const l=`${e}${i}?${s}`,c=r,p=c.config.emulator?mp(r.config,l):`${r.config.apiScheme}://${l}`;return LS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class jS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(La(this.auth,"network-request-failed")),US.get())})}}function gh(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=La(r,e,s);return l.customData._tokenResponse=i,l}async function zS(r,e){return Ql(r,"POST","/v1/accounts:delete",e)}async function Uh(r,e){return Ql(r,"POST","/v1/accounts:lookup",e)}function Fu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BS(r,e=!1){const i=Hr(r),s=await i.getIdToken(e),l=gp(s);At(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:s,authTime:Fu(Sm(l.auth_time)),issuedAtTime:Fu(Sm(l.iat)),expirationTime:Fu(Sm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Sm(r){return Number(r)*1e3}function gp(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const l=Z_(i);return l?JSON.parse(l):(Sh("Failed to decode base64 JWT payload"),null)}catch(l){return Sh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function x0(r){const e=gp(r);return At(e,"internal-error"),At(typeof e.exp<"u","internal-error"),At(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ku(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Cs&&FS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function FS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class HS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Fm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jh(r){const e=r.auth,i=await r.getIdToken(),s=await Ku(r,Uh(e,{idToken:i}));At(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?yb(l.providerUserInfo):[],p=GS(r.providerData,c),b=r.isAnonymous,E=!(r.email&&l.passwordHash)&&!p?.length,w=b?E:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Fm(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(r,x)}async function qS(r){const e=Hr(r);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GS(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function yb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function YS(r,e){const i=await pb(r,{},async()=>{const s=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await gb(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const E={method:"POST",headers:b,body:s};return r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(E.credentials="include"),mb.fetch()(p,E)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function XS(r,e){return Ql(r,"POST","/v2/accounts:revokeToken",sc(r,e))}class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At(typeof e.idToken<"u","internal-error"),At(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){At(e.length!==0,"internal-error");const i=x0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await YS(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,p=new Ol;return s&&(At(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),l&&(At(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(At(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return gs("not implemented")}}function to(r,e){At(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ba{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new HS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return At(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return BS(this,e)}reload(){return qS(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ba({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(aa(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Ku(this,zS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,E=i._redirectEventId??void 0,w=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:U,emailVerified:j,isAnonymous:re,providerData:F,stsTokenManager:Me}=i;At(U&&Me,e,"internal-error");const Re=Ol.fromJSON(this.name,Me);At(typeof U=="string",e,"internal-error"),to(s,e.name),to(l,e.name),At(typeof j=="boolean",e,"internal-error"),At(typeof re=="boolean",e,"internal-error"),to(c,e.name),to(p,e.name),to(b,e.name),to(E,e.name),to(w,e.name),to(x,e.name);const Ve=new ba({uid:U,auth:e,email:l,emailVerified:j,displayName:s,isAnonymous:re,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Re,createdAt:w,lastLoginAt:x});return F&&Array.isArray(F)&&(Ve.providerData=F.map(ke=>({...ke}))),E&&(Ve._redirectEventId=E),Ve}static async _fromIdTokenResponse(e,i,s=!1){const l=new Ol;l.updateFromServerResponse(i);const c=new ba({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await jh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];At(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?yb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Ol;b.updateFromIdToken(s);const E=new ba({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(E,w),E}}const M0=new Map;function ys(r){Es(r instanceof Function,"Expected a class definition");let e=M0.get(r);return e?(Es(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,M0.set(r,e),e)}class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}vb.type="NONE";const N0=vb;function Ch(r,e,i){return`firebase:${r}:${e}:${i}`}class Vl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ch(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ch("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Uh(this.auth,{idToken:e}).catch(()=>{});return i?ba._fromGetAccountInfoResponse(this.auth,i,e):null}return ba._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Vl(ys(N0),e,s);const l=(await Promise.all(i.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let c=l[0]||ys(N0);const p=Ch(s,e.config.apiKey,e.name);let b=null;for(const w of i)try{const x=await w._get(p);if(x){let U;if(typeof x=="string"){const j=await Uh(e,{idToken:x}).catch(()=>{});if(!j)break;U=await ba._fromGetAccountInfoResponse(e,j,x)}else U=ba._fromJSON(e,x);w!==c&&(b=U),c=w;break}}catch{}const E=l.filter(w=>w._shouldAllowMigration);return!c._shouldAllowMigration||!E.length?new Vl(c,e,s):(c=E[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async w=>{if(w!==c)try{await w._remove(p)}catch{}})),new Vl(c,e,s))}}function D0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ab(e))return"Blackberry";if(Sb(e))return"Webos";if(bb(e))return"Safari";if((e.includes("chrome/")||wb(e))&&!e.includes("edge/"))return"Chrome";if(Tb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function _b(r=ir()){return/firefox\//i.test(r)}function bb(r=ir()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wb(r=ir()){return/crios\//i.test(r)}function Eb(r=ir()){return/iemobile/i.test(r)}function Tb(r=ir()){return/android/i.test(r)}function Ab(r=ir()){return/blackberry/i.test(r)}function Sb(r=ir()){return/webos/i.test(r)}function yp(r=ir()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function QS(r=ir()){return yp(r)&&!!window.navigator?.standalone}function KS(){return cA()&&document.documentMode===10}function Cb(r=ir()){return yp(r)||Tb(r)||Sb(r)||Ab(r)||/windows phone/i.test(r)||Eb(r)}function Rb(r,e=[]){let i;switch(r){case"Browser":i=D0(ir());break;case"Worker":i=`${D0(ir())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xl}/${s}`}class WS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((p,b)=>{try{const E=e(c);p(E)}catch(E){b(E)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function $S(r,e={}){return Ql(r,"GET","/v2/passwordPolicy",sc(r,e))}const JS=6;class ZS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??JS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class e2{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new WS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Uh(this,{idToken:e}),s=await ba._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(aa(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=s?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(s=b.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(aa(this.app))return Promise.reject(vs(this));const i=e?Hr(e):null;return i&&At(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return aa(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return aa(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $S(this),i=new ZS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await XS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;At(i,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const E=e.addObserver(i,s,l);return()=>{p=!0,E()}}else{const E=e.addObserver(i);return()=>{p=!0,E()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(aa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&DS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oc(r){return Hr(r)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=vA(i=>this.observer=i)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t2(r){vp=r}function n2(r){return vp.loadJS(r)}function i2(){return vp.gapiScript}function r2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function a2(r,e){const i=fp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zo(c,e??{}))return l;ws(l,"already-initialized")}return i.initialize({options:e})}function s2(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function o2(r,e,i){const s=oc(r);At(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=Ib(e),{host:p,port:b}=l2(e),E=b===null?"":`:${b}`,w={url:`${c}//${p}${E}/`},x=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(zo(w,s.config.emulator)&&zo(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=w,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Yl(p)?(ib(`${c}//${p}${E}`),rb("Auth",!0)):u2()}function Ib(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function l2(r){const e=Ib(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:V0(s.substr(c.length+1))}}else{const[c,p]=s.split(":");return{host:c,port:V0(p)}}}function V0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function u2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class xb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function kl(r,e){return pp(r,"POST","/v1/accounts:signInWithIdp",sc(r,e))}const c2="http://localhost";class Fo extends xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ws("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const p=new Fo(s,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return kl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,kl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,kl(e,i)}buildRequest(){const e={requestUri:c2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=rc(i)}return e}}class Mb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends Mb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class no extends lc{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";class io extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Fo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return io.credential(i,s)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";class ro extends lc{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";class ao extends lc{constructor(){super("twitter.com")}static credential(e,i){return Fo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return ao.credential(i,s)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";async function h2(r,e){return pp(r,"POST","/v1/accounts:signUp",sc(r,e))}class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await ba._fromIdTokenResponse(e,s,l),p=k0(s);return new Ts({user:c,providerId:p,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=k0(s);return new Ts({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function k0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function f2(r){if(aa(r.app))return Promise.reject(vs(r));const e=oc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ts({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await h2(e,{returnSecureToken:!0}),s=await Ts._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class zh extends Cs{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new zh(e,i,s,l)}}function Nb(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,c,e,s):c})}async function d2(r,e,i=!1){const s=await Ku(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ts._forOperation(r,"link",s)}async function m2(r,e,i=!1){const{auth:s}=r;if(aa(s.app))return Promise.reject(vs(s));const l="reauthenticate";try{const c=await Ku(r,Nb(s,l,e,r),i);At(c.idToken,s,"internal-error");const p=gp(c.idToken);At(p,s,"internal-error");const{sub:b}=p;return At(r.uid===b,s,"user-mismatch"),Ts._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ws(s,"user-mismatch"),c}}async function p2(r,e,i=!1){if(aa(r.app))return Promise.reject(vs(r));const s="signIn",l=await Nb(r,s,e),c=await Ts._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function g2(r,e){return pp(r,"POST","/v1/accounts:signInWithCustomToken",sc(r,e))}async function y2(r,e){if(aa(r.app))return Promise.reject(vs(r));const i=oc(r),s=await g2(i,{token:e,returnSecureToken:!0}),l=await Ts._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function v2(r,e,i,s){return Hr(r).onIdTokenChanged(e,i,s)}function _2(r,e,i){return Hr(r).beforeAuthStateChanged(e,i)}function b2(r,e,i,s){return Hr(r).onAuthStateChanged(e,i,s)}const Bh="__sak";class Db{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const w2=1e3,E2=10;class Ob extends Db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,E)=>{this.notifyListeners(p,E)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},c=this.storage.getItem(s);KS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,E2):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},w2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ob.type="LOCAL";const T2=Ob;class Vb extends Db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Vb.type="SESSION";const kb=Vb;function A2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const b=Array.from(p).map(async w=>w(i.origin,c)),E=await A2(b);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:E})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];function _p(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class S2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,E)=>{const w=_p("",20);l.port1.start();const x=setTimeout(()=>{E(new Error("unsupported_event"))},s);p={messageChannel:l,onMessage(U){const j=U;if(j.data.eventId===w)switch(j.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{E(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(j.data.response);break;default:clearTimeout(x),clearTimeout(c),E(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:w,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Ua(){return window}function C2(r){Ua().location.href=r}function Pb(){return typeof Ua().WorkerGlobalScope<"u"&&typeof Ua().importScripts=="function"}async function R2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I2(){return navigator?.serviceWorker?.controller||null}function x2(){return Pb()?self:null}const Lb="firebaseLocalStorageDb",M2=1,Fh="firebaseLocalStorage",Ub="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function of(r,e){return r.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function N2(){const r=indexedDB.deleteDatabase(Lb);return new uc(r).toPromise()}function Hm(){const r=indexedDB.open(Lb,M2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:Ub})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await N2(),e(await Hm()))})})}async function P0(r,e,i){const s=of(r,!0).put({[Ub]:e,value:i});return new uc(s).toPromise()}async function D2(r,e){const i=of(r,!1).get(e),s=await new uc(i).toPromise();return s===void 0?null:s.value}function L0(r,e){const i=of(r,!0).delete(e);return new uc(i).toPromise()}const O2=800,V2=3;class jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>V2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(x2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await R2(),!this.activeServiceWorker)return;this.sender=new S2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await P0(e,Bh,"1"),await L0(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>P0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>D2(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>L0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=of(l,!1).getAll();return new uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jb.type="LOCAL";const k2=jb;new ac(3e4,6e4);function P2(r,e){return e?ys(e):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class bp extends xb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return kl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function L2(r){return p2(r.auth,new bp(r),r.bypassAuthState)}function U2(r){const{auth:e,user:i}=r;return At(i,e,"internal-error"),m2(i,new bp(r),r.bypassAuthState)}async function j2(r){const{auth:e,user:i}=r;return At(i,e,"internal-error"),d2(i,new bp(r),r.bypassAuthState)}class zb{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const E={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(E))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L2;case"linkViaPopup":case"linkViaRedirect":return j2;case"reauthViaPopup":case"reauthViaRedirect":return U2;default:ws(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const z2=new ac(2e3,1e4);class Nl extends zb{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(La(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(La(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(La(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z2.get())};e()}}Nl.currentPopupAction=null;const B2="pendingRedirect",Rh=new Map;class F2 extends zb{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const s=await H2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H2(r,e){const i=Y2(e),s=G2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function q2(r,e){Rh.set(r._key(),e)}function G2(r){return ys(r._redirectPersistence)}function Y2(r){return Ch(B2,r.config.apiKey,r.name)}async function X2(r,e,i=!1){if(aa(r.app))return Promise.reject(vs(r));const s=oc(r),l=P2(s,e),p=await new F2(s,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}const Q2=600*1e3;class K2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Bb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(La(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(e))}saveEventToCache(e){this.cachedEventUids.add(U0(e)),this.lastProcessedEventTime=Date.now()}}function U0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Bb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function W2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bb(r);default:return!1}}async function $2(r,e={}){return Ql(r,"GET","/v1/projects",e)}const J2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z2=/^https?/;async function eC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await $2(r);for(const i of e)try{if(tC(i))return}catch{}ws(r,"unauthorized-domain")}function tC(r){const e=Bm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===s}if(!Z2.test(i))return!1;if(J2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const nC=new ac(3e4,6e4);function j0(){const r=Ua().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function iC(r){return new Promise((e,i)=>{function s(){j0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j0(),i(La(r,"network-request-failed"))},timeout:nC.get()})}if(Ua().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ua().gapi?.load)s();else{const l=r2("iframefcb");return Ua()[l]=()=>{gapi.load?s():i(La(r,"network-request-failed"))},n2(`${i2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function rC(r){return Ih=Ih||iC(r),Ih}const aC=new ac(5e3,15e3),sC="__/auth/iframe",oC="emulator/auth/iframe",lC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cC(r){const e=r.config;At(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?mp(e,oC):`https://${r.config.authDomain}/${sC}`,s={apiKey:e.apiKey,appName:r.name,v:Xl},l=uC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${rc(s).slice(1)}`}async function hC(r){const e=await rC(r),i=Ua().gapi;return At(i,r,"internal-error"),e.open({where:document.body,url:cC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const p=La(r,"network-request-failed"),b=Ua().setTimeout(()=>{c(p)},aC.get());function E(){Ua().clearTimeout(b),l(s)}s.ping(E).then(E,()=>{c(p)})}))}const fC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dC=500,mC=600,pC="_blank",gC="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yC(r,e,i,s=dC,l=mC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const E={...fC,width:s.toString(),height:l.toString(),top:c,left:p},w=ir().toLowerCase();i&&(b=wb(w)?pC:i),_b(w)&&(e=e||gC,E.scrollbars="yes");const x=Object.entries(E).reduce((j,[re,F])=>`${j}${re}=${F},`,"");if(QS(w)&&b!=="_self")return vC(e||"",b),new z0(null);const U=window.open(e||"",b,x);At(U,r,"popup-blocked");try{U.focus()}catch{}return new z0(U)}function vC(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const _C="__/auth/handler",bC="emulator/auth/handler",wC=encodeURIComponent("fac");async function B0(r,e,i,s,l,c){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Xl,eventId:l};if(e instanceof Mb){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",yA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,U]of Object.entries({}))p[x]=U}if(e instanceof lc){const x=e.getScopes().filter(U=>U!=="");x.length>0&&(p.scopes=x.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const x of Object.keys(b))b[x]===void 0&&delete b[x];const E=await r._getAppCheckToken(),w=E?`#${wC}=${encodeURIComponent(E)}`:"";return`${EC(r)}?${rc(b).slice(1)}${w}`}function EC({config:r}){return r.emulator?mp(r,bC):`https://${r.authDomain}/${_C}`}const Cm="webStorageSupport";class TC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kb,this._completeRedirectFn=X2,this._overrideRedirectResult=q2}async _openPopup(e,i,s,l){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await B0(e,i,s,Bm(),l);return yC(e,c,_p())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await B0(e,i,s,Bm(),l);return C2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Es(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await hC(e),s=new K2(e);return i.register("authEvent",l=>(At(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Cm,{type:Cm},l=>{const c=l?.[0]?.[Cm];c!==void 0&&i(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Cb()||bb()||yp()}}const AC=TC;var F0="@firebase/auth",H0="1.11.1";class SC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RC(r){jl(new Bo("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;At(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const E={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rb(r)},w=new e2(s,l,c,E);return s2(w,i),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),jl(new Bo("auth-internal",e=>{const i=oc(e.getProvider("auth").getImmediate());return(s=>new SC(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(F0,H0,CC(r)),co(F0,H0,"esm2020")}const IC=300,xC=nb("authIdTokenMaxAge")||IC;let q0=null;const MC=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>xC)return;const l=i?.token;q0!==l&&(q0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function NC(r=lb()){const e=fp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=a2(r,{popupRedirectResolver:AC,persistence:[k2,T2,kb]}),s=nb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const p=MC(c.toString());_2(i,p,()=>p(i.currentUser)),v2(i,b=>p(b))}}const l=eb("auth");return l&&o2(i,`http://${l}`),i}function DC(){return document.getElementsByTagName("head")?.[0]??document}t2({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=La("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",DC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RC("Browser");var G0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ho,Fb;(function(){var r;function e(q,z){function V(){}V.prototype=z.prototype,q.F=z.prototype,q.prototype=new V,q.prototype.constructor=q,q.D=function(H,I,k){for(var R=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)R[Q-2]=arguments[Q];return z.prototype[I].apply(H,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(q,z,V){V||(V=0);const H=Array(16);if(typeof z=="string")for(var I=0;I<16;++I)H[I]=z.charCodeAt(V++)|z.charCodeAt(V++)<<8|z.charCodeAt(V++)<<16|z.charCodeAt(V++)<<24;else for(I=0;I<16;++I)H[I]=z[V++]|z[V++]<<8|z[V++]<<16|z[V++]<<24;z=q.g[0],V=q.g[1],I=q.g[2];let k=q.g[3],R;R=z+(k^V&(I^k))+H[0]+3614090360&4294967295,z=V+(R<<7&4294967295|R>>>25),R=k+(I^z&(V^I))+H[1]+3905402710&4294967295,k=z+(R<<12&4294967295|R>>>20),R=I+(V^k&(z^V))+H[2]+606105819&4294967295,I=k+(R<<17&4294967295|R>>>15),R=V+(z^I&(k^z))+H[3]+3250441966&4294967295,V=I+(R<<22&4294967295|R>>>10),R=z+(k^V&(I^k))+H[4]+4118548399&4294967295,z=V+(R<<7&4294967295|R>>>25),R=k+(I^z&(V^I))+H[5]+1200080426&4294967295,k=z+(R<<12&4294967295|R>>>20),R=I+(V^k&(z^V))+H[6]+2821735955&4294967295,I=k+(R<<17&4294967295|R>>>15),R=V+(z^I&(k^z))+H[7]+4249261313&4294967295,V=I+(R<<22&4294967295|R>>>10),R=z+(k^V&(I^k))+H[8]+1770035416&4294967295,z=V+(R<<7&4294967295|R>>>25),R=k+(I^z&(V^I))+H[9]+2336552879&4294967295,k=z+(R<<12&4294967295|R>>>20),R=I+(V^k&(z^V))+H[10]+4294925233&4294967295,I=k+(R<<17&4294967295|R>>>15),R=V+(z^I&(k^z))+H[11]+2304563134&4294967295,V=I+(R<<22&4294967295|R>>>10),R=z+(k^V&(I^k))+H[12]+1804603682&4294967295,z=V+(R<<7&4294967295|R>>>25),R=k+(I^z&(V^I))+H[13]+4254626195&4294967295,k=z+(R<<12&4294967295|R>>>20),R=I+(V^k&(z^V))+H[14]+2792965006&4294967295,I=k+(R<<17&4294967295|R>>>15),R=V+(z^I&(k^z))+H[15]+1236535329&4294967295,V=I+(R<<22&4294967295|R>>>10),R=z+(I^k&(V^I))+H[1]+4129170786&4294967295,z=V+(R<<5&4294967295|R>>>27),R=k+(V^I&(z^V))+H[6]+3225465664&4294967295,k=z+(R<<9&4294967295|R>>>23),R=I+(z^V&(k^z))+H[11]+643717713&4294967295,I=k+(R<<14&4294967295|R>>>18),R=V+(k^z&(I^k))+H[0]+3921069994&4294967295,V=I+(R<<20&4294967295|R>>>12),R=z+(I^k&(V^I))+H[5]+3593408605&4294967295,z=V+(R<<5&4294967295|R>>>27),R=k+(V^I&(z^V))+H[10]+38016083&4294967295,k=z+(R<<9&4294967295|R>>>23),R=I+(z^V&(k^z))+H[15]+3634488961&4294967295,I=k+(R<<14&4294967295|R>>>18),R=V+(k^z&(I^k))+H[4]+3889429448&4294967295,V=I+(R<<20&4294967295|R>>>12),R=z+(I^k&(V^I))+H[9]+568446438&4294967295,z=V+(R<<5&4294967295|R>>>27),R=k+(V^I&(z^V))+H[14]+3275163606&4294967295,k=z+(R<<9&4294967295|R>>>23),R=I+(z^V&(k^z))+H[3]+4107603335&4294967295,I=k+(R<<14&4294967295|R>>>18),R=V+(k^z&(I^k))+H[8]+1163531501&4294967295,V=I+(R<<20&4294967295|R>>>12),R=z+(I^k&(V^I))+H[13]+2850285829&4294967295,z=V+(R<<5&4294967295|R>>>27),R=k+(V^I&(z^V))+H[2]+4243563512&4294967295,k=z+(R<<9&4294967295|R>>>23),R=I+(z^V&(k^z))+H[7]+1735328473&4294967295,I=k+(R<<14&4294967295|R>>>18),R=V+(k^z&(I^k))+H[12]+2368359562&4294967295,V=I+(R<<20&4294967295|R>>>12),R=z+(V^I^k)+H[5]+4294588738&4294967295,z=V+(R<<4&4294967295|R>>>28),R=k+(z^V^I)+H[8]+2272392833&4294967295,k=z+(R<<11&4294967295|R>>>21),R=I+(k^z^V)+H[11]+1839030562&4294967295,I=k+(R<<16&4294967295|R>>>16),R=V+(I^k^z)+H[14]+4259657740&4294967295,V=I+(R<<23&4294967295|R>>>9),R=z+(V^I^k)+H[1]+2763975236&4294967295,z=V+(R<<4&4294967295|R>>>28),R=k+(z^V^I)+H[4]+1272893353&4294967295,k=z+(R<<11&4294967295|R>>>21),R=I+(k^z^V)+H[7]+4139469664&4294967295,I=k+(R<<16&4294967295|R>>>16),R=V+(I^k^z)+H[10]+3200236656&4294967295,V=I+(R<<23&4294967295|R>>>9),R=z+(V^I^k)+H[13]+681279174&4294967295,z=V+(R<<4&4294967295|R>>>28),R=k+(z^V^I)+H[0]+3936430074&4294967295,k=z+(R<<11&4294967295|R>>>21),R=I+(k^z^V)+H[3]+3572445317&4294967295,I=k+(R<<16&4294967295|R>>>16),R=V+(I^k^z)+H[6]+76029189&4294967295,V=I+(R<<23&4294967295|R>>>9),R=z+(V^I^k)+H[9]+3654602809&4294967295,z=V+(R<<4&4294967295|R>>>28),R=k+(z^V^I)+H[12]+3873151461&4294967295,k=z+(R<<11&4294967295|R>>>21),R=I+(k^z^V)+H[15]+530742520&4294967295,I=k+(R<<16&4294967295|R>>>16),R=V+(I^k^z)+H[2]+3299628645&4294967295,V=I+(R<<23&4294967295|R>>>9),R=z+(I^(V|~k))+H[0]+4096336452&4294967295,z=V+(R<<6&4294967295|R>>>26),R=k+(V^(z|~I))+H[7]+1126891415&4294967295,k=z+(R<<10&4294967295|R>>>22),R=I+(z^(k|~V))+H[14]+2878612391&4294967295,I=k+(R<<15&4294967295|R>>>17),R=V+(k^(I|~z))+H[5]+4237533241&4294967295,V=I+(R<<21&4294967295|R>>>11),R=z+(I^(V|~k))+H[12]+1700485571&4294967295,z=V+(R<<6&4294967295|R>>>26),R=k+(V^(z|~I))+H[3]+2399980690&4294967295,k=z+(R<<10&4294967295|R>>>22),R=I+(z^(k|~V))+H[10]+4293915773&4294967295,I=k+(R<<15&4294967295|R>>>17),R=V+(k^(I|~z))+H[1]+2240044497&4294967295,V=I+(R<<21&4294967295|R>>>11),R=z+(I^(V|~k))+H[8]+1873313359&4294967295,z=V+(R<<6&4294967295|R>>>26),R=k+(V^(z|~I))+H[15]+4264355552&4294967295,k=z+(R<<10&4294967295|R>>>22),R=I+(z^(k|~V))+H[6]+2734768916&4294967295,I=k+(R<<15&4294967295|R>>>17),R=V+(k^(I|~z))+H[13]+1309151649&4294967295,V=I+(R<<21&4294967295|R>>>11),R=z+(I^(V|~k))+H[4]+4149444226&4294967295,z=V+(R<<6&4294967295|R>>>26),R=k+(V^(z|~I))+H[11]+3174756917&4294967295,k=z+(R<<10&4294967295|R>>>22),R=I+(z^(k|~V))+H[2]+718787259&4294967295,I=k+(R<<15&4294967295|R>>>17),R=V+(k^(I|~z))+H[9]+3951481745&4294967295,q.g[0]=q.g[0]+z&4294967295,q.g[1]=q.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,q.g[2]=q.g[2]+I&4294967295,q.g[3]=q.g[3]+k&4294967295}s.prototype.v=function(q,z){z===void 0&&(z=q.length);const V=z-this.blockSize,H=this.C;let I=this.h,k=0;for(;k<z;){if(I==0)for(;k<=V;)l(this,q,k),k+=this.blockSize;if(typeof q=="string"){for(;k<z;)if(H[I++]=q.charCodeAt(k++),I==this.blockSize){l(this,H),I=0;break}}else for(;k<z;)if(H[I++]=q[k++],I==this.blockSize){l(this,H),I=0;break}}this.h=I,this.o+=z},s.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var z=1;z<q.length-8;++z)q[z]=0;z=this.o*8;for(var V=q.length-8;V<q.length;++V)q[V]=z&255,z/=256;for(this.v(q),q=Array(16),z=0,V=0;V<4;++V)for(let H=0;H<32;H+=8)q[z++]=this.g[V]>>>H&255;return q};function c(q,z){var V=b;return Object.prototype.hasOwnProperty.call(V,q)?V[q]:V[q]=z(q)}function p(q,z){this.h=z;const V=[];let H=!0;for(let I=q.length-1;I>=0;I--){const k=q[I]|0;H&&k==z||(V[I]=k,H=!1)}this.g=V}var b={};function E(q){return-128<=q&&q<128?c(q,function(z){return new p([z|0],z<0?-1:0)}):new p([q|0],q<0?-1:0)}function w(q){if(isNaN(q)||!isFinite(q))return U;if(q<0)return Re(w(-q));const z=[];let V=1;for(let H=0;q>=V;H++)z[H]=q/V|0,V*=4294967296;return new p(z,0)}function x(q,z){if(q.length==0)throw Error("number format error: empty string");if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(q.charAt(0)=="-")return Re(x(q.substring(1),z));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=w(Math.pow(z,8));let H=U;for(let k=0;k<q.length;k+=8){var I=Math.min(8,q.length-k);const R=parseInt(q.substring(k,k+I),z);I<8?(I=w(Math.pow(z,I)),H=H.j(I).add(w(R))):(H=H.j(V),H=H.add(w(R)))}return H}var U=E(0),j=E(1),re=E(16777216);r=p.prototype,r.m=function(){if(Me(this))return-Re(this).m();let q=0,z=1;for(let V=0;V<this.g.length;V++){const H=this.i(V);q+=(H>=0?H:4294967296+H)*z,z*=4294967296}return q},r.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(F(this))return"0";if(Me(this))return"-"+Re(this).toString(q);const z=w(Math.pow(q,6));var V=this;let H="";for(;;){const I=Xe(V,z).g;V=Ve(V,I.j(z));let k=((V.g.length>0?V.g[0]:V.h)>>>0).toString(q);if(V=I,F(V))return k+H;for(;k.length<6;)k="0"+k;H=k+H}},r.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function F(q){if(q.h!=0)return!1;for(let z=0;z<q.g.length;z++)if(q.g[z]!=0)return!1;return!0}function Me(q){return q.h==-1}r.l=function(q){return q=Ve(this,q),Me(q)?-1:F(q)?0:1};function Re(q){const z=q.g.length,V=[];for(let H=0;H<z;H++)V[H]=~q.g[H];return new p(V,~q.h).add(j)}r.abs=function(){return Me(this)?Re(this):this},r.add=function(q){const z=Math.max(this.g.length,q.g.length),V=[];let H=0;for(let I=0;I<=z;I++){let k=H+(this.i(I)&65535)+(q.i(I)&65535),R=(k>>>16)+(this.i(I)>>>16)+(q.i(I)>>>16);H=R>>>16,k&=65535,R&=65535,V[I]=R<<16|k}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Ve(q,z){return q.add(Re(z))}r.j=function(q){if(F(this)||F(q))return U;if(Me(this))return Me(q)?Re(this).j(Re(q)):Re(Re(this).j(q));if(Me(q))return Re(this.j(Re(q)));if(this.l(re)<0&&q.l(re)<0)return w(this.m()*q.m());const z=this.g.length+q.g.length,V=[];for(var H=0;H<2*z;H++)V[H]=0;for(H=0;H<this.g.length;H++)for(let I=0;I<q.g.length;I++){const k=this.i(H)>>>16,R=this.i(H)&65535,Q=q.i(I)>>>16,se=q.i(I)&65535;V[2*H+2*I]+=R*se,ke(V,2*H+2*I),V[2*H+2*I+1]+=k*se,ke(V,2*H+2*I+1),V[2*H+2*I+1]+=R*Q,ke(V,2*H+2*I+1),V[2*H+2*I+2]+=k*Q,ke(V,2*H+2*I+2)}for(q=0;q<z;q++)V[q]=V[2*q+1]<<16|V[2*q];for(q=z;q<2*z;q++)V[q]=0;return new p(V,0)};function ke(q,z){for(;(q[z]&65535)!=q[z];)q[z+1]+=q[z]>>>16,q[z]&=65535,z++}function Be(q,z){this.g=q,this.h=z}function Xe(q,z){if(F(z))throw Error("division by zero");if(F(q))return new Be(U,U);if(Me(q))return z=Xe(Re(q),z),new Be(Re(z.g),Re(z.h));if(Me(z))return z=Xe(q,Re(z)),new Be(Re(z.g),z.h);if(q.g.length>30){if(Me(q)||Me(z))throw Error("slowDivide_ only works with positive integers.");for(var V=j,H=z;H.l(q)<=0;)V=ct(V),H=ct(H);var I=mt(V,1),k=mt(H,1);for(H=mt(H,2),V=mt(V,2);!F(H);){var R=k.add(H);R.l(q)<=0&&(I=I.add(V),k=R),H=mt(H,1),V=mt(V,1)}return z=Ve(q,I.j(z)),new Be(I,z)}for(I=U;q.l(z)>=0;){for(V=Math.max(1,Math.floor(q.m()/z.m())),H=Math.ceil(Math.log(V)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),k=w(V),R=k.j(z);Me(R)||R.l(q)>0;)V-=H,k=w(V),R=k.j(z);F(k)&&(k=j),I=I.add(k),q=Ve(q,R)}return new Be(I,q)}r.B=function(q){return Xe(this,q).h},r.and=function(q){const z=Math.max(this.g.length,q.g.length),V=[];for(let H=0;H<z;H++)V[H]=this.i(H)&q.i(H);return new p(V,this.h&q.h)},r.or=function(q){const z=Math.max(this.g.length,q.g.length),V=[];for(let H=0;H<z;H++)V[H]=this.i(H)|q.i(H);return new p(V,this.h|q.h)},r.xor=function(q){const z=Math.max(this.g.length,q.g.length),V=[];for(let H=0;H<z;H++)V[H]=this.i(H)^q.i(H);return new p(V,this.h^q.h)};function ct(q){const z=q.g.length+1,V=[];for(let H=0;H<z;H++)V[H]=q.i(H)<<1|q.i(H-1)>>>31;return new p(V,q.h)}function mt(q,z){const V=z>>5;z%=32;const H=q.g.length-V,I=[];for(let k=0;k<H;k++)I[k]=z>0?q.i(k+V)>>>z|q.i(k+V+1)<<32-z:q.i(k+V);return new p(I,q.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Fb=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=w,p.fromString=x,ho=p}).apply(typeof G0<"u"?G0:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hb,Uu,qb,xh,qm,Gb,Yb,Xb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=i(this);function l(u,y){if(y)e:{var A=s;u=u.split(".");for(var O=0;O<u.length-1;O++){var ae=u[O];if(!(ae in A))break e;A=A[ae]}u=u[u.length-1],O=A[u],y=y(O),y!=O&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],O;for(O in y)Object.prototype.hasOwnProperty.call(y,O)&&A.push([O,y[O]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function E(u,y,A){return u.call.apply(u.bind,arguments)}function w(u,y,A){return w=E,w.apply(null,arguments)}function x(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var O=A.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function U(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(O,ae,de){for(var Ue=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)Ue[Ct-2]=arguments[Ct];return y.prototype[ae].apply(O,Ue)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function re(u){const y=u.length;if(y>0){const A=Array(y);for(let O=0;O<y;O++)A[O]=u[O];return A}return[]}function F(u,y){for(let O=1;O<arguments.length;O++){const ae=arguments[O];var A=typeof ae;if(A=A!="object"?A:ae?Array.isArray(ae)?"array":A:"null",A=="array"||A=="object"&&typeof ae.length=="number"){A=u.length||0;const de=ae.length||0;u.length=A+de;for(let Ue=0;Ue<de;Ue++)u[A+Ue]=ae[Ue]}else u.push(ae)}}class Me{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Re(u){p.setTimeout(()=>{throw u},0)}function Ve(){var u=q;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class ke{constructor(){this.h=this.g=null}add(y,A){const O=Be.get();O.set(y,A),this.h?this.h.next=O:this.g=O,this.h=O}}var Be=new Me(()=>new Xe,u=>u.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,mt=!1,q=new ke,z=()=>{const u=Promise.resolve(void 0);ct=()=>{u.then(V)}};function V(){for(var u;u=Ve();){try{u.h.call(u.g)}catch(A){Re(A)}var y=Be;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}mt=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Q(u,y){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}U(Q,I),Q.prototype.init=function(u,y){const A=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(u,y,A,O,ae){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!O,this.ha=ae,this.key=++G,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,y,A){for(const O in u)y.call(A,u[O],O,u)}function we(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function P(u){const y={};for(const A in u)y[A]=u[A];return y}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ee(u,y){let A,O;for(let ae=1;ae<arguments.length;ae++){O=arguments[ae];for(A in O)u[A]=O[A];for(let de=0;de<K.length;de++)A=K[de],Object.prototype.hasOwnProperty.call(O,A)&&(u[A]=O[A])}}function ge(u){this.src=u,this.g={},this.h=0}ge.prototype.add=function(u,y,A,O,ae){const de=u.toString();u=this.g[de],u||(u=this.g[de]=[],this.h++);const Ue=He(u,y,O,ae);return Ue>-1?(y=u[Ue],A||(y.fa=!1)):(y=new te(y,this.src,de,!!O,ae),y.fa=A,u.push(y)),y};function Ne(u,y){const A=y.type;if(A in u.g){var O=u.g[A],ae=Array.prototype.indexOf.call(O,y,void 0),de;(de=ae>=0)&&Array.prototype.splice.call(O,ae,1),de&&(ye(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function He(u,y,A,O){for(let ae=0;ae<u.length;++ae){const de=u[ae];if(!de.da&&de.listener==y&&de.capture==!!A&&de.ha==O)return ae}return-1}var ht="closure_lm_"+(Math.random()*1e6|0),dt={};function bt(u,y,A,O,ae){if(Array.isArray(y)){for(let de=0;de<y.length;de++)bt(u,y[de],A,O,ae);return null}return A=Zt(A),u&&u[se]?u.J(y,A,b(O)?!!O.capture:!1,ae):Ot(u,y,A,!1,O,ae)}function Ot(u,y,A,O,ae,de){if(!y)throw Error("Invalid event type");const Ue=b(ae)?!!ae.capture:!!ae;let Ct=En(u);if(Ct||(u[ht]=Ct=new ge(u)),A=Ct.add(y,A,O,Ue,de),A.proxy)return A;if(O=un(),A.proxy=O,O.src=u,O.listener=A,u.addEventListener)k||(ae=Ue),ae===void 0&&(ae=!1),u.addEventListener(y.toString(),O,ae);else if(u.attachEvent)u.attachEvent(Nt(y.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return A}function un(){function u(A){return y.call(u.src,u.listener,A)}const y=wt;return u}function ft(u,y,A,O,ae){if(Array.isArray(y))for(var de=0;de<y.length;de++)ft(u,y[de],A,O,ae);else O=b(O)?!!O.capture:!!O,A=Zt(A),u&&u[se]?(u=u.i,de=String(y).toString(),de in u.g&&(y=u.g[de],A=He(y,A,O,ae),A>-1&&(ye(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[de],u.h--)))):u&&(u=En(u))&&(y=u.g[y.toString()],u=-1,y&&(u=He(y,A,O,ae)),(A=u>-1?y[u]:null)&&St(A))}function St(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[se])Ne(y.i,u);else{var A=u.type,O=u.proxy;y.removeEventListener?y.removeEventListener(A,O,u.capture):y.detachEvent?y.detachEvent(Nt(A),O):y.addListener&&y.removeListener&&y.removeListener(O),(A=En(y))?(Ne(A,u),A.h==0&&(A.src=null,y[ht]=null)):ye(u)}}}function Nt(u){return u in dt?dt[u]:dt[u]="on"+u}function wt(u,y){if(u.da)u=!0;else{y=new Q(y,this);const A=u.listener,O=u.ha||u.src;u.fa&&St(u),u=A.call(O,y)}return u}function En(u){return u=u[ht],u instanceof ge?u:null}var ci="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zt(u){return typeof u=="function"?u:(u[ci]||(u[ci]=function(y){return u.handleEvent(y)}),u[ci])}function it(){H.call(this),this.i=new ge(this),this.M=this,this.G=null}U(it,H),it.prototype[se]=!0,it.prototype.removeEventListener=function(u,y,A,O){ft(this,u,y,A,O)};function sn(u,y){var A,O=u.G;if(O)for(A=[];O;O=O.G)A.push(O);if(u=u.M,O=y.type||y,typeof y=="string")y=new I(y,u);else if(y instanceof I)y.target=y.target||u;else{var ae=y;y=new I(O,u),Ee(y,ae)}ae=!0;let de,Ue;if(A)for(Ue=A.length-1;Ue>=0;Ue--)de=y.g=A[Ue],ae=dn(de,O,!0,y)&&ae;if(de=y.g=u,ae=dn(de,O,!0,y)&&ae,ae=dn(de,O,!1,y)&&ae,A)for(Ue=0;Ue<A.length;Ue++)de=y.g=A[Ue],ae=dn(de,O,!1,y)&&ae}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let O=0;O<A.length;O++)ye(A[O]);delete u.g[y],u.h--}}this.G=null},it.prototype.J=function(u,y,A,O){return this.i.add(String(u),y,!1,A,O)},it.prototype.K=function(u,y,A,O){return this.i.add(String(u),y,!0,A,O)};function dn(u,y,A,O){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ae=!0;for(let de=0;de<y.length;++de){const Ue=y[de];if(Ue&&!Ue.da&&Ue.capture==A){const Ct=Ue.listener,Zn=Ue.ha||Ue.src;Ue.fa&&Ne(u.i,Ue),ae=Ct.call(Zn,O)!==!1&&ae}}return ae&&!O.defaultPrevented}function Gi(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function Kn(u){u.g=Gi(()=>{u.g=null,u.i&&(u.i=!1,Kn(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Gt extends H{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(u){H.call(this),this.h=u,this.g={}}U(Tn,H);var C=[];function g(u){he(u.g,function(y,A){this.g.hasOwnProperty(A)&&St(y)},u),u.g={}}Tn.prototype.N=function(){Tn.Z.N.call(this),g(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,D=p.JSON.parse,W=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function me(){}function Ie(){}var Qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){I.call(this,"d")}U(Je,I);function Ge(){I.call(this,"c")}U(Ge,I);var rt={},Bt=null;function Cn(){return Bt=Bt||new it}rt.Ia="serverreachability";function mn(u){I.call(this,rt.Ia,u)}U(mn,I);function zn(u){const y=Cn();sn(y,new mn(y))}rt.STAT_EVENT="statevent";function Wn(u,y){I.call(this,rt.STAT_EVENT,u),this.stat=y}U(Wn,I);function jt(u){const y=Cn();sn(y,new Wn(y,u))}rt.Ja="timingevent";function nn(u,y){I.call(this,rt.Ja,u),this.size=y}U(nn,I);function On(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function rr(u,y,A,O,ae,de){u.info(function(){if(u.g)if(de){var Ue="",Ct=de.split("&");for(let on=0;on<Ct.length;on++){var Zn=Ct[on].split("=");if(Zn.length>1){const Un=Zn[0];Zn=Zn[1];const $i=Un.split("_");Ue=$i.length>=2&&$i[1]=="type"?Ue+(Un+"="+Zn+"&"):Ue+(Un+"=redacted&")}}}else Ue=null;else Ue=de;return"XMLHTTP REQ ("+O+") [attempt "+ae+"]: "+y+`
`+A+`
`+Ue})}function vt(u,y,A,O,ae,de,Ue){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+ae+"]: "+y+`
`+A+`
`+de+" "+Ue})}function $n(u,y,A,O){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+ar(u,A)+(O?" "+O:"")})}function Rt(u,y){u.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function ar(u,y){if(!u.g)return y;if(!y)return null;try{const de=JSON.parse(y);if(de){for(u=0;u<de.length;u++)if(Array.isArray(de[u])){var A=de[u];if(!(A.length<2)){var O=A[1];if(Array.isArray(O)&&!(O.length<1)){var ae=O[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let Ue=1;Ue<O.length;Ue++)O[Ue]=""}}}}return v(de)}catch{return y}}var Ii={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pr;function Gr(){}U(Gr,me),Gr.prototype.g=function(){return new XMLHttpRequest},pr=new Gr;function Ye(u){return encodeURIComponent(String(u))}function Ta(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function xi(u,y,A,O){this.j=u,this.i=y,this.l=A,this.S=O||1,this.V=new Tn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yi}function Yi(){this.i=null,this.g="",this.h=!1}var vn={},Jn={};function sr(u,y,A){u.M=1,u.A=Ln(Yt(y)),u.u=A,u.R=!0,Mr(u,null)}function Mr(u,y){u.F=Date.now(),or(u),u.B=Yt(u.A);var A=u.B,O=u.S;Array.isArray(O)||(O=[String(O)]),pt(A.i,"t",O),u.C=0,A=u.j.L,u.h=new Yi,u.g=Jo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new Gt(w(u.Y,u,u.g),u.P)),y=u.V,A=u.g,O=u.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(C[0]=ae.toString()),ae=C);for(let de=0;de<ae.length;de++){const Ue=bt(A,ae[de],O||y.handleEvent,!1,y.h||y);if(!Ue)break;y.g[Ue.key]=Ue}y=u.J?P(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),zn(),rr(u.i,u.v,u.B,u.l,u.S,u.u)}xi.prototype.ba=function(u){u=u.target;const y=this.O;y&&Or(u)==3?y.j():this.Y(u)},xi.prototype.Y=function(u){try{if(u==this.g)e:{const Ct=Or(this.g),Zn=this.g.ya(),on=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||bi(this.g)))){this.K||Ct!=4||Zn==7||(Zn==8||on<=0?zn(3):zn(2)),Ni(this);var y=this.g.ca();this.X=y;var A=Rs(this);if(this.o=y==200,vt(this.i,this.v,this.B,this.l,this.S,Ct,y),this.o){if(this.U&&!this.L){t:{if(this.g){var O,ae=this.g;if((O=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(O)){var de=O;break t}}de=null}if(u=de)$n(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xi(this,u);else{this.o=!1,this.m=3,jt(12),Oi(this),Di(this);break e}}if(this.R){u=!0;let Un;for(;!this.K&&this.C<A.length;)if(Un=la(this,A),Un==Jn){Ct==4&&(this.m=4,jt(14),u=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==vn){this.m=4,jt(15),$n(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else $n(this.i,this.l,Un,null),Xi(this,Un);if(qa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||A.length!=0||this.h.h||(this.m=1,jt(16),u=!1),this.o=this.o&&u,!u)$n(this.i,this.l,A,"[Invalid Chunked Response]"),Oi(this),Di(this);else if(A.length>0&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.aa&&!Ue.P&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),ur(Ue),Ue.P=!0,jt(11))}}else $n(this.i,this.l,A,null),Xi(this,A);Ct==4&&Oi(this),this.o&&!this.K&&(Ct==4?Ka(this.j,this):(this.o=!1,or(this)))}else br(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),Oi(this),Di(this)}}}catch{}finally{}};function Rs(u){if(!qa(u))return u.g.la();const y=bi(u.g);if(y==="")return"";let A="";const O=y.length,ae=Or(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Oi(u),Di(u),"";u.h.i=new p.TextDecoder}for(let de=0;de<O;de++)u.h.h=!0,A+=u.h.i.decode(y[de],{stream:!(ae&&de==O-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function qa(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function la(u,y){var A=u.C,O=y.indexOf(`
`,A);return O==-1?Jn:(A=Number(y.substring(A,O)),isNaN(A)?vn:(O+=1,O+A>y.length?Jn:(y=y.slice(O,O+A),u.C=O+A,y)))}xi.prototype.cancel=function(){this.K=!0,Oi(this)};function or(u){u.T=Date.now()+u.H,Mi(u,u.H)}function Mi(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=On(w(u.aa,u),y)}function Ni(u){u.D&&(p.clearTimeout(u.D),u.D=null)}xi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rt(this.i,this.B),this.M!=2&&(zn(),jt(17)),Oi(this),this.m=2,Di(this)):Mi(this,this.T-u)};function Di(u){u.j.I==0||u.K||Ka(u.j,u)}function Oi(u){Ni(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Xi(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||Qi(A.h,u))){if(!u.L&&Qi(A.h,u)&&A.I==3){try{var O=A.Ba.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var ae=O;if(ae[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)ma(A),Vr(A);else break e;Ia(A),jt(18)}}else A.xa=ae[1],0<A.xa-A.K&&ae[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=On(w(A.Va,A),6e3));Vi(A.h)<=1&&A.ta&&(A.ta=void 0)}else kr(A,11)}else if((u.L||A.g==u)&&ma(A),!R(y))for(ae=A.Ba.g.parse(y),y=0;y<ae.length;y++){let on=ae[y];const Un=on[0];if(!(Un<=A.K))if(A.K=Un,on=on[1],A.I==2)if(on[0]=="c"){A.M=on[1],A.ba=on[2];const $i=on[3];$i!=null&&(A.ka=$i,A.j.info("VER="+A.ka));const wr=on[4];wr!=null&&(A.za=wr,A.j.info("SVER="+A.za));const Er=on[5];Er!=null&&typeof Er=="number"&&Er>0&&(O=1.5*Er,A.O=O,A.j.info("backChannelRequestTimeoutMs_="+O)),O=A;const cr=u.g;if(cr){const Wr=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wr){var de=O.h;de.g||Wr.indexOf("spdy")==-1&&Wr.indexOf("quic")==-1&&Wr.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Ga(de,de.h),de.h=null))}if(O.G){const Wa=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(O.wa=Wa,en(O.J,O.G,Wa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),O=A;var Ue=u;if(O.na=$o(O,O.L?O.ba:null,O.W),Ue.L){Nr(O.h,Ue);var Ct=Ue,Zn=O.O;Zn&&(Ct.H=Zn),Ct.D&&(Ni(Ct),or(Ct)),O.g=Ue}else ai(O);A.i.length>0&&lr(A)}else on[0]!="stop"&&on[0]!="close"||kr(A,7);else A.I==3&&(on[0]=="stop"||on[0]=="close"?on[0]=="stop"?kr(A,7):Eo(A):on[0]!="noop"&&A.l&&A.l.qa(on),A.A=0)}}zn(4)}catch{}}var Pn=class{constructor(u,y){this.g=u,this.map=y}};function Yr(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ti(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vi(u){return u.h?1:u.g?u.g.size:0}function Qi(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ga(u,y){u.g?u.g.add(y):u.h=y}function Nr(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Yr.prototype.cancel=function(){if(this.i=Aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Aa(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return re(u.i)}var Sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gr(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const O=u[A].indexOf("=");let ae,de=null;O>=0?(ae=u[A].substring(0,O),de=u[A].substring(O+1)):ae=u[A],y(ae,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Ai(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Ai?(this.l=u.l,Xn(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.u),this.h=u.h,yr(this,Le(u.i)),this.m=u.m):u&&(y=String(u).match(Sa))?(this.l=!1,Xn(this,y[1]||"",!0),this.o=ut(y[2]||""),this.g=ut(y[3]||"",!0),Ki(this,y[4]),this.h=ut(y[5]||"",!0),yr(this,y[6]||"",!0),this.m=ut(y[7]||"")):(this.l=!1,this.i=new ve(null,this.l))}Ai.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(ii(y,ua,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(ii(y,ua,!0),"@"),u.push(Ye(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(ii(A,A.charAt(0)=="/"?J:ca,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",ii(A,be)),u.join("")},Ai.prototype.resolve=function(u){const y=Yt(this);let A=!!u.j;A?Xn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var O=u.h;if(A)Ki(y,u.u);else if(A=!!u.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var ae=y.h.lastIndexOf("/");ae!=-1&&(O=y.h.slice(0,ae+1)+O)}if(ae=O,ae==".."||ae==".")O="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){O=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const de=[];for(let Ue=0;Ue<ae.length;){const Ct=ae[Ue++];Ct=="."?O&&Ue==ae.length&&de.push(""):Ct==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),O&&Ue==ae.length&&de.push("")):(de.push(Ct),O=!0)}O=de.join("/")}else O=ae}return A?y.h=O:A=u.i.toString()!=="",A?yr(y,Le(u.i)):A=!!u.m,A&&(y.m=u.m),y};function Yt(u){return new Ai(u)}function Xn(u,y,A){u.j=A?ut(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function yr(u,y,A){y instanceof ve?(u.i=y,pn(u.i,u.l)):(A||(y=ii(y,ie)),u.i=new ve(y,u.l))}function en(u,y,A){u.i.set(y,A)}function Ln(u){return en(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ut(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ii(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,Vn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ua=/[#\/\?@]/g,ca=/[#\?:]/g,J=/[#\?]/g,ie=/[#\?@]/g,be=/#/g;function ve(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Ae(u){u.g||(u.g=new Map,u.h=0,u.i&&gr(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=ve.prototype,r.add=function(u,y){Ae(this),this.i=null,u=ot(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function Fe(u,y){Ae(u),y=ot(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Ze(u,y){return Ae(u),y=ot(u,y),u.g.has(y)}r.forEach=function(u,y){Ae(this),this.g.forEach(function(A,O){A.forEach(function(ae){u.call(y,ae,O,this)},this)},this)};function Pe(u,y){Ae(u);let A=[];if(typeof y=="string")Ze(u,y)&&(A=A.concat(u.g.get(ot(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return Ae(this),this.i=null,u=ot(this,u),Ze(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=Pe(this,u),u.length>0?String(u[0]):y):y};function pt(u,y,A){Fe(u,y),A.length>0&&(u.i=null,u.g.set(ot(u,y),re(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let O=0;O<y.length;O++){var A=y[O];const ae=Ye(A);A=Pe(this,A);for(let de=0;de<A.length;de++){let Ue=ae;A[de]!==""&&(Ue+="="+Ye(A[de])),u.push(Ue)}}return this.i=u.join("&")};function Le(u){const y=new ve;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function ot(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function pn(u,y){y&&!u.j&&(Ae(u),u.i=null,u.g.forEach(function(A,O){const ae=O.toLowerCase();O!=ae&&(Fe(this,O),pt(this,ae,A))},u)),u.j=y}function Rn(u,y){const A=new Yn;if(p.Image){const O=new Image;O.onload=x(ri,A,"TestLoadImage: loaded",!0,y,O),O.onerror=x(ri,A,"TestLoadImage: error",!1,y,O),O.onabort=x(ri,A,"TestLoadImage: abort",!1,y,O),O.ontimeout=x(ri,A,"TestLoadImage: timeout",!1,y,O),p.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else y(!1)}function In(u,y){const A=new Yn,O=new AbortController,ae=setTimeout(()=>{O.abort(),ri(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:O.signal}).then(de=>{clearTimeout(ae),de.ok?ri(A,"TestPingServer: ok",!0,y):ri(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ae),ri(A,"TestPingServer: error",!1,y)})}function ri(u,y,A,O,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),O(A)}catch{}}function xn(){this.g=new W}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}U(vi,me),vi.prototype.g=function(){return new vr(this.i,this.h)};function vr(u,y){it.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}U(vr,it),r=vr.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,ki(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?_r(this):ki(this),this.readyState==3&&ha(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,_r(this))},r.Na=function(u){this.g&&(this.response=u,_r(this))},r.ga=function(){this.g&&_r(this)};function _r(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ki(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function ki(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _i(u){let y="";return he(u,function(A,O){y+=O,y+=":",y+=A,y+=`\r
`}),y}function Xr(u,y,A){e:{for(O in A){var O=!1;break e}O=!0}O||(A=_i(A),typeof u=="string"?A!=null&&Ye(A):en(u,y,A))}function Vt(u){it.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}U(Vt,it);var Qr=/^https?$/i,Wi=["POST","PUT"];r=Vt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pr.g(),this.g.onreadystatechange=j(w(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(de){fa(this,de);return}if(u=A||"",A=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var ae in O)A.set(ae,O[ae]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const de of O.keys())A.set(de,O.get(de));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(A.keys()).find(de=>de.toLowerCase()=="content-type"),ae=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Wi,y,void 0)>=0)||O||ae||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ue]of A)this.g.setRequestHeader(de,Ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(de){fa(this,de)}};function fa(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Ca(u),Dr(u)}function Ca(u){u.A||(u.A=!0,sn(u,"complete"),sn(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,sn(this,"complete"),sn(this,"abort"),Dr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dr(this,!0)),Vt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},r.Xa=function(){da(this)};function da(u){if(u.h&&typeof c<"u"){if(u.v&&Or(u)==4)setTimeout(u.Ca.bind(u),0);else if(sn(u,"readystatechange"),Or(u)==4){u.h=!1;try{const de=u.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var O;if(O=de===0){let Ue=String(u.D).match(Sa)[1]||null;!Ue&&p.self&&p.self.location&&(Ue=p.self.location.protocol.slice(0,-1)),O=!Qr.test(Ue?Ue.toLowerCase():"")}A=O}if(A)sn(u,"complete"),sn(u,"success");else{u.o=6;try{var ae=Or(u)>2?u.g.statusText:""}catch{ae=""}u.l=ae+" ["+u.ca()+"]",Ca(u)}}finally{Dr(u)}}}}function Dr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||sn(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Or(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Or(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),D(y)}};function bi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function br(u){const y={};u=(u.g&&Or(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(R(u[O]))continue;var A=Ta(u[O]);const ae=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const de=y[ae]||[];y[ae]=de,de.push(A)}we(y,function(O){return O.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Ra(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Kr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Kr("baseRetryDelayMs",5e3,u),this.Za=Kr("retryDelaySeedMs",1e4,u),this.Ta=Kr("forwardChannelMaxRetries",2,u),this.va=Kr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Yr(u&&u.concurrentRequestLimit),this.Ba=new xn,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ra.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,O){jt(0),this.W=u,this.H=y||{},A&&O!==void 0&&(this.H.OSID=A,this.H.OAID=O),this.F=this.X,this.J=$o(this,null,this.W),lr(this)};function Eo(u){if(Ya(u),u.I==3){var y=u.V++,A=Yt(u.J);if(en(A,"SID",u.M),en(A,"RID",y),en(A,"TYPE","terminate"),Qa(u,A),y=new xi(u,u.j,y),y.M=2,y.A=Ln(Yt(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Jo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),or(y)}Ms(u)}function Vr(u){u.g&&(ur(u),u.g.cancel(),u.g=null)}function Ya(u){Vr(u),u.v&&(p.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function lr(u){if(!Ti(u.h)&&!u.m){u.m=!0;var y=u.Ea;ct||z(),mt||(ct(),mt=!0),q.add(y,u),u.D=0}}function Xa(u,y){return Vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=On(w(u.Ea,u,y),xs(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ae=new xi(this,this.j,u);let de=this.o;if(this.U&&(de?(de=P(de),Ee(de,this.U)):de=this.U),this.u!==null||this.R||(ae.J=de,de=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var O=this.i[A];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Ko(this,ae,y),A=Yt(this.J),en(A,"RID",u),en(A,"CVER",22),this.G&&en(A,"X-HTTP-Session-Id",this.G),Qa(this,A),de&&(this.R?y="headers="+Ye(_i(de))+"&"+y:this.u&&Xr(A,this.u,de)),Ga(this.h,ae),this.Ra&&en(A,"TYPE","init"),this.S?(en(A,"$req",y),en(A,"SID","null"),ae.U=!0,sr(ae,A,null)):sr(ae,A,y),this.I=2}}else this.I==3&&(u?Is(this,u):this.i.length==0||Ti(this.h)||Is(this))};function Is(u,y){var A;y?A=y.l:A=u.V++;const O=Yt(u.J);en(O,"SID",u.M),en(O,"RID",A),en(O,"AID",u.K),Qa(u,O),u.u&&u.o&&Xr(O,u.u,u.o),A=new xi(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Ko(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ga(u.h,A),sr(A,O,y)}function Qa(u,y){u.H&&he(u.H,function(A,O){en(y,O,A)}),u.l&&he({},function(A,O){en(y,O,A)})}function Ko(u,y,A){A=Math.min(u.i.length,A);const O=u.l?w(u.l.Ka,u.l,u):null;e:{var ae=u.i;let Ct=-1;for(;;){const Zn=["count="+A];Ct==-1?A>0?(Ct=ae[0].g,Zn.push("ofs="+Ct)):Ct=0:Zn.push("ofs="+Ct);let on=!0;for(let Un=0;Un<A;Un++){var de=ae[Un].g;const $i=ae[Un].map;if(de-=Ct,de<0)Ct=Math.max(0,ae[Un].g-100),on=!1;else try{de="req"+de+"_"||"";try{var Ue=$i instanceof Map?$i:Object.entries($i);for(const[wr,Er]of Ue){let cr=Er;b(Er)&&(cr=v(Er)),Zn.push(de+wr+"="+encodeURIComponent(cr))}}catch(wr){throw Zn.push(de+"type="+encodeURIComponent("_badmap")),wr}}catch{O&&O($i)}}if(on){Ue=Zn.join("&");break e}}Ue=void 0}return u=u.i.splice(0,A),y.G=u,Ue}function ai(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ct||z(),mt||(ct(),mt=!0),q.add(y,u),u.A=0}}function Ia(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=On(w(u.Da,u),xs(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Wo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=On(w(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Vr(this),Wo(this))};function ur(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Wo(u){u.g=new xi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=Yt(u.na);en(y,"RID","rpc"),en(y,"SID",u.M),en(y,"AID",u.K),en(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&en(y,"TO",u.ia),en(y,"TYPE","xmlhttp"),Qa(u,y),u.u&&u.o&&Xr(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=Ln(Yt(y)),A.u=null,A.R=!0,Mr(A,u)}r.Va=function(){this.C!=null&&(this.C=null,Vr(this),Ia(this),jt(19))};function ma(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Ka(u,y){var A=null;if(u.g==y){ma(u),ur(u),u.g=null;var O=2}else if(Qi(u.h,y))A=y.G,Nr(u.h,y),O=1;else return;if(u.I!=0){if(y.o)if(O==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ae=u.D;O=Cn(),sn(O,new nn(O,A)),lr(u)}else ai(u);else if(ae=y.m,ae==3||ae==0&&y.X>0||!(O==1&&Xa(u,y)||O==2&&Ia(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ae){case 1:kr(u,5);break;case 4:kr(u,10);break;case 3:kr(u,6);break;default:kr(u,2)}}}function xs(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function kr(u,y){if(u.j.info("Error code "+y),y==2){var A=w(u.bb,u),O=u.Ua;const ae=!O;O=new Ai(O||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Xn(O,"https"),Ln(O),ae?Rn(O.toString(),A):In(O.toString(),A)}else jt(2);u.I=0,u.l&&u.l.pa(y),Ms(u),Ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Ms(u){if(u.I=0,u.ja=[],u.l){const y=Aa(u.h);(y.length!=0||u.i.length!=0)&&(F(u.ja,y),F(u.ja,u.i),u.h.i.length=0,re(u.i),u.i.length=0),u.l.oa()}}function $o(u,y,A){var O=A instanceof Ai?Yt(A):new Ai(A);if(O.g!="")y&&(O.g=y+"."+O.g),Ki(O,O.u);else{var ae=p.location;O=ae.protocol,y=y?y+"."+ae.hostname:ae.hostname,ae=+ae.port;const de=new Ai(null);O&&Xn(de,O),y&&(de.g=y),ae&&Ki(de,ae),A&&(de.h=A),O=de}return A=u.G,y=u.wa,A&&y&&en(O,A,y),en(O,"VER",u.ka),Qa(u,O),O}function Jo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Vt(new vi({ab:A})):new Vt(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ns(){}r=Ns.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xa(){}xa.prototype.g=function(u,y){return new Pi(u,y)};function Pi(u,y){it.call(this),this.g=new Ra(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!R(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new pa(this)}U(Pi,it),Pi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pi.prototype.close=function(){Eo(this.g)},Pi.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new Pn(y.Ya++,u)),y.I==3&&lr(y)},Pi.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Pi.Z.N.call(this)};function To(u){Je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}U(To,Je);function Zo(){Ge.call(this),this.status=1}U(Zo,Ge);function pa(u){this.g=u}U(pa,Ns),pa.prototype.ra=function(){sn(this.g,"a")},pa.prototype.qa=function(u){sn(this.g,new To(u))},pa.prototype.pa=function(u){sn(this.g,new Zo)},pa.prototype.oa=function(){sn(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,Pi.prototype.send=Pi.prototype.o,Pi.prototype.open=Pi.prototype.m,Pi.prototype.close=Pi.prototype.close,Xb=function(){return new xa},Yb=function(){return Cn()},Gb=rt,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,xh=Ii,qr.COMPLETE="complete",qb=qr,Ie.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",it.prototype.listen=it.prototype.J,Uu=Ie,Vt.prototype.listenOnce=Vt.prototype.K,Vt.prototype.getLastError=Vt.prototype.Ha,Vt.prototype.getLastErrorCode=Vt.prototype.ya,Vt.prototype.getStatus=Vt.prototype.ca,Vt.prototype.getResponseJson=Vt.prototype.La,Vt.prototype.getResponseText=Vt.prototype.la,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Fa,Hb=Vt}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",X0="4.9.2";class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");let Kl="12.3.0";const Ho=new cp("@firebase/firestore");function Rl(){return Ho.logLevel}function nt(r,...e){if(Ho.logLevel<=Wt.DEBUG){const i=e.map(wp);Ho.debug(`Firestore (${Kl}): ${r}`,...i)}}function As(r,...e){if(Ho.logLevel<=Wt.ERROR){const i=e.map(wp);Ho.error(`Firestore (${Kl}): ${r}`,...i)}}function zl(r,...e){if(Ho.logLevel<=Wt.WARN){const i=e.map(wp);Ho.warn(`Firestore (${Kl}): ${r}`,...i)}}function wp(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Tt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Qb(r,s,i)}function Qb(r,e,i){let s=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw As(s),new Error(s)}function wn(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||Qb(e,l,s)}function Mt(r,e){return r}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Kb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(tr.UNAUTHENTICATED)))}shutdown(){}}class VC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class kC{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){wn(this.o===void 0,42304);let s=this.i;const l=E=>this.i!==s?(s=this.i,i(E)):Promise.resolve();let c=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const E=c;e.enqueueRetryable((async()=>{await E.promise,await l(this.currentUser)}))},b=E=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((E=>b(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?b(E):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fo)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(wn(typeof s.accessToken=="string",31837,{l:s}),new Kb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wn(e===null||typeof e=="string",2055,{h:e}),new tr(e)}}class PC{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LC{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new PC(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(tr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UC{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,aa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){wn(this.o===void 0,3512);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(wn(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Q0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=jC(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function $t(r,e){return r<e?-1:r>e?1:0}function Gm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Rm(l)===Rm(c)?$t(l,c):Rm(l)?1:-1}return $t(r.length,e.length)}const zC=55296,BC=57343;function Rm(r){const e=r.charCodeAt(0);return e>=zC&&e<=BC}function Bl(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const K0="__name__";class Pa{constructor(e,i,s){i===void 0?i=0:i>e.length&&Tt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Tt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Pa.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Pa.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return $t(e.length,i.length)}static compareSegments(e,i){const s=Pa.isNumericId(e),l=Pa.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Pa.extractNumericId(e).compare(Pa.extractNumericId(i)):Gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class jn extends Pa{construct(e,i,s){return new jn(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new $e(Ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new jn(i)}static emptyPath(){return new jn([])}}const FC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hi extends Pa{construct(e,i,s){return new Hi(e,i,s)}static isValidIdentifier(e){return FC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K0}static keyField(){return new Hi([K0])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new $e(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new $e(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[l+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new $e(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=E,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new $e(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hi(i)}static emptyPath(){return new Hi([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(jn.fromString(e))}static fromName(e){return new yt(jn.fromString(e).popFirst(5))}static empty(){return new yt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return jn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new jn(e.slice()))}}function Wb(r,e,i){if(!i)throw new $e(Ce.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function HC(r,e,i,s){if(e===!0&&s===!0)throw new $e(Ce.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function W0(r){if(!yt.isDocumentKey(r))throw new $e(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $0(r){if(yt.isDocumentKey(r))throw new $e(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $b(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function Hh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new $e(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lf(r);throw new $e(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function qC(r,e){if(e<=0)throw new $e(Ce.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function yi(r,e){const i={typeString:r};return e&&(i.value=e),i}function cc(r,e){if(!$b(r))throw new $e(Ce.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const p=r[s];if(l&&typeof p!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new $e(Ce.INVALID_ARGUMENT,i);return!0}const J0=-62135596800,Z0=1e6;class qn{static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Z0);return new qn(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new $e(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new $e(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<J0)throw new $e(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z0}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,qn._jsonSchema))return new qn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qn._jsonSchemaVersion="firestore/timestamp/1.0",qn._jsonSchema={type:yi("string",qn._jsonSchemaVersion),seconds:yi("number"),nanoseconds:yi("number")};class It{static fromTimestamp(e){return new It(e)}static min(){return new It(new qn(0,0))}static max(){return new It(new qn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wu=-1;function GC(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=It.fromTimestamp(s===1e9?new qn(i+1,0):new qn(i,s));return new po(l,yt.empty(),e)}function YC(r){return new po(r.readTime,r.key,Wu)}class po{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new po(It.min(),yt.empty(),Wu)}static max(){return new po(It.max(),yt.empty(),Wu)}}function XC(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,e.documentKey),i!==0?i:$t(r.largestBatchId,e.largestBatchId))}const QC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wl(r){if(r.code!==Ce.FAILED_PRECONDITION||r.message!==QC)throw r;nt("LocalStore","Unexpectedly lost primary lease")}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new xe(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof xe?i:xe.resolve(i)}catch(i){return xe.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):xe.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):xe.reject(i)}static resolve(e){return new xe(((i,s)=>{i(e)}))}static reject(e){return new xe(((i,s)=>{s(e)}))}static waitFor(e){return new xe(((i,s)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(E=>s(E)))})),p=!0,c===l&&i()}))}static or(e){let i=xe.resolve(!1);for(const s of e)i=i.next((l=>l?xe.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new xe(((s,l)=>{const c=e.length,p=new Array(c);let b=0;for(let E=0;E<c;E++){const w=E;i(e[w]).next((x=>{p[w]=x,++b,b===c&&s(p)}),(x=>l(x)))}}))}static doWhile(e,i){return new xe(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function WC(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $l(r){return r.name==="IndexedDbTransactionError"}class uf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uf.ce=-1;const Tp=-1;function cf(r){return r==null}function qh(r){return r===0&&1/r==-1/0}function $C(r){return typeof r=="number"&&Number.isInteger(r)&&!qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Jb="";function JC(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=e_(e)),e=ZC(r.get(i),e);return e_(e)}function ZC(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Jb:i+="";break;default:i+=c}}return i}function e_(r){return r+Jb+""}function t_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Go(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Zb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ei{constructor(e,i){this.comparator=e,this.root=i||Fi.EMPTY}insert(e,i){return new ei(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Fi.RED,this.left=l??Fi.EMPTY,this.right=c??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Fi(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Fi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1;Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Fi(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ei{constructor(e){this.comparator=e,this.data=new ei(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ei(this.comparator);return i.data=e,i}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wa{constructor(e){this.fields=e,e.sort(Hi.comparator)}static empty(){return new wa([])}unionWith(e){let i=new Ei(Hi.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new wa(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ew("Invalid base64 string: "+c):c}})(e);return new qi(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new qi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const eR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(r){if(wn(!!r,39018),typeof r=="string"){let e=0;const i=eR.exec(r);if(wn(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ui(r.seconds),nanos:ui(r.nanos)}}function ui(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yo(r){return typeof r=="string"?qi.fromBase64String(r):qi.fromUint8Array(r)}const tw="server_timestamp",nw="__type__",iw="__previous_value__",rw="__local_write_time__";function Ap(r){return(r?.mapValue?.fields||{})[nw]?.stringValue===tw}function hf(r){const e=r.mapValue.fields[iw];return Ap(e)?hf(e):e}function $u(r){const e=go(r.mapValue.fields[rw].timestampValue);return new qn(e.seconds,e.nanos)}class tR{constructor(e,i,s,l,c,p,b,E,w,x){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=E,this.useFetchStreams=w,this.isUsingEmulator=x}}const Gh="(default)";class Ju{constructor(e,i){this.projectId=e,this.database=i||Gh}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}const aw="__type__",nR="__max__",_h={mapValue:{}},sw="__vector__",Yh="value";function vo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ap(r)?4:rR(r)?9007199254740991:iR(r)?10:11:Tt(28295,{value:r})}function Ha(r,e){if(r===e)return!0;const i=vo(r);if(i!==vo(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $u(r).isEqual($u(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=go(l.timestampValue),b=go(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return yo(l.bytesValue).isEqual(yo(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ui(l.geoPointValue.latitude)===ui(c.geoPointValue.latitude)&&ui(l.geoPointValue.longitude)===ui(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ui(l.integerValue)===ui(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=ui(l.doubleValue),b=ui(c.doubleValue);return p===b?qh(p)===qh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Bl(r.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(t_(p)!==t_(b))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(b[E]===void 0||!Ha(p[E],b[E])))return!1;return!0})(r,e);default:return Tt(52216,{left:r})}}function Zu(r,e){return(r.values||[]).find((i=>Ha(i,e)))!==void 0}function Fl(r,e){if(r===e)return 0;const i=vo(r),s=vo(e);if(i!==s)return $t(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return $t(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=ui(c.integerValue||c.doubleValue),E=ui(p.integerValue||p.doubleValue);return b<E?-1:b>E?1:b===E?0:isNaN(b)?isNaN(E)?0:-1:1})(r,e);case 3:return i_(r.timestampValue,e.timestampValue);case 4:return i_($u(r),$u(e));case 5:return Gm(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=yo(c),E=yo(p);return b.compareTo(E)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),E=p.split("/");for(let w=0;w<b.length&&w<E.length;w++){const x=$t(b[w],E[w]);if(x!==0)return x}return $t(b.length,E.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=$t(ui(c.latitude),ui(p.latitude));return b!==0?b:$t(ui(c.longitude),ui(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return r_(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},E=p.fields||{},w=b[Yh]?.arrayValue,x=E[Yh]?.arrayValue,U=$t(w?.values?.length||0,x?.values?.length||0);return U!==0?U:r_(w,x)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===_h.mapValue&&p===_h.mapValue)return 0;if(c===_h.mapValue)return 1;if(p===_h.mapValue)return-1;const b=c.fields||{},E=Object.keys(b),w=p.fields||{},x=Object.keys(w);E.sort(),x.sort();for(let U=0;U<E.length&&U<x.length;++U){const j=Gm(E[U],x[U]);if(j!==0)return j;const re=Fl(b[E[U]],w[x[U]]);if(re!==0)return re}return $t(E.length,x.length)})(r.mapValue,e.mapValue);default:throw Tt(23264,{he:i})}}function i_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $t(r,e);const i=go(r),s=go(e),l=$t(i.seconds,s.seconds);return l!==0?l:$t(i.nanos,s.nanos)}function r_(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Fl(i[l],s[l]);if(c)return c}return $t(i.length,s.length)}function Hl(r){return Ym(r)}function Ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=go(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return yo(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Ym(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${Ym(i.fields[p])}`;return l+"}"})(r.mapValue):Tt(61005,{value:r})}function Mh(r){switch(vo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hf(r);return e?16+Mh(e):16;case 5:return 2*r.stringValue.length;case 6:return yo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Mh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Go(s.fields,((c,p)=>{l+=c.length+Mh(p)})),l})(r.mapValue);default:throw Tt(13486,{value:r})}}function a_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xm(r){return!!r&&"integerValue"in r}function Sp(r){return!!r&&"arrayValue"in r}function s_(r){return!!r&&"nullValue"in r}function o_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nh(r){return!!r&&"mapValue"in r}function iR(r){return(r?.mapValue?.fields||{})[aw]?.stringValue===sw}function Hu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Go(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Hu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hu(r.arrayValue.values[i]);return e}return{...r}}function rR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nR}class sa{constructor(e){this.value=e}static empty(){return new sa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Nh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(i)}setAll(e){let i=Hi.emptyPath(),s={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const E=this.getFieldsMap(i);this.applyChanges(E,s,l),s={},l=[],i=b.popLast()}p?s[b.lastSegment()]=Hu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Nh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Nh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Go(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new sa(Hu(this.value))}}function ow(r){const e=[];return Go(r.fields,((i,s)=>{const l=new Hi([i]);if(Nh(s)){const c=ow(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new wa(e)}class nr{constructor(e,i,s,l,c,p,b){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new nr(e,0,It.min(),It.min(),It.min(),sa.empty(),0)}static newFoundDocument(e,i,s,l){return new nr(e,1,i,It.min(),s,l,0)}static newNoDocument(e,i){return new nr(e,2,i,It.min(),It.min(),sa.empty(),0)}static newUnknownDocument(e,i){return new nr(e,3,i,It.min(),It.min(),sa.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xh{constructor(e,i){this.position=e,this.inclusive=i}}function l_(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?s=yt.comparator(yt.fromName(p.referenceValue),i.key):s=Fl(p,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function u_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ha(r.position[i],e.position[i]))return!1;return!0}class ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function aR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class lw{}class gi extends lw{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new oR(e,i,s):i==="array-contains"?new cR(e,s):i==="in"?new hR(e,s):i==="not-in"?new fR(e,s):i==="array-contains-any"?new dR(e,s):new gi(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new lR(e,s):new uR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fl(i,this.value)):i!==null&&vo(this.value)===vo(i)&&this.matchesComparison(Fl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ea extends lw{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ea(e,i)}matches(e){return uw(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uw(r){return r.op==="and"}function cw(r){return sR(r)&&uw(r)}function sR(r){for(const e of r.filters)if(e instanceof Ea)return!1;return!0}function Qm(r){if(r instanceof gi)return r.field.canonicalString()+r.op.toString()+Hl(r.value);if(cw(r))return r.filters.map((e=>Qm(e))).join(",");{const e=r.filters.map((i=>Qm(i))).join(",");return`${r.op}(${e})`}}function hw(r,e){return r instanceof gi?(function(s,l){return l instanceof gi&&s.op===l.op&&s.field.isEqual(l.field)&&Ha(s.value,l.value)})(r,e):r instanceof Ea?(function(s,l){return l instanceof Ea&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&hw(p,l.filters[b])),!0):!1})(r,e):void Tt(19439)}function fw(r){return r instanceof gi?(function(i){return`${i.field.canonicalString()} ${i.op} ${Hl(i.value)}`})(r):r instanceof Ea?(function(i){return i.op.toString()+" {"+i.getFilters().map(fw).join(" ,")+"}"})(r):"Filter"}class oR extends gi{constructor(e,i,s){super(e,i,s),this.key=yt.fromName(s.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class lR extends gi{constructor(e,i){super(e,"in",i),this.keys=dw("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class uR extends gi{constructor(e,i){super(e,"not-in",i),this.keys=dw("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function dw(r,e){return(e.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class cR extends gi{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Sp(i)&&Zu(i.arrayValue,this.value)}}class hR extends gi{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zu(this.value.arrayValue,i)}}class fR extends gi{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zu(this.value.arrayValue,i)}}class dR extends gi{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Sp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Zu(this.value.arrayValue,s)))}}class mR{constructor(e,i=null,s=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function c_(r,e=null,i=[],s=[],l=null,c=null,p=null){return new mR(r,e,i,s,l,c,p)}function Cp(r){const e=Mt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Qm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),cf(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Hl(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Hl(s))).join(",")),e.Te=i}return e.Te}function Rp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!aR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!hw(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!u_(r.startAt,e.startAt)&&u_(r.endAt,e.endAt)}function Km(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Jl{constructor(e,i=null,s=[],l=[],c=null,p="F",b=null,E=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=E,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pR(r,e,i,s,l,c,p,b){return new Jl(r,e,i,s,l,c,p,b)}function mw(r){return new Jl(r)}function h_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pw(r){return r.collectionGroup!==null}function qu(r){const e=Mt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Ei(Hi.comparator);return p.filters.forEach((E=>{E.getFlattenedFilters().forEach((w=>{w.isInequality()&&(b=b.add(w.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ec(c,s))})),i.has(Hi.keyField().canonicalString())||e.Ie.push(new ec(Hi.keyField(),s))}return e.Ie}function ja(r){const e=Mt(r);return e.Ee||(e.Ee=gR(e,qu(r))),e.Ee}function gR(r,e){if(r.limitType==="F")return c_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ec(l.field,c)}));const i=r.endAt?new Xh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xh(r.startAt.position,r.startAt.inclusive):null;return c_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Wm(r,e){const i=r.filters.concat([e]);return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Qh(r,e,i){return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function ff(r,e){return Rp(ja(r),ja(e))&&r.limitType===e.limitType}function gw(r){return`${Cp(ja(r))}|lt:${r.limitType}`}function Il(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>fw(l))).join(", ")}]`),cf(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Hl(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Hl(l))).join(",")),`Target(${s})`})(ja(r))}; limitType=${r.limitType})`}function df(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):yt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of qu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(p,b,E){const w=l_(p,b,E);return p.inclusive?w<=0:w<0})(s.startAt,qu(s),l)||s.endAt&&!(function(p,b,E){const w=l_(p,b,E);return p.inclusive?w>=0:w>0})(s.endAt,qu(s),l))})(r,e)}function yR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function yw(r){return(e,i)=>{let s=!1;for(const l of qu(r)){const c=vR(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function vR(r,e,i){const s=r.field.isKeyField()?yt.comparator(e.key,i.key):(function(c,p,b){const E=p.data.field(c),w=b.data.field(c);return E!==null&&w!==null?Fl(E,w):Tt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}class Yo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return Zb(this.inner)}size(){return this.innerSize}}const _R=new ei(yt.comparator);function Ss(){return _R}const vw=new ei(yt.comparator);function ju(...r){let e=vw;for(const i of r)e=e.insert(i.key,i);return e}function _w(r){let e=vw;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function jo(){return Gu()}function bw(){return Gu()}function Gu(){return new Yo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const bR=new ei(yt.comparator),wR=new Ei(yt.comparator);function Jt(...r){let e=wR;for(const i of r)e=e.add(i);return e}const ER=new Ei($t);function TR(){return ER}function Ip(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function ww(r){return{integerValue:""+r}}function AR(r,e){return $C(e)?ww(e):Ip(r,e)}class mf{constructor(){this._=void 0}}function SR(r,e,i){return r instanceof Kh?(function(l,c){const p={fields:{[nw]:{stringValue:tw},[rw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ap(c)&&(c=hf(c)),c&&(p.fields[iw]=c),{mapValue:p}})(i,e):r instanceof tc?Tw(r,e):r instanceof nc?Aw(r,e):(function(l,c){const p=Ew(l,c),b=f_(p)+f_(l.Ae);return Xm(p)&&Xm(l.Ae)?ww(b):Ip(l.serializer,b)})(r,e)}function CR(r,e,i){return r instanceof tc?Tw(r,e):r instanceof nc?Aw(r,e):i}function Ew(r,e){return r instanceof Wh?(function(s){return Xm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Kh extends mf{}class tc extends mf{constructor(e){super(),this.elements=e}}function Tw(r,e){const i=Sw(e);for(const s of r.elements)i.some((l=>Ha(l,s)))||i.push(s);return{arrayValue:{values:i}}}class nc extends mf{constructor(e){super(),this.elements=e}}function Aw(r,e){let i=Sw(e);for(const s of r.elements)i=i.filter((l=>!Ha(l,s)));return{arrayValue:{values:i}}}class Wh extends mf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function f_(r){return ui(r.integerValue||r.doubleValue)}function Sw(r){return Sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function RR(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof tc&&l instanceof tc||s instanceof nc&&l instanceof nc?Bl(s.elements,l.elements,Ha):s instanceof Wh&&l instanceof Wh?Ha(s.Ae,l.Ae):s instanceof Kh&&l instanceof Kh})(r.transform,e.transform)}class IR{constructor(e,i){this.version=e,this.transformResults=i}}class _s{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pf{}function Cw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Iw(r.key,_s.none()):new hc(r.key,r.data,_s.none());{const i=r.data,s=sa.empty();let l=new Ei(Hi.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Xo(r.key,s,new wa(l.toArray()),_s.none())}}function xR(r,e,i){r instanceof hc?(function(l,c,p){const b=l.value.clone(),E=m_(l.fieldTransforms,c,p.transformResults);b.setAll(E),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Xo?(function(l,c,p){if(!Dh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=m_(l.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(Rw(l)),E.setAll(b),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Yu(r,e,i,s){return r instanceof hc?(function(c,p,b,E){if(!Dh(c.precondition,p))return b;const w=c.value.clone(),x=p_(c.fieldTransforms,E,p);return w.setAll(x),p.convertToFoundDocument(p.version,w).setHasLocalMutations(),null})(r,e,i,s):r instanceof Xo?(function(c,p,b,E){if(!Dh(c.precondition,p))return b;const w=p_(c.fieldTransforms,E,p),x=p.data;return x.setAll(Rw(c)),x.setAll(w),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((U=>U.field)))})(r,e,i,s):(function(c,p,b){return Dh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function MR(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=Ew(s.transform,l||null);c!=null&&(i===null&&(i=sa.empty()),i.set(s.field,c))}return i||null}function d_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Bl(s,l,((c,p)=>RR(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hc extends pf{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xo extends pf{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Rw(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function m_(r,e,i){const s=new Map;wn(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);s.set(c.field,CR(p,b,i[l]))}return s}function p_(r,e,i){const s=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);s.set(l.field,SR(c,p,e))}return s}class Iw extends pf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NR extends pf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DR{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&xR(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=bw();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const E=Cw(p,b);E!==null&&s.set(l.key,E),p.isValidDocument()||p.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Jt())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((i,s)=>d_(i,s)))&&Bl(this.baseMutations,e.baseMutations,((i,s)=>d_(i,s)))}}class xp{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){wn(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return bR})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new xp(e,i,s,l)}}class OR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VR{constructor(e,i){this.count=e,this.unchangedNames=i}}var pi,an;function kR(r){switch(r){case Ce.OK:return Tt(64938);case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function xw(r){if(r===void 0)return As("GRPC error has no .code"),Ce.UNKNOWN;switch(r){case pi.OK:return Ce.OK;case pi.CANCELLED:return Ce.CANCELLED;case pi.UNKNOWN:return Ce.UNKNOWN;case pi.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case pi.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case pi.INTERNAL:return Ce.INTERNAL;case pi.UNAVAILABLE:return Ce.UNAVAILABLE;case pi.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case pi.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case pi.NOT_FOUND:return Ce.NOT_FOUND;case pi.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case pi.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case pi.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case pi.ABORTED:return Ce.ABORTED;case pi.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case pi.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case pi.DATA_LOSS:return Ce.DATA_LOSS;default:return Tt(39323,{code:r})}}(an=pi||(pi={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";function PR(){return new TextEncoder}const LR=new ho([4294967295,4294967295],0);function g_(r){const e=PR().encode(r),i=new Fb;return i.update(e),new Uint8Array(i.digest())}function y_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ho([i,s],0),new ho([l,c],0)]}class Mp{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new zu(`Invalid padding: ${i}`);if(s<0)throw new zu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new zu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ho.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(ho.fromNumber(s)));return l.compare(LR)===1&&(l=new ho([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=g_(e),[s,l]=y_(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Mp(c,l,i);return s.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=g_(e),[s,l]=y_(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gf{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new gf(It.min(),l,new ei($t),Ss(),Jt())}}class fc{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fc(s,i,Jt(),Jt(),Jt())}}class Oh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class Mw{constructor(e,i){this.targetId=e,this.Ce=i}}class Nw{constructor(e,i,s=qi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class v_{constructor(){this.ve=0,this.Fe=__(),this.Me=qi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Jt(),i=Jt(),s=Jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Tt(38017,{changeType:c})}})),new fc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=__()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=bh(),this.He=bh(),this.Ye=new ei($t)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Tt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Km(c))if(s===0){const p=new yt(c.path);this.et(i,p,nr.newNoDocument(p,It.min()))}else wn(s===1,20013,{expectedCount:s});else{const p=this._t(i);if(p!==s){const b=this.ut(e),E=b?this.ct(b,e,p):1;if(E!==0){this.it(i);const w=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,w)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=yo(s).toUint8Array()}catch(E){if(E instanceof ew)return zl("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{b=new Mp(p,l,c)}catch(E){return zl(E instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return b.ge===0?null:b}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Km(b.target)){const E=new yt(b.target.path);this.It(E).has(p)||this.Et(p,E)||this.et(p,E,nr.newNoDocument(E,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let s=Jt();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((E=>{const w=this.ot(E);return!w||w.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new gf(e,i,this.Ye,this.je,s);return this.je=Ss(),this.Je=bh(),this.He=bh(),this.Ye=new ei($t),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new v_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ei($t),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ei($t),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function bh(){return new ei(yt.comparator)}function __(){return new ei(yt.comparator)}const jR={asc:"ASCENDING",desc:"DESCENDING"},zR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BR={and:"AND",or:"OR"};class FR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $m(r,e){return r.useProto3Json||cf(e)?e:{value:e}}function $h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function HR(r,e){return $h(r,e.toTimestamp())}function za(r){return wn(!!r,49232),It.fromTimestamp((function(i){const s=go(i);return new qn(s.seconds,s.nanos)})(r))}function Np(r,e){return Jm(r,e).canonicalString()}function Jm(r,e){const i=(function(l){return new jn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Ow(r){const e=jn.fromString(r);return wn(Uw(e),10190,{key:e.toString()}),e}function Zm(r,e){return Np(r.databaseId,e.path)}function Im(r,e){const i=Ow(e);if(i.get(1)!==r.databaseId.projectId)throw new $e(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new $e(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(kw(i))}function Vw(r,e){return Np(r.databaseId,e)}function qR(r){const e=Ow(r);return e.length===4?jn.emptyPath():kw(e)}function ep(r){return new jn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kw(r){return wn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function b_(r,e,i){return{name:Zm(r,e),fields:i.value.mapValue.fields}}function GR(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Tt(39313,{state:w})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(w,x){return w.useProto3Json?(wn(x===void 0||typeof x=="string",58123),qi.fromBase64String(x||"")):(wn(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),qi.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(w){const x=w.code===void 0?Ce.UNKNOWN:xw(w.code);return new $e(x,w.message||"")})(p);i=new Nw(s,l,c,b||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Im(r,s.document.name),c=za(s.document.updateTime),p=s.document.createTime?za(s.document.createTime):It.min(),b=new sa({mapValue:{fields:s.document.fields}}),E=nr.newFoundDocument(l,c,p,b),w=s.targetIds||[],x=s.removedTargetIds||[];i=new Oh(w,x,E.key,E)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Im(r,s.document),c=s.readTime?za(s.readTime):It.min(),p=nr.newNoDocument(l,c),b=s.removedTargetIds||[];i=new Oh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Im(r,s.document),c=s.removedTargetIds||[];i=new Oh([],c,l,null)}else{if(!("filter"in e))return Tt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new VR(l,c),b=s.targetId;i=new Mw(b,p)}}return i}function YR(r,e){let i;if(e instanceof hc)i={update:b_(r,e.key,e.value)};else if(e instanceof Iw)i={delete:Zm(r,e.key)};else if(e instanceof Xo)i={update:b_(r,e.key,e.data),updateMask:tI(e.fieldMask)};else{if(!(e instanceof NR))return Tt(16599,{Vt:e.type});i={verify:Zm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof Kh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof tc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof nc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Wh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw Tt(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:HR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Tt(27497)})(r,e.precondition)),i}function XR(r,e){return r&&r.length>0?(wn(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?za(l.updateTime):za(c);return p.isEqual(It.min())&&(p=za(c)),new IR(p,l.transformResults||[])})(i,e)))):[]}function QR(r,e){return{documents:[Vw(r,e.path)]}}function KR(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Vw(r,l);const c=(function(w){if(w.length!==0)return Lw(Ea.create(w,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(w){if(w.length!==0)return w.map((x=>(function(j){return{field:xl(j.field),direction:JR(j.dir)}})(x)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=$m(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{ft:i,parent:l}}function WR(r){let e=qR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){wn(s===1,65062);const x=i.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(U){const j=Pw(U);return j instanceof Ea&&cw(j)?j.getFilters():[j]})(i.where));let p=[];i.orderBy&&(p=(function(U){return U.map((j=>(function(F){return new ec(Ml(F.field),(function(Re){switch(Re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(j)))})(i.orderBy));let b=null;i.limit&&(b=(function(U){let j;return j=typeof U=="object"?U.value:U,cf(j)?null:j})(i.limit));let E=null;i.startAt&&(E=(function(U){const j=!!U.before,re=U.values||[];return new Xh(re,j)})(i.startAt));let w=null;return i.endAt&&(w=(function(U){const j=!U.before,re=U.values||[];return new Xh(re,j)})(i.endAt)),pR(e,l,p,c,b,"F",E,w)}function $R(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Pw(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ml(i.unaryFilter.field);return gi.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ml(i.unaryFilter.field);return gi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ml(i.unaryFilter.field);return gi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ml(i.unaryFilter.field);return gi.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return gi.create(Ml(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ea.create(i.compositeFilter.filters.map((s=>Pw(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(i.compositeFilter.op))})(r):Tt(30097,{filter:r})}function JR(r){return jR[r]}function ZR(r){return zR[r]}function eI(r){return BR[r]}function xl(r){return{fieldPath:r.canonicalString()}}function Ml(r){return Hi.fromServerFormat(r.fieldPath)}function Lw(r){return r instanceof gi?(function(i){if(i.op==="=="){if(o_(i.value))return{unaryFilter:{field:xl(i.field),op:"IS_NAN"}};if(s_(i.value))return{unaryFilter:{field:xl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(o_(i.value))return{unaryFilter:{field:xl(i.field),op:"IS_NOT_NAN"}};if(s_(i.value))return{unaryFilter:{field:xl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(i.field),op:ZR(i.op),value:i.value}}})(r):r instanceof Ea?(function(i){const s=i.getFilters().map((l=>Lw(l)));return s.length===1?s[0]:{compositeFilter:{op:eI(i.op),filters:s}}})(r):Tt(54877,{filter:r})}function tI(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Uw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class oo{constructor(e,i,s,l,c=It.min(),p=It.min(),b=qi.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=E}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nI{constructor(e){this.yt=e}}function iI(r){const e=WR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qh(e,e.limit,"L"):e}class rI{constructor(){this.Cn=new aI}addToCollectionParentIndex(e,i){return this.Cn.add(i),xe.resolve()}getCollectionParents(e,i){return xe.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return xe.resolve()}deleteFieldIndex(e,i){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,i){return xe.resolve()}getDocumentsMatchingTarget(e,i){return xe.resolve(null)}getIndexType(e,i){return xe.resolve(0)}getFieldIndexes(e,i){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,i){return xe.resolve(po.min())}getMinOffsetFromCollectionGroup(e,i){return xe.resolve(po.min())}updateCollectionGroup(e,i,s){return xe.resolve()}updateIndexEntries(e,i){return xe.resolve()}}class aI{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Ei(jn.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ei(jn.comparator)).toArray()}}const w_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jw=41943040;class xr{static withCacheSize(e){return new xr(e,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(jw,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}const E_="LruGarbageCollector",sI=1048576;function T_([r,e],[i,s]){const l=$t(r,i);return l===0?$t(e,s):l}class oI{constructor(e){this.Ir=e,this.buffer=new Ei(T_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();T_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lI{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){nt(E_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$l(i)?nt(E_,"Ignoring IndexedDB error during garbage collection: ",i):await Wl(i)}await this.Vr(3e5)}))}}class uI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return xe.resolve(uf.ce);const s=new oI(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(w_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,p,b,E,w;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((U=>(U>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),l=this.params.maximumSequenceNumbersToCollect):l=U,p=Date.now(),this.nthSequenceNumber(e,l)))).next((U=>(s=U,b=Date.now(),this.removeTargets(e,s,i)))).next((U=>(c=U,E=Date.now(),this.removeOrphanedDocuments(e,s)))).next((U=>(w=Date.now(),Rl()<=Wt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-x}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(E-b)+`ms
	Removed ${U} documents in `+(w-E)+`ms
Total Duration: ${w-x}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:U}))))}}function cI(r,e){return new uI(r,e)}class hI{constructor(){this.changes=new Yo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?xe.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class dI{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Yu(s.mutation,l,wa.empty(),qn.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Jt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Jt()){const l=jo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let p=ju();return c.forEach(((b,E)=>{p=p.insert(b,E.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const s=jo();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Jt())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,s,l){let c=Ss();const p=Gu(),b=(function(){return Gu()})();return i.forEach(((E,w)=>{const x=s.get(w.key);l.has(w.key)&&(x===void 0||x.mutation instanceof Xo)?c=c.insert(w.key,w):x!==void 0?(p.set(w.key,x.mutation.getFieldMask()),Yu(x.mutation,w,x.mutation.getFieldMask(),qn.now())):p.set(w.key,wa.empty())})),this.recalculateAndSaveOverlays(e,c).next((E=>(E.forEach(((w,x)=>p.set(w,x))),i.forEach(((w,x)=>b.set(w,new fI(x,p.get(w)??null)))),b)))}recalculateAndSaveOverlays(e,i){const s=Gu();let l=new ei(((p,b)=>p-b)),c=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((E=>{const w=i.get(E);if(w===null)return;let x=s.get(E)||wa.empty();x=b.applyToLocalView(w,x),s.set(E,x);const U=(l.get(b.batchId)||Jt()).add(E);l=l.insert(b.batchId,U)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const E=b.getNext(),w=E.key,x=E.value,U=bw();x.forEach((j=>{if(!c.has(j)){const re=Cw(i.get(j),s.get(j));re!==null&&U.set(j,re),c=c.add(j)}})),p.push(this.documentOverlayCache.saveOverlays(e,w,U))}return xe.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(p){return yt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):pw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):xe.resolve(jo());let b=Wu,E=c;return p.next((w=>xe.forEach(w,((x,U)=>(b<U.largestBatchId&&(b=U.largestBatchId),c.get(x)?xe.resolve():this.remoteDocumentCache.getEntry(e,x).next((j=>{E=E.insert(x,j)}))))).next((()=>this.populateOverlays(e,w,c))).next((()=>this.computeViews(e,E,w,Jt()))).next((x=>({batchId:b,changes:_w(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next((s=>{let l=ju();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let p=ju();return this.indexManager.getCollectionParents(e,c).next((b=>xe.forEach(b,(E=>{const w=(function(U,j){return new Jl(j,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt)})(i,E.child(c));return this.getDocumentsMatchingCollectionQuery(e,w,s,l).next((x=>{x.forEach(((U,j)=>{p=p.insert(U,j)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((p=>{c.forEach(((E,w)=>{const x=w.getKey();p.get(x)===null&&(p=p.insert(x,nr.newInvalidDocument(x)))}));let b=ju();return p.forEach(((E,w)=>{const x=c.get(E);x!==void 0&&Yu(x.mutation,w,wa.empty(),qn.now()),df(i,w)&&(b=b.insert(E,w))})),b}))}}class mI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return xe.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:za(l.createTime)}})(i)),xe.resolve()}getNamedQuery(e,i){return xe.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:iI(l.bundledQuery),readTime:za(l.readTime)}})(i)),xe.resolve()}}class pI{constructor(){this.overlays=new ei(yt.comparator),this.qr=new Map}getOverlay(e,i){return xe.resolve(this.overlays.get(i))}getOverlays(e,i){const s=jo();return xe.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),xe.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),xe.resolve()}getOverlaysForCollection(e,i,s){const l=jo(),c=i.length+1,p=new yt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const E=b.getNext().value,w=E.getKey();if(!i.isPrefixOf(w.path))break;w.path.length===c&&E.largestBatchId>s&&l.set(E.getKey(),E)}return xe.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new ei(((w,x)=>w-x));const p=this.overlays.getIterator();for(;p.hasNext();){const w=p.getNext().value;if(w.getKey().getCollectionGroup()===i&&w.largestBatchId>s){let x=c.get(w.largestBatchId);x===null&&(x=jo(),c=c.insert(w.largestBatchId,x)),x.set(w.getKey(),w)}}const b=jo(),E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((w,x)=>b.set(w,x))),!(b.size()>=l)););return xe.resolve(b)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new OR(i,s));let c=this.qr.get(i);c===void 0&&(c=Jt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class gI{constructor(){this.sessionToken=qi.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,xe.resolve()}}class Dp{constructor(){this.Qr=new Ei(Ci.$r),this.Ur=new Ei(Ci.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ci(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ci(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new yt(new jn([])),s=new Ci(i,e),l=new Ci(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new yt(new jn([])),s=new Ci(i,e),l=new Ci(i,e+1);let c=Jt();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new Ci(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ci{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return yt.comparator(e.key,i.key)||$t(e.Yr,i.Yr)}static Kr(e,i){return $t(e.Yr,i.Yr)||yt.comparator(e.key,i.key)}}class yI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ei(Ci.$r)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new DR(c,i,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Ci(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return xe.resolve(p)}lookupMutationBatch(e,i){return xe.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return xe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?Tp:this.tr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ci(i,0),l=new Ci(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),xe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ei($t);return i.forEach((l=>{const c=new Ci(l,0),p=new Ci(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),xe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;yt.isDocumentKey(c)||(c=c.child(""));const p=new Ci(new yt(c),0);let b=new Ei($t);return this.Zr.forEachWhile((E=>{const w=E.key.path;return!!s.isPrefixOf(w)&&(w.length===l&&(b=b.add(E.Yr)),!0)}),p),xe.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){wn(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return xe.forEach(i.mutations,(l=>{const c=new Ci(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ci(i,0),l=this.Zr.firstAfterOrEqual(s);return xe.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class vI{constructor(e){this.ri=e,this.docs=(function(){return new ei(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return xe.resolve(s?s.document.mutableCopy():nr.newInvalidDocument(i))}getEntries(e,i){let s=Ss();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():nr.newInvalidDocument(l))})),xe.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=Ss();const p=i.path,b=new yt(p.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(b);for(;E.hasNext();){const{key:w,value:{document:x}}=E.getNext();if(!p.isPrefixOf(w.path))break;w.path.length>p.length+1||XC(YC(x),s)<=0||(l.has(x.key)||df(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return xe.resolve(c)}getAllFromCollectionGroup(e,i,s,l){Tt(9500)}ii(e,i){return xe.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new _I(this)}getSize(e){return xe.resolve(this.size)}}class _I extends hI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),xe.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class bI{constructor(e){this.persistence=e,this.si=new Yo((i=>Cp(i)),Rp),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new Dp,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),xe.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ql(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,xe.resolve()}updateTargetData(e,i){return this.Pr(i),xe.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),xe.waitFor(c).next((()=>l))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return xe.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),xe.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),xe.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),xe.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return xe.resolve(s)}containsKey(e,i){return xe.resolve(this._i.containsKey(i))}}class zw{constructor(e,i){this.ui={},this.overlays={},this.ci=new uf(0),this.li=!1,this.li=!0,this.hi=new gI,this.referenceDelegate=e(this),this.Pi=new bI(this),this.indexManager=new rI,this.remoteDocumentCache=(function(l){return new vI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new nI(i),this.Ii=new mI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new yI(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){nt("MemoryPersistence","Starting transaction:",e);const l=new wI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return xe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class wI extends KC{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.Ri=new Dp,this.Vi=null}static mi(e){return new Op(e)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),xe.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),xe.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),xe.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.fi,(s=>{const l=yt.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,It.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return xe.or([()=>xe.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Jh{constructor(e,i){this.persistence=e,this.pi=new Yo((s=>JC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=cI(this,i)}static mi(e,i){return new Jh(e,i)}Ei(){}di(e){return xe.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return xe.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?xe.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(s++,c.removeEntry(p,It.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),xe.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),xe.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),xe.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Mh(e.data.value)),i}br(e,i,s){return xe.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return xe.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vp{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=Jt(),l=Jt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vp(e,i.fromCache,s,l)}}class EI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hA()?8:WC(ir())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new EI;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(Rl()<=Wt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Il(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),xe.resolve()):(Rl()<=Wt.DEBUG&&nt("QueryEngine","Query:",Il(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Rl()<=Wt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Il(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ja(i))):xe.resolve())}ys(e,i){if(h_(i))return xe.resolve(null);let s=ja(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Qh(i,null,"F"),s=ja(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=Jt(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,s).next((E=>{const w=this.Ds(i,b);return this.Cs(i,w,p,E.readTime)?this.ys(e,Qh(i,null,"F")):this.vs(e,w,i,E)}))))})))))}ws(e,i,s,l){return h_(i)||l.isEqual(It.min())?xe.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,s,l)?xe.resolve(null):(Rl()<=Wt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Il(i)),this.vs(e,p,i,GC(l,Wu)).next((b=>b)))}))}Ds(e,i){let s=new Ei(yw(e));return i.forEach(((l,c)=>{df(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return Rl()<=Wt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Il(i)),this.ps.getDocumentsMatchingQuery(e,i,po.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const kp="LocalStore",AI=3e8;class SI{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ei($t),this.xs=new Yo((c=>Cp(c)),Rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function CI(r,e,i,s){return new SI(r,e,i,s)}async function Bw(r,e){const i=Mt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let E=Jt();for(const w of l){p.push(w.batchId);for(const x of w.mutations)E=E.add(x.key)}for(const w of c){b.push(w.batchId);for(const x of w.mutations)E=E.add(x.key)}return i.localDocuments.getDocuments(s,E).next((w=>({Ls:w,removedBatchIds:p,addedBatchIds:b})))}))}))}function RI(r,e){const i=Mt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,E,w,x){const U=w.batch,j=U.keys();let re=xe.resolve();return j.forEach((F=>{re=re.next((()=>x.getEntry(E,F))).next((Me=>{const Re=w.docVersions.get(F);wn(Re!==null,48541),Me.version.compareTo(Re)<0&&(U.applyToRemoteDocument(Me,w),Me.isValidDocument()&&(Me.setReadTime(w.commitVersion),x.addEntry(Me)))}))})),re.next((()=>b.mutationQueue.removeMutationBatch(E,U)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let E=Jt();for(let w=0;w<b.mutationResults.length;++w)b.mutationResults[w].transformResults.length>0&&(E=E.add(b.batch.mutations[w].key));return E})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function Fw(r){const e=Mt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function II(r,e){const i=Mt(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((x,U)=>{const j=l.get(U);if(!j)return;b.push(i.Pi.removeMatchingKeys(c,x.removedDocuments,U).next((()=>i.Pi.addMatchingKeys(c,x.addedDocuments,U))));let re=j.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(U)!==null?re=re.withResumeToken(qi.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):x.resumeToken.approximateByteSize()>0&&(re=re.withResumeToken(x.resumeToken,s)),l=l.insert(U,re),(function(Me,Re,Ve){return Me.resumeToken.approximateByteSize()===0||Re.snapshotVersion.toMicroseconds()-Me.snapshotVersion.toMicroseconds()>=AI?!0:Ve.addedDocuments.size+Ve.modifiedDocuments.size+Ve.removedDocuments.size>0})(j,re,x)&&b.push(i.Pi.updateTargetData(c,re))}));let E=Ss(),w=Jt();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),b.push(xI(c,p,e.documentUpdates).next((x=>{E=x.ks,w=x.qs}))),!s.isEqual(It.min())){const x=i.Pi.getLastRemoteSnapshotVersion(c).next((U=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(x)}return xe.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,E,w))).next((()=>E))})).then((c=>(i.Ms=l,c)))}function xI(r,e,i){let s=Jt(),l=Jt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let p=Ss();return i.forEach(((b,E)=>{const w=c.get(b);E.isFoundDocument()!==w.isFoundDocument()&&(l=l.add(b)),E.isNoDocument()&&E.version.isEqual(It.min())?(e.removeEntry(b,E.readTime),p=p.insert(b,E)):!w.isValidDocument()||E.version.compareTo(w.version)>0||E.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(E),p=p.insert(b,E)):nt(kp,"Ignoring outdated watch update for ",b,". Current version:",w.version," Watch version:",E.version)})),{ks:p,qs:l}}))}function MI(r,e){const i=Mt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Tp),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function NI(r,e){const i=Mt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,xe.resolve(l)):i.Pi.allocateTargetId(s).next((p=>(l=new oo(e,p,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function tp(r,e,i){const s=Mt(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!$l(p))throw p;nt(kp,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function A_(r,e,i){const s=Mt(r);let l=It.min(),c=Jt();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(E,w,x){const U=Mt(E),j=U.xs.get(x);return j!==void 0?xe.resolve(U.Ms.get(j)):U.Pi.getTargetData(w,x)})(s,p,ja(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((E=>{c=E}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,i?l:It.min(),i?c:Jt()))).next((b=>(DI(s,yR(e),b),{documents:b,Qs:c})))))}function DI(r,e,i){let s=r.Os.get(e)||It.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class S_{constructor(){this.activeTargetIds=TR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OI{constructor(){this.Mo=new S_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VI{Oo(e){}shutdown(){}}const C_="ConnectivityMonitor";class R_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(C_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){nt(C_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wh=null;function np(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}const xm="RestConnection",kI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Gh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const p=np(),b=this.zo(e,i.toUriEncodedString());nt(xm,`Sending RPC '${e}' ${p}:`,b,s);const E={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(E,l,c);const{host:w}=new URL(b),x=Yl(w);return this.Jo(e,b,E,s,x).then((U=>(nt(xm,`Received RPC '${e}' ${p}: `,U),U)),(U=>{throw zl(xm,`RPC '${e}' ${p} failed with error: `,U,"url: ",b,"request:",s),U}))}Ho(e,i,s,l,c,p){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=kI[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class LI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const er="WebChannelConnection";class UI extends PI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const p=np();return new Promise(((b,E)=>{const w=new Hb;w.setWithCredentials(!0),w.listenOnce(qb.COMPLETE,(()=>{try{switch(w.getLastErrorCode()){case xh.NO_ERROR:const U=w.getResponseJson();nt(er,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(U)),b(U);break;case xh.TIMEOUT:nt(er,`RPC '${e}' ${p} timed out`),E(new $e(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const j=w.getStatus();if(nt(er,`RPC '${e}' ${p} failed with status:`,j,"response text:",w.getResponseText()),j>0){let re=w.getResponseJson();Array.isArray(re)&&(re=re[0]);const F=re?.error;if(F&&F.status&&F.message){const Me=(function(Ve){const ke=Ve.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(ke)>=0?ke:Ce.UNKNOWN})(F.status);E(new $e(Me,F.message))}else E(new $e(Ce.UNKNOWN,"Server responded with status "+w.getStatus()))}else E(new $e(Ce.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:e,streamId:p,h_:w.getLastErrorCode(),P_:w.getLastError()})}}finally{nt(er,`RPC '${e}' ${p} completed.`)}}));const x=JSON.stringify(l);nt(er,`RPC '${e}' ${p} sending request:`,l),w.send(i,"POST",x,s,15)}))}T_(e,i,s){const l=np(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Xb(),b=Yb(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(E.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(E.useFetchStreams=!0),this.jo(E.initMessageHeaders,i,s),E.encodeInitMessageHeaders=!0;const x=c.join("");nt(er,`Creating RPC '${e}' stream ${l}: ${x}`,E);const U=p.createWebChannel(x,E);this.I_(U);let j=!1,re=!1;const F=new LI({Yo:Re=>{re?nt(er,`Not sending because RPC '${e}' stream ${l} is closed:`,Re):(j||(nt(er,`Opening RPC '${e}' stream ${l} transport.`),U.open(),j=!0),nt(er,`RPC '${e}' stream ${l} sending:`,Re),U.send(Re))},Zo:()=>U.close()}),Me=(Re,Ve,ke)=>{Re.listen(Ve,(Be=>{try{ke(Be)}catch(Xe){setTimeout((()=>{throw Xe}),0)}}))};return Me(U,Uu.EventType.OPEN,(()=>{re||(nt(er,`RPC '${e}' stream ${l} transport opened.`),F.o_())})),Me(U,Uu.EventType.CLOSE,(()=>{re||(re=!0,nt(er,`RPC '${e}' stream ${l} transport closed`),F.a_(),this.E_(U))})),Me(U,Uu.EventType.ERROR,(Re=>{re||(re=!0,zl(er,`RPC '${e}' stream ${l} transport errored. Name:`,Re.name,"Message:",Re.message),F.a_(new $e(Ce.UNAVAILABLE,"The operation could not be completed")))})),Me(U,Uu.EventType.MESSAGE,(Re=>{if(!re){const Ve=Re.data[0];wn(!!Ve,16349);const ke=Ve,Be=ke?.error||ke[0]?.error;if(Be){nt(er,`RPC '${e}' stream ${l} received error:`,Be);const Xe=Be.status;let ct=(function(z){const V=pi[z];if(V!==void 0)return xw(V)})(Xe),mt=Be.message;ct===void 0&&(ct=Ce.INTERNAL,mt="Unknown error status: "+Xe+" with message "+Be.message),re=!0,F.a_(new $e(ct,mt)),U.close()}else nt(er,`RPC '${e}' stream ${l} received:`,Ve),F.u_(Ve)}})),Me(b,Gb.STAT_EVENT,(Re=>{Re.stat===qm.PROXY?nt(er,`RPC '${e}' stream ${l} detected buffering proxy`):Re.stat===qm.NOPROXY&&nt(er,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Mm(){return typeof document<"u"?document:null}function yf(r){return new FR(r,!0)}class Hw{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const I_="PersistentStream";class qw{constructor(e,i,s,l,c,p,b,E){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hw(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Ce.RESOURCE_EXHAUSTED?(As(i.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new $e(Ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return nt(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(nt(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jI extends qw{constructor(e,i,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=GR(this.serializer,e),s=(function(c){if(!("targetChange"in c))return It.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?It.min():p.readTime?za(p.readTime):It.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ep(this.serializer),i.addTarget=(function(c,p){let b;const E=p.target;if(b=Km(E)?{documents:QR(c,E)}:{query:KR(c,E).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=Dw(c,p.resumeToken);const w=$m(c,p.expectedCount);w!==null&&(b.expectedCount=w)}else if(p.snapshotVersion.compareTo(It.min())>0){b.readTime=$h(c,p.snapshotVersion.toTimestamp());const w=$m(c,p.expectedCount);w!==null&&(b.expectedCount=w)}return b})(this.serializer,e);const s=$R(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ep(this.serializer),i.removeTarget=e,this.q_(i)}}class zI extends qw{constructor(e,i,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return wn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=XR(e.writeResults,e.commitTime),s=za(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ep(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>YR(this.serializer,s)))};this.q_(i)}}class BI{}class FI extends BI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new $e(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,Jm(i,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new $e(Ce.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,Jm(i,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new $e(Ce.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qo="RemoteStore";class qI{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Qo(this)&&(nt(qo,"Restarting streams for network reachability change."),await(async function(E){const w=Mt(E);w.Ea.add(4),await dc(w),w.Ra.set("Unknown"),w.Ea.delete(4),await vf(w)})(this))}))})),this.Ra=new HI(s,l)}}async function vf(r){if(Qo(r))for(const e of r.da)await e(!0)}async function dc(r){for(const e of r.da)await e(!1)}function Gw(r,e){const i=Mt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),jp(i)?Up(i):Zl(i).O_()&&Lp(i,e))}function Pp(r,e){const i=Mt(r),s=Zl(i);i.Ia.delete(e),s.O_()&&Yw(i,e),i.Ia.size===0&&(s.O_()?s.L_():Qo(i)&&i.Ra.set("Unknown"))}function Lp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zl(r).Y_(e)}function Yw(r,e){r.Va.Ue(e),Zl(r).Z_(e)}function Up(r){r.Va=new UR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zl(r).start(),r.Ra.ua()}function jp(r){return Qo(r)&&!Zl(r).x_()&&r.Ia.size>0}function Qo(r){return Mt(r).Ea.size===0}function Xw(r){r.Va=void 0}async function GI(r){r.Ra.set("Online")}async function YI(r){r.Ia.forEach(((e,i)=>{Lp(r,e)}))}async function XI(r,e){Xw(r),jp(r)?(r.Ra.ha(e),Up(r)):r.Ra.set("Unknown")}async function QI(r,e,i){if(r.Ra.set("Online"),e instanceof Nw&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(s){nt(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zh(r,s)}else if(e instanceof Oh?r.Va.Ze(e):e instanceof Mw?r.Va.st(e):r.Va.tt(e),!i.isEqual(It.min()))try{const s=await Fw(r.localStore);i.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((E,w)=>{if(E.resumeToken.approximateByteSize()>0){const x=c.Ia.get(w);x&&c.Ia.set(w,x.withResumeToken(E.resumeToken,p))}})),b.targetMismatches.forEach(((E,w)=>{const x=c.Ia.get(E);if(!x)return;c.Ia.set(E,x.withResumeToken(qi.EMPTY_BYTE_STRING,x.snapshotVersion)),Yw(c,E);const U=new oo(x.target,E,w,x.sequenceNumber);Lp(c,U)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(s){nt(qo,"Failed to raise snapshot:",s),await Zh(r,s)}}async function Zh(r,e,i){if(!$l(e))throw e;r.Ea.add(1),await dc(r),r.Ra.set("Offline"),i||(i=()=>Fw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{nt(qo,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await vf(r)}))}function Qw(r,e){return e().catch((i=>Zh(r,i,e)))}async function _f(r){const e=Mt(r),i=_o(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tp;for(;KI(e);)try{const l=await MI(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,WI(e,l)}catch(l){await Zh(e,l)}Kw(e)&&Ww(e)}function KI(r){return Qo(r)&&r.Ta.length<10}function WI(r,e){r.Ta.push(e);const i=_o(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Kw(r){return Qo(r)&&!_o(r).x_()&&r.Ta.length>0}function Ww(r){_o(r).start()}async function $I(r){_o(r).ra()}async function JI(r){const e=_o(r);for(const i of r.Ta)e.ea(i.mutations)}async function ZI(r,e,i){const s=r.Ta.shift(),l=xp.from(s,e,i);await Qw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await _f(r)}async function ex(r,e){e&&_o(r).X_&&await(async function(s,l){if((function(p){return kR(p)&&p!==Ce.ABORTED})(l.code)){const c=s.Ta.shift();_o(s).B_(),await Qw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await _f(s)}})(r,e),Kw(r)&&Ww(r)}async function x_(r,e){const i=Mt(r);i.asyncQueue.verifyOperationInProgress(),nt(qo,"RemoteStore received new credentials");const s=Qo(i);i.Ea.add(3),await dc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await vf(i)}async function tx(r,e){const i=Mt(r);e?(i.Ea.delete(2),await vf(i)):e||(i.Ea.add(2),await dc(i),i.Ra.set("Unknown"))}function Zl(r){return r.ma||(r.ma=(function(i,s,l){const c=Mt(i);return c.sa(),new jI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:GI.bind(null,r),t_:YI.bind(null,r),r_:XI.bind(null,r),H_:QI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),jp(r)?Up(r):r.Ra.set("Unknown")):(await r.ma.stop(),Xw(r))}))),r.ma}function _o(r){return r.fa||(r.fa=(function(i,s,l){const c=Mt(i);return c.sa(),new zI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:$I.bind(null,r),r_:ex.bind(null,r),ta:JI.bind(null,r),na:ZI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await _f(r)):(await r.fa.stop(),r.Ta.length>0&&(nt(qo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class zp{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const p=Date.now()+s,b=new zp(e,i,p,l,c);return b.start(s),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,e){if(As("AsyncQueue",`${e}: ${r}`),$l(r))return new $e(Ce.UNAVAILABLE,`${e}: ${r}`);throw r}class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||yt.comparator(i.key,s.key):(i,s)=>yt.comparator(i.key,s.key),this.keyedMap=ju(),this.sortedSet=new ei(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Pl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class M_{constructor(){this.ga=new ei(yt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Tt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Gl{constructor(e,i,s,l,c,p,b,E,w){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=E,this.hasCachedResults=w}static fromInitialDocuments(e,i,s,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Gl(e,i,Pl.emptySet(i),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class nx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ix{constructor(){this.queries=N_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Mt(i),c=l.queries;l.queries=N_(),c.forEach(((p,b)=>{for(const E of b.Sa)E.onError(s)}))})(this,new $e(Ce.ABORTED,"Firestore shutting down"))}}function N_(){return new Yo((r=>gw(r)),ff)}async function rx(r,e){const i=Mt(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new nx,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=Bp(p,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Fp(i)}async function ax(r,e){const i=Mt(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function sx(r,e){const i=Mt(r);let s=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&Fp(i)}function ox(r,e,i){const s=Mt(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function Fp(r){r.Ca.forEach((e=>{e.next()}))}var ip,D_;(D_=ip||(ip={})).Ma="default",D_.Cache="cache";class lx{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ip.Cache}}class $w{constructor(e){this.key=e}}class Jw{constructor(e){this.key=e}}class ux{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=yw(e),this.tu=new Pl(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new M_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const E=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,w=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,U)=>{const j=l.get(x),re=df(this.query,U)?U:null,F=!!j&&this.mutatedKeys.has(j.key),Me=!!re&&(re.hasLocalMutations||this.mutatedKeys.has(re.key)&&re.hasCommittedMutations);let Re=!1;j&&re?j.data.isEqual(re.data)?F!==Me&&(s.track({type:3,doc:re}),Re=!0):this.su(j,re)||(s.track({type:2,doc:re}),Re=!0,(E&&this.eu(re,E)>0||w&&this.eu(re,w)<0)&&(b=!0)):!j&&re?(s.track({type:0,doc:re}),Re=!0):j&&!re&&(s.track({type:1,doc:j}),Re=!0,(E||w)&&(b=!0)),Re&&(re?(p=p.add(re),c=Me?c.add(x):c.delete(x)):(p=p.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const x=this.query.limitType==="F"?p.last():p.first();p=p.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((x,U)=>(function(re,F){const Me=Re=>{switch(Re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:Re})}};return Me(re)-Me(F)})(x.type,U.type)||this.eu(x.doc,U.doc))),this.ou(s),l=l??!1;const b=i&&!l?this._u():[],E=this.Xa.size===0&&this.current&&!l?1:0,w=E!==this.Za;return this.Za=E,p.length!==0||w?{snapshot:new Gl(this.query,e.tu,c,p,e.mutatedKeys,E===0,w,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Jw(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new $w(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Jt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hp="SyncEngine";class cx{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class hx{constructor(e){this.key=e,this.hu=!1}}class fx{constructor(e,i,s,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Yo((b=>gw(b)),ff),this.Iu=new Map,this.Eu=new Set,this.du=new ei(yt.comparator),this.Au=new Map,this.Ru=new Dp,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dx(r,e,i=!0){const s=r1(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Zw(s,e,i,!0),l}async function mx(r,e){const i=r1(r);await Zw(i,e,!0,!1)}async function Zw(r,e,i,s){const l=await NI(r.localStore,ja(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return s&&(b=await px(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&Gw(r.remoteStore,l),b}async function px(r,e,i,s,l){r.pu=(U,j,re)=>(async function(Me,Re,Ve,ke){let Be=Re.view.ru(Ve);Be.Cs&&(Be=await A_(Me.localStore,Re.query,!1).then((({documents:q})=>Re.view.ru(q,Be))));const Xe=ke&&ke.targetChanges.get(Re.targetId),ct=ke&&ke.targetMismatches.get(Re.targetId)!=null,mt=Re.view.applyChanges(Be,Me.isPrimaryClient,Xe,ct);return V_(Me,Re.targetId,mt.au),mt.snapshot})(r,U,j,re);const c=await A_(r.localStore,e,!0),p=new ux(e,c.Qs),b=p.ru(c.documents),E=fc.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),w=p.applyChanges(b,r.isPrimaryClient,E);V_(r,i,w.au);const x=new cx(e,i,p);return r.Tu.set(e,x),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),w.snapshot}async function gx(r,e,i){const s=Mt(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!ff(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await tp(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Pp(s.remoteStore,l.targetId),rp(s,l.targetId)})).catch(Wl)):(rp(s,l.targetId),await tp(s.localStore,l.targetId,!0))}async function yx(r,e){const i=Mt(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(i.remoteStore,s.targetId))}async function vx(r,e,i){const s=Sx(r);try{const l=await(function(p,b){const E=Mt(p),w=qn.now(),x=b.reduce(((re,F)=>re.add(F.key)),Jt());let U,j;return E.persistence.runTransaction("Locally write mutations","readwrite",(re=>{let F=Ss(),Me=Jt();return E.Ns.getEntries(re,x).next((Re=>{F=Re,F.forEach(((Ve,ke)=>{ke.isValidDocument()||(Me=Me.add(Ve))}))})).next((()=>E.localDocuments.getOverlayedDocuments(re,F))).next((Re=>{U=Re;const Ve=[];for(const ke of b){const Be=MR(ke,U.get(ke.key).overlayedDocument);Be!=null&&Ve.push(new Xo(ke.key,Be,ow(Be.value.mapValue),_s.exists(!0)))}return E.mutationQueue.addMutationBatch(re,w,Ve,b)})).next((Re=>{j=Re;const Ve=Re.applyToLocalDocumentSet(U,Me);return E.documentOverlayCache.saveOverlays(re,Re.batchId,Ve)}))})).then((()=>({batchId:j.batchId,changes:_w(U)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,E){let w=p.Vu[p.currentUser.toKey()];w||(w=new ei($t)),w=w.insert(b,E),p.Vu[p.currentUser.toKey()]=w})(s,l.batchId,i),await mc(s,l.changes),await _f(s.remoteStore)}catch(l){const c=Bp(l,"Failed to persist write");i.reject(c)}}async function e1(r,e){const i=Mt(r);try{const s=await II(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(wn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?wn(p.hu,14607):l.removedDocuments.size>0&&(wn(p.hu,42227),p.hu=!1))})),await mc(i,s,e)}catch(s){await Wl(s)}}function O_(r,e,i){const s=Mt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const E=Mt(p);E.onlineState=b;let w=!1;E.queries.forEach(((x,U)=>{for(const j of U.Sa)j.va(b)&&(w=!0)})),w&&Fp(E)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _x(r,e,i){const s=Mt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new ei(yt.comparator);p=p.insert(c,nr.newNoDocument(c,It.min()));const b=Jt().add(c),E=new gf(It.min(),new Map,new ei($t),p,b);await e1(s,E),s.du=s.du.remove(c),s.Au.delete(e),qp(s)}else await tp(s.localStore,e,!1).then((()=>rp(s,e,i))).catch(Wl)}async function bx(r,e){const i=Mt(r),s=e.batch.batchId;try{const l=await RI(i.localStore,e);n1(i,s,null),t1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mc(i,l)}catch(l){await Wl(l)}}async function wx(r,e,i){const s=Mt(r);try{const l=await(function(p,b){const E=Mt(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let x;return E.mutationQueue.lookupMutationBatch(w,b).next((U=>(wn(U!==null,37113),x=U.keys(),E.mutationQueue.removeMutationBatch(w,U)))).next((()=>E.mutationQueue.performConsistencyCheck(w))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(w,x,b))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,x))).next((()=>E.localDocuments.getDocuments(w,x)))}))})(s.localStore,e);n1(s,e,i),t1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mc(s,l)}catch(l){await Wl(l)}}function t1(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function n1(r,e,i){const s=Mt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function rp(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||i1(r,s)}))}function i1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Pp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),qp(r))}function V_(r,e,i){for(const s of i)s instanceof $w?(r.Ru.addReference(s.key,e),Ex(r,s)):s instanceof Jw?(nt(Hp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||i1(r,s.key)):Tt(19791,{wu:s})}function Ex(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(nt(Hp,"New document in limbo: "+i),r.Eu.add(s),qp(r))}function qp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new yt(jn.fromString(e)),s=r.fu.next();r.Au.set(s,new hx(i)),r.du=r.du.insert(i,s),Gw(r.remoteStore,new oo(ja(mw(i.path)),s,"TargetPurposeLimboResolution",uf.ce))}}async function mc(r,e,i){const s=Mt(r),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,E)=>{p.push(s.pu(E,e,i).then((w=>{if((w||i)&&s.isPrimaryClient){const x=w?!w.fromCache:i?.targetChanges.get(E.targetId)?.current;s.sharedClientState.updateQueryState(E.targetId,x?"current":"not-current")}if(w){l.push(w);const x=Vp.As(E.targetId,w);c.push(x)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(E,w){const x=Mt(E);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(U=>xe.forEach(w,(j=>xe.forEach(j.Es,(re=>x.persistence.referenceDelegate.addReference(U,j.targetId,re))).next((()=>xe.forEach(j.ds,(re=>x.persistence.referenceDelegate.removeReference(U,j.targetId,re)))))))))}catch(U){if(!$l(U))throw U;nt(kp,"Failed to update sequence numbers: "+U)}for(const U of w){const j=U.targetId;if(!U.fromCache){const re=x.Ms.get(j),F=re.snapshotVersion,Me=re.withLastLimboFreeSnapshotVersion(F);x.Ms=x.Ms.insert(j,Me)}}})(s.localStore,c))}async function Tx(r,e){const i=Mt(r);if(!i.currentUser.isEqual(e)){nt(Hp,"User change. New user:",e.toKey());const s=await Bw(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((E=>{E.reject(new $e(Ce.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mc(i,s.Ls)}}function Ax(r,e){const i=Mt(r),s=i.Au.get(e);if(s&&s.hu)return Jt().add(s.key);{let l=Jt();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function r1(r){const e=Mt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_x.bind(null,e),e.Pu.H_=sx.bind(null,e.eventManager),e.Pu.yu=ox.bind(null,e.eventManager),e}function Sx(r){const e=Mt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wx.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return CI(this.persistence,new TI,e.initialUser,this.serializer)}Cu(e){return new zw(Op.mi,this.serializer)}Du(e){return new OI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class Cx extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){wn(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lI(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new zw((s=>Jh.mi(s,i)),this.serializer)}}class ap{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>O_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tx.bind(null,this.syncEngine),await tx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ix})()}createDatastore(e){const i=yf(e.databaseInfo.databaseId),s=(function(c){return new UI(c)})(e.databaseInfo);return(function(c,p,b,E){return new FI(c,p,b,E)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,p,b){return new qI(s,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>O_(this.syncEngine,i,0)),(function(){return R_.v()?new R_:new VI})())}createSyncEngine(e,i){return(function(l,c,p,b,E,w,x){const U=new fx(l,c,p,b,E,w);return x&&(U.gu=!0),U})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Mt(i);nt(qo,"RemoteStore shutting down."),s.Ea.add(5),await dc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ap.provider={build:()=>new ap};class Rx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const bo="FirestoreClient";class Ix{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=tr.UNAUTHENTICATED,this.clientId=Ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{nt(bo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(nt(bo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Bp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),nt(bo,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Bw(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function k_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await xx(r);nt(bo,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>x_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>x_(e.remoteStore,l))),r._onlineComponents=e}async function xx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(bo,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Ce.FAILED_PRECONDITION||l.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;zl("Error using user provided cache. Falling back to memory cache: "+i),await Nm(r,new ef)}}else nt(bo,"Using default OfflineComponentProvider"),await Nm(r,new Cx(void 0));return r._offlineComponents}async function a1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(bo,"Using user provided OnlineComponentProvider"),await k_(r,r._uninitializedComponentsProvider._online)):(nt(bo,"Using default OnlineComponentProvider"),await k_(r,new ap))),r._onlineComponents}function Mx(r){return a1(r).then((e=>e.syncEngine))}async function Nx(r){const e=await a1(r),i=e.eventManager;return i.onListen=dx.bind(null,e.syncEngine),i.onUnlisten=gx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=mx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=yx.bind(null,e.syncEngine),i}function Dx(r,e,i={}){const s=new fo;return r.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,E,w){const x=new Rx({next:j=>{x.Nu(),p.enqueueAndForget((()=>ax(c,U))),j.fromCache&&E.source==="server"?w.reject(new $e(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(j)},error:j=>w.reject(j)}),U=new lx(b,x,{includeMetadataChanges:!0,qa:!0});return rx(c,U)})(await Nx(r),r.asyncQueue,e,i,s))),s.promise}function s1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const P_=new Map;const o1="firestore.googleapis.com",L_=!0;class U_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o1,this.ssl=L_}else this.host=e.host,this.ssl=e.ssl??L_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sI)throw new $e(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $e(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $e(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $e(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bf{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new OC;switch(s.type){case"firstParty":return new LC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new $e(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=P_.get(i);s&&(nt("ComponentProvider","Removing Datastore"),P_.delete(i),s.terminate())})(this),Promise.resolve()}}function Ox(r,e,i,s={}){r=Hh(r,bf);const l=Yl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(ib(`https://${b}`),rb("Firestore",!0)),c.host!==o1&&c.host!==b&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...c,host:b,ssl:l,emulatorOptions:s};if(!zo(E,p)&&(r._setSettings(E),s.mockUserToken)){let w,x;if(typeof s.mockUserToken=="string")w=s.mockUserToken,x=tr.MOCK_USER;else{w=nA(s.mockUserToken,r._app?.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new $e(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new tr(U)}r._authCredentials=new VC(new Kb(w,x))}}class wo{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class Ri{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ri(this.firestore,e,this._key)}toJSON(){return{type:Ri._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(cc(i,Ri._jsonSchema))return new Ri(e,s||null,new yt(jn.fromString(i.referencePath)))}}Ri._jsonSchemaVersion="firestore/documentReference/1.0",Ri._jsonSchema={type:yi("string",Ri._jsonSchemaVersion),referencePath:yi("string")};class mo extends wo{constructor(e,i,s){super(e,i,mw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ri(this.firestore,null,new yt(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function sp(r,e,...i){if(r=Hr(r),Wb("collection","path",e),r instanceof bf){const s=jn.fromString(e,...i);return $0(s),new mo(r,null,s)}{if(!(r instanceof Ri||r instanceof mo))throw new $e(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(jn.fromString(e,...i));return $0(s),new mo(r.firestore,null,s)}}function Vx(r,e,...i){if(r=Hr(r),arguments.length===1&&(e=Ep.newId()),Wb("doc","path",e),r instanceof bf){const s=jn.fromString(e,...i);return W0(s),new Ri(r,null,new yt(s))}{if(!(r instanceof Ri||r instanceof mo))throw new $e(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(jn.fromString(e,...i));return W0(s),new Ri(r.firestore,r instanceof mo?r.converter:null,new yt(s))}}const j_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hw(this,"async_queue_retry"),this._c=()=>{const s=Mm();s&&nt(j_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Mm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Mm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;nt(j_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",B_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=zp.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Tt(47125,{Pc:B_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function B_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Gp extends bf{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new z_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function kx(r,e){const i=typeof r=="object"?r:lb(),s=typeof r=="string"?r:Gh,l=fp(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=eA("firestore");c&&Ox(l,...c)}return l}function l1(r){if(r._terminated)throw new $e(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Px(r),r._firestoreClient}function Px(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new tR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,s1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Ix(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(qi.fromBase64String(e))}catch(i){throw new $e(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new oa(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,oa._jsonSchema))return oa.fromBase64String(e.bytes)}}oa._jsonSchemaVersion="firestore/bytes/1.0",oa._jsonSchema={type:yi("string",oa._jsonSchemaVersion),bytes:yi("string")};class Yp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new $e(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class u1{constructor(e){this._methodName=e}}class Ba{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new $e(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new $e(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ba._jsonSchemaVersion}}static fromJSON(e){if(cc(e,Ba._jsonSchema))return new Ba(e.latitude,e.longitude)}}Ba._jsonSchemaVersion="firestore/geoPoint/1.0",Ba._jsonSchema={type:yi("string",Ba._jsonSchemaVersion),latitude:yi("number"),longitude:yi("number")};class Fa{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,Fa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Fa(e.vectorValues);throw new $e(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fa._jsonSchemaVersion="firestore/vectorValue/1.0",Fa._jsonSchema={type:yi("string",Fa._jsonSchemaVersion),vectorValues:yi("object")};const Lx=/^__.*__$/;class Ux{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,i,this.fieldTransforms):new hc(e,this.data,i,this.fieldTransforms)}}function c1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:r})}}class Xp{constructor(e,i,s,l,c,p){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(c1(this.Ac)&&Lx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jx{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||yf(e)}Cc(e,i,s,l=!1){return new Xp({Ac:e,methodName:i,Dc:s,path:Hi.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h1(r){const e=r._freezeSettings(),i=yf(r._databaseId);return new jx(r._databaseId,!!e.ignoreUndefinedProperties,i)}function zx(r,e,i,s,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);m1("Data must be an object, but it was:",p,s);const b=f1(s,p);let E,w;if(c.merge)E=new wa(p.fieldMask),w=p.fieldTransforms;else if(c.mergeFields){const x=[];for(const U of c.mergeFields){const j=Fx(e,U,i);if(!p.contains(j))throw new $e(Ce.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);qx(x,j)||x.push(j)}E=new wa(x),w=p.fieldTransforms.filter((U=>E.covers(U.field)))}else E=null,w=p.fieldTransforms;return new Ux(new sa(b),E,w)}function Bx(r,e,i,s=!1){return Qp(i,r.Cc(s?4:3,e))}function Qp(r,e){if(d1(r=Hr(r)))return m1("Unsupported field value:",e,r),f1(r,e);if(r instanceof u1)return(function(s,l){if(!c1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let E=Qp(b,l.wc(p));E==null&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Hr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return AR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=qn.fromDate(s);return{timestampValue:$h(l.serializer,c)}}if(s instanceof qn){const c=new qn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$h(l.serializer,c)}}if(s instanceof Ba)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oa)return{bytesValue:Dw(l.serializer,s._byteString)};if(s instanceof Ri){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Np(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Fa)return(function(p,b){return{mapValue:{fields:{[aw]:{stringValue:sw},[Yh]:{arrayValue:{values:p.toArray().map((w=>{if(typeof w!="number")throw b.Sc("VectorValues must only contain numeric values.");return Ip(b.serializer,w)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${lf(s)}`)})(r,e)}function f1(r,e){const i={};return Zb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(r,((s,l)=>{const c=Qp(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function d1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof qn||r instanceof Ba||r instanceof oa||r instanceof Ri||r instanceof u1||r instanceof Fa)}function m1(r,e,i){if(!d1(i)||!$b(i)){const s=lf(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Fx(r,e,i){if((e=Hr(e))instanceof Yp)return e._internalPath;if(typeof e=="string")return p1(r,e);throw tf("Field path arguments must be of type string or ",r,!1,void 0,i)}const Hx=new RegExp("[~\\*/\\[\\]]");function p1(r,e,i){if(e.search(Hx)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Yp(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function tf(r,e,i,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let E="";return(c||p)&&(E+=" (found",c&&(E+=` in field ${s}`),p&&(E+=` in document ${l}`),E+=")"),new $e(Ce.INVALID_ARGUMENT,b+r+E)}function qx(r,e){return r.some((i=>i.isEqual(e)))}class g1{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(wf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Gx extends g1{data(){return super.data()}}function wf(r,e){return typeof e=="string"?p1(r,e):e instanceof Yp?e._internalPath:e._delegate._internalPath}function Yx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new $e(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class Wp extends Kp{}function y1(r,e,...i){let s=[];e instanceof Kp&&s.push(e),s=s.concat(i),(function(c){const p=c.filter((E=>E instanceof $p)).length,b=c.filter((E=>E instanceof Ef)).length;if(p>1||p>0&&b>0)throw new $e(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Ef extends Wp{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Ef(e,i,s)}_apply(e){const i=this._parse(e);return v1(e._query,i),new wo(e.firestore,e.converter,Wm(e._query,i))}_parse(e){const i=h1(e.firestore);return(function(c,p,b,E,w,x,U){let j;if(w.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new $e(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){H_(U,x);const F=[];for(const Me of U)F.push(F_(E,c,Me));j={arrayValue:{values:F}}}else j=F_(E,c,U)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||H_(U,x),j=Bx(b,p,U,x==="in"||x==="not-in");return gi.create(w,x,j)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Xu(r,e,i){const s=e,l=wf("where",r);return Ef._create(l,s,i)}class $p extends Kp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new $p(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Ea.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const E of b)v1(p,E),p=Wm(p,E)})(e._query,i),new wo(e.firestore,e.converter,Wm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jp extends Wp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Jp(e,i)}_apply(e){const i=(function(l,c,p){if(l.startAt!==null)throw new $e(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new $e(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(c,p)})(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new Jl(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Dl(r,e="asc"){const i=e,s=wf("orderBy",r);return Jp._create(s,i)}class Zp extends Wp{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Zp(e,i,s)}_apply(e){return new wo(e.firestore,e.converter,Qh(e._query,this._limit,this._limitType))}}function nf(r){return qC("limit",r),Zp._create("limit",r,"F")}function F_(r,e,i){if(typeof(i=Hr(i))=="string"){if(i==="")throw new $e(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pw(e)&&i.indexOf("/")!==-1)throw new $e(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(jn.fromString(i));if(!yt.isDocumentKey(s))throw new $e(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a_(r,new yt(s))}if(i instanceof Ri)return a_(r,i._key);throw new $e(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(i)}.`)}function H_(r,e){if(!Array.isArray(r)||r.length===0)throw new $e(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v1(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new $e(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Xx{convertValue(e,i="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Go(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Yh].arrayValue?.values?.map((s=>ui(s.doubleValue)));return new Fa(i)}convertGeoPoint(e){return new Ba(ui(e.latitude),ui(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=hf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const i=go(e);return new qn(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=jn.fromString(e);wn(Uw(s),9688,{name:e});const l=new Ju(s.get(1),s.get(3)),c=new yt(s.popFirst(5));return l.isEqual(i)||As(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Qx(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Eh{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends g1{constructor(e,i,s,l,c,p){super(e,i,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(wf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ll._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:yi("string",Ll._jsonSchemaVersion),bundleSource:yi("string","DocumentSnapshot"),bundleName:yi("string"),bundle:yi("string")};class Vh extends Ll{data(e={}){return super.data(e)}}class Ul{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Eh(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Vh(this._firestore,this._userDataWriter,s.key,s,new Eh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new $e(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const E=new Vh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:E,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const E=new Vh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,x=-1;return b.type!==0&&(w=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),x=p.indexOf(b.doc.key)),{type:Kx(b.type),doc:E,oldIndex:w,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Kx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:yi("string",Ul._jsonSchemaVersion),bundleSource:yi("string","QuerySnapshot"),bundleName:yi("string"),bundle:yi("string")};class Wx extends Xx{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ri(this.firestore,null,i)}}function _1(r){r=Hh(r,wo);const e=Hh(r.firestore,Gp),i=l1(e),s=new Wx(e);return Yx(r._query),Dx(i,r._query).then((l=>new Ul(e,s,r,l)))}function $x(r,e){const i=Hh(r.firestore,Gp),s=Vx(r),l=Qx(r.converter,e);return Jx(i,[zx(h1(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,_s.exists(!1))]).then((()=>s))}function Jx(r,e){return(function(s,l){const c=new fo;return s.asyncQueue.enqueueAndForget((async()=>vx(await Mx(s),l,c))),c.promise})(l1(r),e)}(function(e,i=!0){(function(l){Kl=l})(Xl),jl(new Bo("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new Gp(new kC(s.getProvider("auth-internal")),new UC(p,s.getProvider("app-check-internal")),(function(w,x){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new $e(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(w.options.projectId,x)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),co(Y0,X0,e),co(Y0,X0,"esm2020")})();const Zx={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},eM=typeof __firebase_config<"u"?JSON.parse(__firebase_config):Zx,b1=ob(eM),Dm=NC(b1),op=kx(b1),lp=typeof __app_id<"u"?__app_id:"long-jump-game",Et={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000"},ra=5,up=50,tM=25,w1=30,nM=15,_a=40,E1={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},iM=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),q_=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],G_=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],Tf=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Af=r=>{let e=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=s^Math.imul(i^p,2869860233),s=l^Math.imul(s^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(s^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(e^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^s^l)>>>0},rM=()=>new Date().toISOString().split("T")[0],aM=(r,e)=>{const i=Af(r),s=Tf(i),l=[],c=Math.floor(e*.3),p=new Set;for(;l.length<c;){const b=Math.floor(s()*ra),E=Math.floor(s()*e);if(E===0)continue;const w=`${b},${E}`;if(!p.has(w)){p.add(w);const x=s();let U=1;x>.5&&(U=2),x>.8&&(U=3),l.push({r:b,c:E,val:U})}}return l},sM=(r,e)=>{const i=Af(r+"OBSTACLES"),s=Tf(i),l=[],c=Math.floor(e*.1),p=new Set;for(;l.length<c;){const b=Math.floor(s()*ra),E=Math.floor(s()*e);if(E===0)continue;const w=`${b},${E}`;p.has(w)||(p.add(w),l.push({r:b,c:E}))}return l},oM=(r,e,i)=>{const s=Af(r+"WILDCARDS_V3"),l=Tf(s),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*ra),E=5,w=Math.min(29,i-2);if(w<=E)break;const x=Math.floor(l()*(w-E+1))+E;if(!e.some(U=>U.r===b&&U.c===x)){c.push({r:b,c:x});break}p++}if(i>30)for(p=0;p<100;){const b=Math.floor(l()*ra),E=30,w=i-5,x=Math.floor(l()*(w-E+1))+E;if(!e.some(U=>U.r===b&&U.c===x)){c.push({r:b,c:x});break}p++}return c},lM=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],uM=r=>{const e=Af(r),i=Tf(e);let s=[];Object.entries(E1).forEach(([b,E])=>{for(let w=0;w<E;w++)s.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(s);for(let b=l.length-1;b>0;b--){const E=Math.floor(i()*(b+1));[l[b],l[E]]=[l[E],l[b]]}const c=w1;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const E=Math.floor(i()*c);[l[E],l[b]]=[l[b],l[E]]}}return l},cM=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},hM=()=>{const r=et.useRef(null);return et.useEffect(()=>{const e=r.current;if(!e)return;const i=e.getContext("2d");let s=window.innerWidth,l=window.innerHeight;if(s===0||l===0)return;e.width=s,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",Et.accentPrimary];for(let x=0;x<150;x++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const E=()=>{!i||!e.width||!e.height||(i.clearRect(0,0,s,l),c.forEach(x=>{x.y+=x.vy,x.x+=x.vx+Math.sin(x.y/50),x.rotation+=x.rotationSpeed,x.y>l&&(x.y=-10,x.x=Math.random()*s),!(!Number.isFinite(x.x)||!Number.isFinite(x.y)||!Number.isFinite(x.rotation)||!Number.isFinite(x.size))&&(i.save(),i.translate(x.x,x.y),i.rotate(x.rotation*Math.PI/180),i.fillStyle=x.color,i.fillRect(-x.size/2,-x.size/2,x.size,x.size),i.restore())}),b=requestAnimationFrame(E))};E();const w=()=>{e&&(s=window.innerWidth,l=window.innerHeight,s>0&&l>0&&(e.width=s,e.height=l))};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w),b&&cancelAnimationFrame(b)}},[]),L.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},Y_=()=>{const{RiveComponent:r}=so.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return L.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},X_=({trigger:r})=>{const{rive:e,RiveComponent:i}=so.useRive({src:"fan.riv",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return et.useEffect(()=>{if(r&&e&&e.viewModelInstance)try{const s=e.viewModelInstance("View Model 1");if(s){const l=s.trigger("Celebrate");l&&l.fire()}}catch(s){console.warn("Rive trigger warning:",s)}},[r,e]),i?L.jsx("div",{style:{width:`${_a}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:L.jsx("div",{style:{width:"39px",height:"60px"},children:L.jsx(i,{})})}):null},Om=({highlightName:r,user:e,onRankFound:i,lastUpdated:s,initialMode:l="standard",onParCalculated:c})=>{const[p,b]=et.useState([]),[E,w]=et.useState(!0),[x,U]=et.useState("daily"),[j,re]=et.useState(l),[F,Me]=et.useState(null);et.useEffect(()=>{re(l)},[l]);const Re=async()=>{if(!e)return;w(!0),Me(null);const Ve=sp(op,"artifacts",lp,"public","data","scores"),ke=new Date,Be=ke.toISOString().split("T")[0],Xe=ke.getDay(),ct=ke.getDate()-Xe+(Xe===0?-6:1),q=new Date(ke.setDate(ct)).toISOString().split("T")[0];let z=[];j==="quick"&&z.push(Xu("mode","==","quick")),x==="daily"?(z.push(Xu("date","==",Be)),z.push(Dl("score","desc")),z.push(Dl("timestamp","asc")),z.push(nf(100))):(z.push(Xu("date",">=",q)),z.push(Dl("date","desc")),z.push(Dl("score","desc")),z.push(nf(500)));try{const V=y1(Ve,...z),H=await _1(V);if(H.empty){b([]),w(!1),c&&x==="daily"&&c(j==="quick"?12:25,j);return}let I=H.docs.map(k=>({id:k.id,...k.data()}));if(j==="standard"&&(I=I.filter(k=>!k.mode||k.mode==="standard")),x==="daily"&&c){const R=I.reduce((G,te)=>G+te.score,0)/I.length,se=Math.floor(((j==="quick"?12:25)+R)/2);c(se,j)}if(x==="weekly"){const k=new Map;I.forEach(R=>{const Q=k.get(R.name);Q?(R.score>Q.score||R.score===Q.score&&R.timestamp<Q.timestamp)&&k.set(R.name,R):k.set(R.name,R)}),I=Array.from(k.values()),I.sort((R,Q)=>Q.score!==R.score?Q.score-R.score:R.timestamp-Q.timestamp),I=I.slice(0,100)}if(b(I),w(!1),r&&i){const k=I.findIndex(R=>R.name===r);k!==-1&&i(k+1)}}catch(V){console.error(" FIRESTORE ERROR:",V),Me(V.message),w(!1)}};return et.useEffect(()=>{Re()},[e,x,j,r,s]),L.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col relative",children:[F&&F.includes("index")&&L.jsxs("div",{className:"absolute inset-0 z-50 bg-white/90 flex flex-col items-center justify-center p-4 text-center",children:[L.jsx(mT,{className:"text-red-500 mb-2",size:32}),L.jsx("p",{className:"text-xs font-bold text-red-600 mb-2",children:"DATABASE INDEX MISSING"}),L.jsx("button",{onClick:Re,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:"Retry"})]}),L.jsxs("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(km,{size:20,className:"text-yellow-500"}),L.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:x==="daily"?"Today's Top":"Weekly Best"})]}),L.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[L.jsx("button",{onClick:()=>U("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${x==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),L.jsx("button",{onClick:()=>U("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${x==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),L.jsx("div",{className:"flex justify-center",children:L.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 w-full",children:[L.jsx("button",{onClick:()=>re("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${j==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Standard"}),L.jsx("button",{onClick:()=>re("quick"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${j==="quick"?"bg-white shadow-sm text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:"Quick Mode"})]})})]}),L.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:E?L.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):p.length===0?L.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",L.jsx("br",{}),"Be the first!"]}):L.jsx("div",{className:"space-y-1",children:p.map((Ve,ke)=>{const Be=Ve.mode==="quick"?25:40,Xe=Ve.score>=Be;return L.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${Ve.name===r?`bg-[${Et.accentPrimary}]/10 border-[${Et.accentPrimary}]/20`:Xe?"bg-amber-100 border-amber-300":"hover:bg-white/60 border-transparent"}`,children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("span",{className:`font-black w-5 text-center ${ke===0?"text-yellow-600 text-lg":ke===1?"text-gray-600 text-base":ke===2?"text-orange-800 text-base":"text-gray-500"}`,children:ke+1}),L.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[Xe&&L.jsx(km,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),L.jsx("span",{className:`font-bold truncate max-w-[90px] ${Ve.name===r?"text-black":Xe?"text-amber-900":"text-gray-700"}`,children:Ve.name}),x==="weekly"&&L.jsx("span",{className:"text-[9px] text-gray-400 font-normal ml-1 border-l pl-1 border-gray-300",children:new Date(Ve.date).toLocaleDateString(void 0,{weekday:"short"})})]})]}),L.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${Xe?"bg-amber-200 text-amber-900":"text-gray-900 bg-gray-100"}`,children:[Ve.score,"m"]})]},ke)})})})]})},Q_=()=>{const r=q_[Math.floor(Math.random()*q_.length)],e=G_[Math.floor(Math.random()*G_.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},K_=(r=up)=>Array(ra).fill(null).map(()=>Array(r).fill(null)),Vm=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(s=>s.r===e)||r.every(s=>s.c===i)},Th=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:r,isNew:e});function fM(){const[r,e]=et.useState("menu"),[i,s]=et.useState("standard"),[l,c]=et.useState(()=>localStorage.getItem("longJumpPlayerName")||Q_()),[p,b]=et.useState(!1),[E,w]=et.useState(!1),[x,U]=et.useState(()=>{const J=localStorage.getItem("longJumpShowFans");return J===null?!0:J!=="false"}),[j,re]=et.useState(()=>K_(up)),[F,Me]=et.useState([]),[Re,Ve]=et.useState([]),[ke,Be]=et.useState(0),[Xe,ct]=et.useState(!1),[mt,q]=et.useState([]),[z,V]=et.useState(0),[H,I]=et.useState([]),[k,R]=et.useState([]),[Q,se]=et.useState([]),[G,te]=et.useState([]),[ye,he]=et.useState(null),[we,P]=et.useState(null),[K,Ee]=et.useState([]),[ge,Ne]=et.useState(0),[He,ht]=et.useState(0),[dt,bt]=et.useState(null),[Ot,un]=et.useState(!1),[ft,St]=et.useState(!1),[Nt,wt]=et.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[En,ci]=et.useState(!1),[Zt,it]=et.useState(!1),[sn,dn]=et.useState(!1),[Gi,Kn]=et.useState(!1),[Gt,Tn]=et.useState(!1),[C,g]=et.useState(!1),[v,D]=et.useState(!1),[W,me]=et.useState(!1),[Ie,Qe]=et.useState(null),[Je,Ge]=et.useState(null),[rt,Bt]=et.useState(!1),[Cn,mn]=et.useState(null),[zn,Wn]=et.useState(25),jt=et.useRef({standard:25,quick:12}),nn=et.useRef(null),[On,Yn]=et.useState(!1),[rr,vt]=et.useState(0),[$n,Rt]=et.useState(0),ar=j.some(J=>J.some(ie=>ie!==null));et.useEffect(()=>{localStorage.setItem("longJumpPlayerName",l)},[l]),et.useEffect(()=>{localStorage.setItem("longJumpShowFans",x)},[x]),et.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await y2(Dm,__initial_auth_token):await f2(Dm)})();const ie=b2(Dm,Ge);return()=>ie()},[]),et.useEffect(()=>{if(He===ge)return;const J=500,ie=performance.now(),be=He,ve=ge,Ae=Fe=>{const Ze=Fe-ie,Pe=Math.min(Ze/J,1),pt=1-Math.pow(1-Pe,3),Le=Math.floor(be+(ve-be)*pt);ht(Le),Pe<1&&requestAnimationFrame(Ae)};requestAnimationFrame(Ae)},[ge]),et.useEffect(()=>{(async()=>{try{const ie=sp(op,"artifacts",lp,"public","data","scores"),be=new Date().toISOString().split("T")[0];let ve=[Xu("date","==",be),Dl("score","desc"),Dl("timestamp","asc")];i==="quick"?(ve.push(Xu("mode","==","quick")),ve.push(nf(1))):ve.push(nf(50));const Ae=y1(ie,...ve),Fe=await _1(Ae);let Ze=null;if(!Fe.empty){const Pe=Fe.docs.map(pt=>pt.data());i==="quick"?Ze=Pe[0]:Ze=Pe.find(pt=>!pt.mode||pt.mode==="standard")}mn(Ze||null)}catch(ie){console.error("Error fetching leader:",ie)}})()},[ke,i]);const Ii=et.useCallback((J,ie)=>{(ie==="quick"||ie==="standard")&&(jt.current[ie]=J),Wn(J)},[]);et.useEffect(()=>{qr("standard")},[]);const qr=(J="standard")=>{const ie=rM(),be=uM(ie);q(be),s(J);const ve=J==="quick"?tM:up,Ae=J==="quick"?nM:w1;let Fe;J==="quick"?(Fe=be.slice(0,Ae-1),Fe.push("*")):Fe=be.slice(0,Ae);const Ze=Fe.map(Le=>Th(Le,!1)).sort((Le,ot)=>Le.letter.localeCompare(ot.letter));Me(Ze),V(Ae),re(K_(ve)),Ee([]),Ve([]),Ne(0),ht(0),bt(null),un(!1),St(!1),I(aM(ie,ve));const Pe=sM(ie,ve);R(Pe),se(oM(ie,Pe,ve)),te(lM()),wt({text:"Goal: Get as far right as you can.",type:"neutral"}),g(!1),it(!1),Kn(!1),Tn(!1),Bt(!1),D(!1),dn(!1),ct(!1),he(null),P(null),b(!1);const pt=jt.current[J]||(J==="quick"?12:25);Wn(pt),nn.current&&(nn.current.scrollLeft=0)},pr=J=>{l.trim()||c(Q_()),e("playing"),qr(J),Kn(!0)},Gr=()=>{e("menu"),qr("standard")},Ye=()=>{if(Re.length===0)return;const J=Re[Re.length-1],ie=Re.slice(0,-1);re(J.grid),Me(J.hand),Ne(J.score),V(J.drawCount),Ve(ie),Ee([]),wt({text:"Move undone",type:"info"})},Ta=J=>{const ie=J.toUpperCase();return[...F].reverse().find(be=>be.letter===ie)},xi=J=>{const ie=j[0].length;if(!we){P({r:2,c:ge});return}let{r:be,c:ve}=we;J==="ArrowUp"&&(be=Math.max(0,be-1)),J==="ArrowDown"&&(be=Math.min(ra-1,be+1)),J==="ArrowLeft"&&(ve=Math.max(0,ve-1)),J==="ArrowRight"&&(ve=Math.min(ie-1,ve+1)),P({r:be,c:ve})};et.useEffect(()=>{const J=ie=>{if(!(r!=="playing"||C||Gt||Gi||Zt||W||sn||p)){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ie.key)){ie.preventDefault(),xi(ie.key);return}if(ie.key==="Backspace"||ie.key==="Delete"){if(we){const{r:be,c:ve}=we;K.find(Fe=>Fe.r===be&&Fe.c===ve)?Pn(be,ve):xi("ArrowLeft")}return}if(ie.key==="Enter"){K.length>0&&Sa();return}if(/^[a-zA-Z]$/.test(ie.key)){const be=j[0].length;if(!we){P({r:2,c:ge});return}const{r:ve,c:Ae}=we;if(j[ve]&&j[ve][Ae]||k.some(Ze=>Ze.r===ve&&Ze.c===Ae)){xi("ArrowRight");return}const Fe=Ta(ie.key);Fe?(Ni(Fe,ve,Ae),P({r:ve,c:Math.min(be-1,Ae+1)})):(wt({text:`No '${ie.key.toUpperCase()}' in hand`,type:"error"}),setTimeout(()=>wt({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[r,C,we,F,K,Gt,Gi,Zt,W,sn,p]),et.useEffect(()=>{if(we&&nn.current){const J=nn.current,ie=we.c*_a,be=ie+_a,ve=J.scrollLeft,Ae=ve+J.clientWidth,Fe=100;ie<ve?J.scrollTo({left:Math.max(0,ie-Fe),behavior:"smooth"}):be>Ae&&J.scrollTo({left:be-J.clientWidth+Fe,behavior:"smooth"})}},[we]);const Yi=()=>it(!0),vn=async()=>{it(!1),g(!0),Bt(!0);const J=l.trim().toLowerCase()==="test";if(Je&&!J)try{const ve=new Date().toISOString().split("T")[0],Ae=sp(op,"artifacts",lp,"public","data","scores");await $x(Ae,{name:l||"Anonymous",score:ge,mode:i,date:ve,timestamp:Date.now(),userId:Je.uid}),Be(Date.now())}catch(ve){console.error("Error saving score:",ve)}Bt(!1);const ie=ge*50+800;setTimeout(()=>{e("gameOver"),g(!1)},Math.max(ie,2500))},Jn=()=>it(!1),sr=()=>r==="playing"?dn(!0):e("menu"),Mr=()=>{dn(!1),e("menu"),qr()},Rs=async()=>{const J=dt?cM(dt):"top",ie="https://www.longjump.co.za";let be=dt?`${l} placed ${J} in Long-Jump with a distance of ${ge}m. How far can you get? ${ie}`:`${l} got a distance of ${ge}m in Long-Jump. How far can you get? ${ie}`;try{await navigator.clipboard.writeText(be),un(!0),setTimeout(()=>un(!1),1e3)}catch(ve){console.error("Failed to copy: ",ve),wt({text:"Failed to copy result.",type:"error"})}},qa=J=>{J.target.closest('[draggable="true"]')||J.target.tagName==="BUTTON"||(Yn(!0),vt(J.pageX-nn.current.offsetLeft),Rt(nn.current.scrollLeft))},la=()=>Yn(!1),or=()=>Yn(!1),Mi=J=>{if(!On)return;J.preventDefault();const be=(J.pageX-nn.current.offsetLeft-rr)*1.5;nn.current.scrollLeft=$n-be},Ni=(J,ie,be)=>{if(J.letter==="*"){Qe({r:ie,c:be,tileId:J.id}),me(!0);return}Di(J,ie,be)},Di=(J,ie,be,ve=!1,Ae=null)=>{if(j.every(pt=>pt.every(Le=>Le===null))&&K.length===0&&be!==0){D(!0),setTimeout(()=>D(!1),3e3);return}const Ze=Ae||J.letter,Pe=[...K,{r:ie,c:be,letter:Ze,isWild:ve,id:J.id}];if(!Vm(Pe)){wt({text:" Tiles must be placed in a single row or column",type:"error"});return}Ee(Pe),Me(pt=>pt.filter(Le=>Le.id!==J.id)),D(!1),Nt.type==="error"&&wt({text:"Goal: Get as far right as you can.",type:"neutral"})},Oi=J=>{if(Ie){const ie={id:Ie.tileId,letter:"*"};Di(ie,Ie.r,Ie.c,!0,J),P({r:Ie.r,c:Math.min(j[0].length-1,Ie.c+1)}),me(!1),Qe(null),he(null)}},Xi=J=>{if(!C&&r==="playing"){if(we){const{r:ie,c:be}=we,ve=j[0].length;if(!(j[ie]&&j[ie][be]||k.some(Fe=>Fe.r===ie&&Fe.c===be))){const Fe=F.find(Ze=>Ze.id===J);Fe&&(Ni(Fe,ie,be),P({r:ie,c:Math.min(ve-1,be+1)}));return}}he(ye===J?null:J)}},Pn=(J,ie)=>{if(On||C||r!=="playing"||j[J]&&j[J][ie]||k.some(ve=>ve.r===J&&ve.c===ie))return;const be=K.findIndex(ve=>ve.r===J&&ve.c===ie);if(be!==-1){const ve=K[be],Ae=[...K];Ae.splice(be,1),Ee(Ae);const Fe=ve.isWild?"*":ve.letter,Ze={id:ve.id||Math.random().toString(),letter:Fe,isNew:!1};Me(Pe=>[...Pe,Ze].sort((pt,Le)=>pt.letter!==Le.letter?pt.letter.localeCompare(Le.letter):pt.isNew===Le.isNew?0:pt.isNew?1:-1)),he(null),P({r:J,c:ie});return}if(ye){const ve=F.find(Ae=>Ae.id===ye);if(ve){const Ae=j[0].length;Ni(ve,J,ie),he(null),P({r:J,c:Math.min(Ae-1,ie+1)})}}else P({r:J,c:ie})},Yr=(J,ie)=>{C||r!=="playing"||(J.dataTransfer.setData("text/plain",JSON.stringify(ie)),J.dataTransfer.effectAllowed="move")},Ti=J=>{J.preventDefault(),J.dataTransfer.dropEffect="move"},Vi=(J,ie,be)=>{if(C||r!=="playing"||(J.preventDefault(),J.stopPropagation(),k.some(Ae=>Ae.r===ie&&Ae.c===be)))return;const ve=J.dataTransfer.getData("text/plain");if(ve)try{const Ae=JSON.parse(ve);if(j[ie]&&j[ie][be])return;const Fe=K.findIndex(Pe=>Pe.r===ie&&Pe.c===be),Ze=j[0].length;if(Ae.type==="hand"){const Pe=Ae.tile;if(Pe.letter==="*"){Qe({r:ie,c:be,tileId:Pe.id}),me(!0);return}if(j.every(Le=>Le.every(ot=>ot===null))&&K.length===0&&be!==0){D(!0),setTimeout(()=>D(!1),3e3);return}if(Fe!==-1){const Le=K[Fe],ot=[...K],pn=Le.isWild?"*":Le.letter,Rn={id:Le.id||Math.random().toString(),letter:pn,isNew:!1};ot.splice(Fe,1,{r:ie,c:be,letter:Pe.letter,isWild:!1,id:Pe.id}),Ee(ot),Me(In=>[...In.filter(xn=>xn.id!==Pe.id),Rn].sort((xn,vi)=>xn.letter!==vi.letter?xn.letter.localeCompare(vi.letter):xn.isNew===vi.isNew?0:xn.isNew?1:-1))}else{const Le=[...K,{r:ie,c:be,letter:Pe.letter,isWild:!1,id:Pe.id}];if(!Vm(Le)){wt({text:" Tiles must be placed in a single row or column",type:"error"});return}Ee(Le),Me(ot=>ot.filter(pn=>pn.id!==Pe.id))}D(!1),he(null),P({r:ie,c:Math.min(Ze-1,be+1)}),Nt.type==="error"&&wt({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Ae.type==="board"){if(Ae.r===ie&&Ae.c===be)return;const Pe=K.findIndex(ot=>ot.r===Ae.r&&ot.c===Ae.c);if(Pe===-1)return;const pt=K[Pe],Le=[...K];if(Fe!==-1){const ot=K[Fe];Le[Fe]={...ot,r:Ae.r,c:Ae.c},Le[Pe]={...pt,r:ie,c:be}}else Le[Pe]={...pt,r:ie,c:be};if(!Vm(Le)){wt({text:" Tiles must be placed in a single row or column",type:"error"});return}Ee(Le),P({r:ie,c:Math.min(Ze-1,be+1)})}}catch{}},Qi=J=>{if(C||r!=="playing")return;J.preventDefault(),J.stopPropagation();const ie=J.dataTransfer.getData("text/plain");if(ie)try{const be=JSON.parse(ie);if(be.type==="board"){const ve=K.find(Ze=>Ze.r===be.r&&Ze.c===be.c),Ae=ve&&ve.isWild?"*":be.letter,Fe={id:ve?.id||Math.random().toString(),letter:Ae,isNew:!1};Ee(Ze=>Ze.filter(Pe=>!(Pe.r===be.r&&Pe.c===be.c))),Me(Ze=>[...Ze,Fe].sort((Pe,pt)=>Pe.letter!==pt.letter?Pe.letter.localeCompare(pt.letter):Pe.isNew===pt.isNew?0:Pe.isNew?1:-1))}}catch{}},Ga=(J,ie)=>{if(!j||!j[J])return null;if(j[J][ie])return{letter:j[J][ie],type:"locked"};const be=K.find(ve=>ve.r===J&&ve.c===ie);return be?{letter:be.letter,type:"temp",isWild:be.isWild}:null},Nr=(J,ie)=>H.find(be=>be.r===J&&be.c===ie),Aa=(J,ie)=>k.find(be=>be.r===J&&be.c===ie),Sa=async()=>{if(K.length===0)return;ci(!0),wt({text:"Validating...",type:"info"});const J=j.map(Pe=>[...Pe]);if(K.forEach(Pe=>{J[Pe.r]&&(J[Pe.r][Pe.c]=Pe.letter)}),K.length>1){const Pe=[...K].sort((ot,pn)=>ot.r-pn.r||ot.c-pn.c),pt=Pe[0],Le=Pe[Pe.length-1];if(pt.r===Le.r){for(let ot=pt.c;ot<=Le.c;ot++)if(!J[pt.r][ot]){Yt("Cannot leave gaps between tiles.");return}}else for(let ot=pt.r;ot<=Le.r;ot++)if(!J[ot][pt.c]){Yt("Cannot leave gaps between tiles.");return}}const ie=j.every(Pe=>Pe.every(pt=>pt===null));let be=!1,ve=!1;const Ae=j[0].length;if(K.forEach(Pe=>{Pe.c===0&&(be=!0),[{r:Pe.r+1,c:Pe.c},{r:Pe.r-1,c:Pe.c},{r:Pe.r,c:Pe.c+1},{r:Pe.r,c:Pe.c-1}].forEach(Le=>{Le.r>=0&&Le.r<ra&&Le.c>=0&&Le.c<Ae&&j[Le.r]&&j[Le.r][Le.c]&&(ve=!0)})}),ie&&!be){Yt("First word must start in Column 1.");return}if(!ie&&!ve){Yt("Tiles must connect to existing words.");return}const Ze=Ai(J).filter(Pe=>Pe.cells.some(pt=>K.some(Le=>Le.r===pt.r&&Le.c===pt.c)));if(Ze.length===0){Yt("Words must be at least 2 letters.");return}try{const Pe=[];for(const pt of Ze)await gr(pt.word)||Pe.push(pt.word);if(Pe.length>0){Yt(`Invalid word(s): ${Pe.join(", ")}`,Pe[0]);return}Xn(J,Ze)}catch(Pe){console.error(Pe),Yt("Error checking dictionary. Try again.")}},gr=async J=>{const ie=J.toUpperCase();if(iM.has(ie))return!0;if(ie.length===2)return!1;try{const be=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${J}`);if(!be.ok)return!1;const ve=await be.json();return Array.isArray(ve)&&ve.length>0}catch{return!0}},Ai=J=>{let ie=[];const be=j[0].length;for(let ve=0;ve<ra;ve++){let Ae="",Fe=[];for(let Ze=0;Ze<be;Ze++)J[ve]&&J[ve][Ze]?(Ae+=J[ve][Ze],Fe.push({r:ve,c:Ze})):(Ae.length>1&&ie.push({word:Ae,cells:[...Fe],type:"H"}),Ae="",Fe=[]);Ae.length>1&&ie.push({word:Ae,cells:[...Fe],type:"H"})}for(let ve=0;ve<be;ve++){let Ae="",Fe=[];for(let Ze=0;Ze<ra;Ze++)J[Ze]&&J[Ze][ve]?(Ae+=J[Ze][ve],Fe.push({r:Ze,c:ve})):(Ae.length>1&&ie.push({word:Ae,cells:[...Fe],type:"V"}),Ae="",Fe=[]);Ae.length>1&&ie.push({word:Ae,cells:[...Fe],type:"V"})}return ie},Yt=(J,ie=null)=>{wt({text:J,type:"error",invalidWord:ie}),ci(!1)},Xn=(J,ie)=>{const be=JSON.parse(JSON.stringify(j)),ve=K.map(Le=>({id:Le.id||Math.random().toString(),letter:Le.isWild?"*":Le.letter,isNew:!1})),Ae=[...F,...ve].sort((Le,ot)=>Le.letter!==ot.letter?Le.letter.localeCompare(ot.letter):Le.isNew===ot.isNew?0:Le.isNew?1:-1);Ve(Le=>[...Le,{grid:be,hand:Ae,score:ge,drawCount:z}]),re(J),St(!0),setTimeout(()=>St(!1),200);let Fe=0,Ze=!1;if(ie.forEach(Le=>{Le.cells.forEach(ot=>{const pn=Nr(ot.r,ot.c),Rn=K.some(In=>In.r===ot.r&&In.c===ot.c);pn&&Rn&&(Fe+=pn.val),Q.some(In=>In.r===ot.r&&In.c===ot.c)&&(Ze=!0)})}),Fe>0){const ot=mt.slice(z,z+Fe).map(pn=>Th(pn,!0));Me(pn=>[...pn,...ot].sort((In,ri)=>In.letter!==ri.letter?In.letter.localeCompare(ri.letter):In.isNew===ri.isNew?0:In.isNew?1:-1)),V(pn=>pn+Fe)}if(Ze){const Le=Th("*",!0);Me(ot=>[...ot,Le].sort((Rn,In)=>Rn.letter!==In.letter?Rn.letter.localeCompare(In.letter):Rn.isNew===In.isNew?0:Rn.isNew?1:-1))}if(Fe>0||Ze){const Le=Ze?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${Fe} Bonus Tiles!`;wt({text:Le,type:"success"})}else wt({text:"Valid move!",type:"success"});let Pe=ge-1;const pt=j[0].length;K.forEach(Le=>{Le.c>Pe&&(Pe=Le.c)});for(let Le=0;Le<ra;Le++)for(let ot=0;ot<pt;ot++)J[Le]&&J[Le][ot]&&ot>Pe&&(Pe=ot);Ne(Pe+1),Ee([]),ci(!1),P(null)},Ki=()=>Me(J=>[...J].sort(()=>Math.random()-.5)),yr=()=>Me(J=>[...J].sort((ie,be)=>ie.letter!==be.letter?ie.letter.localeCompare(be.letter):ie.isNew===be.isNew?0:ie.isNew?1:-1)),en=F.reduce((J,ie)=>(J[ie.letter]||(J[ie.letter]=[]),J[ie.letter].push(ie),J),{}),Ln=Array.from(new Set(F.map(J=>J.letter))),ut=Ln.length>=6,ii=Math.ceil(Ln.length/2),Vn=ut?Ln.slice(0,ii):Ln,ua=ut?Ln.slice(ii):[],ca=({letter:J})=>{const ie=en[J]||[],be=ie.length,ve=ie[be-1],Ae=ve&&ye===ve.id,Fe=Math.min(be,15),Ze=6,Pe=40+(Fe>1?(Fe-1)*Ze:0);return L.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${Pe}px`},children:[[...Array(Fe-1)].map((pt,Le)=>{const pn=(J.charCodeAt(0)+Le)%7-3;return L.jsx("div",{className:"absolute w-10 h-10 rounded-lg border border-black/10 transition-all shadow-md",style:{backgroundColor:"#e5e7eb",bottom:`${Le*Ze}px`,zIndex:Le,transform:`rotate(${pn}deg)`}},Le)}),L.jsxs("button",{draggable:!C&&r==="playing",onDragStart:pt=>Yr(pt,{type:"hand",tile:ve}),onClick:()=>Xi(ve.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${r==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(Fe-1)*Ze}px`,zIndex:Fe,backgroundColor:Ae?Et.accentPrimary:J==="*"?Et.tileTemp:"white",color:Ae?"white":Et.textMain,transform:Ae?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Ae?0:J.charCodeAt(0)%5-2}deg)`},children:[ve&&ve.isNew&&L.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),J==="*"?L.jsx(ph,{size:20,fill:Et.starPurple,className:"text-purple-500"}):J]})]})};return r==="menu"?L.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:Et.background,color:Et.textMain},children:[L.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch relative",children:[L.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[L.jsx(Y_,{}),L.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[L.jsx("span",{children:"Refreshed Daily"}),L.jsx(ym,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),L.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[L.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:Et.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."}),L.jsxs("div",{className:"bg-red-50 text-red-800 text-xs font-bold px-3 py-1 rounded-full border border-red-200 mt-2",children:["Today's Par: ",zn,"m"]})]})]}),L.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[L.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:Et.textSub},children:"Enter your name"}),L.jsx("input",{type:"text",value:l,onChange:J=>c(J.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:Et.textMain,borderColor:"transparent"},onFocus:J=>J.target.style.borderColor=Et.accentPrimary,onBlur:J=>J.target.style.borderColor="transparent"})]}),L.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center",children:[L.jsxs("button",{onClick:()=>pr("standard"),className:"flex-1 py-4 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:Et.accentPrimary},children:["Play ",L.jsx(RT,{size:20,fill:"currentColor"})]}),L.jsxs("button",{onClick:()=>pr("quick"),className:"flex-1 py-4 bg-blue-500 text-white rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2",children:["Quick ",L.jsx("span",{className:"text-xs bg-blue-600 px-1.5 py-0.5 rounded text-blue-100",children:"25m"})]})]}),L.jsxs("div",{className:"flex flex-col items-center gap-3 mt-8 w-full",children:[L.jsxs("div",{className:"flex flex-row items-center justify-center gap-4",children:[L.jsx("button",{onClick:()=>w(!0),className:"group flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-full text-gray-500 font-bold text-xs hover:bg-gray-200 transition-colors shadow-sm whitespace-nowrap",title:"Updates",children:L.jsx(d0,{size:14})}),L.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-gray-600 border-b border-gray-300 hover:border-gray-500 transition-colors pb-0.5 whitespace-nowrap",children:"By Richard Bolland"}),L.jsx("span",{className:"text-gray-300",children:"|"}),L.jsxs("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap",children:[L.jsx(_T,{size:14,className:"fill-pink-600"}),L.jsx("span",{children:"Tip Jar"})]})]}),L.jsx("span",{className:"text-[10px] text-gray-400 text-center max-w-xs leading-tight",children:"Help cover server costs & keep the game running."})]}),L.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:L.jsx(Om,{user:Je,lastUpdated:ke,initialMode:"standard",onParCalculated:Ii})})]}),L.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:L.jsx(Om,{user:Je,lastUpdated:ke,initialMode:"standard",onParCalculated:Ii})}),E&&L.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:L.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full border border-white/50",children:[L.jsxs("div",{className:"flex justify-between items-center mb-6",children:[L.jsxs("h3",{className:"text-xl font-black text-gray-800 uppercase flex items-center gap-2",children:[L.jsx(d0,{size:20})," What's New"]}),L.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:L.jsx(vm,{size:24})})]}),L.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[L.jsxs("div",{className:"border-l-2 border-green-500 pl-3",children:[L.jsx("div",{className:"text-xs font-bold text-green-600 uppercase",children:"v5.80"}),L.jsx("div",{className:"font-bold text-gray-800",children:"In-Game Settings"}),L.jsx("p",{className:"text-xs text-gray-500",children:"Settings moved to game screen, name sync fixed, improved fan toggle."})]}),L.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[L.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v5.70"}),L.jsx("div",{className:"font-bold text-gray-800",children:"Dynamic Par"}),L.jsx("p",{className:"text-xs text-gray-500",children:"Par line adapts to daily player scores."})]}),L.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[L.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v5.60"}),L.jsx("div",{className:"font-bold text-gray-800",children:"Quick Mode"}),L.jsx("p",{className:"text-xs text-gray-500",children:"New 25m fast-paced mode added."})]}),L.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[L.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v5.50"}),L.jsx("div",{className:"font-bold text-gray-800",children:"Wildcards & Obstacles"}),L.jsx("p",{className:"text-xs text-gray-500",children:"Purple sparkles grant wildcards. Rock obstacles added."})]}),L.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[L.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v5.40"}),L.jsx("div",{className:"font-bold text-gray-800",children:"Leaderboards"}),L.jsx("p",{className:"text-xs text-gray-500",children:"Daily and Weekly high scores added."})]})]}),L.jsx("button",{onClick:()=>w(!1),className:"w-full mt-6 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold uppercase tracking-widest hover:bg-gray-200 transition-all",children:"Close"})]})})]}):L.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative",style:{backgroundColor:Et.background,color:Et.textMain},children:[r==="gameOver"&&!Xe&&L.jsxs("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6",children:[L.jsx(hM,{}),L.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex flex-col justify-center lg:h-[600px] z-[101] relative",children:[L.jsx("div",{className:"w-48 h-16 mx-auto mb-4",children:L.jsx("h1",{className:"text-4xl font-black tracking-tight text-black uppercase drop-shadow-sm",children:"Long Jump"})}),L.jsx("h3",{className:"text-2xl font-bold mb-8 tracking-widest uppercase",style:{color:Et.accentPrimary},children:"Complete"}),L.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[L.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:Et.textSub},children:"Athlete"}),L.jsx("div",{className:"text-3xl font-black mb-6",style:{color:Et.textMain},children:l}),L.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:Et.textSub},children:"Distance"}),L.jsxs("div",{className:"text-6xl font-black",style:{color:Et.accentSecondary},children:[He,"m"]})]}),L.jsx("div",{className:"flex gap-2 mb-3",children:L.jsx("button",{onClick:Rs,className:"flex-1 py-3 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300",children:Ot?L.jsxs(L.Fragment,{children:[L.jsx(sT,{size:20})," Copied"]}):L.jsxs(L.Fragment,{children:[L.jsx(PT,{size:20})," Share Result"]})})}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{onClick:Gr,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg mt-auto",style:{backgroundColor:"#111827"},children:"Play Again"}),L.jsx("button",{onClick:()=>ct(!0),className:"flex-none px-4 py-4 bg-white border-2 border-gray-200 rounded-xl text-gray-700 hover:bg-gray-50 shadow-sm transition-all flex items-center justify-center",title:"View Board",children:L.jsx(yT,{size:24})})]})]}),L.jsx("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative",children:L.jsx(Om,{highlightName:l,user:Je,onRankFound:bt,lastUpdated:ke,initialMode:i,onParCalculated:Ii})})]}),W&&L.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:L.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[L.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),L.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(E1).filter(J=>J!=="*").map(J=>L.jsx("button",{onClick:()=>Oi(J),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:Et.textMain},children:J},J))}),L.jsx("button",{onClick:()=>{me(!1),Qe(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),(Gi||Gt)&&L.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:L.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[L.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:L.jsx(rT,{size:48,style:{color:Et.accentPrimary}})}),L.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"Game Rules"}),L.jsxs("div",{className:"text-left text-gray-600 mb-6 text-sm space-y-3",children:[L.jsxs("p",{className:"flex gap-2",children:[L.jsx("span",{className:"font-bold text-black",children:""}),L.jsxs("span",{children:["This is a ",L.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),L.jsxs("p",{className:"flex gap-2",children:[L.jsx("span",{className:"font-bold text-black",children:""}),L.jsxs("span",{children:["Place words ",L.jsx("strong",{children:"Left to Right"})," or ",L.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),L.jsxs("p",{className:"flex gap-2",children:[L.jsx("span",{className:"font-bold text-black",children:""}),L.jsxs("span",{children:["Minimum ",L.jsx("strong",{children:"2 letter"})," words."]})]}),L.jsxs("p",{className:"flex gap-2",children:[L.jsx("span",{className:"font-bold text-black",children:""}),L.jsxs("span",{children:["Start in ",L.jsx("strong",{children:"Column 1"})," (left)."]})]}),L.jsxs("p",{className:"flex gap-2 items-center",children:[L.jsx(ym,{size:16,className:"text-yellow-500 fill-yellow-500"}),L.jsxs("span",{children:[L.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),L.jsxs("p",{className:"flex gap-2 items-center",children:[L.jsx(ph,{size:16,className:"text-purple-500 fill-purple-500"}),L.jsxs("span",{children:[L.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]})]}),L.jsx("button",{onClick:()=>{Kn(!1),Tn(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:Et.accentPrimary},children:Gi?"Let's Jump!":"Close"})]})}),sn&&L.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:L.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[L.jsx("div",{className:"flex justify-center mb-4",children:L.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:L.jsx(TT,{size:32,className:"text-red-500"})})}),L.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Exit Game?"}),L.jsx("p",{className:"text-gray-500 mb-8",children:"Are you sure you want to quit? You will lose your current progress."}),L.jsxs("div",{className:"flex gap-3",children:[L.jsx("button",{onClick:()=>dn(!1),className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),L.jsx("button",{onClick:Mr,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600",children:"Exit"})]})]})}),Zt&&L.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:L.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[L.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),L.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",L.jsx("strong",{style:{color:Et.accentPrimary},children:ge}),". This will end your current run."]}),L.jsxs("div",{className:"flex gap-3",children:[L.jsx("button",{onClick:Jn,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),L.jsx("button",{onClick:vn,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:Et.accentPrimary},children:"Confirm"})]})]})}),p&&L.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:L.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full border border-white/50",children:[L.jsxs("div",{className:"flex justify-between items-center mb-6",children:[L.jsx("h3",{className:"text-xl font-black text-gray-800 uppercase",children:"Settings"}),L.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:L.jsx(vm,{size:24})})]}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Username"}),L.jsx("input",{type:"text",value:l,onChange:J=>c(J.target.value),maxLength:12,className:"w-full bg-gray-100 border border-transparent focus:bg-white focus:border-blue-500 px-4 py-3 rounded-xl font-bold text-gray-800 outline-none transition-all"})]}),L.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[L.jsxs("div",{className:"flex flex-col",children:[L.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Crowd Fans"}),L.jsx("span",{className:"text-[10px] text-gray-400",children:"Animated cheer squad on the board"})]}),L.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[L.jsx("input",{type:"checkbox",className:"sr-only peer",checked:x,onChange:()=>U(!x)}),L.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]})]}),L.jsx("button",{onClick:()=>b(!1),className:"w-full mt-8 py-3 bg-gray-900 text-white rounded-xl font-bold uppercase tracking-widest hover:scale-105 transition-all",children:"Save & Close"})]})}),L.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50",children:[L.jsxs("div",{className:"flex flex-col items-start",children:[L.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),Cn&&L.jsxs("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap",children:[L.jsx("span",{className:"text-gray-400 font-bold uppercase tracking-widest",children:i==="quick"?"Quick Leader":"Standard Leader"}),L.jsx(km,{size:12,className:"text-yellow-500 fill-yellow-500"}),L.jsx("span",{className:"font-bold text-gray-700",children:Cn.name}),L.jsxs("span",{className:"font-mono text-gray-400",children:[Cn.score,"m"]})]}),L.jsxs("div",{className:"block md:hidden",children:[ge>0&&r==="playing"&&L.jsxs("button",{onClick:Yi,disabled:C||En,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",L.jsx(m0,{size:10,style:{color:Et.starGold}})]}),r==="gameOver"&&Xe&&L.jsxs("button",{onClick:()=>ct(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:Et.accentPrimary,color:"white"},children:[L.jsx(f0,{size:12})," RESULTS"]})]})]}),L.jsxs("div",{className:"flex flex-col items-center flex-1",children:[L.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:sr,children:L.jsx(Y_,{})}),L.jsxs("div",{className:"hidden md:block mt-6",children:[r==="playing"&&ge>0&&L.jsxs("button",{onClick:Yi,disabled:C||En,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",L.jsx(m0,{size:10,style:{color:Et.starGold}})]}),r==="gameOver"&&Xe&&L.jsxs("button",{onClick:()=>ct(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:Et.accentPrimary},children:[L.jsx(f0,{size:14})," BACK TO RESULTS"]})]})]}),L.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[L.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:Et.accentPrimary},children:l||"PLAYER 1"}),L.jsxs("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:Et.accentPrimary},children:[L.jsx(NT,{size:16})," ",He,"m"]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsxs("button",{onClick:()=>Tn(!0),className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 uppercase tracking-widest flex items-center gap-1",children:["Rules ",L.jsx(wT,{size:12})]}),L.jsx("button",{onClick:()=>b(!0),className:"text-gray-400 hover:text-gray-600",children:L.jsx(VT,{size:14})})]})]})]}),L.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:qa,onMouseLeave:la,onMouseUp:or,onMouseMove:Mi,children:L.jsx("div",{ref:nn,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${On?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"},children:L.jsxs("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area",children:[L.jsx("div",{className:"absolute top-0 bottom-0 border-r-2 border-red-400 border-dashed z-20 pointer-events-none opacity-60",style:{left:`${zn*_a}px`},children:L.jsx("span",{className:"absolute top-[-20px] right-0 translate-x-1/2 text-red-500 text-[10px] font-black tracking-widest",children:"PAR"})}),L.jsx("div",{className:"flex relative mb-3",style:{width:`${j[0].length*_a}px`,height:"24px"},children:Array(j[0].length).fill(0).map((J,ie)=>{const be=ie===0,ve=(ie+1)%5===0;if(!be&&!ve)return null;const Ae=ge<3;return L.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:ie*_a+_a/2,transform:`translateX(-50%) ${be&&Ae?"translateY(-45px)":"translateY(0)"}`},children:[L.jsx("span",{className:`text-xs tracking-wider ${be?"text-black font-black":"text-gray-400"}`,children:be?"START":`${ie+1}m`}),L.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${be?"bg-black":"bg-gray-300"}`})]},`ruler-${ie}`)})}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:x&&G.filter(J=>J.type==="top").map((J,ie)=>{const be=Math.max(J.startCol,ge+J.offset);return L.jsx("div",{className:"absolute -top-[55px]",style:{left:`${be*_a}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:L.jsx(X_,{trigger:ft})},`fan-top-${J.id}`)})}),L.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${j[0].length}, ${_a}px)`,gridTemplateRows:`repeat(${ra}, ${_a}px)`,backgroundColor:Et.boardBackground,borderColor:Et.boardLines},children:Array(ra).fill(0).map((J,ie)=>Array(j[0].length).fill(0).map((be,ve)=>{const Ae=Ga(ie,ve),Fe=Nr(ie,ve),Ze=Aa(ie,ve),Pe=Q.some(xn=>xn.r===ie&&xn.c===ve),Le=ve===0&&!Ae&&!ar,ot=Ae?.type==="locked",pn=(ve+1)%5===0,Rn=ve<He,In=we&&we.r===ie&&we.c===ve,ri=C&&ot?"animate-jump-green":"";return L.jsxs("div",{onClick:()=>Pn(ie,ve),onDragOver:Ti,onDrop:xn=>Vi(xn,ie,ve),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${Ae?Ae.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Ze?"cursor-not-allowed":"hover:bg-white/20"}  ${Ae?.type==="temp"?`bg-[${Et.tileTemp}] ring-2 ring-[${Et.tileTempRing}] -translate-y-[2px] z-10`:""} ${!Ae&&!Ze&&Rn?"bg-white/20":ve===0&&!Ae?"bg-green-100/40":!Ae&&!Ze&&!Le&&(ie+ve)%2===0?"bg-black/5":"bg-transparent"} ${In?"ring-4 ring-blue-400 z-20":""} ${!Ae&&In?"bg-blue-50/20":""} ${!Ae&&pn?"border-r-2 border-r-black/10":"border border-black/5"} ${Rn?"animate-pop-green":""} ${ri}`,style:ot?{backgroundColor:Rn?Et.overlayComplete:Et.tileLocked,color:Et.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:C?`${ve*50}ms`:"0ms"}:Ae?.type==="temp"?{backgroundColor:Ae.isWild?Et.tileWildPlaced:Et.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Ze?{backgroundColor:Et.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!Ae&&Le&&L.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:L.jsx(fT,{size:20,style:{color:Et.startArrow}})}),!Ae&&Ze&&L.jsx("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Ae&&Fe&&!Ze&&!Pe&&L.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[L.jsx(ym,{className:"w-6 h-6",fill:Et.starGold,stroke:Et.starGold}),L.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",Fe.val]})]}),!Ae&&Pe&&!Ze&&L.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:L.jsx(ph,{className:"w-7 h-7",fill:Et.starPurple,stroke:Et.starPurple})}),Ae&&L.jsxs("div",{draggable:Ae.type==="temp"&&!C&&r==="playing",onDragStart:xn=>Yr(xn,{type:"board",r:ie,c:ve,letter:Ae.letter}),className:`w-full h-full flex items-center justify-center ${Ae.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:[L.jsx("span",{className:"text-2xl font-bold select-none font-mono",children:Ae.letter}),Ae.isWild&&L.jsx(ph,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})]})]},`${ie}-${ve}`)}))}),L.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:x&&G.filter(J=>J.type==="bottom").map((J,ie)=>{const be=Math.max(J.startCol,ge+J.offset);return L.jsx("div",{className:"absolute -bottom-[35px]",style:{left:`${be*_a}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:L.jsx(X_,{trigger:ft})},`fan-bottom-${J.id}`)})})]}),v&&L.jsx("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none",children:L.jsxs("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative",children:[L.jsx("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),L.jsx(cT,{size:16}),"Start Here!"]})})]})})}),L.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50",children:[L.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[L.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${Nt.type==="error"?"bg-red-100 text-red-700":Nt.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[L.jsx("span",{children:En?"Checking...":Nt.text}),Nt.type==="error"&&Nt.invalidWord&&L.jsxs("a",{href:`mailto:richard@studiobo.io?subject=Report Valid Word: ${Nt.invalidWord}&body=The word "${Nt.invalidWord}" should be valid.`,className:"ml-2 bg-red-200 hover:bg-red-300 text-red-800 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors",children:["Report ",L.jsx(ST,{size:10})]})]}),L.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[L.jsx("button",{onClick:Ye,disabled:C||Re.length===0||r!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",title:"Undo last move",children:L.jsx(xT,{size:16})}),L.jsxs("button",{onClick:Ki,disabled:C||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[L.jsx(UT,{size:16})," Shuffle"]}),L.jsxs("button",{onClick:yr,disabled:C||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[L.jsx(tT,{size:16})," Sort A-Z"]}),K.length>0&&L.jsxs("button",{onClick:Sa,disabled:En||C||r!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${En||C?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:En||C?{}:{backgroundColor:Et.accentPrimary,color:"white"},children:[En?"Checking...":"JUMP"," ",L.jsx(lT,{size:18,strokeWidth:4})]}),K.length>0&&L.jsx("button",{onClick:()=>{const ie=K.map(be=>be.isWild?"*":be.letter).map(be=>Th(be,!1));Me(be=>[...be,...ie].sort((ve,Ae)=>ve.letter!==Ae.letter?ve.letter.localeCompare(Ae.letter):ve.isNew===Ae.isNew?0:ve.isNew?1:-1)),Ee([]),he(null)},disabled:C||r!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:L.jsx(vm,{size:16})})]})]}),L.jsxs("div",{onDragOver:Ti,onDrop:Qi,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:Et.boardLines},children:[Ln.length===0&&L.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),Ln.length<6?L.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ln.map(J=>L.jsx(ca,{letter:J},J))}):L.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[L.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Vn.map(J=>L.jsx(ca,{letter:J},J))}),L.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:ua.map(J=>L.jsx(ca,{letter:J},J))})]})]})]}),L.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `})]})}QE.createRoot(document.getElementById("root")).render(L.jsx(et.StrictMode,{children:L.jsx(fM,{})}));
