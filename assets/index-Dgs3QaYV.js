(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Bw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hm={exports:{}},xt={};var n0;function jw(){if(n0)return xt;n0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),q=Symbol.iterator;function te(U){return U===null||typeof U!="object"?null:(U=q&&U[q]||U["@@iterator"],typeof U=="function"?U:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oe=Object.assign,be={};function Le(U,oe,xe){this.props=U,this.context=oe,this.refs=be,this.updater=xe||z}Le.prototype.isReactComponent={},Le.prototype.setState=function(U,oe){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,oe,"setState")},Le.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=Le.prototype;function Pe(U,oe,xe){this.props=U,this.context=oe,this.refs=be,this.updater=xe||z}var tt=Pe.prototype=new j;tt.constructor=Pe,Oe(tt,Le.prototype),tt.isPureReactComponent=!0;var ft=Array.isArray;function at(){}var Y={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function P(U,oe,xe){var Ce=xe.ref;return{$$typeof:i,type:U,key:oe,ref:Ce!==void 0?Ce:null,props:xe}}function H(U,oe){return P(U.type,oe,U.props)}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===i}function L(U){var oe={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(xe){return oe[xe]})}var N=/\/+/g;function W(U,oe){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):oe.toString(36)}function ae(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(at,at):(U.status="pending",U.then(function(oe){U.status==="pending"&&(U.status="fulfilled",U.value=oe)},function(oe){U.status==="pending"&&(U.status="rejected",U.reason=oe)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function G(U,oe,xe,Ce,Ne){var Ke=typeof U;(Ke==="undefined"||Ke==="boolean")&&(U=null);var dt=!1;if(U===null)dt=!0;else switch(Ke){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(U.$$typeof){case i:case e:dt=!0;break;case x:return dt=U._init,G(dt(U._payload),oe,xe,Ce,Ne)}}if(dt)return Ne=Ne(U),dt=Ce===""?"."+W(U,0):Ce,ft(Ne)?(xe="",dt!=null&&(xe=dt.replace(N,"$&/")+"/"),G(Ne,oe,xe,"",function(kt){return kt})):Ne!=null&&(R(Ne)&&(Ne=H(Ne,xe+(Ne.key==null||U&&U.key===Ne.key?"":(""+Ne.key).replace(N,"$&/")+"/")+dt)),oe.push(Ne)),1;dt=0;var jt=Ce===""?".":Ce+":";if(ft(U))for(var ct=0;ct<U.length;ct++)Ce=U[ct],Ke=jt+W(Ce,ct),dt+=G(Ce,oe,xe,Ke,Ne);else if(ct=te(U),typeof ct=="function")for(U=ct.call(U),ct=0;!(Ce=U.next()).done;)Ce=Ce.value,Ke=jt+W(Ce,ct++),dt+=G(Ce,oe,xe,Ke,Ne);else if(Ke==="object"){if(typeof U.then=="function")return G(ae(U),oe,xe,Ce,Ne);throw oe=String(U),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return dt}function Q(U,oe,xe){if(U==null)return U;var Ce=[],Ne=0;return G(U,Ce,"","",function(Ke){return oe.call(xe,Ke,Ne++)}),Ce}function ge(U){if(U._status===-1){var oe=U._result;oe=oe(),oe.then(function(xe){(U._status===0||U._status===-1)&&(U._status=1,U._result=xe)},function(xe){(U._status===0||U._status===-1)&&(U._status=2,U._result=xe)}),U._status===-1&&(U._status=0,U._result=oe)}if(U._status===1)return U._result.default;throw U._result}var de=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ee={map:Q,forEach:function(U,oe,xe){Q(U,function(){oe.apply(this,arguments)},xe)},count:function(U){var oe=0;return Q(U,function(){oe++}),oe},toArray:function(U){return Q(U,function(oe){return oe})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return xt.Activity=O,xt.Children=Ee,xt.Component=Le,xt.Fragment=r,xt.Profiler=l,xt.PureComponent=Pe,xt.StrictMode=a,xt.Suspense=E,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,xt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return Y.H.useMemoCache(U)}},xt.cache=function(U){return function(){return U.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(U,oe,xe){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Ce=Oe({},U.props),Ne=U.key;if(oe!=null)for(Ke in oe.key!==void 0&&(Ne=""+oe.key),oe)!F.call(oe,Ke)||Ke==="key"||Ke==="__self"||Ke==="__source"||Ke==="ref"&&oe.ref===void 0||(Ce[Ke]=oe[Ke]);var Ke=arguments.length-2;if(Ke===1)Ce.children=xe;else if(1<Ke){for(var dt=Array(Ke),jt=0;jt<Ke;jt++)dt[jt]=arguments[jt+2];Ce.children=dt}return P(U.type,Ne,Ce)},xt.createContext=function(U){return U={$$typeof:p,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},xt.createElement=function(U,oe,xe){var Ce,Ne={},Ke=null;if(oe!=null)for(Ce in oe.key!==void 0&&(Ke=""+oe.key),oe)F.call(oe,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(Ne[Ce]=oe[Ce]);var dt=arguments.length-2;if(dt===1)Ne.children=xe;else if(1<dt){for(var jt=Array(dt),ct=0;ct<dt;ct++)jt[ct]=arguments[ct+2];Ne.children=jt}if(U&&U.defaultProps)for(Ce in dt=U.defaultProps,dt)Ne[Ce]===void 0&&(Ne[Ce]=dt[Ce]);return P(U,Ke,Ne)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(U){return{$$typeof:b,render:U}},xt.isValidElement=R,xt.lazy=function(U){return{$$typeof:x,_payload:{_status:-1,_result:U},_init:ge}},xt.memo=function(U,oe){return{$$typeof:w,type:U,compare:oe===void 0?null:oe}},xt.startTransition=function(U){var oe=Y.T,xe={};Y.T=xe;try{var Ce=U(),Ne=Y.S;Ne!==null&&Ne(xe,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(at,de)}catch(Ke){de(Ke)}finally{oe!==null&&xe.types!==null&&(oe.types=xe.types),Y.T=oe}},xt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},xt.use=function(U){return Y.H.use(U)},xt.useActionState=function(U,oe,xe){return Y.H.useActionState(U,oe,xe)},xt.useCallback=function(U,oe){return Y.H.useCallback(U,oe)},xt.useContext=function(U){return Y.H.useContext(U)},xt.useDebugValue=function(){},xt.useDeferredValue=function(U,oe){return Y.H.useDeferredValue(U,oe)},xt.useEffect=function(U,oe){return Y.H.useEffect(U,oe)},xt.useEffectEvent=function(U){return Y.H.useEffectEvent(U)},xt.useId=function(){return Y.H.useId()},xt.useImperativeHandle=function(U,oe,xe){return Y.H.useImperativeHandle(U,oe,xe)},xt.useInsertionEffect=function(U,oe){return Y.H.useInsertionEffect(U,oe)},xt.useLayoutEffect=function(U,oe){return Y.H.useLayoutEffect(U,oe)},xt.useMemo=function(U,oe){return Y.H.useMemo(U,oe)},xt.useOptimistic=function(U,oe){return Y.H.useOptimistic(U,oe)},xt.useReducer=function(U,oe,xe){return Y.H.useReducer(U,oe,xe)},xt.useRef=function(U){return Y.H.useRef(U)},xt.useState=function(U){return Y.H.useState(U)},xt.useSyncExternalStore=function(U,oe,xe){return Y.H.useSyncExternalStore(U,oe,xe)},xt.useTransition=function(){return Y.H.useTransition()},xt.version="19.2.3",xt}var r0;function oh(){return r0||(r0=1,hm.exports=jw()),hm.exports}var Ue=oh();const I=Bw(Ue);var dm={exports:{}},zu={},mm={exports:{}},pm={};var i0;function Fw(){return i0||(i0=1,(function(i){function e(G,Q){var ge=G.length;G.push(Q);e:for(;0<ge;){var de=ge-1>>>1,Ee=G[de];if(0<l(Ee,Q))G[de]=Q,G[ge]=Ee,ge=de;else break e}}function r(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var Q=G[0],ge=G.pop();if(ge!==Q){G[0]=ge;e:for(var de=0,Ee=G.length,U=Ee>>>1;de<U;){var oe=2*(de+1)-1,xe=G[oe],Ce=oe+1,Ne=G[Ce];if(0>l(xe,ge))Ce<Ee&&0>l(Ne,xe)?(G[de]=Ne,G[Ce]=ge,de=Ce):(G[de]=xe,G[oe]=ge,de=oe);else if(Ce<Ee&&0>l(Ne,ge))G[de]=Ne,G[Ce]=ge,de=Ce;else break e}}return Q}function l(G,Q){var ge=G.sortIndex-Q.sortIndex;return ge!==0?ge:G.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();i.unstable_now=function(){return p.now()-b}}var E=[],w=[],x=1,O=null,q=3,te=!1,z=!1,Oe=!1,be=!1,Le=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,Pe=typeof setImmediate<"u"?setImmediate:null;function tt(G){for(var Q=r(w);Q!==null;){if(Q.callback===null)a(w);else if(Q.startTime<=G)a(w),Q.sortIndex=Q.expirationTime,e(E,Q);else break;Q=r(w)}}function ft(G){if(Oe=!1,tt(G),!z)if(r(E)!==null)z=!0,at||(at=!0,L());else{var Q=r(w);Q!==null&&ae(ft,Q.startTime-G)}}var at=!1,Y=-1,F=5,P=-1;function H(){return be?!0:!(i.unstable_now()-P<F)}function R(){if(be=!1,at){var G=i.unstable_now();P=G;var Q=!0;try{e:{z=!1,Oe&&(Oe=!1,j(Y),Y=-1),te=!0;var ge=q;try{t:{for(tt(G),O=r(E);O!==null&&!(O.expirationTime>G&&H());){var de=O.callback;if(typeof de=="function"){O.callback=null,q=O.priorityLevel;var Ee=de(O.expirationTime<=G);if(G=i.unstable_now(),typeof Ee=="function"){O.callback=Ee,tt(G),Q=!0;break t}O===r(E)&&a(E),tt(G)}else a(E);O=r(E)}if(O!==null)Q=!0;else{var U=r(w);U!==null&&ae(ft,U.startTime-G),Q=!1}}break e}finally{O=null,q=ge,te=!1}Q=void 0}}finally{Q?L():at=!1}}}var L;if(typeof Pe=="function")L=function(){Pe(R)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,W=N.port2;N.port1.onmessage=R,L=function(){W.postMessage(null)}}else L=function(){Le(R,0)};function ae(G,Q){Y=Le(function(){G(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return q},i.unstable_next=function(G){switch(q){case 1:case 2:case 3:var Q=3;break;default:Q=q}var ge=q;q=Q;try{return G()}finally{q=ge}},i.unstable_requestPaint=function(){be=!0},i.unstable_runWithPriority=function(G,Q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ge=q;q=G;try{return Q()}finally{q=ge}},i.unstable_scheduleCallback=function(G,Q,ge){var de=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?de+ge:de):ge=de,G){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ge+Ee,G={id:x++,callback:Q,priorityLevel:G,startTime:ge,expirationTime:Ee,sortIndex:-1},ge>de?(G.sortIndex=ge,e(w,G),r(E)===null&&G===r(w)&&(Oe?(j(Y),Y=-1):Oe=!0,ae(ft,ge-de))):(G.sortIndex=Ee,e(E,G),z||te||(z=!0,at||(at=!0,L()))),G},i.unstable_shouldYield=H,i.unstable_wrapCallback=function(G){var Q=q;return function(){var ge=q;q=Q;try{return G.apply(this,arguments)}finally{q=ge}}}})(pm)),pm}var a0;function Hw(){return a0||(a0=1,mm.exports=Fw()),mm.exports}var gm={exports:{}},yi={};var s0;function qw(){if(s0)return yi;s0=1;var i=oh();function e(E){var w="https://react.dev/errors/"+E;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)w+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+E+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(E,w,x){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:O==null?null:""+O,children:E,containerInfo:w,implementation:x}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(E,w){if(E==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,yi.createPortal=function(E,w){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return c(E,w,null,x)},yi.flushSync=function(E){var w=p.T,x=a.p;try{if(p.T=null,a.p=2,E)return E()}finally{p.T=w,a.p=x,a.d.f()}},yi.preconnect=function(E,w){typeof E=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,a.d.C(E,w))},yi.prefetchDNS=function(E){typeof E=="string"&&a.d.D(E)},yi.preinit=function(E,w){if(typeof E=="string"&&w&&typeof w.as=="string"){var x=w.as,O=b(x,w.crossOrigin),q=typeof w.integrity=="string"?w.integrity:void 0,te=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;x==="style"?a.d.S(E,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:O,integrity:q,fetchPriority:te}):x==="script"&&a.d.X(E,{crossOrigin:O,integrity:q,fetchPriority:te,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},yi.preinitModule=function(E,w){if(typeof E=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var x=b(w.as,w.crossOrigin);a.d.M(E,{crossOrigin:x,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&a.d.M(E)},yi.preload=function(E,w){if(typeof E=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var x=w.as,O=b(x,w.crossOrigin);a.d.L(E,x,{crossOrigin:O,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},yi.preloadModule=function(E,w){if(typeof E=="string")if(w){var x=b(w.as,w.crossOrigin);a.d.m(E,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:x,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else a.d.m(E)},yi.requestFormReset=function(E){a.d.r(E)},yi.unstable_batchedUpdates=function(E,w){return E(w)},yi.useFormState=function(E,w,x){return p.H.useFormState(E,w,x)},yi.useFormStatus=function(){return p.H.useHostTransitionStatus()},yi.version="19.2.3",yi}var o0;function Gw(){if(o0)return gm.exports;o0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=qw(),gm.exports}var l0;function Yw(){if(l0)return zu;l0=1;var i=Hw(),e=oh(),r=Gw();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(c(t)!==t)throw Error(a(188))}function w(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return E(f),t;if(m===o)return E(f),n;m=m.sibling}throw Error(a(188))}if(s.return!==o.return)s=f,o=m;else{for(var T=!1,M=f.child;M;){if(M===s){T=!0,s=f,o=m;break}if(M===o){T=!0,o=f,s=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===s){T=!0,s=m,o=f;break}if(M===o){T=!0,o=m,s=f;break}M=M.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var O=Object.assign,q=Symbol.for("react.element"),te=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),Pe=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function W(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oe:return"Fragment";case Le:return"Profiler";case be:return"StrictMode";case ft:return"Suspense";case at:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case Pe:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:W(t.type)||"Memo";case F:n=t._payload,t=t._init;try{return W(t(n))}catch{}}return null}var ae=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},de=[],Ee=-1;function U(t){return{current:t}}function oe(t){0>Ee||(t.current=de[Ee],de[Ee]=null,Ee--)}function xe(t,n){Ee++,de[Ee]=t.current,t.current=n}var Ce=U(null),Ne=U(null),Ke=U(null),dt=U(null);function jt(t,n){switch(xe(Ke,n),xe(Ne,t),xe(Ce,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Sv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Sv(n),t=Cv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(Ce),xe(Ce,t)}function ct(){oe(Ce),oe(Ne),oe(Ke)}function kt(t){t.memoizedState!==null&&xe(dt,t);var n=Ce.current,s=Cv(n,t.type);n!==s&&(xe(Ne,t),xe(Ce,s))}function Ft(t){Ne.current===t&&(oe(Ce),oe(Ne)),dt.current===t&&(oe(dt),Vu._currentValue=ge)}var pt,wt;function sn(t){if(pt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);pt=n&&n[1]||"",wt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pt+t+wt}var Yt=!1;function Kn(t,n){if(!t||Yt)return"";Yt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(ye){var he=ye}Reflect.construct(t,[],Re)}else{try{Re.call()}catch(ye){he=ye}t.call(Re.prototype)}}else{try{throw Error()}catch(ye){he=ye}(Re=t())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(ye){if(ye&&he&&typeof ye.stack=="string")return[ye.stack,he.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var X=T.split(`
`),ce=M.split(`
`);for(f=o=0;o<X.length&&!X[o].includes("DetermineComponentFrameRoot");)o++;for(;f<ce.length&&!ce[f].includes("DetermineComponentFrameRoot");)f++;if(o===X.length||f===ce.length)for(o=X.length-1,f=ce.length-1;1<=o&&0<=f&&X[o]!==ce[f];)f--;for(;1<=o&&0<=f;o--,f--)if(X[o]!==ce[f]){if(o!==1||f!==1)do if(o--,f--,0>f||X[o]!==ce[f]){var _e=`
`+X[o].replace(" at new "," at ");return t.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",t.displayName)),_e}while(1<=o&&0<=f);break}}}finally{Yt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?sn(s):""}function Ar(t,n){switch(t.tag){case 26:case 27:case 5:return sn(t.type);case 16:return sn("Lazy");case 13:return t.child!==n&&n!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return Kn(t.type,!1);case 11:return Kn(t.type.render,!1);case 1:return Kn(t.type,!0);case 31:return sn("Activity");default:return""}}function fn(t){try{var n="",s=null;do n+=Ar(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var it=Object.prototype.hasOwnProperty,Lt=i.unstable_scheduleCallback,hn=i.unstable_cancelCallback,Xt=i.unstable_shouldYield,vt=i.unstable_requestPaint,Nt=i.unstable_now,Rt=i.unstable_getCurrentPriorityLevel,En=i.unstable_ImmediatePriority,C=i.unstable_UserBlockingPriority,g=i.unstable_NormalPriority,_=i.unstable_LowPriority,V=i.unstable_IdlePriority,Z=i.log,me=i.unstable_setDisableYieldValue,Se=null,Ye=null;function st(t){if(typeof Z=="function"&&me(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Se,t)}catch{}}var De=Math.clz32?Math.clz32:Un,_t=Math.log,Ht=Math.LN2;function Un(t){return t>>>=0,t===0?32:31-(_t(t)/Ht|0)|0}var Ut=256,$n=262144,qt=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nn(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?f=In(o):(T&=M,T!==0?f=In(T):s||(s=M&~t,s!==0&&(f=In(s))))):(M=o&~m,M!==0?f=In(M):T!==0?f=In(T):s||(s=o&~t,s!==0&&(f=In(s)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,s=n&-n,m>=s||m===32&&(s&4194048)!==0)?n:f}function Dn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $e(){var t=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),t}function Xn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function tr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function At(t,n,s,o,f,m){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var M=t.entanglements,X=t.expirationTimes,ce=t.hiddenUpdates;for(s=T&~s;0<s;){var _e=31-De(s),Re=1<<_e;M[_e]=0,X[_e]=-1;var he=ce[_e];if(he!==null)for(ce[_e]=null,_e=0;_e<he.length;_e++){var ye=he[_e];ye!==null&&(ye.lane&=-536870913)}s&=~Re}o!==0&&Wn(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Wn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-De(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function aa(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-De(s),f=1<<o;f&n|t[o]&n&&(t[o]|=n),s&=~f}}function Nr(t,n){var s=n&-n;return s=(s&42)!==0?1:wi(s),(s&(t.suspendedLanes|n))!==0?0:s}function wi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oa(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Qv(t.type))}function Ni(t,n){var s=Q.p;try{return Q.p=t,n()}finally{Q.p=s}}var Br=Math.random().toString(36).slice(2),gn="__reactFiber$"+Br,Jn="__reactProps$"+Br,ii="__reactContainer$"+Br,Di="__reactEvents$"+Br,ai="__reactListeners$"+Br,ka="__reactHandles$"+Br,Ti="__reactResources$"+Br,jr="__reactMarker$"+Br;function dr(t){delete t[gn],delete t[Jn],delete t[Di],delete t[ai],delete t[ka]}function Ai(t){var n=t[gn];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ii]||s[gn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ov(t);t!==null;){if(s=t[gn])return s;t=Ov(t)}return n}t=s,s=t.parentNode}return null}function Fr(t){if(t=t[gn]||t[ii]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Hr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Dr(t){var n=t[Ti];return n||(n=t[Ti]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zn(t){t[jr]=!0}var Sr=new Set,Cr={};function Rr(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(Cr[t]=n,t=0;t<n.length;t++)Sr.add(n[t])}var Ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sa={},Va={};function Za(t){return it.call(Va,t)?!0:it.call(sa,t)?!1:Ja.test(t)?Va[t]=!0:(sa[t]=!0,!1)}function oi(t,n,s){if(Za(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Wt(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function dn(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function li(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oi(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){s=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function on(t){if(!t._valueTracker){var n=li(t)?"checked":"value";t._valueTracker=Oi(t,n,""+t[n])}}function mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=li(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function mt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nr=/[\n"\\]/g;function On(t){return t.replace(nr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function wa(t,n,s,o,f,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fn(n)):t.value!==""+Fn(n)&&(t.value=""+Fn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Pa(t,T,Fn(n)):s!=null?Pa(t,T,Fn(s)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Fn(M):t.removeAttribute("name")}function es(t,n,s,o,f,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){on(t);return}s=s!=null?""+Fn(s):"",n=n!=null?""+Fn(n):s,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),on(t)}function Pa(t,n,s){n==="number"&&mt(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function yn(t,n,s,o){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Fn(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function oa(t,n,s){if(n!=null&&(n=""+Fn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Fn(s):""}function ki(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ae(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Fn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),on(t)}function rr(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var ui=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ta(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||ui.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function qr(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&Ta(t,f,o)}else for(var m in n)n.hasOwnProperty(m)&&Ta(t,m,n[m])}function la(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ua=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Si=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(t){return Si.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gr(){}var Aa=null;function ci(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,Yr=null;function Xr(t){var n=Fr(t);if(n&&(t=n.stateNode)){var s=t[Jn]||null;e:switch(t=n.stateNode,n.type){case"input":if(wa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+On(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var f=o[Jn]||null;if(!f)throw Error(a(90));wa(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&mr(o)}break e;case"textarea":oa(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&yn(t,!!s.multiple,n,!1)}}}var Qi=!1;function Wr(t,n,s){if(Qi)return t(n,s);Qi=!0;try{var o=t(n);return o}finally{if(Qi=!1,(fi!==null||Yr!==null)&&($c(),fi&&(n=fi,t=Yr,Yr=fi=null,Xr(n),t)))for(n=0;n<t.length;n++)Xr(t[n])}}function Ir(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Jn]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vi=!1;if(lr)try{var It={};Object.defineProperty(It,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{Vi=!1}var pr=null,Or=null,Pi=null;function ca(){if(Pi)return Pi;var t,n=Or,s=n.length,o,f="value"in pr?pr.value:pr.textContent,m=f.length;for(t=0;t<s&&n[t]===f[t];t++);var T=s-t;for(o=1;o<=T&&n[s-o]===f[m-o];o++);return Pi=f.slice(t,1<o?1-o:void 0)}function Ki(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function hi(){return!1}function ar(t){function n(s,o,f,m,T){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(s=t[M],this[M]=s?s(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ir:hi,this.isPropagationStopped=hi,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),n}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=ar(di),Ui=O({},di,{view:0,detail:0}),K=ar(Ui),ie,we,ve,Te=O({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ve&&(ve&&t.type==="mousemove"?(ie=t.screenX-ve.screenX,we=t.screenY-ve.screenY):we=ie=0,ve=t),ie)},movementY:function(t){return"movementY"in t?t.movementY:we}}),Fe=ar(Te),qe=O({},Te,{dataTransfer:0}),ze=ar(qe),Ge=O({},Ui,{relatedTarget:0}),ut=ar(Ge),Qe=O({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),Vt=ar(Qe),Qt=O({},di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kr=ar(Qt),mi=O({},di,{data:0}),gr=ar(mi),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Os(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function La(){return Os}var Qr=O({},Ui,{key:function(t){if(t.key){var n=Ds[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ki(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(t){return t.type==="keypress"?Ki(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ki(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),So=ar(Qr),Zo=O({},Te,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=ar(Zo),u=O({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),y=ar(u),A=O({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=ar(A),se=O({},Te,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pe=ar(se),Be=O({},di,{newState:0,oldState:0}),St=ar(Be),Zn=[9,13,27,32],mn=lr&&"CompositionEvent"in window,Bn=null;lr&&"documentMode"in document&&(Bn=document.documentMode);var pi=lr&&"TextEvent"in window&&!Bn,zi=lr&&(!mn||Bn&&8<Bn&&11>=Bn),Bi=" ",Ci=!1;function fa(t,n){switch(t){case"keyup":return Zn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ts(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ns=!1;function Ch(t,n){switch(t){case"compositionend":return ts(n);case"keypress":return n.which!==32?null:(Ci=!0,Bi);case"textInput":return t=n.data,t===Bi&&Ci?null:t;default:return null}}function _c(t,n){if(ns)return t==="compositionend"||!mn&&fa(t,n)?(t=ca(),Pi=Or=pr=null,ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return zi&&n.locale!=="ko"?null:n.data;default:return null}}var el={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!el[t.type]:n==="textarea"}function Hn(t,n,s,o){fi?Yr?Yr.push(o):Yr=[o]:fi=o,n=af(n,"onChange"),0<n.length&&(s=new Li("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Ri=null,rs=null;function bc(t){_v(t,0)}function Co(t){var n=Hr(t);if(mr(n))return t}function iu(t,n){if(t==="change")return n}var au=!1;if(lr){var ks;if(lr){var tl="oninput"in document;if(!tl){var h=document.createElement("div");h.setAttribute("oninput","return;"),tl=typeof h.oninput=="function"}ks=tl}else ks=!1;au=ks&&(!document.documentMode||9<document.documentMode)}function d(){Ri&&(Ri.detachEvent("onpropertychange",v),rs=Ri=null)}function v(t){if(t.propertyName==="value"&&Co(rs)){var n=[];Hn(n,rs,t,ci(t)),Wr(bc,n)}}function S(t,n,s){t==="focusin"?(d(),Ri=n,rs=s,Ri.attachEvent("onpropertychange",v)):t==="focusout"&&d()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(rs)}function B(t,n){if(t==="click")return Co(n)}function J(t,n){if(t==="input"||t==="change")return Co(n)}function ee(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fe=typeof Object.is=="function"?Object.is:ee;function ue(t,n){if(fe(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!it.call(n,f)||!fe(t[f],n[f]))return!1}return!0}function Ve(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Je(t,n){var s=Ve(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ve(s)}}function ot(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ot(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ne(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mt(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=mt(t.document)}return n}function je(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var nt=lr&&"documentMode"in document&&11>=document.documentMode,He=null,vn=null,Ze=null,zt=!1;function Sn(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zt||He==null||He!==mt(o)||(o=He,"selectionStart"in o&&je(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ze&&ue(Ze,o)||(Ze=o,o=af(vn,"onSelect"),0<o.length&&(n=new Li("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=He)))}function ur(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ji={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},Gt={},$i={};lr&&($i=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function is(t){if(Gt[t])return Gt[t];if(!ji[t])return t;var n=ji[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in $i)return Gt[t]=n[s];return t}var ke=is("animationend"),We=is("animationiteration"),Bt=is("animationstart"),Zt=is("transitionrun"),Dt=is("transitionstart"),Kt=is("transitioncancel"),un=is("transitionend"),pn=new Map,Ii="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ii.push("scrollEnd");function Cn(t,n){pn.set(t,n),Rr(n,[t])}var Kr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],as=0,nl=0;function Ua(){for(var t=as,n=nl=as=0;n<t;){var s=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var f=wn[n];wn[n++]=null;var m=wn[n];if(wn[n++]=null,o!==null&&f!==null){var T=o.pending;T===null?f.next=f:(f.next=T.next,T.next=f),o.pending=f}m!==0&&su(s,f,m)}}function za(t,n,s,o){wn[as++]=t,wn[as++]=n,wn[as++]=s,wn[as++]=o,nl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ca(t,n,s,o){return za(t,n,s,o),Ro(t)}function xi(t,n){return za(t,null,null,n),Ro(t)}function su(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&n!==null&&(f=31-De(s),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=s|536870912),m):null}function Ro(t){if(50<Iu)throw Iu=0,Pd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ji={};function Rh(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(t,n,s,o){return new Rh(t,n,s,o)}function Ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,n){var s=t.alternate;return s===null?(s=gi(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function tg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ec(t,n,s,o,f,m){var T=0;if(o=t,typeof t=="function")Ih(t)&&(T=1);else if(typeof t=="string")T=Iw(t,s,Ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=gi(31,s,n,f),t.elementType=P,t.lanes=m,t;case Oe:return Io(s.children,f,m,n);case be:T=8,f|=24;break;case Le:return t=gi(12,s,n,f|2),t.elementType=Le,t.lanes=m,t;case ft:return t=gi(13,s,n,f),t.elementType=ft,t.lanes=m,t;case at:return t=gi(19,s,n,f),t.elementType=at,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pe:T=10;break e;case j:T=9;break e;case tt:T=11;break e;case Y:T=14;break e;case F:T=16,o=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=gi(T,s,n,f),n.elementType=t,n.type=o,n.lanes=m,n}function Io(t,n,s,o){return t=gi(7,t,o,n),t.lanes=s,t}function xh(t,n,s){return t=gi(6,t,null,n),t.lanes=s,t}function ng(t){var n=gi(18,null,null,0);return n.stateNode=t,n}function Mh(t,n,s){return n=gi(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var rg=new WeakMap;function ha(t,n){if(typeof t=="object"&&t!==null){var s=rg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:fn(n)},rg.set(t,n),n)}return{value:t,source:n,stack:fn(n)}}var rl=[],il=0,wc=null,ou=0,da=[],ma=0,Vs=null,Ba=1,ja="";function os(t,n){rl[il++]=ou,rl[il++]=wc,wc=t,ou=n}function ig(t,n,s){da[ma++]=Ba,da[ma++]=ja,da[ma++]=Vs,Vs=t;var o=Ba;t=ja;var f=32-De(o)-1;o&=~(1<<f),s+=1;var m=32-De(n)+f;if(30<m){var T=f-f%5;m=(o&(1<<T)-1).toString(32),o>>=T,f-=T,Ba=1<<32-De(n)+f|s<<f|o,ja=m+t}else Ba=1<<m|s<<f|o,ja=t}function Nh(t){t.return!==null&&(os(t,1),ig(t,1,0))}function Dh(t){for(;t===wc;)wc=rl[--il],rl[il]=null,ou=rl[--il],rl[il]=null;for(;t===Vs;)Vs=da[--ma],da[ma]=null,ja=da[--ma],da[ma]=null,Ba=da[--ma],da[ma]=null}function ag(t,n){da[ma++]=Ba,da[ma++]=ja,da[ma++]=Vs,Ba=n.id,ja=n.overflow,Vs=t}var $r=null,qn=null,ln=!1,Ps=null,pa=!1,Oh=Error(a(519));function Ls(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lu(ha(n,t)),Oh}function sg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[gn]=t,n[Jn]=o,s){case"dialog":Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":case"embed":Jt("load",n);break;case"video":case"audio":for(s=0;s<Mu.length;s++)Jt(Mu[s],n);break;case"source":Jt("error",n);break;case"img":case"image":case"link":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"input":Jt("invalid",n),es(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Jt("invalid",n);break;case"textarea":Jt("invalid",n),ki(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Tv(n.textContent,s)?(o.popover!=null&&(Jt("beforetoggle",n),Jt("toggle",n)),o.onScroll!=null&&Jt("scroll",n),o.onScrollEnd!=null&&Jt("scrollend",n),o.onClick!=null&&(n.onclick=Gr),n=!0):n=!1,n||Ls(t,!0)}function og(t){for($r=t.return;$r;)switch($r.tag){case 5:case 31:case 13:pa=!1;return;case 27:case 3:pa=!0;return;default:$r=$r.return}}function al(t){if(t!==$r)return!1;if(!ln)return og(t),ln=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||$d(t.type,t.memoizedProps)),s=!s),s&&qn&&Ls(t),og(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));qn=Dv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));qn=Dv(t)}else n===27?(n=qn,$s(t.type)?(t=nm,nm=null,qn=t):qn=n):qn=$r?ya(t.stateNode.nextSibling):null;return!0}function xo(){qn=$r=null,ln=!1}function kh(){var t=Ps;return t!==null&&(Gi===null?Gi=t:Gi.push.apply(Gi,t),Ps=null),t}function lu(t){Ps===null?Ps=[t]:Ps.push(t)}var Vh=U(null),Mo=null,ls=null;function Us(t,n,s){xe(Vh,n._currentValue),n._currentValue=s}function us(t){t._currentValue=Vh.current,oe(Vh)}function Ph(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Lh(t,n,s,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=f;for(var X=0;X<n.length;X++)if(M.context===n[X]){m.lanes|=s,M=m.alternate,M!==null&&(M.lanes|=s),Ph(m.return,s,t),o||(T=null);break e}m=M.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=s,m=T.alternate,m!==null&&(m.lanes|=s),Ph(T,s,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function sl(t,n,s,o){t=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var M=f.type;fe(f.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(f===dt.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Vu):t=[Vu])}f=f.return}t!==null&&Lh(n,t,s,o),n.flags|=262144}function Tc(t){for(t=t.firstContext;t!==null;){if(!fe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function No(t){Mo=t,ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jr(t){return lg(Mo,t)}function Ac(t,n){return Mo===null&&No(t),lg(t,n)}function lg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ls===null){if(t===null)throw Error(a(308));ls=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ls=ls.next=n;return s}var AE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},SE=i.unstable_scheduleCallback,CE=i.unstable_NormalPriority,yr={$$typeof:Pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new AE,data:new Map,refCount:0}}function uu(t){t.refCount--,t.refCount===0&&SE(CE,function(){t.controller.abort()})}var cu=null,zh=0,ol=0,ll=null;function RE(t,n){if(cu===null){var s=cu=[];zh=0,ol=Fd(),ll={status:"pending",value:void 0,then:function(o){s.push(o)}}}return zh++,n.then(ug,ug),n}function ug(){if(--zh===0&&cu!==null){ll!==null&&(ll.status="fulfilled");var t=cu;cu=null,ol=0,ll=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function IE(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var cg=G.S;G.S=function(t,n){Xy=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RE(t,n),cg!==null&&cg(t,n)};var Do=U(null);function Bh(){var t=Do.current;return t!==null?t:Ln.pooledCache}function Sc(t,n){n===null?xe(Do,Do.current):xe(Do,n.pool)}function fg(){var t=Bh();return t===null?null:{parent:yr._currentValue,pool:t}}var ul=Error(a(460)),jh=Error(a(474)),Cc=Error(a(542)),Rc={then:function(){}};function hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Gr,Gr),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t;default:if(typeof n.status=="string")n.then(Gr,Gr);else{if(t=Ln,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t}throw ko=n,ul}}function Oo(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ko=s,ul):s}}var ko=null;function mg(){if(ko===null)throw Error(a(459));var t=ko;return ko=null,t}function pg(t){if(t===ul||t===Cc)throw Error(a(483))}var cl=null,fu=0;function Ic(t){var n=fu;return fu+=1,cl===null&&(cl=[]),dg(cl,t,n)}function hu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function xc(t,n){throw n.$$typeof===q?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function gg(t){function n(re,$){if(t){var le=re.deletions;le===null?(re.deletions=[$],re.flags|=16):le.push($)}}function s(re,$){if(!t)return null;for(;$!==null;)n(re,$),$=$.sibling;return null}function o(re){for(var $=new Map;re!==null;)re.key!==null?$.set(re.key,re):$.set(re.index,re),re=re.sibling;return $}function f(re,$){return re=ss(re,$),re.index=0,re.sibling=null,re}function m(re,$,le){return re.index=le,t?(le=re.alternate,le!==null?(le=le.index,le<$?(re.flags|=67108866,$):le):(re.flags|=67108866,$)):(re.flags|=1048576,$)}function T(re){return t&&re.alternate===null&&(re.flags|=67108866),re}function M(re,$,le,Ae){return $===null||$.tag!==6?($=xh(le,re.mode,Ae),$.return=re,$):($=f($,le),$.return=re,$)}function X(re,$,le,Ae){var gt=le.type;return gt===Oe?_e(re,$,le.props.children,Ae,le.key):$!==null&&($.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===F&&Oo(gt)===$.type)?($=f($,le.props),hu($,le),$.return=re,$):($=Ec(le.type,le.key,le.props,null,re.mode,Ae),hu($,le),$.return=re,$)}function ce(re,$,le,Ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==le.containerInfo||$.stateNode.implementation!==le.implementation?($=Mh(le,re.mode,Ae),$.return=re,$):($=f($,le.children||[]),$.return=re,$)}function _e(re,$,le,Ae,gt){return $===null||$.tag!==7?($=Io(le,re.mode,Ae,gt),$.return=re,$):($=f($,le),$.return=re,$)}function Re(re,$,le){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=xh(""+$,re.mode,le),$.return=re,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case te:return le=Ec($.type,$.key,$.props,null,re.mode,le),hu(le,$),le.return=re,le;case z:return $=Mh($,re.mode,le),$.return=re,$;case F:return $=Oo($),Re(re,$,le)}if(ae($)||L($))return $=Io($,re.mode,le,null),$.return=re,$;if(typeof $.then=="function")return Re(re,Ic($),le);if($.$$typeof===Pe)return Re(re,Ac(re,$),le);xc(re,$)}return null}function he(re,$,le,Ae){var gt=$!==null?$.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return gt!==null?null:M(re,$,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case te:return le.key===gt?X(re,$,le,Ae):null;case z:return le.key===gt?ce(re,$,le,Ae):null;case F:return le=Oo(le),he(re,$,le,Ae)}if(ae(le)||L(le))return gt!==null?null:_e(re,$,le,Ae,null);if(typeof le.then=="function")return he(re,$,Ic(le),Ae);if(le.$$typeof===Pe)return he(re,$,Ac(re,le),Ae);xc(re,le)}return null}function ye(re,$,le,Ae,gt){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return re=re.get(le)||null,M($,re,""+Ae,gt);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case te:return re=re.get(Ae.key===null?le:Ae.key)||null,X($,re,Ae,gt);case z:return re=re.get(Ae.key===null?le:Ae.key)||null,ce($,re,Ae,gt);case F:return Ae=Oo(Ae),ye(re,$,le,Ae,gt)}if(ae(Ae)||L(Ae))return re=re.get(le)||null,_e($,re,Ae,gt,null);if(typeof Ae.then=="function")return ye(re,$,le,Ic(Ae),gt);if(Ae.$$typeof===Pe)return ye(re,$,le,Ac($,Ae),gt);xc($,Ae)}return null}function lt(re,$,le,Ae){for(var gt=null,_n=null,ht=$,Pt=$=0,tn=null;ht!==null&&Pt<le.length;Pt++){ht.index>Pt?(tn=ht,ht=null):tn=ht.sibling;var bn=he(re,ht,le[Pt],Ae);if(bn===null){ht===null&&(ht=tn);break}t&&ht&&bn.alternate===null&&n(re,ht),$=m(bn,$,Pt),_n===null?gt=bn:_n.sibling=bn,_n=bn,ht=tn}if(Pt===le.length)return s(re,ht),ln&&os(re,Pt),gt;if(ht===null){for(;Pt<le.length;Pt++)ht=Re(re,le[Pt],Ae),ht!==null&&($=m(ht,$,Pt),_n===null?gt=ht:_n.sibling=ht,_n=ht);return ln&&os(re,Pt),gt}for(ht=o(ht);Pt<le.length;Pt++)tn=ye(ht,re,Pt,le[Pt],Ae),tn!==null&&(t&&tn.alternate!==null&&ht.delete(tn.key===null?Pt:tn.key),$=m(tn,$,Pt),_n===null?gt=tn:_n.sibling=tn,_n=tn);return t&&ht.forEach(function(no){return n(re,no)}),ln&&os(re,Pt),gt}function bt(re,$,le,Ae){if(le==null)throw Error(a(151));for(var gt=null,_n=null,ht=$,Pt=$=0,tn=null,bn=le.next();ht!==null&&!bn.done;Pt++,bn=le.next()){ht.index>Pt?(tn=ht,ht=null):tn=ht.sibling;var no=he(re,ht,bn.value,Ae);if(no===null){ht===null&&(ht=tn);break}t&&ht&&no.alternate===null&&n(re,ht),$=m(no,$,Pt),_n===null?gt=no:_n.sibling=no,_n=no,ht=tn}if(bn.done)return s(re,ht),ln&&os(re,Pt),gt;if(ht===null){for(;!bn.done;Pt++,bn=le.next())bn=Re(re,bn.value,Ae),bn!==null&&($=m(bn,$,Pt),_n===null?gt=bn:_n.sibling=bn,_n=bn);return ln&&os(re,Pt),gt}for(ht=o(ht);!bn.done;Pt++,bn=le.next())bn=ye(ht,re,Pt,bn.value,Ae),bn!==null&&(t&&bn.alternate!==null&&ht.delete(bn.key===null?Pt:bn.key),$=m(bn,$,Pt),_n===null?gt=bn:_n.sibling=bn,_n=bn);return t&&ht.forEach(function(zw){return n(re,zw)}),ln&&os(re,Pt),gt}function Pn(re,$,le,Ae){if(typeof le=="object"&&le!==null&&le.type===Oe&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case te:e:{for(var gt=le.key;$!==null;){if($.key===gt){if(gt=le.type,gt===Oe){if($.tag===7){s(re,$.sibling),Ae=f($,le.props.children),Ae.return=re,re=Ae;break e}}else if($.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===F&&Oo(gt)===$.type){s(re,$.sibling),Ae=f($,le.props),hu(Ae,le),Ae.return=re,re=Ae;break e}s(re,$);break}else n(re,$);$=$.sibling}le.type===Oe?(Ae=Io(le.props.children,re.mode,Ae,le.key),Ae.return=re,re=Ae):(Ae=Ec(le.type,le.key,le.props,null,re.mode,Ae),hu(Ae,le),Ae.return=re,re=Ae)}return T(re);case z:e:{for(gt=le.key;$!==null;){if($.key===gt)if($.tag===4&&$.stateNode.containerInfo===le.containerInfo&&$.stateNode.implementation===le.implementation){s(re,$.sibling),Ae=f($,le.children||[]),Ae.return=re,re=Ae;break e}else{s(re,$);break}else n(re,$);$=$.sibling}Ae=Mh(le,re.mode,Ae),Ae.return=re,re=Ae}return T(re);case F:return le=Oo(le),Pn(re,$,le,Ae)}if(ae(le))return lt(re,$,le,Ae);if(L(le)){if(gt=L(le),typeof gt!="function")throw Error(a(150));return le=gt.call(le),bt(re,$,le,Ae)}if(typeof le.then=="function")return Pn(re,$,Ic(le),Ae);if(le.$$typeof===Pe)return Pn(re,$,Ac(re,le),Ae);xc(re,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,$!==null&&$.tag===6?(s(re,$.sibling),Ae=f($,le),Ae.return=re,re=Ae):(s(re,$),Ae=xh(le,re.mode,Ae),Ae.return=re,re=Ae),T(re)):s(re,$)}return function(re,$,le,Ae){try{fu=0;var gt=Pn(re,$,le,Ae);return cl=null,gt}catch(ht){if(ht===ul||ht===Cc)throw ht;var _n=gi(29,ht,null,re.mode);return _n.lanes=Ae,_n.return=re,_n}finally{}}}var Vo=gg(!0),yg=gg(!1),zs=!1;function Fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Tn&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Ro(t),su(t,null,s),n}return za(t,o,n,s),Ro(t)}function du(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,aa(t,s)}}function qh(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,s=s.next}while(s!==null);m===null?f=m=n:m=m.next=n}else f=m=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Gh=!1;function mu(){if(Gh){var t=ll;if(t!==null)throw t}}function pu(t,n,s,o){Gh=!1;var f=t.updateQueue;zs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var X=M,ce=X.next;X.next=null,T===null?m=ce:T.next=ce,T=X;var _e=t.alternate;_e!==null&&(_e=_e.updateQueue,M=_e.lastBaseUpdate,M!==T&&(M===null?_e.firstBaseUpdate=ce:M.next=ce,_e.lastBaseUpdate=X))}if(m!==null){var Re=f.baseState;T=0,_e=ce=X=null,M=m;do{var he=M.lane&-536870913,ye=he!==M.lane;if(ye?(en&he)===he:(o&he)===he){he!==0&&he===ol&&(Gh=!0),_e!==null&&(_e=_e.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var lt=t,bt=M;he=n;var Pn=s;switch(bt.tag){case 1:if(lt=bt.payload,typeof lt=="function"){Re=lt.call(Pn,Re,he);break e}Re=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=bt.payload,he=typeof lt=="function"?lt.call(Pn,Re,he):lt,he==null)break e;Re=O({},Re,he);break e;case 2:zs=!0}}he=M.callback,he!==null&&(t.flags|=64,ye&&(t.flags|=8192),ye=f.callbacks,ye===null?f.callbacks=[he]:ye.push(he))}else ye={lane:he,tag:M.tag,payload:M.payload,callback:M.callback,next:null},_e===null?(ce=_e=ye,X=Re):_e=_e.next=ye,T|=he;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;ye=M,M=ye.next,ye.next=null,f.lastBaseUpdate=ye,f.shared.pending=null}}while(!0);_e===null&&(X=Re),f.baseState=X,f.firstBaseUpdate=ce,f.lastBaseUpdate=_e,m===null&&(f.shared.lanes=0),Ys|=T,t.lanes=T,t.memoizedState=Re}}function vg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function _g(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)vg(s[t],n)}var fl=U(null),Mc=U(0);function bg(t,n){t=vs,xe(Mc,t),xe(fl,n),vs=t|n.baseLanes}function Yh(){xe(Mc,vs),xe(fl,fl.current)}function Xh(){vs=Mc.current,oe(fl),oe(Mc)}var Zi=U(null),ga=null;function Fs(t){var n=t.alternate;xe(cr,cr.current&1),xe(Zi,t),ga===null&&(n===null||fl.current!==null||n.memoizedState!==null)&&(ga=t)}function Wh(t){xe(cr,cr.current),xe(Zi,t),ga===null&&(ga=t)}function Eg(t){t.tag===22?(xe(cr,cr.current),xe(Zi,t),ga===null&&(ga=t)):Hs()}function Hs(){xe(cr,cr.current),xe(Zi,Zi.current)}function ea(t){oe(Zi),ga===t&&(ga=null),oe(cr)}var cr=U(0);function Nc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||em(s)||tm(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cs=0,Ot=null,kn=null,vr=null,Dc=!1,hl=!1,Po=!1,Oc=0,gu=0,dl=null,xE=0;function sr(){throw Error(a(321))}function Qh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!fe(t[s],n[s]))return!1;return!0}function Kh(t,n,s,o,f,m){return cs=m,Ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?iy:fd,Po=!1,m=s(o,f),Po=!1,hl&&(m=Tg(n,s,o,f)),wg(t),m}function wg(t){G.H=_u;var n=kn!==null&&kn.next!==null;if(cs=0,vr=kn=Ot=null,Dc=!1,gu=0,dl=null,n)throw Error(a(300));t===null||_r||(t=t.dependencies,t!==null&&Tc(t)&&(_r=!0))}function Tg(t,n,s,o){Ot=t;var f=0;do{if(hl&&(dl=null),gu=0,hl=!1,25<=f)throw Error(a(301));if(f+=1,vr=kn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=ay,m=n(s,o)}while(hl);return m}function ME(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?yu(n):n,t=t.useState()[0],(kn!==null?kn.memoizedState:null)!==t&&(Ot.flags|=1024),n}function $h(){var t=Oc!==0;return Oc=0,t}function Jh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Zh(t){if(Dc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Dc=!1}cs=0,vr=kn=Ot=null,hl=!1,gu=Oc=0,dl=null}function Mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Ot.memoizedState=vr=t:vr=vr.next=t,vr}function fr(){if(kn===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=kn.next;var n=vr===null?Ot.memoizedState:vr.next;if(n!==null)vr=n,kn=t;else{if(t===null)throw Ot.alternate===null?Error(a(467)):Error(a(310));kn=t,t={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},vr===null?Ot.memoizedState=vr=t:vr=vr.next=t}return vr}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(t){var n=gu;return gu+=1,dl===null&&(dl=[]),t=dg(dl,t,n),n=Ot,(vr===null?n.memoizedState:vr.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?iy:fd),t}function Vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yu(t);if(t.$$typeof===Pe)return Jr(t)}throw Error(a(438,String(t)))}function ed(t){var n=null,s=Ot.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ot.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=kc(),Ot.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=H;return n.index++,s}function fs(t,n){return typeof n=="function"?n(t):n}function Pc(t){var n=fr();return td(n,kn,t)}function td(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}n.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{n=f.next;var M=T=null,X=null,ce=n,_e=!1;do{var Re=ce.lane&-536870913;if(Re!==ce.lane?(en&Re)===Re:(cs&Re)===Re){var he=ce.revertLane;if(he===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Re===ol&&(_e=!0);else if((cs&he)===he){ce=ce.next,he===ol&&(_e=!0);continue}else Re={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(M=X=Re,T=m):X=X.next=Re,Ot.lanes|=he,Ys|=he;Re=ce.action,Po&&s(m,Re),m=ce.hasEagerState?ce.eagerState:s(m,Re)}else he={lane:Re,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(M=X=he,T=m):X=X.next=he,Ot.lanes|=Re,Ys|=Re;ce=ce.next}while(ce!==null&&ce!==n);if(X===null?T=m:X.next=M,!fe(m,t.memoizedState)&&(_r=!0,_e&&(s=ll,s!==null)))throw s;t.memoizedState=m,t.baseState=T,t.baseQueue=X,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function nd(t){var n=fr(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,f=s.pending,m=n.memoizedState;if(f!==null){s.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);fe(m,n.memoizedState)||(_r=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,o]}function Ag(t,n,s){var o=Ot,f=fr(),m=ln;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=n();var T=!fe((kn||f).memoizedState,s);if(T&&(f.memoizedState=s,_r=!0),f=f.queue,ad(Rg.bind(null,o,f,t),[t]),f.getSnapshot!==n||T||vr!==null&&vr.memoizedState.tag&1){if(o.flags|=2048,ml(9,{destroy:void 0},Cg.bind(null,o,f,s,n),null),Ln===null)throw Error(a(349));m||(cs&127)!==0||Sg(o,n,s)}return s}function Sg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ot.updateQueue,n===null?(n=kc(),Ot.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Cg(t,n,s,o){n.value=s,n.getSnapshot=o,Ig(n)&&xg(t)}function Rg(t,n,s){return s(function(){Ig(n)&&xg(t)})}function Ig(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!fe(t,s)}catch{return!0}}function xg(t){var n=xi(t,2);n!==null&&Yi(n,t,2)}function rd(t){var n=Mi();if(typeof t=="function"){var s=t;if(t=s(),Po){st(!0);try{s()}finally{st(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},n}function Mg(t,n,s,o){return t.baseState=s,td(t,kn,typeof o=="function"?o:fs)}function NE(t,n,s,o,f){if(zc(t))throw Error(a(485));if(t=n.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};G.T!==null?s(!0):m.isTransition=!1,o(m),s=n.pending,s===null?(m.next=n.pending=m,Ng(n,m)):(m.next=s.next,n.pending=s.next=m)}}function Ng(t,n){var s=n.action,o=n.payload,f=t.state;if(n.isTransition){var m=G.T,T={};G.T=T;try{var M=s(f,o),X=G.S;X!==null&&X(T,M),Dg(t,n,M)}catch(ce){id(t,n,ce)}finally{m!==null&&T.types!==null&&(m.types=T.types),G.T=m}}else try{m=s(f,o),Dg(t,n,m)}catch(ce){id(t,n,ce)}}function Dg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Og(t,n,o)},function(o){return id(t,n,o)}):Og(t,n,s)}function Og(t,n,s){n.status="fulfilled",n.value=s,kg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Ng(t,s)))}function id(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,kg(n),n=n.next;while(n!==o)}t.action=null}function kg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Vg(t,n){return n}function Pg(t,n){if(ln){var s=Ln.formState;if(s!==null){e:{var o=Ot;if(ln){if(qn){t:{for(var f=qn,m=pa;f.nodeType!==8;){if(!m){f=null;break t}if(f=ya(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){qn=ya(f.nextSibling),o=f.data==="F!";break e}}Ls(o)}o=!1}o&&(n=s[0])}}return s=Mi(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:n},s.queue=o,s=ty.bind(null,Ot,o),o.dispatch=s,o=rd(!1),m=cd.bind(null,Ot,!1,o.queue),o=Mi(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,s=NE.bind(null,Ot,f,m,s),f.dispatch=s,o.memoizedState=t,[n,s,!1]}function Lg(t){var n=fr();return Ug(n,kn,t)}function Ug(t,n,s){if(n=td(t,n,Vg)[0],t=Pc(fs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=yu(n)}catch(T){throw T===ul?Cc:T}else o=n;n=fr();var f=n.queue,m=f.dispatch;return s!==n.memoizedState&&(Ot.flags|=2048,ml(9,{destroy:void 0},DE.bind(null,f,s),null)),[o,m,t]}function DE(t,n){t.action=n}function zg(t){var n=fr(),s=kn;if(s!==null)return Ug(n,s,t);fr(),n=n.memoizedState,s=fr();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function ml(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Ot.updateQueue,n===null&&(n=kc(),Ot.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Bg(){return fr().memoizedState}function Lc(t,n,s,o){var f=Mi();Ot.flags|=t,f.memoizedState=ml(1|n,{destroy:void 0},s,o===void 0?null:o)}function Uc(t,n,s,o){var f=fr();o=o===void 0?null:o;var m=f.memoizedState.inst;kn!==null&&o!==null&&Qh(o,kn.memoizedState.deps)?f.memoizedState=ml(n,m,s,o):(Ot.flags|=t,f.memoizedState=ml(1|n,m,s,o))}function jg(t,n){Lc(8390656,8,t,n)}function ad(t,n){Uc(2048,8,t,n)}function OE(t){Ot.flags|=4;var n=Ot.updateQueue;if(n===null)n=kc(),Ot.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Fg(t){var n=fr().memoizedState;return OE({ref:n,nextImpl:t}),function(){if((Tn&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Hg(t,n){return Uc(4,2,t,n)}function qg(t,n){return Uc(4,4,t,n)}function Gg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yg(t,n,s){s=s!=null?s.concat([t]):null,Uc(4,4,Gg.bind(null,n,t),s)}function sd(){}function Xg(t,n){var s=fr();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Qh(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Wg(t,n){var s=fr();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Qh(n,o[1]))return o[0];if(o=t(),Po){st(!0);try{t()}finally{st(!1)}}return s.memoizedState=[o,n],o}function od(t,n,s){return s===void 0||(cs&1073741824)!==0&&(en&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Qy(),Ot.lanes|=t,Ys|=t,s)}function Qg(t,n,s,o){return fe(s,n)?s:fl.current!==null?(t=od(t,s,o),fe(t,n)||(_r=!0),t):(cs&42)===0||(cs&1073741824)!==0&&(en&261930)===0?(_r=!0,t.memoizedState=s):(t=Qy(),Ot.lanes|=t,Ys|=t,n)}function Kg(t,n,s,o,f){var m=Q.p;Q.p=m!==0&&8>m?m:8;var T=G.T,M={};G.T=M,cd(t,!1,n,s);try{var X=f(),ce=G.S;if(ce!==null&&ce(M,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var _e=IE(X,o);vu(t,n,_e,ra(t))}else vu(t,n,o,ra(t))}catch(Re){vu(t,n,{then:function(){},status:"rejected",reason:Re},ra())}finally{Q.p=m,T!==null&&M.types!==null&&(T.types=M.types),G.T=T}}function kE(){}function ld(t,n,s,o){if(t.tag!==5)throw Error(a(476));var f=$g(t).queue;Kg(t,f,n,ge,s===null?kE:function(){return Jg(t),s(o)})}function $g(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:ge},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Jg(t){var n=$g(t);n.next===null&&(n=t.alternate.memoizedState),vu(t,n.next.queue,{},ra())}function ud(){return Jr(Vu)}function Zg(){return fr().memoizedState}function ey(){return fr().memoizedState}function VE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=ra();t=Bs(s);var o=js(n,t,s);o!==null&&(Yi(o,n,s),du(o,n,s)),n={cache:Uh()},t.payload=n;return}n=n.return}}function PE(t,n,s){var o=ra();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},zc(t)?ny(n,s):(s=Ca(t,n,s,o),s!==null&&(Yi(s,t,o),ry(s,n,o)))}function ty(t,n,s){var o=ra();vu(t,n,s,o)}function vu(t,n,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(zc(t))ny(n,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,s);if(f.hasEagerState=!0,f.eagerState=M,fe(M,T))return za(t,n,f,0),Ln===null&&Ua(),!1}catch{}finally{}if(s=Ca(t,n,f,o),s!==null)return Yi(s,t,o),ry(s,n,o),!0}return!1}function cd(t,n,s,o){if(o={lane:2,revertLane:Fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zc(t)){if(n)throw Error(a(479))}else n=Ca(t,s,o,2),n!==null&&Yi(n,t,2)}function zc(t){var n=t.alternate;return t===Ot||n!==null&&n===Ot}function ny(t,n){hl=Dc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function ry(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,aa(t,s)}}var _u={readContext:Jr,use:Vc,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useLayoutEffect:sr,useInsertionEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useSyncExternalStore:sr,useId:sr,useHostTransitionStatus:sr,useFormState:sr,useActionState:sr,useOptimistic:sr,useMemoCache:sr,useCacheRefresh:sr};_u.useEffectEvent=sr;var iy={readContext:Jr,use:Vc,useCallback:function(t,n){return Mi().memoizedState=[t,n===void 0?null:n],t},useContext:Jr,useEffect:jg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Lc(4194308,4,Gg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Lc(4194308,4,t,n)},useInsertionEffect:function(t,n){Lc(4,2,t,n)},useMemo:function(t,n){var s=Mi();n=n===void 0?null:n;var o=t();if(Po){st(!0);try{t()}finally{st(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Mi();if(s!==void 0){var f=s(n);if(Po){st(!0);try{s(n)}finally{st(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=PE.bind(null,Ot,t),[o.memoizedState,t]},useRef:function(t){var n=Mi();return t={current:t},n.memoizedState=t},useState:function(t){t=rd(t);var n=t.queue,s=ty.bind(null,Ot,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:sd,useDeferredValue:function(t,n){var s=Mi();return od(s,t,n)},useTransition:function(){var t=rd(!1);return t=Kg.bind(null,Ot,t.queue,!0,!1),Mi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Ot,f=Mi();if(ln){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Ln===null)throw Error(a(349));(en&127)!==0||Sg(o,n,s)}f.memoizedState=s;var m={value:s,getSnapshot:n};return f.queue=m,jg(Rg.bind(null,o,m,t),[t]),o.flags|=2048,ml(9,{destroy:void 0},Cg.bind(null,o,m,s,n),null),s},useId:function(){var t=Mi(),n=Ln.identifierPrefix;if(ln){var s=ja,o=Ba;s=(o&~(1<<32-De(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Oc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=xE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ud,useFormState:Pg,useActionState:Pg,useOptimistic:function(t){var n=Mi();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=cd.bind(null,Ot,!0,s),s.dispatch=n,[t,n]},useMemoCache:ed,useCacheRefresh:function(){return Mi().memoizedState=VE.bind(null,Ot)},useEffectEvent:function(t){var n=Mi(),s={impl:t};return n.memoizedState=s,function(){if((Tn&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},fd={readContext:Jr,use:Vc,useCallback:Xg,useContext:Jr,useEffect:ad,useImperativeHandle:Yg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Wg,useReducer:Pc,useRef:Bg,useState:function(){return Pc(fs)},useDebugValue:sd,useDeferredValue:function(t,n){var s=fr();return Qg(s,kn.memoizedState,t,n)},useTransition:function(){var t=Pc(fs)[0],n=fr().memoizedState;return[typeof t=="boolean"?t:yu(t),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:ud,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var s=fr();return Mg(s,kn,t,n)},useMemoCache:ed,useCacheRefresh:ey};fd.useEffectEvent=Fg;var ay={readContext:Jr,use:Vc,useCallback:Xg,useContext:Jr,useEffect:ad,useImperativeHandle:Yg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Wg,useReducer:nd,useRef:Bg,useState:function(){return nd(fs)},useDebugValue:sd,useDeferredValue:function(t,n){var s=fr();return kn===null?od(s,t,n):Qg(s,kn.memoizedState,t,n)},useTransition:function(){var t=nd(fs)[0],n=fr().memoizedState;return[typeof t=="boolean"?t:yu(t),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:ud,useFormState:zg,useActionState:zg,useOptimistic:function(t,n){var s=fr();return kn!==null?Mg(s,kn,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ed,useCacheRefresh:ey};ay.useEffectEvent=Fg;function hd(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:O({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var dd={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=ra(),f=Bs(o);f.payload=n,s!=null&&(f.callback=s),n=js(t,f,o),n!==null&&(Yi(n,t,o),du(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=ra(),f=Bs(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=js(t,f,o),n!==null&&(Yi(n,t,o),du(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=ra(),o=Bs(s);o.tag=2,n!=null&&(o.callback=n),n=js(t,o,s),n!==null&&(Yi(n,t,s),du(n,t,s))}};function sy(t,n,s,o,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!ue(s,o)||!ue(f,m):!0}function oy(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&dd.enqueueReplaceState(n,n.state,null)}function Lo(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=O({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function ly(t){Kr(t)}function uy(t){console.error(t)}function cy(t){Kr(t)}function Bc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function fy(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function md(t,n,s){return s=Bs(s),s.tag=3,s.payload={element:null},s.callback=function(){Bc(t,n)},s}function hy(t){return t=Bs(t),t.tag=3,t}function dy(t,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){fy(n,s,o)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){fy(n,s,o),typeof f!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function LE(t,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&sl(n,s,f,!0),s=Zi.current,s!==null){switch(s.tag){case 31:case 13:return ga===null?Jc():s.alternate===null&&or===0&&(or=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===Rc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),zd(t,o,f)),!1;case 22:return s.flags|=65536,o===Rc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),zd(t,o,f)),!1}throw Error(a(435,s.tag))}return zd(t,o,f),Jc(),!1}if(ln)return n=Zi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Oh&&(t=Error(a(422),{cause:o}),lu(ha(t,s)))):(o!==Oh&&(n=Error(a(423),{cause:o}),lu(ha(n,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=ha(o,s),f=md(t.stateNode,o,f),qh(t,f),or!==4&&(or=2)),!1;var m=Error(a(520),{cause:o});if(m=ha(m,s),Ru===null?Ru=[m]:Ru.push(m),or!==4&&(or=2),n===null)return!0;o=ha(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=md(s.stateNode,o,t),qh(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xs===null||!Xs.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=hy(f),dy(f,t,s,o),qh(s,f),!1}s=s.return}while(s!==null);return!1}var pd=Error(a(461)),_r=!1;function Zr(t,n,s,o){n.child=t===null?yg(n,null,s,o):Vo(n,t.child,s,o)}function my(t,n,s,o,f){s=s.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return No(n),o=Kh(t,n,s,T,m,f),M=$h(),t!==null&&!_r?(Jh(t,n,f),hs(t,n,f)):(ln&&M&&Nh(n),n.flags|=1,Zr(t,n,o,f),n.child)}function py(t,n,s,o,f){if(t===null){var m=s.type;return typeof m=="function"&&!Ih(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,gy(t,n,m,o,f)):(t=Ec(s.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Td(t,f)){var T=m.memoizedProps;if(s=s.compare,s=s!==null?s:ue,s(T,o)&&t.ref===n.ref)return hs(t,n,f)}return n.flags|=1,t=ss(m,o),t.ref=n.ref,t.return=n,n.child=t}function gy(t,n,s,o,f){if(t!==null){var m=t.memoizedProps;if(ue(m,o)&&t.ref===n.ref)if(_r=!1,n.pendingProps=o=m,Td(t,f))(t.flags&131072)!==0&&(_r=!0);else return n.lanes=t.lanes,hs(t,n,f)}return gd(t,n,s,o,f)}function yy(t,n,s,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(o=n.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,n.child=null;return vy(t,n,m,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sc(n,m!==null?m.cachePool:null),m!==null?bg(n,m):Yh(),Eg(n);else return o=n.lanes=536870912,vy(t,n,m!==null?m.baseLanes|s:s,s,o)}else m!==null?(Sc(n,m.cachePool),bg(n,m),Hs(),n.memoizedState=null):(t!==null&&Sc(n,null),Yh(),Hs());return Zr(t,n,f,s),n.child}function bu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vy(t,n,s,o,f){var m=Bh();return m=m===null?null:{parent:yr._currentValue,pool:m},n.memoizedState={baseLanes:s,cachePool:m},t!==null&&Sc(n,null),Yh(),Eg(n),t!==null&&sl(t,n,o,!0),n.childLanes=f,null}function jc(t,n){return n=Hc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function _y(t,n,s){return Vo(n,t.child,null,s),t=jc(n,n.pendingProps),t.flags|=2,ea(n),n.memoizedState=null,t}function UE(t,n,s){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ln){if(o.mode==="hidden")return t=jc(n,o),n.lanes=536870912,bu(null,t);if(Wh(n),(t=qn)?(t=Nv(t,pa),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Ba,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},s=ng(t),s.return=n,n.child=s,$r=n,qn=null)):t=null,t===null)throw Ls(n);return n.lanes=536870912,null}return jc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Wh(n),f)if(n.flags&256)n.flags&=-257,n=_y(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(_r||sl(t,n,s,!1),f=(s&t.childLanes)!==0,_r||f){if(o=Ln,o!==null&&(T=Nr(o,s),T!==0&&T!==m.retryLane))throw m.retryLane=T,xi(t,T),Yi(o,t,T),pd;Jc(),n=_y(t,n,s)}else t=m.treeContext,qn=ya(T.nextSibling),$r=n,ln=!0,Ps=null,pa=!1,t!==null&&ag(n,t),n=jc(n,o),n.flags|=4096;return n}return t=ss(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Fc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function gd(t,n,s,o,f){return No(n),s=Kh(t,n,s,o,void 0,f),o=$h(),t!==null&&!_r?(Jh(t,n,f),hs(t,n,f)):(ln&&o&&Nh(n),n.flags|=1,Zr(t,n,s,f),n.child)}function by(t,n,s,o,f,m){return No(n),n.updateQueue=null,s=Tg(n,o,s,f),wg(t),o=$h(),t!==null&&!_r?(Jh(t,n,m),hs(t,n,m)):(ln&&o&&Nh(n),n.flags|=1,Zr(t,n,s,m),n.child)}function Ey(t,n,s,o,f){if(No(n),n.stateNode===null){var m=Ji,T=s.contextType;typeof T=="object"&&T!==null&&(m=Jr(T)),m=new s(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Fh(n),T=s.contextType,m.context=typeof T=="object"&&T!==null?Jr(T):Ji,m.state=n.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(hd(n,s,T,o),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&dd.enqueueReplaceState(m,m.state,null),pu(n,o,m,f),mu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,X=Lo(s,M);m.props=X;var ce=m.context,_e=s.contextType;T=Ji,typeof _e=="object"&&_e!==null&&(T=Jr(_e));var Re=s.getDerivedStateFromProps;_e=typeof Re=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,_e||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||ce!==T)&&oy(n,m,o,T),zs=!1;var he=n.memoizedState;m.state=he,pu(n,o,m,f),mu(),ce=n.memoizedState,M||he!==ce||zs?(typeof Re=="function"&&(hd(n,s,Re,o),ce=n.memoizedState),(X=zs||sy(n,s,X,o,he,ce,T))?(_e||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ce),m.props=o,m.state=ce,m.context=T,o=X):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Hh(t,n),T=n.memoizedProps,_e=Lo(s,T),m.props=_e,Re=n.pendingProps,he=m.context,ce=s.contextType,X=Ji,typeof ce=="object"&&ce!==null&&(X=Jr(ce)),M=s.getDerivedStateFromProps,(ce=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Re||he!==X)&&oy(n,m,o,X),zs=!1,he=n.memoizedState,m.state=he,pu(n,o,m,f),mu();var ye=n.memoizedState;T!==Re||he!==ye||zs||t!==null&&t.dependencies!==null&&Tc(t.dependencies)?(typeof M=="function"&&(hd(n,s,M,o),ye=n.memoizedState),(_e=zs||sy(n,s,_e,o,he,ye,X)||t!==null&&t.dependencies!==null&&Tc(t.dependencies))?(ce||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ye,X),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ye,X)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ye),m.props=o,m.state=ye,m.context=X,o=_e):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Fc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Vo(n,t.child,null,f),n.child=Vo(n,null,s,f)):Zr(t,n,s,f),n.memoizedState=m.state,t=n.child):t=hs(t,n,f),t}function wy(t,n,s,o){return xo(),n.flags|=256,Zr(t,n,s,o),n.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:fg()}}function _d(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=na),t}function Ty(t,n,s){var o=n.pendingProps,f=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(cr.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(ln){if(f?Fs(n):Hs(),(t=qn)?(t=Nv(t,pa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Ba,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},s=ng(t),s.return=n,n.child=s,$r=n,qn=null)):t=null,t===null)throw Ls(n);return tm(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,f?(Hs(),f=n.mode,M=Hc({mode:"hidden",children:M},f),o=Io(o,f,s,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=vd(s),o.childLanes=_d(t,T,s),n.memoizedState=yd,bu(null,o)):(Fs(n),bd(n,M))}var X=t.memoizedState;if(X!==null&&(M=X.dehydrated,M!==null)){if(m)n.flags&256?(Fs(n),n.flags&=-257,n=Ed(t,n,s)):n.memoizedState!==null?(Hs(),n.child=t.child,n.flags|=128,n=null):(Hs(),M=o.fallback,f=n.mode,o=Hc({mode:"visible",children:o.children},f),M=Io(M,f,s,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Vo(n,t.child,null,s),o=n.child,o.memoizedState=vd(s),o.childLanes=_d(t,T,s),n.memoizedState=yd,n=bu(null,o));else if(Fs(n),tm(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var ce=T.dgst;T=ce,o=Error(a(419)),o.stack="",o.digest=T,lu({value:o,source:null,stack:null}),n=Ed(t,n,s)}else if(_r||sl(t,n,s,!1),T=(s&t.childLanes)!==0,_r||T){if(T=Ln,T!==null&&(o=Nr(T,s),o!==0&&o!==X.retryLane))throw X.retryLane=o,xi(t,o),Yi(T,t,o),pd;em(M)||Jc(),n=Ed(t,n,s)}else em(M)?(n.flags|=192,n.child=t.child,n=null):(t=X.treeContext,qn=ya(M.nextSibling),$r=n,ln=!0,Ps=null,pa=!1,t!==null&&ag(n,t),n=bd(n,o.children),n.flags|=4096);return n}return f?(Hs(),M=o.fallback,f=n.mode,X=t.child,ce=X.sibling,o=ss(X,{mode:"hidden",children:o.children}),o.subtreeFlags=X.subtreeFlags&65011712,ce!==null?M=ss(ce,M):(M=Io(M,f,s,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,bu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=vd(s):(f=M.cachePool,f!==null?(X=yr._currentValue,f=f.parent!==X?{parent:X,pool:X}:f):f=fg(),M={baseLanes:M.baseLanes|s,cachePool:f}),o.memoizedState=M,o.childLanes=_d(t,T,s),n.memoizedState=yd,bu(t.child,o)):(Fs(n),s=t.child,t=s.sibling,s=ss(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=s,n.memoizedState=null,s)}function bd(t,n){return n=Hc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Hc(t,n){return t=gi(22,t,null,n),t.lanes=0,t}function Ed(t,n,s){return Vo(n,t.child,null,s),t=bd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ay(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Ph(t.return,n,s)}function wd(t,n,s,o,f,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=s,T.tailMode=f,T.treeForkCount=m)}function Sy(t,n,s){var o=n.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var T=cr.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,xe(cr,T),Zr(t,n,o,s),o=ln?ou:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,s,n);else if(t.tag===19)Ay(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&Nc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),wd(n,!1,f,s,m,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Nc(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}wd(n,!0,s,null,m,o);break;case"together":wd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function hs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(sl(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ss(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ss(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Td(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Tc(t)))}function zE(t,n,s){switch(n.tag){case 3:jt(n,n.stateNode.containerInfo),Us(n,yr,t.memoizedState.cache),xo();break;case 27:case 5:kt(n);break;case 4:jt(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Fs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ty(t,n,s):(Fs(n),t=hs(t,n,s),t!==null?t.sibling:null);Fs(n);break;case 19:var f=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(sl(t,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return Sy(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),xe(cr,cr.current),o)break;return null;case 22:return n.lanes=0,yy(t,n,s,n.pendingProps);case 24:Us(n,yr,t.memoizedState.cache)}return hs(t,n,s)}function Cy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)_r=!0;else{if(!Td(t,s)&&(n.flags&128)===0)return _r=!1,zE(t,n,s);_r=(t.flags&131072)!==0}else _r=!1,ln&&(n.flags&1048576)!==0&&ig(n,ou,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Oo(n.elementType),n.type=t,typeof t=="function")Ih(t)?(o=Lo(t,o),n.tag=1,n=Ey(null,n,t,o,s)):(n.tag=0,n=gd(null,n,t,o,s));else{if(t!=null){var f=t.$$typeof;if(f===tt){n.tag=11,n=my(null,n,t,o,s);break e}else if(f===Y){n.tag=14,n=py(null,n,t,o,s);break e}}throw n=W(t)||t,Error(a(306,n,""))}}return n;case 0:return gd(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=Lo(o,n.pendingProps),Ey(t,n,o,f,s);case 3:e:{if(jt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var m=n.memoizedState;f=m.element,Hh(t,n),pu(n,o,null,s);var T=n.memoizedState;if(o=T.cache,Us(n,yr,o),o!==m.cache&&Lh(n,[yr],s,!0),mu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=wy(t,n,o,s);break e}else if(o!==f){f=ha(Error(a(424)),n),lu(f),n=wy(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(qn=ya(t.firstChild),$r=n,ln=!0,Ps=null,pa=!0,s=yg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(xo(),o===f){n=hs(t,n,s);break e}Zr(t,n,o,s)}n=n.child}return n;case 26:return Fc(t,n),t===null?(s=Lv(n.type,null,n.pendingProps,null))?n.memoizedState=s:ln||(s=n.type,t=n.pendingProps,o=sf(Ke.current).createElement(s),o[gn]=n,o[Jn]=t,ei(o,s,t),zn(o),n.stateNode=o):n.memoizedState=Lv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return kt(n),t===null&&ln&&(o=n.stateNode=kv(n.type,n.pendingProps,Ke.current),$r=n,pa=!0,f=qn,$s(n.type)?(nm=f,qn=ya(o.firstChild)):qn=f),Zr(t,n,n.pendingProps.children,s),Fc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ln&&((f=o=qn)&&(o=pw(o,n.type,n.pendingProps,pa),o!==null?(n.stateNode=o,$r=n,qn=ya(o.firstChild),pa=!1,f=!0):f=!1),f||Ls(n)),kt(n),f=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,$d(f,m)?o=null:T!==null&&$d(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Kh(t,n,ME,null,null,s),Vu._currentValue=f),Fc(t,n),Zr(t,n,o,s),n.child;case 6:return t===null&&ln&&((t=s=qn)&&(s=gw(s,n.pendingProps,pa),s!==null?(n.stateNode=s,$r=n,qn=null,t=!0):t=!1),t||Ls(n)),null;case 13:return Ty(t,n,s);case 4:return jt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Vo(n,null,o,s):Zr(t,n,o,s),n.child;case 11:return my(t,n,n.type,n.pendingProps,s);case 7:return Zr(t,n,n.pendingProps,s),n.child;case 8:return Zr(t,n,n.pendingProps.children,s),n.child;case 12:return Zr(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Us(n,n.type,o.value),Zr(t,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,No(n),f=Jr(f),o=o(f),n.flags|=1,Zr(t,n,o,s),n.child;case 14:return py(t,n,n.type,n.pendingProps,s);case 15:return gy(t,n,n.type,n.pendingProps,s);case 19:return Sy(t,n,s);case 31:return UE(t,n,s);case 22:return yy(t,n,s,n.pendingProps);case 24:return No(n),o=Jr(yr),t===null?(f=Bh(),f===null&&(f=Ln,m=Uh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),n.memoizedState={parent:o,cache:f},Fh(n),Us(n,yr,f)):((t.lanes&s)!==0&&(Hh(t,n),pu(n,null,null,s),mu()),f=t.memoizedState,m=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Us(n,yr,o)):(o=m.cache,Us(n,yr,o),o!==f.cache&&Lh(n,[yr],s,!0))),Zr(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ds(t){t.flags|=4}function Ad(t,n,s,o,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Zy())t.flags|=8192;else throw ko=Rc,jh}else t.flags&=-16777217}function Ry(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fv(n))if(Zy())t.flags|=8192;else throw ko=Rc,jh}function qc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$e():536870912,t.lanes|=n,vl|=n)}function Eu(t,n){if(!ln)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Gn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function BE(t,n,s){var o=n.pendingProps;switch(Dh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(n),null;case 1:return Gn(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),us(yr),ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(al(n)?ds(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kh())),Gn(n),null;case 26:var f=n.type,m=n.memoizedState;return t===null?(ds(n),m!==null?(Gn(n),Ry(n,m)):(Gn(n),Ad(n,f,null,o,s))):m?m!==t.memoizedState?(ds(n),Gn(n),Ry(n,m)):(Gn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ds(n),Gn(n),Ad(n,f,t,o,s)),null;case 27:if(Ft(n),s=Ke.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ds(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Gn(n),null}t=Ce.current,al(n)?sg(n):(t=kv(f,o,s),n.stateNode=t,ds(n))}return Gn(n),null;case 5:if(Ft(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ds(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Gn(n),null}if(m=Ce.current,al(n))sg(n);else{var T=sf(Ke.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(f,{is:o.is}):T.createElement(f)}}m[gn]=n,m[Jn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(ei(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ds(n)}}return Gn(n),Ad(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ds(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ke.current,al(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,f=$r,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[gn]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Tv(t.nodeValue,s)),t||Ls(n,!0)}else t=sf(t).createTextNode(o),t[gn]=n,n.stateNode=t}return Gn(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=al(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[gn]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Gn(n),t=!1}else s=kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(ea(n),n):(ea(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Gn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=al(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[gn]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Gn(n),f=!1}else f=kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ea(n),n):(ea(n),null)}return ea(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),qc(n,n.updateQueue),Gn(n),null);case 4:return ct(),t===null&&Yd(n.stateNode.containerInfo),Gn(n),null;case 10:return us(n.type),Gn(n),null;case 19:if(oe(cr),o=n.memoizedState,o===null)return Gn(n),null;if(f=(n.flags&128)!==0,m=o.rendering,m===null)if(f)Eu(o,!1);else{if(or!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Nc(t),m!==null){for(n.flags|=128,Eu(o,!1),t=m.updateQueue,n.updateQueue=t,qc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)tg(s,t),s=s.sibling;return xe(cr,cr.current&1|2),ln&&os(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Nt()>Qc&&(n.flags|=128,f=!0,Eu(o,!1),n.lanes=4194304)}else{if(!f)if(t=Nc(m),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,qc(n,t),Eu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!ln)return Gn(n),null}else 2*Nt()-o.renderingStartTime>Qc&&s!==536870912&&(n.flags|=128,f=!0,Eu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Nt(),t.sibling=null,s=cr.current,xe(cr,f?s&1|2:s&1),ln&&os(n,o.treeForkCount),t):(Gn(n),null);case 22:case 23:return ea(n),Xh(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Gn(n),n.subtreeFlags&6&&(n.flags|=8192)):Gn(n),s=n.updateQueue,s!==null&&qc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&oe(Do),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),us(yr),Gn(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function jE(t,n){switch(Dh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return us(yr),ct(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ft(n),null;case 31:if(n.memoizedState!==null){if(ea(n),n.alternate===null)throw Error(a(340));xo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(ea(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(cr),null;case 4:return ct(),null;case 10:return us(n.type),null;case 22:case 23:return ea(n),Xh(),t!==null&&oe(Do),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return us(yr),null;case 25:return null;default:return null}}function Iy(t,n){switch(Dh(n),n.tag){case 3:us(yr),ct();break;case 26:case 27:case 5:Ft(n);break;case 4:ct();break;case 31:n.memoizedState!==null&&ea(n);break;case 13:ea(n);break;case 19:oe(cr);break;case 10:us(n.type);break;case 22:case 23:ea(n),Xh(),t!==null&&oe(Do);break;case 24:us(yr)}}function wu(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&t)===t){o=void 0;var m=s.create,T=s.inst;o=m(),T.destroy=o}s=s.next}while(s!==f)}}catch(M){Mn(n,n.return,M)}}function qs(t,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,f=n;var X=s,ce=M;try{ce()}catch(_e){Mn(f,X,_e)}}}o=o.next}while(o!==m)}}catch(_e){Mn(n,n.return,_e)}}function xy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{_g(n,s)}catch(o){Mn(t,t.return,o)}}}function My(t,n,s){s.props=Lo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Mn(t,n,o)}}function Tu(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(f){Mn(t,n,f)}}function Fa(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){Mn(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Mn(t,n,f)}else s.current=null}function Ny(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){Mn(t,t.return,f)}}function Sd(t,n,s){try{var o=t.stateNode;uw(o,t.type,s,n),o[Jn]=n}catch(f){Mn(t,t.return,f)}}function Dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$s(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gr));else if(o!==4&&(o===27&&$s(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Rd(t,n,s),t=t.sibling;t!==null;)Rd(t,n,s),t=t.sibling}function Gc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&$s(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Gc(t,n,s),t=t.sibling;t!==null;)Gc(t,n,s),t=t.sibling}function Oy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);ei(n,o,s),n[gn]=t,n[Jn]=s}catch(m){Mn(t,t.return,m)}}var ms=!1,br=!1,Id=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Vr=null;function FE(t,n){if(t=t.containerInfo,Qd=df,t=ne(t),je(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var T=0,M=-1,X=-1,ce=0,_e=0,Re=t,he=null;t:for(;;){for(var ye;Re!==s||f!==0&&Re.nodeType!==3||(M=T+f),Re!==m||o!==0&&Re.nodeType!==3||(X=T+o),Re.nodeType===3&&(T+=Re.nodeValue.length),(ye=Re.firstChild)!==null;)he=Re,Re=ye;for(;;){if(Re===t)break t;if(he===s&&++ce===f&&(M=T),he===m&&++_e===o&&(X=T),(ye=Re.nextSibling)!==null)break;Re=he,he=Re.parentNode}Re=ye}s=M===-1||X===-1?null:{start:M,end:X}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kd={focusedElem:t,selectionRange:s},df=!1,Vr=n;Vr!==null;)if(n=Vr,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Vr=t;else for(;Vr!==null;){switch(n=Vr,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=n,f=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var lt=Lo(s.type,f);t=o.getSnapshotBeforeUpdate(lt,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(bt){Mn(s,s.return,bt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Zd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Vr=t;break}Vr=n.return}}function Vy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:gs(t,s),o&4&&wu(5,s);break;case 1:if(gs(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){Mn(s,s.return,T)}else{var f=Lo(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Mn(s,s.return,T)}}o&64&&xy(s),o&512&&Tu(s,s.return);break;case 3:if(gs(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{_g(t,n)}catch(T){Mn(s,s.return,T)}}break;case 27:n===null&&o&4&&Oy(s);case 26:case 5:gs(t,s),n===null&&o&4&&Ny(s),o&512&&Tu(s,s.return);break;case 12:gs(t,s);break;case 31:gs(t,s),o&4&&Uy(t,s);break;case 13:gs(t,s),o&4&&zy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=$E.bind(null,s),yw(t,s))));break;case 22:if(o=s.memoizedState!==null||ms,!o){n=n!==null&&n.memoizedState!==null||br,f=ms;var m=br;ms=o,(br=n)&&!m?ys(t,s,(s.subtreeFlags&8772)!==0):gs(t,s),ms=f,br=m}break;case 30:break;default:gs(t,s)}}function Py(t){var n=t.alternate;n!==null&&(t.alternate=null,Py(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&dr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qn=null,Fi=!1;function ps(t,n,s){for(s=s.child;s!==null;)Ly(t,n,s),s=s.sibling}function Ly(t,n,s){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Se,s)}catch{}switch(s.tag){case 26:br||Fa(s,n),ps(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:br||Fa(s,n);var o=Qn,f=Fi;$s(s.type)&&(Qn=s.stateNode,Fi=!1),ps(t,n,s),Du(s.stateNode),Qn=o,Fi=f;break;case 5:br||Fa(s,n);case 6:if(o=Qn,f=Fi,Qn=null,ps(t,n,s),Qn=o,Fi=f,Qn!==null)if(Fi)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(s.stateNode)}catch(m){Mn(s,n,m)}else try{Qn.removeChild(s.stateNode)}catch(m){Mn(s,n,m)}break;case 18:Qn!==null&&(Fi?(t=Qn,xv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Cl(t)):xv(Qn,s.stateNode));break;case 4:o=Qn,f=Fi,Qn=s.stateNode.containerInfo,Fi=!0,ps(t,n,s),Qn=o,Fi=f;break;case 0:case 11:case 14:case 15:qs(2,s,n),br||qs(4,s,n),ps(t,n,s);break;case 1:br||(Fa(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&My(s,n,o)),ps(t,n,s);break;case 21:ps(t,n,s);break;case 22:br=(o=br)||s.memoizedState!==null,ps(t,n,s),br=o;break;default:ps(t,n,s)}}function Uy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(s){Mn(n,n.return,s)}}}function zy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(s){Mn(n,n.return,s)}}function HE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ky),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ky),n;default:throw Error(a(435,t.tag))}}function Yc(t,n){var s=HE(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var f=JE.bind(null,t,o);o.then(f,f)}})}function Hi(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if($s(M.type)){Qn=M.stateNode,Fi=!1;break e}break;case 5:Qn=M.stateNode,Fi=!1;break e;case 3:case 4:Qn=M.stateNode.containerInfo,Fi=!0;break e}M=M.return}if(Qn===null)throw Error(a(160));Ly(m,T,f),Qn=null,Fi=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)By(n,t),n=n.sibling}var Ra=null;function By(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Hi(n,t),qi(t),o&4&&(qs(3,t,t.return),wu(3,t),qs(5,t,t.return));break;case 1:Hi(n,t),qi(t),o&512&&(br||s===null||Fa(s,s.return)),o&64&&ms&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=Ra;if(Hi(n,t),qi(t),o&512&&(br||s===null||Fa(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[jr]||m[gn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),ei(m,o,s),m[gn]=t,zn(m),o=m;break e;case"link":var T=Bv("link","href",f).get(o+(s.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(M,1);break t}}m=f.createElement(o),ei(m,o,s),f.head.appendChild(m);break;case"meta":if(T=Bv("meta","content",f).get(o+(s.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(M,1);break t}}m=f.createElement(o),ei(m,o,s),f.head.appendChild(m);break;default:throw Error(a(468,o))}m[gn]=t,zn(m),o=m}t.stateNode=o}else jv(f,t.type,t.stateNode);else t.stateNode=zv(f,o,t.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?jv(f,t.type,t.stateNode):zv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Hi(n,t),qi(t),o&512&&(br||s===null||Fa(s,s.return)),s!==null&&o&4&&Sd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Hi(n,t),qi(t),o&512&&(br||s===null||Fa(s,s.return)),t.flags&32){f=t.stateNode;try{rr(f,"")}catch(lt){Mn(t,t.return,lt)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Sd(t,f,s!==null?s.memoizedProps:f)),o&1024&&(Id=!0);break;case 6:if(Hi(n,t),qi(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(lt){Mn(t,t.return,lt)}}break;case 3:if(uf=null,f=Ra,Ra=of(n.containerInfo),Hi(n,t),Ra=f,qi(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(lt){Mn(t,t.return,lt)}Id&&(Id=!1,jy(t));break;case 4:o=Ra,Ra=of(t.stateNode.containerInfo),Hi(n,t),qi(t),Ra=o;break;case 12:Hi(n,t),qi(t);break;case 31:Hi(n,t),qi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yc(t,o)));break;case 13:Hi(n,t),qi(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wc=Nt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yc(t,o)));break;case 22:f=t.memoizedState!==null;var X=s!==null&&s.memoizedState!==null,ce=ms,_e=br;if(ms=ce||f,br=_e||X,Hi(n,t),br=_e,ms=ce,qi(t),o&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||X||ms||br||Uo(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){X=s=n;try{if(m=X.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=X.stateNode;var Re=X.memoizedProps.style,he=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;M.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(lt){Mn(X,X.return,lt)}}}else if(n.tag===6){if(s===null){X=n;try{X.stateNode.nodeValue=f?"":X.memoizedProps}catch(lt){Mn(X,X.return,lt)}}}else if(n.tag===18){if(s===null){X=n;try{var ye=X.stateNode;f?Mv(ye,!0):Mv(X.stateNode,!1)}catch(lt){Mn(X,X.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Yc(t,s))));break;case 19:Hi(n,t),qi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yc(t,o)));break;case 30:break;case 21:break;default:Hi(n,t),qi(t)}}function qi(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Dy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,m=Cd(t);Gc(t,m,f);break;case 5:var T=s.stateNode;s.flags&32&&(rr(T,""),s.flags&=-33);var M=Cd(t);Gc(t,M,T);break;case 3:case 4:var X=s.stateNode.containerInfo,ce=Cd(t);Rd(t,ce,X);break;default:throw Error(a(161))}}catch(_e){Mn(t,t.return,_e)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;jy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vy(t,n.alternate,n),n=n.sibling}function Uo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Uo(n);break;case 1:Fa(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&My(n,n.return,s),Uo(n);break;case 27:Du(n.stateNode);case 26:case 5:Fa(n,n.return),Uo(n);break;case 22:n.memoizedState===null&&Uo(n);break;case 30:Uo(n);break;default:Uo(n)}t=t.sibling}}function ys(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:ys(f,m,s),wu(4,m);break;case 1:if(ys(f,m,s),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ce){Mn(o,o.return,ce)}if(o=m,f=o.updateQueue,f!==null){var M=o.stateNode;try{var X=f.shared.hiddenCallbacks;if(X!==null)for(f.shared.hiddenCallbacks=null,f=0;f<X.length;f++)vg(X[f],M)}catch(ce){Mn(o,o.return,ce)}}s&&T&64&&xy(m),Tu(m,m.return);break;case 27:Oy(m);case 26:case 5:ys(f,m,s),s&&o===null&&T&4&&Ny(m),Tu(m,m.return);break;case 12:ys(f,m,s);break;case 31:ys(f,m,s),s&&T&4&&Uy(f,m);break;case 13:ys(f,m,s),s&&T&4&&zy(f,m);break;case 22:m.memoizedState===null&&ys(f,m,s),Tu(m,m.return);break;case 30:break;default:ys(f,m,s)}n=n.sibling}}function xd(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&uu(s))}function Md(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&uu(t))}function Ia(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fy(t,n,s,o),n=n.sibling}function Fy(t,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ia(t,n,s,o),f&2048&&wu(9,n);break;case 1:Ia(t,n,s,o);break;case 3:Ia(t,n,s,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&uu(t)));break;case 12:if(f&2048){Ia(t,n,s,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(X){Mn(n,n.return,X)}}else Ia(t,n,s,o);break;case 31:Ia(t,n,s,o);break;case 13:Ia(t,n,s,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Ia(t,n,s,o):Au(t,n):m._visibility&2?Ia(t,n,s,o):(m._visibility|=2,pl(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&xd(T,n);break;case 24:Ia(t,n,s,o),f&2048&&Md(n.alternate,n);break;default:Ia(t,n,s,o)}}function pl(t,n,s,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=s,X=o,ce=T.flags;switch(T.tag){case 0:case 11:case 15:pl(m,T,M,X,f),wu(8,T);break;case 23:break;case 22:var _e=T.stateNode;T.memoizedState!==null?_e._visibility&2?pl(m,T,M,X,f):Au(m,T):(_e._visibility|=2,pl(m,T,M,X,f)),f&&ce&2048&&xd(T.alternate,T);break;case 24:pl(m,T,M,X,f),f&&ce&2048&&Md(T.alternate,T);break;default:pl(m,T,M,X,f)}n=n.sibling}}function Au(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,f=o.flags;switch(o.tag){case 22:Au(s,o),f&2048&&xd(o.alternate,o);break;case 24:Au(s,o),f&2048&&Md(o.alternate,o);break;default:Au(s,o)}n=n.sibling}}var Su=8192;function gl(t,n,s){if(t.subtreeFlags&Su)for(t=t.child;t!==null;)Hy(t,n,s),t=t.sibling}function Hy(t,n,s){switch(t.tag){case 26:gl(t,n,s),t.flags&Su&&t.memoizedState!==null&&xw(s,Ra,t.memoizedState,t.memoizedProps);break;case 5:gl(t,n,s);break;case 3:case 4:var o=Ra;Ra=of(t.stateNode.containerInfo),gl(t,n,s),Ra=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Su,Su=16777216,gl(t,n,s),Su=o):gl(t,n,s));break;default:gl(t,n,s)}}function qy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Vr=o,Yy(o,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 0:case 11:case 15:Cu(t),t.flags&2048&&qs(9,t,t.return);break;case 3:Cu(t);break;case 12:Cu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Xc(t)):Cu(t);break;default:Cu(t)}}function Xc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Vr=o,Yy(o,t)}qy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qs(8,n,n.return),Xc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Xc(n));break;default:Xc(n)}t=t.sibling}}function Yy(t,n){for(;Vr!==null;){var s=Vr;switch(s.tag){case 0:case 11:case 15:qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:uu(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Vr=o;else e:for(s=t;Vr!==null;){o=Vr;var f=o.sibling,m=o.return;if(Py(o),o===s){Vr=null;break e}if(f!==null){f.return=m,Vr=f;break e}Vr=m}}}var qE={getCacheForType:function(t){var n=Jr(yr),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Jr(yr).controller.signal}},GE=typeof WeakMap=="function"?WeakMap:Map,Tn=0,Ln=null,$t=null,en=0,xn=0,ta=null,Gs=!1,yl=!1,Nd=!1,vs=0,or=0,Ys=0,zo=0,Dd=0,na=0,vl=0,Ru=null,Gi=null,Od=!1,Wc=0,Xy=0,Qc=1/0,Kc=null,Xs=null,xr=0,Ws=null,_l=null,_s=0,kd=0,Vd=null,Wy=null,Iu=0,Pd=null;function ra(){return(Tn&2)!==0&&en!==0?en&-en:G.T!==null?Fd():Oa()}function Qy(){if(na===0)if((en&536870912)===0||ln){var t=$n;$n<<=1,($n&3932160)===0&&($n=262144),na=t}else na=536870912;return t=Zi.current,t!==null&&(t.flags|=32),na}function Yi(t,n,s){(t===Ln&&(xn===2||xn===9)||t.cancelPendingCommit!==null)&&(bl(t,0),Qs(t,en,na,!1)),tr(t,s),((Tn&2)===0||t!==Ln)&&(t===Ln&&((Tn&2)===0&&(zo|=s),or===4&&Qs(t,en,na,!1)),Ha(t))}function Ky(t,n,s){if((Tn&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Dn(t,n),f=o?WE(t,n):Ud(t,n,!0),m=o;do{if(f===0){yl&&!o&&Qs(t,n,0,!1);break}else{if(s=t.current.alternate,m&&!YE(s)){f=Ud(t,n,!1),m=!1;continue}if(f===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;f=Ru;var X=M.current.memoizedState.isDehydrated;if(X&&(bl(M,T).flags|=256),T=Ud(M,T,!1),T!==2){if(Nd&&!X){M.errorRecoveryDisabledLanes|=m,zo|=m,f=4;break e}m=Gi,Gi=f,m!==null&&(Gi===null?Gi=m:Gi.push.apply(Gi,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){bl(t,0),Qs(t,n,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,na,!Gs);break e;case 2:Gi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Wc+300-Nt(),10<f)){if(Qs(o,n,na,!Gs),Nn(o,0,!0)!==0)break e;_s=n,o.timeoutHandle=Rv($y.bind(null,o,s,Gi,Kc,Od,n,na,zo,vl,Gs,m,"Throttled",-0,0),f);break e}$y(o,s,Gi,Kc,Od,n,na,zo,vl,Gs,m,null,-0,0)}}break}while(!0);Ha(t)}function $y(t,n,s,o,f,m,T,M,X,ce,_e,Re,he,ye){if(t.timeoutHandle=-1,Re=n.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gr},Hy(n,m,Re);var lt=(m&62914560)===m?Wc-Nt():(m&4194048)===m?Xy-Nt():0;if(lt=Mw(Re,lt),lt!==null){_s=m,t.cancelPendingCommit=lt(av.bind(null,t,n,m,s,o,f,T,M,X,_e,Re,null,he,ye)),Qs(t,m,T,!ce);return}}av(t,n,m,s,o,f,T,M,X)}function YE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],m=f.getSnapshot;f=f.value;try{if(!fe(m(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(t,n,s,o){n&=~Dd,n&=~zo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var m=31-De(f),T=1<<m;o[m]=-1,f&=~T}s!==0&&Wn(t,s,n)}function $c(){return(Tn&6)===0?(xu(0),!1):!0}function Ld(){if($t!==null){if(xn===0)var t=$t.return;else t=$t,ls=Mo=null,Zh(t),cl=null,fu=0,t=$t;for(;t!==null;)Iy(t.alternate,t),t=t.return;$t=null}}function bl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,hw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),_s=0,Ld(),Ln=t,$t=s=ss(t.current,null),en=n,xn=0,ta=null,Gs=!1,yl=Dn(t,n),Nd=!1,vl=na=Dd=zo=Ys=or=0,Gi=Ru=null,Od=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-De(o),m=1<<f;n|=t[f],o&=~m}return vs=n,Ua(),s}function Jy(t,n){Ot=null,G.H=_u,n===ul||n===Cc?(n=mg(),xn=3):n===jh?(n=mg(),xn=4):xn=n===pd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ta=n,$t===null&&(or=1,Bc(t,ha(n,t.current)))}function Zy(){var t=Zi.current;return t===null?!0:(en&4194048)===en?ga===null:(en&62914560)===en||(en&536870912)!==0?t===ga:!1}function ev(){var t=G.H;return G.H=_u,t===null?_u:t}function tv(){var t=G.A;return G.A=qE,t}function Jc(){or=4,Gs||(en&4194048)!==en&&Zi.current!==null||(yl=!0),(Ys&134217727)===0&&(zo&134217727)===0||Ln===null||Qs(Ln,en,na,!1)}function Ud(t,n,s){var o=Tn;Tn|=2;var f=ev(),m=tv();(Ln!==t||en!==n)&&(Kc=null,bl(t,n)),n=!1;var T=or;e:do try{if(xn!==0&&$t!==null){var M=$t,X=ta;switch(xn){case 8:Ld(),T=6;break e;case 3:case 2:case 9:case 6:Zi.current===null&&(n=!0);var ce=xn;if(xn=0,ta=null,El(t,M,X,ce),s&&yl){T=0;break e}break;default:ce=xn,xn=0,ta=null,El(t,M,X,ce)}}XE(),T=or;break}catch(_e){Jy(t,_e)}while(!0);return n&&t.shellSuspendCounter++,ls=Mo=null,Tn=o,G.H=f,G.A=m,$t===null&&(Ln=null,en=0,Ua()),T}function XE(){for(;$t!==null;)nv($t)}function WE(t,n){var s=Tn;Tn|=2;var o=ev(),f=tv();Ln!==t||en!==n?(Kc=null,Qc=Nt()+500,bl(t,n)):yl=Dn(t,n);e:do try{if(xn!==0&&$t!==null){n=$t;var m=ta;t:switch(xn){case 1:xn=0,ta=null,El(t,n,m,1);break;case 2:case 9:if(hg(m)){xn=0,ta=null,rv(n);break}n=function(){xn!==2&&xn!==9||Ln!==t||(xn=7),Ha(t)},m.then(n,n);break e;case 3:xn=7;break e;case 4:xn=5;break e;case 7:hg(m)?(xn=0,ta=null,rv(n)):(xn=0,ta=null,El(t,n,m,7));break;case 5:var T=null;switch($t.tag){case 26:T=$t.memoizedState;case 5:case 27:var M=$t;if(T?Fv(T):M.stateNode.complete){xn=0,ta=null;var X=M.sibling;if(X!==null)$t=X;else{var ce=M.return;ce!==null?($t=ce,Zc(ce)):$t=null}break t}}xn=0,ta=null,El(t,n,m,5);break;case 6:xn=0,ta=null,El(t,n,m,6);break;case 8:Ld(),or=6;break e;default:throw Error(a(462))}}QE();break}catch(_e){Jy(t,_e)}while(!0);return ls=Mo=null,G.H=o,G.A=f,Tn=s,$t!==null?0:(Ln=null,en=0,Ua(),or)}function QE(){for(;$t!==null&&!Xt();)nv($t)}function nv(t){var n=Cy(t.alternate,t,vs);t.memoizedProps=t.pendingProps,n===null?Zc(t):$t=n}function rv(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=by(s,n,n.pendingProps,n.type,void 0,en);break;case 11:n=by(s,n,n.pendingProps,n.type.render,n.ref,en);break;case 5:Zh(n);default:Iy(s,n),n=$t=tg(n,vs),n=Cy(s,n,vs)}t.memoizedProps=t.pendingProps,n===null?Zc(t):$t=n}function El(t,n,s,o){ls=Mo=null,Zh(n),cl=null,fu=0;var f=n.return;try{if(LE(t,f,n,s,en)){or=1,Bc(t,ha(s,t.current)),$t=null;return}}catch(m){if(f!==null)throw $t=f,m;or=1,Bc(t,ha(s,t.current)),$t=null;return}n.flags&32768?(ln||o===1?t=!0:yl||(en&536870912)!==0?t=!1:(Gs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Zi.current,o!==null&&o.tag===13&&(o.flags|=16384))),iv(n,t)):Zc(n)}function Zc(t){var n=t;do{if((n.flags&32768)!==0){iv(n,Gs);return}t=n.return;var s=BE(n.alternate,n,vs);if(s!==null){$t=s;return}if(n=n.sibling,n!==null){$t=n;return}$t=n=t}while(n!==null);or===0&&(or=5)}function iv(t,n){do{var s=jE(t.alternate,t);if(s!==null){s.flags&=32767,$t=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){$t=t;return}$t=t=s}while(t!==null);or=6,$t=null}function av(t,n,s,o,f,m,T,M,X){t.cancelPendingCommit=null;do ef();while(xr!==0);if((Tn&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=nl,At(t,s,m,T,M,X),t===Ln&&($t=Ln=null,en=0),_l=n,Ws=t,_s=s,kd=m,Vd=f,Wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZE(g,function(){return cv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,f=Q.p,Q.p=2,T=Tn,Tn|=4;try{FE(t,n,s)}finally{Tn=T,Q.p=f,G.T=o}}xr=1,sv(),ov(),lv()}}function sv(){if(xr===1){xr=0;var t=Ws,n=_l,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=Q.p;Q.p=2;var f=Tn;Tn|=4;try{By(n,t);var m=Kd,T=ne(t.containerInfo),M=m.focusedElem,X=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&ot(M.ownerDocument.documentElement,M)){if(X!==null&&je(M)){var ce=X.start,_e=X.end;if(_e===void 0&&(_e=ce),"selectionStart"in M)M.selectionStart=ce,M.selectionEnd=Math.min(_e,M.value.length);else{var Re=M.ownerDocument||document,he=Re&&Re.defaultView||window;if(he.getSelection){var ye=he.getSelection(),lt=M.textContent.length,bt=Math.min(X.start,lt),Pn=X.end===void 0?bt:Math.min(X.end,lt);!ye.extend&&bt>Pn&&(T=Pn,Pn=bt,bt=T);var re=Je(M,bt),$=Je(M,Pn);if(re&&$&&(ye.rangeCount!==1||ye.anchorNode!==re.node||ye.anchorOffset!==re.offset||ye.focusNode!==$.node||ye.focusOffset!==$.offset)){var le=Re.createRange();le.setStart(re.node,re.offset),ye.removeAllRanges(),bt>Pn?(ye.addRange(le),ye.extend($.node,$.offset)):(le.setEnd($.node,$.offset),ye.addRange(le))}}}}for(Re=[],ye=M;ye=ye.parentNode;)ye.nodeType===1&&Re.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Re.length;M++){var Ae=Re[M];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}df=!!Qd,Kd=Qd=null}finally{Tn=f,Q.p=o,G.T=s}}t.current=n,xr=2}}function ov(){if(xr===2){xr=0;var t=Ws,n=_l,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=Q.p;Q.p=2;var f=Tn;Tn|=4;try{Vy(t,n.alternate,n)}finally{Tn=f,Q.p=o,G.T=s}}xr=3}}function lv(){if(xr===4||xr===3){xr=0,vt();var t=Ws,n=_l,s=_s,o=Wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xr=5:(xr=0,_l=Ws=null,uv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Xs=null),Xe(s),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,f=Q.p,Q.p=2,G.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{G.T=n,Q.p=f}}(_s&3)!==0&&ef(),Ha(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===Pd?Iu++:(Iu=0,Pd=t):Iu=0,xu(0)}}function uv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,uu(n)))}function ef(){return sv(),ov(),lv(),cv()}function cv(){if(xr!==5)return!1;var t=Ws,n=kd;kd=0;var s=Xe(_s),o=G.T,f=Q.p;try{Q.p=32>s?32:s,G.T=null,s=Vd,Vd=null;var m=Ws,T=_s;if(xr=0,_l=Ws=null,_s=0,(Tn&6)!==0)throw Error(a(331));var M=Tn;if(Tn|=4,Gy(m.current),Fy(m,m.current,T,s),Tn=M,xu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Se,m)}catch{}return!0}finally{Q.p=f,G.T=o,uv(t,n)}}function fv(t,n,s){n=ha(s,n),n=md(t.stateNode,n,2),t=js(t,n,2),t!==null&&(tr(t,2),Ha(t))}function Mn(t,n,s){if(t.tag===3)fv(t,t,s);else for(;n!==null;){if(n.tag===3){fv(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xs===null||!Xs.has(o))){t=ha(s,t),s=hy(2),o=js(n,s,2),o!==null&&(dy(s,o,n,t),tr(o,2),Ha(o));break}}n=n.return}}function zd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new GE;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(Nd=!0,f.add(s),t=KE.bind(null,t,n,s),n.then(t,t))}function KE(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ln===t&&(en&s)===s&&(or===4||or===3&&(en&62914560)===en&&300>Nt()-Wc?(Tn&2)===0&&bl(t,0):Dd|=s,vl===en&&(vl=0)),Ha(t)}function hv(t,n){n===0&&(n=$e()),t=xi(t,n),t!==null&&(tr(t,n),Ha(t))}function $E(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),hv(t,s)}function JE(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),hv(t,s)}function ZE(t,n){return Lt(t,n)}var tf=null,wl=null,Bd=!1,nf=!1,jd=!1,Ks=0;function Ha(t){t!==wl&&t.next===null&&(wl===null?tf=wl=t:wl=wl.next=t),nf=!0,Bd||(Bd=!0,tw())}function xu(t,n){if(!jd&&nf){jd=!0;do for(var s=!1,o=tf;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-De(42|t)+1)-1,m&=f&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,gv(o,m))}else m=en,m=Nn(o,o===Ln?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Dn(o,m)||(s=!0,gv(o,m));o=o.next}while(s);jd=!1}}function ew(){dv()}function dv(){nf=Bd=!1;var t=0;Ks!==0&&fw()&&(t=Ks);for(var n=Nt(),s=null,o=tf;o!==null;){var f=o.next,m=mv(o,n);m===0?(o.next=null,s===null?tf=f:s.next=f,f===null&&(wl=s)):(s=o,(t!==0||(m&3)!==0)&&(nf=!0)),o=f}xr!==0&&xr!==5||xu(t),Ks!==0&&(Ks=0)}function mv(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-De(m),M=1<<T,X=f[T];X===-1?((M&s)===0||(M&o)!==0)&&(f[T]=zr(M,n)):X<=n&&(t.expiredLanes|=M),m&=~M}if(n=Ln,s=en,s=Nn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(xn===2||xn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&hn(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Dn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&hn(o),Xe(s)){case 2:case 8:s=C;break;case 32:s=g;break;case 268435456:s=V;break;default:s=g}return o=pv.bind(null,t),s=Lt(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&hn(o),t.callbackPriority=2,t.callbackNode=null,2}function pv(t,n){if(xr!==0&&xr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ef()&&t.callbackNode!==s)return null;var o=en;return o=Nn(t,t===Ln?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ky(t,o,n),mv(t,Nt()),t.callbackNode!=null&&t.callbackNode===s?pv.bind(null,t):null)}function gv(t,n){if(ef())return null;Ky(t,n,!0)}function tw(){dw(function(){(Tn&6)!==0?Lt(En,ew):dv()})}function Fd(){if(Ks===0){var t=ol;t===0&&(t=Ut,Ut<<=1,(Ut&261888)===0&&(Ut=256)),Ks=t}return Ks}function yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wi(""+t)}function vv(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function nw(t,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var m=yv((f[Jn]||null).action),T=o.submitter;T&&(n=(n=T[Jn]||null)?yv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new Li("action","action",null,o,f);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var X=T?vv(f,T):new FormData(f);ld(s,{pending:!0,data:X,method:f.method,action:m},null,X)}}else typeof m=="function"&&(M.preventDefault(),X=T?vv(f,T):new FormData(f),ld(s,{pending:!0,data:X,method:f.method,action:m},m,X))},currentTarget:f}]})}}for(var Hd=0;Hd<Ii.length;Hd++){var qd=Ii[Hd],rw=qd.toLowerCase(),iw=qd[0].toUpperCase()+qd.slice(1);Cn(rw,"on"+iw)}Cn(ke,"onAnimationEnd"),Cn(We,"onAnimationIteration"),Cn(Bt,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Zt,"onTransitionRun"),Cn(Dt,"onTransitionStart"),Cn(Kt,"onTransitionCancel"),Cn(un,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function _v(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],f=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],X=M.instance,ce=M.currentTarget;if(M=M.listener,X!==m&&f.isPropagationStopped())break e;m=M,f.currentTarget=ce;try{m(f)}catch(_e){Kr(_e)}f.currentTarget=null,m=X}else for(T=0;T<o.length;T++){if(M=o[T],X=M.instance,ce=M.currentTarget,M=M.listener,X!==m&&f.isPropagationStopped())break e;m=M,f.currentTarget=ce;try{m(f)}catch(_e){Kr(_e)}f.currentTarget=null,m=X}}}}function Jt(t,n){var s=n[Di];s===void 0&&(s=n[Di]=new Set);var o=t+"__bubble";s.has(o)||(bv(n,t,2,!1),s.add(o))}function Gd(t,n,s){var o=0;n&&(o|=4),bv(s,t,o,n)}var rf="_reactListening"+Math.random().toString(36).slice(2);function Yd(t){if(!t[rf]){t[rf]=!0,Sr.forEach(function(s){s!=="selectionchange"&&(aw.has(s)||Gd(s,!1,t),Gd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[rf]||(n[rf]=!0,Gd("selectionchange",!1,n))}}function bv(t,n,s,o){switch(Qv(n)){case 2:var f=Ow;break;case 8:f=kw;break;default:f=om}s=f.bind(null,n,s,t),f=void 0,!Vi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function Xd(t,n,s,o,f){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===f)break;if(T===4)for(T=o.return;T!==null;){var X=T.tag;if((X===3||X===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;M!==null;){if(T=Ai(M),T===null)return;if(X=T.tag,X===5||X===6||X===26||X===27){o=m=T;continue e}M=M.parentNode}}o=o.return}Wr(function(){var ce=m,_e=ci(s),Re=[];e:{var he=pn.get(t);if(he!==void 0){var ye=Li,lt=t;switch(t){case"keypress":if(Ki(s)===0)break e;case"keydown":case"keyup":ye=So;break;case"focusin":lt="focus",ye=ut;break;case"focusout":lt="blur",ye=ut;break;case"beforeblur":case"afterblur":ye=ut;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Fe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=ze;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=y;break;case ke:case We:case Bt:ye=Vt;break;case un:ye=k;break;case"scroll":case"scrollend":ye=K;break;case"wheel":ye=pe;break;case"copy":case"cut":case"paste":ye=kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Sa;break;case"toggle":case"beforetoggle":ye=St}var bt=(n&4)!==0,Pn=!bt&&(t==="scroll"||t==="scrollend"),re=bt?he!==null?he+"Capture":null:he;bt=[];for(var $=ce,le;$!==null;){var Ae=$;if(le=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||le===null||re===null||(Ae=Ir($,re),Ae!=null&&bt.push(Nu($,Ae,le))),Pn)break;$=$.return}0<bt.length&&(he=new ye(he,lt,null,s,_e),Re.push({event:he,listeners:bt}))}}if((n&7)===0){e:{if(he=t==="mouseover"||t==="pointerover",ye=t==="mouseout"||t==="pointerout",he&&s!==Aa&&(lt=s.relatedTarget||s.fromElement)&&(Ai(lt)||lt[ii]))break e;if((ye||he)&&(he=_e.window===_e?_e:(he=_e.ownerDocument)?he.defaultView||he.parentWindow:window,ye?(lt=s.relatedTarget||s.toElement,ye=ce,lt=lt?Ai(lt):null,lt!==null&&(Pn=c(lt),bt=lt.tag,lt!==Pn||bt!==5&&bt!==27&&bt!==6)&&(lt=null)):(ye=null,lt=ce),ye!==lt)){if(bt=Fe,Ae="onMouseLeave",re="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(bt=Sa,Ae="onPointerLeave",re="onPointerEnter",$="pointer"),Pn=ye==null?he:Hr(ye),le=lt==null?he:Hr(lt),he=new bt(Ae,$+"leave",ye,s,_e),he.target=Pn,he.relatedTarget=le,Ae=null,Ai(_e)===ce&&(bt=new bt(re,$+"enter",lt,s,_e),bt.target=le,bt.relatedTarget=Pn,Ae=bt),Pn=Ae,ye&&lt)t:{for(bt=sw,re=ye,$=lt,le=0,Ae=re;Ae;Ae=bt(Ae))le++;Ae=0;for(var gt=$;gt;gt=bt(gt))Ae++;for(;0<le-Ae;)re=bt(re),le--;for(;0<Ae-le;)$=bt($),Ae--;for(;le--;){if(re===$||$!==null&&re===$.alternate){bt=re;break t}re=bt(re),$=bt($)}bt=null}else bt=null;ye!==null&&Ev(Re,he,ye,bt,!1),lt!==null&&Pn!==null&&Ev(Re,Pn,lt,bt,!0)}}e:{if(he=ce?Hr(ce):window,ye=he.nodeName&&he.nodeName.toLowerCase(),ye==="select"||ye==="input"&&he.type==="file")var _n=iu;else if(ru(he))if(au)_n=J;else{_n=D;var ht=S}else ye=he.nodeName,!ye||ye.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ce&&la(ce.elementType)&&(_n=iu):_n=B;if(_n&&(_n=_n(t,ce))){Hn(Re,_n,s,_e);break e}ht&&ht(t,he,ce),t==="focusout"&&ce&&he.type==="number"&&ce.memoizedProps.value!=null&&Pa(he,"number",he.value)}switch(ht=ce?Hr(ce):window,t){case"focusin":(ru(ht)||ht.contentEditable==="true")&&(He=ht,vn=ce,Ze=null);break;case"focusout":Ze=vn=He=null;break;case"mousedown":zt=!0;break;case"contextmenu":case"mouseup":case"dragend":zt=!1,Sn(Re,s,_e);break;case"selectionchange":if(nt)break;case"keydown":case"keyup":Sn(Re,s,_e)}var Pt;if(mn)e:{switch(t){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else ns?fa(t,s)&&(tn="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(tn="onCompositionStart");tn&&(zi&&s.locale!=="ko"&&(ns||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&ns&&(Pt=ca()):(pr=_e,Or="value"in pr?pr.value:pr.textContent,ns=!0)),ht=af(ce,tn),0<ht.length&&(tn=new gr(tn,t,null,s,_e),Re.push({event:tn,listeners:ht}),Pt?tn.data=Pt:(Pt=ts(s),Pt!==null&&(tn.data=Pt)))),(Pt=pi?Ch(t,s):_c(t,s))&&(tn=af(ce,"onBeforeInput"),0<tn.length&&(ht=new gr("onBeforeInput","beforeinput",null,s,_e),Re.push({event:ht,listeners:tn}),ht.data=Pt)),nw(Re,t,ce,s,_e)}_v(Re,n)})}function Nu(t,n,s){return{instance:t,listener:n,currentTarget:s}}function af(t,n){for(var s=n+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ir(t,s),f!=null&&o.unshift(Nu(t,f,m)),f=Ir(t,n),f!=null&&o.push(Nu(t,f,m))),t.tag===3)return o;t=t.return}return[]}function sw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ev(t,n,s,o,f){for(var m=n._reactName,T=[];s!==null&&s!==o;){var M=s,X=M.alternate,ce=M.stateNode;if(M=M.tag,X!==null&&X===o)break;M!==5&&M!==26&&M!==27||ce===null||(X=ce,f?(ce=Ir(s,m),ce!=null&&T.unshift(Nu(s,ce,X))):f||(ce=Ir(s,m),ce!=null&&T.push(Nu(s,ce,X)))),s=s.return}T.length!==0&&t.push({event:n,listeners:T})}var ow=/\r\n?/g,lw=/\u0000|\uFFFD/g;function wv(t){return(typeof t=="string"?t:""+t).replace(ow,`
`).replace(lw,"")}function Tv(t,n){return n=wv(n),wv(t)===n}function Vn(t,n,s,o,f,m){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rr(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rr(t,""+o);break;case"className":Wt(t,"class",o);break;case"tabIndex":Wt(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Wt(t,s,o);break;case"style":qr(t,o,m);break;case"data":if(n!=="object"){Wt(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Wi(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&Vn(t,n,"name",f.name,f,null),Vn(t,n,"formEncType",f.formEncType,f,null),Vn(t,n,"formMethod",f.formMethod,f,null),Vn(t,n,"formTarget",f.formTarget,f,null)):(Vn(t,n,"encType",f.encType,f,null),Vn(t,n,"method",f.method,f,null),Vn(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Wi(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Gr);break;case"onScroll":o!=null&&Jt("scroll",t);break;case"onScrollEnd":o!=null&&Jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Wi(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Jt("beforetoggle",t),Jt("toggle",t),oi(t,"popover",o);break;case"xlinkActuate":dn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":dn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":dn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":dn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":dn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":dn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":dn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":dn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":dn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ua.get(s)||s,oi(t,s,o))}}function Wd(t,n,s,o,f,m){switch(s){case"style":qr(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?rr(t,o):(typeof o=="number"||typeof o=="bigint")&&rr(t,""+o);break;case"onScroll":o!=null&&Jt("scroll",t);break;case"onScrollEnd":o!=null&&Jt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),m=t[Jn]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,f);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):oi(t,s,o)}}}function ei(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",t),Jt("load",t);var o=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var T=s[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Vn(t,n,m,T,s,null)}}f&&Vn(t,n,"srcSet",s.srcSet,s,null),o&&Vn(t,n,"src",s.src,s,null);return;case"input":Jt("invalid",t);var M=m=T=f=null,X=null,ce=null;for(o in s)if(s.hasOwnProperty(o)){var _e=s[o];if(_e!=null)switch(o){case"name":f=_e;break;case"type":T=_e;break;case"checked":X=_e;break;case"defaultChecked":ce=_e;break;case"value":m=_e;break;case"defaultValue":M=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(a(137,n));break;default:Vn(t,n,o,_e,s,null)}}es(t,m,M,X,ce,T,f,!1);return;case"select":Jt("invalid",t),o=T=m=null;for(f in s)if(s.hasOwnProperty(f)&&(M=s[f],M!=null))switch(f){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:Vn(t,n,f,M,s,null)}n=m,s=T,t.multiple=!!o,n!=null?yn(t,!!o,n,!1):s!=null&&yn(t,!!o,s,!0);return;case"textarea":Jt("invalid",t),m=f=o=null;for(T in s)if(s.hasOwnProperty(T)&&(M=s[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":f=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:Vn(t,n,T,M,s,null)}ki(t,o,f,m);return;case"option":for(X in s)if(s.hasOwnProperty(X)&&(o=s[X],o!=null))switch(X){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Vn(t,n,X,o,s,null)}return;case"dialog":Jt("beforetoggle",t),Jt("toggle",t),Jt("cancel",t),Jt("close",t);break;case"iframe":case"object":Jt("load",t);break;case"video":case"audio":for(o=0;o<Mu.length;o++)Jt(Mu[o],t);break;case"image":Jt("error",t),Jt("load",t);break;case"details":Jt("toggle",t);break;case"embed":case"source":case"link":Jt("error",t),Jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in s)if(s.hasOwnProperty(ce)&&(o=s[ce],o!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Vn(t,n,ce,o,s,null)}return;default:if(la(n)){for(_e in s)s.hasOwnProperty(_e)&&(o=s[_e],o!==void 0&&Wd(t,n,_e,o,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(o=s[M],o!=null&&Vn(t,n,M,o,s,null))}function uw(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,M=null,X=null,ce=null,_e=null;for(ye in s){var Re=s[ye];if(s.hasOwnProperty(ye)&&Re!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":X=Re;default:o.hasOwnProperty(ye)||Vn(t,n,ye,null,o,Re)}}for(var he in o){var ye=o[he];if(Re=s[he],o.hasOwnProperty(he)&&(ye!=null||Re!=null))switch(he){case"type":m=ye;break;case"name":f=ye;break;case"checked":ce=ye;break;case"defaultChecked":_e=ye;break;case"value":T=ye;break;case"defaultValue":M=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(a(137,n));break;default:ye!==Re&&Vn(t,n,he,ye,o,Re)}}wa(t,T,M,X,ce,_e,m,f);return;case"select":ye=T=M=he=null;for(m in s)if(X=s[m],s.hasOwnProperty(m)&&X!=null)switch(m){case"value":break;case"multiple":ye=X;default:o.hasOwnProperty(m)||Vn(t,n,m,null,o,X)}for(f in o)if(m=o[f],X=s[f],o.hasOwnProperty(f)&&(m!=null||X!=null))switch(f){case"value":he=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==X&&Vn(t,n,f,m,o,X)}n=M,s=T,o=ye,he!=null?yn(t,!!s,he,!1):!!o!=!!s&&(n!=null?yn(t,!!s,n,!0):yn(t,!!s,s?[]:"",!1));return;case"textarea":ye=he=null;for(M in s)if(f=s[M],s.hasOwnProperty(M)&&f!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Vn(t,n,M,null,o,f)}for(T in o)if(f=o[T],m=s[T],o.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":he=f;break;case"defaultValue":ye=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Vn(t,n,T,f,o,m)}oa(t,he,ye);return;case"option":for(var lt in s)if(he=s[lt],s.hasOwnProperty(lt)&&he!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Vn(t,n,lt,null,o,he)}for(X in o)if(he=o[X],ye=s[X],o.hasOwnProperty(X)&&he!==ye&&(he!=null||ye!=null))switch(X){case"selected":t.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Vn(t,n,X,he,o,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in s)he=s[bt],s.hasOwnProperty(bt)&&he!=null&&!o.hasOwnProperty(bt)&&Vn(t,n,bt,null,o,he);for(ce in o)if(he=o[ce],ye=s[ce],o.hasOwnProperty(ce)&&he!==ye&&(he!=null||ye!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,n));break;default:Vn(t,n,ce,he,o,ye)}return;default:if(la(n)){for(var Pn in s)he=s[Pn],s.hasOwnProperty(Pn)&&he!==void 0&&!o.hasOwnProperty(Pn)&&Wd(t,n,Pn,void 0,o,he);for(_e in o)he=o[_e],ye=s[_e],!o.hasOwnProperty(_e)||he===ye||he===void 0&&ye===void 0||Wd(t,n,_e,he,o,ye);return}}for(var re in s)he=s[re],s.hasOwnProperty(re)&&he!=null&&!o.hasOwnProperty(re)&&Vn(t,n,re,null,o,he);for(Re in o)he=o[Re],ye=s[Re],!o.hasOwnProperty(Re)||he===ye||he==null&&ye==null||Vn(t,n,Re,he,o,ye)}function Av(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],m=f.transferSize,T=f.initiatorType,M=f.duration;if(m&&M&&Av(T)){for(T=0,M=f.responseEnd,o+=1;o<s.length;o++){var X=s[o],ce=X.startTime;if(ce>M)break;var _e=X.transferSize,Re=X.initiatorType;_e&&Av(Re)&&(X=X.responseEnd,T+=_e*(X<M?1:(M-ce)/(X-ce)))}if(--o,n+=8*(m+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Kd=null;function sf(t){return t.nodeType===9?t:t.ownerDocument}function Sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jd=null;function fw(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,dw=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(t){return Iv.resolve(null).then(t).catch(mw)}:Rv;function mw(t){setTimeout(function(){throw t})}function $s(t){return t==="head"}function xv(t,n){var s=n,o=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(f),Cl(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Du(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Du(s);for(var m=s.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[jr]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=T}}else s==="body"&&Du(t.ownerDocument.body);s=f}while(s);Cl(n)}function Mv(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function Zd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Zd(s),dr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function pw(t,n,s,o){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[jr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ya(t.nextSibling),t===null)break}return null}function gw(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ya(t.nextSibling),t===null))return null;return t}function Nv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ya(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yw(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ya(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var nm=null;function Dv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ya(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Ov(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function kv(t,n,s){switch(n=sf(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Du(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);dr(t)}var va=new Map,Vv=new Set;function of(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bs=Q.d;Q.d={f:vw,r:_w,D:bw,C:Ew,L:ww,m:Tw,X:Sw,S:Aw,M:Cw};function vw(){var t=bs.f(),n=$c();return t||n}function _w(t){var n=Fr(t);n!==null&&n.tag===5&&n.type==="form"?Jg(n):bs.r(t)}var Tl=typeof document>"u"?null:document;function Pv(t,n,s){var o=Tl;if(o&&typeof n=="string"&&n){var f=On(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Vv.has(f)||(Vv.add(f),t={rel:t,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),ei(n,"link",t),zn(n),o.head.appendChild(n)))}}function bw(t){bs.D(t),Pv("dns-prefetch",t,null)}function Ew(t,n){bs.C(t,n),Pv("preconnect",t,n)}function ww(t,n,s){bs.L(t,n,s);var o=Tl;if(o&&t&&n){var f='link[rel="preload"][as="'+On(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+On(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+On(s.imageSizes)+'"]')):f+='[href="'+On(t)+'"]';var m=f;switch(n){case"style":m=Al(t);break;case"script":m=Sl(t)}va.has(m)||(t=O({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),va.set(m,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(Ou(m))||n==="script"&&o.querySelector(ku(m))||(n=o.createElement("link"),ei(n,"link",t),zn(n),o.head.appendChild(n)))}}function Tw(t,n){bs.m(t,n);var s=Tl;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+On(o)+'"][href="'+On(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Sl(t)}if(!va.has(m)&&(t=O({rel:"modulepreload",href:t},n),va.set(m,t),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ku(m)))return}o=s.createElement("link"),ei(o,"link",t),zn(o),s.head.appendChild(o)}}}function Aw(t,n,s){bs.S(t,n,s);var o=Tl;if(o&&t){var f=Dr(o).hoistableStyles,m=Al(t);n=n||"default";var T=f.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Ou(m)))M.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":n},s),(s=va.get(m))&&rm(t,s);var X=T=o.createElement("link");zn(X),ei(X,"link",t),X._p=new Promise(function(ce,_e){X.onload=ce,X.onerror=_e}),X.addEventListener("load",function(){M.loading|=1}),X.addEventListener("error",function(){M.loading|=2}),M.loading|=4,lf(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},f.set(m,T)}}}function Sw(t,n){bs.X(t,n);var s=Tl;if(s&&t){var o=Dr(s).hoistableScripts,f=Sl(t),m=o.get(f);m||(m=s.querySelector(ku(f)),m||(t=O({src:t,async:!0},n),(n=va.get(f))&&im(t,n),m=s.createElement("script"),zn(m),ei(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Cw(t,n){bs.M(t,n);var s=Tl;if(s&&t){var o=Dr(s).hoistableScripts,f=Sl(t),m=o.get(f);m||(m=s.querySelector(ku(f)),m||(t=O({src:t,async:!0,type:"module"},n),(n=va.get(f))&&im(t,n),m=s.createElement("script"),zn(m),ei(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Lv(t,n,s,o){var f=(f=Ke.current)?of(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Al(s.href),s=Dr(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Al(s.href);var m=Dr(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(Ou(t)))&&!m._p&&(T.instance=m,T.state.loading=5),va.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},va.set(t,s),m||Rw(f,t,s,T.state))),n&&o===null)throw Error(a(528,""));return T}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(s),s=Dr(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Al(t){return'href="'+On(t)+'"'}function Ou(t){return'link[rel="stylesheet"]['+t+"]"}function Uv(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function Rw(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ei(n,"link",s),zn(n),t.head.appendChild(n))}function Sl(t){return'[src="'+On(t)+'"]'}function ku(t){return"script[async]"+t}function zv(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+On(s.href)+'"]');if(o)return n.instance=o,zn(o),o;var f=O({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),zn(o),ei(o,"style",f),lf(o,s.precedence,t),n.instance=o;case"stylesheet":f=Al(s.href);var m=t.querySelector(Ou(f));if(m)return n.state.loading|=4,n.instance=m,zn(m),m;o=Uv(s),(f=va.get(f))&&rm(o,f),m=(t.ownerDocument||t).createElement("link"),zn(m);var T=m;return T._p=new Promise(function(M,X){T.onload=M,T.onerror=X}),ei(m,"link",o),n.state.loading|=4,lf(m,s.precedence,t),n.instance=m;case"script":return m=Sl(s.src),(f=t.querySelector(ku(m)))?(n.instance=f,zn(f),f):(o=s,(f=va.get(m))&&(o=O({},s),im(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),zn(f),ei(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,lf(o,s.precedence,t));return n.instance}function lf(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function rm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function im(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var uf=null;function Bv(t,n,s){if(uf===null){var o=new Map,f=uf=new Map;f.set(s,o)}else f=uf,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[jr]||m[gn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function jv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Iw(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xw(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Al(o.href),m=n.querySelector(Ou(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=cf.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=m,zn(m);return}m=n.ownerDocument||n,o=Uv(o),(f=va.get(f))&&rm(o,f),m=m.createElement("link"),zn(m);var T=m;T._p=new Promise(function(M,X){T.onload=M,T.onerror=X}),ei(m,"link",o),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=cf.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var am=0;function Mw(t,n){return t.stylesheets&&t.count===0&&hf(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&am===0&&(am=62500*cw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>am?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function cf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ff=null;function hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ff=new Map,n.forEach(Nw,t),ff=null,cf.call(t))}function Nw(t,n){if(!(n.state.loading&4)){var s=ff.get(t);if(s)var o=s.get(null);else{s=new Map,ff.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),o=T)}o&&s.set(null,o)}f=n.instance,T=f.getAttribute("data-precedence"),m=s.get(T)||o,m===o&&s.set(null,f),s.set(T,f),this.count++,o=cf.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Vu={$$typeof:Pe,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Dw(t,n,s,o,f,m,T,M,X){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Hv(t,n,s,o,f,m,T,M,X,ce,_e,Re){return t=new Dw(t,n,s,T,X,ce,_e,Re,M),n=1,m===!0&&(n|=24),m=gi(3,null,null,n),t.current=m,m.stateNode=t,n=Uh(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:n},Fh(m),t}function qv(t){return t?(t=Ji,t):Ji}function Gv(t,n,s,o,f,m){f=qv(f),o.context===null?o.context=f:o.pendingContext=f,o=Bs(n),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=js(t,o,n),s!==null&&(Yi(s,t,n),du(s,t,n))}function Yv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function sm(t,n){Yv(t,n),(t=t.alternate)&&Yv(t,n)}function Xv(t){if(t.tag===13||t.tag===31){var n=xi(t,67108864);n!==null&&Yi(n,t,67108864),sm(t,67108864)}}function Wv(t){if(t.tag===13||t.tag===31){var n=ra();n=wi(n);var s=xi(t,n);s!==null&&Yi(s,t,n),sm(t,n)}}var df=!0;function Ow(t,n,s,o){var f=G.T;G.T=null;var m=Q.p;try{Q.p=2,om(t,n,s,o)}finally{Q.p=m,G.T=f}}function kw(t,n,s,o){var f=G.T;G.T=null;var m=Q.p;try{Q.p=8,om(t,n,s,o)}finally{Q.p=m,G.T=f}}function om(t,n,s,o){if(df){var f=lm(o);if(f===null)Xd(t,n,o,mf,s),Kv(t,o);else if(Pw(f,t,n,s,o))o.stopPropagation();else if(Kv(t,o),n&4&&-1<Vw.indexOf(t)){for(;f!==null;){var m=Fr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=In(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var X=1<<31-De(T);M.entanglements[1]|=X,T&=~X}Ha(m),(Tn&6)===0&&(Qc=Nt()+500,xu(0))}}break;case 31:case 13:M=xi(m,2),M!==null&&Yi(M,m,2),$c(),sm(m,2)}if(m=lm(o),m===null&&Xd(t,n,o,mf,s),m===f)break;f=m}f!==null&&o.stopPropagation()}else Xd(t,n,o,null,s)}}function lm(t){return t=ci(t),um(t)}var mf=null;function um(t){if(mf=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=p(n),t!==null)return t;t=null}else if(s===31){if(t=b(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return mf=t,null}function Qv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rt()){case En:return 2;case C:return 8;case g:case _:return 32;case V:return 268435456;default:return 32}default:return 32}}var cm=!1,Js=null,Zs=null,eo=null,Pu=new Map,Lu=new Map,to=[],Vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(t,n){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Pu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(n.pointerId)}}function Uu(t,n,s,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},n!==null&&(n=Fr(n),n!==null&&Xv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function Pw(t,n,s,o,f){switch(n){case"focusin":return Js=Uu(Js,t,n,s,o,f),!0;case"dragenter":return Zs=Uu(Zs,t,n,s,o,f),!0;case"mouseover":return eo=Uu(eo,t,n,s,o,f),!0;case"pointerover":var m=f.pointerId;return Pu.set(m,Uu(Pu.get(m)||null,t,n,s,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Lu.set(m,Uu(Lu.get(m)||null,t,n,s,o,f)),!0}return!1}function $v(t){var n=Ai(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){t.blockedOn=n,Ni(t.priority,function(){Wv(s)});return}}else if(n===31){if(n=b(s),n!==null){t.blockedOn=n,Ni(t.priority,function(){Wv(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pf(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=lm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Aa=o,s.target.dispatchEvent(o),Aa=null}else return n=Fr(s),n!==null&&Xv(n),t.blockedOn=s,!1;n.shift()}return!0}function Jv(t,n,s){pf(t)&&s.delete(n)}function Lw(){cm=!1,Js!==null&&pf(Js)&&(Js=null),Zs!==null&&pf(Zs)&&(Zs=null),eo!==null&&pf(eo)&&(eo=null),Pu.forEach(Jv),Lu.forEach(Jv)}function gf(t,n){t.blockedOn===n&&(t.blockedOn=null,cm||(cm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Lw)))}var yf=null;function Zv(t){yf!==t&&(yf=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yf===t&&(yf=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(um(o||s)===null)continue;break}var m=Fr(s);m!==null&&(t.splice(n,3),n-=3,ld(m,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Cl(t){function n(X){return gf(X,t)}Js!==null&&gf(Js,t),Zs!==null&&gf(Zs,t),eo!==null&&gf(eo,t),Pu.forEach(n),Lu.forEach(n);for(var s=0;s<to.length;s++){var o=to[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<to.length&&(s=to[0],s.blockedOn===null);)$v(s),s.blockedOn===null&&to.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],m=s[o+1],T=f[Jn]||null;if(typeof m=="function")T||Zv(s);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Jn]||null)M=T.formAction;else if(um(f)!==null)continue}else M=T.action;typeof M=="function"?s[o+1]=M:(s.splice(o,3),o-=3),Zv(s)}}}function e0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function fm(t){this._internalRoot=t}vf.prototype.render=fm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=ra();Gv(s,o,t,n,null,null)},vf.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gv(t.current,2,null,t,null,null),$c(),n[ii]=null}};function vf(t){this._internalRoot=t}vf.prototype.unstable_scheduleHydration=function(t){if(t){var n=Oa();t={blockedOn:null,target:t,priority:n};for(var s=0;s<to.length&&n!==0&&n<to[s].priority;s++);to.splice(s,0,t),s===0&&$v(t)}};var t0=e.version;if(t0!=="19.2.3")throw Error(a(527,t0,"19.2.3"));Q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=w(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var Uw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{Se=_f.inject(Uw),Ye=_f}catch{}}return zu.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",f=ly,m=uy,T=cy;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Hv(t,1,!1,null,null,s,o,null,f,m,T,e0),t[ii]=n.current,Yd(t),new fm(n)},zu.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,f="",m=ly,T=uy,M=cy,X=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.formState!==void 0&&(X=s.formState)),n=Hv(t,1,!0,n,s??null,o,f,X,m,T,M,e0),n.context=qv(null),s=n.current,o=ra(),o=wi(o),f=Bs(o),f.callback=null,js(s,f,o),s=o,n.current.lanes=s,tr(n,s),Ha(n),t[ii]=n.current,Yd(t),new vf(n)},zu.version="19.2.3",zu}var u0;function Xw(){if(u0)return dm.exports;u0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dm.exports=Yw(),dm.exports}var Ww=Xw();const Qw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kw=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),c0=i=>{const e=Kw(i);return e.charAt(0).toUpperCase()+e.slice(1)},J_=(...i)=>i.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),$w=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Jw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Zw=Ue.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:p,...b},E)=>Ue.createElement("svg",{ref:E,...Jw,width:e,height:e,stroke:i,strokeWidth:a?Number(r)*24/Number(e):r,className:J_("lucide",l),...!c&&!$w(b)&&{"aria-hidden":"true"},...b},[...p.map(([w,x])=>Ue.createElement(w,x)),...Array.isArray(c)?c:[c]]));const An=(i,e)=>{const r=Ue.forwardRef(({className:a,...l},c)=>Ue.createElement(Zw,{ref:c,iconNode:e,className:J_(`lucide-${Qw(c0(i))}`,`lucide-${i}`,a),...l}));return r.displayName=c0(i),r};const eT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],tT=An("arrow-down-a-z",eT);const nT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],f0=An("arrow-left",nT);const rT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],iT=An("book-open",rT);const aT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],sT=An("check-check",aT);const oT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lT=An("check",oT);const uT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cT=An("chevron-left",uT);const fT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hT=An("chevron-right",fT);const dT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mT=An("circle-alert",dT);const pT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Pm=An("crown",pT);const gT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],yT=An("download",gT);const vT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_T=An("eye",vT);const bT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],h0=An("flag",bT);const ET=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],wT=An("heart",ET);const TT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],AT=An("info",TT);const ST=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CT=An("log-out",ST);const RT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],IT=An("moon",RT);const xT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],MT=An("play",xT);const NT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],d0=An("rotate-ccw",NT);const DT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],OT=An("ruler",DT);const kT=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],VT=An("scroll-text",kT);const PT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LT=An("settings",PT);const UT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],zT=An("share-2",UT);const BT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],jT=An("shuffle",BT);const FT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bf=An("sparkles",FT);const HT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ym=An("star",HT);const qT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],GT=An("sun",qT);const YT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],m0=An("trophy",YT);const XT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],WT=An("volume-2",XT);const QT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],KT=An("volume-x",QT);const $T=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],p0=An("x",$T);const JT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],g0=An("zap",JT);var vm={},xf={exports:{}},ZT=xf.exports,y0;function eA(){return y0||(y0=1,(function(i,e){(function(a,l){i.exports=l()})(ZT,()=>(()=>{var r=[,((p,b,E)=>{E.r(b),E.d(b,{default:()=>x});var w=(()=>{var O=typeof document<"u"?document.currentScript?.src:void 0;return(function(q={}){var te,z=q,Oe,be,Le=new Promise((h,d)=>{Oe=h,be=d}),j=typeof window=="object",Pe=typeof importScripts=="function";function tt(){function h(J){const ee=S;v=d=0,S=new Map,ee.forEach(fe=>{try{fe(J)}catch(ue){console.error(ue)}}),this.nb(),D&&D.Pb()}let d=0,v=0,S=new Map,D=null,B=null;this.requestAnimationFrame=function(J){d||=requestAnimationFrame(h.bind(this));const ee=++v;return S.set(ee,J),ee},this.cancelAnimationFrame=function(J){S.delete(J),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(J){B&&(document.body.remove(B),B=null),J||(B=document.createElement("div"),B.style.backgroundColor="black",B.style.position="fixed",B.style.right=0,B.style.top=0,B.style.color="white",B.style.padding="4px",B.innerHTML="RIVE FPS",J=function(ee){B.innerHTML="RIVE FPS "+ee.toFixed(1)},document.body.appendChild(B)),D=new function(){let ee=0,fe=0;this.Pb=function(){var ue=performance.now();fe?(++ee,ue-=fe,1e3<ue&&(J(1e3*ee/ue),ee=fe=0)):(fe=ue,ee=0)}}},this.Kb=function(){B&&(document.body.remove(B),B=null),D=null},this.nb=function(){}}function ft(h){console.assert(!0);const d=new Map;let v=-1/0;this.push=function(S){return S=S+((1<<h)-1)>>h,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?v=-1/0:S==v&&(v=Math.max(...d.keys()),console.assert(v<S))},1e3)),v=Math.max(S,v),v<<h}}const at=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){at&&at();let h=z.decodeAudio;z.decodeAudio=function(D,B){D=h(D),B(D)};let d=z.decodeFont;z.decodeFont=function(D,B){D=d(D),B(D)};const v=z.FileAssetLoader;z.ptrToAsset=D=>{let B=z.ptrToFileAsset(D);return B.isImage?z.ptrToImageAsset(D):B.isFont?z.ptrToFontAsset(D):B.isAudio?z.ptrToAudioAsset(D):B},z.CustomFileAssetLoader=v.extend("CustomFileAssetLoader",{__construct:function({loadContents:D}){this.__parent.__construct.call(this),this.Db=D},loadContents:function(D,B){return D=z.ptrToAsset(D),this.Db(D,B)}}),z.CDNFileAssetLoader=v.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(D){let B=z.ptrToAsset(D);return D=B.cdnUuid,D===""?!1:((function(J,ee){var fe=new XMLHttpRequest;fe.responseType="arraybuffer",fe.onreadystatechange=function(){fe.readyState==4&&fe.status==200&&ee(fe)},fe.open("GET",J,!0),fe.send(null)})(B.cdnBaseUrl+"/"+D,J=>{B.decode(new Uint8Array(J.response))}),!0)}}),z.FallbackFileAssetLoader=v.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(D){this.jb.push(D)},loadContents:function(D,B){for(let J of this.jb)if(J.loadContents(D,B))return!0;return!1}});let S=z.computeAlignment;z.computeAlignment=function(D,B,J,ee,fe=1){return S.call(this,D,B,J,ee,fe)}};const Y="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),F=new function(){function h(){if(!d){let vn=function(Ze,zt,Sn){if(zt=He.createShader(zt),He.shaderSource(zt,Sn),He.compileShader(zt),Sn=He.getShaderInfoLog(zt),0<(Sn||"").length)throw Sn;He.attachShader(Ze,zt)};var nt=vn,ne=document.createElement("canvas"),je={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let He;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(He=ne.getContext("webgl",je),v=1,!He)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(He=ne.getContext("webgl2",je))v=2;else if(He=ne.getContext("webgl",je))v=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(He=new Proxy(He,{get(Ze,zt){if(Ze.isContextLost()){if(fe||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",zt),fe=!0),typeof Ze[zt]=="function")return function(){}}else return typeof Ze[zt]=="function"?function(...Sn){return Ze[zt].apply(Ze,Sn)}:Ze[zt]},set(Ze,zt,Sn){if(Ze.isContextLost())fe||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+zt),fe=!0);else return Ze[zt]=Sn,!0}}),S=Math.min(He.getParameter(He.MAX_RENDERBUFFER_SIZE),He.getParameter(He.MAX_TEXTURE_SIZE)),ne=He.createProgram(),vn(ne,He.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),vn(ne,He.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),He.bindAttribLocation(ne,0,"vertex"),He.bindAttribLocation(ne,1,"uv"),He.linkProgram(ne),je=He.getProgramInfoLog(ne),0<(je||"").trim().length)throw je;D=He.getUniformLocation(ne,"mat"),B=He.getUniformLocation(ne,"translate"),He.useProgram(ne),He.bindBuffer(He.ARRAY_BUFFER,He.createBuffer()),He.enableVertexAttribArray(0),He.enableVertexAttribArray(1),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,He.createBuffer()),He.uniform1i(He.getUniformLocation(ne,"image"),0),He.pixelStorei(He.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=He}return!0}let d=null,v=0,S=0,D=null,B=null,J=0,ee=0,fe=!1;h(),this.ac=function(){return h(),S},this.Jb=function(ne){d.deleteTexture&&d.deleteTexture(ne)},this.Ib=function(ne){if(!h())return null;const je=d.createTexture();return je?(d.bindTexture(d.TEXTURE_2D,je),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,ne),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),v==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),je):null};const ue=new ft(8),Ve=new ft(8),Je=new ft(10),ot=new ft(10);this.Mb=function(ne,je,nt,He,vn){if(h()){var Ze=ue.push(ne),zt=Ve.push(je);if(d.canvas){(d.canvas.width!=Ze||d.canvas.height!=zt)&&(d.canvas.width=Ze,d.canvas.height=zt),d.viewport(0,zt-je,ne,je),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),nt.sort((Gt,$i)=>$i.ub-Gt.ub),Ze=Je.push(He),J!=Ze&&(d.bufferData(d.ARRAY_BUFFER,8*Ze,d.DYNAMIC_DRAW),J=Ze),Ze=0;for(var Sn of nt)d.bufferSubData(d.ARRAY_BUFFER,Ze,Sn.Sa),Ze+=4*Sn.Sa.length;console.assert(Ze==4*He);for(var ur of nt)d.bufferSubData(d.ARRAY_BUFFER,Ze,ur.Ab),Ze+=4*ur.Ab.length;console.assert(Ze==8*He),Ze=ot.push(vn),ee!=Ze&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Ze,d.DYNAMIC_DRAW),ee=Ze),Sn=0;for(var ji of nt)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,Sn,ji.indices),Sn+=2*ji.indices.length;console.assert(Sn==2*vn),ji=0,ur=!0,Ze=Sn=0;for(const Gt of nt){Gt.image.Ia!=ji&&(d.bindTexture(d.TEXTURE_2D,Gt.image.Ha||null),ji=Gt.image.Ia),Gt.fc?(d.scissor(Gt.Ya,zt-Gt.Za-Gt.ib,Gt.tc,Gt.ib),ur=!0):ur&&(d.scissor(0,zt-je,ne,je),ur=!1),nt=2/ne;const $i=-2/je;d.uniform4f(D,Gt.ga[0]*nt*Gt.za,Gt.ga[1]*$i*Gt.Aa,Gt.ga[2]*nt*Gt.za,Gt.ga[3]*$i*Gt.Aa),d.uniform2f(B,Gt.ga[4]*nt*Gt.za+nt*(Gt.Ya-Gt.bc*Gt.za)-1,Gt.ga[5]*$i*Gt.Aa+$i*(Gt.Za-Gt.cc*Gt.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Ze),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Ze+4*He),d.drawElements(d.TRIANGLES,Gt.indices.length,d.UNSIGNED_SHORT,Sn),Ze+=4*Gt.Sa.length,Sn+=2*Gt.indices.length}console.assert(Ze==4*He),console.assert(Sn==2*vn)}}},this.canvas=function(){return h()&&d.canvas}},P=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){function h(ke){switch(ke){case ue.srcOver:return"source-over";case ue.screen:return"screen";case ue.overlay:return"overlay";case ue.darken:return"darken";case ue.lighten:return"lighten";case ue.colorDodge:return"color-dodge";case ue.colorBurn:return"color-burn";case ue.hardLight:return"hard-light";case ue.softLight:return"soft-light";case ue.difference:return"difference";case ue.exclusion:return"exclusion";case ue.multiply:return"multiply";case ue.hue:return"hue";case ue.saturation:return"saturation";case ue.color:return"color";case ue.luminosity:return"luminosity"}}function d(ke){return"rgba("+((16711680&ke)>>>16)+","+((65280&ke)>>>8)+","+((255&ke)>>>0)+","+((4278190080&ke)>>>24)/255+")"}function v(){0<zt.length&&(F.Mb(Ze.drawWidth(),Ze.drawHeight(),zt,Sn,ur),zt=[],ur=Sn=0,Ze.reset(512,512));for(const ke of vn){for(const We of ke.H)We();ke.H=[]}vn.clear()}P&&P();var S=z.RenderPaintStyle;const D=z.RenderPath,B=z.RenderPaint,J=z.Renderer,ee=z.StrokeCap,fe=z.StrokeJoin,ue=z.BlendMode,Ve=S.fill,Je=S.stroke,ot=z.FillRule.evenOdd;let ne=1;var je=z.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:ke,va:We}={}){this.__parent.__construct.call(this),this.Ia=ne,ne=ne+1&2147483647||1,this.ka=ke,this.va=We},__destruct:function(){this.Ha&&(F.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(ke){var We=this;We.va&&We.va(We);var Bt=new Image;We.Va=URL.createObjectURL(new Blob([ke],{type:"image/png"})),Bt.onload=function(){We.Cb=Bt,We.Ha=F.Ib(Bt),We.size(Bt.width,Bt.height),We.ka&&We.ka(We)},Bt.src=We.Va}}),nt=D.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(ke,We,Bt,Zt,Dt,Kt,un){var pn=this.T,Ii=pn.addPath;ke=ke.T;const Cn=new DOMMatrix;Cn.a=We,Cn.b=Bt,Cn.c=Zt,Cn.d=Dt,Cn.e=Kt,Cn.f=un,Ii.call(pn,ke,Cn)},fillRule:function(ke){this.Ua=ke},moveTo:function(ke,We){this.T.moveTo(ke,We)},lineTo:function(ke,We){this.T.lineTo(ke,We)},cubicTo:function(ke,We,Bt,Zt,Dt,Kt){this.T.bezierCurveTo(ke,We,Bt,Zt,Dt,Kt)},close:function(){this.T.closePath()}}),He=B.extend("CanvasRenderPaint",{color:function(ke){this.Wa=d(ke)},thickness:function(ke){this.Fb=ke},join:function(ke){switch(ke){case fe.miter:this.Ga="miter";break;case fe.round:this.Ga="round";break;case fe.bevel:this.Ga="bevel"}},cap:function(ke){switch(ke){case ee.butt:this.Fa="butt";break;case ee.round:this.Fa="round";break;case ee.square:this.Fa="square"}},style:function(ke){this.Eb=ke},blendMode:function(ke){this.Bb=h(ke)},clearGradient:function(){this.ia=null},linearGradient:function(ke,We,Bt,Zt){this.ia={wb:ke,xb:We,bb:Bt,cb:Zt,Pa:[]}},radialGradient:function(ke,We,Bt,Zt){this.ia={wb:ke,xb:We,bb:Bt,cb:Zt,Pa:[],$b:!0}},addStop:function(ke,We){this.ia.Pa.push({color:ke,stop:We})},completeGradient:function(){},draw:function(ke,We,Bt){let Zt=this.Eb;var Dt=this.Wa,Kt=this.ia;if(ke.globalCompositeOperation=this.Bb,Kt!=null){Dt=Kt.wb;var un=Kt.xb;const Ii=Kt.bb;var pn=Kt.cb;const Cn=Kt.Pa;Kt.$b?(Kt=Ii-Dt,pn-=un,Dt=ke.createRadialGradient(Dt,un,0,Dt,un,Math.sqrt(Kt*Kt+pn*pn))):Dt=ke.createLinearGradient(Dt,un,Ii,pn);for(let Kr=0,wn=Cn.length;Kr<wn;Kr++)un=Cn[Kr],Dt.addColorStop(un.stop,d(un.color));this.Wa=Dt,this.ia=null}switch(Zt){case Je:ke.strokeStyle=Dt,ke.lineWidth=this.Fb,ke.lineCap=this.Fa,ke.lineJoin=this.Ga,ke.stroke(We);break;case Ve:ke.fillStyle=Dt,ke.fill(We,Bt)}}});const vn=new Set;let Ze=null,zt=[],Sn=0,ur=0;var ji=z.CanvasRenderer=J.extend("Renderer",{__construct:function(ke){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=ke.getContext("2d"),this.Ta=ke,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const ke=this.S.length-6;if(6>ke)throw"restore() called without matching save().";this.S.splice(ke),this.H.push(this.B.restore.bind(this.B))},transform:function(ke,We,Bt,Zt,Dt,Kt){const un=this.S,pn=un.length-6;un.splice(pn,6,un[pn]*ke+un[pn+2]*We,un[pn+1]*ke+un[pn+3]*We,un[pn]*Bt+un[pn+2]*Zt,un[pn+1]*Bt+un[pn+3]*Zt,un[pn]*Dt+un[pn+2]*Kt+un[pn+4],un[pn+1]*Dt+un[pn+3]*Kt+un[pn+5]),this.H.push(this.B.transform.bind(this.B,ke,We,Bt,Zt,Dt,Kt))},rotate:function(ke){const We=Math.sin(ke);ke=Math.cos(ke),this.transform(ke,We,-We,ke,0,0)},_drawPath:function(ke,We){this.H.push(We.draw.bind(We,this.B,ke.T,ke.Ua===ot?"evenodd":"nonzero"))},_drawRiveImage:function(ke,We,Bt,Zt){var Dt=ke.Cb;if(Dt){var Kt=this.B,un=h(Bt);this.H.push(function(){Kt.globalCompositeOperation=un,Kt.globalAlpha=Zt,Kt.drawImage(Dt,0,0),Kt.globalAlpha=1})}},_getMatrix:function(ke){const We=this.S,Bt=We.length-6;for(let Zt=0;6>Zt;++Zt)ke[Zt]=We[Bt+Zt]},_drawImageMesh:function(ke,We,Bt,Zt,Dt,Kt,un,pn,Ii,Cn,Kr){We=this.B.canvas.width;var wn=this.B.canvas.height;const as=Cn-pn,nl=Kr-Ii;pn=Math.max(pn,0),Ii=Math.max(Ii,0),Cn=Math.min(Cn,We),Kr=Math.min(Kr,wn);const Ua=Cn-pn,za=Kr-Ii;if(console.assert(Ua<=Math.min(as,We)),console.assert(za<=Math.min(nl,wn)),!(0>=Ua||0>=za)){Cn=Ua<as||za<nl,We=Kr=1;var Ca=Math.ceil(Ua*Kr),xi=Math.ceil(za*We);wn=F.ac(),Ca>wn&&(Kr*=wn/Ca,Ca=wn),xi>wn&&(We*=wn/xi,xi=wn),Ze||(Ze=new z.DynamicRectanizer(wn),Ze.reset(512,512)),wn=Ze.addRect(Ca,xi),0>wn&&(v(),vn.add(this),wn=Ze.addRect(Ca,xi),console.assert(0<=wn));var su=wn&65535,Ro=wn>>16;zt.push({ga:this.S.slice(this.S.length-6),image:ke,Ya:su,Za:Ro,bc:pn,cc:Ii,tc:Ca,ib:xi,za:Kr,Aa:We,Sa:new Float32Array(Dt),Ab:new Float32Array(Kt),indices:new Uint16Array(un),fc:Cn,ub:ke.Ia<<1|(Cn?1:0)}),Sn+=Dt.length,ur+=un.length;var Ji=this.B,Rh=h(Bt);this.H.push(function(){Ji.save(),Ji.resetTransform(),Ji.globalCompositeOperation=Rh,Ji.globalAlpha=Zt;const gi=F.canvas();gi&&Ji.drawImage(gi,su,Ro,Ca,xi,pn,Ii,Ua,za),Ji.restore()})}},_clipPath:function(ke){this.H.push(this.B.clip.bind(this.B,ke.T,ke.Ua===ot?"evenodd":"nonzero"))},clear:function(){vn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(ke,We){this.transform(1,0,0,1,ke,We)}});z.makeRenderer=function(ke){const We=new ji(ke),Bt=We.B;return new Proxy(We,{get(Zt,Dt){if(typeof Zt[Dt]=="function")return function(...Kt){return Zt[Dt].apply(Zt,Kt)};if(typeof Bt[Dt]=="function"){if(-1<Y.indexOf(Dt))throw Error("RiveException: Method call to '"+Dt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Kt){We.H.push(Bt[Dt].bind(Bt,...Kt))}}return Zt[Dt]},set(Zt,Dt,Kt){if(Dt in Bt)return We.H.push(()=>{Bt[Dt]=Kt}),!0}})},z.decodeImage=function(ke,We){new je({ka:We}).decode(ke)},z.renderFactory={makeRenderPaint:function(){return new He},makeRenderPath:function(){return new nt},makeRenderImage:function(){let ke=$i;return new je({va:()=>{ke.total++},ka:()=>{if(ke.loaded++,ke.loaded===ke.total){const We=ke.ready;We&&(We(),ke.ready=null)}}})}};let Gt=z.load,$i=null;z.load=function(ke,We,Bt=!0){const Zt=new z.FallbackFileAssetLoader;return We!==void 0&&Zt.addLoader(We),Bt&&(We=new z.CDNFileAssetLoader,Zt.addLoader(We)),new Promise(function(Dt){let Kt=null;$i={total:0,loaded:0,ready:function(){Dt(Kt)}},Kt=Gt(ke,Zt),$i.total==0&&Dt(Kt)})};let is=z.RendererWrapper.prototype.align;z.RendererWrapper.prototype.align=function(ke,We,Bt,Zt,Dt=1){is.call(this,ke,We,Bt,Zt,Dt)},S=new tt,z.requestAnimationFrame=S.requestAnimationFrame.bind(S),z.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),z.enableFPSCounter=S.Nb.bind(S),z.disableFPSCounter=S.Kb,S.nb=v,z.resolveAnimationFrame=v,z.cleanup=function(){Ze&&Ze.delete()}};var H=Object.assign({},z),R="./this.program",L="",N,W;(j||Pe)&&(Pe?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),O&&(L=O),L.startsWith("blob:")?L="":L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1),Pe&&(W=h=>{var d=new XMLHttpRequest;return d.open("GET",h,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),N=(h,d,v)=>{if(Ar(h)){var S=new XMLHttpRequest;S.open("GET",h,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):v()},S.onerror=v,S.send(null)}else fetch(h,{credentials:"same-origin"}).then(D=>D.ok?D.arrayBuffer():Promise.reject(Error(D.status+" : "+D.url))).then(d,v)});var ae=z.print||console.log.bind(console),G=z.printErr||console.error.bind(console);Object.assign(z,H),H=null,z.thisProgram&&(R=z.thisProgram);var Q;z.wasmBinary&&(Q=z.wasmBinary);var ge,de=!1,Ee,U,oe,xe,Ce,Ne,Ke,dt;function jt(){var h=ge.buffer;z.HEAP8=Ee=new Int8Array(h),z.HEAP16=oe=new Int16Array(h),z.HEAPU8=U=new Uint8Array(h),z.HEAPU16=xe=new Uint16Array(h),z.HEAP32=Ce=new Int32Array(h),z.HEAPU32=Ne=new Uint32Array(h),z.HEAPF32=Ke=new Float32Array(h),z.HEAPF64=dt=new Float64Array(h)}var ct=[],kt=[],Ft=[];function pt(){var h=z.preRun.shift();ct.unshift(h)}var wt=0,sn=null;function Yt(h){throw z.onAbort?.(h),h="Aborted("+h+")",G(h),de=!0,h=new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info."),be(h),h}var Kn=h=>h.startsWith("data:application/octet-stream;base64,"),Ar=h=>h.startsWith("file://"),fn;function it(h){if(h==fn&&Q)return new Uint8Array(Q);if(W)return W(h);throw"both async and sync fetching of the wasm failed"}function Lt(h){return Q?Promise.resolve().then(()=>it(h)):new Promise((d,v)=>{N(h,S=>d(new Uint8Array(S)),()=>{try{d(it(h))}catch(S){v(S)}})})}function hn(h,d,v){return Lt(h).then(S=>WebAssembly.instantiate(S,d)).then(v,S=>{G(`failed to asynchronously prepare wasm: ${S}`),Yt(S)})}function Xt(h,d){var v=fn;return Q||typeof WebAssembly.instantiateStreaming!="function"||Kn(v)||Ar(v)||typeof fetch!="function"?hn(v,h,d):fetch(v,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,h).then(d,function(D){return G(`wasm streaming compile failed: ${D}`),G("falling back to ArrayBuffer instantiation"),hn(v,h,d)}))}var vt,Nt,Rt={467618:(h,d,v,S,D)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=h,window.h.I.capture=d,window.h.I.Ja=v,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=D;let B=window.h;B.D=[],B.rc=function(J){for(var ee=0;ee<B.D.length;++ee)if(B.D[ee]==null)return B.D[ee]=J,ee;return B.D.push(J),B.D.length-1},B.zb=function(J){for(B.D[J]=null;0<B.D.length&&B.D[B.D.length-1]==null;)B.D.pop()},B.Oc=function(J){for(var ee=0;ee<B.D.length;++ee)if(B.D[ee]==J)return B.zb(ee)},B.pa=function(J){return B.D[J]},B.Ra=["touchend","click"],B.unlock=function(){for(var J=0;J<B.D.length;++J){var ee=B.D[J];ee!=null&&ee.K!=null&&ee.state===B.fa.vb&&ee.K.resume().then(()=>{Co(ee.ob)},fe=>{console.error("Failed to resume audiocontext",fe)})}B.Ra.map(function(fe){document.removeEventListener(fe,B.unlock,!0)})},B.Ra.map(function(J){document.addEventListener(J,B.unlock,!0)})}return window.h.ya+=1,1},469796:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(h){document.removeEventListener(h,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},470100:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,470204:()=>{try{var h=new(window.AudioContext||window.webkitAudioContext),d=h.sampleRate;return h.close(),d}catch{return 0}},470375:(h,d,v,S,D,B)=>{if(typeof window.h>"u")return-1;var J={},ee={};return h==window.h.I.wa&&v!=0&&(ee.sampleRate=v),J.K=new(window.AudioContext||window.webkitAudioContext)(ee),J.K.suspend(),J.state=window.h.fa.stopped,v=0,h!=window.h.I.wa&&(v=d),J.Y=J.K.createScriptProcessor(S,v,d),J.Y.onaudioprocess=function(fe){if((J.qa==null||J.qa.length==0)&&(J.qa=new Float32Array(Ke.buffer,D,S*d)),h==window.h.I.capture||h==window.h.I.Ja){for(var ue=0;ue<d;ue+=1)for(var Ve=fe.inputBuffer.getChannelData(ue),Je=J.qa,ot=0;ot<S;ot+=1)Je[ot*d+ue]=Ve[ot];iu(B,S,D)}if(h==window.h.I.wa||h==window.h.I.Ja)for(au(B,S,D),ue=0;ue<fe.outputBuffer.numberOfChannels;++ue)for(Ve=fe.outputBuffer.getChannelData(ue),Je=J.qa,ot=0;ot<S;ot+=1)Ve[ot]=Je[ot*d+ue];else for(ue=0;ue<fe.outputBuffer.numberOfChannels;++ue)fe.outputBuffer.getChannelData(ue).fill(0)},h!=window.h.I.capture&&h!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(fe){J.Ba=J.K.createMediaStreamSource(fe),J.Ba.connect(J.Y),J.Y.connect(J.K.destination)}).catch(function(fe){console.log("Failed to get user media: "+fe)}),h==window.h.I.wa&&J.Y.connect(J.K.destination),J.ob=B,window.h.rc(J)},473252:h=>window.h.pa(h).K.sampleRate,473325:h=>{h=window.h.pa(h),h.Y!==void 0&&(h.Y.onaudioprocess=function(){},h.Y.disconnect(),h.Y=void 0),h.Ba!==void 0&&(h.Ba.disconnect(),h.Ba=void 0),h.K.close(),h.K=void 0,h.ob=void 0},473725:h=>{window.h.zb(h)},473775:h=>{h=window.h.pa(h),h.K.resume(),h.state=window.h.fa.vb},473914:h=>{h=window.h.pa(h),h.K.suspend(),h.state=window.h.fa.stopped}},En=h=>{for(;0<h.length;)h.shift()(z)};function C(){var h=Ce[+li>>2];return li+=4,h}var g=(h,d)=>{for(var v=0,S=h.length-1;0<=S;S--){var D=h[S];D==="."?h.splice(S,1):D===".."?(h.splice(S,1),v++):v&&(h.splice(S,1),v--)}if(d)for(;v;v--)h.unshift("..");return h},_=h=>{var d=h.charAt(0)==="/",v=h.substr(-1)==="/";return(h=g(h.split("/").filter(S=>!!S),!d).join("/"))||d||(h="."),h&&v&&(h+="/"),(d?"/":"")+h},V=h=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=d[0],d=d[1],!h&&!d?".":(d&&=d.substr(0,d.length-1),h+d)},Z=h=>{if(h==="/")return"/";h=_(h),h=h.replace(/\/$/,"");var d=h.lastIndexOf("/");return d===-1?h:h.substr(d+1)},me=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return h=>crypto.getRandomValues(h);Yt("initRandomDevice")},Se=h=>(Se=me())(h),Ye=(...h)=>{for(var d="",v=!1,S=h.length-1;-1<=S&&!v;S--){if(v=0<=S?h[S]:"/",typeof v!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!v)return"";d=v+"/"+d,v=v.charAt(0)==="/"}return d=g(d.split("/").filter(D=>!!D),!v).join("/"),(v?"/":"")+d||"."},st=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,De=(h,d,v)=>{var S=d+v;for(v=d;h[v]&&!(v>=S);)++v;if(16<v-d&&h.buffer&&st)return st.decode(h.subarray(d,v));for(S="";d<v;){var D=h[d++];if(D&128){var B=h[d++]&63;if((D&224)==192)S+=String.fromCharCode((D&31)<<6|B);else{var J=h[d++]&63;D=(D&240)==224?(D&15)<<12|B<<6|J:(D&7)<<18|B<<12|J<<6|h[d++]&63,65536>D?S+=String.fromCharCode(D):(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else S+=String.fromCharCode(D)}return S},_t=[],Ht=h=>{for(var d=0,v=0;v<h.length;++v){var S=h.charCodeAt(v);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++v):d+=3}return d},Un=(h,d,v,S)=>{if(!(0<S))return 0;var D=v;S=v+S-1;for(var B=0;B<h.length;++B){var J=h.charCodeAt(B);if(55296<=J&&57343>=J){var ee=h.charCodeAt(++B);J=65536+((J&1023)<<10)|ee&1023}if(127>=J){if(v>=S)break;d[v++]=J}else{if(2047>=J){if(v+1>=S)break;d[v++]=192|J>>6}else{if(65535>=J){if(v+2>=S)break;d[v++]=224|J>>12}else{if(v+3>=S)break;d[v++]=240|J>>18,d[v++]=128|J>>12&63}d[v++]=128|J>>6&63}d[v++]=128|J&63}}return d[v]=0,v-D};function Ut(h,d){var v=Array(Ht(h)+1);return h=Un(h,v,0,v.length),d&&(v.length=h),v}var $n=[];function qt(h,d){$n[h]={input:[],G:[],V:d},Dr(h,In)}var In={open(h){var d=$n[h.node.xa];if(!d)throw new Xe(43);h.s=d,h.seekable=!1},close(h){h.s.V.oa(h.s)},oa(h){h.s.V.oa(h.s)},read(h,d,v,S){if(!h.s||!h.s.V.hb)throw new Xe(60);for(var D=0,B=0;B<S;B++){try{var J=h.s.V.hb(h.s)}catch{throw new Xe(29)}if(J===void 0&&D===0)throw new Xe(6);if(J==null)break;D++,d[v+B]=J}return D&&(h.node.timestamp=Date.now()),D},write(h,d,v,S){if(!h.s||!h.s.V.Ma)throw new Xe(60);try{for(var D=0;D<S;D++)h.s.V.Ma(h.s,d[v+D])}catch{throw new Xe(29)}return S&&(h.node.timestamp=Date.now()),D}},Nn={hb(){e:{if(!_t.length){var h=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`)),!h){h=null;break e}_t=Ut(h,!0)}h=_t.shift()}return h},Ma(h,d){d===null||d===10?(ae(De(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(ae(De(h.G,0)),h.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Dn={Ma(h,d){d===null||d===10?(G(De(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(G(De(h.G,0)),h.G=[])}};function zr(h,d){var v=h.l?h.l.length:0;v>=d||(d=Math.max(d,v*(1048576>v?2:1.125)>>>0),v!=0&&(d=Math.max(d,256)),v=h.l,h.l=new Uint8Array(d),0<h.v&&h.l.set(v.subarray(0,h.v),0))}var $e={N:null,U(){return $e.createNode(null,"/",16895,0)},createNode(h,d,v,S){if((v&61440)===24576||(v&61440)===4096)throw new Xe(63);return $e.N||($e.N={dir:{node:{X:$e.j.X,P:$e.j.P,ja:$e.j.ja,ta:$e.j.ta,sb:$e.j.sb,yb:$e.j.yb,tb:$e.j.tb,rb:$e.j.rb,Ca:$e.j.Ca},stream:{aa:$e.m.aa}},file:{node:{X:$e.j.X,P:$e.j.P},stream:{aa:$e.m.aa,read:$e.m.read,write:$e.m.write,Xa:$e.m.Xa,kb:$e.m.kb,mb:$e.m.mb}},link:{node:{X:$e.j.X,P:$e.j.P,la:$e.j.la},stream:{}},$a:{node:{X:$e.j.X,P:$e.j.P},stream:Hr}}),v=ai(h,d,v,S),(v.mode&61440)===16384?(v.j=$e.N.dir.node,v.m=$e.N.dir.stream,v.l={}):(v.mode&61440)===32768?(v.j=$e.N.file.node,v.m=$e.N.file.stream,v.v=0,v.l=null):(v.mode&61440)===40960?(v.j=$e.N.link.node,v.m=$e.N.link.stream):(v.mode&61440)===8192&&(v.j=$e.N.$a.node,v.m=$e.N.$a.stream),v.timestamp=Date.now(),h&&(h.l[d]=v,h.timestamp=v.timestamp),v},Fc(h){return h.l?h.l.subarray?h.l.subarray(0,h.v):new Uint8Array(h.l):new Uint8Array(0)},j:{X(h){var d={};return d.Dc=(h.mode&61440)===8192?h.id:1,d.Hc=h.id,d.mode=h.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=h.xa,(h.mode&61440)===16384?d.size=4096:(h.mode&61440)===32768?d.size=h.v:(h.mode&61440)===40960?d.size=h.link.length:d.size=0,d.vc=new Date(h.timestamp),d.Jc=new Date(h.timestamp),d.Cc=new Date(h.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(h,d){if(d.mode!==void 0&&(h.mode=d.mode),d.timestamp!==void 0&&(h.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,h.v!=d))if(d==0)h.l=null,h.v=0;else{var v=h.l;h.l=new Uint8Array(d),v&&h.l.set(v.subarray(0,Math.min(d,h.v))),h.v=d}},ja(){throw Oa[44]},ta(h,d,v,S){return $e.createNode(h,d,v,S)},sb(h,d,v){if((h.mode&61440)===16384){try{var S=Di(d,v)}catch{}if(S)for(var D in S.l)throw new Xe(55)}delete h.parent.l[h.name],h.parent.timestamp=Date.now(),h.name=v,d.l[v]=h,d.timestamp=h.parent.timestamp},yb(h,d){delete h.l[d],h.timestamp=Date.now()},tb(h,d){var v=Di(h,d),S;for(S in v.l)throw new Xe(55);delete h.l[d],h.timestamp=Date.now()},rb(h){var d=[".",".."],v;for(v of Object.keys(h.l))d.push(v);return d},Ca(h,d,v){return h=$e.createNode(h,d,41471,0),h.link=v,h},la(h){if((h.mode&61440)!==40960)throw new Xe(28);return h.link}},m:{read(h,d,v,S,D){var B=h.node.l;if(D>=h.node.v)return 0;if(h=Math.min(h.node.v-D,S),8<h&&B.subarray)d.set(B.subarray(D,D+h),v);else for(S=0;S<h;S++)d[v+S]=B[D+S];return h},write(h,d,v,S,D,B){if(d.buffer===Ee.buffer&&(B=!1),!S)return 0;if(h=h.node,h.timestamp=Date.now(),d.subarray&&(!h.l||h.l.subarray)){if(B)return h.l=d.subarray(v,v+S),h.v=S;if(h.v===0&&D===0)return h.l=d.slice(v,v+S),h.v=S;if(D+S<=h.v)return h.l.set(d.subarray(v,v+S),D),S}if(zr(h,D+S),h.l.subarray&&d.subarray)h.l.set(d.subarray(v,v+S),D);else for(B=0;B<S;B++)h.l[D+B]=d[v+B];return h.v=Math.max(h.v,D+S),S},aa(h,d,v){if(v===1?d+=h.position:v===2&&(h.node.mode&61440)===32768&&(d+=h.node.v),0>d)throw new Xe(28);return d},Xa(h,d,v){zr(h.node,d+v),h.node.v=Math.max(h.node.v,d+v)},kb(h,d,v,S,D){if((h.node.mode&61440)!==32768)throw new Xe(43);if(h=h.node.l,D&2||h.buffer!==Ee.buffer){if((0<v||v+d<h.length)&&(h.subarray?h=h.subarray(v,v+d):h=Array.prototype.slice.call(h,v,v+d)),v=!0,Yt(),d=void 0,!d)throw new Xe(48);Ee.set(h,d)}else v=!1,d=h.byteOffset;return{o:d,uc:v}},mb(h,d,v,S){return $e.m.write(h,d,0,S,v,!1),0}}},Xn=(h,d)=>{var v=0;return h&&(v|=365),d&&(v|=146),v},tr=null,At={},Wn=[],aa=1,Nr=null,wi=!0,Xe=class{constructor(h){this.name="ErrnoError",this.$=h}},Oa={},Ni=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(h){this.h.flags=h}get position(){return this.h.position}set position(h){this.h.position=h}},Br=class{constructor(h,d,v,S){h||=this,this.parent=h,this.U=h.U,this.ua=null,this.id=aa++,this.name=d,this.mode=v,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function gn(h,d={}){if(h=Ye(h),!h)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Xe(32);h=h.split("/").filter(J=>!!J);for(var v=tr,S="/",D=0;D<h.length;D++){var B=D===h.length-1;if(B&&d.parent)break;if(v=Di(v,h[D]),S=_(S+"/"+h[D]),v.ua&&(!B||B&&d.gb)&&(v=v.ua.root),!B||d.fb){for(B=0;(v.mode&61440)===40960;)if(v=Ja(S),S=Ye(V(S),v),v=gn(S,{Oa:d.Oa+1}).node,40<B++)throw new Xe(32)}}return{path:S,node:v}}function Jn(h){for(var d;;){if(h===h.parent)return h=h.U.lb,d?h[h.length-1]!=="/"?`${h}/${d}`:h+d:h;d=d?`${h.name}/${d}`:h.name,h=h.parent}}function ii(h,d){for(var v=0,S=0;S<d.length;S++)v=(v<<5)-v+d.charCodeAt(S)|0;return(h+v>>>0)%Nr.length}function Di(h,d){var v=(h.mode&61440)===16384?(v=Ti(h,"x"))?v:h.j.ja?0:2:54;if(v)throw new Xe(v);for(v=Nr[ii(h.id,d)];v;v=v.ec){var S=v.name;if(v.parent.id===h.id&&S===d)return v}return h.j.ja(h,d)}function ai(h,d,v,S){return h=new Br(h,d,v,S),d=ii(h.parent.id,h.name),h.ec=Nr[d],Nr[d]=h}function ka(h){var d=["r","w","rw"][h&3];return h&512&&(d+="w"),d}function Ti(h,d){if(wi)return 0;if(!d.includes("r")||h.mode&292){if(d.includes("w")&&!(h.mode&146)||d.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function jr(h,d){try{return Di(h,d),20}catch{}return Ti(h,"wx")}function dr(h){if(h=Wn[h],!h)throw new Xe(8);return h}function Ai(h,d=-1){if(h=Object.assign(new Ni,h),d==-1)e:{for(d=0;4096>=d;d++)if(!Wn[d])break e;throw new Xe(33)}return h.W=d,Wn[d]=h}function Fr(h,d=-1){return h=Ai(h,d),h.m?.Ec?.(h),h}var Hr={open(h){h.m=At[h.node.xa].m,h.m.open?.(h)},aa(){throw new Xe(70)}};function Dr(h,d){At[h]={m:d}}function zn(h,d){var v=d==="/";if(v&&tr)throw new Xe(10);if(!v&&d){var S=gn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Xe(10);if((S.mode&61440)!==16384)throw new Xe(54)}d={type:h,Mc:{},lb:d,dc:[]},h=h.U(d),h.U=d,d.root=h,v?tr=h:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function Sr(h,d,v){var S=gn(h,{parent:!0}).node;if(h=Z(h),!h||h==="."||h==="..")throw new Xe(28);var D=jr(S,h);if(D)throw new Xe(D);if(!S.j.ta)throw new Xe(63);return S.j.ta(S,h,d,v)}function Cr(h){return Sr(h,16895,0)}function Rr(h,d,v){typeof v>"u"&&(v=d,d=438),Sr(h,d|8192,v)}function si(h,d){if(!Ye(h))throw new Xe(44);var v=gn(d,{parent:!0}).node;if(!v)throw new Xe(44);d=Z(d);var S=jr(v,d);if(S)throw new Xe(S);if(!v.j.Ca)throw new Xe(63);v.j.Ca(v,d,h)}function Ja(h){if(h=gn(h).node,!h)throw new Xe(44);if(!h.j.la)throw new Xe(28);return Ye(Jn(h.parent),h.j.la(h))}function sa(h,d,v){if(h==="")throw new Xe(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(v=d&64?(typeof v>"u"?438:v)&4095|32768:0,typeof h=="object")var D=h;else{h=_(h);try{D=gn(h,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(D){if(d&128)throw new Xe(20)}else D=Sr(h,v,0),S=!0;if(!D)throw new Xe(44);if((D.mode&61440)===8192&&(d&=-513),d&65536&&(D.mode&61440)!==16384)throw new Xe(54);if(!S&&(v=D?(D.mode&61440)===40960?32:(D.mode&61440)===16384&&(ka(d)!=="r"||d&512)?31:Ti(D,ka(d)):44))throw new Xe(v);if(d&512&&!S){if(v=D,v=typeof v=="string"?gn(v,{fb:!0}).node:v,!v.j.P)throw new Xe(63);if((v.mode&61440)===16384)throw new Xe(31);if((v.mode&61440)!==32768)throw new Xe(28);if(S=Ti(v,"w"))throw new Xe(S);v.j.P(v,{size:0,timestamp:Date.now()})}return d&=-131713,D=Ai({node:D,path:Jn(D),flags:d,seekable:!0,position:0,m:D.m,sc:[],error:!1}),D.m.open&&D.m.open(D),!z.logReadFiles||d&1||(Fn||={},h in Fn||(Fn[h]=1)),D}function Va(h,d,v){if(h.W===null)throw new Xe(8);if(!h.seekable||!h.m.aa)throw new Xe(70);if(v!=0&&v!=1&&v!=2)throw new Xe(28);h.position=h.m.aa(h,d,v),h.sc=[]}var Za;function oi(h,d,v){h=_("/dev/"+h);var S=Xn(!!d,!!v);Wt||=64;var D=Wt++<<8|0;Dr(D,{open(B){B.seekable=!1},close(){v?.buffer?.length&&v(10)},read(B,J,ee,fe){for(var ue=0,Ve=0;Ve<fe;Ve++){try{var Je=d()}catch{throw new Xe(29)}if(Je===void 0&&ue===0)throw new Xe(6);if(Je==null)break;ue++,J[ee+Ve]=Je}return ue&&(B.node.timestamp=Date.now()),ue},write(B,J,ee,fe){for(var ue=0;ue<fe;ue++)try{v(J[ee+ue])}catch{throw new Xe(29)}return fe&&(B.node.timestamp=Date.now()),ue}}),Rr(h,S,D)}var Wt,dn={},Fn,li=void 0,Oi=(h,d)=>Object.defineProperty(d,"name",{value:h}),on=[],mr=[],mt,nr=h=>{if(!h)throw new mt("Cannot use deleted val. handle = "+h);return mr[h]},On=h=>{switch(h){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=on.pop()||mr.length;return mr[d]=h,mr[d+1]=1,d}},wa=h=>{var d=Error,v=Oi(h,function(S){this.name=h,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(d.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},v},es,Pa,yn=h=>{for(var d="";U[h];)d+=Pa[U[h++]];return d},oa=[],ki=()=>{for(;oa.length;){var h=oa.pop();h.g.ea=!1,h.delete()}},rr,ui={},Ta=(h,d)=>{if(d===void 0)throw new mt("ptr should not be undefined");for(;h.C;)d=h.ma(d),h=h.C;return d},qr={},la=h=>{h=bc(h);var d=yn(h);return Ri(h),d},ua=(h,d)=>{var v=qr[h];if(v===void 0)throw h=`${d} has unknown type ${la(h)}`,new mt(h);return v},Si=()=>{},Wi=!1,Gr=(h,d,v)=>d===v?h:v.C===void 0?null:(h=Gr(h,d,v.C),h===null?null:v.Lb(h)),Aa={},ci=(h,d)=>(d=Ta(h,d),ui[d]),fi,Yr=(h,d)=>{if(!d.u||!d.o)throw new fi("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new fi("Both smartPtrType and smartPtr must be specified");return d.count={value:1},Xr(Object.create(h,{g:{value:d,writable:!0}}))},Xr=h=>typeof FinalizationRegistry>"u"?(Xr=d=>d,h):(Wi=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),Xr=d=>{var v=d.g;return v.F&&Wi.register(d,{g:v},d),d},Si=d=>{Wi.unregister(d)},Xr(h)),Qi={},Wr=h=>{for(;h.length;){var d=h.pop();h.pop()(d)}};function Ir(h){return this.fromWireType(Ne[h>>2])}var lr={},Vi={},It=(h,d,v)=>{function S(ee){if(ee=v(ee),ee.length!==h.length)throw new fi("Mismatched type converter count");for(var fe=0;fe<h.length;++fe)Or(h[fe],ee[fe])}h.forEach(function(ee){Vi[ee]=d});var D=Array(d.length),B=[],J=0;d.forEach((ee,fe)=>{qr.hasOwnProperty(ee)?D[fe]=qr[ee]:(B.push(ee),lr.hasOwnProperty(ee)||(lr[ee]=[]),lr[ee].push(()=>{D[fe]=qr[ee],++J,J===B.length&&S(D)}))}),B.length===0&&S(D)};function pr(h,d,v={}){var S=d.name;if(!h)throw new mt(`type "${S}" must have a positive integer typeid pointer`);if(qr.hasOwnProperty(h)){if(v.Vb)return;throw new mt(`Cannot register type '${S}' twice`)}qr[h]=d,delete Vi[h],lr.hasOwnProperty(h)&&(d=lr[h],delete lr[h],d.forEach(D=>D()))}function Or(h,d,v={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return pr(h,d,v)}var Pi=h=>{throw new mt(h.g.u.i.name+" instance already deleted")};function ca(){}var Ki=(h,d,v)=>{if(h[d].A===void 0){var S=h[d];h[d]=function(...D){if(!h[d].A.hasOwnProperty(D.length))throw new mt(`Function '${v}' called with an invalid number of arguments (${D.length}) - expects one of (${h[d].A})!`);return h[d].A[D.length].apply(this,D)},h[d].A=[],h[d].A[S.da]=S}},ir=(h,d,v)=>{if(z.hasOwnProperty(h)){if(v===void 0||z[h].A!==void 0&&z[h].A[v]!==void 0)throw new mt(`Cannot register public name '${h}' twice`);if(Ki(z,h,h),z.hasOwnProperty(v))throw new mt(`Cannot register multiple overloads of a function with the same number of arguments (${v})!`);z[h].A[v]=d}else z[h]=d,v!==void 0&&(z[h].Lc=v)},hi=h=>{if(h===void 0)return"_unknown";h=h.replace(/[^a-zA-Z0-9_]/g,"$");var d=h.charCodeAt(0);return 48<=d&&57>=d?`_${h}`:h};function ar(h,d,v,S,D,B,J,ee){this.name=h,this.constructor=d,this.M=v,this.O=S,this.C=D,this.Qb=B,this.ma=J,this.Lb=ee,this.pb=[]}var di=(h,d,v)=>{for(;d!==v;){if(!d.ma)throw new mt(`Expected null or instance of ${v.name}, got an instance of ${d.name}`);h=d.ma(h),d=d.C}return h};function Li(h,d){if(d===null){if(this.La)throw new mt(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new mt(`Cannot pass "${Os(d)}" as a ${this.name}`);if(!d.g.o)throw new mt(`Cannot pass deleted object as a pointer of type ${this.name}`);return di(d.g.o,d.g.u.i,this.i)}function Ui(h,d){if(d===null){if(this.La)throw new mt(`null is not a valid ${this.name}`);if(this.sa){var v=this.Na();return h!==null&&h.push(this.O,v),v}return 0}if(!d||!d.g)throw new mt(`Cannot pass "${Os(d)}" as a ${this.name}`);if(!d.g.o)throw new mt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new mt(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(v=di(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new mt("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)v=d.g.F;else throw new mt(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:v=d.g.F;break;case 2:if(d.g.J===this)v=d.g.F;else{var S=d.clone();v=this.ic(v,On(()=>S.delete())),h!==null&&h.push(this.O,v)}break;default:throw new mt("Unsupporting sharing policy")}}return v}function K(h,d){if(d===null){if(this.La)throw new mt(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new mt(`Cannot pass "${Os(d)}" as a ${this.name}`);if(!d.g.o)throw new mt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new mt(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return di(d.g.o,d.g.u.i,this.i)}function ie(h,d,v,S,D,B,J,ee,fe,ue,Ve){this.name=h,this.i=d,this.La=v,this.ra=S,this.sa=D,this.hc=B,this.mc=J,this.qb=ee,this.Na=fe,this.ic=ue,this.O=Ve,D||d.C!==void 0?this.toWireType=Ui:(this.toWireType=S?Li:K,this.L=null)}var we=(h,d,v)=>{if(!z.hasOwnProperty(h))throw new fi("Replacing nonexistent public symbol");z[h].A!==void 0&&v!==void 0?z[h].A[v]=d:(z[h]=d,z[h].da=v)},ve=[],Te,Fe=h=>{var d=ve[h];return d||(h>=ve.length&&(ve.length=h+1),ve[h]=d=Te.get(h)),d},qe=(h,d,v=[])=>(h.includes("j")?(h=h.replace(/p/g,"i"),d=(0,z["dynCall_"+h])(d,...v)):d=Fe(d)(...v),d),ze=(h,d)=>(...v)=>qe(h,d,v),Ge=(h,d)=>{h=yn(h);var v=h.includes("j")?ze(h,d):Fe(d);if(typeof v!="function")throw new mt(`unknown function pointer with signature ${h}: ${d}`);return v},ut,Qe=(h,d)=>{function v(B){D[B]||qr[B]||(Vi[B]?Vi[B].forEach(v):(S.push(B),D[B]=!0))}var S=[],D={};throw d.forEach(v),new ut(`${h}: `+S.map(la).join([", "]))};function Vt(h){for(var d=1;d<h.length;++d)if(h[d]!==null&&h[d].L===void 0)return!0;return!1}function Qt(h,d,v,S,D){var B=d.length;if(2>B)throw new mt("argTypes array size mismatch! Must at least get return value and 'this' types!");var J=d[1]!==null&&v!==null,ee=Vt(d),fe=d[0].name!=="void",ue=B-2,Ve=Array(ue),Je=[],ot=[];return Oi(h,function(...ne){if(ne.length!==ue)throw new mt(`function ${h} called with ${ne.length} arguments, expected ${ue}`);if(ot.length=0,Je.length=J?2:1,Je[0]=D,J){var je=d[1].toWireType(ot,this);Je[1]=je}for(var nt=0;nt<ue;++nt)Ve[nt]=d[nt+2].toWireType(ot,ne[nt]),Je.push(Ve[nt]);if(ne=S(...Je),ee)Wr(ot);else for(nt=J?1:2;nt<d.length;nt++){var He=nt===1?je:Ve[nt-2];d[nt].L!==null&&d[nt].L(He)}return je=fe?d[0].fromWireType(ne):void 0,je})}var kr=(h,d)=>{for(var v=[],S=0;S<h;S++)v.push(Ne[d+4*S>>2]);return v},mi=h=>{h=h.trim();const d=h.indexOf("(");return d!==-1?h.substr(0,d):h},gr=(h,d,v)=>{if(!(h instanceof Object))throw new mt(`${v} with invalid "this": ${h}`);if(!(h instanceof d.i.constructor))throw new mt(`${v} incompatible with "this" of type ${h.constructor.name}`);if(!h.g.o)throw new mt(`cannot call emscripten binding method ${v} on deleted object`);return di(h.g.o,h.g.u.i,d.i)},Ds=h=>{9<h&&--mr[h+1]===0&&(mr[h]=void 0,on.push(h))},$o={name:"emscripten::val",fromWireType:h=>{var d=nr(h);return Ds(h),d},toWireType:(h,d)=>On(d),argPackAdvance:8,readValueFromPointer:Ir,L:null},Jo=(h,d,v)=>{switch(d){case 1:return v?function(S){return this.fromWireType(Ee[S])}:function(S){return this.fromWireType(U[S])};case 2:return v?function(S){return this.fromWireType(oe[S>>1])}:function(S){return this.fromWireType(xe[S>>1])};case 4:return v?function(S){return this.fromWireType(Ce[S>>2])}:function(S){return this.fromWireType(Ne[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},Os=h=>{if(h===null)return"null";var d=typeof h;return d==="object"||d==="array"||d==="function"?h.toString():""+h},La=(h,d)=>{switch(d){case 4:return function(v){return this.fromWireType(Ke[v>>2])};case 8:return function(v){return this.fromWireType(dt[v>>3])};default:throw new TypeError(`invalid float width (${d}): ${h}`)}},Qr=(h,d,v)=>{switch(d){case 1:return v?S=>Ee[S]:S=>U[S];case 2:return v?S=>oe[S>>1]:S=>xe[S>>1];case 4:return v?S=>Ce[S>>2]:S=>Ne[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},So=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Zo=(h,d)=>{for(var v=h>>1,S=v+d/2;!(v>=S)&&xe[v];)++v;if(v<<=1,32<v-h&&So)return So.decode(U.subarray(h,v));for(v="",S=0;!(S>=d/2);++S){var D=oe[h+2*S>>1];if(D==0)break;v+=String.fromCharCode(D)}return v},Sa=(h,d,v)=>{if(v??=2147483647,2>v)return 0;v-=2;var S=d;v=v<2*h.length?v/2:h.length;for(var D=0;D<v;++D)oe[d>>1]=h.charCodeAt(D),d+=2;return oe[d>>1]=0,d-S},u=h=>2*h.length,y=(h,d)=>{for(var v=0,S="";!(v>=d/4);){var D=Ce[h+4*v>>2];if(D==0)break;++v,65536<=D?(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023)):S+=String.fromCharCode(D)}return S},A=(h,d,v)=>{if(v??=2147483647,4>v)return 0;var S=d;v=S+v-4;for(var D=0;D<h.length;++D){var B=h.charCodeAt(D);if(55296<=B&&57343>=B){var J=h.charCodeAt(++D);B=65536+((B&1023)<<10)|J&1023}if(Ce[d>>2]=B,d+=4,d+4>v)break}return Ce[d>>2]=0,d-S},k=h=>{for(var d=0,v=0;v<h.length;++v){var S=h.charCodeAt(v);55296<=S&&57343>=S&&++v,d+=4}return d},se=(h,d,v)=>{var S=[];return h=h.toWireType(S,v),S.length&&(Ne[d>>2]=On(S)),h},pe={},Be=h=>{var d=pe[h];return d===void 0?yn(h):d},St=[],Zn=h=>{var d=St.length;return St.push(h),d},mn=(h,d)=>{for(var v=Array(h),S=0;S<h;++S)v[S]=ua(Ne[d+4*S>>2],"parameter "+S);return v},Bn=Reflect.construct,pi=[],zi={},Bi=()=>{if(!Ci){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:R||"./this.program"},d;for(d in zi)zi[d]===void 0?delete h[d]:h[d]=zi[d];var v=[];for(d in h)v.push(`${d}=${h[d]}`);Ci=v}return Ci},Ci,fa=h=>h%4===0&&(h%100!==0||h%400===0),ts=[31,29,31,30,31,30,31,31,30,31,30,31],ns=[31,28,31,30,31,30,31,31,30,31,30,31],Ch=(h,d,v,S)=>{function D(ne,je,nt){for(ne=typeof ne=="number"?ne.toString():ne||"";ne.length<je;)ne=nt[0]+ne;return ne}function B(ne,je){return D(ne,je,"0")}function J(ne,je){function nt(vn){return 0>vn?-1:0<vn?1:0}var He;return(He=nt(ne.getFullYear()-je.getFullYear()))===0&&(He=nt(ne.getMonth()-je.getMonth()))===0&&(He=nt(ne.getDate()-je.getDate())),He}function ee(ne){switch(ne.getDay()){case 0:return new Date(ne.getFullYear()-1,11,29);case 1:return ne;case 2:return new Date(ne.getFullYear(),0,3);case 3:return new Date(ne.getFullYear(),0,2);case 4:return new Date(ne.getFullYear(),0,1);case 5:return new Date(ne.getFullYear()-1,11,31);case 6:return new Date(ne.getFullYear()-1,11,30)}}function fe(ne){var je=ne.ba;for(ne=new Date(new Date(ne.ca+1900,0,1).getTime());0<je;){var nt=ne.getMonth(),He=(fa(ne.getFullYear())?ts:ns)[nt];if(je>He-ne.getDate())je-=He-ne.getDate()+1,ne.setDate(1),11>nt?ne.setMonth(nt+1):(ne.setMonth(0),ne.setFullYear(ne.getFullYear()+1));else{ne.setDate(ne.getDate()+je);break}}return nt=new Date(ne.getFullYear()+1,0,4),je=ee(new Date(ne.getFullYear(),0,4)),nt=ee(nt),0>=J(je,ne)?0>=J(nt,ne)?ne.getFullYear()+1:ne.getFullYear():ne.getFullYear()-1}var ue=Ne[S+40>>2];S={pc:Ce[S>>2],oc:Ce[S+4>>2],Da:Ce[S+8>>2],Qa:Ce[S+12>>2],Ea:Ce[S+16>>2],ca:Ce[S+20>>2],R:Ce[S+24>>2],ba:Ce[S+28>>2],Nc:Ce[S+32>>2],nc:Ce[S+36>>2],qc:ue&&ue?De(U,ue):""},v=v?De(U,v):"",ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ve in ue)v=v.replace(new RegExp(Ve,"g"),ue[Ve]);var Je="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ot="January February March April May June July August September October November December".split(" ");ue={"%a":ne=>Je[ne.R].substring(0,3),"%A":ne=>Je[ne.R],"%b":ne=>ot[ne.Ea].substring(0,3),"%B":ne=>ot[ne.Ea],"%C":ne=>B((ne.ca+1900)/100|0,2),"%d":ne=>B(ne.Qa,2),"%e":ne=>D(ne.Qa,2," "),"%g":ne=>fe(ne).toString().substring(2),"%G":fe,"%H":ne=>B(ne.Da,2),"%I":ne=>(ne=ne.Da,ne==0?ne=12:12<ne&&(ne-=12),B(ne,2)),"%j":ne=>{for(var je=0,nt=0;nt<=ne.Ea-1;je+=(fa(ne.ca+1900)?ts:ns)[nt++]);return B(ne.Qa+je,3)},"%m":ne=>B(ne.Ea+1,2),"%M":ne=>B(ne.oc,2),"%n":()=>`
`,"%p":ne=>0<=ne.Da&&12>ne.Da?"AM":"PM","%S":ne=>B(ne.pc,2),"%t":()=>"	","%u":ne=>ne.R||7,"%U":ne=>B(Math.floor((ne.ba+7-ne.R)/7),2),"%V":ne=>{var je=Math.floor((ne.ba+7-(ne.R+6)%7)/7);if(2>=(ne.R+371-ne.ba-2)%7&&je++,je)je==53&&(nt=(ne.R+371-ne.ba)%7,nt==4||nt==3&&fa(ne.ca)||(je=1));else{je=52;var nt=(ne.R+7-ne.ba-1)%7;(nt==4||nt==5&&fa(ne.ca%400-1))&&je++}return B(je,2)},"%w":ne=>ne.R,"%W":ne=>B(Math.floor((ne.ba+7-(ne.R+6)%7)/7),2),"%y":ne=>(ne.ca+1900).toString().substring(2),"%Y":ne=>ne.ca+1900,"%z":ne=>{ne=ne.nc;var je=0<=ne;return ne=Math.abs(ne)/60,(je?"+":"-")+("0000"+(ne/60*100+ne%60)).slice(-4)},"%Z":ne=>ne.qc,"%%":()=>"%"},v=v.replace(/%%/g,"\0\0");for(Ve in ue)v.includes(Ve)&&(v=v.replace(new RegExp(Ve,"g"),ue[Ve](S)));return v=v.replace(/\0\0/g,"%"),Ve=Ut(v,!1),Ve.length>d?0:(Ee.set(Ve,h),Ve.length-1)};[44].forEach(h=>{Oa[h]=new Xe(h),Oa[h].stack="<generic error, no stack>"}),Nr=Array(4096),zn($e,"/"),Cr("/tmp"),Cr("/home"),Cr("/home/web_user"),(function(){Cr("/dev"),Dr(259,{read:()=>0,write:(S,D,B,J)=>J}),Rr("/dev/null",259),qt(1280,Nn),qt(1536,Dn),Rr("/dev/tty",1280),Rr("/dev/tty1",1536);var h=new Uint8Array(1024),d=0,v=()=>(d===0&&(d=Se(h).byteLength),h[--d]);oi("random",v),oi("urandom",v),Cr("/dev/shm"),Cr("/dev/shm/tmp")})(),(function(){Cr("/proc");var h=Cr("/proc/self");Cr("/proc/self/fd"),zn({U(){var d=ai(h,"fd",16895,73);return d.j={ja(v,S){var D=dr(+S);return v={parent:null,U:{lb:"fake"},j:{la:()=>D.path}},v.parent=v}},d}},"/proc/self/fd")})(),mt=z.BindingError=class extends Error{constructor(h){super(h),this.name="BindingError"}},mr.push(0,1,void 0,1,null,1,!0,1,!1,1),z.count_emval_handles=()=>mr.length/2-5-on.length,es=z.PureVirtualError=wa("PureVirtualError");for(var _c=Array(256),el=0;256>el;++el)_c[el]=String.fromCharCode(el);Pa=_c,z.getInheritedInstanceCount=()=>Object.keys(ui).length,z.getLiveInheritedInstances=()=>{var h=[],d;for(d in ui)ui.hasOwnProperty(d)&&h.push(ui[d]);return h},z.flushPendingDeletes=ki,z.setDelayFunction=h=>{rr=h,oa.length&&rr&&rr(ki)},fi=z.InternalError=class extends Error{constructor(h){super(h),this.name="InternalError"}},Object.assign(ca.prototype,{isAliasOf:function(h){if(!(this instanceof ca&&h instanceof ca))return!1;var d=this.g.u.i,v=this.g.o;h.g=h.g;var S=h.g.u.i;for(h=h.g.o;d.C;)v=d.ma(v),d=d.C;for(;S.C;)h=S.ma(h),S=S.C;return d===S&&v===h},clone:function(){if(this.g.o||Pi(this),this.g.ha)return this.g.count.value+=1,this;var h=Xr,d=Object,v=d.create,S=Object.getPrototypeOf(this),D=this.g;return h=h(v.call(d,S,{g:{value:{count:D.count,ea:D.ea,ha:D.ha,o:D.o,u:D.u,F:D.F,J:D.J}}})),h.g.count.value+=1,h.g.ea=!1,h},delete(){if(this.g.o||Pi(this),this.g.ea&&!this.g.ha)throw new mt("Object already scheduled for deletion");Si(this);var h=this.g;--h.count.value,h.count.value===0&&(h.F?h.J.O(h.F):h.u.i.O(h.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||Pi(this),this.g.ea&&!this.g.ha)throw new mt("Object already scheduled for deletion");return oa.push(this),oa.length===1&&rr&&rr(ki),this.g.ea=!0,this}}),Object.assign(ie.prototype,{Rb(h){return this.qb&&(h=this.qb(h)),h},ab(h){this.O?.(h)},argPackAdvance:8,readValueFromPointer:Ir,fromWireType:function(h){function d(){return this.sa?Yr(this.i.M,{u:this.hc,o:v,J:this,F:h}):Yr(this.i.M,{u:this,o:h})}var v=this.Rb(h);if(!v)return this.ab(h),null;var S=ci(this.i,v);if(S!==void 0)return S.g.count.value===0?(S.g.o=v,S.g.F=h,S.clone()):(S=S.clone(),this.ab(h),S);if(S=this.i.Qb(v),S=Aa[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var D=Gr(v,this.i,S.i);return D===null?d.call(this):this.sa?Yr(S.i.M,{u:S,o:D,J:this,F:h}):Yr(S.i.M,{u:S,o:D})}}),ut=z.UnboundTypeError=wa("UnboundTypeError");var ru={__syscall_fcntl64:function(h,d,v){li=v;try{var S=dr(h);switch(d){case 0:var D=C();if(0>D)break;for(;Wn[D];)D++;return Fr(S,D).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return D=C(),S.flags|=D,0;case 12:return D=C(),oe[D+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(B){if(typeof dn>"u"||B.name!=="ErrnoError")throw B;return-B.$}},__syscall_ioctl:function(h,d,v){li=v;try{var S=dr(h);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){h=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var D=C();Ce[D>>2]=25856,Ce[D+4>>2]=5,Ce[D+8>>2]=191,Ce[D+12>>2]=35387;for(var B=0;32>B;B++)Ee[D+B+17]=h[B]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(D=C(),h=[],B=0;32>B;B++)h.push(Ee[D+B+17]);return 0;case 21519:return S.s?(D=C(),Ce[D>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(D=C(),!S.m.Wb)throw new Xe(59);return S.m.Wb(S,d,D);case 21523:return S.s?(S.s.V.Zb&&(B=[24,80],D=C(),oe[D>>1]=B[0],oe[D+2>>1]=B[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(J){if(typeof dn>"u"||J.name!=="ErrnoError")throw J;return-J.$}},__syscall_openat:function(h,d,v,S){li=S;try{d=d?De(U,d):"";var D=d;if(D.charAt(0)==="/")d=D;else{var B=h===-100?"/":dr(h).path;if(D.length==0)throw new Xe(44);d=_(B+"/"+D)}var J=S?C():0;return sa(d,v,J).W}catch(ee){if(typeof dn>"u"||ee.name!=="ErrnoError")throw ee;return-ee.$}},_abort_js:()=>{Yt("")},_embind_create_inheriting_constructor:(h,d,v)=>{h=yn(h),d=ua(d,"wrapper"),v=nr(v);var S=d.i,D=S.M,B=S.C.M,J=S.C.constructor;return h=Oi(h,function(...ee){S.C.pb.forEach((function(fe){if(this[fe]===B[fe])throw new es(`Pure virtual function ${fe} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:D}),this.__construct(...ee)}),D.__construct=function(...ee){if(this===D)throw new mt("Pass correct 'this' to __construct");ee=J.implement(this,...ee),Si(ee);var fe=ee.g;if(ee.notifyOnDestruction(),fe.ha=!0,Object.defineProperties(this,{g:{value:fe}}),Xr(this),ee=fe.o,ee=Ta(S,ee),ui.hasOwnProperty(ee))throw new mt(`Tried to register registered instance: ${ee}`);ui[ee]=this},D.__destruct=function(){if(this===D)throw new mt("Pass correct 'this' to __destruct");Si(this);var ee=this.g.o;if(ee=Ta(S,ee),ui.hasOwnProperty(ee))delete ui[ee];else throw new mt(`Tried to unregister unregistered instance: ${ee}`)},h.prototype=Object.create(D),Object.assign(h.prototype,v),On(h)},_embind_finalize_value_object:h=>{var d=Qi[h];delete Qi[h];var v=d.Na,S=d.O,D=d.eb,B=D.map(J=>J.Ub).concat(D.map(J=>J.kc));It([h],B,J=>{var ee={};return D.forEach((fe,ue)=>{var Ve=J[ue],Je=fe.Sb,ot=fe.Tb,ne=J[ue+D.length],je=fe.jc,nt=fe.lc;ee[fe.Ob]={read:He=>Ve.fromWireType(Je(ot,He)),write:(He,vn)=>{var Ze=[];je(nt,He,ne.toWireType(Ze,vn)),Wr(Ze)}}}),[{name:d.name,fromWireType:fe=>{var ue={},Ve;for(Ve in ee)ue[Ve]=ee[Ve].read(fe);return S(fe),ue},toWireType:(fe,ue)=>{for(var Ve in ee)if(!(Ve in ue))throw new TypeError(`Missing field: "${Ve}"`);var Je=v();for(Ve in ee)ee[Ve].write(Je,ue[Ve]);return fe!==null&&fe.push(S,Je),Je},argPackAdvance:8,readValueFromPointer:Ir,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(h,d,v,S)=>{d=yn(d),Or(h,{name:d,fromWireType:function(D){return!!D},toWireType:function(D,B){return B?v:S},argPackAdvance:8,readValueFromPointer:function(D){return this.fromWireType(U[D])},L:null})},_embind_register_class:(h,d,v,S,D,B,J,ee,fe,ue,Ve,Je,ot)=>{Ve=yn(Ve),B=Ge(D,B),ee&&=Ge(J,ee),ue&&=Ge(fe,ue),ot=Ge(Je,ot);var ne=hi(Ve);ir(ne,function(){Qe(`Cannot construct ${Ve} due to unbound types`,[S])}),It([h,d,v],S?[S]:[],je=>{if(je=je[0],S)var nt=je.i,He=nt.M;else He=ca.prototype;je=Oi(Ve,function(...Sn){if(Object.getPrototypeOf(this)!==vn)throw new mt("Use 'new' to construct "+Ve);if(Ze.Z===void 0)throw new mt(Ve+" has no accessible constructor");var ur=Ze.Z[Sn.length];if(ur===void 0)throw new mt(`Tried to invoke ctor of ${Ve} with invalid number of parameters (${Sn.length}) - expected (${Object.keys(Ze.Z).toString()}) parameters instead!`);return ur.apply(this,Sn)});var vn=Object.create(He,{constructor:{value:je}});je.prototype=vn;var Ze=new ar(Ve,je,vn,ot,nt,B,ee,ue);if(Ze.C){var zt;(zt=Ze.C).na??(zt.na=[]),Ze.C.na.push(Ze)}return nt=new ie(Ve,Ze,!0,!1,!1),zt=new ie(Ve+"*",Ze,!1,!1,!1),He=new ie(Ve+" const*",Ze,!1,!0,!1),Aa[h]={pointerType:zt,Hb:He},we(ne,je),[nt,zt,He]})},_embind_register_class_class_function:(h,d,v,S,D,B,J)=>{var ee=kr(v,S);d=yn(d),d=mi(d),B=Ge(D,B),It([],[h],fe=>{function ue(){Qe(`Cannot call ${Ve} due to unbound types`,ee)}fe=fe[0];var Ve=`${fe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Je=fe.i.constructor;return Je[d]===void 0?(ue.da=v-1,Je[d]=ue):(Ki(Je,d,Ve),Je[d].A[v-1]=ue),It([],ee,ot=>{if(ot=Qt(Ve,[ot[0],null].concat(ot.slice(1)),null,B,J),Je[d].A===void 0?(ot.da=v-1,Je[d]=ot):Je[d].A[v-1]=ot,fe.i.na)for(const ne of fe.i.na)ne.constructor.hasOwnProperty(d)||(ne.constructor[d]=ot);return[]}),[]})},_embind_register_class_class_property:(h,d,v,S,D,B,J,ee)=>{d=yn(d),B=Ge(D,B),It([],[h],fe=>{fe=fe[0];var ue=`${fe.name}.${d}`,Ve={get(){Qe(`Cannot access ${ue} due to unbound types`,[v])},enumerable:!0,configurable:!0};return Ve.set=ee?()=>{Qe(`Cannot access ${ue} due to unbound types`,[v])}:()=>{throw new mt(`${ue} is a read-only property`)},Object.defineProperty(fe.i.constructor,d,Ve),It([],[v],Je=>{Je=Je[0];var ot={get(){return Je.fromWireType(B(S))},enumerable:!0};return ee&&(ee=Ge(J,ee),ot.set=ne=>{var je=[];ee(S,Je.toWireType(je,ne)),Wr(je)}),Object.defineProperty(fe.i.constructor,d,ot),[]}),[]})},_embind_register_class_constructor:(h,d,v,S,D,B)=>{var J=kr(d,v);D=Ge(S,D),It([],[h],ee=>{ee=ee[0];var fe=`constructor ${ee.name}`;if(ee.i.Z===void 0&&(ee.i.Z=[]),ee.i.Z[d-1]!==void 0)throw new mt(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${ee.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ee.i.Z[d-1]=()=>{Qe(`Cannot construct ${ee.name} due to unbound types`,J)},It([],J,ue=>(ue.splice(1,0,null),ee.i.Z[d-1]=Qt(fe,ue,null,D,B),[])),[]})},_embind_register_class_function:(h,d,v,S,D,B,J,ee)=>{var fe=kr(v,S);d=yn(d),d=mi(d),B=Ge(D,B),It([],[h],ue=>{function Ve(){Qe(`Cannot call ${Je} due to unbound types`,fe)}ue=ue[0];var Je=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),ee&&ue.i.pb.push(d);var ot=ue.i.M,ne=ot[d];return ne===void 0||ne.A===void 0&&ne.className!==ue.name&&ne.da===v-2?(Ve.da=v-2,Ve.className=ue.name,ot[d]=Ve):(Ki(ot,d,Je),ot[d].A[v-2]=Ve),It([],fe,je=>(je=Qt(Je,je,ue,B,J),ot[d].A===void 0?(je.da=v-2,ot[d]=je):ot[d].A[v-2]=je,[])),[]})},_embind_register_class_property:(h,d,v,S,D,B,J,ee,fe,ue)=>{d=yn(d),D=Ge(S,D),It([],[h],Ve=>{Ve=Ve[0];var Je=`${Ve.name}.${d}`,ot={get(){Qe(`Cannot access ${Je} due to unbound types`,[v,J])},enumerable:!0,configurable:!0};return ot.set=fe?()=>Qe(`Cannot access ${Je} due to unbound types`,[v,J]):()=>{throw new mt(Je+" is a read-only property")},Object.defineProperty(Ve.i.M,d,ot),It([],fe?[v,J]:[v],ne=>{var je=ne[0],nt={get(){var vn=gr(this,Ve,Je+" getter");return je.fromWireType(D(B,vn))},enumerable:!0};if(fe){fe=Ge(ee,fe);var He=ne[1];nt.set=function(vn){var Ze=gr(this,Ve,Je+" setter"),zt=[];fe(ue,Ze,He.toWireType(zt,vn)),Wr(zt)}}return Object.defineProperty(Ve.i.M,d,nt),[]}),[]})},_embind_register_emval:h=>Or(h,$o),_embind_register_enum:(h,d,v,S)=>{function D(){}d=yn(d),D.values={},Or(h,{name:d,constructor:D,fromWireType:function(B){return this.constructor.values[B]},toWireType:(B,J)=>J.value,argPackAdvance:8,readValueFromPointer:Jo(d,v,S),L:null}),ir(d,D)},_embind_register_enum_value:(h,d,v)=>{var S=ua(h,"enum");d=yn(d),h=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:v},constructor:{value:Oi(`${S.name}_${d}`,function(){})}}),h.values[v]=S,h[d]=S},_embind_register_float:(h,d,v)=>{d=yn(d),Or(h,{name:d,fromWireType:S=>S,toWireType:(S,D)=>D,argPackAdvance:8,readValueFromPointer:La(d,v),L:null})},_embind_register_function:(h,d,v,S,D,B)=>{var J=kr(d,v);h=yn(h),h=mi(h),D=Ge(S,D),ir(h,function(){Qe(`Cannot call ${h} due to unbound types`,J)},d-1),It([],J,ee=>(we(h,Qt(h,[ee[0],null].concat(ee.slice(1)),null,D,B),d-1),[]))},_embind_register_integer:(h,d,v,S,D)=>{if(d=yn(d),D===-1&&(D=4294967295),D=ee=>ee,S===0){var B=32-8*v;D=ee=>ee<<B>>>B}var J=d.includes("unsigned")?function(ee,fe){return fe>>>0}:function(ee,fe){return fe};Or(h,{name:d,fromWireType:D,toWireType:J,argPackAdvance:8,readValueFromPointer:Qr(d,v,S!==0),L:null})},_embind_register_memory_view:(h,d,v)=>{function S(B){return new D(Ee.buffer,Ne[B+4>>2],Ne[B>>2])}var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];v=yn(v),Or(h,{name:v,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(h,d)=>{d=yn(d);var v=d==="std::string";Or(h,{name:d,fromWireType:function(S){var D=Ne[S>>2],B=S+4;if(v)for(var J=B,ee=0;ee<=D;++ee){var fe=B+ee;if(ee==D||U[fe]==0){if(J=J?De(U,J,fe-J):"",ue===void 0)var ue=J;else ue+="\0",ue+=J;J=fe+1}}else{for(ue=Array(D),ee=0;ee<D;++ee)ue[ee]=String.fromCharCode(U[B+ee]);ue=ue.join("")}return Ri(S),ue},toWireType:function(S,D){D instanceof ArrayBuffer&&(D=new Uint8Array(D));var B=typeof D=="string";if(!(B||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array))throw new mt("Cannot pass non-string to std::string");var J=v&&B?Ht(D):D.length,ee=rs(4+J+1),fe=ee+4;if(Ne[ee>>2]=J,v&&B)Un(D,U,fe,J+1);else if(B)for(B=0;B<J;++B){var ue=D.charCodeAt(B);if(255<ue)throw Ri(fe),new mt("String has UTF-16 code units that do not fit in 8 bits");U[fe+B]=ue}else for(B=0;B<J;++B)U[fe+B]=D[B];return S!==null&&S.push(Ri,ee),ee},argPackAdvance:8,readValueFromPointer:Ir,L(S){Ri(S)}})},_embind_register_std_wstring:(h,d,v)=>{if(v=yn(v),d===2)var S=Zo,D=Sa,B=u,J=ee=>xe[ee>>1];else d===4&&(S=y,D=A,B=k,J=ee=>Ne[ee>>2]);Or(h,{name:v,fromWireType:ee=>{for(var fe=Ne[ee>>2],ue,Ve=ee+4,Je=0;Je<=fe;++Je){var ot=ee+4+Je*d;(Je==fe||J(ot)==0)&&(Ve=S(Ve,ot-Ve),ue===void 0?ue=Ve:(ue+="\0",ue+=Ve),Ve=ot+d)}return Ri(ee),ue},toWireType:(ee,fe)=>{if(typeof fe!="string")throw new mt(`Cannot pass non-string to C++ string type ${v}`);var ue=B(fe),Ve=rs(4+ue+d);return Ne[Ve>>2]=ue/d,D(fe,Ve+4,ue+d),ee!==null&&ee.push(Ri,Ve),Ve},argPackAdvance:8,readValueFromPointer:Ir,L(ee){Ri(ee)}})},_embind_register_value_object:(h,d,v,S,D,B)=>{Qi[h]={name:yn(d),Na:Ge(v,S),O:Ge(D,B),eb:[]}},_embind_register_value_object_field:(h,d,v,S,D,B,J,ee,fe,ue)=>{Qi[h].eb.push({Ob:yn(d),Ub:v,Sb:Ge(S,D),Tb:B,kc:J,jc:Ge(ee,fe),lc:ue})},_embind_register_void:(h,d)=>{d=yn(d),Or(h,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(h,d,v)=>U.copyWithin(h,d,d+v),_emval_as:(h,d,v)=>(h=nr(h),d=ua(d,"emval::as"),se(d,v,h)),_emval_call_method:(h,d,v,S,D)=>(h=St[h],d=nr(d),v=Be(v),h(d,d[v],S,D)),_emval_decref:Ds,_emval_get_method_caller:(h,d,v)=>{var S=mn(h,d),D=S.shift();h--;var B=Array(h);return d=`methodCaller<(${S.map(J=>J.name).join(", ")}) => ${D.name}>`,Zn(Oi(d,(J,ee,fe,ue)=>{for(var Ve=0,Je=0;Je<h;++Je)B[Je]=S[Je].readValueFromPointer(ue+Ve),Ve+=S[Je].argPackAdvance;return J=v===1?Bn(ee,B):ee.apply(J,B),se(D,fe,J)}))},_emval_get_module_property:h=>(h=Be(h),On(z[h])),_emval_get_property:(h,d)=>(h=nr(h),d=nr(d),On(h[d])),_emval_incref:h=>{9<h&&(mr[h+1]+=1)},_emval_new_array:()=>On([]),_emval_new_cstring:h=>On(Be(h)),_emval_new_object:()=>On({}),_emval_run_destructors:h=>{var d=nr(h);Wr(d),Ds(h)},_emval_set_property:(h,d,v)=>{h=nr(h),d=nr(d),v=nr(v),h[d]=v},_emval_take_value:(h,d)=>(h=ua(h,"_emval_take_value"),h=h.readValueFromPointer(d),On(h)),emscripten_asm_const_int:(h,d,v)=>{pi.length=0;for(var S;S=U[d++];){var D=S!=105;D&=S!=112,v+=D&&v%8?4:0,pi.push(S==112?Ne[v>>2]:S==105?Ce[v>>2]:dt[v>>3]),v+=D?8:4}return Rt[h](...pi)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:h=>{var d=U.length;if(h>>>=0,2147483648<h)return!1;for(var v=1;4>=v;v*=2){var S=d*(1+.2/v);S=Math.min(S,h+100663296);var D=Math;S=Math.max(h,S);e:{D=(D.min.call(D,2147483648,S+(65536-S%65536)%65536)-ge.buffer.byteLength+65535)/65536;try{ge.grow(D),jt();var B=1;break e}catch{}B=void 0}if(B)return!0}return!1},environ_get:(h,d)=>{var v=0;return Bi().forEach((S,D)=>{var B=d+v;for(D=Ne[h+4*D>>2]=B,B=0;B<S.length;++B)Ee[D++]=S.charCodeAt(B);Ee[D]=0,v+=S.length+1}),0},environ_sizes_get:(h,d)=>{var v=Bi();Ne[h>>2]=v.length;var S=0;return v.forEach(D=>S+=D.length+1),Ne[d>>2]=S,0},fd_close:function(h){try{var d=dr(h);if(d.W===null)throw new Xe(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(v){throw v}finally{Wn[d.W]=null}return d.W=null,0}catch(v){if(typeof dn>"u"||v.name!=="ErrnoError")throw v;return v.$}},fd_read:function(h,d,v,S){try{e:{var D=dr(h);h=d;for(var B,J=d=0;J<v;J++){var ee=Ne[h>>2],fe=Ne[h+4>>2];h+=8;var ue=D,Ve=B,Je=Ee;if(0>fe||0>Ve)throw new Xe(28);if(ue.W===null)throw new Xe(8);if((ue.flags&2097155)===1)throw new Xe(8);if((ue.node.mode&61440)===16384)throw new Xe(31);if(!ue.m.read)throw new Xe(28);var ot=typeof Ve<"u";if(!ot)Ve=ue.position;else if(!ue.seekable)throw new Xe(70);var ne=ue.m.read(ue,Je,ee,fe,Ve);ot||(ue.position+=ne);var je=ne;if(0>je){var nt=-1;break e}if(d+=je,je<fe)break;typeof B<"u"&&(B+=je)}nt=d}return Ne[S>>2]=nt,0}catch(He){if(typeof dn>"u"||He.name!=="ErrnoError")throw He;return He.$}},fd_seek:function(h,d,v,S,D){d=v+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*v:NaN;try{if(isNaN(d))return 61;var B=dr(h);return Va(B,d,S),Nt=[B.position>>>0,(vt=B.position,1<=+Math.abs(vt)?0<vt?+Math.floor(vt/4294967296)>>>0:~~+Math.ceil((vt-+(~~vt>>>0))/4294967296)>>>0:0)],Ce[D>>2]=Nt[0],Ce[D+4>>2]=Nt[1],B.Ka&&d===0&&S===0&&(B.Ka=null),0}catch(J){if(typeof dn>"u"||J.name!=="ErrnoError")throw J;return J.$}},fd_write:function(h,d,v,S){try{e:{var D=dr(h);h=d;for(var B,J=d=0;J<v;J++){var ee=Ne[h>>2],fe=Ne[h+4>>2];h+=8;var ue=D,Ve=ee,Je=fe,ot=B,ne=Ee;if(0>Je||0>ot)throw new Xe(28);if(ue.W===null)throw new Xe(8);if((ue.flags&2097155)===0)throw new Xe(8);if((ue.node.mode&61440)===16384)throw new Xe(31);if(!ue.m.write)throw new Xe(28);ue.seekable&&ue.flags&1024&&Va(ue,0,2);var je=typeof ot<"u";if(!je)ot=ue.position;else if(!ue.seekable)throw new Xe(70);var nt=ue.m.write(ue,ne,Ve,Je,ot,void 0);je||(ue.position+=nt);var He=nt;if(0>He){var vn=-1;break e}d+=He,typeof B<"u"&&(B+=He)}vn=d}return Ne[S>>2]=vn,0}catch(Ze){if(typeof dn>"u"||Ze.name!=="ErrnoError")throw Ze;return Ze.$}},isWindowsBrowser:function(){return-1<navigator.platform.indexOf("Win")},strftime_l:(h,d,v,S)=>Ch(h,d,v,S)},Hn=(function(){function h(v){return Hn=v.exports,ge=Hn.memory,jt(),Te=Hn.__indirect_function_table,kt.unshift(Hn.__wasm_call_ctors),wt--,z.monitorRunDependencies?.(wt),wt==0&&sn&&(v=sn,sn=null,v()),Hn}var d={env:ru,wasi_snapshot_preview1:ru};if(wt++,z.monitorRunDependencies?.(wt),z.instantiateWasm)try{return z.instantiateWasm(d,h)}catch(v){G(`Module.instantiateWasm callback failed with error: ${v}`),be(v)}return fn||=Kn("canvas_advanced.wasm")?"canvas_advanced.wasm":z.locateFile?z.locateFile("canvas_advanced.wasm",L):L+"canvas_advanced.wasm",Xt(d,function(v){h(v.instance)}).catch(be),{}})(),Ri=h=>(Ri=Hn.free)(h),rs=h=>(rs=Hn.malloc)(h),bc=h=>(bc=Hn.__getTypeName)(h),Co=z._ma_device__on_notification_unlocked=h=>(Co=z._ma_device__on_notification_unlocked=Hn.ma_device__on_notification_unlocked)(h);z._ma_malloc_emscripten=(h,d)=>(z._ma_malloc_emscripten=Hn.ma_malloc_emscripten)(h,d),z._ma_free_emscripten=(h,d)=>(z._ma_free_emscripten=Hn.ma_free_emscripten)(h,d);var iu=z._ma_device_process_pcm_frames_capture__webaudio=(h,d,v)=>(iu=z._ma_device_process_pcm_frames_capture__webaudio=Hn.ma_device_process_pcm_frames_capture__webaudio)(h,d,v),au=z._ma_device_process_pcm_frames_playback__webaudio=(h,d,v)=>(au=z._ma_device_process_pcm_frames_playback__webaudio=Hn.ma_device_process_pcm_frames_playback__webaudio)(h,d,v);z.dynCall_iiji=(h,d,v,S,D)=>(z.dynCall_iiji=Hn.dynCall_iiji)(h,d,v,S,D),z.dynCall_jiji=(h,d,v,S,D)=>(z.dynCall_jiji=Hn.dynCall_jiji)(h,d,v,S,D),z.dynCall_iiiji=(h,d,v,S,D,B)=>(z.dynCall_iiiji=Hn.dynCall_iiiji)(h,d,v,S,D,B),z.dynCall_iij=(h,d,v,S)=>(z.dynCall_iij=Hn.dynCall_iij)(h,d,v,S),z.dynCall_jii=(h,d,v)=>(z.dynCall_jii=Hn.dynCall_jii)(h,d,v),z.dynCall_viijii=(h,d,v,S,D,B,J)=>(z.dynCall_viijii=Hn.dynCall_viijii)(h,d,v,S,D,B,J),z.dynCall_iiiiij=(h,d,v,S,D,B,J)=>(z.dynCall_iiiiij=Hn.dynCall_iiiiij)(h,d,v,S,D,B,J),z.dynCall_iiiiijj=(h,d,v,S,D,B,J,ee,fe)=>(z.dynCall_iiiiijj=Hn.dynCall_iiiiijj)(h,d,v,S,D,B,J,ee,fe),z.dynCall_iiiiiijj=(h,d,v,S,D,B,J,ee,fe,ue)=>(z.dynCall_iiiiiijj=Hn.dynCall_iiiiiijj)(h,d,v,S,D,B,J,ee,fe,ue);var ks;sn=function h(){ks||tl(),ks||(sn=h)};function tl(){function h(){if(!ks&&(ks=!0,z.calledRun=!0,!de)){if(z.noFSInit||Za||(Za=!0,z.stdin=z.stdin,z.stdout=z.stdout,z.stderr=z.stderr,z.stdin?oi("stdin",z.stdin):si("/dev/tty","/dev/stdin"),z.stdout?oi("stdout",null,z.stdout):si("/dev/tty","/dev/stdout"),z.stderr?oi("stderr",null,z.stderr):si("/dev/tty1","/dev/stderr"),sa("/dev/stdin",0),sa("/dev/stdout",1),sa("/dev/stderr",1)),wi=!1,En(kt),Oe(z),z.onRuntimeInitialized&&z.onRuntimeInitialized(),z.postRun)for(typeof z.postRun=="function"&&(z.postRun=[z.postRun]);z.postRun.length;){var d=z.postRun.shift();Ft.unshift(d)}En(Ft)}}if(!(0<wt)){if(z.preRun)for(typeof z.preRun=="function"&&(z.preRun=[z.preRun]);z.preRun.length;)pt();En(ct),0<wt||(z.setStatus?(z.setStatus("Running..."),setTimeout(function(){setTimeout(function(){z.setStatus("")},1),h()},1)):h())}}if(z.preInit)for(typeof z.preInit=="function"&&(z.preInit=[z.preInit]);0<z.preInit.length;)z.preInit.pop()();return tl(),te=Le,te})})();const x=w}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.33.1","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w.Animation});var w=E(4)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w});var w=(function(){function x(O,q,te,z){this.animation=O,this.artboard=q,this.playing=z,this.loopCount=0,this.scrubTo=null,this.instance=new te.LinearAnimationInstance(O,q)}return Object.defineProperty(x.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"time",{get:function(){return this.instance.time},set:function(O){this.instance.time=O},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),x.prototype.advance=function(O){this.scrubTo===null?this.instance.advance(O):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},x.prototype.apply=function(O){this.instance.apply(O)},x.prototype.cleanup=function(){this.instance.delete()},x})()}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>O.AudioAssetWrapper,AudioWrapper:()=>O.AudioWrapper,BLANK_URL:()=>x.BLANK_URL,CustomFileAssetLoaderWrapper:()=>O.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>O.FileAssetWrapper,FileFinalizer:()=>O.FileFinalizer,FontAssetWrapper:()=>O.FontAssetWrapper,FontWrapper:()=>O.FontWrapper,ImageAssetWrapper:()=>O.ImageAssetWrapper,ImageWrapper:()=>O.ImageWrapper,createFinalization:()=>O.createFinalization,finalizationRegistry:()=>O.finalizationRegistry,registerTouchInteractions:()=>w.registerTouchInteractions,sanitizeUrl:()=>x.sanitizeUrl});var w=E(6),x=E(7),O=E(8)}),((p,b,E)=>{E.r(b),E.d(b,{registerTouchInteractions:()=>O});var w=void 0,x=function(q,te,z){var Oe,be,Le=[];if(["touchstart","touchmove"].indexOf(q.type)>-1&&(!((Oe=q.changedTouches)===null||Oe===void 0)&&Oe.length)){te||q.preventDefault();for(var j=0,Pe=z?q.changedTouches.length:1;j<Pe;){var tt=q.changedTouches[j];Le.push({clientX:tt.clientX,clientY:tt.clientY,identifier:tt.identifier}),j++}}else if(q.type==="touchend"&&(!((be=q.changedTouches)===null||be===void 0)&&be.length))for(var j=0,Pe=z?q.changedTouches.length:1;j<Pe;){var tt=q.changedTouches[j];Le.push({clientX:tt.clientX,clientY:tt.clientY,identifier:tt.identifier}),j++}else Le.push({clientX:q.clientX,clientY:q.clientY,identifier:0});return Le},O=function(q){var te=q.canvas,z=q.artboard,Oe=q.stateMachines,be=Oe===void 0?[]:Oe,Le=q.renderer,j=q.rive,Pe=q.fit,tt=q.alignment,ft=q.isTouchScrollEnabled,at=ft===void 0?!1:ft,Y=q.dispatchPointerExit,F=Y===void 0?!0:Y,P=q.enableMultiTouch,H=P===void 0?!1:P,R=q.layoutScaleFactor,L=R===void 0?1:R;if(!te||!be.length||!Le||!j||!z||typeof window>"u")return null;var N=null,W=!1,ae=function(Q){if(W&&Q instanceof MouseEvent){Q.type=="mouseup"&&(W=!1);return}W=at&&Q.type==="touchend"&&N==="touchstart",N=Q.type;var ge=Q.currentTarget.getBoundingClientRect(),de=x(Q,at,H),Ee=j.computeAlignment(Pe,tt,{minX:0,minY:0,maxX:ge.width,maxY:ge.height},z.bounds,L),U=new j.Mat2D;switch(Ee.invert(U),de.forEach(function(fn){var it=fn.clientX,Lt=fn.clientY;if(!(!it&&!Lt)){var hn=it-ge.left,Xt=Lt-ge.top,vt=new j.Vec2D(hn,Xt),Nt=j.mapXY(U,vt),Rt=Nt.x(),En=Nt.y();fn.transformedX=Rt,fn.transformedY=En,Nt.delete(),vt.delete()}}),U.delete(),Ee.delete(),Q.type){case"mouseout":for(var oe=function(fn){F?de.forEach(function(it){fn.pointerExit(it.transformedX,it.transformedY,it.identifier)}):de.forEach(function(it){fn.pointerMove(it.transformedX,it.transformedY,it.identifier)})},xe=0,Ce=be;xe<Ce.length;xe++){var Ne=Ce[xe];oe(Ne)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Ke=function(fn){de.forEach(function(it){fn.pointerMove(it.transformedX,it.transformedY,it.identifier)})},dt=0,jt=be;dt<jt.length;dt++){var Ne=jt[dt];Ke(Ne)}break}case"touchstart":case"mousedown":{for(var ct=function(fn){de.forEach(function(it){fn.pointerDown(it.transformedX,it.transformedY,it.identifier)})},kt=0,Ft=be;kt<Ft.length;kt++){var Ne=Ft[kt];ct(Ne)}break}case"touchend":{for(var pt=function(fn){de.forEach(function(it){fn.pointerUp(it.transformedX,it.transformedY,it.identifier),fn.pointerExit(it.transformedX,it.transformedY,it.identifier)})},wt=0,sn=be;wt<sn.length;wt++){var Ne=sn[wt];pt(Ne)}break}case"mouseup":{for(var Yt=function(fn){de.forEach(function(it){fn.pointerUp(it.transformedX,it.transformedY,it.identifier)})},Kn=0,Ar=be;Kn<Ar.length;Kn++){var Ne=Ar[Kn];Yt(Ne)}break}}},G=ae.bind(w);return te.addEventListener("mouseover",G),te.addEventListener("mouseout",G),te.addEventListener("mousemove",G),te.addEventListener("mousedown",G),te.addEventListener("mouseup",G),te.addEventListener("touchmove",G,{passive:at}),te.addEventListener("touchstart",G,{passive:at}),te.addEventListener("touchend",G),function(){te.removeEventListener("mouseover",G),te.removeEventListener("mouseout",G),te.removeEventListener("mousemove",G),te.removeEventListener("mousedown",G),te.removeEventListener("mouseup",G),te.removeEventListener("touchmove",G),te.removeEventListener("touchstart",G),te.removeEventListener("touchend",G)}}}),((p,b,E)=>{E.r(b),E.d(b,{BLANK_URL:()=>Oe,sanitizeUrl:()=>j});var w=/^([^\w]*)(javascript|data|vbscript)/im,x=/&#(\w+)(^\w|;)?/g,O=/&(newline|tab);/gi,q=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,te=/^.+(:|&colon;)/gim,z=[".","/"],Oe="about:blank";function be(Pe){return z.indexOf(Pe[0])>-1}function Le(Pe){var tt=Pe.replace(q,"");return tt.replace(x,function(ft,at){return String.fromCharCode(at)})}function j(Pe){if(!Pe)return Oe;var tt=Le(Pe).replace(O,"").replace(q,"").trim();if(!tt)return Oe;if(be(tt))return tt;var ft=tt.match(te);if(!ft)return tt;var at=ft[0];return w.test(at)?Oe:tt}}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>Pe,AudioWrapper:()=>z,CustomFileAssetLoaderWrapper:()=>be,FileAssetWrapper:()=>Le,FileFinalizer:()=>x,FontAssetWrapper:()=>tt,FontWrapper:()=>Oe,ImageAssetWrapper:()=>j,ImageWrapper:()=>te,createFinalization:()=>F,finalizationRegistry:()=>Y});var w=(function(){var P=function(H,R){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,N){L.__proto__=N}||function(L,N){for(var W in N)Object.prototype.hasOwnProperty.call(N,W)&&(L[W]=N[W])},P(H,R)};return function(H,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");P(H,R);function L(){this.constructor=H}H.prototype=R===null?Object.create(R):(L.prototype=R.prototype,new L)}})(),x=(function(){function P(H){this.selfUnref=!1,this._file=H}return P.prototype.unref=function(){this._file&&this._file.unref()},P})(),O=(function(){function P(H){this._finalizableObject=H}return P.prototype.unref=function(){this._finalizableObject.unref()},P})(),q=(function(){function P(){this.selfUnref=!1}return P.prototype.unref=function(){},P})(),te=(function(P){w(H,P);function H(R){var L=P.call(this)||this;return L._nativeImage=R,L}return Object.defineProperty(H.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},H})(q),z=(function(P){w(H,P);function H(R){var L=P.call(this)||this;return L._nativeAudio=R,L}return Object.defineProperty(H.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},H})(q),Oe=(function(P){w(H,P);function H(R){var L=P.call(this)||this;return L._nativeFont=R,L}return Object.defineProperty(H.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},H})(q),be=(function(){function P(H,R){this._assetLoaderCallback=R,this.assetLoader=new H.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return P.prototype.loadContents=function(H,R){var L;return H.isImage?L=new j(H):H.isAudio?L=new Pe(H):H.isFont&&(L=new tt(H)),this._assetLoaderCallback(L,R)},P})(),Le=(function(){function P(H){this._nativeFileAsset=H}return P.prototype.decode=function(H){this._nativeFileAsset.decode(H)},Object.defineProperty(P.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),P})(),j=(function(P){w(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setRenderImage=function(R){this._nativeFileAsset.setRenderImage(R.nativeImage)},H})(Le),Pe=(function(P){w(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setAudioSource=function(R){this._nativeFileAsset.setAudioSource(R.nativeAudio)},H})(Le),tt=(function(P){w(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setFont=function(R){this._nativeFileAsset.setFont(R.nativeFont)},H})(Le),ft=(function(){function P(H){}return P.prototype.register=function(H){H.selfUnref=!0},P.prototype.unregister=function(H){},P})(),at=typeof FinalizationRegistry<"u"?FinalizationRegistry:ft,Y=new at(function(P){P?.unref()}),F=function(P,H){var R=new O(H);Y.register(P,R)}})],a={};function l(p){var b=a[p];if(b!==void 0)return b.exports;var E=a[p]={exports:{}};return r[p](E,E.exports,l),E.exports}l.d=(p,b)=>{for(var E in b)l.o(b,E)&&!l.o(p,E)&&Object.defineProperty(p,E,{enumerable:!0,get:b[E]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>j,DataEnum:()=>jt,DrawOptimizationOptions:()=>Pe,EventType:()=>W,Fit:()=>Le,Layout:()=>tt,LoopType:()=>ae,Rive:()=>Ke,RiveEventType:()=>F,RiveFile:()=>Ne,RuntimeLoader:()=>ft,StateMachineInput:()=>Y,StateMachineInputType:()=>at,Testing:()=>vt,ViewModel:()=>dt,ViewModelInstance:()=>kt,ViewModelInstanceArtboard:()=>Lt,ViewModelInstanceAssetImage:()=>it,ViewModelInstanceBoolean:()=>sn,ViewModelInstanceColor:()=>fn,ViewModelInstanceEnum:()=>Kn,ViewModelInstanceList:()=>Ar,ViewModelInstanceNumber:()=>wt,ViewModelInstanceString:()=>pt,ViewModelInstanceTrigger:()=>Yt,ViewModelInstanceValue:()=>Ft,decodeAudio:()=>Nt,decodeFont:()=>En,decodeImage:()=>Rt});var p=l(1),b=l(2),E=l(3),w=l(5),x=(function(){var C=function(g,_){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,Z){V.__proto__=Z}||function(V,Z){for(var me in Z)Object.prototype.hasOwnProperty.call(Z,me)&&(V[me]=Z[me])},C(g,_)};return function(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");C(g,_);function V(){this.constructor=g}g.prototype=_===null?Object.create(_):(V.prototype=_.prototype,new V)}})(),O=function(){return O=Object.assign||function(C){for(var g,_=1,V=arguments.length;_<V;_++){g=arguments[_];for(var Z in g)Object.prototype.hasOwnProperty.call(g,Z)&&(C[Z]=g[Z])}return C},O.apply(this,arguments)},q=function(C,g,_,V){function Z(me){return me instanceof _?me:new _(function(Se){Se(me)})}return new(_||(_=Promise))(function(me,Se){function Ye(_t){try{De(V.next(_t))}catch(Ht){Se(Ht)}}function st(_t){try{De(V.throw(_t))}catch(Ht){Se(Ht)}}function De(_t){_t.done?me(_t.value):Z(_t.value).then(Ye,st)}De((V=V.apply(C,g||[])).next())})},te=function(C,g){var _={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},V,Z,me,Se=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Se.next=Ye(0),Se.throw=Ye(1),Se.return=Ye(2),typeof Symbol=="function"&&(Se[Symbol.iterator]=function(){return this}),Se;function Ye(De){return function(_t){return st([De,_t])}}function st(De){if(V)throw new TypeError("Generator is already executing.");for(;Se&&(Se=0,De[0]&&(_=0)),_;)try{if(V=1,Z&&(me=De[0]&2?Z.return:De[0]?Z.throw||((me=Z.return)&&me.call(Z),0):Z.next)&&!(me=me.call(Z,De[1])).done)return me;switch(Z=0,me&&(De=[De[0]&2,me.value]),De[0]){case 0:case 1:me=De;break;case 4:return _.label++,{value:De[1],done:!1};case 5:_.label++,Z=De[1],De=[0];continue;case 7:De=_.ops.pop(),_.trys.pop();continue;default:if(me=_.trys,!(me=me.length>0&&me[me.length-1])&&(De[0]===6||De[0]===2)){_=0;continue}if(De[0]===3&&(!me||De[1]>me[0]&&De[1]<me[3])){_.label=De[1];break}if(De[0]===6&&_.label<me[1]){_.label=me[1],me=De;break}if(me&&_.label<me[2]){_.label=me[2],_.ops.push(De);break}me[2]&&_.ops.pop(),_.trys.pop();continue}De=g.call(C,_)}catch(_t){De=[6,_t],Z=0}finally{V=me=0}if(De[0]&5)throw De[1];return{value:De[0]?De[1]:void 0,done:!0}}},z=function(C,g,_){if(_||arguments.length===2)for(var V=0,Z=g.length,me;V<Z;V++)(me||!(V in g))&&(me||(me=Array.prototype.slice.call(g,0,V)),me[V]=g[V]);return C.concat(me||Array.prototype.slice.call(g))},Oe=(function(C){x(g,C);function g(){var _=C!==null&&C.apply(this,arguments)||this;return _.isHandledError=!0,_}return g})(Error),be=function(C){return C&&C.isHandledError?C.message:"Problem loading file; may be corrupt!"},Le;(function(C){C.Cover="cover",C.Contain="contain",C.Fill="fill",C.FitWidth="fitWidth",C.FitHeight="fitHeight",C.None="none",C.ScaleDown="scaleDown",C.Layout="layout"})(Le||(Le={}));var j;(function(C){C.Center="center",C.TopLeft="topLeft",C.TopCenter="topCenter",C.TopRight="topRight",C.CenterLeft="centerLeft",C.CenterRight="centerRight",C.BottomLeft="bottomLeft",C.BottomCenter="bottomCenter",C.BottomRight="bottomRight"})(j||(j={}));var Pe;(function(C){C.AlwaysDraw="alwaysDraw",C.DrawOnChanged="drawOnChanged"})(Pe||(Pe={}));var tt=(function(){function C(g){var _,V,Z,me,Se,Ye,st;this.fit=(_=g?.fit)!==null&&_!==void 0?_:Le.Contain,this.alignment=(V=g?.alignment)!==null&&V!==void 0?V:j.Center,this.layoutScaleFactor=(Z=g?.layoutScaleFactor)!==null&&Z!==void 0?Z:1,this.minX=(me=g?.minX)!==null&&me!==void 0?me:0,this.minY=(Se=g?.minY)!==null&&Se!==void 0?Se:0,this.maxX=(Ye=g?.maxX)!==null&&Ye!==void 0?Ye:0,this.maxY=(st=g?.maxY)!==null&&st!==void 0?st:0}return C.new=function(g){var _=g.fit,V=g.alignment,Z=g.minX,me=g.minY,Se=g.maxX,Ye=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new C({fit:_,alignment:V,minX:Z,minY:me,maxX:Se,maxY:Ye})},C.prototype.copyWith=function(g){var _=g.fit,V=g.alignment,Z=g.layoutScaleFactor,me=g.minX,Se=g.minY,Ye=g.maxX,st=g.maxY;return new C({fit:_??this.fit,alignment:V??this.alignment,layoutScaleFactor:Z??this.layoutScaleFactor,minX:me??this.minX,minY:Se??this.minY,maxX:Ye??this.maxX,maxY:st??this.maxY})},C.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var _;return this.fit===Le.Cover?_=g.Fit.cover:this.fit===Le.Contain?_=g.Fit.contain:this.fit===Le.Fill?_=g.Fit.fill:this.fit===Le.FitWidth?_=g.Fit.fitWidth:this.fit===Le.FitHeight?_=g.Fit.fitHeight:this.fit===Le.ScaleDown?_=g.Fit.scaleDown:this.fit===Le.Layout?_=g.Fit.layout:_=g.Fit.none,this.cachedRuntimeFit=_,_},C.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var _;return this.alignment===j.TopLeft?_=g.Alignment.topLeft:this.alignment===j.TopCenter?_=g.Alignment.topCenter:this.alignment===j.TopRight?_=g.Alignment.topRight:this.alignment===j.CenterLeft?_=g.Alignment.centerLeft:this.alignment===j.CenterRight?_=g.Alignment.centerRight:this.alignment===j.BottomLeft?_=g.Alignment.bottomLeft:this.alignment===j.BottomCenter?_=g.Alignment.bottomCenter:this.alignment===j.BottomRight?_=g.Alignment.bottomRight:_=g.Alignment.center,this.cachedRuntimeAlignment=_,_},C})(),ft=(function(){function C(){}return C.loadRuntime=function(){p.default({locateFile:function(){return C.wasmURL}}).then(function(g){var _;for(C.runtime=g;C.callBackQueue.length>0;)(_=C.callBackQueue.shift())===null||_===void 0||_(C.runtime)}).catch(function(g){var _={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",_);var V="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(C.wasmURL.toLowerCase()!==V)console.warn("Failed to load WASM from ".concat(C.wasmURL," (").concat(_.message,"), trying jsdelivr as a backup")),C.setWasmUrl(V),C.loadRuntime();else{var Z=["Could not load Rive WASM file from ".concat(C.wasmURL," or ").concat(V,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(_.type),"- Message: ".concat(_.message),"- WebAssembly-specific error: ".concat(_.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(Z)}})},C.getInstance=function(g){C.isLoading||(C.isLoading=!0,C.loadRuntime()),C.runtime?g(C.runtime):C.callBackQueue.push(g)},C.awaitInstance=function(){return new Promise(function(g){return C.getInstance(function(_){return g(_)})})},C.setWasmUrl=function(g){C.wasmURL=g},C.getWasmUrl=function(){return C.wasmURL},C.isLoading=!1,C.callBackQueue=[],C.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),C})(),at;(function(C){C[C.Number=56]="Number",C[C.Trigger=58]="Trigger",C[C.Boolean=59]="Boolean"})(at||(at={}));var Y=(function(){function C(g,_){this.type=g,this.runtimeInput=_}return Object.defineProperty(C.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),C.prototype.fire=function(){this.type===at.Trigger&&this.runtimeInput.fire()},C.prototype.delete=function(){this.runtimeInput=null},C})(),F;(function(C){C[C.General=128]="General",C[C.OpenUrl=131]="OpenUrl"})(F||(F={}));var P=(function(){function C(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return C})(),H=(function(C){x(g,C);function g(_,V){var Z=C.call(this,!1)||this;return Z.nativeArtboard=_,Z.file=V,Z}return g})(P),R=(function(C){x(g,C);function g(_){var V=C.call(this,!0)||this;return V.selfUnref=!1,V.nativeArtboard=_,V}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(P),L=(function(){function C(g,_,V,Z){this.stateMachine=g,this.playing=V,this.artboard=Z,this.inputs=[],this.instance=new _.StateMachineInstance(g,Z),this.initInputs(_)}return Object.defineProperty(C.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statesChanged",{get:function(){for(var g=[],_=0;_<this.instance.stateChangedCount();_++)g.push(this.instance.stateChangedNameByIndex(_));return g},enumerable:!1,configurable:!0}),C.prototype.advance=function(g){this.instance.advance(g)},C.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},C.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},C.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},C.prototype.initInputs=function(g){for(var _=0;_<this.instance.inputCount();_++){var V=this.instance.input(_);this.inputs.push(this.mapRuntimeInput(V,g))}},C.prototype.mapRuntimeInput=function(g,_){if(g.type===_.SMIInput.bool)return new Y(at.Boolean,g.asBool());if(g.type===_.SMIInput.number)return new Y(at.Number,g.asNumber());if(g.type===_.SMIInput.trigger)return new Y(at.Trigger,g.asTrigger())},C.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},C.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},C})(),N=(function(){function C(g,_,V,Z,me){Z===void 0&&(Z=[]),me===void 0&&(me=[]),this.runtime=g,this.artboard=_,this.eventManager=V,this.animations=Z,this.stateMachines=me}return C.prototype.add=function(g,_,V){if(V===void 0&&(V=!0),g=Xt(g),g.length===0)this.animations.forEach(function(Ut){return Ut.playing=_}),this.stateMachines.forEach(function(Ut){return Ut.playing=_});else for(var Z=this.animations.map(function(Ut){return Ut.name}),me=this.stateMachines.map(function(Ut){return Ut.name}),Se=0;Se<g.length;Se++){var Ye=Z.indexOf(g[Se]),st=me.indexOf(g[Se]);if(Ye>=0||st>=0)Ye>=0?this.animations[Ye].playing=_:this.stateMachines[st].playing=_;else{var De=this.artboard.animationByName(g[Se]);if(De){var _t=new E.Animation(De,this.artboard,this.runtime,_);_t.advance(0),_t.apply(1),this.animations.push(_t)}else{var Ht=this.artboard.stateMachineByName(g[Se]);if(Ht){var Un=new L(Ht,this.runtime,_,this.artboard);this.stateMachines.push(Un)}}}}return V&&(_?this.eventManager.fire({type:W.Play,data:this.playing}):this.eventManager.fire({type:W.Pause,data:this.paused})),_?this.playing:this.paused},C.prototype.initLinearAnimations=function(g,_){for(var V=this.animations.map(function(st){return st.name}),Z=0;Z<g.length;Z++){var me=V.indexOf(g[Z]);if(me>=0)this.animations[me].playing=_;else{var Se=this.artboard.animationByName(g[Z]);if(Se){var Ye=new E.Animation(Se,this.artboard,this.runtime,_);Ye.advance(0),Ye.apply(1),this.animations.push(Ye)}else console.error("Animation with name ".concat(g[Z]," not found."))}}},C.prototype.initStateMachines=function(g,_){for(var V=this.stateMachines.map(function(st){return st.name}),Z=0;Z<g.length;Z++){var me=V.indexOf(g[Z]);if(me>=0)this.stateMachines[me].playing=_;else{var Se=this.artboard.stateMachineByName(g[Z]);if(Se){var Ye=new L(Se,this.runtime,_,this.artboard);this.stateMachines.push(Ye)}else console.warn("State Machine with name ".concat(g[Z]," not found.")),this.initLinearAnimations([g[Z]],_)}}},C.prototype.play=function(g){return this.add(g,!0)},C.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},C.prototype.pause=function(g){return this.add(g,!1)},C.prototype.scrub=function(g,_){var V=this.animations.filter(function(Z){return g.includes(Z.name)});return V.forEach(function(Z){return Z.scrubTo=_}),V.map(function(Z){return Z.name})},Object.defineProperty(C.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),C.prototype.stop=function(g){var _=this;g=Xt(g);var V=[];if(g.length===0)V=this.animations.map(function(Se){return Se.name}).concat(this.stateMachines.map(function(Se){return Se.name})),this.animations.forEach(function(Se){return Se.cleanup()}),this.stateMachines.forEach(function(Se){return Se.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var Z=this.animations.filter(function(Se){return g.includes(Se.name)});Z.forEach(function(Se){Se.cleanup(),_.animations.splice(_.animations.indexOf(Se),1)});var me=this.stateMachines.filter(function(Se){return g.includes(Se.name)});me.forEach(function(Se){Se.cleanup(),_.stateMachines.splice(_.stateMachines.indexOf(Se),1)}),V=Z.map(function(Se){return Se.name}).concat(me.map(function(Se){return Se.name}))}return this.eventManager.fire({type:W.Stop,data:V}),V},Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,_){return g||_.playing},!1)||this.stateMachines.reduce(function(g,_){return g||_.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),C.prototype.atLeastOne=function(g,_){_===void 0&&(_=!0);var V;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([V=this.artboard.animationByIndex(0).name],g,_):this.artboard.stateMachineCount()>0&&this.add([V=this.artboard.stateMachineByIndex(0).name],g,_)),V},C.prototype.handleLooping=function(){for(var g=0,_=this.animations.filter(function(Z){return Z.playing});g<_.length;g++){var V=_[g];V.loopValue===0&&V.loopCount?(V.loopCount=0,this.stop(V.name)):V.loopValue===1&&V.loopCount?(this.eventManager.fire({type:W.Loop,data:{animation:V.name,type:ae.Loop}}),V.loopCount=0):V.loopValue===2&&V.loopCount>1&&(this.eventManager.fire({type:W.Loop,data:{animation:V.name,type:ae.PingPong}}),V.loopCount=0)}},C.prototype.handleStateChanges=function(){for(var g=[],_=0,V=this.stateMachines.filter(function(me){return me.playing});_<V.length;_++){var Z=V[_];g.push.apply(g,Z.statesChanged)}g.length>0&&this.eventManager.fire({type:W.StateChange,data:g})},C.prototype.handleAdvancing=function(g){this.eventManager.fire({type:W.Advance,data:g})},C})(),W;(function(C){C.Load="load",C.LoadError="loaderror",C.Play="play",C.Pause="pause",C.Stop="stop",C.Loop="loop",C.Draw="draw",C.Advance="advance",C.StateChange="statechange",C.RiveEvent="riveevent",C.AudioStatusChange="audiostatuschange"})(W||(W={}));var ae;(function(C){C.OneShot="oneshot",C.Loop="loop",C.PingPong="pingpong"})(ae||(ae={}));var G=(function(){function C(g){g===void 0&&(g=[]),this.listeners=g}return C.prototype.getListeners=function(g){return this.listeners.filter(function(_){return _.type===g})},C.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},C.prototype.remove=function(g){for(var _=0;_<this.listeners.length;_++){var V=this.listeners[_];if(V.type===g.type&&V.callback===g.callback){this.listeners.splice(_,1);break}}},C.prototype.removeAll=function(g){var _=this;g?this.listeners.filter(function(V){return V.type===g}).forEach(function(V){return _.remove(V)}):this.listeners.splice(0,this.listeners.length)},C.prototype.fire=function(g){var _=this.getListeners(g.type);_.forEach(function(V){return V.callback(g)})},C})(),Q=(function(){function C(g){this.eventManager=g,this.queue=[]}return C.prototype.add=function(g){this.queue.push(g)},C.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},C})(),ge;(function(C){C[C.AVAILABLE=0]="AVAILABLE",C[C.UNAVAILABLE=1]="UNAVAILABLE"})(ge||(ge={}));var de=(function(C){x(g,C);function g(){var _=C!==null&&C.apply(this,arguments)||this;return _._started=!1,_._enabled=!1,_._status=ge.UNAVAILABLE,_}return g.prototype.delay=function(_){return q(this,void 0,void 0,function(){return te(this,function(V){return[2,new Promise(function(Z){return setTimeout(Z,_)})]})})},g.prototype.timeout=function(){return q(this,void 0,void 0,function(){return te(this,function(_){return[2,new Promise(function(V,Z){return setTimeout(Z,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:W.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return q(this,void 0,void 0,function(){return te(this,function(_){return this._enabled||(this._enabled=!0,this._status=ge.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return q(this,void 0,void 0,function(){return te(this,function(_){switch(_.label){case 0:if(!(this._status===ge.UNAVAILABLE&&this._audioContext!==null))return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return _.sent(),this.enableAudio(),[3,4];case 3:return _.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return q(this,void 0,void 0,function(){return te(this,function(_){switch(_.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),_.label=2;case 2:return this._status!==ge.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return _.sent(),[4,this.delay(1e3)];case 4:return _.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var _=this,V=function(){return q(_,void 0,void 0,function(){return te(this,function(Z){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",V,{once:!0})},g.prototype.establishAudio=function(){return q(this,void 0,void 0,function(){return te(this,function(_){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===ge.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(G),Ee=new de,U=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),oe=globalThis.ResizeObserver||U,xe=(function(){function C(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(_){var V=g._elementsMap.get(_.target);V!==null?V.onResize(_.target.clientWidth==0||_.target.clientHeight==0):g._resizeObserver.unobserve(_.target)},this._onObserved=function(_){_.forEach(g._onObservedEntry)},this._resizeObserver=new oe(this._onObserved)}return C.prototype.add=function(g,_){var V={onResize:_,element:g};return this._elementsMap.set(g,V),this._resizeObserver.observe(g),V},C.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},C})(),Ce=new xe,Ne=(function(){function C(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new G,g.onLoad&&this.on(W.Load,g.onLoad),g.onLoadError&&this.on(W.LoadError,g.onLoadError)}return C.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},C.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},C.prototype.initData=function(){return q(this,void 0,void 0,function(){var g,_,V,Z,me;return te(this,function(Se){switch(Se.label){case 0:return this.src?(g=this,[4,hn(this.src)]):[3,2];case 1:g.buffer=Se.sent(),Se.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(V=new w.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),_=V.assetLoader),Z=this,[4,this.runtime.load(new Uint8Array(this.buffer),_,this.enableRiveAssetCDN)]);case 3:return Z.file=Se.sent(),me=new w.FileFinalizer(this.file),w.finalizationRegistry.register(this,me),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:W.Load,data:this}):this.fireLoadError(C.fileLoadErrorMessage),[2])}})})},C.prototype.init=function(){return q(this,void 0,void 0,function(){var g,_;return te(this,function(V){switch(V.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(C.missingErrorMessage),[2];V.label=1;case 1:return V.trys.push([1,4,,5]),g=this,[4,ft.awaitInstance()];case 2:return g.runtime=V.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return V.sent(),[3,5];case 4:return _=V.sent(),this.fireLoadError(_ instanceof Error?_.message:C.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},C.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:W.LoadError,data:g}),new Error(g)},C.prototype.on=function(g,_){this.eventManager.add({type:g,callback:_})},C.prototype.off=function(g,_){this.eventManager.remove({type:g,callback:_})},C.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},C.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},C.prototype.createBindableArtboard=function(g){if(g!=null){var _=new R(g);return(0,w.createFinalization)(_,_.nativeArtboard),this.bindableArtboards.push(_),_}return null},C.prototype.getArtboard=function(g){var _=this.file.artboardByName(g);if(_!=null)return new H(_,this)},C.prototype.getBindableArtboard=function(g){var _=this.file.bindableArtboardByName(g);return this.createBindableArtboard(_)},C.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},C.prototype.internalBindableArtboardFromArtboard=function(g){var _=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(_)},C.missingErrorMessage="Rive source file or data buffer required",C.fileLoadErrorMessage="The file failed to load",C})(),Ke=(function(){function C(g){var _=this,V,Z;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.drawOptimization=Pe.DrawOnChanged,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(me){var Se=_._hasZeroSize!==me;_._hasZeroSize=me,me?(!_._layout.maxX||!_._layout.maxY)&&_.resizeToCanvas():Se&&_.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Ce.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(V=g.layout)!==null&&V!==void 0?V:new tt,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.drawOptimization=(Z=g.drawingOptions)!==null&&Z!==void 0?Z:this.drawOptimization,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new G,g.onLoad&&this.on(W.Load,g.onLoad),g.onLoadError&&this.on(W.LoadError,g.onLoadError),g.onPlay&&this.on(W.Play,g.onPlay),g.onPause&&this.on(W.Pause,g.onPause),g.onStop&&this.on(W.Stop,g.onStop),g.onLoop&&this.on(W.Loop,g.onLoop),g.onStateChange&&this.on(W.StateChange,g.onStateChange),g.onAdvance&&this.on(W.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(W.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(W.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(W.Play,g.onplay),g.onpause&&!g.onPause&&this.on(W.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(W.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(W.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(W.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new Q(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(C.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),C.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new C(g)},C.prototype.onSystemAudioChanged=function(){this.volume=this._volume},C.prototype.init=function(g){var _=this,V=g.src,Z=g.buffer,me=g.riveFile,Se=g.animations,Ye=g.stateMachines,st=g.artboard,De=g.autoplay,_t=De===void 0?!1:De,Ht=g.useOffscreenRenderer,Un=Ht===void 0?!1:Ht,Ut=g.autoBind,$n=Ut===void 0?!1:Ut;if(!this.destroyed){if(this.src=V,this.buffer=Z,this.riveFile=me,!this.src&&!this.buffer&&!this.riveFile)throw new Oe(C.missingErrorMessage);var qt=Xt(Se),In=Xt(Ye);this.loaded=!1,this.readyForPlaying=!1,ft.awaitInstance().then(function(Nn){_.destroyed||(_.runtime=Nn,_.removeRiveListeners(),_.deleteRiveRenderer(),_.renderer=_.runtime.makeRenderer(_.canvas,Un),_.canvas.width||_.canvas.height||_.resizeDrawingSurfaceToCanvas(),_.initData(st,qt,In,_t,$n).then(function(Dn){if(Dn)return _.setupRiveListeners()}).catch(function(Dn){console.error(Dn)}))}).catch(function(Nn){console.error(Nn)})}},C.prototype.setupRiveListeners=function(g){var _=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var V=(this.animator.stateMachines||[]).filter(function(Ye){return Ye.playing&&_.runtime.hasListeners(Ye.instance)}).map(function(Ye){return Ye.instance}),Z=this.isTouchScrollEnabled,me=this.dispatchPointerExit,Se=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(Z=g.isTouchScrollEnabled),this.eventCleanup=(0,w.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:V,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:Z,dispatchPointerExit:me,enableMultiTouch:Se,layoutScaleFactor:this._layout.layoutScaleFactor})}},C.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},C.prototype.initializeAudio=function(){var g=this,_;Ee.status==ge.UNAVAILABLE&&!((_=this.artboard)===null||_===void 0)&&_.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:W.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},Ee.add(this._audioEventListener),Ee.establishAudio())},C.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},C.prototype.initData=function(g,_,V,Z,me){return q(this,void 0,void 0,function(){var Se,Ye,st,De;return te(this,function(_t){switch(_t.label){case 0:return _t.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Se=new Ne({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Se,[4,Se.init()]);case 1:if(_t.sent(),this.destroyed)return Se.destroyIfUnused(),[2,!1];_t.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,_,V,Z,me),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:W.Load,data:(De=this.src)!==null&&De!==void 0?De:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Ye=_t.sent(),st=be(Ye),console.warn(st),this.eventManager.fire({type:W.LoadError,data:st}),[2,Promise.reject(st)];case 4:return[2]}})})},C.prototype.initArtboard=function(g,_,V,Z,me){if(this.file){var Se=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Se){var Ye="Invalid artboard name or no default artboard";console.warn(Ye),this.eventManager.fire({type:W.LoadError,data:Ye});return}this.artboard=Se,Se.volume=this._volume*Ee.systemVolume,this.animator=new N(this.runtime,this.artboard,this.eventManager);var st;if(_.length>0||V.length>0?(st=_.concat(V),this.animator.initLinearAnimations(_,Z),this.animator.initStateMachines(V,Z)):st=[this.animator.atLeastOne(Z,!1)],this.taskQueue.add({event:{type:Z?W.Play:W.Pause,data:st}}),me){var De=this.file.defaultArtboardViewModel(Se);if(De!==null){var _t=De.defaultInstance();if(_t!==null){var Ht=new kt(_t,null);(0,w.createFinalization)(Ht,Ht.runtimeInstance),this.bindViewModelInstance(Ht)}}}}},C.prototype.drawFrame=function(){var g,_;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(_=this.runtime)===null||_===void 0||_.resolveAnimationFrame()):this.scheduleRendering()},C.prototype.draw=function(g,_){var V;this.frameRequestId=null;var Z=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,_?.());var me=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Se=this.animator.animations.filter(function(Wn){return Wn.playing||Wn.needsScrub}).sort(function(Wn){return Wn.needsScrub?-1:1}),Ye=0,st=Se;Ye<st.length;Ye++){var De=st[Ye];De.advance(me),De.instance.didLoop&&(De.loopCount+=1),De.apply(1)}for(var _t=this.animator.stateMachines.filter(function(Wn){return Wn.playing}),Ht=0,Un=_t;Ht<Un.length;Ht++){var Ut=Un[Ht],$n=Ut.reportedEventCount();if($n)for(var qt=0;qt<$n;qt++){var In=Ut.reportedEventAt(qt);if(In)if(In.type===F.OpenUrl){if(this.eventManager.fire({type:W.RiveEvent,data:In}),this.automaticallyHandleEvents){var Nn=document.createElement("a"),Dn=In,zr=Dn.url,$e=Dn.target,Xn=(0,w.sanitizeUrl)(zr);zr&&Nn.setAttribute("href",Xn),$e&&Nn.setAttribute("target",$e),Xn&&Xn!==w.BLANK_URL&&Nn.click()}}else this.eventManager.fire({type:W.RiveEvent,data:In})}Ut.advanceAndApply(me)}this.animator.stateMachines.length==0&&this.artboard.advance(me);var tr=this.renderer;this._hasZeroSize||(this.drawOptimization==Pe.AlwaysDraw||this.artboard.didChange())&&(tr.clear(),tr.save(),this.alignRenderer(),this.artboard.draw(tr),tr.restore(),tr.flush()),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(me),this.frameCount++;var At=performance.now();for(this.frameTimes.push(At),this.durations.push(At-Z);this.frameTimes[0]<=At-1e3;)this.frameTimes.shift(),this.durations.shift();(V=this._viewModelInstance)===null||V===void 0||V.handleCallbacks(),this.animator.isPlaying?this.scheduleRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},C.prototype.alignRenderer=function(){var g=this,_=g.renderer,V=g.runtime,Z=g._layout,me=g.artboard;_.align(Z.runtimeFit(V),Z.runtimeAlignment(V),{minX:Z.minX,minY:Z.minY,maxX:Z.maxX,maxY:Z.maxY},me.bounds,this._devicePixelRatioUsed*Z.layoutScaleFactor)},Object.defineProperty(C.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,_){return g+_},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),C.prototype.cleanup=function(){var g,_;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ce.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(Ee.remove(this._audioEventListener),this._audioEventListener=null),(_=this._viewModelInstance)===null||_===void 0||_.cleanup(),this._viewModelInstance=null,this._dataEnums=null},C.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},C.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},C.prototype.retrieveTextRun=function(g){var _;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var V=this.artboard.textRun(g);if(!V){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((_=this.artboard)===null||_===void 0?void 0:_.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return V},C.prototype.getTextRunValue=function(g){var _=this.retrieveTextRun(g);return _?_.text:void 0},C.prototype.setTextRunValue=function(g,_){var V=this.retrieveTextRun(g);V&&(V.text=_)},C.prototype.play=function(g,_){var V=this;if(g=Xt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return V.play(g,_)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},C.prototype.pause=function(g){var _=this;if(g=Xt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return _.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},C.prototype.scrub=function(g,_){var V=this;if(g=Xt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return V.scrub(g,_)}});return}this.animator.scrub(g,_||0),this.drawFrame()},C.prototype.stop=function(g){var _=this;if(g=Xt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return _.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},C.prototype.reset=function(g){var _,V,Z=g?.artboard,me=Xt(g?.animations),Se=Xt(g?.stateMachines),Ye=(_=g?.autoplay)!==null&&_!==void 0?_:!1,st=(V=g?.autoBind)!==null&&V!==void 0?V:!1;this.cleanupInstances(),this.initArtboard(Z,me,Se,Ye,st),this.taskQueue.process()},C.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(C.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),C.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},C.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var _=this.canvas.getBoundingClientRect(),V=_.width,Z=_.height,me=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=me,this.canvas.width=me*V,this.canvas.height=me*Z,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Le.Layout){var Se=this._layout.layoutScaleFactor;this.artboard.width=V/Se,this.artboard.height=Z/Se}}},Object.defineProperty(C.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],_=0;_<this.artboard.animationCount();_++)g.push(this.artboard.animationByIndex(_).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],_=0;_<this.artboard.stateMachineCount();_++)g.push(this.artboard.stateMachineByIndex(_).name);return g},enumerable:!1,configurable:!0}),C.prototype.stateMachineInputs=function(g){if(this.loaded){var _=this.animator.stateMachines.find(function(V){return V.name===g});return _?.inputs}},C.prototype.retrieveInputAtPath=function(g,_){if(!g){console.warn("No input name provided for path '".concat(_,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(_,"', but the Artboard is null"));return}var V=this.artboard.inputByPath(g,_);if(!V){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(_,"'"));return}return V},C.prototype.setBooleanStateAtPath=function(g,_,V){var Z=this.retrieveInputAtPath(g,V);Z&&(Z.type===at.Boolean?Z.asBool().value=_:console.warn("Input with name: '".concat(g,"', at path:'").concat(V,"' is not a boolean")))},C.prototype.setNumberStateAtPath=function(g,_,V){var Z=this.retrieveInputAtPath(g,V);Z&&(Z.type===at.Number?Z.asNumber().value=_:console.warn("Input with name: '".concat(g,"', at path:'").concat(V,"' is not a number")))},C.prototype.fireStateAtPath=function(g,_){var V=this.retrieveInputAtPath(g,_);V&&(V.type===at.Trigger?V.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(_,"' is not a trigger")))},C.prototype.retrieveTextAtPath=function(g,_){if(!g){console.warn("No text name provided for path '".concat(_,"'"));return}if(!_){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(_,"', but the Artboard is null"));return}var V=this.artboard.textByPath(g,_);if(!V){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(_,"'"));return}return V},C.prototype.getTextRunValueAtPath=function(g,_){var V=this.retrieveTextAtPath(g,_);if(!V){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(_,"'"));return}return V.text},C.prototype.setTextRunValueAtPath=function(g,_,V){var Z=this.retrieveTextAtPath(g,V);if(!Z){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(V,"'"));return}Z.text=_},Object.defineProperty(C.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),C.prototype.on=function(g,_){this.eventManager.add({type:g,callback:_})},C.prototype.off=function(g,_){this.eventManager.remove({type:g,callback:_})},C.prototype.unsubscribe=function(g,_){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,_)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},C.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},C.prototype.startRendering=function(){this.drawFrame()},C.prototype.scheduleRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},C.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},C.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(C.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},_=0;_<this.file.artboardCount();_++){for(var V=this.file.artboardByIndex(_),Z={name:V.name,animations:[],stateMachines:[]},me=0;me<V.animationCount();me++){var Se=V.animationByIndex(me);Z.animations.push(Se.name)}for(var Ye=0;Ye<V.stateMachineCount();Ye++){for(var st=V.stateMachineByIndex(Ye),De=st.name,_t=new this.runtime.StateMachineInstance(st,V),Ht=[],Un=0;Un<_t.inputCount();Un++){var Ut=_t.input(Un);Ht.push({name:Ut.name,type:Ut.type})}Z.stateMachines.push({name:De,inputs:Ht})}g.artboards.push(Z)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*Ee.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),C.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(C.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),C.prototype.bindViewModelInstance=function(g){var _;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(_=this._viewModelInstance)===null||_===void 0||_.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(V){return V.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(C.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),C.prototype.viewModelByIndex=function(g){var _=this.file.viewModelByIndex(g);return _!==null?new dt(_):null},C.prototype.viewModelByName=function(g){var _=this.file.viewModelByName(g);return _!==null?new dt(_):null},C.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(_){return new jt(_)})}return this._dataEnums},C.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new dt(g)}return null},C.prototype.getArtboard=function(g){var _,V;return(V=(_=this.riveFile)===null||_===void 0?void 0:_.getArtboard(g))!==null&&V!==void 0?V:null},C.prototype.getBindableArtboard=function(g){var _,V;return(V=(_=this.riveFile)===null||_===void 0?void 0:_.getBindableArtboard(g))!==null&&V!==void 0?V:null},C.prototype.getDefaultBindableArtboard=function(){var g,_;return(_=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&_!==void 0?_:null},C.missingErrorMessage="Rive source file or data buffer required",C.cleanupErrorMessage="Attempt to use file after calling cleanup.",C})(),dt=(function(){function C(g){this._viewModel=g}return Object.defineProperty(C.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),C.prototype.instanceByIndex=function(g){var _=this._viewModel.instanceByIndex(g);if(_!==null){var V=new kt(_,null);return(0,w.createFinalization)(V,_),V}return null},C.prototype.instanceByName=function(g){var _=this._viewModel.instanceByName(g);if(_!==null){var V=new kt(_,null);return(0,w.createFinalization)(V,_),V}return null},C.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var _=new kt(g,null);return(0,w.createFinalization)(_,g),_}return null},C.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var _=new kt(g,null);return(0,w.createFinalization)(_,g),_}return null},Object.defineProperty(C.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),C})(),jt=(function(){function C(g){this._dataEnum=g}return Object.defineProperty(C.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),C})(),ct;(function(C){C.Number="number",C.String="string",C.Boolean="boolean",C.Color="color",C.Trigger="trigger",C.Enum="enum",C.List="list",C.Image="image",C.Artboard="artboard"})(ct||(ct={}));var kt=(function(){function C(g,_){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,_!==null&&this._parents.push(_)}return Object.defineProperty(C.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),C.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},C.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},C.prototype.removeParent=function(g){var _=this._parents.indexOf(g);if(_!==-1){var V=this._parents[_];V.removeFromViewModelCallbacks(this),this._parents.splice(_,1)}},C.prototype.addToPropertyCallbacks=function(g){var _=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(V){V.addToViewModelCallbacks(_)}))},C.prototype.removeFromPropertyCallbacks=function(g){var _=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(V){return V!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(V){V.removeFromViewModelCallbacks(_)}))},C.prototype.addToViewModelCallbacks=function(g){var _=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(V){V.addToViewModelCallbacks(_)}))},C.prototype.removeFromViewModelCallbacks=function(g){var _=this;this._children.includes(g)&&(this._children=this._children.filter(function(V){return V!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(V){V.removeFromViewModelCallbacks(_)}))},C.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},C.prototype.propertyFromPath=function(g,_){var V=g.split("/");return this.propertyFromPathSegments(V,0,_)},C.prototype.viewModelFromPathSegments=function(g,_){var V=this.internalViewModelInstance(g[_]);return V!==null?_==g.length-1?V:V.viewModelFromPathSegments(g,_++):null},C.prototype.propertyFromPathSegments=function(g,_,V){var Z,me,Se,Ye,st,De,_t,Ht,Un,Ut,$n,qt,In,Nn,Dn,zr,$e,Xn;if(_<g.length-1){var tr=this.internalViewModelInstance(g[_]);return tr!==null?tr.propertyFromPathSegments(g,_+1,V):null}var At=null;switch(V){case ct.Number:if(At=(me=(Z=this._runtimeInstance)===null||Z===void 0?void 0:Z.number(g[_]))!==null&&me!==void 0?me:null,At!==null)return new wt(At,this);break;case ct.String:if(At=(Ye=(Se=this._runtimeInstance)===null||Se===void 0?void 0:Se.string(g[_]))!==null&&Ye!==void 0?Ye:null,At!==null)return new pt(At,this);break;case ct.Boolean:if(At=(De=(st=this._runtimeInstance)===null||st===void 0?void 0:st.boolean(g[_]))!==null&&De!==void 0?De:null,At!==null)return new sn(At,this);break;case ct.Color:if(At=(Ht=(_t=this._runtimeInstance)===null||_t===void 0?void 0:_t.color(g[_]))!==null&&Ht!==void 0?Ht:null,At!==null)return new fn(At,this);break;case ct.Trigger:if(At=(Ut=(Un=this._runtimeInstance)===null||Un===void 0?void 0:Un.trigger(g[_]))!==null&&Ut!==void 0?Ut:null,At!==null)return new Yt(At,this);break;case ct.Enum:if(At=(qt=($n=this._runtimeInstance)===null||$n===void 0?void 0:$n.enum(g[_]))!==null&&qt!==void 0?qt:null,At!==null)return new Kn(At,this);break;case ct.List:if(At=(Nn=(In=this._runtimeInstance)===null||In===void 0?void 0:In.list(g[_]))!==null&&Nn!==void 0?Nn:null,At!==null)return new Ar(At,this);break;case ct.Image:if(At=(zr=(Dn=this._runtimeInstance)===null||Dn===void 0?void 0:Dn.image(g[_]))!==null&&zr!==void 0?zr:null,At!==null)return new it(At,this);break;case ct.Artboard:if(At=(Xn=($e=this._runtimeInstance)===null||$e===void 0?void 0:$e.artboard(g[_]))!==null&&Xn!==void 0?Xn:null,At!==null)return new Lt(At,this);break}return null},C.prototype.internalViewModelInstance=function(g){var _;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var V=(_=this._runtimeInstance)===null||_===void 0?void 0:_.viewModel(g);if(V!==null){var Z=new C(V,this);return(0,w.createFinalization)(Z,V),Z.internalIncrementReferenceCount(),this._viewModelInstances.set(g,Z),Z}return null},C.prototype.number=function(g){var _=this.propertyFromPath(g,ct.Number);return _},C.prototype.string=function(g){var _=this.propertyFromPath(g,ct.String);return _},C.prototype.boolean=function(g){var _=this.propertyFromPath(g,ct.Boolean);return _},C.prototype.color=function(g){var _=this.propertyFromPath(g,ct.Color);return _},C.prototype.trigger=function(g){var _=this.propertyFromPath(g,ct.Trigger);return _},C.prototype.enum=function(g){var _=this.propertyFromPath(g,ct.Enum);return _},C.prototype.list=function(g){var _=this.propertyFromPath(g,ct.List);return _},C.prototype.image=function(g){var _=this.propertyFromPath(g,ct.Image);return _},C.prototype.artboard=function(g){var _=this.propertyFromPath(g,ct.Artboard);return _},C.prototype.viewModel=function(g){var _=g.split("/"),V=_.length>1?this.viewModelFromPathSegments(_.slice(0,_.length-1),0):this;return V!=null?V.internalViewModelInstance(_[_.length-1]):null},C.prototype.internalReplaceViewModel=function(g,_){var V;if(_.runtimeInstance!==null){var Z=((V=this._runtimeInstance)===null||V===void 0?void 0:V.replaceViewModel(g,_.runtimeInstance))||!1;if(Z){_.internalIncrementReferenceCount();var me=this.internalViewModelInstance(g);me!==null&&(me.removeParent(this),this._children.includes(me)&&(this._children=this._children.filter(function(Se){return Se!==me})),me.cleanup()),this._viewModelInstances.set(g,_),_.addParent(this)}return Z}return!1},C.prototype.replaceViewModel=function(g,_){var V,Z=g.split("/"),me=Z.length>1?this.viewModelFromPathSegments(Z.slice(0,Z.length-1),0):this;return(V=me?.internalReplaceViewModel(Z[Z.length-1],_))!==null&&V!==void 0?V:!1},C.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},C.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(C.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(_){return O({},_)}))||[]},enumerable:!1,configurable:!0}),C.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},C.prototype.cleanup=function(){var g=this,_;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((_=this._runtimeInstance)===null||_===void 0||_.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(me){me.cleanup()}),this._viewModelInstances.clear();var V=z([],this._children,!0);this._children.length=0;var Z=z([],this._parents,!0);this._parents.length=0,V.forEach(function(me){me.removeParent(g)}),Z.forEach(function(me){me.removeFromViewModelCallbacks(g)})}},C})(),Ft=(function(){function C(g,_){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=_}return C.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},C.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(_){return _!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},C.prototype.internalHandleCallback=function(g){},C.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(_){g.internalHandleCallback(_)})},C.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},C.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),C})(),pt=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ft),wt=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ft),sn=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ft),Yt=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(_){_()},g})(Ft),Kn=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(_){this._viewModelInstanceValue.valueIndex=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ft),Ar=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(_){_.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(_.runtimeInstance),_.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(_,V){return _.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(_.runtimeInstance,V)?(_.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(_){_.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(_.runtimeInstance),_.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(_){this._viewModelInstanceValue.removeInstanceAt(_)},g.prototype.instanceAt=function(_){var V=this._viewModelInstanceValue.instanceAt(_);if(V!=null){var Z=new kt(V,this._parentViewModel);return(0,w.createFinalization)(Z,V),Z}return null},g.prototype.swap=function(_,V){this._viewModelInstanceValue.swap(_,V)},g.prototype.internalHandleCallback=function(_){_()},g})(Ft),fn=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.rgb=function(_,V,Z){this._viewModelInstanceValue.rgb(_,V,Z)},g.prototype.rgba=function(_,V,Z,me){this._viewModelInstanceValue.argb(me,_,V,Z)},g.prototype.argb=function(_,V,Z,me){this._viewModelInstanceValue.argb(_,V,Z,me)},g.prototype.alpha=function(_){this._viewModelInstanceValue.alpha(_)},g.prototype.opacity=function(_){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,_))*255))},g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ft),it=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{set:function(_){var V;this._viewModelInstanceValue.value((V=_?.nativeImage)!==null&&V!==void 0?V:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_()},g})(Ft),Lt=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{set:function(_){var V,Z;_.isBindableArtboard?Z=_:Z=_.file.internalBindableArtboardFromArtboard(_.nativeArtboard),this._viewModelInstanceValue.value((V=Z?.nativeArtboard)!==null&&V!==void 0?V:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_()},g})(Ft),hn=function(C){return q(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(Z){switch(Z.label){case 0:return g=new Request(C),[4,fetch(g)];case 1:return _=Z.sent(),[4,_.arrayBuffer()];case 2:return V=Z.sent(),[2,V]}})})},Xt=function(C){return typeof C=="string"?[C]:C instanceof Array?C:[]},vt={EventManager:G,TaskQueueManager:Q},Nt=function(C){return q(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(Z){switch(Z.label){case 0:return g=new Promise(function(me){return ft.getInstance(function(Se){Se.decodeAudio(C,me)})}),[4,g];case 1:return _=Z.sent(),V=new w.AudioWrapper(_),w.finalizationRegistry.register(V,_),[2,V]}})})},Rt=function(C){return q(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(Z){switch(Z.label){case 0:return g=new Promise(function(me){return ft.getInstance(function(Se){Se.decodeImage(C,me)})}),[4,g];case 1:return _=Z.sent(),V=new w.ImageWrapper(_),w.finalizationRegistry.register(V,_),[2,V]}})})},En=function(C){return q(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(Z){switch(Z.label){case 0:return g=new Promise(function(me){return ft.getInstance(function(Se){Se.decodeFont(C,me)})}),[4,g];case 1:return _=Z.sent(),V=new w.FontWrapper(_),w.finalizationRegistry.register(V,_),[2,V]}})})}})(),c})())})(xf)),xf.exports}var v0;function tA(){return v0||(v0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=oh(),r=eA();function a(R){return R&&typeof R=="object"&&"default"in R?R:{default:R}}var l=a(e),c=function(){return c=Object.assign||function(R){for(var L,N=1,W=arguments.length;N<W;N++)for(var ae in L=arguments[N])Object.prototype.hasOwnProperty.call(L,ae)&&(R[ae]=L[ae]);return R},c.apply(this,arguments)};function p(R,L){var N={};for(var W in R)Object.prototype.hasOwnProperty.call(R,W)&&L.indexOf(W)<0&&(N[W]=R[W]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function"){var ae=0;for(W=Object.getOwnPropertySymbols(R);ae<W.length;ae++)L.indexOf(W[ae])<0&&Object.prototype.propertyIsEnumerable.call(R,W[ae])&&(N[W[ae]]=R[W[ae]])}return N}function b(R,L,N,W){return new(N||(N=Promise))(function(ae,G){function Q(Ee){try{de(W.next(Ee))}catch(U){G(U)}}function ge(Ee){try{de(W.throw(Ee))}catch(U){G(U)}}function de(Ee){var U;Ee.done?ae(Ee.value):(U=Ee.value,U instanceof N?U:new N(function(oe){oe(U)})).then(Q,ge)}de((W=W.apply(R,[])).next())})}function E(R,L){var N,W,ae,G,Q={label:0,sent:function(){if(1&ae[0])throw ae[1];return ae[1]},trys:[],ops:[]};return G={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function ge(de){return function(Ee){return(function(U){if(N)throw new TypeError("Generator is already executing.");for(;Q;)try{if(N=1,W&&(ae=2&U[0]?W.return:U[0]?W.throw||((ae=W.return)&&ae.call(W),0):W.next)&&!(ae=ae.call(W,U[1])).done)return ae;switch(W=0,ae&&(U=[2&U[0],ae.value]),U[0]){case 0:case 1:ae=U;break;case 4:return Q.label++,{value:U[1],done:!1};case 5:Q.label++,W=U[1],U=[0];continue;case 7:U=Q.ops.pop(),Q.trys.pop();continue;default:if(ae=Q.trys,!((ae=ae.length>0&&ae[ae.length-1])||U[0]!==6&&U[0]!==2)){Q=0;continue}if(U[0]===3&&(!ae||U[1]>ae[0]&&U[1]<ae[3])){Q.label=U[1];break}if(U[0]===6&&Q.label<ae[1]){Q.label=ae[1],ae=U;break}if(ae&&Q.label<ae[2]){Q.label=ae[2],Q.ops.push(U);break}ae[2]&&Q.ops.pop(),Q.trys.pop();continue}U=L.call(R,Q)}catch(oe){U=[6,oe],W=0}finally{N=ae=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}})([de,Ee])}}}function w(R){var L=R||x(),N=e.useState(L),W=N[0],ae=N[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var G=function(){var ge=R||x();ae(ge)},Q=window.matchMedia("screen and (resolution: ".concat(W,"dppx)"));return Q.hasOwnProperty("addEventListener")?Q.addEventListener("change",G):Q.addListener(G),function(){Q.hasOwnProperty("removeEventListener")?Q.removeEventListener("change",G):Q.removeListener(G)}}},[W,R]),W}function x(){var R=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,R),3)}var O=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),q=globalThis.ResizeObserver||O,te=globalThis.ResizeObserver!==void 0,z=!te;function Oe(R,L){L===void 0&&(L=!0);var N=e.useState({width:0,height:0}),W=N[0],ae=N[1];e.useEffect(function(){if(typeof window<"u"&&L){var Ee=function(){ae({width:window.innerWidth,height:window.innerHeight})};return z&&(Ee(),window.addEventListener("resize",Ee)),function(){return window.removeEventListener("resize",Ee)}}},[]);var G,Q,ge,de=e.useRef(new q((G=function(Ee){te&&ae({width:Ee[Ee.length-1].contentRect.width,height:Ee[Ee.length-1].contentRect.height})},Q=0,ge=0,function(){for(var Ee=this,U=[],oe=0;oe<arguments.length;oe++)U[oe]=arguments[oe];clearTimeout(ge),ge=window.setTimeout(function(){return G.apply(Ee,U)},Q)})));return e.useEffect(function(){var Ee=de.current;if(L){var U=R.current;return R.current&&te&&Ee.observe(R.current),function(){Ee.disconnect(),U&&te&&Ee.unobserve(U)}}Ee.disconnect()},[R,de]),W}var be={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Le(R){return Object.assign({},be,R)}function j(R){var L=R.riveLoaded,N=L!==void 0&&L,W=R.canvasElem,ae=R.containerRef,G=R.options,Q=G===void 0?{}:G,ge=R.onCanvasHasResized,de=R.artboardBounds,Ee=Le(Q),U=e.useState({height:0,width:0}),oe=U[0],xe=oe.height,Ce=oe.width,Ne=U[1],Ke=e.useState({height:0,width:0}),dt=Ke[0],jt=dt.height,ct=dt.width,kt=Ke[1],Ft=e.useState(!0),pt=Ft[0],wt=Ft[1],sn=Ee.fitCanvasToArtboardHeight,Yt=Ee.shouldResizeCanvasToContainer,Kn=Ee.useDevicePixelRatio,Ar=Ee.customDevicePixelRatio,fn=Oe(ae,Yt),it=w(Ar),Lt=de??{},hn=Lt.maxX,Xt=Lt.maxY,vt=e.useCallback(function(){var Nt,Rt,En,C,g=(Rt=(Nt=ae.current)===null||Nt===void 0?void 0:Nt.clientWidth)!==null&&Rt!==void 0?Rt:0,_=(C=(En=ae.current)===null||En===void 0?void 0:En.clientHeight)!==null&&C!==void 0?C:0;return sn&&de?{width:g,height:g*(de.maxY/de.maxX)}:{width:g,height:_}},[ae,sn,hn,Xt]);e.useEffect(function(){if(Yt&&ae.current&&N){var Nt=vt(),Rt=Nt.width,En=Nt.height,C=!1;if(W){var g=Rt!==Ce||En!==xe;if(Ee.fitCanvasToArtboardHeight&&g&&(ae.current.style.height=En+"px",C=!0),Ee.useDevicePixelRatio){if(g||Rt*it!==ct||En*it!==jt){var _=it*Rt,V=it*En;W.width=_,W.height=V,W.style.width=Rt+"px",W.style.height=En+"px",kt({width:_,height:V}),C=!0}}else g&&(W.width=Rt,W.height=En,kt({width:Rt,height:En}),C=!0);Ne({width:Rt,height:En})}ge&&(pt||C)&&ge&&ge(),pt&&wt(!1)}},[W,ae,fn,it,vt,pt,wt,jt,ct,xe,Ce,ge,Yt,sn,Kn,N]),e.useEffect(function(){kt({width:0,height:0})},[W])}var Pe,tt=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),ft=globalThis.IntersectionObserver||tt,at=(function(){function R(){var L=this;this.elementsMap=new Map,this.onObserved=function(N){N.forEach(function(W){var ae=L.elementsMap.get(W.target);ae&&ae(W)})},this.observer=new ft(this.onObserved)}return R.prototype.registerCallback=function(L,N){this.observer.observe(L),this.elementsMap.set(L,N)},R.prototype.removeCallback=function(L){this.observer.unobserve(L),this.elementsMap.delete(L)},R})(),Y=function(){return Pe||(Pe=new at),Pe};function F(R){var L=R.setContainerRef,N=R.setCanvasRef,W=R.className,ae=W===void 0?"":W,G=R.style,Q=R.children,ge=p(R,["setContainerRef","setCanvasRef","className","style","children"]),de=c({width:"100%",height:"100%"},G);return l.default.createElement("div",c({ref:L,className:ae},!ae&&{style:de}),l.default.createElement("canvas",c({ref:N,style:{verticalAlign:"top",width:0,height:0}},ge),Q))}function P(R,L){L===void 0&&(L={});var N=e.useState(null),W=N[0],ae=N[1],G=e.useRef(null),Q=e.useRef(null),ge=e.useState(null),de=ge[0],Ee=ge[1],U=!!R,oe=Le(L),xe=w(),Ce=e.useCallback(function(){if(de){if(de.layout&&de.layout.fit===r.Fit.Layout&&W){var pt=xe*de.layout.layoutScaleFactor;de.devicePixelRatioUsed=xe,de.artboardWidth=W?.width/pt,de.artboardHeight=W?.height/pt}de.startRendering(),de.resizeToCanvas()}},[de,xe]);j({riveLoaded:!!de,canvasElem:W,containerRef:G,options:oe,onCanvasHasResized:Ce,artboardBounds:de?.bounds});var Ne=e.useCallback(function(pt){pt===null&&W&&(W.height=0,W.width=0),ae(pt)},[]);e.useEffect(function(){if(W&&R){var pt,wt=de!=null;if(de==null){var sn=oe.useOffscreenRenderer,Yt=R.onRiveReady,Kn=p(R,["onRiveReady"]);pt=new r.Rive(c(c({useOffscreenRenderer:sn},Kn),{canvas:W})),Q.current!=null&&Q.current.cleanup(),Q.current=pt,pt.on(r.EventType.Load,function(){wt=!0,Yt&&Yt(pt),W?Ee(pt):pt.cleanup()})}return function(){wt||pt==null||pt.cleanup()}}},[W,U,de]);var Ke=e.useCallback(function(pt){G.current=pt},[]),dt={observe:e.useCallback(function(pt,wt){Y().registerCallback(pt,wt)},[]),unobserve:e.useCallback(function(pt){Y().removeCallback(pt)},[])},jt=dt.observe,ct=dt.unobserve;e.useEffect(function(){var pt,wt=!1,sn=function(){if(W&&wt){var Yt=W.getBoundingClientRect();Yt.width>0&&Yt.height>0&&Yt.top<(window.innerHeight||document.documentElement.clientHeight)&&Yt.bottom>0&&Yt.left<(window.innerWidth||document.documentElement.clientWidth)&&Yt.right>0&&(de?.startRendering(),wt=!1)}};return W&&oe.shouldUseIntersectionObserver!==!1&&jt(W,function(Yt){Yt.isIntersecting?de&&de.startRendering():de&&de.stopRendering(),wt=!Yt.isIntersecting,clearTimeout(pt),Yt.isIntersecting||Yt.boundingClientRect.width!==0||(pt=setTimeout(sn,10))}),function(){W&&ct(W)}},[jt,ct,de,W,oe.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){de&&(de.cleanup(),Ee(null))}},[de,W]),e.useEffect(function(){return function(){Q.current!=null&&Q.current.cleanup()}},[]);var kt=R?.animations;e.useEffect(function(){de&&kt&&(de.isPlaying?(de.stop(de.animationNames),de.play(kt)):de.isPaused&&(de.stop(de.animationNames),de.pause(kt)))},[kt,de]);var Ft=e.useCallback(function(pt){return l.default.createElement(F,c({setContainerRef:Ke,setCanvasRef:Ne},pt))},[Ne,Ke]);return{canvas:W,container:G.current,setCanvasRef:Ne,setContainerRef:Ke,rive:de,RiveComponent:Ft}}function H(R,L,N){var W=e.useState(null),ae=W[0],G=W[1],Q=e.useState(N.defaultValue),ge=Q[0],de=Q[1],Ee=e.useState(null),U=Ee[0],oe=Ee[1],xe=e.useRef(null),Ce=e.useRef(R),Ne=e.useRef(N);e.useEffect(function(){Ne.current=N},[N]);var Ke=e.useCallback(function(){var kt=xe.current,Ft=Ce.current,pt=Ne.current;if(!kt||!Ft)return G(null),de(pt.defaultValue),oe(null),function(){};var wt=pt.getProperty(kt,Ft);if(wt){G(wt),de(pt.getValue(wt)),pt.getExtendedData&&oe(pt.getExtendedData(wt));var sn=function(){de(pt.getValue(wt)),pt.getExtendedData&&oe(pt.getExtendedData(wt)),pt.onPropertyEvent&&pt.onPropertyEvent()};return wt.on(sn),function(){wt.off(sn)}}return function(){}},[]);e.useEffect(function(){return xe.current=L,Ce.current=R,Ke()},[L,R,Ke]);var dt=e.useCallback(function(kt){if(ae&&xe.current===L)try{return kt(ae),void(Ne.current.getExtendedData&&oe(Ne.current.getExtendedData(ae)))}catch{}if(xe.current)try{var Ft=Ne.current.getProperty(xe.current,Ce.current);Ft&&(G(Ft),kt(Ft),Ne.current.getExtendedData&&oe(Ne.current.getExtendedData(Ft)))}catch{}},[ae,L]),jt=e.useMemo(function(){return Ne.current.buildPropertyOperations(dt)},[dt]),ct=c({value:ge},jt);return N.getExtendedData&&(ct.extendedData=U),ct}i.default=function(R){var L=R.src,N=R.artboard,W=R.animations,ae=R.stateMachines,G=R.layout,Q=R.useOffscreenRenderer,ge=Q===void 0||Q,de=R.shouldDisableRiveListeners,Ee=de!==void 0&&de,U=R.shouldResizeCanvasToContainer,oe=U===void 0||U,xe=R.automaticallyHandleEvents,Ce=xe!==void 0&&xe,Ne=R.children,Ke=p(R,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),dt=P({src:L,artboard:N,animations:W,layout:G,stateMachines:ae,autoplay:!0,shouldDisableRiveListeners:Ee,automaticallyHandleEvents:Ce},{useOffscreenRenderer:ge,shouldResizeCanvasToContainer:oe}).RiveComponent;return l.default.createElement(dt,c({},Ke),Ne)},i.useResizeCanvas=j,i.useRive=P,i.useRiveFile=function(R){var L=this,N=e.useState(null),W=N[0],ae=N[1],G=e.useState("idle"),Q=G[0],ge=G[1];return e.useEffect(function(){var de=null;return b(L,void 0,void 0,function(){return E(this,function(Ee){try{ge("loading"),(de=new r.RiveFile(R)).init(),de.on(r.EventType.Load,function(){de?.getInstance(),ae(de),ge("success")}),de.on(r.EventType.LoadError,function(){ge("failed")}),ae(de)}catch(U){console.error(U),ge("failed")}return[2]})}),function(){de?.cleanup()}},[R.src,R.buffer]),{riveFile:W,status:Q}},i.useStateMachineInput=function(R,L,N,W){var ae=e.useState(null),G=ae[0],Q=ae[1];return e.useEffect(function(){function ge(){if(R&&L&&N||Q(null),R&&L&&N){var de=R.stateMachineInputs(L);if(de){var Ee=de.find(function(U){return U.name===N});W!==void 0&&Ee&&(Ee.value=W),Q(Ee||null)}}else Q(null)}ge(),R&&R.on(r.EventType.Load,function(){ge()})},[R]),G},i.useViewModel=function(R,L){var N=L??{},W=N.name,ae=N.useDefault,G=ae!==void 0&&ae,Q=e.useState(null),ge=Q[0],de=Q[1];return e.useEffect(function(){function Ee(){var U;if(R){var oe=null;oe=W!=null?((U=R.viewModelByName)===null||U===void 0?void 0:U.call(R,W))||null:R.defaultViewModel()||null,de(oe)}else de(null)}return Ee(),R&&R.on(r.EventType.Load,Ee),function(){R&&R.off(r.EventType.Load,Ee)}},[R,W,G]),ge},i.useViewModelInstance=function(R,L){var N=L??{},W=N.name,ae=N.useDefault,G=ae!==void 0&&ae,Q=N.useNew,ge=Q!==void 0&&Q,de=N.rive,Ee=e.useState(null),U=Ee[0],oe=Ee[1];return e.useEffect(function(){var xe,Ce,Ne;if(R){var Ke=null;Ke=W!=null?R.instanceByName(W)||null:G?((xe=R.defaultInstance)===null||xe===void 0?void 0:xe.call(R))||null:ge?((Ce=R.instance)===null||Ce===void 0?void 0:Ce.call(R))||null:((Ne=R.defaultInstance)===null||Ne===void 0?void 0:Ne.call(R))||null,oe(Ke),de&&Ke&&de.viewModelInstance!==Ke&&de.bindViewModelInstance(Ke)}else oe(null)},[R,W,G,ge,de]),U},i.useViewModelInstanceArtboard=function(R,L){return{setValue:H(R,L,{getProperty:e.useCallback(function(N,W){return N.artboard(W)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(N){return{setValue:function(W){N(function(ae){ae.value=W})}}},[])}).setValue}},i.useViewModelInstanceBoolean=function(R,L){var N=H(R,L,{getProperty:e.useCallback(function(W,ae){return W.boolean(ae)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(ae){W(function(G){G.value=ae})}}},[])});return{value:N.value,setValue:N.setValue}},i.useViewModelInstanceColor=function(R,L){var N=H(R,L,{getProperty:e.useCallback(function(W,ae){return W.color(ae)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(ae){W(function(G){G.value=ae})},setRgb:function(ae,G,Q){W(function(ge){ge.rgb(ae,G,Q)})},setRgba:function(ae,G,Q,ge){W(function(de){de.rgba(ae,G,Q,ge)})},setAlpha:function(ae){W(function(G){G.alpha(ae)})},setOpacity:function(ae){W(function(G){G.opacity(ae)})}}},[])});return{value:N.value,setValue:N.setValue,setRgb:N.setRgb,setRgba:N.setRgba,setAlpha:N.setAlpha,setOpacity:N.setOpacity}},i.useViewModelInstanceEnum=function(R,L){var N=H(R,L,{getProperty:e.useCallback(function(W,ae){return W.enum(ae)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(W){return W.values},[]),buildPropertyOperations:e.useCallback(function(W){return{setValue:function(ae){W(function(G){G.value=ae})}}},[])});return{value:N.value,values:N.extendedData||[],setValue:N.setValue}},i.useViewModelInstanceImage=function(R,L){return{setValue:H(R,L,{getProperty:e.useCallback(function(N,W){return N.image(W)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(N){return{setValue:function(W){N(function(ae){ae.value=W})}}},[])}).setValue}},i.useViewModelInstanceList=function(R,L){var N,W=e.useState(0)[1],ae=H(R,L,{getProperty:e.useCallback(function(G,Q){return G.list(Q)},[]),getValue:e.useCallback(function(G){return G.length},[]),defaultValue:null,onPropertyEvent:function(){W(function(G){return G+1})},buildPropertyOperations:e.useCallback(function(G){return{addInstance:function(Q){G(function(ge){return ge.addInstance(Q)})},addInstanceAt:function(Q,ge){var de=!1;return G(function(Ee){de=Ee.addInstanceAt(Q,ge)}),de},removeInstance:function(Q){G(function(ge){return ge.removeInstance(Q)})},removeInstanceAt:function(Q){G(function(ge){return ge.removeInstanceAt(Q)})},getInstanceAt:function(Q){var ge=null;return G(function(de){ge=de.instanceAt(Q)}),ge},swap:function(Q,ge){G(function(de){return de.swap(Q,ge)})}}},[])});return{length:(N=ae.value)!==null&&N!==void 0?N:0,addInstance:ae.addInstance,addInstanceAt:ae.addInstanceAt,removeInstance:ae.removeInstance,removeInstanceAt:ae.removeInstanceAt,getInstanceAt:ae.getInstanceAt,swap:ae.swap}},i.useViewModelInstanceNumber=function(R,L){var N=H(R,L,{getProperty:e.useCallback(function(W,ae){return W.number(ae)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(ae){W(function(G){G.value=ae})}}},[])});return{value:N.value,setValue:N.setValue}},i.useViewModelInstanceString=function(R,L){var N=H(R,L,{getProperty:e.useCallback(function(W,ae){return W.string(ae)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(ae){W(function(G){G.value=ae})}}},[])});return{value:N.value,setValue:N.setValue}},i.useViewModelInstanceTrigger=function(R,L,N){var W=(N??{}).onTrigger;return{trigger:H(R,L,{getProperty:e.useCallback(function(ae,G){return ae.trigger(G)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:W,buildPropertyOperations:e.useCallback(function(ae){return{trigger:function(){ae(function(G){G.trigger()})}}},[])}).trigger}},Object.keys(r).forEach(function(R){R==="default"||i.hasOwnProperty(R)||Object.defineProperty(i,R,{enumerable:!0,get:function(){return r[R]}})})})(vm)),vm}var uo=tA();const nA=()=>{};var _0={};const Z_=function(i){const e=[];let r=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},rA=function(i){const e=[];let r=0,a=0;for(;r<i.length;){const l=i[r++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[r++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[r++],p=i[r++],b=i[r++],E=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[a++]=String.fromCharCode(55296+(E>>10)),e[a++]=String.fromCharCode(56320+(E&1023))}else{const c=i[r++],p=i[r++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const c=i[l],p=l+1<i.length,b=p?i[l+1]:0,E=l+2<i.length,w=E?i[l+2]:0,x=c>>2,O=(c&3)<<4|b>>4;let q=(b&15)<<2|w>>6,te=w&63;E||(te=64,p||(q=64)),a.push(r[x],r[O],r[q],r[te])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Z_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):rA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const c=r[i.charAt(l++)],b=l<i.length?r[i.charAt(l)]:0;++l;const w=l<i.length?r[i.charAt(l)]:64;++l;const O=l<i.length?r[i.charAt(l)]:64;if(++l,c==null||b==null||w==null||O==null)throw new iA;const q=c<<2|b>>4;if(a.push(q),w!==64){const te=b<<4&240|w>>2;if(a.push(te),O!==64){const z=w<<6&192|O;a.push(z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class iA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aA=function(i){const e=Z_(i);return eb.encodeByteArray(e,!0)},Bf=function(i){return aA(i).replace(/\./g,"")},tb=function(i){try{return eb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oA=()=>sA().__FIREBASE_DEFAULTS__,lA=()=>{if(typeof process>"u"||typeof _0>"u")return;const i=_0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},uA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&tb(i[1]);return e&&JSON.parse(e)},lh=()=>{try{return nA()||oA()||lA()||uA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},nb=i=>lh()?.emulatorHosts?.[i],cA=i=>{const e=nb(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),a]:[e.substring(0,r),a]},rb=()=>lh()?.config,ib=i=>lh()?.[`_${i}`];class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}function Ql(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ab(i){return(await fetch(i,{credentials:"include"})).ok}function hA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Bf(JSON.stringify(r)),Bf(JSON.stringify(p)),""].join(".")}const Hu={};function dA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Hu))Hu[e]?i.emulator.push(e):i.prod.push(e);return i}function mA(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let b0=!1;function sb(i,e){if(typeof window>"u"||typeof document>"u"||!Ql(window.location.host)||Hu[i]===e||Hu[i]||b0)return;Hu[i]=e;function r(q){return`__firebase__banner__${q}`}const a="__firebase__banner",c=dA().prod.length>0;function p(){const q=document.getElementById(a);q&&q.remove()}function b(q){q.style.display="flex",q.style.background="#7faaf0",q.style.position="fixed",q.style.bottom="5px",q.style.left="5px",q.style.padding=".5em",q.style.borderRadius="5px",q.style.alignItems="center"}function E(q,te){q.setAttribute("width","24"),q.setAttribute("id",te),q.setAttribute("height","24"),q.setAttribute("viewBox","0 0 24 24"),q.setAttribute("fill","none"),q.style.marginLeft="-6px"}function w(){const q=document.createElement("span");return q.style.cursor="pointer",q.style.marginLeft="16px",q.style.fontSize="24px",q.innerHTML=" &times;",q.onclick=()=>{b0=!0,p()},q}function x(q,te){q.setAttribute("id",te),q.innerText="Learn more",q.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",q.setAttribute("target","__blank"),q.style.paddingLeft="5px",q.style.textDecoration="underline"}function O(){const q=mA(a),te=r("text"),z=document.getElementById(te)||document.createElement("span"),Oe=r("learnmore"),be=document.getElementById(Oe)||document.createElement("a"),Le=r("preprendIcon"),j=document.getElementById(Le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(q.created){const Pe=q.element;b(Pe),x(be,Oe);const tt=w();E(j,Le),Pe.append(j,z,be,tt),document.body.appendChild(Pe)}c?(z.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",te)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}function Ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ei())}function gA(){const i=lh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function _A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bA(){const i=Ei();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function EA(){return!gA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wA(){try{return typeof indexedDB=="object"}catch{return!1}}function TA(){return new Promise((i,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(r){e(r)}})}const AA="FirebaseError";class Ns extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=AA,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?SA(c,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Ns(l,b,a)}}function SA(i,e){return i.replace(CA,(r,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const CA=/\{\$([^}]+)}/g;function RA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Fo(i,e){if(i===e)return!0;const r=Object.keys(i),a=Object.keys(e);for(const l of r){if(!a.includes(l))return!1;const c=i[l],p=e[l];if(E0(c)&&E0(p)){if(!Fo(c,p))return!1}else if(c!==p)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function E0(i){return i!==null&&typeof i=="object"}function lc(i){const e=[];for(const[r,a]of Object.entries(i))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function IA(i,e){const r=new xA(i,e);return r.subscribe.bind(r)}class xA{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let l;if(e===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");MA(e,["next","error","complete"])?l=e:l={next:e,error:r,complete:a},l.next===void 0&&(l.next=_m),l.error===void 0&&(l.error=_m),l.complete===void 0&&(l.complete=_m);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MA(i,e){if(typeof i!="object"||i===null)return!1;for(const r of e)if(r in i&&typeof i[r]=="function")return!0;return!1}function _m(){}function ia(i){return i&&i._delegate?i._delegate:i}class Ho{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bo="[DEFAULT]";class NA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new fA;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OA(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);a===b&&p.resolve(l)}return l}onInit(e,r){const a=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:DA(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DA(i){return i===Bo?void 0:i}function OA(i){return i.instantiationMode==="EAGER"}class kA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new NA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var nn;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(nn||(nn={}));const VA={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},PA=nn.INFO,LA={[nn.DEBUG]:"log",[nn.VERBOSE]:"log",[nn.INFO]:"info",[nn.WARN]:"warn",[nn.ERROR]:"error"},UA=(i,e,...r)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),l=LA[e];if(l)console[l](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fp{constructor(e){this.name=e,this._logLevel=PA,this._logHandler=UA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nn.DEBUG,...e),this._logHandler(this,nn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nn.VERBOSE,...e),this._logHandler(this,nn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nn.INFO,...e),this._logHandler(this,nn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nn.WARN,...e),this._logHandler(this,nn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nn.ERROR,...e),this._logHandler(this,nn.ERROR,...e)}}const zA=(i,e)=>e.some(r=>i instanceof r);let w0,T0;function BA(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jA(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ob=new WeakMap,Lm=new WeakMap,lb=new WeakMap,bm=new WeakMap,hp=new WeakMap;function FA(i){const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",p)},c=()=>{r(fo(i.result)),l()},p=()=>{a(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&ob.set(r,i)}).catch(()=>{}),hp.set(e,i),e}function HA(i){if(Lm.has(i))return;const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",p),i.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",p),i.addEventListener("abort",p)});Lm.set(i,e)}let Um={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Lm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||lb.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return fo(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function qA(i){Um=i(Um)}function GA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=i.call(Em(this),e,...r);return lb.set(a,e.sort?e.sort():[e]),fo(a)}:jA().includes(i)?function(...e){return i.apply(Em(this),e),fo(ob.get(this))}:function(...e){return fo(i.apply(Em(this),e))}}function YA(i){return typeof i=="function"?GA(i):(i instanceof IDBTransaction&&HA(i),zA(i,BA())?new Proxy(i,Um):i)}function fo(i){if(i instanceof IDBRequest)return FA(i);if(bm.has(i))return bm.get(i);const e=YA(i);return e!==i&&(bm.set(i,e),hp.set(e,i)),e}const Em=i=>hp.get(i);function XA(i,e,{blocked:r,upgrade:a,blocking:l,terminated:c}={}){const p=indexedDB.open(i,e),b=fo(p);return a&&p.addEventListener("upgradeneeded",E=>{a(fo(p.result),E.oldVersion,E.newVersion,fo(p.transaction),E)}),r&&p.addEventListener("blocked",E=>r(E.oldVersion,E.newVersion,E)),b.then(E=>{c&&E.addEventListener("close",()=>c()),l&&E.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),b}const WA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],wm=new Map;function A0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,l=QA.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||WA.includes(r)))return;const c=async function(p,...b){const E=this.transaction(p,l?"readwrite":"readonly");let w=E.store;return a&&(w=w.index(b.shift())),(await Promise.all([w[r](...b),l&&E.done]))[0]};return wm.set(e,c),c}qA(i=>({...i,get:(e,r,a)=>A0(e,r)||i.get(e,r,a),has:(e,r)=>!!A0(e,r)||i.has(e,r)}));class KA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if($A(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function $A(i){return i.getComponent()?.type==="VERSION"}const zm="@firebase/app",S0="0.14.6";const Ss=new fp("@firebase/app"),JA="@firebase/app-compat",ZA="@firebase/analytics-compat",eS="@firebase/analytics",tS="@firebase/app-check-compat",nS="@firebase/app-check",rS="@firebase/auth",iS="@firebase/auth-compat",aS="@firebase/database",sS="@firebase/data-connect",oS="@firebase/database-compat",lS="@firebase/functions",uS="@firebase/functions-compat",cS="@firebase/installations",fS="@firebase/installations-compat",hS="@firebase/messaging",dS="@firebase/messaging-compat",mS="@firebase/performance",pS="@firebase/performance-compat",gS="@firebase/remote-config",yS="@firebase/remote-config-compat",vS="@firebase/storage",_S="@firebase/storage-compat",bS="@firebase/firestore",ES="@firebase/ai",wS="@firebase/firestore-compat",TS="firebase",AS="12.6.0";const Bm="[DEFAULT]",SS={[zm]:"fire-core",[JA]:"fire-core-compat",[eS]:"fire-analytics",[ZA]:"fire-analytics-compat",[nS]:"fire-app-check",[tS]:"fire-app-check-compat",[rS]:"fire-auth",[iS]:"fire-auth-compat",[aS]:"fire-rtdb",[sS]:"fire-data-connect",[oS]:"fire-rtdb-compat",[lS]:"fire-fn",[uS]:"fire-fn-compat",[cS]:"fire-iid",[fS]:"fire-iid-compat",[hS]:"fire-fcm",[dS]:"fire-fcm-compat",[mS]:"fire-perf",[pS]:"fire-perf-compat",[gS]:"fire-rc",[yS]:"fire-rc-compat",[vS]:"fire-gcs",[_S]:"fire-gcs-compat",[bS]:"fire-fst",[wS]:"fire-fst-compat",[ES]:"fire-vertex","fire-js":"fire-js",[TS]:"fire-js-all"};const jf=new Map,CS=new Map,jm=new Map;function C0(i,e){try{i.container.addComponent(e)}catch(r){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Fl(i){const e=i.name;if(jm.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,i);for(const r of jf.values())C0(r,i);for(const r of CS.values())C0(r,i);return!0}function dp(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function _a(i){return i==null?!1:i.settings!==void 0}const RS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new oc("app","Firebase",RS);class IS{constructor(e,r,a){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}const Kl=AS;function ub(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const a={name:Bm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ho.create("bad-app-name",{appName:String(l)});if(r||(r=rb()),!r)throw ho.create("no-options");const c=jf.get(l);if(c){if(Fo(r,c.options)&&Fo(a,c.config))return c;throw ho.create("duplicate-app",{appName:l})}const p=new kA(l);for(const E of jm.values())p.addComponent(E);const b=new IS(r,a,p);return jf.set(l,b),b}function cb(i=Bm){const e=jf.get(i);if(!e&&i===Bm&&rb())return ub();if(!e)throw ho.create("no-app",{appName:i});return e}function mo(i,e,r){let a=SS[i]??i;r&&(a+=`-${r}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(p.join(" "));return}Fl(new Ho(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const xS="firebase-heartbeat-database",MS=1,Ku="firebase-heartbeat-store";let Tm=null;function fb(){return Tm||(Tm=XA(xS,MS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ku)}catch(r){console.warn(r)}}}}).catch(i=>{throw ho.create("idb-open",{originalErrorMessage:i.message})})),Tm}async function NS(i){try{const r=(await fb()).transaction(Ku),a=await r.objectStore(Ku).get(hb(i));return await r.done,a}catch(e){if(e instanceof Ns)Ss.warn(e.message);else{const r=ho.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(r.message)}}}async function R0(i,e){try{const a=(await fb()).transaction(Ku,"readwrite");await a.objectStore(Ku).put(e,hb(i)),await a.done}catch(r){if(r instanceof Ns)Ss.warn(r.message);else{const a=ho.create("idb-set",{originalErrorMessage:r?.message});Ss.warn(a.message)}}}function hb(i){return`${i.name}!${i.options.appId}`}const DS=1024,OS=30;class kS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new PS(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=I0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>OS){const l=LS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I0(),{heartbeatsToSend:r,unsentEntries:a}=VS(this._heartbeatsCache.heartbeats),l=Bf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ss.warn(e),""}}}function I0(){return new Date().toISOString().substring(0,10)}function VS(i,e=DS){const r=[];let a=i.slice();for(const l of i){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),x0(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),x0(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class PS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wA()?TA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await NS(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function x0(i){return Bf(JSON.stringify({version:2,heartbeats:i})).length}function LS(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,e=a);return e}function US(i){Fl(new Ho("platform-logger",e=>new KA(e),"PRIVATE")),Fl(new Ho("heartbeat",e=>new kS(e),"PRIVATE")),mo(zm,S0,i),mo(zm,S0,"esm2020"),mo("fire-js","")}US("");var zS="firebase",BS="12.7.0";mo(zS,BS,"app");function db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jS=db,mb=new oc("auth","Firebase",db());const Ff=new fp("@firebase/auth");function FS(i,...e){Ff.logLevel<=nn.WARN&&Ff.warn(`Auth (${Kl}): ${i}`,...e)}function Mf(i,...e){Ff.logLevel<=nn.ERROR&&Ff.error(`Auth (${Kl}): ${i}`,...e)}function Cs(i,...e){throw mp(i,...e)}function Ga(i,...e){return mp(i,...e)}function pb(i,e,r){const a={...jS(),[e]:r};return new oc("auth","Firebase",a).create(e,{appName:i.name})}function Ts(i){return pb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(i,...e){if(typeof i!="string"){const r=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(r,...a)}return mb.create(i,...e)}function Tt(i,e,...r){if(!i)throw mp(e,...r)}function Es(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Mf(e),new Error(e)}function Rs(i,e){i||Es(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function HS(){return M0()==="http:"||M0()==="https:"}function M0(){return typeof self<"u"&&self.location?.protocol||null}function qS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HS()||vA()||"connection"in navigator)?navigator.onLine:!0}function GS(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class uc{constructor(e,r){this.shortDelay=e,this.longDelay=r,Rs(r>e,"Short delay should be less than long delay!"),this.isMobile=pA()||_A()}get(){return qS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pp(i,e){Rs(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}class gb{static initialize(e,r,a){this.fetchImpl=e,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const XS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WS=new uc(3e4,6e4);function cc(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function $l(i,e,r,a,l={}){return yb(i,l,async()=>{let c={},p={};a&&(e==="GET"?p=a:c={body:JSON.stringify(a)});const b=lc({key:i.config.apiKey,...p}).slice(1),E=await i._getAdditionalHeaders();E["Content-Type"]="application/json",i.languageCode&&(E["X-Firebase-Locale"]=i.languageCode);const w={method:e,headers:E,...c};return yA()||(w.referrerPolicy="no-referrer"),i.emulatorConfig&&Ql(i.emulatorConfig.host)&&(w.credentials="include"),gb.fetch()(await vb(i,i.config.apiHost,r,b),w)})}async function yb(i,e,r){i._canInitEmulator=!1;const a={...YS,...e};try{const l=new QS(i),c=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw Ef(i,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[E,w]=b.split(" : ");if(E==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(i,"credential-already-in-use",p);if(E==="EMAIL_EXISTS")throw Ef(i,"email-already-in-use",p);if(E==="USER_DISABLED")throw Ef(i,"user-disabled",p);const x=a[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw pb(i,x,w);Cs(i,x)}}catch(l){if(l instanceof Ns)throw l;Cs(i,"network-request-failed",{message:String(l)})}}async function gp(i,e,r,a,l={}){const c=await $l(i,e,r,a,l);return"mfaPendingCredential"in c&&Cs(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function vb(i,e,r,a){const l=`${e}${r}?${a}`,c=i,p=c.config.emulator?pp(i.config,l):`${i.config.apiScheme}://${l}`;return XS.includes(r)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class QS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(Ga(this.auth,"network-request-failed")),WS.get())})}}function Ef(i,e,r){const a={appName:i.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const l=Ga(i,e,a);return l.customData._tokenResponse=r,l}async function KS(i,e){return $l(i,"POST","/v1/accounts:delete",e)}async function Hf(i,e){return $l(i,"POST","/v1/accounts:lookup",e)}function qu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $S(i,e=!1){const r=ia(i),a=await r.getIdToken(e),l=yp(a);Tt(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:a,authTime:qu(Am(l.auth_time)),issuedAtTime:qu(Am(l.iat)),expirationTime:qu(Am(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Am(i){return Number(i)*1e3}function yp(i){const[e,r,a]=i.split(".");if(e===void 0||r===void 0||a===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const l=tb(r);return l?JSON.parse(l):(Mf("Failed to decode base64 JWT payload"),null)}catch(l){return Mf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function N0(i){const e=yp(i);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $u(i,e,r=!1){if(r)return e;try{return await e}catch(a){throw a instanceof Ns&&JS(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function JS({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class ZS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hm{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qf(i){const e=i.auth,r=await i.getIdToken(),a=await $u(i,Hf(e,{idToken:r}));Tt(a?.users.length,e,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?_b(l.providerUserInfo):[],p=t2(i.providerData,c),b=i.isAnonymous,E=!(i.email&&l.passwordHash)&&!p?.length,w=b?E:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Hm(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(i,x)}async function e2(i){const e=ia(i);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t2(i,e){return[...i.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function _b(i){return i.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function n2(i,e){const r=await yb(i,{},async()=>{const a=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,p=await vb(i,l,"/v1/token",`key=${c}`),b=await i._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const E={method:"POST",headers:b,body:a};return i.emulatorConfig&&Ql(i.emulatorConfig.host)&&(E.credentials="include"),gb.fetch()(p,E)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function r2(i,e){return $l(i,"POST","/v2/accounts:revokeToken",cc(i,e))}class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const r=N0(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:a,refreshToken:l,expiresIn:c}=await n2(e,r);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,r,a){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,r){const{refreshToken:a,accessToken:l,expirationTime:c}=r,p=new Pl;return a&&(Tt(typeof a=="string","internal-error",{appName:e}),p.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return Es("not implemented")}}function ro(i,e){Tt(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ma{constructor({uid:e,auth:r,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new ZS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const r=await $u(this,this.stsTokenManager.getToken(this.auth,e));return Tt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return $S(this,e)}reload(){return e2(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ma({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),r&&await qf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_a(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await $u(this,KS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const a=r.displayName??void 0,l=r.email??void 0,c=r.phoneNumber??void 0,p=r.photoURL??void 0,b=r.tenantId??void 0,E=r._redirectEventId??void 0,w=r.createdAt??void 0,x=r.lastLoginAt??void 0,{uid:O,emailVerified:q,isAnonymous:te,providerData:z,stsTokenManager:Oe}=r;Tt(O&&Oe,e,"internal-error");const be=Pl.fromJSON(this.name,Oe);Tt(typeof O=="string",e,"internal-error"),ro(a,e.name),ro(l,e.name),Tt(typeof q=="boolean",e,"internal-error"),Tt(typeof te=="boolean",e,"internal-error"),ro(c,e.name),ro(p,e.name),ro(b,e.name),ro(E,e.name),ro(w,e.name),ro(x,e.name);const Le=new Ma({uid:O,auth:e,email:l,emailVerified:q,displayName:a,isAnonymous:te,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:be,createdAt:w,lastLoginAt:x});return z&&Array.isArray(z)&&(Le.providerData=z.map(j=>({...j}))),E&&(Le._redirectEventId=E),Le}static async _fromIdTokenResponse(e,r,a=!1){const l=new Pl;l.updateFromServerResponse(r);const c=new Ma({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await qf(c),c}static async _fromGetAccountInfoResponse(e,r,a){const l=r.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?_b(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Pl;b.updateFromIdToken(a);const E=new Ma({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(E,w),E}}const D0=new Map;function ws(i){Rs(i instanceof Function,"Expected a class definition");let e=D0.get(i);return e?(Rs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,D0.set(i,e),e)}class bb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}bb.type="NONE";const O0=bb;function Nf(i,e,r){return`firebase:${i}:${e}:${r}`}class Ll{constructor(e,r,a){this.persistence=e,this.auth=r,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Nf(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nf("persistence",l.apiKey,c),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Hf(this.auth,{idToken:e}).catch(()=>{});return r?Ma._fromGetAccountInfoResponse(this.auth,r,e):null}return Ma._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,a="authUser"){if(!r.length)return new Ll(ws(O0),e,a);const l=(await Promise.all(r.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let c=l[0]||ws(O0);const p=Nf(a,e.config.apiKey,e.name);let b=null;for(const w of r)try{const x=await w._get(p);if(x){let O;if(typeof x=="string"){const q=await Hf(e,{idToken:x}).catch(()=>{});if(!q)break;O=await Ma._fromGetAccountInfoResponse(e,q,x)}else O=Ma._fromJSON(e,x);w!==c&&(b=O),c=w;break}}catch{}const E=l.filter(w=>w._shouldAllowMigration);return!c._shouldAllowMigration||!E.length?new Ll(c,e,a):(c=E[0],b&&await c._set(p,b.toJSON()),await Promise.all(r.map(async w=>{if(w!==c)try{await w._remove(p)}catch{}})),new Ll(c,e,a))}}function k0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ab(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Cb(e))return"Blackberry";if(Rb(e))return"Webos";if(wb(e))return"Safari";if((e.includes("chrome/")||Tb(e))&&!e.includes("edge/"))return"Chrome";if(Sb(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(r);if(a?.length===2)return a[1]}return"Other"}function Eb(i=Ei()){return/firefox\//i.test(i)}function wb(i=Ei()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tb(i=Ei()){return/crios\//i.test(i)}function Ab(i=Ei()){return/iemobile/i.test(i)}function Sb(i=Ei()){return/android/i.test(i)}function Cb(i=Ei()){return/blackberry/i.test(i)}function Rb(i=Ei()){return/webos/i.test(i)}function vp(i=Ei()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function i2(i=Ei()){return vp(i)&&!!window.navigator?.standalone}function a2(){return bA()&&document.documentMode===10}function Ib(i=Ei()){return vp(i)||Sb(i)||Rb(i)||Cb(i)||/windows phone/i.test(i)||Ab(i)}function xb(i,e=[]){let r;switch(i){case"Browser":r=k0(Ei());break;case"Worker":r=`${k0(Ei())}-${i}`;break;default:r=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Kl}/${a}`}class s2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const a=c=>new Promise((p,b)=>{try{const E=e(c);p(E)}catch(E){b(E)}});a.onAbort=r,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const a of this.queue)await a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function o2(i,e={}){return $l(i,"GET","/v2/passwordPolicy",cc(i,e))}const l2=6;class u2{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??l2,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=e.length>=a),l&&(r.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,r,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class c2{constructor(e,r,a,l){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new s2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ws(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Hf(this,{idToken:e}),a=await Ma._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_a(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_a(this.app))return Promise.reject(Ts(this));const r=e?ia(e):null;return r&&Tt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _a(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _a(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o2(this),r=new u2(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,r,a){return this.registerStateListener(this.authStateSubscription,e,r,a)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,a){return this.registerStateListener(this.idTokenSubscription,e,r,a)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await r2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const a=await this.getOrInitRedirectPersistenceManager(r);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ws(e)||this._popupRedirectResolver;Tt(r,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[ws(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,a,l){if(this._deleted)return()=>{};const c=typeof r=="function"?r:r.next.bind(r);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof r=="function"){const E=e.addObserver(r,a,l);return()=>{p=!0,E()}}else{const E=e.addObserver(r);return()=>{p=!0,E()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(_a(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&FS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fc(i){return ia(i)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=IA(r=>this.observer=r)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f2(i){_p=i}function h2(i){return _p.loadJS(i)}function d2(){return _p.gapiScript}function m2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function p2(i,e){const r=dp(i,"auth");if(r.isInitialized()){const l=r.getImmediate(),c=r.getOptions();if(Fo(c,e??{}))return l;Cs(l,"already-initialized")}return r.initialize({options:e})}function g2(i,e){const r=e?.persistence||[],a=(Array.isArray(r)?r:[r]).map(ws);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function y2(i,e,r){const a=fc(i);Tt(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Mb(e),{host:p,port:b}=v2(e),E=b===null?"":`:${b}`,w={url:`${c}//${p}${E}/`},x=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(Fo(w,a.config.emulator)&&Fo(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=w,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,Ql(p)?(ab(`${c}//${p}${E}`),sb("Auth",!0)):_2()}function Mb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function v2(i){const e=Mb(i),r=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:P0(a.substr(c.length+1))}}else{const[c,p]=a.split(":");return{host:c,port:P0(p)}}}function P0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _2(){function i(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Nb{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,r){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function Ul(i,e){return gp(i,"POST","/v1/accounts:signInWithIdp",cc(i,e))}const b2="http://localhost";class qo extends Nb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Cs("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=r;if(!a||!l)return null;const p=new qo(a,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const r=this.buildRequest();return Ul(e,r)}_linkToIdToken(e,r){const a=this.buildRequest();return a.idToken=r,Ul(e,a)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ul(e,r)}buildRequest(){const e={requestUri:b2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=lc(r)}return e}}class Db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hc extends Db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ao extends hc{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";class so extends hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return qo._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:a}=e;if(!r&&!a)return null;try{return so.credential(r,a)}catch{return null}}}so.GOOGLE_SIGN_IN_METHOD="google.com";so.PROVIDER_ID="google.com";class oo extends hc{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";class lo extends hc{constructor(){super("twitter.com")}static credential(e,r){return qo._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=e;if(!r||!a)return null;try{return lo.credential(r,a)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";async function E2(i,e){return gp(i,"POST","/v1/accounts:signUp",cc(i,e))}class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,a,l=!1){const c=await Ma._fromIdTokenResponse(e,a,l),p=L0(a);return new Is({user:c,providerId:p,_tokenResponse:a,operationType:r})}static async _forOperation(e,r,a){await e._updateTokensIfNecessary(a,!0);const l=L0(a);return new Is({user:e,providerId:l,_tokenResponse:a,operationType:r})}}function L0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function w2(i){if(_a(i.app))return Promise.reject(Ts(i));const e=fc(i);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Is({user:e.currentUser,providerId:null,operationType:"signIn"});const r=await E2(e,{returnSecureToken:!0}),a=await Is._fromIdTokenResponse(e,"signIn",r,!0);return await e._updateCurrentUser(a.user),a}class Gf extends Ns{constructor(e,r,a,l){super(r.code,r.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,r,a,l){return new Gf(e,r,a,l)}}function Ob(i,e,r,a){return(e==="reauthenticate"?r._getReauthenticationResolver(i):r._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(i,c,e,a):c})}async function T2(i,e,r=!1){const a=await $u(i,e._linkToIdToken(i.auth,await i.getIdToken()),r);return Is._forOperation(i,"link",a)}async function A2(i,e,r=!1){const{auth:a}=i;if(_a(a.app))return Promise.reject(Ts(a));const l="reauthenticate";try{const c=await $u(i,Ob(a,l,e,i),r);Tt(c.idToken,a,"internal-error");const p=yp(c.idToken);Tt(p,a,"internal-error");const{sub:b}=p;return Tt(i.uid===b,a,"user-mismatch"),Is._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Cs(a,"user-mismatch"),c}}async function S2(i,e,r=!1){if(_a(i.app))return Promise.reject(Ts(i));const a="signIn",l=await Ob(i,a,e),c=await Is._fromIdTokenResponse(i,a,l);return r||await i._updateCurrentUser(c.user),c}async function C2(i,e){return gp(i,"POST","/v1/accounts:signInWithCustomToken",cc(i,e))}async function R2(i,e){if(_a(i.app))return Promise.reject(Ts(i));const r=fc(i),a=await C2(r,{token:e,returnSecureToken:!0}),l=await Is._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function I2(i,e,r,a){return ia(i).onIdTokenChanged(e,r,a)}function x2(i,e,r){return ia(i).beforeAuthStateChanged(e,r)}function M2(i,e,r,a){return ia(i).onAuthStateChanged(e,r,a)}const Yf="__sak";class kb{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Yf,"1"),this.storage.removeItem(Yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const N2=1e3,D2=10;class Vb extends kb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),l=this.localCache[r];a!==l&&e(r,l,a)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((p,b,E)=>{this.notifyListeners(p,E)});return}const a=e.key;r?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!r&&this.localCache[a]===p||this.notifyListeners(a,p)},c=this.storage.getItem(a);a2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,D2):l()}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:a}),!0)})},N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vb.type="LOCAL";const O2=Vb;class Pb extends kb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Pb.type="SESSION";const Lb=Pb;function k2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(l=>l.isListeningto(e));if(r)return r;const a=new uh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:a,eventType:l,data:c}=r.data,p=this.handlersMap[l];if(!p?.size)return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async w=>w(r.origin,c)),E=await k2(b);r.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:E})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];function bp(i="",e=10){let r="";for(let a=0;a<e;a++)r+=Math.floor(Math.random()*10);return i+r}class V2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,E)=>{const w=bp("",20);l.port1.start();const x=setTimeout(()=>{E(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(O){const q=O;if(q.data.eventId===w)switch(q.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{E(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(q.data.response);break;default:clearTimeout(x),clearTimeout(c),E(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:w,data:r},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Ya(){return window}function P2(i){Ya().location.href=i}function Ub(){return typeof Ya().WorkerGlobalScope<"u"&&typeof Ya().importScripts=="function"}async function L2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U2(){return navigator?.serviceWorker?.controller||null}function z2(){return Ub()?self:null}const zb="firebaseLocalStorageDb",B2=1,Xf="firebaseLocalStorage",Bb="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ch(i,e){return i.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function j2(){const i=indexedDB.deleteDatabase(zb);return new dc(i).toPromise()}function qm(){const i=indexedDB.open(zb,B2);return new Promise((e,r)=>{i.addEventListener("error",()=>{r(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Xf,{keyPath:Bb})}catch(l){r(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Xf)?e(a):(a.close(),await j2(),e(await qm()))})})}async function U0(i,e,r){const a=ch(i,!0).put({[Bb]:e,value:r});return new dc(a).toPromise()}async function F2(i,e){const r=ch(i,!1).get(e),a=await new dc(r).toPromise();return a===void 0?null:a.value}function z0(i,e){const r=ch(i,!0).delete(e);return new dc(r).toPromise()}const H2=800,q2=3;class jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let r=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(r++>q2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(z2()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await L2(),!this.activeServiceWorker)return;this.sender=new V2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await U0(e,Yf,"1"),await z0(e,Yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>U0(a,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(a=>F2(a,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>z0(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ch(l,!1).getAll();return new dc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jb.type="LOCAL";const G2=jb;new uc(3e4,6e4);function Y2(i,e){return e?ws(e):(Tt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Ep extends Nb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ul(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function X2(i){return S2(i.auth,new Ep(i),i.bypassAuthState)}function W2(i){const{auth:e,user:r}=i;return Tt(r,e,"internal-error"),A2(r,new Ep(i),i.bypassAuthState)}async function Q2(i){const{auth:e,user:r}=i;return Tt(r,e,"internal-error"),T2(r,new Ep(i),i.bypassAuthState)}class Fb{constructor(e,r,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:a,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const E={auth:this.auth,requestUri:r,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(E))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X2;case"linkViaPopup":case"linkViaRedirect":return Q2;case"reauthViaPopup":case"reauthViaRedirect":return W2;default:Cs(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const K2=new uc(2e3,1e4);class kl extends Fb{constructor(e,r,a,l,c){super(e,r,l,c),this.provider=a,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ga(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ga(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ga(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K2.get())};e()}}kl.currentPopupAction=null;const $2="pendingRedirect",Df=new Map;class J2 extends Fb{constructor(e,r,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const a=await Z2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(r){e=()=>Promise.reject(r)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z2(i,e){const r=nC(e),a=tC(i);if(!await a._isAvailable())return!1;const l=await a._get(r)==="true";return await a._remove(r),l}function eC(i,e){Df.set(i._key(),e)}function tC(i){return ws(i._redirectPersistence)}function nC(i){return Nf($2,i.config.apiKey,i.name)}async function rC(i,e,r=!1){if(_a(i.app))return Promise.reject(Ts(i));const a=fc(i),l=Y2(a,e),p=await new J2(a,l,r).execute();return p&&!r&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,e)),p}const iC=600*1e3;class aC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(r=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sC(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!Hb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Ga(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const a=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iC&&this.cachedEventUids.clear(),this.cachedEventUids.has(B0(e))}saveEventToCache(e){this.cachedEventUids.add(B0(e)),this.lastProcessedEventTime=Date.now()}}function B0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Hb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function sC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hb(i);default:return!1}}async function oC(i,e={}){return $l(i,"GET","/v1/projects",e)}const lC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uC=/^https?/;async function cC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await oC(i);for(const r of e)try{if(fC(r))return}catch{}Cs(i,"unauthorized-domain")}function fC(i){const e=Fm(),{protocol:r,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const p=new URL(i);return p.hostname===""&&a===""?r==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&p.hostname===a}if(!uC.test(r))return!1;if(lC.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const hC=new uc(3e4,6e4);function j0(){const i=Ya().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let r=0;r<i.CP.length;r++)i.CP[r]=null}}function dC(i){return new Promise((e,r)=>{function a(){j0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j0(),r(Ga(i,"network-request-failed"))},timeout:hC.get()})}if(Ya().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ya().gapi?.load)a();else{const l=m2("iframefcb");return Ya()[l]=()=>{gapi.load?a():r(Ga(i,"network-request-failed"))},h2(`${d2()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Of=null,e})}let Of=null;function mC(i){return Of=Of||dC(i),Of}const pC=new uc(5e3,15e3),gC="__/auth/iframe",yC="emulator/auth/iframe",vC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bC(i){const e=i.config;Tt(e.authDomain,i,"auth-domain-config-required");const r=e.emulator?pp(e,yC):`https://${i.config.authDomain}/${gC}`,a={apiKey:e.apiKey,appName:i.name,v:Kl},l=_C.get(i.config.apiHost);l&&(a.eid=l);const c=i._getFrameworks();return c.length&&(a.fw=c.join(",")),`${r}?${lc(a).slice(1)}`}async function EC(i){const e=await mC(i),r=Ya().gapi;return Tt(r,i,"internal-error"),e.open({where:document.body,url:bC(i),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const p=Ga(i,"network-request-failed"),b=Ya().setTimeout(()=>{c(p)},pC.get());function E(){Ya().clearTimeout(b),l(a)}a.ping(E).then(E,()=>{c(p)})}))}const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TC=500,AC=600,SC="_blank",CC="http://localhost";class F0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RC(i,e,r,a=TC,l=AC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const E={...wC,width:a.toString(),height:l.toString(),top:c,left:p},w=Ei().toLowerCase();r&&(b=Tb(w)?SC:r),Eb(w)&&(e=e||CC,E.scrollbars="yes");const x=Object.entries(E).reduce((q,[te,z])=>`${q}${te}=${z},`,"");if(i2(w)&&b!=="_self")return IC(e||"",b),new F0(null);const O=window.open(e||"",b,x);Tt(O,i,"popup-blocked");try{O.focus()}catch{}return new F0(O)}function IC(i,e){const r=document.createElement("a");r.href=i,r.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}const xC="__/auth/handler",MC="emulator/auth/handler",NC=encodeURIComponent("fac");async function H0(i,e,r,a,l,c){Tt(i.config.authDomain,i,"auth-domain-config-required"),Tt(i.config.apiKey,i,"invalid-api-key");const p={apiKey:i.config.apiKey,appName:i.name,authType:r,redirectUrl:a,v:Kl,eventId:l};if(e instanceof Db){e.setDefaultLanguage(i.languageCode),p.providerId=e.providerId||"",RA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,O]of Object.entries({}))p[x]=O}if(e instanceof hc){const x=e.getScopes().filter(O=>O!=="");x.length>0&&(p.scopes=x.join(","))}i.tenantId&&(p.tid=i.tenantId);const b=p;for(const x of Object.keys(b))b[x]===void 0&&delete b[x];const E=await i._getAppCheckToken(),w=E?`#${NC}=${encodeURIComponent(E)}`:"";return`${DC(i)}?${lc(b).slice(1)}${w}`}function DC({config:i}){return i.emulator?pp(i,MC):`https://${i.authDomain}/${xC}`}const Sm="webStorageSupport";class OC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lb,this._completeRedirectFn=rC,this._overrideRedirectResult=eC}async _openPopup(e,r,a,l){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await H0(e,r,a,Fm(),l);return RC(e,c,bp())}async _openRedirect(e,r,a,l){await this._originValidation(e);const c=await H0(e,r,a,Fm(),l);return P2(c),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:l,promise:c}=this.eventManagers[r];return l?Promise.resolve(l):(Rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(e){const r=await EC(e),a=new aC(e);return r.register("authEvent",l=>(Tt(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=r,a}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Sm,{type:Sm},l=>{const c=l?.[0]?.[Sm];c!==void 0&&r(!!c),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=cC(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Ib()||wb()||vp()}}const kC=OC;var q0="@firebase/auth",G0="1.12.0";class VC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LC(i){Fl(new Ho("auth",(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;Tt(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const E={apiKey:p,authDomain:b,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xb(i)},w=new c2(a,l,c,E);return g2(w,r),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,a)=>{e.getProvider("auth-internal").initialize()})),Fl(new Ho("auth-internal",e=>{const r=fc(e.getProvider("auth").getImmediate());return(a=>new VC(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),mo(q0,G0,PC(i)),mo(q0,G0,"esm2020")}const UC=300,zC=ib("authIdTokenMaxAge")||UC;let Y0=null;const BC=i=>async e=>{const r=e&&await e.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>zC)return;const l=r?.token;Y0!==l&&(Y0=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function jC(i=cb()){const e=dp(i,"auth");if(e.isInitialized())return e.getImmediate();const r=p2(i,{popupRedirectResolver:kC,persistence:[G2,O2,Lb]}),a=ib("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const p=BC(c.toString());x2(r,p,()=>p(r.currentUser)),I2(r,b=>p(b))}}const l=nb("auth");return l&&y2(r,`http://${l}`),r}function FC(){return document.getElementsByTagName("head")?.[0]??document}f2({loadJS(i){return new Promise((e,r)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=l=>{const c=Ga("internal-error");c.customData=l,r(c)},a.type="text/javascript",a.charset="UTF-8",FC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LC("Browser");var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var po,qb;(function(){var i;function e(Y,F){function P(){}P.prototype=F.prototype,Y.F=F.prototype,Y.prototype=new P,Y.prototype.constructor=Y,Y.D=function(H,R,L){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return F.prototype[R].apply(H,N)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,r),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(Y,F,P){P||(P=0);const H=Array(16);if(typeof F=="string")for(var R=0;R<16;++R)H[R]=F.charCodeAt(P++)|F.charCodeAt(P++)<<8|F.charCodeAt(P++)<<16|F.charCodeAt(P++)<<24;else for(R=0;R<16;++R)H[R]=F[P++]|F[P++]<<8|F[P++]<<16|F[P++]<<24;F=Y.g[0],P=Y.g[1],R=Y.g[2];let L=Y.g[3],N;N=F+(L^P&(R^L))+H[0]+3614090360&4294967295,F=P+(N<<7&4294967295|N>>>25),N=L+(R^F&(P^R))+H[1]+3905402710&4294967295,L=F+(N<<12&4294967295|N>>>20),N=R+(P^L&(F^P))+H[2]+606105819&4294967295,R=L+(N<<17&4294967295|N>>>15),N=P+(F^R&(L^F))+H[3]+3250441966&4294967295,P=R+(N<<22&4294967295|N>>>10),N=F+(L^P&(R^L))+H[4]+4118548399&4294967295,F=P+(N<<7&4294967295|N>>>25),N=L+(R^F&(P^R))+H[5]+1200080426&4294967295,L=F+(N<<12&4294967295|N>>>20),N=R+(P^L&(F^P))+H[6]+2821735955&4294967295,R=L+(N<<17&4294967295|N>>>15),N=P+(F^R&(L^F))+H[7]+4249261313&4294967295,P=R+(N<<22&4294967295|N>>>10),N=F+(L^P&(R^L))+H[8]+1770035416&4294967295,F=P+(N<<7&4294967295|N>>>25),N=L+(R^F&(P^R))+H[9]+2336552879&4294967295,L=F+(N<<12&4294967295|N>>>20),N=R+(P^L&(F^P))+H[10]+4294925233&4294967295,R=L+(N<<17&4294967295|N>>>15),N=P+(F^R&(L^F))+H[11]+2304563134&4294967295,P=R+(N<<22&4294967295|N>>>10),N=F+(L^P&(R^L))+H[12]+1804603682&4294967295,F=P+(N<<7&4294967295|N>>>25),N=L+(R^F&(P^R))+H[13]+4254626195&4294967295,L=F+(N<<12&4294967295|N>>>20),N=R+(P^L&(F^P))+H[14]+2792965006&4294967295,R=L+(N<<17&4294967295|N>>>15),N=P+(F^R&(L^F))+H[15]+1236535329&4294967295,P=R+(N<<22&4294967295|N>>>10),N=F+(R^L&(P^R))+H[1]+4129170786&4294967295,F=P+(N<<5&4294967295|N>>>27),N=L+(P^R&(F^P))+H[6]+3225465664&4294967295,L=F+(N<<9&4294967295|N>>>23),N=R+(F^P&(L^F))+H[11]+643717713&4294967295,R=L+(N<<14&4294967295|N>>>18),N=P+(L^F&(R^L))+H[0]+3921069994&4294967295,P=R+(N<<20&4294967295|N>>>12),N=F+(R^L&(P^R))+H[5]+3593408605&4294967295,F=P+(N<<5&4294967295|N>>>27),N=L+(P^R&(F^P))+H[10]+38016083&4294967295,L=F+(N<<9&4294967295|N>>>23),N=R+(F^P&(L^F))+H[15]+3634488961&4294967295,R=L+(N<<14&4294967295|N>>>18),N=P+(L^F&(R^L))+H[4]+3889429448&4294967295,P=R+(N<<20&4294967295|N>>>12),N=F+(R^L&(P^R))+H[9]+568446438&4294967295,F=P+(N<<5&4294967295|N>>>27),N=L+(P^R&(F^P))+H[14]+3275163606&4294967295,L=F+(N<<9&4294967295|N>>>23),N=R+(F^P&(L^F))+H[3]+4107603335&4294967295,R=L+(N<<14&4294967295|N>>>18),N=P+(L^F&(R^L))+H[8]+1163531501&4294967295,P=R+(N<<20&4294967295|N>>>12),N=F+(R^L&(P^R))+H[13]+2850285829&4294967295,F=P+(N<<5&4294967295|N>>>27),N=L+(P^R&(F^P))+H[2]+4243563512&4294967295,L=F+(N<<9&4294967295|N>>>23),N=R+(F^P&(L^F))+H[7]+1735328473&4294967295,R=L+(N<<14&4294967295|N>>>18),N=P+(L^F&(R^L))+H[12]+2368359562&4294967295,P=R+(N<<20&4294967295|N>>>12),N=F+(P^R^L)+H[5]+4294588738&4294967295,F=P+(N<<4&4294967295|N>>>28),N=L+(F^P^R)+H[8]+2272392833&4294967295,L=F+(N<<11&4294967295|N>>>21),N=R+(L^F^P)+H[11]+1839030562&4294967295,R=L+(N<<16&4294967295|N>>>16),N=P+(R^L^F)+H[14]+4259657740&4294967295,P=R+(N<<23&4294967295|N>>>9),N=F+(P^R^L)+H[1]+2763975236&4294967295,F=P+(N<<4&4294967295|N>>>28),N=L+(F^P^R)+H[4]+1272893353&4294967295,L=F+(N<<11&4294967295|N>>>21),N=R+(L^F^P)+H[7]+4139469664&4294967295,R=L+(N<<16&4294967295|N>>>16),N=P+(R^L^F)+H[10]+3200236656&4294967295,P=R+(N<<23&4294967295|N>>>9),N=F+(P^R^L)+H[13]+681279174&4294967295,F=P+(N<<4&4294967295|N>>>28),N=L+(F^P^R)+H[0]+3936430074&4294967295,L=F+(N<<11&4294967295|N>>>21),N=R+(L^F^P)+H[3]+3572445317&4294967295,R=L+(N<<16&4294967295|N>>>16),N=P+(R^L^F)+H[6]+76029189&4294967295,P=R+(N<<23&4294967295|N>>>9),N=F+(P^R^L)+H[9]+3654602809&4294967295,F=P+(N<<4&4294967295|N>>>28),N=L+(F^P^R)+H[12]+3873151461&4294967295,L=F+(N<<11&4294967295|N>>>21),N=R+(L^F^P)+H[15]+530742520&4294967295,R=L+(N<<16&4294967295|N>>>16),N=P+(R^L^F)+H[2]+3299628645&4294967295,P=R+(N<<23&4294967295|N>>>9),N=F+(R^(P|~L))+H[0]+4096336452&4294967295,F=P+(N<<6&4294967295|N>>>26),N=L+(P^(F|~R))+H[7]+1126891415&4294967295,L=F+(N<<10&4294967295|N>>>22),N=R+(F^(L|~P))+H[14]+2878612391&4294967295,R=L+(N<<15&4294967295|N>>>17),N=P+(L^(R|~F))+H[5]+4237533241&4294967295,P=R+(N<<21&4294967295|N>>>11),N=F+(R^(P|~L))+H[12]+1700485571&4294967295,F=P+(N<<6&4294967295|N>>>26),N=L+(P^(F|~R))+H[3]+2399980690&4294967295,L=F+(N<<10&4294967295|N>>>22),N=R+(F^(L|~P))+H[10]+4293915773&4294967295,R=L+(N<<15&4294967295|N>>>17),N=P+(L^(R|~F))+H[1]+2240044497&4294967295,P=R+(N<<21&4294967295|N>>>11),N=F+(R^(P|~L))+H[8]+1873313359&4294967295,F=P+(N<<6&4294967295|N>>>26),N=L+(P^(F|~R))+H[15]+4264355552&4294967295,L=F+(N<<10&4294967295|N>>>22),N=R+(F^(L|~P))+H[6]+2734768916&4294967295,R=L+(N<<15&4294967295|N>>>17),N=P+(L^(R|~F))+H[13]+1309151649&4294967295,P=R+(N<<21&4294967295|N>>>11),N=F+(R^(P|~L))+H[4]+4149444226&4294967295,F=P+(N<<6&4294967295|N>>>26),N=L+(P^(F|~R))+H[11]+3174756917&4294967295,L=F+(N<<10&4294967295|N>>>22),N=R+(F^(L|~P))+H[2]+718787259&4294967295,R=L+(N<<15&4294967295|N>>>17),N=P+(L^(R|~F))+H[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+F&4294967295,Y.g[1]=Y.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,Y.g[2]=Y.g[2]+R&4294967295,Y.g[3]=Y.g[3]+L&4294967295}a.prototype.v=function(Y,F){F===void 0&&(F=Y.length);const P=F-this.blockSize,H=this.C;let R=this.h,L=0;for(;L<F;){if(R==0)for(;L<=P;)l(this,Y,L),L+=this.blockSize;if(typeof Y=="string"){for(;L<F;)if(H[R++]=Y.charCodeAt(L++),R==this.blockSize){l(this,H),R=0;break}}else for(;L<F;)if(H[R++]=Y[L++],R==this.blockSize){l(this,H),R=0;break}}this.h=R,this.o+=F},a.prototype.A=function(){var Y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Y[0]=128;for(var F=1;F<Y.length-8;++F)Y[F]=0;F=this.o*8;for(var P=Y.length-8;P<Y.length;++P)Y[P]=F&255,F/=256;for(this.v(Y),Y=Array(16),F=0,P=0;P<4;++P)for(let H=0;H<32;H+=8)Y[F++]=this.g[P]>>>H&255;return Y};function c(Y,F){var P=b;return Object.prototype.hasOwnProperty.call(P,Y)?P[Y]:P[Y]=F(Y)}function p(Y,F){this.h=F;const P=[];let H=!0;for(let R=Y.length-1;R>=0;R--){const L=Y[R]|0;H&&L==F||(P[R]=L,H=!1)}this.g=P}var b={};function E(Y){return-128<=Y&&Y<128?c(Y,function(F){return new p([F|0],F<0?-1:0)}):new p([Y|0],Y<0?-1:0)}function w(Y){if(isNaN(Y)||!isFinite(Y))return O;if(Y<0)return be(w(-Y));const F=[];let P=1;for(let H=0;Y>=P;H++)F[H]=Y/P|0,P*=4294967296;return new p(F,0)}function x(Y,F){if(Y.length==0)throw Error("number format error: empty string");if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(Y.charAt(0)=="-")return be(x(Y.substring(1),F));if(Y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=w(Math.pow(F,8));let H=O;for(let L=0;L<Y.length;L+=8){var R=Math.min(8,Y.length-L);const N=parseInt(Y.substring(L,L+R),F);R<8?(R=w(Math.pow(F,R)),H=H.j(R).add(w(N))):(H=H.j(P),H=H.add(w(N)))}return H}var O=E(0),q=E(1),te=E(16777216);i=p.prototype,i.m=function(){if(Oe(this))return-be(this).m();let Y=0,F=1;for(let P=0;P<this.g.length;P++){const H=this.i(P);Y+=(H>=0?H:4294967296+H)*F,F*=4294967296}return Y},i.toString=function(Y){if(Y=Y||10,Y<2||36<Y)throw Error("radix out of range: "+Y);if(z(this))return"0";if(Oe(this))return"-"+be(this).toString(Y);const F=w(Math.pow(Y,6));var P=this;let H="";for(;;){const R=tt(P,F).g;P=Le(P,R.j(F));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(Y);if(P=R,z(P))return L+H;for(;L.length<6;)L="0"+L;H=L+H}},i.i=function(Y){return Y<0?0:Y<this.g.length?this.g[Y]:this.h};function z(Y){if(Y.h!=0)return!1;for(let F=0;F<Y.g.length;F++)if(Y.g[F]!=0)return!1;return!0}function Oe(Y){return Y.h==-1}i.l=function(Y){return Y=Le(this,Y),Oe(Y)?-1:z(Y)?0:1};function be(Y){const F=Y.g.length,P=[];for(let H=0;H<F;H++)P[H]=~Y.g[H];return new p(P,~Y.h).add(q)}i.abs=function(){return Oe(this)?be(this):this},i.add=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];let H=0;for(let R=0;R<=F;R++){let L=H+(this.i(R)&65535)+(Y.i(R)&65535),N=(L>>>16)+(this.i(R)>>>16)+(Y.i(R)>>>16);H=N>>>16,L&=65535,N&=65535,P[R]=N<<16|L}return new p(P,P[P.length-1]&-2147483648?-1:0)};function Le(Y,F){return Y.add(be(F))}i.j=function(Y){if(z(this)||z(Y))return O;if(Oe(this))return Oe(Y)?be(this).j(be(Y)):be(be(this).j(Y));if(Oe(Y))return be(this.j(be(Y)));if(this.l(te)<0&&Y.l(te)<0)return w(this.m()*Y.m());const F=this.g.length+Y.g.length,P=[];for(var H=0;H<2*F;H++)P[H]=0;for(H=0;H<this.g.length;H++)for(let R=0;R<Y.g.length;R++){const L=this.i(H)>>>16,N=this.i(H)&65535,W=Y.i(R)>>>16,ae=Y.i(R)&65535;P[2*H+2*R]+=N*ae,j(P,2*H+2*R),P[2*H+2*R+1]+=L*ae,j(P,2*H+2*R+1),P[2*H+2*R+1]+=N*W,j(P,2*H+2*R+1),P[2*H+2*R+2]+=L*W,j(P,2*H+2*R+2)}for(Y=0;Y<F;Y++)P[Y]=P[2*Y+1]<<16|P[2*Y];for(Y=F;Y<2*F;Y++)P[Y]=0;return new p(P,0)};function j(Y,F){for(;(Y[F]&65535)!=Y[F];)Y[F+1]+=Y[F]>>>16,Y[F]&=65535,F++}function Pe(Y,F){this.g=Y,this.h=F}function tt(Y,F){if(z(F))throw Error("division by zero");if(z(Y))return new Pe(O,O);if(Oe(Y))return F=tt(be(Y),F),new Pe(be(F.g),be(F.h));if(Oe(F))return F=tt(Y,be(F)),new Pe(be(F.g),F.h);if(Y.g.length>30){if(Oe(Y)||Oe(F))throw Error("slowDivide_ only works with positive integers.");for(var P=q,H=F;H.l(Y)<=0;)P=ft(P),H=ft(H);var R=at(P,1),L=at(H,1);for(H=at(H,2),P=at(P,2);!z(H);){var N=L.add(H);N.l(Y)<=0&&(R=R.add(P),L=N),H=at(H,1),P=at(P,1)}return F=Le(Y,R.j(F)),new Pe(R,F)}for(R=O;Y.l(F)>=0;){for(P=Math.max(1,Math.floor(Y.m()/F.m())),H=Math.ceil(Math.log(P)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),L=w(P),N=L.j(F);Oe(N)||N.l(Y)>0;)P-=H,L=w(P),N=L.j(F);z(L)&&(L=q),R=R.add(L),Y=Le(Y,N)}return new Pe(R,Y)}i.B=function(Y){return tt(this,Y).h},i.and=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)&Y.i(H);return new p(P,this.h&Y.h)},i.or=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)|Y.i(H);return new p(P,this.h|Y.h)},i.xor=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)^Y.i(H);return new p(P,this.h^Y.h)};function ft(Y){const F=Y.g.length+1,P=[];for(let H=0;H<F;H++)P[H]=Y.i(H)<<1|Y.i(H-1)>>>31;return new p(P,Y.h)}function at(Y,F){const P=F>>5;F%=32;const H=Y.g.length-P,R=[];for(let L=0;L<H;L++)R[L]=F>0?Y.i(L+P)>>>F|Y.i(L+P+1)<<32-F:Y.i(L+P);return new p(R,Y.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,qb=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=w,p.fromString=x,po=p}).apply(typeof X0<"u"?X0:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gb,Bu,Yb,kf,Gm,Xb,Wb,Qb;(function(){var i,e=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=r(this);function l(u,y){if(y)e:{var A=a;u=u.split(".");for(var k=0;k<u.length-1;k++){var se=u[k];if(!(se in A))break e;A=A[se]}u=u[u.length-1],k=A[u],y=y(k),y!=k&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],k;for(k in y)Object.prototype.hasOwnProperty.call(y,k)&&A.push([k,y[k]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function E(u,y,A){return u.call.apply(u.bind,arguments)}function w(u,y,A){return w=E,w.apply(null,arguments)}function x(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var k=A.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function O(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(k,se,pe){for(var Be=Array(arguments.length-2),St=2;St<arguments.length;St++)Be[St-2]=arguments[St];return y.prototype[se].apply(k,Be)}}var q=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function te(u){const y=u.length;if(y>0){const A=Array(y);for(let k=0;k<y;k++)A[k]=u[k];return A}return[]}function z(u,y){for(let k=1;k<arguments.length;k++){const se=arguments[k];var A=typeof se;if(A=A!="object"?A:se?Array.isArray(se)?"array":A:"null",A=="array"||A=="object"&&typeof se.length=="number"){A=u.length||0;const pe=se.length||0;u.length=A+pe;for(let Be=0;Be<pe;Be++)u[A+Be]=se[Be]}else u.push(se)}}class Oe{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function be(u){p.setTimeout(()=>{throw u},0)}function Le(){var u=Y;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class j{constructor(){this.h=this.g=null}add(y,A){const k=Pe.get();k.set(y,A),this.h?this.h.next=k:this.g=k,this.h=k}}var Pe=new Oe(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,at=!1,Y=new j,F=()=>{const u=Promise.resolve(void 0);ft=()=>{u.then(P)}};function P(){for(var u;u=Le();){try{u.h.call(u.g)}catch(A){be(A)}var y=Pe;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}at=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function W(u,y){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}O(W,R),W.prototype.init=function(u,y){const A=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),G=0;function Q(u,y,A,k,se){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!k,this.ha=se,this.key=++G,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function de(u,y,A){for(const k in u)y.call(A,u[k],k,u)}function Ee(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function U(u){const y={};for(const A in u)y[A]=u[A];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(u,y){let A,k;for(let se=1;se<arguments.length;se++){k=arguments[se];for(A in k)u[A]=k[A];for(let pe=0;pe<oe.length;pe++)A=oe[pe],Object.prototype.hasOwnProperty.call(k,A)&&(u[A]=k[A])}}function Ce(u){this.src=u,this.g={},this.h=0}Ce.prototype.add=function(u,y,A,k,se){const pe=u.toString();u=this.g[pe],u||(u=this.g[pe]=[],this.h++);const Be=Ke(u,y,k,se);return Be>-1?(y=u[Be],A||(y.fa=!1)):(y=new Q(y,this.src,pe,!!k,se),y.fa=A,u.push(y)),y};function Ne(u,y){const A=y.type;if(A in u.g){var k=u.g[A],se=Array.prototype.indexOf.call(k,y,void 0),pe;(pe=se>=0)&&Array.prototype.splice.call(k,se,1),pe&&(ge(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function Ke(u,y,A,k){for(let se=0;se<u.length;++se){const pe=u[se];if(!pe.da&&pe.listener==y&&pe.capture==!!A&&pe.ha==k)return se}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),jt={};function ct(u,y,A,k,se){if(Array.isArray(y)){for(let pe=0;pe<y.length;pe++)ct(u,y[pe],A,k,se);return null}return A=fn(A),u&&u[ae]?u.J(y,A,b(k)?!!k.capture:!1,se):kt(u,y,A,!1,k,se)}function kt(u,y,A,k,se,pe){if(!y)throw Error("Invalid event type");const Be=b(se)?!!se.capture:!!se;let St=Kn(u);if(St||(u[dt]=St=new Ce(u)),A=St.add(y,A,k,Be,pe),A.proxy)return A;if(k=Ft(),A.proxy=k,k.src=u,k.listener=A,u.addEventListener)L||(se=Be),se===void 0&&(se=!1),u.addEventListener(y.toString(),k,se);else if(u.attachEvent)u.attachEvent(sn(y.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ft(){function u(A){return y.call(u.src,u.listener,A)}const y=Yt;return u}function pt(u,y,A,k,se){if(Array.isArray(y))for(var pe=0;pe<y.length;pe++)pt(u,y[pe],A,k,se);else k=b(k)?!!k.capture:!!k,A=fn(A),u&&u[ae]?(u=u.i,pe=String(y).toString(),pe in u.g&&(y=u.g[pe],A=Ke(y,A,k,se),A>-1&&(ge(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[pe],u.h--)))):u&&(u=Kn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Ke(y,A,k,se)),(A=u>-1?y[u]:null)&&wt(A))}function wt(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ae])Ne(y.i,u);else{var A=u.type,k=u.proxy;y.removeEventListener?y.removeEventListener(A,k,u.capture):y.detachEvent?y.detachEvent(sn(A),k):y.addListener&&y.removeListener&&y.removeListener(k),(A=Kn(y))?(Ne(A,u),A.h==0&&(A.src=null,y[dt]=null)):ge(u)}}}function sn(u){return u in jt?jt[u]:jt[u]="on"+u}function Yt(u,y){if(u.da)u=!0;else{y=new W(y,this);const A=u.listener,k=u.ha||u.src;u.fa&&wt(u),u=A.call(k,y)}return u}function Kn(u){return u=u[dt],u instanceof Ce?u:null}var Ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function fn(u){return typeof u=="function"?u:(u[Ar]||(u[Ar]=function(y){return u.handleEvent(y)}),u[Ar])}function it(){H.call(this),this.i=new Ce(this),this.M=this,this.G=null}O(it,H),it.prototype[ae]=!0,it.prototype.removeEventListener=function(u,y,A,k){pt(this,u,y,A,k)};function Lt(u,y){var A,k=u.G;if(k)for(A=[];k;k=k.G)A.push(k);if(u=u.M,k=y.type||y,typeof y=="string")y=new R(y,u);else if(y instanceof R)y.target=y.target||u;else{var se=y;y=new R(k,u),xe(y,se)}se=!0;let pe,Be;if(A)for(Be=A.length-1;Be>=0;Be--)pe=y.g=A[Be],se=hn(pe,k,!0,y)&&se;if(pe=y.g=u,se=hn(pe,k,!0,y)&&se,se=hn(pe,k,!1,y)&&se,A)for(Be=0;Be<A.length;Be++)pe=y.g=A[Be],se=hn(pe,k,!1,y)&&se}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let k=0;k<A.length;k++)ge(A[k]);delete u.g[y],u.h--}}this.G=null},it.prototype.J=function(u,y,A,k){return this.i.add(String(u),y,!1,A,k)},it.prototype.K=function(u,y,A,k){return this.i.add(String(u),y,!0,A,k)};function hn(u,y,A,k){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let se=!0;for(let pe=0;pe<y.length;++pe){const Be=y[pe];if(Be&&!Be.da&&Be.capture==A){const St=Be.listener,Zn=Be.ha||Be.src;Be.fa&&Ne(u.i,Be),se=St.call(Zn,k)!==!1&&se}}return se&&!k.defaultPrevented}function Xt(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function vt(u){u.g=Xt(()=>{u.g=null,u.i&&(u.i=!1,vt(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Nt extends H{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rt(u){H.call(this),this.h=u,this.g={}}O(Rt,H);var En=[];function C(u){de(u.g,function(y,A){this.g.hasOwnProperty(A)&&wt(y)},u),u.g={}}Rt.prototype.N=function(){Rt.Z.N.call(this),C(this)},Rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var g=p.JSON.stringify,_=p.JSON.parse,V=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Z(){}function me(){}var Se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){R.call(this,"d")}O(Ye,R);function st(){R.call(this,"c")}O(st,R);var De={},_t=null;function Ht(){return _t=_t||new it}De.Ia="serverreachability";function Un(u){R.call(this,De.Ia,u)}O(Un,R);function Ut(u){const y=Ht();Lt(y,new Un(y))}De.STAT_EVENT="statevent";function $n(u,y){R.call(this,De.STAT_EVENT,u),this.stat=y}O($n,R);function qt(u){const y=Ht();Lt(y,new $n(y,u))}De.Ja="timingevent";function In(u,y){R.call(this,De.Ja,u),this.size=y}O(In,R);function Nn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Dn(){this.g=!0}Dn.prototype.ua=function(){this.g=!1};function zr(u,y,A,k,se,pe){u.info(function(){if(u.g)if(pe){var Be="",St=pe.split("&");for(let mn=0;mn<St.length;mn++){var Zn=St[mn].split("=");if(Zn.length>1){const Bn=Zn[0];Zn=Zn[1];const pi=Bn.split("_");Be=pi.length>=2&&pi[1]=="type"?Be+(Bn+"="+Zn+"&"):Be+(Bn+"=redacted&")}}}else Be=null;else Be=pe;return"XMLHTTP REQ ("+k+") [attempt "+se+"]: "+y+`
`+A+`
`+Be})}function $e(u,y,A,k,se,pe,Be){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+se+"]: "+y+`
`+A+`
`+pe+" "+Be})}function Xn(u,y,A,k){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+At(u,A)+(k?" "+k:"")})}function tr(u,y){u.info(function(){return"TIMEOUT: "+y})}Dn.prototype.info=function(){};function At(u,y){if(!u.g)return y;if(!y)return null;try{const pe=JSON.parse(y);if(pe){for(u=0;u<pe.length;u++)if(Array.isArray(pe[u])){var A=pe[u];if(!(A.length<2)){var k=A[1];if(Array.isArray(k)&&!(k.length<1)){var se=k[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Be=1;Be<k.length;Be++)k[Be]=""}}}}return g(pe)}catch{return y}}var Wn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},aa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nr;function wi(){}O(wi,Z),wi.prototype.g=function(){return new XMLHttpRequest},Nr=new wi;function Xe(u){return encodeURIComponent(String(u))}function Oa(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Ni(u,y,A,k){this.j=u,this.i=y,this.l=A,this.S=k||1,this.V=new Rt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Br}function Br(){this.i=null,this.g="",this.h=!1}var gn={},Jn={};function ii(u,y,A){u.M=1,u.A=mr(dn(y)),u.u=A,u.R=!0,Di(u,null)}function Di(u,y){u.F=Date.now(),jr(u),u.B=dn(u.A);var A=u.B,k=u.S;Array.isArray(k)||(k=[String(k)]),la(A.i,"t",k),u.C=0,A=u.j.L,u.h=new Br,u.g=Jo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new Nt(w(u.Y,u,u.g),u.P)),y=u.V,A=u.g,k=u.ba;var se="readystatechange";Array.isArray(se)||(se&&(En[0]=se.toString()),se=En);for(let pe=0;pe<se.length;pe++){const Be=ct(A,se[pe],k||y.handleEvent,!1,y.h||y);if(!Be)break;y.g[Be.key]=Be}y=u.J?U(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Ut(),zr(u.i,u.v,u.B,u.l,u.S,u.u)}Ni.prototype.ba=function(u){u=u.target;const y=this.O;y&&hi(u)==3?y.j():this.Y(u)},Ni.prototype.Y=function(u){try{if(u==this.g)e:{const St=hi(this.g),Zn=this.g.ya(),mn=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ar(this.g)))){this.K||St!=4||Zn==7||(Zn==8||mn<=0?Ut(3):Ut(2)),Ai(this);var y=this.g.ca();this.X=y;var A=ai(this);if(this.o=y==200,$e(this.i,this.v,this.B,this.l,this.S,St,y),this.o){if(this.U&&!this.L){t:{if(this.g){var k,se=this.g;if((k=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(k)){var pe=k;break t}}pe=null}if(u=pe)Xn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Dr(this,u);else{this.o=!1,this.m=3,qt(12),Hr(this),Fr(this);break e}}if(this.R){u=!0;let Bn;for(;!this.K&&this.C<A.length;)if(Bn=Ti(this,A),Bn==Jn){St==4&&(this.m=4,qt(14),u=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==gn){this.m=4,qt(15),Xn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Xn(this.i,this.l,Bn,null),Dr(this,Bn);if(ka(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||A.length!=0||this.h.h||(this.m=1,qt(16),u=!1),this.o=this.o&&u,!u)Xn(this.i,this.l,A,"[Invalid Chunked Response]"),Hr(this),Fr(this);else if(A.length>0&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.aa&&!Be.P&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Qe(Be),Be.P=!0,qt(11))}}else Xn(this.i,this.l,A,null),Dr(this,A);St==4&&Hr(this),this.o&&!this.K&&(St==4?kr(this.j,this):(this.o=!1,jr(this)))}else di(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Hr(this),Fr(this)}}}catch{}finally{}};function ai(u){if(!ka(u))return u.g.la();const y=ar(u.g);if(y==="")return"";let A="";const k=y.length,se=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Hr(u),Fr(u),"";u.h.i=new p.TextDecoder}for(let pe=0;pe<k;pe++)u.h.h=!0,A+=u.h.i.decode(y[pe],{stream:!(se&&pe==k-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function ka(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ti(u,y){var A=u.C,k=y.indexOf(`
`,A);return k==-1?Jn:(A=Number(y.substring(A,k)),isNaN(A)?gn:(k+=1,k+A>y.length?Jn:(y=y.slice(k,k+A),u.C=k+A,y)))}Ni.prototype.cancel=function(){this.K=!0,Hr(this)};function jr(u){u.T=Date.now()+u.H,dr(u,u.H)}function dr(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Nn(w(u.aa,u),y)}function Ai(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Ni.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(tr(this.i,this.B),this.M!=2&&(Ut(),qt(17)),Hr(this),this.m=2,Fr(this)):dr(this,this.T-u)};function Fr(u){u.j.I==0||u.K||kr(u.j,u)}function Hr(u){Ai(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,C(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Dr(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||si(A.h,u))){if(!u.L&&si(A.h,u)&&A.I==3){try{var k=A.Ba.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var se=k;if(se[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)Qt(A),ie(A);else break e;ut(A),qt(18)}}else A.xa=se[1],0<A.xa-A.K&&se[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Nn(w(A.Va,A),6e3));Rr(A.h)<=1&&A.ta&&(A.ta=void 0)}else gr(A,11)}else if((u.L||A.g==u)&&Qt(A),!N(y))for(se=A.Ba.g.parse(y),y=0;y<se.length;y++){let mn=se[y];const Bn=mn[0];if(!(Bn<=A.K))if(A.K=Bn,mn=mn[1],A.I==2)if(mn[0]=="c"){A.M=mn[1],A.ba=mn[2];const pi=mn[3];pi!=null&&(A.ka=pi,A.j.info("VER="+A.ka));const zi=mn[4];zi!=null&&(A.za=zi,A.j.info("SVER="+A.za));const Bi=mn[5];Bi!=null&&typeof Bi=="number"&&Bi>0&&(k=1.5*Bi,A.O=k,A.j.info("backChannelRequestTimeoutMs_="+k)),k=A;const Ci=u.g;if(Ci){const fa=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var pe=k.h;pe.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Ja(pe,pe.h),pe.h=null))}if(k.G){const ts=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;ts&&(k.wa=ts,on(k.J,k.G,ts))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),k=A;var Be=u;if(k.na=$o(k,k.L?k.ba:null,k.W),Be.L){sa(k.h,Be);var St=Be,Zn=k.O;Zn&&(St.H=Zn),St.D&&(Ai(St),jr(St)),k.g=Be}else Ge(k);A.i.length>0&&ve(A)}else mn[0]!="stop"&&mn[0]!="close"||gr(A,7);else A.I==3&&(mn[0]=="stop"||mn[0]=="close"?mn[0]=="stop"?gr(A,7):K(A):mn[0]!="noop"&&A.l&&A.l.qa(mn),A.A=0)}}Ut(4)}catch{}}var zn=class{constructor(u,y){this.g=u,this.map=y}};function Sr(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rr(u){return u.h?1:u.g?u.g.size:0}function si(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ja(u,y){u.g?u.g.add(y):u.h=y}function sa(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Sr.prototype.cancel=function(){if(this.i=Va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Va(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return te(u.i)}var Za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oi(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const k=u[A].indexOf("=");let se,pe=null;k>=0?(se=u[A].substring(0,k),pe=u[A].substring(k+1)):se=u[A],y(se,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Wt(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Wt?(this.l=u.l,Fn(this,u.j),this.o=u.o,this.g=u.g,li(this,u.u),this.h=u.h,Oi(this,ua(u.i)),this.m=u.m):u&&(y=String(u).match(Za))?(this.l=!1,Fn(this,y[1]||"",!0),this.o=mt(y[2]||""),this.g=mt(y[3]||"",!0),li(this,y[4]),this.h=mt(y[5]||"",!0),Oi(this,y[6]||"",!0),this.m=mt(y[7]||"")):(this.l=!1,this.i=new ki(null,this.l))}Wt.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(nr(y,wa,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(nr(y,wa,!0),"@"),u.push(Xe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(nr(A,A.charAt(0)=="/"?Pa:es,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",nr(A,oa)),u.join("")},Wt.prototype.resolve=function(u){const y=dn(this);let A=!!u.j;A?Fn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var k=u.h;if(A)li(y,u.u);else if(A=!!u.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var se=y.h.lastIndexOf("/");se!=-1&&(k=y.h.slice(0,se+1)+k)}if(se=k,se==".."||se==".")k="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){k=se.lastIndexOf("/",0)==0,se=se.split("/");const pe=[];for(let Be=0;Be<se.length;){const St=se[Be++];St=="."?k&&Be==se.length&&pe.push(""):St==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),k&&Be==se.length&&pe.push("")):(pe.push(St),k=!0)}k=pe.join("/")}else k=se}return A?y.h=k:A=u.i.toString()!=="",A?Oi(y,ua(u.i)):A=!!u.m,A&&(y.m=u.m),y};function dn(u){return new Wt(u)}function Fn(u,y,A){u.j=A?mt(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function li(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Oi(u,y,A){y instanceof ki?(u.i=y,Wi(u.i,u.l)):(A||(y=nr(y,yn)),u.i=new ki(y,u.l))}function on(u,y,A){u.i.set(y,A)}function mr(u){return on(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mt(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function nr(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,On),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function On(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var wa=/[#\/\?@]/g,es=/[#\?:]/g,Pa=/[#\?]/g,yn=/[#\?@]/g,oa=/#/g;function ki(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function rr(u){u.g||(u.g=new Map,u.h=0,u.i&&oi(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}i=ki.prototype,i.add=function(u,y){rr(this),this.i=null,u=Si(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function ui(u,y){rr(u),y=Si(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Ta(u,y){return rr(u),y=Si(u,y),u.g.has(y)}i.forEach=function(u,y){rr(this),this.g.forEach(function(A,k){A.forEach(function(se){u.call(y,se,k,this)},this)},this)};function qr(u,y){rr(u);let A=[];if(typeof y=="string")Ta(u,y)&&(A=A.concat(u.g.get(Si(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}i.set=function(u,y){return rr(this),this.i=null,u=Si(this,u),Ta(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},i.get=function(u,y){return u?(u=qr(this,u),u.length>0?String(u[0]):y):y};function la(u,y,A){ui(u,y),A.length>0&&(u.i=null,u.g.set(Si(u,y),te(A)),u.h+=A.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let k=0;k<y.length;k++){var A=y[k];const se=Xe(A);A=qr(this,A);for(let pe=0;pe<A.length;pe++){let Be=se;A[pe]!==""&&(Be+="="+Xe(A[pe])),u.push(Be)}}return this.i=u.join("&")};function ua(u){const y=new ki;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Si(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Wi(u,y){y&&!u.j&&(rr(u),u.i=null,u.g.forEach(function(A,k){const se=k.toLowerCase();k!=se&&(ui(this,k),la(this,se,A))},u)),u.j=y}function Gr(u,y){const A=new Dn;if(p.Image){const k=new Image;k.onload=x(ci,A,"TestLoadImage: loaded",!0,y,k),k.onerror=x(ci,A,"TestLoadImage: error",!1,y,k),k.onabort=x(ci,A,"TestLoadImage: abort",!1,y,k),k.ontimeout=x(ci,A,"TestLoadImage: timeout",!1,y,k),p.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else y(!1)}function Aa(u,y){const A=new Dn,k=new AbortController,se=setTimeout(()=>{k.abort(),ci(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:k.signal}).then(pe=>{clearTimeout(se),pe.ok?ci(A,"TestPingServer: ok",!0,y):ci(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(se),ci(A,"TestPingServer: error",!1,y)})}function ci(u,y,A,k,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),k(A)}catch{}}function fi(){this.g=new V}function Yr(u){this.i=u.Sb||null,this.h=u.ab||!1}O(Yr,Z),Yr.prototype.g=function(){return new Xr(this.i,this.h)};function Xr(u,y){it.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}O(Xr,it),i=Xr.prototype,i.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Ir(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Wr(this):Ir(this),this.readyState==3&&Qi(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Wr(this))},i.Na=function(u){this.g&&(this.response=u,Wr(this))},i.ga=function(){this.g&&Wr(this)};function Wr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ir(u)}i.setRequestHeader=function(u,y){this.A.append(u,y)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Ir(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function lr(u){let y="";return de(u,function(A,k){y+=k,y+=":",y+=A,y+=`\r
`}),y}function Vi(u,y,A){e:{for(k in A){var k=!1;break e}k=!0}k||(A=lr(A),typeof u=="string"?A!=null&&Xe(A):on(u,y,A))}function It(u){it.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}O(It,it);var pr=/^https?$/i,Or=["POST","PUT"];i=It.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,y,A,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nr.g(),this.g.onreadystatechange=q(w(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(pe){Pi(this,pe);return}if(u=A||"",A=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var se in k)A.set(se,k[se]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const pe of k.keys())A.set(pe,k.get(pe));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(A.keys()).find(pe=>pe.toLowerCase()=="content-type"),se=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Or,y,void 0)>=0)||k||se||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Be]of A)this.g.setRequestHeader(pe,Be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(pe){Pi(this,pe)}};function Pi(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,ca(u),ir(u)}function ca(u){u.A||(u.A=!0,Lt(u,"complete"),Lt(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Lt(this,"complete"),Lt(this,"abort"),ir(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ir(this,!0)),It.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ki(this):this.Xa())},i.Xa=function(){Ki(this)};function Ki(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Lt(u,"readystatechange"),hi(u)==4){u.h=!1;try{const pe=u.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var k;if(k=pe===0){let Be=String(u.D).match(Za)[1]||null;!Be&&p.self&&p.self.location&&(Be=p.self.location.protocol.slice(0,-1)),k=!pr.test(Be?Be.toLowerCase():"")}A=k}if(A)Lt(u,"complete"),Lt(u,"success");else{u.o=6;try{var se=hi(u)>2?u.g.statusText:""}catch{se=""}u.l=se+" ["+u.ca()+"]",ca(u)}}finally{ir(u)}}}}function ir(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||Lt(u,"ready");try{A.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}i.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),_(y)}};function ar(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function di(u){const y={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(N(u[k]))continue;var A=Oa(u[k]);const se=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const pe=y[se]||[];y[se]=pe,pe.push(A)}Ee(y,function(k){return k.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Ui(u){this.za=0,this.i=[],this.j=new Dn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,u),this.Za=Li("retryDelaySeedMs",1e4,u),this.Ta=Li("forwardChannelMaxRetries",2,u),this.va=Li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Sr(u&&u.concurrentRequestLimit),this.Ba=new fi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ui.prototype,i.ka=8,i.I=1,i.connect=function(u,y,A,k){qt(0),this.W=u,this.H=y||{},A&&k!==void 0&&(this.H.OSID=A,this.H.OAID=k),this.F=this.X,this.J=$o(this,null,this.W),ve(this)};function K(u){if(we(u),u.I==3){var y=u.V++,A=dn(u.J);if(on(A,"SID",u.M),on(A,"RID",y),on(A,"TYPE","terminate"),qe(u,A),y=new Ni(u,u.j,y),y.M=2,y.A=mr(dn(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Jo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),jr(y)}Ds(u)}function ie(u){u.g&&(Qe(u),u.g.cancel(),u.g=null)}function we(u){ie(u),u.v&&(p.clearTimeout(u.v),u.v=null),Qt(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function ve(u){if(!Cr(u.h)&&!u.m){u.m=!0;var y=u.Ea;ft||F(),at||(ft(),at=!0),Y.add(y,u),u.D=0}}function Te(u,y){return Rr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Nn(w(u.Ea,u,y),mi(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const se=new Ni(this,this.j,u);let pe=this.o;if(this.U&&(pe?(pe=U(pe),xe(pe,this.U)):pe=this.U),this.u!==null||this.R||(se.J=pe,pe=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var k=this.i[A];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=ze(this,se,y),A=dn(this.J),on(A,"RID",u),on(A,"CVER",22),this.G&&on(A,"X-HTTP-Session-Id",this.G),qe(this,A),pe&&(this.R?y="headers="+Xe(lr(pe))+"&"+y:this.u&&Vi(A,this.u,pe)),Ja(this.h,se),this.Ra&&on(A,"TYPE","init"),this.S?(on(A,"$req",y),on(A,"SID","null"),se.U=!0,ii(se,A,null)):ii(se,A,y),this.I=2}}else this.I==3&&(u?Fe(this,u):this.i.length==0||Cr(this.h)||Fe(this))};function Fe(u,y){var A;y?A=y.l:A=u.V++;const k=dn(u.J);on(k,"SID",u.M),on(k,"RID",A),on(k,"AID",u.K),qe(u,k),u.u&&u.o&&Vi(k,u.u,u.o),A=new Ni(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=ze(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ja(u.h,A),ii(A,k,y)}function qe(u,y){u.H&&de(u.H,function(A,k){on(y,k,A)}),u.l&&de({},function(A,k){on(y,k,A)})}function ze(u,y,A){A=Math.min(u.i.length,A);const k=u.l?w(u.l.Ka,u.l,u):null;e:{var se=u.i;let St=-1;for(;;){const Zn=["count="+A];St==-1?A>0?(St=se[0].g,Zn.push("ofs="+St)):St=0:Zn.push("ofs="+St);let mn=!0;for(let Bn=0;Bn<A;Bn++){var pe=se[Bn].g;const pi=se[Bn].map;if(pe-=St,pe<0)St=Math.max(0,se[Bn].g-100),mn=!1;else try{pe="req"+pe+"_"||"";try{var Be=pi instanceof Map?pi:Object.entries(pi);for(const[zi,Bi]of Be){let Ci=Bi;b(Bi)&&(Ci=g(Bi)),Zn.push(pe+zi+"="+encodeURIComponent(Ci))}}catch(zi){throw Zn.push(pe+"type="+encodeURIComponent("_badmap")),zi}}catch{k&&k(pi)}}if(mn){Be=Zn.join("&");break e}}Be=void 0}return u=u.i.splice(0,A),y.G=u,Be}function Ge(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ft||F(),at||(ft(),at=!0),Y.add(y,u),u.A=0}}function ut(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Nn(w(u.Da,u),mi(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Vt(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Nn(w(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),ie(this),Vt(this))};function Qe(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Vt(u){u.g=new Ni(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=dn(u.na);on(y,"RID","rpc"),on(y,"SID",u.M),on(y,"AID",u.K),on(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&on(y,"TO",u.ia),on(y,"TYPE","xmlhttp"),qe(u,y),u.u&&u.o&&Vi(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=mr(dn(y)),A.u=null,A.R=!0,Di(A,u)}i.Va=function(){this.C!=null&&(this.C=null,ie(this),ut(this),qt(19))};function Qt(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function kr(u,y){var A=null;if(u.g==y){Qt(u),Qe(u),u.g=null;var k=2}else if(si(u.h,y))A=y.G,sa(u.h,y),k=1;else return;if(u.I!=0){if(y.o)if(k==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var se=u.D;k=Ht(),Lt(k,new In(k,A)),ve(u)}else Ge(u);else if(se=y.m,se==3||se==0&&y.X>0||!(k==1&&Te(u,y)||k==2&&ut(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),se){case 1:gr(u,5);break;case 4:gr(u,10);break;case 3:gr(u,6);break;default:gr(u,2)}}}function mi(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function gr(u,y){if(u.j.info("Error code "+y),y==2){var A=w(u.bb,u),k=u.Ua;const se=!k;k=new Wt(k||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Fn(k,"https"),mr(k),se?Gr(k.toString(),A):Aa(k.toString(),A)}else qt(2);u.I=0,u.l&&u.l.pa(y),Ds(u),we(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Ds(u){if(u.I=0,u.ja=[],u.l){const y=Va(u.h);(y.length!=0||u.i.length!=0)&&(z(u.ja,y),z(u.ja,u.i),u.h.i.length=0,te(u.i),u.i.length=0),u.l.oa()}}function $o(u,y,A){var k=A instanceof Wt?dn(A):new Wt(A);if(k.g!="")y&&(k.g=y+"."+k.g),li(k,k.u);else{var se=p.location;k=se.protocol,y=y?y+"."+se.hostname:se.hostname,se=+se.port;const pe=new Wt(null);k&&Fn(pe,k),y&&(pe.g=y),se&&li(pe,se),A&&(pe.h=A),k=pe}return A=u.G,y=u.wa,A&&y&&on(k,A,y),on(k,"VER",u.ka),qe(u,k),k}function Jo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new It(new Yr({ab:A})):new It(u.ma),y.Fa(u.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Os(){}i=Os.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function La(){}La.prototype.g=function(u,y){return new Qr(u,y)};function Qr(u,y){it.call(this),this.g=new Ui(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!N(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Sa(this)}O(Qr,it),Qr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qr.prototype.close=function(){K(this.g)},Qr.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=g(u),u=A);y.i.push(new zn(y.Ya++,u)),y.I==3&&ve(y)},Qr.prototype.N=function(){this.g.l=null,delete this.j,K(this.g),delete this.g,Qr.Z.N.call(this)};function So(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}O(So,Ye);function Zo(){st.call(this),this.status=1}O(Zo,st);function Sa(u){this.g=u}O(Sa,Os),Sa.prototype.ra=function(){Lt(this.g,"a")},Sa.prototype.qa=function(u){Lt(this.g,new So(u))},Sa.prototype.pa=function(u){Lt(this.g,new Zo)},Sa.prototype.oa=function(){Lt(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,Qr.prototype.send=Qr.prototype.o,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,Qb=function(){return new La},Wb=function(){return Ht()},Xb=De,Gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wn.NO_ERROR=0,Wn.TIMEOUT=8,Wn.HTTP_ERROR=6,kf=Wn,aa.COMPLETE="complete",Yb=aa,me.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",it.prototype.listen=it.prototype.J,Bu=me,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,Gb=It}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});const W0="@firebase/firestore",Q0="4.9.3";class _i{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");let Jl="12.7.0";const Go=new fp("@firebase/firestore");function Rl(){return Go.logLevel}function rt(i,...e){if(Go.logLevel<=nn.DEBUG){const r=e.map(wp);Go.debug(`Firestore (${Jl}): ${i}`,...r)}}function xs(i,...e){if(Go.logLevel<=nn.ERROR){const r=e.map(wp);Go.error(`Firestore (${Jl}): ${i}`,...r)}}function Hl(i,...e){if(Go.logLevel<=nn.WARN){const r=e.map(wp);Go.warn(`Firestore (${Jl}): ${i}`,...r)}}function wp(i){if(typeof i=="string")return i;try{return(function(r){return JSON.stringify(r)})(i)}catch{return i}}function Et(i,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,Kb(i,a,r)}function Kb(i,e,r){let a=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw xs(a),new Error(a)}function Rn(i,e,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,i||Kb(e,l,a)}function Mt(i,e){return i}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Ns{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class go{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}class $b{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(_i.UNAUTHENTICATED)))}shutdown(){}}class qC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class GC{constructor(e){this.t=e,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Rn(this.o===void 0,42304);let a=this.i;const l=E=>this.i!==a?(a=this.i,r(E)):Promise.resolve();let c=new go;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new go,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const E=c;e.enqueueRetryable((async()=>{await E.promise,await l(this.currentUser)}))},b=E=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((E=>b(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?b(E):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new go)}}),0),p()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Rn(typeof a.accessToken=="string",31837,{l:a}),new $b(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rn(e===null||typeof e=="string",2055,{h:e}),new _i(e)}}class YC{constructor(e,r,a){this.P=e,this.T=r,this.I=a,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XC{constructor(e,r,a){this.P=e,this.T=r,this.I=a}getToken(){return Promise.resolve(new YC(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(_i.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WC{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_a(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Rn(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Rn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new K0(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=QC(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<r&&(a+=e.charAt(l[c]%62))}return a}}function rn(i,e){return i<e?-1:i>e?1:0}function Ym(i,e){const r=Math.min(i.length,e.length);for(let a=0;a<r;a++){const l=i.charAt(a),c=e.charAt(a);if(l!==c)return Cm(l)===Cm(c)?rn(l,c):Cm(l)?1:-1}return rn(i.length,e.length)}const KC=55296,$C=57343;function Cm(i){const e=i.charCodeAt(0);return e>=KC&&e<=$C}function ql(i,e,r){return i.length===e.length&&i.every(((a,l)=>r(a,e[l])))}const $0="__name__";class qa{constructor(e,r,a){r===void 0?r=0:r>e.length&&Et(637,{offset:r,range:e.length}),a===void 0?a=e.length-r:a>e.length-r&&Et(1746,{length:a,range:e.length-r}),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return qa.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof qa?e.forEach((a=>{r.push(a)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let l=0;l<a;l++){const c=qa.compareSegments(e.get(l),r.get(l));if(c!==0)return c}return rn(e.length,r.length)}static compareSegments(e,r){const a=qa.isNumericId(e),l=qa.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?qa.extractNumericId(e).compare(qa.extractNumericId(r)):Ym(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}}class jn extends qa{construct(e,r,a){return new jn(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new et(Ie.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter((l=>l.length>0)))}return new jn(r)}static emptyPath(){return new jn([])}}const JC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends qa{construct(e,r,a){return new ni(e,r,a)}static isValidIdentifier(e){return JC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$0}static keyField(){return new ni([$0])}static fromServerFormat(e){const r=[];let a="",l=0;const c=()=>{if(a.length===0)throw new et(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new et(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[l+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new et(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=E,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(c(),l++)}if(c(),p)throw new et(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ni(r)}static emptyPath(){return new ni([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(jn.fromString(e))}static fromName(e){return new yt(jn.fromString(e).popFirst(5))}static empty(){return new yt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return jn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new jn(e.slice()))}}function Jb(i,e,r){if(!r)throw new et(Ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ZC(i,e,r,a){if(e===!0&&a===!0)throw new et(Ie.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function J0(i){if(!yt.isDocumentKey(i))throw new et(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Z0(i){if(yt.isDocumentKey(i))throw new et(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Zb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function fh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Et(12329,{type:typeof i})}function Wf(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new et(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=fh(i);throw new et(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function eR(i,e){if(e<=0)throw new et(Ie.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Tr(i,e){const r={typeString:i};return e&&(r.value=e),r}function mc(i,e){if(!Zb(i))throw new et(Ie.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){r=`JSON missing required field: '${a}'`;break}const p=i[a];if(l&&typeof p!==l){r=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${a}' field to equal '${c.value}'`;break}}if(r)throw new et(Ie.INVALID_ARGUMENT,r);return!0}const e_=-62135596800,t_=1e6;class Yn{static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor((e-1e3*r)*t_);return new Yn(r,a)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new et(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new et(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<e_)throw new et(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t_}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mc(e,Yn._jsonSchema))return new Yn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yn._jsonSchemaVersion="firestore/timestamp/1.0",Yn._jsonSchema={type:Tr("string",Yn._jsonSchemaVersion),seconds:Tr("number"),nanoseconds:Tr("number")};class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Yn(0,0))}static max(){return new Ct(new Yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ju=-1;function tR(i,e){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=Ct.fromTimestamp(a===1e9?new Yn(r+1,0):new Yn(r,a));return new vo(l,yt.empty(),e)}function nR(i){return new vo(i.readTime,i.key,Ju)}class vo{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new vo(Ct.min(),yt.empty(),Ju)}static max(){return new vo(Ct.max(),yt.empty(),Ju)}}function rR(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=yt.comparator(i.documentKey,e.documentKey),r!==0?r:rn(i.largestBatchId,e.largestBatchId))}const iR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Zl(i){if(i.code!==Ie.FAILED_PRECONDITION||i.message!==iR)throw i;rt("LocalStore","Unexpectedly lost primary lease")}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Me(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(a,l)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Me?r:Me.resolve(r)}catch(r){return Me.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Me.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Me.reject(r)}static resolve(e){return new Me(((r,a)=>{r(e)}))}static reject(e){return new Me(((r,a)=>{a(e)}))}static waitFor(e){return new Me(((r,a)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&r()}),(E=>a(E)))})),p=!0,c===l&&r()}))}static or(e){let r=Me.resolve(!1);for(const a of e)r=r.next((l=>l?Me.resolve(l):a()));return r}static forEach(e,r){const a=[];return e.forEach(((l,c)=>{a.push(r.call(this,l,c))})),this.waitFor(a)}static mapArray(e,r){return new Me(((a,l)=>{const c=e.length,p=new Array(c);let b=0;for(let E=0;E<c;E++){const w=E;r(e[w]).next((x=>{p[w]=x,++b,b===c&&a(p)}),(x=>l(x)))}}))}static doWhile(e,r){return new Me(((a,l)=>{const c=()=>{e()===!0?r().next((()=>{c()}),l):a()};c()}))}}function sR(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function eu(i){return i.name==="IndexedDbTransactionError"}class hh{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>r.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hh.ce=-1;const Ap=-1;function dh(i){return i==null}function Qf(i){return i===0&&1/i==-1/0}function oR(i){return typeof i=="number"&&Number.isInteger(i)&&!Qf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const e1="";function lR(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=n_(e)),e=uR(i.get(r),e);return n_(e)}function uR(i,e){let r=e;const a=i.length;for(let l=0;l<a;l++){const c=i.charAt(l);switch(c){case"\0":r+="";break;case e1:r+="";break;default:r+=c}}return r}function n_(i){return i+e1+""}function r_(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Xo(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function t1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class er{constructor(e,r){this.comparator=e,this.root=r||ti.EMPTY}insert(e,r){return new er(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ti.BLACK,null,null))}remove(e){return new er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ti.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,a)=>(e(r,a),!1)))}toString(){const e=[];return this.inorderTraversal(((r,a)=>(e.push(`${r}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,r,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?a(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ti{constructor(e,r,a,l,c){this.key=e,this.value=r,this.color=a??ti.RED,this.left=l??ti.EMPTY,this.right=c??ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,l,c){return new ti(e??this.key,r??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,a),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return ti.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}ti.EMPTY=null,ti.RED=!0,ti.BLACK=!1;ti.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,r,a,l,c){return this}insert(e,r,a){return new ti(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mr{constructor(e){this.comparator=e,this.data=new er(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,a)=>(e(r),!1)))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new i_(this.data.getIterator())}getIteratorFrom(e){return new i_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((a=>{r=r.add(a)})),r}isEqual(e){if(!(e instanceof Mr)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Mr(this.comparator);return r.data=e,r}}class i_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Na{constructor(e){this.fields=e,e.sort(ni.comparator)}static empty(){return new Na([])}unionWith(e){let r=new Mr(ni.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new Na(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,((r,a)=>r.isEqual(a)))}}class n1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new n1("Invalid base64 string: "+c):c}})(e);return new ri(r)}static fromUint8Array(e){const r=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new ri(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const cR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(i){if(Rn(!!i,39018),typeof i=="string"){let e=0;const r=cR.exec(i);if(Rn(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:hr(i.seconds),nanos:hr(i.nanos)}}function hr(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bo(i){return typeof i=="string"?ri.fromBase64String(i):ri.fromUint8Array(i)}const r1="server_timestamp",i1="__type__",a1="__previous_value__",s1="__local_write_time__";function Sp(i){return(i?.mapValue?.fields||{})[i1]?.stringValue===r1}function mh(i){const e=i.mapValue.fields[a1];return Sp(e)?mh(e):e}function Zu(i){const e=_o(i.mapValue.fields[s1].timestampValue);return new Yn(e.seconds,e.nanos)}class fR{constructor(e,r,a,l,c,p,b,E,w,x){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=E,this.useFetchStreams=w,this.isUsingEmulator=x}}const Kf="(default)";class ec{constructor(e,r){this.projectId=e,this.database=r||Kf}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}const o1="__type__",hR="__max__",Af={mapValue:{}},l1="__vector__",$f="value";function Eo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Sp(i)?4:mR(i)?9007199254740991:dR(i)?10:11:Et(28295,{value:i})}function $a(i,e){if(i===e)return!0;const r=Eo(i);if(r!==Eo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Zu(i).isEqual(Zu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=_o(l.timestampValue),b=_o(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return bo(l.bytesValue).isEqual(bo(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return hr(l.geoPointValue.latitude)===hr(c.geoPointValue.latitude)&&hr(l.geoPointValue.longitude)===hr(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return hr(l.integerValue)===hr(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=hr(l.doubleValue),b=hr(c.doubleValue);return p===b?Qf(p)===Qf(b):isNaN(p)&&isNaN(b)}return!1})(i,e);case 9:return ql(i.arrayValue.values||[],e.arrayValue.values||[],$a);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(r_(p)!==r_(b))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(b[E]===void 0||!$a(p[E],b[E])))return!1;return!0})(i,e);default:return Et(52216,{left:i})}}function tc(i,e){return(i.values||[]).find((r=>$a(r,e)))!==void 0}function Gl(i,e){if(i===e)return 0;const r=Eo(i),a=Eo(e);if(r!==a)return rn(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return rn(i.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=hr(c.integerValue||c.doubleValue),E=hr(p.integerValue||p.doubleValue);return b<E?-1:b>E?1:b===E?0:isNaN(b)?isNaN(E)?0:-1:1})(i,e);case 3:return a_(i.timestampValue,e.timestampValue);case 4:return a_(Zu(i),Zu(e));case 5:return Ym(i.stringValue,e.stringValue);case 6:return(function(c,p){const b=bo(c),E=bo(p);return b.compareTo(E)})(i.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),E=p.split("/");for(let w=0;w<b.length&&w<E.length;w++){const x=rn(b[w],E[w]);if(x!==0)return x}return rn(b.length,E.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=rn(hr(c.latitude),hr(p.latitude));return b!==0?b:rn(hr(c.longitude),hr(p.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return s_(i.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},E=p.fields||{},w=b[$f]?.arrayValue,x=E[$f]?.arrayValue,O=rn(w?.values?.length||0,x?.values?.length||0);return O!==0?O:s_(w,x)})(i.mapValue,e.mapValue);case 11:return(function(c,p){if(c===Af.mapValue&&p===Af.mapValue)return 0;if(c===Af.mapValue)return 1;if(p===Af.mapValue)return-1;const b=c.fields||{},E=Object.keys(b),w=p.fields||{},x=Object.keys(w);E.sort(),x.sort();for(let O=0;O<E.length&&O<x.length;++O){const q=Ym(E[O],x[O]);if(q!==0)return q;const te=Gl(b[E[O]],w[x[O]]);if(te!==0)return te}return rn(E.length,x.length)})(i.mapValue,e.mapValue);default:throw Et(23264,{he:r})}}function a_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return rn(i,e);const r=_o(i),a=_o(e),l=rn(r.seconds,a.seconds);return l!==0?l:rn(r.nanos,a.nanos)}function s_(i,e){const r=i.values||[],a=e.values||[];for(let l=0;l<r.length&&l<a.length;++l){const c=Gl(r[l],a[l]);if(c)return c}return rn(r.length,a.length)}function Yl(i){return Xm(i)}function Xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const a=_o(r);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return bo(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return yt.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let a="[",l=!0;for(const c of r.values||[])l?l=!1:a+=",",a+=Xm(c);return a+"]"})(i.arrayValue):"mapValue"in i?(function(r){const a=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of a)c?c=!1:l+=",",l+=`${p}:${Xm(r.fields[p])}`;return l+"}"})(i.mapValue):Et(61005,{value:i})}function Vf(i){switch(Eo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(i);return e?16+Vf(e):16;case 5:return 2*i.stringValue.length;case 6:return bo(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vf(c)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return Xo(a.fields,((c,p)=>{l+=c.length+Vf(p)})),l})(i.mapValue);default:throw Et(13486,{value:i})}}function o_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Wm(i){return!!i&&"integerValue"in i}function Cp(i){return!!i&&"arrayValue"in i}function l_(i){return!!i&&"nullValue"in i}function u_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Pf(i){return!!i&&"mapValue"in i}function dR(i){return(i?.mapValue?.fields||{})[o1]?.stringValue===l1}function Gu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Xo(i.mapValue.fields,((r,a)=>e.mapValue.fields[r]=Gu(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Gu(i.arrayValue.values[r]);return e}return{...i}}function mR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===hR}class ba{constructor(e){this.value=e}static empty(){return new ba({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Pf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(r)}setAll(e){let r=ni.emptyPath(),a={},l=[];e.forEach(((p,b)=>{if(!r.isImmediateParentOf(b)){const E=this.getFieldsMap(r);this.applyChanges(E,a,l),a={},l=[],r=b.popLast()}p?a[b.lastSegment()]=Gu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(r);this.applyChanges(c,a,l)}delete(e){const r=this.field(e.popLast());Pf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return $a(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=r.mapValue.fields[e.get(a)];Pf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,a){Xo(r,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new ba(Gu(this.value))}}function u1(i){const e=[];return Xo(i.fields,((r,a)=>{const l=new ni([r]);if(Pf(a)){const c=u1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new Na(e)}class bi{constructor(e,r,a,l,c,p,b){this.key=e,this.documentType=r,this.version=a,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new bi(e,0,Ct.min(),Ct.min(),Ct.min(),ba.empty(),0)}static newFoundDocument(e,r,a,l){return new bi(e,1,r,Ct.min(),a,l,0)}static newNoDocument(e,r){return new bi(e,2,r,Ct.min(),Ct.min(),ba.empty(),0)}static newUnknownDocument(e,r){return new bi(e,3,r,Ct.min(),Ct.min(),ba.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ba.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ba.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jf{constructor(e,r){this.position=e,this.inclusive=r}}function c_(i,e,r){let a=0;for(let l=0;l<i.position.length;l++){const c=e[l],p=i.position[l];if(c.field.isKeyField()?a=yt.comparator(yt.fromName(p.referenceValue),r.key):a=Gl(p,r.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function f_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!$a(i.position[r],e.position[r]))return!1;return!0}class nc{constructor(e,r="asc"){this.field=e,this.dir=r}}function pR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class c1{}class wr extends c1{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,a):new yR(e,r,a):r==="array-contains"?new bR(e,a):r==="in"?new ER(e,a):r==="not-in"?new wR(e,a):r==="array-contains-any"?new TR(e,a):new wr(e,r,a)}static createKeyFieldInFilter(e,r,a){return r==="in"?new vR(e,a):new _R(e,a)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Gl(r,this.value)):r!==null&&Eo(this.value)===Eo(r)&&this.matchesComparison(Gl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Da extends c1{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Da(e,r)}matches(e){return f1(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f1(i){return i.op==="and"}function h1(i){return gR(i)&&f1(i)}function gR(i){for(const e of i.filters)if(e instanceof Da)return!1;return!0}function Qm(i){if(i instanceof wr)return i.field.canonicalString()+i.op.toString()+Yl(i.value);if(h1(i))return i.filters.map((e=>Qm(e))).join(",");{const e=i.filters.map((r=>Qm(r))).join(",");return`${i.op}(${e})`}}function d1(i,e){return i instanceof wr?(function(a,l){return l instanceof wr&&a.op===l.op&&a.field.isEqual(l.field)&&$a(a.value,l.value)})(i,e):i instanceof Da?(function(a,l){return l instanceof Da&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,p,b)=>c&&d1(p,l.filters[b])),!0):!1})(i,e):void Et(19439)}function m1(i){return i instanceof wr?(function(r){return`${r.field.canonicalString()} ${r.op} ${Yl(r.value)}`})(i):i instanceof Da?(function(r){return r.op.toString()+" {"+r.getFilters().map(m1).join(" ,")+"}"})(i):"Filter"}class yR extends wr{constructor(e,r,a){super(e,r,a),this.key=yt.fromName(a.referenceValue)}matches(e){const r=yt.comparator(e.key,this.key);return this.matchesComparison(r)}}class vR extends wr{constructor(e,r){super(e,"in",r),this.keys=p1("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class _R extends wr{constructor(e,r){super(e,"not-in",r),this.keys=p1("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function p1(i,e){return(e.arrayValue?.values||[]).map((r=>yt.fromName(r.referenceValue)))}class bR extends wr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Cp(r)&&tc(r.arrayValue,this.value)}}class ER extends wr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&tc(this.value.arrayValue,r)}}class wR extends wr{constructor(e,r){super(e,"not-in",r)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!tc(this.value.arrayValue,r)}}class TR extends wr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Cp(r)||!r.arrayValue.values)&&r.arrayValue.values.some((a=>tc(this.value.arrayValue,a)))}}class AR{constructor(e,r=null,a=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function h_(i,e=null,r=[],a=[],l=null,c=null,p=null){return new AR(i,e,r,a,l,c,p)}function Rp(i){const e=Mt(i);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((a=>Qm(a))).join(","),r+="|ob:",r+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Yl(a))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Yl(a))).join(",")),e.Te=r}return e.Te}function Ip(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!pR(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!d1(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!f_(i.startAt,e.startAt)&&f_(i.endAt,e.endAt)}function Km(i){return yt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class tu{constructor(e,r=null,a=[],l=[],c=null,p="F",b=null,E=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=E,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SR(i,e,r,a,l,c,p,b){return new tu(i,e,r,a,l,c,p,b)}function g1(i){return new tu(i)}function d_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function y1(i){return i.collectionGroup!==null}function Yu(i){const e=Mt(i);if(e.Ie===null){e.Ie=[];const r=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),r.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Mr(ni.comparator);return p.filters.forEach((E=>{E.getFlattenedFilters().forEach((w=>{w.isInequality()&&(b=b.add(w.field))}))})),b})(e).forEach((c=>{r.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nc(c,a))})),r.has(ni.keyField().canonicalString())||e.Ie.push(new nc(ni.keyField(),a))}return e.Ie}function Xa(i){const e=Mt(i);return e.Ee||(e.Ee=CR(e,Yu(i))),e.Ee}function CR(i,e){if(i.limitType==="F")return h_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nc(l.field,c)}));const r=i.endAt?new Jf(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Jf(i.startAt.position,i.startAt.inclusive):null;return h_(i.path,i.collectionGroup,e,i.filters,i.limit,r,a)}}function $m(i,e){const r=i.filters.concat([e]);return new tu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Zf(i,e,r){return new tu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function ph(i,e){return Ip(Xa(i),Xa(e))&&i.limitType===e.limitType}function v1(i){return`${Rp(Xa(i))}|lt:${i.limitType}`}function Il(i){return`Query(target=${(function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map((l=>m1(l))).join(", ")}]`),dh(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map((l=>Yl(l))).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map((l=>Yl(l))).join(",")),`Target(${a})`})(Xa(i))}; limitType=${i.limitType})`}function gh(i,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):yt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(i,e)&&(function(a,l){for(const c of Yu(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(a,l){return!(a.startAt&&!(function(p,b,E){const w=c_(p,b,E);return p.inclusive?w<=0:w<0})(a.startAt,Yu(a),l)||a.endAt&&!(function(p,b,E){const w=c_(p,b,E);return p.inclusive?w>=0:w>0})(a.endAt,Yu(a),l))})(i,e)}function RR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function _1(i){return(e,r)=>{let a=!1;for(const l of Yu(i)){const c=IR(l,e,r);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function IR(i,e,r){const a=i.field.isKeyField()?yt.comparator(e.key,r.key):(function(c,p,b){const E=p.data.field(c),w=b.data.field(c);return E!==null&&w!==null?Gl(E,w):Et(42886)})(i.field,e,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:i.dir})}}class Wo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,((r,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return t1(this.inner)}size(){return this.innerSize}}const xR=new er(yt.comparator);function Ms(){return xR}const b1=new er(yt.comparator);function ju(...i){let e=b1;for(const r of i)e=e.insert(r.key,r);return e}function E1(i){let e=b1;return i.forEach(((r,a)=>e=e.insert(r,a.overlayedDocument))),e}function jo(){return Xu()}function w1(){return Xu()}function Xu(){return new Wo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const MR=new er(yt.comparator),NR=new Mr(yt.comparator);function an(...i){let e=NR;for(const r of i)e=e.add(r);return e}const DR=new Mr(rn);function OR(){return DR}function xp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function T1(i){return{integerValue:""+i}}function kR(i,e){return oR(e)?T1(e):xp(i,e)}class yh{constructor(){this._=void 0}}function VR(i,e,r){return i instanceof eh?(function(l,c){const p={fields:{[i1]:{stringValue:r1},[s1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sp(c)&&(c=mh(c)),c&&(p.fields[a1]=c),{mapValue:p}})(r,e):i instanceof rc?S1(i,e):i instanceof ic?C1(i,e):(function(l,c){const p=A1(l,c),b=m_(p)+m_(l.Ae);return Wm(p)&&Wm(l.Ae)?T1(b):xp(l.serializer,b)})(i,e)}function PR(i,e,r){return i instanceof rc?S1(i,e):i instanceof ic?C1(i,e):r}function A1(i,e){return i instanceof th?(function(a){return Wm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class eh extends yh{}class rc extends yh{constructor(e){super(),this.elements=e}}function S1(i,e){const r=R1(e);for(const a of i.elements)r.some((l=>$a(l,a)))||r.push(a);return{arrayValue:{values:r}}}class ic extends yh{constructor(e){super(),this.elements=e}}function C1(i,e){let r=R1(e);for(const a of i.elements)r=r.filter((l=>!$a(l,a)));return{arrayValue:{values:r}}}class th extends yh{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function m_(i){return hr(i.integerValue||i.doubleValue)}function R1(i){return Cp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function LR(i,e){return i.field.isEqual(e.field)&&(function(a,l){return a instanceof rc&&l instanceof rc||a instanceof ic&&l instanceof ic?ql(a.elements,l.elements,$a):a instanceof th&&l instanceof th?$a(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(i.transform,e.transform)}class UR{constructor(e,r){this.version=e,this.transformResults=r}}class As{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class vh{}function I1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new M1(i.key,As.none()):new pc(i.key,i.data,As.none());{const r=i.data,a=ba.empty();let l=new Mr(ni.comparator);for(let c of e.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?a.delete(c):a.set(c,p),l=l.add(c)}return new Qo(i.key,a,new Na(l.toArray()),As.none())}}function zR(i,e,r){i instanceof pc?(function(l,c,p){const b=l.value.clone(),E=g_(l.fieldTransforms,c,p.transformResults);b.setAll(E),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(i,e,r):i instanceof Qo?(function(l,c,p){if(!Lf(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=g_(l.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(x1(l)),E.setAll(b),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()})(i,e,r):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,r)}function Wu(i,e,r,a){return i instanceof pc?(function(c,p,b,E){if(!Lf(c.precondition,p))return b;const w=c.value.clone(),x=y_(c.fieldTransforms,E,p);return w.setAll(x),p.convertToFoundDocument(p.version,w).setHasLocalMutations(),null})(i,e,r,a):i instanceof Qo?(function(c,p,b,E){if(!Lf(c.precondition,p))return b;const w=y_(c.fieldTransforms,E,p),x=p.data;return x.setAll(x1(c)),x.setAll(w),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((O=>O.field)))})(i,e,r,a):(function(c,p,b){return Lf(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(i,e,r)}function BR(i,e){let r=null;for(const a of i.fieldTransforms){const l=e.data.field(a.field),c=A1(a.transform,l||null);c!=null&&(r===null&&(r=ba.empty()),r.set(a.field,c))}return r||null}function p_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ql(a,l,((c,p)=>LR(c,p)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class pc extends vh{constructor(e,r,a,l=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qo extends vh{constructor(e,r,a,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function x1(i){const e=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const a=i.data.field(r);e.set(r,a)}})),e}function g_(i,e,r){const a=new Map;Rn(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let l=0;l<r.length;l++){const c=i[l],p=c.transform,b=e.data.field(c.field);a.set(c.field,PR(p,b,r[l]))}return a}function y_(i,e,r){const a=new Map;for(const l of i){const c=l.transform,p=r.data.field(l.field);a.set(l.field,VR(c,p,e))}return a}class M1 extends vh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jR extends vh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FR{constructor(e,r,a,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&zR(c,e,a[l])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=Wu(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=Wu(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=w1();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=r.has(l.key)?null:b;const E=I1(p,b);E!==null&&a.set(l.key,E),p.isValidDocument()||p.convertToNoDocument(Ct.min())})),a}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),an())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,((r,a)=>p_(r,a)))&&ql(this.baseMutations,e.baseMutations,((r,a)=>p_(r,a)))}}class Mp{constructor(e,r,a,l){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(e,r,a){Rn(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return MR})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,a[p].version);return new Mp(e,r,a,l)}}class HR{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qR{constructor(e,r){this.count=e,this.unchangedNames=r}}var Er,cn;function GR(i){switch(i){case Ie.OK:return Et(64938);case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0;default:return Et(15467,{code:i})}}function N1(i){if(i===void 0)return xs("GRPC error has no .code"),Ie.UNKNOWN;switch(i){case Er.OK:return Ie.OK;case Er.CANCELLED:return Ie.CANCELLED;case Er.UNKNOWN:return Ie.UNKNOWN;case Er.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Er.INTERNAL:return Ie.INTERNAL;case Er.UNAVAILABLE:return Ie.UNAVAILABLE;case Er.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Er.NOT_FOUND:return Ie.NOT_FOUND;case Er.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Er.ABORTED:return Ie.ABORTED;case Er.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Er.DATA_LOSS:return Ie.DATA_LOSS;default:return Et(39323,{code:i})}}(cn=Er||(Er={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";function YR(){return new TextEncoder}const XR=new po([4294967295,4294967295],0);function v_(i){const e=YR().encode(i),r=new qb;return r.update(e),new Uint8Array(r.digest())}function __(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new po([r,a],0),new po([l,c],0)]}class Np{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Fu(`Invalid padding: ${r}`);if(a<0)throw new Fu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${a}`);if(e.length===0&&r!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=po.fromNumber(this.ge)}ye(e,r,a){let l=e.add(r.multiply(po.fromNumber(a)));return l.compare(XR)===1&&(l=new po([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=v_(e),[a,l]=__(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);if(!this.we(p))return!1}return!0}static create(e,r,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Np(c,l,r);return a.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const r=v_(e),[a,l]=__(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);this.Se(p)}}Se(e){const r=Math.floor(e/8),a=e%8;this.bitmap[r]|=1<<a}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(e,r,a,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const l=new Map;return l.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new _h(Ct.min(),l,new er(rn),Ms(),an())}}class gc{constructor(e,r,a,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new gc(a,r,an(),an(),an())}}class Uf{constructor(e,r,a,l){this.be=e,this.removedTargetIds=r,this.key=a,this.De=l}}class D1{constructor(e,r){this.targetId=e,this.Ce=r}}class O1{constructor(e,r,a=ri.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=l}}class b_{constructor(){this.ve=0,this.Fe=E_(),this.Me=ri.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=an(),r=an(),a=an();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}})),new gc(this.Me,this.xe,e,r,a)}qe(){this.Oe=!1,this.Fe=E_()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.Je=Sf(),this.He=Sf(),this.Ye=new er(rn)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const a=this.nt(r);switch(e.state){case 0:this.rt(r)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),a.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((a,l)=>{this.rt(l)&&r(l)}))}st(e){const r=e.targetId,a=e.Ce.count,l=this.ot(r);if(l){const c=l.target;if(Km(c))if(a===0){const p=new yt(c.path);this.et(r,p,bi.newNoDocument(p,Ct.min()))}else Rn(a===1,20013,{expectedCount:a});else{const p=this._t(r);if(p!==a){const b=this.ut(e),E=b?this.ct(b,e,p):1;if(E!==0){this.it(r);const w=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,w)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=r;let p,b;try{p=bo(a).toUint8Array()}catch(E){if(E instanceof n1)return Hl("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{b=new Np(p,l,c)}catch(E){return Hl(E instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return b.ge===0?null:b}ct(e,r,a){return r.Ce.count===a-this.Pt(e,r.targetId)?0:2}Pt(e,r){const a=this.Ge.getRemoteKeysForTarget(r);let l=0;return a.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(r,c,null),l++)})),l}Tt(e){const r=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Km(b.target)){const E=new yt(b.target.path);this.It(E).has(p)||this.Et(p,E)||this.et(p,E,bi.newNoDocument(E,e))}c.Be&&(r.set(p,c.ke()),c.qe())}}));let a=an();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((E=>{const w=this.ot(E);return!w||w.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new _h(e,r,this.Ye,this.je,a);return this.je=Ms(),this.Je=Sf(),this.He=Sf(),this.Ye=new er(rn),l}Xe(e,r){if(!this.rt(e))return;const a=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,a),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),a&&(this.je=this.je.insert(r,a))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new b_,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Mr(rn),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Mr(rn),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||rt("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b_),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Sf(){return new er(yt.comparator)}function E_(){return new er(yt.comparator)}const QR={asc:"ASCENDING",desc:"DESCENDING"},KR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$R={and:"AND",or:"OR"};class JR{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Jm(i,e){return i.useProto3Json||dh(e)?e:{value:e}}function nh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ZR(i,e){return nh(i,e.toTimestamp())}function Wa(i){return Rn(!!i,49232),Ct.fromTimestamp((function(r){const a=_o(r);return new Yn(a.seconds,a.nanos)})(i))}function Dp(i,e){return Zm(i,e).canonicalString()}function Zm(i,e){const r=(function(l){return new jn(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?r:r.child(e)}function V1(i){const e=jn.fromString(i);return Rn(B1(e),10190,{key:e.toString()}),e}function ep(i,e){return Dp(i.databaseId,e.path)}function Rm(i,e){const r=V1(e);if(r.get(1)!==i.databaseId.projectId)throw new et(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new et(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new yt(L1(r))}function P1(i,e){return Dp(i.databaseId,e)}function eI(i){const e=V1(i);return e.length===4?jn.emptyPath():L1(e)}function tp(i){return new jn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function L1(i){return Rn(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function w_(i,e,r){return{name:ep(i,e),fields:r.value.mapValue.fields}}function tI(i,e){let r;if("targetChange"in e){e.targetChange;const a=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Et(39313,{state:w})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(w,x){return w.useProto3Json?(Rn(x===void 0||typeof x=="string",58123),ri.fromBase64String(x||"")):(Rn(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),ri.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(w){const x=w.code===void 0?Ie.UNKNOWN:N1(w.code);return new et(x,w.message||"")})(p);r=new O1(a,l,c,b||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Rm(i,a.document.name),c=Wa(a.document.updateTime),p=a.document.createTime?Wa(a.document.createTime):Ct.min(),b=new ba({mapValue:{fields:a.document.fields}}),E=bi.newFoundDocument(l,c,p,b),w=a.targetIds||[],x=a.removedTargetIds||[];r=new Uf(w,x,E.key,E)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Rm(i,a.document),c=a.readTime?Wa(a.readTime):Ct.min(),p=bi.newNoDocument(l,c),b=a.removedTargetIds||[];r=new Uf([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Rm(i,a.document),c=a.removedTargetIds||[];r=new Uf([],c,l,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,p=new qR(l,c),b=a.targetId;r=new D1(b,p)}}return r}function nI(i,e){let r;if(e instanceof pc)r={update:w_(i,e.key,e.value)};else if(e instanceof M1)r={delete:ep(i,e.key)};else if(e instanceof Qo)r={update:w_(i,e.key,e.data),updateMask:fI(e.fieldMask)};else{if(!(e instanceof jR))return Et(16599,{Vt:e.type});r={verify:ep(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((a=>(function(c,p){const b=p.transform;if(b instanceof eh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof rc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof ic)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof th)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw Et(20930,{transform:p.transform})})(0,a)))),e.precondition.isNone||(r.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:ZR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(i,e.precondition)),r}function rI(i,e){return i&&i.length>0?(Rn(e!==void 0,14353),i.map((r=>(function(l,c){let p=l.updateTime?Wa(l.updateTime):Wa(c);return p.isEqual(Ct.min())&&(p=Wa(c)),new UR(p,l.transformResults||[])})(r,e)))):[]}function iI(i,e){return{documents:[P1(i,e.path)]}}function aI(i,e){const r={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=P1(i,l);const c=(function(w){if(w.length!==0)return z1(Da.create(w,"and"))})(e.filters);c&&(r.structuredQuery.where=c);const p=(function(w){if(w.length!==0)return w.map((x=>(function(q){return{field:xl(q.field),direction:lI(q.dir)}})(x)))})(e.orderBy);p&&(r.structuredQuery.orderBy=p);const b=Jm(i,e.limit);return b!==null&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{ft:r,parent:l}}function sI(i){let e=eI(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Rn(a===1,65062);const x=r.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];r.where&&(c=(function(O){const q=U1(O);return q instanceof Da&&h1(q)?q.getFilters():[q]})(r.where));let p=[];r.orderBy&&(p=(function(O){return O.map((q=>(function(z){return new nc(Ml(z.field),(function(be){switch(be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(q)))})(r.orderBy));let b=null;r.limit&&(b=(function(O){let q;return q=typeof O=="object"?O.value:O,dh(q)?null:q})(r.limit));let E=null;r.startAt&&(E=(function(O){const q=!!O.before,te=O.values||[];return new Jf(te,q)})(r.startAt));let w=null;return r.endAt&&(w=(function(O){const q=!O.before,te=O.values||[];return new Jf(te,q)})(r.endAt)),SR(e,l,p,c,b,"F",E,w)}function oI(i,e){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function U1(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Ml(r.unaryFilter.field);return wr.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ml(r.unaryFilter.field);return wr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ml(r.unaryFilter.field);return wr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ml(r.unaryFilter.field);return wr.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(i):i.fieldFilter!==void 0?(function(r){return wr.create(Ml(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return Da.create(r.compositeFilter.filters.map((a=>U1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(r.compositeFilter.op))})(i):Et(30097,{filter:i})}function lI(i){return QR[i]}function uI(i){return KR[i]}function cI(i){return $R[i]}function xl(i){return{fieldPath:i.canonicalString()}}function Ml(i){return ni.fromServerFormat(i.fieldPath)}function z1(i){return i instanceof wr?(function(r){if(r.op==="=="){if(u_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NAN"}};if(l_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(u_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NOT_NAN"}};if(l_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(r.field),op:uI(r.op),value:r.value}}})(i):i instanceof Da?(function(r){const a=r.getFilters().map((l=>z1(l)));return a.length===1?a[0]:{compositeFilter:{op:cI(r.op),filters:a}}})(i):Et(54877,{filter:i})}function fI(i){const e=[];return i.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function B1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class co{constructor(e,r,a,l,c=Ct.min(),p=Ct.min(),b=ri.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=E}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hI{constructor(e){this.yt=e}}function dI(i){const e=sI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Zf(e,e.limit,"L"):e}class mI{constructor(){this.Cn=new pI}addToCollectionParentIndex(e,r){return this.Cn.add(r),Me.resolve()}getCollectionParents(e,r){return Me.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Me.resolve()}deleteFieldIndex(e,r){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,r){return Me.resolve()}getDocumentsMatchingTarget(e,r){return Me.resolve(null)}getIndexType(e,r){return Me.resolve(0)}getFieldIndexes(e,r){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,r){return Me.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,r){return Me.resolve(vo.min())}updateCollectionGroup(e,r,a){return Me.resolve()}updateIndexEntries(e,r){return Me.resolve()}}class pI{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r]||new Mr(jn.comparator),c=!l.has(a);return this.index[r]=l.add(a),c}has(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Mr(jn.comparator)).toArray()}}const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j1=41943040;class Xi{static withCacheSize(e){return new Xi(e,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(j1,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);class Xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xl(0)}static cr(){return new Xl(-1)}}const A_="LruGarbageCollector",gI=1048576;function S_([i,e],[r,a]){const l=rn(i,r);return l===0?rn(e,a):l}class yI{constructor(e){this.Ir=e,this.buffer=new Mr(S_),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();S_(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class vI{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(A_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){eu(r)?rt(A_,"Ignoring IndexedDB error during garbage collection: ",r):await Zl(r)}await this.Vr(3e5)}))}}class _I{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((a=>Math.floor(r/100*a)))}nthSequenceNumber(e,r){if(r===0)return Me.resolve(hh.ce);const a=new yI(r);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,r,a){return this.mr.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(T_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let a,l,c,p,b,E,w;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,p=Date.now(),this.nthSequenceNumber(e,l)))).next((O=>(a=O,b=Date.now(),this.removeTargets(e,a,r)))).next((O=>(c=O,E=Date.now(),this.removeOrphanedDocuments(e,a)))).next((O=>(w=Date.now(),Rl()<=nn.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-x}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(E-b)+`ms
	Removed ${O} documents in `+(w-E)+`ms
Total Duration: ${w-x}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O}))))}}function bI(i,e){return new _I(i,e)}class EI{constructor(){this.changes=new Wo((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,bi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?Me.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wI{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class TI{constructor(e,r,a,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,r)))).next((l=>(a!==null&&Wu(a.mutation,l,Na.empty(),Yn.now()),l)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.getLocalViewOfDocuments(e,a,an()).next((()=>a))))}getLocalViewOfDocuments(e,r,a=an()){const l=jo();return this.populateOverlays(e,l,r).next((()=>this.computeViews(e,r,l,a).next((c=>{let p=ju();return c.forEach(((b,E)=>{p=p.insert(b,E.overlayedDocument)})),p}))))}getOverlayedDocuments(e,r){const a=jo();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,an())))}populateOverlays(e,r,a){const l=[];return a.forEach((c=>{r.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{r.set(p,b)}))}))}computeViews(e,r,a,l){let c=Ms();const p=Xu(),b=(function(){return Xu()})();return r.forEach(((E,w)=>{const x=a.get(w.key);l.has(w.key)&&(x===void 0||x.mutation instanceof Qo)?c=c.insert(w.key,w):x!==void 0?(p.set(w.key,x.mutation.getFieldMask()),Wu(x.mutation,w,x.mutation.getFieldMask(),Yn.now())):p.set(w.key,Na.empty())})),this.recalculateAndSaveOverlays(e,c).next((E=>(E.forEach(((w,x)=>p.set(w,x))),r.forEach(((w,x)=>b.set(w,new wI(x,p.get(w)??null)))),b)))}recalculateAndSaveOverlays(e,r){const a=Xu();let l=new er(((p,b)=>p-b)),c=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((p=>{for(const b of p)b.keys().forEach((E=>{const w=r.get(E);if(w===null)return;let x=a.get(E)||Na.empty();x=b.applyToLocalView(w,x),a.set(E,x);const O=(l.get(b.batchId)||an()).add(E);l=l.insert(b.batchId,O)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const E=b.getNext(),w=E.key,x=E.value,O=w1();x.forEach((q=>{if(!c.has(q)){const te=I1(r.get(q),a.get(q));te!==null&&O.set(q,te),c=c.add(q)}})),p.push(this.documentOverlayCache.saveOverlays(e,w,O))}return Me.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,r,a,l){return(function(p){return yt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):y1(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,l):this.getDocumentsMatchingCollectionQuery(e,r,a,l)}getNextDocuments(e,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,l-c.size):Me.resolve(jo());let b=Ju,E=c;return p.next((w=>Me.forEach(w,((x,O)=>(b<O.largestBatchId&&(b=O.largestBatchId),c.get(x)?Me.resolve():this.remoteDocumentCache.getEntry(e,x).next((q=>{E=E.insert(x,q)}))))).next((()=>this.populateOverlays(e,w,c))).next((()=>this.computeViews(e,E,w,an()))).next((x=>({batchId:b,changes:E1(x)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new yt(r)).next((a=>{let l=ju();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,r,a,l){const c=r.collectionGroup;let p=ju();return this.indexManager.getCollectionParents(e,c).next((b=>Me.forEach(b,(E=>{const w=(function(O,q){return new tu(q,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(r,E.child(c));return this.getDocumentsMatchingCollectionQuery(e,w,a,l).next((x=>{x.forEach(((O,q)=>{p=p.insert(O,q)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,r,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,c,l)))).next((p=>{c.forEach(((E,w)=>{const x=w.getKey();p.get(x)===null&&(p=p.insert(x,bi.newInvalidDocument(x)))}));let b=ju();return p.forEach(((E,w)=>{const x=c.get(E);x!==void 0&&Wu(x.mutation,w,Na.empty(),Yn.now()),gh(r,w)&&(b=b.insert(E,w))})),b}))}}class AI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Me.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:Wa(l.createTime)}})(r)),Me.resolve()}getNamedQuery(e,r){return Me.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:dI(l.bundledQuery),readTime:Wa(l.readTime)}})(r)),Me.resolve()}}class SI{constructor(){this.overlays=new er(yt.comparator),this.qr=new Map}getOverlay(e,r){return Me.resolve(this.overlays.get(r))}getOverlays(e,r){const a=jo();return Me.forEach(r,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,r,a){return a.forEach(((l,c)=>{this.St(e,r,c)})),Me.resolve()}removeOverlaysForBatchId(e,r,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Me.resolve()}getOverlaysForCollection(e,r,a){const l=jo(),c=r.length+1,p=new yt(r.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const E=b.getNext().value,w=E.getKey();if(!r.isPrefixOf(w.path))break;w.path.length===c&&E.largestBatchId>a&&l.set(E.getKey(),E)}return Me.resolve(l)}getOverlaysForCollectionGroup(e,r,a,l){let c=new er(((w,x)=>w-x));const p=this.overlays.getIterator();for(;p.hasNext();){const w=p.getNext().value;if(w.getKey().getCollectionGroup()===r&&w.largestBatchId>a){let x=c.get(w.largestBatchId);x===null&&(x=jo(),c=c.insert(w.largestBatchId,x)),x.set(w.getKey(),w)}}const b=jo(),E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((w,x)=>b.set(w,x))),!(b.size()>=l)););return Me.resolve(b)}St(e,r,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new HR(r,a));let c=this.qr.get(r);c===void 0&&(c=an(),this.qr.set(r,c)),this.qr.set(r,c.add(a.key))}}class CI{constructor(){this.sessionToken=ri.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Me.resolve()}}class Op{constructor(){this.Qr=new Mr(Pr.$r),this.Ur=new Mr(Pr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const a=new Pr(e,r);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,r){e.forEach((a=>this.addReference(a,r)))}removeReference(e,r){this.Gr(new Pr(e,r))}zr(e,r){e.forEach((a=>this.removeReference(a,r)))}jr(e){const r=new yt(new jn([])),a=new Pr(r,e),l=new Pr(r,e+1),c=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new yt(new jn([])),a=new Pr(r,e),l=new Pr(r,e+1);let c=an();return this.Ur.forEachInRange([a,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const r=new Pr(e,0),a=this.Qr.firstAfterOrEqual(r);return a!==null&&e.isEqual(a.key)}}class Pr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return yt.comparator(e.key,r.key)||rn(e.Yr,r.Yr)}static Kr(e,r){return rn(e.Yr,r.Yr)||yt.comparator(e.key,r.key)}}class RI{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Mr(Pr.$r)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new FR(c,r,a,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Pr(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Me.resolve(p)}lookupMutationBatch(e,r){return Me.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const a=r+1,l=this.ei(a),c=l<0?0:l;return Me.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?Ap:this.tr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Pr(r,0),l=new Pr(r,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Me.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Mr(rn);return r.forEach((l=>{const c=new Pr(l,0),p=new Pr(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{a=a.add(b.Yr)}))})),Me.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,l=a.length+1;let c=a;yt.isDocumentKey(c)||(c=c.child(""));const p=new Pr(new yt(c),0);let b=new Mr(rn);return this.Zr.forEachWhile((E=>{const w=E.key.path;return!!a.isPrefixOf(w)&&(w.length===l&&(b=b.add(E.Yr)),!0)}),p),Me.resolve(this.ti(b))}ti(e){const r=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&r.push(l)})),r}removeMutationBatch(e,r){Rn(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Me.forEach(r.mutations,(l=>{const c=new Pr(l.key,r.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,r){const a=new Pr(r,0),l=this.Zr.firstAfterOrEqual(a);return Me.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class II{constructor(e){this.ri=e,this.docs=(function(){return new er(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,l=this.docs.get(a),c=l?l.size:0,p=this.ri(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return Me.resolve(a?a.document.mutableCopy():bi.newInvalidDocument(r))}getEntries(e,r){let a=Ms();return r.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():bi.newInvalidDocument(l))})),Me.resolve(a)}getDocumentsMatchingQuery(e,r,a,l){let c=Ms();const p=r.path,b=new yt(p.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(b);for(;E.hasNext();){const{key:w,value:{document:x}}=E.getNext();if(!p.isPrefixOf(w.path))break;w.path.length>p.length+1||rR(nR(x),a)<=0||(l.has(x.key)||gh(r,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Me.resolve(c)}getAllFromCollectionGroup(e,r,a,l){Et(9500)}ii(e,r){return Me.forEach(this.docs,(a=>r(a)))}newChangeBuffer(e){return new xI(this)}getSize(e){return Me.resolve(this.size)}}class xI extends EI{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Me.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}class MI{constructor(e){this.persistence=e,this.si=new Wo((r=>Rp(r)),Ip),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=Xl.ur()}forEachTarget(e,r){return this.si.forEach(((a,l)=>r(l))),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.oi&&(this.oi=r),Me.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Xl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Me.resolve()}updateTargetData(e,r){return this.Pr(r),Me.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,r,a){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=r&&a.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Me.waitFor(c).next((()=>l))}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,r){const a=this.si.get(r)||null;return Me.resolve(a)}addMatchingKeys(e,r,a){return this._i.Wr(r,a),Me.resolve()}removeMatchingKeys(e,r,a){this._i.zr(r,a);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Me.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Me.resolve()}getMatchingKeysForTargetId(e,r){const a=this._i.Hr(r);return Me.resolve(a)}containsKey(e,r){return Me.resolve(this._i.containsKey(r))}}class F1{constructor(e,r){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new CI,this.referenceDelegate=e(this),this.Pi=new MI(this),this.indexManager=new mI,this.remoteDocumentCache=(function(l){return new II(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new hI(r),this.Ii=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new SI,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.ui[e.toKey()];return a||(a=new RI(r,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,a){rt("MemoryPersistence","Starting transaction:",e);const l=new NI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,r){return Me.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,r))))}}class NI extends aR{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new kp(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,r,a){return this.Ri.addReference(a,r),this.fi.delete(a.toString()),Me.resolve()}removeReference(e,r,a){return this.Ri.removeReference(a,r),this.fi.add(a.toString()),Me.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Me.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.fi,(a=>{const l=yt.fromPath(a);return this.gi(e,l).next((c=>{c||r.removeEntry(l,Ct.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((a=>{a?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return Me.or([()=>Me.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class rh{constructor(e,r){this.persistence=e,this.pi=new Wo((a=>lR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=bI(this,r)}static mi(e,r){return new rh(e,r)}Ei(){}di(e){return Me.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>r.next((l=>a+l))))}wr(e){let r=0;return this.pr(e,(a=>{r++})).next((()=>r))}pr(e,r){return Me.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?Me.resolve():r(l)))))}removeTargets(e,r,a){return this.persistence.getTargetCache().removeTargets(e,r,a)}removeOrphanedDocuments(e,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,r).next((b=>{b||(a++,c.removeEntry(p,Ct.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Me.resolve()}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),Me.resolve()}removeReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),Me.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Me.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Vf(e.data.value)),r}br(e,r,a){return Me.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const l=this.pi.get(r);return Me.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vp{constructor(e,r,a,l){this.targetId=e,this.fromCache=r,this.Es=a,this.ds=l}static As(e,r){let a=an(),l=an();for(const c of r.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vp(e,r.fromCache,a,l)}}class DI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class OI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return EA()?8:sR(Ei())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,a,l){const c={result:null};return this.ys(e,r).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,r,l,a).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new DI;return this.Ss(e,r,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,r,p,b.size)}))})).next((()=>c.result))}bs(e,r,a,l){return a.documentReadCount<this.fs?(Rl()<=nn.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Il(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Me.resolve()):(Rl()<=nn.DEBUG&&rt("QueryEngine","Query:",Il(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Rl()<=nn.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Il(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xa(r))):Me.resolve())}ys(e,r){if(d_(r))return Me.resolve(null);let a=Xa(r);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=Zf(r,null,"F"),a=Xa(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const p=an(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,a).next((E=>{const w=this.Ds(r,b);return this.Cs(r,w,p,E.readTime)?this.ys(e,Zf(r,null,"F")):this.vs(e,w,r,E)}))))})))))}ws(e,r,a,l){return d_(r)||l.isEqual(Ct.min())?Me.resolve(null):this.ps.getDocuments(e,a).next((c=>{const p=this.Ds(r,c);return this.Cs(r,p,a,l)?Me.resolve(null):(Rl()<=nn.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Il(r)),this.vs(e,p,r,tR(l,Ju)).next((b=>b)))}))}Ds(e,r){let a=new Mr(_1(e));return r.forEach(((l,c)=>{gh(e,c)&&(a=a.add(c))})),a}Cs(e,r,a,l){if(e.limit===null)return!1;if(a.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,r,a){return Rl()<=nn.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Il(r)),this.ps.getDocumentsMatchingQuery(e,r,vo.min(),a)}vs(e,r,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(r.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Pp="LocalStore",kI=3e8;class VI{constructor(e,r,a,l){this.persistence=e,this.Fs=r,this.serializer=l,this.Ms=new er(rn),this.xs=new Wo((c=>Rp(c)),Ip),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function PI(i,e,r,a){return new VI(i,e,r,a)}async function H1(i,e){const r=Mt(i);return await r.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,r.Bs(e),r.mutationQueue.getAllMutationBatches(a)))).next((c=>{const p=[],b=[];let E=an();for(const w of l){p.push(w.batchId);for(const x of w.mutations)E=E.add(x.key)}for(const w of c){b.push(w.batchId);for(const x of w.mutations)E=E.add(x.key)}return r.localDocuments.getDocuments(a,E).next((w=>({Ls:w,removedBatchIds:p,addedBatchIds:b})))}))}))}function LI(i,e){const r=Mt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,E,w,x){const O=w.batch,q=O.keys();let te=Me.resolve();return q.forEach((z=>{te=te.next((()=>x.getEntry(E,z))).next((Oe=>{const be=w.docVersions.get(z);Rn(be!==null,48541),Oe.version.compareTo(be)<0&&(O.applyToRemoteDocument(Oe,w),Oe.isValidDocument()&&(Oe.setReadTime(w.commitVersion),x.addEntry(Oe)))}))})),te.next((()=>b.mutationQueue.removeMutationBatch(E,O)))})(r,a,e,c).next((()=>c.apply(a))).next((()=>r.mutationQueue.performConsistencyCheck(a))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let E=an();for(let w=0;w<b.mutationResults.length;++w)b.mutationResults[w].transformResults.length>0&&(E=E.add(b.batch.mutations[w].key));return E})(e)))).next((()=>r.localDocuments.getDocuments(a,l)))}))}function q1(i){const e=Mt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function UI(i,e){const r=Mt(i),a=e.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const b=[];e.targetChanges.forEach(((x,O)=>{const q=l.get(O);if(!q)return;b.push(r.Pi.removeMatchingKeys(c,x.removedDocuments,O).next((()=>r.Pi.addMatchingKeys(c,x.addedDocuments,O))));let te=q.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(O)!==null?te=te.withResumeToken(ri.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):x.resumeToken.approximateByteSize()>0&&(te=te.withResumeToken(x.resumeToken,a)),l=l.insert(O,te),(function(Oe,be,Le){return Oe.resumeToken.approximateByteSize()===0||be.snapshotVersion.toMicroseconds()-Oe.snapshotVersion.toMicroseconds()>=kI?!0:Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0})(q,te,x)&&b.push(r.Pi.updateTargetData(c,te))}));let E=Ms(),w=an();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(c,x))})),b.push(zI(c,p,e.documentUpdates).next((x=>{E=x.ks,w=x.qs}))),!a.isEqual(Ct.min())){const x=r.Pi.getLastRemoteSnapshotVersion(c).next((O=>r.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));b.push(x)}return Me.waitFor(b).next((()=>p.apply(c))).next((()=>r.localDocuments.getLocalViewOfDocuments(c,E,w))).next((()=>E))})).then((c=>(r.Ms=l,c)))}function zI(i,e,r){let a=an(),l=an();return r.forEach((c=>a=a.add(c))),e.getEntries(i,a).next((c=>{let p=Ms();return r.forEach(((b,E)=>{const w=c.get(b);E.isFoundDocument()!==w.isFoundDocument()&&(l=l.add(b)),E.isNoDocument()&&E.version.isEqual(Ct.min())?(e.removeEntry(b,E.readTime),p=p.insert(b,E)):!w.isValidDocument()||E.version.compareTo(w.version)>0||E.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(E),p=p.insert(b,E)):rt(Pp,"Ignoring outdated watch update for ",b,". Current version:",w.version," Watch version:",E.version)})),{ks:p,qs:l}}))}function BI(i,e){const r=Mt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ap),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function jI(i,e){const r=Mt(i);return r.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return r.Pi.getTargetData(a,e).next((c=>c?(l=c,Me.resolve(l)):r.Pi.allocateTargetId(a).next((p=>(l=new co(e,p,"TargetPurposeListen",a.currentSequenceNumber),r.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=r.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(a.targetId,a),r.xs.set(e,a.targetId)),a}))}async function np(i,e,r){const a=Mt(i),l=a.Ms.get(e),c=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",c,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!eu(p))throw p;rt(Pp,`Failed to update sequence numbers for target ${e}: ${p}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function C_(i,e,r){const a=Mt(i);let l=Ct.min(),c=an();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(E,w,x){const O=Mt(E),q=O.xs.get(x);return q!==void 0?Me.resolve(O.Ms.get(q)):O.Pi.getTargetData(w,x)})(a,p,Xa(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,b.targetId).next((E=>{c=E}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,e,r?l:Ct.min(),r?c:an()))).next((b=>(FI(a,RR(e),b),{documents:b,Qs:c})))))}function FI(i,e,r){let a=i.Os.get(e)||Ct.min();r.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),i.Os.set(e,a)}class R_{constructor(){this.activeTargetIds=OR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HI{constructor(){this.Mo=new R_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,a){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R_,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qI{Oo(e){}shutdown(){}}const I_="ConnectivityMonitor";class x_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(I_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(I_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cf=null;function rp(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}const Im="RestConnection",GI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Kf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,r,a,l,c){const p=rp(),b=this.zo(e,r.toUriEncodedString());rt(Im,`Sending RPC '${e}' ${p}:`,b,a);const E={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(E,l,c);const{host:w}=new URL(b),x=Ql(w);return this.Jo(e,b,E,a,x).then((O=>(rt(Im,`Received RPC '${e}' ${p}: `,O),O)),(O=>{throw Hl(Im,`RPC '${e}' ${p} failed with error: `,O,"url: ",b,"request:",a),O}))}Ho(e,r,a,l,c,p){return this.Go(e,r,a,l,c)}jo(e,r,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,r){const a=GI[e];return`${this.Uo}/v1/${r}:${a}`}terminate(){}}class XI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vi="WebChannelConnection";class WI extends YI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,a,l,c){const p=rp();return new Promise(((b,E)=>{const w=new Gb;w.setWithCredentials(!0),w.listenOnce(Yb.COMPLETE,(()=>{try{switch(w.getLastErrorCode()){case kf.NO_ERROR:const O=w.getResponseJson();rt(vi,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(O)),b(O);break;case kf.TIMEOUT:rt(vi,`RPC '${e}' ${p} timed out`),E(new et(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const q=w.getStatus();if(rt(vi,`RPC '${e}' ${p} failed with status:`,q,"response text:",w.getResponseText()),q>0){let te=w.getResponseJson();Array.isArray(te)&&(te=te[0]);const z=te?.error;if(z&&z.status&&z.message){const Oe=(function(Le){const j=Le.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(j)>=0?j:Ie.UNKNOWN})(z.status);E(new et(Oe,z.message))}else E(new et(Ie.UNKNOWN,"Server responded with status "+w.getStatus()))}else E(new et(Ie.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:p,h_:w.getLastErrorCode(),P_:w.getLastError()})}}finally{rt(vi,`RPC '${e}' ${p} completed.`)}}));const x=JSON.stringify(l);rt(vi,`RPC '${e}' ${p} sending request:`,l),w.send(r,"POST",x,a,15)}))}T_(e,r,a){const l=rp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Qb(),b=Wb(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(E.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(E.useFetchStreams=!0),this.jo(E.initMessageHeaders,r,a),E.encodeInitMessageHeaders=!0;const x=c.join("");rt(vi,`Creating RPC '${e}' stream ${l}: ${x}`,E);const O=p.createWebChannel(x,E);this.I_(O);let q=!1,te=!1;const z=new XI({Yo:be=>{te?rt(vi,`Not sending because RPC '${e}' stream ${l} is closed:`,be):(q||(rt(vi,`Opening RPC '${e}' stream ${l} transport.`),O.open(),q=!0),rt(vi,`RPC '${e}' stream ${l} sending:`,be),O.send(be))},Zo:()=>O.close()}),Oe=(be,Le,j)=>{be.listen(Le,(Pe=>{try{j(Pe)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return Oe(O,Bu.EventType.OPEN,(()=>{te||(rt(vi,`RPC '${e}' stream ${l} transport opened.`),z.o_())})),Oe(O,Bu.EventType.CLOSE,(()=>{te||(te=!0,rt(vi,`RPC '${e}' stream ${l} transport closed`),z.a_(),this.E_(O))})),Oe(O,Bu.EventType.ERROR,(be=>{te||(te=!0,Hl(vi,`RPC '${e}' stream ${l} transport errored. Name:`,be.name,"Message:",be.message),z.a_(new et(Ie.UNAVAILABLE,"The operation could not be completed")))})),Oe(O,Bu.EventType.MESSAGE,(be=>{if(!te){const Le=be.data[0];Rn(!!Le,16349);const j=Le,Pe=j?.error||j[0]?.error;if(Pe){rt(vi,`RPC '${e}' stream ${l} received error:`,Pe);const tt=Pe.status;let ft=(function(F){const P=Er[F];if(P!==void 0)return N1(P)})(tt),at=Pe.message;ft===void 0&&(ft=Ie.INTERNAL,at="Unknown error status: "+tt+" with message "+Pe.message),te=!0,z.a_(new et(ft,at)),O.close()}else rt(vi,`RPC '${e}' stream ${l} received:`,Le),z.u_(Le)}})),Oe(b,Xb.STAT_EVENT,(be=>{be.stat===Gm.PROXY?rt(vi,`RPC '${e}' stream ${l} detected buffering proxy`):be.stat===Gm.NOPROXY&&rt(vi,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function xm(){return typeof document<"u"?document:null}function bh(i){return new JR(i,!0)}class G1{constructor(e,r,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=r,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const M_="PersistentStream";class Y1{constructor(e,r,a,l,c,p,b,E){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G1(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ie.RESOURCE_EXHAUSTED?(xs(r.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===r&&this.G_(a,l)}),(a=>{e((()=>{const l=new et(Ie.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,r){const a=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(M_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(rt(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QI extends Y1{constructor(e,r,a,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=tI(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ct.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Ct.min():p.readTime?Wa(p.readTime):Ct.min()})(e);return this.listener.H_(r,a)}Y_(e){const r={};r.database=tp(this.serializer),r.addTarget=(function(c,p){let b;const E=p.target;if(b=Km(E)?{documents:iI(c,E)}:{query:aI(c,E).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=k1(c,p.resumeToken);const w=Jm(c,p.expectedCount);w!==null&&(b.expectedCount=w)}else if(p.snapshotVersion.compareTo(Ct.min())>0){b.readTime=nh(c,p.snapshotVersion.toTimestamp());const w=Jm(c,p.expectedCount);w!==null&&(b.expectedCount=w)}return b})(this.serializer,e);const a=oI(this.serializer,e);a&&(r.labels=a),this.q_(r)}Z_(e){const r={};r.database=tp(this.serializer),r.removeTarget=e,this.q_(r)}}class KI extends Y1{constructor(e,r,a,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Rn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Rn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=rI(e.writeResults,e.commitTime),a=Wa(e.commitTime);return this.listener.na(a,r)}ra(){const e={};e.database=tp(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((a=>nI(this.serializer,a)))};this.q_(r)}}class $I{}class JI extends $I{constructor(e,r,a,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new et(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,Zm(r,a),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new et(Ie.UNKNOWN,c.toString())}))}Ho(e,r,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,Zm(r,a),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new et(Ie.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZI{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(r),this.aa=!1):rt("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yo="RemoteStore";class ex{constructor(e,r,a,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{Ko(this)&&(rt(Yo,"Restarting streams for network reachability change."),await(async function(E){const w=Mt(E);w.Ea.add(4),await yc(w),w.Ra.set("Unknown"),w.Ea.delete(4),await Eh(w)})(this))}))})),this.Ra=new ZI(a,l)}}async function Eh(i){if(Ko(i))for(const e of i.da)await e(!0)}async function yc(i){for(const e of i.da)await e(!1)}function X1(i,e){const r=Mt(i);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Bp(r)?zp(r):nu(r).O_()&&Up(r,e))}function Lp(i,e){const r=Mt(i),a=nu(r);r.Ia.delete(e),a.O_()&&W1(r,e),r.Ia.size===0&&(a.O_()?a.L_():Ko(r)&&r.Ra.set("Unknown"))}function Up(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}nu(i).Y_(e)}function W1(i,e){i.Va.Ue(e),nu(i).Z_(e)}function zp(i){i.Va=new WR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),nu(i).start(),i.Ra.ua()}function Bp(i){return Ko(i)&&!nu(i).x_()&&i.Ia.size>0}function Ko(i){return Mt(i).Ea.size===0}function Q1(i){i.Va=void 0}async function tx(i){i.Ra.set("Online")}async function nx(i){i.Ia.forEach(((e,r)=>{Up(i,e)}))}async function rx(i,e){Q1(i),Bp(i)?(i.Ra.ha(e),zp(i)):i.Ra.set("Unknown")}async function ix(i,e,r){if(i.Ra.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(i,e)}catch(a){rt(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ih(i,a)}else if(e instanceof Uf?i.Va.Ze(e):e instanceof D1?i.Va.st(e):i.Va.tt(e),!r.isEqual(Ct.min()))try{const a=await q1(i.localStore);r.compareTo(a)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((E,w)=>{if(E.resumeToken.approximateByteSize()>0){const x=c.Ia.get(w);x&&c.Ia.set(w,x.withResumeToken(E.resumeToken,p))}})),b.targetMismatches.forEach(((E,w)=>{const x=c.Ia.get(E);if(!x)return;c.Ia.set(E,x.withResumeToken(ri.EMPTY_BYTE_STRING,x.snapshotVersion)),W1(c,E);const O=new co(x.target,E,w,x.sequenceNumber);Up(c,O)})),c.remoteSyncer.applyRemoteEvent(b)})(i,r)}catch(a){rt(Yo,"Failed to raise snapshot:",a),await ih(i,a)}}async function ih(i,e,r){if(!eu(e))throw e;i.Ea.add(1),await yc(i),i.Ra.set("Offline"),r||(r=()=>q1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{rt(Yo,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await Eh(i)}))}function K1(i,e){return e().catch((r=>ih(i,r,e)))}async function wh(i){const e=Mt(i),r=wo(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ap;for(;ax(e);)try{const l=await BI(e.localStore,a);if(l===null){e.Ta.length===0&&r.L_();break}a=l.batchId,sx(e,l)}catch(l){await ih(e,l)}$1(e)&&J1(e)}function ax(i){return Ko(i)&&i.Ta.length<10}function sx(i,e){i.Ta.push(e);const r=wo(i);r.O_()&&r.X_&&r.ea(e.mutations)}function $1(i){return Ko(i)&&!wo(i).x_()&&i.Ta.length>0}function J1(i){wo(i).start()}async function ox(i){wo(i).ra()}async function lx(i){const e=wo(i);for(const r of i.Ta)e.ea(r.mutations)}async function ux(i,e,r){const a=i.Ta.shift(),l=Mp.from(a,e,r);await K1(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await wh(i)}async function cx(i,e){e&&wo(i).X_&&await(async function(a,l){if((function(p){return GR(p)&&p!==Ie.ABORTED})(l.code)){const c=a.Ta.shift();wo(a).B_(),await K1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(i,e),$1(i)&&J1(i)}async function N_(i,e){const r=Mt(i);r.asyncQueue.verifyOperationInProgress(),rt(Yo,"RemoteStore received new credentials");const a=Ko(r);r.Ea.add(3),await yc(r),a&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Eh(r)}async function fx(i,e){const r=Mt(i);e?(r.Ea.delete(2),await Eh(r)):e||(r.Ea.add(2),await yc(r),r.Ra.set("Unknown"))}function nu(i){return i.ma||(i.ma=(function(r,a,l){const c=Mt(r);return c.sa(),new QI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:tx.bind(null,i),t_:nx.bind(null,i),r_:rx.bind(null,i),H_:ix.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Bp(i)?zp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Q1(i))}))),i.ma}function wo(i){return i.fa||(i.fa=(function(r,a,l){const c=Mt(r);return c.sa(),new KI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:ox.bind(null,i),r_:cx.bind(null,i),ta:lx.bind(null,i),na:ux.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await wh(i)):(await i.fa.stop(),i.Ta.length>0&&(rt(Yo,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class jp{constructor(e,r,a,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,l,c){const p=Date.now()+a,b=new jp(e,r,p,l,c);return b.start(a),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(i,e){if(xs("AsyncQueue",`${e}: ${i}`),eu(i))return new et(Ie.UNAVAILABLE,`${e}: ${i}`);throw i}class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(r,a)=>e(r,a)||yt.comparator(r.key,a.key):(r,a)=>yt.comparator(r.key,a.key),this.keyedMap=ju(),this.sortedSet=new er(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,a)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const a=new zl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class D_{constructor(){this.ga=new er(yt.comparator)}track(e){const r=e.doc.key,a=this.ga.get(r);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(r,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(r,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(r):e.type===1&&a.type===2?this.ga=this.ga.insert(r,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,a)=>{e.push(a)})),e}}class Wl{constructor(e,r,a,l,c,p,b,E,w){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=E,this.hasCachedResults=w}static fromInitialDocuments(e,r,a,l,c){const p=[];return r.forEach((b=>{p.push({type:0,doc:b})})),new Wl(e,r,zl.emptySet(r),p,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class hx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class dx{constructor(){this.queries=O_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,a){const l=Mt(r),c=l.queries;l.queries=O_(),c.forEach(((p,b)=>{for(const E of b.Sa)E.onError(a)}))})(this,new et(Ie.ABORTED,"Firestore shutting down"))}}function O_(){return new Wo((i=>v1(i)),ph)}async function mx(i,e){const r=Mt(i);let a=3;const l=e.query;let c=r.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new hx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await r.onListen(l,!0);break;case 1:c.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const b=Fp(p,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(b)}r.queries.set(l,c),c.Sa.push(e),e.va(r.onlineState),c.wa&&e.Fa(c.wa)&&Hp(r)}async function px(i,e){const r=Mt(i),a=e.query;let l=3;const c=r.queries.get(a);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function gx(i,e){const r=Mt(i);let a=!1;for(const l of e){const c=l.query,p=r.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(a=!0);p.wa=l}}a&&Hp(r)}function yx(i,e,r){const a=Mt(i),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(r);a.queries.delete(e)}function Hp(i){i.Ca.forEach((e=>{e.next()}))}var ip,k_;(k_=ip||(ip={})).Ma="default",k_.Cache="cache";class vx{constructor(e,r,a){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Wl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const a=r!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ip.Cache}}class Z1{constructor(e){this.key=e}}class eE{constructor(e){this.key=e}}class _x{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=an(),this.mutatedKeys=an(),this.eu=_1(e),this.tu=new zl(this.eu)}get nu(){return this.Ya}ru(e,r){const a=r?r.iu:new D_,l=r?r.tu:this.tu;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,b=!1;const E=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,w=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,O)=>{const q=l.get(x),te=gh(this.query,O)?O:null,z=!!q&&this.mutatedKeys.has(q.key),Oe=!!te&&(te.hasLocalMutations||this.mutatedKeys.has(te.key)&&te.hasCommittedMutations);let be=!1;q&&te?q.data.isEqual(te.data)?z!==Oe&&(a.track({type:3,doc:te}),be=!0):this.su(q,te)||(a.track({type:2,doc:te}),be=!0,(E&&this.eu(te,E)>0||w&&this.eu(te,w)<0)&&(b=!0)):!q&&te?(a.track({type:0,doc:te}),be=!0):q&&!te&&(a.track({type:1,doc:q}),be=!0,(E||w)&&(b=!0)),be&&(te?(p=p.add(te),c=Oe?c.add(x):c.delete(x)):(p=p.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const x=this.query.limitType==="F"?p.last():p.first();p=p.delete(x.key),c=c.delete(x.key),a.track({type:1,doc:x})}return{tu:p,iu:a,Cs:b,mutatedKeys:c}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((x,O)=>(function(te,z){const Oe=be=>{switch(be){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:be})}};return Oe(te)-Oe(z)})(x.type,O.type)||this.eu(x.doc,O.doc))),this.ou(a),l=l??!1;const b=r&&!l?this._u():[],E=this.Xa.size===0&&this.current&&!l?1:0,w=E!==this.Za;return this.Za=E,p.length!==0||w?{snapshot:new Wl(this.query,e.tu,c,p,e.mutatedKeys,E===0,w,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=an(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const r=[];return e.forEach((a=>{this.Xa.has(a)||r.push(new eE(a))})),this.Xa.forEach((a=>{e.has(a)||r.push(new Z1(a))})),r}cu(e){this.Ya=e.Qs,this.Xa=an();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qp="SyncEngine";class bx{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Ex{constructor(e){this.key=e,this.hu=!1}}class wx{constructor(e,r,a,l,c,p){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Wo((b=>v1(b)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new er(yt.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=Xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tx(i,e,r=!0){const a=sE(i);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await tE(a,e,r,!0),l}async function Ax(i,e){const r=sE(i);await tE(r,e,!0,!1)}async function tE(i,e,r,a){const l=await jI(i.localStore,Xa(e)),c=l.targetId,p=i.sharedClientState.addLocalQueryTarget(c,r);let b;return a&&(b=await Sx(i,e,c,p==="current",l.resumeToken)),i.isPrimaryClient&&r&&X1(i.remoteStore,l),b}async function Sx(i,e,r,a,l){i.pu=(O,q,te)=>(async function(Oe,be,Le,j){let Pe=be.view.ru(Le);Pe.Cs&&(Pe=await C_(Oe.localStore,be.query,!1).then((({documents:Y})=>be.view.ru(Y,Pe))));const tt=j&&j.targetChanges.get(be.targetId),ft=j&&j.targetMismatches.get(be.targetId)!=null,at=be.view.applyChanges(Pe,Oe.isPrimaryClient,tt,ft);return P_(Oe,be.targetId,at.au),at.snapshot})(i,O,q,te);const c=await C_(i.localStore,e,!0),p=new _x(e,c.Qs),b=p.ru(c.documents),E=gc.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",l),w=p.applyChanges(b,i.isPrimaryClient,E);P_(i,r,w.au);const x=new bx(e,r,p);return i.Tu.set(e,x),i.Iu.has(r)?i.Iu.get(r).push(e):i.Iu.set(r,[e]),w.snapshot}async function Cx(i,e,r){const a=Mt(i),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((p=>!ph(p,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await np(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),r&&Lp(a.remoteStore,l.targetId),ap(a,l.targetId)})).catch(Zl)):(ap(a,l.targetId),await np(a.localStore,l.targetId,!0))}async function Rx(i,e){const r=Mt(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Lp(r.remoteStore,a.targetId))}async function Ix(i,e,r){const a=Vx(i);try{const l=await(function(p,b){const E=Mt(p),w=Yn.now(),x=b.reduce(((te,z)=>te.add(z.key)),an());let O,q;return E.persistence.runTransaction("Locally write mutations","readwrite",(te=>{let z=Ms(),Oe=an();return E.Ns.getEntries(te,x).next((be=>{z=be,z.forEach(((Le,j)=>{j.isValidDocument()||(Oe=Oe.add(Le))}))})).next((()=>E.localDocuments.getOverlayedDocuments(te,z))).next((be=>{O=be;const Le=[];for(const j of b){const Pe=BR(j,O.get(j.key).overlayedDocument);Pe!=null&&Le.push(new Qo(j.key,Pe,u1(Pe.value.mapValue),As.exists(!0)))}return E.mutationQueue.addMutationBatch(te,w,Le,b)})).next((be=>{q=be;const Le=be.applyToLocalDocumentSet(O,Oe);return E.documentOverlayCache.saveOverlays(te,be.batchId,Le)}))})).then((()=>({batchId:q.batchId,changes:E1(O)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,E){let w=p.Vu[p.currentUser.toKey()];w||(w=new er(rn)),w=w.insert(b,E),p.Vu[p.currentUser.toKey()]=w})(a,l.batchId,r),await vc(a,l.changes),await wh(a.remoteStore)}catch(l){const c=Fp(l,"Failed to persist write");r.reject(c)}}async function nE(i,e){const r=Mt(i);try{const a=await UI(r.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=r.Au.get(c);p&&(Rn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Rn(p.hu,14607):l.removedDocuments.size>0&&(Rn(p.hu,42227),p.hu=!1))})),await vc(r,a,e)}catch(a){await Zl(a)}}function V_(i,e,r){const a=Mt(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const E=Mt(p);E.onlineState=b;let w=!1;E.queries.forEach(((x,O)=>{for(const q of O.Sa)q.va(b)&&(w=!0)})),w&&Hp(E)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function xx(i,e,r){const a=Mt(i);a.sharedClientState.updateQueryState(e,"rejected",r);const l=a.Au.get(e),c=l&&l.key;if(c){let p=new er(yt.comparator);p=p.insert(c,bi.newNoDocument(c,Ct.min()));const b=an().add(c),E=new _h(Ct.min(),new Map,new er(rn),p,b);await nE(a,E),a.du=a.du.remove(c),a.Au.delete(e),Gp(a)}else await np(a.localStore,e,!1).then((()=>ap(a,e,r))).catch(Zl)}async function Mx(i,e){const r=Mt(i),a=e.batch.batchId;try{const l=await LI(r.localStore,e);iE(r,a,null),rE(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await vc(r,l)}catch(l){await Zl(l)}}async function Nx(i,e,r){const a=Mt(i);try{const l=await(function(p,b){const E=Mt(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let x;return E.mutationQueue.lookupMutationBatch(w,b).next((O=>(Rn(O!==null,37113),x=O.keys(),E.mutationQueue.removeMutationBatch(w,O)))).next((()=>E.mutationQueue.performConsistencyCheck(w))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(w,x,b))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,x))).next((()=>E.localDocuments.getDocuments(w,x)))}))})(a.localStore,e);iE(a,e,r),rE(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),await vc(a,l)}catch(l){await Zl(l)}}function rE(i,e){(i.mu.get(e)||[]).forEach((r=>{r.resolve()})),i.mu.delete(e)}function iE(i,e,r){const a=Mt(i);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(r?c.reject(r):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function ap(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),r&&i.Pu.yu(a,r);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||aE(i,a)}))}function aE(i,e){i.Eu.delete(e.path.canonicalString());const r=i.du.get(e);r!==null&&(Lp(i.remoteStore,r),i.du=i.du.remove(e),i.Au.delete(r),Gp(i))}function P_(i,e,r){for(const a of r)a instanceof Z1?(i.Ru.addReference(a.key,e),Dx(i,a)):a instanceof eE?(rt(qp,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||aE(i,a.key)):Et(19791,{wu:a})}function Dx(i,e){const r=e.key,a=r.path.canonicalString();i.du.get(r)||i.Eu.has(a)||(rt(qp,"New document in limbo: "+r),i.Eu.add(a),Gp(i))}function Gp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const r=new yt(jn.fromString(e)),a=i.fu.next();i.Au.set(a,new Ex(r)),i.du=i.du.insert(r,a),X1(i.remoteStore,new co(Xa(g1(r.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function vc(i,e,r){const a=Mt(i),l=[],c=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,E)=>{p.push(a.pu(E,e,r).then((w=>{if((w||r)&&a.isPrimaryClient){const x=w?!w.fromCache:r?.targetChanges.get(E.targetId)?.current;a.sharedClientState.updateQueryState(E.targetId,x?"current":"not-current")}if(w){l.push(w);const x=Vp.As(E.targetId,w);c.push(x)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(E,w){const x=Mt(E);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>Me.forEach(w,(q=>Me.forEach(q.Es,(te=>x.persistence.referenceDelegate.addReference(O,q.targetId,te))).next((()=>Me.forEach(q.ds,(te=>x.persistence.referenceDelegate.removeReference(O,q.targetId,te)))))))))}catch(O){if(!eu(O))throw O;rt(Pp,"Failed to update sequence numbers: "+O)}for(const O of w){const q=O.targetId;if(!O.fromCache){const te=x.Ms.get(q),z=te.snapshotVersion,Oe=te.withLastLimboFreeSnapshotVersion(z);x.Ms=x.Ms.insert(q,Oe)}}})(a.localStore,c))}async function Ox(i,e){const r=Mt(i);if(!r.currentUser.isEqual(e)){rt(qp,"User change. New user:",e.toKey());const a=await H1(r.localStore,e);r.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((E=>{E.reject(new et(Ie.CANCELLED,p))}))})),c.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await vc(r,a.Ls)}}function kx(i,e){const r=Mt(i),a=r.Au.get(e);if(a&&a.hu)return an().add(a.key);{let l=an();const c=r.Iu.get(e);if(!c)return l;for(const p of c){const b=r.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function sE(i){const e=Mt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=nE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xx.bind(null,e),e.Pu.H_=gx.bind(null,e.eventManager),e.Pu.yu=yx.bind(null,e.eventManager),e}function Vx(i){const e=Mt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nx.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return PI(this.persistence,new OI,e.initialUser,this.serializer)}Cu(e){return new F1(kp.mi,this.serializer)}Du(e){return new HI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class Px extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Rn(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new vI(a,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new F1((a=>rh.mi(a,r)),this.serializer)}}class sp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>V_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ox.bind(null,this.syncEngine),await fx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dx})()}createDatastore(e){const r=bh(e.databaseInfo.databaseId),a=(function(c){return new WI(c)})(e.databaseInfo);return(function(c,p,b,E){return new JI(c,p,b,E)})(e.authCredentials,e.appCheckCredentials,a,r)}createRemoteStore(e){return(function(a,l,c,p,b){return new ex(a,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(r=>V_(this.syncEngine,r,0)),(function(){return x_.v()?new x_:new qI})())}createSyncEngine(e,r){return(function(l,c,p,b,E,w,x){const O=new wx(l,c,p,b,E,w);return x&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const a=Mt(r);rt(Yo,"RemoteStore shutting down."),a.Ea.add(5),await yc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sp.provider={build:()=>new sp};class Lx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}const To="FirestoreClient";class Ux{constructor(e,r,a,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=_i.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async p=>{rt(To,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(rt(To,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const a=Fp(r,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Mm(i,e){i.asyncQueue.verifyOperationInProgress(),rt(To,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let a=r.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await H1(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function L_(i,e){i.asyncQueue.verifyOperationInProgress();const r=await zx(i);rt(To,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener((a=>N_(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>N_(e.remoteStore,l))),i._onlineComponents=e}async function zx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){rt(To,"Using user provided OfflineComponentProvider");try{await Mm(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Ie.FAILED_PRECONDITION||l.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;Hl("Error using user provided cache. Falling back to memory cache: "+r),await Mm(i,new ah)}}else rt(To,"Using default OfflineComponentProvider"),await Mm(i,new Px(void 0));return i._offlineComponents}async function oE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(rt(To,"Using user provided OnlineComponentProvider"),await L_(i,i._uninitializedComponentsProvider._online)):(rt(To,"Using default OnlineComponentProvider"),await L_(i,new sp))),i._onlineComponents}function Bx(i){return oE(i).then((e=>e.syncEngine))}async function jx(i){const e=await oE(i),r=e.eventManager;return r.onListen=Tx.bind(null,e.syncEngine),r.onUnlisten=Cx.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ax.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Rx.bind(null,e.syncEngine),r}function Fx(i,e,r={}){const a=new go;return i.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,E,w){const x=new Lx({next:q=>{x.Nu(),p.enqueueAndForget((()=>px(c,O))),q.fromCache&&E.source==="server"?w.reject(new et(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(q)},error:q=>w.reject(q)}),O=new vx(b,x,{includeMetadataChanges:!0,qa:!0});return mx(c,O)})(await jx(i),i.asyncQueue,e,r,a))),a.promise}function lE(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const U_=new Map;const uE="firestore.googleapis.com",z_=!0;class B_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uE,this.ssl=z_}else this.host=e.host,this.ssl=e.ssl??z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gI)throw new et(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new et(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new et(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new et(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,r,a,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new HC;switch(a.type){case"firstParty":return new XC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new et(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const a=U_.get(r);a&&(rt("ComponentProvider","Removing Datastore"),U_.delete(r),a.terminate())})(this),Promise.resolve()}}function Hx(i,e,r,a={}){i=Wf(i,Th);const l=Ql(e),c=i._getSettings(),p={...c,emulatorOptions:i._getEmulatorOptions()},b=`${e}:${r}`;l&&(ab(`https://${b}`),sb("Firestore",!0)),c.host!==uE&&c.host!==b&&Hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...c,host:b,ssl:l,emulatorOptions:a};if(!Fo(E,p)&&(i._setSettings(E),a.mockUserToken)){let w,x;if(typeof a.mockUserToken=="string")w=a.mockUserToken,x=_i.MOCK_USER;else{w=hA(a.mockUserToken,i._app?.options.projectId);const O=a.mockUserToken.sub||a.mockUserToken.user_id;if(!O)throw new et(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new _i(O)}i._authCredentials=new qC(new $b(w,x))}}class Ao{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class Ur{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ur(this.firestore,e,this._key)}toJSON(){return{type:Ur._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,a){if(mc(r,Ur._jsonSchema))return new Ur(e,a||null,new yt(jn.fromString(r.referencePath)))}}Ur._jsonSchemaVersion="firestore/documentReference/1.0",Ur._jsonSchema={type:Tr("string",Ur._jsonSchemaVersion),referencePath:Tr("string")};class yo extends Ao{constructor(e,r,a){super(e,r,g1(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ur(this.firestore,null,new yt(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Nl(i,e,...r){if(i=ia(i),Jb("collection","path",e),i instanceof Th){const a=jn.fromString(e,...r);return Z0(a),new yo(i,null,a)}{if(!(i instanceof Ur||i instanceof yo))throw new et(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(jn.fromString(e,...r));return Z0(a),new yo(i.firestore,null,a)}}function qx(i,e,...r){if(i=ia(i),arguments.length===1&&(e=Tp.newId()),Jb("doc","path",e),i instanceof Th){const a=jn.fromString(e,...r);return J0(a),new Ur(i,null,new yt(a))}{if(!(i instanceof Ur||i instanceof yo))throw new et(Ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(jn.fromString(e,...r));return J0(a),new Ur(i.firestore,i instanceof yo?i.converter:null,new yt(a))}}const j_="AsyncQueue";class F_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G1(this,"async_queue_retry"),this._c=()=>{const a=xm();a&&rt(j_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const r=xm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=xm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new go;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!eu(e))throw e;rt(j_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",H_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=r,r}enqueueAfterDelay(e,r,a){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const l=jp.createAndSchedule(this,e,r,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:H_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,a)=>r.targetTimeMs-a.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function H_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Yp extends Th{constructor(e,r,a,l){super(e,r,a,l),this.type="firestore",this._queue=new F_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F_(e),this._firestoreClient=void 0,await e}}}function Gx(i,e){const r=typeof i=="object"?i:cb(),a=typeof i=="string"?i:Kf,l=dp(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=cA("firestore");c&&Hx(l,...c)}return l}function cE(i){if(i._terminated)throw new et(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Yx(i),i._firestoreClient}function Yx(i){const e=i._freezeSettings(),r=(function(l,c,p,b){return new fR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,lE(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Ux(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class Ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ea(ri.fromBase64String(e))}catch(r){throw new et(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ea(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ea._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mc(e,Ea._jsonSchema))return Ea.fromBase64String(e.bytes)}}Ea._jsonSchemaVersion="firestore/bytes/1.0",Ea._jsonSchema={type:Tr("string",Ea._jsonSchemaVersion),bytes:Tr("string")};class Xp{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new et(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fE{constructor(e){this._methodName=e}}class Qa{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new et(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new et(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qa._jsonSchemaVersion}}static fromJSON(e){if(mc(e,Qa._jsonSchema))return new Qa(e.latitude,e.longitude)}}Qa._jsonSchemaVersion="firestore/geoPoint/1.0",Qa._jsonSchema={type:Tr("string",Qa._jsonSchemaVersion),latitude:Tr("number"),longitude:Tr("number")};class Ka{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ka._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mc(e,Ka._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Ka(e.vectorValues);throw new et(Ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ka._jsonSchemaVersion="firestore/vectorValue/1.0",Ka._jsonSchema={type:Tr("string",Ka._jsonSchemaVersion),vectorValues:Tr("object")};const Xx=/^__.*__$/;class Wx{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,r,this.fieldTransforms):new pc(e,this.data,r,this.fieldTransforms)}}function hE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:i})}}class Wp{constructor(e,r,a,l,c,p){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.gc(e),a}yc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hE(this.Ac)&&Xx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Qx{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||bh(e)}Cc(e,r,a,l=!1){return new Wp({Ac:e,methodName:r,Dc:a,path:ni.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dE(i){const e=i._freezeSettings(),r=bh(i._databaseId);return new Qx(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Kx(i,e,r,a,l,c={}){const p=i.Cc(c.merge||c.mergeFields?2:0,e,r,l);gE("Data must be an object, but it was:",p,a);const b=mE(a,p);let E,w;if(c.merge)E=new Na(p.fieldMask),w=p.fieldTransforms;else if(c.mergeFields){const x=[];for(const O of c.mergeFields){const q=Jx(e,O,r);if(!p.contains(q))throw new et(Ie.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);eM(x,q)||x.push(q)}E=new Na(x),w=p.fieldTransforms.filter((O=>E.covers(O.field)))}else E=null,w=p.fieldTransforms;return new Wx(new ba(b),E,w)}function $x(i,e,r,a=!1){return Qp(r,i.Cc(a?4:3,e))}function Qp(i,e){if(pE(i=ia(i)))return gE("Unsupported field value:",e,i),mE(i,e);if(i instanceof fE)return(function(a,l){if(!hE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let p=0;for(const b of a){let E=Qp(b,l.wc(p));E==null&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}})(i,e)}return(function(a,l){if((a=ia(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return kR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Yn.fromDate(a);return{timestampValue:nh(l.serializer,c)}}if(a instanceof Yn){const c=new Yn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(a instanceof Qa)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ea)return{bytesValue:k1(l.serializer,a._byteString)};if(a instanceof Ur){const c=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ka)return(function(p,b){return{mapValue:{fields:{[o1]:{stringValue:l1},[$f]:{arrayValue:{values:p.toArray().map((w=>{if(typeof w!="number")throw b.Sc("VectorValues must only contain numeric values.");return xp(b.serializer,w)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${fh(a)}`)})(i,e)}function mE(i,e){const r={};return t1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(i,((a,l)=>{const c=Qp(l,e.mc(a));c!=null&&(r[a]=c)})),{mapValue:{fields:r}}}function pE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Yn||i instanceof Qa||i instanceof Ea||i instanceof Ur||i instanceof fE||i instanceof Ka)}function gE(i,e,r){if(!pE(r)||!Zb(r)){const a=fh(r);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function Jx(i,e,r){if((e=ia(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return yE(i,e);throw sh("Field path arguments must be of type string or ",i,!1,void 0,r)}const Zx=new RegExp("[~\\*/\\[\\]]");function yE(i,e,r){if(e.search(Zx)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Xp(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function sh(i,e,r,a,l){const c=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let E="";return(c||p)&&(E+=" (found",c&&(E+=` in field ${a}`),p&&(E+=` in document ${l}`),E+=")"),new et(Ie.INVALID_ARGUMENT,b+i+E)}function eM(i,e){return i.some((r=>r.isEqual(e)))}class vE{constructor(e,r,a,l,c){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Ah("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class tM extends vE{data(){return super.data()}}function Ah(i,e){return typeof e=="string"?yE(i,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}function nM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new et(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class $p extends Kp{}function op(i,e,...r){let a=[];e instanceof Kp&&a.push(e),a=a.concat(r),(function(c){const p=c.filter((E=>E instanceof Jp)).length,b=c.filter((E=>E instanceof Sh)).length;if(p>1||p>0&&b>0)throw new et(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)i=l._apply(i);return i}class Sh extends $p{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new Sh(e,r,a)}_apply(e){const r=this._parse(e);return _E(e._query,r),new Ao(e.firestore,e.converter,$m(e._query,r))}_parse(e){const r=dE(e.firestore);return(function(c,p,b,E,w,x,O){let q;if(w.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new et(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){G_(O,x);const z=[];for(const Oe of O)z.push(q_(E,c,Oe));q={arrayValue:{values:z}}}else q=q_(E,c,O)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||G_(O,x),q=$x(b,p,O,x==="in"||x==="not-in");return wr.create(w,x,q)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Vl(i,e,r){const a=e,l=Ah("where",i);return Sh._create(l,a,r)}class Jp extends Kp{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Jp(e,r)}_parse(e){const r=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return r.length===1?r[0]:Da.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const E of b)_E(p,E),p=$m(p,E)})(e._query,r),new Ao(e.firestore,e.converter,$m(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zp extends $p{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Zp(e,r)}_apply(e){const r=(function(l,c,p){if(l.startAt!==null)throw new et(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new et(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nc(c,p)})(e._query,this._field,this._direction);return new Ao(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new tu(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,r))}}function io(i,e="asc"){const r=e,a=Ah("orderBy",i);return Zp._create(a,r)}class eg extends $p{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new eg(e,r,a)}_apply(e){return new Ao(e.firestore,e.converter,Zf(e._query,this._limit,this._limitType))}}function Qu(i){return eR("limit",i),eg._create("limit",i,"F")}function q_(i,e,r){if(typeof(r=ia(r))=="string"){if(r==="")throw new et(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y1(e)&&r.indexOf("/")!==-1)throw new et(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(jn.fromString(r));if(!yt.isDocumentKey(a))throw new et(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return o_(i,new yt(a))}if(r instanceof Ur)return o_(i,r._key);throw new et(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(r)}.`)}function G_(i,e){if(!Array.isArray(i)||i.length===0)throw new et(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _E(i,e){const r=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new et(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class rM{convertValue(e,r="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return Xo(e,((l,c)=>{a[l]=this.convertValue(c,r)})),a}convertVectorValue(e){const r=e.fields?.[$f].arrayValue?.values?.map((a=>hr(a.doubleValue)));return new Ka(r)}convertGeoPoint(e){return new Qa(hr(e.latitude),hr(e.longitude))}convertArray(e,r){return(e.values||[]).map((a=>this.convertValue(a,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const a=mh(e);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const r=_o(e);return new Yn(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=jn.fromString(e);Rn(B1(a),9688,{name:e});const l=new ec(a.get(1),a.get(3)),c=new yt(a.popFirst(5));return l.isEqual(r)||xs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}function iM(i,e,r){let a;return a=i?i.toFirestore(e):e,a}class Rf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bl extends vE{constructor(e,r,a,l,c,p){super(e,r,a,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(Ah("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Bl._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Bl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bl._jsonSchema={type:Tr("string",Bl._jsonSchemaVersion),bundleSource:Tr("string","DocumentSnapshot"),bundleName:Tr("string"),bundle:Tr("string")};class zf extends Bl{data(e={}){return super.data(e)}}class jl{constructor(e,r,a,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Rf(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((a=>{e.call(r,new zf(this._firestore,this._userDataWriter,a.key,a,new Rf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new et(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const E=new zf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Rf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:E,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const E=new zf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Rf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,x=-1;return b.type!==0&&(w=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),x=p.indexOf(b.doc.key)),{type:aM(b.type),doc:E,oldIndex:w,newIndex:x}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(r.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:i})}}jl._jsonSchemaVersion="firestore/querySnapshot/1.0",jl._jsonSchema={type:Tr("string",jl._jsonSchemaVersion),bundleSource:Tr("string","QuerySnapshot"),bundleName:Tr("string"),bundle:Tr("string")};class sM extends rM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,r)}}function lp(i){i=Wf(i,Ao);const e=Wf(i.firestore,Yp),r=cE(e),a=new sM(e);return nM(i._query),Fx(r,i._query).then((l=>new jl(e,a,i,l)))}function Nm(i,e){const r=Wf(i.firestore,Yp),a=qx(i),l=iM(i.converter,e);return oM(r,[Kx(dE(i.firestore),"addDoc",a._key,l,i.converter!==null,{}).toMutation(a._key,As.exists(!1))]).then((()=>a))}function oM(i,e){return(function(a,l){const c=new go;return a.asyncQueue.enqueueAndForget((async()=>Ix(await Bx(a),l,c))),c.promise})(cE(i),e)}(function(e,r=!0){(function(l){Jl=l})(Kl),Fl(new Ho("firestore",((a,{instanceIdentifier:l,options:c})=>{const p=a.getProvider("app").getImmediate(),b=new Yp(new GC(a.getProvider("auth-internal")),new WC(p,a.getProvider("app-check-internal")),(function(w,x){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new et(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(w.options.projectId,x)})(p,l),p);return c={useFetchStreams:r,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),mo(W0,Q0,e),mo(W0,Q0,"esm2020")})();const lM={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},uM=typeof __firebase_config<"u"?JSON.parse(__firebase_config):lM,bE=ub(uM),Dm=jC(bE),Dl=Gx(bE),up=typeof __app_id<"u"?__app_id:"long-jump-game",Om={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWild:"#ffd700",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000",modalBg:"#ffffff",settingsBg:"#ffffff",handBg:"#dcd8cc"},cM={background:"#111827",boardBackground:"#1f2937",boardLines:"#374151",tileLocked:"#374151",tileLockedText:"#f3f4f6",tileTemp:"#854d0e",tileTempRing:"#ca8a04",tileWild:"#b45309",tileWildPlaced:"#78350f",tileObstacle:"#000000",accentPrimary:"#65a30d",accentSecondary:"#4d7c0f",textMain:"#f9fafb",textSub:"#9ca3af",starGold:"#fbbf24",starPurple:"#c084fc",overlayComplete:"#1f2937",startArrow:"#ffffff",modalBg:"#1f2937",settingsBg:"#111827",handBg:"#1f2937"},Lr=5,cp=50,fM=50,EE=30,hM=30,xa=40,wE={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},dM=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),Y_=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],X_=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],W_=(i=cp)=>Array(Lr).fill(null).map(()=>Array(i).fill(null)),If=(i,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:i,isNew:e,isPlaced:!1}),TE=i=>{const e=["th","st","nd","rd"],r=i%100;return i+(e[(r-20)%10]||e[r]||e[0])},mM=i=>{const e=new Date(i),r=e.getDate(),a=e.toLocaleDateString("en-GB",{month:"short"});return`${TE(r)} ${a}`},ac=i=>function(){var e=i+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},sc=i=>{let e=1779033703,r=3144134277,a=1013904242,l=2773480762;for(let c=0,p;c<i.length;c++)p=i.charCodeAt(c),e=r^Math.imul(e^p,597399067),r=a^Math.imul(r^p,2869860233),a=l^Math.imul(a^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(a^e>>>18,597399067),r=Math.imul(l^r>>>22,2869860233),a=Math.imul(e^a>>>17,951274213),l=Math.imul(r^l>>>19,2716044179),(e^r^a^l)>>>0},pM=()=>new Date().toISOString().split("T")[0],gM=(i,e,r)=>{const a=sc(i),l=ac(a),c=[],p=Math.floor(e*.3),b=new Set;for(;c.length<p;){const E=Math.floor(l()*Lr),w=Math.floor(l()*e);if(w===0||r==="maze"&&(w===14||w===29))continue;const x=`${E},${w}`;if(!b.has(x)){b.add(x);const O=l();let q=1,te="star";O>.5&&(q=2),O>.8&&(q=3),c.push({r:E,c:w,val:q,type:te})}}return r==="maze"&&[14,29].forEach(E=>{if(E<e)for(let w=0;w<Lr;w++){if((w+E)%3===0)continue;const O=w*E*13%10/10>.5?3:2;c.push({r:w,c:E,val:O,type:"star"})}}),c},yM=(i,e,r)=>{const a=sc(i+"OBSTACLES"),l=ac(a),c=[];if(r!=="maze"){const q=Math.floor(e*.1),te=new Set;for(;c.length<q;){const z=Math.floor(l()*Lr),Oe=Math.floor(l()*e);if(Oe===0)continue;const be=`${z},${Oe}`;te.has(be)||(te.add(be),c.push({r:z,c:Oe}))}return c}const p=new Set;for(let q=0;q<Lr;q++)p.add(`${q},14`),p.add(`${q},29`);((q,te)=>{const z=sc(i+q),Oe=ac(z);let be=te;for(let Le=1;Le<e;Le++){p.add(`${be},${Le}`);const j=Oe();j<.3&&be>0?be--:j>.7&&be<Lr-1&&be++,p.add(`${be},${Le}`)}})("PATH_MAIN",2);const E=e*Lr,w=Math.floor(E*.45),x=new Set;let O=0;for(;c.length<w&&O<E*5;){O++;const q=Math.floor(l()*Lr),te=Math.floor(l()*e);if(te===0)continue;const z=`${q},${te}`;p.has(z)||x.has(z)||(x.add(z),c.push({r:q,c:te}))}return c},vM=(i,e,r)=>{const a=sc(i+"WILDCARDS_V3"),l=ac(a),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*Lr),E=5,w=Math.min(29,r-2);if(w<=E)break;const x=Math.floor(l()*(w-E+1))+E;if(!(x===14||x===29)){if(!e.some(O=>O.r===b&&O.c===x)){c.push({r:b,c:x});break}p++}}for(p=0;p<100;){const b=Math.floor(l()*Lr),E=30,w=r-5,x=Math.floor(l()*(w-E+1))+E;if(!(x===14||x===29)){if(!e.some(O=>O.r===b&&O.c===x)){c.push({r:b,c:x});break}p++}}return[14,29].forEach(b=>{if(b<r)for(let E=0;E<Lr;E++)(E+b)%3===0&&(e.some(w=>w.r===E&&w.c===b)||c.push({r:E,c:b}))}),c},_M=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],bM=i=>{const e=sc(i),r=ac(e);let a=[];Object.entries(wE).forEach(([b,E])=>{for(let w=0;w<E;w++)a.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(a);for(let b=l.length-1;b>0;b--){const E=Math.floor(r()*(b+1));[l[b],l[E]]=[l[E],l[b]]}const c=EE;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const E=Math.floor(r()*c);[l[E],l[b]]=[l[b],l[E]]}}return l},EM=i=>{const e=new Date().toISOString().split("T")[0],r=JSON.parse(localStorage.getItem("longJumpStats"))||{gamesPlayed:0,currentStreak:0,maxStreak:0,totalDistance:0,lastPlayedDate:null};let{gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:b}=r;if(a+=1,p+=i,b!==e){const w=new Date;w.setDate(w.getDate()-1);const x=w.toISOString().split("T")[0];b===x?l+=1:l=1}l>c&&(c=l);const E={gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:e};return localStorage.setItem("longJumpStats",JSON.stringify(E)),E},Q_=()=>{const i=Y_[Math.floor(Math.random()*Y_.length)],e=X_[Math.floor(Math.random()*X_.length)],r=Math.floor(Math.random()*90)+10;return`${i}${e}${r}`},km=i=>{if(i.length<=1)return!0;const e=i[0].r,r=i[0].c;return i.every(a=>a.r===e)||i.every(a=>a.c===r)},Ol={ctx:null,init:()=>{Ol.ctx||(Ol.ctx=new(window.AudioContext||window.webkitAudioContext))},play:i=>{Ol.ctx||Ol.init();const e=Ol.ctx,r=e.createOscillator(),a=e.createGain();r.connect(a),a.connect(e.destination);const l=e.currentTime,c=.5+Math.random();i==="pop"?(r.type="triangle",r.frequency.setValueAtTime(600*c,l),r.frequency.exponentialRampToValueAtTime(100*c,l+.15),a.gain.setValueAtTime(.5,l),a.gain.exponentialRampToValueAtTime(.01,l+.15),r.start(l),r.stop(l+.15)):i==="success"?(r.type="sine",r.frequency.setValueAtTime(400*c,l),r.frequency.setValueAtTime(600*c,l+.1),a.gain.setValueAtTime(.3,l),a.gain.linearRampToValueAtTime(0,l+.3),r.start(l),r.stop(l+.3)):i==="error"?(r.type="sawtooth",r.frequency.setValueAtTime(150,l),r.frequency.linearRampToValueAtTime(100,l+.2),a.gain.setValueAtTime(.5,l),a.gain.linearRampToValueAtTime(0,l+.2),r.start(l),r.stop(l+.2)):i==="click"?(r.type="square",r.frequency.setValueAtTime(800,l),a.gain.setValueAtTime(.1,l),a.gain.exponentialRampToValueAtTime(.01,l+.05),r.start(l),r.stop(l+.05)):i==="fanfare"&&(r.type="square",r.frequency.setValueAtTime(261.63,l),r.frequency.setValueAtTime(329.63,l+.1),r.frequency.setValueAtTime(392,l+.2),r.frequency.setValueAtTime(523.25,l+.3),a.gain.setValueAtTime(.2,l),a.gain.setValueAtTime(.2,l+.3),a.gain.exponentialRampToValueAtTime(.01,l+.8),r.start(l),r.stop(l+.8))}},wM=i=>{if(navigator.vibrate)switch(i){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(15);break;case"success":navigator.vibrate([10,30,10]);break;case"error":navigator.vibrate([50,20,50]);break;case"heavy":navigator.vibrate(50);break}},TM=({theme:i})=>{const e=Ue.useRef(null);return Ue.useEffect(()=>{const r=e.current;if(!r)return;const a=r.getContext("2d");let l=window.innerWidth,c=window.innerHeight;if(l===0||c===0)return;r.width=l,r.height=c;const p=[],b=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",i.accentPrimary];for(let O=0;O<150;O++)p.push({x:Math.random()*l,y:Math.random()*c-c,vx:Math.random()*2-1,vy:Math.random()*3+2,color:b[Math.floor(Math.random()*b.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let E;const w=()=>{!a||!r.width||!r.height||(a.clearRect(0,0,l,c),p.forEach(O=>{O.y+=O.vy,O.x+=O.vx+Math.sin(O.y/50),O.rotation+=O.rotationSpeed,O.y>c&&(O.y=-10,O.x=Math.random()*l),!(!Number.isFinite(O.x)||!Number.isFinite(O.y)||!Number.isFinite(O.rotation)||!Number.isFinite(O.size))&&(a.save(),a.translate(O.x,O.y),a.rotate(O.rotation*Math.PI/180),a.fillStyle=O.color,a.fillRect(-O.size/2,-O.size/2,O.size,O.size),a.restore())}),E=requestAnimationFrame(w))};w();const x=()=>{r&&(l=window.innerWidth,c=window.innerHeight,l>0&&c>0&&(r.width=l,r.height=c))};return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x),E&&cancelAnimationFrame(E)}},[i]),I.createElement("canvas",{ref:e,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},K_=()=>{const{RiveComponent:i}=uo.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new uo.Layout({fit:uo.Fit.Contain,alignment:uo.Alignment.Center})});return I.createElement(i,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},$_=({trigger:i})=>{const{rive:e,RiveComponent:r}=uo.useRive({src:"fan.riv",autoplay:!0,layout:new uo.Layout({fit:uo.Fit.Contain,alignment:uo.Alignment.Center})});return Ue.useEffect(()=>{if(i&&e&&e.viewModelInstance)try{const a=e.viewModelInstance("View Model 1");if(a){const l=a.trigger("Celebrate");l&&l.fire()}}catch(a){console.warn("Rive trigger warning:",a)}},[i,e]),r?I.createElement("div",{style:{width:`${xa}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"}},I.createElement("div",{style:{width:"39px",height:"60px"}},I.createElement(r,null))):null},Vm=({highlightName:i,user:e,onRankFound:r,lastUpdated:a,initialMode:l="standard",onParCalculated:c,theme:p})=>{const[b,E]=Ue.useState([]),[w,x]=Ue.useState(!0),[O,q]=Ue.useState("daily"),[te,z]=Ue.useState(l),[Oe,be]=Ue.useState(null);Ue.useEffect(()=>{z(l)},[l]);const Le=async()=>{if(!e)return;x(!0),be(null);const j=Nl(Dl,"artifacts",up,"public","data","scores"),Pe=new Date,tt=Pe.toISOString().split("T")[0],ft=Pe.getDay(),at=Pe.getDate()-ft+(ft===0?-6:1),F=new Date(Pe.setDate(at)).toISOString().split("T")[0],P=new Date,R=new Date(P.getFullYear(),P.getMonth(),1).toISOString().split("T")[0];let L=[];te==="maze"&&L.push(Vl("mode","==","maze")),O==="daily"?(L.push(Vl("date","==",tt)),L.push(io("score","desc")),L.push(io("timestamp","asc")),L.push(Qu(100))):O==="weekly"?(L.push(Vl("date",">=",F)),L.push(io("date","desc")),L.push(io("score","desc")),L.push(Qu(500))):(L.push(Vl("date",">=",R)),L.push(io("date","desc")),L.push(io("score","desc")),L.push(Qu(500)));try{const N=op(j,...L),W=await lp(N);if(W.empty){E([]),x(!1),c&&O==="daily"&&c(te==="maze"?20:25,te);return}let ae=W.docs.map(G=>({id:G.id,...G.data()}));if(te==="standard"&&(ae=ae.filter(G=>!G.mode||G.mode==="standard")),O==="daily"&&c){const Q=ae.reduce((Ee,U)=>Ee+U.score,0)/ae.length,de=Math.floor(((te==="maze"?20:25)+Q)/2);c(de,te)}if(O==="weekly"||O==="monthly"){const G=new Map;ae.forEach(Q=>{const ge=G.get(Q.name);ge?(Q.score>ge.score||Q.score===ge.score&&Q.timestamp<ge.timestamp)&&G.set(Q.name,Q):G.set(Q.name,Q)}),ae=Array.from(G.values()),ae.sort((Q,ge)=>ge.score!==Q.score?ge.score-Q.score:Q.timestamp-ge.timestamp),ae=ae.slice(0,100)}if(E(ae),x(!1),i&&r){const G=ae.findIndex(Q=>Q.name===i);G!==-1&&r(G+1)}}catch(N){console.error(" FIRESTORE ERROR:",N),be(N.message),x(!1)}};return Ue.useEffect(()=>{Le()},[e,O,te,i,a]),I.createElement("div",{className:"rounded-2xl p-4 shadow-xl border w-full h-full flex flex-col relative transition-colors duration-300",style:{backgroundColor:p.modalBg+"DD",borderColor:p.boardLines}},Oe&&Oe.includes("index")&&I.createElement("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-4 text-center bg-white/90"},I.createElement(mT,{className:"text-red-500 mb-2",size:32}),I.createElement("p",{className:"text-xs font-bold text-red-600 mb-2"},"DATABASE INDEX MISSING"),I.createElement("button",{onClick:Le,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold"},"Retry")),I.createElement("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b shrink-0",style:{borderColor:p.boardLines}},I.createElement("div",{className:"flex items-center justify-between"},I.createElement("div",{className:"flex items-center gap-2"},I.createElement(Pm,{size:20,className:"text-yellow-500"}),I.createElement("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:p.textSub}},O==="daily"?"Today's Top":O==="weekly"?"Weekly Best":"Monthly Best")),I.createElement("div",{className:"flex rounded-lg p-1",style:{backgroundColor:p.boardLines}},I.createElement("button",{onClick:()=>q("daily"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Daily"),I.createElement("button",{onClick:()=>q("weekly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Weekly"),I.createElement("button",{onClick:()=>q("monthly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="monthly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Monthly"))),I.createElement("div",{className:"flex justify-center"},I.createElement("div",{className:"flex rounded-lg p-1 w-full",style:{backgroundColor:p.boardLines}},I.createElement("button",{onClick:()=>z("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${te==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Standard"),I.createElement("button",{onClick:()=>z("maze"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${te==="maze"?"bg-white shadow-sm text-purple-600":"text-gray-400 hover:text-gray-600"}`},"Maze Mode")))),I.createElement("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1"},w?I.createElement("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse"},"Loading..."):b.length===0?I.createElement("div",{className:"text-center py-8 text-gray-400 text-sm italic"},"No scores yet.",I.createElement("br",null),"Be the first!"):I.createElement("div",{className:"space-y-1"},b.map((j,Pe)=>{const tt=j.score>40;let ft="";return O==="weekly"?ft=new Date(j.date).toLocaleDateString(void 0,{weekday:"short"}):O==="monthly"&&(ft=mM(j.date)),I.createElement("div",{key:Pe,className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${j.name===i?`bg-[${p.accentPrimary}]/10 border-[${p.accentPrimary}]/20`:tt?"bg-amber-100 border-amber-300":"hover:bg-white/10 border-transparent"}`,style:j.name!==i&&!tt?{borderColor:"transparent"}:{}},I.createElement("div",{className:"flex items-center gap-2"},I.createElement("span",{className:`font-black w-5 text-center ${Pe===0?"text-yellow-600 text-lg":Pe===1?"text-gray-500 text-base":Pe===2?"text-orange-700 text-base":"text-gray-500"}`},Pe+1),I.createElement("div",{className:"flex items-center gap-1 overflow-hidden"},tt&&I.createElement(Pm,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),I.createElement("span",{className:`font-bold truncate max-w-[90px] ${j.name===i?"":tt?"text-amber-900":""}`,style:{color:j.name===i?p.textMain:tt?"#78350f":p.textMain}},j.name),ft&&I.createElement("span",{className:"text-[9px] font-normal ml-1 border-l pl-1",style:{color:p.textSub,borderColor:p.boardLines}},ft))),I.createElement("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${tt?"bg-amber-200 text-amber-900":"bg-gray-100 text-gray-900"}`},j.score,"m"))}))))};function AM(){const[i,e]=Ue.useState("menu"),[r,a]=Ue.useState("standard"),[l,c]=Ue.useState(()=>localStorage.getItem("longJumpPlayerName")||Q_()),[p,b]=Ue.useState(!1),[E,w]=Ue.useState(!1),[x,O]=Ue.useState(()=>{const K=localStorage.getItem("longJumpShowFans");return K===null?!0:K!=="false"}),[q,te]=Ue.useState(()=>{const K=localStorage.getItem("longJumpSound");return K===null?!0:K!=="false"}),[z,Oe]=Ue.useState(()=>{const K=localStorage.getItem("longJumpHaptics");return K===null?!0:K!=="false"}),[be,Le]=Ue.useState(()=>localStorage.getItem("longJumpDarkMode")==="true"),j=be?cM:Om,[Pe,tt]=Ue.useState(!1),[ft,at]=Ue.useState(null),[Y,F]=Ue.useState(!1),[P,H]=Ue.useState(null);Ue.useEffect(()=>{window.addEventListener("beforeinstallprompt",K=>{K.preventDefault(),H(K)})},[]);const R=()=>{P&&(P.prompt(),P.userChoice.then(K=>{K.outcome==="accepted"&&console.log("User accepted the install prompt"),H(null)}))},[L,N]=Ue.useState(""),[W,ae]=Ue.useState("idle"),G=async()=>{if(L.trim()){ae("submitting");try{const K=Nl(Dl,"suggestions");await Nm(K,{text:L,player:l,date:new Date().toISOString(),version:"8.11"}),ae("success"),N(""),setTimeout(()=>ae("idle"),3e3)}catch(K){console.error("Error submitting suggestion:",K),ae("idle"),De({text:"Could not send suggestion. Try again.",type:"error"})}}},[Q,ge]=Ue.useState(()=>W_(cp)),[de,Ee]=Ue.useState([]),[U,oe]=Ue.useState([]),[xe,Ce]=Ue.useState(0),[Ne,Ke]=Ue.useState(!1),[dt,jt]=Ue.useState([]),[ct,kt]=Ue.useState(0),[Ft,pt]=Ue.useState([]),[wt,sn]=Ue.useState([]),[Yt,Kn]=Ue.useState([]),[Ar,fn]=Ue.useState([]),[it,Lt]=Ue.useState(null),[hn,Xt]=Ue.useState(null),[vt,Nt]=Ue.useState([]),[Rt,En]=Ue.useState(0),[C,g]=Ue.useState(0),[_,V]=Ue.useState(null),[Z,me]=Ue.useState(!1),[Se,Ye]=Ue.useState(!1),[st,De]=Ue.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[_t,Ht]=Ue.useState(!1),[Un,Ut]=Ue.useState(!1),[$n,qt]=Ue.useState(!1),[In,Nn]=Ue.useState(!1),[Dn,zr]=Ue.useState(!1),[$e,Xn]=Ue.useState(!1),[tr,At]=Ue.useState(!1),[Wn,aa]=Ue.useState(!1),[Nr,wi]=Ue.useState(null),[Xe,Oa]=Ue.useState(null),[Ni,Br]=Ue.useState(!1),[gn,Jn]=Ue.useState(null),[ii,Di]=Ue.useState(25),[ai,ka]=Ue.useState(null),[Ti,jr]=Ue.useState([]),dr=Ue.useRef(0),[Ai,Fr]=Ue.useState(new Set),[Hr,Dr]=Ue.useState(!1),zn=Ue.useRef({standard:25,quick:12}),Sr=Ue.useRef(null),[Cr,Rr]=Ue.useState(!1),[si,Ja]=Ue.useState(0),[sa,Va]=Ue.useState(0),Za=Q.some(K=>K.some(ie=>ie!==null));Ue.useEffect(()=>{localStorage.setItem("longJumpPlayerName",l)},[l]),Ue.useEffect(()=>{localStorage.setItem("longJumpShowFans",x)},[x]),Ue.useEffect(()=>{localStorage.setItem("longJumpSound",q)},[q]),Ue.useEffect(()=>{localStorage.setItem("longJumpHaptics",z)},[z]),Ue.useEffect(()=>{localStorage.setItem("longJumpDarkMode",be)},[be]),Ue.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await R2(Dm,__initial_auth_token):await w2(Dm)})();const ie=M2(Dm,Oa);return()=>ie()},[]),Ue.useEffect(()=>{(async()=>{try{const ie=op(Nl(Dl,"missing_words")),we=await lp(ie),ve=new Set;we.forEach(Te=>{Te.data().word&&ve.add(Te.data().word.toUpperCase())}),Fr(ve)}catch(ie){console.error("Error loading missing words:",ie)}})()},[]),Ue.useEffect(()=>{if(C===Rt)return;const K=500,ie=performance.now(),we=C,ve=Rt,Te=Fe=>{const qe=Fe-ie,ze=Math.min(qe/K,1),Ge=1-Math.pow(1-ze,3),ut=Math.floor(we+(ve-we)*Ge);g(ut),ze<1&&requestAnimationFrame(Te)};requestAnimationFrame(Te)},[Rt]),Ue.useEffect(()=>{(async()=>{try{const ie=Nl(Dl,"artifacts",up,"public","data","scores"),we=new Date().toISOString().split("T")[0];let ve=[Vl("date","==",we),io("score","desc"),io("timestamp","asc")];r==="quick"?(ve.push(Vl("mode","==","quick")),ve.push(Qu(1))):ve.push(Qu(50));const Te=op(ie,...ve),Fe=await lp(Te);let qe=null;if(!Fe.empty){const ze=Fe.docs.map(Ge=>Ge.data());r==="quick"?qe=ze[0]:qe=ze.find(Ge=>!Ge.mode||Ge.mode==="standard")}Jn(qe||null)}catch(ie){console.error("Error fetching leader:",ie)}})()},[xe,r]);const oi=Ue.useCallback((K,ie)=>{(ie==="quick"||ie==="standard")&&(zn.current[ie]=K),Di(K)},[]),Wt=K=>{q&&Ol.play(K==="light"?"pop":K),z&&wM(K)};Ue.useEffect(()=>{dn("standard")},[]);const dn=(K="standard")=>{const ie=pM(),we=K==="maze"?ie+"-MAZE":ie,ve=bM(we);jt(ve),a(K);const Te=K==="maze"?fM:cp,Fe=K==="maze"?hM:EE;let qe;qe=ve.slice(0,Fe);const ze=qe.map(Qe=>If(Qe,!1)).sort((Qe,Vt)=>Qe.letter.localeCompare(Vt.letter));Ee(ze),kt(Fe),ge(W_(Te)),Nt([]),oe([]),jr([]),En(0),g(0),V(null),me(!1),Ye(!1),pt(gM(ie,Te,K));const Ge=yM(ie,Te,K);sn(Ge),Kn(vM(ie,Ge,Te)),fn(_M()),De({text:"Goal: Get as far right as you can.",type:"neutral"}),Xn(!1),Ut(!1),Nn(!1),zr(!1),Br(!1),At(!1),qt(!1),Ke(!1),Lt(null),Xt(null),b(!1);const ut=zn.current[K]||(K==="maze"?20:25);Di(ut),Xt({r:2,c:0}),Dr(!1),Sr.current&&(Sr.current.scrollLeft=0)},Fn=K=>{Wt("click"),l.trim()||c(Q_()),e("playing"),dn(K),Nn(!0)},li=()=>{Wt("click"),e("menu"),dn("standard")},Oi=()=>{if(Wt("click"),U.length!==0){if(Hr){De({text:"Already used Undo this turn!",type:"error"}),Wt("error");return}F(!0)}},on=()=>{const K=U[U.length-1],ie=U.slice(0,-1);ge(K.grid),En(K.score),kt(K.drawCount);const we=Array.from(new Map(K.hand.map(ve=>[ve.id,{...ve,isPlaced:!1}])).values());Ee(we),oe(ie),Nt([]),Lt(null),De({text:"Move undone",type:"info"}),Dr(!0),F(!1)},mr=K=>{const ie=K.toUpperCase();return[...de].reverse().find(we=>we.letter===ie&&!we.isPlaced)},mt=()=>{if(vt.length===0)return;Wt("click");const ie=[...vt].sort((qe,ze)=>qe.r-ze.r||qe.c-ze.c)[0],we=ie?ie.r:null,ve=ie?ie.c:null,Fe=vt.map(qe=>qe.isWild?"*":qe.letter).map(qe=>If(qe,!1));Ee(qe=>[...qe.filter(Ge=>!Ge.isPlaced),...Fe].sort((Ge,ut)=>Ge.letter!==ut.letter?Ge.letter.localeCompare(ut.letter):Ge.isNew===ut.isNew?0:Ge.isNew?1:-1)),Nt([]),Lt(null),we!==null&&ve!==null&&(Xt(null),setTimeout(()=>{Xt({r:we,c:ve})},10))},nr=K=>{const ie=Q[0].length;if(!hn){Xt({r:2,c:Rt});return}let{r:we,c:ve}=hn;K==="ArrowUp"&&(we=Math.max(0,we-1)),K==="ArrowDown"&&(we=Math.min(Lr-1,we+1)),K==="ArrowLeft"&&(ve=Math.max(0,ve-1)),K==="ArrowRight"&&(ve=Math.min(ie-1,ve+1)),Xt({r:we,c:ve})};Ue.useEffect(()=>{const K=ie=>{if(ie.key==="k"||ie.key==="K"){if(dr.current+=1,dr.current>=10){Wt("fanfare"),jr(["TEST","MODE","ACTIVE","RANDOM","WORDS","SHOWN","HERE","FOR","DEBUG","PURPOSES"]),En(42),g(42),ka({gamesPlayed:10,currentStreak:5,maxStreak:10,totalDistance:420,lastPlayedDate:new Date().toISOString().split("T")[0]}),e("gameOver"),dr.current=0;return}}else dr.current=0;if(!(i!=="playing"||$e||Dn||In||Un||Wn||$n||p||Pe||Y)){if(ie.code==="Space"){ie.preventDefault(),Pi();return}if(ie.key==="Escape"){mt();return}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ie.key)){ie.preventDefault(),nr(ie.key);return}if(ie.key==="Backspace"||ie.key==="Delete"){if(hn){const{r:we,c:ve}=hn;vt.find(Fe=>Fe.r===we&&Fe.c===ve)?Wi(we,ve):nr("ArrowLeft")}return}if(ie.key==="Enter"){vt.length>0&&Wr();return}if(/^[a-zA-Z]$/.test(ie.key)){const we=Q[0].length;if(!hn){Xt({r:2,c:Rt});return}const{r:ve,c:Te}=hn;if(Q[ve]&&Q[ve][Te]||wt.some(ze=>ze.r===ve&&ze.c===Te)){nr("ArrowRight");return}let Fe=mr(ie.key),qe=null;if(!Fe){const ze=mr("*");ze&&(Fe=ze,qe=ie.key.toUpperCase())}Fe?(qr(Fe,ve,Te,qe),Xt({r:ve,c:Math.min(we-1,Te+1)})):(De({text:`No '${ie.key.toUpperCase()}' or Wildcard in hand`,type:"error"}),setTimeout(()=>De({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[i,$e,hn,de,vt,Dn,In,Un,Wn,$n,p,Pe,Y]),Ue.useEffect(()=>{if(hn&&Sr.current){const K=Sr.current,ie=hn.c*xa,we=ie+xa,ve=K.scrollLeft,Te=ve+K.clientWidth,Fe=100;ie<ve?K.scrollTo({left:Math.max(0,ie-Fe),behavior:"smooth"}):we>Te&&K.scrollTo({left:we-K.clientWidth+Fe,behavior:"smooth"})}},[hn]);const On=()=>Ut(!0),wa=async()=>{Ut(!1),Xn(!0),Br(!0),Wt("fanfare");const K=l.trim().toLowerCase()==="test";if(Xe&&!K)try{const Te=new Date().toISOString().split("T")[0],Fe=Nl(Dl,"artifacts",up,"public","data","scores");await Nm(Fe,{name:l||"Anonymous",score:Rt,mode:r,date:Te,timestamp:Date.now(),userId:Xe.uid}),Ce(Date.now())}catch(Te){console.error("Error saving score:",Te)}const ie=EM(Rt);ka(ie),Br(!1);const we=Rt*50+800;setTimeout(()=>{e("gameOver"),Xn(!1)},Math.max(we,2500))},es=()=>Ut(!1),Pa=()=>i==="playing"?qt(!0):e("menu"),yn=()=>{qt(!1),e("menu"),dn()},oa=async()=>{const K=_?TE(_):"top",ie="https://www.longjump.co.za",we=Ti.length>0?`

 Words: ${Ti.join(", ")}`:"";let ve=_?`${l} placed ${K} in Long-Jump with a distance of ${Rt}m. How far can you get? ${ie}${we}`:`${l} got a distance of ${Rt}m in Long-Jump. How far can you get? ${ie}${we}`;try{navigator.share?await navigator.share({title:"Long Jump Result",text:ve}):(await navigator.clipboard.writeText(ve),me(!0),setTimeout(()=>me(!1),1e3))}catch(Te){console.error("Failed to copy/share: ",Te);try{await navigator.clipboard.writeText(ve),me(!0),setTimeout(()=>me(!1),1e3)}catch{}}},ki=K=>{K.target.closest('[draggable="true"]')||K.target.tagName==="BUTTON"||(Rr(!0),Ja(K.pageX-Sr.current.offsetLeft),Va(Sr.current.scrollLeft))},rr=()=>Rr(!1),ui=()=>Rr(!1),Ta=K=>{if(!Cr)return;K.preventDefault();const we=(K.pageX-Sr.current.offsetLeft-si)*1.5;Sr.current.scrollLeft=sa-we},qr=(K,ie,we,ve=null)=>{if(Wt("light"),K.letter==="*"&&!ve){wi({r:ie,c:we,tileId:K.id}),aa(!0);return}const Te=K.letter==="*";la(K,ie,we,Te,ve)},la=(K,ie,we,ve=!1,Te=null)=>{if(Q.every(Ge=>Ge.every(ut=>ut===null))&&vt.length===0&&we!==0){At(!0),setTimeout(()=>At(!1),3e3);return}const qe=Te||K.letter,ze=[...vt,{r:ie,c:we,letter:qe,isWild:ve,id:K.id}];if(!km(ze)){De({text:" Tiles must be placed in a single row or column",type:"error"}),Wt("error");return}Nt(ze),Ee(Ge=>Ge.map(ut=>ut.id===K.id?{...ut,isPlaced:!0}:ut)),At(!1),st.type==="error"&&De({text:"Goal: Get as far right as you can.",type:"neutral"})},ua=K=>{if(Wt("light"),Nr){const ie={id:Nr.tileId,letter:"*"};la(ie,Nr.r,Nr.c,!0,K),Xt({r:Nr.r,c:Math.min(Q[0].length-1,Nr.c+1)}),aa(!1),wi(null),Lt(null)}},Si=K=>{if(Wt("light"),!$e&&i==="playing"){if(hn){const{r:ie,c:we}=hn,ve=Q[0].length;if(!(Q[ie]&&Q[ie][we]||wt.some(Fe=>Fe.r===ie&&Fe.c===we))){const Fe=de.find(qe=>qe.id===K);Fe&&(qr(Fe,ie,we),Xt({r:ie,c:Math.min(ve-1,we+1)}));return}}Lt(it===K?null:K)}},Wi=(K,ie)=>{if(Cr||$e||i!=="playing"||Q[K]&&Q[K][ie]||wt.some(ve=>ve.r===K&&ve.c===ie))return;const we=vt.findIndex(ve=>ve.r===K&&ve.c===ie);if(we!==-1){Wt("light");const ve=vt[we],Te=[...vt];Te.splice(we,1),Nt(Te),Ee(Fe=>Fe.map(qe=>qe.id===ve.id?{...qe,isPlaced:!1}:qe)),Lt(null),Xt({r:K,c:ie});return}if(it){const ve=de.find(Te=>Te.id===it);if(ve){const Te=Q[0].length;qr(ve,K,ie),Lt(null),Xt({r:K,c:Math.min(Te-1,ie+1)})}}else Xt({r:K,c:ie})},Gr=(K,ie)=>{$e||i!=="playing"||(K.dataTransfer.setData("text/plain",JSON.stringify(ie)),K.dataTransfer.effectAllowed="move")},Aa=K=>{K.preventDefault(),K.dataTransfer.dropEffect="move"},ci=(K,ie,we)=>{if($e||i!=="playing"||(K.preventDefault(),K.stopPropagation(),wt.some(Te=>Te.r===ie&&Te.c===we)))return;const ve=K.dataTransfer.getData("text/plain");if(ve)try{const Te=JSON.parse(ve);if(Q[ie]&&Q[ie][we])return;const Fe=vt.findIndex(ze=>ze.r===ie&&ze.c===we),qe=Q[0].length;if(Te.type==="hand"){Wt("light");const ze=Te.tile;if(ze.letter==="*"){wi({r:ie,c:we,tileId:ze.id}),aa(!0);return}if(Q.every(ut=>ut.every(Qe=>Qe===null))&&vt.length===0&&we!==0){At(!0),setTimeout(()=>At(!1),3e3);return}if(Fe!==-1){const ut=vt[Fe],Qe=[...vt];Ee(Vt=>Vt.map(Qt=>Qt.id===ze.id?{...Qt,isPlaced:!0}:Qt.id===ut.id?{...Qt,isPlaced:!1}:Qt)),Qe.splice(Fe,1,{r:ie,c:we,letter:ze.letter,isWild:!1,id:ze.id}),Nt(Qe)}else{const ut=[...vt,{r:ie,c:we,letter:ze.letter,isWild:!1,id:ze.id}];if(!km(ut)){De({text:" Tiles must be placed in a single row or column",type:"error"}),Wt("error");return}Nt(ut),Ee(Qe=>Qe.map(Vt=>Vt.id===ze.id?{...Vt,isPlaced:!0}:Vt))}At(!1),Lt(null),Xt({r:ie,c:Math.min(qe-1,we+1)}),st.type==="error"&&De({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Te.type==="board"){if(Te.r===ie&&Te.c===we)return;const ze=vt.findIndex(Qe=>Qe.r===Te.r&&Qe.c===Te.c);if(ze===-1)return;const Ge=vt[ze],ut=[...vt];if(Fe!==-1){const Qe=vt[Fe];ut[Fe]={...Qe,r:Te.r,c:Te.c},ut[ze]={...Ge,r:ie,c:we}}else ut[ze]={...Ge,r:ie,c:we};if(!km(ut)){De({text:" Tiles must be placed in a single row or column",type:"error"}),Wt("error");return}Nt(ut),Xt({r:ie,c:Math.min(qe-1,we+1)})}}catch{}},fi=K=>{if($e||i!=="playing")return;K.preventDefault(),K.stopPropagation();const ie=K.dataTransfer.getData("text/plain");if(ie)try{const we=JSON.parse(ie);if(we.type==="board"){const ve=vt.find(Te=>Te.r===we.r&&Te.c===we.c);Nt(Te=>Te.filter(Fe=>!(Fe.r===we.r&&Fe.c===we.c))),Ee(Te=>Te.map(Fe=>Fe.id===ve.id?{...Fe,isPlaced:!1}:Fe)),Wt("light")}}catch{}},Yr=(K,ie)=>{if(!Q||!Q[K])return null;if(Q[K][ie])return{letter:Q[K][ie],type:"locked"};const we=vt.find(ve=>ve.r===K&&ve.c===ie);return we?{letter:we.letter,type:"temp",isWild:we.isWild}:null},Xr=(K,ie)=>Ft.find(we=>we.r===K&&we.c===ie),Qi=(K,ie)=>wt.find(we=>we.r===K&&we.c===ie),Wr=async()=>{if(vt.length===0)return;Ht(!0),De({text:"Validating...",type:"info"});const K=Q.map(ze=>[...ze]);if(vt.forEach(ze=>{K[ze.r]&&(K[ze.r][ze.c]=ze.letter)}),vt.length>1){const ze=[...vt].sort((Qe,Vt)=>Qe.r-Vt.r||Qe.c-Vt.c),Ge=ze[0],ut=ze[ze.length-1];if(Ge.r===ut.r){for(let Qe=Ge.c;Qe<=ut.c;Qe++)if(!K[Ge.r][Qe]){pr("Cannot leave gaps between tiles.");return}}else for(let Qe=Ge.r;Qe<=ut.r;Qe++)if(!K[Qe][Ge.c]){pr("Cannot leave gaps between tiles.");return}}const ie=Q.every(ze=>ze.every(Ge=>Ge===null));let we=!1,ve=!1;const Te=Q[0].length;if(vt.forEach(ze=>{ze.c===0&&(we=!0),[{r:ze.r+1,c:ze.c},{r:ze.r-1,c:ze.c},{r:ze.r,c:ze.c+1},{r:ze.r,c:ze.c-1}].forEach(ut=>{ut.r>=0&&ut.r<Lr&&ut.c>=0&&ut.c<Te&&Q[ut.r]&&Q[ut.r][ut.c]&&(ve=!0)})}),ie&&!we){pr("First word must start in Column 1.");return}if(!ie&&!ve){pr("Tiles must connect to existing words.");return}const qe=It(K).filter(ze=>ze.cells.some(Ge=>vt.some(ut=>ut.r===Ge.r&&ut.c===Ge.c)));if(qe.length===0){pr("Words must be at least 2 letters.");return}try{const ze=[];for(const Ge of qe)await Ir(Ge.word)||ze.push(Ge.word);if(ze.length>0){pr(`Invalid word(s): ${ze.join(", ")}`,ze[0]);return}Or(K,qe)}catch(ze){console.error(ze),pr("Error checking dictionary. Try again.")}},Ir=async K=>{const ie=K.toLowerCase().trim(),we=ie.toUpperCase();if(Ai.has(we)||dM.has(we))return!0;if(ie.length===2)return!1;try{const Te=`https://dictionaryapi.com/api/v3/references/collegiate/json/${encodeURIComponent(ie)}?key=4e64bca3-60b7-40bf-bcda-d8e496a67a7f`,Fe=await fetch(Te);if(!Fe.ok)return!1;const qe=await Fe.json();return!Array.isArray(qe)||qe.length===0||typeof qe[0]=="string"?!1:qe.some(Ge=>typeof Ge!="object"||!Ge.meta||Ge.fl==="abbreviation"||Ge.fl==="abbr"?!1:Array.isArray(Ge.meta.stems)?Ge.meta.stems.map(Qe=>Qe.toLowerCase()).includes(ie):!1)}catch(ve){return console.warn("M-W API Error:",ve),!0}},lr=K=>{at(K),tt(!0)},Vi=async()=>{if(ft){try{const K=Nl(Dl,"missing_words");await Nm(K,{word:ft.toUpperCase(),reportedBy:l,date:new Date().toISOString()}),Fr(ie=>new Set(ie).add(ft.toUpperCase())),De({text:`Reported '${ft}' - You can use it now!`,type:"success"})}catch(K){console.error("Error reporting word:",K),De({text:"Could not report word.",type:"error"})}tt(!1),at(null)}},It=K=>{let ie=[];const we=Q[0].length;for(let ve=0;ve<Lr;ve++){let Te="",Fe=[];for(let qe=0;qe<we;qe++)K[ve]&&K[ve][qe]?(Te+=K[ve][qe],Fe.push({r:ve,c:qe})):(Te.length>1&&ie.push({word:Te,cells:[...Fe],type:"H"}),Te="",Fe=[]);Te.length>1&&ie.push({word:Te,cells:[...Fe],type:"H"})}for(let ve=0;ve<we;ve++){let Te="",Fe=[];for(let qe=0;qe<Lr;qe++)K[qe]&&K[qe][ve]?(Te+=K[qe][ve],Fe.push({r:qe,c:ve})):(Te.length>1&&ie.push({word:Te,cells:[...Fe],type:"V"}),Te="",Fe=[]);Te.length>1&&ie.push({word:Te,cells:[...Fe],type:"V"})}return ie},pr=(K,ie=null)=>{De({text:K,type:"error",invalidWord:ie}),Ht(!1),Wt("error")},Or=(K,ie)=>{const we=ie.map(Qe=>Qe.word);jr(Qe=>[...Qe,...we]),Wt("success");const ve=JSON.parse(JSON.stringify(Q)),Te=de.map(Qe=>({...Qe,isPlaced:!1}));oe(Qe=>[...Qe,{grid:ve,hand:Te,score:Rt,drawCount:ct}]),ge(K),Ye(!0),setTimeout(()=>Ye(!1),200);let Fe=0,qe=!1;ie.forEach(Qe=>{Qe.cells.forEach(Vt=>{const Qt=Xr(Vt.r,Vt.c),kr=vt.some(mi=>mi.r===Vt.r&&mi.c===Vt.c);Qt&&kr&&(Fe+=Qt.val),Yt.some(mi=>mi.r===Vt.r&&mi.c===Vt.c)&&(qe=!0)})});let ze=de.filter(Qe=>!Qe.isPlaced);if(Fe>0){const Vt=dt.slice(ct,ct+Fe).map(Qt=>If(Qt,!0));ze=[...ze,...Vt].sort((Qt,kr)=>Qt.letter!==kr.letter?Qt.letter.localeCompare(kr.letter):Qt.isNew===kr.isNew?0:Qt.isNew?1:-1),kt(Qt=>Qt+Fe)}if(qe){const Qe=If("*",!0);ze=[...ze,Qe].sort((Vt,Qt)=>Vt.letter!==Qt.letter?Vt.letter.localeCompare(Qt.letter):Vt.isNew===Qt.isNew?0:Vt.isNew?1:-1)}if(Ee(ze),Fe>0||qe){const Qe=qe?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${Fe} Bonus Tiles!`;De({text:Qe,type:"success"})}else De({text:"Valid move!",type:"success"});let Ge=Rt-1;const ut=Q[0].length;vt.forEach(Qe=>{Qe.c>Ge&&(Ge=Qe.c)});for(let Qe=0;Qe<Lr;Qe++)for(let Vt=0;Vt<ut;Vt++)K[Qe]&&K[Qe][Vt]&&Vt>Ge&&(Ge=Vt);En(Ge+1),Nt([]),Ht(!1),Xt(null),Dr(!1)},Pi=()=>{Wt("click"),Ee(K=>[...K].sort(()=>Math.random()-.5))},ca=()=>{Wt("click"),Ee(K=>[...K].sort((ie,we)=>ie.letter!==we.letter?ie.letter.localeCompare(we.letter):ie.isNew===we.isNew?0:ie.isNew?1:-1))},Ki=de.reduce((K,ie)=>(K[ie.letter]||(K[ie.letter]=[]),K[ie.letter].push(ie),K),{}),ir=Array.from(new Set(de.map(K=>K.letter))),hi=ir.length>=6,ar=Math.ceil(ir.length/2),di=hi?ir.slice(0,ar):ir,Li=hi?ir.slice(ar):[],Ui=({letter:K})=>{const ie=Ki[K]||[],we=ie.filter(Ge=>!Ge.isPlaced),ve=Math.min(we.length,15),Te=we[we.length-1];if(ie.length>0&&ve===0)return I.createElement("div",{className:"w-10 h-10 rounded-lg border-2 border-dashed",style:{backgroundColor:j.boardBackground+"40",borderColor:j.boardLines}});if(ve===0)return null;const Fe=Te&&it===Te.id,qe=6,ze=40+(ve>1?(ve-1)*qe:0);return I.createElement("div",{className:"relative w-10 flex items-end",style:{height:`${ze}px`}},[...Array(ve-1)].map((Ge,ut)=>{const Vt=(K.charCodeAt(0)+ut)%7-3;return I.createElement("div",{key:ut,className:"absolute w-10 h-10 rounded-lg border transition-all shadow-md",style:{backgroundColor:"#e5e7eb",borderColor:"rgba(0,0,0,0.1)",bottom:`${ut*qe}px`,zIndex:ut,transform:`rotate(${Vt}deg)`}})}),I.createElement("button",{draggable:!$e&&i==="playing",onDragStart:Ge=>Gr(Ge,{type:"hand",tile:Te}),onClick:()=>Si(Te.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${i==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(ve-1)*qe}px`,zIndex:ve,backgroundColor:Fe?j.accentPrimary:K==="*"?j.tileTemp:"white",color:Fe?"white":"#1f2937",transform:Fe?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Fe?0:K.charCodeAt(0)%5-2}deg)`}},Te&&Te.isNew&&I.createElement("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter"},"NEW"),K==="*"?I.createElement(bf,{size:20,fill:j.starPurple,className:"text-purple-500"}):K))};return i==="menu"?I.createElement("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto transition-colors duration-300",style:{backgroundColor:j.background,color:j.textMain}},I.createElement("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch relative"},I.createElement("div",{className:"space-y-4 flex flex-col items-center w-full mt-6"},I.createElement(K_,null),I.createElement("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400"},I.createElement("span",null,"Refreshed Daily"),I.createElement(ym,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})),I.createElement("div",{className:"flex flex-col gap-1 items-center"},I.createElement("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:j.textSub}},"Jump as far as you can by building words, connecting tiles and picking up extra letters."),I.createElement("div",{className:"text-xs font-bold px-3 py-1 rounded-full border mt-2",style:{backgroundColor:j.tileLocked,color:j.accentSecondary,borderColor:j.accentPrimary}},"Today's Par: ",ii,"m"))),I.createElement("div",{className:"w-full max-w-xs space-y-2 group"},I.createElement("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:j.textSub}},"Enter your name"),I.createElement("input",{type:"text",value:l,onChange:K=>c(K.target.value),placeholder:"Player 1",maxLength:12,className:"w-full border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{backgroundColor:j.modalBg,color:j.textMain,borderColor:"transparent"},onFocus:K=>K.target.style.borderColor=j.accentPrimary,onBlur:K=>K.target.style.borderColor="transparent"})),I.createElement("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center"},I.createElement("button",{onClick:()=>Fn("standard"),className:"flex-1 py-2 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:j.accentPrimary}},"Play ",I.createElement(MT,{size:20,fill:"currentColor"})),I.createElement("button",{onClick:()=>Fn("maze"),className:"flex-1 py-2 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex flex-col items-center justify-center gap-0 text-white",style:{backgroundColor:"#d97706"}},I.createElement("span",null,"MAZE MODE"),I.createElement("span",{className:"text-[10px] font-bold text-orange-100/80 tracking-widest"},"HARDCORE"))),I.createElement("div",{className:"flex flex-col items-center gap-3 mt-2 w-full"},I.createElement("div",{className:"flex flex-row items-center justify-center gap-4"},I.createElement("button",{onClick:()=>w(!0),className:"group flex items-center gap-2 px-3 py-2 rounded-full font-bold text-xs transition-colors shadow-sm whitespace-nowrap",style:{backgroundColor:j.tileLocked,color:j.textSub},title:"Updates"},I.createElement(VT,{size:14})),I.createElement("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:opacity-80 border-b border-gray-500 transition-colors pb-0.5 whitespace-nowrap",style:{color:j.textSub}},"By Richard Bolland"),I.createElement("span",{style:{color:j.boardLines}},"|"),I.createElement("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap"},I.createElement(wT,{size:14,className:"fill-pink-600"}),I.createElement("span",null,"Tip Jar"))),I.createElement("span",{className:"text-[10px] text-center max-w-xs leading-tight",style:{color:j.textSub}},"Help cover server costs & keep the game running.")),I.createElement("div",{className:"block lg:hidden w-full h-full min-h-[300px]"},I.createElement(Vm,{user:Xe,lastUpdated:xe,initialMode:"standard",onParCalculated:oi,theme:j}))),I.createElement("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch"},I.createElement(Vm,{user:Xe,lastUpdated:xe,initialMode:"standard",onParCalculated:oi,theme:j})),E&&I.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},I.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},I.createElement("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar"},I.createElement("div",{className:"border-l-2 pl-3",style:{borderColor:"#D97706"}},I.createElement("div",{className:"text-xs font-bold uppercase",style:{color:"#D97706"}},"v9.10"),I.createElement("div",{className:"font-bold",style:{color:j.textMain}},"Maze Mode Arrives!"),I.createElement("p",{className:"text-xs",style:{color:j.textSub}},"New hardcore mode! Navigate dense obstacles with big rewards!."),I.createElement("ul",{className:"text-[10px] list-disc list-inside mt-1",style:{color:j.textSub}},I.createElement("li",null,'New "Maze" Leaderboard'),I.createElement("li",null,"End Game Word List & Stats"))),I.createElement("div",{className:"border-l-2 pl-3 border-gray-200"},I.createElement("div",{className:"text-xs font-bold uppercase text-gray-400"},"v9.01"),I.createElement("div",{className:"font-bold",style:{color:j.textSub}},"Christmas Mode (Archived)"),I.createElement("p",{className:"text-xs",style:{color:j.textSub}},"New Gift Boxes, Secret Rewards, and festive fixes.")),I.createElement("div",{className:"border-l-2 border-gray-200 pl-3"},I.createElement("div",{className:"text-xs font-bold text-gray-400 uppercase"},"v8.11"),I.createElement("div",{className:"font-bold",style:{color:j.textSub}},"Dictionary Upgrade"),I.createElement("p",{className:"text-xs",style:{color:j.textSub}},"Now powered by Merriam-Webster Collegiate Dictionary!"))),I.createElement("button",{onClick:()=>w(!1),className:"w-full mt-6 py-3 rounded-xl font-bold uppercase tracking-widest transition-all",style:{backgroundColor:j.boardLines,color:j.textMain}},"Close")))):I.createElement("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative transition-colors duration-300",style:{backgroundColor:j.background,color:j.textMain}},i==="gameOver"&&!Ne&&I.createElement("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6"},I.createElement(TM,{theme:j}),I.createElement("div",{className:"backdrop-blur-md p-8 rounded-3xl shadow-2xl text-center border max-w-md w-full flex flex-col relative z-[101]",style:{backgroundColor:j.modalBg+"EE",borderColor:j.boardLines}},I.createElement("h3",{className:"text-xl font-black uppercase tracking-widest mb-6",style:{color:j.textMain}},"STATISTICS"),I.createElement("div",{className:"flex justify-between items-start mb-8 px-1 gap-1"},I.createElement("div",{className:"flex flex-col items-center"},I.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ai?.gamesPlayed||0),I.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Played")),I.createElement("div",{className:"flex flex-col items-center"},I.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ai?.currentStreak||0),I.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Current",I.createElement("br",null),"Streak")),I.createElement("div",{className:"flex flex-col items-center"},I.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ai?.maxStreak||0),I.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Max",I.createElement("br",null),"Streak")),I.createElement("div",{className:"flex flex-col items-center"},I.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ai?.gamesPlayed>0?Math.round(ai.totalDistance/ai.gamesPlayed):0,"m"),I.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Avg",I.createElement("br",null),"Dist")),I.createElement("div",{className:"flex flex-col items-center"},I.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},(ai?.totalDistance||0)>=1e3?(ai.totalDistance/1e3).toFixed(1)+"k":(ai?.totalDistance||0)+"m"),I.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Total",I.createElement("br",null),"Dist"))),I.createElement("div",{className:"rounded-2xl overflow-hidden mb-6 shadow-sm border",style:{backgroundColor:j.settingsBg,borderColor:j.boardLines}},I.createElement("div",{className:"flex border-b",style:{borderColor:j.boardLines}},I.createElement("div",{className:"flex-1 p-4 border-r",style:{borderColor:j.boardLines}},I.createElement("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-1 opacity-60",style:{color:j.textSub}},"Athlete"),I.createElement("div",{className:"text-xl font-black truncate",style:{color:j.textMain}},l)),I.createElement("div",{className:"flex-1 p-4 bg-black/5"},I.createElement("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-1 opacity-60",style:{color:j.textSub}},"Distance"),I.createElement("div",{className:"text-3xl font-black",style:{color:j.accentPrimary}},C,"m"))),I.createElement("div",{className:"p-4 bg-white/50"},I.createElement("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2 opacity-60 text-left",style:{color:j.textSub}},"Words Found (",Ti.length,")"),I.createElement("div",{className:"flex flex-wrap gap-2 max-h-[120px] overflow-y-auto custom-scrollbar content-start"},Ti.length>0?Ti.map((K,ie)=>I.createElement("span",{key:ie,className:"px-2 py-1 rounded text-[10px] font-bold border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines,color:j.textMain}},K)):I.createElement("span",{className:"text-xs italic opacity-50"},"No words found yet.")))),I.createElement("div",{className:"flex flex-col gap-3"},I.createElement("button",{onClick:oa,className:"w-full py-4 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 hover:opacity-80",style:{backgroundColor:j.modalBg,borderColor:j.boardLines,color:j.textMain}},Z?I.createElement(I.Fragment,null,I.createElement(sT,{size:20})," Copied"):I.createElement(I.Fragment,null,I.createElement(zT,{size:20})," Share Result")),I.createElement("div",{className:"flex gap-2"},I.createElement("button",{onClick:li,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg",style:{backgroundColor:"#111827"}},"Play Again"),I.createElement("button",{onClick:()=>Ke(!0),className:"flex-none px-4 py-4 border-2 rounded-xl hover:opacity-80 shadow-sm transition-all flex items-center justify-center",style:{backgroundColor:j.modalBg,borderColor:j.boardLines,color:j.textMain},title:"View Board"},I.createElement(_T,{size:24}))))),I.createElement("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative"},I.createElement(Vm,{highlightName:l,user:Xe,onRankFound:V,lastUpdated:xe,initialMode:r,onParCalculated:oi,theme:j}))),Wn&&I.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},I.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},I.createElement("h3",{className:"text-xl font-black mb-4 uppercase",style:{color:j.textMain}},"Pick a Letter"),I.createElement("div",{className:"grid grid-cols-6 gap-2"},Object.keys(wE).filter(K=>K!=="*").map(K=>I.createElement("button",{key:K,onClick:()=>ua(K),className:"w-10 h-10 rounded-lg font-bold text-xl shadow-sm hover:scale-110 transition-transform border",style:{backgroundColor:j.tileTemp,borderColor:j.tileTempRing,color:j.textMain}},K))),I.createElement("button",{onClick:()=>{aa(!1),wi(null)},className:"mt-6 text-sm font-bold hover:opacity-80",style:{color:j.textSub}},"Cancel"))),Pe&&I.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},I.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},I.createElement("div",{className:"flex justify-center mb-4"},I.createElement("div",{className:"bg-yellow-100 p-3 rounded-full"},I.createElement(h0,{size:32,className:"text-yellow-600"}))),I.createElement("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:j.textMain}},"Report Missing Word"),I.createElement("p",{className:"mb-4 text-sm font-bold",style:{color:j.textMain}},'"',ft,'"'),I.createElement("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100 mb-6 text-left"},I.createElement("p",{className:"text-xs text-red-700 leading-relaxed font-medium"},I.createElement("strong",null," Warning:")," Moderators check all reported words. If you abuse this feature to create fake words, your high scores will be deleted.")),I.createElement("div",{className:"flex gap-3"},I.createElement("button",{onClick:()=>{tt(!1),at(null)},className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),I.createElement("button",{onClick:Vi,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-yellow-500 hover:bg-yellow-600"},"Report & Add")))),Y&&I.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},I.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},I.createElement("div",{className:"flex justify-center mb-4"},I.createElement("div",{className:"bg-blue-100 p-3 rounded-full"},I.createElement(d0,{size:32,className:"text-blue-600"}))),I.createElement("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:j.textMain}},"Use Undo?"),I.createElement("p",{className:"mb-6 text-sm",style:{color:j.textSub}},"You can only use Undo ",I.createElement("strong",{style:{color:j.accentPrimary}},"once per turn"),". ",I.createElement("br",null),I.createElement("br",null),"Are you sure you want to go back?"),I.createElement("div",{className:"flex gap-3"},I.createElement("button",{onClick:()=>F(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),I.createElement("button",{onClick:on,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-blue-500 hover:bg-blue-600"},"Confirm Undo")))),(In||Dn)&&I.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},I.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border relative",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},I.createElement("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 p-4 rounded-full shadow-xl",style:{backgroundColor:j.modalBg}},I.createElement(iT,{size:48,style:{color:j.accentPrimary}})),I.createElement("h3",{className:"text-2xl font-black mt-8 mb-4 uppercase tracking-tight",style:{color:j.textMain}},"Game Rules"),I.createElement("div",{className:"text-left mb-6 text-sm space-y-3",style:{color:j.textSub}},I.createElement("p",{className:"flex gap-2"},I.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),I.createElement("span",null,"This is a ",I.createElement("strong",null,"daily seeded game"),". Everyone gets the same letters and board - refreshed daily.")),I.createElement("p",{className:"flex gap-2"},I.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),I.createElement("span",null,"Place words ",I.createElement("strong",null,"Left to Right")," or ",I.createElement("strong",null,"Top to Bottom")," (Scrabble rules).")),I.createElement("p",{className:"flex gap-2"},I.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),I.createElement("span",null,"Minimum ",I.createElement("strong",null,"2 letter")," words.")),I.createElement("p",{className:"flex gap-2"},I.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),I.createElement("span",null,"Start in ",I.createElement("strong",null,"Column 1")," (left).")),I.createElement("p",{className:"flex gap-2 items-center"},I.createElement(ym,{size:16,className:"text-yellow-500 fill-yellow-500"}),I.createElement("span",null,I.createElement("strong",null,"Yellow Stars:")," Give +1, +2, or +3 random letters.")),I.createElement("p",{className:"flex gap-2 items-center"},I.createElement(bf,{size:16,className:"text-purple-500 fill-purple-500"}),I.createElement("span",null,I.createElement("strong",null,"Purple Sparkles:")," Give you a blank Wildcard tile!"))),I.createElement("button",{onClick:()=>{Nn(!1),zr(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:j.accentPrimary}},In?"Let's Jump!":"Close"))),$n&&I.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in"},I.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},I.createElement("div",{className:"flex justify-center mb-4"},I.createElement("div",{className:"bg-red-100 p-3 rounded-full"},I.createElement(CT,{size:32,className:"text-red-500"}))),I.createElement("h3",{className:"text-2xl font-black mb-2",style:{color:j.textMain}},"Exit Game?"),I.createElement("p",{className:"mb-8",style:{color:j.textSub}},"Are you sure you want to quit? You will lose your current progress."),I.createElement("div",{className:"flex gap-3"},I.createElement("button",{onClick:()=>qt(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),I.createElement("button",{onClick:yn,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600"},"Exit")))),Un&&I.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in"},I.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},I.createElement("h3",{className:"text-2xl font-black mb-2",style:{color:j.textMain}},"Submit Score?"),I.createElement("p",{className:"mb-8",style:{color:j.textSub}},"You reached column ",I.createElement("strong",{style:{color:j.accentPrimary}},Rt),". This will end your current run."),I.createElement("div",{className:"flex gap-3"},I.createElement("button",{onClick:es,className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),I.createElement("button",{onClick:wa,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:j.accentPrimary}},"Confirm")))),p&&I.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},I.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},I.createElement("div",{className:"flex justify-between items-center mb-6"},I.createElement("h3",{className:"text-xl font-black uppercase",style:{color:j.textMain}},"Settings"),I.createElement("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:j.textSub}},I.createElement(p0,{size:24}))),I.createElement("div",{className:"space-y-6"},I.createElement("div",{className:"space-y-2"},I.createElement("label",{className:"text-xs font-bold uppercase tracking-widest",style:{color:j.textSub}},"Username"),I.createElement("input",{type:"text",value:l,onChange:K=>c(K.target.value),maxLength:12,className:"w-full border px-4 py-3 rounded-xl font-bold outline-none transition-all",style:{backgroundColor:j.settingsBg,borderColor:"transparent",color:j.textMain}})),I.createElement("div",{className:"space-y-3"},I.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:j.settingsBg}},I.createElement("div",{className:"flex items-center gap-3"},be?I.createElement(IT,{size:20,className:"text-purple-400"}):I.createElement(GT,{size:20,className:"text-yellow-500"}),I.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Dark Mode")),I.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},I.createElement("input",{type:"checkbox",className:"sr-only peer",checked:be,onChange:()=>Le(!be)}),I.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"}))),I.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:j.settingsBg}},I.createElement("div",{className:"flex items-center gap-3"},q?I.createElement(WT,{size:20,className:"text-blue-500"}):I.createElement(KT,{size:20,className:"text-gray-400"}),I.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Sound Effects")),I.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},I.createElement("input",{type:"checkbox",className:"sr-only peer",checked:q,onChange:()=>te(!q)}),I.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"}))),I.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:j.settingsBg}},I.createElement("div",{className:"flex items-center gap-3"},z?I.createElement(g0,{size:20,className:"text-orange-500 fill-orange-500"}):I.createElement(g0,{size:20,className:"text-gray-400"}),I.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Haptics")),I.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},I.createElement("input",{type:"checkbox",className:"sr-only peer",checked:z,onChange:()=>Oe(!z)}),I.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),I.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:j.settingsBg}},I.createElement("div",{className:"flex items-center gap-3"},I.createElement("span",{className:"text-xl"},""),I.createElement("div",{className:"flex flex-col"},I.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Crowd Fans"))),I.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},I.createElement("input",{type:"checkbox",className:"sr-only peer",checked:x,onChange:()=>O(!x)}),I.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})))),P&&I.createElement("button",{onClick:R,className:"w-full py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm flex items-center justify-center gap-2 text-white",style:{backgroundColor:j.accentPrimary}},I.createElement(yT,{size:16})," Install App"),I.createElement("div",{className:"pt-4 border-t",style:{borderColor:j.boardLines}},I.createElement("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:j.textSub}},"Make a Suggestion"),I.createElement("textarea",{value:L,onChange:K=>N(K.target.value),className:"w-full border px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24",style:{backgroundColor:j.settingsBg,borderColor:"transparent",color:j.textMain},placeholder:"Ideas for new modes, obstacles, or features..."}),I.createElement("button",{onClick:G,disabled:W!=="idle"||!L.trim(),className:`w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm ${W==="success"?"bg-green-500 text-white":"bg-gray-800 text-white hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"}`},W==="submitting"?"Sending...":W==="success"?"Sent! Thanks":"Submit Suggestion"))),I.createElement("button",{onClick:()=>b(!1),className:"w-full mt-6 py-3 font-bold uppercase tracking-widest text-xs hover:opacity-70 transition-all",style:{color:j.textSub}},"Close Settings"))),I.createElement("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50"},I.createElement("div",{className:"flex flex-col items-start"},I.createElement("div",{className:"hidden md:block text-sm font-bold tracking-widest",style:{color:j.textSub}},new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()),gn&&I.createElement("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap"},I.createElement("span",{className:"font-bold uppercase tracking-widest",style:{color:j.textSub}},r==="quick"?"Quick Leader":"Standard Leader"),I.createElement(Pm,{size:12,className:"text-yellow-500 fill-yellow-500"}),I.createElement("span",{className:"font-bold",style:{color:j.textMain}},gn.name),I.createElement("span",{className:"font-mono",style:{color:j.textSub}},gn.score,"m")),I.createElement("div",{className:"block md:hidden"},Rt>0&&i==="playing"&&I.createElement("button",{onClick:On,disabled:$e||_t,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"}},"END RUN ",I.createElement(m0,{size:10,style:{color:Om.starGold}})),i==="gameOver"&&Ne&&I.createElement("button",{onClick:()=>Ke(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:j.accentPrimary,color:"white"}},I.createElement(f0,{size:12})," RESULTS"))),I.createElement("div",{className:"flex flex-col items-center flex-1"},I.createElement("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:Pa},I.createElement(K_,null)),I.createElement("div",{className:"hidden md:block mt-6"},i==="playing"&&Rt>0&&I.createElement("button",{onClick:On,disabled:$e||_t,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"}},"END RUN ",I.createElement(m0,{size:10,style:{color:Om.starGold}})),i==="gameOver"&&Ne&&I.createElement("button",{onClick:()=>Ke(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:j.accentPrimary}},I.createElement(f0,{size:14})," BACK TO RESULTS"))),I.createElement("div",{className:"flex flex-col items-end w-32 gap-1"},I.createElement("span",{className:"text-xs font-bold tracking-widest",style:{color:j.accentPrimary}},l||"PLAYER 1"),I.createElement("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:j.accentPrimary}},I.createElement(OT,{size:16})," ",C,"m"),I.createElement("div",{className:"flex gap-2"},I.createElement("button",{onClick:()=>zr(!0),className:"text-[10px] font-bold hover:opacity-70 uppercase tracking-widest flex items-center gap-1",style:{color:j.textSub}},"Rules ",I.createElement(AT,{size:12})),I.createElement("button",{onClick:()=>b(!0),className:"hover:opacity-70",style:{color:j.textSub}},I.createElement(LT,{size:14}))))),I.createElement("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:ki,onMouseLeave:rr,onMouseUp:ui,onMouseMove:Ta},I.createElement("div",{ref:Sr,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${Cr?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"}},I.createElement("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area"},I.createElement("div",{className:"absolute top-0 bottom-0 border-r-2 border-red-400 border-dashed z-20 pointer-events-none opacity-60",style:{left:`${ii*xa}px`}},I.createElement("span",{className:"absolute top-[-20px] right-0 translate-x-1/2 text-red-500 text-[10px] font-black tracking-widest"},"PAR")),I.createElement("div",{className:"flex relative mb-3",style:{width:`${Q[0].length*xa}px`,height:"24px"}},Array(Q[0].length).fill(0).map((K,ie)=>{const we=ie===0,ve=(ie+1)%5===0;if(!we&&!ve)return null;const Te=Rt<3;return I.createElement("div",{key:`ruler-${ie}`,className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:ie*xa+xa/2,transform:`translateX(-50%) ${we&&Te?"translateY(-45px)":"translateY(0)"}`}},I.createElement("span",{className:"text-xs tracking-wider",style:{color:we?j.textMain:j.textSub}},we?"START":`${ie+1}m`),I.createElement("div",{className:"w-0.5 h-1.5 mt-0.5",style:{backgroundColor:we?j.textMain:j.boardLines}}))})),I.createElement("div",{className:"relative"},I.createElement("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none"},x&&Ar.filter(K=>K.type==="top").map((K,ie)=>{const we=Math.max(K.startCol,Rt+K.offset);return I.createElement("div",{key:`fan-top-${K.id}`,className:"absolute -top-[55px]",style:{left:`${we*xa}px`,transition:"left 1.2s ease-in-out",zIndex:50}},I.createElement($_,{trigger:Se}))})),I.createElement("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${Q[0].length}, ${xa}px)`,gridTemplateRows:`repeat(${Lr}, ${xa}px)`,backgroundColor:j.boardBackground,borderColor:j.boardLines}},Array(Lr).fill(0).map((K,ie)=>Array(Q[0].length).fill(0).map((we,ve)=>{const Te=Yr(ie,ve),Fe=Xr(ie,ve),qe=Qi(ie,ve),ze=Yt.some(gr=>gr.r===ie&&gr.c===ve),ut=ve===0&&!Te&&!Za,Qe=Te?.type==="locked",Vt=(ve+1)%5===0,Qt=ve<C,kr=hn&&hn.r===ie&&hn.c===ve,mi=$e&&Qe?"animate-jump-green":"";return I.createElement("div",{key:`${ie}-${ve}`,onClick:()=>Wi(ie,ve),onDragOver:Aa,onDrop:gr=>ci(gr,ie,ve),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${Te?Te.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":qe?"cursor-not-allowed":"hover:bg-white/20"}  ${Te?.type==="temp"?`bg-[${j.tileTemp}] ring-2 ring-[${j.tileTempRing}] -translate-y-[2px] z-10`:""} ${!Te&&!qe&&Qt?"bg-white/20":ve===0&&!Te?"bg-green-100/40":!Te&&!qe&&!ut&&(ie+ve)%2===0?"bg-black/5":"bg-transparent"} ${kr?"ring-4 ring-blue-400 z-20":""} ${!Te&&kr?"bg-blue-50/20":""} ${!Te&&Vt?"border-r-2 border-r-black/10":"border border-black/5"} ${Qt?"animate-pop-green":""} ${mi}`,style:{...Qe?{backgroundColor:Qt?j.overlayComplete:j.tileLocked,color:j.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:$e?`${ve*50}ms`:"0ms"}:Te?.type==="temp"?{backgroundColor:Te.isWild?j.tileWildPlaced:j.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:qe?{backgroundColor:j.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:r==="maze"&&(ve===14||ve===29)?{backgroundColor:"#fef08a",borderLeft:"2px solid #eab308",borderRight:"2px solid #eab308"}:{}}},!Te&&ut&&I.createElement("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10"},I.createElement(hT,{size:20,style:{color:j.startArrow}})),!Te&&qe&&I.createElement("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Te&&Fe&&!qe&&!ze&&I.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10"},I.createElement(ym,{className:"w-6 h-6",fill:j.starGold,stroke:j.starGold}),I.createElement("span",{className:"text-[16px] font-black mt-[-2px]",style:{color:"#000000"}},"+",Fe.val)),!Te&&ze&&!qe&&I.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse"},I.createElement(bf,{className:"w-7 h-7",fill:j.starPurple,stroke:j.starPurple})),Te&&I.createElement("div",{draggable:Te.type==="temp"&&!$e&&i==="playing",onDragStart:gr=>Gr(gr,{type:"board",r:ie,c:ve,letter:Te.letter}),className:`w-full h-full flex items-center justify-center ${Te.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`},I.createElement("span",{className:"text-2xl font-bold select-none font-mono"},Te.letter),Te.isWild&&I.createElement(bf,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})))}))),I.createElement("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none"},x&&Ar.filter(K=>K.type==="bottom").map((K,ie)=>{const we=Math.max(K.startCol,Rt+K.offset);return I.createElement("div",{key:`fan-bottom-${K.id}`,className:"absolute -bottom-[35px]",style:{left:`${we*xa}px`,transition:"left 1.2s ease-in-out",zIndex:50}},I.createElement($_,{trigger:Se}))}))),tr&&I.createElement("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none"},I.createElement("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative"},I.createElement("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),I.createElement(cT,{size:16}),"Start Here!"))))),I.createElement("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50"},I.createElement("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4"},I.createElement("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${st.type==="error"?"bg-red-100 text-red-700":st.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`},I.createElement("span",null,_t?"Checking...":st.text),st.type==="error"&&st.invalidWord&&I.createElement("button",{onClick:()=>lr(st.invalidWord),className:"ml-2 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors hover:opacity-80",style:{backgroundColor:j.accentPrimary,color:"white"}},"Report ",I.createElement(h0,{size:10}))),I.createElement("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center"},I.createElement("button",{onClick:Oi,disabled:$e||U.length===0||i!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:j.modalBg,color:j.textMain},title:"Undo last move"},I.createElement(d0,{size:16})),I.createElement("button",{onClick:Pi,disabled:$e||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:j.modalBg,color:j.textMain}},I.createElement(jT,{size:16})," Shuffle"),I.createElement("button",{onClick:ca,disabled:$e||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:j.modalBg,color:j.textMain}},I.createElement(tT,{size:16})," Sort A-Z"),vt.length>0&&I.createElement("button",{onClick:Wr,disabled:_t||$e||i!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${_t||$e?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:_t||$e?{}:{backgroundColor:j.accentPrimary,color:"white"}},_t?"Checking...":"JUMP"," ",I.createElement(lT,{size:18,strokeWidth:4})),vt.length>0&&I.createElement("button",{onClick:mt,disabled:$e||i!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50"},I.createElement(p0,{size:16})))),I.createElement("div",{onDragOver:Aa,onDrop:fi,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:j.handBg}},ir.length===0&&I.createElement("div",{className:"italic",style:{color:j.textSub}},"Empty Hand"),ir.length<6?I.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},ir.map(K=>I.createElement(Ui,{key:K,letter:K}))):I.createElement("div",{className:"flex flex-col gap-2 w-full items-center"},I.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},di.map(K=>I.createElement(Ui,{key:K,letter:K}))),I.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},Li.map(K=>I.createElement(Ui,{key:K,letter:K})))))),I.createElement("style",null,`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `))}Ww.createRoot(document.getElementById("root")).render(I.createElement(Ue.StrictMode,null,I.createElement(AM,null)));
