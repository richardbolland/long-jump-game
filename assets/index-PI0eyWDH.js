(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var vd={exports:{}},El={};var __;function fA(){if(__)return El;__=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var v_;function dA(){return v_||(v_=1,vd.exports=fA()),vd.exports}var $=dA(),Ed={exports:{}},Ct={};var E_;function mA(){if(E_)return Ct;E_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},at=Object.assign,W={};function _t(O,Q,it){this.props=O,this.context=Q,this.refs=W,this.updater=it||J}_t.prototype.isReactComponent={},_t.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},_t.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=_t.prototype;function dt(O,Q,it){this.props=O,this.context=Q,this.refs=W,this.updater=it||J}var Ft=dt.prototype=new Tt;Ft.constructor=dt,at(Ft,_t.prototype),Ft.isPureReactComponent=!0;var te=Array.isArray;function Ht(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(O,Q,it){var ot=it.ref;return{$$typeof:a,type:O,key:Q,ref:ot!==void 0?ot:null,props:it}}function M(O,Q){return R(O.type,Q,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function k(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return Q[it]})}var w=/\/+/g;function ue(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Q.toString(36)}function Se(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ht,Ht):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,it,ot,At){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(wt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case a:case t:kt=!0;break;case A:return kt=O._init,H(kt(O._payload),Q,it,ot,At)}}if(kt)return At=At(O),kt=ot===""?"."+ue(O,0):ot,te(At)?(it="",kt!=null&&(it=kt.replace(w,"$&/")+"/"),H(At,Q,it,"",function(Ui){return Ui})):At!=null&&(D(At)&&(At=M(At,it+(At.key==null||O&&O.key===At.key?"":(""+At.key).replace(w,"$&/")+"/")+kt)),Q.push(At)),1;kt=0;var be=ot===""?".":ot+":";if(te(O))for(var he=0;he<O.length;he++)ot=O[he],wt=be+ue(ot,he),kt+=H(ot,Q,it,wt,At);else if(he=G(O),typeof he=="function")for(O=he.call(O),he=0;!(ot=O.next()).done;)ot=ot.value,wt=be+ue(ot,he++),kt+=H(ot,Q,it,wt,At);else if(wt==="object"){if(typeof O.then=="function")return H(Se(O),Q,it,ot,At);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return kt}function nt(O,Q,it){if(O==null)return O;var ot=[],At=0;return H(O,ot,"","",function(wt){return Q.call(it,wt,At++)}),ot}function mt(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Vt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Yt={map:nt,forEach:function(O,Q,it){nt(O,function(){Q.apply(this,arguments)},it)},count:function(O){var Q=0;return nt(O,function(){Q++}),Q},toArray:function(O){return nt(O,function(Q){return Q})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ct.Activity=S,Ct.Children=Yt,Ct.Component=_t,Ct.Fragment=i,Ct.Profiler=l,Ct.PureComponent=dt,Ct.StrictMode=s,Ct.Suspense=y,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ct.cache=function(O){return function(){return O.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(O,Q,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ot=at({},O.props),At=O.key;if(Q!=null)for(wt in Q.key!==void 0&&(At=""+Q.key),Q)!b.call(Q,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Q.ref===void 0||(ot[wt]=Q[wt]);var wt=arguments.length-2;if(wt===1)ot.children=it;else if(1<wt){for(var kt=Array(wt),be=0;be<wt;be++)kt[be]=arguments[be+2];ot.children=kt}return R(O.type,At,ot)},Ct.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ct.createElement=function(O,Q,it){var ot,At={},wt=null;if(Q!=null)for(ot in Q.key!==void 0&&(wt=""+Q.key),Q)b.call(Q,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(At[ot]=Q[ot]);var kt=arguments.length-2;if(kt===1)At.children=it;else if(1<kt){for(var be=Array(kt),he=0;he<kt;he++)be[he]=arguments[he+2];At.children=be}if(O&&O.defaultProps)for(ot in kt=O.defaultProps,kt)At[ot]===void 0&&(At[ot]=kt[ot]);return R(O,wt,At)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(O){return{$$typeof:p,render:O}},Ct.isValidElement=D,Ct.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:mt}},Ct.memo=function(O,Q){return{$$typeof:v,type:O,compare:Q===void 0?null:Q}},Ct.startTransition=function(O){var Q=C.T,it={};C.T=it;try{var ot=O(),At=C.S;At!==null&&At(it,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Ht,Vt)}catch(wt){Vt(wt)}finally{Q!==null&&it.types!==null&&(Q.types=it.types),C.T=Q}},Ct.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ct.use=function(O){return C.H.use(O)},Ct.useActionState=function(O,Q,it){return C.H.useActionState(O,Q,it)},Ct.useCallback=function(O,Q){return C.H.useCallback(O,Q)},Ct.useContext=function(O){return C.H.useContext(O)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},Ct.useEffect=function(O,Q){return C.H.useEffect(O,Q)},Ct.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ct.useId=function(){return C.H.useId()},Ct.useImperativeHandle=function(O,Q,it){return C.H.useImperativeHandle(O,Q,it)},Ct.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},Ct.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},Ct.useMemo=function(O,Q){return C.H.useMemo(O,Q)},Ct.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},Ct.useReducer=function(O,Q,it){return C.H.useReducer(O,Q,it)},Ct.useRef=function(O){return C.H.useRef(O)},Ct.useState=function(O){return C.H.useState(O)},Ct.useSyncExternalStore=function(O,Q,it){return C.H.useSyncExternalStore(O,Q,it)},Ct.useTransition=function(){return C.H.useTransition()},Ct.version="19.2.0",Ct}var T_;function cm(){return T_||(T_=1,Ed.exports=mA()),Ed.exports}var Kt=cm(),Td={exports:{}},Tl={},Ad={exports:{}},Sd={};var A_;function gA(){return A_||(A_=1,(function(a){function t(H,nt){var mt=H.length;H.push(nt);t:for(;0<mt;){var Vt=mt-1>>>1,Yt=H[Vt];if(0<l(Yt,nt))H[Vt]=nt,H[mt]=Yt,mt=Vt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var nt=H[0],mt=H.pop();if(mt!==nt){H[0]=mt;t:for(var Vt=0,Yt=H.length,O=Yt>>>1;Vt<O;){var Q=2*(Vt+1)-1,it=H[Q],ot=Q+1,At=H[ot];if(0>l(it,mt))ot<Yt&&0>l(At,it)?(H[Vt]=At,H[ot]=mt,Vt=ot):(H[Vt]=it,H[Q]=mt,Vt=Q);else if(ot<Yt&&0>l(At,mt))H[Vt]=At,H[ot]=mt,Vt=ot;else break t}}return nt}function l(H,nt){var mt=H.sortIndex-nt.sortIndex;return mt!==0?mt:H.id-nt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var y=[],v=[],A=1,S=null,x=3,G=!1,J=!1,at=!1,W=!1,_t=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Ft(H){for(var nt=i(v);nt!==null;){if(nt.callback===null)s(v);else if(nt.startTime<=H)s(v),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(v)}}function te(H){if(at=!1,Ft(H),!J)if(i(y)!==null)J=!0,Ht||(Ht=!0,k());else{var nt=i(v);nt!==null&&Se(te,nt.startTime-H)}}var Ht=!1,C=-1,b=5,R=-1;function M(){return W?!0:!(a.unstable_now()-R<b)}function D(){if(W=!1,Ht){var H=a.unstable_now();R=H;var nt=!0;try{t:{J=!1,at&&(at=!1,Tt(C),C=-1),G=!0;var mt=x;try{e:{for(Ft(H),S=i(y);S!==null&&!(S.expirationTime>H&&M());){var Vt=S.callback;if(typeof Vt=="function"){S.callback=null,x=S.priorityLevel;var Yt=Vt(S.expirationTime<=H);if(H=a.unstable_now(),typeof Yt=="function"){S.callback=Yt,Ft(H),nt=!0;break e}S===i(y)&&s(y),Ft(H)}else s(y);S=i(y)}if(S!==null)nt=!0;else{var O=i(v);O!==null&&Se(te,O.startTime-H),nt=!1}}break t}finally{S=null,x=mt,G=!1}nt=void 0}}finally{nt?k():Ht=!1}}}var k;if(typeof dt=="function")k=function(){dt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ue=w.port2;w.port1.onmessage=D,k=function(){ue.postMessage(null)}}else k=function(){_t(D,0)};function Se(H,nt){C=_t(function(){H(a.unstable_now())},nt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(H){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var mt=x;x=nt;try{return H()}finally{x=mt}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var mt=x;x=H;try{return nt()}finally{x=mt}},a.unstable_scheduleCallback=function(H,nt,mt){var Vt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Vt+mt:Vt):mt=Vt,H){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=mt+Yt,H={id:A++,callback:nt,priorityLevel:H,startTime:mt,expirationTime:Yt,sortIndex:-1},mt>Vt?(H.sortIndex=mt,t(v,H),i(y)===null&&H===i(v)&&(at?(Tt(C),C=-1):at=!0,Se(te,mt-Vt))):(H.sortIndex=Yt,t(y,H),J||G||(J=!0,Ht||(Ht=!0,k()))),H},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(H){var nt=x;return function(){var mt=x;x=nt;try{return H.apply(this,arguments)}finally{x=mt}}}})(Sd)),Sd}var S_;function pA(){return S_||(S_=1,Ad.exports=gA()),Ad.exports}var bd={exports:{}},rn={};var b_;function yA(){if(b_)return rn;b_=1;var a=cm();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,A)},rn.flushSync=function(y){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=v,s.p=A,s.d.f()}},rn.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},rn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},rn.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,S=p(A,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:G}):A==="script"&&s.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},rn.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},rn.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,S=p(A,v.crossOrigin);s.d.L(y,A,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},rn.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=p(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},rn.requestFormReset=function(y){s.d.r(y)},rn.unstable_batchedUpdates=function(y,v){return y(v)},rn.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var w_;function _A(){if(w_)return bd.exports;w_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),bd.exports=yA(),bd.exports}var R_;function vA(){if(R_)return Tl;R_=1;var a=pA(),t=cm(),i=_A();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),_t=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Ht=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case at:return"Fragment";case _t:return"Profiler";case W:return"StrictMode";case te:return"Suspense";case Ht:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case dt:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}var Se=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Vt=[],Yt=-1;function O(e){return{current:e}}function Q(e){0>Yt||(e.current=Vt[Yt],Vt[Yt]=null,Yt--)}function it(e,n){Yt++,Vt[Yt]=e.current,e.current=n}var ot=O(null),At=O(null),wt=O(null),kt=O(null);function be(e,n){switch(it(wt,n),it(At,e),it(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=By(n),e=qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(ot),it(ot,e)}function he(){Q(ot),Q(At),Q(wt)}function Ui(e){e.memoizedState!==null&&it(kt,e);var n=ot.current,r=qy(n,e.type);n!==r&&(it(At,e),it(ot,r))}function dr(e){At.current===e&&(Q(ot),Q(At)),kt.current===e&&(Q(kt),pl._currentValue=mt)}var mr,gr;function Dn(e){if(mr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);mr=n&&n[1]||"",gr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mr+e+gr}var ps=!1;function Li(e,n){if(!e||ps)return"";ps=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){z=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var q=`
`+I[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{ps=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Dn(r):""}function ys(e,n){switch(e.tag){case 26:case 27:case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return e.child!==n&&n!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Li(e.type,!1);case 11:return Li(e.type.render,!1);case 1:return Li(e.type,!0);case 31:return Dn("Activity");default:return""}}function pr(e){try{var n="",r=null;do n+=ys(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,we=a.unstable_scheduleCallback,ai=a.unstable_cancelCallback,vo=a.unstable_shouldYield,_s=a.unstable_requestPaint,Ke=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,vs=a.unstable_ImmediatePriority,Gn=a.unstable_UserBlockingPriority,oi=a.unstable_NormalPriority,Eo=a.unstable_LowPriority,aa=a.unstable_IdlePriority,Z=a.log,et=a.unstable_setDisableYieldValue,ut=null,rt=null;function st(e){if(typeof Z=="function"&&et(e),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(ut,e)}catch{}}var lt=Math.clz32?Math.clz32:It,St=Math.log,Nt=Math.LN2;function It(e){return e>>>=0,e===0?32:31-(St(e)/Nt|0)|0}var ee=256,Ne=262144,fe=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(g&=E,g!==0?h=li(g):r||(r=E&~e,r!==0&&(h=li(r))))):(E=o&~f,E!==0?h=li(E):g!==0?h=li(g):r||(r=o&~e,r!==0&&(h=li(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ah(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(){var e=fe;return fe<<=1,(fe&62914560)===0&&(fe=4194304),e}function ci(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Es(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var q=31-lt(r),Y=1<<q;E[q]=0,I[q]=-1;var z=P[q];if(z!==null)for(P[q]=null,q=0;q<z.length;q++){var B=z[q];B!==null&&(B.lane&=-536870913)}r&=~Y}o!==0&&Ts(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Ts(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-lt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function To(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-lt(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Ao(e,n){var r=n&-n;return r=(r&42)!==0?1:As(r),(r&(e.suspendedLanes|n))!==0?0:r}function As(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wl(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:h_(e.type))}function Qn(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var Yn=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Yn,Ge="__reactProps$"+Yn,hi="__reactContainer$"+Yn,oa="__reactEvents$"+Yn,bh="__reactListeners$"+Yn,tu="__reactHandles$"+Yn,eu="__reactResources$"+Yn,fi="__reactMarker$"+Yn;function la(e){delete e[Oe],delete e[Ge],delete e[oa],delete e[bh],delete e[tu]}function di(e){var n=e[Oe];if(n)return n;for(var r=e.parentNode;r;){if(n=r[hi]||r[Oe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Xy(e);e!==null;){if(r=e[Oe])return r;e=Xy(e)}return n}e=r,r=e.parentNode}return null}function Nn(e){if(e=e[Oe]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function En(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function mi(e){var n=e[eu];return n||(n=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Me(e){e[fi]=!0}var So=new Set,bo={};function gi(e,n){pi(e,n),pi(e+"Capture",n)}function pi(e,n){for(bo[e]=n,e=0;e<n.length;e++)So.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Io={};function nu(e){return ve.call(Io,e)?!0:ve.call(Ro,e)?!1:wo.test(e)?Io[e]=!0:(Ro[e]=!0,!1)}function ua(e,n,r){if(nu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Tn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function xe(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Fe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ne(e){if(!e._valueTracker){var n=yr(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function Ss(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=yr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bs=/[\n"\\]/g;function hn(e){return e.replace(bs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ca(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Fe(n)):e.value!==""+Fe(n)&&(e.value=""+Fe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Do(e,g,Fe(n)):r!=null?Do(e,g,Fe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Fe(E):e.removeAttribute("name")}function iu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ne(e);return}r=r!=null?""+Fe(r):"",n=n!=null?""+Fe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),ne(e)}function Do(e,n,r){n==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function _r(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Fe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ru(e,n,r){if(n!=null&&(n=""+Fe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Fe(r):""}function vr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(Se(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Fe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),ne(e)}function fn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||su.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Oo(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return Er.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Mo=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,_i=null;function ws(e){var n=Nn(e);if(n&&(e=n.stateNode)){var r=e[Ge]||null;t:switch(e=n.stateNode,n.type){case"input":if(ca(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ge]||null;if(!h)throw Error(s(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Ss(o)}break t;case"textarea":ru(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&_r(e,!!r.multiple,n,!1)}}}var da=!1;function Ar(e,n,r){if(da)return e(n,r);da=!0;try{var o=e(n);return o}finally{if(da=!1,(Tr!==null||_i!==null)&&(Wu(),Tr&&(n=Tr,e=_i,_i=Tr=null,ws(n),e)))for(n=0;n<e.length;n++)ws(e[n])}}function Xn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ge]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rs=!1;if(Mn)try{var se={};Object.defineProperty(se,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{Rs=!1}var vi=null,xo=null,Is=null;function Vo(){if(Is)return Is;var e,n=xo,r=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Is=h.slice(e,1<o?1-o:void 0)}function Cs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function $n(){return!1}function Xe(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:$n,this.isPropagationStopped=$n,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Xe(Bi),Sr=S({},Bi,{view:0,detail:0}),ko=Xe(Sr),br,ma,Ti,ga=S({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(br=e.screenX-Ti.screenX,ma=e.screenY-Ti.screenY):ma=br=0,Ti=e),br)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Uo=Xe(ga),Ds=S({},ga,{dataTransfer:0}),ou=Xe(Ds),lu=S({},Sr,{relatedTarget:0}),Ns=Xe(lu),Lo=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=Xe(Lo),pa=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cu=Xe(pa),hu=S({},Bi,{data:0}),Ai=Xe(hu),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mu[e])?!!n[e]:!1}function wr(){return gu}var un=S({},Sr,{key:function(e){if(e.key){var n=fu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(e){return e.type==="keypress"?Cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pu=Xe(un),yu=S({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Xe(yu),u=S({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),m=Xe(u),_=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xe(_),U=S({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Xe(U),tt=S({},Bi,{newState:0,oldState:0}),Ot=Xe(tt),Re=[9,13,27,32],Zt=Mn&&"CompositionEvent"in window,ye=null;Mn&&"documentMode"in document&&(ye=document.documentMode);var xn=Mn&&"TextEvent"in window&&!ye,Si=Mn&&(!Zt||ye&&8<ye&&11>=ye),Zn=" ",Jn=!1;function Os(e,n){switch(e){case"keyup":return Re.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function UT(e,n){switch(e){case"compositionend":return ya(n);case"keypress":return n.which!==32?null:(Jn=!0,Zn);case"textInput":return e=n.data,e===Zn&&Jn?null:e;default:return null}}function LT(e,n){if(_a)return e==="compositionend"||!Zt&&Os(e,n)?(e=Vo(),Is=xo=vi=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!PT[e.type]:n==="textarea"}function Wm(e,n,r,o){Tr?_i?_i.push(o):_i=[o]:Tr=o,n=ac(n,"onChange"),0<n.length&&(r=new Ei("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Po=null,zo=null;function zT(e){ky(e,0)}function _u(e){var n=En(e);if(Ss(n))return e}function tg(e,n){if(e==="change")return n}var eg=!1;if(Mn){var wh;if(Mn){var Rh="oninput"in document;if(!Rh){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Rh=typeof ng.oninput=="function"}wh=Rh}else wh=!1;eg=wh&&(!document.documentMode||9<document.documentMode)}function ig(){Po&&(Po.detachEvent("onpropertychange",rg),zo=Po=null)}function rg(e){if(e.propertyName==="value"&&_u(zo)){var n=[];Wm(n,zo,e,On(e)),Ar(zT,n)}}function jT(e,n,r){e==="focusin"?(ig(),Po=n,zo=r,Po.attachEvent("onpropertychange",rg)):e==="focusout"&&ig()}function BT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(zo)}function qT(e,n){if(e==="click")return _u(n)}function HT(e,n){if(e==="input"||e==="change")return _u(n)}function GT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:GT;function jo(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ve.call(n,h)||!An(e[h],n[h]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,n){var r=sg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=sg(r)}}function og(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?og(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=yi(e.document)}return n}function Ih(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var FT=Mn&&"documentMode"in document&&11>=document.documentMode,va=null,Ch=null,Bo=null,Dh=!1;function ug(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dh||va==null||va!==yi(o)||(o=va,"selectionStart"in o&&Ih(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&jo(Bo,o)||(Bo=o,o=ac(Ch,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=va)))}function Ms(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ea={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Nh={},cg={};Mn&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function xs(e){if(Nh[e])return Nh[e];if(!Ea[e])return e;var n=Ea[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in cg)return Nh[e]=n[r];return e}var hg=xs("animationend"),fg=xs("animationiteration"),dg=xs("animationstart"),QT=xs("transitionrun"),YT=xs("transitionstart"),KT=xs("transitioncancel"),mg=xs("transitionend"),gg=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Wn(e,n){gg.set(e,n),gi(n,[e])}var vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],Ta=0,Mh=0;function Eu(){for(var e=Ta,n=Mh=Ta=0;n<e;){var r=Vn[n];Vn[n++]=null;var o=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&pg(r,h,f)}}function Tu(e,n,r,o){Vn[Ta++]=e,Vn[Ta++]=n,Vn[Ta++]=r,Vn[Ta++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,r,o){return Tu(e,n,r,o),Au(e)}function Vs(e,n){return Tu(e,null,null,n),Au(e)}function pg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-lt(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Au(e){if(50<ul)throw ul=0,Hf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Aa={};function XT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,r,o){return new XT(e,n,r,o)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,n){var r=e.alternate;return r===null?(r=Sn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function yg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Su(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Vh(e)&&(g=1);else if(typeof e=="string")g=tA(e,r,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Sn(31,r,n,h),e.elementType=R,e.lanes=f,e;case at:return ks(r.children,h,f,n);case W:g=8,h|=24;break;case _t:return e=Sn(12,r,n,h|2),e.elementType=_t,e.lanes=f,e;case te:return e=Sn(13,r,n,h),e.elementType=te,e.lanes=f,e;case Ht:return e=Sn(19,r,n,h),e.elementType=Ht,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case Tt:g=9;break t;case Ft:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ks(e,n,r,o){return e=Sn(7,e,o,n),e.lanes=r,e}function kh(e,n,r){return e=Sn(6,e,null,n),e.lanes=r,e}function _g(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Uh(e,n,r){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var vg=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var r=vg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:pr(n)},vg.set(e,n),n)}return{value:e,source:n,stack:pr(n)}}var Sa=[],ba=0,bu=null,qo=0,Un=[],Ln=0,Rr=null,bi=1,wi="";function Gi(e,n){Sa[ba++]=qo,Sa[ba++]=bu,bu=e,qo=n}function Eg(e,n,r){Un[Ln++]=bi,Un[Ln++]=wi,Un[Ln++]=Rr,Rr=e;var o=bi;e=wi;var h=32-lt(o)-1;o&=~(1<<h),r+=1;var f=32-lt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,bi=1<<32-lt(n)+h|r<<h|o,wi=f+e}else bi=1<<f|r<<h|o,wi=e}function Lh(e){e.return!==null&&(Gi(e,1),Eg(e,1,0))}function Ph(e){for(;e===bu;)bu=Sa[--ba],Sa[ba]=null,qo=Sa[--ba],Sa[ba]=null;for(;e===Rr;)Rr=Un[--Ln],Un[Ln]=null,wi=Un[--Ln],Un[Ln]=null,bi=Un[--Ln],Un[Ln]=null}function Tg(e,n){Un[Ln++]=bi,Un[Ln++]=wi,Un[Ln++]=Rr,bi=n.id,wi=n.overflow,Rr=e}var $e=null,me=null,Gt=!1,Ir=null,Pn=!1,zh=Error(s(519));function Cr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(kn(n,e)),zh}function Ag(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Oe]=e,n[Ge]=o,r){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(r=0;r<hl.length;r++)Lt(hl[r],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),iu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),vr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||zy(n.textContent,r)?(o.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),o.onScroll!=null&&Lt("scroll",n),o.onScrollEnd!=null&&Lt("scrollend",n),o.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||Cr(e,!0)}function Sg(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:$e=$e.return}}function wa(e){if(e!==$e)return!1;if(!Gt)return Sg(e),Gt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||rd(e.type,e.memoizedProps)),r=!r),r&&me&&Cr(e),Sg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));me=Ky(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));me=Ky(e)}else n===27?(n=me,qr(e.type)?(e=ud,ud=null,me=e):me=n):me=$e?jn(e.stateNode.nextSibling):null;return!0}function Us(){me=$e=null,Gt=!1}function jh(){var e=Ir;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ir=null),e}function Ho(e){Ir===null?Ir=[e]:Ir.push(e)}var Bh=O(null),Ls=null,Fi=null;function Dr(e,n,r){it(Bh,n._currentValue),n._currentValue=r}function Qi(e){e._currentValue=Bh.current,Q(Bh)}function qh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Hh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),qh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),qh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ra(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;An(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&Hh(n,e,r,o),n.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ps(e){Ls=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return bg(Ls,e)}function Ru(e,n){return Ls===null&&Ps(e),bg(e,n)}function bg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Fi===null){if(e===null)throw Error(s(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return r}var $T=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},ZT=a.unstable_scheduleCallback,JT=a.unstable_NormalPriority,Ve={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new $T,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&ZT(JT,function(){e.controller.abort()})}var Fo=null,Fh=0,Ia=0,Ca=null;function WT(e,n){if(Fo===null){var r=Fo=[];Fh=0,Ia=Xf(),Ca={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Fh++,n.then(wg,wg),n}function wg(){if(--Fh===0&&Fo!==null){Ca!==null&&(Ca.status="fulfilled");var e=Fo;Fo=null,Ia=0,Ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function t1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Rg=H.S;H.S=function(e,n){uy=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WT(e,n),Rg!==null&&Rg(e,n)};var zs=O(null);function Qh(){var e=zs.current;return e!==null?e:ce.pooledCache}function Iu(e,n){n===null?it(zs,zs.current):it(zs,n.pool)}function Ig(){var e=Qh();return e===null?null:{parent:Ve._currentValue,pool:e}}var Da=Error(s(460)),Yh=Error(s(474)),Cu=Error(s(542)),Du={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Kn,Kn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e}throw Bs=n,Da}}function js(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Bs=r,Da):r}}var Bs=null;function Ng(){if(Bs===null)throw Error(s(459));var e=Bs;return Bs=null,e}function Og(e){if(e===Da||e===Cu)throw Error(s(483))}var Na=null,Qo=0;function Nu(e){var n=Qo;return Qo+=1,Na===null&&(Na=[]),Dg(Na,e,n)}function Yo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ou(e,n){throw n.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Mg(e){function n(V,N){if(e){var L=V.deletions;L===null?(V.deletions=[N],V.flags|=16):L.push(N)}}function r(V,N){if(!e)return null;for(;N!==null;)n(V,N),N=N.sibling;return null}function o(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=Hi(V,N),V.index=0,V.sibling=null,V}function f(V,N,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<N?(V.flags|=67108866,N):L):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,L,F){return N===null||N.tag!==6?(N=kh(L,V.mode,F),N.return=V,N):(N=h(N,L),N.return=V,N)}function I(V,N,L,F){var pt=L.type;return pt===at?q(V,N,L.props.children,F,L.key):N!==null&&(N.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&js(pt)===N.type)?(N=h(N,L.props),Yo(N,L),N.return=V,N):(N=Su(L.type,L.key,L.props,null,V.mode,F),Yo(N,L),N.return=V,N)}function P(V,N,L,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Uh(L,V.mode,F),N.return=V,N):(N=h(N,L.children||[]),N.return=V,N)}function q(V,N,L,F,pt){return N===null||N.tag!==7?(N=ks(L,V.mode,F,pt),N.return=V,N):(N=h(N,L),N.return=V,N)}function Y(V,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=kh(""+N,V.mode,L),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return L=Su(N.type,N.key,N.props,null,V.mode,L),Yo(L,N),L.return=V,L;case J:return N=Uh(N,V.mode,L),N.return=V,N;case b:return N=js(N),Y(V,N,L)}if(Se(N)||k(N))return N=ks(N,V.mode,L,null),N.return=V,N;if(typeof N.then=="function")return Y(V,Nu(N),L);if(N.$$typeof===dt)return Y(V,Ru(V,N),L);Ou(V,N)}return null}function z(V,N,L,F){var pt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return pt!==null?null:E(V,N,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===pt?I(V,N,L,F):null;case J:return L.key===pt?P(V,N,L,F):null;case b:return L=js(L),z(V,N,L,F)}if(Se(L)||k(L))return pt!==null?null:q(V,N,L,F,null);if(typeof L.then=="function")return z(V,N,Nu(L),F);if(L.$$typeof===dt)return z(V,N,Ru(V,L),F);Ou(V,L)}return null}function B(V,N,L,F,pt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return V=V.get(L)||null,E(N,V,""+F,pt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return V=V.get(F.key===null?L:F.key)||null,I(N,V,F,pt);case J:return V=V.get(F.key===null?L:F.key)||null,P(N,V,F,pt);case b:return F=js(F),B(V,N,L,F,pt)}if(Se(F)||k(F))return V=V.get(L)||null,q(N,V,F,pt,null);if(typeof F.then=="function")return B(V,N,L,Nu(F),pt);if(F.$$typeof===dt)return B(V,N,L,Ru(N,F),pt);Ou(N,F)}return null}function ft(V,N,L,F){for(var pt=null,Xt=null,gt=N,xt=N=0,zt=null;gt!==null&&xt<L.length;xt++){gt.index>xt?(zt=gt,gt=null):zt=gt.sibling;var $t=z(V,gt,L[xt],F);if($t===null){gt===null&&(gt=zt);break}e&&gt&&$t.alternate===null&&n(V,gt),N=f($t,N,xt),Xt===null?pt=$t:Xt.sibling=$t,Xt=$t,gt=zt}if(xt===L.length)return r(V,gt),Gt&&Gi(V,xt),pt;if(gt===null){for(;xt<L.length;xt++)gt=Y(V,L[xt],F),gt!==null&&(N=f(gt,N,xt),Xt===null?pt=gt:Xt.sibling=gt,Xt=gt);return Gt&&Gi(V,xt),pt}for(gt=o(gt);xt<L.length;xt++)zt=B(gt,V,xt,L[xt],F),zt!==null&&(e&&zt.alternate!==null&&gt.delete(zt.key===null?xt:zt.key),N=f(zt,N,xt),Xt===null?pt=zt:Xt.sibling=zt,Xt=zt);return e&&gt.forEach(function(Yr){return n(V,Yr)}),Gt&&Gi(V,xt),pt}function vt(V,N,L,F){if(L==null)throw Error(s(151));for(var pt=null,Xt=null,gt=N,xt=N=0,zt=null,$t=L.next();gt!==null&&!$t.done;xt++,$t=L.next()){gt.index>xt?(zt=gt,gt=null):zt=gt.sibling;var Yr=z(V,gt,$t.value,F);if(Yr===null){gt===null&&(gt=zt);break}e&&gt&&Yr.alternate===null&&n(V,gt),N=f(Yr,N,xt),Xt===null?pt=Yr:Xt.sibling=Yr,Xt=Yr,gt=zt}if($t.done)return r(V,gt),Gt&&Gi(V,xt),pt;if(gt===null){for(;!$t.done;xt++,$t=L.next())$t=Y(V,$t.value,F),$t!==null&&(N=f($t,N,xt),Xt===null?pt=$t:Xt.sibling=$t,Xt=$t);return Gt&&Gi(V,xt),pt}for(gt=o(gt);!$t.done;xt++,$t=L.next())$t=B(gt,V,xt,$t.value,F),$t!==null&&(e&&$t.alternate!==null&&gt.delete($t.key===null?xt:$t.key),N=f($t,N,xt),Xt===null?pt=$t:Xt.sibling=$t,Xt=$t);return e&&gt.forEach(function(hA){return n(V,hA)}),Gt&&Gi(V,xt),pt}function le(V,N,L,F){if(typeof L=="object"&&L!==null&&L.type===at&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var pt=L.key;N!==null;){if(N.key===pt){if(pt=L.type,pt===at){if(N.tag===7){r(V,N.sibling),F=h(N,L.props.children),F.return=V,V=F;break t}}else if(N.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&js(pt)===N.type){r(V,N.sibling),F=h(N,L.props),Yo(F,L),F.return=V,V=F;break t}r(V,N);break}else n(V,N);N=N.sibling}L.type===at?(F=ks(L.props.children,V.mode,F,L.key),F.return=V,V=F):(F=Su(L.type,L.key,L.props,null,V.mode,F),Yo(F,L),F.return=V,V=F)}return g(V);case J:t:{for(pt=L.key;N!==null;){if(N.key===pt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(V,N.sibling),F=h(N,L.children||[]),F.return=V,V=F;break t}else{r(V,N);break}else n(V,N);N=N.sibling}F=Uh(L,V.mode,F),F.return=V,V=F}return g(V);case b:return L=js(L),le(V,N,L,F)}if(Se(L))return ft(V,N,L,F);if(k(L)){if(pt=k(L),typeof pt!="function")throw Error(s(150));return L=pt.call(L),vt(V,N,L,F)}if(typeof L.then=="function")return le(V,N,Nu(L),F);if(L.$$typeof===dt)return le(V,N,Ru(V,L),F);Ou(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(V,N.sibling),F=h(N,L),F.return=V,V=F):(r(V,N),F=kh(L,V.mode,F),F.return=V,V=F),g(V)):r(V,N)}return function(V,N,L,F){try{Qo=0;var pt=le(V,N,L,F);return Na=null,pt}catch(gt){if(gt===Da||gt===Cu)throw gt;var Xt=Sn(29,gt,null,V.mode);return Xt.lanes=F,Xt.return=V,Xt}finally{}}}var qs=Mg(!0),xg=Mg(!1),Nr=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Or(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Au(e),pg(e,null,r),n}return Tu(e,o,n,r),Au(e)}function Ko(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,To(e,r)}}function $h(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Zh=!1;function Xo(){if(Zh){var e=Ca;if(e!==null)throw e}}function $o(e,n,r,o){Zh=!1;var h=e.updateQueue;Nr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;g=0,q=P=I=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Pt&z)===z:(o&z)===z){z!==0&&z===Ia&&(Zh=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=e,vt=E;z=n;var le=r;switch(vt.tag){case 1:if(ft=vt.payload,typeof ft=="function"){Y=ft.call(le,Y,z);break t}Y=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=vt.payload,z=typeof ft=="function"?ft.call(le,Y,z):ft,z==null)break t;Y=S({},Y,z);break t;case 2:Nr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=B,I=Y):q=q.next=B,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);q===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),Lr|=g,e.lanes=g,e.memoizedState=Y}}function Vg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function kg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Vg(r[e],n)}var Oa=O(null),Mu=O(0);function Ug(e,n){e=er,it(Mu,e),it(Oa,n),er=e|n.baseLanes}function Jh(){it(Mu,er),it(Oa,Oa.current)}function Wh(){er=Mu.current,Q(Oa),Q(Mu)}var bn=O(null),zn=null;function xr(e){var n=e.alternate;it(Ie,Ie.current&1),it(bn,e),zn===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(zn=e)}function tf(e){it(Ie,Ie.current),it(bn,e),zn===null&&(zn=e)}function Lg(e){e.tag===22?(it(Ie,Ie.current),it(bn,e),zn===null&&(zn=e)):Vr()}function Vr(){it(Ie,Ie.current),it(bn,bn.current)}function wn(e){Q(bn),zn===e&&(zn=null),Q(Ie)}var Ie=O(0);function xu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||od(r)||ld(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Mt=null,ae=null,ke=null,Vu=!1,Ma=!1,Hs=!1,ku=0,Zo=0,xa=null,e1=0;function Te(){throw Error(s(321))}function ef(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!An(e[r],n[r]))return!1;return!0}function nf(e,n,r,o,h,f){return Yi=f,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ep:_f,Hs=!1,f=r(o,h),Hs=!1,Ma&&(f=zg(n,r,o,h)),Pg(e),f}function Pg(e){H.H=tl;var n=ae!==null&&ae.next!==null;if(Yi=0,ke=ae=Mt=null,Vu=!1,Zo=0,xa=null,n)throw Error(s(300));e===null||Ue||(e=e.dependencies,e!==null&&wu(e)&&(Ue=!0))}function zg(e,n,r,o){Mt=e;var h=0;do{if(Ma&&(xa=null),Zo=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,ke=ae=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Tp,f=n(r,o)}while(Ma);return f}function n1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(Mt.flags|=1024),n}function rf(){var e=ku!==0;return ku=0,e}function sf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function af(e){if(Vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vu=!1}Yi=0,ke=ae=Mt=null,Ma=!1,Zo=ku=0,xa=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Mt.memoizedState=ke=e:ke=ke.next=e,ke}function Ce(){if(ae===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var n=ke===null?Mt.memoizedState:ke.next;if(n!==null)ke=n,ae=e;else{if(e===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ke===null?Mt.memoizedState=ke=e:ke=ke.next=e}return ke}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=Zo;return Zo+=1,xa===null&&(xa=[]),e=Dg(xa,e,n),n=Mt,(ke===null?n.memoizedState:ke.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ep:_f),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===dt)return Ze(e)}throw Error(s(438,String(e)))}function of(e){var n=null,r=Mt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Mt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Uu(),Mt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function Ki(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=Ce();return lf(n,ae,e)}function lf(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,P=n,q=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Pt&Y)===Y:(Yi&Y)===Y){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ia&&(q=!0);else if((Yi&z)===z){P=P.next,z===Ia&&(q=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Y,g=f):I=I.next=Y,Mt.lanes|=z,Lr|=z;Y=P.action,Hs&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,Mt.lanes|=Y,Lr|=Y;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!An(f,e.memoizedState)&&(Ue=!0,q&&(r=Ca,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uf(e){var n=Ce(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Ue=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function jg(e,n,r){var o=Mt,h=Ce(),f=Gt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!An((ae||h).memoizedState,r);if(g&&(h.memoizedState=r,Ue=!0),h=h.queue,ff(Hg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||ke!==null&&ke.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},qg.bind(null,o,h,r,n),null),ce===null)throw Error(s(349));f||(Yi&127)!==0||Bg(o,n,r)}return r}function Bg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Mt.updateQueue,n===null?(n=Uu(),Mt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function qg(e,n,r,o){n.value=r,n.getSnapshot=o,Gg(n)&&Fg(e)}function Hg(e,n,r){return r(function(){Gg(n)&&Fg(e)})}function Gg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!An(e,r)}catch{return!0}}function Fg(e){var n=Vs(e,2);n!==null&&yn(n,e,2)}function cf(e){var n=cn();if(typeof e=="function"){var r=e;if(e=r(),Hs){st(!0);try{r()}finally{st(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function Qg(e,n,r,o){return e.baseState=r,lf(e,ae,typeof o=="function"?o:Ki)}function i1(e,n,r,o,h){if(Bu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Yg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Yg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),I=H.S;I!==null&&I(g,E),Kg(e,n,E)}catch(P){hf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),Kg(e,n,f)}catch(P){hf(e,n,P)}}function Kg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Xg(e,n,o)},function(o){return hf(e,n,o)}):Xg(e,n,r)}function Xg(e,n,r){n.status="fulfilled",n.value=r,$g(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Yg(e,r)))}function hf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,$g(n),n=n.next;while(n!==o)}e.action=null}function $g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Zg(e,n){return n}function Jg(e,n){if(Gt){var r=ce.formState;if(r!==null){t:{var o=Mt;if(Gt){if(me){e:{for(var h=me,f=Pn;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){me=jn(h.nextSibling),o=h.data==="F!";break t}}Cr(o)}o=!1}o&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:n},r.queue=o,r=yp.bind(null,Mt,o),o.dispatch=r,o=cf(!1),f=yf.bind(null,Mt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=i1.bind(null,Mt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Wg(e){var n=Ce();return tp(n,ae,e)}function tp(e,n,r){if(n=lf(e,n,Zg)[0],e=Pu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(g){throw g===Da?Cu:g}else o=n;n=Ce();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Mt.flags|=2048,Va(9,{destroy:void 0},r1.bind(null,h,r),null)),[o,f,e]}function r1(e,n){e.action=n}function ep(e){var n=Ce(),r=ae;if(r!==null)return tp(n,r,e);Ce(),n=n.memoizedState,r=Ce();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Va(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Mt.updateQueue,n===null&&(n=Uu(),Mt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function np(){return Ce().memoizedState}function zu(e,n,r,o){var h=cn();Mt.flags|=e,h.memoizedState=Va(1|n,{destroy:void 0},r,o===void 0?null:o)}function ju(e,n,r,o){var h=Ce();o=o===void 0?null:o;var f=h.memoizedState.inst;ae!==null&&o!==null&&ef(o,ae.memoizedState.deps)?h.memoizedState=Va(n,f,r,o):(Mt.flags|=e,h.memoizedState=Va(1|n,f,r,o))}function ip(e,n){zu(8390656,8,e,n)}function ff(e,n){ju(2048,8,e,n)}function s1(e){Mt.flags|=4;var n=Mt.updateQueue;if(n===null)n=Uu(),Mt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function rp(e){var n=Ce().memoizedState;return s1({ref:n,nextImpl:e}),function(){if((Jt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function sp(e,n){return ju(4,2,e,n)}function ap(e,n){return ju(4,4,e,n)}function op(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function lp(e,n,r){r=r!=null?r.concat([e]):null,ju(4,4,op.bind(null,n,e),r)}function df(){}function up(e,n){var r=Ce();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&ef(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function cp(e,n){var r=Ce();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&ef(n,o[1]))return o[0];if(o=e(),Hs){st(!0);try{e()}finally{st(!1)}}return r.memoizedState=[o,n],o}function mf(e,n,r){return r===void 0||(Yi&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=hy(),Mt.lanes|=e,Lr|=e,r)}function hp(e,n,r,o){return An(r,n)?r:Oa.current!==null?(e=mf(e,r,o),An(e,n)||(Ue=!0),e):(Yi&42)===0||(Yi&1073741824)!==0&&(Pt&261930)===0?(Ue=!0,e.memoizedState=r):(e=hy(),Mt.lanes|=e,Lr|=e,n)}function fp(e,n,r,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,yf(e,!1,n,r);try{var I=h(),P=H.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var q=t1(I,o);Wo(e,n,q,Cn(e))}else Wo(e,n,o,Cn(e))}catch(Y){Wo(e,n,{then:function(){},status:"rejected",reason:Y},Cn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function a1(){}function gf(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=dp(e).queue;fp(e,h,n,mt,r===null?a1:function(){return mp(e),r(o)})}function dp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:mt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function mp(e){var n=dp(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},Cn())}function pf(){return Ze(pl)}function gp(){return Ce().memoizedState}function pp(){return Ce().memoizedState}function o1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();e=Or(r);var o=Mr(n,e,r);o!==null&&(yn(o,n,r),Ko(o,n,r)),n={cache:Gh()},e.payload=n;return}n=n.return}}function l1(e,n,r){var o=Cn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bu(e)?_p(n,r):(r=xh(e,n,r,o),r!==null&&(yn(r,e,o),vp(r,n,o)))}function yp(e,n,r){var o=Cn();Wo(e,n,r,o)}function Wo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))_p(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,An(E,g))return Tu(e,n,h,0),ce===null&&Eu(),!1}catch{}finally{}if(r=xh(e,n,h,o),r!==null)return yn(r,e,o),vp(r,n,o),!0}return!1}function yf(e,n,r,o){if(o={lane:2,revertLane:Xf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(s(479))}else n=xh(e,r,o,2),n!==null&&yn(n,e,2)}function Bu(e){var n=e.alternate;return e===Mt||n!==null&&n===Mt}function _p(e,n){Ma=Vu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function vp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,To(e,r)}}var tl={readContext:Ze,use:Lu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};tl.useEffectEvent=Te;var Ep={readContext:Ze,use:Lu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Ze,useEffect:ip,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,zu(4194308,4,op.bind(null,n,e),r)},useLayoutEffect:function(e,n){return zu(4194308,4,e,n)},useInsertionEffect:function(e,n){zu(4,2,e,n)},useMemo:function(e,n){var r=cn();n=n===void 0?null:n;var o=e();if(Hs){st(!0);try{e()}finally{st(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=cn();if(r!==void 0){var h=r(n);if(Hs){st(!0);try{r(n)}finally{st(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=l1.bind(null,Mt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=cf(e);var n=e.queue,r=yp.bind(null,Mt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:df,useDeferredValue:function(e,n){var r=cn();return mf(r,e,n)},useTransition:function(){var e=cf(!1);return e=fp.bind(null,Mt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Mt,h=cn();if(Gt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ce===null)throw Error(s(349));(Pt&127)!==0||Bg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,ip(Hg.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},qg.bind(null,o,f,r,n),null),r},useId:function(){var e=cn(),n=ce.identifierPrefix;if(Gt){var r=wi,o=bi;r=(o&~(1<<32-lt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ku++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=e1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yf.bind(null,Mt,!0,r),r.dispatch=n,[e,n]},useMemoCache:of,useCacheRefresh:function(){return cn().memoizedState=o1.bind(null,Mt)},useEffectEvent:function(e){var n=cn(),r={impl:e};return n.memoizedState=r,function(){if((Jt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},_f={readContext:Ze,use:Lu,useCallback:up,useContext:Ze,useEffect:ff,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:Pu,useRef:np,useState:function(){return Pu(Ki)},useDebugValue:df,useDeferredValue:function(e,n){var r=Ce();return hp(r,ae.memoizedState,e,n)},useTransition:function(){var e=Pu(Ki)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:jg,useId:gp,useHostTransitionStatus:pf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,n){var r=Ce();return Qg(r,ae,e,n)},useMemoCache:of,useCacheRefresh:pp};_f.useEffectEvent=rp;var Tp={readContext:Ze,use:Lu,useCallback:up,useContext:Ze,useEffect:ff,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:uf,useRef:np,useState:function(){return uf(Ki)},useDebugValue:df,useDeferredValue:function(e,n){var r=Ce();return ae===null?mf(r,e,n):hp(r,ae.memoizedState,e,n)},useTransition:function(){var e=uf(Ki)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:jg,useId:gp,useHostTransitionStatus:pf,useFormState:ep,useActionState:ep,useOptimistic:function(e,n){var r=Ce();return ae!==null?Qg(r,ae,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:of,useCacheRefresh:pp};Tp.useEffectEvent=rp;function vf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ef={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Or(o);h.payload=n,r!=null&&(h.callback=r),n=Mr(e,h,o),n!==null&&(yn(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Or(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Mr(e,h,o),n!==null&&(yn(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Cn(),o=Or(r);o.tag=2,n!=null&&(o.callback=n),n=Mr(e,o,r),n!==null&&(yn(n,e,r),Ko(n,e,r))}};function Ap(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!jo(r,o)||!jo(h,f):!0}function Sp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Ef.enqueueReplaceState(n,n.state,null)}function Gs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function bp(e){vu(e)}function wp(e){console.error(e)}function Rp(e){vu(e)}function qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ip(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(e,n,r){return r=Or(r),r.tag=3,r.payload={element:null},r.callback=function(){qu(e,n)},r}function Cp(e){return e=Or(e),e.tag=3,e}function Dp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Ip(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ip(n,r,o),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function u1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ra(n,r,h,!0),r=bn.current,r!==null){switch(r.tag){case 31:case 13:return zn===null?tc():r.alternate===null&&Ae===0&&(Ae=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Du?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Qf(e,o,h)),!1;case 22:return r.flags|=65536,o===Du?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Qf(e,o,h)),!1}throw Error(s(435,r.tag))}return Qf(e,o,h),tc(),!1}if(Gt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==zh&&(e=Error(s(422),{cause:o}),Ho(kn(e,r)))):(o!==zh&&(n=Error(s(423),{cause:o}),Ho(kn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=kn(o,r),h=Tf(e.stateNode,o,h),$h(e,h),Ae!==4&&(Ae=2)),!1;var f=Error(s(520),{cause:o});if(f=kn(f,r),ll===null?ll=[f]:ll.push(f),Ae!==4&&(Ae=2),n===null)return!0;o=kn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Tf(r.stateNode,o,e),$h(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Pr===null||!Pr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Cp(h),Dp(h,e,r,o),$h(r,h),!1}r=r.return}while(r!==null);return!1}var Af=Error(s(461)),Ue=!1;function Je(e,n,r,o){n.child=e===null?xg(n,null,r,o):qs(n,e.child,r,o)}function Np(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ps(n),o=nf(e,n,r,g,f,h),E=rf(),e!==null&&!Ue?(sf(e,n,h),Xi(e,n,h)):(Gt&&E&&Lh(n),n.flags|=1,Je(e,n,o,h),n.child)}function Op(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Mp(e,n,f,o,h)):(e=Su(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Nf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:jo,r(g,o)&&e.ref===n.ref)return Xi(e,n,h)}return n.flags|=1,e=Hi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Mp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(jo(f,o)&&e.ref===n.ref)if(Ue=!1,n.pendingProps=o=f,Nf(e,h))(e.flags&131072)!==0&&(Ue=!0);else return n.lanes=e.lanes,Xi(e,n,h)}return Sf(e,n,r,o,h)}function xp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Vp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?Ug(n,f):Jh(),Lg(n);else return o=n.lanes=536870912,Vp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Iu(n,f.cachePool),Ug(n,f),Vr(),n.memoizedState=null):(e!==null&&Iu(n,null),Jh(),Vr());return Je(e,n,h,r),n.child}function el(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vp(e,n,r,o,h){var f=Qh();return f=f===null?null:{parent:Ve._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Iu(n,null),Jh(),Lg(n),e!==null&&Ra(e,n,o,!0),n.childLanes=h,null}function Hu(e,n){return n=Fu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function kp(e,n,r){return qs(n,e.child,null,r),e=Hu(n,n.pendingProps),e.flags|=2,wn(n),n.memoizedState=null,e}function c1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Gt){if(o.mode==="hidden")return e=Hu(n,o),n.lanes=536870912,el(null,e);if(tf(n),(e=me)?(e=Yy(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},r=_g(e),r.return=n,n.child=r,$e=n,me=null)):e=null,e===null)throw Cr(n);return n.lanes=536870912,null}return Hu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(tf(n),h)if(n.flags&256)n.flags&=-257,n=kp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ue||Ra(e,n,r,!1),h=(r&e.childLanes)!==0,Ue||h){if(o=ce,o!==null&&(g=Ao(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Vs(e,g),yn(o,e,g),Af;tc(),n=kp(e,n,r)}else e=f.treeContext,me=jn(g.nextSibling),$e=n,Gt=!0,Ir=null,Pn=!1,e!==null&&Tg(n,e),n=Hu(n,o),n.flags|=4096;return n}return e=Hi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Gu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Sf(e,n,r,o,h){return Ps(n),r=nf(e,n,r,o,void 0,h),o=rf(),e!==null&&!Ue?(sf(e,n,h),Xi(e,n,h)):(Gt&&o&&Lh(n),n.flags|=1,Je(e,n,r,h),n.child)}function Up(e,n,r,o,h,f){return Ps(n),n.updateQueue=null,r=zg(n,o,r,h),Pg(e),o=rf(),e!==null&&!Ue?(sf(e,n,f),Xi(e,n,f)):(Gt&&o&&Lh(n),n.flags|=1,Je(e,n,r,f),n.child)}function Lp(e,n,r,o,h){if(Ps(n),n.stateNode===null){var f=Aa,g=r.contextType;typeof g=="object"&&g!==null&&(f=Ze(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ef,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Kh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Ze(g):Aa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(vf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ef.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Gs(r,E);f.props=I;var P=f.context,q=r.contextType;g=Aa,typeof q=="object"&&q!==null&&(g=Ze(q));var Y=r.getDerivedStateFromProps;q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Sp(n,f,o,g),Nr=!1;var z=n.memoizedState;f.state=z,$o(n,o,f,h),Xo(),P=n.memoizedState,E||z!==P||Nr?(typeof Y=="function"&&(vf(n,r,Y,o),P=n.memoizedState),(I=Nr||Ap(n,r,I,o,z,P,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Xh(e,n),g=n.memoizedProps,q=Gs(r,g),f.props=q,Y=n.pendingProps,z=f.context,P=r.contextType,I=Aa,typeof P=="object"&&P!==null&&(I=Ze(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==I)&&Sp(n,f,o,I),Nr=!1,z=n.memoizedState,f.state=z,$o(n,o,f,h),Xo();var B=n.memoizedState;g!==Y||z!==B||Nr||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof E=="function"&&(vf(n,r,E,o),B=n.memoizedState),(q=Nr||Ap(n,r,q,o,z,B,I)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=I,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Gu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=qs(n,e.child,null,h),n.child=qs(n,null,r,h)):Je(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Xi(e,n,h),e}function Pp(e,n,r,o){return Us(),n.flags|=256,Je(e,n,r,o),n.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(e){return{baseLanes:e,cachePool:Ig()}}function Rf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=In),e}function zp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Gt){if(h?xr(n):Vr(),(e=me)?(e=Yy(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},r=_g(e),r.return=n,n.child=r,$e=n,me=null)):e=null,e===null)throw Cr(n);return ld(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Vr(),h=n.mode,E=Fu({mode:"hidden",children:E},h),o=ks(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=wf(r),o.childLanes=Rf(e,g,r),n.memoizedState=bf,el(null,o)):(xr(n),If(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(xr(n),n.flags&=-257,n=Cf(e,n,r)):n.memoizedState!==null?(Vr(),n.child=e.child,n.flags|=128,n=null):(Vr(),E=o.fallback,h=n.mode,o=Fu({mode:"visible",children:o.children},h),E=ks(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,qs(n,e.child,null,r),o=n.child,o.memoizedState=wf(r),o.childLanes=Rf(e,g,r),n.memoizedState=bf,n=el(null,o));else if(xr(n),ld(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(s(419)),o.stack="",o.digest=g,Ho({value:o,source:null,stack:null}),n=Cf(e,n,r)}else if(Ue||Ra(e,n,r,!1),g=(r&e.childLanes)!==0,Ue||g){if(g=ce,g!==null&&(o=Ao(g,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,Vs(e,o),yn(g,e,o),Af;od(E)||tc(),n=Cf(e,n,r)}else od(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,me=jn(E.nextSibling),$e=n,Gt=!0,Ir=null,Pn=!1,e!==null&&Tg(n,e),n=If(n,o.children),n.flags|=4096);return n}return h?(Vr(),E=o.fallback,h=n.mode,I=e.child,P=I.sibling,o=Hi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Hi(P,E):(E=ks(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,el(null,o),o=n.child,E=e.child.memoizedState,E===null?E=wf(r):(h=E.cachePool,h!==null?(I=Ve._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Ig(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Rf(e,g,r),n.memoizedState=bf,el(e.child,o)):(xr(n),r=e.child,e=r.sibling,r=Hi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function If(e,n){return n=Fu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fu(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function Cf(e,n,r){return qs(n,e.child,null,r),e=If(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),qh(e.return,n,r)}function Df(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Bp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ie.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(Ie,g),Je(e,n,o,r),o=Gt?qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,r,n);else if(e.tag===19)jp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&xu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Df(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Df(n,!0,r,null,f,o);break;case"together":Df(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Xi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Lr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ra(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Hi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Hi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function h1(e,n,r){switch(n.tag){case 3:be(n,n.stateNode.containerInfo),Dr(n,Ve,e.memoizedState.cache),Us();break;case 27:case 5:Ui(n);break;case 4:be(n,n.stateNode.containerInfo);break;case 10:Dr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(xr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?zp(e,n,r):(xr(n),e=Xi(e,n,r),e!==null?e.sibling:null);xr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ra(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Bp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ie,Ie.current),o)break;return null;case 22:return n.lanes=0,xp(e,n,r,n.pendingProps);case 24:Dr(n,Ve,e.memoizedState.cache)}return Xi(e,n,r)}function qp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ue=!0;else{if(!Nf(e,r)&&(n.flags&128)===0)return Ue=!1,h1(e,n,r);Ue=(e.flags&131072)!==0}else Ue=!1,Gt&&(n.flags&1048576)!==0&&Eg(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=js(n.elementType),n.type=e,typeof e=="function")Vh(e)?(o=Gs(e,o),n.tag=1,n=Lp(null,n,e,o,r)):(n.tag=0,n=Sf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Ft){n.tag=11,n=Np(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Op(null,n,e,o,r);break t}}throw n=ue(e)||e,Error(s(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Gs(o,n.pendingProps),Lp(e,n,o,h,r);case 3:t:{if(be(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Xh(e,n),$o(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Dr(n,Ve,o),o!==f.cache&&Hh(n,[Ve],r,!0),Xo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Pp(e,n,o,r);break t}else if(o!==h){h=kn(Error(s(424)),n),Ho(h),n=Pp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=jn(e.firstChild),$e=n,Gt=!0,Ir=null,Pn=!0,r=xg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Us(),o===h){n=Xi(e,n,r);break t}Je(e,n,o,r)}n=n.child}return n;case 26:return Gu(e,n),e===null?(r=Wy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Gt||(r=n.type,e=n.pendingProps,o=oc(wt.current).createElement(r),o[Oe]=n,o[Ge]=e,We(o,r,e),Me(o),n.stateNode=o):n.memoizedState=Wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ui(n),e===null&&Gt&&(o=n.stateNode=$y(n.type,n.pendingProps,wt.current),$e=n,Pn=!0,h=me,qr(n.type)?(ud=h,me=jn(o.firstChild)):me=h),Je(e,n,n.pendingProps.children,r),Gu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Gt&&((h=o=me)&&(o=B1(o,n.type,n.pendingProps,Pn),o!==null?(n.stateNode=o,$e=n,me=jn(o.firstChild),Pn=!1,h=!0):h=!1),h||Cr(n)),Ui(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,rd(h,f)?o=null:g!==null&&rd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=nf(e,n,n1,null,null,r),pl._currentValue=h),Gu(e,n),Je(e,n,o,r),n.child;case 6:return e===null&&Gt&&((e=r=me)&&(r=q1(r,n.pendingProps,Pn),r!==null?(n.stateNode=r,$e=n,me=null,e=!0):e=!1),e||Cr(n)),null;case 13:return zp(e,n,r);case 4:return be(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=qs(n,null,o,r):Je(e,n,o,r),n.child;case 11:return Np(e,n,n.type,n.pendingProps,r);case 7:return Je(e,n,n.pendingProps,r),n.child;case 8:return Je(e,n,n.pendingProps.children,r),n.child;case 12:return Je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Dr(n,n.type,o.value),Je(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ps(n),h=Ze(h),o=o(h),n.flags|=1,Je(e,n,o,r),n.child;case 14:return Op(e,n,n.type,n.pendingProps,r);case 15:return Mp(e,n,n.type,n.pendingProps,r);case 19:return Bp(e,n,r);case 31:return c1(e,n,r);case 22:return xp(e,n,r,n.pendingProps);case 24:return Ps(n),o=Ze(Ve),e===null?(h=Qh(),h===null&&(h=ce,f=Gh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Kh(n),Dr(n,Ve,h)):((e.lanes&r)!==0&&(Xh(e,n),$o(n,null,null,r),Xo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Dr(n,Ve,o)):(o=f.cache,Dr(n,Ve,o),o!==h.cache&&Hh(n,[Ve],r,!0))),Je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function $i(e){e.flags|=4}function Of(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(gy())e.flags|=8192;else throw Bs=Du,Yh}else e.flags&=-16777217}function Hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r_(n))if(gy())e.flags|=8192;else throw Bs=Du,Yh}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jl():536870912,e.lanes|=n,Pa|=n)}function nl(e,n){if(!Gt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function f1(e,n,r){var o=n.pendingProps;switch(Ph(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(n),null;case 1:return ge(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qi(Ve),he(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wa(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jh())),ge(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(ge(n),Hp(n,f)):(ge(n),Of(n,h,null,o,r))):f?f!==e.memoizedState?($i(n),ge(n),Hp(n,f)):(ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&$i(n),ge(n),Of(n,h,e,o,r)),null;case 27:if(dr(n),r=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ge(n),null}e=ot.current,wa(n)?Ag(n):(e=$y(h,o,r),n.stateNode=e,$i(n))}return ge(n),null;case 5:if(dr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ge(n),null}if(f=ot.current,wa(n))Ag(n);else{var g=oc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Oe]=n,f[Ge]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(We(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&$i(n)}}return ge(n),Of(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=wt.current,wa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=$e,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Oe]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||zy(e.nodeValue,r)),e||Cr(n,!0)}else e=oc(e).createTextNode(o),e[Oe]=n,n.stateNode=e}return ge(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=wa(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Oe]=n}else Us(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),e=!1}else r=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ge(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Oe]=n}else Us(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),h=!1}else h=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Qu(n,n.updateQueue),ge(n),null);case 4:return he(),e===null&&Wf(n.stateNode.containerInfo),ge(n),null;case 10:return Qi(n.type),ge(n),null;case 19:if(Q(Ie),o=n.memoizedState,o===null)return ge(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(Ae!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=xu(e),f!==null){for(n.flags|=128,nl(o,!1),e=f.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)yg(r,e),r=r.sibling;return it(Ie,Ie.current&1|2),Gt&&Gi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ke()>Zu&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(e=xu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Gt)return ge(n),null}else 2*Ke()-o.renderingStartTime>Zu&&r!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ke(),e.sibling=null,r=Ie.current,it(Ie,h?r&1|2:r&1),Gt&&Gi(n,o.treeForkCount),e):(ge(n),null);case 22:case 23:return wn(n),Wh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ge(n),n.subtreeFlags&6&&(n.flags|=8192)):ge(n),r=n.updateQueue,r!==null&&Qu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(zs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Qi(Ve),ge(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function d1(e,n){switch(Ph(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(Ve),he(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dr(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(s(340));Us()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Us()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Ie),null;case 4:return he(),null;case 10:return Qi(n.type),null;case 22:case 23:return wn(n),Wh(),e!==null&&Q(zs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(Ve),null;case 25:return null;default:return null}}function Gp(e,n){switch(Ph(n),n.tag){case 3:Qi(Ve),he();break;case 26:case 27:case 5:dr(n);break;case 4:he();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:Q(Ie);break;case 10:Qi(n.type);break;case 22:case 23:wn(n),Wh(),e!==null&&Q(zs);break;case 24:Qi(Ve)}}function il(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){re(n,n.return,E)}}function kr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,P=E;try{P()}catch(q){re(h,I,q)}}}o=o.next}while(o!==f)}}catch(q){re(n,n.return,q)}}function Fp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{kg(n,r)}catch(o){re(e,e.return,o)}}}function Qp(e,n,r){r.props=Gs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){re(e,n,o)}}function rl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){re(e,n,h)}}function Ri(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){re(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){re(e,n,h)}else r.current=null}function Yp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){re(e,e.return,h)}}function Mf(e,n,r){try{var o=e.stateNode;k1(o,e.type,r,n),o[Ge]=n}catch(h){re(e,e.return,h)}}function Kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qr(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Kn));else if(o!==4&&(o===27&&qr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Vf(e,n,r),e=e.sibling;e!==null;)Vf(e,n,r),e=e.sibling}function Yu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&qr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Yu(e,n,r),e=e.sibling;e!==null;)Yu(e,n,r),e=e.sibling}function Xp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);We(n,o,r),n[Oe]=e,n[Ge]=r}catch(f){re(e,e.return,f)}}var Zi=!1,Le=!1,kf=!1,$p=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function m1(e,n){if(e=e.containerInfo,nd=mc,e=lg(e),Ih(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,I=-1,P=0,q=0,Y=e,z=null;e:for(;;){for(var B;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(I=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===e)break e;if(z===r&&++P===h&&(E=g),z===f&&++q===o&&(I=g),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(id={focusedElem:e,selectionRange:r},mc=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ft=Gs(r.type,h);e=o.getSnapshotBeforeUpdate(ft,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){re(r,r.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)ad(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function Zp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(e,r),o&4&&il(5,r);break;case 1:if(Wi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){re(r,r.return,g)}else{var h=Gs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){re(r,r.return,g)}}o&64&&Fp(r),o&512&&rl(r,r.return);break;case 3:if(Wi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{kg(e,n)}catch(g){re(r,r.return,g)}}break;case 27:n===null&&o&4&&Xp(r);case 26:case 5:Wi(e,r),n===null&&o&4&&Yp(r),o&512&&rl(r,r.return);break;case 12:Wi(e,r);break;case 31:Wi(e,r),o&4&&ty(e,r);break;case 13:Wi(e,r),o&4&&ey(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=S1.bind(null,r),H1(e,r))));break;case 22:if(o=r.memoizedState!==null||Zi,!o){n=n!==null&&n.memoizedState!==null||Le,h=Zi;var f=Le;Zi=o,(Le=n)&&!f?tr(e,r,(r.subtreeFlags&8772)!==0):Wi(e,r),Zi=h,Le=f}break;case 30:break;default:Wi(e,r)}}function Jp(e){var n=e.alternate;n!==null&&(e.alternate=null,Jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&la(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _e=null,dn=!1;function Ji(e,n,r){for(r=r.child;r!==null;)Wp(e,n,r),r=r.sibling}function Wp(e,n,r){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(ut,r)}catch{}switch(r.tag){case 26:Le||Ri(r,n),Ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Le||Ri(r,n);var o=_e,h=dn;qr(r.type)&&(_e=r.stateNode,dn=!1),Ji(e,n,r),dl(r.stateNode),_e=o,dn=h;break;case 5:Le||Ri(r,n);case 6:if(o=_e,h=dn,_e=null,Ji(e,n,r),_e=o,dn=h,_e!==null)if(dn)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(r.stateNode)}catch(f){re(r,n,f)}else try{_e.removeChild(r.stateNode)}catch(f){re(r,n,f)}break;case 18:_e!==null&&(dn?(e=_e,Fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Qa(e)):Fy(_e,r.stateNode));break;case 4:o=_e,h=dn,_e=r.stateNode.containerInfo,dn=!0,Ji(e,n,r),_e=o,dn=h;break;case 0:case 11:case 14:case 15:kr(2,r,n),Le||kr(4,r,n),Ji(e,n,r);break;case 1:Le||(Ri(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Qp(r,n,o)),Ji(e,n,r);break;case 21:Ji(e,n,r);break;case 22:Le=(o=Le)||r.memoizedState!==null,Ji(e,n,r),Le=o;break;default:Ji(e,n,r)}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(r){re(n,n.return,r)}}}function ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(r){re(n,n.return,r)}}function g1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new $p),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new $p),n;default:throw Error(s(435,e.tag))}}function Ku(e,n){var r=g1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=b1.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(qr(E.type)){_e=E.stateNode,dn=!1;break t}break;case 5:_e=E.stateNode,dn=!1;break t;case 3:case 4:_e=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(_e===null)throw Error(s(160));Wp(f,g,h),_e=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ny(n,e),n=n.sibling}var ti=null;function ny(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),o&4&&(kr(3,e,e.return),il(3,e),kr(5,e,e.return));break;case 1:mn(n,e),gn(e),o&512&&(Le||r===null||Ri(r,r.return)),o&64&&Zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ti;if(mn(n,e),gn(e),o&512&&(Le||r===null||Ri(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[Oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),We(f,o,r),f[Oe]=e,Me(f),o=f;break t;case"link":var g=n_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),We(f,o,r),h.head.appendChild(f);break;case"meta":if(g=n_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),We(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Oe]=e,Me(f),o=f}e.stateNode=o}else i_(h,e.type,e.stateNode);else e.stateNode=e_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?i_(h,e.type,e.stateNode):e_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,r.memoizedProps)}break;case 27:mn(n,e),gn(e),o&512&&(Le||r===null||Ri(r,r.return)),r!==null&&o&4&&Mf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,e),gn(e),o&512&&(Le||r===null||Ri(r,r.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(ft){re(e,e.return,ft)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Mf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(kf=!0);break;case 6:if(mn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ft){re(e,e.return,ft)}}break;case 3:if(cc=null,h=ti,ti=lc(n.containerInfo),mn(n,e),ti=h,gn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(ft){re(e,e.return,ft)}kf&&(kf=!1,iy(e));break;case 4:o=ti,ti=lc(e.stateNode.containerInfo),mn(n,e),gn(e),ti=o;break;case 12:mn(n,e),gn(e);break;case 31:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&($u=Ke()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,P=Zi,q=Le;if(Zi=P||h,Le=q||I,mn(n,e),Le=q,Zi=P,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Zi||Le||Fs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ft){re(I,I.return,ft)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ft){re(I,I.return,ft)}}}else if(n.tag===18){if(r===null){I=n;try{var B=I.stateNode;h?Qy(B,!0):Qy(I.stateNode,!1)}catch(ft){re(I,I.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Ku(e,r))));break;case 19:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Kp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=xf(e);Yu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(fn(g,""),r.flags&=-33);var E=xf(e);Yu(e,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,P=xf(e);Vf(e,P,I);break;default:throw Error(s(161))}}catch(q){re(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zp(e,n.alternate,n),n=n.sibling}function Fs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:kr(4,n,n.return),Fs(n);break;case 1:Ri(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Qp(n,n.return,r),Fs(n);break;case 27:dl(n.stateNode);case 26:case 5:Ri(n,n.return),Fs(n);break;case 22:n.memoizedState===null&&Fs(n);break;case 30:Fs(n);break;default:Fs(n)}e=e.sibling}}function tr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:tr(h,f,r),il(4,f);break;case 1:if(tr(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){re(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Vg(I[h],E)}catch(P){re(o,o.return,P)}}r&&g&64&&Fp(f),rl(f,f.return);break;case 27:Xp(f);case 26:case 5:tr(h,f,r),r&&o===null&&g&4&&Yp(f),rl(f,f.return);break;case 12:tr(h,f,r);break;case 31:tr(h,f,r),r&&g&4&&ty(h,f);break;case 13:tr(h,f,r),r&&g&4&&ey(h,f);break;case 22:f.memoizedState===null&&tr(h,f,r),rl(f,f.return);break;case 30:break;default:tr(h,f,r)}n=n.sibling}}function Uf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Go(r))}function Lf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function ei(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ry(e,n,r,o),n=n.sibling}function ry(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,r,o),h&2048&&il(9,n);break;case 1:ei(e,n,r,o);break;case 3:ei(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){ei(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){re(n,n.return,I)}}else ei(e,n,r,o);break;case 31:ei(e,n,r,o);break;case 13:ei(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ei(e,n,r,o):sl(e,n):f._visibility&2?ei(e,n,r,o):(f._visibility|=2,ka(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Uf(g,n);break;case 24:ei(e,n,r,o),h&2048&&Lf(n.alternate,n);break;default:ei(e,n,r,o)}}function ka(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,E,I,h),il(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?ka(f,g,E,I,h):sl(f,g):(q._visibility|=2,ka(f,g,E,I,h)),h&&P&2048&&Uf(g.alternate,g);break;case 24:ka(f,g,E,I,h),h&&P&2048&&Lf(g.alternate,g);break;default:ka(f,g,E,I,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:sl(r,o),h&2048&&Uf(o.alternate,o);break;case 24:sl(r,o),h&2048&&Lf(o.alternate,o);break;default:sl(r,o)}n=n.sibling}}var al=8192;function Ua(e,n,r){if(e.subtreeFlags&al)for(e=e.child;e!==null;)sy(e,n,r),e=e.sibling}function sy(e,n,r){switch(e.tag){case 26:Ua(e,n,r),e.flags&al&&e.memoizedState!==null&&eA(r,ti,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,n,r);break;case 3:case 4:var o=ti;ti=lc(e.stateNode.containerInfo),Ua(e,n,r),ti=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,Ua(e,n,r),al=o):Ua(e,n,r));break;default:Ua(e,n,r)}}function ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qe=o,ly(o,e)}ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)oy(e),e=e.sibling}function oy(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&kr(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xu(e)):ol(e);break;default:ol(e)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qe=o,ly(o,e)}ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:kr(8,n,n.return),Xu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Xu(n));break;default:Xu(n)}e=e.sibling}}function ly(e,n){for(;Qe!==null;){var r=Qe;switch(r.tag){case 0:case 11:case 15:kr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Qe=o;else t:for(r=e;Qe!==null;){o=Qe;var h=o.sibling,f=o.return;if(Jp(o),o===r){Qe=null;break t}if(h!==null){h.return=f,Qe=h;break t}Qe=f}}}var p1={getCacheForType:function(e){var n=Ze(Ve),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Ze(Ve).controller.signal}},y1=typeof WeakMap=="function"?WeakMap:Map,Jt=0,ce=null,Ut=null,Pt=0,ie=0,Rn=null,Ur=!1,La=!1,Pf=!1,er=0,Ae=0,Lr=0,Qs=0,zf=0,In=0,Pa=0,ll=null,pn=null,jf=!1,$u=0,uy=0,Zu=1/0,Ju=null,Pr=null,Be=0,zr=null,za=null,nr=0,Bf=0,qf=null,cy=null,ul=0,Hf=null;function Cn(){return(Jt&2)!==0&&Pt!==0?Pt&-Pt:H.T!==null?Xf():Wl()}function hy(){if(In===0)if((Pt&536870912)===0||Gt){var e=Ne;Ne<<=1,(Ne&3932160)===0&&(Ne=262144),In=e}else In=536870912;return e=bn.current,e!==null&&(e.flags|=32),In}function yn(e,n,r){(e===ce&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(ja(e,0),jr(e,Pt,In,!1)),Es(e,r),((Jt&2)===0||e!==ce)&&(e===ce&&((Jt&2)===0&&(Qs|=r),Ae===4&&jr(e,Pt,In,!1)),Ii(e))}function fy(e,n,r){if((Jt&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Fn(e,n),h=o?E1(e,n):Ff(e,n,!0),f=o;do{if(h===0){La&&!o&&jr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!_1(r)){h=Ff(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ll;var I=E.current.memoizedState.isDehydrated;if(I&&(ja(E,g).flags|=256),g=Ff(E,g,!1),g!==2){if(Pf&&!I){E.errorRecoveryDisabledLanes|=f,Qs|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ja(e,0),jr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:jr(o,n,In,!Ur);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=$u+300-Ke(),10<h)){if(jr(o,n,In,!Ur),ui(o,0,!0)!==0)break t;nr=n,o.timeoutHandle=Hy(dy.bind(null,o,r,pn,Ju,jf,n,In,Qs,Pa,Ur,f,"Throttled",-0,0),h);break t}dy(o,r,pn,Ju,jf,n,In,Qs,Pa,Ur,f,null,-0,0)}}break}while(!0);Ii(e)}function dy(e,n,r,o,h,f,g,E,I,P,q,Y,z,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},sy(n,f,Y);var ft=(f&62914560)===f?$u-Ke():(f&4194048)===f?uy-Ke():0;if(ft=nA(Y,ft),ft!==null){nr=f,e.cancelPendingCommit=ft(Ty.bind(null,e,n,f,r,o,h,g,E,I,q,Y,null,z,B)),jr(e,f,g,!P);return}}Ty(e,n,f,r,o,h,g,E,I)}function _1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function jr(e,n,r,o){n&=~zf,n&=~Qs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-lt(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Ts(e,r,n)}function Wu(){return(Jt&6)===0?(cl(0),!1):!0}function Gf(){if(Ut!==null){if(ie===0)var e=Ut.return;else e=Ut,Fi=Ls=null,af(e),Na=null,Qo=0,e=Ut;for(;e!==null;)Gp(e.alternate,e),e=e.return;Ut=null}}function ja(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,P1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),nr=0,Gf(),ce=e,Ut=r=Hi(e.current,null),Pt=n,ie=0,Rn=null,Ur=!1,La=Fn(e,n),Pf=!1,Pa=In=zf=Qs=Lr=Ae=0,pn=ll=null,jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-lt(o),f=1<<h;n|=e[h],o&=~f}return er=n,Eu(),r}function my(e,n){Mt=null,H.H=tl,n===Da||n===Cu?(n=Ng(),ie=3):n===Yh?(n=Ng(),ie=4):ie=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Ut===null&&(Ae=1,qu(e,kn(n,e.current)))}function gy(){var e=bn.current;return e===null?!0:(Pt&4194048)===Pt?zn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===zn:!1}function py(){var e=H.H;return H.H=tl,e===null?tl:e}function yy(){var e=H.A;return H.A=p1,e}function tc(){Ae=4,Ur||(Pt&4194048)!==Pt&&bn.current!==null||(La=!0),(Lr&134217727)===0&&(Qs&134217727)===0||ce===null||jr(ce,Pt,In,!1)}function Ff(e,n,r){var o=Jt;Jt|=2;var h=py(),f=yy();(ce!==e||Pt!==n)&&(Ju=null,ja(e,n)),n=!1;var g=Ae;t:do try{if(ie!==0&&Ut!==null){var E=Ut,I=Rn;switch(ie){case 8:Gf(),g=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=ie;if(ie=0,Rn=null,Ba(e,E,I,P),r&&La){g=0;break t}break;default:P=ie,ie=0,Rn=null,Ba(e,E,I,P)}}v1(),g=Ae;break}catch(q){my(e,q)}while(!0);return n&&e.shellSuspendCounter++,Fi=Ls=null,Jt=o,H.H=h,H.A=f,Ut===null&&(ce=null,Pt=0,Eu()),g}function v1(){for(;Ut!==null;)_y(Ut)}function E1(e,n){var r=Jt;Jt|=2;var o=py(),h=yy();ce!==e||Pt!==n?(Ju=null,Zu=Ke()+500,ja(e,n)):La=Fn(e,n);t:do try{if(ie!==0&&Ut!==null){n=Ut;var f=Rn;e:switch(ie){case 1:ie=0,Rn=null,Ba(e,n,f,1);break;case 2:case 9:if(Cg(f)){ie=0,Rn=null,vy(n);break}n=function(){ie!==2&&ie!==9||ce!==e||(ie=7),Ii(e)},f.then(n,n);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:Cg(f)?(ie=0,Rn=null,vy(n)):(ie=0,Rn=null,Ba(e,n,f,7));break;case 5:var g=null;switch(Ut.tag){case 26:g=Ut.memoizedState;case 5:case 27:var E=Ut;if(g?r_(g):E.stateNode.complete){ie=0,Rn=null;var I=E.sibling;if(I!==null)Ut=I;else{var P=E.return;P!==null?(Ut=P,ec(P)):Ut=null}break e}}ie=0,Rn=null,Ba(e,n,f,5);break;case 6:ie=0,Rn=null,Ba(e,n,f,6);break;case 8:Gf(),Ae=6;break t;default:throw Error(s(462))}}T1();break}catch(q){my(e,q)}while(!0);return Fi=Ls=null,H.H=o,H.A=h,Jt=r,Ut!==null?0:(ce=null,Pt=0,Eu(),Ae)}function T1(){for(;Ut!==null&&!vo();)_y(Ut)}function _y(e){var n=qp(e.alternate,e,er);e.memoizedProps=e.pendingProps,n===null?ec(e):Ut=n}function vy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Up(r,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=Up(r,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:af(n);default:Gp(r,n),n=Ut=yg(n,er),n=qp(r,n,er)}e.memoizedProps=e.pendingProps,n===null?ec(e):Ut=n}function Ba(e,n,r,o){Fi=Ls=null,af(n),Na=null,Qo=0;var h=n.return;try{if(u1(e,h,n,r,Pt)){Ae=1,qu(e,kn(r,e.current)),Ut=null;return}}catch(f){if(h!==null)throw Ut=h,f;Ae=1,qu(e,kn(r,e.current)),Ut=null;return}n.flags&32768?(Gt||o===1?e=!0:La||(Pt&536870912)!==0?e=!1:(Ur=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ey(n,e)):ec(n)}function ec(e){var n=e;do{if((n.flags&32768)!==0){Ey(n,Ur);return}e=n.return;var r=f1(n.alternate,n,er);if(r!==null){Ut=r;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);Ae===0&&(Ae=5)}function Ey(e,n){do{var r=d1(e.alternate,e);if(r!==null){r.flags&=32767,Ut=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=r}while(e!==null);Ae=6,Ut=null}function Ty(e,n,r,o,h,f,g,E,I){e.cancelPendingCommit=null;do nc();while(Be!==0);if((Jt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Mh,Sh(e,r,f,g,E,I),e===ce&&(Ut=ce=null,Pt=0),za=n,zr=e,nr=r,Bf=f,qf=h,cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w1(oi,function(){return Ry(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,g=Jt,Jt|=4;try{m1(e,n,r)}finally{Jt=g,nt.p=h,H.T=o}}Be=1,Ay(),Sy(),by()}}function Ay(){if(Be===1){Be=0;var e=zr,n=za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Jt;Jt|=4;try{ny(n,e);var f=id,g=lg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&og(E.ownerDocument.documentElement,E)){if(I!==null&&Ih(E)){var P=I.start,q=I.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),ft=E.textContent.length,vt=Math.min(I.start,ft),le=I.end===void 0?vt:Math.min(I.end,ft);!B.extend&&vt>le&&(g=le,le=vt,vt=g);var V=ag(E,vt),N=ag(E,le);if(V&&N&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(V.node,V.offset),B.removeAllRanges(),vt>le?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}mc=!!nd,id=nd=null}finally{Jt=h,nt.p=o,H.T=r}}e.current=n,Be=2}}function Sy(){if(Be===2){Be=0;var e=zr,n=za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Jt;Jt|=4;try{Zp(e,n.alternate,n)}finally{Jt=h,nt.p=o,H.T=r}}Be=3}}function by(){if(Be===4||Be===3){Be=0,_s();var e=zr,n=za,r=nr,o=cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,za=zr=null,wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Pr=null),zi(r),n=n.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(ut,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=h}}(nr&3)!==0&&nc(),Ii(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Hf?ul++:(ul=0,Hf=e):ul=0,cl(0)}}function wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function nc(){return Ay(),Sy(),by(),Ry()}function Ry(){if(Be!==5)return!1;var e=zr,n=Bf;Bf=0;var r=zi(nr),o=H.T,h=nt.p;try{nt.p=32>r?32:r,H.T=null,r=qf,qf=null;var f=zr,g=nr;if(Be=0,za=zr=null,nr=0,(Jt&6)!==0)throw Error(s(331));var E=Jt;if(Jt|=4,oy(f.current),ry(f,f.current,g,r),Jt=E,cl(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(ut,f)}catch{}return!0}finally{nt.p=h,H.T=o,wy(e,n)}}function Iy(e,n,r){n=kn(r,n),n=Tf(e.stateNode,n,2),e=Mr(e,n,2),e!==null&&(Es(e,2),Ii(e))}function re(e,n,r){if(e.tag===3)Iy(e,e,r);else for(;n!==null;){if(n.tag===3){Iy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Pr===null||!Pr.has(o))){e=kn(r,e),r=Cp(2),o=Mr(n,r,2),o!==null&&(Dp(r,o,n,e),Es(o,2),Ii(o));break}}n=n.return}}function Qf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new y1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Pf=!0,h.add(r),e=A1.bind(null,e,n,r),n.then(e,e))}function A1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ce===e&&(Pt&r)===r&&(Ae===4||Ae===3&&(Pt&62914560)===Pt&&300>Ke()-$u?(Jt&2)===0&&ja(e,0):zf|=r,Pa===Pt&&(Pa=0)),Ii(e)}function Cy(e,n){n===0&&(n=Jl()),e=Vs(e,n),e!==null&&(Es(e,n),Ii(e))}function S1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Cy(e,r)}function b1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Cy(e,r)}function w1(e,n){return we(e,n)}var ic=null,qa=null,Yf=!1,rc=!1,Kf=!1,Br=0;function Ii(e){e!==qa&&e.next===null&&(qa===null?ic=qa=e:qa=qa.next=e),rc=!0,Yf||(Yf=!0,I1())}function cl(e,n){if(!Kf&&rc){Kf=!0;do for(var r=!1,o=ic;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-lt(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,My(o,f))}else f=Pt,f=ui(o,o===ce?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fn(o,f)||(r=!0,My(o,f));o=o.next}while(r);Kf=!1}}function R1(){Dy()}function Dy(){rc=Yf=!1;var e=0;Br!==0&&L1()&&(e=Br);for(var n=Ke(),r=null,o=ic;o!==null;){var h=o.next,f=Ny(o,n);f===0?(o.next=null,r===null?ic=h:r.next=h,h===null&&(qa=r)):(r=o,(e!==0||(f&3)!==0)&&(rc=!0)),o=h}Be!==0&&Be!==5||cl(e),Br!==0&&(Br=0)}function Ny(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-lt(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Ah(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ce,r=Pt,r=ui(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ai(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Fn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ai(o),zi(r)){case 2:case 8:r=Gn;break;case 32:r=oi;break;case 268435456:r=aa;break;default:r=oi}return o=Oy.bind(null,e),r=we(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ai(o),e.callbackPriority=2,e.callbackNode=null,2}function Oy(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(nc()&&e.callbackNode!==r)return null;var o=Pt;return o=ui(e,e===ce?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(fy(e,o,n),Ny(e,Ke()),e.callbackNode!=null&&e.callbackNode===r?Oy.bind(null,e):null)}function My(e,n){if(nc())return null;fy(e,n,!0)}function I1(){z1(function(){(Jt&6)!==0?we(vs,R1):Dy()})}function Xf(){if(Br===0){var e=Ia;e===0&&(e=ee,ee<<=1,(ee&261888)===0&&(ee=256)),Br=e}return Br}function xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function Vy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function C1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=xy((h[Ge]||null).action),g=o.submitter;g&&(n=(n=g[Ge]||null)?xy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ei("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Br!==0){var I=g?Vy(h,g):new FormData(h);gf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Vy(h,g):new FormData(h),gf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var $f=0;$f<Oh.length;$f++){var Zf=Oh[$f],D1=Zf.toLowerCase(),N1=Zf[0].toUpperCase()+Zf.slice(1);Wn(D1,"on"+N1)}Wn(hg,"onAnimationEnd"),Wn(fg,"onAnimationIteration"),Wn(dg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(QT,"onTransitionRun"),Wn(YT,"onTransitionStart"),Wn(KT,"onTransitionCancel"),Wn(mg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function ky(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(q){vu(q)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(q){vu(q)}h.currentTarget=null,f=I}}}}function Lt(e,n){var r=n[oa];r===void 0&&(r=n[oa]=new Set);var o=e+"__bubble";r.has(o)||(Uy(n,e,2,!1),r.add(o))}function Jf(e,n,r){var o=0;n&&(o|=4),Uy(r,e,o,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[sc]){e[sc]=!0,So.forEach(function(r){r!=="selectionchange"&&(O1.has(r)||Jf(r,!1,e),Jf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,Jf("selectionchange",!1,n))}}function Uy(e,n,r,o){switch(h_(n)){case 2:var h=sA;break;case 8:h=aA;break;default:h=md}r=h.bind(null,n,r,e),h=void 0,!Rs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function td(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=di(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ar(function(){var P=f,q=On(r),Y=[];t:{var z=gg.get(e);if(z!==void 0){var B=Ei,ft=e;switch(e){case"keypress":if(Cs(r)===0)break t;case"keydown":case"keyup":B=pu;break;case"focusin":ft="focus",B=Ns;break;case"focusout":ft="blur",B=Ns;break;case"beforeblur":case"afterblur":B=Ns;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case hg:case fg:case dg:B=uu;break;case mg:B=T;break;case"scroll":case"scrollend":B=ko;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=qi;break;case"toggle":case"beforetoggle":B=Ot}var vt=(n&4)!==0,le=!vt&&(e==="scroll"||e==="scrollend"),V=vt?z!==null?z+"Capture":null:z;vt=[];for(var N=P,L;N!==null;){var F=N;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||V===null||(F=Xn(N,V),F!=null&&vt.push(fl(N,F,L))),le)break;N=N.return}0<vt.length&&(z=new B(z,ft,null,r,q),Y.push({event:z,listeners:vt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==Mo&&(ft=r.relatedTarget||r.fromElement)&&(di(ft)||ft[hi]))break t;if((B||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ft=r.relatedTarget||r.toElement,B=P,ft=ft?di(ft):null,ft!==null&&(le=c(ft),vt=ft.tag,ft!==le||vt!==5&&vt!==27&&vt!==6)&&(ft=null)):(B=null,ft=P),B!==ft)){if(vt=Uo,F="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(vt=qi,F="onPointerLeave",V="onPointerEnter",N="pointer"),le=B==null?z:En(B),L=ft==null?z:En(ft),z=new vt(F,N+"leave",B,r,q),z.target=le,z.relatedTarget=L,F=null,di(q)===P&&(vt=new vt(V,N+"enter",ft,r,q),vt.target=L,vt.relatedTarget=le,F=vt),le=F,B&&ft)e:{for(vt=M1,V=B,N=ft,L=0,F=V;F;F=vt(F))L++;F=0;for(var pt=N;pt;pt=vt(pt))F++;for(;0<L-F;)V=vt(V),L--;for(;0<F-L;)N=vt(N),F--;for(;L--;){if(V===N||N!==null&&V===N.alternate){vt=V;break e}V=vt(V),N=vt(N)}vt=null}else vt=null;B!==null&&Ly(Y,z,B,vt,!1),ft!==null&&le!==null&&Ly(Y,le,ft,vt,!0)}}t:{if(z=P?En(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Xt=tg;else if(Jm(z))if(eg)Xt=HT;else{Xt=BT;var gt=jT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ha(P.elementType)&&(Xt=tg):Xt=qT;if(Xt&&(Xt=Xt(e,P))){Wm(Y,Xt,r,q);break t}gt&&gt(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Do(z,"number",z.value)}switch(gt=P?En(P):window,e){case"focusin":(Jm(gt)||gt.contentEditable==="true")&&(va=gt,Ch=P,Bo=null);break;case"focusout":Bo=Ch=va=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,ug(Y,r,q);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":ug(Y,r,q)}var xt;if(Zt)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else _a?Os(e,r)&&(zt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(zt="onCompositionStart");zt&&(Si&&r.locale!=="ko"&&(_a||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&_a&&(xt=Vo()):(vi=q,xo="value"in vi?vi.value:vi.textContent,_a=!0)),gt=ac(P,zt),0<gt.length&&(zt=new Ai(zt,e,null,r,q),Y.push({event:zt,listeners:gt}),xt?zt.data=xt:(xt=ya(r),xt!==null&&(zt.data=xt)))),(xt=xn?UT(e,r):LT(e,r))&&(zt=ac(P,"onBeforeInput"),0<zt.length&&(gt=new Ai("onBeforeInput","beforeinput",null,r,q),Y.push({event:gt,listeners:zt}),gt.data=xt)),C1(Y,e,P,r,q)}ky(Y,n)})}function fl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ac(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(e,r),h!=null&&o.unshift(fl(e,h,f)),h=Xn(e,n),h!=null&&o.push(fl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function M1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ly(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=Xn(r,f),P!=null&&g.unshift(fl(r,P,I))):h||(P=Xn(r,f),P!=null&&g.push(fl(r,P,I)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var x1=/\r\n?/g,V1=/\u0000|\uFFFD/g;function Py(e){return(typeof e=="string"?e:""+e).replace(x1,`
`).replace(V1,"")}function zy(e,n){return n=Py(n),Py(e)===n}function oe(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(e,""+o);break;case"className":Tn(e,"class",o);break;case"tabIndex":Tn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,r,o);break;case"style":Oo(e,o,f);break;case"data":if(n!=="object"){Tn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=fa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&oe(e,n,"name",h.name,h,null),oe(e,n,"formEncType",h.formEncType,h,null),oe(e,n,"formMethod",h.formMethod,h,null),oe(e,n,"formTarget",h.formTarget,h,null)):(oe(e,n,"encType",h.encType,h,null),oe(e,n,"method",h.method,h,null),oe(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=fa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=fa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),ua(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=au.get(r)||r,ua(e,r,o))}}function ed(e,n,r,o,h,f){switch(r){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?fn(e,o):(typeof o=="number"||typeof o=="bigint")&&fn(e,""+o);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ge]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ua(e,r,o)}}}function We(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:oe(e,n,f,g,r,null)}}h&&oe(e,n,"srcSet",r.srcSet,r,null),o&&oe(e,n,"src",r.src,r,null);return;case"input":Lt("invalid",e);var E=f=g=h=null,I=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var q=r[o];if(q!=null)switch(o){case"name":h=q;break;case"type":g=q;break;case"checked":I=q;break;case"defaultChecked":P=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:oe(e,n,o,q,r,null)}}iu(e,f,E,I,P,g,h,!1);return;case"select":Lt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:oe(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?_r(e,!!o,n,!1):r!=null&&_r(e,!!o,r,!0);return;case"textarea":Lt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:oe(e,n,g,E,r,null)}vr(e,o,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(o=r[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:oe(e,n,I,o,r,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(o=0;o<hl.length;o++)Lt(hl[o],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:oe(e,n,P,o,r,null)}return;default:if(ha(n)){for(q in r)r.hasOwnProperty(q)&&(o=r[q],o!==void 0&&ed(e,n,q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&oe(e,n,E,o,r,null))}function k1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,P=null,q=null;for(B in r){var Y=r[B];if(r.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(B)||oe(e,n,B,null,o,Y)}}for(var z in o){var B=o[z];if(Y=r[z],o.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":q=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Y&&oe(e,n,z,B,o,Y)}}ca(e,g,E,I,P,q,f,h);return;case"select":B=g=E=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":B=I;default:o.hasOwnProperty(f)||oe(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&oe(e,n,h,f,o,I)}n=E,r=g,o=B,z!=null?_r(e,!!r,z,!1):!!o!=!!r&&(n!=null?_r(e,!!r,n,!0):_r(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:oe(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&oe(e,n,g,h,o,f)}ru(e,z,B);return;case"option":for(var ft in r)if(z=r[ft],r.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft))switch(ft){case"selected":e.selected=!1;break;default:oe(e,n,ft,null,o,z)}for(I in o)if(z=o[I],B=r[I],o.hasOwnProperty(I)&&z!==B&&(z!=null||B!=null))switch(I){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:oe(e,n,I,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)z=r[vt],r.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt)&&oe(e,n,vt,null,o,z);for(P in o)if(z=o[P],B=r[P],o.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:oe(e,n,P,z,o,B)}return;default:if(ha(n)){for(var le in r)z=r[le],r.hasOwnProperty(le)&&z!==void 0&&!o.hasOwnProperty(le)&&ed(e,n,le,void 0,o,z);for(q in o)z=o[q],B=r[q],!o.hasOwnProperty(q)||z===B||z===void 0&&B===void 0||ed(e,n,q,z,o,B);return}}for(var V in r)z=r[V],r.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&oe(e,n,V,null,o,z);for(Y in o)z=o[Y],B=r[Y],!o.hasOwnProperty(Y)||z===B||z==null&&B==null||oe(e,n,Y,z,o,B)}function jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&jy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],P=I.startTime;if(P>E)break;var q=I.transferSize,Y=I.initiatorType;q&&jy(Y)&&(I=I.responseEnd,g+=q*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nd=null,id=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function L1(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(e){return Gy.resolve(null).then(e).catch(j1)}:Hy;function j1(e){setTimeout(function(){throw e})}function qr(e){return e==="head"}function Fy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Qa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")dl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,dl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&dl(e.ownerDocument.body);r=h}while(r);Qa(n)}function Qy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ad(r),la(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function B1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[fi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function q1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=jn(e.nextSibling),e===null))return null;return e}function Yy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function od(e){return e.data==="$?"||e.data==="$~"}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ud=null;function Ky(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return jn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Xy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function $y(e,n,r){switch(n=oc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);la(e)}var Bn=new Map,Zy=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ir=nt.d;nt.d={f:G1,r:F1,D:Q1,C:Y1,L:K1,m:X1,X:Z1,S:$1,M:J1};function G1(){var e=ir.f(),n=Wu();return e||n}function F1(e){var n=Nn(e);n!==null&&n.tag===5&&n.type==="form"?mp(n):ir.r(e)}var Ha=typeof document>"u"?null:document;function Jy(e,n,r){var o=Ha;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Zy.has(h)||(Zy.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),We(n,"link",e),Me(n),o.head.appendChild(n)))}}function Q1(e){ir.D(e),Jy("dns-prefetch",e,null)}function Y1(e,n){ir.C(e,n),Jy("preconnect",e,n)}function K1(e,n,r){ir.L(e,n,r);var o=Ha;if(o&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=Ga(e);break;case"script":f=Fa(e)}Bn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(gl(f))||(n=o.createElement("link"),We(n,"link",e),Me(n),o.head.appendChild(n)))}}function X1(e,n){ir.m(e,n);var r=Ha;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(e)}if(!Bn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Bn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(gl(f)))return}o=r.createElement("link"),We(o,"link",e),Me(o),r.head.appendChild(o)}}}function $1(e,n,r){ir.S(e,n,r);var o=Ha;if(o&&e){var h=mi(o).hoistableStyles,f=Ga(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ml(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Bn.get(f))&&cd(e,r);var I=g=o.createElement("link");Me(I),We(I,"link",e),I._p=new Promise(function(P,q){I.onload=P,I.onerror=q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Z1(e,n){ir.X(e,n);var r=Ha;if(r&&e){var o=mi(r).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=r.querySelector(gl(h)),f||(e=S({src:e,async:!0},n),(n=Bn.get(h))&&hd(e,n),f=r.createElement("script"),Me(f),We(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function J1(e,n){ir.M(e,n);var r=Ha;if(r&&e){var o=mi(r).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=r.querySelector(gl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&hd(e,n),f=r.createElement("script"),Me(f),We(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Wy(e,n,r,o){var h=(h=wt.current)?lc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ga(r.href),r=mi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ga(r.href);var f=mi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ml(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Bn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Bn.set(e,r),f||W1(h,e,r,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(r),r=mi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ga(e){return'href="'+hn(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function W1(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),We(n,"link",r),Me(n),e.head.appendChild(n))}function Fa(e){return'[src="'+hn(e)+'"]'}function gl(e){return"script[async]"+e}function e_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(r.href)+'"]');if(o)return n.instance=o,Me(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Me(o),We(o,"style",h),uc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ga(r.href);var f=e.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,Me(f),f;o=t_(r),(h=Bn.get(h))&&cd(o,h),f=(e.ownerDocument||e).createElement("link"),Me(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),We(f,"link",o),n.state.loading|=4,uc(f,r.precedence,e),n.instance=f;case"script":return f=Fa(r.src),(h=e.querySelector(gl(f)))?(n.instance=h,Me(h),h):(o=r,(h=Bn.get(f))&&(o=S({},r),hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Me(h),We(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,uc(o,r.precedence,e));return n.instance}function uc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var cc=null;function n_(e,n,r){if(cc===null){var o=new Map,h=cc=new Map;h.set(r,o)}else h=cc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[fi]||f[Oe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function i_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function tA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function r_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ga(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=hc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Me(f);return}f=n.ownerDocument||n,o=t_(o),(h=Bn.get(h))&&cd(o,h),f=f.createElement("link"),Me(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),We(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=hc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var fd=0;function nA(e,n){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&fd===0&&(fd=62500*U1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>fd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,n.forEach(iA,e),fc=null,hc.call(e))}function iA(e,n){if(!(n.state.loading&4)){var r=fc.get(e);if(r)var o=r.get(null);else{r=new Map,fc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=hc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var pl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function rA(e,n,r,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function s_(e,n,r,o,h,f,g,E,I,P,q,Y){return e=new rA(e,n,r,g,I,P,q,Y,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=Gh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Kh(f),e}function a_(e){return e?(e=Aa,e):Aa}function o_(e,n,r,o,h,f){h=a_(h),o.context===null?o.context=h:o.pendingContext=h,o=Or(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Mr(e,o,n),r!==null&&(yn(r,e,n),Ko(r,e,n))}function l_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function dd(e,n){l_(e,n),(e=e.alternate)&&l_(e,n)}function u_(e){if(e.tag===13||e.tag===31){var n=Vs(e,67108864);n!==null&&yn(n,e,67108864),dd(e,67108864)}}function c_(e){if(e.tag===13||e.tag===31){var n=Cn();n=As(n);var r=Vs(e,n);r!==null&&yn(r,e,n),dd(e,n)}}var mc=!0;function sA(e,n,r,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,md(e,n,r,o)}finally{nt.p=f,H.T=h}}function aA(e,n,r,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,md(e,n,r,o)}finally{nt.p=f,H.T=h}}function md(e,n,r,o){if(mc){var h=gd(o);if(h===null)td(e,n,o,gc,r),f_(e,o);else if(lA(h,e,n,r,o))o.stopPropagation();else if(f_(e,o),n&4&&-1<oA.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=li(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-lt(g);E.entanglements[1]|=I,g&=~I}Ii(f),(Jt&6)===0&&(Zu=Ke()+500,cl(0))}}break;case 31:case 13:E=Vs(f,2),E!==null&&yn(E,f,2),Wu(),dd(f,2)}if(f=gd(o),f===null&&td(e,n,o,gc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else td(e,n,o,null,r)}}function gd(e){return e=On(e),pd(e)}var gc=null;function pd(e){if(gc=null,e=di(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gc=e,null}function h_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pi()){case vs:return 2;case Gn:return 8;case oi:case Eo:return 32;case aa:return 268435456;default:return 32}default:return 32}}var yd=!1,Hr=null,Gr=null,Fr=null,yl=new Map,_l=new Map,Qr=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(e,n){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&u_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lA(e,n,r,o,h){switch(n){case"focusin":return Hr=vl(Hr,e,n,r,o,h),!0;case"dragenter":return Gr=vl(Gr,e,n,r,o,h),!0;case"mouseover":return Fr=vl(Fr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,e,n,r,o,h)),!0}return!1}function d_(e){var n=di(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Qn(e.priority,function(){c_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Qn(e.priority,function(){c_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=gd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Mo=o,r.target.dispatchEvent(o),Mo=null}else return n=Nn(r),n!==null&&u_(n),e.blockedOn=r,!1;n.shift()}return!0}function m_(e,n,r){pc(e)&&r.delete(n)}function uA(){yd=!1,Hr!==null&&pc(Hr)&&(Hr=null),Gr!==null&&pc(Gr)&&(Gr=null),Fr!==null&&pc(Fr)&&(Fr=null),yl.forEach(m_),_l.forEach(m_)}function yc(e,n){e.blockedOn===n&&(e.blockedOn=null,yd||(yd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,uA)))}var _c=null;function g_(e){_c!==e&&(_c=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(pd(o||r)===null)continue;break}var f=Nn(r);f!==null&&(e.splice(n,3),n-=3,gf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Qa(e){function n(I){return yc(I,e)}Hr!==null&&yc(Hr,e),Gr!==null&&yc(Gr,e),Fr!==null&&yc(Fr,e),yl.forEach(n),_l.forEach(n);for(var r=0;r<Qr.length;r++){var o=Qr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Qr.length&&(r=Qr[0],r.blockedOn===null);)d_(r),r.blockedOn===null&&Qr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ge]||null;if(typeof f=="function")g||g_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ge]||null)E=g.formAction;else if(pd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),g_(r)}}}function p_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function _d(e){this._internalRoot=e}vc.prototype.render=_d.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=Cn();o_(r,o,e,n,null,null)},vc.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;o_(e.current,2,null,e,null,null),Wu(),n[hi]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Qr.length&&n!==0&&n<Qr[r].priority;r++);Qr.splice(r,0,e),r===0&&d_(e)}};var y_=t.version;if(y_!=="19.2.0")throw Error(s(527,y_,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var cA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{ut=Ec.inject(cA),rt=Ec}catch{}}return Tl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=bp,f=wp,g=Rp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=s_(e,1,!1,null,null,r,o,null,h,f,g,p_),e[hi]=n.current,Wf(e),new _d(n)},Tl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=bp,g=wp,E=Rp,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=s_(e,1,!0,n,r??null,o,h,I,f,g,E,p_),n.context=a_(null),r=n.current,o=Cn(),o=As(o),h=Or(o),h.callback=null,Mr(r,h,o),r=o,n.current.lanes=r,Es(n,r),Ii(n),e[hi]=n.current,Wf(e),new vc(n)},Tl.version="19.2.0",Tl}var I_;function EA(){if(I_)return Td.exports;I_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Td.exports=vA(),Td.exports}var TA=EA();const AA=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SA=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),C_=a=>{const t=SA(a);return t.charAt(0).toUpperCase()+t.slice(1)},h0=(...a)=>a.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),bA=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var wA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RA=Kt.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},y)=>Kt.createElement("svg",{ref:y,...wA,width:t,height:t,stroke:a,strokeWidth:s?Number(i)*24/Number(t):i,className:h0("lucide",l),...!c&&!bA(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,A])=>Kt.createElement(v,A)),...Array.isArray(c)?c:[c]]));const gs=(a,t)=>{const i=Kt.forwardRef(({className:s,...l},c)=>Kt.createElement(RA,{ref:c,iconNode:t,className:h0(`lucide-${AA(C_(a))}`,`lucide-${a}`,s),...l}));return i.displayName=C_(a),i};const IA=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],CA=gs("arrow-down-a-z",IA);const DA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NA=gs("check",DA);const OA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],MA=gs("chevron-right",OA);const xA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],VA=gs("play",xA);const kA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],UA=gs("rotate-ccw",kA);const LA=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],PA=gs("shuffle",LA);const zA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],jA=gs("star",zA);const BA=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],wd=gs("trophy",BA),qA=()=>{};var D_={};const f0=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},HA=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},d0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,y=l+2<a.length,v=y?a[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let x=(p&15)<<2|v>>6,G=v&63;y||(G=64,d||(x=64)),s.push(i[A],i[S],i[x],i[G])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(f0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):HA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const S=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||v==null||S==null)throw new GA;const x=c<<2|p>>4;if(s.push(x),v!==64){const G=p<<4&240|v>>2;if(s.push(G),S!==64){const J=v<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class GA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FA=function(a){const t=f0(a);return d0.encodeByteArray(t,!0)},Lc=function(a){return FA(a).replace(/\./g,"")},m0=function(a){try{return d0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function QA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const YA=()=>QA().__FIREBASE_DEFAULTS__,KA=()=>{if(typeof process>"u"||typeof D_>"u")return;const a=D_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},XA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&m0(a[1]);return t&&JSON.parse(t)},rh=()=>{try{return qA()||YA()||KA()||XA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},g0=a=>rh()?.emulatorHosts?.[a],$A=a=>{const t=g0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},p0=()=>rh()?.config,y0=a=>rh()?.[`_${a}`];class ZA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function co(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _0(a){return(await fetch(a,{credentials:"include"})).ok}function JA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Lc(JSON.stringify(i)),Lc(JSON.stringify(d)),""].join(".")}const Rl={};function WA(){const a={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?a.emulator.push(t):a.prod.push(t);return a}function tS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let N_=!1;function v0(a,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Rl[a]===t||Rl[a]||N_)return;Rl[a]=t;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",c=WA().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function v(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{N_=!0,d()},x}function A(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=tS(s),G=i("text"),J=document.getElementById(G)||document.createElement("span"),at=i("learnmore"),W=document.getElementById(at)||document.createElement("a"),_t=i("preprendIcon"),Tt=document.getElementById(_t)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const dt=x.element;p(dt),A(W,at);const Ft=v();y(Tt,_t),dt.append(Tt,J,W,Ft),document.body.appendChild(dt)}c?(J.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function nS(){const a=rh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function sS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aS(){const a=ln();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function oS(){return!nS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lS(){try{return typeof indexedDB=="object"}catch{return!1}}function uS(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const cS="FirebaseError";class fr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=cS,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?hS(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new fr(l,p,s)}}function hS(a,t){return a.replace(fS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const fS=/\{\$([^}]+)}/g;function dS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Zs(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(O_(c)&&O_(d)){if(!Zs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function O_(a){return a!==null&&typeof a=="object"}function ql(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function mS(a,t){const i=new gS(a,t);return i.subscribe.bind(i)}class gS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");pS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Rd(){}function vn(a){return a&&a._delegate?a._delegate:a}class Js{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ys="[DEFAULT]";class yS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new ZA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vS(t))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ys){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ys){return this.instances.has(t)}getOptions(t=Ys){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_S(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ys){return this.component?this.component.multipleInstances?t:Ys:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _S(a){return a===Ys?void 0:a}function vS(a){return a.instantiationMode==="EAGER"}class ES{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new yS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var jt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(jt||(jt={}));const TS={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},AS=jt.INFO,SS={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},bS=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=SS[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hm{constructor(t){this.name=t,this._logLevel=AS,this._logHandler=bS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const wS=(a,t)=>t.some(i=>a instanceof i);let M_,x_;function RS(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E0=new WeakMap,zd=new WeakMap,T0=new WeakMap,Id=new WeakMap,fm=new WeakMap;function CS(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(ns(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&E0.set(i,a)}).catch(()=>{}),fm.set(t,a),t}function DS(a){if(zd.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});zd.set(a,t)}let jd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return zd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||T0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ns(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function NS(a){jd=a(jd)}function OS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Cd(this),t,...i);return T0.set(s,t.sort?t.sort():[t]),ns(s)}:IS().includes(a)?function(...t){return a.apply(Cd(this),t),ns(E0.get(this))}:function(...t){return ns(a.apply(Cd(this),t))}}function MS(a){return typeof a=="function"?OS(a):(a instanceof IDBTransaction&&DS(a),wS(a,RS())?new Proxy(a,jd):a)}function ns(a){if(a instanceof IDBRequest)return CS(a);if(Id.has(a))return Id.get(a);const t=MS(a);return t!==a&&(Id.set(a,t),fm.set(t,a)),t}const Cd=a=>fm.get(a);function xS(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=ns(d);return s&&d.addEventListener("upgradeneeded",y=>{s(ns(d.result),y.oldVersion,y.newVersion,ns(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const VS=["get","getKey","getAll","getAllKeys","count"],kS=["put","add","delete","clear"],Dd=new Map;function V_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=kS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||VS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&y.done]))[0]};return Dd.set(t,c),c}NS(a=>({...a,get:(t,i,s)=>V_(t,i)||a.get(t,i,s),has:(t,i)=>!!V_(t,i)||a.has(t,i)}));class US{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function LS(a){return a.getComponent()?.type==="VERSION"}const Bd="@firebase/app",k_="0.14.6";const or=new hm("@firebase/app"),PS="@firebase/app-compat",zS="@firebase/analytics-compat",jS="@firebase/analytics",BS="@firebase/app-check-compat",qS="@firebase/app-check",HS="@firebase/auth",GS="@firebase/auth-compat",FS="@firebase/database",QS="@firebase/data-connect",YS="@firebase/database-compat",KS="@firebase/functions",XS="@firebase/functions-compat",$S="@firebase/installations",ZS="@firebase/installations-compat",JS="@firebase/messaging",WS="@firebase/messaging-compat",tb="@firebase/performance",eb="@firebase/performance-compat",nb="@firebase/remote-config",ib="@firebase/remote-config-compat",rb="@firebase/storage",sb="@firebase/storage-compat",ab="@firebase/firestore",ob="@firebase/ai",lb="@firebase/firestore-compat",ub="firebase",cb="12.6.0";const qd="[DEFAULT]",hb={[Bd]:"fire-core",[PS]:"fire-core-compat",[jS]:"fire-analytics",[zS]:"fire-analytics-compat",[qS]:"fire-app-check",[BS]:"fire-app-check-compat",[HS]:"fire-auth",[GS]:"fire-auth-compat",[FS]:"fire-rtdb",[QS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[KS]:"fire-fn",[XS]:"fire-fn-compat",[$S]:"fire-iid",[ZS]:"fire-iid-compat",[JS]:"fire-fcm",[WS]:"fire-fcm-compat",[tb]:"fire-perf",[eb]:"fire-perf-compat",[nb]:"fire-rc",[ib]:"fire-rc-compat",[rb]:"fire-gcs",[sb]:"fire-gcs-compat",[ab]:"fire-fst",[lb]:"fire-fst-compat",[ob]:"fire-vertex","fire-js":"fire-js",[ub]:"fire-js-all"};const Pc=new Map,fb=new Map,Hd=new Map;function U_(a,t){try{a.container.addComponent(t)}catch(i){or.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function io(a){const t=a.name;if(Hd.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;Hd.set(t,a);for(const i of Pc.values())U_(i,a);for(const i of fb.values())U_(i,a);return!0}function dm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function ni(a){return a==null?!1:a.settings!==void 0}const db={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new Bl("app","Firebase",db);class mb{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const ho=cb;function A0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:qd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw is.create("bad-app-name",{appName:String(l)});if(i||(i=p0()),!i)throw is.create("no-options");const c=Pc.get(l);if(c){if(Zs(i,c.options)&&Zs(s,c.config))return c;throw is.create("duplicate-app",{appName:l})}const d=new ES(l);for(const y of Hd.values())d.addComponent(y);const p=new mb(i,s,d);return Pc.set(l,p),p}function S0(a=qd){const t=Pc.get(a);if(!t&&a===qd&&p0())return A0();if(!t)throw is.create("no-app",{appName:a});return t}function rs(a,t,i){let s=hb[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(d.join(" "));return}io(new Js(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const gb="firebase-heartbeat-database",pb=1,xl="firebase-heartbeat-store";let Nd=null;function b0(){return Nd||(Nd=xS(gb,pb,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(a=>{throw is.create("idb-open",{originalErrorMessage:a.message})})),Nd}async function yb(a){try{const i=(await b0()).transaction(xl),s=await i.objectStore(xl).get(w0(a));return await i.done,s}catch(t){if(t instanceof fr)or.warn(t.message);else{const i=is.create("idb-get",{originalErrorMessage:t?.message});or.warn(i.message)}}}async function L_(a,t){try{const s=(await b0()).transaction(xl,"readwrite");await s.objectStore(xl).put(t,w0(a)),await s.done}catch(i){if(i instanceof fr)or.warn(i.message);else{const s=is.create("idb-set",{originalErrorMessage:i?.message});or.warn(s.message)}}}function w0(a){return`${a.name}!${a.options.appId}`}const _b=1024,vb=30;class Eb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ab(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>vb){const l=Sb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){or.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P_(),{heartbeatsToSend:i,unsentEntries:s}=Tb(this._heartbeatsCache.heartbeats),l=Lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return or.warn(t),""}}}function P_(){return new Date().toISOString().substring(0,10)}function Tb(a,t=_b){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),z_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),z_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Ab{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lS()?uS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return L_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return L_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function z_(a){return Lc(JSON.stringify({version:2,heartbeats:a})).length}function Sb(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}function bb(a){io(new Js("platform-logger",t=>new US(t),"PRIVATE")),io(new Js("heartbeat",t=>new Eb(t),"PRIVATE")),rs(Bd,k_,a),rs(Bd,k_,"esm2020"),rs("fire-js","")}bb("");var wb="firebase",Rb="12.6.0";rs(wb,Rb,"app");function R0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ib=R0,I0=new Bl("auth","Firebase",R0());const zc=new hm("@firebase/auth");function Cb(a,...t){zc.logLevel<=jt.WARN&&zc.warn(`Auth (${ho}): ${a}`,...t)}function Ic(a,...t){zc.logLevel<=jt.ERROR&&zc.error(`Auth (${ho}): ${a}`,...t)}function lr(a,...t){throw mm(a,...t)}function Di(a,...t){return mm(a,...t)}function C0(a,t,i){const s={...Ib(),[t]:i};return new Bl("auth","Firebase",s).create(t,{appName:a.name})}function ss(a){return C0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return I0.create(a,...t)}function bt(a,t,...i){if(!a)throw mm(t,...i)}function rr(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Ic(t),new Error(t)}function ur(a,t){a||rr(t)}function Gd(){return typeof self<"u"&&self.location?.href||""}function Db(){return j_()==="http:"||j_()==="https:"}function j_(){return typeof self<"u"&&self.location?.protocol||null}function Nb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Db()||rS()||"connection"in navigator)?navigator.onLine:!0}function Ob(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Hl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ur(i>t,"Short delay should be less than long delay!"),this.isMobile=eS()||sS()}get(){return Nb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gm(a,t){ur(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class D0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vb=new Hl(3e4,6e4);function sh(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function fo(a,t,i,s,l={}){return N0(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=ql({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:y,...c};return iS()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&co(a.emulatorConfig.host)&&(v.credentials="include"),D0.fetch()(await M0(a,a.config.apiHost,i,p),v)})}async function N0(a,t,i){a._canInitEmulator=!1;const s={...Mb,...t};try{const l=new kb(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Tc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Tc(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw Tc(a,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw C0(a,A,v);lr(a,A)}}catch(l){if(l instanceof fr)throw l;lr(a,"network-request-failed",{message:String(l)})}}async function O0(a,t,i,s,l={}){const c=await fo(a,t,i,s,l);return"mfaPendingCredential"in c&&lr(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function M0(a,t,i,s){const l=`${t}${i}?${s}`,c=a,d=c.config.emulator?gm(a.config,l):`${a.config.apiScheme}://${l}`;return xb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class kb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),Vb.get())})}}function Tc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Di(a,t,s);return l.customData._tokenResponse=i,l}async function Ub(a,t){return fo(a,"POST","/v1/accounts:delete",t)}async function jc(a,t){return fo(a,"POST","/v1/accounts:lookup",t)}function Il(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Lb(a,t=!1){const i=vn(a),s=await i.getIdToken(t),l=pm(s);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Il(Od(l.auth_time)),issuedAtTime:Il(Od(l.iat)),expirationTime:Il(Od(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Od(a){return Number(a)*1e3}function pm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const l=m0(i);return l?JSON.parse(l):(Ic("Failed to decode base64 JWT payload"),null)}catch(l){return Ic("Caught error parsing JWT payload as JSON",l?.toString()),null}}function B_(a){const t=pm(a);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof fr&&Pb(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function Pb({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class zb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Fd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bc(a){const t=a.auth,i=await a.getIdToken(),s=await Vl(a,jc(t,{idToken:i}));bt(s?.users.length,t,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?x0(l.providerUserInfo):[],d=Bb(a.providerData,c),p=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,v=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(a,A)}async function jb(a){const t=vn(a);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Bb(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function x0(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function qb(a,t){const i=await N0(a,{},async()=>{const s=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await M0(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return a.emulatorConfig&&co(a.emulatorConfig.host)&&(y.credentials="include"),D0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Hb(a,t){return fo(a,"POST","/v2/accounts:revokeToken",sh(a,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):B_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=B_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await qb(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Ja;return s&&(bt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Kr(a,t){bt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new zb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Vl(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Lb(this,t)}reload(){return jb(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Bc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(ss(this.auth));const t=await this.getIdToken();return await Vl(this,Ub(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:G,providerData:J,stsTokenManager:at}=i;bt(S&&at,t,"internal-error");const W=Ja.fromJSON(this.name,at);bt(typeof S=="string",t,"internal-error"),Kr(s,t.name),Kr(l,t.name),bt(typeof x=="boolean",t,"internal-error"),bt(typeof G=="boolean",t,"internal-error"),Kr(c,t.name),Kr(d,t.name),Kr(p,t.name),Kr(y,t.name),Kr(v,t.name),Kr(A,t.name);const _t=new ii({uid:S,auth:t,email:l,emailVerified:x,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:v,lastLoginAt:A});return J&&Array.isArray(J)&&(_t.providerData=J.map(Tt=>({...Tt}))),y&&(_t._redirectEventId=y),_t}static async _fromIdTokenResponse(t,i,s=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new ii({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Bc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?x0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ja;p.updateFromIdToken(s);const y=new ii({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const q_=new Map;function sr(a){ur(a instanceof Function,"Expected a class definition");let t=q_.get(a);return t?(ur(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,q_.set(a,t),t)}class V0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}V0.type="NONE";const H_=V0;function Cc(a,t,i){return`firebase:${a}:${t}:${i}`}class Wa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Cc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Cc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await jc(this.auth,{idToken:t}).catch(()=>{});return i?ii._fromGetAccountInfoResponse(this.auth,i,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Wa(sr(H_),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||sr(H_);const d=Cc(s,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let S;if(typeof A=="string"){const x=await jc(t,{idToken:A}).catch(()=>{});if(!x)break;S=await ii._fromGetAccountInfoResponse(t,x,A)}else S=ii._fromJSON(t,A);v!==c&&(p=S),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Wa(c,t,s):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Wa(c,t,s))}}function G_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(P0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(k0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(j0(t))return"Blackberry";if(B0(t))return"Webos";if(U0(t))return"Safari";if((t.includes("chrome/")||L0(t))&&!t.includes("edge/"))return"Chrome";if(z0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function k0(a=ln()){return/firefox\//i.test(a)}function U0(a=ln()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function L0(a=ln()){return/crios\//i.test(a)}function P0(a=ln()){return/iemobile/i.test(a)}function z0(a=ln()){return/android/i.test(a)}function j0(a=ln()){return/blackberry/i.test(a)}function B0(a=ln()){return/webos/i.test(a)}function ym(a=ln()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Gb(a=ln()){return ym(a)&&!!window.navigator?.standalone}function Fb(){return aS()&&document.documentMode===10}function q0(a=ln()){return ym(a)||z0(a)||B0(a)||j0(a)||/windows phone/i.test(a)||P0(a)}function H0(a,t=[]){let i;switch(a){case"Browser":i=G_(ln());break;case"Worker":i=`${G_(ln())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${s}`}class Qb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Yb(a,t={}){return fo(a,"GET","/v2/passwordPolicy",sh(a,t))}const Kb=6;class Xb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Kb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class $b{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F_(this),this.idTokenSubscription=new F_(this),this.beforeStateQueue=new Qb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=sr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await jc(this,{idToken:t}),s=await ii._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ob()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(ss(this));const i=t?vn(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Yb(this),i=new Xb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await Hb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&sr(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[sr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Cb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ah(a){return vn(a)}class F_{constructor(t){this.auth=t,this.observer=null,this.addObserver=mS(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zb(a){_m=a}function Jb(a){return _m.loadJS(a)}function Wb(){return _m.gapiScript}function tw(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function ew(a,t){const i=dm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Zs(c,t??{}))return l;lr(l,"already-initialized")}return i.initialize({options:t})}function nw(a,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(sr);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function iw(a,t,i){const s=ah(a);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=G0(t),{host:d,port:p}=rw(t),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(Zs(v,s.config.emulator)&&Zs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,co(d)?(_0(`${c}//${d}${y}`),v0("Auth",!0)):sw()}function G0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function rw(a){const t=G0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Q_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Q_(d)}}}function Q_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function sw(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class F0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return rr("not implemented")}_getIdTokenResponse(t){return rr("not implemented")}_linkToIdToken(t,i){return rr("not implemented")}_getReauthenticationResolver(t){return rr("not implemented")}}async function to(a,t){return O0(a,"POST","/v1/accounts:signInWithIdp",sh(a,t))}const aw="http://localhost";class Ws extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):lr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Ws(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return to(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,to(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,to(t,i)}buildRequest(){const t={requestUri:aw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}class Q0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends Q0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zr extends Gl{constructor(){super("facebook.com")}static credential(t){return Ws._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class Jr extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ws._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Jr.credential(i,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";class Wr extends Gl{constructor(){super("github.com")}static credential(t){return Ws._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";class ts extends Gl{constructor(){super("twitter.com")}static credential(t,i){return Ws._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return ts.credential(i,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";async function ow(a,t){return O0(a,"POST","/v1/accounts:signUp",sh(a,t))}class ls{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await ii._fromIdTokenResponse(t,s,l),d=Y_(s);return new ls({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Y_(s);return new ls({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Y_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function lw(a){if(ni(a.app))return Promise.reject(ss(a));const t=ah(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ls({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ow(t,{returnSecureToken:!0}),s=await ls._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class qc extends fr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new qc(t,i,s,l)}}function Y0(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(a,c,t,s):c})}async function uw(a,t,i=!1){const s=await Vl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return ls._forOperation(a,"link",s)}async function cw(a,t,i=!1){const{auth:s}=a;if(ni(s.app))return Promise.reject(ss(s));const l="reauthenticate";try{const c=await Vl(a,Y0(s,l,t,a),i);bt(c.idToken,s,"internal-error");const d=pm(c.idToken);bt(d,s,"internal-error");const{sub:p}=d;return bt(a.uid===p,s,"user-mismatch"),ls._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&lr(s,"user-mismatch"),c}}async function hw(a,t,i=!1){if(ni(a.app))return Promise.reject(ss(a));const s="signIn",l=await Y0(a,s,t),c=await ls._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}function fw(a,t,i,s){return vn(a).onIdTokenChanged(t,i,s)}function dw(a,t,i){return vn(a).beforeAuthStateChanged(t,i)}function mw(a,t,i,s){return vn(a).onAuthStateChanged(t,i,s)}const Hc="__sak";class K0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const gw=1e3,pw=10;class X0 extends K0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Fb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,pw):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}X0.type="LOCAL";const yw=X0;class $0 extends K0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}$0.type="SESSION";const Z0=$0;function _w(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new oh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),y=await _w(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];function vm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}class vw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=vm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function Ew(a){Ni().location.href=a}function J0(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function Tw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Aw(){return navigator?.serviceWorker?.controller||null}function Sw(){return J0()?self:null}const W0="firebaseLocalStorageDb",bw=1,Gc="firebaseLocalStorage",tE="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function lh(a,t){return a.transaction([Gc],t?"readwrite":"readonly").objectStore(Gc)}function ww(){const a=indexedDB.deleteDatabase(W0);return new Fl(a).toPromise()}function Qd(){const a=indexedDB.open(W0,bw);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Gc,{keyPath:tE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Gc)?t(s):(s.close(),await ww(),t(await Qd()))})})}async function K_(a,t,i){const s=lh(a,!0).put({[tE]:t,value:i});return new Fl(s).toPromise()}async function Rw(a,t){const i=lh(a,!1).get(t),s=await new Fl(i).toPromise();return s===void 0?null:s.value}function X_(a,t){const i=lh(a,!0).delete(t);return new Fl(i).toPromise()}const Iw=800,Cw=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>Cw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(Sw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Tw(),!this.activeServiceWorker)return;this.sender=new vw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Aw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qd();return await K_(t,Hc,"1"),await X_(t,Hc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>K_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>Rw(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>X_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=lh(l,!1).getAll();return new Fl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const Dw=eE;new Hl(3e4,6e4);function Nw(a,t){return t?sr(t):(bt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Em extends F0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,i){return to(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Ow(a){return hw(a.auth,new Em(a),a.bypassAuthState)}function Mw(a){const{auth:t,user:i}=a;return bt(i,t,"internal-error"),cw(i,new Em(a),a.bypassAuthState)}async function xw(a){const{auth:t,user:i}=a;return bt(i,t,"internal-error"),uw(i,new Em(a),a.bypassAuthState)}class nE{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ow;case"linkViaPopup":case"linkViaRedirect":return xw;case"reauthViaPopup":case"reauthViaRedirect":return Mw;default:lr(this.auth,"internal-error")}}resolve(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vw=new Hl(2e3,1e4);class Za extends nE{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const t=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Vw.get())};t()}}Za.currentPopupAction=null;const kw="pendingRedirect",Dc=new Map;class Uw extends nE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const s=await Lw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lw(a,t){const i=jw(t),s=zw(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function Pw(a,t){Dc.set(a._key(),t)}function zw(a){return sr(a._redirectPersistence)}function jw(a){return Cc(kw,a.config.apiKey,a.name)}async function Bw(a,t,i=!1){if(ni(a.app))return Promise.reject(ss(a));const s=ah(a),l=Nw(s,t),d=await new Uw(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const qw=600*1e3;class Hw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Gw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!iE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qw&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(t))}saveEventToCache(t){this.cachedEventUids.add($_(t)),this.lastProcessedEventTime=Date.now()}}function $_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function iE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function Gw(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(a);default:return!1}}async function Fw(a,t={}){return fo(a,"GET","/v1/projects",t)}const Qw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yw=/^https?/;async function Kw(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Fw(a);for(const i of t)try{if(Xw(i))return}catch{}lr(a,"unauthorized-domain")}function Xw(a){const t=Gd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!Yw.test(i))return!1;if(Qw.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const $w=new Hl(3e4,6e4);function Z_(){const a=Ni().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Zw(a){return new Promise((t,i)=>{function s(){Z_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Z_(),i(Di(a,"network-request-failed"))},timeout:$w.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const l=tw("iframefcb");return Ni()[l]=()=>{gapi.load?s():i(Di(a,"network-request-failed"))},Jb(`${Wb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Nc=null,t})}let Nc=null;function Jw(a){return Nc=Nc||Zw(a),Nc}const Ww=new Hl(5e3,15e3),tR="__/auth/iframe",eR="emulator/auth/iframe",nR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rR(a){const t=a.config;bt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?gm(t,eR):`https://${a.config.authDomain}/${tR}`,s={apiKey:t.apiKey,appName:a.name,v:ho},l=iR.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${ql(s).slice(1)}`}async function sR(a){const t=await Jw(a),i=Ni().gapi;return bt(i,a,"internal-error"),t.open({where:document.body,url:rR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Di(a,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},Ww.get());function y(){Ni().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{c(d)})}))}const aR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oR=500,lR=600,uR="_blank",cR="http://localhost";class J_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hR(a,t,i,s=oR,l=lR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...aR,width:s.toString(),height:l.toString(),top:c,left:d},v=ln().toLowerCase();i&&(p=L0(v)?uR:i),k0(v)&&(t=t||cR,y.scrollbars="yes");const A=Object.entries(y).reduce((x,[G,J])=>`${x}${G}=${J},`,"");if(Gb(v)&&p!=="_self")return fR(t||"",p),new J_(null);const S=window.open(t||"",p,A);bt(S,a,"popup-blocked");try{S.focus()}catch{}return new J_(S)}function fR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const dR="__/auth/handler",mR="emulator/auth/handler",gR=encodeURIComponent("fac");async function W_(a,t,i,s,l,c){bt(a.config.authDomain,a,"auth-domain-config-required"),bt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:ho,eventId:l};if(t instanceof Q0){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",dS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Gl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await a._getAppCheckToken(),v=y?`#${gR}=${encodeURIComponent(y)}`:"";return`${pR(a)}?${ql(p).slice(1)}${v}`}function pR({config:a}){return a.emulator?gm(a,mR):`https://${a.authDomain}/${dR}`}const Md="webStorageSupport";class yR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z0,this._completeRedirectFn=Bw,this._overrideRedirectResult=Pw}async _openPopup(t,i,s,l){ur(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await W_(t,i,s,Gd(),l);return hR(t,c,vm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await W_(t,i,s,Gd(),l);return Ew(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ur(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await sR(t),s=new Hw(t);return i.register("authEvent",l=>(bt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Md,{type:Md},l=>{const c=l?.[0]?.[Md];c!==void 0&&i(!!c),lr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Kw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return q0()||U0()||ym()}}const _R=yR;var tv="@firebase/auth",ev="1.11.1";class vR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ER(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TR(a){io(new Js("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(a)},v=new $b(s,l,c,y);return nw(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),io(new Js("auth-internal",t=>{const i=ah(t.getProvider("auth").getImmediate());return(s=>new vR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(tv,ev,ER(a)),rs(tv,ev,"esm2020")}const AR=300,SR=y0("authIdTokenMaxAge")||AR;let nv=null;const bR=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>SR)return;const l=i?.token;nv!==l&&(nv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function wR(a=S0()){const t=dm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=ew(a,{popupRedirectResolver:_R,persistence:[Dw,yw,Z0]}),s=y0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=bR(c.toString());dw(i,d,()=>d(i.currentUser)),fw(i,p=>d(p))}}const l=g0("auth");return l&&iw(i,`http://${l}`),i}function RR(){return document.getElementsByTagName("head")?.[0]??document}Zb({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=Di("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",RR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TR("Browser");var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var as,rE;(function(){var a;function t(C,b){function R(){}R.prototype=b.prototype,C.F=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,D,k){for(var w=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)w[ue-2]=arguments[ue];return b.prototype[D].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)M[D]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],D=C.g[2];let k=C.g[3],w;w=b+(k^R&(D^k))+M[0]+3614090360&4294967295,b=R+(w<<7&4294967295|w>>>25),w=k+(D^b&(R^D))+M[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(R^k&(b^R))+M[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=R+(b^D&(k^b))+M[3]+3250441966&4294967295,R=D+(w<<22&4294967295|w>>>10),w=b+(k^R&(D^k))+M[4]+4118548399&4294967295,b=R+(w<<7&4294967295|w>>>25),w=k+(D^b&(R^D))+M[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(R^k&(b^R))+M[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=R+(b^D&(k^b))+M[7]+4249261313&4294967295,R=D+(w<<22&4294967295|w>>>10),w=b+(k^R&(D^k))+M[8]+1770035416&4294967295,b=R+(w<<7&4294967295|w>>>25),w=k+(D^b&(R^D))+M[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(R^k&(b^R))+M[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=R+(b^D&(k^b))+M[11]+2304563134&4294967295,R=D+(w<<22&4294967295|w>>>10),w=b+(k^R&(D^k))+M[12]+1804603682&4294967295,b=R+(w<<7&4294967295|w>>>25),w=k+(D^b&(R^D))+M[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(R^k&(b^R))+M[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=R+(b^D&(k^b))+M[15]+1236535329&4294967295,R=D+(w<<22&4294967295|w>>>10),w=b+(D^k&(R^D))+M[1]+4129170786&4294967295,b=R+(w<<5&4294967295|w>>>27),w=k+(R^D&(b^R))+M[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^R&(k^b))+M[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=R+(k^b&(D^k))+M[0]+3921069994&4294967295,R=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(R^D))+M[5]+3593408605&4294967295,b=R+(w<<5&4294967295|w>>>27),w=k+(R^D&(b^R))+M[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^R&(k^b))+M[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=R+(k^b&(D^k))+M[4]+3889429448&4294967295,R=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(R^D))+M[9]+568446438&4294967295,b=R+(w<<5&4294967295|w>>>27),w=k+(R^D&(b^R))+M[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^R&(k^b))+M[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=R+(k^b&(D^k))+M[8]+1163531501&4294967295,R=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(R^D))+M[13]+2850285829&4294967295,b=R+(w<<5&4294967295|w>>>27),w=k+(R^D&(b^R))+M[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^R&(k^b))+M[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=R+(k^b&(D^k))+M[12]+2368359562&4294967295,R=D+(w<<20&4294967295|w>>>12),w=b+(R^D^k)+M[5]+4294588738&4294967295,b=R+(w<<4&4294967295|w>>>28),w=k+(b^R^D)+M[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^R)+M[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=R+(D^k^b)+M[14]+4259657740&4294967295,R=D+(w<<23&4294967295|w>>>9),w=b+(R^D^k)+M[1]+2763975236&4294967295,b=R+(w<<4&4294967295|w>>>28),w=k+(b^R^D)+M[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^R)+M[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=R+(D^k^b)+M[10]+3200236656&4294967295,R=D+(w<<23&4294967295|w>>>9),w=b+(R^D^k)+M[13]+681279174&4294967295,b=R+(w<<4&4294967295|w>>>28),w=k+(b^R^D)+M[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^R)+M[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=R+(D^k^b)+M[6]+76029189&4294967295,R=D+(w<<23&4294967295|w>>>9),w=b+(R^D^k)+M[9]+3654602809&4294967295,b=R+(w<<4&4294967295|w>>>28),w=k+(b^R^D)+M[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^R)+M[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=R+(D^k^b)+M[2]+3299628645&4294967295,R=D+(w<<23&4294967295|w>>>9),w=b+(D^(R|~k))+M[0]+4096336452&4294967295,b=R+(w<<6&4294967295|w>>>26),w=k+(R^(b|~D))+M[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~R))+M[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=R+(k^(D|~b))+M[5]+4237533241&4294967295,R=D+(w<<21&4294967295|w>>>11),w=b+(D^(R|~k))+M[12]+1700485571&4294967295,b=R+(w<<6&4294967295|w>>>26),w=k+(R^(b|~D))+M[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~R))+M[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=R+(k^(D|~b))+M[1]+2240044497&4294967295,R=D+(w<<21&4294967295|w>>>11),w=b+(D^(R|~k))+M[8]+1873313359&4294967295,b=R+(w<<6&4294967295|w>>>26),w=k+(R^(b|~D))+M[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~R))+M[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=R+(k^(D|~b))+M[13]+1309151649&4294967295,R=D+(w<<21&4294967295|w>>>11),w=b+(D^(R|~k))+M[4]+4149444226&4294967295,b=R+(w<<6&4294967295|w>>>26),w=k+(R^(b|~D))+M[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~R))+M[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=R+(k^(D|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const R=b-this.blockSize,M=this.C;let D=this.h,k=0;for(;k<b;){if(D==0)for(;k<=R;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(M[D++]=C.charCodeAt(k++),D==this.blockSize){l(this,M),D=0;break}}else for(;k<b;)if(M[D++]=C[k++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[b++]=this.g[R]>>>M&255;return C};function c(C,b){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function d(C,b){this.h=b;const R=[];let M=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;M&&k==b||(R[D]=k,M=!1)}this.g=R}var p={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return W(v(-C));const b=[];let R=1;for(let M=0;C>=R;M++)b[M]=C/R|0,R*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return W(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(b,8));let M=S;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+D),b);D<8?(D=v(Math.pow(b,D)),M=M.j(D).add(v(w))):(M=M.j(R),M=M.add(v(w)))}return M}var S=y(0),x=y(1),G=y(16777216);a=d.prototype,a.m=function(){if(at(this))return-W(this).m();let C=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(at(this))return"-"+W(this).toString(C);const b=v(Math.pow(C,6));var R=this;let M="";for(;;){const D=Ft(R,b).g;R=_t(R,D.j(b));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,J(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function at(C){return C.h==-1}a.l=function(C){return C=_t(this,C),at(C)?-1:J(C)?0:1};function W(C){const b=C.g.length,R=[];for(let M=0;M<b;M++)R[M]=~C.g[M];return new d(R,~C.h).add(x)}a.abs=function(){return at(this)?W(this):this},a.add=function(C){const b=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let D=0;D<=b;D++){let k=M+(this.i(D)&65535)+(C.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=w>>>16,k&=65535,w&=65535,R[D]=w<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function _t(C,b){return C.add(W(b))}a.j=function(C){if(J(this)||J(C))return S;if(at(this))return at(C)?W(this).j(W(C)):W(W(this).j(C));if(at(C))return W(this.j(W(C)));if(this.l(G)<0&&C.l(G)<0)return v(this.m()*C.m());const b=this.g.length+C.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const k=this.i(M)>>>16,w=this.i(M)&65535,ue=C.i(D)>>>16,Se=C.i(D)&65535;R[2*M+2*D]+=w*Se,Tt(R,2*M+2*D),R[2*M+2*D+1]+=k*Se,Tt(R,2*M+2*D+1),R[2*M+2*D+1]+=w*ue,Tt(R,2*M+2*D+1),R[2*M+2*D+2]+=k*ue,Tt(R,2*M+2*D+2)}for(C=0;C<b;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=b;C<2*b;C++)R[C]=0;return new d(R,0)};function Tt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function dt(C,b){this.g=C,this.h=b}function Ft(C,b){if(J(b))throw Error("division by zero");if(J(C))return new dt(S,S);if(at(C))return b=Ft(W(C),b),new dt(W(b.g),W(b.h));if(at(b))return b=Ft(C,W(b)),new dt(W(b.g),b.h);if(C.g.length>30){if(at(C)||at(b))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=b;M.l(C)<=0;)R=te(R),M=te(M);var D=Ht(R,1),k=Ht(M,1);for(M=Ht(M,2),R=Ht(R,2);!J(M);){var w=k.add(M);w.l(C)<=0&&(D=D.add(R),k=w),M=Ht(M,1),R=Ht(R,1)}return b=_t(C,D.j(b)),new dt(D,b)}for(D=S;C.l(b)>=0;){for(R=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=v(R),w=k.j(b);at(w)||w.l(C)>0;)R-=M,k=v(R),w=k.j(b);J(k)&&(k=x),D=D.add(k),C=_t(C,w)}return new dt(D,C)}a.B=function(C){return Ft(this,C).h},a.and=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&C.i(M);return new d(R,this.h&C.h)},a.or=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|C.i(M);return new d(R,this.h|C.h)},a.xor=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^C.i(M);return new d(R,this.h^C.h)};function te(C){const b=C.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(R,C.h)}function Ht(C,b){const R=b>>5;b%=32;const M=C.g.length-R,D=[];for(let k=0;k<M;k++)D[k]=b>0?C.i(k+R)>>>b|C.i(k+R+1)<<32-b:C.i(k+R);return new d(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,rE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,as=d}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sE,Al,aE,Oc,Yd,oE,lE,uE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break t;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,U,j){for(var tt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)tt[Ot-2]=arguments[Ot];return m.prototype[U].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const j=U.length||0;u.length=_+j;for(let tt=0;tt<j;tt++)u[_+tt]=U[tt]}else u.push(U)}}class at{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function _t(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,_){const T=dt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new at(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Ht=!1,C=new Tt,b=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(R)}};function R(){for(var u;u=_t();){try{u.h.call(u.g)}catch(_){W(_)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ht=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ue(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ue,D),ue.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Yt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let j=0;j<Q.length;j++)_=Q[j],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,_,T,U){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const tt=wt(u,m,T,U);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new nt(m,this.src,j,!!T,U),m.fa=_,u.push(m)),m};function At(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(T,U,1),j&&(mt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wt(u,m,_,T){for(let U=0;U<u.length;++U){const j=u[U];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==T)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),be={};function he(u,m,_,T,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)he(u,m[j],_,T,U);return null}return _=pr(_),u&&u[Se]?u.J(m,_,p(T)?!!T.capture:!1,U):Ui(u,m,_,!1,T,U)}function Ui(u,m,_,T,U,j){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let Ot=Li(u);if(Ot||(u[kt]=Ot=new ot(u)),_=Ot.add(m,_,T,tt,j),_.proxy)return _;if(T=dr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)k||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Dn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function dr(){function u(_){return m.call(u.src,u.listener,_)}const m=ps;return u}function mr(u,m,_,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)mr(u,m[j],_,T,U);else T=p(T)?!!T.capture:!!T,_=pr(_),u&&u[Se]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],_=wt(m,_,T,U),_>-1&&(mt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=Li(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,_,T,U)),(_=u>-1?m[u]:null)&&gr(_))}function gr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Se])At(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Dn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Li(m))?(At(_,u),_.h==0&&(_.src=null,m[kt]=null)):mt(u)}}}function Dn(u){return u in be?be[u]:be[u]="on"+u}function ps(u,m){if(u.da)u=!0;else{m=new ue(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&gr(u),u=_.call(T,m)}return u}function Li(u){return u=u[kt],u instanceof ot?u:null}var ys="__closure_events_fn_"+(Math.random()*1e9>>>0);function pr(u){return typeof u=="function"?u:(u[ys]||(u[ys]=function(m){return u.handleEvent(m)}),u[ys])}function ve(){M.call(this),this.i=new ot(this),this.M=this,this.G=null}S(ve,M),ve.prototype[Se]=!0,ve.prototype.removeEventListener=function(u,m,_,T){mr(this,u,m,_,T)};function we(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),it(m,U)}U=!0;let j,tt;if(_)for(tt=_.length-1;tt>=0;tt--)j=m.g=_[tt],U=ai(j,T,!0,m)&&U;if(j=m.g=u,U=ai(j,T,!0,m)&&U,U=ai(j,T,!1,m)&&U,_)for(tt=0;tt<_.length;tt++)j=m.g=_[tt],U=ai(j,T,!1,m)&&U}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)mt(_[T]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ve.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ai(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const tt=m[j];if(tt&&!tt.da&&tt.capture==_){const Ot=tt.listener,Re=tt.ha||tt.src;tt.fa&&At(u.i,tt),U=Ot.call(Re,T)!==!1&&U}}return U&&!T.defaultPrevented}function vo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function _s(u){u.g=vo(()=>{u.g=null,u.i&&(u.i=!1,_s(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ke extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_s(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(u){M.call(this),this.h=u,this.g={}}S(Pi,M);var vs=[];function Gn(u){Vt(u.g,function(m,_){this.g.hasOwnProperty(_)&&gr(m)},u),u.g={}}Pi.prototype.N=function(){Pi.Z.N.call(this),Gn(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=d.JSON.stringify,Eo=d.JSON.parse,aa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Z(){}function et(){}var ut={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rt(){D.call(this,"d")}S(rt,D);function st(){D.call(this,"c")}S(st,D);var lt={},St=null;function Nt(){return St=St||new ve}lt.Ia="serverreachability";function It(u){D.call(this,lt.Ia,u)}S(It,D);function ee(u){const m=Nt();we(m,new It(m))}lt.STAT_EVENT="statevent";function Ne(u,m){D.call(this,lt.STAT_EVENT,u),this.stat=m}S(Ne,D);function fe(u){const m=Nt();we(m,new Ne(m,u))}lt.Ja="timingevent";function li(u,m){D.call(this,lt.Ja,u),this.size=m}S(li,D);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Ah(u,m,_,T,U,j){u.info(function(){if(u.g)if(j){var tt="",Ot=j.split("&");for(let Zt=0;Zt<Ot.length;Zt++){var Re=Ot[Zt].split("=");if(Re.length>1){const ye=Re[0];Re=Re[1];const xn=ye.split("_");tt=xn.length>=2&&xn[1]=="type"?tt+(ye+"="+Re+"&"):tt+(ye+"=redacted&")}}}else tt=null;else tt=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+tt})}function Jl(u,m,_,T,U,j,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+j+" "+tt})}function ci(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,_)+(T?" "+T:"")})}function Es(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var _=j[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return oi(j)}catch{return m}}var Ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function As(){}S(As,Z),As.prototype.g=function(){return new XMLHttpRequest},Ao=new As;function zi(u){return encodeURIComponent(String(u))}function Wl(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Qn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new Pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Oe={},Ge={};function hi(u,m,_){u.M=1,u.A=Ss(xe(m)),u.u=_,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),fi(u),u.B=xe(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ha(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Yn,u.g=mu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ke(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(vs[0]=U.toString()),U=vs);for(let j=0;j<U.length;j++){const tt=he(_,U[j],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ee(),Ah(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Ot=$n(this.g),Re=this.g.ya(),Zt=this.g.ca();if(!(Ot<3)&&(Ot!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Ot!=4||Re==7||(Re==8||Zt<=0?ee(3):ee(2)),di(this);var m=this.g.ca();this.X=m;var _=bh(this);if(this.o=m==200,Jl(this.i,this.v,this.B,this.l,this.S,Ot,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var j=T;break e}}j=null}if(u=j)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,fe(12),En(this),Nn(this);break t}}if(this.R){u=!0;let ye;for(;!this.K&&this.C<_.length;)if(ye=eu(this,_),ye==Ge){Ot==4&&(this.m=4,fe(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ye==Oe){this.m=4,fe(15),ci(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,ye,null),mi(this,ye);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||_.length!=0||this.h.h||(this.m=1,fe(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,_,"[Invalid Chunked Response]"),En(this),Nn(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Lo(tt),tt.P=!0,fe(11))}}else ci(this.i,this.l,_,null),mi(this,_);Ot==4&&En(this),this.o&&!this.K&&(Ot==4?cu(this.j,this):(this.o=!1,fi(this)))}else Bi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,fe(12)):(this.m=0,fe(13)),En(this),Nn(this)}}}catch{}finally{}};function bh(u){if(!tu(u))return u.g.la();const m=Xe(u.g);if(m==="")return"";let _="";const T=m.length,U=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,_+=u.h.i.decode(m[j],{stream:!(U&&j==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function eu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ge:(_=Number(m.substring(_,T)),isNaN(_)?Oe:(T+=1,T+_>m.length?Ge:(m=m.slice(T,T+_),u.C=T+_,m)))}Qn.prototype.cancel=function(){this.K=!0,En(this)};function fi(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(v(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Es(this.i,this.B),this.M!=2&&(ee(),fe(17)),En(this),this.m=2,Nn(this)):la(this,this.T-u)};function Nn(u){u.j.I==0||u.K||cu(u.j,u)}function En(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Gn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||pi(_.h,u))){if(!u.L&&pi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)pa(_),br(_);else break t;Ns(_),fe(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ui(v(_.Va,_),6e3));gi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ai(_,11)}else if((u.L||_.g==u)&&pa(_),!w(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let Zt=U[m];const ye=Zt[0];if(!(ye<=_.K))if(_.K=ye,Zt=Zt[1],_.I==2)if(Zt[0]=="c"){_.M=Zt[1],_.ba=Zt[2];const xn=Zt[3];xn!=null&&(_.ka=xn,_.j.info("VER="+_.ka));const Si=Zt[4];Si!=null&&(_.za=Si,_.j.info("SVER="+_.za));const Zn=Zt[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(T=1.5*Zn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Jn=u.g;if(Jn){const Os=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var j=T.h;j.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(wo(j,j.h),j.h=null))}if(T.G){const ya=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(T.wa=ya,ne(T.J,T.G,ya))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var tt=u;if(T.na=du(T,T.L?T.ba:null,T.W),tt.L){Ro(T.h,tt);var Ot=tt,Re=T.O;Re&&(Ot.H=Re),Ot.D&&(di(Ot),fi(Ot)),T.g=tt}else lu(T);_.i.length>0&&Ti(_)}else Zt[0]!="stop"&&Zt[0]!="close"||Ai(_,7);else _.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Ai(_,7):ko(_):Zt[0]!="noop"&&_.l&&_.l.qa(Zt),_.A=0)}}ee(4)}catch{}}var Me=class{constructor(u,m){this.g=u,this.map=m}};function So(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function Ro(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}So.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Io(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let U,j=null;T>=0?(U=u[_].substring(0,T),j=u[_].substring(T+1)):U=u[_],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,Fe(this,u.j),this.o=u.o,this.g=u.g,yr(this,u.u),this.h=u.h,Co(this,au(u.i)),this.m=u.m):u&&(m=String(u).match(nu))?(this.l=!1,Fe(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),yr(this,m[4]),this.h=yi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new vr(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(bs(m,ca,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(bs(m,ca,!0),"@"),u.push(zi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(bs(_,_.charAt(0)=="/"?Do:iu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",bs(_,ru)),u.join("")},Tn.prototype.resolve=function(u){const m=xe(this);let _=!!u.j;_?Fe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)yr(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let tt=0;tt<U.length;){const Ot=U[tt++];Ot=="."?T&&tt==U.length&&j.push(""):Ot==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&tt==U.length&&j.push("")):(j.push(Ot),T=!0)}T=j.join("/")}else T=U}return _?m.h=T:_=u.i.toString()!=="",_?Co(m,au(u.i)):_=!!u.m,_&&(m.m=u.m),m};function xe(u){return new Tn(u)}function Fe(u,m,_){u.j=_?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function yr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,_){m instanceof vr?(u.i=m,fa(u.i,u.l)):(_||(m=bs(m,_r)),u.i=new vr(m,u.l))}function ne(u,m,_){u.i.set(m,_)}function Ss(u){return ne(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function bs(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ca=/[#\/\?@]/g,iu=/[#\?:]/g,Do=/[#\?]/g,_r=/[#\?@]/g,ru=/#/g;function vr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ua(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=vr.prototype,a.add=function(u,m){fn(this),this.i=null,u=Er(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function su(u,m){fn(u),m=Er(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return fn(u),m=Er(u,m),u.g.has(m)}a.forEach=function(u,m){fn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Oo(u,m){fn(u);let _=[];if(typeof m=="string")No(u,m)&&(_=_.concat(u.g.get(Er(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return fn(this),this.i=null,u=Er(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Oo(this,u),u.length>0?String(u[0]):m):m};function ha(u,m,_){su(u,m),_.length>0&&(u.i=null,u.g.set(Er(u,m),G(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const U=zi(_);_=Oo(this,_);for(let j=0;j<_.length;j++){let tt=U;_[j]!==""&&(tt+="="+zi(_[j])),u.push(tt)}}return this.i=u.join("&")};function au(u){const m=new vr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Er(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(_,T){const U=T.toLowerCase();T!=U&&(su(this,T),ha(this,U,_))},u)),u.j=m}function Kn(u,m){const _=new Fn;if(d.Image){const T=new Image;T.onload=A(On,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(On,_,"TestLoadImage: error",!1,m,T),T.onabort=A(On,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(On,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Mo(u,m){const _=new Fn,T=new AbortController,U=setTimeout(()=>{T.abort(),On(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?On(_,"TestPingServer: ok",!0,m):On(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),On(_,"TestPingServer: error",!1,m)})}function On(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function Tr(){this.g=new aa}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}S(_i,Z),_i.prototype.g=function(){return new ws(this.i,this.h)};function ws(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ws,ve),a=ws.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Xn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ar(this):Xn(this),this.readyState==3&&da(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Ar(this))},a.Na=function(u){this.g&&(this.response=u,Ar(this))},a.ga=function(){this.g&&Ar(this)};function Ar(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Xn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return Vt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Rs(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Mn(_),typeof u=="string"?_!=null&&zi(_):ne(u,m,_))}function se(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(se,ve);var vi=/^https?$/i,xo=["POST","PUT"];a=se.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=x(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Is(this,j);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())_.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of _)this.g.setRequestHeader(j,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){Is(this,j)}};function Is(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),ji(u)}function Vo(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,we(this,"complete"),we(this,"abort"),ji(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),se.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Cs(this):this.Xa())},a.Xa=function(){Cs(this)};function Cs(u){if(u.h&&typeof c<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(we(u,"readystatechange"),$n(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=j===0){let tt=String(u.D).match(nu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!vi.test(tt?tt.toLowerCase():"")}_=T}if(_)we(u,"complete"),we(u,"success");else{u.o=6;try{var U=$n(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Vo(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||we(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}a.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Eo(m)}};function Xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=Wl(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[U]||[];m[U]=j,j.push(_)}Yt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Sr(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new So(u&&u.concurrentRequestLimit),this.Ba=new Tr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Sr.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,T){fe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=du(this,null,this.W),Ti(this)};function ko(u){if(ma(u),u.I==3){var m=u.V++,_=xe(u.J);if(ne(_,"SID",u.M),ne(_,"RID",m),ne(_,"TYPE","terminate"),Ds(u,_),m=new Qn(u,u.j,m),m.M=2,m.A=Ss(xe(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}fu(u)}function br(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function ma(u){br(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||b(),Ht||(te(),Ht=!0),C.add(m,u),u.D=0}}function ga(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(v(u.Ea,u,m),hu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Qn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=O(j),it(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=ou(this,U,m),_=xe(this.J),ne(_,"RID",u),ne(_,"CVER",22),this.G&&ne(_,"X-HTTP-Session-Id",this.G),Ds(this,_),j&&(this.R?m="headers="+zi(Mn(j))+"&"+m:this.u&&Rs(_,this.u,j)),wo(this.h,U),this.Ra&&ne(_,"TYPE","init"),this.S?(ne(_,"$req",m),ne(_,"SID","null"),U.U=!0,hi(U,_,null)):hi(U,_,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||bo(this.h)||Uo(this))};function Uo(u,m){var _;m?_=m.l:_=u.V++;const T=xe(u.J);ne(T,"SID",u.M),ne(T,"RID",_),ne(T,"AID",u.K),Ds(u,T),u.u&&u.o&&Rs(T,u.u,u.o),_=new Qn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ou(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,_),hi(_,T,m)}function Ds(u,m){u.H&&Vt(u.H,function(_,T){ne(m,T,_)}),u.l&&Vt({},function(_,T){ne(m,T,_)})}function ou(u,m,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var U=u.i;let Ot=-1;for(;;){const Re=["count="+_];Ot==-1?_>0?(Ot=U[0].g,Re.push("ofs="+Ot)):Ot=0:Re.push("ofs="+Ot);let Zt=!0;for(let ye=0;ye<_;ye++){var j=U[ye].g;const xn=U[ye].map;if(j-=Ot,j<0)Ot=Math.max(0,U[ye].g-100),Zt=!1;else try{j="req"+j+"_"||"";try{var tt=xn instanceof Map?xn:Object.entries(xn);for(const[Si,Zn]of tt){let Jn=Zn;p(Zn)&&(Jn=oi(Zn)),Re.push(j+Si+"="+encodeURIComponent(Jn))}}catch(Si){throw Re.push(j+"type="+encodeURIComponent("_badmap")),Si}}catch{T&&T(xn)}}if(Zt){tt=Re.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function lu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||b(),Ht||(te(),Ht=!0),C.add(m,u),u.A=0}}function Ns(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(v(u.Da,u),hu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,fe(10),br(this),uu(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function uu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xe(u.na);ne(m,"RID","rpc"),ne(m,"SID",u.M),ne(m,"AID",u.K),ne(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ne(m,"TO",u.ia),ne(m,"TYPE","xmlhttp"),Ds(u,m),u.u&&u.o&&Rs(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Ss(xe(m)),_.u=null,_.R=!0,oa(_,u)}a.Va=function(){this.C!=null&&(this.C=null,br(this),Ns(this),fe(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function cu(u,m){var _=null;if(u.g==m){pa(u),Lo(u),u.g=null;var T=2}else if(pi(u.h,m))_=m.G,Ro(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Nt(),we(T,new li(T,_)),Ti(u)}else lu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ga(u,m)||T==2&&Ns(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function hu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),T=u.Ua;const U=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fe(T,"https"),Ss(T),U?Kn(T.toString(),_):Mo(T.toString(),_)}else fe(2);u.I=0,u.l&&u.l.pa(m),fu(u),ma(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function fu(u){if(u.I=0,u.ja=[],u.l){const m=Io(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function du(u,m,_){var T=_ instanceof Tn?xe(_):new Tn(_);if(T.g!="")m&&(T.g=m+"."+T.g),yr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new Tn(null);T&&Fe(j,T),m&&(j.g=m),U&&yr(j,U),_&&(j.h=_),T=j}return _=u.G,m=u.wa,_&&m&&ne(T,_,m),ne(T,"VER",u.ka),Ds(u,T),T}function mu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new se(new _i({ab:_})):new se(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}a=gu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function wr(){}wr.prototype.g=function(u,m){return new un(u,m)};function un(u,m){ve.call(this),this.g=new Sr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}S(un,ve),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){ko(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=oi(u),u=_);m.i.push(new Me(m.Ya++,u)),m.I==3&&Ti(m)},un.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,un.Z.N.call(this)};function pu(u){rt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(pu,rt);function yu(){st.call(this),this.status=1}S(yu,st);function qi(u){this.g=u}S(qi,gu),qi.prototype.ra=function(){we(this.g,"a")},qi.prototype.qa=function(u){we(this.g,new pu(u))},qi.prototype.pa=function(u){we(this.g,new yu)},qi.prototype.oa=function(){we(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,uE=function(){return new wr},lE=function(){return Nt()},oE=lt,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,Oc=Ts,To.COMPLETE="complete",aE=To,et.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Al=et,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,sE=se}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore",sv="4.9.2";class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let mo="12.3.0";const ta=new hm("@firebase/firestore");function Ya(){return ta.logLevel}function ct(a,...t){if(ta.logLevel<=jt.DEBUG){const i=t.map(Tm);ta.debug(`Firestore (${mo}): ${a}`,...i)}}function cr(a,...t){if(ta.logLevel<=jt.ERROR){const i=t.map(Tm);ta.error(`Firestore (${mo}): ${a}`,...i)}}function ro(a,...t){if(ta.logLevel<=jt.WARN){const i=t.map(Tm);ta.warn(`Firestore (${mo}): ${a}`,...i)}}function Tm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Et(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,cE(a,s,i)}function cE(a,t,i){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw cr(s),new Error(s)}function Wt(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||cE(t,l,s)}function Dt(a,t){return a}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends fr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class hE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class CR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class DR{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Wt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string",31837,{l:s}),new hE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class NR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new NR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Wt(this.o===void 0,3512);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Wt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class Am{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=xR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Bt(a,t){return a<t?-1:a>t?1:0}function Kd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),c=t.charAt(s);if(l!==c)return xd(l)===xd(c)?Bt(l,c):xd(l)?1:-1}return Bt(a.length,t.length)}const VR=55296,kR=57343;function xd(a){const t=a.charCodeAt(0);return t>=VR&&t<=kR}function so(a,t,i){return a.length===t.length&&a.every(((s,l)=>i(s,t[l])))}const ov="__name__";class Ci{constructor(t,i,s){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&Et(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Ci.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Bt(t.length,i.length)}static compareSegments(t,i){const s=Ci.isNumericId(t),l=Ci.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):Kd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return as.fromString(t.substring(4,t.length-2))}}class de extends Ci{construct(t,i,s){return new de(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new de(i)}static emptyPath(){return new de([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Ci{construct(t,i,s){return new en(t,i,s)}static isValidIdentifier(t){return UR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ov}static keyField(){return new en([ov])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ht(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ht(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ht(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new ht(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(i)}static emptyPath(){return new en([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(de.fromString(t))}static fromName(t){return new yt(de.fromString(t).popFirst(5))}static empty(){return new yt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return de.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new de(t.slice()))}}function fE(a,t,i){if(!i)throw new ht(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function LR(a,t,i,s){if(t===!0&&s===!0)throw new ht(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function lv(a){if(!yt.isDocumentKey(a))throw new ht(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function uv(a){if(yt.isDocumentKey(a))throw new ht(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function dE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function uh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function Cl(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ht(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=uh(a);throw new ht(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function je(a,t){const i={typeString:a};return t&&(i.value=t),i}function Ql(a,t){if(!dE(a))throw new ht(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ht(K.INVALID_ARGUMENT,i);return!0}const cv=-62135596800,hv=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(t){return pe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*hv);return new pe(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<cv)throw new ht(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,pe._jsonSchema))return new pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:je("string",pe._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new pe(0,0))}static max(){return new Rt(new pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function PR(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=Rt.fromTimestamp(s===1e9?new pe(i+1,0):new pe(i,s));return new us(l,yt.empty(),t)}function zR(a){return new us(a.readTime,a.key,kl)}class us{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new us(Rt.min(),yt.empty(),kl)}static max(){return new us(Rt.max(),yt.empty(),kl)}}function jR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(a.documentKey,t.documentKey),i!==0?i:Bt(a.largestBatchId,t.largestBatchId))}const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==BR)throw a;ct("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,s)=>{i(t)}))}static reject(t){return new X(((i,s)=>{s(t)}))}static waitFor(t){return new X(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next((l=>l?X.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new X(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((A=>{d[v]=A,++p,p===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function HR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function po(a){return a.name==="IndexedDbTransactionError"}class ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;const Sm=-1;function hh(a){return a==null}function Fc(a){return a===0&&1/a==-1/0}function GR(a){return typeof a=="number"&&Number.isInteger(a)&&!Fc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const mE="";function FR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=fv(t)),t=QR(a.get(i),t);return fv(t)}function QR(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case mE:i+="";break;default:i+=c}}return i}function fv(a){return a+mE+""}function dv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function na(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function gE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class Ee{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new Ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??tn.RED,this.left=l??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new tn(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return tn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(t){return new mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new He(this.comparator);return i.data=t,i}}class mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new ri([])}unionWith(t){let i=new He(en.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new ri(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const YR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(a){if(Wt(!!a,39018),typeof a=="string"){let t=0;const i=YR.exec(a);if(Wt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:De(a.seconds),nanos:De(a.nanos)}}function De(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function hs(a){return typeof a=="string"?nn.fromBase64String(a):nn.fromUint8Array(a)}const yE="server_timestamp",_E="__type__",vE="__previous_value__",EE="__local_write_time__";function bm(a){return(a?.mapValue?.fields||{})[_E]?.stringValue===yE}function fh(a){const t=a.mapValue.fields[vE];return bm(t)?fh(t):t}function Ul(a){const t=cs(a.mapValue.fields[EE].timestampValue);return new pe(t.seconds,t.nanos)}class KR{constructor(t,i,s,l,c,d,p,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const Qc="(default)";class Ll{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}const TE="__type__",XR="__max__",bc={mapValue:{}},AE="__vector__",Yc="value";function fs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?bm(a)?4:ZR(a)?9007199254740991:$R(a)?10:11:Et(28295,{value:a})}function ki(a,t){if(a===t)return!0;const i=fs(a);if(i!==fs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ul(a).isEqual(Ul(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=cs(l.timestampValue),p=cs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return hs(l.bytesValue).isEqual(hs(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return De(l.geoPointValue.latitude)===De(c.geoPointValue.latitude)&&De(l.geoPointValue.longitude)===De(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return De(l.integerValue)===De(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=De(l.doubleValue),p=De(c.doubleValue);return d===p?Fc(d)===Fc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return so(a.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(dv(d)!==dv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ki(d[y],p[y])))return!1;return!0})(a,t);default:return Et(52216,{left:a})}}function Pl(a,t){return(a.values||[]).find((i=>ki(i,t)))!==void 0}function ao(a,t){if(a===t)return 0;const i=fs(a),s=fs(t);if(i!==s)return Bt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=De(c.integerValue||c.doubleValue),y=De(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,t);case 3:return gv(a.timestampValue,t.timestampValue);case 4:return gv(Ul(a),Ul(t));case 5:return Kd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=hs(c),y=hs(d);return p.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const A=Bt(p[v],y[v]);if(A!==0)return A}return Bt(p.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Bt(De(c.latitude),De(d.latitude));return p!==0?p:Bt(De(c.longitude),De(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return pv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},v=p[Yc]?.arrayValue,A=y[Yc]?.arrayValue,S=Bt(v?.values?.length||0,A?.values?.length||0);return S!==0?S:pv(v,A)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===bc.mapValue&&d===bc.mapValue)return 0;if(c===bc.mapValue)return 1;if(d===bc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const x=Kd(y[S],A[S]);if(x!==0)return x;const G=ao(p[y[S]],v[A[S]]);if(G!==0)return G}return Bt(y.length,A.length)})(a.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function gv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Bt(a,t);const i=cs(a),s=cs(t),l=Bt(i.seconds,s.seconds);return l!==0?l:Bt(i.nanos,s.nanos)}function pv(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=ao(i[l],s[l]);if(c)return c}return Bt(i.length,s.length)}function oo(a){return Xd(a)}function Xd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=cs(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return hs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return yt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Xd(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Xd(i.fields[d])}`;return l+"}"})(a.mapValue):Et(61005,{value:a})}function Mc(a){switch(fs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(a);return t?16+Mc(t):16;case 5:return 2*a.stringValue.length;case 6:return hs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Mc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return na(s.fields,((c,d)=>{l+=c.length+Mc(d)})),l})(a.mapValue);default:throw Et(13486,{value:a})}}function yv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function $d(a){return!!a&&"integerValue"in a}function wm(a){return!!a&&"arrayValue"in a}function _v(a){return!!a&&"nullValue"in a}function vv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function xc(a){return!!a&&"mapValue"in a}function $R(a){return(a?.mapValue?.fields||{})[TE]?.stringValue===AE}function Dl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return na(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Dl(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Dl(a.arrayValue.values[i]);return t}return{...a}}function ZR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===XR}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(i)}setAll(t){let i=en.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Dl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){na(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new qn(Dl(this.value))}}function SE(a){const t=[];return na(a.fields,((i,s)=>{const l=new en([i]);if(xc(s)){const c=SE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new ri(t)}class on{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new on(t,0,Rt.min(),Rt.min(),Rt.min(),qn.empty(),0)}static newFoundDocument(t,i,s,l){return new on(t,1,i,Rt.min(),s,l,0)}static newNoDocument(t,i){return new on(t,2,i,Rt.min(),Rt.min(),qn.empty(),0)}static newUnknownDocument(t,i){return new on(t,3,i,Rt.min(),Rt.min(),qn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kc{constructor(t,i){this.position=t,this.inclusive=i}}function Ev(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=yt.comparator(yt.fromName(d.referenceValue),i.key):s=ao(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ki(a.position[i],t.position[i]))return!1;return!0}class Xc{constructor(t,i="asc"){this.field=t,this.dir=i}}function JR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class bE{}class ze extends bE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new t2(t,i,s):i==="array-contains"?new i2(t,s):i==="in"?new r2(t,s):i==="not-in"?new s2(t,s):i==="array-contains-any"?new a2(t,s):new ze(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new e2(t,s):new n2(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&fs(this.value)===fs(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends bE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new si(t,i)}matches(t){return wE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wE(a){return a.op==="and"}function RE(a){return WR(a)&&wE(a)}function WR(a){for(const t of a.filters)if(t instanceof si)return!1;return!0}function Zd(a){if(a instanceof ze)return a.field.canonicalString()+a.op.toString()+oo(a.value);if(RE(a))return a.filters.map((t=>Zd(t))).join(",");{const t=a.filters.map((i=>Zd(i))).join(",");return`${a.op}(${t})`}}function IE(a,t){return a instanceof ze?(function(s,l){return l instanceof ze&&s.op===l.op&&s.field.isEqual(l.field)&&ki(s.value,l.value)})(a,t):a instanceof si?(function(s,l){return l instanceof si&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&IE(d,l.filters[p])),!0):!1})(a,t):void Et(19439)}function CE(a){return a instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(a):a instanceof si?(function(i){return i.op.toString()+" {"+i.getFilters().map(CE).join(" ,")+"}"})(a):"Filter"}class t2 extends ze{constructor(t,i,s){super(t,i,s),this.key=yt.fromName(s.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class e2 extends ze{constructor(t,i){super(t,"in",i),this.keys=DE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class n2 extends ze{constructor(t,i){super(t,"not-in",i),this.keys=DE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function DE(a,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class i2 extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wm(i)&&Pl(i.arrayValue,this.value)}}class r2 extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class s2 extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Pl(this.value.arrayValue,i)}}class a2 extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Pl(this.value.arrayValue,s)))}}class o2{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Av(a,t=null,i=[],s=[],l=null,c=null,d=null){return new o2(a,t,i,s,l,c,d)}function Rm(a){const t=Dt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Zd(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),hh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>oo(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>oo(s))).join(",")),t.Te=i}return t.Te}function Im(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!JR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!IE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Tv(a.startAt,t.startAt)&&Tv(a.endAt,t.endAt)}function Jd(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Yl{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l2(a,t,i,s,l,c,d,p){return new Yl(a,t,i,s,l,c,d,p)}function Cm(a){return new Yl(a)}function Sv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function NE(a){return a.collectionGroup!==null}function Nl(a){const t=Dt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new He(en.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Xc(c,s))})),i.has(en.keyField().canonicalString())||t.Ie.push(new Xc(en.keyField(),s))}return t.Ie}function Oi(a){const t=Dt(a);return t.Ee||(t.Ee=u2(t,Nl(a))),t.Ee}function u2(a,t){if(a.limitType==="F")return Av(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Xc(l.field,c)}));const i=a.endAt?new Kc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Kc(a.startAt.position,a.startAt.inclusive):null;return Av(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Wd(a,t){const i=a.filters.concat([t]);return new Yl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function tm(a,t,i){return new Yl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function dh(a,t){return Im(Oi(a),Oi(t))&&a.limitType===t.limitType}function OE(a){return`${Rm(Oi(a))}|lt:${a.limitType}`}function Ka(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>CE(l))).join(", ")}]`),hh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${s})`})(Oi(a))}; limitType=${a.limitType})`}function mh(a,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):yt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,l){for(const c of Nl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const v=Ev(d,p,y);return d.inclusive?v<=0:v<0})(s.startAt,Nl(s),l)||s.endAt&&!(function(d,p,y){const v=Ev(d,p,y);return d.inclusive?v>=0:v>0})(s.endAt,Nl(s),l))})(a,t)}function c2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function ME(a){return(t,i)=>{let s=!1;for(const l of Nl(a)){const c=h2(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function h2(a,t,i){const s=a.field.isKeyField()?yt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?ao(y,v):Et(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:a.dir})}}class ia{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){na(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}const f2=new Ee(yt.comparator);function hr(){return f2}const xE=new Ee(yt.comparator);function Sl(...a){let t=xE;for(const i of a)t=t.insert(i.key,i);return t}function VE(a){let t=xE;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ks(){return Ol()}function kE(){return Ol()}function Ol(){return new ia((a=>a.toString()),((a,t)=>a.isEqual(t)))}const d2=new Ee(yt.comparator),m2=new He(yt.comparator);function qt(...a){let t=m2;for(const i of a)t=t.add(i);return t}const g2=new He(Bt);function p2(){return g2}function Dm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function UE(a){return{integerValue:""+a}}function y2(a,t){return GR(t)?UE(t):Dm(a,t)}class gh{constructor(){this._=void 0}}function _2(a,t,i){return a instanceof $c?(function(l,c){const d={fields:{[_E]:{stringValue:yE},[EE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&bm(c)&&(c=fh(c)),c&&(d.fields[vE]=c),{mapValue:d}})(i,t):a instanceof zl?PE(a,t):a instanceof jl?zE(a,t):(function(l,c){const d=LE(l,c),p=bv(d)+bv(l.Ae);return $d(d)&&$d(l.Ae)?UE(p):Dm(l.serializer,p)})(a,t)}function v2(a,t,i){return a instanceof zl?PE(a,t):a instanceof jl?zE(a,t):i}function LE(a,t){return a instanceof Zc?(function(s){return $d(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class $c extends gh{}class zl extends gh{constructor(t){super(),this.elements=t}}function PE(a,t){const i=jE(t);for(const s of a.elements)i.some((l=>ki(l,s)))||i.push(s);return{arrayValue:{values:i}}}class jl extends gh{constructor(t){super(),this.elements=t}}function zE(a,t){let i=jE(t);for(const s of a.elements)i=i.filter((l=>!ki(l,s)));return{arrayValue:{values:i}}}class Zc extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function bv(a){return De(a.integerValue||a.doubleValue)}function jE(a){return wm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function E2(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof zl&&l instanceof zl||s instanceof jl&&l instanceof jl?so(s.elements,l.elements,ki):s instanceof Zc&&l instanceof Zc?ki(s.Ae,l.Ae):s instanceof $c&&l instanceof $c})(a.transform,t.transform)}class T2{constructor(t,i){this.version=t,this.transformResults=i}}class ar{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ar}static exists(t){return new ar(void 0,t)}static updateTime(t){return new ar(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class ph{}function BE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new HE(a.key,ar.none()):new Kl(a.key,a.data,ar.none());{const i=a.data,s=qn.empty();let l=new He(en.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new ra(a.key,s,new ri(l.toArray()),ar.none())}}function A2(a,t,i){a instanceof Kl?(function(l,c,d){const p=l.value.clone(),y=Rv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof ra?(function(l,c,d){if(!Vc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Rv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(qE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(a,t,i,s){return a instanceof Kl?(function(c,d,p,y){if(!Vc(c.precondition,d))return p;const v=c.value.clone(),A=Iv(c.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,t,i,s):a instanceof ra?(function(c,d,p,y){if(!Vc(c.precondition,d))return p;const v=Iv(c.fieldTransforms,y,d),A=d.data;return A.setAll(qE(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(a,t,i,s):(function(c,d,p){return Vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function S2(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=LE(s.transform,l||null);c!=null&&(i===null&&(i=qn.empty()),i.set(s.field,c))}return i||null}function wv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&so(s,l,((c,d)=>E2(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Kl extends ph{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ra extends ph{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function Rv(a,t,i){const s=new Map;Wt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,v2(d,p,i[l]))}return s}function Iv(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,_2(c,d,t))}return s}class HE extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b2 extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class w2{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&A2(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Ml(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Ml(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=kE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=BE(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),qt())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((i,s)=>wv(i,s)))&&so(this.baseMutations,t.baseMutations,((i,s)=>wv(i,s)))}}class Nm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Wt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return d2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Nm(t,i,s,l)}}class R2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class I2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Pe,Qt;function C2(a){switch(a){case K.OK:return Et(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Et(15467,{code:a})}}function GE(a){if(a===void 0)return cr("GRPC error has no .code"),K.UNKNOWN;switch(a){case Pe.OK:return K.OK;case Pe.CANCELLED:return K.CANCELLED;case Pe.UNKNOWN:return K.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return K.INTERNAL;case Pe.UNAVAILABLE:return K.UNAVAILABLE;case Pe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Pe.NOT_FOUND:return K.NOT_FOUND;case Pe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Pe.ABORTED:return K.ABORTED;case Pe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Pe.DATA_LOSS:return K.DATA_LOSS;default:return Et(39323,{code:a})}}(Qt=Pe||(Pe={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function D2(){return new TextEncoder}const N2=new as([4294967295,4294967295],0);function Cv(a){const t=D2().encode(a),i=new rE;return i.update(t),new Uint8Array(i.digest())}function Dv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new as([i,s],0),new as([l,c],0)]}class Om{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=as.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(as.fromNumber(s)));return l.compare(N2)===1&&(l=new as([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Cv(t),[s,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Om(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Cv(t),[s,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new yh(Rt.min(),l,new Ee(Bt),hr(),qt())}}class Xl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Xl(s,i,qt(),qt(),qt())}}class kc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class FE{constructor(t,i){this.targetId=t,this.Ce=i}}class QE{constructor(t,i,s=nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Nv{constructor(){this.ve=0,this.Fe=Ov(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),i=qt(),s=qt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=Ov()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class O2{constructor(t){this.Ge=t,this.ze=new Map,this.je=hr(),this.Je=wc(),this.He=wc(),this.Ye=new Ee(Bt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Jd(c))if(s===0){const d=new yt(c.path);this.et(i,d,on.newNoDocument(d,Rt.min()))}else Wt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=hs(s).toUint8Array()}catch(y){if(y instanceof pE)return ro("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Om(d,l,c)}catch(y){return ro(y instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Jd(p.target)){const y=new yt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,on.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=qt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new yh(t,i,this.Ye,this.je,s);return this.je=hr(),this.Je=wc(),this.He=wc(),this.Ye=new Ee(Bt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Nv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new He(Bt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new He(Bt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Nv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function wc(){return new Ee(yt.comparator)}function Ov(){return new Ee(yt.comparator)}const M2={asc:"ASCENDING",desc:"DESCENDING"},x2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V2={and:"AND",or:"OR"};class k2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function em(a,t){return a.useProto3Json||hh(t)?t:{value:t}}function Jc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function U2(a,t){return Jc(a,t.toTimestamp())}function Mi(a){return Wt(!!a,49232),Rt.fromTimestamp((function(i){const s=cs(i);return new pe(s.seconds,s.nanos)})(a))}function Mm(a,t){return nm(a,t).canonicalString()}function nm(a,t){const i=(function(l){return new de(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function KE(a){const t=de.fromString(a);return Wt(WE(t),10190,{key:t.toString()}),t}function im(a,t){return Mm(a.databaseId,t.path)}function Vd(a,t){const i=KE(t);if(i.get(1)!==a.databaseId.projectId)throw new ht(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ht(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new yt($E(i))}function XE(a,t){return Mm(a.databaseId,t)}function L2(a){const t=KE(a);return t.length===4?de.emptyPath():$E(t)}function rm(a){return new de(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function $E(a){return Wt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Mv(a,t,i){return{name:im(a,t),fields:i.value.mapValue.fields}}function P2(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Et(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Wt(A===void 0||typeof A=="string",58123),nn.fromBase64String(A||"")):(Wt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),nn.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?K.UNKNOWN:GE(v.code);return new ht(A,v.message||"")})(d);i=new QE(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Vd(a,s.document.name),c=Mi(s.document.updateTime),d=s.document.createTime?Mi(s.document.createTime):Rt.min(),p=new qn({mapValue:{fields:s.document.fields}}),y=on.newFoundDocument(l,c,d,p),v=s.targetIds||[],A=s.removedTargetIds||[];i=new kc(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Vd(a,s.document),c=s.readTime?Mi(s.readTime):Rt.min(),d=on.newNoDocument(l,c),p=s.removedTargetIds||[];i=new kc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Vd(a,s.document),c=s.removedTargetIds||[];i=new kc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new I2(l,c),p=s.targetId;i=new FE(p,d)}}return i}function z2(a,t){let i;if(t instanceof Kl)i={update:Mv(a,t.key,t.value)};else if(t instanceof HE)i={delete:im(a,t.key)};else if(t instanceof ra)i={update:Mv(a,t.key,t.data),updateMask:K2(t.fieldMask)};else{if(!(t instanceof b2))return Et(16599,{Vt:t.type});i={verify:im(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:U2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(a,t.precondition)),i}function j2(a,t){return a&&a.length>0?(Wt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Mi(l.updateTime):Mi(c);return d.isEqual(Rt.min())&&(d=Mi(c)),new T2(d,l.transformResults||[])})(i,t)))):[]}function B2(a,t){return{documents:[XE(a,t.path)]}}function q2(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=XE(a,l);const c=(function(v){if(v.length!==0)return JE(si.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(x){return{field:Xa(x.field),direction:F2(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=em(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function H2(a){let t=L2(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Wt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const x=ZE(S);return x instanceof si&&RE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(J){return new Xc($a(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,hh(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(S){const x=!!S.before,G=S.values||[];return new Kc(G,x)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const x=!S.before,G=S.values||[];return new Kc(G,x)})(i.endAt)),l2(t,l,d,c,p,"F",y,v)}function G2(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function ZE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=$a(i.unaryFilter.field);return ze.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(i.unaryFilter.field);return ze.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(a):a.fieldFilter!==void 0?(function(i){return ze.create($a(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return si.create(i.compositeFilter.filters.map((s=>ZE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(a):Et(30097,{filter:a})}function F2(a){return M2[a]}function Q2(a){return x2[a]}function Y2(a){return V2[a]}function Xa(a){return{fieldPath:a.canonicalString()}}function $a(a){return en.fromServerFormat(a.fieldPath)}function JE(a){return a instanceof ze?(function(i){if(i.op==="=="){if(vv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NAN"}};if(_v(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(vv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NAN"}};if(_v(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(i.field),op:Q2(i.op),value:i.value}}})(a):a instanceof si?(function(i){const s=i.getFilters().map((l=>JE(l)));return s.length===1?s[0]:{compositeFilter:{op:Y2(i.op),filters:s}}})(a):Et(54877,{filter:a})}function K2(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function WE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class es{constructor(t,i,s,l,c=Rt.min(),d=Rt.min(),p=nn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new es(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class X2{constructor(t){this.yt=t}}function $2(a){const t=H2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?tm(t,t.limit,"L"):t}class Z2{constructor(){this.Cn=new J2}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(us.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(us.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class J2{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new He(de.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new He(de.comparator)).toArray()}}const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(tT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class lo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new lo(0)}static cr(){return new lo(-1)}}const Vv="LruGarbageCollector",W2=1048576;function kv([a,t],[i,s]){const l=Bt(a,i);return l===0?Bt(t,s):l}class tI{constructor(t){this.Ir=t,this.buffer=new He(kv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();kv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class eI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(Vv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){po(i)?ct(Vv,"Ignoring IndexedDB error during garbage collection: ",i):await go(i)}await this.Vr(3e5)}))}}class nI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ch.ce);const s=new tI(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(xv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,p,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(v=Date.now(),Ya()<=jt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function iI(a,t){return new nI(a,t)}class rI{constructor(){this.changes=new ia((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class sI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class aI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Ml(s.mutation,l,ri.empty(),pe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,qt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=qt()){const l=Ks();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Sl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ks();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,qt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=hr();const d=Ol(),p=(function(){return Ol()})();return i.forEach(((y,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof ra)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Ml(A.mutation,v,A.mutation.getFieldMask(),pe.now())):d.set(v.key,ri.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new sI(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Ol();let l=new Ee(((d,p)=>d-p)),c=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let A=s.get(y)||ri.empty();A=p.applyToLocalView(v,A),s.set(y,A);const S=(l.get(p.batchId)||qt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,A=y.value,S=kE();A.forEach((x=>{if(!c.has(x)){const G=BE(i.get(x),s.get(x));G!==null&&S.set(x,G),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,S))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):NE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):X.resolve(Ks());let p=kl,y=c;return d.next((v=>X.forEach(v,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{y=y.insert(A,x)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,qt()))).next((A=>({batchId:p,changes:VE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((s=>{let l=Sl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const v=(function(S,x){return new Yl(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next((A=>{A.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,on.newInvalidDocument(A)))}));let p=Sl();return d.forEach(((y,v)=>{const A=c.get(y);A!==void 0&&Ml(A.mutation,v,ri.empty(),pe.now()),mh(i,v)&&(p=p.insert(y,v))})),p}))}}class oI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:$2(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),X.resolve()}}class lI{constructor(){this.overlays=new Ee(yt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ks();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const l=Ks(),c=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new Ee(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=Ks(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Ks(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new R2(i,s));let c=this.qr.get(i);c===void 0&&(c=qt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class uI{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class xm{constructor(){this.Qr=new He(Ye.$r),this.Ur=new He(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Ye(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Ye(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new yt(new de([])),s=new Ye(i,t),l=new Ye(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new de([])),s=new Ye(i,t),l=new Ye(i,t+1);let c=qt();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ye(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ye{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||Bt(t.Yr,i.Yr)}static Kr(t,i){return Bt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class cI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ye.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new w2(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ye(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Sm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ye(i,0),l=new Ye(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new He(Bt);return i.forEach((l=>{const c=new Ye(l,0),d=new Ye(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;yt.isDocumentKey(c)||(c=c.child(""));const d=new Ye(new yt(c),0);let p=new He(Bt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Wt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Ye(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Ye(i,0),l=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class hI{constructor(t){this.ri=t,this.docs=(function(){return new Ee(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():on.newInvalidDocument(i))}getEntries(t,i){let s=hr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=hr();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||jR(zR(A),s)<=0||(l.has(A.key)||mh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,s,l){Et(9500)}ii(t,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new fI(this)}getSize(t){return X.resolve(this.size)}}class fI extends rI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class dI{constructor(t){this.persistence=t,this.si=new ia((i=>Rm(i)),Im),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new xm,this.targetCount=0,this.ai=lo.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new lo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class eT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new uI,this.referenceDelegate=t(this),this.Pi=new dI(this),this.indexManager=new Z2,this.remoteDocumentCache=(function(l){return new hI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new X2(i),this.Ii=new oI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new lI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new cI(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){ct("MemoryPersistence","Starting transaction:",t);const l=new mI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class mI extends qR{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Ri=new xm,this.Vi=null}static mi(t){return new Vm(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const l=yt.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Rt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.pi=new ia((s=>FR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=iI(this,i)}static mi(t,i){return new Wc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(s++,c.removeEntry(d,Rt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}br(t,i,s){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class km{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=qt(),l=qt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new km(t,i.fromCache,s,l)}}class gI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class pI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oS()?8:HR(ln())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new gI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Ya()<=jt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ya()<=jt.DEBUG&&ct("QueryEngine","Query:",Ka(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ya()<=jt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(i))):X.resolve())}ys(t,i){if(Sv(i))return X.resolve(null);let s=Oi(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=tm(i,null,"F"),s=Oi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=qt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((y=>{const v=this.Ds(i,p);return this.Cs(i,v,d,y.readTime)?this.ys(t,tm(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ws(t,i,s,l){return Sv(i)||l.isEqual(Rt.min())?X.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?X.resolve(null):(Ya()<=jt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ka(i)),this.vs(t,d,i,PR(l,kl)).next((p=>p)))}))}Ds(t,i){let s=new He(ME(t));return i.forEach(((l,c)=>{mh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Ya()<=jt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Ka(i)),this.ps.getDocumentsMatchingQuery(t,i,us.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Um="LocalStore",yI=3e8;class _I{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Ee(Bt),this.xs=new ia((c=>Rm(c)),Im),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new aI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function vI(a,t,i,s){return new _I(a,t,i,s)}async function nT(a,t){const i=Dt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let y=qt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function EI(a,t){const i=Dt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,A){const S=v.batch,x=S.keys();let G=X.resolve();return x.forEach((J=>{G=G.next((()=>A.getEntry(y,J))).next((at=>{const W=v.docVersions.get(J);Wt(W!==null,48541),at.version.compareTo(W)<0&&(S.applyToRemoteDocument(at,v),at.isValidDocument()&&(at.setReadTime(v.commitVersion),A.addEntry(at)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=qt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function iT(a){const t=Dt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function TI(a,t){const i=Dt(a),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const x=l.get(S);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let G=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(nn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,s)),l=l.insert(S,G),(function(at,W,_t){return at.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=yI?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0})(x,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let y=hr(),v=qt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(AI(c,d,t.documentUpdates).next((A=>{y=A.ks,v=A.qs}))),!s.isEqual(Rt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function AI(a,t,i){let s=qt(),l=qt();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let d=hr();return i.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Rt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ct(Um,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function SI(a,t){const i=Dt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Sm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function bI(a,t){const i=Dt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new es(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function sm(a,t,i){const s=Dt(a),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;ct(Um,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Uv(a,t,i){const s=Dt(a);let l=Rt.min(),c=qt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,A){const S=Dt(y),x=S.xs.get(A);return x!==void 0?X.resolve(S.Ms.get(x)):S.Pi.getTargetData(v,A)})(s,d,Oi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:Rt.min(),i?c:qt()))).next((p=>(wI(s,c2(t),p),{documents:p,Qs:c})))))}function wI(a,t,i){let s=a.Os.get(t)||Rt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(t,s)}class Lv{constructor(){this.activeTargetIds=p2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class RI{constructor(){this.Mo=new Lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Lv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class II{Oo(t){}shutdown(){}}const Pv="ConnectivityMonitor";class zv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(Pv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(Pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rc=null;function am(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}const kd="RestConnection",CI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Qc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=am(),p=this.zo(t,i.toUriEncodedString());ct(kd,`Sending RPC '${t}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:v}=new URL(p),A=co(v);return this.Jo(t,p,y,s,A).then((S=>(ct(kd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw ro(kd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=CI[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class NI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class OI extends DI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=am();return new Promise(((p,y)=>{const v=new sE;v.setWithCredentials(!0),v.listenOnce(aE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Oc.NO_ERROR:const S=v.getResponseJson();ct(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Oc.TIMEOUT:ct(sn,`RPC '${t}' ${d} timed out`),y(new ht(K.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const x=v.getStatus();if(ct(sn,`RPC '${t}' ${d} failed with status:`,x,"response text:",v.getResponseText()),x>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const at=(function(_t){const Tt=_t.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Tt)>=0?Tt:K.UNKNOWN})(J.status);y(new ht(at,J.message))}else y(new ht(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ht(K.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ct(sn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ct(sn,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=uE(),p=lE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=c.join("");ct(sn,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let x=!1,G=!1;const J=new NI({Yo:W=>{G?ct(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(x||(ct(sn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),x=!0),ct(sn,`RPC '${t}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),at=(W,_t,Tt)=>{W.listen(_t,(dt=>{try{Tt(dt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return at(S,Al.EventType.OPEN,(()=>{G||(ct(sn,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),at(S,Al.EventType.CLOSE,(()=>{G||(G=!0,ct(sn,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),at(S,Al.EventType.ERROR,(W=>{G||(G=!0,ro(sn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new ht(K.UNAVAILABLE,"The operation could not be completed")))})),at(S,Al.EventType.MESSAGE,(W=>{if(!G){const _t=W.data[0];Wt(!!_t,16349);const Tt=_t,dt=Tt?.error||Tt[0]?.error;if(dt){ct(sn,`RPC '${t}' stream ${l} received error:`,dt);const Ft=dt.status;let te=(function(b){const R=Pe[b];if(R!==void 0)return GE(R)})(Ft),Ht=dt.message;te===void 0&&(te=K.INTERNAL,Ht="Unknown error status: "+Ft+" with message "+dt.message),G=!0,J.a_(new ht(te,Ht)),S.close()}else ct(sn,`RPC '${t}' stream ${l} received:`,_t),J.u_(_t)}})),at(p,oE.STAT_EVENT,(W=>{W.stat===Yd.PROXY?ct(sn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Yd.NOPROXY&&ct(sn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ud(){return typeof document<"u"?document:null}function _h(a){return new k2(a,!0)}class rT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const jv="PersistentStream";class sT{constructor(t,i,s,l,c,d,p,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(cr(i.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new ht(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ct(jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MI extends sT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=P2(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Rt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Rt.min():d.readTime?Mi(d.readTime):Rt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=rm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Jd(y)?{documents:B2(c,y)}:{query:q2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=YE(c,d.resumeToken);const v=em(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Rt.min())>0){p.readTime=Jc(c,d.snapshotVersion.toTimestamp());const v=em(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const s=G2(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=rm(this.serializer),i.removeTarget=t,this.q_(i)}}class xI extends sT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=j2(t.writeResults,t.commitTime),s=Mi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=rm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>z2(this.serializer,s)))};this.q_(i)}}class VI{}class kI extends VI{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,nm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(K.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,nm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class LI{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{sa(this)&&(ct(ea,"Restarting streams for network reachability change."),await(async function(y){const v=Dt(y);v.Ea.add(4),await $l(v),v.Ra.set("Unknown"),v.Ea.delete(4),await vh(v)})(this))}))})),this.Ra=new UI(s,l)}}async function vh(a){if(sa(a))for(const t of a.da)await t(!0)}async function $l(a){for(const t of a.da)await t(!1)}function aT(a,t){const i=Dt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),jm(i)?zm(i):yo(i).O_()&&Pm(i,t))}function Lm(a,t){const i=Dt(a),s=yo(i);i.Ia.delete(t),s.O_()&&oT(i,t),i.Ia.size===0&&(s.O_()?s.L_():sa(i)&&i.Ra.set("Unknown"))}function Pm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}yo(a).Y_(t)}function oT(a,t){a.Va.Ue(t),yo(a).Z_(t)}function zm(a){a.Va=new O2({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),yo(a).start(),a.Ra.ua()}function jm(a){return sa(a)&&!yo(a).x_()&&a.Ia.size>0}function sa(a){return Dt(a).Ea.size===0}function lT(a){a.Va=void 0}async function PI(a){a.Ra.set("Online")}async function zI(a){a.Ia.forEach(((t,i)=>{Pm(a,t)}))}async function jI(a,t){lT(a),jm(a)?(a.Ra.ha(t),zm(a)):a.Ra.set("Unknown")}async function BI(a,t,i){if(a.Ra.set("Online"),t instanceof QE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(s){ct(ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await th(a,s)}else if(t instanceof kc?a.Va.Ze(t):t instanceof FE?a.Va.st(t):a.Va.tt(t),!i.isEqual(Rt.min()))try{const s=await iT(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(nn.EMPTY_BYTE_STRING,A.snapshotVersion)),oT(c,y);const S=new es(A.target,y,v,A.sequenceNumber);Pm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){ct(ea,"Failed to raise snapshot:",s),await th(a,s)}}async function th(a,t,i){if(!po(t))throw t;a.Ea.add(1),await $l(a),a.Ra.set("Offline"),i||(i=()=>iT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ct(ea,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await vh(a)}))}function uT(a,t){return t().catch((i=>th(a,i,t)))}async function Eh(a){const t=Dt(a),i=ds(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Sm;for(;qI(t);)try{const l=await SI(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,HI(t,l)}catch(l){await th(t,l)}cT(t)&&hT(t)}function qI(a){return sa(a)&&a.Ta.length<10}function HI(a,t){a.Ta.push(t);const i=ds(a);i.O_()&&i.X_&&i.ea(t.mutations)}function cT(a){return sa(a)&&!ds(a).x_()&&a.Ta.length>0}function hT(a){ds(a).start()}async function GI(a){ds(a).ra()}async function FI(a){const t=ds(a);for(const i of a.Ta)t.ea(i.mutations)}async function QI(a,t,i){const s=a.Ta.shift(),l=Nm.from(s,t,i);await uT(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Eh(a)}async function YI(a,t){t&&ds(a).X_&&await(async function(s,l){if((function(d){return C2(d)&&d!==K.ABORTED})(l.code)){const c=s.Ta.shift();ds(s).B_(),await uT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Eh(s)}})(a,t),cT(a)&&hT(a)}async function Bv(a,t){const i=Dt(a);i.asyncQueue.verifyOperationInProgress(),ct(ea,"RemoteStore received new credentials");const s=sa(i);i.Ea.add(3),await $l(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await vh(i)}async function KI(a,t){const i=Dt(a);t?(i.Ea.delete(2),await vh(i)):t||(i.Ea.add(2),await $l(i),i.Ra.set("Unknown"))}function yo(a){return a.ma||(a.ma=(function(i,s,l){const c=Dt(i);return c.sa(),new MI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:PI.bind(null,a),t_:zI.bind(null,a),r_:jI.bind(null,a),H_:BI.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),jm(a)?zm(a):a.Ra.set("Unknown")):(await a.ma.stop(),lT(a))}))),a.ma}function ds(a){return a.fa||(a.fa=(function(i,s,l){const c=Dt(i);return c.sa(),new xI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:GI.bind(null,a),r_:YI.bind(null,a),ta:FI.bind(null,a),na:QI.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await Eh(a)):(await a.fa.stop(),a.Ta.length>0&&(ct(ea,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Bm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new Bm(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(a,t){if(cr("AsyncQueue",`${t}: ${a}`),po(a))return new ht(K.UNAVAILABLE,`${t}: ${a}`);throw a}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||yt.comparator(i.key,s.key):(i,s)=>yt.comparator(i.key,s.key),this.keyedMap=Sl(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new eo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class qv{constructor(){this.ga=new Ee(yt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class uo{constructor(t,i,s,l,c,d,p,y,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new uo(t,i,eo.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class XI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class $I{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Dt(i),c=l.queries;l.queries=Hv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new ht(K.ABORTED,"Firestore shutting down"))}}function Hv(){return new ia((a=>OE(a)),dh)}async function ZI(a,t){const i=Dt(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new XI,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=qm(d,`Initialization of query '${Ka(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Hm(i)}async function JI(a,t){const i=Dt(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function WI(a,t){const i=Dt(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&Hm(i)}function tC(a,t,i){const s=Dt(a),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function Hm(a){a.Ca.forEach((t=>{t.next()}))}var om,Gv;(Gv=om||(om={})).Ma="default",Gv.Cache="cache";class eC{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new uo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}class fT{constructor(t){this.key=t}}class dT{constructor(t){this.key=t}}class nC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=ME(t),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new qv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const x=l.get(A),G=mh(this.query,S)?S:null,J=!!x&&this.mutatedKeys.has(x.key),at=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;x&&G?x.data.isEqual(G.data)?J!==at&&(s.track({type:3,doc:G}),W=!0):this.su(x,G)||(s.track({type:2,doc:G}),W=!0,(y&&this.eu(G,y)>0||v&&this.eu(G,v)<0)&&(p=!0)):!x&&G?(s.track({type:0,doc:G}),W=!0):x&&!G&&(s.track({type:1,doc:x}),W=!0,(y||v)&&(p=!0)),W&&(G?(d=d.add(G),c=at?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,J){const at=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:W})}};return at(G)-at(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new uo(this.query,t.tu,c,d,t.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new dT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new fT(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gm="SyncEngine";class iC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class rC{constructor(t){this.key=t,this.hu=!1}}class sC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ia((p=>OE(p)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(yt.comparator),this.Au=new Map,this.Ru=new xm,this.Vu={},this.mu=new Map,this.fu=lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aC(a,t,i=!0){const s=vT(a);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await mT(s,t,i,!0),l}async function oC(a,t){const i=vT(a);await mT(i,t,!0,!1)}async function mT(a,t,i,s){const l=await bI(a.localStore,Oi(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await lC(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&aT(a.remoteStore,l),p}async function lC(a,t,i,s,l){a.pu=(S,x,G)=>(async function(at,W,_t,Tt){let dt=W.view.ru(_t);dt.Cs&&(dt=await Uv(at.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,dt))));const Ft=Tt&&Tt.targetChanges.get(W.targetId),te=Tt&&Tt.targetMismatches.get(W.targetId)!=null,Ht=W.view.applyChanges(dt,at.isPrimaryClient,Ft,te);return Qv(at,W.targetId,Ht.au),Ht.snapshot})(a,S,x,G);const c=await Uv(a.localStore,t,!0),d=new nC(t,c.Qs),p=d.ru(c.documents),y=Xl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(p,a.isPrimaryClient,y);Qv(a,i,v.au);const A=new iC(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function uC(a,t,i){const s=Dt(a),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!dh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await sm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Lm(s.remoteStore,l.targetId),lm(s,l.targetId)})).catch(go)):(lm(s,l.targetId),await sm(s.localStore,l.targetId,!0))}async function cC(a,t){const i=Dt(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Lm(i.remoteStore,s.targetId))}async function hC(a,t,i){const s=_C(a);try{const l=await(function(d,p){const y=Dt(d),v=pe.now(),A=p.reduce(((G,J)=>G.add(J.key)),qt());let S,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=hr(),at=qt();return y.Ns.getEntries(G,A).next((W=>{J=W,J.forEach(((_t,Tt)=>{Tt.isValidDocument()||(at=at.add(_t))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,J))).next((W=>{S=W;const _t=[];for(const Tt of p){const dt=S2(Tt,S.get(Tt.key).overlayedDocument);dt!=null&&_t.push(new ra(Tt.key,dt,SE(dt.value.mapValue),ar.exists(!0)))}return y.mutationQueue.addMutationBatch(G,v,_t,p)})).next((W=>{x=W;const _t=W.applyToLocalDocumentSet(S,at);return y.documentOverlayCache.saveOverlays(G,W.batchId,_t)}))})).then((()=>({batchId:x.batchId,changes:VE(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new Ee(Bt)),v=v.insert(p,y),d.Vu[d.currentUser.toKey()]=v})(s,l.batchId,i),await Zl(s,l.changes),await Eh(s.remoteStore)}catch(l){const c=qm(l,"Failed to persist write");i.reject(c)}}async function gT(a,t){const i=Dt(a);try{const s=await TI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Wt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Wt(d.hu,14607):l.removedDocuments.size>0&&(Wt(d.hu,42227),d.hu=!1))})),await Zl(i,s,t)}catch(s){await go(s)}}function Fv(a,t,i){const s=Dt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Dt(d);y.onlineState=p;let v=!1;y.queries.forEach(((A,S)=>{for(const x of S.Sa)x.va(p)&&(v=!0)})),v&&Hm(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function fC(a,t,i){const s=Dt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new Ee(yt.comparator);d=d.insert(c,on.newNoDocument(c,Rt.min()));const p=qt().add(c),y=new yh(Rt.min(),new Map,new Ee(Bt),d,p);await gT(s,y),s.du=s.du.remove(c),s.Au.delete(t),Fm(s)}else await sm(s.localStore,t,!1).then((()=>lm(s,t,i))).catch(go)}async function dC(a,t){const i=Dt(a),s=t.batch.batchId;try{const l=await EI(i.localStore,t);yT(i,s,null),pT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(i,l)}catch(l){await go(l)}}async function mC(a,t,i){const s=Dt(a);try{const l=await(function(d,p){const y=Dt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return y.mutationQueue.lookupMutationBatch(v,p).next((S=>(Wt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(v,S)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>y.localDocuments.getDocuments(v,A)))}))})(s.localStore,t);yT(s,t,i),pT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Zl(s,l)}catch(l){await go(l)}}function pT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function yT(a,t,i){const s=Dt(a);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function lm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||_T(a,s)}))}function _T(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Lm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Fm(a))}function Qv(a,t,i){for(const s of i)s instanceof fT?(a.Ru.addReference(s.key,t),gC(a,s)):s instanceof dT?(ct(Gm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||_T(a,s.key)):Et(19791,{wu:s})}function gC(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ct(Gm,"New document in limbo: "+i),a.Eu.add(s),Fm(a))}function Fm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new yt(de.fromString(t)),s=a.fu.next();a.Au.set(s,new rC(i)),a.du=a.du.insert(i,s),aT(a.remoteStore,new es(Oi(Cm(i.path)),s,"TargetPurposeLimboResolution",ch.ce))}}async function Zl(a,t,i){const s=Dt(a),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,t,i).then((v=>{if((v||i)&&s.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){l.push(v);const A=km.As(y.targetId,v);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,v){const A=Dt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(v,(x=>X.forEach(x.Es,(G=>A.persistence.referenceDelegate.addReference(S,x.targetId,G))).next((()=>X.forEach(x.ds,(G=>A.persistence.referenceDelegate.removeReference(S,x.targetId,G)))))))))}catch(S){if(!po(S))throw S;ct(Um,"Failed to update sequence numbers: "+S)}for(const S of v){const x=S.targetId;if(!S.fromCache){const G=A.Ms.get(x),J=G.snapshotVersion,at=G.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(x,at)}}})(s.localStore,c))}async function pC(a,t){const i=Dt(a);if(!i.currentUser.isEqual(t)){ct(Gm,"User change. New user:",t.toKey());const s=await nT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ht(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Zl(i,s.Ls)}}function yC(a,t){const i=Dt(a),s=i.Au.get(t);if(s&&s.hu)return qt().add(s.key);{let l=qt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function vT(a){const t=Dt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fC.bind(null,t),t.Pu.H_=WI.bind(null,t.eventManager),t.Pu.yu=tC.bind(null,t.eventManager),t}function _C(a){const t=Dt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mC.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return vI(this.persistence,new pI,t.initialUser,this.serializer)}Cu(t){return new eT(Vm.mi,this.serializer)}Du(t){return new RI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class vC extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Wt(this.persistence.referenceDelegate instanceof Wc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new eI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new eT((s=>Wc.mi(s,i)),this.serializer)}}class um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pC.bind(null,this.syncEngine),await KI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $I})()}createDatastore(t){const i=_h(t.databaseInfo.databaseId),s=(function(c){return new OI(c)})(t.databaseInfo);return(function(c,d,p,y){return new kI(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new LI(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Fv(this.syncEngine,i,0)),(function(){return zv.v()?new zv:new II})())}createSyncEngine(t,i){return(function(l,c,d,p,y,v,A){const S=new sC(l,c,d,p,y,v);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Dt(i);ct(ea,"RemoteStore shutting down."),s.Ea.add(5),await $l(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class EC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ms="FirestoreClient";class TC{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ct(ms,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ct(ms,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=qm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ld(a,t){a.asyncQueue.verifyOperationInProgress(),ct(ms,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await nT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Yv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await AC(a);ct(ms,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>Bv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>Bv(t.remoteStore,l))),a._onlineComponents=t}async function AC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ct(ms,"Using user provided OfflineComponentProvider");try{await Ld(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ro("Error using user provided cache. Falling back to memory cache: "+i),await Ld(a,new eh)}}else ct(ms,"Using default OfflineComponentProvider"),await Ld(a,new vC(void 0));return a._offlineComponents}async function ET(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ct(ms,"Using user provided OnlineComponentProvider"),await Yv(a,a._uninitializedComponentsProvider._online)):(ct(ms,"Using default OnlineComponentProvider"),await Yv(a,new um))),a._onlineComponents}function SC(a){return ET(a).then((t=>t.syncEngine))}async function Kv(a){const t=await ET(a),i=t.eventManager;return i.onListen=aC.bind(null,t.syncEngine),i.onUnlisten=uC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=oC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=cC.bind(null,t.syncEngine),i}function TT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Xv=new Map;const AT="firestore.googleapis.com",$v=!0;class Zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AT,this.ssl=$v}else this.host=t.host,this.ssl=t.ssl??$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<W2)throw new ht(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Th{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IR;switch(s.type){case"firstParty":return new OR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Xv.get(i);s&&(ct("ComponentProvider","Removing Datastore"),Xv.delete(i),s.terminate())})(this),Promise.resolve()}}function bC(a,t,i,s={}){a=Cl(a,Th);const l=co(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(_0(`https://${p}`),v0("Firestore",!0)),c.host!==AT&&c.host!==p&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:s};if(!Zs(y,d)&&(a._setSettings(y),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=an.MOCK_USER;else{v=JA(s.mockUserToken,a._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ht(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new an(S)}a._authCredentials=new CR(new hE(v,A))}}class _o{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new _o(this.firestore,t,this._query)}}class qe{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Ql(i,qe._jsonSchema))return new qe(t,s||null,new yt(de.fromString(i.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:je("string",qe._jsonSchemaVersion),referencePath:je("string")};class os extends _o{constructor(t,i,s){super(t,i,Cm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new yt(t))}withConverter(t){return new os(this.firestore,t,this._path)}}function Jv(a,t,...i){if(a=vn(a),fE("collection","path",t),a instanceof Th){const s=de.fromString(t,...i);return uv(s),new os(a,null,s)}{if(!(a instanceof qe||a instanceof os))throw new ht(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(de.fromString(t,...i));return uv(s),new os(a.firestore,null,s)}}function wC(a,t,...i){if(a=vn(a),arguments.length===1&&(t=Am.newId()),fE("doc","path",t),a instanceof Th){const s=de.fromString(t,...i);return lv(s),new qe(a,null,new yt(s))}{if(!(a instanceof qe||a instanceof os))throw new ht(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(de.fromString(t,...i));return lv(s),new qe(a.firestore,a instanceof os?a.converter:null,new yt(s))}}const Wv="AsyncQueue";class t0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rT(this,"async_queue_retry"),this._c=()=>{const s=Ud();s&&ct(Wv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Ud();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ud();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;ct(Wv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",e0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Bm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:e0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function e0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function n0(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class nh extends Th{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new t0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new t0(t),this._firestoreClient=void 0,await t}}}function RC(a,t){const i=typeof a=="object"?a:S0(),s=typeof a=="string"?a:Qc,l=dm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=$A("firestore");c&&bC(l,...c)}return l}function ST(a){if(a._terminated)throw new ht(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||IC(a),a._firestoreClient}function IC(a){const t=a._freezeSettings(),i=(function(l,c,d,p){return new KR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,TT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new TC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(nn.fromBase64String(t))}catch(i){throw new ht(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:je("string",Hn._jsonSchemaVersion),bytes:je("string")};class Qm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bT{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:je("string",xi._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};class Vi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Vi(t.vectorValues);throw new ht(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:je("string",Vi._jsonSchemaVersion),vectorValues:je("object")};const CC=/^__.*__$/;class DC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new ra(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}function wT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:a})}}class Ym{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ym({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(wT(this.Ac)&&CC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class NC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||_h(t)}Cc(t,i,s,l=!1){return new Ym({Ac:t,methodName:i,Dc:s,path:en.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RT(a){const t=a._freezeSettings(),i=_h(a._databaseId);return new NC(a._databaseId,!!t.ignoreUndefinedProperties,i)}function OC(a,t,i,s,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);DT("Data must be an object, but it was:",d,s);const p=IT(s,d);let y,v;if(c.merge)y=new ri(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const x=xC(t,S,i);if(!d.contains(x))throw new ht(K.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);kC(A,x)||A.push(x)}y=new ri(A),v=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,v=d.fieldTransforms;return new DC(new qn(p),y,v)}function MC(a,t,i,s=!1){return Km(i,a.Cc(s?4:3,t))}function Km(a,t){if(CT(a=vn(a)))return DT("Unsupported field value:",t,a),IT(a,t);if(a instanceof bT)return(function(s,l){if(!wT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let y=Km(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,t)}return(function(s,l){if((s=vn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return y2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pe.fromDate(s);return{timestampValue:Jc(l.serializer,c)}}if(s instanceof pe){const c=new pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,c)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:YE(l.serializer,s._byteString)};if(s instanceof qe){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Vi)return(function(d,p){return{mapValue:{fields:{[TE]:{stringValue:AE},[Yc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Dm(p.serializer,v)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${uh(s)}`)})(a,t)}function IT(a,t){const i={};return gE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):na(a,((s,l)=>{const c=Km(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function CT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof pe||a instanceof xi||a instanceof Hn||a instanceof qe||a instanceof bT||a instanceof Vi)}function DT(a,t,i){if(!CT(i)||!dE(i)){const s=uh(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function xC(a,t,i){if((t=vn(t))instanceof Qm)return t._internalPath;if(typeof t=="string")return NT(a,t);throw ih("Field path arguments must be of type string or ",a,!1,void 0,i)}const VC=new RegExp("[~\\*/\\[\\]]");function NT(a,t,i){if(t.search(VC)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Qm(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function ih(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new ht(K.INVALID_ARGUMENT,p+a+y)}function kC(a,t){return a.some((i=>i.isEqual(t)))}class OT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(MT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UC extends OT{data(){return super.data()}}function MT(a,t){return typeof t=="string"?NT(a,t):t instanceof Qm?t._internalPath:t._delegate._internalPath}function LC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ht(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class PC extends Xm{}function zC(a,t,...i){let s=[];t instanceof Xm&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof Zm)).length,p=c.filter((y=>y instanceof $m)).length;if(d>1||d>0&&p>0)throw new ht(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class $m extends PC{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new $m(t,i,s)}_apply(t){const i=this._parse(t);return xT(t._query,i),new _o(t.firestore,t.converter,Wd(t._query,i))}_parse(t){const i=RT(t.firestore);return(function(c,d,p,y,v,A,S){let x;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ht(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){r0(S,A);const J=[];for(const at of S)J.push(i0(y,c,at));x={arrayValue:{values:J}}}else x=i0(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||r0(S,A),x=MC(p,d,S,A==="in"||A==="not-in");return ze.create(v,A,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Zm extends Xm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Zm(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:si.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)xT(d,y),d=Wd(d,y)})(t._query,i),new _o(t.firestore,t.converter,Wd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function i0(a,t,i){if(typeof(i=vn(i))=="string"){if(i==="")throw new ht(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NE(t)&&i.indexOf("/")!==-1)throw new ht(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(de.fromString(i));if(!yt.isDocumentKey(s))throw new ht(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yv(a,new yt(s))}if(i instanceof qe)return yv(a,i._key);throw new ht(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(i)}.`)}function r0(a,t){if(!Array.isArray(a)||a.length===0)throw new ht(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xT(a,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ht(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class jC{convertValue(t,i="none"){switch(fs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(hs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return na(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Yc].arrayValue?.values?.map((s=>De(s.doubleValue)));return new Vi(i)}convertGeoPoint(t){return new xi(De(t.latitude),De(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=fh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=cs(t);return new pe(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=de.fromString(t);Wt(WE(s),9688,{name:t});const l=new Ll(s.get(1),s.get(3)),c=new yt(s.popFirst(5));return l.isEqual(i)||cr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function BC(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class wl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $s extends OT{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(MT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=$s._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:je("string",$s._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class Uc extends $s{data(t={}){return super.data(t)}}class no{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new wl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Uc(this._firestore,this._userDataWriter,s.key,s,new wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Uc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Uc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:qC(p.type),doc:y,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function qC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:je("string",no._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class VT extends jC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,i)}}function HC(a,t){const i=Cl(a.firestore,nh),s=wC(a),l=BC(a.converter,t);return FC(i,[OC(RT(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,ar.exists(!1))]).then((()=>s))}function GC(a,...t){a=vn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||n0(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(n0(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,p;if(a instanceof qe)d=Cl(a.firestore,nh),p=Cm(a._key.path),c={next:y=>{t[s]&&t[s](QC(d,a,y))},error:t[s+1],complete:t[s+2]};else{const y=Cl(a,_o);d=Cl(y.firestore,nh),p=y._query;const v=new VT(d);c={next:A=>{t[s]&&t[s](new no(d,v,y,A))},error:t[s+1],complete:t[s+2]},LC(a._query)}return(function(v,A,S,x){const G=new EC(x),J=new eC(A,G,S);return v.asyncQueue.enqueueAndForget((async()=>ZI(await Kv(v),J))),()=>{G.Nu(),v.asyncQueue.enqueueAndForget((async()=>JI(await Kv(v),J)))}})(ST(d),p,l,c)}function FC(a,t){return(function(s,l){const c=new Xs;return s.asyncQueue.enqueueAndForget((async()=>hC(await SC(s),l,c))),c.promise})(ST(a),t)}function QC(a,t,i){const s=i.docs.get(t._key),l=new VT(a);return new $s(a,l,t._key,s,new wl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){mo=l})(ho),io(new Js("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new nh(new DR(s.getProvider("auth-internal")),new MR(d,s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ht(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(v.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),rs(rv,sv,t),rs(rv,sv,"esm2020")})();const YC={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},KC=typeof __firebase_config<"u"?JSON.parse(__firebase_config):YC,kT=A0(KC),s0=wR(kT),a0=RC(kT),o0=typeof __app_id<"u"?__app_id:"long-jump-game",Xr=5,$r=50,XC=30,l0=40,$C={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1},ZC=()=>{const a=Kt.useRef(null);return Kt.useEffect(()=>{const t=a.current,i=t.getContext("2d");let s=window.innerWidth,l=window.innerHeight;t.width=s,t.height=l;const c=[],d=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6","#59AD20"];for(let A=0;A<150;A++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:d[Math.floor(Math.random()*d.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let p;const y=()=>{i.clearRect(0,0,s,l),c.forEach(A=>{A.y+=A.vy,A.x+=A.vx+Math.sin(A.y/50),A.rotation+=A.rotationSpeed,A.y>l&&(A.y=-10,A.x=Math.random()*s),i.save(),i.translate(A.x,A.y),i.rotate(A.rotation*Math.PI/180),i.fillStyle=A.color,i.fillRect(-A.size/2,-A.size/2,A.size,A.size),i.restore()}),p=requestAnimationFrame(y)};y();const v=()=>{s=window.innerWidth,l=window.innerHeight,t.width=s,t.height=l};return window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v),cancelAnimationFrame(p)}},[]),$.jsx("canvas",{ref:a,className:"fixed inset-0 pointer-events-none z-50"})},JC=()=>{const a=[],i=new Set;for(;a.length<15;){const s=Math.floor(Math.random()*Xr),l=Math.floor(Math.random()*$r);if(l===0)continue;const c=`${s},${l}`;if(!i.has(c)){i.add(c);const d=Math.random();let p=1;d>.5&&(p=2),d>.8&&(p=3),a.push({r:s,c:l,val:p})}}return a},u0=a=>{let t=[];Object.entries($C).forEach(([s,l])=>{for(let c=0;c<l;c++)t.push(s)});const i=[];for(let s=0;s<a&&t.length!==0;s++){const l=Math.floor(Math.random()*t.length);i.push(t[l]),t.splice(l,1)}return i},c0=()=>Array(Xr).fill(null).map(()=>Array($r).fill(null)),Pd=a=>{if(a.length<=1)return!0;const t=a[0].r,i=a[0].c;return a.every(s=>s.r===t)||a.every(s=>s.c===i)};function WC(){const[a,t]=Kt.useState("menu"),[i,s]=Kt.useState(""),[l,c]=Kt.useState(()=>c0()),[d,p]=Kt.useState([]),[y,v]=Kt.useState([]),[A,S]=Kt.useState(null),[x,G]=Kt.useState([]),[J,at]=Kt.useState(0),[W,_t]=Kt.useState(0),[Tt,dt]=Kt.useState({text:"Goal: Get as far right as you can.",type:"info"}),[Ft,te]=Kt.useState(!1),[Ht,C]=Kt.useState(!1),[b,R]=Kt.useState(!1),[M,D]=Kt.useState(!1),[k,w]=Kt.useState(null),[ue,Se]=Kt.useState([]),[H,nt]=Kt.useState(!1),mt=Kt.useRef(null),[Vt,Yt]=Kt.useState(!1),[O,Q]=Kt.useState(0),[it,ot]=Kt.useState(0),At=l.some(Z=>Z.some(et=>et!==null));Kt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token||await lw(s0)})();const et=mw(s0,w);return()=>et()},[]),Kt.useEffect(()=>{if(!k||a!=="gameOver")return;const Z=Jv(a0,"artifacts",o0,"public","data","scores"),et=zC(Z),ut=GC(et,rt=>{const st=new Date().toISOString().split("T")[0],St=rt.docs.map(Nt=>({id:Nt.id,...Nt.data()})).filter(Nt=>Nt.date===st).sort((Nt,It)=>It.score-Nt.score).slice(0,5);Se(St)},rt=>{console.error("Error fetching leaderboard:",rt)});return()=>ut()},[k,a]),Kt.useEffect(()=>{if(W===J)return;const Z=500,et=performance.now(),ut=W,rt=J,st=lt=>{const St=lt-et,Nt=Math.min(St/Z,1),It=1-Math.pow(1-Nt,3),ee=Math.floor(ut+(rt-ut)*It);_t(ee),Nt<1&&requestAnimationFrame(st)};requestAnimationFrame(st)},[J]),Kt.useEffect(()=>{wt()},[]);const wt=()=>{c(c0()),p(u0(XC)),G([]),at(0),_t(0),v(JC()),dt({text:"Goal: Get as far right as you can.",type:"neutral"}),D(!1),C(!1),R(!1),nt(!1),mt.current&&(mt.current.scrollLeft=0)},kt=()=>{i.trim()||s("Player 1"),t("playing"),wt(),R(!0)},be=()=>{t("menu"),wt()},he=()=>{C(!0)},Ui=async()=>{if(C(!1),D(!0),nt(!0),k)try{const Z=new Date().toISOString().split("T")[0],et=Jv(a0,"artifacts",o0,"public","data","scores");await HC(et,{name:i||"Anonymous",score:J,date:Z,timestamp:Date.now(),userId:k.uid})}catch(Z){console.error("Error saving score:",Z)}nt(!1),setTimeout(()=>{t("gameOver"),D(!1)},2e3)},dr=()=>{C(!1)},mr=Z=>{Z.target.closest('[draggable="true"]')||Z.target.tagName==="BUTTON"||(Yt(!0),Q(Z.pageX-mt.current.offsetLeft),ot(mt.current.scrollLeft))},gr=()=>{Yt(!1)},Dn=()=>{Yt(!1)},ps=Z=>{if(!Vt)return;Z.preventDefault();const ut=(Z.pageX-mt.current.offsetLeft-O)*1.5;mt.current.scrollLeft=it-ut},Li=Z=>{M||S(A===Z?null:Z)},ys=(Z,et)=>{if(Vt||M||l[Z]&&l[Z][et])return;const ut=x.findIndex(rt=>rt.r===Z&&rt.c===et);if(ut!==-1){const rt=x[ut],st=[...x];st.splice(ut,1),G(st),p(lt=>[...lt,rt.letter]),S(null);return}if(A!==null){if(l.every(St=>St.every(Nt=>Nt===null))&&x.length===0&&et!==0){dt({text:" Start Game: Place first tile in Column 1",type:"error"});return}const st=d[A],lt=[...x,{r:Z,c:et,letter:st}];if(!Pd(lt)){dt({text:" Tiles must be placed in a single row or column",type:"error"});return}G(lt),p(St=>St.filter((Nt,It)=>It!==A)),S(null),Tt.type==="error"&&dt({text:"Goal: Get as far right as you can.",type:"neutral"})}},pr=(Z,et)=>{M||(Z.dataTransfer.setData("text/plain",JSON.stringify(et)),Z.dataTransfer.effectAllowed="move")},ve=Z=>{Z.preventDefault(),Z.dataTransfer.dropEffect="move"},we=(Z,et,ut)=>{if(M)return;Z.preventDefault(),Z.stopPropagation();const rt=Z.dataTransfer.getData("text/plain");if(!(!rt||!rt.trim()||!rt.trim().startsWith("{")))try{const st=JSON.parse(rt);if(l[et]&&l[et][ut])return;const lt=x.findIndex(St=>St.r===et&&St.c===ut);if(st.type==="hand"){if(l.every(It=>It.every(ee=>ee===null))&&x.length===0&&ut!==0){dt({text:" Start Game: Place first tile in Column 1",type:"error"});return}const Nt=st.letter;if(lt!==-1){const It=x[lt],ee=[...x];ee.splice(lt,1,{r:et,c:ut,letter:Nt}),G(ee);const Ne=[...d];Ne.splice(st.index,1),Ne.push(It.letter),p(Ne)}else{const It=[...x,{r:et,c:ut,letter:Nt}];if(!Pd(It)){dt({text:" Tiles must be placed in a single row or column",type:"error"});return}G(It),p(ee=>ee.filter((Ne,fe)=>fe!==st.index))}S(null),Tt.type==="error"&&dt({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(st.type==="board"){if(st.r===et&&st.c===ut)return;if(l.every(ee=>ee.every(Ne=>Ne===null))&&x.length===1&&ut!==0){dt({text:" Start tile must stay in Column 1",type:"error"});return}const Nt=x.findIndex(ee=>ee.r===st.r&&ee.c===st.c);if(Nt===-1)return;let It=[...x];if(lt!==-1){const ee=It[lt],Ne=It[Nt];It[lt]={...ee,r:st.r,c:st.c},It[Nt]={...Ne,r:et,c:ut}}else It[Nt]={...It[Nt],r:et,c:ut};if(!Pd(It)){dt({text:" Tiles must be placed in a single row or column",type:"error"});return}G(It)}}catch{}},ai=Z=>{if(M)return;Z.preventDefault(),Z.stopPropagation();const et=Z.dataTransfer.getData("text/plain");if(!(!et||!et.trim()||!et.trim().startsWith("{")))try{const ut=JSON.parse(et);ut.type==="board"&&(G(rt=>rt.filter(st=>!(st.r===ut.r&&st.c===ut.c))),p(rt=>[...rt,ut.letter]))}catch{}},vo=(Z,et)=>{if(!l||!l[Z])return null;if(l[Z][et])return{letter:l[Z][et],type:"locked"};const ut=x.find(rt=>rt.r===Z&&rt.c===et);return ut?{letter:ut.letter,type:"temp"}:null},_s=(Z,et)=>y.find(ut=>ut.r===Z&&ut.c===et),Ke=async()=>{if(x.length===0)return;te(!0),dt({text:"Validating...",type:"info"});const Z=l.map(St=>[...St]);x.forEach(St=>{Z[St.r]&&(Z[St.r][St.c]=St.letter)});const et=l.every(St=>St.every(Nt=>Nt===null));let ut=!1,rt=!1;if(x.forEach(St=>{St.c===0&&(ut=!0),[{r:St.r+1,c:St.c},{r:St.r-1,c:St.c},{r:St.r,c:St.c+1},{r:St.r,c:St.c-1}].forEach(It=>{It.r>=0&&It.r<Xr&&It.c>=0&&It.c<$r&&l[It.r]&&l[It.r][It.c]&&(rt=!0)})}),et&&!ut){Gn("First word must start in Column 1.");return}if(!et&&!rt){Gn("Tiles must connect to existing words.");return}const lt=vs(Z).filter(St=>St.cells.some(Nt=>x.some(It=>It.r===Nt.r&&It.c===Nt.c)));if(lt.length===0){Gn("Words must be at least 2 letters.");return}try{const St=[];for(const Nt of lt)await Pi(Nt.word)||St.push(Nt.word);if(St.length>0){Gn(`Invalid word(s): ${St.join(", ")}`);return}oi(Z,lt)}catch(St){console.error(St),Gn("Error checking dictionary. Try again.")}},Pi=async Z=>{if(Z.length===2)return["AM","AN","AS","AT","BE","BY","DO","GO","HE","HI","IF","IN","IS","IT","ME","MY","NO","OF","OH","ON","OR","OX","SO","TO","UP","US","WE"].includes(Z);try{return(await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${Z}`)).ok}catch{return!0}},vs=Z=>{let et=[];for(let ut=0;ut<Xr;ut++){let rt="",st=[];for(let lt=0;lt<$r;lt++)Z[ut]&&Z[ut][lt]?(rt+=Z[ut][lt],st.push({r:ut,c:lt})):(rt.length>1&&et.push({word:rt,cells:[...st],type:"H"}),rt="",st=[]);rt.length>1&&et.push({word:rt,cells:[...st],type:"H"})}for(let ut=0;ut<$r;ut++){let rt="",st=[];for(let lt=0;lt<Xr;lt++)Z[lt]&&Z[lt][ut]?(rt+=Z[lt][ut],st.push({r:lt,c:ut})):(rt.length>1&&et.push({word:rt,cells:[...st],type:"V"}),rt="",st=[]);rt.length>1&&et.push({word:rt,cells:[...st],type:"V"})}return et},Gn=Z=>{dt({text:Z,type:"error"}),te(!1)},oi=(Z,et)=>{c(Z);let ut=0;if(et.forEach(st=>{st.cells.forEach(lt=>{const St=_s(lt.r,lt.c),Nt=x.some(It=>It.r===lt.r&&It.c===lt.c);St&&Nt&&(ut+=St.val)})}),ut>0){const st=u0(ut);p(lt=>[...lt,...st]),dt({text:`Great! +${ut} Bonus Tiles!`,type:"success"})}else dt({text:"Valid move!",type:"success"});let rt=J-1;x.forEach(st=>{st.c>rt&&(rt=st.c)});for(let st=0;st<Xr;st++)for(let lt=0;lt<$r;lt++)Z[st]&&Z[st][lt]&&lt>rt&&(rt=lt);at(rt+1),G([]),te(!1)},Eo=()=>{p(Z=>[...Z].sort(()=>Math.random()-.5))},aa=()=>{p(Z=>[...Z].sort())};return a==="gameOver"?$.jsxs("div",{className:"h-screen w-screen bg-[#f0f0e6] flex flex-col items-center justify-center relative overflow-hidden selection:bg-orange-200 font-sans",children:[$.jsx(ZC,{}),$.jsxs("div",{className:"z-10 bg-white/80 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center animate-fade-in border border-white/50 max-w-lg w-full mx-4",children:[$.jsx(wd,{size:64,className:"mx-auto text-yellow-500 mb-6 drop-shadow-md"}),$.jsx("h2",{className:"text-5xl font-black text-gray-800 mb-2 tracking-tighter uppercase",children:"Long Jump"}),$.jsx("h3",{className:"text-2xl font-bold text-[#59AD20] mb-8 tracking-widest uppercase",children:"Complete"}),$.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[$.jsx("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Athlete"}),$.jsx("div",{className:"text-3xl font-black text-gray-800 mb-6",children:i}),$.jsx("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Distance"}),$.jsxs("div",{className:"text-6xl font-black text-orange-600",children:[W,"m"]})]}),$.jsxs("div",{className:"mb-8 w-full",children:[$.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Daily Leaderboard"}),$.jsx("div",{className:"bg-gray-50/50 rounded-xl border border-gray-100 overflow-hidden",children:ue.length===0?$.jsx("div",{className:"p-4 text-gray-400 text-sm italic",children:"No scores yet today"}):$.jsx("div",{className:"divide-y divide-gray-100",children:ue.map((Z,et)=>$.jsxs("div",{className:"flex justify-between items-center p-3 text-sm hover:bg-white/50 transition-colors",children:[$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("span",{className:`font-bold w-4 ${et===0?"text-yellow-500":et===1?"text-gray-400":et===2?"text-orange-700":"text-gray-300"}`,children:et+1}),$.jsx("span",{className:`font-bold ${Z.name===i?"text-[#59AD20]":"text-gray-700"}`,children:Z.name})]}),$.jsxs("span",{className:"font-mono font-bold text-gray-900",children:[Z.score,"m"]})]},et))})})]}),$.jsx("button",{onClick:be,className:"w-full py-4 bg-gray-900 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:bg-black hover:scale-105 transition-all shadow-lg",children:"Play Again"})]})]}):a==="menu"?$.jsx("div",{className:"h-screen w-screen bg-[#f0f0e6] font-sans text-gray-800 flex flex-col items-center justify-center p-4 selection:bg-orange-200",children:$.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in",children:[$.jsxs("div",{className:"space-y-4",children:[$.jsx("h1",{className:"text-7xl font-black tracking-tighter text-black uppercase drop-shadow-sm",children:"Long Jump"}),$.jsx("p",{className:"text-gray-500 text-lg font-medium leading-relaxed max-w-sm mx-auto",children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."})]}),$.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[$.jsx("label",{className:"block text-xs font-bold tracking-widest text-gray-400 uppercase text-left pl-1 group-focus-within:text-[#59AD20] transition-colors",children:"Enter your name"}),$.jsx("input",{type:"text",value:i,onChange:Z=>s(Z.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent focus:border-[#59AD20] outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center placeholder-gray-200 text-gray-800 shadow-sm transition-all",onKeyDown:Z=>Z.key==="Enter"&&kt()})]}),$.jsx("button",{onClick:kt,className:"group relative px-12 py-6 bg-[#59AD20] text-white rounded-2xl font-black text-xl tracking-widest uppercase shadow-[0_10px_20px_rgba(89,173,32,0.2)] hover:shadow-[0_15px_30px_rgba(89,173,32,0.3)] hover:-translate-y-1 active:translate-y-0 transition-all duration-300 animate-pulse-slow",children:$.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Play Game ",$.jsx(VA,{size:24,fill:"currentColor"})]})})]})}):$.jsxs("div",{className:"min-h-screen w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden bg-[#f0f0e6] font-sans text-gray-800 flex flex-col items-center selection:bg-orange-200",children:[b&&$.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:$.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[$.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:$.jsx(wd,{size:48,className:"text-[#59AD20]"})}),$.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"How to Play"}),$.jsxs("p",{className:"text-gray-600 mb-6 text-lg leading-relaxed",children:["The goal of the game is to get as ",$.jsx("strong",{children:"far right"})," as possible.",$.jsx("br",{}),$.jsx("br",{}),"The more meters you gain, the better.",$.jsx("br",{}),$.jsx("br",{}),"Submit your score when you can't play anymore."]}),$.jsx("button",{onClick:()=>R(!1),className:"w-full py-4 rounded-xl font-black text-white bg-[#59AD20] hover:bg-[#4d961b] shadow-lg hover:shadow-[#59AD20]/30 transition-all uppercase tracking-widest text-lg",children:"Let's Jump!"})]})}),Ht&&$.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:$.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[$.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),$.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",$.jsx("strong",{className:"text-[#59AD20]",children:J}),". This will end your current run."]}),$.jsxs("div",{className:"flex gap-3",children:[$.jsx("button",{onClick:dr,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),$.jsx("button",{onClick:Ui,className:"flex-1 py-3 rounded-xl font-bold text-white bg-[#59AD20] hover:bg-[#4d961b] shadow-lg hover:shadow-[#59AD20]/30 transition-all",children:"Confirm"})]})]})}),$.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-end shrink-0 relative",children:[$.jsx("div",{className:"text-sm font-bold tracking-widest text-gray-500 w-32",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),$.jsxs("div",{className:"flex flex-col items-center flex-1",children:[$.jsx("h1",{className:"text-4xl font-black tracking-tight text-black uppercase cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>t("menu"),children:"Long Jump"}),J>0&&$.jsxs("button",{onClick:he,disabled:M||Ft,className:"mt-1 px-4 py-1 bg-gray-800 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:bg-black transition-all flex items-center gap-2 animate-fade-in",children:["Submit Score ",$.jsx(wd,{size:10,className:"text-yellow-400"})]})]}),$.jsx("div",{className:"flex flex-col items-end text-xs font-bold tracking-widest text-gray-500 w-32",children:$.jsx("span",{className:"text-[#59AD20]",children:i||"PLAYER 1"})})]}),$.jsxs("div",{className:"w-full max-w-6xl px-4 mb-1 flex justify-between items-center shrink-0",children:[$.jsx("div",{className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Tt.type==="error"?"bg-red-100 text-red-700":Tt.type==="success"?"bg-green-100 text-green-800":"bg-white/50 text-gray-600"}`,children:Ft?"Checking...":Tt.text}),$.jsx("div",{className:"flex gap-6",children:$.jsxs("div",{className:"text-center",children:[$.jsx("span",{className:"block text-[10px] uppercase tracking-widest text-[#59AD20]",children:"DISTANCE"}),$.jsxs("span",{className:"font-black text-2xl text-[#59AD20] transition-all duration-500",children:[W,"m"]})]})})]}),$.jsx("div",{className:"landscape:flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 mt-4 landscape:mt-0",onMouseDown:mr,onMouseLeave:gr,onMouseUp:Dn,onMouseMove:ps,children:$.jsx("div",{ref:mt,className:`
            w-full overflow-x-auto overflow-y-hidden custom-scrollbar flex items-center landscape:h-full
            ${Vt?"cursor-grabbing":"cursor-grab"}
            py-8
          `,style:{userSelect:"none"},children:$.jsx("div",{className:"relative bg-[#e6e2d6] rounded-xl shadow-inner border-4 border-[#dcd8cc] p-1 mx-4",style:{width:"fit-content",minWidth:"fit-content"},children:$.jsx("div",{className:"relative z-10 grid gap-[2px]",style:{gridTemplateColumns:`repeat(${$r}, minmax(${l0}px, 1fr))`,gridTemplateRows:`repeat(${Xr}, ${l0}px)`},children:Array(Xr).fill(0).map((Z,et)=>Array($r).fill(0).map((ut,rt)=>{const st=vo(et,rt),lt=_s(et,rt),Nt=rt===0&&!st&&!At,It=st?.type==="locked",ee=(rt+1)%5===0,Ne=rt<W;return $.jsxs("div",{onClick:()=>ys(et,rt),onDragOver:ve,onDrop:fe=>we(fe,et,rt),className:`
                        relative flex items-center justify-center rounded-[4px] transition-all duration-300 w-10 h-10
                        ${st?st.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":"hover:bg-white/20"}
                        
                        /* Background Styles based on Zone */
                        ${It?Ne?"bg-[#59AD20] text-gray-900 shadow-[0_2px_0_rgba(0,0,0,0.2)]":"bg-[#f8f5ed] text-gray-900 shadow-[0_2px_0_rgba(0,0,0,0.1)]":""}
                        ${st?.type==="temp"?"bg-yellow-50 ring-2 ring-yellow-400 shadow-[0_4px_0_rgba(0,0,0,0.1)] -translate-y-[2px] z-10":""}
                        
                        /* Empty State Styles */
                        ${!st&&Ne?"bg-[#59AD20]/20":!st&&!Nt&&(et+rt)%2===0?"bg-black/5":"bg-transparent"} 
                        
                        /* Start Zone Styling - Kept minimal/uniform as requested but keeping the Chevron for direction */

                        /* Milestone Styling (Darker vertical lines every 5 cols) */
                        ${!st&&ee?"border-r-2 border-r-black/10":"border border-black/5"}
                        
                        /* Animation when overlay appears */
                        ${Ne?"animate-pop-green":""}

                        ${M&&It?"animate-flash-orange":""}
                        `,children:[et===0&&rt===0&&$.jsx("div",{className:"absolute -top-6 left-0 text-[10px] font-black text-[#59AD20] uppercase tracking-widest select-none z-10",children:"START"}),!st&&Nt&&$.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-20 pointer-events-none",children:$.jsx(MA,{size:20,className:"text-[#59AD20]"})}),et===0&&ee&&$.jsxs("div",{className:"absolute -top-6 text-[10px] font-bold text-gray-400 select-none z-10",children:[rt+1,"m"]}),!st&&lt&&$.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-60 pointer-events-none",children:[$.jsx(jA,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),$.jsxs("span",{className:"text-[8px] font-bold text-yellow-700",children:["+",lt.val]})]}),st&&$.jsx("span",{draggable:st.type==="temp"&&!M,onDragStart:fe=>pr(fe,{type:"board",r:et,c:rt,letter:st.letter}),className:`text-xl font-bold select-none font-mono w-full h-full flex items-center justify-center ${st.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:st.letter})]},`${et}-${rt}`)}))})})})}),$.jsxs("div",{className:"w-full max-w-4xl px-4 mt-2 pb-10 landscape:pb-2 flex flex-col items-center shrink-0",children:[$.jsxs("div",{className:"flex gap-4 items-center flex-wrap justify-center mb-4",children:[$.jsxs("button",{onClick:Eo,disabled:M,className:"flex items-center gap-2 px-6 py-3 bg-white rounded-xl font-bold text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[$.jsx(PA,{size:16})," Shuffle"]}),$.jsxs("button",{onClick:aa,disabled:M,className:"flex items-center gap-2 px-6 py-3 bg-white rounded-xl font-bold text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[$.jsx(CA,{size:16})," Sort A-Z"]}),$.jsx("div",{className:"w-4 hidden md:block"}),x.length>0&&$.jsxs("button",{onClick:Ke,disabled:Ft||M,className:`
                  flex items-center gap-2 px-8 py-3 rounded-xl font-black text-sm shadow-[0_4px_0_rgba(0,0,0,0.2)] uppercase tracking-wider transition-all
                  ${Ft||M?"bg-gray-400 text-gray-200 cursor-wait":"bg-[#59AD20] text-white hover:bg-[#4d961b] hover:-translate-y-1 hover:shadow-[0_6px_0_rgba(89,173,32,0.3)] active:translate-y-0 active:shadow-none"}
                `,children:[Ft?"Checking...":"Validate & Jump"," ",$.jsx(NA,{size:18,strokeWidth:4})]}),x.length>0&&$.jsx("button",{onClick:()=>{const Z=x.map(et=>et.letter);p(et=>[...et,...Z]),G([]),S(null)},disabled:M,className:"flex items-center gap-2 px-4 py-3 bg-red-100 text-red-600 rounded-xl font-bold text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:$.jsx(UA,{size:16})})]}),$.jsxs("div",{onDragOver:ve,onDrop:ai,className:"flex flex-wrap justify-center gap-2 bg-[#e6e2d6] p-4 rounded-2xl shadow-inner min-h-[90px] transition-colors hover:bg-[#e0dccf]",children:[d.length===0&&$.jsx("div",{className:"text-gray-400 italic self-center pointer-events-none",children:"Empty Hand"}),d.map((Z,et)=>$.jsx("button",{draggable:!M,onDragStart:ut=>pr(ut,{type:"hand",index:et,letter:Z}),onClick:()=>Li(et),className:`
                 w-12 h-12 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_3px_0_rgba(0,0,0,0.15)] transition-all cursor-grab active:cursor-grabbing
                 ${A===et?"bg-[#59AD20] text-white -translate-y-2 shadow-[0_6px_0_rgba(89,173,32,0.3)]":"bg-white text-gray-800 hover:-translate-y-1"}
               `,children:Z},et))]})]}),$.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(0,0,0,0.1);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background-color: rgba(0,0,0,0.2);
        }
        
        .animate-start-column {
          /* animation: pulse-white 3s infinite ease-in-out; REMOVED AS REQUESTED */
        }
        
        .animate-pulse-slow {
            animation: pulse-slow 3s infinite ease-in-out;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-flash-orange {
            animation: flash-orange 0.6s ease-in-out infinite;
        }
        .animate-pop-green {
            animation: pop-green 0.3s ease-out forwards;
        }

        @keyframes pop-green {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes pulse-white {
           0%, 100% { background-color: rgba(255,255,255,0.05); }
           50% { background-color: rgba(255,255,255,0.7); }
        }
        @keyframes pulse-slow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes flash-orange {
             0%, 100% { background-color: #f8f5ed; color: black; }
             50% { background-color: #f97316; color: white; border-color: #f97316; }
        }
      `})]})}TA.createRoot(document.getElementById("root")).render($.jsx(Kt.StrictMode,{children:$.jsx(WC,{})}));
