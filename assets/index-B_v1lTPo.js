(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var cm={exports:{}},Pu={};var Kv;function PE(){if(Kv)return Pu;Kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Pu.Fragment=e,Pu.jsx=i,Pu.jsxs=i,Pu}var Wv;function LE(){return Wv||(Wv=1,cm.exports=PE()),cm.exports}var Y=LE(),hm={exports:{}},It={};var $v;function UE(){if($v)return It;$v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.iterator;function te(P){return P===null||typeof P!="object"?null:(P=q&&P[q]||P["@@iterator"],typeof P=="function"?P:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oe=Object.assign,Re={};function Le(P,ae,Se){this.props=P,this.context=ae,this.refs=Re,this.updater=Se||z}Le.prototype.isReactComponent={},Le.prototype.setState=function(P,ae){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ae,"setState")},Le.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Be(){}Be.prototype=Le.prototype;function qe(P,ae,Se){this.props=P,this.context=ae,this.refs=Re,this.updater=Se||z}var Ke=qe.prototype=new Be;Ke.constructor=qe,Oe(Ke,Le.prototype),Ke.isPureReactComponent=!0;var ht=Array.isArray;function ot(){}var F={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function V(P,ae,Se){var Ee=Se.ref;return{$$typeof:r,type:P,key:ae,ref:Ee!==void 0?Ee:null,props:Se}}function B(P,ae){return V(P.type,ae,P.props)}function I(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function k(P){var ae={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Se){return ae[Se]})}var C=/\/+/g;function X(P,ae){return typeof P=="object"&&P!==null&&P.key!=null?k(""+P.key):ae.toString(36)}function ie(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ot,ot):(P.status="pending",P.then(function(ae){P.status==="pending"&&(P.status="fulfilled",P.value=ae)},function(ae){P.status==="pending"&&(P.status="rejected",P.reason=ae)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function H(P,ae,Se,Ee,xe){var Fe=typeof P;(Fe==="undefined"||Fe==="boolean")&&(P=null);var We=!1;if(P===null)We=!0;else switch(Fe){case"bigint":case"string":case"number":We=!0;break;case"object":switch(P.$$typeof){case r:case e:We=!0;break;case x:return We=P._init,H(We(P._payload),ae,Se,Ee,xe)}}if(We)return xe=xe(P),We=Ee===""?"."+X(P,0):Ee,ht(xe)?(Se="",We!=null&&(Se=We.replace(C,"$&/")+"/"),H(xe,ae,Se,"",function(Ct){return Ct})):xe!=null&&(I(xe)&&(xe=B(xe,Se+(xe.key==null||P&&P.key===xe.key?"":(""+xe.key).replace(C,"$&/")+"/")+We)),ae.push(xe)),1;We=0;var ut=Ee===""?".":Ee+":";if(ht(P))for(var _t=0;_t<P.length;_t++)Ee=P[_t],Fe=ut+X(Ee,_t),We+=H(Ee,ae,Se,Fe,xe);else if(_t=te(P),typeof _t=="function")for(P=_t.call(P),_t=0;!(Ee=P.next()).done;)Ee=Ee.value,Fe=ut+X(Ee,_t++),We+=H(Ee,ae,Se,Fe,xe);else if(Fe==="object"){if(typeof P.then=="function")return H(ie(P),ae,Se,Ee,xe);throw ae=String(P),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return We}function Z(P,ae,Se){if(P==null)return P;var Ee=[],xe=0;return H(P,Ee,"","",function(Fe){return ae.call(Se,Fe,xe++)}),Ee}function ye(P){if(P._status===-1){var ae=P._result;ae=ae(),ae.then(function(Se){(P._status===0||P._status===-1)&&(P._status=1,P._result=Se)},function(Se){(P._status===0||P._status===-1)&&(P._status=2,P._result=Se)}),P._status===-1&&(P._status=0,P._result=ae)}if(P._status===1)return P._result.default;throw P._result}var fe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Me={map:Z,forEach:function(P,ae,Se){Z(P,function(){ae.apply(this,arguments)},Se)},count:function(P){var ae=0;return Z(P,function(){ae++}),ae},toArray:function(P){return Z(P,function(ae){return ae})||[]},only:function(P){if(!I(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return It.Activity=L,It.Children=Me,It.Component=Le,It.Fragment=i,It.Profiler=l,It.PureComponent=qe,It.StrictMode=s,It.Suspense=w,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,It.__COMPILER_RUNTIME={__proto__:null,c:function(P){return F.H.useMemoCache(P)}},It.cache=function(P){return function(){return P.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(P,ae,Se){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Ee=Oe({},P.props),xe=P.key;if(ae!=null)for(Fe in ae.key!==void 0&&(xe=""+ae.key),ae)!U.call(ae,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&ae.ref===void 0||(Ee[Fe]=ae[Fe]);var Fe=arguments.length-2;if(Fe===1)Ee.children=Se;else if(1<Fe){for(var We=Array(Fe),ut=0;ut<Fe;ut++)We[ut]=arguments[ut+2];Ee.children=We}return V(P.type,xe,Ee)},It.createContext=function(P){return P={$$typeof:p,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},It.createElement=function(P,ae,Se){var Ee,xe={},Fe=null;if(ae!=null)for(Ee in ae.key!==void 0&&(Fe=""+ae.key),ae)U.call(ae,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(xe[Ee]=ae[Ee]);var We=arguments.length-2;if(We===1)xe.children=Se;else if(1<We){for(var ut=Array(We),_t=0;_t<We;_t++)ut[_t]=arguments[_t+2];xe.children=ut}if(P&&P.defaultProps)for(Ee in We=P.defaultProps,We)xe[Ee]===void 0&&(xe[Ee]=We[Ee]);return V(P,Fe,xe)},It.createRef=function(){return{current:null}},It.forwardRef=function(P){return{$$typeof:b,render:P}},It.isValidElement=I,It.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:ye}},It.memo=function(P,ae){return{$$typeof:E,type:P,compare:ae===void 0?null:ae}},It.startTransition=function(P){var ae=F.T,Se={};F.T=Se;try{var Ee=P(),xe=F.S;xe!==null&&xe(Se,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(ot,fe)}catch(Fe){fe(Fe)}finally{ae!==null&&Se.types!==null&&(ae.types=Se.types),F.T=ae}},It.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},It.use=function(P){return F.H.use(P)},It.useActionState=function(P,ae,Se){return F.H.useActionState(P,ae,Se)},It.useCallback=function(P,ae){return F.H.useCallback(P,ae)},It.useContext=function(P){return F.H.useContext(P)},It.useDebugValue=function(){},It.useDeferredValue=function(P,ae){return F.H.useDeferredValue(P,ae)},It.useEffect=function(P,ae){return F.H.useEffect(P,ae)},It.useEffectEvent=function(P){return F.H.useEffectEvent(P)},It.useId=function(){return F.H.useId()},It.useImperativeHandle=function(P,ae,Se){return F.H.useImperativeHandle(P,ae,Se)},It.useInsertionEffect=function(P,ae){return F.H.useInsertionEffect(P,ae)},It.useLayoutEffect=function(P,ae){return F.H.useLayoutEffect(P,ae)},It.useMemo=function(P,ae){return F.H.useMemo(P,ae)},It.useOptimistic=function(P,ae){return F.H.useOptimistic(P,ae)},It.useReducer=function(P,ae,Se){return F.H.useReducer(P,ae,Se)},It.useRef=function(P){return F.H.useRef(P)},It.useState=function(P){return F.H.useState(P)},It.useSyncExternalStore=function(P,ae,Se){return F.H.useSyncExternalStore(P,ae,Se)},It.useTransition=function(){return F.H.useTransition()},It.version="19.2.0",It}var Jv;function nf(){return Jv||(Jv=1,hm.exports=UE()),hm.exports}var dt=nf(),fm={exports:{}},Lu={},dm={exports:{}},mm={};var Zv;function jE(){return Zv||(Zv=1,(function(r){function e(H,Z){var ye=H.length;H.push(Z);e:for(;0<ye;){var fe=ye-1>>>1,Me=H[fe];if(0<l(Me,Z))H[fe]=Z,H[ye]=Me,ye=fe;else break e}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var Z=H[0],ye=H.pop();if(ye!==Z){H[0]=ye;e:for(var fe=0,Me=H.length,P=Me>>>1;fe<P;){var ae=2*(fe+1)-1,Se=H[ae],Ee=ae+1,xe=H[Ee];if(0>l(Se,ye))Ee<Me&&0>l(xe,Se)?(H[fe]=xe,H[Ee]=ye,fe=Ee):(H[fe]=Se,H[ae]=ye,fe=ae);else if(Ee<Me&&0>l(xe,ye))H[fe]=xe,H[Ee]=ye,fe=Ee;else break e}}return Z}function l(H,Z){var ye=H.sortIndex-Z.sortIndex;return ye!==0?ye:H.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var w=[],E=[],x=1,L=null,q=3,te=!1,z=!1,Oe=!1,Re=!1,Le=typeof setTimeout=="function"?setTimeout:null,Be=typeof clearTimeout=="function"?clearTimeout:null,qe=typeof setImmediate<"u"?setImmediate:null;function Ke(H){for(var Z=i(E);Z!==null;){if(Z.callback===null)s(E);else if(Z.startTime<=H)s(E),Z.sortIndex=Z.expirationTime,e(w,Z);else break;Z=i(E)}}function ht(H){if(Oe=!1,Ke(H),!z)if(i(w)!==null)z=!0,ot||(ot=!0,k());else{var Z=i(E);Z!==null&&ie(ht,Z.startTime-H)}}var ot=!1,F=-1,U=5,V=-1;function B(){return Re?!0:!(r.unstable_now()-V<U)}function I(){if(Re=!1,ot){var H=r.unstable_now();V=H;var Z=!0;try{e:{z=!1,Oe&&(Oe=!1,Be(F),F=-1),te=!0;var ye=q;try{t:{for(Ke(H),L=i(w);L!==null&&!(L.expirationTime>H&&B());){var fe=L.callback;if(typeof fe=="function"){L.callback=null,q=L.priorityLevel;var Me=fe(L.expirationTime<=H);if(H=r.unstable_now(),typeof Me=="function"){L.callback=Me,Ke(H),Z=!0;break t}L===i(w)&&s(w),Ke(H)}else s(w);L=i(w)}if(L!==null)Z=!0;else{var P=i(E);P!==null&&ie(ht,P.startTime-H),Z=!1}}break e}finally{L=null,q=ye,te=!1}Z=void 0}}finally{Z?k():ot=!1}}}var k;if(typeof qe=="function")k=function(){qe(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,X=C.port2;C.port1.onmessage=I,k=function(){X.postMessage(null)}}else k=function(){Le(I,0)};function ie(H,Z){F=Le(function(){H(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return q},r.unstable_next=function(H){switch(q){case 1:case 2:case 3:var Z=3;break;default:Z=q}var ye=q;q=Z;try{return H()}finally{q=ye}},r.unstable_requestPaint=function(){Re=!0},r.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ye=q;q=H;try{return Z()}finally{q=ye}},r.unstable_scheduleCallback=function(H,Z,ye){var fe=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?fe+ye:fe):ye=fe,H){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ye+Me,H={id:x++,callback:Z,priorityLevel:H,startTime:ye,expirationTime:Me,sortIndex:-1},ye>fe?(H.sortIndex=ye,e(E,H),i(w)===null&&H===i(E)&&(Oe?(Be(F),F=-1):Oe=!0,ie(ht,ye-fe))):(H.sortIndex=Me,e(w,H),z||te||(z=!0,ot||(ot=!0,k()))),H},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(H){var Z=q;return function(){var ye=q;q=Z;try{return H.apply(this,arguments)}finally{q=ye}}}})(mm)),mm}var e_;function zE(){return e_||(e_=1,dm.exports=jE()),dm.exports}var pm={exports:{}},Bi={};var t_;function BE(){if(t_)return Bi;t_=1;var r=nf();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)E+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,x){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:L==null?null:""+L,children:w,containerInfo:E,implementation:x}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Bi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Bi.createPortal=function(w,E){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,x)},Bi.flushSync=function(w){var E=p.T,x=s.p;try{if(p.T=null,s.p=2,w)return w()}finally{p.T=E,s.p=x,s.d.f()}},Bi.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(w,E))},Bi.prefetchDNS=function(w){typeof w=="string"&&s.d.D(w)},Bi.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var x=E.as,L=b(x,E.crossOrigin),q=typeof E.integrity=="string"?E.integrity:void 0,te=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;x==="style"?s.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:L,integrity:q,fetchPriority:te}):x==="script"&&s.d.X(w,{crossOrigin:L,integrity:q,fetchPriority:te,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Bi.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var x=b(E.as,E.crossOrigin);s.d.M(w,{crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(w)},Bi.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var x=E.as,L=b(x,E.crossOrigin);s.d.L(w,x,{crossOrigin:L,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Bi.preloadModule=function(w,E){if(typeof w=="string")if(E){var x=b(E.as,E.crossOrigin);s.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(w)},Bi.requestFormReset=function(w){s.d.r(w)},Bi.unstable_batchedUpdates=function(w,E){return w(E)},Bi.useFormState=function(w,E,x){return p.H.useFormState(w,E,x)},Bi.useFormStatus=function(){return p.H.useHostTransitionStatus()},Bi.version="19.2.0",Bi}var n_;function FE(){if(n_)return pm.exports;n_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=BE(),pm.exports}var i_;function HE(){if(i_)return Lu;i_=1;var r=zE(),e=nf(),i=FE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(s(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return w(h),t;if(m===o)return w(h),n;m=m.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=m;else{for(var T=!1,M=h.child;M;){if(M===a){T=!0,a=h,o=m;break}if(M===o){T=!0,o=h,a=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===a){T=!0,a=m,o=h;break}if(M===o){T=!0,o=m,a=h;break}M=M.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var L=Object.assign,q=Symbol.for("react.element"),te=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),Be=Symbol.for("react.consumer"),qe=Symbol.for("react.context"),Ke=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function X(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oe:return"Fragment";case Le:return"Profiler";case Re:return"StrictMode";case ht:return"Suspense";case ot:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case qe:return t.displayName||"Context";case Be:return(t._context.displayName||"Context")+".Consumer";case Ke:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return n=t.displayName||null,n!==null?n:X(t.type)||"Memo";case U:n=t._payload,t=t._init;try{return X(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},fe=[],Me=-1;function P(t){return{current:t}}function ae(t){0>Me||(t.current=fe[Me],fe[Me]=null,Me--)}function Se(t,n){Me++,fe[Me]=t.current,t.current=n}var Ee=P(null),xe=P(null),Fe=P(null),We=P(null);function ut(t,n){switch(Se(Fe,n),Se(xe,t),Se(Ee,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?vv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=vv(n),t=_v(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(Ee),Se(Ee,t)}function _t(){ae(Ee),ae(xe),ae(Fe)}function Ct(t){t.memoizedState!==null&&Se(We,t);var n=Ee.current,a=_v(n,t.type);n!==a&&(Se(xe,t),Se(Ee,a))}function an(t){xe.current===t&&(ae(Ee),ae(xe)),We.current===t&&(ae(We),Nu._currentValue=ye)}var ft,Et;function jt(t){if(ft===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ft=n&&n[1]||"",Et=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+t+Et}var zt=!1;function Nn(t,n){if(!t||zt)return"";zt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ge){var ce=ge}Reflect.construct(t,[],Te)}else{try{Te.call()}catch(ge){ce=ge}t.call(Te.prototype)}}else{try{throw Error()}catch(ge){ce=ge}(Te=t())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ge){if(ge&&ce&&typeof ge.stack=="string")return[ge.stack,ce.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var G=T.split(`
`),le=M.split(`
`);for(h=o=0;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;for(;h<le.length&&!le[h].includes("DetermineComponentFrameRoot");)h++;if(o===G.length||h===le.length)for(o=G.length-1,h=le.length-1;1<=o&&0<=h&&G[o]!==le[h];)h--;for(;1<=o&&0<=h;o--,h--)if(G[o]!==le[h]){if(o!==1||h!==1)do if(o--,h--,0>h||G[o]!==le[h]){var _e=`
`+G[o].replace(" at new "," at ");return t.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",t.displayName)),_e}while(1<=o&&0<=h);break}}}finally{zt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?jt(a):""}function ii(t,n){switch(t.tag){case 26:case 27:case 5:return jt(t.type);case 16:return jt("Lazy");case 13:return t.child!==n&&n!==null?jt("Suspense Fallback"):jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return Nn(t.type,!1);case 11:return Nn(t.type.render,!1);case 1:return Nn(t.type,!0);case 31:return jt("Activity");default:return""}}function yt(t){try{var n="",a=null;do n+=ii(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var rt=Object.prototype.hasOwnProperty,fn=r.unstable_scheduleCallback,tn=r.unstable_cancelCallback,Yi=r.unstable_shouldYield,Un=r.unstable_requestPaint,Ft=r.unstable_now,gn=r.unstable_getCurrentPriorityLevel,R=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,_=r.unstable_NormalPriority,N=r.unstable_LowPriority,K=r.unstable_IdlePriority,me=r.log,De=r.unstable_setDisableYieldValue,et=null,at=null;function Ye(t){if(typeof me=="function"&&De(t),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(et,t)}catch{}}var tt=Math.clz32?Math.clz32:ln,Zt=Math.log,wn=Math.LN2;function ln(t){return t>>>=0,t===0?32:31-(Zt(t)/wn|0)|0}var jn=256,Yn=262144,Ht=4194304;function An(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?h=An(o):(T&=M,T!==0?h=An(T):a||(a=M&~t,a!==0&&(h=An(a))))):(M=o&~m,M!==0?h=An(M):T!==0?h=An(T):a||(a=o&~t,a!==0&&(h=An(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function Xn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Xi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var t=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),t}function Hn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function St(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qi(t,n,a,o,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var M=t.entanglements,G=t.expirationTimes,le=t.hiddenUpdates;for(a=T&~a;0<a;){var _e=31-tt(a),Te=1<<_e;M[_e]=0,G[_e]=-1;var ce=le[_e];if(ce!==null)for(le[_e]=null,_e=0;_e<ce.length;_e++){var ge=ce[_e];ge!==null&&(ge.lane&=-536870913)}a&=~Te}o!==0&&Ki(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Ki(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-tt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Fa(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-tt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Sr(t,n){var a=n&-n;return a=(a&42)!==0?1:lr(a),(a&(t.suspendedLanes|n))!==0?0:a}function lr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function va(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:Fv(t.type))}function Wi(t,n){var a=Z.p;try{return Z.p=t,n()}finally{Z.p=a}}var ki=Math.random().toString(36).slice(2),dn="__reactFiber$"+ki,zn="__reactProps$"+ki,$i="__reactContainer$"+ki,Rr="__reactEvents$"+ki,Cs="__reactListeners$"+ki,_a="__reactHandles$"+ki,aa="__reactResources$"+ki,Pi="__reactMarker$"+ki;function bi(t){delete t[dn],delete t[zn],delete t[Rr],delete t[Cs],delete t[_a]}function Ji(t){var n=t[dn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$i]||a[dn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Rv(t);t!==null;){if(a=t[dn])return a;t=Rv(t)}return n}t=a,a=t.parentNode}return null}function Qn(t){if(t=t[dn]||t[$i]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function wi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Li(t){var n=t[aa];return n||(n=t[aa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function On(t){t[Pi]=!0}var sa=new Set,Bn={};function gi(t,n){Ei(t,n),Ei(t+"Capture",n)}function Ei(t,n){for(Bn[t]=n,t=0;t<n.length;t++)sa.add(n[t])}var Ha=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Br={},Fr={};function ne(t){return rt.call(Fr,t)?!0:rt.call(Br,t)?!1:Ha.test(t)?Fr[t]=!0:(Br[t]=!0,!1)}function he(t,n,a){if(ne(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function pe(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ve(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Ce(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qe(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pe(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function He(t){if(!t._valueTracker){var n=Qe(t)?"checked":"value";t._valueTracker=Pe(t,n,""+t[n])}}function ke(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Qe(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function be(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kt=/[\n"\\]/g;function Pt(t){return t.replace(kt,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function yn(t,n,a,o,h,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ce(n)):t.value!==""+Ce(n)&&(t.value=""+Ce(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Ti(t,T,Ce(n)):a!=null?Ti(t,T,Ce(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Ce(M):t.removeAttribute("name")}function Zi(t,n,a,o,h,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){He(t);return}a=a!=null?""+Ce(a):"",n=n!=null?""+Ce(n):a,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),He(t)}function Ti(t,n,a){n==="number"&&be(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ot(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ce(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ba(t,n,a){if(n!=null&&(n=""+Ce(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ce(a):""}function Hr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ce(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),He(t)}function ri(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var ur=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qa(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||ur.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Cr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&qa(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&qa(t,m,n[m])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ir.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cr(){}var Is=null;function hr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fr=null,er=null;function dr(t){var n=Qn(t);if(n&&(t=n.stateNode)){var a=t[zn]||null;e:switch(t=n.stateNode,n.type){case"input":if(yn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[zn]||null;if(!h)throw Error(s(90));yn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&ke(o)}break e;case"textarea":ba(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ot(t,!!a.multiple,n,!1)}}}var oa=!1;function mr(t,n,a){if(oa)return t(n,a);oa=!0;try{var o=t(n);return o}finally{if(oa=!1,(fr!==null||er!==null)&&(Yc(),fr&&(n=fr,t=er,er=fr=null,dr(n),t)))for(n=0;n<t.length;n++)dr(t[n])}}function Ai(t,n){var a=t.stateNode;if(a===null)return null;var o=a[zn]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(fi)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){qr=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{qr=!1}var Gr=null,Ui=null,la=null;function Ta(){if(la)return la;var t,n=Ui,a=n.length,o,h="value"in Gr?Gr.value:Gr.textContent,m=h.length;for(t=0;t<a&&n[t]===h[t];t++);var T=a-t;for(o=1;o<=T&&n[a-o]===h[m-o];o++);return la=h.slice(t,1<o?1-o:void 0)}function ua(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function xr(){return!0}function Mr(){return!1}function di(t){function n(a,o,h,m,T){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(a=t[M],this[M]=a?a(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xr:Mr,this.isPropagationStopped=Mr,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),n}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yr=di(pr),Aa=L({},pr,{view:0,detail:0}),To=di(Aa),Dr,Ya,tr,Xa=L({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tr&&(tr&&t.type==="mousemove"?(Dr=t.screenX-tr.screenX,Ya=t.screenY-tr.screenY):Ya=Dr=0,tr=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),xs=di(Xa),Qa=L({},Xa,{dataTransfer:0}),Wo=di(Qa),Jn=L({},Aa,{relatedTarget:0}),Sa=di(Jn),nr=L({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=di(nr),ca=L({},pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ka=di(ca),Ms=L({},pr,{data:0}),Nr=di(Ms),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Zo[t])?!!n[t]:!1}function Ra(){return Ns}var Si=L({},Aa,{key:function(t){if(t.key){var n=Ds[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(t){return t.type==="keypress"?ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ao=di(Si),el=L({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ha=di(el),u=L({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),y=di(u),A=L({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=di(A),re=L({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),de=di(re),Ue=L({},pr,{newState:0,oldState:0}),At=di(Ue),qn=[9,13,27,32],sn=fi&&"CompositionEvent"in window,Mn=null;fi&&"documentMode"in document&&(Mn=document.documentMode);var ji=fi&&"TextEvent"in window&&!Mn,gr=fi&&(!sn||Mn&&8<Mn&&11>=Mn),yr=" ",ir=!1;function Xr(t,n){switch(t){case"keyup":return qn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function Af(t,n){switch(t){case"compositionend":return Wa(n);case"keypress":return n.which!==32?null:(ir=!0,yr);case"textInput":return t=n.data,t===yr&&ir?null:t;default:return null}}function mc(t,n){if($a)return t==="compositionend"||!sn&&Xr(t,n)?(t=Ta(),la=Ui=Gr=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gr&&n.locale!=="ko"?null:n.data;default:return null}}var tl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tl[t.type]:n==="textarea"}function Vn(t,n,a,o){fr?er?er.push(o):er=[o]:fr=o,n=Zc(n,"onChange"),0<n.length&&(a=new Yr("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var rr=null,Ja=null;function pc(t){fv(t,0)}function So(t){var n=wi(t);if(ke(n))return t}function tu(t,n){if(t==="change")return n}var nu=!1;if(fi){var Os;if(fi){var nl="oninput"in document;if(!nl){var f=document.createElement("div");f.setAttribute("oninput","return;"),nl=typeof f.oninput=="function"}Os=nl}else Os=!1;nu=Os&&(!document.documentMode||9<document.documentMode)}function d(){rr&&(rr.detachEvent("onpropertychange",v),Ja=rr=null)}function v(t){if(t.propertyName==="value"&&So(Ja)){var n=[];Vn(n,Ja,t,hr(t)),mr(pc,n)}}function S(t,n,a){t==="focusin"?(d(),rr=n,Ja=a,rr.attachEvent("onpropertychange",v)):t==="focusout"&&d()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return So(Ja)}function j(t,n){if(t==="click")return So(n)}function W(t,n){if(t==="input"||t==="change")return So(n)}function $(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ue=typeof Object.is=="function"?Object.is:$;function oe(t,n){if(ue(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!rt.call(n,h)||!ue(t[h],n[h]))return!1}return!0}function Ve(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $e(t,n){var a=Ve(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ve(a)}}function st(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?st(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function J(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=be(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=be(t.document)}return n}function je(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var nt=fi&&"documentMode"in document&&11>=document.documentMode,ze=null,un=null,Je=null,Lt=!1;function vn(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lt||ze==null||ze!==be(o)||(o=ze,"selectionStart"in o&&je(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Je&&oe(Je,o)||(Je=o,o=Zc(un,"onSelect"),0<o.length&&(n=new Yr("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ze)))}function Zn(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var vr={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},Bt={},Or={};fi&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function Za(t){if(Bt[t])return Bt[t];if(!vr[t])return t;var n=vr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Or)return Bt[t]=n[a];return t}var Ne=Za("animationend"),Ge=Za("animationiteration"),Ut=Za("animationstart"),Xt=Za("transitionrun"),Mt=Za("transitionstart"),qt=Za("transitioncancel"),nn=Za("transitionend"),on=new Map,ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ar.push("scrollEnd");function _n(t,n){on.set(t,n),gi(n,[t])}var Ri=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mn=[],es=0,il=0;function Ca(){for(var t=es,n=il=es=0;n<t;){var a=mn[n];mn[n++]=null;var o=mn[n];mn[n++]=null;var h=mn[n];mn[n++]=null;var m=mn[n];if(mn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&iu(a,h,m)}}function Ia(t,n,a,o){mn[es++]=t,mn[es++]=n,mn[es++]=a,mn[es++]=o,il|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function fa(t,n,a,o){return Ia(t,n,a,o),Ro(t)}function sr(t,n){return Ia(t,null,null,n),Ro(t)}function iu(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-tt(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),m):null}function Ro(t){if(50<Su)throw Su=0,Vd=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Vr={};function Sf(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(t,n,a,o){return new Sf(t,n,a,o)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var a=t.alternate;return a===null?(a=zi(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function gc(t,n,a,o,h,m){var T=0;if(o=t,typeof t=="function")Rf(t)&&(T=1);else if(typeof t=="string")T=AE(t,a,Ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=zi(31,a,n,h),t.elementType=V,t.lanes=m,t;case Oe:return Co(a.children,h,m,n);case Re:T=8,h|=24;break;case Le:return t=zi(12,a,n,h|2),t.elementType=Le,t.lanes=m,t;case ht:return t=zi(13,a,n,h),t.elementType=ht,t.lanes=m,t;case ot:return t=zi(19,a,n,h),t.elementType=ot,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qe:T=10;break e;case Be:T=9;break e;case Ke:T=11;break e;case F:T=14;break e;case U:T=16,o=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=zi(T,a,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Co(t,n,a,o){return t=zi(7,t,o,n),t.lanes=a,t}function Cf(t,n,a){return t=zi(6,t,null,n),t.lanes=a,t}function Kp(t){var n=zi(18,null,null,0);return n.stateNode=t,n}function If(t,n,a){return n=zi(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Wp=new WeakMap;function Qr(t,n){if(typeof t=="object"&&t!==null){var a=Wp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:yt(n)},Wp.set(t,n),n)}return{value:t,source:n,stack:yt(n)}}var rl=[],al=0,yc=null,ru=0,Kr=[],Wr=0,Vs=null,xa=1,Ma="";function ns(t,n){rl[al++]=ru,rl[al++]=yc,yc=t,ru=n}function $p(t,n,a){Kr[Wr++]=xa,Kr[Wr++]=Ma,Kr[Wr++]=Vs,Vs=t;var o=xa;t=Ma;var h=32-tt(o)-1;o&=~(1<<h),a+=1;var m=32-tt(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,xa=1<<32-tt(n)+h|a<<h|o,Ma=m+t}else xa=1<<m|a<<h|o,Ma=t}function xf(t){t.return!==null&&(ns(t,1),$p(t,1,0))}function Mf(t){for(;t===yc;)yc=rl[--al],rl[al]=null,ru=rl[--al],rl[al]=null;for(;t===Vs;)Vs=Kr[--Wr],Kr[Wr]=null,Ma=Kr[--Wr],Kr[Wr]=null,xa=Kr[--Wr],Kr[Wr]=null}function Jp(t,n){Kr[Wr++]=xa,Kr[Wr++]=Ma,Kr[Wr++]=Vs,xa=n.id,Ma=n.overflow,Vs=t}var Ci=null,kn=null,en=!1,ks=null,$r=!1,Df=Error(s(519));function Ps(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(Qr(n,t)),Df}function Zp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[dn]=t,n[zn]=o,a){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(a=0;a<Cu.length;a++)Yt(Cu[a],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":Yt("invalid",n),Zi(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Yt("invalid",n);break;case"textarea":Yt("invalid",n),Hr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||gv(n.textContent,a)?(o.popover!=null&&(Yt("beforetoggle",n),Yt("toggle",n)),o.onScroll!=null&&Yt("scroll",n),o.onScrollEnd!=null&&Yt("scrollend",n),o.onClick!=null&&(n.onclick=cr),n=!0):n=!1,n||Ps(t,!0)}function eg(t){for(Ci=t.return;Ci;)switch(Ci.tag){case 5:case 31:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:Ci=Ci.return}}function sl(t){if(t!==Ci)return!1;if(!en)return eg(t),en=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kd(t.type,t.memoizedProps)),a=!a),a&&kn&&Ps(t),eg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));kn=Sv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));kn=Sv(t)}else n===27?(n=kn,Ws(t.type)?(t=em,em=null,kn=t):kn=n):kn=Ci?Zr(t.stateNode.nextSibling):null;return!0}function Io(){kn=Ci=null,en=!1}function Nf(){var t=ks;return t!==null&&(Er===null?Er=t:Er.push.apply(Er,t),ks=null),t}function au(t){ks===null?ks=[t]:ks.push(t)}var Of=P(null),xo=null,is=null;function Ls(t,n,a){Se(Of,n._currentValue),n._currentValue=a}function rs(t){t._currentValue=Of.current,ae(Of)}function Vf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function kf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=h;for(var G=0;G<n.length;G++)if(M.context===n[G]){m.lanes|=a,M=m.alternate,M!==null&&(M.lanes|=a),Vf(m.return,a,t),o||(T=null);break e}m=M.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Vf(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ol(t,n,a,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var M=h.type;ue(h.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(h===We.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nu):t=[Nu])}h=h.return}t!==null&&kf(n,t,a,o),n.flags|=262144}function vc(t){for(t=t.firstContext;t!==null;){if(!ue(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mo(t){xo=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ii(t){return tg(xo,t)}function _c(t,n){return xo===null&&Mo(t),tg(t,n)}function tg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},is===null){if(t===null)throw Error(s(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return a}var b1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},w1=r.unstable_scheduleCallback,E1=r.unstable_NormalPriority,ai={$$typeof:qe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new b1,data:new Map,refCount:0}}function su(t){t.refCount--,t.refCount===0&&w1(E1,function(){t.controller.abort()})}var ou=null,Lf=0,ll=0,ul=null;function T1(t,n){if(ou===null){var a=ou=[];Lf=0,ll=zd(),ul={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Lf++,n.then(ng,ng),n}function ng(){if(--Lf===0&&ou!==null){ul!==null&&(ul.status="fulfilled");var t=ou;ou=null,ll=0,ul=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function A1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ig=H.S;H.S=function(t,n){zy=Ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&T1(t,n),ig!==null&&ig(t,n)};var Do=P(null);function Uf(){var t=Do.current;return t!==null?t:In.pooledCache}function bc(t,n){n===null?Se(Do,Do.current):Se(Do,n.pool)}function rg(){var t=Uf();return t===null?null:{parent:ai._currentValue,pool:t}}var cl=Error(s(460)),jf=Error(s(474)),wc=Error(s(542)),Ec={then:function(){}};function ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(cr,cr),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t;default:if(typeof n.status=="string")n.then(cr,cr);else{if(t=In,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t}throw Oo=n,cl}}function No(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Oo=a,cl):a}}var Oo=null;function og(){if(Oo===null)throw Error(s(459));var t=Oo;return Oo=null,t}function lg(t){if(t===cl||t===wc)throw Error(s(483))}var hl=null,lu=0;function Tc(t){var n=lu;return lu+=1,hl===null&&(hl=[]),sg(hl,t,n)}function uu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ac(t,n){throw n.$$typeof===q?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){function n(ee,Q){if(t){var se=ee.deletions;se===null?(ee.deletions=[Q],ee.flags|=16):se.push(Q)}}function a(ee,Q){if(!t)return null;for(;Q!==null;)n(ee,Q),Q=Q.sibling;return null}function o(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function h(ee,Q){return ee=ts(ee,Q),ee.index=0,ee.sibling=null,ee}function m(ee,Q,se){return ee.index=se,t?(se=ee.alternate,se!==null?(se=se.index,se<Q?(ee.flags|=67108866,Q):se):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function T(ee){return t&&ee.alternate===null&&(ee.flags|=67108866),ee}function M(ee,Q,se,we){return Q===null||Q.tag!==6?(Q=Cf(se,ee.mode,we),Q.return=ee,Q):(Q=h(Q,se),Q.return=ee,Q)}function G(ee,Q,se,we){var mt=se.type;return mt===Oe?_e(ee,Q,se.props.children,we,se.key):Q!==null&&(Q.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===U&&No(mt)===Q.type)?(Q=h(Q,se.props),uu(Q,se),Q.return=ee,Q):(Q=gc(se.type,se.key,se.props,null,ee.mode,we),uu(Q,se),Q.return=ee,Q)}function le(ee,Q,se,we){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==se.containerInfo||Q.stateNode.implementation!==se.implementation?(Q=If(se,ee.mode,we),Q.return=ee,Q):(Q=h(Q,se.children||[]),Q.return=ee,Q)}function _e(ee,Q,se,we,mt){return Q===null||Q.tag!==7?(Q=Co(se,ee.mode,we,mt),Q.return=ee,Q):(Q=h(Q,se),Q.return=ee,Q)}function Te(ee,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Cf(""+Q,ee.mode,se),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case te:return se=gc(Q.type,Q.key,Q.props,null,ee.mode,se),uu(se,Q),se.return=ee,se;case z:return Q=If(Q,ee.mode,se),Q.return=ee,Q;case U:return Q=No(Q),Te(ee,Q,se)}if(ie(Q)||k(Q))return Q=Co(Q,ee.mode,se,null),Q.return=ee,Q;if(typeof Q.then=="function")return Te(ee,Tc(Q),se);if(Q.$$typeof===qe)return Te(ee,_c(ee,Q),se);Ac(ee,Q)}return null}function ce(ee,Q,se,we){var mt=Q!==null?Q.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return mt!==null?null:M(ee,Q,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case te:return se.key===mt?G(ee,Q,se,we):null;case z:return se.key===mt?le(ee,Q,se,we):null;case U:return se=No(se),ce(ee,Q,se,we)}if(ie(se)||k(se))return mt!==null?null:_e(ee,Q,se,we,null);if(typeof se.then=="function")return ce(ee,Q,Tc(se),we);if(se.$$typeof===qe)return ce(ee,Q,_c(ee,se),we);Ac(ee,se)}return null}function ge(ee,Q,se,we,mt){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ee=ee.get(se)||null,M(Q,ee,""+we,mt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case te:return ee=ee.get(we.key===null?se:we.key)||null,G(Q,ee,we,mt);case z:return ee=ee.get(we.key===null?se:we.key)||null,le(Q,ee,we,mt);case U:return we=No(we),ge(ee,Q,se,we,mt)}if(ie(we)||k(we))return ee=ee.get(se)||null,_e(Q,ee,we,mt,null);if(typeof we.then=="function")return ge(ee,Q,se,Tc(we),mt);if(we.$$typeof===qe)return ge(ee,Q,se,_c(Q,we),mt);Ac(Q,we)}return null}function lt(ee,Q,se,we){for(var mt=null,cn=null,ct=Q,Vt=Q=0,Kt=null;ct!==null&&Vt<se.length;Vt++){ct.index>Vt?(Kt=ct,ct=null):Kt=ct.sibling;var hn=ce(ee,ct,se[Vt],we);if(hn===null){ct===null&&(ct=Kt);break}t&&ct&&hn.alternate===null&&n(ee,ct),Q=m(hn,Q,Vt),cn===null?mt=hn:cn.sibling=hn,cn=hn,ct=Kt}if(Vt===se.length)return a(ee,ct),en&&ns(ee,Vt),mt;if(ct===null){for(;Vt<se.length;Vt++)ct=Te(ee,se[Vt],we),ct!==null&&(Q=m(ct,Q,Vt),cn===null?mt=ct:cn.sibling=ct,cn=ct);return en&&ns(ee,Vt),mt}for(ct=o(ct);Vt<se.length;Vt++)Kt=ge(ct,ee,Vt,se[Vt],we),Kt!==null&&(t&&Kt.alternate!==null&&ct.delete(Kt.key===null?Vt:Kt.key),Q=m(Kt,Q,Vt),cn===null?mt=Kt:cn.sibling=Kt,cn=Kt);return t&&ct.forEach(function(to){return n(ee,to)}),en&&ns(ee,Vt),mt}function vt(ee,Q,se,we){if(se==null)throw Error(s(151));for(var mt=null,cn=null,ct=Q,Vt=Q=0,Kt=null,hn=se.next();ct!==null&&!hn.done;Vt++,hn=se.next()){ct.index>Vt?(Kt=ct,ct=null):Kt=ct.sibling;var to=ce(ee,ct,hn.value,we);if(to===null){ct===null&&(ct=Kt);break}t&&ct&&to.alternate===null&&n(ee,ct),Q=m(to,Q,Vt),cn===null?mt=to:cn.sibling=to,cn=to,ct=Kt}if(hn.done)return a(ee,ct),en&&ns(ee,Vt),mt;if(ct===null){for(;!hn.done;Vt++,hn=se.next())hn=Te(ee,hn.value,we),hn!==null&&(Q=m(hn,Q,Vt),cn===null?mt=hn:cn.sibling=hn,cn=hn);return en&&ns(ee,Vt),mt}for(ct=o(ct);!hn.done;Vt++,hn=se.next())hn=ge(ct,ee,Vt,hn.value,we),hn!==null&&(t&&hn.alternate!==null&&ct.delete(hn.key===null?Vt:hn.key),Q=m(hn,Q,Vt),cn===null?mt=hn:cn.sibling=hn,cn=hn);return t&&ct.forEach(function(kE){return n(ee,kE)}),en&&ns(ee,Vt),mt}function Cn(ee,Q,se,we){if(typeof se=="object"&&se!==null&&se.type===Oe&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case te:e:{for(var mt=se.key;Q!==null;){if(Q.key===mt){if(mt=se.type,mt===Oe){if(Q.tag===7){a(ee,Q.sibling),we=h(Q,se.props.children),we.return=ee,ee=we;break e}}else if(Q.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===U&&No(mt)===Q.type){a(ee,Q.sibling),we=h(Q,se.props),uu(we,se),we.return=ee,ee=we;break e}a(ee,Q);break}else n(ee,Q);Q=Q.sibling}se.type===Oe?(we=Co(se.props.children,ee.mode,we,se.key),we.return=ee,ee=we):(we=gc(se.type,se.key,se.props,null,ee.mode,we),uu(we,se),we.return=ee,ee=we)}return T(ee);case z:e:{for(mt=se.key;Q!==null;){if(Q.key===mt)if(Q.tag===4&&Q.stateNode.containerInfo===se.containerInfo&&Q.stateNode.implementation===se.implementation){a(ee,Q.sibling),we=h(Q,se.children||[]),we.return=ee,ee=we;break e}else{a(ee,Q);break}else n(ee,Q);Q=Q.sibling}we=If(se,ee.mode,we),we.return=ee,ee=we}return T(ee);case U:return se=No(se),Cn(ee,Q,se,we)}if(ie(se))return lt(ee,Q,se,we);if(k(se)){if(mt=k(se),typeof mt!="function")throw Error(s(150));return se=mt.call(se),vt(ee,Q,se,we)}if(typeof se.then=="function")return Cn(ee,Q,Tc(se),we);if(se.$$typeof===qe)return Cn(ee,Q,_c(ee,se),we);Ac(ee,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Q!==null&&Q.tag===6?(a(ee,Q.sibling),we=h(Q,se),we.return=ee,ee=we):(a(ee,Q),we=Cf(se,ee.mode,we),we.return=ee,ee=we),T(ee)):a(ee,Q)}return function(ee,Q,se,we){try{lu=0;var mt=Cn(ee,Q,se,we);return hl=null,mt}catch(ct){if(ct===cl||ct===wc)throw ct;var cn=zi(29,ct,null,ee.mode);return cn.lanes=we,cn.return=ee,cn}finally{}}}var Vo=ug(!0),cg=ug(!1),Us=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(pn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ro(t),iu(t,null,a),n}return Ia(t,o,n,a),Ro(t)}function cu(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Fa(t,a)}}function Ff(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Hf=!1;function hu(){if(Hf){var t=ul;if(t!==null)throw t}}function fu(t,n,a,o){Hf=!1;var h=t.updateQueue;Us=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var G=M,le=G.next;G.next=null,T===null?m=le:T.next=le,T=G;var _e=t.alternate;_e!==null&&(_e=_e.updateQueue,M=_e.lastBaseUpdate,M!==T&&(M===null?_e.firstBaseUpdate=le:M.next=le,_e.lastBaseUpdate=G))}if(m!==null){var Te=h.baseState;T=0,_e=le=G=null,M=m;do{var ce=M.lane&-536870913,ge=ce!==M.lane;if(ge?(Qt&ce)===ce:(o&ce)===ce){ce!==0&&ce===ll&&(Hf=!0),_e!==null&&(_e=_e.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var lt=t,vt=M;ce=n;var Cn=a;switch(vt.tag){case 1:if(lt=vt.payload,typeof lt=="function"){Te=lt.call(Cn,Te,ce);break e}Te=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=vt.payload,ce=typeof lt=="function"?lt.call(Cn,Te,ce):lt,ce==null)break e;Te=L({},Te,ce);break e;case 2:Us=!0}}ce=M.callback,ce!==null&&(t.flags|=64,ge&&(t.flags|=8192),ge=h.callbacks,ge===null?h.callbacks=[ce]:ge.push(ce))}else ge={lane:ce,tag:M.tag,payload:M.payload,callback:M.callback,next:null},_e===null?(le=_e=ge,G=Te):_e=_e.next=ge,T|=ce;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;ge=M,M=ge.next,ge.next=null,h.lastBaseUpdate=ge,h.shared.pending=null}}while(!0);_e===null&&(G=Te),h.baseState=G,h.firstBaseUpdate=le,h.lastBaseUpdate=_e,m===null&&(h.shared.lanes=0),Gs|=T,t.lanes=T,t.memoizedState=Te}}function hg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function fg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hg(a[t],n)}var fl=P(null),Sc=P(0);function dg(t,n){t=ds,Se(Sc,t),Se(fl,n),ds=t|n.baseLanes}function qf(){Se(Sc,ds),Se(fl,fl.current)}function Gf(){ds=Sc.current,ae(fl),ae(Sc)}var kr=P(null),Jr=null;function Bs(t){var n=t.alternate;Se(ei,ei.current&1),Se(kr,t),Jr===null&&(n===null||fl.current!==null||n.memoizedState!==null)&&(Jr=t)}function Yf(t){Se(ei,ei.current),Se(kr,t),Jr===null&&(Jr=t)}function mg(t){t.tag===22?(Se(ei,ei.current),Se(kr,t),Jr===null&&(Jr=t)):Fs()}function Fs(){Se(ei,ei.current),Se(kr,kr.current)}function Pr(t){ae(kr),Jr===t&&(Jr=null),ae(ei)}var ei=P(0);function Rc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jd(a)||Zd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,Nt=null,Sn=null,si=null,Cc=!1,dl=!1,ko=!1,Ic=0,du=0,ml=null,S1=0;function Kn(){throw Error(s(321))}function Xf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ue(t[a],n[a]))return!1;return!0}function Qf(t,n,a,o,h,m){return as=m,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?$g:ud,ko=!1,m=a(o,h),ko=!1,dl&&(m=gg(n,a,o,h)),pg(t),m}function pg(t){H.H=gu;var n=Sn!==null&&Sn.next!==null;if(as=0,si=Sn=Nt=null,Cc=!1,du=0,ml=null,n)throw Error(s(300));t===null||oi||(t=t.dependencies,t!==null&&vc(t)&&(oi=!0))}function gg(t,n,a,o){Nt=t;var h=0;do{if(dl&&(ml=null),du=0,dl=!1,25<=h)throw Error(s(301));if(h+=1,si=Sn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=Jg,m=n(a,o)}while(dl);return m}function R1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?mu(n):n,t=t.useState()[0],(Sn!==null?Sn.memoizedState:null)!==t&&(Nt.flags|=1024),n}function Kf(){var t=Ic!==0;return Ic=0,t}function Wf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function $f(t){if(Cc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Cc=!1}as=0,si=Sn=Nt=null,dl=!1,du=Ic=0,ml=null}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?Nt.memoizedState=si=t:si=si.next=t,si}function ti(){if(Sn===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=Sn.next;var n=si===null?Nt.memoizedState:si.next;if(n!==null)si=n,Sn=t;else{if(t===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Sn=t,t={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},si===null?Nt.memoizedState=si=t:si=si.next=t}return si}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(t){var n=du;return du+=1,ml===null&&(ml=[]),t=sg(ml,t,n),n=Nt,(si===null?n.memoizedState:si.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?$g:ud),t}function Mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mu(t);if(t.$$typeof===qe)return Ii(t)}throw Error(s(438,String(t)))}function Jf(t){var n=null,a=Nt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=xc(),Nt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=B;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function Dc(t){var n=ti();return Zf(n,Sn,t)}function Zf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var M=T=null,G=null,le=n,_e=!1;do{var Te=le.lane&-536870913;if(Te!==le.lane?(Qt&Te)===Te:(as&Te)===Te){var ce=le.revertLane;if(ce===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Te===ll&&(_e=!0);else if((as&ce)===ce){le=le.next,ce===ll&&(_e=!0);continue}else Te={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},G===null?(M=G=Te,T=m):G=G.next=Te,Nt.lanes|=ce,Gs|=ce;Te=le.action,ko&&a(m,Te),m=le.hasEagerState?le.eagerState:a(m,Te)}else ce={lane:Te,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},G===null?(M=G=ce,T=m):G=G.next=ce,Nt.lanes|=Te,Gs|=Te;le=le.next}while(le!==null&&le!==n);if(G===null?T=m:G.next=M,!ue(m,t.memoizedState)&&(oi=!0,_e&&(a=ul,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=G,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ed(t){var n=ti(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ue(m,n.memoizedState)||(oi=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function yg(t,n,a){var o=Nt,h=ti(),m=en;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var T=!ue((Sn||h).memoizedState,a);if(T&&(h.memoizedState=a,oi=!0),h=h.queue,id(bg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||si!==null&&si.memoizedState.tag&1){if(o.flags|=2048,pl(9,{destroy:void 0},_g.bind(null,o,h,a,n),null),In===null)throw Error(s(349));m||(as&127)!==0||vg(o,n,a)}return a}function vg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Nt.updateQueue,n===null?(n=xc(),Nt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function _g(t,n,a,o){n.value=a,n.getSnapshot=o,wg(n)&&Eg(t)}function bg(t,n,a){return a(function(){wg(n)&&Eg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ue(t,a)}catch{return!0}}function Eg(t){var n=sr(t,2);n!==null&&Tr(n,t,2)}function td(t){var n=or();if(typeof t=="function"){var a=t;if(t=a(),ko){Ye(!0);try{a()}finally{Ye(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function Tg(t,n,a,o){return t.baseState=a,Zf(t,Sn,typeof o=="function"?o:ss)}function C1(t,n,a,o,h){if(Vc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};H.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,Ag(n,m)):(m.next=a.next,n.pending=a.next=m)}}function Ag(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=H.T,T={};H.T=T;try{var M=a(h,o),G=H.S;G!==null&&G(T,M),Sg(t,n,M)}catch(le){nd(t,n,le)}finally{m!==null&&T.types!==null&&(m.types=T.types),H.T=m}}else try{m=a(h,o),Sg(t,n,m)}catch(le){nd(t,n,le)}}function Sg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rg(t,n,o)},function(o){return nd(t,n,o)}):Rg(t,n,a)}function Rg(t,n,a){n.status="fulfilled",n.value=a,Cg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ag(t,a)))}function nd(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Cg(n),n=n.next;while(n!==o)}t.action=null}function Cg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ig(t,n){return n}function xg(t,n){if(en){var a=In.formState;if(a!==null){e:{var o=Nt;if(en){if(kn){t:{for(var h=kn,m=$r;h.nodeType!==8;){if(!m){h=null;break t}if(h=Zr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){kn=Zr(h.nextSibling),o=h.data==="F!";break e}}Ps(o)}o=!1}o&&(n=a[0])}}return a=or(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:n},a.queue=o,a=Qg.bind(null,Nt,o),o.dispatch=a,o=td(!1),m=ld.bind(null,Nt,!1,o.queue),o=or(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=C1.bind(null,Nt,h,m,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Mg(t){var n=ti();return Dg(n,Sn,t)}function Dg(t,n,a){if(n=Zf(t,n,Ig)[0],t=Dc(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=mu(n)}catch(T){throw T===cl?wc:T}else o=n;n=ti();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(Nt.flags|=2048,pl(9,{destroy:void 0},I1.bind(null,h,a),null)),[o,m,t]}function I1(t,n){t.action=n}function Ng(t){var n=ti(),a=Sn;if(a!==null)return Dg(n,a,t);ti(),n=n.memoizedState,a=ti();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function pl(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=xc(),Nt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Og(){return ti().memoizedState}function Nc(t,n,a,o){var h=or();Nt.flags|=t,h.memoizedState=pl(1|n,{destroy:void 0},a,o===void 0?null:o)}function Oc(t,n,a,o){var h=ti();o=o===void 0?null:o;var m=h.memoizedState.inst;Sn!==null&&o!==null&&Xf(o,Sn.memoizedState.deps)?h.memoizedState=pl(n,m,a,o):(Nt.flags|=t,h.memoizedState=pl(1|n,m,a,o))}function Vg(t,n){Nc(8390656,8,t,n)}function id(t,n){Oc(2048,8,t,n)}function x1(t){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=xc(),Nt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function kg(t){var n=ti().memoizedState;return x1({ref:n,nextImpl:t}),function(){if((pn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Pg(t,n){return Oc(4,2,t,n)}function Lg(t,n){return Oc(4,4,t,n)}function Ug(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function jg(t,n,a){a=a!=null?a.concat([t]):null,Oc(4,4,Ug.bind(null,n,t),a)}function rd(){}function zg(t,n){var a=ti();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Xf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Bg(t,n){var a=ti();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Xf(n,o[1]))return o[0];if(o=t(),ko){Ye(!0);try{t()}finally{Ye(!1)}}return a.memoizedState=[o,n],o}function ad(t,n,a){return a===void 0||(as&1073741824)!==0&&(Qt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Fy(),Nt.lanes|=t,Gs|=t,a)}function Fg(t,n,a,o){return ue(a,n)?a:fl.current!==null?(t=ad(t,a,o),ue(t,n)||(oi=!0),t):(as&42)===0||(as&1073741824)!==0&&(Qt&261930)===0?(oi=!0,t.memoizedState=a):(t=Fy(),Nt.lanes|=t,Gs|=t,n)}function Hg(t,n,a,o,h){var m=Z.p;Z.p=m!==0&&8>m?m:8;var T=H.T,M={};H.T=M,ld(t,!1,n,a);try{var G=h(),le=H.S;if(le!==null&&le(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var _e=A1(G,o);pu(t,n,_e,jr(t))}else pu(t,n,o,jr(t))}catch(Te){pu(t,n,{then:function(){},status:"rejected",reason:Te},jr())}finally{Z.p=m,T!==null&&M.types!==null&&(T.types=M.types),H.T=T}}function M1(){}function sd(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=qg(t).queue;Hg(t,h,n,ye,a===null?M1:function(){return Gg(t),a(o)})}function qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gg(t){var n=qg(t);n.next===null&&(n=t.alternate.memoizedState),pu(t,n.next.queue,{},jr())}function od(){return Ii(Nu)}function Yg(){return ti().memoizedState}function Xg(){return ti().memoizedState}function D1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=jr();t=js(a);var o=zs(n,t,a);o!==null&&(Tr(o,n,a),cu(o,n,a)),n={cache:Pf()},t.payload=n;return}n=n.return}}function N1(t,n,a){var o=jr();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vc(t)?Kg(n,a):(a=fa(t,n,a,o),a!==null&&(Tr(a,t,o),Wg(a,n,o)))}function Qg(t,n,a){var o=jr();pu(t,n,a,o)}function pu(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vc(t))Kg(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,a);if(h.hasEagerState=!0,h.eagerState=M,ue(M,T))return Ia(t,n,h,0),In===null&&Ca(),!1}catch{}finally{}if(a=fa(t,n,h,o),a!==null)return Tr(a,t,o),Wg(a,n,o),!0}return!1}function ld(t,n,a,o){if(o={lane:2,revertLane:zd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Vc(t)){if(n)throw Error(s(479))}else n=fa(t,a,o,2),n!==null&&Tr(n,t,2)}function Vc(t){var n=t.alternate;return t===Nt||n!==null&&n===Nt}function Kg(t,n){dl=Cc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Wg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Fa(t,a)}}var gu={readContext:Ii,use:Mc,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useLayoutEffect:Kn,useInsertionEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useSyncExternalStore:Kn,useId:Kn,useHostTransitionStatus:Kn,useFormState:Kn,useActionState:Kn,useOptimistic:Kn,useMemoCache:Kn,useCacheRefresh:Kn};gu.useEffectEvent=Kn;var $g={readContext:Ii,use:Mc,useCallback:function(t,n){return or().memoizedState=[t,n===void 0?null:n],t},useContext:Ii,useEffect:Vg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Nc(4194308,4,Ug.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Nc(4194308,4,t,n)},useInsertionEffect:function(t,n){Nc(4,2,t,n)},useMemo:function(t,n){var a=or();n=n===void 0?null:n;var o=t();if(ko){Ye(!0);try{t()}finally{Ye(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=or();if(a!==void 0){var h=a(n);if(ko){Ye(!0);try{a(n)}finally{Ye(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=N1.bind(null,Nt,t),[o.memoizedState,t]},useRef:function(t){var n=or();return t={current:t},n.memoizedState=t},useState:function(t){t=td(t);var n=t.queue,a=Qg.bind(null,Nt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,n){var a=or();return ad(a,t,n)},useTransition:function(){var t=td(!1);return t=Hg.bind(null,Nt,t.queue,!0,!1),or().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Nt,h=or();if(en){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),In===null)throw Error(s(349));(Qt&127)!==0||vg(o,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,Vg(bg.bind(null,o,m,t),[t]),o.flags|=2048,pl(9,{destroy:void 0},_g.bind(null,o,m,a,n),null),a},useId:function(){var t=or(),n=In.identifierPrefix;if(en){var a=Ma,o=xa;a=(o&~(1<<32-tt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ic++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=S1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:od,useFormState:xg,useActionState:xg,useOptimistic:function(t){var n=or();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ld.bind(null,Nt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Jf,useCacheRefresh:function(){return or().memoizedState=D1.bind(null,Nt)},useEffectEvent:function(t){var n=or(),a={impl:t};return n.memoizedState=a,function(){if((pn&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ud={readContext:Ii,use:Mc,useCallback:zg,useContext:Ii,useEffect:id,useImperativeHandle:jg,useInsertionEffect:Pg,useLayoutEffect:Lg,useMemo:Bg,useReducer:Dc,useRef:Og,useState:function(){return Dc(ss)},useDebugValue:rd,useDeferredValue:function(t,n){var a=ti();return Fg(a,Sn.memoizedState,t,n)},useTransition:function(){var t=Dc(ss)[0],n=ti().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:yg,useId:Yg,useHostTransitionStatus:od,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var a=ti();return Tg(a,Sn,t,n)},useMemoCache:Jf,useCacheRefresh:Xg};ud.useEffectEvent=kg;var Jg={readContext:Ii,use:Mc,useCallback:zg,useContext:Ii,useEffect:id,useImperativeHandle:jg,useInsertionEffect:Pg,useLayoutEffect:Lg,useMemo:Bg,useReducer:ed,useRef:Og,useState:function(){return ed(ss)},useDebugValue:rd,useDeferredValue:function(t,n){var a=ti();return Sn===null?ad(a,t,n):Fg(a,Sn.memoizedState,t,n)},useTransition:function(){var t=ed(ss)[0],n=ti().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:yg,useId:Yg,useHostTransitionStatus:od,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,n){var a=ti();return Sn!==null?Tg(a,Sn,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:Xg};Jg.useEffectEvent=kg;function cd(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:L({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=jr(),h=js(o);h.payload=n,a!=null&&(h.callback=a),n=zs(t,h,o),n!==null&&(Tr(n,t,o),cu(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=jr(),h=js(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=zs(t,h,o),n!==null&&(Tr(n,t,o),cu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=jr(),o=js(a);o.tag=2,n!=null&&(o.callback=n),n=zs(t,o,a),n!==null&&(Tr(n,t,a),cu(n,t,a))}};function Zg(t,n,a,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!oe(a,o)||!oe(h,m):!0}function ey(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&hd.enqueueReplaceState(n,n.state,null)}function Po(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=L({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ty(t){Ri(t)}function ny(t){console.error(t)}function iy(t){Ri(t)}function kc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fd(t,n,a){return a=js(a),a.tag=3,a.payload={element:null},a.callback=function(){kc(t,n)},a}function ay(t){return t=js(t),t.tag=3,t}function sy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){ry(n,a,o)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){ry(n,a,o),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function O1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ol(n,a,h,!0),a=kr.current,a!==null){switch(a.tag){case 31:case 13:return Jr===null?Xc():a.alternate===null&&Wn===0&&(Wn=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ec?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ld(t,o,h)),!1;case 22:return a.flags|=65536,o===Ec?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ld(t,o,h)),!1}throw Error(s(435,a.tag))}return Ld(t,o,h),Xc(),!1}if(en)return n=kr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Df&&(t=Error(s(422),{cause:o}),au(Qr(t,a)))):(o!==Df&&(n=Error(s(423),{cause:o}),au(Qr(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Qr(o,a),h=fd(t.stateNode,o,h),Ff(t,h),Wn!==4&&(Wn=2)),!1;var m=Error(s(520),{cause:o});if(m=Qr(m,a),Au===null?Au=[m]:Au.push(m),Wn!==4&&(Wn=2),n===null)return!0;o=Qr(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=fd(a.stateNode,o,t),Ff(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ys===null||!Ys.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ay(h),sy(h,t,a,o),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var dd=Error(s(461)),oi=!1;function xi(t,n,a,o){n.child=t===null?cg(n,null,a,o):Vo(n,t.child,a,o)}function oy(t,n,a,o,h){a=a.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return Mo(n),o=Qf(t,n,a,T,m,h),M=Kf(),t!==null&&!oi?(Wf(t,n,h),os(t,n,h)):(en&&M&&xf(n),n.flags|=1,xi(t,n,o,h),n.child)}function ly(t,n,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!Rf(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,uy(t,n,m,o,h)):(t=gc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!wd(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:oe,a(T,o)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ts(m,o),t.ref=n.ref,t.return=n,n.child=t}function uy(t,n,a,o,h){if(t!==null){var m=t.memoizedProps;if(oe(m,o)&&t.ref===n.ref)if(oi=!1,n.pendingProps=o=m,wd(t,h))(t.flags&131072)!==0&&(oi=!0);else return n.lanes=t.lanes,os(t,n,h)}return md(t,n,a,o,h)}function cy(t,n,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return hy(t,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&bc(n,m!==null?m.cachePool:null),m!==null?dg(n,m):qf(),mg(n);else return o=n.lanes=536870912,hy(t,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(bc(n,m.cachePool),dg(n,m),Fs(),n.memoizedState=null):(t!==null&&bc(n,null),qf(),Fs());return xi(t,n,h,a),n.child}function yu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hy(t,n,a,o,h){var m=Uf();return m=m===null?null:{parent:ai._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&bc(n,null),qf(),mg(n),t!==null&&ol(t,n,o,!0),n.childLanes=h,null}function Pc(t,n){return n=Uc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function fy(t,n,a){return Vo(n,t.child,null,a),t=Pc(n,n.pendingProps),t.flags|=2,Pr(n),n.memoizedState=null,t}function V1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(en){if(o.mode==="hidden")return t=Pc(n,o),n.lanes=536870912,yu(null,t);if(Yf(n),(t=kn)?(t=Av(t,$r),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:xa,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},a=Kp(t),a.return=n,n.child=a,Ci=n,kn=null)):t=null,t===null)throw Ps(n);return n.lanes=536870912,null}return Pc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Yf(n),h)if(n.flags&256)n.flags&=-257,n=fy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(oi||ol(t,n,a,!1),h=(a&t.childLanes)!==0,oi||h){if(o=In,o!==null&&(T=Sr(o,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,sr(t,T),Tr(o,t,T),dd;Xc(),n=fy(t,n,a)}else t=m.treeContext,kn=Zr(T.nextSibling),Ci=n,en=!0,ks=null,$r=!1,t!==null&&Jp(n,t),n=Pc(n,o),n.flags|=4096;return n}return t=ts(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Lc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function md(t,n,a,o,h){return Mo(n),a=Qf(t,n,a,o,void 0,h),o=Kf(),t!==null&&!oi?(Wf(t,n,h),os(t,n,h)):(en&&o&&xf(n),n.flags|=1,xi(t,n,a,h),n.child)}function dy(t,n,a,o,h,m){return Mo(n),n.updateQueue=null,a=gg(n,o,a,h),pg(t),o=Kf(),t!==null&&!oi?(Wf(t,n,m),os(t,n,m)):(en&&o&&xf(n),n.flags|=1,xi(t,n,a,m),n.child)}function my(t,n,a,o,h){if(Mo(n),n.stateNode===null){var m=Vr,T=a.contextType;typeof T=="object"&&T!==null&&(m=Ii(T)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=hd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},zf(n),T=a.contextType,m.context=typeof T=="object"&&T!==null?Ii(T):Vr,m.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(cd(n,a,T,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&hd.enqueueReplaceState(m,m.state,null),fu(n,o,m,h),hu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,G=Po(a,M);m.props=G;var le=m.context,_e=a.contextType;T=Vr,typeof _e=="object"&&_e!==null&&(T=Ii(_e));var Te=a.getDerivedStateFromProps;_e=typeof Te=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,_e||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||le!==T)&&ey(n,m,o,T),Us=!1;var ce=n.memoizedState;m.state=ce,fu(n,o,m,h),hu(),le=n.memoizedState,M||ce!==le||Us?(typeof Te=="function"&&(cd(n,a,Te,o),le=n.memoizedState),(G=Us||Zg(n,a,G,o,ce,le,T))?(_e||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=le),m.props=o,m.state=le,m.context=T,o=G):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Bf(t,n),T=n.memoizedProps,_e=Po(a,T),m.props=_e,Te=n.pendingProps,ce=m.context,le=a.contextType,G=Vr,typeof le=="object"&&le!==null&&(G=Ii(le)),M=a.getDerivedStateFromProps,(le=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Te||ce!==G)&&ey(n,m,o,G),Us=!1,ce=n.memoizedState,m.state=ce,fu(n,o,m,h),hu();var ge=n.memoizedState;T!==Te||ce!==ge||Us||t!==null&&t.dependencies!==null&&vc(t.dependencies)?(typeof M=="function"&&(cd(n,a,M,o),ge=n.memoizedState),(_e=Us||Zg(n,a,_e,o,ce,ge,G)||t!==null&&t.dependencies!==null&&vc(t.dependencies))?(le||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ge,G),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ge,G)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ge),m.props=o,m.state=ge,m.context=G,o=_e):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Lc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Vo(n,t.child,null,h),n.child=Vo(n,null,a,h)):xi(t,n,a,h),n.memoizedState=m.state,t=n.child):t=os(t,n,h),t}function py(t,n,a,o){return Io(),n.flags|=256,xi(t,n,a,o),n.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(t){return{baseLanes:t,cachePool:rg()}}function yd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Ur),t}function gy(t,n,a){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ei.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(en){if(h?Bs(n):Fs(),(t=kn)?(t=Av(t,$r),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:xa,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},a=Kp(t),a.return=n,n.child=a,Ci=n,kn=null)):t=null,t===null)throw Ps(n);return Zd(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,h?(Fs(),h=n.mode,M=Uc({mode:"hidden",children:M},h),o=Co(o,h,a,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=gd(a),o.childLanes=yd(t,T,a),n.memoizedState=pd,yu(null,o)):(Bs(n),vd(n,M))}var G=t.memoizedState;if(G!==null&&(M=G.dehydrated,M!==null)){if(m)n.flags&256?(Bs(n),n.flags&=-257,n=_d(t,n,a)):n.memoizedState!==null?(Fs(),n.child=t.child,n.flags|=128,n=null):(Fs(),M=o.fallback,h=n.mode,o=Uc({mode:"visible",children:o.children},h),M=Co(M,h,a,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Vo(n,t.child,null,a),o=n.child,o.memoizedState=gd(a),o.childLanes=yd(t,T,a),n.memoizedState=pd,n=yu(null,o));else if(Bs(n),Zd(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var le=T.dgst;T=le,o=Error(s(419)),o.stack="",o.digest=T,au({value:o,source:null,stack:null}),n=_d(t,n,a)}else if(oi||ol(t,n,a,!1),T=(a&t.childLanes)!==0,oi||T){if(T=In,T!==null&&(o=Sr(T,a),o!==0&&o!==G.retryLane))throw G.retryLane=o,sr(t,o),Tr(T,t,o),dd;Jd(M)||Xc(),n=_d(t,n,a)}else Jd(M)?(n.flags|=192,n.child=t.child,n=null):(t=G.treeContext,kn=Zr(M.nextSibling),Ci=n,en=!0,ks=null,$r=!1,t!==null&&Jp(n,t),n=vd(n,o.children),n.flags|=4096);return n}return h?(Fs(),M=o.fallback,h=n.mode,G=t.child,le=G.sibling,o=ts(G,{mode:"hidden",children:o.children}),o.subtreeFlags=G.subtreeFlags&65011712,le!==null?M=ts(le,M):(M=Co(M,h,a,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,yu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=gd(a):(h=M.cachePool,h!==null?(G=ai._currentValue,h=h.parent!==G?{parent:G,pool:G}:h):h=rg(),M={baseLanes:M.baseLanes|a,cachePool:h}),o.memoizedState=M,o.childLanes=yd(t,T,a),n.memoizedState=pd,yu(t.child,o)):(Bs(n),a=t.child,t=a.sibling,a=ts(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=a,n.memoizedState=null,a)}function vd(t,n){return n=Uc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Uc(t,n){return t=zi(22,t,null,n),t.lanes=0,t}function _d(t,n,a){return Vo(n,t.child,null,a),t=vd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Vf(t.return,n,a)}function bd(t,n,a,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function vy(t,n,a){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=ei.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Se(ei,T),xi(t,n,o,a),o=en?ru:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,a,n);else if(t.tag===19)yy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),bd(n,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Rc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bd(n,!0,a,null,m,o);break;case"together":bd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function os(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ol(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ts(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ts(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function wd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&vc(t)))}function k1(t,n,a){switch(n.tag){case 3:ut(n,n.stateNode.containerInfo),Ls(n,ai,t.memoizedState.cache),Io();break;case 27:case 5:Ct(n);break;case 4:ut(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Bs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gy(t,n,a):(Bs(n),t=os(t,n,a),t!==null?t.sibling:null);Bs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ol(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return vy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Se(ei,ei.current),o)break;return null;case 22:return n.lanes=0,cy(t,n,a,n.pendingProps);case 24:Ls(n,ai,t.memoizedState.cache)}return os(t,n,a)}function _y(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)oi=!0;else{if(!wd(t,a)&&(n.flags&128)===0)return oi=!1,k1(t,n,a);oi=(t.flags&131072)!==0}else oi=!1,en&&(n.flags&1048576)!==0&&$p(n,ru,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=No(n.elementType),n.type=t,typeof t=="function")Rf(t)?(o=Po(t,o),n.tag=1,n=my(null,n,t,o,a)):(n.tag=0,n=md(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ke){n.tag=11,n=oy(null,n,t,o,a);break e}else if(h===F){n.tag=14,n=ly(null,n,t,o,a);break e}}throw n=X(t)||t,Error(s(306,n,""))}}return n;case 0:return md(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Po(o,n.pendingProps),my(t,n,o,h,a);case 3:e:{if(ut(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,Bf(t,n),fu(n,o,null,a);var T=n.memoizedState;if(o=T.cache,Ls(n,ai,o),o!==m.cache&&kf(n,[ai],a,!0),hu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=py(t,n,o,a);break e}else if(o!==h){h=Qr(Error(s(424)),n),au(h),n=py(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(kn=Zr(t.firstChild),Ci=n,en=!0,ks=null,$r=!0,a=cg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Io(),o===h){n=os(t,n,a);break e}xi(t,n,o,a)}n=n.child}return n;case 26:return Lc(t,n),t===null?(a=Mv(n.type,null,n.pendingProps,null))?n.memoizedState=a:en||(a=n.type,t=n.pendingProps,o=eh(Fe.current).createElement(a),o[dn]=n,o[zn]=t,Mi(o,a,t),On(o),n.stateNode=o):n.memoizedState=Mv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ct(n),t===null&&en&&(o=n.stateNode=Cv(n.type,n.pendingProps,Fe.current),Ci=n,$r=!0,h=kn,Ws(n.type)?(em=h,kn=Zr(o.firstChild)):kn=h),xi(t,n,n.pendingProps.children,a),Lc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&en&&((h=o=kn)&&(o=hE(o,n.type,n.pendingProps,$r),o!==null?(n.stateNode=o,Ci=n,kn=Zr(o.firstChild),$r=!1,h=!0):h=!1),h||Ps(n)),Ct(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Kd(h,m)?o=null:T!==null&&Kd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=Qf(t,n,R1,null,null,a),Nu._currentValue=h),Lc(t,n),xi(t,n,o,a),n.child;case 6:return t===null&&en&&((t=a=kn)&&(a=fE(a,n.pendingProps,$r),a!==null?(n.stateNode=a,Ci=n,kn=null,t=!0):t=!1),t||Ps(n)),null;case 13:return gy(t,n,a);case 4:return ut(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Vo(n,null,o,a):xi(t,n,o,a),n.child;case 11:return oy(t,n,n.type,n.pendingProps,a);case 7:return xi(t,n,n.pendingProps,a),n.child;case 8:return xi(t,n,n.pendingProps.children,a),n.child;case 12:return xi(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ls(n,n.type,o.value),xi(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Mo(n),h=Ii(h),o=o(h),n.flags|=1,xi(t,n,o,a),n.child;case 14:return ly(t,n,n.type,n.pendingProps,a);case 15:return uy(t,n,n.type,n.pendingProps,a);case 19:return vy(t,n,a);case 31:return V1(t,n,a);case 22:return cy(t,n,a,n.pendingProps);case 24:return Mo(n),o=Ii(ai),t===null?(h=Uf(),h===null&&(h=In,m=Pf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:o,cache:h},zf(n),Ls(n,ai,h)):((t.lanes&a)!==0&&(Bf(t,n),fu(n,null,null,a),hu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,ai,o)):(o=m.cache,Ls(n,ai,o),o!==h.cache&&kf(n,[ai],a,!0))),xi(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ls(t){t.flags|=4}function Ed(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw Oo=Ec,jf}else t.flags&=-16777217}function by(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kv(n))if(Yy())t.flags|=8192;else throw Oo=Ec,jf}function jc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?gt():536870912,t.lanes|=n,_l|=n)}function vu(t,n){if(!en)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Pn(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function P1(t,n,a){var o=n.pendingProps;switch(Mf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(n),null;case 1:return Pn(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),rs(ai),_t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sl(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nf())),Pn(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(ls(n),m!==null?(Pn(n),by(n,m)):(Pn(n),Ed(n,h,null,o,a))):m?m!==t.memoizedState?(ls(n),Pn(n),by(n,m)):(Pn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ls(n),Pn(n),Ed(n,h,t,o,a)),null;case 27:if(an(n),a=Fe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Pn(n),null}t=Ee.current,sl(n)?Zp(n):(t=Cv(h,o,a),n.stateNode=t,ls(n))}return Pn(n),null;case 5:if(an(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Pn(n),null}if(m=Ee.current,sl(n))Zp(n);else{var T=eh(Fe.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[dn]=n,m[zn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Mi(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ls(n)}}return Pn(n),Ed(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Fe.current,sl(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Ci,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[dn]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||gv(t.nodeValue,a)),t||Ps(n,!0)}else t=eh(t).createTextNode(o),t[dn]=n,n.stateNode=t}return Pn(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=sl(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[dn]=n}else Io(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pn(n),t=!1}else a=Nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Pr(n),n):(Pr(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Pn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=sl(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[dn]=n}else Io(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pn(n),h=!1}else h=Nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pr(n),n):(Pr(n),null)}return Pr(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),jc(n,n.updateQueue),Pn(n),null);case 4:return _t(),t===null&&qd(n.stateNode.containerInfo),Pn(n),null;case 10:return rs(n.type),Pn(n),null;case 19:if(ae(ei),o=n.memoizedState,o===null)return Pn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)vu(o,!1);else{if(Wn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Rc(t),m!==null){for(n.flags|=128,vu(o,!1),t=m.updateQueue,n.updateQueue=t,jc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Qp(a,t),a=a.sibling;return Se(ei,ei.current&1|2),en&&ns(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Ft()>qc&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304)}else{if(!h)if(t=Rc(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,jc(n,t),vu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!en)return Pn(n),null}else 2*Ft()-o.renderingStartTime>qc&&a!==536870912&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ft(),t.sibling=null,a=ei.current,Se(ei,h?a&1|2:a&1),en&&ns(n,o.treeForkCount),t):(Pn(n),null);case 22:case 23:return Pr(n),Gf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Pn(n),n.subtreeFlags&6&&(n.flags|=8192)):Pn(n),a=n.updateQueue,a!==null&&jc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&ae(Do),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),rs(ai),Pn(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function L1(t,n){switch(Mf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(ai),_t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return an(n),null;case 31:if(n.memoizedState!==null){if(Pr(n),n.alternate===null)throw Error(s(340));Io()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Io()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ae(ei),null;case 4:return _t(),null;case 10:return rs(n.type),null;case 22:case 23:return Pr(n),Gf(),t!==null&&ae(Do),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(ai),null;case 25:return null;default:return null}}function wy(t,n){switch(Mf(n),n.tag){case 3:rs(ai),_t();break;case 26:case 27:case 5:an(n);break;case 4:_t();break;case 31:n.memoizedState!==null&&Pr(n);break;case 13:Pr(n);break;case 19:ae(ei);break;case 10:rs(n.type);break;case 22:case 23:Pr(n),Gf(),t!==null&&ae(Do);break;case 24:rs(ai)}}function _u(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,T=a.inst;o=m(),T.destroy=o}a=a.next}while(a!==h)}}catch(M){Tn(n,n.return,M)}}function Hs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,h=n;var G=a,le=M;try{le()}catch(_e){Tn(h,G,_e)}}}o=o.next}while(o!==m)}}catch(_e){Tn(n,n.return,_e)}}function Ey(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{fg(n,a)}catch(o){Tn(t,t.return,o)}}}function Ty(t,n,a){a.props=Po(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Tn(t,n,o)}}function bu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Tn(t,n,h)}}function Da(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Tn(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Tn(t,n,h)}else a.current=null}function Ay(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Tn(t,t.return,h)}}function Td(t,n,a){try{var o=t.stateNode;aE(o,t.type,a,n),o[zn]=n}catch(h){Tn(t,t.return,h)}}function Sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ws(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=cr));else if(o!==4&&(o===27&&Ws(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Sd(t,n,a),t=t.sibling;t!==null;)Sd(t,n,a),t=t.sibling}function zc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ws(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zc(t,n,a),t=t.sibling;t!==null;)zc(t,n,a),t=t.sibling}function Ry(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Mi(n,o,a),n[dn]=t,n[zn]=a}catch(m){Tn(t,t.return,m)}}var us=!1,li=!1,Rd=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,yi=null;function U1(t,n){if(t=t.containerInfo,Xd=oh,t=J(t),je(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,M=-1,G=-1,le=0,_e=0,Te=t,ce=null;t:for(;;){for(var ge;Te!==a||h!==0&&Te.nodeType!==3||(M=T+h),Te!==m||o!==0&&Te.nodeType!==3||(G=T+o),Te.nodeType===3&&(T+=Te.nodeValue.length),(ge=Te.firstChild)!==null;)ce=Te,Te=ge;for(;;){if(Te===t)break t;if(ce===a&&++le===h&&(M=T),ce===m&&++_e===o&&(G=T),(ge=Te.nextSibling)!==null)break;Te=ce,ce=Te.parentNode}Te=ge}a=M===-1||G===-1?null:{start:M,end:G}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:t,selectionRange:a},oh=!1,yi=n;yi!==null;)if(n=yi,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,yi=t;else for(;yi!==null;){switch(n=yi,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var lt=Po(a.type,h);t=o.getSnapshotBeforeUpdate(lt,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(vt){Tn(a,a.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)$d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,yi=t;break}yi=n.return}}function Iy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hs(t,a),o&4&&_u(5,a);break;case 1:if(hs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){Tn(a,a.return,T)}else{var h=Po(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Tn(a,a.return,T)}}o&64&&Ey(a),o&512&&bu(a,a.return);break;case 3:if(hs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{fg(t,n)}catch(T){Tn(a,a.return,T)}}break;case 27:n===null&&o&4&&Ry(a);case 26:case 5:hs(t,a),n===null&&o&4&&Ay(a),o&512&&bu(a,a.return);break;case 12:hs(t,a);break;case 31:hs(t,a),o&4&&Dy(t,a);break;case 13:hs(t,a),o&4&&Ny(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=X1.bind(null,a),dE(t,a))));break;case 22:if(o=a.memoizedState!==null||us,!o){n=n!==null&&n.memoizedState!==null||li,h=us;var m=li;us=o,(li=n)&&!m?fs(t,a,(a.subtreeFlags&8772)!==0):hs(t,a),us=h,li=m}break;case 30:break;default:hs(t,a)}}function xy(t){var n=t.alternate;n!==null&&(t.alternate=null,xy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Fn=null,_r=!1;function cs(t,n,a){for(a=a.child;a!==null;)My(t,n,a),a=a.sibling}function My(t,n,a){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(et,a)}catch{}switch(a.tag){case 26:li||Da(a,n),cs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:li||Da(a,n);var o=Fn,h=_r;Ws(a.type)&&(Fn=a.stateNode,_r=!1),cs(t,n,a),xu(a.stateNode),Fn=o,_r=h;break;case 5:li||Da(a,n);case 6:if(o=Fn,h=_r,Fn=null,cs(t,n,a),Fn=o,_r=h,Fn!==null)if(_r)try{(Fn.nodeType===9?Fn.body:Fn.nodeName==="HTML"?Fn.ownerDocument.body:Fn).removeChild(a.stateNode)}catch(m){Tn(a,n,m)}else try{Fn.removeChild(a.stateNode)}catch(m){Tn(a,n,m)}break;case 18:Fn!==null&&(_r?(t=Fn,Ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):Ev(Fn,a.stateNode));break;case 4:o=Fn,h=_r,Fn=a.stateNode.containerInfo,_r=!0,cs(t,n,a),Fn=o,_r=h;break;case 0:case 11:case 14:case 15:Hs(2,a,n),li||Hs(4,a,n),cs(t,n,a);break;case 1:li||(Da(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,n,o)),cs(t,n,a);break;case 21:cs(t,n,a);break;case 22:li=(o=li)||a.memoizedState!==null,cs(t,n,a),li=o;break;default:cs(t,n,a)}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(a){Tn(n,n.return,a)}}}function Ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){Tn(n,n.return,a)}}function j1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Cy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Cy),n;default:throw Error(s(435,t.tag))}}function Bc(t,n){var a=j1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Q1.bind(null,t,o);o.then(h,h)}})}function br(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(Ws(M.type)){Fn=M.stateNode,_r=!1;break e}break;case 5:Fn=M.stateNode,_r=!1;break e;case 3:case 4:Fn=M.stateNode.containerInfo,_r=!0;break e}M=M.return}if(Fn===null)throw Error(s(160));My(m,T,h),Fn=null,_r=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,t),n=n.sibling}var da=null;function Oy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:br(n,t),wr(t),o&4&&(Hs(3,t,t.return),_u(3,t),Hs(5,t,t.return));break;case 1:br(n,t),wr(t),o&512&&(li||a===null||Da(a,a.return)),o&64&&us&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=da;if(br(n,t),wr(t),o&512&&(li||a===null||Da(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Pi]||m[dn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Mi(m,o,a),m[dn]=t,On(m),o=m;break e;case"link":var T=Ov("link","href",h).get(o+(a.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(M,1);break t}}m=h.createElement(o),Mi(m,o,a),h.head.appendChild(m);break;case"meta":if(T=Ov("meta","content",h).get(o+(a.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(M,1);break t}}m=h.createElement(o),Mi(m,o,a),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[dn]=t,On(m),o=m}t.stateNode=o}else Vv(h,t.type,t.stateNode);else t.stateNode=Nv(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Vv(h,t.type,t.stateNode):Nv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Td(t,t.memoizedProps,a.memoizedProps)}break;case 27:br(n,t),wr(t),o&512&&(li||a===null||Da(a,a.return)),a!==null&&o&4&&Td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(br(n,t),wr(t),o&512&&(li||a===null||Da(a,a.return)),t.flags&32){h=t.stateNode;try{ri(h,"")}catch(lt){Tn(t,t.return,lt)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Td(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Rd=!0);break;case 6:if(br(n,t),wr(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(lt){Tn(t,t.return,lt)}}break;case 3:if(ih=null,h=da,da=th(n.containerInfo),br(n,t),da=h,wr(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(lt){Tn(t,t.return,lt)}Rd&&(Rd=!1,Vy(t));break;case 4:o=da,da=th(t.stateNode.containerInfo),br(n,t),wr(t),da=o;break;case 12:br(n,t),wr(t);break;case 31:br(n,t),wr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Bc(t,o)));break;case 13:br(n,t),wr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hc=Ft()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Bc(t,o)));break;case 22:h=t.memoizedState!==null;var G=a!==null&&a.memoizedState!==null,le=us,_e=li;if(us=le||h,li=_e||G,br(n,t),li=_e,us=le,wr(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||G||us||li||Lo(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){G=a=n;try{if(m=G.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=G.stateNode;var Te=G.memoizedProps.style,ce=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;M.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(lt){Tn(G,G.return,lt)}}}else if(n.tag===6){if(a===null){G=n;try{G.stateNode.nodeValue=h?"":G.memoizedProps}catch(lt){Tn(G,G.return,lt)}}}else if(n.tag===18){if(a===null){G=n;try{var ge=G.stateNode;h?Tv(ge,!0):Tv(G.stateNode,!1)}catch(lt){Tn(G,G.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Bc(t,a))));break;case 19:br(n,t),wr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Bc(t,o)));break;case 30:break;case 21:break;default:br(n,t),wr(t)}}function wr(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Sy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Ad(t);zc(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(ri(T,""),a.flags&=-33);var M=Ad(t);zc(t,M,T);break;case 3:case 4:var G=a.stateNode.containerInfo,le=Ad(t);Sd(t,le,G);break;default:throw Error(s(161))}}catch(_e){Tn(t,t.return,_e)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function Lo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Hs(4,n,n.return),Lo(n);break;case 1:Da(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ty(n,n.return,a),Lo(n);break;case 27:xu(n.stateNode);case 26:case 5:Da(n,n.return),Lo(n);break;case 22:n.memoizedState===null&&Lo(n);break;case 30:Lo(n);break;default:Lo(n)}t=t.sibling}}function fs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:fs(h,m,a),_u(4,m);break;case 1:if(fs(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(le){Tn(o,o.return,le)}if(o=m,h=o.updateQueue,h!==null){var M=o.stateNode;try{var G=h.shared.hiddenCallbacks;if(G!==null)for(h.shared.hiddenCallbacks=null,h=0;h<G.length;h++)hg(G[h],M)}catch(le){Tn(o,o.return,le)}}a&&T&64&&Ey(m),bu(m,m.return);break;case 27:Ry(m);case 26:case 5:fs(h,m,a),a&&o===null&&T&4&&Ay(m),bu(m,m.return);break;case 12:fs(h,m,a);break;case 31:fs(h,m,a),a&&T&4&&Dy(h,m);break;case 13:fs(h,m,a),a&&T&4&&Ny(h,m);break;case 22:m.memoizedState===null&&fs(h,m,a),bu(m,m.return);break;case 30:break;default:fs(h,m,a)}n=n.sibling}}function Cd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&su(a))}function Id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t))}function ma(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ky(t,n,a,o),n=n.sibling}function ky(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ma(t,n,a,o),h&2048&&_u(9,n);break;case 1:ma(t,n,a,o);break;case 3:ma(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t)));break;case 12:if(h&2048){ma(t,n,a,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(G){Tn(n,n.return,G)}}else ma(t,n,a,o);break;case 31:ma(t,n,a,o);break;case 13:ma(t,n,a,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?ma(t,n,a,o):wu(t,n):m._visibility&2?ma(t,n,a,o):(m._visibility|=2,gl(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Cd(T,n);break;case 24:ma(t,n,a,o),h&2048&&Id(n.alternate,n);break;default:ma(t,n,a,o)}}function gl(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=a,G=o,le=T.flags;switch(T.tag){case 0:case 11:case 15:gl(m,T,M,G,h),_u(8,T);break;case 23:break;case 22:var _e=T.stateNode;T.memoizedState!==null?_e._visibility&2?gl(m,T,M,G,h):wu(m,T):(_e._visibility|=2,gl(m,T,M,G,h)),h&&le&2048&&Cd(T.alternate,T);break;case 24:gl(m,T,M,G,h),h&&le&2048&&Id(T.alternate,T);break;default:gl(m,T,M,G,h)}n=n.sibling}}function wu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:wu(a,o),h&2048&&Cd(o.alternate,o);break;case 24:wu(a,o),h&2048&&Id(o.alternate,o);break;default:wu(a,o)}n=n.sibling}}var Eu=8192;function yl(t,n,a){if(t.subtreeFlags&Eu)for(t=t.child;t!==null;)Py(t,n,a),t=t.sibling}function Py(t,n,a){switch(t.tag){case 26:yl(t,n,a),t.flags&Eu&&t.memoizedState!==null&&SE(a,da,t.memoizedState,t.memoizedProps);break;case 5:yl(t,n,a);break;case 3:case 4:var o=da;da=th(t.stateNode.containerInfo),yl(t,n,a),da=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Eu,Eu=16777216,yl(t,n,a),Eu=o):yl(t,n,a));break;default:yl(t,n,a)}}function Ly(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];yi=o,jy(o,t)}Ly(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uy(t),t=t.sibling}function Uy(t){switch(t.tag){case 0:case 11:case 15:Tu(t),t.flags&2048&&Hs(9,t,t.return);break;case 3:Tu(t);break;case 12:Tu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Fc(t)):Tu(t);break;default:Tu(t)}}function Fc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];yi=o,jy(o,t)}Ly(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Hs(8,n,n.return),Fc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(n));break;default:Fc(n)}t=t.sibling}}function jy(t,n){for(;yi!==null;){var a=yi;switch(a.tag){case 0:case 11:case 15:Hs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:su(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,yi=o;else e:for(a=t;yi!==null;){o=yi;var h=o.sibling,m=o.return;if(xy(o),o===a){yi=null;break e}if(h!==null){h.return=m,yi=h;break e}yi=m}}}var z1={getCacheForType:function(t){var n=Ii(ai),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ii(ai).controller.signal}},B1=typeof WeakMap=="function"?WeakMap:Map,pn=0,In=null,Gt=null,Qt=0,En=0,Lr=null,qs=!1,vl=!1,xd=!1,ds=0,Wn=0,Gs=0,Uo=0,Md=0,Ur=0,_l=0,Au=null,Er=null,Dd=!1,Hc=0,zy=0,qc=1/0,Gc=null,Ys=null,mi=0,Xs=null,bl=null,ms=0,Nd=0,Od=null,By=null,Su=0,Vd=null;function jr(){return(pn&2)!==0&&Qt!==0?Qt&-Qt:H.T!==null?zd():va()}function Fy(){if(Ur===0)if((Qt&536870912)===0||en){var t=Yn;Yn<<=1,(Yn&3932160)===0&&(Yn=262144),Ur=t}else Ur=536870912;return t=kr.current,t!==null&&(t.flags|=32),Ur}function Tr(t,n,a){(t===In&&(En===2||En===9)||t.cancelPendingCommit!==null)&&(wl(t,0),Qs(t,Qt,Ur,!1)),St(t,a),((pn&2)===0||t!==In)&&(t===In&&((pn&2)===0&&(Uo|=a),Wn===4&&Qs(t,Qt,Ur,!1)),Na(t))}function Hy(t,n,a){if((pn&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Xn(t,n),h=o?q1(t,n):Pd(t,n,!0),m=o;do{if(h===0){vl&&!o&&Qs(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!F1(a)){h=Pd(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;h=Au;var G=M.current.memoizedState.isDehydrated;if(G&&(wl(M,T).flags|=256),T=Pd(M,T,!1),T!==2){if(xd&&!G){M.errorRecoveryDisabledLanes|=m,Uo|=m,h=4;break e}m=Er,Er=h,m!==null&&(Er===null?Er=m:Er.push.apply(Er,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){wl(t,0),Qs(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,Ur,!qs);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Hc+300-Ft(),10<h)){if(Qs(o,n,Ur,!qs),xn(o,0,!0)!==0)break e;ms=n,o.timeoutHandle=bv(qy.bind(null,o,a,Er,Gc,Dd,n,Ur,Uo,_l,qs,m,"Throttled",-0,0),h);break e}qy(o,a,Er,Gc,Dd,n,Ur,Uo,_l,qs,m,null,-0,0)}}break}while(!0);Na(t)}function qy(t,n,a,o,h,m,T,M,G,le,_e,Te,ce,ge){if(t.timeoutHandle=-1,Te=n.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cr},Py(n,m,Te);var lt=(m&62914560)===m?Hc-Ft():(m&4194048)===m?zy-Ft():0;if(lt=RE(Te,lt),lt!==null){ms=m,t.cancelPendingCommit=lt(Jy.bind(null,t,n,m,a,o,h,T,M,G,_e,Te,null,ce,ge)),Qs(t,m,T,!le);return}}Jy(t,n,m,a,o,h,T,M,G)}function F1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!ue(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(t,n,a,o){n&=~Md,n&=~Uo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-tt(h),T=1<<m;o[m]=-1,h&=~T}a!==0&&Ki(t,a,n)}function Yc(){return(pn&6)===0?(Ru(0),!1):!0}function kd(){if(Gt!==null){if(En===0)var t=Gt.return;else t=Gt,is=xo=null,$f(t),hl=null,lu=0,t=Gt;for(;t!==null;)wy(t.alternate,t),t=t.return;Gt=null}}function wl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,lE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ms=0,kd(),In=t,Gt=a=ts(t.current,null),Qt=n,En=0,Lr=null,qs=!1,vl=Xn(t,n),xd=!1,_l=Ur=Md=Uo=Gs=Wn=0,Er=Au=null,Dd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-tt(o),m=1<<h;n|=t[h],o&=~m}return ds=n,Ca(),a}function Gy(t,n){Nt=null,H.H=gu,n===cl||n===wc?(n=og(),En=3):n===jf?(n=og(),En=4):En=n===dd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Lr=n,Gt===null&&(Wn=1,kc(t,Qr(n,t.current)))}function Yy(){var t=kr.current;return t===null?!0:(Qt&4194048)===Qt?Jr===null:(Qt&62914560)===Qt||(Qt&536870912)!==0?t===Jr:!1}function Xy(){var t=H.H;return H.H=gu,t===null?gu:t}function Qy(){var t=H.A;return H.A=z1,t}function Xc(){Wn=4,qs||(Qt&4194048)!==Qt&&kr.current!==null||(vl=!0),(Gs&134217727)===0&&(Uo&134217727)===0||In===null||Qs(In,Qt,Ur,!1)}function Pd(t,n,a){var o=pn;pn|=2;var h=Xy(),m=Qy();(In!==t||Qt!==n)&&(Gc=null,wl(t,n)),n=!1;var T=Wn;e:do try{if(En!==0&&Gt!==null){var M=Gt,G=Lr;switch(En){case 8:kd(),T=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(n=!0);var le=En;if(En=0,Lr=null,El(t,M,G,le),a&&vl){T=0;break e}break;default:le=En,En=0,Lr=null,El(t,M,G,le)}}H1(),T=Wn;break}catch(_e){Gy(t,_e)}while(!0);return n&&t.shellSuspendCounter++,is=xo=null,pn=o,H.H=h,H.A=m,Gt===null&&(In=null,Qt=0,Ca()),T}function H1(){for(;Gt!==null;)Ky(Gt)}function q1(t,n){var a=pn;pn|=2;var o=Xy(),h=Qy();In!==t||Qt!==n?(Gc=null,qc=Ft()+500,wl(t,n)):vl=Xn(t,n);e:do try{if(En!==0&&Gt!==null){n=Gt;var m=Lr;t:switch(En){case 1:En=0,Lr=null,El(t,n,m,1);break;case 2:case 9:if(ag(m)){En=0,Lr=null,Wy(n);break}n=function(){En!==2&&En!==9||In!==t||(En=7),Na(t)},m.then(n,n);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:ag(m)?(En=0,Lr=null,Wy(n)):(En=0,Lr=null,El(t,n,m,7));break;case 5:var T=null;switch(Gt.tag){case 26:T=Gt.memoizedState;case 5:case 27:var M=Gt;if(T?kv(T):M.stateNode.complete){En=0,Lr=null;var G=M.sibling;if(G!==null)Gt=G;else{var le=M.return;le!==null?(Gt=le,Qc(le)):Gt=null}break t}}En=0,Lr=null,El(t,n,m,5);break;case 6:En=0,Lr=null,El(t,n,m,6);break;case 8:kd(),Wn=6;break e;default:throw Error(s(462))}}G1();break}catch(_e){Gy(t,_e)}while(!0);return is=xo=null,H.H=o,H.A=h,pn=a,Gt!==null?0:(In=null,Qt=0,Ca(),Wn)}function G1(){for(;Gt!==null&&!Yi();)Ky(Gt)}function Ky(t){var n=_y(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?Qc(t):Gt=n}function Wy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=dy(a,n,n.pendingProps,n.type,void 0,Qt);break;case 11:n=dy(a,n,n.pendingProps,n.type.render,n.ref,Qt);break;case 5:$f(n);default:wy(a,n),n=Gt=Qp(n,ds),n=_y(a,n,ds)}t.memoizedProps=t.pendingProps,n===null?Qc(t):Gt=n}function El(t,n,a,o){is=xo=null,$f(n),hl=null,lu=0;var h=n.return;try{if(O1(t,h,n,a,Qt)){Wn=1,kc(t,Qr(a,t.current)),Gt=null;return}}catch(m){if(h!==null)throw Gt=h,m;Wn=1,kc(t,Qr(a,t.current)),Gt=null;return}n.flags&32768?(en||o===1?t=!0:vl||(Qt&536870912)!==0?t=!1:(qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=kr.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,t)):Qc(n)}function Qc(t){var n=t;do{if((n.flags&32768)!==0){$y(n,qs);return}t=n.return;var a=P1(n.alternate,n,ds);if(a!==null){Gt=a;return}if(n=n.sibling,n!==null){Gt=n;return}Gt=n=t}while(n!==null);Wn===0&&(Wn=5)}function $y(t,n){do{var a=L1(t.alternate,t);if(a!==null){a.flags&=32767,Gt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=a}while(t!==null);Wn=6,Gt=null}function Jy(t,n,a,o,h,m,T,M,G){t.cancelPendingCommit=null;do Kc();while(mi!==0);if((pn&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=il,Qi(t,a,m,T,M,G),t===In&&(Gt=In=null,Qt=0),bl=n,Xs=t,ms=a,Nd=m,Od=h,By=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,K1(_,function(){return iv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=Z.p,Z.p=2,T=pn,pn|=4;try{U1(t,n,a)}finally{pn=T,Z.p=h,H.T=o}}mi=1,Zy(),ev(),tv()}}function Zy(){if(mi===1){mi=0;var t=Xs,n=bl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=Z.p;Z.p=2;var h=pn;pn|=4;try{Oy(n,t);var m=Qd,T=J(t.containerInfo),M=m.focusedElem,G=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&st(M.ownerDocument.documentElement,M)){if(G!==null&&je(M)){var le=G.start,_e=G.end;if(_e===void 0&&(_e=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(_e,M.value.length);else{var Te=M.ownerDocument||document,ce=Te&&Te.defaultView||window;if(ce.getSelection){var ge=ce.getSelection(),lt=M.textContent.length,vt=Math.min(G.start,lt),Cn=G.end===void 0?vt:Math.min(G.end,lt);!ge.extend&&vt>Cn&&(T=Cn,Cn=vt,vt=T);var ee=$e(M,vt),Q=$e(M,Cn);if(ee&&Q&&(ge.rangeCount!==1||ge.anchorNode!==ee.node||ge.anchorOffset!==ee.offset||ge.focusNode!==Q.node||ge.focusOffset!==Q.offset)){var se=Te.createRange();se.setStart(ee.node,ee.offset),ge.removeAllRanges(),vt>Cn?(ge.addRange(se),ge.extend(Q.node,Q.offset)):(se.setEnd(Q.node,Q.offset),ge.addRange(se))}}}}for(Te=[],ge=M;ge=ge.parentNode;)ge.nodeType===1&&Te.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Te.length;M++){var we=Te[M];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}oh=!!Xd,Qd=Xd=null}finally{pn=h,Z.p=o,H.T=a}}t.current=n,mi=2}}function ev(){if(mi===2){mi=0;var t=Xs,n=bl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=Z.p;Z.p=2;var h=pn;pn|=4;try{Iy(t,n.alternate,n)}finally{pn=h,Z.p=o,H.T=a}}mi=3}}function tv(){if(mi===4||mi===3){mi=0,Un();var t=Xs,n=bl,a=ms,o=By;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mi=5:(mi=0,bl=Xs=null,nv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),Xe(a),n=n.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(et,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=Z.p,Z.p=2,H.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{H.T=n,Z.p=h}}(ms&3)!==0&&Kc(),Na(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Vd?Su++:(Su=0,Vd=t):Su=0,Ru(0)}}function nv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,su(n)))}function Kc(){return Zy(),ev(),tv(),iv()}function iv(){if(mi!==5)return!1;var t=Xs,n=Nd;Nd=0;var a=Xe(ms),o=H.T,h=Z.p;try{Z.p=32>a?32:a,H.T=null,a=Od,Od=null;var m=Xs,T=ms;if(mi=0,bl=Xs=null,ms=0,(pn&6)!==0)throw Error(s(331));var M=pn;if(pn|=4,Uy(m.current),ky(m,m.current,T,a),pn=M,Ru(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(et,m)}catch{}return!0}finally{Z.p=h,H.T=o,nv(t,n)}}function rv(t,n,a){n=Qr(a,n),n=fd(t.stateNode,n,2),t=zs(t,n,2),t!==null&&(St(t,2),Na(t))}function Tn(t,n,a){if(t.tag===3)rv(t,t,a);else for(;n!==null;){if(n.tag===3){rv(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ys===null||!Ys.has(o))){t=Qr(a,t),a=ay(2),o=zs(n,a,2),o!==null&&(sy(a,o,n,t),St(o,2),Na(o));break}}n=n.return}}function Ld(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new B1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(xd=!0,h.add(a),t=Y1.bind(null,t,n,a),n.then(t,t))}function Y1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,In===t&&(Qt&a)===a&&(Wn===4||Wn===3&&(Qt&62914560)===Qt&&300>Ft()-Hc?(pn&2)===0&&wl(t,0):Md|=a,_l===Qt&&(_l=0)),Na(t)}function av(t,n){n===0&&(n=gt()),t=sr(t,n),t!==null&&(St(t,n),Na(t))}function X1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),av(t,a)}function Q1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),av(t,a)}function K1(t,n){return fn(t,n)}var Wc=null,Tl=null,Ud=!1,$c=!1,jd=!1,Ks=0;function Na(t){t!==Tl&&t.next===null&&(Tl===null?Wc=Tl=t:Tl=Tl.next=t),$c=!0,Ud||(Ud=!0,$1())}function Ru(t,n){if(!jd&&$c){jd=!0;do for(var a=!1,o=Wc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-tt(42|t)+1)-1,m&=h&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,uv(o,m))}else m=Qt,m=xn(o,o===In?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Xn(o,m)||(a=!0,uv(o,m));o=o.next}while(a);jd=!1}}function W1(){sv()}function sv(){$c=Ud=!1;var t=0;Ks!==0&&oE()&&(t=Ks);for(var n=Ft(),a=null,o=Wc;o!==null;){var h=o.next,m=ov(o,n);m===0?(o.next=null,a===null?Wc=h:a.next=h,h===null&&(Tl=a)):(a=o,(t!==0||(m&3)!==0)&&($c=!0)),o=h}mi!==0&&mi!==5||Ru(t),Ks!==0&&(Ks=0)}function ov(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-tt(m),M=1<<T,G=h[T];G===-1?((M&a)===0||(M&o)!==0)&&(h[T]=Xi(M,n)):G<=n&&(t.expiredLanes|=M),m&=~M}if(n=In,a=Qt,a=xn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(En===2||En===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&tn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&tn(o),Xe(a)){case 2:case 8:a=g;break;case 32:a=_;break;case 268435456:a=K;break;default:a=_}return o=lv.bind(null,t),a=fn(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&tn(o),t.callbackPriority=2,t.callbackNode=null,2}function lv(t,n){if(mi!==0&&mi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Kc()&&t.callbackNode!==a)return null;var o=Qt;return o=xn(t,t===In?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Hy(t,o,n),ov(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?lv.bind(null,t):null)}function uv(t,n){if(Kc())return null;Hy(t,n,!0)}function $1(){uE(function(){(pn&6)!==0?fn(R,W1):sv()})}function zd(){if(Ks===0){var t=ll;t===0&&(t=jn,jn<<=1,(jn&261888)===0&&(jn=256)),Ks=t}return Ks}function cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function hv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function J1(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var m=cv((h[zn]||null).action),T=o.submitter;T&&(n=(n=T[zn]||null)?cv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new Yr("action","action",null,o,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var G=T?hv(h,T):new FormData(h);sd(a,{pending:!0,data:G,method:h.method,action:m},null,G)}}else typeof m=="function"&&(M.preventDefault(),G=T?hv(h,T):new FormData(h),sd(a,{pending:!0,data:G,method:h.method,action:m},m,G))},currentTarget:h}]})}}for(var Bd=0;Bd<ar.length;Bd++){var Fd=ar[Bd],Z1=Fd.toLowerCase(),eE=Fd[0].toUpperCase()+Fd.slice(1);_n(Z1,"on"+eE)}_n(Ne,"onAnimationEnd"),_n(Ge,"onAnimationIteration"),_n(Ut,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(Xt,"onTransitionRun"),_n(Mt,"onTransitionStart"),_n(qt,"onTransitionCancel"),_n(nn,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function fv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],G=M.instance,le=M.currentTarget;if(M=M.listener,G!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(_e){Ri(_e)}h.currentTarget=null,m=G}else for(T=0;T<o.length;T++){if(M=o[T],G=M.instance,le=M.currentTarget,M=M.listener,G!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(_e){Ri(_e)}h.currentTarget=null,m=G}}}}function Yt(t,n){var a=n[Rr];a===void 0&&(a=n[Rr]=new Set);var o=t+"__bubble";a.has(o)||(dv(n,t,2,!1),a.add(o))}function Hd(t,n,a){var o=0;n&&(o|=4),dv(a,t,o,n)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[Jc]){t[Jc]=!0,sa.forEach(function(a){a!=="selectionchange"&&(tE.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Jc]||(n[Jc]=!0,Hd("selectionchange",!1,n))}}function dv(t,n,a,o){switch(Fv(n)){case 2:var h=xE;break;case 8:h=ME;break;default:h=am}a=h.bind(null,n,a,t),h=void 0,!qr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Gd(t,n,a,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===h)break;if(T===4)for(T=o.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;M!==null;){if(T=Ji(M),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){o=m=T;continue e}M=M.parentNode}}o=o.return}mr(function(){var le=m,_e=hr(a),Te=[];e:{var ce=on.get(t);if(ce!==void 0){var ge=Yr,lt=t;switch(t){case"keypress":if(ua(a)===0)break e;case"keydown":case"keyup":ge=Ao;break;case"focusin":lt="focus",ge=Sa;break;case"focusout":lt="blur",ge=Sa;break;case"beforeblur":case"afterblur":ge=Sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Wo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=y;break;case Ne:case Ge:case Ut:ge=$o;break;case nn:ge=O;break;case"scroll":case"scrollend":ge=To;break;case"wheel":ge=de;break;case"copy":case"cut":case"paste":ge=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ha;break;case"toggle":case"beforetoggle":ge=At}var vt=(n&4)!==0,Cn=!vt&&(t==="scroll"||t==="scrollend"),ee=vt?ce!==null?ce+"Capture":null:ce;vt=[];for(var Q=le,se;Q!==null;){var we=Q;if(se=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||se===null||ee===null||(we=Ai(Q,ee),we!=null&&vt.push(Iu(Q,we,se))),Cn)break;Q=Q.return}0<vt.length&&(ce=new ge(ce,lt,null,a,_e),Te.push({event:ce,listeners:vt}))}}if((n&7)===0){e:{if(ce=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",ce&&a!==Is&&(lt=a.relatedTarget||a.fromElement)&&(Ji(lt)||lt[$i]))break e;if((ge||ce)&&(ce=_e.window===_e?_e:(ce=_e.ownerDocument)?ce.defaultView||ce.parentWindow:window,ge?(lt=a.relatedTarget||a.toElement,ge=le,lt=lt?Ji(lt):null,lt!==null&&(Cn=c(lt),vt=lt.tag,lt!==Cn||vt!==5&&vt!==27&&vt!==6)&&(lt=null)):(ge=null,lt=le),ge!==lt)){if(vt=xs,we="onMouseLeave",ee="onMouseEnter",Q="mouse",(t==="pointerout"||t==="pointerover")&&(vt=ha,we="onPointerLeave",ee="onPointerEnter",Q="pointer"),Cn=ge==null?ce:wi(ge),se=lt==null?ce:wi(lt),ce=new vt(we,Q+"leave",ge,a,_e),ce.target=Cn,ce.relatedTarget=se,we=null,Ji(_e)===le&&(vt=new vt(ee,Q+"enter",lt,a,_e),vt.target=se,vt.relatedTarget=Cn,we=vt),Cn=we,ge&&lt)t:{for(vt=nE,ee=ge,Q=lt,se=0,we=ee;we;we=vt(we))se++;we=0;for(var mt=Q;mt;mt=vt(mt))we++;for(;0<se-we;)ee=vt(ee),se--;for(;0<we-se;)Q=vt(Q),we--;for(;se--;){if(ee===Q||Q!==null&&ee===Q.alternate){vt=ee;break t}ee=vt(ee),Q=vt(Q)}vt=null}else vt=null;ge!==null&&mv(Te,ce,ge,vt,!1),lt!==null&&Cn!==null&&mv(Te,Cn,lt,vt,!0)}}e:{if(ce=le?wi(le):window,ge=ce.nodeName&&ce.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ce.type==="file")var cn=tu;else if(eu(ce))if(nu)cn=W;else{cn=D;var ct=S}else ge=ce.nodeName,!ge||ge.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&Ga(le.elementType)&&(cn=tu):cn=j;if(cn&&(cn=cn(t,le))){Vn(Te,cn,a,_e);break e}ct&&ct(t,ce,le),t==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&Ti(ce,"number",ce.value)}switch(ct=le?wi(le):window,t){case"focusin":(eu(ct)||ct.contentEditable==="true")&&(ze=ct,un=le,Je=null);break;case"focusout":Je=un=ze=null;break;case"mousedown":Lt=!0;break;case"contextmenu":case"mouseup":case"dragend":Lt=!1,vn(Te,a,_e);break;case"selectionchange":if(nt)break;case"keydown":case"keyup":vn(Te,a,_e)}var Vt;if(sn)e:{switch(t){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else $a?Xr(t,a)&&(Kt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Kt="onCompositionStart");Kt&&(gr&&a.locale!=="ko"&&($a||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&$a&&(Vt=Ta()):(Gr=_e,Ui="value"in Gr?Gr.value:Gr.textContent,$a=!0)),ct=Zc(le,Kt),0<ct.length&&(Kt=new Nr(Kt,t,null,a,_e),Te.push({event:Kt,listeners:ct}),Vt?Kt.data=Vt:(Vt=Wa(a),Vt!==null&&(Kt.data=Vt)))),(Vt=ji?Af(t,a):mc(t,a))&&(Kt=Zc(le,"onBeforeInput"),0<Kt.length&&(ct=new Nr("onBeforeInput","beforeinput",null,a,_e),Te.push({event:ct,listeners:Kt}),ct.data=Vt)),J1(Te,t,le,a,_e)}fv(Te,n)})}function Iu(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Zc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ai(t,a),h!=null&&o.unshift(Iu(t,h,m)),h=Ai(t,n),h!=null&&o.push(Iu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function nE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mv(t,n,a,o,h){for(var m=n._reactName,T=[];a!==null&&a!==o;){var M=a,G=M.alternate,le=M.stateNode;if(M=M.tag,G!==null&&G===o)break;M!==5&&M!==26&&M!==27||le===null||(G=le,h?(le=Ai(a,m),le!=null&&T.unshift(Iu(a,le,G))):h||(le=Ai(a,m),le!=null&&T.push(Iu(a,le,G)))),a=a.return}T.length!==0&&t.push({event:n,listeners:T})}var iE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function pv(t){return(typeof t=="string"?t:""+t).replace(iE,`
`).replace(rE,"")}function gv(t,n){return n=pv(n),pv(t)===n}function Rn(t,n,a,o,h,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ri(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ri(t,""+o);break;case"className":pe(t,"class",o);break;case"tabIndex":pe(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pe(t,a,o);break;case"style":Cr(t,o,m);break;case"data":if(n!=="object"){pe(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Rn(t,n,"name",h.name,h,null),Rn(t,n,"formEncType",h.formEncType,h,null),Rn(t,n,"formMethod",h.formMethod,h,null),Rn(t,n,"formTarget",h.formTarget,h,null)):(Rn(t,n,"encType",h.encType,h,null),Rn(t,n,"method",h.method,h,null),Rn(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=cr);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Yt("beforetoggle",t),Yt("toggle",t),he(t,"popover",o);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":he(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wa.get(a)||a,he(t,a,o))}}function Yd(t,n,a,o,h,m){switch(a){case"style":Cr(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ri(t,o):(typeof o=="number"||typeof o=="bigint")&&ri(t,""+o);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=t[zn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):he(t,a,o)}}}function Mi(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",t),Yt("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Rn(t,n,m,T,a,null)}}h&&Rn(t,n,"srcSet",a.srcSet,a,null),o&&Rn(t,n,"src",a.src,a,null);return;case"input":Yt("invalid",t);var M=m=T=h=null,G=null,le=null;for(o in a)if(a.hasOwnProperty(o)){var _e=a[o];if(_e!=null)switch(o){case"name":h=_e;break;case"type":T=_e;break;case"checked":G=_e;break;case"defaultChecked":le=_e;break;case"value":m=_e;break;case"defaultValue":M=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,n));break;default:Rn(t,n,o,_e,a,null)}}Zi(t,m,M,G,le,T,h,!1);return;case"select":Yt("invalid",t),o=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(M=a[h],M!=null))switch(h){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:Rn(t,n,h,M,a,null)}n=m,a=T,t.multiple=!!o,n!=null?Ot(t,!!o,n,!1):a!=null&&Ot(t,!!o,a,!0);return;case"textarea":Yt("invalid",t),m=h=o=null;for(T in a)if(a.hasOwnProperty(T)&&(M=a[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":h=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Rn(t,n,T,M,a,null)}Hr(t,o,h,m);return;case"option":for(G in a)if(a.hasOwnProperty(G)&&(o=a[G],o!=null))switch(G){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Rn(t,n,G,o,a,null)}return;case"dialog":Yt("beforetoggle",t),Yt("toggle",t),Yt("cancel",t),Yt("close",t);break;case"iframe":case"object":Yt("load",t);break;case"video":case"audio":for(o=0;o<Cu.length;o++)Yt(Cu[o],t);break;case"image":Yt("error",t),Yt("load",t);break;case"details":Yt("toggle",t);break;case"embed":case"source":case"link":Yt("error",t),Yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in a)if(a.hasOwnProperty(le)&&(o=a[le],o!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Rn(t,n,le,o,a,null)}return;default:if(Ga(n)){for(_e in a)a.hasOwnProperty(_e)&&(o=a[_e],o!==void 0&&Yd(t,n,_e,o,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!=null&&Rn(t,n,M,o,a,null))}function aE(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,M=null,G=null,le=null,_e=null;for(ge in a){var Te=a[ge];if(a.hasOwnProperty(ge)&&Te!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":G=Te;default:o.hasOwnProperty(ge)||Rn(t,n,ge,null,o,Te)}}for(var ce in o){var ge=o[ce];if(Te=a[ce],o.hasOwnProperty(ce)&&(ge!=null||Te!=null))switch(ce){case"type":m=ge;break;case"name":h=ge;break;case"checked":le=ge;break;case"defaultChecked":_e=ge;break;case"value":T=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,n));break;default:ge!==Te&&Rn(t,n,ce,ge,o,Te)}}yn(t,T,M,G,le,_e,m,h);return;case"select":ge=T=M=ce=null;for(m in a)if(G=a[m],a.hasOwnProperty(m)&&G!=null)switch(m){case"value":break;case"multiple":ge=G;default:o.hasOwnProperty(m)||Rn(t,n,m,null,o,G)}for(h in o)if(m=o[h],G=a[h],o.hasOwnProperty(h)&&(m!=null||G!=null))switch(h){case"value":ce=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==G&&Rn(t,n,h,m,o,G)}n=M,a=T,o=ge,ce!=null?Ot(t,!!a,ce,!1):!!o!=!!a&&(n!=null?Ot(t,!!a,n,!0):Ot(t,!!a,a?[]:"",!1));return;case"textarea":ge=ce=null;for(M in a)if(h=a[M],a.hasOwnProperty(M)&&h!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Rn(t,n,M,null,o,h)}for(T in o)if(h=o[T],m=a[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":ce=h;break;case"defaultValue":ge=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Rn(t,n,T,h,o,m)}ba(t,ce,ge);return;case"option":for(var lt in a)if(ce=a[lt],a.hasOwnProperty(lt)&&ce!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Rn(t,n,lt,null,o,ce)}for(G in o)if(ce=o[G],ge=a[G],o.hasOwnProperty(G)&&ce!==ge&&(ce!=null||ge!=null))switch(G){case"selected":t.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Rn(t,n,G,ce,o,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)ce=a[vt],a.hasOwnProperty(vt)&&ce!=null&&!o.hasOwnProperty(vt)&&Rn(t,n,vt,null,o,ce);for(le in o)if(ce=o[le],ge=a[le],o.hasOwnProperty(le)&&ce!==ge&&(ce!=null||ge!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,n));break;default:Rn(t,n,le,ce,o,ge)}return;default:if(Ga(n)){for(var Cn in a)ce=a[Cn],a.hasOwnProperty(Cn)&&ce!==void 0&&!o.hasOwnProperty(Cn)&&Yd(t,n,Cn,void 0,o,ce);for(_e in o)ce=o[_e],ge=a[_e],!o.hasOwnProperty(_e)||ce===ge||ce===void 0&&ge===void 0||Yd(t,n,_e,ce,o,ge);return}}for(var ee in a)ce=a[ee],a.hasOwnProperty(ee)&&ce!=null&&!o.hasOwnProperty(ee)&&Rn(t,n,ee,null,o,ce);for(Te in o)ce=o[Te],ge=a[Te],!o.hasOwnProperty(Te)||ce===ge||ce==null&&ge==null||Rn(t,n,Te,ce,o,ge)}function yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,T=h.initiatorType,M=h.duration;if(m&&M&&yv(T)){for(T=0,M=h.responseEnd,o+=1;o<a.length;o++){var G=a[o],le=G.startTime;if(le>M)break;var _e=G.transferSize,Te=G.initiatorType;_e&&yv(Te)&&(G=G.responseEnd,T+=_e*(G<M?1:(M-le)/(G-le)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xd=null,Qd=null;function eh(t){return t.nodeType===9?t:t.ownerDocument}function vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Kd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wd=null;function oE(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var bv=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,uE=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(cE)}:bv;function cE(t){setTimeout(function(){throw t})}function Ws(t){return t==="head"}function Ev(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Cl(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")xu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xu(a);for(var m=a.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[Pi]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&xu(t.ownerDocument.body);a=h}while(a);Cl(n)}function Tv(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function $d(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),bi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function hE(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Pi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Zr(t.nextSibling),t===null)break}return null}function fE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zr(t.nextSibling),t===null))return null;return t}function Av(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zr(t.nextSibling),t===null))return null;return t}function Jd(t){return t.data==="$?"||t.data==="$~"}function Zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function dE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Zr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var em=null;function Sv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Zr(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Rv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Cv(t,n,a){switch(n=eh(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);bi(t)}var ea=new Map,Iv=new Set;function th(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=Z.d;Z.d={f:mE,r:pE,D:gE,C:yE,L:vE,m:_E,X:wE,S:bE,M:EE};function mE(){var t=ps.f(),n=Yc();return t||n}function pE(t){var n=Qn(t);n!==null&&n.tag===5&&n.type==="form"?Gg(n):ps.r(t)}var Al=typeof document>"u"?null:document;function xv(t,n,a){var o=Al;if(o&&typeof n=="string"&&n){var h=Pt(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Iv.has(h)||(Iv.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Mi(n,"link",t),On(n),o.head.appendChild(n)))}}function gE(t){ps.D(t),xv("dns-prefetch",t,null)}function yE(t,n){ps.C(t,n),xv("preconnect",t,n)}function vE(t,n,a){ps.L(t,n,a);var o=Al;if(o&&t&&n){var h='link[rel="preload"][as="'+Pt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Pt(a.imageSizes)+'"]')):h+='[href="'+Pt(t)+'"]';var m=h;switch(n){case"style":m=Sl(t);break;case"script":m=Rl(t)}ea.has(m)||(t=L({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ea.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Mu(m))||n==="script"&&o.querySelector(Du(m))||(n=o.createElement("link"),Mi(n,"link",t),On(n),o.head.appendChild(n)))}}function _E(t,n){ps.m(t,n);var a=Al;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Pt(o)+'"][href="'+Pt(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Rl(t)}if(!ea.has(m)&&(t=L({rel:"modulepreload",href:t},n),ea.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Du(m)))return}o=a.createElement("link"),Mi(o,"link",t),On(o),a.head.appendChild(o)}}}function bE(t,n,a){ps.S(t,n,a);var o=Al;if(o&&t){var h=Li(o).hoistableStyles,m=Sl(t);n=n||"default";var T=h.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Mu(m)))M.loading=5;else{t=L({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ea.get(m))&&tm(t,a);var G=T=o.createElement("link");On(G),Mi(G,"link",t),G._p=new Promise(function(le,_e){G.onload=le,G.onerror=_e}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,nh(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},h.set(m,T)}}}function wE(t,n){ps.X(t,n);var a=Al;if(a&&t){var o=Li(a).hoistableScripts,h=Rl(t),m=o.get(h);m||(m=a.querySelector(Du(h)),m||(t=L({src:t,async:!0},n),(n=ea.get(h))&&nm(t,n),m=a.createElement("script"),On(m),Mi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function EE(t,n){ps.M(t,n);var a=Al;if(a&&t){var o=Li(a).hoistableScripts,h=Rl(t),m=o.get(h);m||(m=a.querySelector(Du(h)),m||(t=L({src:t,async:!0,type:"module"},n),(n=ea.get(h))&&nm(t,n),m=a.createElement("script"),On(m),Mi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Mv(t,n,a,o){var h=(h=Fe.current)?th(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Sl(a.href),a=Li(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Sl(a.href);var m=Li(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Mu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),ea.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ea.set(t,a),m||TE(h,t,a,T.state))),n&&o===null)throw Error(s(528,""));return T}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rl(a),a=Li(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Sl(t){return'href="'+Pt(t)+'"'}function Mu(t){return'link[rel="stylesheet"]['+t+"]"}function Dv(t){return L({},t,{"data-precedence":t.precedence,precedence:null})}function TE(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Mi(n,"link",a),On(n),t.head.appendChild(n))}function Rl(t){return'[src="'+Pt(t)+'"]'}function Du(t){return"script[async]"+t}function Nv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Pt(a.href)+'"]');if(o)return n.instance=o,On(o),o;var h=L({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),On(o),Mi(o,"style",h),nh(o,a.precedence,t),n.instance=o;case"stylesheet":h=Sl(a.href);var m=t.querySelector(Mu(h));if(m)return n.state.loading|=4,n.instance=m,On(m),m;o=Dv(a),(h=ea.get(h))&&tm(o,h),m=(t.ownerDocument||t).createElement("link"),On(m);var T=m;return T._p=new Promise(function(M,G){T.onload=M,T.onerror=G}),Mi(m,"link",o),n.state.loading|=4,nh(m,a.precedence,t),n.instance=m;case"script":return m=Rl(a.src),(h=t.querySelector(Du(m)))?(n.instance=h,On(h),h):(o=a,(h=ea.get(m))&&(o=L({},a),nm(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),On(h),Mi(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,nh(o,a.precedence,t));return n.instance}function nh(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function tm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function nm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ih=null;function Ov(t,n,a){if(ih===null){var o=new Map,h=ih=new Map;h.set(a,o)}else h=ih,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[Pi]||m[dn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function Vv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function AE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function SE(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Sl(o.href),m=n.querySelector(Mu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=rh.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=m,On(m);return}m=n.ownerDocument||n,o=Dv(o),(h=ea.get(h))&&tm(o,h),m=m.createElement("link"),On(m);var T=m;T._p=new Promise(function(M,G){T.onload=M,T.onerror=G}),Mi(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=rh.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var im=0;function RE(t,n){return t.stylesheets&&t.count===0&&sh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&sh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&im===0&&(im=62500*sE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&sh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>im?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function rh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ah=null;function sh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ah=new Map,n.forEach(CE,t),ah=null,rh.call(t))}function CE(t,n){if(!(n.state.loading&4)){var a=ah.get(t);if(a)var o=a.get(null);else{a=new Map,ah.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),o=T)}o&&a.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||o,m===o&&a.set(null,h),a.set(T,h),this.count++,o=rh.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Nu={$$typeof:qe,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function IE(t,n,a,o,h,m,T,M,G){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Pv(t,n,a,o,h,m,T,M,G,le,_e,Te){return t=new IE(t,n,a,T,G,le,_e,Te,M),n=1,m===!0&&(n|=24),m=zi(3,null,null,n),t.current=m,m.stateNode=t,n=Pf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},zf(m),t}function Lv(t){return t?(t=Vr,t):Vr}function Uv(t,n,a,o,h,m){h=Lv(h),o.context===null?o.context=h:o.pendingContext=h,o=js(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=zs(t,o,n),a!==null&&(Tr(a,t,n),cu(a,t,n))}function jv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function rm(t,n){jv(t,n),(t=t.alternate)&&jv(t,n)}function zv(t){if(t.tag===13||t.tag===31){var n=sr(t,67108864);n!==null&&Tr(n,t,67108864),rm(t,67108864)}}function Bv(t){if(t.tag===13||t.tag===31){var n=jr();n=lr(n);var a=sr(t,n);a!==null&&Tr(a,t,n),rm(t,n)}}var oh=!0;function xE(t,n,a,o){var h=H.T;H.T=null;var m=Z.p;try{Z.p=2,am(t,n,a,o)}finally{Z.p=m,H.T=h}}function ME(t,n,a,o){var h=H.T;H.T=null;var m=Z.p;try{Z.p=8,am(t,n,a,o)}finally{Z.p=m,H.T=h}}function am(t,n,a,o){if(oh){var h=sm(o);if(h===null)Gd(t,n,o,lh,a),Hv(t,o);else if(NE(h,t,n,a,o))o.stopPropagation();else if(Hv(t,o),n&4&&-1<DE.indexOf(t)){for(;h!==null;){var m=Qn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=An(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var G=1<<31-tt(T);M.entanglements[1]|=G,T&=~G}Na(m),(pn&6)===0&&(qc=Ft()+500,Ru(0))}}break;case 31:case 13:M=sr(m,2),M!==null&&Tr(M,m,2),Yc(),rm(m,2)}if(m=sm(o),m===null&&Gd(t,n,o,lh,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else Gd(t,n,o,null,a)}}function sm(t){return t=hr(t),om(t)}var lh=null;function om(t){if(lh=null,t=Ji(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=b(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return lh=t,null}function Fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case R:return 2;case g:return 8;case _:case N:return 32;case K:return 268435456;default:return 32}default:return 32}}var lm=!1,$s=null,Js=null,Zs=null,Ou=new Map,Vu=new Map,eo=[],DE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hv(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Ou.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(n.pointerId)}}function ku(t,n,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Qn(n),n!==null&&zv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function NE(t,n,a,o,h){switch(n){case"focusin":return $s=ku($s,t,n,a,o,h),!0;case"dragenter":return Js=ku(Js,t,n,a,o,h),!0;case"mouseover":return Zs=ku(Zs,t,n,a,o,h),!0;case"pointerover":var m=h.pointerId;return Ou.set(m,ku(Ou.get(m)||null,t,n,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Vu.set(m,ku(Vu.get(m)||null,t,n,a,o,h)),!0}return!1}function qv(t){var n=Ji(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,Wi(t.priority,function(){Bv(a)});return}}else if(n===31){if(n=b(a),n!==null){t.blockedOn=n,Wi(t.priority,function(){Bv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uh(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Is=o,a.target.dispatchEvent(o),Is=null}else return n=Qn(a),n!==null&&zv(n),t.blockedOn=a,!1;n.shift()}return!0}function Gv(t,n,a){uh(t)&&a.delete(n)}function OE(){lm=!1,$s!==null&&uh($s)&&($s=null),Js!==null&&uh(Js)&&(Js=null),Zs!==null&&uh(Zs)&&(Zs=null),Ou.forEach(Gv),Vu.forEach(Gv)}function ch(t,n){t.blockedOn===n&&(t.blockedOn=null,lm||(lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OE)))}var hh=null;function Yv(t){hh!==t&&(hh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hh===t&&(hh=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(om(o||a)===null)continue;break}var m=Qn(a);m!==null&&(t.splice(n,3),n-=3,sd(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Cl(t){function n(G){return ch(G,t)}$s!==null&&ch($s,t),Js!==null&&ch(Js,t),Zs!==null&&ch(Zs,t),Ou.forEach(n),Vu.forEach(n);for(var a=0;a<eo.length;a++){var o=eo[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<eo.length&&(a=eo[0],a.blockedOn===null);)qv(a),a.blockedOn===null&&eo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],T=h[zn]||null;if(typeof m=="function")T||Yv(a);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[zn]||null)M=T.formAction;else if(om(h)!==null)continue}else M=T.action;typeof M=="function"?a[o+1]=M:(a.splice(o,3),o-=3),Yv(a)}}}function Xv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function um(t){this._internalRoot=t}fh.prototype.render=um.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=jr();Uv(a,o,t,n,null,null)},fh.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Uv(t.current,2,null,t,null,null),Yc(),n[$i]=null}};function fh(t){this._internalRoot=t}fh.prototype.unstable_scheduleHydration=function(t){if(t){var n=va();t={blockedOn:null,target:t,priority:n};for(var a=0;a<eo.length&&n!==0&&n<eo[a].priority;a++);eo.splice(a,0,t),a===0&&qv(t)}};var Qv=e.version;if(Qv!=="19.2.0")throw Error(s(527,Qv,"19.2.0"));Z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=E(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var VE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{et=dh.inject(VE),at=dh}catch{}}return Lu.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=ty,m=ny,T=iy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Pv(t,1,!1,null,null,a,o,null,h,m,T,Xv),t[$i]=n.current,qd(t),new um(n)},Lu.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",m=ty,T=ny,M=iy,G=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(G=a.formState)),n=Pv(t,1,!0,n,a??null,o,h,G,m,T,M,Xv),n.context=Lv(null),a=n.current,o=jr(),o=lr(o),h=js(o),h.callback=null,zs(a,h,o),a=o,n.current.lanes=a,St(n,a),Na(n),t[$i]=n.current,qd(t),new fh(n)},Lu.version="19.2.0",Lu}var r_;function qE(){if(r_)return fm.exports;r_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=HE(),fm.exports}var GE=qE();const YE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),a_=r=>{const e=XE(r);return e.charAt(0).toUpperCase()+e.slice(1)},X0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),QE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var KE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WE=dt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},w)=>dt.createElement("svg",{ref:w,...KE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:X0("lucide",l),...!c&&!QE(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,x])=>dt.createElement(E,x)),...Array.isArray(c)?c:[c]]));const $n=(r,e)=>{const i=dt.forwardRef(({className:s,...l},c)=>dt.createElement(WE,{ref:c,iconNode:e,className:X0(`lucide-${YE(a_(r))}`,`lucide-${r}`,s),...l}));return i.displayName=a_(r),i};const $E=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],JE=$n("arrow-down-a-z",$E);const ZE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],s_=$n("arrow-left",ZE);const eT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],tT=$n("book-open",eT);const nT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],iT=$n("check-check",nT);const rT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],aT=$n("check",rT);const sT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oT=$n("chevron-left",sT);const lT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uT=$n("chevron-right",lT);const cT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hT=$n("circle-alert",cT);const fT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],o_=$n("crown",fT);const dT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mT=$n("eye",dT);const pT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gT=$n("info",pT);const yT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vT=$n("log-out",yT);const _T=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bT=$n("mail",_T);const wT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ET=$n("play",wT);const TT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],AT=$n("rotate-ccw",TT);const ST=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],RT=$n("ruler",ST);const CT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],IT=$n("share-2",CT);const xT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],MT=$n("shuffle",xT);const DT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],mh=$n("sparkles",DT);const NT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gm=$n("star",NT);const OT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],l_=$n("trophy",OT);const VT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kT=$n("x",VT);var ym={},Ah={exports:{}},PT=Ah.exports,u_;function LT(){return u_||(u_=1,(function(r,e){(function(s,l){r.exports=l()})(PT,()=>(()=>{var i=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>x});var E=(()=>{var L=typeof document<"u"?document.currentScript?.src:void 0;return(function(q={}){var te,z=q,Oe,Re,Le=new Promise((f,d)=>{Oe=f,Re=d}),Be=typeof window=="object",qe=typeof importScripts=="function";function Ke(){function f(W){const $=S;v=d=0,S=new Map,$.forEach(ue=>{try{ue(W)}catch(oe){console.error(oe)}}),this.nb(),D&&D.Pb()}let d=0,v=0,S=new Map,D=null,j=null;this.requestAnimationFrame=function(W){d||=requestAnimationFrame(f.bind(this));const $=++v;return S.set($,W),$},this.cancelAnimationFrame=function(W){S.delete(W),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(W){j&&(document.body.remove(j),j=null),W||(j=document.createElement("div"),j.style.backgroundColor="black",j.style.position="fixed",j.style.right=0,j.style.top=0,j.style.color="white",j.style.padding="4px",j.innerHTML="RIVE FPS",W=function($){j.innerHTML="RIVE FPS "+$.toFixed(1)},document.body.appendChild(j)),D=new function(){let $=0,ue=0;this.Pb=function(){var oe=performance.now();ue?(++$,oe-=ue,1e3<oe&&(W(1e3*$/oe),$=ue=0)):(ue=oe,$=0)}}},this.Kb=function(){j&&(document.body.remove(j),j=null),D=null},this.nb=function(){}}function ht(f){console.assert(!0);const d=new Map;let v=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?v=-1/0:S==v&&(v=Math.max(...d.keys()),console.assert(v<S))},1e3)),v=Math.max(S,v),v<<f}}const ot=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){ot&&ot();let f=z.decodeAudio;z.decodeAudio=function(D,j){D=f(D),j(D)};let d=z.decodeFont;z.decodeFont=function(D,j){D=d(D),j(D)};const v=z.FileAssetLoader;z.ptrToAsset=D=>{let j=z.ptrToFileAsset(D);return j.isImage?z.ptrToImageAsset(D):j.isFont?z.ptrToFontAsset(D):j.isAudio?z.ptrToAudioAsset(D):j},z.CustomFileAssetLoader=v.extend("CustomFileAssetLoader",{__construct:function({loadContents:D}){this.__parent.__construct.call(this),this.Db=D},loadContents:function(D,j){return D=z.ptrToAsset(D),this.Db(D,j)}}),z.CDNFileAssetLoader=v.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(D){let j=z.ptrToAsset(D);return D=j.cdnUuid,D===""?!1:((function(W,$){var ue=new XMLHttpRequest;ue.responseType="arraybuffer",ue.onreadystatechange=function(){ue.readyState==4&&ue.status==200&&$(ue)},ue.open("GET",W,!0),ue.send(null)})(j.cdnBaseUrl+"/"+D,W=>{j.decode(new Uint8Array(W.response))}),!0)}}),z.FallbackFileAssetLoader=v.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(D){this.jb.push(D)},loadContents:function(D,j){for(let W of this.jb)if(W.loadContents(D,j))return!0;return!1}});let S=z.computeAlignment;z.computeAlignment=function(D,j,W,$,ue=1){return S.call(this,D,j,W,$,ue)}};const F="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),U=new function(){function f(){if(!d){let un=function(Je,Lt,vn){if(Lt=ze.createShader(Lt),ze.shaderSource(Lt,vn),ze.compileShader(Lt),vn=ze.getShaderInfoLog(Lt),0<(vn||"").length)throw vn;ze.attachShader(Je,Lt)};var nt=un,J=document.createElement("canvas"),je={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let ze;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(ze=J.getContext("webgl",je),v=1,!ze)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(ze=J.getContext("webgl2",je))v=2;else if(ze=J.getContext("webgl",je))v=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(ze=new Proxy(ze,{get(Je,Lt){if(Je.isContextLost()){if(ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Lt),ue=!0),typeof Je[Lt]=="function")return function(){}}else return typeof Je[Lt]=="function"?function(...vn){return Je[Lt].apply(Je,vn)}:Je[Lt]},set(Je,Lt,vn){if(Je.isContextLost())ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Lt),ue=!0);else return Je[Lt]=vn,!0}}),S=Math.min(ze.getParameter(ze.MAX_RENDERBUFFER_SIZE),ze.getParameter(ze.MAX_TEXTURE_SIZE)),J=ze.createProgram(),un(J,ze.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),un(J,ze.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),ze.bindAttribLocation(J,0,"vertex"),ze.bindAttribLocation(J,1,"uv"),ze.linkProgram(J),je=ze.getProgramInfoLog(J),0<(je||"").trim().length)throw je;D=ze.getUniformLocation(J,"mat"),j=ze.getUniformLocation(J,"translate"),ze.useProgram(J),ze.bindBuffer(ze.ARRAY_BUFFER,ze.createBuffer()),ze.enableVertexAttribArray(0),ze.enableVertexAttribArray(1),ze.bindBuffer(ze.ELEMENT_ARRAY_BUFFER,ze.createBuffer()),ze.uniform1i(ze.getUniformLocation(J,"image"),0),ze.pixelStorei(ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=ze}return!0}let d=null,v=0,S=0,D=null,j=null,W=0,$=0,ue=!1;f(),this.ac=function(){return f(),S},this.Jb=function(J){d.deleteTexture&&d.deleteTexture(J)},this.Ib=function(J){if(!f())return null;const je=d.createTexture();return je?(d.bindTexture(d.TEXTURE_2D,je),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,J),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),v==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),je):null};const oe=new ht(8),Ve=new ht(8),$e=new ht(10),st=new ht(10);this.Mb=function(J,je,nt,ze,un){if(f()){var Je=oe.push(J),Lt=Ve.push(je);if(d.canvas){(d.canvas.width!=Je||d.canvas.height!=Lt)&&(d.canvas.width=Je,d.canvas.height=Lt),d.viewport(0,Lt-je,J,je),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),nt.sort((Bt,Or)=>Or.ub-Bt.ub),Je=$e.push(ze),W!=Je&&(d.bufferData(d.ARRAY_BUFFER,8*Je,d.DYNAMIC_DRAW),W=Je),Je=0;for(var vn of nt)d.bufferSubData(d.ARRAY_BUFFER,Je,vn.Sa),Je+=4*vn.Sa.length;console.assert(Je==4*ze);for(var Zn of nt)d.bufferSubData(d.ARRAY_BUFFER,Je,Zn.Ab),Je+=4*Zn.Ab.length;console.assert(Je==8*ze),Je=st.push(un),$!=Je&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Je,d.DYNAMIC_DRAW),$=Je),vn=0;for(var vr of nt)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,vn,vr.indices),vn+=2*vr.indices.length;console.assert(vn==2*un),vr=0,Zn=!0,Je=vn=0;for(const Bt of nt){Bt.image.Ia!=vr&&(d.bindTexture(d.TEXTURE_2D,Bt.image.Ha||null),vr=Bt.image.Ia),Bt.fc?(d.scissor(Bt.Ya,Lt-Bt.Za-Bt.ib,Bt.tc,Bt.ib),Zn=!0):Zn&&(d.scissor(0,Lt-je,J,je),Zn=!1),nt=2/J;const Or=-2/je;d.uniform4f(D,Bt.ga[0]*nt*Bt.za,Bt.ga[1]*Or*Bt.Aa,Bt.ga[2]*nt*Bt.za,Bt.ga[3]*Or*Bt.Aa),d.uniform2f(j,Bt.ga[4]*nt*Bt.za+nt*(Bt.Ya-Bt.bc*Bt.za)-1,Bt.ga[5]*Or*Bt.Aa+Or*(Bt.Za-Bt.cc*Bt.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Je),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Je+4*ze),d.drawElements(d.TRIANGLES,Bt.indices.length,d.UNSIGNED_SHORT,vn),Je+=4*Bt.Sa.length,vn+=2*Bt.indices.length}console.assert(Je==4*ze),console.assert(vn==2*un)}}},this.canvas=function(){return f()&&d.canvas}},V=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){function f(Ne){switch(Ne){case oe.srcOver:return"source-over";case oe.screen:return"screen";case oe.overlay:return"overlay";case oe.darken:return"darken";case oe.lighten:return"lighten";case oe.colorDodge:return"color-dodge";case oe.colorBurn:return"color-burn";case oe.hardLight:return"hard-light";case oe.softLight:return"soft-light";case oe.difference:return"difference";case oe.exclusion:return"exclusion";case oe.multiply:return"multiply";case oe.hue:return"hue";case oe.saturation:return"saturation";case oe.color:return"color";case oe.luminosity:return"luminosity"}}function d(Ne){return"rgba("+((16711680&Ne)>>>16)+","+((65280&Ne)>>>8)+","+((255&Ne)>>>0)+","+((4278190080&Ne)>>>24)/255+")"}function v(){0<Lt.length&&(U.Mb(Je.drawWidth(),Je.drawHeight(),Lt,vn,Zn),Lt=[],Zn=vn=0,Je.reset(512,512));for(const Ne of un){for(const Ge of Ne.H)Ge();Ne.H=[]}un.clear()}V&&V();var S=z.RenderPaintStyle;const D=z.RenderPath,j=z.RenderPaint,W=z.Renderer,$=z.StrokeCap,ue=z.StrokeJoin,oe=z.BlendMode,Ve=S.fill,$e=S.stroke,st=z.FillRule.evenOdd;let J=1;var je=z.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:Ne,va:Ge}={}){this.__parent.__construct.call(this),this.Ia=J,J=J+1&2147483647||1,this.ka=Ne,this.va=Ge},__destruct:function(){this.Ha&&(U.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(Ne){var Ge=this;Ge.va&&Ge.va(Ge);var Ut=new Image;Ge.Va=URL.createObjectURL(new Blob([Ne],{type:"image/png"})),Ut.onload=function(){Ge.Cb=Ut,Ge.Ha=U.Ib(Ut),Ge.size(Ut.width,Ut.height),Ge.ka&&Ge.ka(Ge)},Ut.src=Ge.Va}}),nt=D.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(Ne,Ge,Ut,Xt,Mt,qt,nn){var on=this.T,ar=on.addPath;Ne=Ne.T;const _n=new DOMMatrix;_n.a=Ge,_n.b=Ut,_n.c=Xt,_n.d=Mt,_n.e=qt,_n.f=nn,ar.call(on,Ne,_n)},fillRule:function(Ne){this.Ua=Ne},moveTo:function(Ne,Ge){this.T.moveTo(Ne,Ge)},lineTo:function(Ne,Ge){this.T.lineTo(Ne,Ge)},cubicTo:function(Ne,Ge,Ut,Xt,Mt,qt){this.T.bezierCurveTo(Ne,Ge,Ut,Xt,Mt,qt)},close:function(){this.T.closePath()}}),ze=j.extend("CanvasRenderPaint",{color:function(Ne){this.Wa=d(Ne)},thickness:function(Ne){this.Fb=Ne},join:function(Ne){switch(Ne){case ue.miter:this.Ga="miter";break;case ue.round:this.Ga="round";break;case ue.bevel:this.Ga="bevel"}},cap:function(Ne){switch(Ne){case $.butt:this.Fa="butt";break;case $.round:this.Fa="round";break;case $.square:this.Fa="square"}},style:function(Ne){this.Eb=Ne},blendMode:function(Ne){this.Bb=f(Ne)},clearGradient:function(){this.ia=null},linearGradient:function(Ne,Ge,Ut,Xt){this.ia={wb:Ne,xb:Ge,bb:Ut,cb:Xt,Pa:[]}},radialGradient:function(Ne,Ge,Ut,Xt){this.ia={wb:Ne,xb:Ge,bb:Ut,cb:Xt,Pa:[],$b:!0}},addStop:function(Ne,Ge){this.ia.Pa.push({color:Ne,stop:Ge})},completeGradient:function(){},draw:function(Ne,Ge,Ut){let Xt=this.Eb;var Mt=this.Wa,qt=this.ia;if(Ne.globalCompositeOperation=this.Bb,qt!=null){Mt=qt.wb;var nn=qt.xb;const ar=qt.bb;var on=qt.cb;const _n=qt.Pa;qt.$b?(qt=ar-Mt,on-=nn,Mt=Ne.createRadialGradient(Mt,nn,0,Mt,nn,Math.sqrt(qt*qt+on*on))):Mt=Ne.createLinearGradient(Mt,nn,ar,on);for(let Ri=0,mn=_n.length;Ri<mn;Ri++)nn=_n[Ri],Mt.addColorStop(nn.stop,d(nn.color));this.Wa=Mt,this.ia=null}switch(Xt){case $e:Ne.strokeStyle=Mt,Ne.lineWidth=this.Fb,Ne.lineCap=this.Fa,Ne.lineJoin=this.Ga,Ne.stroke(Ge);break;case Ve:Ne.fillStyle=Mt,Ne.fill(Ge,Ut)}}});const un=new Set;let Je=null,Lt=[],vn=0,Zn=0;var vr=z.CanvasRenderer=W.extend("Renderer",{__construct:function(Ne){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=Ne.getContext("2d"),this.Ta=Ne,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const Ne=this.S.length-6;if(6>Ne)throw"restore() called without matching save().";this.S.splice(Ne),this.H.push(this.B.restore.bind(this.B))},transform:function(Ne,Ge,Ut,Xt,Mt,qt){const nn=this.S,on=nn.length-6;nn.splice(on,6,nn[on]*Ne+nn[on+2]*Ge,nn[on+1]*Ne+nn[on+3]*Ge,nn[on]*Ut+nn[on+2]*Xt,nn[on+1]*Ut+nn[on+3]*Xt,nn[on]*Mt+nn[on+2]*qt+nn[on+4],nn[on+1]*Mt+nn[on+3]*qt+nn[on+5]),this.H.push(this.B.transform.bind(this.B,Ne,Ge,Ut,Xt,Mt,qt))},rotate:function(Ne){const Ge=Math.sin(Ne);Ne=Math.cos(Ne),this.transform(Ne,Ge,-Ge,Ne,0,0)},_drawPath:function(Ne,Ge){this.H.push(Ge.draw.bind(Ge,this.B,Ne.T,Ne.Ua===st?"evenodd":"nonzero"))},_drawRiveImage:function(Ne,Ge,Ut,Xt){var Mt=Ne.Cb;if(Mt){var qt=this.B,nn=f(Ut);this.H.push(function(){qt.globalCompositeOperation=nn,qt.globalAlpha=Xt,qt.drawImage(Mt,0,0),qt.globalAlpha=1})}},_getMatrix:function(Ne){const Ge=this.S,Ut=Ge.length-6;for(let Xt=0;6>Xt;++Xt)Ne[Xt]=Ge[Ut+Xt]},_drawImageMesh:function(Ne,Ge,Ut,Xt,Mt,qt,nn,on,ar,_n,Ri){Ge=this.B.canvas.width;var mn=this.B.canvas.height;const es=_n-on,il=Ri-ar;on=Math.max(on,0),ar=Math.max(ar,0),_n=Math.min(_n,Ge),Ri=Math.min(Ri,mn);const Ca=_n-on,Ia=Ri-ar;if(console.assert(Ca<=Math.min(es,Ge)),console.assert(Ia<=Math.min(il,mn)),!(0>=Ca||0>=Ia)){_n=Ca<es||Ia<il,Ge=Ri=1;var fa=Math.ceil(Ca*Ri),sr=Math.ceil(Ia*Ge);mn=U.ac(),fa>mn&&(Ri*=mn/fa,fa=mn),sr>mn&&(Ge*=mn/sr,sr=mn),Je||(Je=new z.DynamicRectanizer(mn),Je.reset(512,512)),mn=Je.addRect(fa,sr),0>mn&&(v(),un.add(this),mn=Je.addRect(fa,sr),console.assert(0<=mn));var iu=mn&65535,Ro=mn>>16;Lt.push({ga:this.S.slice(this.S.length-6),image:Ne,Ya:iu,Za:Ro,bc:on,cc:ar,tc:fa,ib:sr,za:Ri,Aa:Ge,Sa:new Float32Array(Mt),Ab:new Float32Array(qt),indices:new Uint16Array(nn),fc:_n,ub:Ne.Ia<<1|(_n?1:0)}),vn+=Mt.length,Zn+=nn.length;var Vr=this.B,Sf=f(Ut);this.H.push(function(){Vr.save(),Vr.resetTransform(),Vr.globalCompositeOperation=Sf,Vr.globalAlpha=Xt;const zi=U.canvas();zi&&Vr.drawImage(zi,iu,Ro,fa,sr,on,ar,Ca,Ia),Vr.restore()})}},_clipPath:function(Ne){this.H.push(this.B.clip.bind(this.B,Ne.T,Ne.Ua===st?"evenodd":"nonzero"))},clear:function(){un.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(Ne,Ge){this.transform(1,0,0,1,Ne,Ge)}});z.makeRenderer=function(Ne){const Ge=new vr(Ne),Ut=Ge.B;return new Proxy(Ge,{get(Xt,Mt){if(typeof Xt[Mt]=="function")return function(...qt){return Xt[Mt].apply(Xt,qt)};if(typeof Ut[Mt]=="function"){if(-1<F.indexOf(Mt))throw Error("RiveException: Method call to '"+Mt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...qt){Ge.H.push(Ut[Mt].bind(Ut,...qt))}}return Xt[Mt]},set(Xt,Mt,qt){if(Mt in Ut)return Ge.H.push(()=>{Ut[Mt]=qt}),!0}})},z.decodeImage=function(Ne,Ge){new je({ka:Ge}).decode(Ne)},z.renderFactory={makeRenderPaint:function(){return new ze},makeRenderPath:function(){return new nt},makeRenderImage:function(){let Ne=Or;return new je({va:()=>{Ne.total++},ka:()=>{if(Ne.loaded++,Ne.loaded===Ne.total){const Ge=Ne.ready;Ge&&(Ge(),Ne.ready=null)}}})}};let Bt=z.load,Or=null;z.load=function(Ne,Ge,Ut=!0){const Xt=new z.FallbackFileAssetLoader;return Ge!==void 0&&Xt.addLoader(Ge),Ut&&(Ge=new z.CDNFileAssetLoader,Xt.addLoader(Ge)),new Promise(function(Mt){let qt=null;Or={total:0,loaded:0,ready:function(){Mt(qt)}},qt=Bt(Ne,Xt),Or.total==0&&Mt(qt)})};let Za=z.RendererWrapper.prototype.align;z.RendererWrapper.prototype.align=function(Ne,Ge,Ut,Xt,Mt=1){Za.call(this,Ne,Ge,Ut,Xt,Mt)},S=new Ke,z.requestAnimationFrame=S.requestAnimationFrame.bind(S),z.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),z.enableFPSCounter=S.Nb.bind(S),z.disableFPSCounter=S.Kb,S.nb=v,z.resolveAnimationFrame=v,z.cleanup=function(){Je&&Je.delete()}};var B=Object.assign({},z),I="./this.program",k="",C,X;(Be||qe)&&(qe?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),L&&(k=L),k.startsWith("blob:")?k="":k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1),qe&&(X=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),C=(f,d,v)=>{if(ii(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):v()},S.onerror=v,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(D=>D.ok?D.arrayBuffer():Promise.reject(Error(D.status+" : "+D.url))).then(d,v)});var ie=z.print||console.log.bind(console),H=z.printErr||console.error.bind(console);Object.assign(z,B),B=null,z.thisProgram&&(I=z.thisProgram);var Z;z.wasmBinary&&(Z=z.wasmBinary);var ye,fe=!1,Me,P,ae,Se,Ee,xe,Fe,We;function ut(){var f=ye.buffer;z.HEAP8=Me=new Int8Array(f),z.HEAP16=ae=new Int16Array(f),z.HEAPU8=P=new Uint8Array(f),z.HEAPU16=Se=new Uint16Array(f),z.HEAP32=Ee=new Int32Array(f),z.HEAPU32=xe=new Uint32Array(f),z.HEAPF32=Fe=new Float32Array(f),z.HEAPF64=We=new Float64Array(f)}var _t=[],Ct=[],an=[];function ft(){var f=z.preRun.shift();_t.unshift(f)}var Et=0,jt=null;function zt(f){throw z.onAbort?.(f),f="Aborted("+f+")",H(f),fe=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Re(f),f}var Nn=f=>f.startsWith("data:application/octet-stream;base64,"),ii=f=>f.startsWith("file://"),yt;function rt(f){if(f==yt&&Z)return new Uint8Array(Z);if(X)return X(f);throw"both async and sync fetching of the wasm failed"}function fn(f){return Z?Promise.resolve().then(()=>rt(f)):new Promise((d,v)=>{C(f,S=>d(new Uint8Array(S)),()=>{try{d(rt(f))}catch(S){v(S)}})})}function tn(f,d,v){return fn(f).then(S=>WebAssembly.instantiate(S,d)).then(v,S=>{H(`failed to asynchronously prepare wasm: ${S}`),zt(S)})}function Yi(f,d){var v=yt;return Z||typeof WebAssembly.instantiateStreaming!="function"||Nn(v)||ii(v)||typeof fetch!="function"?tn(v,f,d):fetch(v,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(D){return H(`wasm streaming compile failed: ${D}`),H("falling back to ArrayBuffer instantiation"),tn(v,f,d)}))}var Un,Ft,gn={464256:(f,d,v,S,D)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=v,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=D;let j=window.h;j.D=[],j.rc=function(W){for(var $=0;$<j.D.length;++$)if(j.D[$]==null)return j.D[$]=W,$;return j.D.push(W),j.D.length-1},j.zb=function(W){for(j.D[W]=null;0<j.D.length&&j.D[j.D.length-1]==null;)j.D.pop()},j.Oc=function(W){for(var $=0;$<j.D.length;++$)if(j.D[$]==W)return j.zb($)},j.pa=function(W){return j.D[W]},j.Ra=["touchend","click"],j.unlock=function(){for(var W=0;W<j.D.length;++W){var $=j.D[W];$!=null&&$.K!=null&&$.state===j.fa.vb&&$.K.resume().then(()=>{So($.ob)},ue=>{console.error("Failed to resume audiocontext",ue)})}j.Ra.map(function(ue){document.removeEventListener(ue,j.unlock,!0)})},j.Ra.map(function(W){document.addEventListener(W,j.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,v,S,D,j)=>{if(typeof window.h>"u")return-1;var W={},$={};return f==window.h.I.wa&&v!=0&&($.sampleRate=v),W.K=new(window.AudioContext||window.webkitAudioContext)($),W.K.suspend(),W.state=window.h.fa.stopped,v=0,f!=window.h.I.wa&&(v=d),W.Y=W.K.createScriptProcessor(S,v,d),W.Y.onaudioprocess=function(ue){if((W.qa==null||W.qa.length==0)&&(W.qa=new Float32Array(Fe.buffer,D,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var oe=0;oe<d;oe+=1)for(var Ve=ue.inputBuffer.getChannelData(oe),$e=W.qa,st=0;st<S;st+=1)$e[st*d+oe]=Ve[st];tu(j,S,D)}if(f==window.h.I.wa||f==window.h.I.Ja)for(nu(j,S,D),oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)for(Ve=ue.outputBuffer.getChannelData(oe),$e=W.qa,st=0;st<S;st+=1)Ve[st]=$e[st*d+oe];else for(oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)ue.outputBuffer.getChannelData(oe).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ue){W.Ba=W.K.createMediaStreamSource(ue),W.Ba.connect(W.Y),W.Y.connect(W.K.destination)}).catch(function(ue){console.log("Failed to get user media: "+ue)}),f==window.h.I.wa&&W.Y.connect(W.K.destination),W.ob=j,window.h.rc(W)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},R=f=>{for(;0<f.length;)f.shift()(z)};function g(){var f=Ee[+Qe>>2];return Qe+=4,f}var _=(f,d)=>{for(var v=0,S=f.length-1;0<=S;S--){var D=f[S];D==="."?f.splice(S,1):D===".."?(f.splice(S,1),v++):v&&(f.splice(S,1),v--)}if(d)for(;v;v--)f.unshift("..");return f},N=f=>{var d=f.charAt(0)==="/",v=f.substr(-1)==="/";return(f=_(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&v&&(f+="/"),(d?"/":"")+f},K=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},me=f=>{if(f==="/")return"/";f=N(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},De=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);zt("initRandomDevice")},et=f=>(et=De())(f),at=(...f)=>{for(var d="",v=!1,S=f.length-1;-1<=S&&!v;S--){if(v=0<=S?f[S]:"/",typeof v!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!v)return"";d=v+"/"+d,v=v.charAt(0)==="/"}return d=_(d.split("/").filter(D=>!!D),!v).join("/"),(v?"/":"")+d||"."},Ye=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,tt=(f,d,v)=>{var S=d+v;for(v=d;f[v]&&!(v>=S);)++v;if(16<v-d&&f.buffer&&Ye)return Ye.decode(f.subarray(d,v));for(S="";d<v;){var D=f[d++];if(D&128){var j=f[d++]&63;if((D&224)==192)S+=String.fromCharCode((D&31)<<6|j);else{var W=f[d++]&63;D=(D&240)==224?(D&15)<<12|j<<6|W:(D&7)<<18|j<<12|W<<6|f[d++]&63,65536>D?S+=String.fromCharCode(D):(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else S+=String.fromCharCode(D)}return S},Zt=[],wn=f=>{for(var d=0,v=0;v<f.length;++v){var S=f.charCodeAt(v);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++v):d+=3}return d},ln=(f,d,v,S)=>{if(!(0<S))return 0;var D=v;S=v+S-1;for(var j=0;j<f.length;++j){var W=f.charCodeAt(j);if(55296<=W&&57343>=W){var $=f.charCodeAt(++j);W=65536+((W&1023)<<10)|$&1023}if(127>=W){if(v>=S)break;d[v++]=W}else{if(2047>=W){if(v+1>=S)break;d[v++]=192|W>>6}else{if(65535>=W){if(v+2>=S)break;d[v++]=224|W>>12}else{if(v+3>=S)break;d[v++]=240|W>>18,d[v++]=128|W>>12&63}d[v++]=128|W>>6&63}d[v++]=128|W&63}}return d[v]=0,v-D};function jn(f,d){var v=Array(wn(f)+1);return f=ln(f,v,0,v.length),d&&(v.length=f),v}var Yn=[];function Ht(f,d){Yn[f]={input:[],G:[],V:d},Li(f,An)}var An={open(f){var d=Yn[f.node.xa];if(!d)throw new Xe(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,v,S){if(!f.s||!f.s.V.hb)throw new Xe(60);for(var D=0,j=0;j<S;j++){try{var W=f.s.V.hb(f.s)}catch{throw new Xe(29)}if(W===void 0&&D===0)throw new Xe(6);if(W==null)break;D++,d[v+j]=W}return D&&(f.node.timestamp=Date.now()),D},write(f,d,v,S){if(!f.s||!f.s.V.Ma)throw new Xe(60);try{for(var D=0;D<S;D++)f.s.V.Ma(f.s,d[v+D])}catch{throw new Xe(29)}return S&&(f.node.timestamp=Date.now()),D}},xn={hb(){e:{if(!Zt.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}Zt=jn(f,!0)}f=Zt.shift()}return f},Ma(f,d){d===null||d===10?(ie(tt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(ie(tt(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Xn={Ma(f,d){d===null||d===10?(H(tt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(H(tt(f.G,0)),f.G=[])}};function Xi(f,d){var v=f.l?f.l.length:0;v>=d||(d=Math.max(d,v*(1048576>v?2:1.125)>>>0),v!=0&&(d=Math.max(d,256)),v=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(v.subarray(0,f.v),0))}var gt={N:null,U(){return gt.createNode(null,"/",16895,0)},createNode(f,d,v,S){if((v&61440)===24576||(v&61440)===4096)throw new Xe(63);return gt.N||(gt.N={dir:{node:{X:gt.j.X,P:gt.j.P,ja:gt.j.ja,ta:gt.j.ta,sb:gt.j.sb,yb:gt.j.yb,tb:gt.j.tb,rb:gt.j.rb,Ca:gt.j.Ca},stream:{aa:gt.m.aa}},file:{node:{X:gt.j.X,P:gt.j.P},stream:{aa:gt.m.aa,read:gt.m.read,write:gt.m.write,Xa:gt.m.Xa,kb:gt.m.kb,mb:gt.m.mb}},link:{node:{X:gt.j.X,P:gt.j.P,la:gt.j.la},stream:{}},$a:{node:{X:gt.j.X,P:gt.j.P},stream:wi}}),v=Cs(f,d,v,S),(v.mode&61440)===16384?(v.j=gt.N.dir.node,v.m=gt.N.dir.stream,v.l={}):(v.mode&61440)===32768?(v.j=gt.N.file.node,v.m=gt.N.file.stream,v.v=0,v.l=null):(v.mode&61440)===40960?(v.j=gt.N.link.node,v.m=gt.N.link.stream):(v.mode&61440)===8192&&(v.j=gt.N.$a.node,v.m=gt.N.$a.stream),v.timestamp=Date.now(),f&&(f.l[d]=v,f.timestamp=v.timestamp),v},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var v=f.l;f.l=new Uint8Array(d),v&&f.l.set(v.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw va[44]},ta(f,d,v,S){return gt.createNode(f,d,v,S)},sb(f,d,v){if((f.mode&61440)===16384){try{var S=Rr(d,v)}catch{}if(S)for(var D in S.l)throw new Xe(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=v,d.l[v]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var v=Rr(f,d),S;for(S in v.l)throw new Xe(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],v;for(v of Object.keys(f.l))d.push(v);return d},Ca(f,d,v){return f=gt.createNode(f,d,41471,0),f.link=v,f},la(f){if((f.mode&61440)!==40960)throw new Xe(28);return f.link}},m:{read(f,d,v,S,D){var j=f.node.l;if(D>=f.node.v)return 0;if(f=Math.min(f.node.v-D,S),8<f&&j.subarray)d.set(j.subarray(D,D+f),v);else for(S=0;S<f;S++)d[v+S]=j[D+S];return f},write(f,d,v,S,D,j){if(d.buffer===Me.buffer&&(j=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(j)return f.l=d.subarray(v,v+S),f.v=S;if(f.v===0&&D===0)return f.l=d.slice(v,v+S),f.v=S;if(D+S<=f.v)return f.l.set(d.subarray(v,v+S),D),S}if(Xi(f,D+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(v,v+S),D);else for(j=0;j<S;j++)f.l[D+j]=d[v+j];return f.v=Math.max(f.v,D+S),S},aa(f,d,v){if(v===1?d+=f.position:v===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Xe(28);return d},Xa(f,d,v){Xi(f.node,d+v),f.node.v=Math.max(f.node.v,d+v)},kb(f,d,v,S,D){if((f.node.mode&61440)!==32768)throw new Xe(43);if(f=f.node.l,D&2||f.buffer!==Me.buffer){if((0<v||v+d<f.length)&&(f.subarray?f=f.subarray(v,v+d):f=Array.prototype.slice.call(f,v,v+d)),v=!0,zt(),d=void 0,!d)throw new Xe(48);Me.set(f,d)}else v=!1,d=f.byteOffset;return{o:d,uc:v}},mb(f,d,v,S){return gt.m.write(f,d,0,S,v,!1),0}}},Hn=(f,d)=>{var v=0;return f&&(v|=365),d&&(v|=146),v},St=null,Qi={},Ki=[],Fa=1,Sr=null,lr=!0,Xe=class{constructor(f){this.name="ErrnoError",this.$=f}},va={},Wi=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},ki=class{constructor(f,d,v,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=Fa++,this.name=d,this.mode=v,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function dn(f,d={}){if(f=at(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Xe(32);f=f.split("/").filter(W=>!!W);for(var v=St,S="/",D=0;D<f.length;D++){var j=D===f.length-1;if(j&&d.parent)break;if(v=Rr(v,f[D]),S=N(S+"/"+f[D]),v.ua&&(!j||j&&d.gb)&&(v=v.ua.root),!j||d.fb){for(j=0;(v.mode&61440)===40960;)if(v=Ha(S),S=at(K(S),v),v=dn(S,{Oa:d.Oa+1}).node,40<j++)throw new Xe(32)}}return{path:S,node:v}}function zn(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function $i(f,d){for(var v=0,S=0;S<d.length;S++)v=(v<<5)-v+d.charCodeAt(S)|0;return(f+v>>>0)%Sr.length}function Rr(f,d){var v=(f.mode&61440)===16384?(v=aa(f,"x"))?v:f.j.ja?0:2:54;if(v)throw new Xe(v);for(v=Sr[$i(f.id,d)];v;v=v.ec){var S=v.name;if(v.parent.id===f.id&&S===d)return v}return f.j.ja(f,d)}function Cs(f,d,v,S){return f=new ki(f,d,v,S),d=$i(f.parent.id,f.name),f.ec=Sr[d],Sr[d]=f}function _a(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function aa(f,d){if(lr)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function Pi(f,d){try{return Rr(f,d),20}catch{}return aa(f,"wx")}function bi(f){if(f=Ki[f],!f)throw new Xe(8);return f}function Ji(f,d=-1){if(f=Object.assign(new Wi,f),d==-1)e:{for(d=0;4096>=d;d++)if(!Ki[d])break e;throw new Xe(33)}return f.W=d,Ki[d]=f}function Qn(f,d=-1){return f=Ji(f,d),f.m?.Ec?.(f),f}var wi={open(f){f.m=Qi[f.node.xa].m,f.m.open?.(f)},aa(){throw new Xe(70)}};function Li(f,d){Qi[f]={m:d}}function On(f,d){var v=d==="/";if(v&&St)throw new Xe(10);if(!v&&d){var S=dn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Xe(10);if((S.mode&61440)!==16384)throw new Xe(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,v?St=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function sa(f,d,v){var S=dn(f,{parent:!0}).node;if(f=me(f),!f||f==="."||f==="..")throw new Xe(28);var D=Pi(S,f);if(D)throw new Xe(D);if(!S.j.ta)throw new Xe(63);return S.j.ta(S,f,d,v)}function Bn(f){return sa(f,16895,0)}function gi(f,d,v){typeof v>"u"&&(v=d,d=438),sa(f,d|8192,v)}function Ei(f,d){if(!at(f))throw new Xe(44);var v=dn(d,{parent:!0}).node;if(!v)throw new Xe(44);d=me(d);var S=Pi(v,d);if(S)throw new Xe(S);if(!v.j.Ca)throw new Xe(63);v.j.Ca(v,d,f)}function Ha(f){if(f=dn(f).node,!f)throw new Xe(44);if(!f.j.la)throw new Xe(28);return at(zn(f.parent),f.j.la(f))}function Br(f,d,v){if(f==="")throw new Xe(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(v=d&64?(typeof v>"u"?438:v)&4095|32768:0,typeof f=="object")var D=f;else{f=N(f);try{D=dn(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(D){if(d&128)throw new Xe(20)}else D=sa(f,v,0),S=!0;if(!D)throw new Xe(44);if((D.mode&61440)===8192&&(d&=-513),d&65536&&(D.mode&61440)!==16384)throw new Xe(54);if(!S&&(v=D?(D.mode&61440)===40960?32:(D.mode&61440)===16384&&(_a(d)!=="r"||d&512)?31:aa(D,_a(d)):44))throw new Xe(v);if(d&512&&!S){if(v=D,v=typeof v=="string"?dn(v,{fb:!0}).node:v,!v.j.P)throw new Xe(63);if((v.mode&61440)===16384)throw new Xe(31);if((v.mode&61440)!==32768)throw new Xe(28);if(S=aa(v,"w"))throw new Xe(S);v.j.P(v,{size:0,timestamp:Date.now()})}return d&=-131713,D=Ji({node:D,path:zn(D),flags:d,seekable:!0,position:0,m:D.m,sc:[],error:!1}),D.m.open&&D.m.open(D),!z.logReadFiles||d&1||(Ce||={},f in Ce||(Ce[f]=1)),D}function Fr(f,d,v){if(f.W===null)throw new Xe(8);if(!f.seekable||!f.m.aa)throw new Xe(70);if(v!=0&&v!=1&&v!=2)throw new Xe(28);f.position=f.m.aa(f,d,v),f.sc=[]}var ne;function he(f,d,v){f=N("/dev/"+f);var S=Hn(!!d,!!v);pe||=64;var D=pe++<<8|0;Li(D,{open(j){j.seekable=!1},close(){v?.buffer?.length&&v(10)},read(j,W,$,ue){for(var oe=0,Ve=0;Ve<ue;Ve++){try{var $e=d()}catch{throw new Xe(29)}if($e===void 0&&oe===0)throw new Xe(6);if($e==null)break;oe++,W[$+Ve]=$e}return oe&&(j.node.timestamp=Date.now()),oe},write(j,W,$,ue){for(var oe=0;oe<ue;oe++)try{v(W[$+oe])}catch{throw new Xe(29)}return ue&&(j.node.timestamp=Date.now()),oe}}),gi(f,S,D)}var pe,ve={},Ce,Qe=void 0,Pe=(f,d)=>Object.defineProperty(d,"name",{value:f}),He=[],ke=[],be,kt=f=>{if(!f)throw new be("Cannot use deleted val. handle = "+f);return ke[f]},Pt=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=He.pop()||ke.length;return ke[d]=f,ke[d+1]=1,d}},yn=f=>{var d=Error,v=Pe(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(d.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},v},Zi,Ti,Ot=f=>{for(var d="";P[f];)d+=Ti[P[f++]];return d},ba=[],Hr=()=>{for(;ba.length;){var f=ba.pop();f.g.ea=!1,f.delete()}},ri,ur={},qa=(f,d)=>{if(d===void 0)throw new be("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},Cr={},Ga=f=>{f=pc(f);var d=Ot(f);return rr(f),d},wa=(f,d)=>{var v=Cr[f];if(v===void 0)throw f=`${d} has unknown type ${Ga(f)}`,new be(f);return v},Ir=()=>{},Ea=!1,cr=(f,d,v)=>d===v?f:v.C===void 0?null:(f=cr(f,d,v.C),f===null?null:v.Lb(f)),Is={},hr=(f,d)=>(d=qa(f,d),ur[d]),fr,er=(f,d)=>{if(!d.u||!d.o)throw new fr("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new fr("Both smartPtrType and smartPtr must be specified");return d.count={value:1},dr(Object.create(f,{g:{value:d,writable:!0}}))},dr=f=>typeof FinalizationRegistry>"u"?(dr=d=>d,f):(Ea=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),dr=d=>{var v=d.g;return v.F&&Ea.register(d,{g:v},d),d},Ir=d=>{Ea.unregister(d)},dr(f)),oa={},mr=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function Ai(f){return this.fromWireType(xe[f>>2])}var fi={},qr={},Dt=(f,d,v)=>{function S($){if($=v($),$.length!==f.length)throw new fr("Mismatched type converter count");for(var ue=0;ue<f.length;++ue)Ui(f[ue],$[ue])}f.forEach(function($){qr[$]=d});var D=Array(d.length),j=[],W=0;d.forEach(($,ue)=>{Cr.hasOwnProperty($)?D[ue]=Cr[$]:(j.push($),fi.hasOwnProperty($)||(fi[$]=[]),fi[$].push(()=>{D[ue]=Cr[$],++W,W===j.length&&S(D)}))}),j.length===0&&S(D)};function Gr(f,d,v={}){var S=d.name;if(!f)throw new be(`type "${S}" must have a positive integer typeid pointer`);if(Cr.hasOwnProperty(f)){if(v.Vb)return;throw new be(`Cannot register type '${S}' twice`)}Cr[f]=d,delete qr[f],fi.hasOwnProperty(f)&&(d=fi[f],delete fi[f],d.forEach(D=>D()))}function Ui(f,d,v={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Gr(f,d,v)}var la=f=>{throw new be(f.g.u.i.name+" instance already deleted")};function Ta(){}var ua=(f,d,v)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...D){if(!f[d].A.hasOwnProperty(D.length))throw new be(`Function '${v}' called with an invalid number of arguments (${D.length}) - expects one of (${f[d].A})!`);return f[d].A[D.length].apply(this,D)},f[d].A=[],f[d].A[S.da]=S}},xr=(f,d,v)=>{if(z.hasOwnProperty(f)){if(v===void 0||z[f].A!==void 0&&z[f].A[v]!==void 0)throw new be(`Cannot register public name '${f}' twice`);if(ua(z,f,f),z.hasOwnProperty(v))throw new be(`Cannot register multiple overloads of a function with the same number of arguments (${v})!`);z[f].A[v]=d}else z[f]=d,v!==void 0&&(z[f].Lc=v)},Mr=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function di(f,d,v,S,D,j,W,$){this.name=f,this.constructor=d,this.M=v,this.O=S,this.C=D,this.Qb=j,this.ma=W,this.Lb=$,this.pb=[]}var pr=(f,d,v)=>{for(;d!==v;){if(!d.ma)throw new be(`Expected null or instance of ${v.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function Yr(f,d){if(d===null){if(this.La)throw new be(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new be(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new be(`Cannot pass deleted object as a pointer of type ${this.name}`);return pr(d.g.o,d.g.u.i,this.i)}function Aa(f,d){if(d===null){if(this.La)throw new be(`null is not a valid ${this.name}`);if(this.sa){var v=this.Na();return f!==null&&f.push(this.O,v),v}return 0}if(!d||!d.g)throw new be(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new be(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new be(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(v=pr(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new be("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)v=d.g.F;else throw new be(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:v=d.g.F;break;case 2:if(d.g.J===this)v=d.g.F;else{var S=d.clone();v=this.ic(v,Pt(()=>S.delete())),f!==null&&f.push(this.O,v)}break;default:throw new be("Unsupporting sharing policy")}}return v}function To(f,d){if(d===null){if(this.La)throw new be(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new be(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new be(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new be(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return pr(d.g.o,d.g.u.i,this.i)}function Dr(f,d,v,S,D,j,W,$,ue,oe,Ve){this.name=f,this.i=d,this.La=v,this.ra=S,this.sa=D,this.hc=j,this.mc=W,this.qb=$,this.Na=ue,this.ic=oe,this.O=Ve,D||d.C!==void 0?this.toWireType=Aa:(this.toWireType=S?Yr:To,this.L=null)}var Ya=(f,d,v)=>{if(!z.hasOwnProperty(f))throw new fr("Replacing nonexistent public symbol");z[f].A!==void 0&&v!==void 0?z[f].A[v]=d:(z[f]=d,z[f].da=v)},tr=[],Xa,xs=f=>{var d=tr[f];return d||(f>=tr.length&&(tr.length=f+1),tr[f]=d=Xa.get(f)),d},Qa=(f,d,v=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,z["dynCall_"+f])(d,...v)):d=xs(d)(...v),d),Wo=(f,d)=>(...v)=>Qa(f,d,v),Jn=(f,d)=>{f=Ot(f);var v=f.includes("j")?Wo(f,d):xs(d);if(typeof v!="function")throw new be(`unknown function pointer with signature ${f}: ${d}`);return v},Sa,nr=(f,d)=>{function v(j){D[j]||Cr[j]||(qr[j]?qr[j].forEach(v):(S.push(j),D[j]=!0))}var S=[],D={};throw d.forEach(v),new Sa(`${f}: `+S.map(Ga).join([", "]))};function $o(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function ca(f,d,v,S,D){var j=d.length;if(2>j)throw new be("argTypes array size mismatch! Must at least get return value and 'this' types!");var W=d[1]!==null&&v!==null,$=$o(d),ue=d[0].name!=="void",oe=j-2,Ve=Array(oe),$e=[],st=[];return Pe(f,function(...J){if(J.length!==oe)throw new be(`function ${f} called with ${J.length} arguments, expected ${oe}`);if(st.length=0,$e.length=W?2:1,$e[0]=D,W){var je=d[1].toWireType(st,this);$e[1]=je}for(var nt=0;nt<oe;++nt)Ve[nt]=d[nt+2].toWireType(st,J[nt]),$e.push(Ve[nt]);if(J=S(...$e),$)mr(st);else for(nt=W?1:2;nt<d.length;nt++){var ze=nt===1?je:Ve[nt-2];d[nt].L!==null&&d[nt].L(ze)}return je=ue?d[0].fromWireType(J):void 0,je})}var Ka=(f,d)=>{for(var v=[],S=0;S<f;S++)v.push(xe[d+4*S>>2]);return v},Ms=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Nr=(f,d,v)=>{if(!(f instanceof Object))throw new be(`${v} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new be(`${v} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new be(`cannot call emscripten binding method ${v} on deleted object`);return pr(f.g.o,f.g.u.i,d.i)},Ds=f=>{9<f&&--ke[f+1]===0&&(ke[f]=void 0,He.push(f))},Jo={name:"emscripten::val",fromWireType:f=>{var d=kt(f);return Ds(f),d},toWireType:(f,d)=>Pt(d),argPackAdvance:8,readValueFromPointer:Ai,L:null},Zo=(f,d,v)=>{switch(d){case 1:return v?function(S){return this.fromWireType(Me[S])}:function(S){return this.fromWireType(P[S])};case 2:return v?function(S){return this.fromWireType(ae[S>>1])}:function(S){return this.fromWireType(Se[S>>1])};case 4:return v?function(S){return this.fromWireType(Ee[S>>2])}:function(S){return this.fromWireType(xe[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ns=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Ra=(f,d)=>{switch(d){case 4:return function(v){return this.fromWireType(Fe[v>>2])};case 8:return function(v){return this.fromWireType(We[v>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Si=(f,d,v)=>{switch(d){case 1:return v?S=>Me[S]:S=>P[S];case 2:return v?S=>ae[S>>1]:S=>Se[S>>1];case 4:return v?S=>Ee[S>>2]:S=>xe[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ao=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,el=(f,d)=>{for(var v=f>>1,S=v+d/2;!(v>=S)&&Se[v];)++v;if(v<<=1,32<v-f&&Ao)return Ao.decode(P.subarray(f,v));for(v="",S=0;!(S>=d/2);++S){var D=ae[f+2*S>>1];if(D==0)break;v+=String.fromCharCode(D)}return v},ha=(f,d,v)=>{if(v??=2147483647,2>v)return 0;v-=2;var S=d;v=v<2*f.length?v/2:f.length;for(var D=0;D<v;++D)ae[d>>1]=f.charCodeAt(D),d+=2;return ae[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var v=0,S="";!(v>=d/4);){var D=Ee[f+4*v>>2];if(D==0)break;++v,65536<=D?(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023)):S+=String.fromCharCode(D)}return S},A=(f,d,v)=>{if(v??=2147483647,4>v)return 0;var S=d;v=S+v-4;for(var D=0;D<f.length;++D){var j=f.charCodeAt(D);if(55296<=j&&57343>=j){var W=f.charCodeAt(++D);j=65536+((j&1023)<<10)|W&1023}if(Ee[d>>2]=j,d+=4,d+4>v)break}return Ee[d>>2]=0,d-S},O=f=>{for(var d=0,v=0;v<f.length;++v){var S=f.charCodeAt(v);55296<=S&&57343>=S&&++v,d+=4}return d},re=(f,d,v)=>{var S=[];return f=f.toWireType(S,v),S.length&&(xe[d>>2]=Pt(S)),f},de={},Ue=f=>{var d=de[f];return d===void 0?Ot(f):d},At=[],qn=f=>{var d=At.length;return At.push(f),d},sn=(f,d)=>{for(var v=Array(f),S=0;S<f;++S)v[S]=wa(xe[d+4*S>>2],"parameter "+S);return v},Mn=Reflect.construct,ji=[],gr={},yr=()=>{if(!ir){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:I||"./this.program"},d;for(d in gr)gr[d]===void 0?delete f[d]:f[d]=gr[d];var v=[];for(d in f)v.push(`${d}=${f[d]}`);ir=v}return ir},ir,Xr=f=>f%4===0&&(f%100!==0||f%400===0),Wa=[31,29,31,30,31,30,31,31,30,31,30,31],$a=[31,28,31,30,31,30,31,31,30,31,30,31],Af=(f,d,v,S)=>{function D(J,je,nt){for(J=typeof J=="number"?J.toString():J||"";J.length<je;)J=nt[0]+J;return J}function j(J,je){return D(J,je,"0")}function W(J,je){function nt(un){return 0>un?-1:0<un?1:0}var ze;return(ze=nt(J.getFullYear()-je.getFullYear()))===0&&(ze=nt(J.getMonth()-je.getMonth()))===0&&(ze=nt(J.getDate()-je.getDate())),ze}function $(J){switch(J.getDay()){case 0:return new Date(J.getFullYear()-1,11,29);case 1:return J;case 2:return new Date(J.getFullYear(),0,3);case 3:return new Date(J.getFullYear(),0,2);case 4:return new Date(J.getFullYear(),0,1);case 5:return new Date(J.getFullYear()-1,11,31);case 6:return new Date(J.getFullYear()-1,11,30)}}function ue(J){var je=J.ba;for(J=new Date(new Date(J.ca+1900,0,1).getTime());0<je;){var nt=J.getMonth(),ze=(Xr(J.getFullYear())?Wa:$a)[nt];if(je>ze-J.getDate())je-=ze-J.getDate()+1,J.setDate(1),11>nt?J.setMonth(nt+1):(J.setMonth(0),J.setFullYear(J.getFullYear()+1));else{J.setDate(J.getDate()+je);break}}return nt=new Date(J.getFullYear()+1,0,4),je=$(new Date(J.getFullYear(),0,4)),nt=$(nt),0>=W(je,J)?0>=W(nt,J)?J.getFullYear()+1:J.getFullYear():J.getFullYear()-1}var oe=xe[S+40>>2];S={pc:Ee[S>>2],oc:Ee[S+4>>2],Da:Ee[S+8>>2],Qa:Ee[S+12>>2],Ea:Ee[S+16>>2],ca:Ee[S+20>>2],R:Ee[S+24>>2],ba:Ee[S+28>>2],Nc:Ee[S+32>>2],nc:Ee[S+36>>2],qc:oe&&oe?tt(P,oe):""},v=v?tt(P,v):"",oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ve in oe)v=v.replace(new RegExp(Ve,"g"),oe[Ve]);var $e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),st="January February March April May June July August September October November December".split(" ");oe={"%a":J=>$e[J.R].substring(0,3),"%A":J=>$e[J.R],"%b":J=>st[J.Ea].substring(0,3),"%B":J=>st[J.Ea],"%C":J=>j((J.ca+1900)/100|0,2),"%d":J=>j(J.Qa,2),"%e":J=>D(J.Qa,2," "),"%g":J=>ue(J).toString().substring(2),"%G":ue,"%H":J=>j(J.Da,2),"%I":J=>(J=J.Da,J==0?J=12:12<J&&(J-=12),j(J,2)),"%j":J=>{for(var je=0,nt=0;nt<=J.Ea-1;je+=(Xr(J.ca+1900)?Wa:$a)[nt++]);return j(J.Qa+je,3)},"%m":J=>j(J.Ea+1,2),"%M":J=>j(J.oc,2),"%n":()=>`
`,"%p":J=>0<=J.Da&&12>J.Da?"AM":"PM","%S":J=>j(J.pc,2),"%t":()=>"	","%u":J=>J.R||7,"%U":J=>j(Math.floor((J.ba+7-J.R)/7),2),"%V":J=>{var je=Math.floor((J.ba+7-(J.R+6)%7)/7);if(2>=(J.R+371-J.ba-2)%7&&je++,je)je==53&&(nt=(J.R+371-J.ba)%7,nt==4||nt==3&&Xr(J.ca)||(je=1));else{je=52;var nt=(J.R+7-J.ba-1)%7;(nt==4||nt==5&&Xr(J.ca%400-1))&&je++}return j(je,2)},"%w":J=>J.R,"%W":J=>j(Math.floor((J.ba+7-(J.R+6)%7)/7),2),"%y":J=>(J.ca+1900).toString().substring(2),"%Y":J=>J.ca+1900,"%z":J=>{J=J.nc;var je=0<=J;return J=Math.abs(J)/60,(je?"+":"-")+("0000"+(J/60*100+J%60)).slice(-4)},"%Z":J=>J.qc,"%%":()=>"%"},v=v.replace(/%%/g,"\0\0");for(Ve in oe)v.includes(Ve)&&(v=v.replace(new RegExp(Ve,"g"),oe[Ve](S)));return v=v.replace(/\0\0/g,"%"),Ve=jn(v,!1),Ve.length>d?0:(Me.set(Ve,f),Ve.length-1)};[44].forEach(f=>{va[f]=new Xe(f),va[f].stack="<generic error, no stack>"}),Sr=Array(4096),On(gt,"/"),Bn("/tmp"),Bn("/home"),Bn("/home/web_user"),(function(){Bn("/dev"),Li(259,{read:()=>0,write:(S,D,j,W)=>W}),gi("/dev/null",259),Ht(1280,xn),Ht(1536,Xn),gi("/dev/tty",1280),gi("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,v=()=>(d===0&&(d=et(f).byteLength),f[--d]);he("random",v),he("urandom",v),Bn("/dev/shm"),Bn("/dev/shm/tmp")})(),(function(){Bn("/proc");var f=Bn("/proc/self");Bn("/proc/self/fd"),On({U(){var d=Cs(f,"fd",16895,73);return d.j={ja(v,S){var D=bi(+S);return v={parent:null,U:{lb:"fake"},j:{la:()=>D.path}},v.parent=v}},d}},"/proc/self/fd")})(),be=z.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},ke.push(0,1,void 0,1,null,1,!0,1,!1,1),z.count_emval_handles=()=>ke.length/2-5-He.length,Zi=z.PureVirtualError=yn("PureVirtualError");for(var mc=Array(256),tl=0;256>tl;++tl)mc[tl]=String.fromCharCode(tl);Ti=mc,z.getInheritedInstanceCount=()=>Object.keys(ur).length,z.getLiveInheritedInstances=()=>{var f=[],d;for(d in ur)ur.hasOwnProperty(d)&&f.push(ur[d]);return f},z.flushPendingDeletes=Hr,z.setDelayFunction=f=>{ri=f,ba.length&&ri&&ri(Hr)},fr=z.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(Ta.prototype,{isAliasOf:function(f){if(!(this instanceof Ta&&f instanceof Ta))return!1;var d=this.g.u.i,v=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)v=d.ma(v),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&v===f},clone:function(){if(this.g.o||la(this),this.g.ha)return this.g.count.value+=1,this;var f=dr,d=Object,v=d.create,S=Object.getPrototypeOf(this),D=this.g;return f=f(v.call(d,S,{g:{value:{count:D.count,ea:D.ea,ha:D.ha,o:D.o,u:D.u,F:D.F,J:D.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||la(this),this.g.ea&&!this.g.ha)throw new be("Object already scheduled for deletion");Ir(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||la(this),this.g.ea&&!this.g.ha)throw new be("Object already scheduled for deletion");return ba.push(this),ba.length===1&&ri&&ri(Hr),this.g.ea=!0,this}}),Object.assign(Dr.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:Ai,fromWireType:function(f){function d(){return this.sa?er(this.i.M,{u:this.hc,o:v,J:this,F:f}):er(this.i.M,{u:this,o:f})}var v=this.Rb(f);if(!v)return this.ab(f),null;var S=hr(this.i,v);if(S!==void 0)return S.g.count.value===0?(S.g.o=v,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(v),S=Is[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var D=cr(v,this.i,S.i);return D===null?d.call(this):this.sa?er(S.i.M,{u:S,o:D,J:this,F:f}):er(S.i.M,{u:S,o:D})}}),Sa=z.UnboundTypeError=yn("UnboundTypeError");var eu={__syscall_fcntl64:function(f,d,v){Qe=v;try{var S=bi(f);switch(d){case 0:var D=g();if(0>D)break;for(;Ki[D];)D++;return Qn(S,D).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return D=g(),S.flags|=D,0;case 12:return D=g(),ae[D+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(j){if(typeof ve>"u"||j.name!=="ErrnoError")throw j;return-j.$}},__syscall_ioctl:function(f,d,v){Qe=v;try{var S=bi(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var D=g();Ee[D>>2]=25856,Ee[D+4>>2]=5,Ee[D+8>>2]=191,Ee[D+12>>2]=35387;for(var j=0;32>j;j++)Me[D+j+17]=f[j]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(D=g(),f=[],j=0;32>j;j++)f.push(Me[D+j+17]);return 0;case 21519:return S.s?(D=g(),Ee[D>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(D=g(),!S.m.Wb)throw new Xe(59);return S.m.Wb(S,d,D);case 21523:return S.s?(S.s.V.Zb&&(j=[24,80],D=g(),ae[D>>1]=j[0],ae[D+2>>1]=j[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(W){if(typeof ve>"u"||W.name!=="ErrnoError")throw W;return-W.$}},__syscall_openat:function(f,d,v,S){Qe=S;try{d=d?tt(P,d):"";var D=d;if(D.charAt(0)==="/")d=D;else{var j=f===-100?"/":bi(f).path;if(D.length==0)throw new Xe(44);d=N(j+"/"+D)}var W=S?g():0;return Br(d,v,W).W}catch($){if(typeof ve>"u"||$.name!=="ErrnoError")throw $;return-$.$}},_abort_js:()=>{zt("")},_embind_create_inheriting_constructor:(f,d,v)=>{f=Ot(f),d=wa(d,"wrapper"),v=kt(v);var S=d.i,D=S.M,j=S.C.M,W=S.C.constructor;return f=Pe(f,function(...$){S.C.pb.forEach((function(ue){if(this[ue]===j[ue])throw new Zi(`Pure virtual function ${ue} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:D}),this.__construct(...$)}),D.__construct=function(...$){if(this===D)throw new be("Pass correct 'this' to __construct");$=W.implement(this,...$),Ir($);var ue=$.g;if($.notifyOnDestruction(),ue.ha=!0,Object.defineProperties(this,{g:{value:ue}}),dr(this),$=ue.o,$=qa(S,$),ur.hasOwnProperty($))throw new be(`Tried to register registered instance: ${$}`);ur[$]=this},D.__destruct=function(){if(this===D)throw new be("Pass correct 'this' to __destruct");Ir(this);var $=this.g.o;if($=qa(S,$),ur.hasOwnProperty($))delete ur[$];else throw new be(`Tried to unregister unregistered instance: ${$}`)},f.prototype=Object.create(D),Object.assign(f.prototype,v),Pt(f)},_embind_finalize_value_object:f=>{var d=oa[f];delete oa[f];var v=d.Na,S=d.O,D=d.eb,j=D.map(W=>W.Ub).concat(D.map(W=>W.kc));Dt([f],j,W=>{var $={};return D.forEach((ue,oe)=>{var Ve=W[oe],$e=ue.Sb,st=ue.Tb,J=W[oe+D.length],je=ue.jc,nt=ue.lc;$[ue.Ob]={read:ze=>Ve.fromWireType($e(st,ze)),write:(ze,un)=>{var Je=[];je(nt,ze,J.toWireType(Je,un)),mr(Je)}}}),[{name:d.name,fromWireType:ue=>{var oe={},Ve;for(Ve in $)oe[Ve]=$[Ve].read(ue);return S(ue),oe},toWireType:(ue,oe)=>{for(var Ve in $)if(!(Ve in oe))throw new TypeError(`Missing field: "${Ve}"`);var $e=v();for(Ve in $)$[Ve].write($e,oe[Ve]);return ue!==null&&ue.push(S,$e),$e},argPackAdvance:8,readValueFromPointer:Ai,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,v,S)=>{d=Ot(d),Ui(f,{name:d,fromWireType:function(D){return!!D},toWireType:function(D,j){return j?v:S},argPackAdvance:8,readValueFromPointer:function(D){return this.fromWireType(P[D])},L:null})},_embind_register_class:(f,d,v,S,D,j,W,$,ue,oe,Ve,$e,st)=>{Ve=Ot(Ve),j=Jn(D,j),$&&=Jn(W,$),oe&&=Jn(ue,oe),st=Jn($e,st);var J=Mr(Ve);xr(J,function(){nr(`Cannot construct ${Ve} due to unbound types`,[S])}),Dt([f,d,v],S?[S]:[],je=>{if(je=je[0],S)var nt=je.i,ze=nt.M;else ze=Ta.prototype;je=Pe(Ve,function(...vn){if(Object.getPrototypeOf(this)!==un)throw new be("Use 'new' to construct "+Ve);if(Je.Z===void 0)throw new be(Ve+" has no accessible constructor");var Zn=Je.Z[vn.length];if(Zn===void 0)throw new be(`Tried to invoke ctor of ${Ve} with invalid number of parameters (${vn.length}) - expected (${Object.keys(Je.Z).toString()}) parameters instead!`);return Zn.apply(this,vn)});var un=Object.create(ze,{constructor:{value:je}});je.prototype=un;var Je=new di(Ve,je,un,st,nt,j,$,oe);if(Je.C){var Lt;(Lt=Je.C).na??(Lt.na=[]),Je.C.na.push(Je)}return nt=new Dr(Ve,Je,!0,!1,!1),Lt=new Dr(Ve+"*",Je,!1,!1,!1),ze=new Dr(Ve+" const*",Je,!1,!0,!1),Is[f]={pointerType:Lt,Hb:ze},Ya(J,je),[nt,Lt,ze]})},_embind_register_class_class_function:(f,d,v,S,D,j,W)=>{var $=Ka(v,S);d=Ot(d),d=Ms(d),j=Jn(D,j),Dt([],[f],ue=>{function oe(){nr(`Cannot call ${Ve} due to unbound types`,$)}ue=ue[0];var Ve=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var $e=ue.i.constructor;return $e[d]===void 0?(oe.da=v-1,$e[d]=oe):(ua($e,d,Ve),$e[d].A[v-1]=oe),Dt([],$,st=>{if(st=ca(Ve,[st[0],null].concat(st.slice(1)),null,j,W),$e[d].A===void 0?(st.da=v-1,$e[d]=st):$e[d].A[v-1]=st,ue.i.na)for(const J of ue.i.na)J.constructor.hasOwnProperty(d)||(J.constructor[d]=st);return[]}),[]})},_embind_register_class_class_property:(f,d,v,S,D,j,W,$)=>{d=Ot(d),j=Jn(D,j),Dt([],[f],ue=>{ue=ue[0];var oe=`${ue.name}.${d}`,Ve={get(){nr(`Cannot access ${oe} due to unbound types`,[v])},enumerable:!0,configurable:!0};return Ve.set=$?()=>{nr(`Cannot access ${oe} due to unbound types`,[v])}:()=>{throw new be(`${oe} is a read-only property`)},Object.defineProperty(ue.i.constructor,d,Ve),Dt([],[v],$e=>{$e=$e[0];var st={get(){return $e.fromWireType(j(S))},enumerable:!0};return $&&($=Jn(W,$),st.set=J=>{var je=[];$(S,$e.toWireType(je,J)),mr(je)}),Object.defineProperty(ue.i.constructor,d,st),[]}),[]})},_embind_register_class_constructor:(f,d,v,S,D,j)=>{var W=Ka(d,v);D=Jn(S,D),Dt([],[f],$=>{$=$[0];var ue=`constructor ${$.name}`;if($.i.Z===void 0&&($.i.Z=[]),$.i.Z[d-1]!==void 0)throw new be(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${$.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return $.i.Z[d-1]=()=>{nr(`Cannot construct ${$.name} due to unbound types`,W)},Dt([],W,oe=>(oe.splice(1,0,null),$.i.Z[d-1]=ca(ue,oe,null,D,j),[])),[]})},_embind_register_class_function:(f,d,v,S,D,j,W,$)=>{var ue=Ka(v,S);d=Ot(d),d=Ms(d),j=Jn(D,j),Dt([],[f],oe=>{function Ve(){nr(`Cannot call ${$e} due to unbound types`,ue)}oe=oe[0];var $e=`${oe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),$&&oe.i.pb.push(d);var st=oe.i.M,J=st[d];return J===void 0||J.A===void 0&&J.className!==oe.name&&J.da===v-2?(Ve.da=v-2,Ve.className=oe.name,st[d]=Ve):(ua(st,d,$e),st[d].A[v-2]=Ve),Dt([],ue,je=>(je=ca($e,je,oe,j,W),st[d].A===void 0?(je.da=v-2,st[d]=je):st[d].A[v-2]=je,[])),[]})},_embind_register_class_property:(f,d,v,S,D,j,W,$,ue,oe)=>{d=Ot(d),D=Jn(S,D),Dt([],[f],Ve=>{Ve=Ve[0];var $e=`${Ve.name}.${d}`,st={get(){nr(`Cannot access ${$e} due to unbound types`,[v,W])},enumerable:!0,configurable:!0};return st.set=ue?()=>nr(`Cannot access ${$e} due to unbound types`,[v,W]):()=>{throw new be($e+" is a read-only property")},Object.defineProperty(Ve.i.M,d,st),Dt([],ue?[v,W]:[v],J=>{var je=J[0],nt={get(){var un=Nr(this,Ve,$e+" getter");return je.fromWireType(D(j,un))},enumerable:!0};if(ue){ue=Jn($,ue);var ze=J[1];nt.set=function(un){var Je=Nr(this,Ve,$e+" setter"),Lt=[];ue(oe,Je,ze.toWireType(Lt,un)),mr(Lt)}}return Object.defineProperty(Ve.i.M,d,nt),[]}),[]})},_embind_register_emval:f=>Ui(f,Jo),_embind_register_enum:(f,d,v,S)=>{function D(){}d=Ot(d),D.values={},Ui(f,{name:d,constructor:D,fromWireType:function(j){return this.constructor.values[j]},toWireType:(j,W)=>W.value,argPackAdvance:8,readValueFromPointer:Zo(d,v,S),L:null}),xr(d,D)},_embind_register_enum_value:(f,d,v)=>{var S=wa(f,"enum");d=Ot(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:v},constructor:{value:Pe(`${S.name}_${d}`,function(){})}}),f.values[v]=S,f[d]=S},_embind_register_float:(f,d,v)=>{d=Ot(d),Ui(f,{name:d,fromWireType:S=>S,toWireType:(S,D)=>D,argPackAdvance:8,readValueFromPointer:Ra(d,v),L:null})},_embind_register_function:(f,d,v,S,D,j)=>{var W=Ka(d,v);f=Ot(f),f=Ms(f),D=Jn(S,D),xr(f,function(){nr(`Cannot call ${f} due to unbound types`,W)},d-1),Dt([],W,$=>(Ya(f,ca(f,[$[0],null].concat($.slice(1)),null,D,j),d-1),[]))},_embind_register_integer:(f,d,v,S,D)=>{if(d=Ot(d),D===-1&&(D=4294967295),D=$=>$,S===0){var j=32-8*v;D=$=>$<<j>>>j}var W=d.includes("unsigned")?function($,ue){return ue>>>0}:function($,ue){return ue};Ui(f,{name:d,fromWireType:D,toWireType:W,argPackAdvance:8,readValueFromPointer:Si(d,v,S!==0),L:null})},_embind_register_memory_view:(f,d,v)=>{function S(j){return new D(Me.buffer,xe[j+4>>2],xe[j>>2])}var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];v=Ot(v),Ui(f,{name:v,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=Ot(d);var v=d==="std::string";Ui(f,{name:d,fromWireType:function(S){var D=xe[S>>2],j=S+4;if(v)for(var W=j,$=0;$<=D;++$){var ue=j+$;if($==D||P[ue]==0){if(W=W?tt(P,W,ue-W):"",oe===void 0)var oe=W;else oe+="\0",oe+=W;W=ue+1}}else{for(oe=Array(D),$=0;$<D;++$)oe[$]=String.fromCharCode(P[j+$]);oe=oe.join("")}return rr(S),oe},toWireType:function(S,D){D instanceof ArrayBuffer&&(D=new Uint8Array(D));var j=typeof D=="string";if(!(j||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array))throw new be("Cannot pass non-string to std::string");var W=v&&j?wn(D):D.length,$=Ja(4+W+1),ue=$+4;if(xe[$>>2]=W,v&&j)ln(D,P,ue,W+1);else if(j)for(j=0;j<W;++j){var oe=D.charCodeAt(j);if(255<oe)throw rr(ue),new be("String has UTF-16 code units that do not fit in 8 bits");P[ue+j]=oe}else for(j=0;j<W;++j)P[ue+j]=D[j];return S!==null&&S.push(rr,$),$},argPackAdvance:8,readValueFromPointer:Ai,L(S){rr(S)}})},_embind_register_std_wstring:(f,d,v)=>{if(v=Ot(v),d===2)var S=el,D=ha,j=u,W=$=>Se[$>>1];else d===4&&(S=y,D=A,j=O,W=$=>xe[$>>2]);Ui(f,{name:v,fromWireType:$=>{for(var ue=xe[$>>2],oe,Ve=$+4,$e=0;$e<=ue;++$e){var st=$+4+$e*d;($e==ue||W(st)==0)&&(Ve=S(Ve,st-Ve),oe===void 0?oe=Ve:(oe+="\0",oe+=Ve),Ve=st+d)}return rr($),oe},toWireType:($,ue)=>{if(typeof ue!="string")throw new be(`Cannot pass non-string to C++ string type ${v}`);var oe=j(ue),Ve=Ja(4+oe+d);return xe[Ve>>2]=oe/d,D(ue,Ve+4,oe+d),$!==null&&$.push(rr,Ve),Ve},argPackAdvance:8,readValueFromPointer:Ai,L($){rr($)}})},_embind_register_value_object:(f,d,v,S,D,j)=>{oa[f]={name:Ot(d),Na:Jn(v,S),O:Jn(D,j),eb:[]}},_embind_register_value_object_field:(f,d,v,S,D,j,W,$,ue,oe)=>{oa[f].eb.push({Ob:Ot(d),Ub:v,Sb:Jn(S,D),Tb:j,kc:W,jc:Jn($,ue),lc:oe})},_embind_register_void:(f,d)=>{d=Ot(d),Ui(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,v)=>P.copyWithin(f,d,d+v),_emval_as:(f,d,v)=>(f=kt(f),d=wa(d,"emval::as"),re(d,v,f)),_emval_call_method:(f,d,v,S,D)=>(f=At[f],d=kt(d),v=Ue(v),f(d,d[v],S,D)),_emval_decref:Ds,_emval_get_method_caller:(f,d,v)=>{var S=sn(f,d),D=S.shift();f--;var j=Array(f);return d=`methodCaller<(${S.map(W=>W.name).join(", ")}) => ${D.name}>`,qn(Pe(d,(W,$,ue,oe)=>{for(var Ve=0,$e=0;$e<f;++$e)j[$e]=S[$e].readValueFromPointer(oe+Ve),Ve+=S[$e].argPackAdvance;return W=v===1?Mn($,j):$.apply(W,j),re(D,ue,W)}))},_emval_get_module_property:f=>(f=Ue(f),Pt(z[f])),_emval_get_property:(f,d)=>(f=kt(f),d=kt(d),Pt(f[d])),_emval_incref:f=>{9<f&&(ke[f+1]+=1)},_emval_new_array:()=>Pt([]),_emval_new_cstring:f=>Pt(Ue(f)),_emval_new_object:()=>Pt({}),_emval_run_destructors:f=>{var d=kt(f);mr(d),Ds(f)},_emval_set_property:(f,d,v)=>{f=kt(f),d=kt(d),v=kt(v),f[d]=v},_emval_take_value:(f,d)=>(f=wa(f,"_emval_take_value"),f=f.readValueFromPointer(d),Pt(f)),emscripten_asm_const_int:(f,d,v)=>{ji.length=0;for(var S;S=P[d++];){var D=S!=105;D&=S!=112,v+=D&&v%8?4:0,ji.push(S==112?xe[v>>2]:S==105?Ee[v>>2]:We[v>>3]),v+=D?8:4}return gn[f](...ji)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=P.length;if(f>>>=0,2147483648<f)return!1;for(var v=1;4>=v;v*=2){var S=d*(1+.2/v);S=Math.min(S,f+100663296);var D=Math;S=Math.max(f,S);e:{D=(D.min.call(D,2147483648,S+(65536-S%65536)%65536)-ye.buffer.byteLength+65535)/65536;try{ye.grow(D),ut();var j=1;break e}catch{}j=void 0}if(j)return!0}return!1},environ_get:(f,d)=>{var v=0;return yr().forEach((S,D)=>{var j=d+v;for(D=xe[f+4*D>>2]=j,j=0;j<S.length;++j)Me[D++]=S.charCodeAt(j);Me[D]=0,v+=S.length+1}),0},environ_sizes_get:(f,d)=>{var v=yr();xe[f>>2]=v.length;var S=0;return v.forEach(D=>S+=D.length+1),xe[d>>2]=S,0},fd_close:function(f){try{var d=bi(f);if(d.W===null)throw new Xe(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(v){throw v}finally{Ki[d.W]=null}return d.W=null,0}catch(v){if(typeof ve>"u"||v.name!=="ErrnoError")throw v;return v.$}},fd_read:function(f,d,v,S){try{e:{var D=bi(f);f=d;for(var j,W=d=0;W<v;W++){var $=xe[f>>2],ue=xe[f+4>>2];f+=8;var oe=D,Ve=j,$e=Me;if(0>ue||0>Ve)throw new Xe(28);if(oe.W===null)throw new Xe(8);if((oe.flags&2097155)===1)throw new Xe(8);if((oe.node.mode&61440)===16384)throw new Xe(31);if(!oe.m.read)throw new Xe(28);var st=typeof Ve<"u";if(!st)Ve=oe.position;else if(!oe.seekable)throw new Xe(70);var J=oe.m.read(oe,$e,$,ue,Ve);st||(oe.position+=J);var je=J;if(0>je){var nt=-1;break e}if(d+=je,je<ue)break;typeof j<"u"&&(j+=je)}nt=d}return xe[S>>2]=nt,0}catch(ze){if(typeof ve>"u"||ze.name!=="ErrnoError")throw ze;return ze.$}},fd_seek:function(f,d,v,S,D){d=v+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*v:NaN;try{if(isNaN(d))return 61;var j=bi(f);return Fr(j,d,S),Ft=[j.position>>>0,(Un=j.position,1<=+Math.abs(Un)?0<Un?+Math.floor(Un/4294967296)>>>0:~~+Math.ceil((Un-+(~~Un>>>0))/4294967296)>>>0:0)],Ee[D>>2]=Ft[0],Ee[D+4>>2]=Ft[1],j.Ka&&d===0&&S===0&&(j.Ka=null),0}catch(W){if(typeof ve>"u"||W.name!=="ErrnoError")throw W;return W.$}},fd_write:function(f,d,v,S){try{e:{var D=bi(f);f=d;for(var j,W=d=0;W<v;W++){var $=xe[f>>2],ue=xe[f+4>>2];f+=8;var oe=D,Ve=$,$e=ue,st=j,J=Me;if(0>$e||0>st)throw new Xe(28);if(oe.W===null)throw new Xe(8);if((oe.flags&2097155)===0)throw new Xe(8);if((oe.node.mode&61440)===16384)throw new Xe(31);if(!oe.m.write)throw new Xe(28);oe.seekable&&oe.flags&1024&&Fr(oe,0,2);var je=typeof st<"u";if(!je)st=oe.position;else if(!oe.seekable)throw new Xe(70);var nt=oe.m.write(oe,J,Ve,$e,st,void 0);je||(oe.position+=nt);var ze=nt;if(0>ze){var un=-1;break e}d+=ze,typeof j<"u"&&(j+=ze)}un=d}return xe[S>>2]=un,0}catch(Je){if(typeof ve>"u"||Je.name!=="ErrnoError")throw Je;return Je.$}},strftime_l:(f,d,v,S)=>Af(f,d,v,S)},Vn=(function(){function f(v){return Vn=v.exports,ye=Vn.memory,ut(),Xa=Vn.__indirect_function_table,Ct.unshift(Vn.__wasm_call_ctors),Et--,z.monitorRunDependencies?.(Et),Et==0&&jt&&(v=jt,jt=null,v()),Vn}var d={env:eu,wasi_snapshot_preview1:eu};if(Et++,z.monitorRunDependencies?.(Et),z.instantiateWasm)try{return z.instantiateWasm(d,f)}catch(v){H(`Module.instantiateWasm callback failed with error: ${v}`),Re(v)}return yt||=Nn("canvas_advanced.wasm")?"canvas_advanced.wasm":z.locateFile?z.locateFile("canvas_advanced.wasm",k):k+"canvas_advanced.wasm",Yi(d,function(v){f(v.instance)}).catch(Re),{}})(),rr=f=>(rr=Vn.free)(f),Ja=f=>(Ja=Vn.malloc)(f),pc=f=>(pc=Vn.__getTypeName)(f),So=z._ma_device__on_notification_unlocked=f=>(So=z._ma_device__on_notification_unlocked=Vn.ma_device__on_notification_unlocked)(f);z._ma_malloc_emscripten=(f,d)=>(z._ma_malloc_emscripten=Vn.ma_malloc_emscripten)(f,d),z._ma_free_emscripten=(f,d)=>(z._ma_free_emscripten=Vn.ma_free_emscripten)(f,d);var tu=z._ma_device_process_pcm_frames_capture__webaudio=(f,d,v)=>(tu=z._ma_device_process_pcm_frames_capture__webaudio=Vn.ma_device_process_pcm_frames_capture__webaudio)(f,d,v),nu=z._ma_device_process_pcm_frames_playback__webaudio=(f,d,v)=>(nu=z._ma_device_process_pcm_frames_playback__webaudio=Vn.ma_device_process_pcm_frames_playback__webaudio)(f,d,v);z.dynCall_iiji=(f,d,v,S,D)=>(z.dynCall_iiji=Vn.dynCall_iiji)(f,d,v,S,D),z.dynCall_jiji=(f,d,v,S,D)=>(z.dynCall_jiji=Vn.dynCall_jiji)(f,d,v,S,D),z.dynCall_iiiji=(f,d,v,S,D,j)=>(z.dynCall_iiiji=Vn.dynCall_iiiji)(f,d,v,S,D,j),z.dynCall_iij=(f,d,v,S)=>(z.dynCall_iij=Vn.dynCall_iij)(f,d,v,S),z.dynCall_jii=(f,d,v)=>(z.dynCall_jii=Vn.dynCall_jii)(f,d,v),z.dynCall_viijii=(f,d,v,S,D,j,W)=>(z.dynCall_viijii=Vn.dynCall_viijii)(f,d,v,S,D,j,W),z.dynCall_iiiiij=(f,d,v,S,D,j,W)=>(z.dynCall_iiiiij=Vn.dynCall_iiiiij)(f,d,v,S,D,j,W),z.dynCall_iiiiijj=(f,d,v,S,D,j,W,$,ue)=>(z.dynCall_iiiiijj=Vn.dynCall_iiiiijj)(f,d,v,S,D,j,W,$,ue),z.dynCall_iiiiiijj=(f,d,v,S,D,j,W,$,ue,oe)=>(z.dynCall_iiiiiijj=Vn.dynCall_iiiiiijj)(f,d,v,S,D,j,W,$,ue,oe);var Os;jt=function f(){Os||nl(),Os||(jt=f)};function nl(){function f(){if(!Os&&(Os=!0,z.calledRun=!0,!fe)){if(z.noFSInit||ne||(ne=!0,z.stdin=z.stdin,z.stdout=z.stdout,z.stderr=z.stderr,z.stdin?he("stdin",z.stdin):Ei("/dev/tty","/dev/stdin"),z.stdout?he("stdout",null,z.stdout):Ei("/dev/tty","/dev/stdout"),z.stderr?he("stderr",null,z.stderr):Ei("/dev/tty1","/dev/stderr"),Br("/dev/stdin",0),Br("/dev/stdout",1),Br("/dev/stderr",1)),lr=!1,R(Ct),Oe(z),z.onRuntimeInitialized&&z.onRuntimeInitialized(),z.postRun)for(typeof z.postRun=="function"&&(z.postRun=[z.postRun]);z.postRun.length;){var d=z.postRun.shift();an.unshift(d)}R(an)}}if(!(0<Et)){if(z.preRun)for(typeof z.preRun=="function"&&(z.preRun=[z.preRun]);z.preRun.length;)ft();R(_t),0<Et||(z.setStatus?(z.setStatus("Running..."),setTimeout(function(){setTimeout(function(){z.setStatus("")},1),f()},1)):f())}}if(z.preInit)for(typeof z.preInit=="function"&&(z.preInit=[z.preInit]);0<z.preInit.length;)z.preInit.pop()();return nl(),te=Le,te})})();const x=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function x(L,q,te,z){this.animation=L,this.artboard=q,this.playing=z,this.loopCount=0,this.scrubTo=null,this.instance=new te.LinearAnimationInstance(L,q)}return Object.defineProperty(x.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"time",{get:function(){return this.instance.time},set:function(L){this.instance.time=L},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),x.prototype.advance=function(L){this.scrubTo===null?this.instance.advance(L):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},x.prototype.apply=function(L){this.instance.apply(L)},x.prototype.cleanup=function(){this.instance.delete()},x})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>L.AudioAssetWrapper,AudioWrapper:()=>L.AudioWrapper,BLANK_URL:()=>x.BLANK_URL,CustomFileAssetLoaderWrapper:()=>L.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>L.FileAssetWrapper,FileFinalizer:()=>L.FileFinalizer,FontAssetWrapper:()=>L.FontAssetWrapper,FontWrapper:()=>L.FontWrapper,ImageAssetWrapper:()=>L.ImageAssetWrapper,ImageWrapper:()=>L.ImageWrapper,createFinalization:()=>L.createFinalization,finalizationRegistry:()=>L.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>x.sanitizeUrl});var E=w(6),x=w(7),L=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>L});var E=void 0,x=function(q,te,z){var Oe,Re,Le=[];if(["touchstart","touchmove"].indexOf(q.type)>-1&&(!((Oe=q.changedTouches)===null||Oe===void 0)&&Oe.length)){te||q.preventDefault();for(var Be=0,qe=z?q.changedTouches.length:1;Be<qe;){var Ke=q.changedTouches[Be];Le.push({clientX:Ke.clientX,clientY:Ke.clientY,identifier:Ke.identifier}),Be++}}else if(q.type==="touchend"&&(!((Re=q.changedTouches)===null||Re===void 0)&&Re.length))for(var Be=0,qe=z?q.changedTouches.length:1;Be<qe;){var Ke=q.changedTouches[Be];Le.push({clientX:Ke.clientX,clientY:Ke.clientY,identifier:Ke.identifier}),Be++}else Le.push({clientX:q.clientX,clientY:q.clientY,identifier:0});return Le},L=function(q){var te=q.canvas,z=q.artboard,Oe=q.stateMachines,Re=Oe===void 0?[]:Oe,Le=q.renderer,Be=q.rive,qe=q.fit,Ke=q.alignment,ht=q.isTouchScrollEnabled,ot=ht===void 0?!1:ht,F=q.dispatchPointerExit,U=F===void 0?!0:F,V=q.enableMultiTouch,B=V===void 0?!1:V,I=q.layoutScaleFactor,k=I===void 0?1:I;if(!te||!Re.length||!Le||!Be||!z||typeof window>"u")return null;var C=null,X=!1,ie=function(Z){if(X&&Z instanceof MouseEvent){Z.type=="mouseup"&&(X=!1);return}X=ot&&Z.type==="touchend"&&C==="touchstart",C=Z.type;var ye=Z.currentTarget.getBoundingClientRect(),fe=x(Z,ot,B),Me=Be.computeAlignment(qe,Ke,{minX:0,minY:0,maxX:ye.width,maxY:ye.height},z.bounds,k),P=new Be.Mat2D;switch(Me.invert(P),fe.forEach(function(yt){var rt=yt.clientX,fn=yt.clientY;if(!(!rt&&!fn)){var tn=rt-ye.left,Yi=fn-ye.top,Un=new Be.Vec2D(tn,Yi),Ft=Be.mapXY(P,Un),gn=Ft.x(),R=Ft.y();yt.transformedX=gn,yt.transformedY=R,Ft.delete(),Un.delete()}}),P.delete(),Me.delete(),Z.type){case"mouseout":for(var ae=function(yt){U?fe.forEach(function(rt){yt.pointerExit(rt.transformedX,rt.transformedY,rt.identifier)}):fe.forEach(function(rt){yt.pointerMove(rt.transformedX,rt.transformedY,rt.identifier)})},Se=0,Ee=Re;Se<Ee.length;Se++){var xe=Ee[Se];ae(xe)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Fe=function(yt){fe.forEach(function(rt){yt.pointerMove(rt.transformedX,rt.transformedY,rt.identifier)})},We=0,ut=Re;We<ut.length;We++){var xe=ut[We];Fe(xe)}break}case"touchstart":case"mousedown":{for(var _t=function(yt){fe.forEach(function(rt){yt.pointerDown(rt.transformedX,rt.transformedY,rt.identifier)})},Ct=0,an=Re;Ct<an.length;Ct++){var xe=an[Ct];_t(xe)}break}case"touchend":{for(var ft=function(yt){fe.forEach(function(rt){yt.pointerUp(rt.transformedX,rt.transformedY,rt.identifier),yt.pointerExit(rt.transformedX,rt.transformedY,rt.identifier)})},Et=0,jt=Re;Et<jt.length;Et++){var xe=jt[Et];ft(xe)}break}case"mouseup":{for(var zt=function(yt){fe.forEach(function(rt){yt.pointerUp(rt.transformedX,rt.transformedY,rt.identifier)})},Nn=0,ii=Re;Nn<ii.length;Nn++){var xe=ii[Nn];zt(xe)}break}}},H=ie.bind(E);return te.addEventListener("mouseover",H),te.addEventListener("mouseout",H),te.addEventListener("mousemove",H),te.addEventListener("mousedown",H),te.addEventListener("mouseup",H),te.addEventListener("touchmove",H,{passive:ot}),te.addEventListener("touchstart",H,{passive:ot}),te.addEventListener("touchend",H),function(){te.removeEventListener("mouseover",H),te.removeEventListener("mouseout",H),te.removeEventListener("mousemove",H),te.removeEventListener("mousedown",H),te.removeEventListener("mouseup",H),te.removeEventListener("touchmove",H),te.removeEventListener("touchstart",H),te.removeEventListener("touchend",H)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>Oe,sanitizeUrl:()=>Be});var E=/^([^\w]*)(javascript|data|vbscript)/im,x=/&#(\w+)(^\w|;)?/g,L=/&(newline|tab);/gi,q=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,te=/^.+(:|&colon;)/gim,z=[".","/"],Oe="about:blank";function Re(qe){return z.indexOf(qe[0])>-1}function Le(qe){var Ke=qe.replace(q,"");return Ke.replace(x,function(ht,ot){return String.fromCharCode(ot)})}function Be(qe){if(!qe)return Oe;var Ke=Le(qe).replace(L,"").replace(q,"").trim();if(!Ke)return Oe;if(Re(Ke))return Ke;var ht=Ke.match(te);if(!ht)return Ke;var ot=ht[0];return E.test(ot)?Oe:Ke}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>qe,AudioWrapper:()=>z,CustomFileAssetLoaderWrapper:()=>Re,FileAssetWrapper:()=>Le,FileFinalizer:()=>x,FontAssetWrapper:()=>Ke,FontWrapper:()=>Oe,ImageAssetWrapper:()=>Be,ImageWrapper:()=>te,createFinalization:()=>U,finalizationRegistry:()=>F});var E=(function(){var V=function(B,I){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,C){k.__proto__=C}||function(k,C){for(var X in C)Object.prototype.hasOwnProperty.call(C,X)&&(k[X]=C[X])},V(B,I)};return function(B,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");V(B,I);function k(){this.constructor=B}B.prototype=I===null?Object.create(I):(k.prototype=I.prototype,new k)}})(),x=(function(){function V(B){this.selfUnref=!1,this._file=B}return V.prototype.unref=function(){this._file&&this._file.unref()},V})(),L=(function(){function V(B){this._finalizableObject=B}return V.prototype.unref=function(){this._finalizableObject.unref()},V})(),q=(function(){function V(){this.selfUnref=!1}return V.prototype.unref=function(){},V})(),te=(function(V){E(B,V);function B(I){var k=V.call(this)||this;return k._nativeImage=I,k}return Object.defineProperty(B.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},B})(q),z=(function(V){E(B,V);function B(I){var k=V.call(this)||this;return k._nativeAudio=I,k}return Object.defineProperty(B.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},B})(q),Oe=(function(V){E(B,V);function B(I){var k=V.call(this)||this;return k._nativeFont=I,k}return Object.defineProperty(B.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},B})(q),Re=(function(){function V(B,I){this._assetLoaderCallback=I,this.assetLoader=new B.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return V.prototype.loadContents=function(B,I){var k;return B.isImage?k=new Be(B):B.isAudio?k=new qe(B):B.isFont&&(k=new Ke(B)),this._assetLoaderCallback(k,I)},V})(),Le=(function(){function V(B){this._nativeFileAsset=B}return V.prototype.decode=function(B){this._nativeFileAsset.decode(B)},Object.defineProperty(V.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),V})(),Be=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setRenderImage=function(I){this._nativeFileAsset.setRenderImage(I.nativeImage)},B})(Le),qe=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setAudioSource=function(I){this._nativeFileAsset.setAudioSource(I.nativeAudio)},B})(Le),Ke=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setFont=function(I){this._nativeFileAsset.setFont(I.nativeFont)},B})(Le),ht=(function(){function V(B){}return V.prototype.register=function(B){B.selfUnref=!0},V.prototype.unregister=function(B){},V})(),ot=typeof FinalizationRegistry<"u"?FinalizationRegistry:ht,F=new ot(function(V){V?.unref()}),U=function(V,B){var I=new L(B);F.register(V,I)}})],s={};function l(p){var b=s[p];if(b!==void 0)return b.exports;var w=s[p]={exports:{}};return i[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>Be,DataEnum:()=>We,EventType:()=>C,Fit:()=>Le,Layout:()=>qe,LoopType:()=>X,Rive:()=>xe,RiveEventType:()=>F,RiveFile:()=>Ee,RuntimeLoader:()=>Ke,StateMachineInput:()=>ot,StateMachineInputType:()=>ht,Testing:()=>Yi,ViewModel:()=>Fe,ViewModelInstance:()=>_t,ViewModelInstanceArtboard:()=>rt,ViewModelInstanceAssetImage:()=>yt,ViewModelInstanceBoolean:()=>Et,ViewModelInstanceColor:()=>ii,ViewModelInstanceEnum:()=>zt,ViewModelInstanceList:()=>Nn,ViewModelInstanceNumber:()=>ft,ViewModelInstanceString:()=>an,ViewModelInstanceTrigger:()=>jt,ViewModelInstanceValue:()=>Ct,decodeAudio:()=>Un,decodeFont:()=>gn,decodeImage:()=>Ft});var p=l(1),b=l(2),w=l(3),E=l(5),x=(function(){var R=function(g,_){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,K){N.__proto__=K}||function(N,K){for(var me in K)Object.prototype.hasOwnProperty.call(K,me)&&(N[me]=K[me])},R(g,_)};return function(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");R(g,_);function N(){this.constructor=g}g.prototype=_===null?Object.create(_):(N.prototype=_.prototype,new N)}})(),L=function(){return L=Object.assign||function(R){for(var g,_=1,N=arguments.length;_<N;_++){g=arguments[_];for(var K in g)Object.prototype.hasOwnProperty.call(g,K)&&(R[K]=g[K])}return R},L.apply(this,arguments)},q=function(R,g,_,N){function K(me){return me instanceof _?me:new _(function(De){De(me)})}return new(_||(_=Promise))(function(me,De){function et(tt){try{Ye(N.next(tt))}catch(Zt){De(Zt)}}function at(tt){try{Ye(N.throw(tt))}catch(Zt){De(Zt)}}function Ye(tt){tt.done?me(tt.value):K(tt.value).then(et,at)}Ye((N=N.apply(R,g||[])).next())})},te=function(R,g){var _={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},N,K,me,De=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return De.next=et(0),De.throw=et(1),De.return=et(2),typeof Symbol=="function"&&(De[Symbol.iterator]=function(){return this}),De;function et(Ye){return function(tt){return at([Ye,tt])}}function at(Ye){if(N)throw new TypeError("Generator is already executing.");for(;De&&(De=0,Ye[0]&&(_=0)),_;)try{if(N=1,K&&(me=Ye[0]&2?K.return:Ye[0]?K.throw||((me=K.return)&&me.call(K),0):K.next)&&!(me=me.call(K,Ye[1])).done)return me;switch(K=0,me&&(Ye=[Ye[0]&2,me.value]),Ye[0]){case 0:case 1:me=Ye;break;case 4:return _.label++,{value:Ye[1],done:!1};case 5:_.label++,K=Ye[1],Ye=[0];continue;case 7:Ye=_.ops.pop(),_.trys.pop();continue;default:if(me=_.trys,!(me=me.length>0&&me[me.length-1])&&(Ye[0]===6||Ye[0]===2)){_=0;continue}if(Ye[0]===3&&(!me||Ye[1]>me[0]&&Ye[1]<me[3])){_.label=Ye[1];break}if(Ye[0]===6&&_.label<me[1]){_.label=me[1],me=Ye;break}if(me&&_.label<me[2]){_.label=me[2],_.ops.push(Ye);break}me[2]&&_.ops.pop(),_.trys.pop();continue}Ye=g.call(R,_)}catch(tt){Ye=[6,tt],K=0}finally{N=me=0}if(Ye[0]&5)throw Ye[1];return{value:Ye[0]?Ye[1]:void 0,done:!0}}},z=function(R,g,_){if(_||arguments.length===2)for(var N=0,K=g.length,me;N<K;N++)(me||!(N in g))&&(me||(me=Array.prototype.slice.call(g,0,N)),me[N]=g[N]);return R.concat(me||Array.prototype.slice.call(g))},Oe=(function(R){x(g,R);function g(){var _=R!==null&&R.apply(this,arguments)||this;return _.isHandledError=!0,_}return g})(Error),Re=function(R){return R&&R.isHandledError?R.message:"Problem loading file; may be corrupt!"},Le;(function(R){R.Cover="cover",R.Contain="contain",R.Fill="fill",R.FitWidth="fitWidth",R.FitHeight="fitHeight",R.None="none",R.ScaleDown="scaleDown",R.Layout="layout"})(Le||(Le={}));var Be;(function(R){R.Center="center",R.TopLeft="topLeft",R.TopCenter="topCenter",R.TopRight="topRight",R.CenterLeft="centerLeft",R.CenterRight="centerRight",R.BottomLeft="bottomLeft",R.BottomCenter="bottomCenter",R.BottomRight="bottomRight"})(Be||(Be={}));var qe=(function(){function R(g){var _,N,K,me,De,et,at;this.fit=(_=g?.fit)!==null&&_!==void 0?_:Le.Contain,this.alignment=(N=g?.alignment)!==null&&N!==void 0?N:Be.Center,this.layoutScaleFactor=(K=g?.layoutScaleFactor)!==null&&K!==void 0?K:1,this.minX=(me=g?.minX)!==null&&me!==void 0?me:0,this.minY=(De=g?.minY)!==null&&De!==void 0?De:0,this.maxX=(et=g?.maxX)!==null&&et!==void 0?et:0,this.maxY=(at=g?.maxY)!==null&&at!==void 0?at:0}return R.new=function(g){var _=g.fit,N=g.alignment,K=g.minX,me=g.minY,De=g.maxX,et=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new R({fit:_,alignment:N,minX:K,minY:me,maxX:De,maxY:et})},R.prototype.copyWith=function(g){var _=g.fit,N=g.alignment,K=g.layoutScaleFactor,me=g.minX,De=g.minY,et=g.maxX,at=g.maxY;return new R({fit:_??this.fit,alignment:N??this.alignment,layoutScaleFactor:K??this.layoutScaleFactor,minX:me??this.minX,minY:De??this.minY,maxX:et??this.maxX,maxY:at??this.maxY})},R.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var _;return this.fit===Le.Cover?_=g.Fit.cover:this.fit===Le.Contain?_=g.Fit.contain:this.fit===Le.Fill?_=g.Fit.fill:this.fit===Le.FitWidth?_=g.Fit.fitWidth:this.fit===Le.FitHeight?_=g.Fit.fitHeight:this.fit===Le.ScaleDown?_=g.Fit.scaleDown:this.fit===Le.Layout?_=g.Fit.layout:_=g.Fit.none,this.cachedRuntimeFit=_,_},R.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var _;return this.alignment===Be.TopLeft?_=g.Alignment.topLeft:this.alignment===Be.TopCenter?_=g.Alignment.topCenter:this.alignment===Be.TopRight?_=g.Alignment.topRight:this.alignment===Be.CenterLeft?_=g.Alignment.centerLeft:this.alignment===Be.CenterRight?_=g.Alignment.centerRight:this.alignment===Be.BottomLeft?_=g.Alignment.bottomLeft:this.alignment===Be.BottomCenter?_=g.Alignment.bottomCenter:this.alignment===Be.BottomRight?_=g.Alignment.bottomRight:_=g.Alignment.center,this.cachedRuntimeAlignment=_,_},R})(),Ke=(function(){function R(){}return R.loadRuntime=function(){p.default({locateFile:function(){return R.wasmURL}}).then(function(g){var _;for(R.runtime=g;R.callBackQueue.length>0;)(_=R.callBackQueue.shift())===null||_===void 0||_(R.runtime)}).catch(function(g){var _={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",_);var N="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(R.wasmURL.toLowerCase()!==N)console.warn("Failed to load WASM from ".concat(R.wasmURL," (").concat(_.message,"), trying jsdelivr as a backup")),R.setWasmUrl(N),R.loadRuntime();else{var K=["Could not load Rive WASM file from ".concat(R.wasmURL," or ").concat(N,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(_.type),"- Message: ".concat(_.message),"- WebAssembly-specific error: ".concat(_.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(K)}})},R.getInstance=function(g){R.isLoading||(R.isLoading=!0,R.loadRuntime()),R.runtime?g(R.runtime):R.callBackQueue.push(g)},R.awaitInstance=function(){return new Promise(function(g){return R.getInstance(function(_){return g(_)})})},R.setWasmUrl=function(g){R.wasmURL=g},R.getWasmUrl=function(){return R.wasmURL},R.isLoading=!1,R.callBackQueue=[],R.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),R})(),ht;(function(R){R[R.Number=56]="Number",R[R.Trigger=58]="Trigger",R[R.Boolean=59]="Boolean"})(ht||(ht={}));var ot=(function(){function R(g,_){this.type=g,this.runtimeInput=_}return Object.defineProperty(R.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),R.prototype.fire=function(){this.type===ht.Trigger&&this.runtimeInput.fire()},R.prototype.delete=function(){this.runtimeInput=null},R})(),F;(function(R){R[R.General=128]="General",R[R.OpenUrl=131]="OpenUrl"})(F||(F={}));var U=(function(){function R(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return R})(),V=(function(R){x(g,R);function g(_,N){var K=R.call(this,!1)||this;return K.nativeArtboard=_,K.file=N,K}return g})(U),B=(function(R){x(g,R);function g(_){var N=R.call(this,!0)||this;return N.selfUnref=!1,N.nativeArtboard=_,N}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(U),I=(function(){function R(g,_,N,K){this.stateMachine=g,this.playing=N,this.artboard=K,this.inputs=[],this.instance=new _.StateMachineInstance(g,K),this.initInputs(_)}return Object.defineProperty(R.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"statesChanged",{get:function(){for(var g=[],_=0;_<this.instance.stateChangedCount();_++)g.push(this.instance.stateChangedNameByIndex(_));return g},enumerable:!1,configurable:!0}),R.prototype.advance=function(g){this.instance.advance(g)},R.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},R.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},R.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},R.prototype.initInputs=function(g){for(var _=0;_<this.instance.inputCount();_++){var N=this.instance.input(_);this.inputs.push(this.mapRuntimeInput(N,g))}},R.prototype.mapRuntimeInput=function(g,_){if(g.type===_.SMIInput.bool)return new ot(ht.Boolean,g.asBool());if(g.type===_.SMIInput.number)return new ot(ht.Number,g.asNumber());if(g.type===_.SMIInput.trigger)return new ot(ht.Trigger,g.asTrigger())},R.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},R.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},R})(),k=(function(){function R(g,_,N,K,me){K===void 0&&(K=[]),me===void 0&&(me=[]),this.runtime=g,this.artboard=_,this.eventManager=N,this.animations=K,this.stateMachines=me}return R.prototype.add=function(g,_,N){if(N===void 0&&(N=!0),g=tn(g),g.length===0)this.animations.forEach(function(ln){return ln.playing=_}),this.stateMachines.forEach(function(ln){return ln.playing=_});else for(var K=this.animations.map(function(ln){return ln.name}),me=this.stateMachines.map(function(ln){return ln.name}),De=0;De<g.length;De++){var et=K.indexOf(g[De]),at=me.indexOf(g[De]);if(et>=0||at>=0)et>=0?this.animations[et].playing=_:this.stateMachines[at].playing=_;else{var Ye=this.artboard.animationByName(g[De]);if(Ye){var tt=new w.Animation(Ye,this.artboard,this.runtime,_);tt.advance(0),tt.apply(1),this.animations.push(tt)}else{var Zt=this.artboard.stateMachineByName(g[De]);if(Zt){var wn=new I(Zt,this.runtime,_,this.artboard);this.stateMachines.push(wn)}}}}return N&&(_?this.eventManager.fire({type:C.Play,data:this.playing}):this.eventManager.fire({type:C.Pause,data:this.paused})),_?this.playing:this.paused},R.prototype.initLinearAnimations=function(g,_){for(var N=this.animations.map(function(at){return at.name}),K=0;K<g.length;K++){var me=N.indexOf(g[K]);if(me>=0)this.animations[me].playing=_;else{var De=this.artboard.animationByName(g[K]);if(De){var et=new w.Animation(De,this.artboard,this.runtime,_);et.advance(0),et.apply(1),this.animations.push(et)}else console.error("Animation with name ".concat(g[K]," not found."))}}},R.prototype.initStateMachines=function(g,_){for(var N=this.stateMachines.map(function(at){return at.name}),K=0;K<g.length;K++){var me=N.indexOf(g[K]);if(me>=0)this.stateMachines[me].playing=_;else{var De=this.artboard.stateMachineByName(g[K]);if(De){var et=new I(De,this.runtime,_,this.artboard);this.stateMachines.push(et)}else console.warn("State Machine with name ".concat(g[K]," not found.")),this.initLinearAnimations([g[K]],_)}}},R.prototype.play=function(g){return this.add(g,!0)},R.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},R.prototype.pause=function(g){return this.add(g,!1)},R.prototype.scrub=function(g,_){var N=this.animations.filter(function(K){return g.includes(K.name)});return N.forEach(function(K){return K.scrubTo=_}),N.map(function(K){return K.name})},Object.defineProperty(R.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),R.prototype.stop=function(g){var _=this;g=tn(g);var N=[];if(g.length===0)N=this.animations.map(function(De){return De.name}).concat(this.stateMachines.map(function(De){return De.name})),this.animations.forEach(function(De){return De.cleanup()}),this.stateMachines.forEach(function(De){return De.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var K=this.animations.filter(function(De){return g.includes(De.name)});K.forEach(function(De){De.cleanup(),_.animations.splice(_.animations.indexOf(De),1)});var me=this.stateMachines.filter(function(De){return g.includes(De.name)});me.forEach(function(De){De.cleanup(),_.stateMachines.splice(_.stateMachines.indexOf(De),1)}),N=K.map(function(De){return De.name}).concat(me.map(function(De){return De.name}))}return this.eventManager.fire({type:C.Stop,data:N}),N},Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,_){return g||_.playing},!1)||this.stateMachines.reduce(function(g,_){return g||_.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),R.prototype.atLeastOne=function(g,_){_===void 0&&(_=!0);var N;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([N=this.artboard.animationByIndex(0).name],g,_):this.artboard.stateMachineCount()>0&&this.add([N=this.artboard.stateMachineByIndex(0).name],g,_)),N},R.prototype.handleLooping=function(){for(var g=0,_=this.animations.filter(function(K){return K.playing});g<_.length;g++){var N=_[g];N.loopValue===0&&N.loopCount?(N.loopCount=0,this.stop(N.name)):N.loopValue===1&&N.loopCount?(this.eventManager.fire({type:C.Loop,data:{animation:N.name,type:X.Loop}}),N.loopCount=0):N.loopValue===2&&N.loopCount>1&&(this.eventManager.fire({type:C.Loop,data:{animation:N.name,type:X.PingPong}}),N.loopCount=0)}},R.prototype.handleStateChanges=function(){for(var g=[],_=0,N=this.stateMachines.filter(function(me){return me.playing});_<N.length;_++){var K=N[_];g.push.apply(g,K.statesChanged)}g.length>0&&this.eventManager.fire({type:C.StateChange,data:g})},R.prototype.handleAdvancing=function(g){this.eventManager.fire({type:C.Advance,data:g})},R})(),C;(function(R){R.Load="load",R.LoadError="loaderror",R.Play="play",R.Pause="pause",R.Stop="stop",R.Loop="loop",R.Draw="draw",R.Advance="advance",R.StateChange="statechange",R.RiveEvent="riveevent",R.AudioStatusChange="audiostatuschange"})(C||(C={}));var X;(function(R){R.OneShot="oneshot",R.Loop="loop",R.PingPong="pingpong"})(X||(X={}));var ie=(function(){function R(g){g===void 0&&(g=[]),this.listeners=g}return R.prototype.getListeners=function(g){return this.listeners.filter(function(_){return _.type===g})},R.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},R.prototype.remove=function(g){for(var _=0;_<this.listeners.length;_++){var N=this.listeners[_];if(N.type===g.type&&N.callback===g.callback){this.listeners.splice(_,1);break}}},R.prototype.removeAll=function(g){var _=this;g?this.listeners.filter(function(N){return N.type===g}).forEach(function(N){return _.remove(N)}):this.listeners.splice(0,this.listeners.length)},R.prototype.fire=function(g){var _=this.getListeners(g.type);_.forEach(function(N){return N.callback(g)})},R})(),H=(function(){function R(g){this.eventManager=g,this.queue=[]}return R.prototype.add=function(g){this.queue.push(g)},R.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},R})(),Z;(function(R){R[R.AVAILABLE=0]="AVAILABLE",R[R.UNAVAILABLE=1]="UNAVAILABLE"})(Z||(Z={}));var ye=(function(R){x(g,R);function g(){var _=R!==null&&R.apply(this,arguments)||this;return _._started=!1,_._enabled=!1,_._status=Z.UNAVAILABLE,_}return g.prototype.delay=function(_){return q(this,void 0,void 0,function(){return te(this,function(N){return[2,new Promise(function(K){return setTimeout(K,_)})]})})},g.prototype.timeout=function(){return q(this,void 0,void 0,function(){return te(this,function(_){return[2,new Promise(function(N,K){return setTimeout(K,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:C.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return q(this,void 0,void 0,function(){return te(this,function(_){return this._enabled||(this._enabled=!0,this._status=Z.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return q(this,void 0,void 0,function(){return te(this,function(_){switch(_.label){case 0:if(!(this._status===Z.UNAVAILABLE&&this._audioContext!==null))return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return _.sent(),this.enableAudio(),[3,4];case 3:return _.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return q(this,void 0,void 0,function(){return te(this,function(_){switch(_.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),_.label=2;case 2:return this._status!==Z.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return _.sent(),[4,this.delay(1e3)];case 4:return _.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var _=this,N=function(){return q(_,void 0,void 0,function(){return te(this,function(K){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",N,{once:!0})},g.prototype.establishAudio=function(){return q(this,void 0,void 0,function(){return te(this,function(_){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===Z.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(ie),fe=new ye,Me=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),P=globalThis.ResizeObserver||Me,ae=(function(){function R(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(_){var N=g._elementsMap.get(_.target);N!==null?N.onResize(_.target.clientWidth==0||_.target.clientHeight==0):g._resizeObserver.unobserve(_.target)},this._onObserved=function(_){_.forEach(g._onObservedEntry)},this._resizeObserver=new P(this._onObserved)}return R.prototype.add=function(g,_){var N={onResize:_,element:g};return this._elementsMap.set(g,N),this._resizeObserver.observe(g),N},R.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},R})(),Se=new ae,Ee=(function(){function R(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new ie,g.onLoad&&this.on(C.Load,g.onLoad),g.onLoadError&&this.on(C.LoadError,g.onLoadError)}return R.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},R.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},R.prototype.initData=function(){return q(this,void 0,void 0,function(){var g,_,N,K,me;return te(this,function(De){switch(De.label){case 0:return this.src?(g=this,[4,fn(this.src)]):[3,2];case 1:g.buffer=De.sent(),De.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(N=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),_=N.assetLoader),K=this,[4,this.runtime.load(new Uint8Array(this.buffer),_,this.enableRiveAssetCDN)]);case 3:return K.file=De.sent(),me=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,me),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:C.Load,data:this}):this.fireLoadError(R.fileLoadErrorMessage),[2])}})})},R.prototype.init=function(){return q(this,void 0,void 0,function(){var g,_;return te(this,function(N){switch(N.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(R.missingErrorMessage),[2];N.label=1;case 1:return N.trys.push([1,4,,5]),g=this,[4,Ke.awaitInstance()];case 2:return g.runtime=N.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return N.sent(),[3,5];case 4:return _=N.sent(),this.fireLoadError(_ instanceof Error?_.message:R.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},R.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:C.LoadError,data:g}),new Error(g)},R.prototype.on=function(g,_){this.eventManager.add({type:g,callback:_})},R.prototype.off=function(g,_){this.eventManager.remove({type:g,callback:_})},R.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},R.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},R.prototype.createBindableArtboard=function(g){if(g!=null){var _=new B(g);return(0,E.createFinalization)(_,_.nativeArtboard),this.bindableArtboards.push(_),_}return null},R.prototype.getArtboard=function(g){var _=this.file.artboardByName(g);if(_!=null)return new V(_,this)},R.prototype.getBindableArtboard=function(g){var _=this.file.bindableArtboardByName(g);return this.createBindableArtboard(_)},R.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},R.prototype.internalBindableArtboardFromArtboard=function(g){var _=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(_)},R.missingErrorMessage="Rive source file or data buffer required",R.fileLoadErrorMessage="The file failed to load",R})(),xe=(function(){function R(g){var _=this,N;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(K){var me=_._hasZeroSize!==K;_._hasZeroSize=K,K?(!_._layout.maxX||!_._layout.maxY)&&_.resizeToCanvas():me&&_.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Se.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(N=g.layout)!==null&&N!==void 0?N:new qe,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new ie,g.onLoad&&this.on(C.Load,g.onLoad),g.onLoadError&&this.on(C.LoadError,g.onLoadError),g.onPlay&&this.on(C.Play,g.onPlay),g.onPause&&this.on(C.Pause,g.onPause),g.onStop&&this.on(C.Stop,g.onStop),g.onLoop&&this.on(C.Loop,g.onLoop),g.onStateChange&&this.on(C.StateChange,g.onStateChange),g.onAdvance&&this.on(C.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(C.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(C.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(C.Play,g.onplay),g.onpause&&!g.onPause&&this.on(C.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(C.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(C.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(C.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new H(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(R.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),R.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new R(g)},R.prototype.onSystemAudioChanged=function(){this.volume=this._volume},R.prototype.init=function(g){var _=this,N=g.src,K=g.buffer,me=g.riveFile,De=g.animations,et=g.stateMachines,at=g.artboard,Ye=g.autoplay,tt=Ye===void 0?!1:Ye,Zt=g.useOffscreenRenderer,wn=Zt===void 0?!1:Zt,ln=g.autoBind,jn=ln===void 0?!1:ln;if(!this.destroyed){if(this.src=N,this.buffer=K,this.riveFile=me,!this.src&&!this.buffer&&!this.riveFile)throw new Oe(R.missingErrorMessage);var Yn=tn(De),Ht=tn(et);this.loaded=!1,this.readyForPlaying=!1,Ke.awaitInstance().then(function(An){_.destroyed||(_.runtime=An,_.removeRiveListeners(),_.deleteRiveRenderer(),_.renderer=_.runtime.makeRenderer(_.canvas,wn),_.canvas.width||_.canvas.height||_.resizeDrawingSurfaceToCanvas(),_.initData(at,Yn,Ht,tt,jn).then(function(xn){if(xn)return _.setupRiveListeners()}).catch(function(xn){console.error(xn)}))}).catch(function(An){console.error(An)})}},R.prototype.setupRiveListeners=function(g){var _=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var N=(this.animator.stateMachines||[]).filter(function(et){return et.playing&&_.runtime.hasListeners(et.instance)}).map(function(et){return et.instance}),K=this.isTouchScrollEnabled,me=this.dispatchPointerExit,De=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(K=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:N,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:K,dispatchPointerExit:me,enableMultiTouch:De,layoutScaleFactor:this._layout.layoutScaleFactor})}},R.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},R.prototype.initializeAudio=function(){var g=this,_;fe.status==Z.UNAVAILABLE&&!((_=this.artboard)===null||_===void 0)&&_.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:C.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},fe.add(this._audioEventListener),fe.establishAudio())},R.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},R.prototype.initData=function(g,_,N,K,me){return q(this,void 0,void 0,function(){var De,et,at,Ye;return te(this,function(tt){switch(tt.label){case 0:return tt.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(De=new Ee({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=De,[4,De.init()]);case 1:if(tt.sent(),this.destroyed)return De.destroyIfUnused(),[2,!1];tt.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,_,N,K,me),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:C.Load,data:(Ye=this.src)!==null&&Ye!==void 0?Ye:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return et=tt.sent(),at=Re(et),console.warn(at),this.eventManager.fire({type:C.LoadError,data:at}),[2,Promise.reject(at)];case 4:return[2]}})})},R.prototype.initArtboard=function(g,_,N,K,me){if(this.file){var De=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!De){var et="Invalid artboard name or no default artboard";console.warn(et),this.eventManager.fire({type:C.LoadError,data:et});return}this.artboard=De,De.volume=this._volume*fe.systemVolume,this.animator=new k(this.runtime,this.artboard,this.eventManager);var at;if(_.length>0||N.length>0?(at=_.concat(N),this.animator.initLinearAnimations(_,K),this.animator.initStateMachines(N,K)):at=[this.animator.atLeastOne(K,!1)],this.taskQueue.add({event:{type:K?C.Play:C.Pause,data:at}}),me){var Ye=this.file.defaultArtboardViewModel(De);if(Ye!==null){var tt=Ye.defaultInstance();if(tt!==null){var Zt=new _t(tt,null);(0,E.createFinalization)(Zt,Zt.runtimeInstance),this.bindViewModelInstance(Zt)}}}}},R.prototype.drawFrame=function(){var g,_;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(_=this.runtime)===null||_===void 0||_.resolveAnimationFrame()):this.startRendering()},R.prototype.draw=function(g,_){var N;this.frameRequestId=null;var K=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,_?.());var me=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var De=this.animator.animations.filter(function(Qi){return Qi.playing||Qi.needsScrub}).sort(function(Qi){return Qi.needsScrub?-1:1}),et=0,at=De;et<at.length;et++){var Ye=at[et];Ye.advance(me),Ye.instance.didLoop&&(Ye.loopCount+=1),Ye.apply(1)}for(var tt=this.animator.stateMachines.filter(function(Qi){return Qi.playing}),Zt=0,wn=tt;Zt<wn.length;Zt++){var ln=wn[Zt],jn=ln.reportedEventCount();if(jn)for(var Yn=0;Yn<jn;Yn++){var Ht=ln.reportedEventAt(Yn);if(Ht)if(Ht.type===F.OpenUrl){if(this.eventManager.fire({type:C.RiveEvent,data:Ht}),this.automaticallyHandleEvents){var An=document.createElement("a"),xn=Ht,Xn=xn.url,Xi=xn.target,gt=(0,E.sanitizeUrl)(Xn);Xn&&An.setAttribute("href",gt),Xi&&An.setAttribute("target",Xi),gt&&gt!==E.BLANK_URL&&An.click()}}else this.eventManager.fire({type:C.RiveEvent,data:Ht})}ln.advanceAndApply(me)}this.animator.stateMachines.length==0&&this.artboard.advance(me);var Hn=this.renderer;Hn.clear(),Hn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Hn),Hn.restore(),Hn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(me),this.frameCount++;var St=performance.now();for(this.frameTimes.push(St),this.durations.push(St-K);this.frameTimes[0]<=St-1e3;)this.frameTimes.shift(),this.durations.shift();(N=this._viewModelInstance)===null||N===void 0||N.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},R.prototype.alignRenderer=function(){var g=this,_=g.renderer,N=g.runtime,K=g._layout,me=g.artboard;_.align(K.runtimeFit(N),K.runtimeAlignment(N),{minX:K.minX,minY:K.minY,maxX:K.maxX,maxY:K.maxY},me.bounds,this._devicePixelRatioUsed*K.layoutScaleFactor)},Object.defineProperty(R.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,_){return g+_},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),R.prototype.cleanup=function(){var g,_;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Se.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(fe.remove(this._audioEventListener),this._audioEventListener=null),(_=this._viewModelInstance)===null||_===void 0||_.cleanup(),this._viewModelInstance=null,this._dataEnums=null},R.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},R.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},R.prototype.retrieveTextRun=function(g){var _;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var N=this.artboard.textRun(g);if(!N){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((_=this.artboard)===null||_===void 0?void 0:_.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return N},R.prototype.getTextRunValue=function(g){var _=this.retrieveTextRun(g);return _?_.text:void 0},R.prototype.setTextRunValue=function(g,_){var N=this.retrieveTextRun(g);N&&(N.text=_)},R.prototype.play=function(g,_){var N=this;if(g=tn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return N.play(g,_)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},R.prototype.pause=function(g){var _=this;if(g=tn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return _.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},R.prototype.scrub=function(g,_){var N=this;if(g=tn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return N.scrub(g,_)}});return}this.animator.scrub(g,_||0),this.drawFrame()},R.prototype.stop=function(g){var _=this;if(g=tn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return _.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},R.prototype.reset=function(g){var _,N,K=g?.artboard,me=tn(g?.animations),De=tn(g?.stateMachines),et=(_=g?.autoplay)!==null&&_!==void 0?_:!1,at=(N=g?.autoBind)!==null&&N!==void 0?N:!1;this.cleanupInstances(),this.initArtboard(K,me,De,et,at),this.taskQueue.process()},R.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(R.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),R.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},R.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var _=this.canvas.getBoundingClientRect(),N=_.width,K=_.height,me=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=me,this.canvas.width=me*N,this.canvas.height=me*K,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Le.Layout){var De=this._layout.layoutScaleFactor;this.artboard.width=N/De,this.artboard.height=K/De}}},Object.defineProperty(R.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],_=0;_<this.artboard.animationCount();_++)g.push(this.artboard.animationByIndex(_).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],_=0;_<this.artboard.stateMachineCount();_++)g.push(this.artboard.stateMachineByIndex(_).name);return g},enumerable:!1,configurable:!0}),R.prototype.stateMachineInputs=function(g){if(this.loaded){var _=this.animator.stateMachines.find(function(N){return N.name===g});return _?.inputs}},R.prototype.retrieveInputAtPath=function(g,_){if(!g){console.warn("No input name provided for path '".concat(_,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(_,"', but the Artboard is null"));return}var N=this.artboard.inputByPath(g,_);if(!N){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(_,"'"));return}return N},R.prototype.setBooleanStateAtPath=function(g,_,N){var K=this.retrieveInputAtPath(g,N);K&&(K.type===ht.Boolean?K.asBool().value=_:console.warn("Input with name: '".concat(g,"', at path:'").concat(N,"' is not a boolean")))},R.prototype.setNumberStateAtPath=function(g,_,N){var K=this.retrieveInputAtPath(g,N);K&&(K.type===ht.Number?K.asNumber().value=_:console.warn("Input with name: '".concat(g,"', at path:'").concat(N,"' is not a number")))},R.prototype.fireStateAtPath=function(g,_){var N=this.retrieveInputAtPath(g,_);N&&(N.type===ht.Trigger?N.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(_,"' is not a trigger")))},R.prototype.retrieveTextAtPath=function(g,_){if(!g){console.warn("No text name provided for path '".concat(_,"'"));return}if(!_){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(_,"', but the Artboard is null"));return}var N=this.artboard.textByPath(g,_);if(!N){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(_,"'"));return}return N},R.prototype.getTextRunValueAtPath=function(g,_){var N=this.retrieveTextAtPath(g,_);if(!N){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(_,"'"));return}return N.text},R.prototype.setTextRunValueAtPath=function(g,_,N){var K=this.retrieveTextAtPath(g,N);if(!K){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(N,"'"));return}K.text=_},Object.defineProperty(R.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),R.prototype.on=function(g,_){this.eventManager.add({type:g,callback:_})},R.prototype.off=function(g,_){this.eventManager.remove({type:g,callback:_})},R.prototype.unsubscribe=function(g,_){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,_)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},R.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},R.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},R.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},R.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(R.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},_=0;_<this.file.artboardCount();_++){for(var N=this.file.artboardByIndex(_),K={name:N.name,animations:[],stateMachines:[]},me=0;me<N.animationCount();me++){var De=N.animationByIndex(me);K.animations.push(De.name)}for(var et=0;et<N.stateMachineCount();et++){for(var at=N.stateMachineByIndex(et),Ye=at.name,tt=new this.runtime.StateMachineInstance(at,N),Zt=[],wn=0;wn<tt.inputCount();wn++){var ln=tt.input(wn);Zt.push({name:ln.name,type:ln.type})}K.stateMachines.push({name:Ye,inputs:Zt})}g.artboards.push(K)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*fe.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),R.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(R.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),R.prototype.bindViewModelInstance=function(g){var _;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(_=this._viewModelInstance)===null||_===void 0||_.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(N){return N.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(R.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),R.prototype.viewModelByIndex=function(g){var _=this.file.viewModelByIndex(g);return _!==null?new Fe(_):null},R.prototype.viewModelByName=function(g){var _=this.file.viewModelByName(g);return _!==null?new Fe(_):null},R.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(_){return new We(_)})}return this._dataEnums},R.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new Fe(g)}return null},R.prototype.getArtboard=function(g){var _,N;return(N=(_=this.riveFile)===null||_===void 0?void 0:_.getArtboard(g))!==null&&N!==void 0?N:null},R.prototype.getBindableArtboard=function(g){var _,N;return(N=(_=this.riveFile)===null||_===void 0?void 0:_.getBindableArtboard(g))!==null&&N!==void 0?N:null},R.prototype.getDefaultBindableArtboard=function(){var g,_;return(_=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&_!==void 0?_:null},R.missingErrorMessage="Rive source file or data buffer required",R.cleanupErrorMessage="Attempt to use file after calling cleanup.",R})(),Fe=(function(){function R(g){this._viewModel=g}return Object.defineProperty(R.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),R.prototype.instanceByIndex=function(g){var _=this._viewModel.instanceByIndex(g);if(_!==null){var N=new _t(_,null);return(0,E.createFinalization)(N,_),N}return null},R.prototype.instanceByName=function(g){var _=this._viewModel.instanceByName(g);if(_!==null){var N=new _t(_,null);return(0,E.createFinalization)(N,_),N}return null},R.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var _=new _t(g,null);return(0,E.createFinalization)(_,g),_}return null},R.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var _=new _t(g,null);return(0,E.createFinalization)(_,g),_}return null},Object.defineProperty(R.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),R})(),We=(function(){function R(g){this._dataEnum=g}return Object.defineProperty(R.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),R})(),ut;(function(R){R.Number="number",R.String="string",R.Boolean="boolean",R.Color="color",R.Trigger="trigger",R.Enum="enum",R.List="list",R.Image="image",R.Artboard="artboard"})(ut||(ut={}));var _t=(function(){function R(g,_){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,_!==null&&this._parents.push(_)}return Object.defineProperty(R.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),R.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},R.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},R.prototype.removeParent=function(g){var _=this._parents.indexOf(g);if(_!==-1){var N=this._parents[_];N.removeFromViewModelCallbacks(this),this._parents.splice(_,1)}},R.prototype.addToPropertyCallbacks=function(g){var _=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(N){N.addToViewModelCallbacks(_)}))},R.prototype.removeFromPropertyCallbacks=function(g){var _=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(N){return N!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(N){N.removeFromViewModelCallbacks(_)}))},R.prototype.addToViewModelCallbacks=function(g){var _=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(N){N.addToViewModelCallbacks(_)}))},R.prototype.removeFromViewModelCallbacks=function(g){var _=this;this._children.includes(g)&&(this._children=this._children.filter(function(N){return N!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(N){N.removeFromViewModelCallbacks(_)}))},R.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},R.prototype.propertyFromPath=function(g,_){var N=g.split("/");return this.propertyFromPathSegments(N,0,_)},R.prototype.viewModelFromPathSegments=function(g,_){var N=this.internalViewModelInstance(g[_]);return N!==null?_==g.length-1?N:N.viewModelFromPathSegments(g,_++):null},R.prototype.propertyFromPathSegments=function(g,_,N){var K,me,De,et,at,Ye,tt,Zt,wn,ln,jn,Yn,Ht,An,xn,Xn,Xi,gt;if(_<g.length-1){var Hn=this.internalViewModelInstance(g[_]);return Hn!==null?Hn.propertyFromPathSegments(g,_+1,N):null}var St=null;switch(N){case ut.Number:if(St=(me=(K=this._runtimeInstance)===null||K===void 0?void 0:K.number(g[_]))!==null&&me!==void 0?me:null,St!==null)return new ft(St,this);break;case ut.String:if(St=(et=(De=this._runtimeInstance)===null||De===void 0?void 0:De.string(g[_]))!==null&&et!==void 0?et:null,St!==null)return new an(St,this);break;case ut.Boolean:if(St=(Ye=(at=this._runtimeInstance)===null||at===void 0?void 0:at.boolean(g[_]))!==null&&Ye!==void 0?Ye:null,St!==null)return new Et(St,this);break;case ut.Color:if(St=(Zt=(tt=this._runtimeInstance)===null||tt===void 0?void 0:tt.color(g[_]))!==null&&Zt!==void 0?Zt:null,St!==null)return new ii(St,this);break;case ut.Trigger:if(St=(ln=(wn=this._runtimeInstance)===null||wn===void 0?void 0:wn.trigger(g[_]))!==null&&ln!==void 0?ln:null,St!==null)return new jt(St,this);break;case ut.Enum:if(St=(Yn=(jn=this._runtimeInstance)===null||jn===void 0?void 0:jn.enum(g[_]))!==null&&Yn!==void 0?Yn:null,St!==null)return new zt(St,this);break;case ut.List:if(St=(An=(Ht=this._runtimeInstance)===null||Ht===void 0?void 0:Ht.list(g[_]))!==null&&An!==void 0?An:null,St!==null)return new Nn(St,this);break;case ut.Image:if(St=(Xn=(xn=this._runtimeInstance)===null||xn===void 0?void 0:xn.image(g[_]))!==null&&Xn!==void 0?Xn:null,St!==null)return new yt(St,this);break;case ut.Artboard:if(St=(gt=(Xi=this._runtimeInstance)===null||Xi===void 0?void 0:Xi.artboard(g[_]))!==null&&gt!==void 0?gt:null,St!==null)return new rt(St,this);break}return null},R.prototype.internalViewModelInstance=function(g){var _;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var N=(_=this._runtimeInstance)===null||_===void 0?void 0:_.viewModel(g);if(N!==null){var K=new R(N,this);return(0,E.createFinalization)(K,N),K.internalIncrementReferenceCount(),this._viewModelInstances.set(g,K),K}return null},R.prototype.number=function(g){var _=this.propertyFromPath(g,ut.Number);return _},R.prototype.string=function(g){var _=this.propertyFromPath(g,ut.String);return _},R.prototype.boolean=function(g){var _=this.propertyFromPath(g,ut.Boolean);return _},R.prototype.color=function(g){var _=this.propertyFromPath(g,ut.Color);return _},R.prototype.trigger=function(g){var _=this.propertyFromPath(g,ut.Trigger);return _},R.prototype.enum=function(g){var _=this.propertyFromPath(g,ut.Enum);return _},R.prototype.list=function(g){var _=this.propertyFromPath(g,ut.List);return _},R.prototype.image=function(g){var _=this.propertyFromPath(g,ut.Image);return _},R.prototype.artboard=function(g){var _=this.propertyFromPath(g,ut.Artboard);return _},R.prototype.viewModel=function(g){var _=g.split("/"),N=_.length>1?this.viewModelFromPathSegments(_.slice(0,_.length-1),0):this;return N!=null?N.internalViewModelInstance(_[_.length-1]):null},R.prototype.internalReplaceViewModel=function(g,_){var N;if(_.runtimeInstance!==null){var K=((N=this._runtimeInstance)===null||N===void 0?void 0:N.replaceViewModel(g,_.runtimeInstance))||!1;if(K){_.internalIncrementReferenceCount();var me=this.internalViewModelInstance(g);me!==null&&(me.removeParent(this),this._children.includes(me)&&(this._children=this._children.filter(function(De){return De!==me})),me.cleanup()),this._viewModelInstances.set(g,_),_.addParent(this)}return K}return!1},R.prototype.replaceViewModel=function(g,_){var N,K=g.split("/"),me=K.length>1?this.viewModelFromPathSegments(K.slice(0,K.length-1),0):this;return(N=me?.internalReplaceViewModel(K[K.length-1],_))!==null&&N!==void 0?N:!1},R.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},R.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(R.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(_){return L({},_)}))||[]},enumerable:!1,configurable:!0}),R.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},R.prototype.cleanup=function(){var g=this,_;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((_=this._runtimeInstance)===null||_===void 0||_.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(me){me.cleanup()}),this._viewModelInstances.clear();var N=z([],this._children,!0);this._children.length=0;var K=z([],this._parents,!0);this._parents.length=0,N.forEach(function(me){me.removeParent(g)}),K.forEach(function(me){me.removeFromViewModelCallbacks(g)})}},R})(),Ct=(function(){function R(g,_){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=_}return R.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},R.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(_){return _!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},R.prototype.internalHandleCallback=function(g){},R.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(_){g.internalHandleCallback(_)})},R.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},R.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),R})(),an=(function(R){x(g,R);function g(_,N){return R.call(this,_,N)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ct),ft=(function(R){x(g,R);function g(_,N){return R.call(this,_,N)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ct),Et=(function(R){x(g,R);function g(_,N){return R.call(this,_,N)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ct),jt=(function(R){x(g,R);function g(_,N){return R.call(this,_,N)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(_){_()},g})(Ct),zt=(function(R){x(g,R);function g(_,N){return R.call(this,_,N)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(_){this._viewModelInstanceValue.valueIndex=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ct),Nn=(function(R){x(g,R);function g(_,N){return R.call(this,_,N)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(_){_.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(_.runtimeInstance),_.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(_,N){return _.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(_.runtimeInstance,N)?(_.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(_){_.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(_.runtimeInstance),_.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(_){this._viewModelInstanceValue.removeInstanceAt(_)},g.prototype.instanceAt=function(_){var N=this._viewModelInstanceValue.instanceAt(_);if(N!=null){var K=new _t(N,this._parentViewModel);return(0,E.createFinalization)(K,N),K}return null},g.prototype.swap=function(_,N){this._viewModelInstanceValue.swap(_,N)},g.prototype.internalHandleCallback=function(_){_()},g})(Ct),ii=(function(R){x(g,R);function g(_,N){return R.call(this,_,N)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.rgb=function(_,N,K){this._viewModelInstanceValue.rgb(_,N,K)},g.prototype.rgba=function(_,N,K,me){this._viewModelInstanceValue.argb(me,_,N,K)},g.prototype.argb=function(_,N,K,me){this._viewModelInstanceValue.argb(_,N,K,me)},g.prototype.alpha=function(_){this._viewModelInstanceValue.alpha(_)},g.prototype.opacity=function(_){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,_))*255))},g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ct),yt=(function(R){x(g,R);function g(_,N){return R.call(this,_,N)||this}return Object.defineProperty(g.prototype,"value",{set:function(_){var N;this._viewModelInstanceValue.value((N=_?.nativeImage)!==null&&N!==void 0?N:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_()},g})(Ct),rt=(function(R){x(g,R);function g(_,N){return R.call(this,_,N)||this}return Object.defineProperty(g.prototype,"value",{set:function(_){var N,K;_.isBindableArtboard?K=_:K=_.file.internalBindableArtboardFromArtboard(_.nativeArtboard),this._viewModelInstanceValue.value((N=K?.nativeArtboard)!==null&&N!==void 0?N:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_()},g})(Ct),fn=function(R){return q(void 0,void 0,void 0,function(){var g,_,N;return te(this,function(K){switch(K.label){case 0:return g=new Request(R),[4,fetch(g)];case 1:return _=K.sent(),[4,_.arrayBuffer()];case 2:return N=K.sent(),[2,N]}})})},tn=function(R){return typeof R=="string"?[R]:R instanceof Array?R:[]},Yi={EventManager:ie,TaskQueueManager:H},Un=function(R){return q(void 0,void 0,void 0,function(){var g,_,N;return te(this,function(K){switch(K.label){case 0:return g=new Promise(function(me){return Ke.getInstance(function(De){De.decodeAudio(R,me)})}),[4,g];case 1:return _=K.sent(),N=new E.AudioWrapper(_),E.finalizationRegistry.register(N,_),[2,N]}})})},Ft=function(R){return q(void 0,void 0,void 0,function(){var g,_,N;return te(this,function(K){switch(K.label){case 0:return g=new Promise(function(me){return Ke.getInstance(function(De){De.decodeImage(R,me)})}),[4,g];case 1:return _=K.sent(),N=new E.ImageWrapper(_),E.finalizationRegistry.register(N,_),[2,N]}})})},gn=function(R){return q(void 0,void 0,void 0,function(){var g,_,N;return te(this,function(K){switch(K.label){case 0:return g=new Promise(function(me){return Ke.getInstance(function(De){De.decodeFont(R,me)})}),[4,g];case 1:return _=K.sent(),N=new E.FontWrapper(_),E.finalizationRegistry.register(N,_),[2,N]}})})}})(),c})())})(Ah)),Ah.exports}var c_;function UT(){return c_||(c_=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=nf(),i=LT();function s(I){return I&&typeof I=="object"&&"default"in I?I:{default:I}}var l=s(e),c=function(){return c=Object.assign||function(I){for(var k,C=1,X=arguments.length;C<X;C++)for(var ie in k=arguments[C])Object.prototype.hasOwnProperty.call(k,ie)&&(I[ie]=k[ie]);return I},c.apply(this,arguments)};function p(I,k){var C={};for(var X in I)Object.prototype.hasOwnProperty.call(I,X)&&k.indexOf(X)<0&&(C[X]=I[X]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function"){var ie=0;for(X=Object.getOwnPropertySymbols(I);ie<X.length;ie++)k.indexOf(X[ie])<0&&Object.prototype.propertyIsEnumerable.call(I,X[ie])&&(C[X[ie]]=I[X[ie]])}return C}function b(I,k,C,X){return new(C||(C=Promise))(function(ie,H){function Z(Me){try{fe(X.next(Me))}catch(P){H(P)}}function ye(Me){try{fe(X.throw(Me))}catch(P){H(P)}}function fe(Me){var P;Me.done?ie(Me.value):(P=Me.value,P instanceof C?P:new C(function(ae){ae(P)})).then(Z,ye)}fe((X=X.apply(I,[])).next())})}function w(I,k){var C,X,ie,H,Z={label:0,sent:function(){if(1&ie[0])throw ie[1];return ie[1]},trys:[],ops:[]};return H={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function ye(fe){return function(Me){return(function(P){if(C)throw new TypeError("Generator is already executing.");for(;Z;)try{if(C=1,X&&(ie=2&P[0]?X.return:P[0]?X.throw||((ie=X.return)&&ie.call(X),0):X.next)&&!(ie=ie.call(X,P[1])).done)return ie;switch(X=0,ie&&(P=[2&P[0],ie.value]),P[0]){case 0:case 1:ie=P;break;case 4:return Z.label++,{value:P[1],done:!1};case 5:Z.label++,X=P[1],P=[0];continue;case 7:P=Z.ops.pop(),Z.trys.pop();continue;default:if(ie=Z.trys,!((ie=ie.length>0&&ie[ie.length-1])||P[0]!==6&&P[0]!==2)){Z=0;continue}if(P[0]===3&&(!ie||P[1]>ie[0]&&P[1]<ie[3])){Z.label=P[1];break}if(P[0]===6&&Z.label<ie[1]){Z.label=ie[1],ie=P;break}if(ie&&Z.label<ie[2]){Z.label=ie[2],Z.ops.push(P);break}ie[2]&&Z.ops.pop(),Z.trys.pop();continue}P=k.call(I,Z)}catch(ae){P=[6,ae],X=0}finally{C=ie=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}})([fe,Me])}}}function E(I){var k=I||x(),C=e.useState(k),X=C[0],ie=C[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var H=function(){var ye=I||x();ie(ye)},Z=window.matchMedia("screen and (resolution: ".concat(X,"dppx)"));return Z.hasOwnProperty("addEventListener")?Z.addEventListener("change",H):Z.addListener(H),function(){Z.hasOwnProperty("removeEventListener")?Z.removeEventListener("change",H):Z.removeListener(H)}}},[X,I]),X}function x(){var I=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,I),3)}var L=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),q=globalThis.ResizeObserver||L,te=globalThis.ResizeObserver!==void 0,z=!te;function Oe(I,k){k===void 0&&(k=!0);var C=e.useState({width:0,height:0}),X=C[0],ie=C[1];e.useEffect(function(){if(typeof window<"u"&&k){var Me=function(){ie({width:window.innerWidth,height:window.innerHeight})};return z&&(Me(),window.addEventListener("resize",Me)),function(){return window.removeEventListener("resize",Me)}}},[]);var H,Z,ye,fe=e.useRef(new q((H=function(Me){te&&ie({width:Me[Me.length-1].contentRect.width,height:Me[Me.length-1].contentRect.height})},Z=0,ye=0,function(){for(var Me=this,P=[],ae=0;ae<arguments.length;ae++)P[ae]=arguments[ae];clearTimeout(ye),ye=window.setTimeout(function(){return H.apply(Me,P)},Z)})));return e.useEffect(function(){var Me=fe.current;if(k){var P=I.current;return I.current&&te&&Me.observe(I.current),function(){Me.disconnect(),P&&te&&Me.unobserve(P)}}Me.disconnect()},[I,fe]),X}var Re={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Le(I){return Object.assign({},Re,I)}function Be(I){var k=I.riveLoaded,C=k!==void 0&&k,X=I.canvasElem,ie=I.containerRef,H=I.options,Z=H===void 0?{}:H,ye=I.onCanvasHasResized,fe=I.artboardBounds,Me=Le(Z),P=e.useState({height:0,width:0}),ae=P[0],Se=ae.height,Ee=ae.width,xe=P[1],Fe=e.useState({height:0,width:0}),We=Fe[0],ut=We.height,_t=We.width,Ct=Fe[1],an=e.useState(!0),ft=an[0],Et=an[1],jt=Me.fitCanvasToArtboardHeight,zt=Me.shouldResizeCanvasToContainer,Nn=Me.useDevicePixelRatio,ii=Me.customDevicePixelRatio,yt=Oe(ie,zt),rt=E(ii),fn=fe??{},tn=fn.maxX,Yi=fn.maxY,Un=e.useCallback(function(){var Ft,gn,R,g,_=(gn=(Ft=ie.current)===null||Ft===void 0?void 0:Ft.clientWidth)!==null&&gn!==void 0?gn:0,N=(g=(R=ie.current)===null||R===void 0?void 0:R.clientHeight)!==null&&g!==void 0?g:0;return jt&&fe?{width:_,height:_*(fe.maxY/fe.maxX)}:{width:_,height:N}},[ie,jt,tn,Yi]);e.useEffect(function(){if(zt&&ie.current&&C){var Ft=Un(),gn=Ft.width,R=Ft.height,g=!1;if(X){var _=gn!==Ee||R!==Se;if(Me.fitCanvasToArtboardHeight&&_&&(ie.current.style.height=R+"px",g=!0),Me.useDevicePixelRatio){if(_||gn*rt!==_t||R*rt!==ut){var N=rt*gn,K=rt*R;X.width=N,X.height=K,X.style.width=gn+"px",X.style.height=R+"px",Ct({width:N,height:K}),g=!0}}else _&&(X.width=gn,X.height=R,Ct({width:gn,height:R}),g=!0);xe({width:gn,height:R})}ye&&(ft||g)&&ye&&ye(),ft&&Et(!1)}},[X,ie,yt,rt,Un,ft,Et,ut,_t,Se,Ee,ye,zt,jt,Nn,C]),e.useEffect(function(){Ct({width:0,height:0})},[X])}var qe,Ke=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),ht=globalThis.IntersectionObserver||Ke,ot=(function(){function I(){var k=this;this.elementsMap=new Map,this.onObserved=function(C){C.forEach(function(X){var ie=k.elementsMap.get(X.target);ie&&ie(X)})},this.observer=new ht(this.onObserved)}return I.prototype.registerCallback=function(k,C){this.observer.observe(k),this.elementsMap.set(k,C)},I.prototype.removeCallback=function(k){this.observer.unobserve(k),this.elementsMap.delete(k)},I})(),F=function(){return qe||(qe=new ot),qe};function U(I){var k=I.setContainerRef,C=I.setCanvasRef,X=I.className,ie=X===void 0?"":X,H=I.style,Z=I.children,ye=p(I,["setContainerRef","setCanvasRef","className","style","children"]),fe=c({width:"100%",height:"100%"},H);return l.default.createElement("div",c({ref:k,className:ie},!ie&&{style:fe}),l.default.createElement("canvas",c({ref:C,style:{verticalAlign:"top",width:0,height:0}},ye),Z))}function V(I,k){k===void 0&&(k={});var C=e.useState(null),X=C[0],ie=C[1],H=e.useRef(null),Z=e.useRef(null),ye=e.useState(null),fe=ye[0],Me=ye[1],P=!!I,ae=Le(k),Se=E(),Ee=e.useCallback(function(){if(fe){if(fe.layout&&fe.layout.fit===i.Fit.Layout&&X){var ft=Se*fe.layout.layoutScaleFactor;fe.devicePixelRatioUsed=Se,fe.artboardWidth=X?.width/ft,fe.artboardHeight=X?.height/ft}fe.startRendering(),fe.resizeToCanvas()}},[fe,Se]);Be({riveLoaded:!!fe,canvasElem:X,containerRef:H,options:ae,onCanvasHasResized:Ee,artboardBounds:fe?.bounds});var xe=e.useCallback(function(ft){ft===null&&X&&(X.height=0,X.width=0),ie(ft)},[]);e.useEffect(function(){if(X&&I){var ft,Et=fe!=null;if(fe==null){var jt=ae.useOffscreenRenderer,zt=I.onRiveReady,Nn=p(I,["onRiveReady"]);ft=new i.Rive(c(c({useOffscreenRenderer:jt},Nn),{canvas:X})),Z.current!=null&&Z.current.cleanup(),Z.current=ft,ft.on(i.EventType.Load,function(){Et=!0,zt&&zt(ft),X?Me(ft):ft.cleanup()})}return function(){Et||ft==null||ft.cleanup()}}},[X,P,fe]);var Fe=e.useCallback(function(ft){H.current=ft},[]),We={observe:e.useCallback(function(ft,Et){F().registerCallback(ft,Et)},[]),unobserve:e.useCallback(function(ft){F().removeCallback(ft)},[])},ut=We.observe,_t=We.unobserve;e.useEffect(function(){var ft,Et=!1,jt=function(){if(X&&Et){var zt=X.getBoundingClientRect();zt.width>0&&zt.height>0&&zt.top<(window.innerHeight||document.documentElement.clientHeight)&&zt.bottom>0&&zt.left<(window.innerWidth||document.documentElement.clientWidth)&&zt.right>0&&(fe?.startRendering(),Et=!1)}};return X&&ae.shouldUseIntersectionObserver!==!1&&ut(X,function(zt){zt.isIntersecting?fe&&fe.startRendering():fe&&fe.stopRendering(),Et=!zt.isIntersecting,clearTimeout(ft),zt.isIntersecting||zt.boundingClientRect.width!==0||(ft=setTimeout(jt,10))}),function(){X&&_t(X)}},[ut,_t,fe,X,ae.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){fe&&(fe.cleanup(),Me(null))}},[fe,X]),e.useEffect(function(){return function(){Z.current!=null&&Z.current.cleanup()}},[]);var Ct=I?.animations;e.useEffect(function(){fe&&Ct&&(fe.isPlaying?(fe.stop(fe.animationNames),fe.play(Ct)):fe.isPaused&&(fe.stop(fe.animationNames),fe.pause(Ct)))},[Ct,fe]);var an=e.useCallback(function(ft){return l.default.createElement(U,c({setContainerRef:Fe,setCanvasRef:xe},ft))},[xe,Fe]);return{canvas:X,container:H.current,setCanvasRef:xe,setContainerRef:Fe,rive:fe,RiveComponent:an}}function B(I,k,C){var X=e.useState(null),ie=X[0],H=X[1],Z=e.useState(C.defaultValue),ye=Z[0],fe=Z[1],Me=e.useState(null),P=Me[0],ae=Me[1],Se=e.useRef(null),Ee=e.useRef(I),xe=e.useRef(C);e.useEffect(function(){xe.current=C},[C]);var Fe=e.useCallback(function(){var Ct=Se.current,an=Ee.current,ft=xe.current;if(!Ct||!an)return H(null),fe(ft.defaultValue),ae(null),function(){};var Et=ft.getProperty(Ct,an);if(Et){H(Et),fe(ft.getValue(Et)),ft.getExtendedData&&ae(ft.getExtendedData(Et));var jt=function(){fe(ft.getValue(Et)),ft.getExtendedData&&ae(ft.getExtendedData(Et)),ft.onPropertyEvent&&ft.onPropertyEvent()};return Et.on(jt),function(){Et.off(jt)}}return function(){}},[]);e.useEffect(function(){return Se.current=k,Ee.current=I,Fe()},[k,I,Fe]);var We=e.useCallback(function(Ct){if(ie&&Se.current===k)try{return Ct(ie),void(xe.current.getExtendedData&&ae(xe.current.getExtendedData(ie)))}catch{}if(Se.current)try{var an=xe.current.getProperty(Se.current,Ee.current);an&&(H(an),Ct(an),xe.current.getExtendedData&&ae(xe.current.getExtendedData(an)))}catch{}},[ie,k]),ut=e.useMemo(function(){return xe.current.buildPropertyOperations(We)},[We]),_t=c({value:ye},ut);return C.getExtendedData&&(_t.extendedData=P),_t}r.default=function(I){var k=I.src,C=I.artboard,X=I.animations,ie=I.stateMachines,H=I.layout,Z=I.useOffscreenRenderer,ye=Z===void 0||Z,fe=I.shouldDisableRiveListeners,Me=fe!==void 0&&fe,P=I.shouldResizeCanvasToContainer,ae=P===void 0||P,Se=I.automaticallyHandleEvents,Ee=Se!==void 0&&Se,xe=I.children,Fe=p(I,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),We=V({src:k,artboard:C,animations:X,layout:H,stateMachines:ie,autoplay:!0,shouldDisableRiveListeners:Me,automaticallyHandleEvents:Ee},{useOffscreenRenderer:ye,shouldResizeCanvasToContainer:ae}).RiveComponent;return l.default.createElement(We,c({},Fe),xe)},r.useResizeCanvas=Be,r.useRive=V,r.useRiveFile=function(I){var k=this,C=e.useState(null),X=C[0],ie=C[1],H=e.useState("idle"),Z=H[0],ye=H[1];return e.useEffect(function(){var fe=null;return b(k,void 0,void 0,function(){return w(this,function(Me){try{ye("loading"),(fe=new i.RiveFile(I)).init(),fe.on(i.EventType.Load,function(){fe?.getInstance(),ie(fe),ye("success")}),fe.on(i.EventType.LoadError,function(){ye("failed")}),ie(fe)}catch(P){console.error(P),ye("failed")}return[2]})}),function(){fe?.cleanup()}},[I.src,I.buffer]),{riveFile:X,status:Z}},r.useStateMachineInput=function(I,k,C,X){var ie=e.useState(null),H=ie[0],Z=ie[1];return e.useEffect(function(){function ye(){if(I&&k&&C||Z(null),I&&k&&C){var fe=I.stateMachineInputs(k);if(fe){var Me=fe.find(function(P){return P.name===C});X!==void 0&&Me&&(Me.value=X),Z(Me||null)}}else Z(null)}ye(),I&&I.on(i.EventType.Load,function(){ye()})},[I]),H},r.useViewModel=function(I,k){var C=k??{},X=C.name,ie=C.useDefault,H=ie!==void 0&&ie,Z=e.useState(null),ye=Z[0],fe=Z[1];return e.useEffect(function(){function Me(){var P;if(I){var ae=null;ae=X!=null?((P=I.viewModelByName)===null||P===void 0?void 0:P.call(I,X))||null:I.defaultViewModel()||null,fe(ae)}else fe(null)}return Me(),I&&I.on(i.EventType.Load,Me),function(){I&&I.off(i.EventType.Load,Me)}},[I,X,H]),ye},r.useViewModelInstance=function(I,k){var C=k??{},X=C.name,ie=C.useDefault,H=ie!==void 0&&ie,Z=C.useNew,ye=Z!==void 0&&Z,fe=C.rive,Me=e.useState(null),P=Me[0],ae=Me[1];return e.useEffect(function(){var Se,Ee,xe;if(I){var Fe=null;Fe=X!=null?I.instanceByName(X)||null:H?((Se=I.defaultInstance)===null||Se===void 0?void 0:Se.call(I))||null:ye?((Ee=I.instance)===null||Ee===void 0?void 0:Ee.call(I))||null:((xe=I.defaultInstance)===null||xe===void 0?void 0:xe.call(I))||null,ae(Fe),fe&&Fe&&fe.viewModelInstance!==Fe&&fe.bindViewModelInstance(Fe)}else ae(null)},[I,X,H,ye,fe]),P},r.useViewModelInstanceArtboard=function(I,k){return{setValue:B(I,k,{getProperty:e.useCallback(function(C,X){return C.artboard(X)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(C){return{setValue:function(X){C(function(ie){ie.value=X})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(I,k){var C=B(I,k,{getProperty:e.useCallback(function(X,ie){return X.boolean(ie)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(ie){X(function(H){H.value=ie})}}},[])});return{value:C.value,setValue:C.setValue}},r.useViewModelInstanceColor=function(I,k){var C=B(I,k,{getProperty:e.useCallback(function(X,ie){return X.color(ie)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(ie){X(function(H){H.value=ie})},setRgb:function(ie,H,Z){X(function(ye){ye.rgb(ie,H,Z)})},setRgba:function(ie,H,Z,ye){X(function(fe){fe.rgba(ie,H,Z,ye)})},setAlpha:function(ie){X(function(H){H.alpha(ie)})},setOpacity:function(ie){X(function(H){H.opacity(ie)})}}},[])});return{value:C.value,setValue:C.setValue,setRgb:C.setRgb,setRgba:C.setRgba,setAlpha:C.setAlpha,setOpacity:C.setOpacity}},r.useViewModelInstanceEnum=function(I,k){var C=B(I,k,{getProperty:e.useCallback(function(X,ie){return X.enum(ie)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(X){return X.values},[]),buildPropertyOperations:e.useCallback(function(X){return{setValue:function(ie){X(function(H){H.value=ie})}}},[])});return{value:C.value,values:C.extendedData||[],setValue:C.setValue}},r.useViewModelInstanceImage=function(I,k){return{setValue:B(I,k,{getProperty:e.useCallback(function(C,X){return C.image(X)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(C){return{setValue:function(X){C(function(ie){ie.value=X})}}},[])}).setValue}},r.useViewModelInstanceList=function(I,k){var C,X=e.useState(0)[1],ie=B(I,k,{getProperty:e.useCallback(function(H,Z){return H.list(Z)},[]),getValue:e.useCallback(function(H){return H.length},[]),defaultValue:null,onPropertyEvent:function(){X(function(H){return H+1})},buildPropertyOperations:e.useCallback(function(H){return{addInstance:function(Z){H(function(ye){return ye.addInstance(Z)})},addInstanceAt:function(Z,ye){var fe=!1;return H(function(Me){fe=Me.addInstanceAt(Z,ye)}),fe},removeInstance:function(Z){H(function(ye){return ye.removeInstance(Z)})},removeInstanceAt:function(Z){H(function(ye){return ye.removeInstanceAt(Z)})},getInstanceAt:function(Z){var ye=null;return H(function(fe){ye=fe.instanceAt(Z)}),ye},swap:function(Z,ye){H(function(fe){return fe.swap(Z,ye)})}}},[])});return{length:(C=ie.value)!==null&&C!==void 0?C:0,addInstance:ie.addInstance,addInstanceAt:ie.addInstanceAt,removeInstance:ie.removeInstance,removeInstanceAt:ie.removeInstanceAt,getInstanceAt:ie.getInstanceAt,swap:ie.swap}},r.useViewModelInstanceNumber=function(I,k){var C=B(I,k,{getProperty:e.useCallback(function(X,ie){return X.number(ie)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(ie){X(function(H){H.value=ie})}}},[])});return{value:C.value,setValue:C.setValue}},r.useViewModelInstanceString=function(I,k){var C=B(I,k,{getProperty:e.useCallback(function(X,ie){return X.string(ie)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(ie){X(function(H){H.value=ie})}}},[])});return{value:C.value,setValue:C.setValue}},r.useViewModelInstanceTrigger=function(I,k,C){var X=(C??{}).onTrigger;return{trigger:B(I,k,{getProperty:e.useCallback(function(ie,H){return ie.trigger(H)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:X,buildPropertyOperations:e.useCallback(function(ie){return{trigger:function(){ie(function(H){H.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(I){I==="default"||r.hasOwnProperty(I)||Object.defineProperty(r,I,{enumerable:!0,get:function(){return i[I]}})})})(ym)),ym}var oo=UT();const jT=()=>{};var h_={};const Q0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},zT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[s++]=String.fromCharCode(55296+(w>>10)),e[s++]=String.fromCharCode(56320+(w&1023))}else{const c=r[i++],p=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,w=l+2<r.length,E=w?r[l+2]:0,x=c>>2,L=(c&3)<<4|b>>4;let q=(b&15)<<2|E>>6,te=E&63;w||(te=64,p||(q=64)),s.push(i[x],i[L],i[q],i[te])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Q0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const E=l<r.length?i[r.charAt(l)]:64;++l;const L=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||E==null||L==null)throw new BT;const q=c<<2|b>>4;if(s.push(q),E!==64){const te=b<<4&240|E>>2;if(s.push(te),L!==64){const z=E<<6&192|L;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FT=function(r){const e=Q0(r);return K0.encodeByteArray(e,!0)},kh=function(r){return FT(r).replace(/\./g,"")},W0=function(r){try{return K0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qT=()=>HT().__FIREBASE_DEFAULTS__,GT=()=>{if(typeof process>"u"||typeof h_>"u")return;const r=h_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},YT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&W0(r[1]);return e&&JSON.parse(e)},rf=()=>{try{return jT()||qT()||GT()||YT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$0=r=>rf()?.emulatorHosts?.[r],XT=r=>{const e=$0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},J0=()=>rf()?.config,Z0=r=>rf()?.[`_${r}`];class QT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eb(r){return(await fetch(r,{credentials:"include"})).ok}function KT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[kh(JSON.stringify(i)),kh(JSON.stringify(p)),""].join(".")}const Bu={};function WT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?r.emulator.push(e):r.prod.push(e);return r}function $T(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let f_=!1;function tb(r,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||Bu[r]===e||Bu[r]||f_)return;Bu[r]=e;function i(q){return`__firebase__banner__${q}`}const s="__firebase__banner",c=WT().prod.length>0;function p(){const q=document.getElementById(s);q&&q.remove()}function b(q){q.style.display="flex",q.style.background="#7faaf0",q.style.position="fixed",q.style.bottom="5px",q.style.left="5px",q.style.padding=".5em",q.style.borderRadius="5px",q.style.alignItems="center"}function w(q,te){q.setAttribute("width","24"),q.setAttribute("id",te),q.setAttribute("height","24"),q.setAttribute("viewBox","0 0 24 24"),q.setAttribute("fill","none"),q.style.marginLeft="-6px"}function E(){const q=document.createElement("span");return q.style.cursor="pointer",q.style.marginLeft="16px",q.style.fontSize="24px",q.innerHTML=" &times;",q.onclick=()=>{f_=!0,p()},q}function x(q,te){q.setAttribute("id",te),q.innerText="Learn more",q.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",q.setAttribute("target","__blank"),q.style.paddingLeft="5px",q.style.textDecoration="underline"}function L(){const q=$T(s),te=i("text"),z=document.getElementById(te)||document.createElement("span"),Oe=i("learnmore"),Re=document.getElementById(Oe)||document.createElement("a"),Le=i("preprendIcon"),Be=document.getElementById(Le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(q.created){const qe=q.element;b(qe),x(Re,Oe);const Ke=E();w(Be,Le),qe.append(Be,z,Re,Ke),document.body.appendChild(qe)}c?(z.innerText="Preview backend disconnected.",Be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",te)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",L):L()}function Gi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gi())}function ZT(){const r=rf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iA(){const r=Gi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rA(){return!ZT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function sA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const oA="FirebaseError";class Rs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=oA,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc.prototype.create)}}class nc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?lA(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Rs(l,b,s)}}function lA(r,e){return r.replace(uA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const uA=/\{\$([^}]+)}/g;function cA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],p=e[l];if(d_(c)&&d_(p)){if(!Bo(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function d_(r){return r!==null&&typeof r=="object"}function ic(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hA(r,e){const i=new fA(r,e);return i.subscribe.bind(i)}class fA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");dA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=vm),l.error===void 0&&(l.error=vm),l.complete===void 0&&(l.complete=vm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function vm(){}function zr(r){return r&&r._delegate?r._delegate:r}class Fo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jo="[DEFAULT]";class mA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new QT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gA(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pA(r){return r===jo?void 0:r}function gA(r){return r.instantiationMode==="EAGER"}class yA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new mA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Wt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Wt||(Wt={}));const vA={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},_A=Wt.INFO,bA={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},wA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=bA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rp{constructor(e){this.name=e,this._logLevel=_A,this._logHandler=wA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const EA=(r,e)=>e.some(i=>r instanceof i);let m_,p_;function TA(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AA(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nb=new WeakMap,Om=new WeakMap,ib=new WeakMap,_m=new WeakMap,ap=new WeakMap;function SA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(uo(r.result)),l()},p=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&nb.set(i,r)}).catch(()=>{}),ap.set(e,r),e}function RA(r){if(Om.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});Om.set(r,e)}let Vm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ib.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return uo(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function CA(r){Vm=r(Vm)}function IA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(bm(this),e,...i);return ib.set(s,e.sort?e.sort():[e]),uo(s)}:AA().includes(r)?function(...e){return r.apply(bm(this),e),uo(nb.get(this))}:function(...e){return uo(r.apply(bm(this),e))}}function xA(r){return typeof r=="function"?IA(r):(r instanceof IDBTransaction&&RA(r),EA(r,TA())?new Proxy(r,Vm):r)}function uo(r){if(r instanceof IDBRequest)return SA(r);if(_m.has(r))return _m.get(r);const e=xA(r);return e!==r&&(_m.set(r,e),ap.set(e,r)),e}const bm=r=>ap.get(r);function MA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=uo(p);return s&&p.addEventListener("upgradeneeded",w=>{s(uo(p.result),w.oldVersion,w.newVersion,uo(p.transaction),w)}),i&&p.addEventListener("blocked",w=>i(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const DA=["get","getKey","getAll","getAllKeys","count"],NA=["put","add","delete","clear"],wm=new Map;function g_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=NA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||DA.includes(i)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return s&&(E=E.index(b.shift())),(await Promise.all([E[i](...b),l&&w.done]))[0]};return wm.set(e,c),c}CA(r=>({...r,get:(e,i,s)=>g_(e,i)||r.get(e,i,s),has:(e,i)=>!!g_(e,i)||r.has(e,i)}));class OA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(VA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function VA(r){return r.getComponent()?.type==="VERSION"}const km="@firebase/app",y_="0.14.6";const bs=new rp("@firebase/app"),kA="@firebase/app-compat",PA="@firebase/analytics-compat",LA="@firebase/analytics",UA="@firebase/app-check-compat",jA="@firebase/app-check",zA="@firebase/auth",BA="@firebase/auth-compat",FA="@firebase/database",HA="@firebase/data-connect",qA="@firebase/database-compat",GA="@firebase/functions",YA="@firebase/functions-compat",XA="@firebase/installations",QA="@firebase/installations-compat",KA="@firebase/messaging",WA="@firebase/messaging-compat",$A="@firebase/performance",JA="@firebase/performance-compat",ZA="@firebase/remote-config",eS="@firebase/remote-config-compat",tS="@firebase/storage",nS="@firebase/storage-compat",iS="@firebase/firestore",rS="@firebase/ai",aS="@firebase/firestore-compat",sS="firebase",oS="12.6.0";const Pm="[DEFAULT]",lS={[km]:"fire-core",[kA]:"fire-core-compat",[LA]:"fire-analytics",[PA]:"fire-analytics-compat",[jA]:"fire-app-check",[UA]:"fire-app-check-compat",[zA]:"fire-auth",[BA]:"fire-auth-compat",[FA]:"fire-rtdb",[HA]:"fire-data-connect",[qA]:"fire-rtdb-compat",[GA]:"fire-fn",[YA]:"fire-fn-compat",[XA]:"fire-iid",[QA]:"fire-iid-compat",[KA]:"fire-fcm",[WA]:"fire-fcm-compat",[$A]:"fire-perf",[JA]:"fire-perf-compat",[ZA]:"fire-rc",[eS]:"fire-rc-compat",[tS]:"fire-gcs",[nS]:"fire-gcs-compat",[iS]:"fire-fst",[aS]:"fire-fst-compat",[rS]:"fire-vertex","fire-js":"fire-js",[sS]:"fire-js-all"};const Ph=new Map,uS=new Map,Lm=new Map;function v_(r,e){try{r.container.addComponent(e)}catch(i){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function jl(r){const e=r.name;if(Lm.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,r);for(const i of Ph.values())v_(i,r);for(const i of uS.values())v_(i,r);return!0}function sp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function na(r){return r==null?!1:r.settings!==void 0}const cS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new nc("app","Firebase",cS);class hS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}const Xl=oS;function rb(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Pm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw co.create("bad-app-name",{appName:String(l)});if(i||(i=J0()),!i)throw co.create("no-options");const c=Ph.get(l);if(c){if(Bo(i,c.options)&&Bo(s,c.config))return c;throw co.create("duplicate-app",{appName:l})}const p=new yA(l);for(const w of Lm.values())p.addComponent(w);const b=new hS(i,s,p);return Ph.set(l,b),b}function ab(r=Pm){const e=Ph.get(r);if(!e&&r===Pm&&J0())return rb();if(!e)throw co.create("no-app",{appName:r});return e}function ho(r,e,i){let s=lS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(p.join(" "));return}jl(new Fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const fS="firebase-heartbeat-database",dS=1,Xu="firebase-heartbeat-store";let Em=null;function sb(){return Em||(Em=MA(fS,dS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xu)}catch(i){console.warn(i)}}}}).catch(r=>{throw co.create("idb-open",{originalErrorMessage:r.message})})),Em}async function mS(r){try{const i=(await sb()).transaction(Xu),s=await i.objectStore(Xu).get(ob(r));return await i.done,s}catch(e){if(e instanceof Rs)bs.warn(e.message);else{const i=co.create("idb-get",{originalErrorMessage:e?.message});bs.warn(i.message)}}}async function __(r,e){try{const s=(await sb()).transaction(Xu,"readwrite");await s.objectStore(Xu).put(e,ob(r)),await s.done}catch(i){if(i instanceof Rs)bs.warn(i.message);else{const s=co.create("idb-set",{originalErrorMessage:i?.message});bs.warn(s.message)}}}function ob(r){return`${r.name}!${r.options.appId}`}const pS=1024,gS=30;class yS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _S(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=b_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>gS){const l=bS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b_(),{heartbeatsToSend:i,unsentEntries:s}=vS(this._heartbeatsCache.heartbeats),l=kh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return bs.warn(e),""}}}function b_(){return new Date().toISOString().substring(0,10)}function vS(r,e=pS){const i=[];let s=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),w_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),w_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class _S{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?sA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function w_(r){return kh(JSON.stringify({version:2,heartbeats:r})).length}function bS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function wS(r){jl(new Fo("platform-logger",e=>new OA(e),"PRIVATE")),jl(new Fo("heartbeat",e=>new yS(e),"PRIVATE")),ho(km,y_,r),ho(km,y_,"esm2020"),ho("fire-js","")}wS("");var ES="firebase",TS="12.6.0";ho(ES,TS,"app");function lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AS=lb,ub=new nc("auth","Firebase",lb());const Lh=new rp("@firebase/auth");function SS(r,...e){Lh.logLevel<=Wt.WARN&&Lh.warn(`Auth (${Xl}): ${r}`,...e)}function Sh(r,...e){Lh.logLevel<=Wt.ERROR&&Lh.error(`Auth (${Xl}): ${r}`,...e)}function ws(r,...e){throw op(r,...e)}function ka(r,...e){return op(r,...e)}function cb(r,e,i){const s={...AS(),[e]:i};return new nc("auth","Firebase",s).create(e,{appName:r.name})}function vs(r){return cb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return ub.create(r,...e)}function Tt(r,e,...i){if(!r)throw op(e,...i)}function gs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function Es(r,e){r||gs(e)}function Um(){return typeof self<"u"&&self.location?.href||""}function RS(){return E_()==="http:"||E_()==="https:"}function E_(){return typeof self<"u"&&self.location?.protocol||null}function CS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RS()||tA()||"connection"in navigator)?navigator.onLine:!0}function IS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class rc{constructor(e,i){this.shortDelay=e,this.longDelay=i,Es(i>e,"Short delay should be less than long delay!"),this.isMobile=JT()||nA()}get(){return CS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lp(r,e){Es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class hb{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const MS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DS=new rc(3e4,6e4);function ac(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ql(r,e,i,s,l={}){return fb(r,l,async()=>{let c={},p={};s&&(e==="GET"?p=s:c={body:JSON.stringify(s)});const b=ic({key:r.config.apiKey,...p}).slice(1),w=await r._getAdditionalHeaders();w["Content-Type"]="application/json",r.languageCode&&(w["X-Firebase-Locale"]=r.languageCode);const E={method:e,headers:w,...c};return eA()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(E.credentials="include"),hb.fetch()(await db(r,r.config.apiHost,i,b),E)})}async function fb(r,e,i){r._canInitEmulator=!1;const s={...xS,...e};try{const l=new NS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw ph(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(r,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw ph(r,"email-already-in-use",p);if(w==="USER_DISABLED")throw ph(r,"user-disabled",p);const x=s[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw cb(r,x,E);ws(r,x)}}catch(l){if(l instanceof Rs)throw l;ws(r,"network-request-failed",{message:String(l)})}}async function up(r,e,i,s,l={}){const c=await Ql(r,e,i,s,l);return"mfaPendingCredential"in c&&ws(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function db(r,e,i,s){const l=`${e}${i}?${s}`,c=r,p=c.config.emulator?lp(r.config,l):`${r.config.apiScheme}://${l}`;return MS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class NS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(ka(this.auth,"network-request-failed")),DS.get())})}}function ph(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=ka(r,e,s);return l.customData._tokenResponse=i,l}async function OS(r,e){return Ql(r,"POST","/v1/accounts:delete",e)}async function Uh(r,e){return Ql(r,"POST","/v1/accounts:lookup",e)}function Fu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VS(r,e=!1){const i=zr(r),s=await i.getIdToken(e),l=cp(s);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:s,authTime:Fu(Tm(l.auth_time)),issuedAtTime:Fu(Tm(l.iat)),expirationTime:Fu(Tm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Tm(r){return Number(r)*1e3}function cp(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const l=W0(i);return l?JSON.parse(l):(Sh("Failed to decode base64 JWT payload"),null)}catch(l){return Sh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function T_(r){const e=cp(r);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qu(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Rs&&kS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function kS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class PS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jh(r){const e=r.auth,i=await r.getIdToken(),s=await Qu(r,Uh(e,{idToken:i}));Tt(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?mb(l.providerUserInfo):[],p=US(r.providerData,c),b=r.isAnonymous,w=!(r.email&&l.passwordHash)&&!p?.length,E=b?w:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,x)}async function LS(r){const e=zr(r);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function US(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function mb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function jS(r,e){const i=await fb(r,{},async()=>{const s=ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await db(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:s};return r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(w.credentials="include"),hb.fetch()(p,w)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function zS(r,e){return Ql(r,"POST","/v2/accounts:revokeToken",ac(r,e))}class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const i=T_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await jS(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,p=new Ol;return s&&(Tt(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),l&&(Tt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return gs("not implemented")}}function no(r,e){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class pa{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new PS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return VS(this,e)}reload(){return LS(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new pa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(na(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Qu(this,OS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,w=i._redirectEventId??void 0,E=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:L,emailVerified:q,isAnonymous:te,providerData:z,stsTokenManager:Oe}=i;Tt(L&&Oe,e,"internal-error");const Re=Ol.fromJSON(this.name,Oe);Tt(typeof L=="string",e,"internal-error"),no(s,e.name),no(l,e.name),Tt(typeof q=="boolean",e,"internal-error"),Tt(typeof te=="boolean",e,"internal-error"),no(c,e.name),no(p,e.name),no(b,e.name),no(w,e.name),no(E,e.name),no(x,e.name);const Le=new pa({uid:L,auth:e,email:l,emailVerified:q,displayName:s,isAnonymous:te,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Re,createdAt:E,lastLoginAt:x});return z&&Array.isArray(z)&&(Le.providerData=z.map(Be=>({...Be}))),w&&(Le._redirectEventId=w),Le}static async _fromIdTokenResponse(e,i,s=!1){const l=new Ol;l.updateFromServerResponse(i);const c=new pa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await jh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?mb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Ol;b.updateFromIdToken(s);const w=new pa({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const A_=new Map;function ys(r){Es(r instanceof Function,"Expected a class definition");let e=A_.get(r);return e?(Es(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,A_.set(r,e),e)}class pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}pb.type="NONE";const S_=pb;function Rh(r,e,i){return`firebase:${r}:${e}:${i}`}class Vl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Rh(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Uh(this.auth,{idToken:e}).catch(()=>{});return i?pa._fromGetAccountInfoResponse(this.auth,i,e):null}return pa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Vl(ys(S_),e,s);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||ys(S_);const p=Rh(s,e.config.apiKey,e.name);let b=null;for(const E of i)try{const x=await E._get(p);if(x){let L;if(typeof x=="string"){const q=await Uh(e,{idToken:x}).catch(()=>{});if(!q)break;L=await pa._fromGetAccountInfoResponse(e,q,x)}else L=pa._fromJSON(e,x);E!==c&&(b=L),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new Vl(c,e,s):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new Vl(c,e,s))}}function R_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_b(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wb(e))return"Blackberry";if(Eb(e))return"Webos";if(yb(e))return"Safari";if((e.includes("chrome/")||vb(e))&&!e.includes("edge/"))return"Chrome";if(bb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function gb(r=Gi()){return/firefox\//i.test(r)}function yb(r=Gi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vb(r=Gi()){return/crios\//i.test(r)}function _b(r=Gi()){return/iemobile/i.test(r)}function bb(r=Gi()){return/android/i.test(r)}function wb(r=Gi()){return/blackberry/i.test(r)}function Eb(r=Gi()){return/webos/i.test(r)}function hp(r=Gi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BS(r=Gi()){return hp(r)&&!!window.navigator?.standalone}function FS(){return iA()&&document.documentMode===10}function Tb(r=Gi()){return hp(r)||bb(r)||Eb(r)||wb(r)||/windows phone/i.test(r)||_b(r)}function Ab(r,e=[]){let i;switch(r){case"Browser":i=R_(Gi());break;case"Worker":i=`${R_(Gi())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xl}/${s}`}class HS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function qS(r,e={}){return Ql(r,"GET","/v2/passwordPolicy",ac(r,e))}const GS=6;class YS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??GS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class XS{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C_(this),this.idTokenSubscription=new C_(this),this.beforeStateQueue=new HS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Uh(this,{idToken:e}),s=await pa._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(na(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=s?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(s=b.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(na(this.app))return Promise.reject(vs(this));const i=e?zr(e):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return na(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return na(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qS(this),i=new YS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nc("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await zS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const w=e.addObserver(i,s,l);return()=>{p=!0,w()}}else{const w=e.addObserver(i);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(na(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function sc(r){return zr(r)}class C_{constructor(e){this.auth=e,this.observer=null,this.addObserver=hA(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QS(r){fp=r}function KS(r){return fp.loadJS(r)}function WS(){return fp.gapiScript}function $S(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function JS(r,e){const i=sp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Bo(c,e??{}))return l;ws(l,"already-initialized")}return i.initialize({options:e})}function ZS(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function e2(r,e,i){const s=sc(r);Tt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=Sb(e),{host:p,port:b}=t2(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},x=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(Bo(E,s.config.emulator)&&Bo(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Yl(p)?(eb(`${c}//${p}${w}`),tb("Auth",!0)):n2()}function Sb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function t2(r){const e=Sb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:I_(s.substr(c.length+1))}}else{const[c,p]=s.split(":");return{host:c,port:I_(p)}}}function I_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function n2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Rb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function kl(r,e){return up(r,"POST","/v1/accounts:signInWithIdp",ac(r,e))}const i2="http://localhost";class Ho extends Rb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ws("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const p=new Ho(s,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return kl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,kl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,kl(e,i)}buildRequest(){const e={requestUri:i2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ic(i)}return e}}class Cb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oc extends Cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class io extends oc{constructor(){super("facebook.com")}static credential(e){return Ho._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";class ro extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ho._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return ro.credential(i,s)}catch{return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";class ao extends oc{constructor(){super("github.com")}static credential(e){return Ho._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";class so extends oc{constructor(){super("twitter.com")}static credential(e,i){return Ho._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return so.credential(i,s)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";async function r2(r,e){return up(r,"POST","/v1/accounts:signUp",ac(r,e))}class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await pa._fromIdTokenResponse(e,s,l),p=x_(s);return new Ts({user:c,providerId:p,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=x_(s);return new Ts({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function x_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function a2(r){if(na(r.app))return Promise.reject(vs(r));const e=sc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ts({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await r2(e,{returnSecureToken:!0}),s=await Ts._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class zh extends Rs{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new zh(e,i,s,l)}}function Ib(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,c,e,s):c})}async function s2(r,e,i=!1){const s=await Qu(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ts._forOperation(r,"link",s)}async function o2(r,e,i=!1){const{auth:s}=r;if(na(s.app))return Promise.reject(vs(s));const l="reauthenticate";try{const c=await Qu(r,Ib(s,l,e,r),i);Tt(c.idToken,s,"internal-error");const p=cp(c.idToken);Tt(p,s,"internal-error");const{sub:b}=p;return Tt(r.uid===b,s,"user-mismatch"),Ts._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ws(s,"user-mismatch"),c}}async function l2(r,e,i=!1){if(na(r.app))return Promise.reject(vs(r));const s="signIn",l=await Ib(r,s,e),c=await Ts._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function u2(r,e){return up(r,"POST","/v1/accounts:signInWithCustomToken",ac(r,e))}async function c2(r,e){if(na(r.app))return Promise.reject(vs(r));const i=sc(r),s=await u2(i,{token:e,returnSecureToken:!0}),l=await Ts._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function h2(r,e,i,s){return zr(r).onIdTokenChanged(e,i,s)}function f2(r,e,i){return zr(r).beforeAuthStateChanged(e,i)}function d2(r,e,i,s){return zr(r).onAuthStateChanged(e,i,s)}const Bh="__sak";class xb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const m2=1e3,p2=10;class Mb extends xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},c=this.storage.getItem(s);FS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,p2):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},m2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mb.type="LOCAL";const g2=Mb;class Db extends xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Db.type="SESSION";const Nb=Db;function y2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const b=Array.from(p).map(async E=>E(i.origin,c)),w=await y2(b);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:w})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];function dp(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class v2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=dp("",20);l.port1.start();const x=setTimeout(()=>{w(new Error("unsupported_event"))},s);p={messageChannel:l,onMessage(L){const q=L;if(q.data.eventId===E)switch(q.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(q.data.response);break;default:clearTimeout(x),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Pa(){return window}function _2(r){Pa().location.href=r}function Ob(){return typeof Pa().WorkerGlobalScope<"u"&&typeof Pa().importScripts=="function"}async function b2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w2(){return navigator?.serviceWorker?.controller||null}function E2(){return Ob()?self:null}const Vb="firebaseLocalStorageDb",T2=1,Fh="firebaseLocalStorage",kb="fbase_key";class lc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sf(r,e){return r.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function A2(){const r=indexedDB.deleteDatabase(Vb);return new lc(r).toPromise()}function zm(){const r=indexedDB.open(Vb,T2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:kb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await A2(),e(await zm()))})})}async function M_(r,e,i){const s=sf(r,!0).put({[kb]:e,value:i});return new lc(s).toPromise()}async function S2(r,e){const i=sf(r,!1).get(e),s=await new lc(i).toPromise();return s===void 0?null:s.value}function D_(r,e){const i=sf(r,!0).delete(e);return new lc(i).toPromise()}const R2=800,C2=3;class Pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>C2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(E2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new v2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await M_(e,Bh,"1"),await D_(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>M_(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>S2(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>D_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=sf(l,!1).getAll();return new lc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pb.type="LOCAL";const I2=Pb;new rc(3e4,6e4);function x2(r,e){return e?ys(e):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class mp extends Rb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return kl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function M2(r){return l2(r.auth,new mp(r),r.bypassAuthState)}function D2(r){const{auth:e,user:i}=r;return Tt(i,e,"internal-error"),o2(i,new mp(r),r.bypassAuthState)}async function N2(r){const{auth:e,user:i}=r;return Tt(i,e,"internal-error"),s2(i,new mp(r),r.bypassAuthState)}class Lb{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M2;case"linkViaPopup":case"linkViaRedirect":return N2;case"reauthViaPopup":case"reauthViaRedirect":return D2;default:ws(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const O2=new rc(2e3,1e4);class Nl extends Lb{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ka(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ka(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ka(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O2.get())};e()}}Nl.currentPopupAction=null;const V2="pendingRedirect",Ch=new Map;class k2 extends Lb{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await P2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P2(r,e){const i=j2(e),s=U2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function L2(r,e){Ch.set(r._key(),e)}function U2(r){return ys(r._redirectPersistence)}function j2(r){return Rh(V2,r.config.apiKey,r.name)}async function z2(r,e,i=!1){if(na(r.app))return Promise.reject(vs(r));const s=sc(r),l=x2(s,e),p=await new k2(s,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}const B2=600*1e3;class F2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Ub(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ka(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B2&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(e))}saveEventToCache(e){this.cachedEventUids.add(N_(e)),this.lastProcessedEventTime=Date.now()}}function N_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ub({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function H2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ub(r);default:return!1}}async function q2(r,e={}){return Ql(r,"GET","/v1/projects",e)}const G2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y2=/^https?/;async function X2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await q2(r);for(const i of e)try{if(Q2(i))return}catch{}ws(r,"unauthorized-domain")}function Q2(r){const e=Um(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===s}if(!Y2.test(i))return!1;if(G2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const K2=new rc(3e4,6e4);function O_(){const r=Pa().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function W2(r){return new Promise((e,i)=>{function s(){O_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O_(),i(ka(r,"network-request-failed"))},timeout:K2.get()})}if(Pa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pa().gapi?.load)s();else{const l=$S("iframefcb");return Pa()[l]=()=>{gapi.load?s():i(ka(r,"network-request-failed"))},KS(`${WS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function $2(r){return Ih=Ih||W2(r),Ih}const J2=new rc(5e3,15e3),Z2="__/auth/iframe",eR="emulator/auth/iframe",tR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iR(r){const e=r.config;Tt(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?lp(e,eR):`https://${r.config.authDomain}/${Z2}`,s={apiKey:e.apiKey,appName:r.name,v:Xl},l=nR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${ic(s).slice(1)}`}async function rR(r){const e=await $2(r),i=Pa().gapi;return Tt(i,r,"internal-error"),e.open({where:document.body,url:iR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const p=ka(r,"network-request-failed"),b=Pa().setTimeout(()=>{c(p)},J2.get());function w(){Pa().clearTimeout(b),l(s)}s.ping(w).then(w,()=>{c(p)})}))}const aR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sR=500,oR=600,lR="_blank",uR="http://localhost";class V_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cR(r,e,i,s=sR,l=oR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const w={...aR,width:s.toString(),height:l.toString(),top:c,left:p},E=Gi().toLowerCase();i&&(b=vb(E)?lR:i),gb(E)&&(e=e||uR,w.scrollbars="yes");const x=Object.entries(w).reduce((q,[te,z])=>`${q}${te}=${z},`,"");if(BS(E)&&b!=="_self")return hR(e||"",b),new V_(null);const L=window.open(e||"",b,x);Tt(L,r,"popup-blocked");try{L.focus()}catch{}return new V_(L)}function hR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const fR="__/auth/handler",dR="emulator/auth/handler",mR=encodeURIComponent("fac");async function k_(r,e,i,s,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Xl,eventId:l};if(e instanceof Cb){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",cA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,L]of Object.entries({}))p[x]=L}if(e instanceof oc){const x=e.getScopes().filter(L=>L!=="");x.length>0&&(p.scopes=x.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const x of Object.keys(b))b[x]===void 0&&delete b[x];const w=await r._getAppCheckToken(),E=w?`#${mR}=${encodeURIComponent(w)}`:"";return`${pR(r)}?${ic(b).slice(1)}${E}`}function pR({config:r}){return r.emulator?lp(r,dR):`https://${r.authDomain}/${fR}`}const Am="webStorageSupport";class gR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nb,this._completeRedirectFn=z2,this._overrideRedirectResult=L2}async _openPopup(e,i,s,l){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await k_(e,i,s,Um(),l);return cR(e,c,dp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await k_(e,i,s,Um(),l);return _2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Es(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await rR(e),s=new F2(e);return i.register("authEvent",l=>(Tt(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Am,{type:Am},l=>{const c=l?.[0]?.[Am];c!==void 0&&i(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=X2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Tb()||yb()||hp()}}const yR=gR;var P_="@firebase/auth",L_="1.11.1";class vR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _R(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bR(r){jl(new Fo("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;Tt(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const w={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(r)},E=new XS(s,l,c,w);return ZS(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),jl(new Fo("auth-internal",e=>{const i=sc(e.getProvider("auth").getImmediate());return(s=>new vR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(P_,L_,_R(r)),ho(P_,L_,"esm2020")}const wR=300,ER=Z0("authIdTokenMaxAge")||wR;let U_=null;const TR=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>ER)return;const l=i?.token;U_!==l&&(U_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function AR(r=ab()){const e=sp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=JS(r,{popupRedirectResolver:yR,persistence:[I2,g2,Nb]}),s=Z0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const p=TR(c.toString());f2(i,p,()=>p(i.currentUser)),h2(i,b=>p(b))}}const l=$0("auth");return l&&e2(i,`http://${l}`),i}function SR(){return document.getElementsByTagName("head")?.[0]??document}QS({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=ka("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",SR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bR("Browser");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fo,jb;(function(){var r;function e(F,U){function V(){}V.prototype=U.prototype,F.F=U.prototype,F.prototype=new V,F.prototype.constructor=F,F.D=function(B,I,k){for(var C=Array(arguments.length-2),X=2;X<arguments.length;X++)C[X-2]=arguments[X];return U.prototype[I].apply(B,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(F,U,V){V||(V=0);const B=Array(16);if(typeof U=="string")for(var I=0;I<16;++I)B[I]=U.charCodeAt(V++)|U.charCodeAt(V++)<<8|U.charCodeAt(V++)<<16|U.charCodeAt(V++)<<24;else for(I=0;I<16;++I)B[I]=U[V++]|U[V++]<<8|U[V++]<<16|U[V++]<<24;U=F.g[0],V=F.g[1],I=F.g[2];let k=F.g[3],C;C=U+(k^V&(I^k))+B[0]+3614090360&4294967295,U=V+(C<<7&4294967295|C>>>25),C=k+(I^U&(V^I))+B[1]+3905402710&4294967295,k=U+(C<<12&4294967295|C>>>20),C=I+(V^k&(U^V))+B[2]+606105819&4294967295,I=k+(C<<17&4294967295|C>>>15),C=V+(U^I&(k^U))+B[3]+3250441966&4294967295,V=I+(C<<22&4294967295|C>>>10),C=U+(k^V&(I^k))+B[4]+4118548399&4294967295,U=V+(C<<7&4294967295|C>>>25),C=k+(I^U&(V^I))+B[5]+1200080426&4294967295,k=U+(C<<12&4294967295|C>>>20),C=I+(V^k&(U^V))+B[6]+2821735955&4294967295,I=k+(C<<17&4294967295|C>>>15),C=V+(U^I&(k^U))+B[7]+4249261313&4294967295,V=I+(C<<22&4294967295|C>>>10),C=U+(k^V&(I^k))+B[8]+1770035416&4294967295,U=V+(C<<7&4294967295|C>>>25),C=k+(I^U&(V^I))+B[9]+2336552879&4294967295,k=U+(C<<12&4294967295|C>>>20),C=I+(V^k&(U^V))+B[10]+4294925233&4294967295,I=k+(C<<17&4294967295|C>>>15),C=V+(U^I&(k^U))+B[11]+2304563134&4294967295,V=I+(C<<22&4294967295|C>>>10),C=U+(k^V&(I^k))+B[12]+1804603682&4294967295,U=V+(C<<7&4294967295|C>>>25),C=k+(I^U&(V^I))+B[13]+4254626195&4294967295,k=U+(C<<12&4294967295|C>>>20),C=I+(V^k&(U^V))+B[14]+2792965006&4294967295,I=k+(C<<17&4294967295|C>>>15),C=V+(U^I&(k^U))+B[15]+1236535329&4294967295,V=I+(C<<22&4294967295|C>>>10),C=U+(I^k&(V^I))+B[1]+4129170786&4294967295,U=V+(C<<5&4294967295|C>>>27),C=k+(V^I&(U^V))+B[6]+3225465664&4294967295,k=U+(C<<9&4294967295|C>>>23),C=I+(U^V&(k^U))+B[11]+643717713&4294967295,I=k+(C<<14&4294967295|C>>>18),C=V+(k^U&(I^k))+B[0]+3921069994&4294967295,V=I+(C<<20&4294967295|C>>>12),C=U+(I^k&(V^I))+B[5]+3593408605&4294967295,U=V+(C<<5&4294967295|C>>>27),C=k+(V^I&(U^V))+B[10]+38016083&4294967295,k=U+(C<<9&4294967295|C>>>23),C=I+(U^V&(k^U))+B[15]+3634488961&4294967295,I=k+(C<<14&4294967295|C>>>18),C=V+(k^U&(I^k))+B[4]+3889429448&4294967295,V=I+(C<<20&4294967295|C>>>12),C=U+(I^k&(V^I))+B[9]+568446438&4294967295,U=V+(C<<5&4294967295|C>>>27),C=k+(V^I&(U^V))+B[14]+3275163606&4294967295,k=U+(C<<9&4294967295|C>>>23),C=I+(U^V&(k^U))+B[3]+4107603335&4294967295,I=k+(C<<14&4294967295|C>>>18),C=V+(k^U&(I^k))+B[8]+1163531501&4294967295,V=I+(C<<20&4294967295|C>>>12),C=U+(I^k&(V^I))+B[13]+2850285829&4294967295,U=V+(C<<5&4294967295|C>>>27),C=k+(V^I&(U^V))+B[2]+4243563512&4294967295,k=U+(C<<9&4294967295|C>>>23),C=I+(U^V&(k^U))+B[7]+1735328473&4294967295,I=k+(C<<14&4294967295|C>>>18),C=V+(k^U&(I^k))+B[12]+2368359562&4294967295,V=I+(C<<20&4294967295|C>>>12),C=U+(V^I^k)+B[5]+4294588738&4294967295,U=V+(C<<4&4294967295|C>>>28),C=k+(U^V^I)+B[8]+2272392833&4294967295,k=U+(C<<11&4294967295|C>>>21),C=I+(k^U^V)+B[11]+1839030562&4294967295,I=k+(C<<16&4294967295|C>>>16),C=V+(I^k^U)+B[14]+4259657740&4294967295,V=I+(C<<23&4294967295|C>>>9),C=U+(V^I^k)+B[1]+2763975236&4294967295,U=V+(C<<4&4294967295|C>>>28),C=k+(U^V^I)+B[4]+1272893353&4294967295,k=U+(C<<11&4294967295|C>>>21),C=I+(k^U^V)+B[7]+4139469664&4294967295,I=k+(C<<16&4294967295|C>>>16),C=V+(I^k^U)+B[10]+3200236656&4294967295,V=I+(C<<23&4294967295|C>>>9),C=U+(V^I^k)+B[13]+681279174&4294967295,U=V+(C<<4&4294967295|C>>>28),C=k+(U^V^I)+B[0]+3936430074&4294967295,k=U+(C<<11&4294967295|C>>>21),C=I+(k^U^V)+B[3]+3572445317&4294967295,I=k+(C<<16&4294967295|C>>>16),C=V+(I^k^U)+B[6]+76029189&4294967295,V=I+(C<<23&4294967295|C>>>9),C=U+(V^I^k)+B[9]+3654602809&4294967295,U=V+(C<<4&4294967295|C>>>28),C=k+(U^V^I)+B[12]+3873151461&4294967295,k=U+(C<<11&4294967295|C>>>21),C=I+(k^U^V)+B[15]+530742520&4294967295,I=k+(C<<16&4294967295|C>>>16),C=V+(I^k^U)+B[2]+3299628645&4294967295,V=I+(C<<23&4294967295|C>>>9),C=U+(I^(V|~k))+B[0]+4096336452&4294967295,U=V+(C<<6&4294967295|C>>>26),C=k+(V^(U|~I))+B[7]+1126891415&4294967295,k=U+(C<<10&4294967295|C>>>22),C=I+(U^(k|~V))+B[14]+2878612391&4294967295,I=k+(C<<15&4294967295|C>>>17),C=V+(k^(I|~U))+B[5]+4237533241&4294967295,V=I+(C<<21&4294967295|C>>>11),C=U+(I^(V|~k))+B[12]+1700485571&4294967295,U=V+(C<<6&4294967295|C>>>26),C=k+(V^(U|~I))+B[3]+2399980690&4294967295,k=U+(C<<10&4294967295|C>>>22),C=I+(U^(k|~V))+B[10]+4293915773&4294967295,I=k+(C<<15&4294967295|C>>>17),C=V+(k^(I|~U))+B[1]+2240044497&4294967295,V=I+(C<<21&4294967295|C>>>11),C=U+(I^(V|~k))+B[8]+1873313359&4294967295,U=V+(C<<6&4294967295|C>>>26),C=k+(V^(U|~I))+B[15]+4264355552&4294967295,k=U+(C<<10&4294967295|C>>>22),C=I+(U^(k|~V))+B[6]+2734768916&4294967295,I=k+(C<<15&4294967295|C>>>17),C=V+(k^(I|~U))+B[13]+1309151649&4294967295,V=I+(C<<21&4294967295|C>>>11),C=U+(I^(V|~k))+B[4]+4149444226&4294967295,U=V+(C<<6&4294967295|C>>>26),C=k+(V^(U|~I))+B[11]+3174756917&4294967295,k=U+(C<<10&4294967295|C>>>22),C=I+(U^(k|~V))+B[2]+718787259&4294967295,I=k+(C<<15&4294967295|C>>>17),C=V+(k^(I|~U))+B[9]+3951481745&4294967295,F.g[0]=F.g[0]+U&4294967295,F.g[1]=F.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,F.g[2]=F.g[2]+I&4294967295,F.g[3]=F.g[3]+k&4294967295}s.prototype.v=function(F,U){U===void 0&&(U=F.length);const V=U-this.blockSize,B=this.C;let I=this.h,k=0;for(;k<U;){if(I==0)for(;k<=V;)l(this,F,k),k+=this.blockSize;if(typeof F=="string"){for(;k<U;)if(B[I++]=F.charCodeAt(k++),I==this.blockSize){l(this,B),I=0;break}}else for(;k<U;)if(B[I++]=F[k++],I==this.blockSize){l(this,B),I=0;break}}this.h=I,this.o+=U},s.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var U=1;U<F.length-8;++U)F[U]=0;U=this.o*8;for(var V=F.length-8;V<F.length;++V)F[V]=U&255,U/=256;for(this.v(F),F=Array(16),U=0,V=0;V<4;++V)for(let B=0;B<32;B+=8)F[U++]=this.g[V]>>>B&255;return F};function c(F,U){var V=b;return Object.prototype.hasOwnProperty.call(V,F)?V[F]:V[F]=U(F)}function p(F,U){this.h=U;const V=[];let B=!0;for(let I=F.length-1;I>=0;I--){const k=F[I]|0;B&&k==U||(V[I]=k,B=!1)}this.g=V}var b={};function w(F){return-128<=F&&F<128?c(F,function(U){return new p([U|0],U<0?-1:0)}):new p([F|0],F<0?-1:0)}function E(F){if(isNaN(F)||!isFinite(F))return L;if(F<0)return Re(E(-F));const U=[];let V=1;for(let B=0;F>=V;B++)U[B]=F/V|0,V*=4294967296;return new p(U,0)}function x(F,U){if(F.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(F.charAt(0)=="-")return Re(x(F.substring(1),U));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=E(Math.pow(U,8));let B=L;for(let k=0;k<F.length;k+=8){var I=Math.min(8,F.length-k);const C=parseInt(F.substring(k,k+I),U);I<8?(I=E(Math.pow(U,I)),B=B.j(I).add(E(C))):(B=B.j(V),B=B.add(E(C)))}return B}var L=w(0),q=w(1),te=w(16777216);r=p.prototype,r.m=function(){if(Oe(this))return-Re(this).m();let F=0,U=1;for(let V=0;V<this.g.length;V++){const B=this.i(V);F+=(B>=0?B:4294967296+B)*U,U*=4294967296}return F},r.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(z(this))return"0";if(Oe(this))return"-"+Re(this).toString(F);const U=E(Math.pow(F,6));var V=this;let B="";for(;;){const I=Ke(V,U).g;V=Le(V,I.j(U));let k=((V.g.length>0?V.g[0]:V.h)>>>0).toString(F);if(V=I,z(V))return k+B;for(;k.length<6;)k="0"+k;B=k+B}},r.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function z(F){if(F.h!=0)return!1;for(let U=0;U<F.g.length;U++)if(F.g[U]!=0)return!1;return!0}function Oe(F){return F.h==-1}r.l=function(F){return F=Le(this,F),Oe(F)?-1:z(F)?0:1};function Re(F){const U=F.g.length,V=[];for(let B=0;B<U;B++)V[B]=~F.g[B];return new p(V,~F.h).add(q)}r.abs=function(){return Oe(this)?Re(this):this},r.add=function(F){const U=Math.max(this.g.length,F.g.length),V=[];let B=0;for(let I=0;I<=U;I++){let k=B+(this.i(I)&65535)+(F.i(I)&65535),C=(k>>>16)+(this.i(I)>>>16)+(F.i(I)>>>16);B=C>>>16,k&=65535,C&=65535,V[I]=C<<16|k}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Le(F,U){return F.add(Re(U))}r.j=function(F){if(z(this)||z(F))return L;if(Oe(this))return Oe(F)?Re(this).j(Re(F)):Re(Re(this).j(F));if(Oe(F))return Re(this.j(Re(F)));if(this.l(te)<0&&F.l(te)<0)return E(this.m()*F.m());const U=this.g.length+F.g.length,V=[];for(var B=0;B<2*U;B++)V[B]=0;for(B=0;B<this.g.length;B++)for(let I=0;I<F.g.length;I++){const k=this.i(B)>>>16,C=this.i(B)&65535,X=F.i(I)>>>16,ie=F.i(I)&65535;V[2*B+2*I]+=C*ie,Be(V,2*B+2*I),V[2*B+2*I+1]+=k*ie,Be(V,2*B+2*I+1),V[2*B+2*I+1]+=C*X,Be(V,2*B+2*I+1),V[2*B+2*I+2]+=k*X,Be(V,2*B+2*I+2)}for(F=0;F<U;F++)V[F]=V[2*F+1]<<16|V[2*F];for(F=U;F<2*U;F++)V[F]=0;return new p(V,0)};function Be(F,U){for(;(F[U]&65535)!=F[U];)F[U+1]+=F[U]>>>16,F[U]&=65535,U++}function qe(F,U){this.g=F,this.h=U}function Ke(F,U){if(z(U))throw Error("division by zero");if(z(F))return new qe(L,L);if(Oe(F))return U=Ke(Re(F),U),new qe(Re(U.g),Re(U.h));if(Oe(U))return U=Ke(F,Re(U)),new qe(Re(U.g),U.h);if(F.g.length>30){if(Oe(F)||Oe(U))throw Error("slowDivide_ only works with positive integers.");for(var V=q,B=U;B.l(F)<=0;)V=ht(V),B=ht(B);var I=ot(V,1),k=ot(B,1);for(B=ot(B,2),V=ot(V,2);!z(B);){var C=k.add(B);C.l(F)<=0&&(I=I.add(V),k=C),B=ot(B,1),V=ot(V,1)}return U=Le(F,I.j(U)),new qe(I,U)}for(I=L;F.l(U)>=0;){for(V=Math.max(1,Math.floor(F.m()/U.m())),B=Math.ceil(Math.log(V)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),k=E(V),C=k.j(U);Oe(C)||C.l(F)>0;)V-=B,k=E(V),C=k.j(U);z(k)&&(k=q),I=I.add(k),F=Le(F,C)}return new qe(I,F)}r.B=function(F){return Ke(this,F).h},r.and=function(F){const U=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<U;B++)V[B]=this.i(B)&F.i(B);return new p(V,this.h&F.h)},r.or=function(F){const U=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<U;B++)V[B]=this.i(B)|F.i(B);return new p(V,this.h|F.h)},r.xor=function(F){const U=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<U;B++)V[B]=this.i(B)^F.i(B);return new p(V,this.h^F.h)};function ht(F){const U=F.g.length+1,V=[];for(let B=0;B<U;B++)V[B]=F.i(B)<<1|F.i(B-1)>>>31;return new p(V,F.h)}function ot(F,U){const V=U>>5;U%=32;const B=F.g.length-V,I=[];for(let k=0;k<B;k++)I[k]=U>0?F.i(k+V)>>>U|F.i(k+V+1)<<32-U:F.i(k+V);return new p(I,F.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,jb=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=x,fo=p}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zb,Uu,Bb,xh,Bm,Fb,Hb,qb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=i(this);function l(u,y){if(y)e:{var A=s;u=u.split(".");for(var O=0;O<u.length-1;O++){var re=u[O];if(!(re in A))break e;A=A[re]}u=u[u.length-1],O=A[u],y=y(O),y!=O&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],O;for(O in y)Object.prototype.hasOwnProperty.call(y,O)&&A.push([O,y[O]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function x(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var O=A.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function L(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(O,re,de){for(var Ue=Array(arguments.length-2),At=2;At<arguments.length;At++)Ue[At-2]=arguments[At];return y.prototype[re].apply(O,Ue)}}var q=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function te(u){const y=u.length;if(y>0){const A=Array(y);for(let O=0;O<y;O++)A[O]=u[O];return A}return[]}function z(u,y){for(let O=1;O<arguments.length;O++){const re=arguments[O];var A=typeof re;if(A=A!="object"?A:re?Array.isArray(re)?"array":A:"null",A=="array"||A=="object"&&typeof re.length=="number"){A=u.length||0;const de=re.length||0;u.length=A+de;for(let Ue=0;Ue<de;Ue++)u[A+Ue]=re[Ue]}else u.push(re)}}class Oe{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Re(u){p.setTimeout(()=>{throw u},0)}function Le(){var u=F;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Be{constructor(){this.h=this.g=null}add(y,A){const O=qe.get();O.set(y,A),this.h?this.h.next=O:this.g=O,this.h=O}}var qe=new Oe(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ot=!1,F=new Be,U=()=>{const u=Promise.resolve(void 0);ht=()=>{u.then(V)}};function V(){for(var u;u=Le();){try{u.h.call(u.g)}catch(A){Re(A)}var y=qe;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}ot=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function X(u,y){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}L(X,I),X.prototype.init=function(u,y){const A=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),H=0;function Z(u,y,A,O,re){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!O,this.ha=re,this.key=++H,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fe(u,y,A){for(const O in u)y.call(A,u[O],O,u)}function Me(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function P(u){const y={};for(const A in u)y[A]=u[A];return y}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(u,y){let A,O;for(let re=1;re<arguments.length;re++){O=arguments[re];for(A in O)u[A]=O[A];for(let de=0;de<ae.length;de++)A=ae[de],Object.prototype.hasOwnProperty.call(O,A)&&(u[A]=O[A])}}function Ee(u){this.src=u,this.g={},this.h=0}Ee.prototype.add=function(u,y,A,O,re){const de=u.toString();u=this.g[de],u||(u=this.g[de]=[],this.h++);const Ue=Fe(u,y,O,re);return Ue>-1?(y=u[Ue],A||(y.fa=!1)):(y=new Z(y,this.src,de,!!O,re),y.fa=A,u.push(y)),y};function xe(u,y){const A=y.type;if(A in u.g){var O=u.g[A],re=Array.prototype.indexOf.call(O,y,void 0),de;(de=re>=0)&&Array.prototype.splice.call(O,re,1),de&&(ye(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function Fe(u,y,A,O){for(let re=0;re<u.length;++re){const de=u[re];if(!de.da&&de.listener==y&&de.capture==!!A&&de.ha==O)return re}return-1}var We="closure_lm_"+(Math.random()*1e6|0),ut={};function _t(u,y,A,O,re){if(Array.isArray(y)){for(let de=0;de<y.length;de++)_t(u,y[de],A,O,re);return null}return A=yt(A),u&&u[ie]?u.J(y,A,b(O)?!!O.capture:!1,re):Ct(u,y,A,!1,O,re)}function Ct(u,y,A,O,re,de){if(!y)throw Error("Invalid event type");const Ue=b(re)?!!re.capture:!!re;let At=Nn(u);if(At||(u[We]=At=new Ee(u)),A=At.add(y,A,O,Ue,de),A.proxy)return A;if(O=an(),A.proxy=O,O.src=u,O.listener=A,u.addEventListener)k||(re=Ue),re===void 0&&(re=!1),u.addEventListener(y.toString(),O,re);else if(u.attachEvent)u.attachEvent(jt(y.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return A}function an(){function u(A){return y.call(u.src,u.listener,A)}const y=zt;return u}function ft(u,y,A,O,re){if(Array.isArray(y))for(var de=0;de<y.length;de++)ft(u,y[de],A,O,re);else O=b(O)?!!O.capture:!!O,A=yt(A),u&&u[ie]?(u=u.i,de=String(y).toString(),de in u.g&&(y=u.g[de],A=Fe(y,A,O,re),A>-1&&(ye(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[de],u.h--)))):u&&(u=Nn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Fe(y,A,O,re)),(A=u>-1?y[u]:null)&&Et(A))}function Et(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ie])xe(y.i,u);else{var A=u.type,O=u.proxy;y.removeEventListener?y.removeEventListener(A,O,u.capture):y.detachEvent?y.detachEvent(jt(A),O):y.addListener&&y.removeListener&&y.removeListener(O),(A=Nn(y))?(xe(A,u),A.h==0&&(A.src=null,y[We]=null)):ye(u)}}}function jt(u){return u in ut?ut[u]:ut[u]="on"+u}function zt(u,y){if(u.da)u=!0;else{y=new X(y,this);const A=u.listener,O=u.ha||u.src;u.fa&&Et(u),u=A.call(O,y)}return u}function Nn(u){return u=u[We],u instanceof Ee?u:null}var ii="__closure_events_fn_"+(Math.random()*1e9>>>0);function yt(u){return typeof u=="function"?u:(u[ii]||(u[ii]=function(y){return u.handleEvent(y)}),u[ii])}function rt(){B.call(this),this.i=new Ee(this),this.M=this,this.G=null}L(rt,B),rt.prototype[ie]=!0,rt.prototype.removeEventListener=function(u,y,A,O){ft(this,u,y,A,O)};function fn(u,y){var A,O=u.G;if(O)for(A=[];O;O=O.G)A.push(O);if(u=u.M,O=y.type||y,typeof y=="string")y=new I(y,u);else if(y instanceof I)y.target=y.target||u;else{var re=y;y=new I(O,u),Se(y,re)}re=!0;let de,Ue;if(A)for(Ue=A.length-1;Ue>=0;Ue--)de=y.g=A[Ue],re=tn(de,O,!0,y)&&re;if(de=y.g=u,re=tn(de,O,!0,y)&&re,re=tn(de,O,!1,y)&&re,A)for(Ue=0;Ue<A.length;Ue++)de=y.g=A[Ue],re=tn(de,O,!1,y)&&re}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let O=0;O<A.length;O++)ye(A[O]);delete u.g[y],u.h--}}this.G=null},rt.prototype.J=function(u,y,A,O){return this.i.add(String(u),y,!1,A,O)},rt.prototype.K=function(u,y,A,O){return this.i.add(String(u),y,!0,A,O)};function tn(u,y,A,O){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let re=!0;for(let de=0;de<y.length;++de){const Ue=y[de];if(Ue&&!Ue.da&&Ue.capture==A){const At=Ue.listener,qn=Ue.ha||Ue.src;Ue.fa&&xe(u.i,Ue),re=At.call(qn,O)!==!1&&re}}return re&&!O.defaultPrevented}function Yi(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function Un(u){u.g=Yi(()=>{u.g=null,u.i&&(u.i=!1,Un(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Ft extends B{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Un(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gn(u){B.call(this),this.h=u,this.g={}}L(gn,B);var R=[];function g(u){fe(u.g,function(y,A){this.g.hasOwnProperty(A)&&Et(y)},u),u.g={}}gn.prototype.N=function(){gn.Z.N.call(this),g(this)},gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _=p.JSON.stringify,N=p.JSON.parse,K=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function me(){}function De(){}var et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function at(){I.call(this,"d")}L(at,I);function Ye(){I.call(this,"c")}L(Ye,I);var tt={},Zt=null;function wn(){return Zt=Zt||new rt}tt.Ia="serverreachability";function ln(u){I.call(this,tt.Ia,u)}L(ln,I);function jn(u){const y=wn();fn(y,new ln(y))}tt.STAT_EVENT="statevent";function Yn(u,y){I.call(this,tt.STAT_EVENT,u),this.stat=y}L(Yn,I);function Ht(u){const y=wn();fn(y,new Yn(y,u))}tt.Ja="timingevent";function An(u,y){I.call(this,tt.Ja,u),this.size=y}L(An,I);function xn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Xi(u,y,A,O,re,de){u.info(function(){if(u.g)if(de){var Ue="",At=de.split("&");for(let sn=0;sn<At.length;sn++){var qn=At[sn].split("=");if(qn.length>1){const Mn=qn[0];qn=qn[1];const ji=Mn.split("_");Ue=ji.length>=2&&ji[1]=="type"?Ue+(Mn+"="+qn+"&"):Ue+(Mn+"=redacted&")}}}else Ue=null;else Ue=de;return"XMLHTTP REQ ("+O+") [attempt "+re+"]: "+y+`
`+A+`
`+Ue})}function gt(u,y,A,O,re,de,Ue){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+re+"]: "+y+`
`+A+`
`+de+" "+Ue})}function Hn(u,y,A,O){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Qi(u,A)+(O?" "+O:"")})}function St(u,y){u.info(function(){return"TIMEOUT: "+y})}Xn.prototype.info=function(){};function Qi(u,y){if(!u.g)return y;if(!y)return null;try{const de=JSON.parse(y);if(de){for(u=0;u<de.length;u++)if(Array.isArray(de[u])){var A=de[u];if(!(A.length<2)){var O=A[1];if(Array.isArray(O)&&!(O.length<1)){var re=O[0];if(re!="noop"&&re!="stop"&&re!="close")for(let Ue=1;Ue<O.length;Ue++)O[Ue]=""}}}}return _(de)}catch{return y}}var Ki={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sr;function lr(){}L(lr,me),lr.prototype.g=function(){return new XMLHttpRequest},Sr=new lr;function Xe(u){return encodeURIComponent(String(u))}function va(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Wi(u,y,A,O){this.j=u,this.i=y,this.l=A,this.S=O||1,this.V=new gn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ki}function ki(){this.i=null,this.g="",this.h=!1}var dn={},zn={};function $i(u,y,A){u.M=1,u.A=ke(ve(y)),u.u=A,u.R=!0,Rr(u,null)}function Rr(u,y){u.F=Date.now(),Pi(u),u.B=ve(u.A);var A=u.B,O=u.S;Array.isArray(O)||(O=[String(O)]),Ga(A.i,"t",O),u.C=0,A=u.j.L,u.h=new ki,u.g=Zo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new Ft(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,O=u.ba;var re="readystatechange";Array.isArray(re)||(re&&(R[0]=re.toString()),re=R);for(let de=0;de<re.length;de++){const Ue=_t(A,re[de],O||y.handleEvent,!1,y.h||y);if(!Ue)break;y.g[Ue.key]=Ue}y=u.J?P(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),jn(),Xi(u.i,u.v,u.B,u.l,u.S,u.u)}Wi.prototype.ba=function(u){u=u.target;const y=this.O;y&&Mr(u)==3?y.j():this.Y(u)},Wi.prototype.Y=function(u){try{if(u==this.g)e:{const At=Mr(this.g),qn=this.g.ya(),sn=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||di(this.g)))){this.K||At!=4||qn==7||(qn==8||sn<=0?jn(3):jn(2)),Ji(this);var y=this.g.ca();this.X=y;var A=Cs(this);if(this.o=y==200,gt(this.i,this.v,this.B,this.l,this.S,At,y),this.o){if(this.U&&!this.L){t:{if(this.g){var O,re=this.g;if((O=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(O)){var de=O;break t}}de=null}if(u=de)Hn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,u);else{this.o=!1,this.m=3,Ht(12),wi(this),Qn(this);break e}}if(this.R){u=!0;let Mn;for(;!this.K&&this.C<A.length;)if(Mn=aa(this,A),Mn==zn){At==4&&(this.m=4,Ht(14),u=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==dn){this.m=4,Ht(15),Hn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Hn(this.i,this.l,Mn,null),Li(this,Mn);if(_a(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||A.length!=0||this.h.h||(this.m=1,Ht(16),u=!1),this.o=this.o&&u,!u)Hn(this.i,this.l,A,"[Invalid Chunked Response]"),wi(this),Qn(this);else if(A.length>0&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.aa&&!Ue.P&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),nr(Ue),Ue.P=!0,Ht(11))}}else Hn(this.i,this.l,A,null),Li(this,A);At==4&&wi(this),this.o&&!this.K&&(At==4?Ka(this.j,this):(this.o=!1,Pi(this)))}else pr(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),wi(this),Qn(this)}}}catch{}finally{}};function Cs(u){if(!_a(u))return u.g.la();const y=di(u.g);if(y==="")return"";let A="";const O=y.length,re=Mr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wi(u),Qn(u),"";u.h.i=new p.TextDecoder}for(let de=0;de<O;de++)u.h.h=!0,A+=u.h.i.decode(y[de],{stream:!(re&&de==O-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function _a(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function aa(u,y){var A=u.C,O=y.indexOf(`
`,A);return O==-1?zn:(A=Number(y.substring(A,O)),isNaN(A)?dn:(O+=1,O+A>y.length?zn:(y=y.slice(O,O+A),u.C=O+A,y)))}Wi.prototype.cancel=function(){this.K=!0,wi(this)};function Pi(u){u.T=Date.now()+u.H,bi(u,u.H)}function bi(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=xn(E(u.aa,u),y)}function Ji(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Wi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(St(this.i,this.B),this.M!=2&&(jn(),Ht(17)),wi(this),this.m=2,Qn(this)):bi(this,this.T-u)};function Qn(u){u.j.I==0||u.K||Ka(u.j,u)}function wi(u){Ji(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Li(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||Ei(A.h,u))){if(!u.L&&Ei(A.h,u)&&A.I==3){try{var O=A.Ba.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var re=O;if(re[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)ca(A),Dr(A);else break e;Sa(A),Ht(18)}}else A.xa=re[1],0<A.xa-A.K&&re[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=xn(E(A.Va,A),6e3));gi(A.h)<=1&&A.ta&&(A.ta=void 0)}else Nr(A,11)}else if((u.L||A.g==u)&&ca(A),!C(y))for(re=A.Ba.g.parse(y),y=0;y<re.length;y++){let sn=re[y];const Mn=sn[0];if(!(Mn<=A.K))if(A.K=Mn,sn=sn[1],A.I==2)if(sn[0]=="c"){A.M=sn[1],A.ba=sn[2];const ji=sn[3];ji!=null&&(A.ka=ji,A.j.info("VER="+A.ka));const gr=sn[4];gr!=null&&(A.za=gr,A.j.info("SVER="+A.za));const yr=sn[5];yr!=null&&typeof yr=="number"&&yr>0&&(O=1.5*yr,A.O=O,A.j.info("backChannelRequestTimeoutMs_="+O)),O=A;const ir=u.g;if(ir){const Xr=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var de=O.h;de.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Ha(de,de.h),de.h=null))}if(O.G){const Wa=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(O.wa=Wa,He(O.J,O.G,Wa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),O=A;var Ue=u;if(O.na=Jo(O,O.L?O.ba:null,O.W),Ue.L){Br(O.h,Ue);var At=Ue,qn=O.O;qn&&(At.H=qn),At.D&&(Ji(At),Pi(At)),O.g=Ue}else Jn(O);A.i.length>0&&tr(A)}else sn[0]!="stop"&&sn[0]!="close"||Nr(A,7);else A.I==3&&(sn[0]=="stop"||sn[0]=="close"?sn[0]=="stop"?Nr(A,7):To(A):sn[0]!="noop"&&A.l&&A.l.qa(sn),A.A=0)}}jn(4)}catch{}}var On=class{constructor(u,y){this.g=u,this.map=y}};function sa(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ha(u,y){u.g?u.g.add(y):u.h=y}function Br(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}sa.prototype.cancel=function(){if(this.i=Fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return te(u.i)}var ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function he(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const O=u[A].indexOf("=");let re,de=null;O>=0?(re=u[A].substring(0,O),de=u[A].substring(O+1)):re=u[A],y(re,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function pe(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof pe?(this.l=u.l,Ce(this,u.j),this.o=u.o,this.g=u.g,Qe(this,u.u),this.h=u.h,Pe(this,wa(u.i)),this.m=u.m):u&&(y=String(u).match(ne))?(this.l=!1,Ce(this,y[1]||"",!0),this.o=be(y[2]||""),this.g=be(y[3]||"",!0),Qe(this,y[4]),this.h=be(y[5]||"",!0),Pe(this,y[6]||"",!0),this.m=be(y[7]||"")):(this.l=!1,this.i=new Hr(null,this.l))}pe.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(kt(y,yn,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(kt(y,yn,!0),"@"),u.push(Xe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(kt(A,A.charAt(0)=="/"?Ti:Zi,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",kt(A,ba)),u.join("")},pe.prototype.resolve=function(u){const y=ve(this);let A=!!u.j;A?Ce(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var O=u.h;if(A)Qe(y,u.u);else if(A=!!u.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var re=y.h.lastIndexOf("/");re!=-1&&(O=y.h.slice(0,re+1)+O)}if(re=O,re==".."||re==".")O="";else if(re.indexOf("./")!=-1||re.indexOf("/.")!=-1){O=re.lastIndexOf("/",0)==0,re=re.split("/");const de=[];for(let Ue=0;Ue<re.length;){const At=re[Ue++];At=="."?O&&Ue==re.length&&de.push(""):At==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),O&&Ue==re.length&&de.push("")):(de.push(At),O=!0)}O=de.join("/")}else O=re}return A?y.h=O:A=u.i.toString()!=="",A?Pe(y,wa(u.i)):A=!!u.m,A&&(y.m=u.m),y};function ve(u){return new pe(u)}function Ce(u,y,A){u.j=A?be(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Qe(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Pe(u,y,A){y instanceof Hr?(u.i=y,Ea(u.i,u.l)):(A||(y=kt(y,Ot)),u.i=new Hr(y,u.l))}function He(u,y,A){u.i.set(y,A)}function ke(u){return He(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function be(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function kt(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,Pt),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pt(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yn=/[#\/\?@]/g,Zi=/[#\?:]/g,Ti=/[#\?]/g,Ot=/[#\?@]/g,ba=/#/g;function Hr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function ri(u){u.g||(u.g=new Map,u.h=0,u.i&&he(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=Hr.prototype,r.add=function(u,y){ri(this),this.i=null,u=Ir(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function ur(u,y){ri(u),y=Ir(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function qa(u,y){return ri(u),y=Ir(u,y),u.g.has(y)}r.forEach=function(u,y){ri(this),this.g.forEach(function(A,O){A.forEach(function(re){u.call(y,re,O,this)},this)},this)};function Cr(u,y){ri(u);let A=[];if(typeof y=="string")qa(u,y)&&(A=A.concat(u.g.get(Ir(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return ri(this),this.i=null,u=Ir(this,u),qa(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=Cr(this,u),u.length>0?String(u[0]):y):y};function Ga(u,y,A){ur(u,y),A.length>0&&(u.i=null,u.g.set(Ir(u,y),te(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let O=0;O<y.length;O++){var A=y[O];const re=Xe(A);A=Cr(this,A);for(let de=0;de<A.length;de++){let Ue=re;A[de]!==""&&(Ue+="="+Xe(A[de])),u.push(Ue)}}return this.i=u.join("&")};function wa(u){const y=new Hr;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Ir(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Ea(u,y){y&&!u.j&&(ri(u),u.i=null,u.g.forEach(function(A,O){const re=O.toLowerCase();O!=re&&(ur(this,O),Ga(this,re,A))},u)),u.j=y}function cr(u,y){const A=new Xn;if(p.Image){const O=new Image;O.onload=x(hr,A,"TestLoadImage: loaded",!0,y,O),O.onerror=x(hr,A,"TestLoadImage: error",!1,y,O),O.onabort=x(hr,A,"TestLoadImage: abort",!1,y,O),O.ontimeout=x(hr,A,"TestLoadImage: timeout",!1,y,O),p.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else y(!1)}function Is(u,y){const A=new Xn,O=new AbortController,re=setTimeout(()=>{O.abort(),hr(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:O.signal}).then(de=>{clearTimeout(re),de.ok?hr(A,"TestPingServer: ok",!0,y):hr(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(re),hr(A,"TestPingServer: error",!1,y)})}function hr(u,y,A,O,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),O(A)}catch{}}function fr(){this.g=new K}function er(u){this.i=u.Sb||null,this.h=u.ab||!1}L(er,me),er.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,y){rt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}L(dr,rt),r=dr.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Ai(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?mr(this):Ai(this),this.readyState==3&&oa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,mr(this))},r.Na=function(u){this.g&&(this.response=u,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ai(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fi(u){let y="";return fe(u,function(A,O){y+=O,y+=":",y+=A,y+=`\r
`}),y}function qr(u,y,A){e:{for(O in A){var O=!1;break e}O=!0}O||(A=fi(A),typeof u=="string"?A!=null&&Xe(A):He(u,y,A))}function Dt(u){rt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}L(Dt,rt);var Gr=/^https?$/i,Ui=["POST","PUT"];r=Dt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sr.g(),this.g.onreadystatechange=q(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(de){la(this,de);return}if(u=A||"",A=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var re in O)A.set(re,O[re]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const de of O.keys())A.set(de,O.get(de));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(A.keys()).find(de=>de.toLowerCase()=="content-type"),re=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Ui,y,void 0)>=0)||O||re||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ue]of A)this.g.setRequestHeader(de,Ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(de){la(this,de)}};function la(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Ta(u),xr(u)}function Ta(u){u.A||(u.A=!0,fn(u,"complete"),fn(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,fn(this,"complete"),fn(this,"abort"),xr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),Dt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ua(this):this.Xa())},r.Xa=function(){ua(this)};function ua(u){if(u.h&&typeof c<"u"){if(u.v&&Mr(u)==4)setTimeout(u.Ca.bind(u),0);else if(fn(u,"readystatechange"),Mr(u)==4){u.h=!1;try{const de=u.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var O;if(O=de===0){let Ue=String(u.D).match(ne)[1]||null;!Ue&&p.self&&p.self.location&&(Ue=p.self.location.protocol.slice(0,-1)),O=!Gr.test(Ue?Ue.toLowerCase():"")}A=O}if(A)fn(u,"complete"),fn(u,"success");else{u.o=6;try{var re=Mr(u)>2?u.g.statusText:""}catch{re=""}u.l=re+" ["+u.ca()+"]",Ta(u)}}finally{xr(u)}}}}function xr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||fn(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Mr(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Mr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),N(y)}};function di(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function pr(u){const y={};u=(u.g&&Mr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(C(u[O]))continue;var A=va(u[O]);const re=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const de=y[re]||[];y[re]=de,de.push(A)}Me(y,function(O){return O.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Aa(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yr("baseRetryDelayMs",5e3,u),this.Za=Yr("retryDelaySeedMs",1e4,u),this.Ta=Yr("forwardChannelMaxRetries",2,u),this.va=Yr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new sa(u&&u.concurrentRequestLimit),this.Ba=new fr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Aa.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,O){Ht(0),this.W=u,this.H=y||{},A&&O!==void 0&&(this.H.OSID=A,this.H.OAID=O),this.F=this.X,this.J=Jo(this,null,this.W),tr(this)};function To(u){if(Ya(u),u.I==3){var y=u.V++,A=ve(u.J);if(He(A,"SID",u.M),He(A,"RID",y),He(A,"TYPE","terminate"),Qa(u,A),y=new Wi(u,u.j,y),y.M=2,y.A=ke(ve(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Zo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Pi(y)}Ds(u)}function Dr(u){u.g&&(nr(u),u.g.cancel(),u.g=null)}function Ya(u){Dr(u),u.v&&(p.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function tr(u){if(!Bn(u.h)&&!u.m){u.m=!0;var y=u.Ea;ht||U(),ot||(ht(),ot=!0),F.add(y,u),u.D=0}}function Xa(u,y){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=xn(E(u.Ea,u,y),Ms(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const re=new Wi(this,this.j,u);let de=this.o;if(this.U&&(de?(de=P(de),Se(de,this.U)):de=this.U),this.u!==null||this.R||(re.J=de,de=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var O=this.i[A];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Wo(this,re,y),A=ve(this.J),He(A,"RID",u),He(A,"CVER",22),this.G&&He(A,"X-HTTP-Session-Id",this.G),Qa(this,A),de&&(this.R?y="headers="+Xe(fi(de))+"&"+y:this.u&&qr(A,this.u,de)),Ha(this.h,re),this.Ra&&He(A,"TYPE","init"),this.S?(He(A,"$req",y),He(A,"SID","null"),re.U=!0,$i(re,A,null)):$i(re,A,y),this.I=2}}else this.I==3&&(u?xs(this,u):this.i.length==0||Bn(this.h)||xs(this))};function xs(u,y){var A;y?A=y.l:A=u.V++;const O=ve(u.J);He(O,"SID",u.M),He(O,"RID",A),He(O,"AID",u.K),Qa(u,O),u.u&&u.o&&qr(O,u.u,u.o),A=new Wi(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Wo(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ha(u.h,A),$i(A,O,y)}function Qa(u,y){u.H&&fe(u.H,function(A,O){He(y,O,A)}),u.l&&fe({},function(A,O){He(y,O,A)})}function Wo(u,y,A){A=Math.min(u.i.length,A);const O=u.l?E(u.l.Ka,u.l,u):null;e:{var re=u.i;let At=-1;for(;;){const qn=["count="+A];At==-1?A>0?(At=re[0].g,qn.push("ofs="+At)):At=0:qn.push("ofs="+At);let sn=!0;for(let Mn=0;Mn<A;Mn++){var de=re[Mn].g;const ji=re[Mn].map;if(de-=At,de<0)At=Math.max(0,re[Mn].g-100),sn=!1;else try{de="req"+de+"_"||"";try{var Ue=ji instanceof Map?ji:Object.entries(ji);for(const[gr,yr]of Ue){let ir=yr;b(yr)&&(ir=_(yr)),qn.push(de+gr+"="+encodeURIComponent(ir))}}catch(gr){throw qn.push(de+"type="+encodeURIComponent("_badmap")),gr}}catch{O&&O(ji)}}if(sn){Ue=qn.join("&");break e}}Ue=void 0}return u=u.i.splice(0,A),y.G=u,Ue}function Jn(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ht||U(),ot||(ht(),ot=!0),F.add(y,u),u.A=0}}function Sa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=xn(E(u.Da,u),Ms(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,$o(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=xn(E(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),Dr(this),$o(this))};function nr(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function $o(u){u.g=new Wi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=ve(u.na);He(y,"RID","rpc"),He(y,"SID",u.M),He(y,"AID",u.K),He(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&He(y,"TO",u.ia),He(y,"TYPE","xmlhttp"),Qa(u,y),u.u&&u.o&&qr(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=ke(ve(y)),A.u=null,A.R=!0,Rr(A,u)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Sa(this),Ht(19))};function ca(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Ka(u,y){var A=null;if(u.g==y){ca(u),nr(u),u.g=null;var O=2}else if(Ei(u.h,y))A=y.G,Br(u.h,y),O=1;else return;if(u.I!=0){if(y.o)if(O==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var re=u.D;O=wn(),fn(O,new An(O,A)),tr(u)}else Jn(u);else if(re=y.m,re==3||re==0&&y.X>0||!(O==1&&Xa(u,y)||O==2&&Sa(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),re){case 1:Nr(u,5);break;case 4:Nr(u,10);break;case 3:Nr(u,6);break;default:Nr(u,2)}}}function Ms(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Nr(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),O=u.Ua;const re=!O;O=new pe(O||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ce(O,"https"),ke(O),re?cr(O.toString(),A):Is(O.toString(),A)}else Ht(2);u.I=0,u.l&&u.l.pa(y),Ds(u),Ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Ds(u){if(u.I=0,u.ja=[],u.l){const y=Fr(u.h);(y.length!=0||u.i.length!=0)&&(z(u.ja,y),z(u.ja,u.i),u.h.i.length=0,te(u.i),u.i.length=0),u.l.oa()}}function Jo(u,y,A){var O=A instanceof pe?ve(A):new pe(A);if(O.g!="")y&&(O.g=y+"."+O.g),Qe(O,O.u);else{var re=p.location;O=re.protocol,y=y?y+"."+re.hostname:re.hostname,re=+re.port;const de=new pe(null);O&&Ce(de,O),y&&(de.g=y),re&&Qe(de,re),A&&(de.h=A),O=de}return A=u.G,y=u.wa,A&&y&&He(O,A,y),He(O,"VER",u.ka),Qa(u,O),O}function Zo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Dt(new er({ab:A})):new Dt(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ns(){}r=Ns.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ra(){}Ra.prototype.g=function(u,y){return new Si(u,y)};function Si(u,y){rt.call(this),this.g=new Aa(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!C(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ha(this)}L(Si,rt),Si.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Si.prototype.close=function(){To(this.g)},Si.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=_(u),u=A);y.i.push(new On(y.Ya++,u)),y.I==3&&tr(y)},Si.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,Si.Z.N.call(this)};function Ao(u){at.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}L(Ao,at);function el(){Ye.call(this),this.status=1}L(el,Ye);function ha(u){this.g=u}L(ha,Ns),ha.prototype.ra=function(){fn(this.g,"a")},ha.prototype.qa=function(u){fn(this.g,new Ao(u))},ha.prototype.pa=function(u){fn(this.g,new el)},ha.prototype.oa=function(){fn(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,Si.prototype.send=Si.prototype.o,Si.prototype.open=Si.prototype.m,Si.prototype.close=Si.prototype.close,qb=function(){return new Ra},Hb=function(){return wn()},Fb=tt,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,xh=Ki,Fa.COMPLETE="complete",Bb=Fa,De.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",rt.prototype.listen=rt.prototype.J,Uu=De,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,zb=Dt}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",B_="4.9.2";class Hi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid"),Hi.MOCK_USER=new Hi("mock-user");let Kl="12.3.0";const qo=new rp("@firebase/firestore");function Il(){return qo.logLevel}function it(r,...e){if(qo.logLevel<=Wt.DEBUG){const i=e.map(pp);qo.debug(`Firestore (${Kl}): ${r}`,...i)}}function As(r,...e){if(qo.logLevel<=Wt.ERROR){const i=e.map(pp);qo.error(`Firestore (${Kl}): ${r}`,...i)}}function zl(r,...e){if(qo.logLevel<=Wt.WARN){const i=e.map(pp);qo.warn(`Firestore (${Kl}): ${r}`,...i)}}function pp(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function wt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Gb(r,s,i)}function Gb(r,e,i){let s=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw As(s),new Error(s)}function bn(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||Gb(e,l,s)}function xt(r,e){return r}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Yb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Hi.UNAUTHENTICATED)))}shutdown(){}}class CR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class IR{constructor(e){this.t=e,this.currentUser=Hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){bn(this.o===void 0,42304);let s=this.i;const l=w=>this.i!==s?(s=this.i,i(w)):Promise.resolve();let c=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mo)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(bn(typeof s.accessToken=="string",31837,{l:s}),new Yb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bn(e===null||typeof e=="string",2055,{h:e}),new Hi(e)}}class xR{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Hi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MR{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new xR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Hi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,na(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){bn(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(bn(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new F_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function NR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=NR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function $t(r,e){return r<e?-1:r>e?1:0}function Fm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Sm(l)===Sm(c)?$t(l,c):Sm(l)?1:-1}return $t(r.length,e.length)}const OR=55296,VR=57343;function Sm(r){const e=r.charCodeAt(0);return e>=OR&&e<=VR}function Bl(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const H_="__name__";class Va{constructor(e,i,s){i===void 0?i=0:i>e.length&&wt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&wt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Va.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Va.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return $t(e.length,i.length)}static compareSegments(e,i){const s=Va.isNumericId(e),l=Va.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Va.extractNumericId(e).compare(Va.extractNumericId(i)):Fm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class Dn extends Va{construct(e,i,s){return new Dn(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ze(Ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Dn(i)}static emptyPath(){return new Dn([])}}const kR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oi extends Va{construct(e,i,s){return new Oi(e,i,s)}static isValidIdentifier(e){return kR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new Oi([H_])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new Ze(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new Ze(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new Ze(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new Ze(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Oi(i)}static emptyPath(){return new Oi([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Dn.fromString(e))}static fromName(e){return new pt(Dn.fromString(e).popFirst(5))}static empty(){return new pt(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Dn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Dn(e.slice()))}}function Xb(r,e,i){if(!i)throw new Ze(Ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function PR(r,e,i,s){if(e===!0&&s===!0)throw new Ze(Ae.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function q_(r){if(!pt.isDocumentKey(r))throw new Ze(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function G_(r){if(pt.isDocumentKey(r))throw new Ze(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Qb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function of(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":wt(12329,{type:typeof r})}function Hh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ze(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=of(r);throw new Ze(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function LR(r,e){if(e<=0)throw new Ze(Ae.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function hi(r,e){const i={typeString:r};return e&&(i.value=e),i}function uc(r,e){if(!Qb(r))throw new Ze(Ae.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const p=r[s];if(l&&typeof p!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new Ze(Ae.INVALID_ARGUMENT,i);return!0}const Y_=-62135596800,X_=1e6;class Ln{static now(){return Ln.fromMillis(Date.now())}static fromDate(e){return Ln.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*X_);return new Ln(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Y_)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X_}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ln._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uc(e,Ln._jsonSchema))return new Ln(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ln._jsonSchemaVersion="firestore/timestamp/1.0",Ln._jsonSchema={type:hi("string",Ln._jsonSchemaVersion),seconds:hi("number"),nanoseconds:hi("number")};class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Ln(0,0))}static max(){return new Rt(new Ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ku=-1;function UR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Rt.fromTimestamp(s===1e9?new Ln(i+1,0):new Ln(i,s));return new go(l,pt.empty(),e)}function jR(r){return new go(r.readTime,r.key,Ku)}class go{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new go(Rt.min(),pt.empty(),Ku)}static max(){return new go(Rt.max(),pt.empty(),Ku)}}function zR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:$t(r.largestBatchId,e.largestBatchId))}const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wl(r){if(r.code!==Ae.FAILED_PRECONDITION||r.message!==BR)throw r;it("LocalStore","Unexpectedly lost primary lease")}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Ie(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Ie?i:Ie.resolve(i)}catch(i){return Ie.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Ie.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Ie.reject(i)}static resolve(e){return new Ie(((i,s)=>{i(e)}))}static reject(e){return new Ie(((i,s)=>{s(e)}))}static waitFor(e){return new Ie(((i,s)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(w=>s(w)))})),p=!0,c===l&&i()}))}static or(e){let i=Ie.resolve(!1);for(const s of e)i=i.next((l=>l?Ie.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new Ie(((s,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;i(e[E]).next((x=>{p[E]=x,++b,b===c&&s(p)}),(x=>l(x)))}}))}static doWhile(e,i){return new Ie(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function HR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $l(r){return r.name==="IndexedDbTransactionError"}class lf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lf.ce=-1;const yp=-1;function uf(r){return r==null}function qh(r){return r===0&&1/r==-1/0}function qR(r){return typeof r=="number"&&Number.isInteger(r)&&!qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Kb="";function GR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Q_(e)),e=YR(r.get(i),e);return Q_(e)}function YR(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Kb:i+="";break;default:i+=c}}return i}function Q_(r){return r+Kb+""}function K_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Yo(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Wb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Gn{constructor(e,i){this.comparator=e,this.root=i||Ni.EMPTY}insert(e,i){return new Gn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ni{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Ni.RED,this.left=l??Ni.EMPTY,this.right=c??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Ni(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Ni.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1;Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Ni(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pi{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(e){return new W_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof pi)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new pi(this.comparator);return i.data=e,i}}class W_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ga{constructor(e){this.fields=e,e.sort(Oi.comparator)}static empty(){return new ga([])}unionWith(e){let i=new pi(Oi.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new ga(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class $b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $b("Invalid base64 string: "+c):c}})(e);return new Vi(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new Vi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(r){if(bn(!!r,39018),typeof r=="string"){let e=0;const i=XR.exec(r);if(bn(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ni(r.seconds),nanos:ni(r.nanos)}}function ni(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vo(r){return typeof r=="string"?Vi.fromBase64String(r):Vi.fromUint8Array(r)}const Jb="server_timestamp",Zb="__type__",ew="__previous_value__",tw="__local_write_time__";function vp(r){return(r?.mapValue?.fields||{})[Zb]?.stringValue===Jb}function cf(r){const e=r.mapValue.fields[ew];return vp(e)?cf(e):e}function Wu(r){const e=yo(r.mapValue.fields[tw].timestampValue);return new Ln(e.seconds,e.nanos)}class QR{constructor(e,i,s,l,c,p,b,w,E,x){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=x}}const Gh="(default)";class $u{constructor(e,i){this.projectId=e,this.database=i||Gh}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}const nw="__type__",KR="__max__",vh={mapValue:{}},iw="__vector__",Yh="value";function _o(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vp(r)?4:$R(r)?9007199254740991:WR(r)?10:11:wt(28295,{value:r})}function Ba(r,e){if(r===e)return!0;const i=_o(r);if(i!==_o(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wu(r).isEqual(Wu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=yo(l.timestampValue),b=yo(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return vo(l.bytesValue).isEqual(vo(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ni(l.geoPointValue.latitude)===ni(c.geoPointValue.latitude)&&ni(l.geoPointValue.longitude)===ni(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ni(l.integerValue)===ni(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=ni(l.doubleValue),b=ni(c.doubleValue);return p===b?qh(p)===qh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Bl(r.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(K_(p)!==K_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!Ba(p[w],b[w])))return!1;return!0})(r,e);default:return wt(52216,{left:r})}}function Ju(r,e){return(r.values||[]).find((i=>Ba(i,e)))!==void 0}function Fl(r,e){if(r===e)return 0;const i=_o(r),s=_o(e);if(i!==s)return $t(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return $t(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=ni(c.integerValue||c.doubleValue),w=ni(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(r,e);case 3:return $_(r.timestampValue,e.timestampValue);case 4:return $_(Wu(r),Wu(e));case 5:return Fm(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=vo(c),w=vo(p);return b.compareTo(w)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const x=$t(b[E],w[E]);if(x!==0)return x}return $t(b.length,w.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=$t(ni(c.latitude),ni(p.latitude));return b!==0?b:$t(ni(c.longitude),ni(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return J_(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[Yh]?.arrayValue,x=w[Yh]?.arrayValue,L=$t(E?.values?.length||0,x?.values?.length||0);return L!==0?L:J_(E,x)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===vh.mapValue&&p===vh.mapValue)return 0;if(c===vh.mapValue)return 1;if(p===vh.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},x=Object.keys(E);w.sort(),x.sort();for(let L=0;L<w.length&&L<x.length;++L){const q=Fm(w[L],x[L]);if(q!==0)return q;const te=Fl(b[w[L]],E[x[L]]);if(te!==0)return te}return $t(w.length,x.length)})(r.mapValue,e.mapValue);default:throw wt(23264,{he:i})}}function $_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $t(r,e);const i=yo(r),s=yo(e),l=$t(i.seconds,s.seconds);return l!==0?l:$t(i.nanos,s.nanos)}function J_(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Fl(i[l],s[l]);if(c)return c}return $t(i.length,s.length)}function Hl(r){return Hm(r)}function Hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=yo(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return vo(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Hm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${Hm(i.fields[p])}`;return l+"}"})(r.mapValue):wt(61005,{value:r})}function Mh(r){switch(_o(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(r);return e?16+Mh(e):16;case 5:return 2*r.stringValue.length;case 6:return vo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Mh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Yo(s.fields,((c,p)=>{l+=c.length+Mh(p)})),l})(r.mapValue);default:throw wt(13486,{value:r})}}function Z_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qm(r){return!!r&&"integerValue"in r}function _p(r){return!!r&&"arrayValue"in r}function e0(r){return!!r&&"nullValue"in r}function t0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dh(r){return!!r&&"mapValue"in r}function WR(r){return(r?.mapValue?.fields||{})[nw]?.stringValue===iw}function Hu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Yo(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Hu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hu(r.arrayValue.values[i]);return e}return{...r}}function $R(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KR}class ia{constructor(e){this.value=e}static empty(){return new ia({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Dh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(i)}setAll(e){let i=Oi.emptyPath(),s={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const w=this.getFieldsMap(i);this.applyChanges(w,s,l),s={},l=[],i=b.popLast()}p?s[b.lastSegment()]=Hu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Dh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Dh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Yo(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new ia(Hu(this.value))}}function rw(r){const e=[];return Yo(r.fields,((i,s)=>{const l=new Oi([i]);if(Dh(s)){const c=rw(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new ga(e)}class qi{constructor(e,i,s,l,c,p,b){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new qi(e,0,Rt.min(),Rt.min(),Rt.min(),ia.empty(),0)}static newFoundDocument(e,i,s,l){return new qi(e,1,i,Rt.min(),s,l,0)}static newNoDocument(e,i){return new qi(e,2,i,Rt.min(),Rt.min(),ia.empty(),0)}static newUnknownDocument(e,i){return new qi(e,3,i,Rt.min(),Rt.min(),ia.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ia.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ia.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xh{constructor(e,i){this.position=e,this.inclusive=i}}function n0(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(p.referenceValue),i.key):s=Fl(p,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function i0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ba(r.position[i],e.position[i]))return!1;return!0}class Zu{constructor(e,i="asc"){this.field=e,this.dir=i}}function JR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class aw{}class ci extends aw{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new eC(e,i,s):i==="array-contains"?new iC(e,s):i==="in"?new rC(e,s):i==="not-in"?new aC(e,s):i==="array-contains-any"?new sC(e,s):new ci(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new tC(e,s):new nC(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fl(i,this.value)):i!==null&&_o(this.value)===_o(i)&&this.matchesComparison(Fl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ya extends aw{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ya(e,i)}matches(e){return sw(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sw(r){return r.op==="and"}function ow(r){return ZR(r)&&sw(r)}function ZR(r){for(const e of r.filters)if(e instanceof ya)return!1;return!0}function Gm(r){if(r instanceof ci)return r.field.canonicalString()+r.op.toString()+Hl(r.value);if(ow(r))return r.filters.map((e=>Gm(e))).join(",");{const e=r.filters.map((i=>Gm(i))).join(",");return`${r.op}(${e})`}}function lw(r,e){return r instanceof ci?(function(s,l){return l instanceof ci&&s.op===l.op&&s.field.isEqual(l.field)&&Ba(s.value,l.value)})(r,e):r instanceof ya?(function(s,l){return l instanceof ya&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&lw(p,l.filters[b])),!0):!1})(r,e):void wt(19439)}function uw(r){return r instanceof ci?(function(i){return`${i.field.canonicalString()} ${i.op} ${Hl(i.value)}`})(r):r instanceof ya?(function(i){return i.op.toString()+" {"+i.getFilters().map(uw).join(" ,")+"}"})(r):"Filter"}class eC extends ci{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class tC extends ci{constructor(e,i){super(e,"in",i),this.keys=cw("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class nC extends ci{constructor(e,i){super(e,"not-in",i),this.keys=cw("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function cw(r,e){return(e.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class iC extends ci{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return _p(i)&&Ju(i.arrayValue,this.value)}}class rC extends ci{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ju(this.value.arrayValue,i)}}class aC extends ci{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ju(this.value.arrayValue,i)}}class sC extends ci{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!_p(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Ju(this.value.arrayValue,s)))}}class oC{constructor(e,i=null,s=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function r0(r,e=null,i=[],s=[],l=null,c=null,p=null){return new oC(r,e,i,s,l,c,p)}function bp(r){const e=xt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Gm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),uf(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Hl(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Hl(s))).join(",")),e.Te=i}return e.Te}function wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!JR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!lw(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!i0(r.startAt,e.startAt)&&i0(r.endAt,e.endAt)}function Ym(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Jl{constructor(e,i=null,s=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lC(r,e,i,s,l,c,p,b){return new Jl(r,e,i,s,l,c,p,b)}function hw(r){return new Jl(r)}function a0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fw(r){return r.collectionGroup!==null}function qu(r){const e=xt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new pi(Oi.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Zu(c,s))})),i.has(Oi.keyField().canonicalString())||e.Ie.push(new Zu(Oi.keyField(),s))}return e.Ie}function La(r){const e=xt(r);return e.Ee||(e.Ee=uC(e,qu(r))),e.Ee}function uC(r,e){if(r.limitType==="F")return r0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Zu(l.field,c)}));const i=r.endAt?new Xh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xh(r.startAt.position,r.startAt.inclusive):null;return r0(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Xm(r,e){const i=r.filters.concat([e]);return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Qh(r,e,i){return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function hf(r,e){return wp(La(r),La(e))&&r.limitType===e.limitType}function dw(r){return`${bp(La(r))}|lt:${r.limitType}`}function xl(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>uw(l))).join(", ")}]`),uf(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Hl(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Hl(l))).join(",")),`Target(${s})`})(La(r))}; limitType=${r.limitType})`}function ff(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of qu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(p,b,w){const E=n0(p,b,w);return p.inclusive?E<=0:E<0})(s.startAt,qu(s),l)||s.endAt&&!(function(p,b,w){const E=n0(p,b,w);return p.inclusive?E>=0:E>0})(s.endAt,qu(s),l))})(r,e)}function cC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mw(r){return(e,i)=>{let s=!1;for(const l of qu(r)){const c=hC(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function hC(r,e,i){const s=r.field.isKeyField()?pt.comparator(e.key,i.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Fl(w,E):wt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:r.dir})}}class Xo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return Wb(this.inner)}size(){return this.innerSize}}const fC=new Gn(pt.comparator);function Ss(){return fC}const pw=new Gn(pt.comparator);function ju(...r){let e=pw;for(const i of r)e=e.insert(i.key,i);return e}function gw(r){let e=pw;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function zo(){return Gu()}function yw(){return Gu()}function Gu(){return new Xo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const dC=new Gn(pt.comparator),mC=new pi(pt.comparator);function Jt(...r){let e=mC;for(const i of r)e=e.add(i);return e}const pC=new pi($t);function gC(){return pC}function Ep(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function vw(r){return{integerValue:""+r}}function yC(r,e){return qR(e)?vw(e):Ep(r,e)}class df{constructor(){this._=void 0}}function vC(r,e,i){return r instanceof Kh?(function(l,c){const p={fields:{[Zb]:{stringValue:Jb},[tw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&vp(c)&&(c=cf(c)),c&&(p.fields[ew]=c),{mapValue:p}})(i,e):r instanceof ec?bw(r,e):r instanceof tc?ww(r,e):(function(l,c){const p=_w(l,c),b=s0(p)+s0(l.Ae);return qm(p)&&qm(l.Ae)?vw(b):Ep(l.serializer,b)})(r,e)}function _C(r,e,i){return r instanceof ec?bw(r,e):r instanceof tc?ww(r,e):i}function _w(r,e){return r instanceof Wh?(function(s){return qm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Kh extends df{}class ec extends df{constructor(e){super(),this.elements=e}}function bw(r,e){const i=Ew(e);for(const s of r.elements)i.some((l=>Ba(l,s)))||i.push(s);return{arrayValue:{values:i}}}class tc extends df{constructor(e){super(),this.elements=e}}function ww(r,e){let i=Ew(e);for(const s of r.elements)i=i.filter((l=>!Ba(l,s)));return{arrayValue:{values:i}}}class Wh extends df{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function s0(r){return ni(r.integerValue||r.doubleValue)}function Ew(r){return _p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bC(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof ec&&l instanceof ec||s instanceof tc&&l instanceof tc?Bl(s.elements,l.elements,Ba):s instanceof Wh&&l instanceof Wh?Ba(s.Ae,l.Ae):s instanceof Kh&&l instanceof Kh})(r.transform,e.transform)}class wC{constructor(e,i){this.version=e,this.transformResults=i}}class _s{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mf{}function Tw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Sw(r.key,_s.none()):new cc(r.key,r.data,_s.none());{const i=r.data,s=ia.empty();let l=new pi(Oi.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Qo(r.key,s,new ga(l.toArray()),_s.none())}}function EC(r,e,i){r instanceof cc?(function(l,c,p){const b=l.value.clone(),w=l0(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Qo?(function(l,c,p){if(!Nh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=l0(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(Aw(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Yu(r,e,i,s){return r instanceof cc?(function(c,p,b,w){if(!Nh(c.precondition,p))return b;const E=c.value.clone(),x=u0(c.fieldTransforms,w,p);return E.setAll(x),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(r,e,i,s):r instanceof Qo?(function(c,p,b,w){if(!Nh(c.precondition,p))return b;const E=u0(c.fieldTransforms,w,p),x=p.data;return x.setAll(Aw(c)),x.setAll(E),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((L=>L.field)))})(r,e,i,s):(function(c,p,b){return Nh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function TC(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=_w(s.transform,l||null);c!=null&&(i===null&&(i=ia.empty()),i.set(s.field,c))}return i||null}function o0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Bl(s,l,((c,p)=>bC(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class cc extends mf{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qo extends mf{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Aw(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function l0(r,e,i){const s=new Map;bn(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);s.set(c.field,_C(p,b,i[l]))}return s}function u0(r,e,i){const s=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);s.set(l.field,vC(c,p,e))}return s}class Sw extends mf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AC extends mf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SC{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&EC(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=yw();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const w=Tw(p,b);w!==null&&s.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Jt())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((i,s)=>o0(i,s)))&&Bl(this.baseMutations,e.baseMutations,((i,s)=>o0(i,s)))}}class Tp{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){bn(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return dC})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new Tp(e,i,s,l)}}class RC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class CC{constructor(e,i){this.count=e,this.unchangedNames=i}}var ui,rn;function IC(r){switch(r){case Ae.OK:return wt(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return wt(15467,{code:r})}}function Rw(r){if(r===void 0)return As("GRPC error has no .code"),Ae.UNKNOWN;switch(r){case ui.OK:return Ae.OK;case ui.CANCELLED:return Ae.CANCELLED;case ui.UNKNOWN:return Ae.UNKNOWN;case ui.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case ui.INTERNAL:return Ae.INTERNAL;case ui.UNAVAILABLE:return Ae.UNAVAILABLE;case ui.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case ui.NOT_FOUND:return Ae.NOT_FOUND;case ui.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case ui.ABORTED:return Ae.ABORTED;case ui.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case ui.DATA_LOSS:return Ae.DATA_LOSS;default:return wt(39323,{code:r})}}(rn=ui||(ui={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";function xC(){return new TextEncoder}const MC=new fo([4294967295,4294967295],0);function c0(r){const e=xC().encode(r),i=new jb;return i.update(e),new Uint8Array(i.digest())}function h0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fo([i,s],0),new fo([l,c],0)]}class Ap{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new zu(`Invalid padding: ${i}`);if(s<0)throw new zu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new zu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fo.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(fo.fromNumber(s)));return l.compare(MC)===1&&(l=new fo([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=c0(e),[s,l]=h0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Ap(c,l,i);return s.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=c0(e),[s,l]=h0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pf{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,hc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new pf(Rt.min(),l,new Gn($t),Ss(),Jt())}}class hc{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new hc(s,i,Jt(),Jt(),Jt())}}class Oh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class Cw{constructor(e,i){this.targetId=e,this.Ce=i}}class Iw{constructor(e,i,s=Vi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class f0{constructor(){this.ve=0,this.Fe=d0(),this.Me=Vi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Jt(),i=Jt(),s=Jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:wt(38017,{changeType:c})}})),new hc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=d0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=_h(),this.He=_h(),this.Ye=new Gn($t)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Ym(c))if(s===0){const p=new pt(c.path);this.et(i,p,qi.newNoDocument(p,Rt.min()))}else bn(s===1,20013,{expectedCount:s});else{const p=this._t(i);if(p!==s){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(i);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=vo(s).toUint8Array()}catch(w){if(w instanceof $b)return zl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new Ap(p,l,c)}catch(w){return zl(w instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Ym(b.target)){const w=new pt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,qi.newNoDocument(w,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let s=Jt();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new pf(e,i,this.Ye,this.je,s);return this.je=Ss(),this.Je=_h(),this.He=_h(),this.Ye=new Gn($t),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new f0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new pi($t),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new pi($t),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function _h(){return new Gn(pt.comparator)}function d0(){return new Gn(pt.comparator)}const NC={asc:"ASCENDING",desc:"DESCENDING"},OC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VC={and:"AND",or:"OR"};class kC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Qm(r,e){return r.useProto3Json||uf(e)?e:{value:e}}function $h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function PC(r,e){return $h(r,e.toTimestamp())}function Ua(r){return bn(!!r,49232),Rt.fromTimestamp((function(i){const s=yo(i);return new Ln(s.seconds,s.nanos)})(r))}function Sp(r,e){return Km(r,e).canonicalString()}function Km(r,e){const i=(function(l){return new Dn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Mw(r){const e=Dn.fromString(r);return bn(kw(e),10190,{key:e.toString()}),e}function Wm(r,e){return Sp(r.databaseId,e.path)}function Rm(r,e){const i=Mw(e);if(i.get(1)!==r.databaseId.projectId)throw new Ze(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new Ze(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(Nw(i))}function Dw(r,e){return Sp(r.databaseId,e)}function LC(r){const e=Mw(r);return e.length===4?Dn.emptyPath():Nw(e)}function $m(r){return new Dn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Nw(r){return bn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function m0(r,e,i){return{name:Wm(r,e),fields:i.value.mapValue.fields}}function UC(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:wt(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,x){return E.useProto3Json?(bn(x===void 0||typeof x=="string",58123),Vi.fromBase64String(x||"")):(bn(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Vi.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const x=E.code===void 0?Ae.UNKNOWN:Rw(E.code);return new Ze(x,E.message||"")})(p);i=new Iw(s,l,c,b||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Rm(r,s.document.name),c=Ua(s.document.updateTime),p=s.document.createTime?Ua(s.document.createTime):Rt.min(),b=new ia({mapValue:{fields:s.document.fields}}),w=qi.newFoundDocument(l,c,p,b),E=s.targetIds||[],x=s.removedTargetIds||[];i=new Oh(E,x,w.key,w)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Rm(r,s.document),c=s.readTime?Ua(s.readTime):Rt.min(),p=qi.newNoDocument(l,c),b=s.removedTargetIds||[];i=new Oh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Rm(r,s.document),c=s.removedTargetIds||[];i=new Oh([],c,l,null)}else{if(!("filter"in e))return wt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new CC(l,c),b=s.targetId;i=new Cw(b,p)}}return i}function jC(r,e){let i;if(e instanceof cc)i={update:m0(r,e.key,e.value)};else if(e instanceof Sw)i={delete:Wm(r,e.key)};else if(e instanceof Qo)i={update:m0(r,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof AC))return wt(16599,{Vt:e.type});i={verify:Wm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof Kh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof ec)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof tc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Wh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw wt(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:PC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:wt(27497)})(r,e.precondition)),i}function zC(r,e){return r&&r.length>0?(bn(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?Ua(l.updateTime):Ua(c);return p.isEqual(Rt.min())&&(p=Ua(c)),new wC(p,l.transformResults||[])})(i,e)))):[]}function BC(r,e){return{documents:[Dw(r,e.path)]}}function FC(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Dw(r,l);const c=(function(E){if(E.length!==0)return Vw(ya.create(E,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((x=>(function(q){return{field:Ml(q.field),direction:GC(q.dir)}})(x)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=Qm(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:i,parent:l}}function HC(r){let e=LC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){bn(s===1,65062);const x=i.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(L){const q=Ow(L);return q instanceof ya&&ow(q)?q.getFilters():[q]})(i.where));let p=[];i.orderBy&&(p=(function(L){return L.map((q=>(function(z){return new Zu(Dl(z.field),(function(Re){switch(Re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(q)))})(i.orderBy));let b=null;i.limit&&(b=(function(L){let q;return q=typeof L=="object"?L.value:L,uf(q)?null:q})(i.limit));let w=null;i.startAt&&(w=(function(L){const q=!!L.before,te=L.values||[];return new Xh(te,q)})(i.startAt));let E=null;return i.endAt&&(E=(function(L){const q=!L.before,te=L.values||[];return new Xh(te,q)})(i.endAt)),lC(e,l,p,c,b,"F",w,E)}function qC(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Ow(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Dl(i.unaryFilter.field);return ci.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Dl(i.unaryFilter.field);return ci.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Dl(i.unaryFilter.field);return ci.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Dl(i.unaryFilter.field);return ci.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ci.create(Dl(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ya.create(i.compositeFilter.filters.map((s=>Ow(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(i.compositeFilter.op))})(r):wt(30097,{filter:r})}function GC(r){return NC[r]}function YC(r){return OC[r]}function XC(r){return VC[r]}function Ml(r){return{fieldPath:r.canonicalString()}}function Dl(r){return Oi.fromServerFormat(r.fieldPath)}function Vw(r){return r instanceof ci?(function(i){if(i.op==="=="){if(t0(i.value))return{unaryFilter:{field:Ml(i.field),op:"IS_NAN"}};if(e0(i.value))return{unaryFilter:{field:Ml(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t0(i.value))return{unaryFilter:{field:Ml(i.field),op:"IS_NOT_NAN"}};if(e0(i.value))return{unaryFilter:{field:Ml(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(i.field),op:YC(i.op),value:i.value}}})(r):r instanceof ya?(function(i){const s=i.getFilters().map((l=>Vw(l)));return s.length===1?s[0]:{compositeFilter:{op:XC(i.op),filters:s}}})(r):wt(54877,{filter:r})}function QC(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function kw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class lo{constructor(e,i,s,l,c=Rt.min(),p=Rt.min(),b=Vi.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KC{constructor(e){this.yt=e}}function WC(r){const e=HC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qh(e,e.limit,"L"):e}class $C{constructor(){this.Cn=new JC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Ie.resolve()}getCollectionParents(e,i){return Ie.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Ie.resolve()}deleteFieldIndex(e,i){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,i){return Ie.resolve()}getDocumentsMatchingTarget(e,i){return Ie.resolve(null)}getIndexType(e,i){return Ie.resolve(0)}getFieldIndexes(e,i){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,i){return Ie.resolve(go.min())}getMinOffsetFromCollectionGroup(e,i){return Ie.resolve(go.min())}updateCollectionGroup(e,i,s){return Ie.resolve()}updateIndexEntries(e,i){return Ie.resolve()}}class JC{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new pi(Dn.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new pi(Dn.comparator)).toArray()}}const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pw=41943040;class Ar{static withCacheSize(e){return new Ar(e,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(Pw,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}const g0="LruGarbageCollector",ZC=1048576;function y0([r,e],[i,s]){const l=$t(r,i);return l===0?$t(e,s):l}class eI{constructor(e){this.Ir=e,this.buffer=new pi(y0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();y0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tI{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(g0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$l(i)?it(g0,"Ignoring IndexedDB error during garbage collection: ",i):await Wl(i)}await this.Vr(3e5)}))}}class nI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Ie.resolve(lf.ce);const s=new eI(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(p0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,p,b,w,E;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((L=>(L>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),l=this.params.maximumSequenceNumbersToCollect):l=L,p=Date.now(),this.nthSequenceNumber(e,l)))).next((L=>(s=L,b=Date.now(),this.removeTargets(e,s,i)))).next((L=>(c=L,w=Date.now(),this.removeOrphanedDocuments(e,s)))).next((L=>(E=Date.now(),Il()<=Wt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-x}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${L} documents in `+(E-w)+`ms
Total Duration: ${E-x}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:L}))))}}function iI(r,e){return new nI(r,e)}class rI{constructor(){this.changes=new Xo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,qi.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Ie.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class sI{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Yu(s.mutation,l,ga.empty(),Ln.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Jt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Jt()){const l=zo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let p=ju();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const s=zo();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Jt())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,s,l){let c=Ss();const p=Gu(),b=(function(){return Gu()})();return i.forEach(((w,E)=>{const x=s.get(E.key);l.has(E.key)&&(x===void 0||x.mutation instanceof Qo)?c=c.insert(E.key,E):x!==void 0?(p.set(E.key,x.mutation.getFieldMask()),Yu(x.mutation,E,x.mutation.getFieldMask(),Ln.now())):p.set(E.key,ga.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,x)=>p.set(E,x))),i.forEach(((E,x)=>b.set(E,new aI(x,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,i){const s=Gu();let l=new Gn(((p,b)=>p-b)),c=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=i.get(w);if(E===null)return;let x=s.get(w)||ga.empty();x=b.applyToLocalView(E,x),s.set(w,x);const L=(l.get(b.batchId)||Jt()).add(w);l=l.insert(b.batchId,L)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,x=w.value,L=yw();x.forEach((q=>{if(!c.has(q)){const te=Tw(i.get(q),s.get(q));te!==null&&L.set(q,te),c=c.add(q)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,L))}return Ie.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(p){return pt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):Ie.resolve(zo());let b=Ku,w=c;return p.next((E=>Ie.forEach(E,((x,L)=>(b<L.largestBatchId&&(b=L.largestBatchId),c.get(x)?Ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((q=>{w=w.insert(x,q)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,Jt()))).next((x=>({batchId:b,changes:gw(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((s=>{let l=ju();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let p=ju();return this.indexManager.getCollectionParents(e,c).next((b=>Ie.forEach(b,(w=>{const E=(function(L,q){return new Jl(q,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)})(i,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,l).next((x=>{x.forEach(((L,q)=>{p=p.insert(L,q)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((p=>{c.forEach(((w,E)=>{const x=E.getKey();p.get(x)===null&&(p=p.insert(x,qi.newInvalidDocument(x)))}));let b=ju();return p.forEach(((w,E)=>{const x=c.get(w);x!==void 0&&Yu(x.mutation,E,ga.empty(),Ln.now()),ff(i,E)&&(b=b.insert(w,E))})),b}))}}class oI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Ie.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ua(l.createTime)}})(i)),Ie.resolve()}getNamedQuery(e,i){return Ie.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:WC(l.bundledQuery),readTime:Ua(l.readTime)}})(i)),Ie.resolve()}}class lI{constructor(){this.overlays=new Gn(pt.comparator),this.qr=new Map}getOverlay(e,i){return Ie.resolve(this.overlays.get(i))}getOverlays(e,i){const s=zo();return Ie.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),Ie.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Ie.resolve()}getOverlaysForCollection(e,i,s){const l=zo(),c=i.length+1,p=new pt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>s&&l.set(w.getKey(),w)}return Ie.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new Gn(((E,x)=>E-x));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>s){let x=c.get(E.largestBatchId);x===null&&(x=zo(),c=c.insert(E.largestBatchId,x)),x.set(E.getKey(),E)}}const b=zo(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,x)=>b.set(E,x))),!(b.size()>=l)););return Ie.resolve(b)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new RC(i,s));let c=this.qr.get(i);c===void 0&&(c=Jt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class uI{constructor(){this.sessionToken=Vi.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Ie.resolve()}}class Rp{constructor(){this.Qr=new pi(vi.$r),this.Ur=new pi(vi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new vi(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new vi(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new pt(new Dn([])),s=new vi(i,e),l=new vi(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new Dn([])),s=new vi(i,e),l=new vi(i,e+1);let c=Jt();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new vi(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class vi{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||$t(e.Yr,i.Yr)}static Kr(e,i){return $t(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}class cI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new pi(vi.$r)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new SC(c,i,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new vi(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Ie.resolve(p)}lookupMutationBatch(e,i){return Ie.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?yp:this.tr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new vi(i,0),l=new vi(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new pi($t);return i.forEach((l=>{const c=new vi(l,0),p=new vi(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),Ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const p=new vi(new pt(c),0);let b=new pi($t);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!s.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Ie.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){bn(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Ie.forEach(i.mutations,(l=>{const c=new vi(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new vi(i,0),l=this.Zr.firstAfterOrEqual(s);return Ie.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class hI{constructor(e){this.ri=e,this.docs=(function(){return new Gn(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Ie.resolve(s?s.document.mutableCopy():qi.newInvalidDocument(i))}getEntries(e,i){let s=Ss();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():qi.newInvalidDocument(l))})),Ie.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=Ss();const p=i.path,b=new pt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:x}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||zR(jR(x),s)<=0||(l.has(x.key)||ff(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Ie.resolve(c)}getAllFromCollectionGroup(e,i,s,l){wt(9500)}ii(e,i){return Ie.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new fI(this)}getSize(e){return Ie.resolve(this.size)}}class fI extends rI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Ie.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class dI{constructor(e){this.persistence=e,this.si=new Xo((i=>bp(i)),wp),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Rp,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Ie.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ql(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Ie.resolve()}updateTargetData(e,i){return this.Pr(i),Ie.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Ie.waitFor(c).next((()=>l))}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Ie.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Ie.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Ie.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Ie.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Ie.resolve(s)}containsKey(e,i){return Ie.resolve(this._i.containsKey(i))}}class Lw{constructor(e,i){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new uI,this.referenceDelegate=e(this),this.Pi=new dI(this),this.indexManager=new $C,this.remoteDocumentCache=(function(l){return new hI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new KC(i),this.Ii=new oI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new lI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new cI(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const l=new mI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class mI extends FR{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.Ri=new Rp,this.Vi=null}static mi(e){return new Cp(e)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Ie.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Ie.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Ie.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.fi,(s=>{const l=pt.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Rt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Ie.or([()=>Ie.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Jh{constructor(e,i){this.persistence=e,this.pi=new Xo((s=>GR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=iI(this,i)}static mi(e,i){return new Jh(e,i)}Ei(){}di(e){return Ie.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Ie.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Ie.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(s++,c.removeEntry(p,Rt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Ie.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Ie.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Mh(e.data.value)),i}br(e,i,s){return Ie.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Ie.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ip{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=Jt(),l=Jt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ip(e,i.fromCache,s,l)}}class pI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rA()?8:HR(Gi())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new pI;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(Il()<=Wt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",xl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ie.resolve()):(Il()<=Wt.DEBUG&&it("QueryEngine","Query:",xl(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Il()<=Wt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",xl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,La(i))):Ie.resolve())}ys(e,i){if(a0(i))return Ie.resolve(null);let s=La(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Qh(i,null,"F"),s=La(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=Jt(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,s).next((w=>{const E=this.Ds(i,b);return this.Cs(i,E,p,w.readTime)?this.ys(e,Qh(i,null,"F")):this.vs(e,E,i,w)}))))})))))}ws(e,i,s,l){return a0(i)||l.isEqual(Rt.min())?Ie.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,s,l)?Ie.resolve(null):(Il()<=Wt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xl(i)),this.vs(e,p,i,UR(l,Ku)).next((b=>b)))}))}Ds(e,i){let s=new pi(mw(e));return i.forEach(((l,c)=>{ff(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return Il()<=Wt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",xl(i)),this.ps.getDocumentsMatchingQuery(e,i,go.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const xp="LocalStore",yI=3e8;class vI{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Gn($t),this.xs=new Xo((c=>bp(c)),wp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function _I(r,e,i,s){return new vI(r,e,i,s)}async function Uw(r,e){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let w=Jt();for(const E of l){p.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}for(const E of c){b.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}return i.localDocuments.getDocuments(s,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function bI(r,e){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,x){const L=E.batch,q=L.keys();let te=Ie.resolve();return q.forEach((z=>{te=te.next((()=>x.getEntry(w,z))).next((Oe=>{const Re=E.docVersions.get(z);bn(Re!==null,48541),Oe.version.compareTo(Re)<0&&(L.applyToRemoteDocument(Oe,E),Oe.isValidDocument()&&(Oe.setReadTime(E.commitVersion),x.addEntry(Oe)))}))})),te.next((()=>b.mutationQueue.removeMutationBatch(w,L)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let w=Jt();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function jw(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function wI(r,e){const i=xt(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((x,L)=>{const q=l.get(L);if(!q)return;b.push(i.Pi.removeMatchingKeys(c,x.removedDocuments,L).next((()=>i.Pi.addMatchingKeys(c,x.addedDocuments,L))));let te=q.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(L)!==null?te=te.withResumeToken(Vi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):x.resumeToken.approximateByteSize()>0&&(te=te.withResumeToken(x.resumeToken,s)),l=l.insert(L,te),(function(Oe,Re,Le){return Oe.resumeToken.approximateByteSize()===0||Re.snapshotVersion.toMicroseconds()-Oe.snapshotVersion.toMicroseconds()>=yI?!0:Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0})(q,te,x)&&b.push(i.Pi.updateTargetData(c,te))}));let w=Ss(),E=Jt();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),b.push(EI(c,p,e.documentUpdates).next((x=>{w=x.ks,E=x.qs}))),!s.isEqual(Rt.min())){const x=i.Pi.getLastRemoteSnapshotVersion(c).next((L=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(x)}return Ie.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(i.Ms=l,c)))}function EI(r,e,i){let s=Jt(),l=Jt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let p=Ss();return i.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(Rt.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):it(xp,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function TI(r,e){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=yp),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function AI(r,e){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,Ie.resolve(l)):i.Pi.allocateTargetId(s).next((p=>(l=new lo(e,p,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Jm(r,e,i){const s=xt(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!$l(p))throw p;it(xp,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function v0(r,e,i){const s=xt(r);let l=Rt.min(),c=Jt();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,x){const L=xt(w),q=L.xs.get(x);return q!==void 0?Ie.resolve(L.Ms.get(q)):L.Pi.getTargetData(E,x)})(s,p,La(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,i?l:Rt.min(),i?c:Jt()))).next((b=>(SI(s,cC(e),b),{documents:b,Qs:c})))))}function SI(r,e,i){let s=r.Os.get(e)||Rt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class _0{constructor(){this.activeTargetIds=gC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RI{constructor(){this.Mo=new _0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CI{Oo(e){}shutdown(){}}const b0="ConnectivityMonitor";class w0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(b0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(b0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bh=null;function Zm(){return bh===null?bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():bh++,"0x"+bh.toString(16)}const Cm="RestConnection",II={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Gh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const p=Zm(),b=this.zo(e,i.toUriEncodedString());it(Cm,`Sending RPC '${e}' ${p}:`,b,s);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),x=Yl(E);return this.Jo(e,b,w,s,x).then((L=>(it(Cm,`Received RPC '${e}' ${p}: `,L),L)),(L=>{throw zl(Cm,`RPC '${e}' ${p} failed with error: `,L,"url: ",b,"request:",s),L}))}Ho(e,i,s,l,c,p){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=II[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class MI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Fi="WebChannelConnection";class DI extends xI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const p=Zm();return new Promise(((b,w)=>{const E=new zb;E.setWithCredentials(!0),E.listenOnce(Bb.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case xh.NO_ERROR:const L=E.getResponseJson();it(Fi,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(L)),b(L);break;case xh.TIMEOUT:it(Fi,`RPC '${e}' ${p} timed out`),w(new Ze(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const q=E.getStatus();if(it(Fi,`RPC '${e}' ${p} failed with status:`,q,"response text:",E.getResponseText()),q>0){let te=E.getResponseJson();Array.isArray(te)&&(te=te[0]);const z=te?.error;if(z&&z.status&&z.message){const Oe=(function(Le){const Be=Le.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(Be)>=0?Be:Ae.UNKNOWN})(z.status);w(new Ze(Oe,z.message))}else w(new Ze(Ae.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new Ze(Ae.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{it(Fi,`RPC '${e}' ${p} completed.`)}}));const x=JSON.stringify(l);it(Fi,`RPC '${e}' ${p} sending request:`,l),E.send(i,"POST",x,s,15)}))}T_(e,i,s){const l=Zm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=qb(),b=Hb(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,i,s),w.encodeInitMessageHeaders=!0;const x=c.join("");it(Fi,`Creating RPC '${e}' stream ${l}: ${x}`,w);const L=p.createWebChannel(x,w);this.I_(L);let q=!1,te=!1;const z=new MI({Yo:Re=>{te?it(Fi,`Not sending because RPC '${e}' stream ${l} is closed:`,Re):(q||(it(Fi,`Opening RPC '${e}' stream ${l} transport.`),L.open(),q=!0),it(Fi,`RPC '${e}' stream ${l} sending:`,Re),L.send(Re))},Zo:()=>L.close()}),Oe=(Re,Le,Be)=>{Re.listen(Le,(qe=>{try{Be(qe)}catch(Ke){setTimeout((()=>{throw Ke}),0)}}))};return Oe(L,Uu.EventType.OPEN,(()=>{te||(it(Fi,`RPC '${e}' stream ${l} transport opened.`),z.o_())})),Oe(L,Uu.EventType.CLOSE,(()=>{te||(te=!0,it(Fi,`RPC '${e}' stream ${l} transport closed`),z.a_(),this.E_(L))})),Oe(L,Uu.EventType.ERROR,(Re=>{te||(te=!0,zl(Fi,`RPC '${e}' stream ${l} transport errored. Name:`,Re.name,"Message:",Re.message),z.a_(new Ze(Ae.UNAVAILABLE,"The operation could not be completed")))})),Oe(L,Uu.EventType.MESSAGE,(Re=>{if(!te){const Le=Re.data[0];bn(!!Le,16349);const Be=Le,qe=Be?.error||Be[0]?.error;if(qe){it(Fi,`RPC '${e}' stream ${l} received error:`,qe);const Ke=qe.status;let ht=(function(U){const V=ui[U];if(V!==void 0)return Rw(V)})(Ke),ot=qe.message;ht===void 0&&(ht=Ae.INTERNAL,ot="Unknown error status: "+Ke+" with message "+qe.message),te=!0,z.a_(new Ze(ht,ot)),L.close()}else it(Fi,`RPC '${e}' stream ${l} received:`,Le),z.u_(Le)}})),Oe(b,Fb.STAT_EVENT,(Re=>{Re.stat===Bm.PROXY?it(Fi,`RPC '${e}' stream ${l} detected buffering proxy`):Re.stat===Bm.NOPROXY&&it(Fi,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Im(){return typeof document<"u"?document:null}function gf(r){return new kC(r,!0)}class zw{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const E0="PersistentStream";class Bw{constructor(e,i,s,l,c,p,b,w){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zw(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Ae.RESOURCE_EXHAUSTED?(As(i.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new Ze(Ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(E0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NI extends Bw{constructor(e,i,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=UC(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Rt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Rt.min():p.readTime?Ua(p.readTime):Rt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=$m(this.serializer),i.addTarget=(function(c,p){let b;const w=p.target;if(b=Ym(w)?{documents:BC(c,w)}:{query:FC(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=xw(c,p.resumeToken);const E=Qm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(Rt.min())>0){b.readTime=$h(c,p.snapshotVersion.toTimestamp());const E=Qm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const s=qC(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=$m(this.serializer),i.removeTarget=e,this.q_(i)}}class OI extends Bw{constructor(e,i,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return bn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=zC(e.writeResults,e.commitTime),s=Ua(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>jC(this.serializer,s)))};this.q_(i)}}class VI{}class kI extends VI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ze(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,Km(i,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ze(Ae.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,Km(i,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ze(Ae.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Go="RemoteStore";class LI{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Ko(this)&&(it(Go,"Restarting streams for network reachability change."),await(async function(w){const E=xt(w);E.Ea.add(4),await fc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await yf(E)})(this))}))})),this.Ra=new PI(s,l)}}async function yf(r){if(Ko(r))for(const e of r.da)await e(!0)}async function fc(r){for(const e of r.da)await e(!1)}function Fw(r,e){const i=xt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Op(i)?Np(i):Zl(i).O_()&&Dp(i,e))}function Mp(r,e){const i=xt(r),s=Zl(i);i.Ia.delete(e),s.O_()&&Hw(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ko(i)&&i.Ra.set("Unknown"))}function Dp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zl(r).Y_(e)}function Hw(r,e){r.Va.Ue(e),Zl(r).Z_(e)}function Np(r){r.Va=new DC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zl(r).start(),r.Ra.ua()}function Op(r){return Ko(r)&&!Zl(r).x_()&&r.Ia.size>0}function Ko(r){return xt(r).Ea.size===0}function qw(r){r.Va=void 0}async function UI(r){r.Ra.set("Online")}async function jI(r){r.Ia.forEach(((e,i)=>{Dp(r,e)}))}async function zI(r,e){qw(r),Op(r)?(r.Ra.ha(e),Np(r)):r.Ra.set("Unknown")}async function BI(r,e,i){if(r.Ra.set("Online"),e instanceof Iw&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(s){it(Go,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zh(r,s)}else if(e instanceof Oh?r.Va.Ze(e):e instanceof Cw?r.Va.st(e):r.Va.tt(e),!i.isEqual(Rt.min()))try{const s=await jw(r.localStore);i.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const x=c.Ia.get(E);x&&c.Ia.set(E,x.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const x=c.Ia.get(w);if(!x)return;c.Ia.set(w,x.withResumeToken(Vi.EMPTY_BYTE_STRING,x.snapshotVersion)),Hw(c,w);const L=new lo(x.target,w,E,x.sequenceNumber);Dp(c,L)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(s){it(Go,"Failed to raise snapshot:",s),await Zh(r,s)}}async function Zh(r,e,i){if(!$l(e))throw e;r.Ea.add(1),await fc(r),r.Ra.set("Offline"),i||(i=()=>jw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Go,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await yf(r)}))}function Gw(r,e){return e().catch((i=>Zh(r,i,e)))}async function vf(r){const e=xt(r),i=bo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yp;for(;FI(e);)try{const l=await TI(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,HI(e,l)}catch(l){await Zh(e,l)}Yw(e)&&Xw(e)}function FI(r){return Ko(r)&&r.Ta.length<10}function HI(r,e){r.Ta.push(e);const i=bo(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Yw(r){return Ko(r)&&!bo(r).x_()&&r.Ta.length>0}function Xw(r){bo(r).start()}async function qI(r){bo(r).ra()}async function GI(r){const e=bo(r);for(const i of r.Ta)e.ea(i.mutations)}async function YI(r,e,i){const s=r.Ta.shift(),l=Tp.from(s,e,i);await Gw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await vf(r)}async function XI(r,e){e&&bo(r).X_&&await(async function(s,l){if((function(p){return IC(p)&&p!==Ae.ABORTED})(l.code)){const c=s.Ta.shift();bo(s).B_(),await Gw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await vf(s)}})(r,e),Yw(r)&&Xw(r)}async function T0(r,e){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),it(Go,"RemoteStore received new credentials");const s=Ko(i);i.Ea.add(3),await fc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await yf(i)}async function QI(r,e){const i=xt(r);e?(i.Ea.delete(2),await yf(i)):e||(i.Ea.add(2),await fc(i),i.Ra.set("Unknown"))}function Zl(r){return r.ma||(r.ma=(function(i,s,l){const c=xt(i);return c.sa(),new NI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:UI.bind(null,r),t_:jI.bind(null,r),r_:zI.bind(null,r),H_:BI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Op(r)?Np(r):r.Ra.set("Unknown")):(await r.ma.stop(),qw(r))}))),r.ma}function bo(r){return r.fa||(r.fa=(function(i,s,l){const c=xt(i);return c.sa(),new OI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:qI.bind(null,r),r_:XI.bind(null,r),ta:GI.bind(null,r),na:YI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await vf(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Go,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Vp{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const p=Date.now()+s,b=new Vp(e,i,p,l,c);return b.start(s),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kp(r,e){if(As("AsyncQueue",`${e}: ${r}`),$l(r))return new Ze(Ae.UNAVAILABLE,`${e}: ${r}`);throw r}class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=ju(),this.sortedSet=new Gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Pl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class A0{constructor(){this.ga=new Gn(pt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):wt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Gl{constructor(e,i,s,l,c,p,b,w,E){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,i,s,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Gl(e,i,Pl.emptySet(i),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class KI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class WI{constructor(){this.queries=S0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=xt(i),c=l.queries;l.queries=S0(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(s)}))})(this,new Ze(Ae.ABORTED,"Firestore shutting down"))}}function S0(){return new Xo((r=>dw(r)),hf)}async function $I(r,e){const i=xt(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new KI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=kp(p,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Pp(i)}async function JI(r,e){const i=xt(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ZI(r,e){const i=xt(r);let s=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&Pp(i)}function ex(r,e,i){const s=xt(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function Pp(r){r.Ca.forEach((e=>{e.next()}))}var ep,R0;(R0=ep||(ep={})).Ma="default",R0.Cache="cache";class tx{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ep.Cache}}class Qw{constructor(e){this.key=e}}class Kw{constructor(e){this.key=e}}class nx{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=mw(e),this.tu=new Pl(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new A0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,L)=>{const q=l.get(x),te=ff(this.query,L)?L:null,z=!!q&&this.mutatedKeys.has(q.key),Oe=!!te&&(te.hasLocalMutations||this.mutatedKeys.has(te.key)&&te.hasCommittedMutations);let Re=!1;q&&te?q.data.isEqual(te.data)?z!==Oe&&(s.track({type:3,doc:te}),Re=!0):this.su(q,te)||(s.track({type:2,doc:te}),Re=!0,(w&&this.eu(te,w)>0||E&&this.eu(te,E)<0)&&(b=!0)):!q&&te?(s.track({type:0,doc:te}),Re=!0):q&&!te&&(s.track({type:1,doc:q}),Re=!0,(w||E)&&(b=!0)),Re&&(te?(p=p.add(te),c=Oe?c.add(x):c.delete(x)):(p=p.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const x=this.query.limitType==="F"?p.last():p.first();p=p.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((x,L)=>(function(te,z){const Oe=Re=>{switch(Re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:Re})}};return Oe(te)-Oe(z)})(x.type,L.type)||this.eu(x.doc,L.doc))),this.ou(s),l=l??!1;const b=i&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Gl(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Kw(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Qw(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Jt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lp="SyncEngine";class ix{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class rx{constructor(e){this.key=e,this.hu=!1}}class ax{constructor(e,i,s,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Xo((b=>dw(b)),hf),this.Iu=new Map,this.Eu=new Set,this.du=new Gn(pt.comparator),this.Au=new Map,this.Ru=new Rp,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sx(r,e,i=!0){const s=t1(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Ww(s,e,i,!0),l}async function ox(r,e){const i=t1(r);await Ww(i,e,!0,!1)}async function Ww(r,e,i,s){const l=await AI(r.localStore,La(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return s&&(b=await lx(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&Fw(r.remoteStore,l),b}async function lx(r,e,i,s,l){r.pu=(L,q,te)=>(async function(Oe,Re,Le,Be){let qe=Re.view.ru(Le);qe.Cs&&(qe=await v0(Oe.localStore,Re.query,!1).then((({documents:F})=>Re.view.ru(F,qe))));const Ke=Be&&Be.targetChanges.get(Re.targetId),ht=Be&&Be.targetMismatches.get(Re.targetId)!=null,ot=Re.view.applyChanges(qe,Oe.isPrimaryClient,Ke,ht);return I0(Oe,Re.targetId,ot.au),ot.snapshot})(r,L,q,te);const c=await v0(r.localStore,e,!0),p=new nx(e,c.Qs),b=p.ru(c.documents),w=hc.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),E=p.applyChanges(b,r.isPrimaryClient,w);I0(r,i,E.au);const x=new ix(e,i,p);return r.Tu.set(e,x),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),E.snapshot}async function ux(r,e,i){const s=xt(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!hf(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Jm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Mp(s.remoteStore,l.targetId),tp(s,l.targetId)})).catch(Wl)):(tp(s,l.targetId),await Jm(s.localStore,l.targetId,!0))}async function cx(r,e){const i=xt(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Mp(i.remoteStore,s.targetId))}async function hx(r,e,i){const s=vx(r);try{const l=await(function(p,b){const w=xt(p),E=Ln.now(),x=b.reduce(((te,z)=>te.add(z.key)),Jt());let L,q;return w.persistence.runTransaction("Locally write mutations","readwrite",(te=>{let z=Ss(),Oe=Jt();return w.Ns.getEntries(te,x).next((Re=>{z=Re,z.forEach(((Le,Be)=>{Be.isValidDocument()||(Oe=Oe.add(Le))}))})).next((()=>w.localDocuments.getOverlayedDocuments(te,z))).next((Re=>{L=Re;const Le=[];for(const Be of b){const qe=TC(Be,L.get(Be.key).overlayedDocument);qe!=null&&Le.push(new Qo(Be.key,qe,rw(qe.value.mapValue),_s.exists(!0)))}return w.mutationQueue.addMutationBatch(te,E,Le,b)})).next((Re=>{q=Re;const Le=Re.applyToLocalDocumentSet(L,Oe);return w.documentOverlayCache.saveOverlays(te,Re.batchId,Le)}))})).then((()=>({batchId:q.batchId,changes:gw(L)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new Gn($t)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(s,l.batchId,i),await dc(s,l.changes),await vf(s.remoteStore)}catch(l){const c=kp(l,"Failed to persist write");i.reject(c)}}async function $w(r,e){const i=xt(r);try{const s=await wI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(bn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?bn(p.hu,14607):l.removedDocuments.size>0&&(bn(p.hu,42227),p.hu=!1))})),await dc(i,s,e)}catch(s){await Wl(s)}}function C0(r,e,i){const s=xt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=xt(p);w.onlineState=b;let E=!1;w.queries.forEach(((x,L)=>{for(const q of L.Sa)q.va(b)&&(E=!0)})),E&&Pp(w)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fx(r,e,i){const s=xt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new Gn(pt.comparator);p=p.insert(c,qi.newNoDocument(c,Rt.min()));const b=Jt().add(c),w=new pf(Rt.min(),new Map,new Gn($t),p,b);await $w(s,w),s.du=s.du.remove(c),s.Au.delete(e),Up(s)}else await Jm(s.localStore,e,!1).then((()=>tp(s,e,i))).catch(Wl)}async function dx(r,e){const i=xt(r),s=e.batch.batchId;try{const l=await bI(i.localStore,e);Zw(i,s,null),Jw(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await dc(i,l)}catch(l){await Wl(l)}}async function mx(r,e,i){const s=xt(r);try{const l=await(function(p,b){const w=xt(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let x;return w.mutationQueue.lookupMutationBatch(E,b).next((L=>(bn(L!==null,37113),x=L.keys(),w.mutationQueue.removeMutationBatch(E,L)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,x,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,x))).next((()=>w.localDocuments.getDocuments(E,x)))}))})(s.localStore,e);Zw(s,e,i),Jw(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await dc(s,l)}catch(l){await Wl(l)}}function Jw(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Zw(r,e,i){const s=xt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function tp(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||e1(r,s)}))}function e1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Mp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Up(r))}function I0(r,e,i){for(const s of i)s instanceof Qw?(r.Ru.addReference(s.key,e),px(r,s)):s instanceof Kw?(it(Lp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||e1(r,s.key)):wt(19791,{wu:s})}function px(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(it(Lp,"New document in limbo: "+i),r.Eu.add(s),Up(r))}function Up(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pt(Dn.fromString(e)),s=r.fu.next();r.Au.set(s,new rx(i)),r.du=r.du.insert(i,s),Fw(r.remoteStore,new lo(La(hw(i.path)),s,"TargetPurposeLimboResolution",lf.ce))}}async function dc(r,e,i){const s=xt(r),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,w)=>{p.push(s.pu(w,e,i).then((E=>{if((E||i)&&s.isPrimaryClient){const x=E?!E.fromCache:i?.targetChanges.get(w.targetId)?.current;s.sharedClientState.updateQueryState(w.targetId,x?"current":"not-current")}if(E){l.push(E);const x=Ip.As(w.targetId,E);c.push(x)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(w,E){const x=xt(w);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(L=>Ie.forEach(E,(q=>Ie.forEach(q.Es,(te=>x.persistence.referenceDelegate.addReference(L,q.targetId,te))).next((()=>Ie.forEach(q.ds,(te=>x.persistence.referenceDelegate.removeReference(L,q.targetId,te)))))))))}catch(L){if(!$l(L))throw L;it(xp,"Failed to update sequence numbers: "+L)}for(const L of E){const q=L.targetId;if(!L.fromCache){const te=x.Ms.get(q),z=te.snapshotVersion,Oe=te.withLastLimboFreeSnapshotVersion(z);x.Ms=x.Ms.insert(q,Oe)}}})(s.localStore,c))}async function gx(r,e){const i=xt(r);if(!i.currentUser.isEqual(e)){it(Lp,"User change. New user:",e.toKey());const s=await Uw(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new Ze(Ae.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await dc(i,s.Ls)}}function yx(r,e){const i=xt(r),s=i.Au.get(e);if(s&&s.hu)return Jt().add(s.key);{let l=Jt();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function t1(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=$w.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fx.bind(null,e),e.Pu.H_=ZI.bind(null,e.eventManager),e.Pu.yu=ex.bind(null,e.eventManager),e}function vx(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mx.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return _I(this.persistence,new gI,e.initialUser,this.serializer)}Cu(e){return new Lw(Cp.mi,this.serializer)}Du(e){return new RI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class _x extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){bn(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tI(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new Lw((s=>Jh.mi(s,i)),this.serializer)}}class np{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gx.bind(null,this.syncEngine),await QI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WI})()}createDatastore(e){const i=gf(e.databaseInfo.databaseId),s=(function(c){return new DI(c)})(e.databaseInfo);return(function(c,p,b,w){return new kI(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,p,b){return new LI(s,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>C0(this.syncEngine,i,0)),(function(){return w0.v()?new w0:new CI})())}createSyncEngine(e,i){return(function(l,c,p,b,w,E,x){const L=new ax(l,c,p,b,w,E);return x&&(L.gu=!0),L})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=xt(i);it(Go,"RemoteStore shutting down."),s.Ea.add(5),await fc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}np.provider={build:()=>new np};class bx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const wo="FirestoreClient";class wx{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Hi.UNAUTHENTICATED,this.clientId=gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{it(wo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(it(wo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=kp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function xm(r,e){r.asyncQueue.verifyOperationInProgress(),it(wo,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Uw(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function x0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Ex(r);it(wo,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>T0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>T0(e.remoteStore,l))),r._onlineComponents=e}async function Ex(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(wo,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Ae.FAILED_PRECONDITION||l.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;zl("Error using user provided cache. Falling back to memory cache: "+i),await xm(r,new ef)}}else it(wo,"Using default OfflineComponentProvider"),await xm(r,new _x(void 0));return r._offlineComponents}async function n1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(wo,"Using user provided OnlineComponentProvider"),await x0(r,r._uninitializedComponentsProvider._online)):(it(wo,"Using default OnlineComponentProvider"),await x0(r,new np))),r._onlineComponents}function Tx(r){return n1(r).then((e=>e.syncEngine))}async function Ax(r){const e=await n1(r),i=e.eventManager;return i.onListen=sx.bind(null,e.syncEngine),i.onUnlisten=ux.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ox.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=cx.bind(null,e.syncEngine),i}function Sx(r,e,i={}){const s=new mo;return r.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,w,E){const x=new bx({next:q=>{x.Nu(),p.enqueueAndForget((()=>JI(c,L))),q.fromCache&&w.source==="server"?E.reject(new Ze(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(q)},error:q=>E.reject(q)}),L=new tx(b,x,{includeMetadataChanges:!0,qa:!0});return $I(c,L)})(await Ax(r),r.asyncQueue,e,i,s))),s.promise}function i1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const M0=new Map;const r1="firestore.googleapis.com",D0=!0;class N0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r1,this.ssl=D0}else this.host=e.host,this.ssl=e.ssl??D0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZC)throw new Ze(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new RR;switch(s.type){case"firstParty":return new MR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ze(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=M0.get(i);s&&(it("ComponentProvider","Removing Datastore"),M0.delete(i),s.terminate())})(this),Promise.resolve()}}function Rx(r,e,i,s={}){r=Hh(r,_f);const l=Yl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(eb(`https://${b}`),tb("Firestore",!0)),c.host!==r1&&c.host!==b&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:s};if(!Bo(w,p)&&(r._setSettings(w),s.mockUserToken)){let E,x;if(typeof s.mockUserToken=="string")E=s.mockUserToken,x=Hi.MOCK_USER;else{E=KT(s.mockUserToken,r._app?.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new Ze(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Hi(L)}r._authCredentials=new CR(new Yb(E,x))}}class Eo{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class _i{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _i(this.firestore,e,this._key)}toJSON(){return{type:_i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(uc(i,_i._jsonSchema))return new _i(e,s||null,new pt(Dn.fromString(i.referencePath)))}}_i._jsonSchemaVersion="firestore/documentReference/1.0",_i._jsonSchema={type:hi("string",_i._jsonSchemaVersion),referencePath:hi("string")};class po extends Eo{constructor(e,i,s){super(e,i,hw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _i(this.firestore,null,new pt(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function a1(r,e,...i){if(r=zr(r),Xb("collection","path",e),r instanceof _f){const s=Dn.fromString(e,...i);return G_(s),new po(r,null,s)}{if(!(r instanceof _i||r instanceof po))throw new Ze(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Dn.fromString(e,...i));return G_(s),new po(r.firestore,null,s)}}function Cx(r,e,...i){if(r=zr(r),arguments.length===1&&(e=gp.newId()),Xb("doc","path",e),r instanceof _f){const s=Dn.fromString(e,...i);return q_(s),new _i(r,null,new pt(s))}{if(!(r instanceof _i||r instanceof po))throw new Ze(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Dn.fromString(e,...i));return q_(s),new _i(r.firestore,r instanceof po?r.converter:null,new pt(s))}}const O0="AsyncQueue";class V0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zw(this,"async_queue_retry"),this._c=()=>{const s=Im();s&&it(O0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Im();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Im();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;it(O0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",k0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Vp.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&wt(47125,{Pc:k0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function k0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class jp extends _f{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new V0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V0(e),this._firestoreClient=void 0,await e}}}function Ix(r,e){const i=typeof r=="object"?r:ab(),s=typeof r=="string"?r:Gh,l=sp(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=XT("firestore");c&&Rx(l,...c)}return l}function s1(r){if(r._terminated)throw new Ze(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xx(r),r._firestoreClient}function xx(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new QR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,i1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new wx(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(Vi.fromBase64String(e))}catch(i){throw new Ze(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ra(Vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ra._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uc(e,ra._jsonSchema))return ra.fromBase64String(e.bytes)}}ra._jsonSchemaVersion="firestore/bytes/1.0",ra._jsonSchema={type:hi("string",ra._jsonSchemaVersion),bytes:hi("string")};class zp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Ze(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class o1{constructor(e){this._methodName=e}}class ja{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Ze(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Ze(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ja._jsonSchemaVersion}}static fromJSON(e){if(uc(e,ja._jsonSchema))return new ja(e.latitude,e.longitude)}}ja._jsonSchemaVersion="firestore/geoPoint/1.0",ja._jsonSchema={type:hi("string",ja._jsonSchemaVersion),latitude:hi("number"),longitude:hi("number")};class za{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:za._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uc(e,za._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new za(e.vectorValues);throw new Ze(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}za._jsonSchemaVersion="firestore/vectorValue/1.0",za._jsonSchema={type:hi("string",za._jsonSchemaVersion),vectorValues:hi("object")};const Mx=/^__.*__$/;class Dx{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,i,this.fieldTransforms):new cc(e,this.data,i,this.fieldTransforms)}}function l1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:r})}}class Bp{constructor(e,i,s,l,c,p){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(l1(this.Ac)&&Mx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nx{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||gf(e)}Cc(e,i,s,l=!1){return new Bp({Ac:e,methodName:i,Dc:s,path:Oi.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u1(r){const e=r._freezeSettings(),i=gf(r._databaseId);return new Nx(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Ox(r,e,i,s,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);f1("Data must be an object, but it was:",p,s);const b=c1(s,p);let w,E;if(c.merge)w=new ga(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const x=[];for(const L of c.mergeFields){const q=kx(e,L,i);if(!p.contains(q))throw new Ze(Ae.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);Lx(x,q)||x.push(q)}w=new ga(x),E=p.fieldTransforms.filter((L=>w.covers(L.field)))}else w=null,E=p.fieldTransforms;return new Dx(new ia(b),w,E)}function Vx(r,e,i,s=!1){return Fp(i,r.Cc(s?4:3,e))}function Fp(r,e){if(h1(r=zr(r)))return f1("Unsupported field value:",e,r),c1(r,e);if(r instanceof o1)return(function(s,l){if(!l1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let w=Fp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=zr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Ln.fromDate(s);return{timestampValue:$h(l.serializer,c)}}if(s instanceof Ln){const c=new Ln(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$h(l.serializer,c)}}if(s instanceof ja)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ra)return{bytesValue:xw(l.serializer,s._byteString)};if(s instanceof _i){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Sp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof za)return(function(p,b){return{mapValue:{fields:{[nw]:{stringValue:iw},[Yh]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return Ep(b.serializer,E)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${of(s)}`)})(r,e)}function c1(r,e){const i={};return Wb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(r,((s,l)=>{const c=Fp(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function h1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ln||r instanceof ja||r instanceof ra||r instanceof _i||r instanceof o1||r instanceof za)}function f1(r,e,i){if(!h1(i)||!Qb(i)){const s=of(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function kx(r,e,i){if((e=zr(e))instanceof zp)return e._internalPath;if(typeof e=="string")return d1(r,e);throw tf("Field path arguments must be of type string or ",r,!1,void 0,i)}const Px=new RegExp("[~\\*/\\[\\]]");function d1(r,e,i){if(e.search(Px)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new zp(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function tf(r,e,i,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${s}`),p&&(w+=` in document ${l}`),w+=")"),new Ze(Ae.INVALID_ARGUMENT,b+r+w)}function Lx(r,e){return r.some((i=>i.isEqual(e)))}class m1{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _i(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ux(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(bf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ux extends m1{data(){return super.data()}}function bf(r,e){return typeof e=="string"?d1(r,e):e instanceof zp?e._internalPath:e._delegate._internalPath}function jx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ze(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class qp extends Hp{}function P0(r,e,...i){let s=[];e instanceof Hp&&s.push(e),s=s.concat(i),(function(c){const p=c.filter((w=>w instanceof Gp)).length,b=c.filter((w=>w instanceof wf)).length;if(p>1||p>0&&b>0)throw new Ze(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class wf extends qp{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new wf(e,i,s)}_apply(e){const i=this._parse(e);return p1(e._query,i),new Eo(e.firestore,e.converter,Xm(e._query,i))}_parse(e){const i=u1(e.firestore);return(function(c,p,b,w,E,x,L){let q;if(E.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ze(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){z0(L,x);const z=[];for(const Oe of L)z.push(j0(w,c,Oe));q={arrayValue:{values:z}}}else q=j0(w,c,L)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||z0(L,x),q=Vx(b,p,L,x==="in"||x==="not-in");return ci.create(E,x,q)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function L0(r,e,i){const s=e,l=bf("where",r);return wf._create(l,s,i)}class Gp extends Hp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Gp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ya.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)p1(p,w),p=Xm(p,w)})(e._query,i),new Eo(e.firestore,e.converter,Xm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yp extends qp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Yp(e,i)}_apply(e){const i=(function(l,c,p){if(l.startAt!==null)throw new Ze(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ze(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zu(c,p)})(e._query,this._field,this._direction);return new Eo(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new Jl(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function wh(r,e="asc"){const i=e,s=bf("orderBy",r);return Yp._create(s,i)}class Xp extends qp{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Xp(e,i,s)}_apply(e){return new Eo(e.firestore,e.converter,Qh(e._query,this._limit,this._limitType))}}function U0(r){return LR("limit",r),Xp._create("limit",r,"F")}function j0(r,e,i){if(typeof(i=zr(i))=="string"){if(i==="")throw new Ze(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fw(e)&&i.indexOf("/")!==-1)throw new Ze(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Dn.fromString(i));if(!pt.isDocumentKey(s))throw new Ze(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Z_(r,new pt(s))}if(i instanceof _i)return Z_(r,i._key);throw new Ze(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(i)}.`)}function z0(r,e){if(!Array.isArray(r)||r.length===0)throw new Ze(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p1(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new Ze(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ze(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class zx{convertValue(e,i="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Yo(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Yh].arrayValue?.values?.map((s=>ni(s.doubleValue)));return new za(i)}convertGeoPoint(e){return new ja(ni(e.latitude),ni(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=cf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const i=yo(e);return new Ln(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Dn.fromString(e);bn(kw(s),9688,{name:e});const l=new $u(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return l.isEqual(i)||As(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Bx(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Eh{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends m1{constructor(e,i,s,l,c,p){super(e,i,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(bf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ll._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:hi("string",Ll._jsonSchemaVersion),bundleSource:hi("string","DocumentSnapshot"),bundleName:hi("string"),bundle:hi("string")};class Vh extends Ll{data(e={}){return super.data(e)}}class Ul{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Eh(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Vh(this._firestore,this._userDataWriter,s.key,s,new Eh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ze(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Vh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Vh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,x=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),x=p.indexOf(b.doc.key)),{type:Fx(b.type),doc:w,oldIndex:E,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Fx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:r})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:hi("string",Ul._jsonSchemaVersion),bundleSource:hi("string","QuerySnapshot"),bundleName:hi("string"),bundle:hi("string")};class Hx extends zx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new _i(this.firestore,null,i)}}function qx(r){r=Hh(r,Eo);const e=Hh(r.firestore,jp),i=s1(e),s=new Hx(e);return jx(r._query),Sx(i,r._query).then((l=>new Ul(e,s,r,l)))}function Gx(r,e){const i=Hh(r.firestore,jp),s=Cx(r),l=Bx(r.converter,e);return Yx(i,[Ox(u1(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,_s.exists(!1))]).then((()=>s))}function Yx(r,e){return(function(s,l){const c=new mo;return s.asyncQueue.enqueueAndForget((async()=>hx(await Tx(s),l,c))),c.promise})(s1(r),e)}(function(e,i=!0){(function(l){Kl=l})(Xl),jl(new Fo("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new jp(new IR(s.getProvider("auth-internal")),new DR(p,s.getProvider("app-check-internal")),(function(E,x){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ze(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(E.options.projectId,x)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),ho(z_,B_,e),ho(z_,B_,"esm2020")})();const Xx={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},Qx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):Xx,g1=rb(Qx),Mm=AR(g1),y1=Ix(g1),v1=typeof __app_id<"u"?__app_id:"long-jump-game",bt={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000"},ta=5,Di=50,ip=30,Oa=40,_1={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},Kx=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),B0=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],F0=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],Ef=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Tf=r=>{let e=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=s^Math.imul(i^p,2869860233),s=l^Math.imul(s^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(s^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(e^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^s^l)>>>0},Wx=()=>new Date().toISOString().split("T")[0],$x=r=>{const e=Tf(r),i=Ef(e),s=[],l=15,c=new Set;for(;s.length<l;){const p=Math.floor(i()*ta),b=Math.floor(i()*Di);if(b===0)continue;const w=`${p},${b}`;if(!c.has(w)){c.add(w);const E=i();let x=1;E>.5&&(x=2),E>.8&&(x=3),s.push({r:p,c:b,val:x})}}return s},Jx=r=>{const e=Tf(r+"OBSTACLES"),i=Ef(e),s=[],l=5,c=new Set;for(;s.length<l;){const p=Math.floor(i()*ta),b=Math.floor(i()*Di);if(b===0)continue;const w=`${p},${b}`;c.has(w)||(c.add(w),s.push({r:p,c:b}))}return s},Zx=(r,e)=>{const i=Tf(r+"WILDCARDS_V3"),s=Ef(i),l=[];let c=0;for(;c<100;){const p=Math.floor(s()*ta),b=5,E=Math.floor(s()*(29-b+1))+b;if(!e.some(x=>x.r===p&&x.c===E)){l.push({r:p,c:E});break}c++}for(c=0;c<100;){const p=Math.floor(s()*ta),b=30,E=Math.floor(s()*(40-b+1))+b;if(!e.some(x=>x.r===p&&x.c===E)){l.push({r:p,c:E});break}c++}return l},eM=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],tM=r=>{const e=Tf(r),i=Ef(e);let s=[];Object.entries(_1).forEach(([b,w])=>{for(let E=0;E<w;E++)s.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(s);for(let b=l.length-1;b>0;b--){const w=Math.floor(i()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=ip;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(i()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},nM=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},iM=()=>{const r=dt.useRef(null);return dt.useEffect(()=>{const e=r.current;if(!e)return;const i=e.getContext("2d");let s=window.innerWidth,l=window.innerHeight;e.width=s,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",bt.accentPrimary];for(let x=0;x<150;x++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const w=()=>{i.clearRect(0,0,s,l),c.forEach(x=>{x.y+=x.vy,x.x+=x.vx+Math.sin(x.y/50),x.rotation+=x.rotationSpeed,x.y>l&&(x.y=-10,x.x=Math.random()*s),i.save(),i.translate(x.x,x.y),i.rotate(x.rotation*Math.PI/180),i.fillStyle=x.color,i.fillRect(-x.size/2,-x.size/2,x.size,x.size),i.restore()}),b=requestAnimationFrame(w)};w();const E=()=>{s=window.innerWidth,l=window.innerHeight,e.width=s,e.height=l};return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E),cancelAnimationFrame(b)}},[]),Y.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},H0=()=>{const{RiveComponent:r}=oo.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new oo.Layout({fit:oo.Fit.Contain,alignment:oo.Alignment.Center})});return Y.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto"}})},q0=({trigger:r})=>{const{rive:e,RiveComponent:i}=oo.useRive({src:"fan.riv",autoplay:!0,layout:new oo.Layout({fit:oo.Fit.Contain,alignment:oo.Alignment.Center})});return dt.useEffect(()=>{if(r&&e&&e.viewModelInstance)try{const s=e.viewModelInstance("View Model 1");if(s){const l=s.trigger("Celebrate");l&&l.fire()}}catch(s){console.error("Error firing trigger:",s)}},[r,e]),Y.jsx("div",{style:{width:`${Oa}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:Y.jsx("div",{style:{width:"39px",height:"60px"},children:Y.jsx(i,{})})})},Dm=({highlightName:r,user:e,onRankFound:i,lastUpdated:s})=>{const[l,c]=dt.useState([]),[p,b]=dt.useState(!0),[w,E]=dt.useState("daily"),[x,L]=dt.useState(null),q=async()=>{if(!e)return;b(!0),L(null);const te=a1(y1,"artifacts",v1,"public","data","scores"),z=new Date,Oe=z.toISOString().split("T")[0],Re=z.getDay(),Le=z.getDate()-Re+(Re===0?-6:1),qe=new Date(z.setDate(Le)).toISOString().split("T")[0];let Ke;try{w==="daily"?Ke=P0(te,L0("date","==",Oe),wh("score","desc"),wh("timestamp","asc"),U0(100)):Ke=P0(te,L0("date",">=",qe),wh("date","desc"),wh("score","desc"),U0(500));const ht=await qx(Ke);if(ht.empty){c([]),b(!1);return}let ot=ht.docs.map(F=>({id:F.id,...F.data()}));if(w==="weekly"){const F=new Map;ot.forEach(U=>{const V=F.get(U.name);V?(U.score>V.score||U.score===V.score&&U.timestamp<V.timestamp)&&F.set(U.name,U):F.set(U.name,U)}),ot=Array.from(F.values()),ot.sort((U,V)=>V.score!==U.score?V.score-U.score:U.timestamp-V.timestamp),ot=ot.slice(0,100)}if(c(ot),b(!1),r&&i){const F=ot.findIndex(U=>U.name===r);F!==-1&&i(F+1)}}catch(ht){console.error(" FIRESTORE ERROR:",ht),L(ht.message),b(!1)}};return dt.useEffect(()=>{q()},[e,w,r,s]),Y.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col relative",children:[x&&x.includes("index")&&Y.jsxs("div",{className:"absolute inset-0 z-50 bg-white/90 flex flex-col items-center justify-center p-4 text-center",children:[Y.jsx(hT,{className:"text-red-500 mb-2",size:32}),Y.jsx("p",{className:"text-xs font-bold text-red-600 mb-2",children:"DATABASE INDEX MISSING"}),Y.jsx("button",{onClick:q,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:"Retry"})]}),Y.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx(o_,{size:20,className:"text-yellow-500"}),Y.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:w==="daily"?"Today's Top":"Weekly Best"})]}),Y.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[Y.jsx("button",{onClick:()=>E("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${w==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),Y.jsx("button",{onClick:()=>E("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${w==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:p?Y.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):l.length===0?Y.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",Y.jsx("br",{}),"Be the first!"]}):Y.jsx("div",{className:"space-y-1",children:l.map((te,z)=>{const Oe=te.score>=40;return Y.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${te.name===r?`bg-[${bt.accentPrimary}]/10 border-[${bt.accentPrimary}]/20`:Oe?"bg-amber-100 border-amber-300":"hover:bg-white/60 border-transparent"}`,children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("span",{className:`font-black w-5 text-center ${z===0?"text-yellow-500 text-lg":z===1?"text-gray-400 text-base":z===2?"text-orange-700 text-base":"text-gray-300"}`,children:z+1}),Y.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[Oe&&Y.jsx(o_,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),Y.jsx("span",{className:`font-bold truncate max-w-[90px] ${te.name===r?"text-black":Oe?"text-amber-900":"text-gray-700"}`,children:te.name}),w==="weekly"&&Y.jsx("span",{className:"text-[9px] text-gray-400 font-normal ml-1 border-l pl-1 border-gray-300",children:new Date(te.date).toLocaleDateString(void 0,{weekday:"short"})})]})]}),Y.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${Oe?"bg-amber-200 text-amber-900":"text-gray-900 bg-gray-100"}`,children:[te.score,"m"]})]},z)})})})]})},G0=()=>{const r=B0[Math.floor(Math.random()*B0.length)],e=F0[Math.floor(Math.random()*F0.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},Y0=()=>Array(ta).fill(null).map(()=>Array(Di).fill(null)),Nm=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(s=>s.r===e)||r.every(s=>s.c===i)},Th=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:r,isNew:e});function rM(){const[r,e]=dt.useState("menu"),[i,s]=dt.useState(()=>G0()),[l,c]=dt.useState(()=>Y0()),[p,b]=dt.useState([]),[w,E]=dt.useState([]),[x,L]=dt.useState(0),[q,te]=dt.useState(!1),[z,Oe]=dt.useState([]),[Re,Le]=dt.useState(0),[Be,qe]=dt.useState([]),[Ke,ht]=dt.useState([]),[ot,F]=dt.useState([]),[U,V]=dt.useState([]),[B,I]=dt.useState(null),[k,C]=dt.useState(null),[X,ie]=dt.useState([]),[H,Z]=dt.useState(0),[ye,fe]=dt.useState(0),[Me,P]=dt.useState(null),[ae,Se]=dt.useState(!1),[Ee,xe]=dt.useState(!1),[Fe,We]=dt.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[ut,_t]=dt.useState(!1),[Ct,an]=dt.useState(!1),[ft,Et]=dt.useState(!1),[jt,zt]=dt.useState(!1),[Nn,ii]=dt.useState(!1),[yt,rt]=dt.useState(!1),[fn,tn]=dt.useState(!1),[Yi,Un]=dt.useState(!1),[Ft,gn]=dt.useState(null),[R,g]=dt.useState(null),[_,N]=dt.useState(!1),K=dt.useRef(null),[me,De]=dt.useState(!1),[et,at]=dt.useState(0),[Ye,tt]=dt.useState(0),Zt=l.some(ne=>ne.some(he=>he!==null));dt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await c2(Mm,__initial_auth_token):await a2(Mm)})();const he=d2(Mm,g);return()=>he()},[]),dt.useEffect(()=>{if(ye===H)return;const ne=500,he=performance.now(),pe=ye,ve=H,Ce=Qe=>{const Pe=Qe-he,He=Math.min(Pe/ne,1),ke=1-Math.pow(1-He,3),be=Math.floor(pe+(ve-pe)*ke);fe(be),He<1&&requestAnimationFrame(Ce)};requestAnimationFrame(Ce)},[H]),dt.useEffect(()=>{wn()},[]);const wn=()=>{const ne=Wx(),he=tM(ne);Oe(he);const pe=he.slice(0,ip).map(Ce=>Th(Ce,!1)).sort((Ce,Qe)=>Ce.letter.localeCompare(Qe.letter));b(pe),Le(ip),c(Y0()),ie([]),E([]),Z(0),fe(0),P(null),Se(!1),xe(!1),qe($x(ne));const ve=Jx(ne);ht(ve),F(Zx(ne,ve)),V(eM()),We({text:"Goal: Get as far right as you can.",type:"neutral"}),rt(!1),an(!1),zt(!1),ii(!1),N(!1),tn(!1),Et(!1),te(!1),I(null),C(null),K.current&&(K.current.scrollLeft=0)},ln=()=>{i.trim()||s(G0()),e("playing"),H>0&&wn(),zt(!0)},jn=()=>{e("menu"),wn()},Yn=()=>{if(w.length===0)return;const ne=w[w.length-1],he=w.slice(0,-1);c(ne.grid),b(ne.hand),Z(ne.score),Le(ne.drawCount),E(he),ie([]),We({text:"Move undone",type:"info"})},Ht=ne=>{const he=ne.toUpperCase();return[...p].reverse().find(pe=>pe.letter===he)},An=ne=>{if(!k){C({r:2,c:H});return}let{r:he,c:pe}=k;ne==="ArrowUp"&&(he=Math.max(0,he-1)),ne==="ArrowDown"&&(he=Math.min(ta-1,he+1)),ne==="ArrowLeft"&&(pe=Math.max(0,pe-1)),ne==="ArrowRight"&&(pe=Math.min(Di-1,pe+1)),C({r:he,c:pe})};dt.useEffect(()=>{const ne=he=>{if(!(r!=="playing"||yt||Nn||jt||Ct||Yi||ft)){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(he.key)){he.preventDefault(),An(he.key);return}if(he.key==="Backspace"||he.key==="Delete"){if(k){const{r:pe,c:ve}=k;X.find(Qe=>Qe.r===pe&&Qe.c===ve)?ki(pe,ve):An("ArrowLeft")}return}if(he.key==="Enter"){X.length>0&&Pi();return}if(/^[a-zA-Z]$/.test(he.key)){if(!k){C({r:2,c:H});return}const{r:pe,c:ve}=k;if(l[pe]&&l[pe][ve]||Ke.some(Qe=>Qe.r===pe&&Qe.c===ve)){An("ArrowRight");return}const Ce=Ht(he.key);Ce?(lr(Ce,pe,ve),C({r:pe,c:Math.min(Di-1,ve+1)})):(We({text:`No '${he.key.toUpperCase()}' in hand`,type:"error"}),setTimeout(()=>We({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[r,yt,k,p,X,Nn,jt,Ct,Yi,ft]),dt.useEffect(()=>{if(k&&K.current){const ne=K.current,he=k.c*Oa,pe=he+Oa,ve=ne.scrollLeft,Ce=ve+ne.clientWidth,Qe=100;he<ve?ne.scrollTo({left:Math.max(0,he-Qe),behavior:"smooth"}):pe>Ce&&ne.scrollTo({left:pe-ne.clientWidth+Qe,behavior:"smooth"})}},[k]);const xn=()=>an(!0),Xn=async()=>{if(an(!1),rt(!0),N(!0),R)try{const pe=new Date().toISOString().split("T")[0],ve=a1(y1,"artifacts",v1,"public","data","scores");await Gx(ve,{name:i||"Anonymous",score:H,date:pe,timestamp:Date.now(),userId:R.uid}),L(Date.now())}catch(pe){console.error("Error saving score:",pe)}N(!1);const ne=H*50+800;setTimeout(()=>{e("gameOver"),rt(!1)},Math.max(ne,2500))},Xi=()=>an(!1),gt=()=>r==="playing"?Et(!0):e("menu"),Hn=()=>{Et(!1),e("menu"),wn()},St=async()=>{const ne=Me?nM(Me):"top",he="https://www.longjump.co.za";let pe=Me?`${i} placed ${ne} in Long-Jump with a distance of ${H}m. How far can you get? ${he}`:`${i} got a distance of ${H}m in Long-Jump. How far can you get? ${he}`;try{await navigator.clipboard.writeText(pe),Se(!0),setTimeout(()=>Se(!1),1e3)}catch(ve){console.error("Failed to copy: ",ve),We({text:"Failed to copy result.",type:"error"})}},Qi=ne=>{ne.target.closest('[draggable="true"]')||ne.target.tagName==="BUTTON"||(De(!0),at(ne.pageX-K.current.offsetLeft),tt(K.current.scrollLeft))},Ki=()=>De(!1),Fa=()=>De(!1),Sr=ne=>{if(!me)return;ne.preventDefault();const pe=(ne.pageX-K.current.offsetLeft-et)*1.5;K.current.scrollLeft=Ye-pe},lr=(ne,he,pe)=>{if(ne.letter==="*"){gn({r:he,c:pe,tileId:ne.id}),Un(!0);return}Xe(ne,he,pe)},Xe=(ne,he,pe,ve=!1,Ce=null)=>{if(l.every(ke=>ke.every(be=>be===null))&&X.length===0&&pe!==0){tn(!0),setTimeout(()=>tn(!1),3e3);return}const Pe=Ce||ne.letter,He=[...X,{r:he,c:pe,letter:Pe,isWild:ve,id:ne.id}];if(!Nm(He)){We({text:" Tiles must be placed in a single row or column",type:"error"});return}ie(He),b(ke=>ke.filter(be=>be.id!==ne.id)),tn(!1),Fe.type==="error"&&We({text:"Goal: Get as far right as you can.",type:"neutral"})},va=ne=>{if(Ft){const he={id:Ft.tileId,letter:"*"};Xe(he,Ft.r,Ft.c,!0,ne),Un(!1),gn(null),I(null)}},Wi=ne=>{if(!yt&&r==="playing"){if(k){const{r:he,c:pe}=k;if(!(l[he]&&l[he][pe]||Ke.some(Ce=>Ce.r===he&&Ce.c===pe))){const Ce=p.find(Qe=>Qe.id===ne);Ce&&(lr(Ce,he,pe),C({r:he,c:Math.min(Di-1,pe+1)}));return}}I(B===ne?null:ne)}},ki=(ne,he)=>{if(me||yt||r!=="playing"||l[ne]&&l[ne][he]||Ke.some(ve=>ve.r===ne&&ve.c===he))return;const pe=X.findIndex(ve=>ve.r===ne&&ve.c===he);if(pe!==-1){const ve=X[pe],Ce=[...X];Ce.splice(pe,1),ie(Ce);const Qe=ve.isWild?"*":ve.letter,Pe={id:ve.id||Math.random().toString(),letter:Qe,isNew:!1};b(He=>[...He,Pe].sort((ke,be)=>ke.letter!==be.letter?ke.letter.localeCompare(be.letter):ke.isNew===be.isNew?0:ke.isNew?1:-1)),I(null),C({r:ne,c:he});return}if(B){const ve=p.find(Ce=>Ce.id===B);ve&&(lr(ve,ne,he),I(null),C({r:ne,c:Math.min(Di-1,he+1)}))}else C({r:ne,c:he})},dn=(ne,he)=>{yt||r!=="playing"||(ne.dataTransfer.setData("text/plain",JSON.stringify(he)),ne.dataTransfer.effectAllowed="move")},zn=ne=>{ne.preventDefault(),ne.dataTransfer.dropEffect="move"},$i=(ne,he,pe)=>{if(yt||r!=="playing"||(ne.preventDefault(),ne.stopPropagation(),Ke.some(Ce=>Ce.r===he&&Ce.c===pe)))return;const ve=ne.dataTransfer.getData("text/plain");if(ve)try{const Ce=JSON.parse(ve);if(l[he]&&l[he][pe])return;const Qe=X.findIndex(Pe=>Pe.r===he&&Pe.c===pe);if(Ce.type==="hand"){const Pe=Ce.tile;if(Pe.letter==="*"){gn({r:he,c:pe,tileId:Pe.id}),Un(!0);return}if(l.every(ke=>ke.every(be=>be===null))&&X.length===0&&pe!==0){tn(!0),setTimeout(()=>tn(!1),3e3);return}if(Qe!==-1){const ke=X[Qe],be=[...X],kt=ke.isWild?"*":ke.letter,Pt={id:ke.id||Math.random().toString(),letter:kt,isNew:!1};be.splice(Qe,1,{r:he,c:pe,letter:Pe.letter,isWild:!1,id:Pe.id}),ie(be),b(yn=>[...yn.filter(Ti=>Ti.id!==Pe.id),Pt].sort((Ti,Ot)=>Ti.letter!==Ot.letter?Ti.letter.localeCompare(Ot.letter):Ti.isNew===Ot.isNew?0:Ti.isNew?1:-1))}else{const ke=[...X,{r:he,c:pe,letter:Pe.letter,isWild:!1,id:Pe.id}];if(!Nm(ke)){We({text:" Tiles must be placed in a single row or column",type:"error"});return}ie(ke),b(be=>be.filter(kt=>kt.id!==Pe.id))}tn(!1),I(null),C({r:he,c:Math.min(Di-1,pe+1)}),Fe.type==="error"&&We({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Ce.type==="board"){if(Ce.r===he&&Ce.c===pe)return;const Pe=X.findIndex(be=>be.r===Ce.r&&be.c===Ce.c);if(Pe===-1)return;const He=X[Pe],ke=[...X];if(Qe!==-1){const be=X[Qe];ke[Qe]={...be,r:Ce.r,c:Ce.c},ke[Pe]={...He,r:he,c:pe}}else ke[Pe]={...He,r:he,c:pe};if(!Nm(ke)){We({text:" Tiles must be placed in a single row or column",type:"error"});return}ie(ke),C({r:he,c:Math.min(Di-1,pe+1)})}}catch{}},Rr=ne=>{if(yt||r!=="playing")return;ne.preventDefault(),ne.stopPropagation();const he=ne.dataTransfer.getData("text/plain");if(he)try{const pe=JSON.parse(he);if(pe.type==="board"){const ve=X.find(Pe=>Pe.r===pe.r&&Pe.c===pe.c),Ce=ve&&ve.isWild?"*":pe.letter,Qe={id:ve?.id||Math.random().toString(),letter:Ce,isNew:!1};ie(Pe=>Pe.filter(He=>!(He.r===pe.r&&He.c===pe.c))),b(Pe=>[...Pe,Qe].sort((He,ke)=>He.letter!==ke.letter?He.letter.localeCompare(ke.letter):He.isNew===ke.isNew?0:He.isNew?1:-1))}}catch{}},Cs=(ne,he)=>{if(!l||!l[ne])return null;if(l[ne][he])return{letter:l[ne][he],type:"locked"};const pe=X.find(ve=>ve.r===ne&&ve.c===he);return pe?{letter:pe.letter,type:"temp",isWild:pe.isWild}:null},_a=(ne,he)=>Be.find(pe=>pe.r===ne&&pe.c===he),aa=(ne,he)=>Ke.find(pe=>pe.r===ne&&pe.c===he),Pi=async()=>{if(X.length===0)return;_t(!0),We({text:"Validating...",type:"info"});const ne=l.map(Pe=>[...Pe]);if(X.forEach(Pe=>{ne[Pe.r]&&(ne[Pe.r][Pe.c]=Pe.letter)}),X.length>1){const Pe=[...X].sort((be,kt)=>be.r-kt.r||be.c-kt.c),He=Pe[0],ke=Pe[Pe.length-1];if(He.r===ke.r){for(let be=He.c;be<=ke.c;be++)if(!ne[He.r][be]){Qn("Cannot leave gaps between tiles.");return}}else for(let be=He.r;be<=ke.r;be++)if(!ne[be][He.c]){Qn("Cannot leave gaps between tiles.");return}}const he=l.every(Pe=>Pe.every(He=>He===null));let pe=!1,ve=!1;if(X.forEach(Pe=>{Pe.c===0&&(pe=!0),[{r:Pe.r+1,c:Pe.c},{r:Pe.r-1,c:Pe.c},{r:Pe.r,c:Pe.c+1},{r:Pe.r,c:Pe.c-1}].forEach(ke=>{ke.r>=0&&ke.r<ta&&ke.c>=0&&ke.c<Di&&l[ke.r]&&l[ke.r][ke.c]&&(ve=!0)})}),he&&!pe){Qn("First word must start in Column 1.");return}if(!he&&!ve){Qn("Tiles must connect to existing words.");return}const Qe=Ji(ne).filter(Pe=>Pe.cells.some(He=>X.some(ke=>ke.r===He.r&&ke.c===He.c)));if(Qe.length===0){Qn("Words must be at least 2 letters.");return}try{const Pe=[];for(const He of Qe)await bi(He.word)||Pe.push(He.word);if(Pe.length>0){Qn(`Invalid word(s): ${Pe.join(", ")}`,Pe[0]);return}wi(ne,Qe)}catch(Pe){console.error(Pe),Qn("Error checking dictionary. Try again.")}},bi=async ne=>{const he=ne.toUpperCase();if(Kx.has(he)||he.length===2)return!0;try{const pe=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${ne}`);if(!pe.ok)return!1;const ve=await pe.json();return Array.isArray(ve)&&ve.length>0}catch{return!0}},Ji=ne=>{let he=[];for(let pe=0;pe<ta;pe++){let ve="",Ce=[];for(let Qe=0;Qe<Di;Qe++)ne[pe]&&ne[pe][Qe]?(ve+=ne[pe][Qe],Ce.push({r:pe,c:Qe})):(ve.length>1&&he.push({word:ve,cells:[...Ce],type:"H"}),ve="",Ce=[]);ve.length>1&&he.push({word:ve,cells:[...Ce],type:"H"})}for(let pe=0;pe<Di;pe++){let ve="",Ce=[];for(let Qe=0;Qe<ta;Qe++)ne[Qe]&&ne[Qe][pe]?(ve+=ne[Qe][pe],Ce.push({r:Qe,c:pe})):(ve.length>1&&he.push({word:ve,cells:[...Ce],type:"V"}),ve="",Ce=[]);ve.length>1&&he.push({word:ve,cells:[...Ce],type:"V"})}return he},Qn=(ne,he=null)=>{We({text:ne,type:"error",invalidWord:he}),_t(!1)},wi=(ne,he)=>{const pe=JSON.parse(JSON.stringify(l)),ve=X.map(ke=>({id:ke.id||Math.random().toString(),letter:ke.isWild?"*":ke.letter,isNew:!1})),Ce=[...p,...ve].sort((ke,be)=>ke.letter!==be.letter?ke.letter.localeCompare(be.letter):ke.isNew===be.isNew?0:ke.isNew?1:-1);E(ke=>[...ke,{grid:pe,hand:Ce,score:H,drawCount:Re}]),c(ne),xe(!0),setTimeout(()=>xe(!1),200);let Qe=0,Pe=!1;if(he.forEach(ke=>{ke.cells.forEach(be=>{const kt=_a(be.r,be.c),Pt=X.some(yn=>yn.r===be.r&&yn.c===be.c);kt&&Pt&&(Qe+=kt.val),ot.some(yn=>yn.r===be.r&&yn.c===be.c)&&(Pe=!0)})}),Qe>0){const be=z.slice(Re,Re+Qe).map(kt=>Th(kt,!0));b(kt=>[...kt,...be].sort((yn,Zi)=>yn.letter!==Zi.letter?yn.letter.localeCompare(Zi.letter):yn.isNew===Zi.isNew?0:yn.isNew?1:-1)),Le(kt=>kt+Qe)}if(Pe){const ke=Th("*",!0);b(be=>[...be,ke].sort((Pt,yn)=>Pt.letter!==yn.letter?Pt.letter.localeCompare(yn.letter):Pt.isNew===yn.isNew?0:Pt.isNew?1:-1))}if(Qe>0||Pe){const ke=Pe?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${Qe} Bonus Tiles!`;We({text:ke,type:"success"})}else We({text:"Valid move!",type:"success"});let He=H-1;X.forEach(ke=>{ke.c>He&&(He=ke.c)});for(let ke=0;ke<ta;ke++)for(let be=0;be<Di;be++)ne[ke]&&ne[ke][be]&&be>He&&(He=be);Z(He+1),ie([]),_t(!1),C(null)},Li=()=>b(ne=>[...ne].sort(()=>Math.random()-.5)),On=()=>b(ne=>[...ne].sort((he,pe)=>he.letter!==pe.letter?he.letter.localeCompare(pe.letter):he.isNew===pe.isNew?0:he.isNew?1:-1)),sa=p.reduce((ne,he)=>(ne[he.letter]||(ne[he.letter]=[]),ne[he.letter].push(he),ne),{}),Bn=Array.from(new Set(p.map(ne=>ne.letter))),gi=Bn.length>=6,Ei=Math.ceil(Bn.length/2),Ha=gi?Bn.slice(0,Ei):Bn,Br=gi?Bn.slice(Ei):[],Fr=({letter:ne})=>{const he=sa[ne]||[],pe=he.length,ve=he[pe-1],Ce=ve&&B===ve.id,Qe=Math.min(pe,15),Pe=6,He=40+(Qe>1?(Qe-1)*Pe:0);return Y.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${He}px`},children:[[...Array(Qe-1)].map((ke,be)=>{const Pt=(ne.charCodeAt(0)+be)%7-3;return Y.jsx("div",{className:"absolute w-10 h-10 rounded-lg border border-black/10 transition-all shadow-md",style:{backgroundColor:"#e5e7eb",bottom:`${be*Pe}px`,zIndex:be,transform:`rotate(${Pt}deg)`}},be)}),Y.jsxs("button",{draggable:!yt&&r==="playing",onDragStart:ke=>dn(ke,{type:"hand",tile:ve}),onClick:()=>Wi(ve.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${r==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(Qe-1)*Pe}px`,zIndex:Qe,backgroundColor:Ce?bt.accentPrimary:ne==="*"?bt.tileTemp:"white",color:Ce?"white":bt.textMain,transform:Ce?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Ce?0:ne.charCodeAt(0)%5-2}deg)`},children:[ve&&ve.isNew&&Y.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),ne==="*"?Y.jsx(mh,{size:20,fill:bt.starPurple,className:"text-purple-500"}):ne]})]})};return r==="menu"?Y.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:bt.background,color:bt.textMain},children:[Y.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch",children:[Y.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[Y.jsx(H0,{}),Y.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[Y.jsx("span",{children:"Refreshed Daily"}),Y.jsx(gm,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),Y.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:bt.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."}),Y.jsx("div",{className:"flex flex-col gap-1 items-center",children:Y.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-gray-600 border-b border-gray-300 hover:border-gray-500 transition-colors pb-0.5",children:"A word game by Richard Bolland"})})]}),Y.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[Y.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:bt.textSub},children:"Enter your name"}),Y.jsx("input",{type:"text",value:i,onChange:ne=>s(ne.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:bt.textMain,borderColor:"transparent"},onFocus:ne=>ne.target.style.borderColor=bt.accentPrimary,onBlur:ne=>ne.target.style.borderColor="transparent",onKeyDown:ne=>ne.key==="Enter"&&ln()})]}),Y.jsx("button",{onClick:ln,className:"group relative px-12 py-6 text-white rounded-2xl font-black text-xl tracking-widest uppercase shadow-[0_10px_20px_rgba(0,0,0,0.1)] hover:shadow-[0_15px_30px_rgba(0,0,0,0.15)] hover:-translate-y-1 active:translate-y-0 transition-all duration-300 animate-pulse-slow",style:{backgroundColor:bt.accentPrimary},children:Y.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Play Game ",Y.jsx(ET,{size:24,fill:"currentColor"})]})}),Y.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:Y.jsx(Dm,{user:R,lastUpdated:x})})]}),Y.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:Y.jsx(Dm,{user:R,lastUpdated:x})})]}):Y.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative",style:{backgroundColor:bt.background,color:bt.textMain},children:[r==="gameOver"&&!q&&Y.jsxs("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6",children:[Y.jsx(iM,{}),Y.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex flex-col justify-center lg:h-[600px] z-[101] relative",children:[Y.jsx("div",{className:"w-48 h-16 mx-auto mb-4",children:Y.jsx("h1",{className:"text-4xl font-black tracking-tight text-black uppercase drop-shadow-sm",children:"Long Jump"})}),Y.jsx("h3",{className:"text-2xl font-bold mb-8 tracking-widest uppercase",style:{color:bt.accentPrimary},children:"Complete"}),Y.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[Y.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:bt.textSub},children:"Athlete"}),Y.jsx("div",{className:"text-3xl font-black mb-6",style:{color:bt.textMain},children:i}),Y.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:bt.textSub},children:"Distance"}),Y.jsxs("div",{className:"text-6xl font-black",style:{color:bt.accentSecondary},children:[ye,"m"]})]}),Y.jsx("div",{className:"flex gap-2 mb-3",children:Y.jsx("button",{onClick:St,className:"flex-1 py-3 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300",children:ae?Y.jsxs(Y.Fragment,{children:[Y.jsx(iT,{size:20})," Copied"]}):Y.jsxs(Y.Fragment,{children:[Y.jsx(IT,{size:20})," Share Result"]})})}),Y.jsxs("div",{className:"flex gap-2",children:[Y.jsx("button",{onClick:jn,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg mt-auto",style:{backgroundColor:"#111827"},children:"Play Again"}),Y.jsx("button",{onClick:()=>te(!0),className:"flex-none px-4 py-4 bg-white border-2 border-gray-200 rounded-xl text-gray-700 hover:bg-gray-50 shadow-sm transition-all flex items-center justify-center",title:"View Board",children:Y.jsx(mT,{size:24})})]})]}),Y.jsx("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative",children:Y.jsx(Dm,{highlightName:i,user:R,onRankFound:P,lastUpdated:x})})]}),Yi&&Y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[Y.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),Y.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(_1).filter(ne=>ne!=="*").map(ne=>Y.jsx("button",{onClick:()=>va(ne),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:bt.textMain},children:ne},ne))}),Y.jsx("button",{onClick:()=>{Un(!1),gn(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),(jt||Nn)&&Y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[Y.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:Y.jsx(tT,{size:48,style:{color:bt.accentPrimary}})}),Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"Game Rules"}),Y.jsxs("div",{className:"text-left text-gray-600 mb-6 text-sm space-y-3",children:[Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["This is a ",Y.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Place words ",Y.jsx("strong",{children:"Left to Right"})," or ",Y.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Minimum ",Y.jsx("strong",{children:"2 letter"})," words."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Start in ",Y.jsx("strong",{children:"Column 1"})," (left)."]})]}),Y.jsxs("p",{className:"flex gap-2 items-center",children:[Y.jsx(gm,{size:16,className:"text-yellow-500 fill-yellow-500"}),Y.jsxs("span",{children:[Y.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),Y.jsxs("p",{className:"flex gap-2 items-center",children:[Y.jsx(mh,{size:16,className:"text-purple-500 fill-purple-500"}),Y.jsxs("span",{children:[Y.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]})]}),Y.jsx("button",{onClick:()=>{zt(!1),ii(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:bt.accentPrimary},children:jt?"Let's Jump!":"Close"})]})}),ft&&Y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[Y.jsx("div",{className:"flex justify-center mb-4",children:Y.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:Y.jsx(vT,{size:32,className:"text-red-500"})})}),Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Exit Game?"}),Y.jsx("p",{className:"text-gray-500 mb-8",children:"Are you sure you want to quit? You will lose your current progress."}),Y.jsxs("div",{className:"flex gap-3",children:[Y.jsx("button",{onClick:()=>Et(!1),className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),Y.jsx("button",{onClick:Hn,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600",children:"Exit"})]})]})}),Ct&&Y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),Y.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",Y.jsx("strong",{style:{color:bt.accentPrimary},children:H}),". This will end your current run."]}),Y.jsxs("div",{className:"flex gap-3",children:[Y.jsx("button",{onClick:Xi,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),Y.jsx("button",{onClick:Xn,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:bt.accentPrimary},children:"Confirm"})]})]})}),Y.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50",children:[Y.jsxs("div",{className:"w-32 flex flex-col items-start",children:[Y.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),Y.jsxs("div",{className:"block md:hidden",children:[H>0&&r==="playing"&&Y.jsxs("button",{onClick:xn,disabled:yt||ut,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",Y.jsx(l_,{size:10,style:{color:bt.starGold}})]}),r==="gameOver"&&q&&Y.jsxs("button",{onClick:()=>te(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:bt.accentPrimary,color:"white"},children:[Y.jsx(s_,{size:12})," RESULTS"]})]})]}),Y.jsxs("div",{className:"flex flex-col items-center flex-1",children:[Y.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:gt,children:Y.jsx(H0,{})}),Y.jsxs("div",{className:"hidden md:block mt-6",children:[r==="playing"&&H>0&&Y.jsxs("button",{onClick:xn,disabled:yt||ut,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",Y.jsx(l_,{size:10,style:{color:bt.starGold}})]}),r==="gameOver"&&q&&Y.jsxs("button",{onClick:()=>te(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:bt.accentPrimary},children:[Y.jsx(s_,{size:14})," BACK TO RESULTS"]})]})]}),Y.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[Y.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:bt.accentPrimary},children:i||"PLAYER 1"}),Y.jsxs("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:bt.accentPrimary},children:[Y.jsx(RT,{size:16})," ",ye,"m"]}),Y.jsxs("button",{onClick:()=>ii(!0),className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 uppercase tracking-widest flex items-center gap-1",children:["Rules ",Y.jsx(gT,{size:12})]})]})]}),Y.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:Qi,onMouseLeave:Ki,onMouseUp:Fa,onMouseMove:Sr,children:Y.jsx("div",{ref:K,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${me?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"},children:Y.jsxs("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area",children:[Y.jsx("div",{className:"flex relative mb-3",style:{width:`${Di*Oa}px`,height:"24px"},children:Array(Di).fill(0).map((ne,he)=>{const pe=he===0,ve=(he+1)%5===0;if(!pe&&!ve)return null;const Ce=H<3;return Y.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:he*Oa+Oa/2,transform:`translateX(-50%) ${pe&&Ce?"translateY(-45px)":"translateY(0)"}`},children:[Y.jsx("span",{className:`text-xs tracking-wider ${pe?"text-black font-black":"text-gray-400"}`,children:pe?"START":`${he+1}m`}),Y.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${pe?"bg-black":"bg-gray-300"}`})]},`ruler-${he}`)})}),Y.jsxs("div",{className:"relative",children:[Y.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:U.filter(ne=>ne.type==="top").map((ne,he)=>{const pe=Math.max(ne.startCol,H+ne.offset);return Y.jsx("div",{className:"absolute -top-[55px]",style:{left:`${pe*Oa}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:Y.jsx(q0,{trigger:Ee})},`fan-top-${ne.id}`)})}),Y.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${Di}, ${Oa}px)`,gridTemplateRows:`repeat(${ta}, ${Oa}px)`,backgroundColor:bt.boardBackground,borderColor:bt.boardLines},children:Array(ta).fill(0).map((ne,he)=>Array(Di).fill(0).map((pe,ve)=>{const Ce=Cs(he,ve),Qe=_a(he,ve),Pe=aa(he,ve),He=ot.some(Ot=>Ot.r===he&&Ot.c===ve),be=ve===0&&!Ce&&!Zt,kt=Ce?.type==="locked",Pt=(ve+1)%5===0,yn=ve<ye,Zi=k&&k.r===he&&k.c===ve,Ti=yt&&kt?"animate-jump-green":"";return Y.jsxs("div",{onClick:()=>ki(he,ve),onDragOver:zn,onDrop:Ot=>$i(Ot,he,ve),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${Ce?Ce.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Pe?"cursor-not-allowed":"hover:bg-white/20"}  ${Ce?.type==="temp"?`bg-[${bt.tileTemp}] ring-2 ring-[${bt.tileTempRing}] -translate-y-[2px] z-10`:""} ${!Ce&&!Pe&&yn?"bg-white/20":ve===0&&!Ce?"bg-green-100/40":!Ce&&!Pe&&!be&&(he+ve)%2===0?"bg-black/5":"bg-transparent"} ${Zi?"ring-4 ring-blue-400 z-20":""} ${!Ce&&Zi?"bg-blue-50/20":""} ${!Ce&&Pt?"border-r-2 border-r-black/10":"border border-black/5"} ${yn?"animate-pop-green":""} ${Ti}`,style:kt?{backgroundColor:yn?bt.overlayComplete:bt.tileLocked,color:bt.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:yt?`${ve*50}ms`:"0ms"}:Ce?.type==="temp"?{backgroundColor:Ce.isWild?bt.tileWildPlaced:bt.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Pe?{backgroundColor:bt.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!Ce&&be&&Y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:Y.jsx(uT,{size:20,style:{color:bt.startArrow}})}),!Ce&&Pe&&Y.jsx("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Ce&&Qe&&!Pe&&!He&&Y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[Y.jsx(gm,{className:"w-6 h-6",fill:bt.starGold,stroke:bt.starGold}),Y.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",Qe.val]})]}),!Ce&&He&&!Pe&&Y.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:Y.jsx(mh,{className:"w-7 h-7",fill:bt.starPurple,stroke:bt.starPurple})}),Ce&&Y.jsxs("div",{draggable:Ce.type==="temp"&&!yt&&r==="playing",onDragStart:Ot=>dn(Ot,{type:"board",r:he,c:ve,letter:Ce.letter}),className:`w-full h-full flex items-center justify-center ${Ce.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:[Y.jsx("span",{className:"text-2xl font-bold select-none font-mono",children:Ce.letter}),Ce.isWild&&Y.jsx(mh,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})]})]},`${he}-${ve}`)}))}),Y.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:U.filter(ne=>ne.type==="bottom").map((ne,he)=>{const pe=Math.max(ne.startCol,H+ne.offset);return Y.jsx("div",{className:"absolute -bottom-[35px]",style:{left:`${pe*Oa}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:Y.jsx(q0,{trigger:Ee})},`fan-bottom-${ne.id}`)})})]}),fn&&Y.jsx("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none",children:Y.jsxs("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative",children:[Y.jsx("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),Y.jsx(oT,{size:16}),"Start Here!"]})})]})})}),Y.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50",children:[Y.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[Y.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${Fe.type==="error"?"bg-red-100 text-red-700":Fe.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[Y.jsx("span",{children:ut?"Checking...":Fe.text}),Fe.type==="error"&&Fe.invalidWord&&Y.jsxs("a",{href:`mailto:richard@studiobo.io?subject=Report Valid Word: ${Fe.invalidWord}&body=The word "${Fe.invalidWord}" should be valid.`,className:"ml-2 bg-red-200 hover:bg-red-300 text-red-800 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors",children:["Report ",Y.jsx(bT,{size:10})]})]}),Y.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[Y.jsx("button",{onClick:Yn,disabled:yt||w.length===0||r!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",title:"Undo last move",children:Y.jsx(AT,{size:16})}),Y.jsxs("button",{onClick:Li,disabled:yt||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[Y.jsx(MT,{size:16})," Shuffle"]}),Y.jsxs("button",{onClick:On,disabled:yt||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[Y.jsx(JE,{size:16})," Sort A-Z"]}),X.length>0&&Y.jsxs("button",{onClick:Pi,disabled:ut||yt||r!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${ut||yt?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:ut||yt?{}:{backgroundColor:bt.accentPrimary,color:"white"},children:[ut?"Checking...":"JUMP"," ",Y.jsx(aT,{size:18,strokeWidth:4})]}),X.length>0&&Y.jsx("button",{onClick:()=>{const he=X.map(pe=>pe.isWild?"*":pe.letter).map(pe=>Th(pe,!1));b(pe=>[...pe,...he].sort((ve,Ce)=>ve.letter!==Ce.letter?ve.letter.localeCompare(Ce.letter):ve.isNew===Ce.isNew?0:ve.isNew?1:-1)),ie([]),setSelectedLetter(null)},disabled:yt||r!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:Y.jsx(kT,{size:16})})]})]}),Y.jsxs("div",{onDragOver:zn,onDrop:Rr,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:bt.boardLines},children:[Bn.length===0&&Y.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),Bn.length<6?Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Bn.map(ne=>Y.jsx(Fr,{letter:ne},ne))}):Y.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ha.map(ne=>Y.jsx(Fr,{letter:ne},ne))}),Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Br.map(ne=>Y.jsx(Fr,{letter:ne},ne))})]})]})]}),Y.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `})]})}GE.createRoot(document.getElementById("root")).render(Y.jsx(dt.StrictMode,{children:Y.jsx(rM,{})}));
