(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var hm={exports:{}},Pu={};var t0;function zE(){if(t0)return Pu;t0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Pu.Fragment=e,Pu.jsx=i,Pu.jsxs=i,Pu}var n0;function BE(){return n0||(n0=1,hm.exports=zE()),hm.exports}var k=BE(),fm={exports:{}},Mt={};var i0;function FE(){if(i0)return Mt;i0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),j=Symbol.iterator;function ie(L){return L===null||typeof L!="object"?null:(L=j&&L[j]||L["@@iterator"],typeof L=="function"?L:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ie=Object.assign,Ce={};function ke(L,K,Ee){this.props=L,this.context=K,this.refs=Ce,this.updater=Ee||F}ke.prototype.isReactComponent={},ke.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},ke.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Ve(){}Ve.prototype=ke.prototype;function Be(L,K,Ee){this.props=L,this.context=K,this.refs=Ce,this.updater=Ee||F}var Xe=Be.prototype=new Ve;Xe.constructor=Be,Ie(Xe,ke.prototype),Xe.isPureReactComponent=!0;var ct=Array.isArray;function pt(){}var q={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function V(L,K,Ee){var ye=Ee.ref;return{$$typeof:r,type:L,key:K,ref:ye!==void 0?ye:null,props:Ee}}function H(L,K){return V(L.type,K,L.props)}function x(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function P(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Ee){return K[Ee]})}var R=/\/+/g;function Q(L,K){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):K.toString(36)}function ae(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(pt,pt):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function G(L,K,Ee,ye,Me){var He=typeof L;(He==="undefined"||He==="boolean")&&(L=null);var ht=!1;if(L===null)ht=!0;else switch(He){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(L.$$typeof){case r:case e:ht=!0;break;case I:return ht=L._init,G(ht(L._payload),K,Ee,ye,Me)}}if(ht)return Me=Me(L),ht=ye===""?"."+Q(L,0):ye,ct(Me)?(Ee="",ht!=null&&(Ee=ht.replace(R,"$&/")+"/"),G(Me,K,Ee,"",function(kt){return kt})):Me!=null&&(x(Me)&&(Me=H(Me,Ee+(Me.key==null||L&&L.key===Me.key?"":(""+Me.key).replace(R,"$&/")+"/")+ht)),K.push(Me)),1;ht=0;var mt=ye===""?".":ye+":";if(ct(L))for(var bt=0;bt<L.length;bt++)ye=L[bt],He=mt+Q(ye,bt),ht+=G(ye,K,Ee,He,Me);else if(bt=ie(L),typeof bt=="function")for(L=bt.call(L),bt=0;!(ye=L.next()).done;)ye=ye.value,He=mt+Q(ye,bt++),ht+=G(ye,K,Ee,He,Me);else if(He==="object"){if(typeof L.then=="function")return G(ae(L),K,Ee,ye,Me);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ht}function te(L,K,Ee){if(L==null)return L;var ye=[],Me=0;return G(L,ye,"","",function(He){return K.call(Ee,He,Me++)}),ye}function ve(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(Ee){(L._status===0||L._status===-1)&&(L._status=1,L._result=Ee)},function(Ee){(L._status===0||L._status===-1)&&(L._status=2,L._result=Ee)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var he=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},we={map:te,forEach:function(L,K,Ee){te(L,function(){K.apply(this,arguments)},Ee)},count:function(L){var K=0;return te(L,function(){K++}),K},toArray:function(L){return te(L,function(K){return K})||[]},only:function(L){if(!x(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Mt.Activity=U,Mt.Children=we,Mt.Component=ke,Mt.Fragment=i,Mt.Profiler=l,Mt.PureComponent=Be,Mt.StrictMode=s,Mt.Suspense=E,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return q.H.useMemoCache(L)}},Mt.cache=function(L){return function(){return L.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(L,K,Ee){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ye=Ie({},L.props),Me=L.key;if(K!=null)for(He in K.key!==void 0&&(Me=""+K.key),K)!z.call(K,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&K.ref===void 0||(ye[He]=K[He]);var He=arguments.length-2;if(He===1)ye.children=Ee;else if(1<He){for(var ht=Array(He),mt=0;mt<He;mt++)ht[mt]=arguments[mt+2];ye.children=ht}return V(L.type,Me,ye)},Mt.createContext=function(L){return L={$$typeof:p,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Mt.createElement=function(L,K,Ee){var ye,Me={},He=null;if(K!=null)for(ye in K.key!==void 0&&(He=""+K.key),K)z.call(K,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Me[ye]=K[ye]);var ht=arguments.length-2;if(ht===1)Me.children=Ee;else if(1<ht){for(var mt=Array(ht),bt=0;bt<ht;bt++)mt[bt]=arguments[bt+2];Me.children=mt}if(L&&L.defaultProps)for(ye in ht=L.defaultProps,ht)Me[ye]===void 0&&(Me[ye]=ht[ye]);return V(L,He,Me)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(L){return{$$typeof:b,render:L}},Mt.isValidElement=x,Mt.lazy=function(L){return{$$typeof:I,_payload:{_status:-1,_result:L},_init:ve}},Mt.memo=function(L,K){return{$$typeof:w,type:L,compare:K===void 0?null:K}},Mt.startTransition=function(L){var K=q.T,Ee={};q.T=Ee;try{var ye=L(),Me=q.S;Me!==null&&Me(Ee,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(pt,he)}catch(He){he(He)}finally{K!==null&&Ee.types!==null&&(K.types=Ee.types),q.T=K}},Mt.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Mt.use=function(L){return q.H.use(L)},Mt.useActionState=function(L,K,Ee){return q.H.useActionState(L,K,Ee)},Mt.useCallback=function(L,K){return q.H.useCallback(L,K)},Mt.useContext=function(L){return q.H.useContext(L)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(L,K){return q.H.useDeferredValue(L,K)},Mt.useEffect=function(L,K){return q.H.useEffect(L,K)},Mt.useEffectEvent=function(L){return q.H.useEffectEvent(L)},Mt.useId=function(){return q.H.useId()},Mt.useImperativeHandle=function(L,K,Ee){return q.H.useImperativeHandle(L,K,Ee)},Mt.useInsertionEffect=function(L,K){return q.H.useInsertionEffect(L,K)},Mt.useLayoutEffect=function(L,K){return q.H.useLayoutEffect(L,K)},Mt.useMemo=function(L,K){return q.H.useMemo(L,K)},Mt.useOptimistic=function(L,K){return q.H.useOptimistic(L,K)},Mt.useReducer=function(L,K,Ee){return q.H.useReducer(L,K,Ee)},Mt.useRef=function(L){return q.H.useRef(L)},Mt.useState=function(L){return q.H.useState(L)},Mt.useSyncExternalStore=function(L,K,Ee){return q.H.useSyncExternalStore(L,K,Ee)},Mt.useTransition=function(){return q.H.useTransition()},Mt.version="19.2.0",Mt}var r0;function rf(){return r0||(r0=1,fm.exports=FE()),fm.exports}var et=rf(),dm={exports:{}},Lu={},mm={exports:{}},pm={};var a0;function HE(){return a0||(a0=1,(function(r){function e(G,te){var ve=G.length;G.push(te);e:for(;0<ve;){var he=ve-1>>>1,we=G[he];if(0<l(we,te))G[he]=te,G[ve]=we,ve=he;else break e}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var te=G[0],ve=G.pop();if(ve!==te){G[0]=ve;e:for(var he=0,we=G.length,L=we>>>1;he<L;){var K=2*(he+1)-1,Ee=G[K],ye=K+1,Me=G[ye];if(0>l(Ee,ve))ye<we&&0>l(Me,Ee)?(G[he]=Me,G[ye]=ve,he=ye):(G[he]=Ee,G[K]=ve,he=K);else if(ye<we&&0>l(Me,ve))G[he]=Me,G[ye]=ve,he=ye;else break e}}return te}function l(G,te){var ve=G.sortIndex-te.sortIndex;return ve!==0?ve:G.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var E=[],w=[],I=1,U=null,j=3,ie=!1,F=!1,Ie=!1,Ce=!1,ke=typeof setTimeout=="function"?setTimeout:null,Ve=typeof clearTimeout=="function"?clearTimeout:null,Be=typeof setImmediate<"u"?setImmediate:null;function Xe(G){for(var te=i(w);te!==null;){if(te.callback===null)s(w);else if(te.startTime<=G)s(w),te.sortIndex=te.expirationTime,e(E,te);else break;te=i(w)}}function ct(G){if(Ie=!1,Xe(G),!F)if(i(E)!==null)F=!0,pt||(pt=!0,P());else{var te=i(w);te!==null&&ae(ct,te.startTime-G)}}var pt=!1,q=-1,z=5,V=-1;function H(){return Ce?!0:!(r.unstable_now()-V<z)}function x(){if(Ce=!1,pt){var G=r.unstable_now();V=G;var te=!0;try{e:{F=!1,Ie&&(Ie=!1,Ve(q),q=-1),ie=!0;var ve=j;try{t:{for(Xe(G),U=i(E);U!==null&&!(U.expirationTime>G&&H());){var he=U.callback;if(typeof he=="function"){U.callback=null,j=U.priorityLevel;var we=he(U.expirationTime<=G);if(G=r.unstable_now(),typeof we=="function"){U.callback=we,Xe(G),te=!0;break t}U===i(E)&&s(E),Xe(G)}else s(E);U=i(E)}if(U!==null)te=!0;else{var L=i(w);L!==null&&ae(ct,L.startTime-G),te=!1}}break e}finally{U=null,j=ve,ie=!1}te=void 0}}finally{te?P():pt=!1}}}var P;if(typeof Be=="function")P=function(){Be(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Q=R.port2;R.port1.onmessage=x,P=function(){Q.postMessage(null)}}else P=function(){ke(x,0)};function ae(G,te){q=ke(function(){G(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return j},r.unstable_next=function(G){switch(j){case 1:case 2:case 3:var te=3;break;default:te=j}var ve=j;j=te;try{return G()}finally{j=ve}},r.unstable_requestPaint=function(){Ce=!0},r.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ve=j;j=G;try{return te()}finally{j=ve}},r.unstable_scheduleCallback=function(G,te,ve){var he=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?he+ve:he):ve=he,G){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ve+we,G={id:I++,callback:te,priorityLevel:G,startTime:ve,expirationTime:we,sortIndex:-1},ve>he?(G.sortIndex=ve,e(w,G),i(E)===null&&G===i(w)&&(Ie?(Ve(q),q=-1):Ie=!0,ae(ct,ve-he))):(G.sortIndex=we,e(E,G),F||ie||(F=!0,pt||(pt=!0,P()))),G},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(G){var te=j;return function(){var ve=j;j=te;try{return G.apply(this,arguments)}finally{j=ve}}}})(pm)),pm}var s0;function qE(){return s0||(s0=1,mm.exports=HE()),mm.exports}var gm={exports:{}},Wi={};var o0;function GE(){if(o0)return Wi;o0=1;var r=rf();function e(E){var w="https://react.dev/errors/"+E;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)w+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+E+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(E,w,I){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:U==null?null:""+U,children:E,containerInfo:w,implementation:I}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(E,w){if(E==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wi.createPortal=function(E,w){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return c(E,w,null,I)},Wi.flushSync=function(E){var w=p.T,I=s.p;try{if(p.T=null,s.p=2,E)return E()}finally{p.T=w,s.p=I,s.d.f()}},Wi.preconnect=function(E,w){typeof E=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,s.d.C(E,w))},Wi.prefetchDNS=function(E){typeof E=="string"&&s.d.D(E)},Wi.preinit=function(E,w){if(typeof E=="string"&&w&&typeof w.as=="string"){var I=w.as,U=b(I,w.crossOrigin),j=typeof w.integrity=="string"?w.integrity:void 0,ie=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;I==="style"?s.d.S(E,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:U,integrity:j,fetchPriority:ie}):I==="script"&&s.d.X(E,{crossOrigin:U,integrity:j,fetchPriority:ie,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Wi.preinitModule=function(E,w){if(typeof E=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var I=b(w.as,w.crossOrigin);s.d.M(E,{crossOrigin:I,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&s.d.M(E)},Wi.preload=function(E,w){if(typeof E=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var I=w.as,U=b(I,w.crossOrigin);s.d.L(E,I,{crossOrigin:U,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Wi.preloadModule=function(E,w){if(typeof E=="string")if(w){var I=b(w.as,w.crossOrigin);s.d.m(E,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:I,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else s.d.m(E)},Wi.requestFormReset=function(E){s.d.r(E)},Wi.unstable_batchedUpdates=function(E,w){return E(w)},Wi.useFormState=function(E,w,I){return p.H.useFormState(E,w,I)},Wi.useFormStatus=function(){return p.H.useHostTransitionStatus()},Wi.version="19.2.0",Wi}var l0;function YE(){if(l0)return gm.exports;l0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=GE(),gm.exports}var u0;function XE(){if(u0)return Lu;u0=1;var r=qE(),e=rf(),i=YE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(c(t)!==t)throw Error(s(188))}function w(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return E(h),t;if(m===o)return E(h),n;m=m.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=m;else{for(var T=!1,M=h.child;M;){if(M===a){T=!0,a=h,o=m;break}if(M===o){T=!0,o=h,a=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===a){T=!0,a=m,o=h;break}if(M===o){T=!0,o=m,a=h;break}M=M.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function I(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=I(t),n!==null)return n;t=t.sibling}return null}var U=Object.assign,j=Symbol.for("react.element"),ie=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Ie=Symbol.for("react.fragment"),Ce=Symbol.for("react.strict_mode"),ke=Symbol.for("react.profiler"),Ve=Symbol.for("react.consumer"),Be=Symbol.for("react.context"),Xe=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Q(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ie:return"Fragment";case ke:return"Profiler";case Ce:return"StrictMode";case ct:return"Suspense";case pt:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case Be:return t.displayName||"Context";case Ve:return(t._context.displayName||"Context")+".Consumer";case Xe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return n=t.displayName||null,n!==null?n:Q(t.type)||"Memo";case z:n=t._payload,t=t._init;try{return Q(t(n))}catch{}}return null}var ae=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},he=[],we=-1;function L(t){return{current:t}}function K(t){0>we||(t.current=he[we],he[we]=null,we--)}function Ee(t,n){we++,he[we]=t.current,t.current=n}var ye=L(null),Me=L(null),He=L(null),ht=L(null);function mt(t,n){switch(Ee(He,n),Ee(Me,t),Ee(ye,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Av(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Av(n),t=Sv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ye),Ee(ye,t)}function bt(){K(ye),K(Me),K(He)}function kt(t){t.memoizedState!==null&&Ee(ht,t);var n=ye.current,a=Sv(n,t.type);n!==a&&(Ee(Me,t),Ee(ye,a))}function un(t){Me.current===t&&(K(ye),K(Me)),ht.current===t&&(K(ht),Du._currentValue=ve)}var ft,At;function Dt(t){if(ft===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ft=n&&n[1]||"",At=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+t+At}var wt=!1;function Tn(t,n){if(!t||wt)return"";wt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(pe){var fe=pe}Reflect.construct(t,[],Ae)}else{try{Ae.call()}catch(pe){fe=pe}t.call(Ae.prototype)}}else{try{throw Error()}catch(pe){fe=pe}(Ae=t())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(pe){if(pe&&fe&&typeof pe.stack=="string")return[pe.stack,fe.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var Y=T.split(`
`),le=M.split(`
`);for(h=o=0;o<Y.length&&!Y[o].includes("DetermineComponentFrameRoot");)o++;for(;h<le.length&&!le[h].includes("DetermineComponentFrameRoot");)h++;if(o===Y.length||h===le.length)for(o=Y.length-1,h=le.length-1;1<=o&&0<=h&&Y[o]!==le[h];)h--;for(;1<=o&&0<=h;o--,h--)if(Y[o]!==le[h]){if(o!==1||h!==1)do if(o--,h--,0>h||Y[o]!==le[h]){var _e=`
`+Y[o].replace(" at new "," at ");return t.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",t.displayName)),_e}while(1<=o&&0<=h);break}}}finally{wt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Dt(a):""}function hi(t,n){switch(t.tag){case 26:case 27:case 5:return Dt(t.type);case 16:return Dt("Lazy");case 13:return t.child!==n&&n!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return Tn(t.type,!1);case 11:return Tn(t.type.render,!1);case 1:return Tn(t.type,!0);case 31:return Dt("Activity");default:return""}}function Jt(t){try{var n="",a=null;do n+=hi(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var it=Object.prototype.hasOwnProperty,sn=r.unstable_scheduleCallback,mn=r.unstable_cancelCallback,Gi=r.unstable_shouldYield,$n=r.unstable_requestPaint,Gt=r.unstable_now,An=r.unstable_getCurrentPriorityLevel,C=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,v=r.unstable_NormalPriority,D=r.unstable_LowPriority,W=r.unstable_IdlePriority,me=r.log,Re=r.unstable_setDisableYieldValue,Qe=null,Je=null;function Ge(t){if(typeof me=="function"&&Re(t),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Qe,t)}catch{}}var rt=Math.clz32?Math.clz32:pn,Bt=Math.log,xn=Math.LN2;function pn(t){return t>>>=0,t===0?32:31-(Bt(t)/xn|0)|0}var Bn=256,Jn=262144,Rt=4194304;function Ln(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Un(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?h=Ln(o):(T&=M,T!==0?h=Ln(T):a||(a=M&~t,a!==0&&(h=Ln(a))))):(M=o&~m,M!==0?h=Ln(M):T!==0?h=Ln(T):a||(a=o&~t,a!==0&&(h=Ln(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function vn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ni(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function Zn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function xt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tr(t,n,a,o,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var M=t.entanglements,Y=t.expirationTimes,le=t.hiddenUpdates;for(a=T&~a;0<a;){var _e=31-rt(a),Ae=1<<_e;M[_e]=0,Y[_e]=-1;var fe=le[_e];if(fe!==null)for(le[_e]=null,_e=0;_e<fe.length;_e++){var pe=fe[_e];pe!==null&&(pe.lane&=-536870913)}a&=~Ae}o!==0&&nr(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function nr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-rt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Fa(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-rt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function ir(t,n){var a=n&-n;return a=(a&42)!==0?1:rr(a),(a&(t.suspendedLanes|n))!==0?0:a}function rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ye(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ba(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Qv(t.type))}function ar(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var sr=Math.random().toString(36).slice(2),cn="__reactFiber$"+sr,Qn="__reactProps$"+sr,or="__reactContainer$"+sr,Nr="__reactEvents$"+sr,Rs="__reactListeners$"+sr,Ha="__reactHandles$"+sr,oa="__reactResources$"+sr,lr="__reactMarker$"+sr;function Di(t){delete t[cn],delete t[Qn],delete t[Nr],delete t[Rs],delete t[Ha]}function ur(t){var n=t[cn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[or]||a[cn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Dv(t);t!==null;){if(a=t[cn])return a;t=Dv(t)}return n}t=a,a=t.parentNode}return null}function Yi(t){if(t=t[cn]||t[or]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function _i(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Oi(t){var n=t[oa];return n||(n=t[oa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Fn(t){t[lr]=!0}var la=new Set,Ci={};function Ri(t,n){ki(t,n),ki(t+"Capture",n)}function ki(t,n){for(Ci[t]=n,t=0;t<n.length;t++)la.add(n[t])}var qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qr={},wa={};function Ea(t){return it.call(wa,t)?!0:it.call(qr,t)?!1:qa.test(t)?wa[t]=!0:(qr[t]=!0,!1)}function vr(t,n,a){if(Ea(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function bi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _n(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Kn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ni(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _r(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Zt(t){if(!t._valueTracker){var n=ni(t)?"checked":"value";t._valueTracker=_r(t,n,""+t[n])}}function wi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=ni(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function dt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vn=/[\n"\\]/g;function In(t){return t.replace(Vn,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gr(t,n,a,o,h,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Kn(n)):t.value!==""+Kn(n)&&(t.value=""+Kn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Ta(t,T,Kn(n)):a!=null?Ta(t,T,Kn(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Kn(M):t.removeAttribute("name")}function Ga(t,n,a,o,h,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Zt(t);return}a=a!=null?""+Kn(a):"",n=n!=null?""+Kn(n):a,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Zt(t)}function Ta(t,n,a){n==="number"&&dt(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function tn(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Kn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function $(t,n,a){if(n!=null&&(n=""+Kn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Kn(a):""}function ue(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ae(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Kn(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Zt(t)}function ge(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var be=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ne(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||be.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Fe(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ne(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&Ne(t,m,n[m])}function Ze(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ut=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Le(t){return ut.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function st(){}var Sn=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nn=null,ii=null;function Nn(t){var n=Yi(t);if(n&&(t=n.stateNode)){var a=t[Qn]||null;e:switch(t=n.stateNode,n.type){case"input":if(Gr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+In(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Qn]||null;if(!h)throw Error(s(90));Gr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&wi(o)}break e;case"textarea":$(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&tn(t,!!a.multiple,n,!1)}}}var cr=!1;function br(t,n,a){if(cr)return t(n,a);cr=!0;try{var o=t(n);return o}finally{if(cr=!1,(nn!==null||ii!==null)&&(Xc(),nn&&(n=nn,t=ii,ii=nn=null,Nn(n),t)))for(n=0;n<t.length;n++)Nn(t[n])}}function Vi(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Qn]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=!1;if(Ei)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{Yr=!1}var Xr=null,Xi=null,ua=null;function Aa(){if(ua)return ua;var t,n=Xi,a=n.length,o,h="value"in Xr?Xr.value:Xr.textContent,m=h.length;for(t=0;t<a&&n[t]===h[t];t++);var T=a-t;for(o=1;o<=T&&n[a-o]===h[m-o];o++);return ua=h.slice(t,1<o?1-o:void 0)}function ca(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Dr(){return!0}function Or(){return!1}function Ti(t){function n(a,o,h,m,T){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(a=t[M],this[M]=a?a(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Dr:Or,this.isPropagationStopped=Or,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),n}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qr=Ti(wr),Sa=U({},wr,{view:0,detail:0}),Eo=Ti(Sa),kr,Ya,hr,Xa=U({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hr&&(hr&&t.type==="mousemove"?(kr=t.screenX-hr.screenX,Ya=t.screenY-hr.screenY):Ya=kr=0,hr=t),kr)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),xs=Ti(Xa),Qa=U({},Xa,{dataTransfer:0}),Ko=Ti(Qa),si=U({},Sa,{relatedTarget:0}),Ca=Ti(si),fr=U({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=Ti(fr),ha=U({},wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ka=Ti(ha),Is=U({},wr,{data:0}),Vr=Ti(Is),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function Ra(){return Ns}var Pi=U({},Sa,{key:function(t){if(t.key){var n=Ms[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(t){return t.type==="keypress"?ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),To=Ti(Pi),Zo=U({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fa=Ti(Zo),u=U({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),y=Ti(u),A=U({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=Ti(A),re=U({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),de=Ti(re),Ue=U({},wr,{newState:0,oldState:0}),St=Ti(Ue),ei=[9,13,27,32],on=Ei&&"CompositionEvent"in window,jn=null;Ei&&"documentMode"in document&&(jn=document.documentMode);var Qi=Ei&&"TextEvent"in window&&!jn,Er=Ei&&(!on||jn&&8<jn&&11>=jn),Tr=" ",dr=!1;function Kr(t,n){switch(t){case"keyup":return ei.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function Sf(t,n){switch(t){case"compositionend":return Wa(n);case"keypress":return n.which!==32?null:(dr=!0,Tr);case"textInput":return t=n.data,t===Tr&&dr?null:t;default:return null}}function pc(t,n){if($a)return t==="compositionend"||!on&&Kr(t,n)?(t=Aa(),ua=Xi=Xr=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Er&&n.locale!=="ko"?null:n.data;default:return null}}var el={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!el[t.type]:n==="textarea"}function Hn(t,n,a,o){nn?ii?ii.push(o):ii=[o]:nn=o,n=eh(n,"onChange"),0<n.length&&(a=new Qr("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var mr=null,Ja=null;function gc(t){vv(t,0)}function Ao(t){var n=_i(t);if(wi(n))return t}function tu(t,n){if(t==="change")return n}var nu=!1;if(Ei){var Ds;if(Ei){var tl="oninput"in document;if(!tl){var f=document.createElement("div");f.setAttribute("oninput","return;"),tl=typeof f.oninput=="function"}Ds=tl}else Ds=!1;nu=Ds&&(!document.documentMode||9<document.documentMode)}function d(){mr&&(mr.detachEvent("onpropertychange",_),Ja=mr=null)}function _(t){if(t.propertyName==="value"&&Ao(Ja)){var n=[];Hn(n,Ja,t,Mn(t)),br(gc,n)}}function S(t,n,a){t==="focusin"?(d(),mr=n,Ja=a,mr.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function N(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Ja)}function B(t,n){if(t==="click")return Ao(n)}function J(t,n){if(t==="input"||t==="change")return Ao(n)}function Z(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ce=typeof Object.is=="function"?Object.is:Z;function oe(t,n){if(ce(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!it.call(n,h)||!ce(t[h],n[h]))return!1}return!0}function Oe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ke(t,n){var a=Oe(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Oe(a)}}function at(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?at(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ee(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=dt(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=dt(t.document)}return n}function je(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var tt=Ei&&"documentMode"in document&&11>=document.documentMode,ze=null,hn=null,We=null,Ut=!1;function bn(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ut||ze==null||ze!==dt(o)||(o=ze,"selectionStart"in o&&je(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),We&&oe(We,o)||(We=o,o=eh(hn,"onSelect"),0<o.length&&(n=new Qr("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ze)))}function oi(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ar={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},zt={},Pr={};Ei&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Za(t){if(zt[t])return zt[t];if(!Ar[t])return t;var n=Ar[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Pr)return zt[t]=n[a];return t}var De=Za("animationend"),qe=Za("animationiteration"),jt=Za("animationstart"),Yt=Za("transitionrun"),Ot=Za("transitionstart"),Ft=Za("transitioncancel"),rn=Za("transitionend"),ln=new Map,pr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pr.push("scrollEnd");function wn(t,n){ln.set(t,n),Ri(n,[t])}var Li=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gn=[],es=0,nl=0;function xa(){for(var t=es,n=nl=es=0;n<t;){var a=gn[n];gn[n++]=null;var o=gn[n];gn[n++]=null;var h=gn[n];gn[n++]=null;var m=gn[n];if(gn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&iu(a,h,m)}}function Ia(t,n,a,o){gn[es++]=t,gn[es++]=n,gn[es++]=a,gn[es++]=o,nl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function da(t,n,a,o){return Ia(t,n,a,o),So(t)}function gr(t,n){return Ia(t,null,null,n),So(t)}function iu(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-rt(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),m):null}function So(t){if(50<Su)throw Su=0,Vd=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Lr={};function Cf(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(t,n,a,o){return new Cf(t,n,a,o)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var a=t.alternate;return a===null?(a=Ki(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function eg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yc(t,n,a,o,h,m){var T=0;if(o=t,typeof t=="function")Rf(t)&&(T=1);else if(typeof t=="string")T=xE(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=Ki(31,a,n,h),t.elementType=V,t.lanes=m,t;case Ie:return Co(a.children,h,m,n);case Ce:T=8,h|=24;break;case ke:return t=Ki(12,a,n,h|2),t.elementType=ke,t.lanes=m,t;case ct:return t=Ki(13,a,n,h),t.elementType=ct,t.lanes=m,t;case pt:return t=Ki(19,a,n,h),t.elementType=pt,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Be:T=10;break e;case Ve:T=9;break e;case Xe:T=11;break e;case q:T=14;break e;case z:T=16,o=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=Ki(T,a,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Co(t,n,a,o){return t=Ki(7,t,o,n),t.lanes=a,t}function xf(t,n,a){return t=Ki(6,t,null,n),t.lanes=a,t}function tg(t){var n=Ki(18,null,null,0);return n.stateNode=t,n}function If(t,n,a){return n=Ki(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ng=new WeakMap;function Wr(t,n){if(typeof t=="object"&&t!==null){var a=ng.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Jt(n)},ng.set(t,n),n)}return{value:t,source:n,stack:Jt(n)}}var il=[],rl=0,vc=null,ru=0,$r=[],Jr=0,Os=null,Ma=1,Na="";function ns(t,n){il[rl++]=ru,il[rl++]=vc,vc=t,ru=n}function ig(t,n,a){$r[Jr++]=Ma,$r[Jr++]=Na,$r[Jr++]=Os,Os=t;var o=Ma;t=Na;var h=32-rt(o)-1;o&=~(1<<h),a+=1;var m=32-rt(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,Ma=1<<32-rt(n)+h|a<<h|o,Na=m+t}else Ma=1<<m|a<<h|o,Na=t}function Mf(t){t.return!==null&&(ns(t,1),ig(t,1,0))}function Nf(t){for(;t===vc;)vc=il[--rl],il[rl]=null,ru=il[--rl],il[rl]=null;for(;t===Os;)Os=$r[--Jr],$r[Jr]=null,Na=$r[--Jr],$r[Jr]=null,Ma=$r[--Jr],$r[Jr]=null}function rg(t,n){$r[Jr++]=Ma,$r[Jr++]=Na,$r[Jr++]=Os,Ma=n.id,Na=n.overflow,Os=t}var Ui=null,qn=null,en=!1,ks=null,Zr=!1,Df=Error(s(519));function Vs(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(Wr(n,t)),Df}function ag(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[cn]=t,n[Qn]=o,a){case"dialog":qt("cancel",n),qt("close",n);break;case"iframe":case"object":case"embed":qt("load",n);break;case"video":case"audio":for(a=0;a<Ru.length;a++)qt(Ru[a],n);break;case"source":qt("error",n);break;case"img":case"image":case"link":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"input":qt("invalid",n),Ga(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":qt("invalid",n);break;case"textarea":qt("invalid",n),ue(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Ev(n.textContent,a)?(o.popover!=null&&(qt("beforetoggle",n),qt("toggle",n)),o.onScroll!=null&&qt("scroll",n),o.onScrollEnd!=null&&qt("scrollend",n),o.onClick!=null&&(n.onclick=st),n=!0):n=!1,n||Vs(t,!0)}function sg(t){for(Ui=t.return;Ui;)switch(Ui.tag){case 5:case 31:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:Ui=Ui.return}}function al(t){if(t!==Ui)return!1;if(!en)return sg(t),en=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&qn&&Vs(t),sg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));qn=Nv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));qn=Nv(t)}else n===27?(n=qn,Ks(t.type)?(t=tm,tm=null,qn=t):qn=n):qn=Ui?ta(t.stateNode.nextSibling):null;return!0}function Ro(){qn=Ui=null,en=!1}function Of(){var t=ks;return t!==null&&(xr===null?xr=t:xr.push.apply(xr,t),ks=null),t}function au(t){ks===null?ks=[t]:ks.push(t)}var kf=L(null),xo=null,is=null;function Ps(t,n,a){Ee(kf,n._currentValue),n._currentValue=a}function rs(t){t._currentValue=kf.current,K(kf)}function Vf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Pf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=h;for(var Y=0;Y<n.length;Y++)if(M.context===n[Y]){m.lanes|=a,M=m.alternate,M!==null&&(M.lanes|=a),Vf(m.return,a,t),o||(T=null);break e}m=M.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Vf(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function sl(t,n,a,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var M=h.type;ce(h.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(h===ht.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Du):t=[Du])}h=h.return}t!==null&&Pf(n,t,a,o),n.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!ce(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Io(t){xo=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ji(t){return og(xo,t)}function bc(t,n){return xo===null&&Io(t),og(t,n)}function og(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},is===null){if(t===null)throw Error(s(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return a}var Aw=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Sw=r.unstable_scheduleCallback,Cw=r.unstable_NormalPriority,fi={$$typeof:Be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new Aw,data:new Map,refCount:0}}function su(t){t.refCount--,t.refCount===0&&Sw(Cw,function(){t.controller.abort()})}var ou=null,Uf=0,ol=0,ll=null;function Rw(t,n){if(ou===null){var a=ou=[];Uf=0,ol=Bd(),ll={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Uf++,n.then(lg,lg),n}function lg(){if(--Uf===0&&ou!==null){ll!==null&&(ll.status="fulfilled");var t=ou;ou=null,ol=0,ll=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xw(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ug=G.S;G.S=function(t,n){Yy=Gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Rw(t,n),ug!==null&&ug(t,n)};var Mo=L(null);function jf(){var t=Mo.current;return t!==null?t:Pn.pooledCache}function wc(t,n){n===null?Ee(Mo,Mo.current):Ee(Mo,n.pool)}function cg(){var t=jf();return t===null?null:{parent:fi._currentValue,pool:t}}var ul=Error(s(460)),zf=Error(s(474)),Ec=Error(s(542)),Tc={then:function(){}};function hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(st,st),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,mg(t),t;default:if(typeof n.status=="string")n.then(st,st);else{if(t=Pn,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,mg(t),t}throw Do=n,ul}}function No(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Do=a,ul):a}}var Do=null;function dg(){if(Do===null)throw Error(s(459));var t=Do;return Do=null,t}function mg(t){if(t===ul||t===Ec)throw Error(s(483))}var cl=null,lu=0;function Ac(t){var n=lu;return lu+=1,cl===null&&(cl=[]),fg(cl,t,n)}function uu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Sc(t,n){throw n.$$typeof===j?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function pg(t){function n(ne,X){if(t){var se=ne.deletions;se===null?(ne.deletions=[X],ne.flags|=16):se.push(X)}}function a(ne,X){if(!t)return null;for(;X!==null;)n(ne,X),X=X.sibling;return null}function o(ne){for(var X=new Map;ne!==null;)ne.key!==null?X.set(ne.key,ne):X.set(ne.index,ne),ne=ne.sibling;return X}function h(ne,X){return ne=ts(ne,X),ne.index=0,ne.sibling=null,ne}function m(ne,X,se){return ne.index=se,t?(se=ne.alternate,se!==null?(se=se.index,se<X?(ne.flags|=67108866,X):se):(ne.flags|=67108866,X)):(ne.flags|=1048576,X)}function T(ne){return t&&ne.alternate===null&&(ne.flags|=67108866),ne}function M(ne,X,se,Te){return X===null||X.tag!==6?(X=xf(se,ne.mode,Te),X.return=ne,X):(X=h(X,se),X.return=ne,X)}function Y(ne,X,se,Te){var yt=se.type;return yt===Ie?_e(ne,X,se.props.children,Te,se.key):X!==null&&(X.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===z&&No(yt)===X.type)?(X=h(X,se.props),uu(X,se),X.return=ne,X):(X=yc(se.type,se.key,se.props,null,ne.mode,Te),uu(X,se),X.return=ne,X)}function le(ne,X,se,Te){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=If(se,ne.mode,Te),X.return=ne,X):(X=h(X,se.children||[]),X.return=ne,X)}function _e(ne,X,se,Te,yt){return X===null||X.tag!==7?(X=Co(se,ne.mode,Te,yt),X.return=ne,X):(X=h(X,se),X.return=ne,X)}function Ae(ne,X,se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=xf(""+X,ne.mode,se),X.return=ne,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case ie:return se=yc(X.type,X.key,X.props,null,ne.mode,se),uu(se,X),se.return=ne,se;case F:return X=If(X,ne.mode,se),X.return=ne,X;case z:return X=No(X),Ae(ne,X,se)}if(ae(X)||P(X))return X=Co(X,ne.mode,se,null),X.return=ne,X;if(typeof X.then=="function")return Ae(ne,Ac(X),se);if(X.$$typeof===Be)return Ae(ne,bc(ne,X),se);Sc(ne,X)}return null}function fe(ne,X,se,Te){var yt=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return yt!==null?null:M(ne,X,""+se,Te);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ie:return se.key===yt?Y(ne,X,se,Te):null;case F:return se.key===yt?le(ne,X,se,Te):null;case z:return se=No(se),fe(ne,X,se,Te)}if(ae(se)||P(se))return yt!==null?null:_e(ne,X,se,Te,null);if(typeof se.then=="function")return fe(ne,X,Ac(se),Te);if(se.$$typeof===Be)return fe(ne,X,bc(ne,se),Te);Sc(ne,se)}return null}function pe(ne,X,se,Te,yt){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return ne=ne.get(se)||null,M(X,ne,""+Te,yt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case ie:return ne=ne.get(Te.key===null?se:Te.key)||null,Y(X,ne,Te,yt);case F:return ne=ne.get(Te.key===null?se:Te.key)||null,le(X,ne,Te,yt);case z:return Te=No(Te),pe(ne,X,se,Te,yt)}if(ae(Te)||P(Te))return ne=ne.get(se)||null,_e(X,ne,Te,yt,null);if(typeof Te.then=="function")return pe(ne,X,se,Ac(Te),yt);if(Te.$$typeof===Be)return pe(ne,X,se,bc(X,Te),yt);Sc(X,Te)}return null}function ot(ne,X,se,Te){for(var yt=null,fn=null,lt=X,Lt=X=0,Qt=null;lt!==null&&Lt<se.length;Lt++){lt.index>Lt?(Qt=lt,lt=null):Qt=lt.sibling;var dn=fe(ne,lt,se[Lt],Te);if(dn===null){lt===null&&(lt=Qt);break}t&&lt&&dn.alternate===null&&n(ne,lt),X=m(dn,X,Lt),fn===null?yt=dn:fn.sibling=dn,fn=dn,lt=Qt}if(Lt===se.length)return a(ne,lt),en&&ns(ne,Lt),yt;if(lt===null){for(;Lt<se.length;Lt++)lt=Ae(ne,se[Lt],Te),lt!==null&&(X=m(lt,X,Lt),fn===null?yt=lt:fn.sibling=lt,fn=lt);return en&&ns(ne,Lt),yt}for(lt=o(lt);Lt<se.length;Lt++)Qt=pe(lt,ne,Lt,se[Lt],Te),Qt!==null&&(t&&Qt.alternate!==null&&lt.delete(Qt.key===null?Lt:Qt.key),X=m(Qt,X,Lt),fn===null?yt=Qt:fn.sibling=Qt,fn=Qt);return t&&lt.forEach(function(eo){return n(ne,eo)}),en&&ns(ne,Lt),yt}function _t(ne,X,se,Te){if(se==null)throw Error(s(151));for(var yt=null,fn=null,lt=X,Lt=X=0,Qt=null,dn=se.next();lt!==null&&!dn.done;Lt++,dn=se.next()){lt.index>Lt?(Qt=lt,lt=null):Qt=lt.sibling;var eo=fe(ne,lt,dn.value,Te);if(eo===null){lt===null&&(lt=Qt);break}t&&lt&&eo.alternate===null&&n(ne,lt),X=m(eo,X,Lt),fn===null?yt=eo:fn.sibling=eo,fn=eo,lt=Qt}if(dn.done)return a(ne,lt),en&&ns(ne,Lt),yt;if(lt===null){for(;!dn.done;Lt++,dn=se.next())dn=Ae(ne,dn.value,Te),dn!==null&&(X=m(dn,X,Lt),fn===null?yt=dn:fn.sibling=dn,fn=dn);return en&&ns(ne,Lt),yt}for(lt=o(lt);!dn.done;Lt++,dn=se.next())dn=pe(lt,ne,Lt,dn.value,Te),dn!==null&&(t&&dn.alternate!==null&&lt.delete(dn.key===null?Lt:dn.key),X=m(dn,X,Lt),fn===null?yt=dn:fn.sibling=dn,fn=dn);return t&&lt.forEach(function(jE){return n(ne,jE)}),en&&ns(ne,Lt),yt}function kn(ne,X,se,Te){if(typeof se=="object"&&se!==null&&se.type===Ie&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case ie:e:{for(var yt=se.key;X!==null;){if(X.key===yt){if(yt=se.type,yt===Ie){if(X.tag===7){a(ne,X.sibling),Te=h(X,se.props.children),Te.return=ne,ne=Te;break e}}else if(X.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===z&&No(yt)===X.type){a(ne,X.sibling),Te=h(X,se.props),uu(Te,se),Te.return=ne,ne=Te;break e}a(ne,X);break}else n(ne,X);X=X.sibling}se.type===Ie?(Te=Co(se.props.children,ne.mode,Te,se.key),Te.return=ne,ne=Te):(Te=yc(se.type,se.key,se.props,null,ne.mode,Te),uu(Te,se),Te.return=ne,ne=Te)}return T(ne);case F:e:{for(yt=se.key;X!==null;){if(X.key===yt)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){a(ne,X.sibling),Te=h(X,se.children||[]),Te.return=ne,ne=Te;break e}else{a(ne,X);break}else n(ne,X);X=X.sibling}Te=If(se,ne.mode,Te),Te.return=ne,ne=Te}return T(ne);case z:return se=No(se),kn(ne,X,se,Te)}if(ae(se))return ot(ne,X,se,Te);if(P(se)){if(yt=P(se),typeof yt!="function")throw Error(s(150));return se=yt.call(se),_t(ne,X,se,Te)}if(typeof se.then=="function")return kn(ne,X,Ac(se),Te);if(se.$$typeof===Be)return kn(ne,X,bc(ne,se),Te);Sc(ne,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,X!==null&&X.tag===6?(a(ne,X.sibling),Te=h(X,se),Te.return=ne,ne=Te):(a(ne,X),Te=xf(se,ne.mode,Te),Te.return=ne,ne=Te),T(ne)):a(ne,X)}return function(ne,X,se,Te){try{lu=0;var yt=kn(ne,X,se,Te);return cl=null,yt}catch(lt){if(lt===ul||lt===Ec)throw lt;var fn=Ki(29,lt,null,ne.mode);return fn.lanes=Te,fn.return=ne,fn}finally{}}}var Oo=pg(!0),gg=pg(!1),Ls=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(yn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=So(t),iu(t,null,a),n}return Ia(t,o,n,a),So(t)}function cu(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Fa(t,a)}}function Hf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var qf=!1;function hu(){if(qf){var t=ll;if(t!==null)throw t}}function fu(t,n,a,o){qf=!1;var h=t.updateQueue;Ls=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var Y=M,le=Y.next;Y.next=null,T===null?m=le:T.next=le,T=Y;var _e=t.alternate;_e!==null&&(_e=_e.updateQueue,M=_e.lastBaseUpdate,M!==T&&(M===null?_e.firstBaseUpdate=le:M.next=le,_e.lastBaseUpdate=Y))}if(m!==null){var Ae=h.baseState;T=0,_e=le=Y=null,M=m;do{var fe=M.lane&-536870913,pe=fe!==M.lane;if(pe?(Xt&fe)===fe:(o&fe)===fe){fe!==0&&fe===ol&&(qf=!0),_e!==null&&(_e=_e.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ot=t,_t=M;fe=n;var kn=a;switch(_t.tag){case 1:if(ot=_t.payload,typeof ot=="function"){Ae=ot.call(kn,Ae,fe);break e}Ae=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=_t.payload,fe=typeof ot=="function"?ot.call(kn,Ae,fe):ot,fe==null)break e;Ae=U({},Ae,fe);break e;case 2:Ls=!0}}fe=M.callback,fe!==null&&(t.flags|=64,pe&&(t.flags|=8192),pe=h.callbacks,pe===null?h.callbacks=[fe]:pe.push(fe))}else pe={lane:fe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},_e===null?(le=_e=pe,Y=Ae):_e=_e.next=pe,T|=fe;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;pe=M,M=pe.next,pe.next=null,h.lastBaseUpdate=pe,h.shared.pending=null}}while(!0);_e===null&&(Y=Ae),h.baseState=Y,h.firstBaseUpdate=le,h.lastBaseUpdate=_e,m===null&&(h.shared.lanes=0),qs|=T,t.lanes=T,t.memoizedState=Ae}}function yg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function vg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)yg(a[t],n)}var hl=L(null),Cc=L(0);function _g(t,n){t=ds,Ee(Cc,t),Ee(hl,n),ds=t|n.baseLanes}function Gf(){Ee(Cc,ds),Ee(hl,hl.current)}function Yf(){ds=Cc.current,K(hl),K(Cc)}var Ur=L(null),ea=null;function zs(t){var n=t.alternate;Ee(li,li.current&1),Ee(Ur,t),ea===null&&(n===null||hl.current!==null||n.memoizedState!==null)&&(ea=t)}function Xf(t){Ee(li,li.current),Ee(Ur,t),ea===null&&(ea=t)}function bg(t){t.tag===22?(Ee(li,li.current),Ee(Ur,t),ea===null&&(ea=t)):Bs()}function Bs(){Ee(li,li.current),Ee(Ur,Ur.current)}function jr(t){K(Ur),ea===t&&(ea=null),K(li)}var li=L(0);function Rc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||em(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,Pt=null,Dn=null,di=null,xc=!1,fl=!1,ko=!1,Ic=0,du=0,dl=null,Iw=0;function ri(){throw Error(s(321))}function Qf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ce(t[a],n[a]))return!1;return!0}function Kf(t,n,a,o,h,m){return as=m,Pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?iy:cd,ko=!1,m=a(o,h),ko=!1,fl&&(m=Eg(n,a,o,h)),wg(t),m}function wg(t){G.H=gu;var n=Dn!==null&&Dn.next!==null;if(as=0,di=Dn=Pt=null,xc=!1,du=0,dl=null,n)throw Error(s(300));t===null||mi||(t=t.dependencies,t!==null&&_c(t)&&(mi=!0))}function Eg(t,n,a,o){Pt=t;var h=0;do{if(fl&&(dl=null),du=0,fl=!1,25<=h)throw Error(s(301));if(h+=1,di=Dn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=ry,m=n(a,o)}while(fl);return m}function Mw(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?mu(n):n,t=t.useState()[0],(Dn!==null?Dn.memoizedState:null)!==t&&(Pt.flags|=1024),n}function Wf(){var t=Ic!==0;return Ic=0,t}function $f(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Jf(t){if(xc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xc=!1}as=0,di=Dn=Pt=null,fl=!1,du=Ic=0,dl=null}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return di===null?Pt.memoizedState=di=t:di=di.next=t,di}function ui(){if(Dn===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=Dn.next;var n=di===null?Pt.memoizedState:di.next;if(n!==null)di=n,Dn=t;else{if(t===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));Dn=t,t={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},di===null?Pt.memoizedState=di=t:di=di.next=t}return di}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(t){var n=du;return du+=1,dl===null&&(dl=[]),t=fg(dl,t,n),n=Pt,(di===null?n.memoizedState:di.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?iy:cd),t}function Nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mu(t);if(t.$$typeof===Be)return ji(t)}throw Error(s(438,String(t)))}function Zf(t){var n=null,a=Pt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Pt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Mc(),Pt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=H;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function Dc(t){var n=ui();return ed(n,Dn,t)}function ed(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var M=T=null,Y=null,le=n,_e=!1;do{var Ae=le.lane&-536870913;if(Ae!==le.lane?(Xt&Ae)===Ae:(as&Ae)===Ae){var fe=le.revertLane;if(fe===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ae===ol&&(_e=!0);else if((as&fe)===fe){le=le.next,fe===ol&&(_e=!0);continue}else Ae={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Y===null?(M=Y=Ae,T=m):Y=Y.next=Ae,Pt.lanes|=fe,qs|=fe;Ae=le.action,ko&&a(m,Ae),m=le.hasEagerState?le.eagerState:a(m,Ae)}else fe={lane:Ae,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Y===null?(M=Y=fe,T=m):Y=Y.next=fe,Pt.lanes|=Ae,qs|=Ae;le=le.next}while(le!==null&&le!==n);if(Y===null?T=m:Y.next=M,!ce(m,t.memoizedState)&&(mi=!0,_e&&(a=ll,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=Y,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function td(t){var n=ui(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ce(m,n.memoizedState)||(mi=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function Tg(t,n,a){var o=Pt,h=ui(),m=en;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var T=!ce((Dn||h).memoizedState,a);if(T&&(h.memoizedState=a,mi=!0),h=h.queue,rd(Cg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||di!==null&&di.memoizedState.tag&1){if(o.flags|=2048,ml(9,{destroy:void 0},Sg.bind(null,o,h,a,n),null),Pn===null)throw Error(s(349));m||(as&127)!==0||Ag(o,n,a)}return a}function Ag(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Pt.updateQueue,n===null?(n=Mc(),Pt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Sg(t,n,a,o){n.value=a,n.getSnapshot=o,Rg(n)&&xg(t)}function Cg(t,n,a){return a(function(){Rg(n)&&xg(t)})}function Rg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ce(t,a)}catch{return!0}}function xg(t){var n=gr(t,2);n!==null&&Ir(n,t,2)}function nd(t){var n=yr();if(typeof t=="function"){var a=t;if(t=a(),ko){Ge(!0);try{a()}finally{Ge(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function Ig(t,n,a,o){return t.baseState=a,ed(t,Dn,typeof o=="function"?o:ss)}function Nw(t,n,a,o,h){if(Vc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};G.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,Mg(n,m)):(m.next=a.next,n.pending=a.next=m)}}function Mg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=G.T,T={};G.T=T;try{var M=a(h,o),Y=G.S;Y!==null&&Y(T,M),Ng(t,n,M)}catch(le){id(t,n,le)}finally{m!==null&&T.types!==null&&(m.types=T.types),G.T=m}}else try{m=a(h,o),Ng(t,n,m)}catch(le){id(t,n,le)}}function Ng(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Dg(t,n,o)},function(o){return id(t,n,o)}):Dg(t,n,a)}function Dg(t,n,a){n.status="fulfilled",n.value=a,Og(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Mg(t,a)))}function id(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Og(n),n=n.next;while(n!==o)}t.action=null}function Og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function kg(t,n){return n}function Vg(t,n){if(en){var a=Pn.formState;if(a!==null){e:{var o=Pt;if(en){if(qn){t:{for(var h=qn,m=Zr;h.nodeType!==8;){if(!m){h=null;break t}if(h=ta(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){qn=ta(h.nextSibling),o=h.data==="F!";break e}}Vs(o)}o=!1}o&&(n=a[0])}}return a=yr(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:n},a.queue=o,a=ey.bind(null,Pt,o),o.dispatch=a,o=nd(!1),m=ud.bind(null,Pt,!1,o.queue),o=yr(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=Nw.bind(null,Pt,h,m,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Pg(t){var n=ui();return Lg(n,Dn,t)}function Lg(t,n,a){if(n=ed(t,n,kg)[0],t=Dc(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=mu(n)}catch(T){throw T===ul?Ec:T}else o=n;n=ui();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(Pt.flags|=2048,ml(9,{destroy:void 0},Dw.bind(null,h,a),null)),[o,m,t]}function Dw(t,n){t.action=n}function Ug(t){var n=ui(),a=Dn;if(a!==null)return Lg(n,a,t);ui(),n=n.memoizedState,a=ui();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function ml(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Pt.updateQueue,n===null&&(n=Mc(),Pt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function jg(){return ui().memoizedState}function Oc(t,n,a,o){var h=yr();Pt.flags|=t,h.memoizedState=ml(1|n,{destroy:void 0},a,o===void 0?null:o)}function kc(t,n,a,o){var h=ui();o=o===void 0?null:o;var m=h.memoizedState.inst;Dn!==null&&o!==null&&Qf(o,Dn.memoizedState.deps)?h.memoizedState=ml(n,m,a,o):(Pt.flags|=t,h.memoizedState=ml(1|n,m,a,o))}function zg(t,n){Oc(8390656,8,t,n)}function rd(t,n){kc(2048,8,t,n)}function Ow(t){Pt.flags|=4;var n=Pt.updateQueue;if(n===null)n=Mc(),Pt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Bg(t){var n=ui().memoizedState;return Ow({ref:n,nextImpl:t}),function(){if((yn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Fg(t,n){return kc(4,2,t,n)}function Hg(t,n){return kc(4,4,t,n)}function qg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gg(t,n,a){a=a!=null?a.concat([t]):null,kc(4,4,qg.bind(null,n,t),a)}function ad(){}function Yg(t,n){var a=ui();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Qf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Xg(t,n){var a=ui();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Qf(n,o[1]))return o[0];if(o=t(),ko){Ge(!0);try{t()}finally{Ge(!1)}}return a.memoizedState=[o,n],o}function sd(t,n,a){return a===void 0||(as&1073741824)!==0&&(Xt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Qy(),Pt.lanes|=t,qs|=t,a)}function Qg(t,n,a,o){return ce(a,n)?a:hl.current!==null?(t=sd(t,a,o),ce(t,n)||(mi=!0),t):(as&42)===0||(as&1073741824)!==0&&(Xt&261930)===0?(mi=!0,t.memoizedState=a):(t=Qy(),Pt.lanes|=t,qs|=t,n)}function Kg(t,n,a,o,h){var m=te.p;te.p=m!==0&&8>m?m:8;var T=G.T,M={};G.T=M,ud(t,!1,n,a);try{var Y=h(),le=G.S;if(le!==null&&le(M,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var _e=xw(Y,o);pu(t,n,_e,Fr(t))}else pu(t,n,o,Fr(t))}catch(Ae){pu(t,n,{then:function(){},status:"rejected",reason:Ae},Fr())}finally{te.p=m,T!==null&&M.types!==null&&(T.types=M.types),G.T=T}}function kw(){}function od(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=Wg(t).queue;Kg(t,h,n,ve,a===null?kw:function(){return $g(t),a(o)})}function Wg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ve},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $g(t){var n=Wg(t);n.next===null&&(n=t.alternate.memoizedState),pu(t,n.next.queue,{},Fr())}function ld(){return ji(Du)}function Jg(){return ui().memoizedState}function Zg(){return ui().memoizedState}function Vw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Fr();t=Us(a);var o=js(n,t,a);o!==null&&(Ir(o,n,a),cu(o,n,a)),n={cache:Lf()},t.payload=n;return}n=n.return}}function Pw(t,n,a){var o=Fr();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vc(t)?ty(n,a):(a=da(t,n,a,o),a!==null&&(Ir(a,t,o),ny(a,n,o)))}function ey(t,n,a){var o=Fr();pu(t,n,a,o)}function pu(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vc(t))ty(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,a);if(h.hasEagerState=!0,h.eagerState=M,ce(M,T))return Ia(t,n,h,0),Pn===null&&xa(),!1}catch{}finally{}if(a=da(t,n,h,o),a!==null)return Ir(a,t,o),ny(a,n,o),!0}return!1}function ud(t,n,a,o){if(o={lane:2,revertLane:Bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Vc(t)){if(n)throw Error(s(479))}else n=da(t,a,o,2),n!==null&&Ir(n,t,2)}function Vc(t){var n=t.alternate;return t===Pt||n!==null&&n===Pt}function ty(t,n){fl=xc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ny(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Fa(t,a)}}var gu={readContext:ji,use:Nc,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useInsertionEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useSyncExternalStore:ri,useId:ri,useHostTransitionStatus:ri,useFormState:ri,useActionState:ri,useOptimistic:ri,useMemoCache:ri,useCacheRefresh:ri};gu.useEffectEvent=ri;var iy={readContext:ji,use:Nc,useCallback:function(t,n){return yr().memoizedState=[t,n===void 0?null:n],t},useContext:ji,useEffect:zg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Oc(4194308,4,qg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Oc(4194308,4,t,n)},useInsertionEffect:function(t,n){Oc(4,2,t,n)},useMemo:function(t,n){var a=yr();n=n===void 0?null:n;var o=t();if(ko){Ge(!0);try{t()}finally{Ge(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=yr();if(a!==void 0){var h=a(n);if(ko){Ge(!0);try{a(n)}finally{Ge(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Pw.bind(null,Pt,t),[o.memoizedState,t]},useRef:function(t){var n=yr();return t={current:t},n.memoizedState=t},useState:function(t){t=nd(t);var n=t.queue,a=ey.bind(null,Pt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(t,n){var a=yr();return sd(a,t,n)},useTransition:function(){var t=nd(!1);return t=Kg.bind(null,Pt,t.queue,!0,!1),yr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Pt,h=yr();if(en){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Pn===null)throw Error(s(349));(Xt&127)!==0||Ag(o,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,zg(Cg.bind(null,o,m,t),[t]),o.flags|=2048,ml(9,{destroy:void 0},Sg.bind(null,o,m,a,n),null),a},useId:function(){var t=yr(),n=Pn.identifierPrefix;if(en){var a=Na,o=Ma;a=(o&~(1<<32-rt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ic++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Iw++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ld,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var n=yr();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ud.bind(null,Pt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Zf,useCacheRefresh:function(){return yr().memoizedState=Vw.bind(null,Pt)},useEffectEvent:function(t){var n=yr(),a={impl:t};return n.memoizedState=a,function(){if((yn&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:ji,use:Nc,useCallback:Yg,useContext:ji,useEffect:rd,useImperativeHandle:Gg,useInsertionEffect:Fg,useLayoutEffect:Hg,useMemo:Xg,useReducer:Dc,useRef:jg,useState:function(){return Dc(ss)},useDebugValue:ad,useDeferredValue:function(t,n){var a=ui();return Qg(a,Dn.memoizedState,t,n)},useTransition:function(){var t=Dc(ss)[0],n=ui().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:Tg,useId:Jg,useHostTransitionStatus:ld,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,n){var a=ui();return Ig(a,Dn,t,n)},useMemoCache:Zf,useCacheRefresh:Zg};cd.useEffectEvent=Bg;var ry={readContext:ji,use:Nc,useCallback:Yg,useContext:ji,useEffect:rd,useImperativeHandle:Gg,useInsertionEffect:Fg,useLayoutEffect:Hg,useMemo:Xg,useReducer:td,useRef:jg,useState:function(){return td(ss)},useDebugValue:ad,useDeferredValue:function(t,n){var a=ui();return Dn===null?sd(a,t,n):Qg(a,Dn.memoizedState,t,n)},useTransition:function(){var t=td(ss)[0],n=ui().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:Tg,useId:Jg,useHostTransitionStatus:ld,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,n){var a=ui();return Dn!==null?Ig(a,Dn,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Zg};ry.useEffectEvent=Bg;function hd(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:U({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Fr(),h=Us(o);h.payload=n,a!=null&&(h.callback=a),n=js(t,h,o),n!==null&&(Ir(n,t,o),cu(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Fr(),h=Us(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=js(t,h,o),n!==null&&(Ir(n,t,o),cu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Fr(),o=Us(a);o.tag=2,n!=null&&(o.callback=n),n=js(t,o,a),n!==null&&(Ir(n,t,a),cu(n,t,a))}};function ay(t,n,a,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!oe(a,o)||!oe(h,m):!0}function sy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&fd.enqueueReplaceState(n,n.state,null)}function Vo(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=U({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function oy(t){Li(t)}function ly(t){console.error(t)}function uy(t){Li(t)}function Pc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function cy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,n,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(t,n)},a}function hy(t){return t=Us(t),t.tag=3,t}function fy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){cy(n,a,o)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){cy(n,a,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function Lw(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&sl(n,a,h,!0),a=Ur.current,a!==null){switch(a.tag){case 31:case 13:return ea===null?Qc():a.alternate===null&&ai===0&&(ai=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ud(t,o,h)),!1;case 22:return a.flags|=65536,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ud(t,o,h)),!1}throw Error(s(435,a.tag))}return Ud(t,o,h),Qc(),!1}if(en)return n=Ur.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Df&&(t=Error(s(422),{cause:o}),au(Wr(t,a)))):(o!==Df&&(n=Error(s(423),{cause:o}),au(Wr(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Wr(o,a),h=dd(t.stateNode,o,h),Hf(t,h),ai!==4&&(ai=2)),!1;var m=Error(s(520),{cause:o});if(m=Wr(m,a),Au===null?Au=[m]:Au.push(m),ai!==4&&(ai=2),n===null)return!0;o=Wr(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dd(a.stateNode,o,t),Hf(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gs===null||!Gs.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=hy(h),fy(h,t,a,o),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(s(461)),mi=!1;function zi(t,n,a,o){n.child=t===null?gg(n,null,a,o):Oo(n,t.child,a,o)}function dy(t,n,a,o,h){a=a.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return Io(n),o=Kf(t,n,a,T,m,h),M=Wf(),t!==null&&!mi?($f(t,n,h),os(t,n,h)):(en&&M&&Mf(n),n.flags|=1,zi(t,n,o,h),n.child)}function my(t,n,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!Rf(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,py(t,n,m,o,h)):(t=yc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Ed(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:oe,a(T,o)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ts(m,o),t.ref=n.ref,t.return=n,n.child=t}function py(t,n,a,o,h){if(t!==null){var m=t.memoizedProps;if(oe(m,o)&&t.ref===n.ref)if(mi=!1,n.pendingProps=o=m,Ed(t,h))(t.flags&131072)!==0&&(mi=!0);else return n.lanes=t.lanes,os(t,n,h)}return pd(t,n,a,o,h)}function gy(t,n,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return yy(t,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&wc(n,m!==null?m.cachePool:null),m!==null?_g(n,m):Gf(),bg(n);else return o=n.lanes=536870912,yy(t,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(wc(n,m.cachePool),_g(n,m),Bs(),n.memoizedState=null):(t!==null&&wc(n,null),Gf(),Bs());return zi(t,n,h,a),n.child}function yu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function yy(t,n,a,o,h){var m=jf();return m=m===null?null:{parent:fi._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&wc(n,null),Gf(),bg(n),t!==null&&sl(t,n,o,!0),n.childLanes=h,null}function Lc(t,n){return n=jc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function vy(t,n,a){return Oo(n,t.child,null,a),t=Lc(n,n.pendingProps),t.flags|=2,jr(n),n.memoizedState=null,t}function Uw(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(en){if(o.mode==="hidden")return t=Lc(n,o),n.lanes=536870912,yu(null,t);if(Xf(n),(t=qn)?(t=Mv(t,Zr),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ma,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},a=tg(t),a.return=n,n.child=a,Ui=n,qn=null)):t=null,t===null)throw Vs(n);return n.lanes=536870912,null}return Lc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Xf(n),h)if(n.flags&256)n.flags&=-257,n=vy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(mi||sl(t,n,a,!1),h=(a&t.childLanes)!==0,mi||h){if(o=Pn,o!==null&&(T=ir(o,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,gr(t,T),Ir(o,t,T),md;Qc(),n=vy(t,n,a)}else t=m.treeContext,qn=ta(T.nextSibling),Ui=n,en=!0,ks=null,Zr=!1,t!==null&&rg(n,t),n=Lc(n,o),n.flags|=4096;return n}return t=ts(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Uc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function pd(t,n,a,o,h){return Io(n),a=Kf(t,n,a,o,void 0,h),o=Wf(),t!==null&&!mi?($f(t,n,h),os(t,n,h)):(en&&o&&Mf(n),n.flags|=1,zi(t,n,a,h),n.child)}function _y(t,n,a,o,h,m){return Io(n),n.updateQueue=null,a=Eg(n,o,a,h),wg(t),o=Wf(),t!==null&&!mi?($f(t,n,m),os(t,n,m)):(en&&o&&Mf(n),n.flags|=1,zi(t,n,a,m),n.child)}function by(t,n,a,o,h){if(Io(n),n.stateNode===null){var m=Lr,T=a.contextType;typeof T=="object"&&T!==null&&(m=ji(T)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=fd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Bf(n),T=a.contextType,m.context=typeof T=="object"&&T!==null?ji(T):Lr,m.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(hd(n,a,T,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&fd.enqueueReplaceState(m,m.state,null),fu(n,o,m,h),hu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,Y=Vo(a,M);m.props=Y;var le=m.context,_e=a.contextType;T=Lr,typeof _e=="object"&&_e!==null&&(T=ji(_e));var Ae=a.getDerivedStateFromProps;_e=typeof Ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,_e||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||le!==T)&&sy(n,m,o,T),Ls=!1;var fe=n.memoizedState;m.state=fe,fu(n,o,m,h),hu(),le=n.memoizedState,M||fe!==le||Ls?(typeof Ae=="function"&&(hd(n,a,Ae,o),le=n.memoizedState),(Y=Ls||ay(n,a,Y,o,fe,le,T))?(_e||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=le),m.props=o,m.state=le,m.context=T,o=Y):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Ff(t,n),T=n.memoizedProps,_e=Vo(a,T),m.props=_e,Ae=n.pendingProps,fe=m.context,le=a.contextType,Y=Lr,typeof le=="object"&&le!==null&&(Y=ji(le)),M=a.getDerivedStateFromProps,(le=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Ae||fe!==Y)&&sy(n,m,o,Y),Ls=!1,fe=n.memoizedState,m.state=fe,fu(n,o,m,h),hu();var pe=n.memoizedState;T!==Ae||fe!==pe||Ls||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof M=="function"&&(hd(n,a,M,o),pe=n.memoizedState),(_e=Ls||ay(n,a,_e,o,fe,pe,Y)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(le||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,pe,Y),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,pe,Y)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=pe),m.props=o,m.state=pe,m.context=Y,o=_e):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&fe===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Uc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Oo(n,t.child,null,h),n.child=Oo(n,null,a,h)):zi(t,n,a,h),n.memoizedState=m.state,t=n.child):t=os(t,n,h),t}function wy(t,n,a,o){return Ro(),n.flags|=256,zi(t,n,a,o),n.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:cg()}}function vd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Br),t}function Ey(t,n,a){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(li.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(en){if(h?zs(n):Bs(),(t=qn)?(t=Mv(t,Zr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ma,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},a=tg(t),a.return=n,n.child=a,Ui=n,qn=null)):t=null,t===null)throw Vs(n);return em(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,h?(Bs(),h=n.mode,M=jc({mode:"hidden",children:M},h),o=Co(o,h,a,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=yd(a),o.childLanes=vd(t,T,a),n.memoizedState=gd,yu(null,o)):(zs(n),_d(n,M))}var Y=t.memoizedState;if(Y!==null&&(M=Y.dehydrated,M!==null)){if(m)n.flags&256?(zs(n),n.flags&=-257,n=bd(t,n,a)):n.memoizedState!==null?(Bs(),n.child=t.child,n.flags|=128,n=null):(Bs(),M=o.fallback,h=n.mode,o=jc({mode:"visible",children:o.children},h),M=Co(M,h,a,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Oo(n,t.child,null,a),o=n.child,o.memoizedState=yd(a),o.childLanes=vd(t,T,a),n.memoizedState=gd,n=yu(null,o));else if(zs(n),em(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var le=T.dgst;T=le,o=Error(s(419)),o.stack="",o.digest=T,au({value:o,source:null,stack:null}),n=bd(t,n,a)}else if(mi||sl(t,n,a,!1),T=(a&t.childLanes)!==0,mi||T){if(T=Pn,T!==null&&(o=ir(T,a),o!==0&&o!==Y.retryLane))throw Y.retryLane=o,gr(t,o),Ir(T,t,o),md;Zd(M)||Qc(),n=bd(t,n,a)}else Zd(M)?(n.flags|=192,n.child=t.child,n=null):(t=Y.treeContext,qn=ta(M.nextSibling),Ui=n,en=!0,ks=null,Zr=!1,t!==null&&rg(n,t),n=_d(n,o.children),n.flags|=4096);return n}return h?(Bs(),M=o.fallback,h=n.mode,Y=t.child,le=Y.sibling,o=ts(Y,{mode:"hidden",children:o.children}),o.subtreeFlags=Y.subtreeFlags&65011712,le!==null?M=ts(le,M):(M=Co(M,h,a,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,yu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=yd(a):(h=M.cachePool,h!==null?(Y=fi._currentValue,h=h.parent!==Y?{parent:Y,pool:Y}:h):h=cg(),M={baseLanes:M.baseLanes|a,cachePool:h}),o.memoizedState=M,o.childLanes=vd(t,T,a),n.memoizedState=gd,yu(t.child,o)):(zs(n),a=t.child,t=a.sibling,a=ts(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=a,n.memoizedState=null,a)}function _d(t,n){return n=jc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function jc(t,n){return t=Ki(22,t,null,n),t.lanes=0,t}function bd(t,n,a){return Oo(n,t.child,null,a),t=_d(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ty(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Vf(t.return,n,a)}function wd(t,n,a,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function Ay(t,n,a){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=li.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Ee(li,T),zi(t,n,o,a),o=en?ru:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,n);else if(t.tag===19)Ty(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),wd(n,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Rc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}wd(n,!0,a,null,m,o);break;case"together":wd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function os(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),qs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(sl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ts(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ts(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ed(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function jw(t,n,a){switch(n.tag){case 3:mt(n,n.stateNode.containerInfo),Ps(n,fi,t.memoizedState.cache),Ro();break;case 27:case 5:kt(n);break;case 4:mt(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ey(t,n,a):(zs(n),t=os(t,n,a),t!==null?t.sibling:null);zs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(sl(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ay(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ee(li,li.current),o)break;return null;case 22:return n.lanes=0,gy(t,n,a,n.pendingProps);case 24:Ps(n,fi,t.memoizedState.cache)}return os(t,n,a)}function Sy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)mi=!0;else{if(!Ed(t,a)&&(n.flags&128)===0)return mi=!1,jw(t,n,a);mi=(t.flags&131072)!==0}else mi=!1,en&&(n.flags&1048576)!==0&&ig(n,ru,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=No(n.elementType),n.type=t,typeof t=="function")Rf(t)?(o=Vo(t,o),n.tag=1,n=by(null,n,t,o,a)):(n.tag=0,n=pd(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Xe){n.tag=11,n=dy(null,n,t,o,a);break e}else if(h===q){n.tag=14,n=my(null,n,t,o,a);break e}}throw n=Q(t)||t,Error(s(306,n,""))}}return n;case 0:return pd(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Vo(o,n.pendingProps),by(t,n,o,h,a);case 3:e:{if(mt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,Ff(t,n),fu(n,o,null,a);var T=n.memoizedState;if(o=T.cache,Ps(n,fi,o),o!==m.cache&&Pf(n,[fi],a,!0),hu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=wy(t,n,o,a);break e}else if(o!==h){h=Wr(Error(s(424)),n),au(h),n=wy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(qn=ta(t.firstChild),Ui=n,en=!0,ks=null,Zr=!0,a=gg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ro(),o===h){n=os(t,n,a);break e}zi(t,n,o,a)}n=n.child}return n;case 26:return Uc(t,n),t===null?(a=Pv(n.type,null,n.pendingProps,null))?n.memoizedState=a:en||(a=n.type,t=n.pendingProps,o=th(He.current).createElement(a),o[cn]=n,o[Qn]=t,Bi(o,a,t),Fn(o),n.stateNode=o):n.memoizedState=Pv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return kt(n),t===null&&en&&(o=n.stateNode=Ov(n.type,n.pendingProps,He.current),Ui=n,Zr=!0,h=qn,Ks(n.type)?(tm=h,qn=ta(o.firstChild)):qn=h),zi(t,n,n.pendingProps.children,a),Uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&en&&((h=o=qn)&&(o=pE(o,n.type,n.pendingProps,Zr),o!==null?(n.stateNode=o,Ui=n,qn=ta(o.firstChild),Zr=!1,h=!0):h=!1),h||Vs(n)),kt(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Wd(h,m)?o=null:T!==null&&Wd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=Kf(t,n,Mw,null,null,a),Du._currentValue=h),Uc(t,n),zi(t,n,o,a),n.child;case 6:return t===null&&en&&((t=a=qn)&&(a=gE(a,n.pendingProps,Zr),a!==null?(n.stateNode=a,Ui=n,qn=null,t=!0):t=!1),t||Vs(n)),null;case 13:return Ey(t,n,a);case 4:return mt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Oo(n,null,o,a):zi(t,n,o,a),n.child;case 11:return dy(t,n,n.type,n.pendingProps,a);case 7:return zi(t,n,n.pendingProps,a),n.child;case 8:return zi(t,n,n.pendingProps.children,a),n.child;case 12:return zi(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ps(n,n.type,o.value),zi(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Io(n),h=ji(h),o=o(h),n.flags|=1,zi(t,n,o,a),n.child;case 14:return my(t,n,n.type,n.pendingProps,a);case 15:return py(t,n,n.type,n.pendingProps,a);case 19:return Ay(t,n,a);case 31:return Uw(t,n,a);case 22:return gy(t,n,a,n.pendingProps);case 24:return Io(n),o=ji(fi),t===null?(h=jf(),h===null&&(h=Pn,m=Lf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:o,cache:h},Bf(n),Ps(n,fi,h)):((t.lanes&a)!==0&&(Ff(t,n),fu(n,null,null,a),hu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,fi,o)):(o=m.cache,Ps(n,fi,o),o!==h.cache&&Pf(n,[fi],a,!0))),zi(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ls(t){t.flags|=4}function Td(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Jy())t.flags|=8192;else throw Do=Tc,zf}else t.flags&=-16777217}function Cy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Bv(n))if(Jy())t.flags|=8192;else throw Do=Tc,zf}function zc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?gt():536870912,t.lanes|=n,vl|=n)}function vu(t,n){if(!en)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Gn(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function zw(t,n,a){var o=n.pendingProps;switch(Nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(n),null;case 1:return Gn(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),rs(fi),bt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(al(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Of())),Gn(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(ls(n),m!==null?(Gn(n),Cy(n,m)):(Gn(n),Td(n,h,null,o,a))):m?m!==t.memoizedState?(ls(n),Gn(n),Cy(n,m)):(Gn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ls(n),Gn(n),Td(n,h,t,o,a)),null;case 27:if(un(n),a=He.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Gn(n),null}t=ye.current,al(n)?ag(n):(t=Ov(h,o,a),n.stateNode=t,ls(n))}return Gn(n),null;case 5:if(un(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Gn(n),null}if(m=ye.current,al(n))ag(n);else{var T=th(He.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[cn]=n,m[Qn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Bi(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ls(n)}}return Gn(n),Td(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=He.current,al(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Ui,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[cn]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ev(t.nodeValue,a)),t||Vs(n,!0)}else t=th(t).createTextNode(o),t[cn]=n,n.stateNode=t}return Gn(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=al(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[cn]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Gn(n),t=!1}else a=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(jr(n),n):(jr(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Gn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=al(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[cn]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Gn(n),h=!1}else h=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jr(n),n):(jr(n),null)}return jr(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),zc(n,n.updateQueue),Gn(n),null);case 4:return bt(),t===null&&Gd(n.stateNode.containerInfo),Gn(n),null;case 10:return rs(n.type),Gn(n),null;case 19:if(K(li),o=n.memoizedState,o===null)return Gn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)vu(o,!1);else{if(ai!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Rc(t),m!==null){for(n.flags|=128,vu(o,!1),t=m.updateQueue,n.updateQueue=t,zc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)eg(a,t),a=a.sibling;return Ee(li,li.current&1|2),en&&ns(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Gt()>Gc&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304)}else{if(!h)if(t=Rc(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,zc(n,t),vu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!en)return Gn(n),null}else 2*Gt()-o.renderingStartTime>Gc&&a!==536870912&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Gt(),t.sibling=null,a=li.current,Ee(li,h?a&1|2:a&1),en&&ns(n,o.treeForkCount),t):(Gn(n),null);case 22:case 23:return jr(n),Yf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Gn(n),n.subtreeFlags&6&&(n.flags|=8192)):Gn(n),a=n.updateQueue,a!==null&&zc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&K(Mo),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),rs(fi),Gn(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Bw(t,n){switch(Nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(fi),bt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return un(n),null;case 31:if(n.memoizedState!==null){if(jr(n),n.alternate===null)throw Error(s(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(li),null;case 4:return bt(),null;case 10:return rs(n.type),null;case 22:case 23:return jr(n),Yf(),t!==null&&K(Mo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(fi),null;case 25:return null;default:return null}}function Ry(t,n){switch(Nf(n),n.tag){case 3:rs(fi),bt();break;case 26:case 27:case 5:un(n);break;case 4:bt();break;case 31:n.memoizedState!==null&&jr(n);break;case 13:jr(n);break;case 19:K(li);break;case 10:rs(n.type);break;case 22:case 23:jr(n),Yf(),t!==null&&K(Mo);break;case 24:rs(fi)}}function _u(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,T=a.inst;o=m(),T.destroy=o}a=a.next}while(a!==h)}}catch(M){Rn(n,n.return,M)}}function Fs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,h=n;var Y=a,le=M;try{le()}catch(_e){Rn(h,Y,_e)}}}o=o.next}while(o!==m)}}catch(_e){Rn(n,n.return,_e)}}function xy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{vg(n,a)}catch(o){Rn(t,t.return,o)}}}function Iy(t,n,a){a.props=Vo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Rn(t,n,o)}}function bu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Rn(t,n,h)}}function Da(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Rn(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Rn(t,n,h)}else a.current=null}function My(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Rn(t,t.return,h)}}function Ad(t,n,a){try{var o=t.stateNode;uE(o,t.type,a,n),o[Qn]=n}catch(h){Rn(t,t.return,h)}}function Ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=st));else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Cd(t,n,a),t=t.sibling;t!==null;)Cd(t,n,a),t=t.sibling}function Bc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bc(t,n,a),t=t.sibling;t!==null;)Bc(t,n,a),t=t.sibling}function Dy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Bi(n,o,a),n[cn]=t,n[Qn]=a}catch(m){Rn(t,t.return,m)}}var us=!1,pi=!1,Rd=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,xi=null;function Fw(t,n){if(t=t.containerInfo,Qd=lh,t=ee(t),je(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,M=-1,Y=-1,le=0,_e=0,Ae=t,fe=null;t:for(;;){for(var pe;Ae!==a||h!==0&&Ae.nodeType!==3||(M=T+h),Ae!==m||o!==0&&Ae.nodeType!==3||(Y=T+o),Ae.nodeType===3&&(T+=Ae.nodeValue.length),(pe=Ae.firstChild)!==null;)fe=Ae,Ae=pe;for(;;){if(Ae===t)break t;if(fe===a&&++le===h&&(M=T),fe===m&&++_e===o&&(Y=T),(pe=Ae.nextSibling)!==null)break;Ae=fe,fe=Ae.parentNode}Ae=pe}a=M===-1||Y===-1?null:{start:M,end:Y}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kd={focusedElem:t,selectionRange:a},lh=!1,xi=n;xi!==null;)if(n=xi,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xi=t;else for(;xi!==null;){switch(n=xi,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var ot=Vo(a.type,h);t=o.getSnapshotBeforeUpdate(ot,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Rn(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,xi=t;break}xi=n.return}}function ky(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hs(t,a),o&4&&_u(5,a);break;case 1:if(hs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){Rn(a,a.return,T)}else{var h=Vo(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Rn(a,a.return,T)}}o&64&&xy(a),o&512&&bu(a,a.return);break;case 3:if(hs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{vg(t,n)}catch(T){Rn(a,a.return,T)}}break;case 27:n===null&&o&4&&Dy(a);case 26:case 5:hs(t,a),n===null&&o&4&&My(a),o&512&&bu(a,a.return);break;case 12:hs(t,a);break;case 31:hs(t,a),o&4&&Ly(t,a);break;case 13:hs(t,a),o&4&&Uy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=$w.bind(null,a),yE(t,a))));break;case 22:if(o=a.memoizedState!==null||us,!o){n=n!==null&&n.memoizedState!==null||pi,h=us;var m=pi;us=o,(pi=n)&&!m?fs(t,a,(a.subtreeFlags&8772)!==0):hs(t,a),us=h,pi=m}break;case 30:break;default:hs(t,a)}}function Vy(t){var n=t.alternate;n!==null&&(t.alternate=null,Vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Di(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wn=null,Sr=!1;function cs(t,n,a){for(a=a.child;a!==null;)Py(t,n,a),a=a.sibling}function Py(t,n,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Qe,a)}catch{}switch(a.tag){case 26:pi||Da(a,n),cs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pi||Da(a,n);var o=Wn,h=Sr;Ks(a.type)&&(Wn=a.stateNode,Sr=!1),cs(t,n,a),Iu(a.stateNode),Wn=o,Sr=h;break;case 5:pi||Da(a,n);case 6:if(o=Wn,h=Sr,Wn=null,cs(t,n,a),Wn=o,Sr=h,Wn!==null)if(Sr)try{(Wn.nodeType===9?Wn.body:Wn.nodeName==="HTML"?Wn.ownerDocument.body:Wn).removeChild(a.stateNode)}catch(m){Rn(a,n,m)}else try{Wn.removeChild(a.stateNode)}catch(m){Rn(a,n,m)}break;case 18:Wn!==null&&(Sr?(t=Wn,xv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):xv(Wn,a.stateNode));break;case 4:o=Wn,h=Sr,Wn=a.stateNode.containerInfo,Sr=!0,cs(t,n,a),Wn=o,Sr=h;break;case 0:case 11:case 14:case 15:Fs(2,a,n),pi||Fs(4,a,n),cs(t,n,a);break;case 1:pi||(Da(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Iy(a,n,o)),cs(t,n,a);break;case 21:cs(t,n,a);break;case 22:pi=(o=pi)||a.memoizedState!==null,cs(t,n,a),pi=o;break;default:cs(t,n,a)}}function Ly(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(a){Rn(n,n.return,a)}}}function Uy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){Rn(n,n.return,a)}}function Hw(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Oy),n;default:throw Error(s(435,t.tag))}}function Fc(t,n){var a=Hw(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Jw.bind(null,t,o);o.then(h,h)}})}function Cr(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(Ks(M.type)){Wn=M.stateNode,Sr=!1;break e}break;case 5:Wn=M.stateNode,Sr=!1;break e;case 3:case 4:Wn=M.stateNode.containerInfo,Sr=!0;break e}M=M.return}if(Wn===null)throw Error(s(160));Py(m,T,h),Wn=null,Sr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jy(n,t),n=n.sibling}var ma=null;function jy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cr(n,t),Rr(t),o&4&&(Fs(3,t,t.return),_u(3,t),Fs(5,t,t.return));break;case 1:Cr(n,t),Rr(t),o&512&&(pi||a===null||Da(a,a.return)),o&64&&us&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ma;if(Cr(n,t),Rr(t),o&512&&(pi||a===null||Da(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[lr]||m[cn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Bi(m,o,a),m[cn]=t,Fn(m),o=m;break e;case"link":var T=jv("link","href",h).get(o+(a.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(M,1);break t}}m=h.createElement(o),Bi(m,o,a),h.head.appendChild(m);break;case"meta":if(T=jv("meta","content",h).get(o+(a.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(M,1);break t}}m=h.createElement(o),Bi(m,o,a),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[cn]=t,Fn(m),o=m}t.stateNode=o}else zv(h,t.type,t.stateNode);else t.stateNode=Uv(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?zv(h,t.type,t.stateNode):Uv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:Cr(n,t),Rr(t),o&512&&(pi||a===null||Da(a,a.return)),a!==null&&o&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Cr(n,t),Rr(t),o&512&&(pi||a===null||Da(a,a.return)),t.flags&32){h=t.stateNode;try{ge(h,"")}catch(ot){Rn(t,t.return,ot)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Rd=!0);break;case 6:if(Cr(n,t),Rr(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ot){Rn(t,t.return,ot)}}break;case 3:if(rh=null,h=ma,ma=nh(n.containerInfo),Cr(n,t),ma=h,Rr(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(ot){Rn(t,t.return,ot)}Rd&&(Rd=!1,zy(t));break;case 4:o=ma,ma=nh(t.stateNode.containerInfo),Cr(n,t),Rr(t),ma=o;break;case 12:Cr(n,t),Rr(t);break;case 31:Cr(n,t),Rr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 13:Cr(n,t),Rr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qc=Gt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 22:h=t.memoizedState!==null;var Y=a!==null&&a.memoizedState!==null,le=us,_e=pi;if(us=le||h,pi=_e||Y,Cr(n,t),pi=_e,us=le,Rr(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||Y||us||pi||Po(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){Y=a=n;try{if(m=Y.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=Y.stateNode;var Ae=Y.memoizedProps.style,fe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;M.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(ot){Rn(Y,Y.return,ot)}}}else if(n.tag===6){if(a===null){Y=n;try{Y.stateNode.nodeValue=h?"":Y.memoizedProps}catch(ot){Rn(Y,Y.return,ot)}}}else if(n.tag===18){if(a===null){Y=n;try{var pe=Y.stateNode;h?Iv(pe,!0):Iv(Y.stateNode,!1)}catch(ot){Rn(Y,Y.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Fc(t,a))));break;case 19:Cr(n,t),Rr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 30:break;case 21:break;default:Cr(n,t),Rr(t)}}function Rr(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ny(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Sd(t);Bc(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(ge(T,""),a.flags&=-33);var M=Sd(t);Bc(t,M,T);break;case 3:case 4:var Y=a.stateNode.containerInfo,le=Sd(t);Cd(t,le,Y);break;default:throw Error(s(161))}}catch(_e){Rn(t,t.return,_e)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ky(t,n.alternate,n),n=n.sibling}function Po(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),Po(n);break;case 1:Da(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Iy(n,n.return,a),Po(n);break;case 27:Iu(n.stateNode);case 26:case 5:Da(n,n.return),Po(n);break;case 22:n.memoizedState===null&&Po(n);break;case 30:Po(n);break;default:Po(n)}t=t.sibling}}function fs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:fs(h,m,a),_u(4,m);break;case 1:if(fs(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(le){Rn(o,o.return,le)}if(o=m,h=o.updateQueue,h!==null){var M=o.stateNode;try{var Y=h.shared.hiddenCallbacks;if(Y!==null)for(h.shared.hiddenCallbacks=null,h=0;h<Y.length;h++)yg(Y[h],M)}catch(le){Rn(o,o.return,le)}}a&&T&64&&xy(m),bu(m,m.return);break;case 27:Dy(m);case 26:case 5:fs(h,m,a),a&&o===null&&T&4&&My(m),bu(m,m.return);break;case 12:fs(h,m,a);break;case 31:fs(h,m,a),a&&T&4&&Ly(h,m);break;case 13:fs(h,m,a),a&&T&4&&Uy(h,m);break;case 22:m.memoizedState===null&&fs(h,m,a),bu(m,m.return);break;case 30:break;default:fs(h,m,a)}n=n.sibling}}function xd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&su(a))}function Id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t))}function pa(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)By(t,n,a,o),n=n.sibling}function By(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pa(t,n,a,o),h&2048&&_u(9,n);break;case 1:pa(t,n,a,o);break;case 3:pa(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t)));break;case 12:if(h&2048){pa(t,n,a,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Y){Rn(n,n.return,Y)}}else pa(t,n,a,o);break;case 31:pa(t,n,a,o);break;case 13:pa(t,n,a,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?pa(t,n,a,o):wu(t,n):m._visibility&2?pa(t,n,a,o):(m._visibility|=2,pl(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&xd(T,n);break;case 24:pa(t,n,a,o),h&2048&&Id(n.alternate,n);break;default:pa(t,n,a,o)}}function pl(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=a,Y=o,le=T.flags;switch(T.tag){case 0:case 11:case 15:pl(m,T,M,Y,h),_u(8,T);break;case 23:break;case 22:var _e=T.stateNode;T.memoizedState!==null?_e._visibility&2?pl(m,T,M,Y,h):wu(m,T):(_e._visibility|=2,pl(m,T,M,Y,h)),h&&le&2048&&xd(T.alternate,T);break;case 24:pl(m,T,M,Y,h),h&&le&2048&&Id(T.alternate,T);break;default:pl(m,T,M,Y,h)}n=n.sibling}}function wu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:wu(a,o),h&2048&&xd(o.alternate,o);break;case 24:wu(a,o),h&2048&&Id(o.alternate,o);break;default:wu(a,o)}n=n.sibling}}var Eu=8192;function gl(t,n,a){if(t.subtreeFlags&Eu)for(t=t.child;t!==null;)Fy(t,n,a),t=t.sibling}function Fy(t,n,a){switch(t.tag){case 26:gl(t,n,a),t.flags&Eu&&t.memoizedState!==null&&IE(a,ma,t.memoizedState,t.memoizedProps);break;case 5:gl(t,n,a);break;case 3:case 4:var o=ma;ma=nh(t.stateNode.containerInfo),gl(t,n,a),ma=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Eu,Eu=16777216,gl(t,n,a),Eu=o):gl(t,n,a));break;default:gl(t,n,a)}}function Hy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];xi=o,Gy(o,t)}Hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 0:case 11:case 15:Tu(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:Tu(t);break;case 12:Tu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Hc(t)):Tu(t);break;default:Tu(t)}}function Hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];xi=o,Gy(o,t)}Hy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),Hc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(n));break;default:Hc(n)}t=t.sibling}}function Gy(t,n){for(;xi!==null;){var a=xi;switch(a.tag){case 0:case 11:case 15:Fs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:su(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,xi=o;else e:for(a=t;xi!==null;){o=xi;var h=o.sibling,m=o.return;if(Vy(o),o===a){xi=null;break e}if(h!==null){h.return=m,xi=h;break e}xi=m}}}var qw={getCacheForType:function(t){var n=ji(fi),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ji(fi).controller.signal}},Gw=typeof WeakMap=="function"?WeakMap:Map,yn=0,Pn=null,Ht=null,Xt=0,Cn=0,zr=null,Hs=!1,yl=!1,Md=!1,ds=0,ai=0,qs=0,Lo=0,Nd=0,Br=0,vl=0,Au=null,xr=null,Dd=!1,qc=0,Yy=0,Gc=1/0,Yc=null,Gs=null,Ai=0,Ys=null,_l=null,ms=0,Od=0,kd=null,Xy=null,Su=0,Vd=null;function Fr(){return(yn&2)!==0&&Xt!==0?Xt&-Xt:G.T!==null?Bd():ba()}function Qy(){if(Br===0)if((Xt&536870912)===0||en){var t=Jn;Jn<<=1,(Jn&3932160)===0&&(Jn=262144),Br=t}else Br=536870912;return t=Ur.current,t!==null&&(t.flags|=32),Br}function Ir(t,n,a){(t===Pn&&(Cn===2||Cn===9)||t.cancelPendingCommit!==null)&&(bl(t,0),Xs(t,Xt,Br,!1)),xt(t,a),((yn&2)===0||t!==Pn)&&(t===Pn&&((yn&2)===0&&(Lo|=a),ai===4&&Xs(t,Xt,Br,!1)),Oa(t))}function Ky(t,n,a){if((yn&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||vn(t,n),h=o?Qw(t,n):Ld(t,n,!0),m=o;do{if(h===0){yl&&!o&&Xs(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!Yw(a)){h=Ld(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;h=Au;var Y=M.current.memoizedState.isDehydrated;if(Y&&(bl(M,T).flags|=256),T=Ld(M,T,!1),T!==2){if(Md&&!Y){M.errorRecoveryDisabledLanes|=m,Lo|=m,h=4;break e}m=xr,xr=h,m!==null&&(xr===null?xr=m:xr.push.apply(xr,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){bl(t,0),Xs(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Xs(o,n,Br,!Hs);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=qc+300-Gt(),10<h)){if(Xs(o,n,Br,!Hs),Un(o,0,!0)!==0)break e;ms=n,o.timeoutHandle=Cv(Wy.bind(null,o,a,xr,Yc,Dd,n,Br,Lo,vl,Hs,m,"Throttled",-0,0),h);break e}Wy(o,a,xr,Yc,Dd,n,Br,Lo,vl,Hs,m,null,-0,0)}}break}while(!0);Oa(t)}function Wy(t,n,a,o,h,m,T,M,Y,le,_e,Ae,fe,pe){if(t.timeoutHandle=-1,Ae=n.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:st},Fy(n,m,Ae);var ot=(m&62914560)===m?qc-Gt():(m&4194048)===m?Yy-Gt():0;if(ot=ME(Ae,ot),ot!==null){ms=m,t.cancelPendingCommit=ot(rv.bind(null,t,n,m,a,o,h,T,M,Y,_e,Ae,null,fe,pe)),Xs(t,m,T,!le);return}}rv(t,n,m,a,o,h,T,M,Y)}function Yw(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!ce(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(t,n,a,o){n&=~Nd,n&=~Lo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-rt(h),T=1<<m;o[m]=-1,h&=~T}a!==0&&nr(t,a,n)}function Xc(){return(yn&6)===0?(Cu(0),!1):!0}function Pd(){if(Ht!==null){if(Cn===0)var t=Ht.return;else t=Ht,is=xo=null,Jf(t),cl=null,lu=0,t=Ht;for(;t!==null;)Ry(t.alternate,t),t=t.return;Ht=null}}function bl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ms=0,Pd(),Pn=t,Ht=a=ts(t.current,null),Xt=n,Cn=0,zr=null,Hs=!1,yl=vn(t,n),Md=!1,vl=Br=Nd=Lo=qs=ai=0,xr=Au=null,Dd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-rt(o),m=1<<h;n|=t[h],o&=~m}return ds=n,xa(),a}function $y(t,n){Pt=null,G.H=gu,n===ul||n===Ec?(n=dg(),Cn=3):n===zf?(n=dg(),Cn=4):Cn=n===md?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zr=n,Ht===null&&(ai=1,Pc(t,Wr(n,t.current)))}function Jy(){var t=Ur.current;return t===null?!0:(Xt&4194048)===Xt?ea===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?t===ea:!1}function Zy(){var t=G.H;return G.H=gu,t===null?gu:t}function ev(){var t=G.A;return G.A=qw,t}function Qc(){ai=4,Hs||(Xt&4194048)!==Xt&&Ur.current!==null||(yl=!0),(qs&134217727)===0&&(Lo&134217727)===0||Pn===null||Xs(Pn,Xt,Br,!1)}function Ld(t,n,a){var o=yn;yn|=2;var h=Zy(),m=ev();(Pn!==t||Xt!==n)&&(Yc=null,bl(t,n)),n=!1;var T=ai;e:do try{if(Cn!==0&&Ht!==null){var M=Ht,Y=zr;switch(Cn){case 8:Pd(),T=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(n=!0);var le=Cn;if(Cn=0,zr=null,wl(t,M,Y,le),a&&yl){T=0;break e}break;default:le=Cn,Cn=0,zr=null,wl(t,M,Y,le)}}Xw(),T=ai;break}catch(_e){$y(t,_e)}while(!0);return n&&t.shellSuspendCounter++,is=xo=null,yn=o,G.H=h,G.A=m,Ht===null&&(Pn=null,Xt=0,xa()),T}function Xw(){for(;Ht!==null;)tv(Ht)}function Qw(t,n){var a=yn;yn|=2;var o=Zy(),h=ev();Pn!==t||Xt!==n?(Yc=null,Gc=Gt()+500,bl(t,n)):yl=vn(t,n);e:do try{if(Cn!==0&&Ht!==null){n=Ht;var m=zr;t:switch(Cn){case 1:Cn=0,zr=null,wl(t,n,m,1);break;case 2:case 9:if(hg(m)){Cn=0,zr=null,nv(n);break}n=function(){Cn!==2&&Cn!==9||Pn!==t||(Cn=7),Oa(t)},m.then(n,n);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:hg(m)?(Cn=0,zr=null,nv(n)):(Cn=0,zr=null,wl(t,n,m,7));break;case 5:var T=null;switch(Ht.tag){case 26:T=Ht.memoizedState;case 5:case 27:var M=Ht;if(T?Bv(T):M.stateNode.complete){Cn=0,zr=null;var Y=M.sibling;if(Y!==null)Ht=Y;else{var le=M.return;le!==null?(Ht=le,Kc(le)):Ht=null}break t}}Cn=0,zr=null,wl(t,n,m,5);break;case 6:Cn=0,zr=null,wl(t,n,m,6);break;case 8:Pd(),ai=6;break e;default:throw Error(s(462))}}Kw();break}catch(_e){$y(t,_e)}while(!0);return is=xo=null,G.H=o,G.A=h,yn=a,Ht!==null?0:(Pn=null,Xt=0,xa(),ai)}function Kw(){for(;Ht!==null&&!Gi();)tv(Ht)}function tv(t){var n=Sy(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?Kc(t):Ht=n}function nv(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=_y(a,n,n.pendingProps,n.type,void 0,Xt);break;case 11:n=_y(a,n,n.pendingProps,n.type.render,n.ref,Xt);break;case 5:Jf(n);default:Ry(a,n),n=Ht=eg(n,ds),n=Sy(a,n,ds)}t.memoizedProps=t.pendingProps,n===null?Kc(t):Ht=n}function wl(t,n,a,o){is=xo=null,Jf(n),cl=null,lu=0;var h=n.return;try{if(Lw(t,h,n,a,Xt)){ai=1,Pc(t,Wr(a,t.current)),Ht=null;return}}catch(m){if(h!==null)throw Ht=h,m;ai=1,Pc(t,Wr(a,t.current)),Ht=null;return}n.flags&32768?(en||o===1?t=!0:yl||(Xt&536870912)!==0?t=!1:(Hs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Ur.current,o!==null&&o.tag===13&&(o.flags|=16384))),iv(n,t)):Kc(n)}function Kc(t){var n=t;do{if((n.flags&32768)!==0){iv(n,Hs);return}t=n.return;var a=zw(n.alternate,n,ds);if(a!==null){Ht=a;return}if(n=n.sibling,n!==null){Ht=n;return}Ht=n=t}while(n!==null);ai===0&&(ai=5)}function iv(t,n){do{var a=Bw(t.alternate,t);if(a!==null){a.flags&=32767,Ht=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ht=t;return}Ht=t=a}while(t!==null);ai=6,Ht=null}function rv(t,n,a,o,h,m,T,M,Y){t.cancelPendingCommit=null;do Wc();while(Ai!==0);if((yn&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=nl,tr(t,a,m,T,M,Y),t===Pn&&(Ht=Pn=null,Xt=0),_l=n,Ys=t,ms=a,Od=m,kd=h,Xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Zw(v,function(){return uv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=te.p,te.p=2,T=yn,yn|=4;try{Fw(t,n,a)}finally{yn=T,te.p=h,G.T=o}}Ai=1,av(),sv(),ov()}}function av(){if(Ai===1){Ai=0;var t=Ys,n=_l,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=te.p;te.p=2;var h=yn;yn|=4;try{jy(n,t);var m=Kd,T=ee(t.containerInfo),M=m.focusedElem,Y=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&at(M.ownerDocument.documentElement,M)){if(Y!==null&&je(M)){var le=Y.start,_e=Y.end;if(_e===void 0&&(_e=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(_e,M.value.length);else{var Ae=M.ownerDocument||document,fe=Ae&&Ae.defaultView||window;if(fe.getSelection){var pe=fe.getSelection(),ot=M.textContent.length,_t=Math.min(Y.start,ot),kn=Y.end===void 0?_t:Math.min(Y.end,ot);!pe.extend&&_t>kn&&(T=kn,kn=_t,_t=T);var ne=Ke(M,_t),X=Ke(M,kn);if(ne&&X&&(pe.rangeCount!==1||pe.anchorNode!==ne.node||pe.anchorOffset!==ne.offset||pe.focusNode!==X.node||pe.focusOffset!==X.offset)){var se=Ae.createRange();se.setStart(ne.node,ne.offset),pe.removeAllRanges(),_t>kn?(pe.addRange(se),pe.extend(X.node,X.offset)):(se.setEnd(X.node,X.offset),pe.addRange(se))}}}}for(Ae=[],pe=M;pe=pe.parentNode;)pe.nodeType===1&&Ae.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ae.length;M++){var Te=Ae[M];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}lh=!!Qd,Kd=Qd=null}finally{yn=h,te.p=o,G.T=a}}t.current=n,Ai=2}}function sv(){if(Ai===2){Ai=0;var t=Ys,n=_l,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=te.p;te.p=2;var h=yn;yn|=4;try{ky(t,n.alternate,n)}finally{yn=h,te.p=o,G.T=a}}Ai=3}}function ov(){if(Ai===4||Ai===3){Ai=0,$n();var t=Ys,n=_l,a=ms,o=Xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ai=5:(Ai=0,_l=Ys=null,lv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gs=null),Ye(a),n=n.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Qe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=te.p,te.p=2,G.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{G.T=n,te.p=h}}(ms&3)!==0&&Wc(),Oa(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Vd?Su++:(Su=0,Vd=t):Su=0,Cu(0)}}function lv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,su(n)))}function Wc(){return av(),sv(),ov(),uv()}function uv(){if(Ai!==5)return!1;var t=Ys,n=Od;Od=0;var a=Ye(ms),o=G.T,h=te.p;try{te.p=32>a?32:a,G.T=null,a=kd,kd=null;var m=Ys,T=ms;if(Ai=0,_l=Ys=null,ms=0,(yn&6)!==0)throw Error(s(331));var M=yn;if(yn|=4,qy(m.current),By(m,m.current,T,a),yn=M,Cu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Qe,m)}catch{}return!0}finally{te.p=h,G.T=o,lv(t,n)}}function cv(t,n,a){n=Wr(a,n),n=dd(t.stateNode,n,2),t=js(t,n,2),t!==null&&(xt(t,2),Oa(t))}function Rn(t,n,a){if(t.tag===3)cv(t,t,a);else for(;n!==null;){if(n.tag===3){cv(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gs===null||!Gs.has(o))){t=Wr(a,t),a=hy(2),o=js(n,a,2),o!==null&&(fy(a,o,n,t),xt(o,2),Oa(o));break}}n=n.return}}function Ud(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Gw;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Md=!0,h.add(a),t=Ww.bind(null,t,n,a),n.then(t,t))}function Ww(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Pn===t&&(Xt&a)===a&&(ai===4||ai===3&&(Xt&62914560)===Xt&&300>Gt()-qc?(yn&2)===0&&bl(t,0):Nd|=a,vl===Xt&&(vl=0)),Oa(t)}function hv(t,n){n===0&&(n=gt()),t=gr(t,n),t!==null&&(xt(t,n),Oa(t))}function $w(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),hv(t,a)}function Jw(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),hv(t,a)}function Zw(t,n){return sn(t,n)}var $c=null,El=null,jd=!1,Jc=!1,zd=!1,Qs=0;function Oa(t){t!==El&&t.next===null&&(El===null?$c=El=t:El=El.next=t),Jc=!0,jd||(jd=!0,tE())}function Cu(t,n){if(!zd&&Jc){zd=!0;do for(var a=!1,o=$c;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-rt(42|t)+1)-1,m&=h&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,pv(o,m))}else m=Xt,m=Un(o,o===Pn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||vn(o,m)||(a=!0,pv(o,m));o=o.next}while(a);zd=!1}}function eE(){fv()}function fv(){Jc=jd=!1;var t=0;Qs!==0&&hE()&&(t=Qs);for(var n=Gt(),a=null,o=$c;o!==null;){var h=o.next,m=dv(o,n);m===0?(o.next=null,a===null?$c=h:a.next=h,h===null&&(El=a)):(a=o,(t!==0||(m&3)!==0)&&(Jc=!0)),o=h}Ai!==0&&Ai!==5||Cu(t),Qs!==0&&(Qs=0)}function dv(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-rt(m),M=1<<T,Y=h[T];Y===-1?((M&a)===0||(M&o)!==0)&&(h[T]=Ni(M,n)):Y<=n&&(t.expiredLanes|=M),m&=~M}if(n=Pn,a=Xt,a=Un(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Cn===2||Cn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&mn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||vn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&mn(o),Ye(a)){case 2:case 8:a=g;break;case 32:a=v;break;case 268435456:a=W;break;default:a=v}return o=mv.bind(null,t),a=sn(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&mn(o),t.callbackPriority=2,t.callbackNode=null,2}function mv(t,n){if(Ai!==0&&Ai!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Wc()&&t.callbackNode!==a)return null;var o=Xt;return o=Un(t,t===Pn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ky(t,o,n),dv(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?mv.bind(null,t):null)}function pv(t,n){if(Wc())return null;Ky(t,n,!0)}function tE(){dE(function(){(yn&6)!==0?sn(C,eE):fv()})}function Bd(){if(Qs===0){var t=ol;t===0&&(t=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),Qs=t}return Qs}function gv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Le(""+t)}function yv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function nE(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var m=gv((h[Qn]||null).action),T=o.submitter;T&&(n=(n=T[Qn]||null)?gv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new Qr("action","action",null,o,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var Y=T?yv(h,T):new FormData(h);od(a,{pending:!0,data:Y,method:h.method,action:m},null,Y)}}else typeof m=="function"&&(M.preventDefault(),Y=T?yv(h,T):new FormData(h),od(a,{pending:!0,data:Y,method:h.method,action:m},m,Y))},currentTarget:h}]})}}for(var Fd=0;Fd<pr.length;Fd++){var Hd=pr[Fd],iE=Hd.toLowerCase(),rE=Hd[0].toUpperCase()+Hd.slice(1);wn(iE,"on"+rE)}wn(De,"onAnimationEnd"),wn(qe,"onAnimationIteration"),wn(jt,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Yt,"onTransitionRun"),wn(Ot,"onTransitionStart"),wn(Ft,"onTransitionCancel"),wn(rn,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function vv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],Y=M.instance,le=M.currentTarget;if(M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(_e){Li(_e)}h.currentTarget=null,m=Y}else for(T=0;T<o.length;T++){if(M=o[T],Y=M.instance,le=M.currentTarget,M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(_e){Li(_e)}h.currentTarget=null,m=Y}}}}function qt(t,n){var a=n[Nr];a===void 0&&(a=n[Nr]=new Set);var o=t+"__bubble";a.has(o)||(_v(n,t,2,!1),a.add(o))}function qd(t,n,a){var o=0;n&&(o|=4),_v(a,t,o,n)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Zc]){t[Zc]=!0,la.forEach(function(a){a!=="selectionchange"&&(aE.has(a)||qd(a,!1,t),qd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Zc]||(n[Zc]=!0,qd("selectionchange",!1,n))}}function _v(t,n,a,o){switch(Qv(n)){case 2:var h=OE;break;case 8:h=kE;break;default:h=sm}a=h.bind(null,n,a,t),h=void 0,!Yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Yd(t,n,a,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===h)break;if(T===4)for(T=o.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;M!==null;){if(T=ur(M),T===null)return;if(Y=T.tag,Y===5||Y===6||Y===26||Y===27){o=m=T;continue e}M=M.parentNode}}o=o.return}br(function(){var le=m,_e=Mn(a),Ae=[];e:{var fe=ln.get(t);if(fe!==void 0){var pe=Qr,ot=t;switch(t){case"keypress":if(ca(a)===0)break e;case"keydown":case"keyup":pe=To;break;case"focusin":ot="focus",pe=Ca;break;case"focusout":ot="blur",pe=Ca;break;case"beforeblur":case"afterblur":pe=Ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=y;break;case De:case qe:case jt:pe=Wo;break;case rn:pe=O;break;case"scroll":case"scrollend":pe=Eo;break;case"wheel":pe=de;break;case"copy":case"cut":case"paste":pe=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=fa;break;case"toggle":case"beforetoggle":pe=St}var _t=(n&4)!==0,kn=!_t&&(t==="scroll"||t==="scrollend"),ne=_t?fe!==null?fe+"Capture":null:fe;_t=[];for(var X=le,se;X!==null;){var Te=X;if(se=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||se===null||ne===null||(Te=Vi(X,ne),Te!=null&&_t.push(xu(X,Te,se))),kn)break;X=X.return}0<_t.length&&(fe=new pe(fe,ot,null,a,_e),Ae.push({event:fe,listeners:_t}))}}if((n&7)===0){e:{if(fe=t==="mouseover"||t==="pointerover",pe=t==="mouseout"||t==="pointerout",fe&&a!==Sn&&(ot=a.relatedTarget||a.fromElement)&&(ur(ot)||ot[or]))break e;if((pe||fe)&&(fe=_e.window===_e?_e:(fe=_e.ownerDocument)?fe.defaultView||fe.parentWindow:window,pe?(ot=a.relatedTarget||a.toElement,pe=le,ot=ot?ur(ot):null,ot!==null&&(kn=c(ot),_t=ot.tag,ot!==kn||_t!==5&&_t!==27&&_t!==6)&&(ot=null)):(pe=null,ot=le),pe!==ot)){if(_t=xs,Te="onMouseLeave",ne="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(_t=fa,Te="onPointerLeave",ne="onPointerEnter",X="pointer"),kn=pe==null?fe:_i(pe),se=ot==null?fe:_i(ot),fe=new _t(Te,X+"leave",pe,a,_e),fe.target=kn,fe.relatedTarget=se,Te=null,ur(_e)===le&&(_t=new _t(ne,X+"enter",ot,a,_e),_t.target=se,_t.relatedTarget=kn,Te=_t),kn=Te,pe&&ot)t:{for(_t=sE,ne=pe,X=ot,se=0,Te=ne;Te;Te=_t(Te))se++;Te=0;for(var yt=X;yt;yt=_t(yt))Te++;for(;0<se-Te;)ne=_t(ne),se--;for(;0<Te-se;)X=_t(X),Te--;for(;se--;){if(ne===X||X!==null&&ne===X.alternate){_t=ne;break t}ne=_t(ne),X=_t(X)}_t=null}else _t=null;pe!==null&&bv(Ae,fe,pe,_t,!1),ot!==null&&kn!==null&&bv(Ae,kn,ot,_t,!0)}}e:{if(fe=le?_i(le):window,pe=fe.nodeName&&fe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&fe.type==="file")var fn=tu;else if(eu(fe))if(nu)fn=J;else{fn=N;var lt=S}else pe=fe.nodeName,!pe||pe.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?le&&Ze(le.elementType)&&(fn=tu):fn=B;if(fn&&(fn=fn(t,le))){Hn(Ae,fn,a,_e);break e}lt&&lt(t,fe,le),t==="focusout"&&le&&fe.type==="number"&&le.memoizedProps.value!=null&&Ta(fe,"number",fe.value)}switch(lt=le?_i(le):window,t){case"focusin":(eu(lt)||lt.contentEditable==="true")&&(ze=lt,hn=le,We=null);break;case"focusout":We=hn=ze=null;break;case"mousedown":Ut=!0;break;case"contextmenu":case"mouseup":case"dragend":Ut=!1,bn(Ae,a,_e);break;case"selectionchange":if(tt)break;case"keydown":case"keyup":bn(Ae,a,_e)}var Lt;if(on)e:{switch(t){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else $a?Kr(t,a)&&(Qt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Qt="onCompositionStart");Qt&&(Er&&a.locale!=="ko"&&($a||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&$a&&(Lt=Aa()):(Xr=_e,Xi="value"in Xr?Xr.value:Xr.textContent,$a=!0)),lt=eh(le,Qt),0<lt.length&&(Qt=new Vr(Qt,t,null,a,_e),Ae.push({event:Qt,listeners:lt}),Lt?Qt.data=Lt:(Lt=Wa(a),Lt!==null&&(Qt.data=Lt)))),(Lt=Qi?Sf(t,a):pc(t,a))&&(Qt=eh(le,"onBeforeInput"),0<Qt.length&&(lt=new Vr("onBeforeInput","beforeinput",null,a,_e),Ae.push({event:lt,listeners:Qt}),lt.data=Lt)),nE(Ae,t,le,a,_e)}vv(Ae,n)})}function xu(t,n,a){return{instance:t,listener:n,currentTarget:a}}function eh(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Vi(t,a),h!=null&&o.unshift(xu(t,h,m)),h=Vi(t,n),h!=null&&o.push(xu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function sE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bv(t,n,a,o,h){for(var m=n._reactName,T=[];a!==null&&a!==o;){var M=a,Y=M.alternate,le=M.stateNode;if(M=M.tag,Y!==null&&Y===o)break;M!==5&&M!==26&&M!==27||le===null||(Y=le,h?(le=Vi(a,m),le!=null&&T.unshift(xu(a,le,Y))):h||(le=Vi(a,m),le!=null&&T.push(xu(a,le,Y)))),a=a.return}T.length!==0&&t.push({event:n,listeners:T})}var oE=/\r\n?/g,lE=/\u0000|\uFFFD/g;function wv(t){return(typeof t=="string"?t:""+t).replace(oE,`
`).replace(lE,"")}function Ev(t,n){return n=wv(n),wv(t)===n}function On(t,n,a,o,h,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ge(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ge(t,""+o);break;case"className":bi(t,"class",o);break;case"tabIndex":bi(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(t,a,o);break;case"style":Fe(t,o,m);break;case"data":if(n!=="object"){bi(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Le(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&On(t,n,"name",h.name,h,null),On(t,n,"formEncType",h.formEncType,h,null),On(t,n,"formMethod",h.formMethod,h,null),On(t,n,"formTarget",h.formTarget,h,null)):(On(t,n,"encType",h.encType,h,null),On(t,n,"method",h.method,h,null),On(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Le(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=st);break;case"onScroll":o!=null&&qt("scroll",t);break;case"onScrollEnd":o!=null&&qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Le(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":qt("beforetoggle",t),qt("toggle",t),vr(t,"popover",o);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":vr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pe.get(a)||a,vr(t,a,o))}}function Xd(t,n,a,o,h,m){switch(a){case"style":Fe(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ge(t,o):(typeof o=="number"||typeof o=="bigint")&&ge(t,""+o);break;case"onScroll":o!=null&&qt("scroll",t);break;case"onScrollEnd":o!=null&&qt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=st);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ci.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=t[Qn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):vr(t,a,o)}}}function Bi(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",t),qt("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:On(t,n,m,T,a,null)}}h&&On(t,n,"srcSet",a.srcSet,a,null),o&&On(t,n,"src",a.src,a,null);return;case"input":qt("invalid",t);var M=m=T=h=null,Y=null,le=null;for(o in a)if(a.hasOwnProperty(o)){var _e=a[o];if(_e!=null)switch(o){case"name":h=_e;break;case"type":T=_e;break;case"checked":Y=_e;break;case"defaultChecked":le=_e;break;case"value":m=_e;break;case"defaultValue":M=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,n));break;default:On(t,n,o,_e,a,null)}}Ga(t,m,M,Y,le,T,h,!1);return;case"select":qt("invalid",t),o=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(M=a[h],M!=null))switch(h){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:On(t,n,h,M,a,null)}n=m,a=T,t.multiple=!!o,n!=null?tn(t,!!o,n,!1):a!=null&&tn(t,!!o,a,!0);return;case"textarea":qt("invalid",t),m=h=o=null;for(T in a)if(a.hasOwnProperty(T)&&(M=a[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":h=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:On(t,n,T,M,a,null)}ue(t,o,h,m);return;case"option":for(Y in a)if(a.hasOwnProperty(Y)&&(o=a[Y],o!=null))switch(Y){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:On(t,n,Y,o,a,null)}return;case"dialog":qt("beforetoggle",t),qt("toggle",t),qt("cancel",t),qt("close",t);break;case"iframe":case"object":qt("load",t);break;case"video":case"audio":for(o=0;o<Ru.length;o++)qt(Ru[o],t);break;case"image":qt("error",t),qt("load",t);break;case"details":qt("toggle",t);break;case"embed":case"source":case"link":qt("error",t),qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in a)if(a.hasOwnProperty(le)&&(o=a[le],o!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:On(t,n,le,o,a,null)}return;default:if(Ze(n)){for(_e in a)a.hasOwnProperty(_e)&&(o=a[_e],o!==void 0&&Xd(t,n,_e,o,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!=null&&On(t,n,M,o,a,null))}function uE(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,M=null,Y=null,le=null,_e=null;for(pe in a){var Ae=a[pe];if(a.hasOwnProperty(pe)&&Ae!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":Y=Ae;default:o.hasOwnProperty(pe)||On(t,n,pe,null,o,Ae)}}for(var fe in o){var pe=o[fe];if(Ae=a[fe],o.hasOwnProperty(fe)&&(pe!=null||Ae!=null))switch(fe){case"type":m=pe;break;case"name":h=pe;break;case"checked":le=pe;break;case"defaultChecked":_e=pe;break;case"value":T=pe;break;case"defaultValue":M=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,n));break;default:pe!==Ae&&On(t,n,fe,pe,o,Ae)}}Gr(t,T,M,Y,le,_e,m,h);return;case"select":pe=T=M=fe=null;for(m in a)if(Y=a[m],a.hasOwnProperty(m)&&Y!=null)switch(m){case"value":break;case"multiple":pe=Y;default:o.hasOwnProperty(m)||On(t,n,m,null,o,Y)}for(h in o)if(m=o[h],Y=a[h],o.hasOwnProperty(h)&&(m!=null||Y!=null))switch(h){case"value":fe=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==Y&&On(t,n,h,m,o,Y)}n=M,a=T,o=pe,fe!=null?tn(t,!!a,fe,!1):!!o!=!!a&&(n!=null?tn(t,!!a,n,!0):tn(t,!!a,a?[]:"",!1));return;case"textarea":pe=fe=null;for(M in a)if(h=a[M],a.hasOwnProperty(M)&&h!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:On(t,n,M,null,o,h)}for(T in o)if(h=o[T],m=a[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":fe=h;break;case"defaultValue":pe=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&On(t,n,T,h,o,m)}$(t,fe,pe);return;case"option":for(var ot in a)if(fe=a[ot],a.hasOwnProperty(ot)&&fe!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:On(t,n,ot,null,o,fe)}for(Y in o)if(fe=o[Y],pe=a[Y],o.hasOwnProperty(Y)&&fe!==pe&&(fe!=null||pe!=null))switch(Y){case"selected":t.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:On(t,n,Y,fe,o,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)fe=a[_t],a.hasOwnProperty(_t)&&fe!=null&&!o.hasOwnProperty(_t)&&On(t,n,_t,null,o,fe);for(le in o)if(fe=o[le],pe=a[le],o.hasOwnProperty(le)&&fe!==pe&&(fe!=null||pe!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,n));break;default:On(t,n,le,fe,o,pe)}return;default:if(Ze(n)){for(var kn in a)fe=a[kn],a.hasOwnProperty(kn)&&fe!==void 0&&!o.hasOwnProperty(kn)&&Xd(t,n,kn,void 0,o,fe);for(_e in o)fe=o[_e],pe=a[_e],!o.hasOwnProperty(_e)||fe===pe||fe===void 0&&pe===void 0||Xd(t,n,_e,fe,o,pe);return}}for(var ne in a)fe=a[ne],a.hasOwnProperty(ne)&&fe!=null&&!o.hasOwnProperty(ne)&&On(t,n,ne,null,o,fe);for(Ae in o)fe=o[Ae],pe=a[Ae],!o.hasOwnProperty(Ae)||fe===pe||fe==null&&pe==null||On(t,n,Ae,fe,o,pe)}function Tv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,T=h.initiatorType,M=h.duration;if(m&&M&&Tv(T)){for(T=0,M=h.responseEnd,o+=1;o<a.length;o++){var Y=a[o],le=Y.startTime;if(le>M)break;var _e=Y.transferSize,Ae=Y.initiatorType;_e&&Tv(Ae)&&(Y=Y.responseEnd,T+=_e*(Y<M?1:(M-le)/(Y-le)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Kd=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function Av(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Wd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $d=null;function hE(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,fE=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(t){return Rv.resolve(null).then(t).catch(mE)}:Cv;function mE(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function xv(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Cl(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Iu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Iu(a);for(var m=a.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[lr]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&Iu(t.ownerDocument.body);a=h}while(a);Cl(n)}function Iv(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Jd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),Di(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pE(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[lr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ta(t.nextSibling),t===null)break}return null}function gE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ta(t.nextSibling),t===null))return null;return t}function Mv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ta(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ta(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var tm=null;function Nv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ta(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Dv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Ov(t,n,a){switch(n=th(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Iu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Di(t)}var na=new Map,kv=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=te.d;te.d={f:vE,r:_E,D:bE,C:wE,L:EE,m:TE,X:SE,S:AE,M:CE};function vE(){var t=ps.f(),n=Xc();return t||n}function _E(t){var n=Yi(t);n!==null&&n.tag===5&&n.type==="form"?$g(n):ps.r(t)}var Tl=typeof document>"u"?null:document;function Vv(t,n,a){var o=Tl;if(o&&typeof n=="string"&&n){var h=In(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),kv.has(h)||(kv.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Bi(n,"link",t),Fn(n),o.head.appendChild(n)))}}function bE(t){ps.D(t),Vv("dns-prefetch",t,null)}function wE(t,n){ps.C(t,n),Vv("preconnect",t,n)}function EE(t,n,a){ps.L(t,n,a);var o=Tl;if(o&&t&&n){var h='link[rel="preload"][as="'+In(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+In(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+In(a.imageSizes)+'"]')):h+='[href="'+In(t)+'"]';var m=h;switch(n){case"style":m=Al(t);break;case"script":m=Sl(t)}na.has(m)||(t=U({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),na.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Mu(m))||n==="script"&&o.querySelector(Nu(m))||(n=o.createElement("link"),Bi(n,"link",t),Fn(n),o.head.appendChild(n)))}}function TE(t,n){ps.m(t,n);var a=Tl;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+In(o)+'"][href="'+In(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Sl(t)}if(!na.has(m)&&(t=U({rel:"modulepreload",href:t},n),na.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nu(m)))return}o=a.createElement("link"),Bi(o,"link",t),Fn(o),a.head.appendChild(o)}}}function AE(t,n,a){ps.S(t,n,a);var o=Tl;if(o&&t){var h=Oi(o).hoistableStyles,m=Al(t);n=n||"default";var T=h.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Mu(m)))M.loading=5;else{t=U({rel:"stylesheet",href:t,"data-precedence":n},a),(a=na.get(m))&&nm(t,a);var Y=T=o.createElement("link");Fn(Y),Bi(Y,"link",t),Y._p=new Promise(function(le,_e){Y.onload=le,Y.onerror=_e}),Y.addEventListener("load",function(){M.loading|=1}),Y.addEventListener("error",function(){M.loading|=2}),M.loading|=4,ih(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},h.set(m,T)}}}function SE(t,n){ps.X(t,n);var a=Tl;if(a&&t){var o=Oi(a).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=a.querySelector(Nu(h)),m||(t=U({src:t,async:!0},n),(n=na.get(h))&&im(t,n),m=a.createElement("script"),Fn(m),Bi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function CE(t,n){ps.M(t,n);var a=Tl;if(a&&t){var o=Oi(a).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=a.querySelector(Nu(h)),m||(t=U({src:t,async:!0,type:"module"},n),(n=na.get(h))&&im(t,n),m=a.createElement("script"),Fn(m),Bi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Pv(t,n,a,o){var h=(h=He.current)?nh(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Al(a.href),a=Oi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Al(a.href);var m=Oi(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Mu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),na.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},na.set(t,a),m||RE(h,t,a,T.state))),n&&o===null)throw Error(s(528,""));return T}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(a),a=Oi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Al(t){return'href="'+In(t)+'"'}function Mu(t){return'link[rel="stylesheet"]['+t+"]"}function Lv(t){return U({},t,{"data-precedence":t.precedence,precedence:null})}function RE(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Bi(n,"link",a),Fn(n),t.head.appendChild(n))}function Sl(t){return'[src="'+In(t)+'"]'}function Nu(t){return"script[async]"+t}function Uv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+In(a.href)+'"]');if(o)return n.instance=o,Fn(o),o;var h=U({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Fn(o),Bi(o,"style",h),ih(o,a.precedence,t),n.instance=o;case"stylesheet":h=Al(a.href);var m=t.querySelector(Mu(h));if(m)return n.state.loading|=4,n.instance=m,Fn(m),m;o=Lv(a),(h=na.get(h))&&nm(o,h),m=(t.ownerDocument||t).createElement("link"),Fn(m);var T=m;return T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Bi(m,"link",o),n.state.loading|=4,ih(m,a.precedence,t),n.instance=m;case"script":return m=Sl(a.src),(h=t.querySelector(Nu(m)))?(n.instance=h,Fn(h),h):(o=a,(h=na.get(m))&&(o=U({},a),im(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Fn(h),Bi(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ih(o,a.precedence,t));return n.instance}function ih(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function nm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function im(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var rh=null;function jv(t,n,a){if(rh===null){var o=new Map,h=rh=new Map;h.set(a,o)}else h=rh,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[lr]||m[cn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function zv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function xE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function IE(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Al(o.href),m=n.querySelector(Mu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ah.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=m,Fn(m);return}m=n.ownerDocument||n,o=Lv(o),(h=na.get(h))&&nm(o,h),m=m.createElement("link"),Fn(m);var T=m;T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Bi(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ah.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var rm=0;function ME(t,n){return t.stylesheets&&t.count===0&&oh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&rm===0&&(rm=62500*cE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>rm?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function oh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,n.forEach(NE,t),sh=null,ah.call(t))}function NE(t,n){if(!(n.state.loading&4)){var a=sh.get(t);if(a)var o=a.get(null);else{a=new Map,sh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),o=T)}o&&a.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||o,m===o&&a.set(null,h),a.set(T,h),this.count++,o=ah.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Du={$$typeof:Be,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function DE(t,n,a,o,h,m,T,M,Y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Fv(t,n,a,o,h,m,T,M,Y,le,_e,Ae){return t=new DE(t,n,a,T,Y,le,_e,Ae,M),n=1,m===!0&&(n|=24),m=Ki(3,null,null,n),t.current=m,m.stateNode=t,n=Lf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},Bf(m),t}function Hv(t){return t?(t=Lr,t):Lr}function qv(t,n,a,o,h,m){h=Hv(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=js(t,o,n),a!==null&&(Ir(a,t,n),cu(a,t,n))}function Gv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function am(t,n){Gv(t,n),(t=t.alternate)&&Gv(t,n)}function Yv(t){if(t.tag===13||t.tag===31){var n=gr(t,67108864);n!==null&&Ir(n,t,67108864),am(t,67108864)}}function Xv(t){if(t.tag===13||t.tag===31){var n=Fr();n=rr(n);var a=gr(t,n);a!==null&&Ir(a,t,n),am(t,n)}}var lh=!0;function OE(t,n,a,o){var h=G.T;G.T=null;var m=te.p;try{te.p=2,sm(t,n,a,o)}finally{te.p=m,G.T=h}}function kE(t,n,a,o){var h=G.T;G.T=null;var m=te.p;try{te.p=8,sm(t,n,a,o)}finally{te.p=m,G.T=h}}function sm(t,n,a,o){if(lh){var h=om(o);if(h===null)Yd(t,n,o,uh,a),Kv(t,o);else if(PE(h,t,n,a,o))o.stopPropagation();else if(Kv(t,o),n&4&&-1<VE.indexOf(t)){for(;h!==null;){var m=Yi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Ln(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var Y=1<<31-rt(T);M.entanglements[1]|=Y,T&=~Y}Oa(m),(yn&6)===0&&(Gc=Gt()+500,Cu(0))}}break;case 31:case 13:M=gr(m,2),M!==null&&Ir(M,m,2),Xc(),am(m,2)}if(m=om(o),m===null&&Yd(t,n,o,uh,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else Yd(t,n,o,null,a)}}function om(t){return t=Mn(t),lm(t)}var uh=null;function lm(t){if(uh=null,t=ur(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=b(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return uh=t,null}function Qv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(An()){case C:return 2;case g:return 8;case v:case D:return 32;case W:return 268435456;default:return 32}default:return 32}}var um=!1,Ws=null,$s=null,Js=null,Ou=new Map,ku=new Map,Zs=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Ou.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(n.pointerId)}}function Vu(t,n,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Yi(n),n!==null&&Yv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function PE(t,n,a,o,h){switch(n){case"focusin":return Ws=Vu(Ws,t,n,a,o,h),!0;case"dragenter":return $s=Vu($s,t,n,a,o,h),!0;case"mouseover":return Js=Vu(Js,t,n,a,o,h),!0;case"pointerover":var m=h.pointerId;return Ou.set(m,Vu(Ou.get(m)||null,t,n,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,ku.set(m,Vu(ku.get(m)||null,t,n,a,o,h)),!0}return!1}function Wv(t){var n=ur(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,ar(t.priority,function(){Xv(a)});return}}else if(n===31){if(n=b(a),n!==null){t.blockedOn=n,ar(t.priority,function(){Xv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Sn=o,a.target.dispatchEvent(o),Sn=null}else return n=Yi(a),n!==null&&Yv(n),t.blockedOn=a,!1;n.shift()}return!0}function $v(t,n,a){ch(t)&&a.delete(n)}function LE(){um=!1,Ws!==null&&ch(Ws)&&(Ws=null),$s!==null&&ch($s)&&($s=null),Js!==null&&ch(Js)&&(Js=null),Ou.forEach($v),ku.forEach($v)}function hh(t,n){t.blockedOn===n&&(t.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,LE)))}var fh=null;function Jv(t){fh!==t&&(fh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fh===t&&(fh=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(lm(o||a)===null)continue;break}var m=Yi(a);m!==null&&(t.splice(n,3),n-=3,od(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Cl(t){function n(Y){return hh(Y,t)}Ws!==null&&hh(Ws,t),$s!==null&&hh($s,t),Js!==null&&hh(Js,t),Ou.forEach(n),ku.forEach(n);for(var a=0;a<Zs.length;a++){var o=Zs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)Wv(a),a.blockedOn===null&&Zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],T=h[Qn]||null;if(typeof m=="function")T||Jv(a);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[Qn]||null)M=T.formAction;else if(lm(h)!==null)continue}else M=T.action;typeof M=="function"?a[o+1]=M:(a.splice(o,3),o-=3),Jv(a)}}}function Zv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}dh.prototype.render=cm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Fr();qv(a,o,t,n,null,null)},dh.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;qv(t.current,2,null,t,null,null),Xc(),n[or]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var n=ba();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Zs.length&&n!==0&&n<Zs[a].priority;a++);Zs.splice(a,0,t),a===0&&Wv(t)}};var e0=e.version;if(e0!=="19.2.0")throw Error(s(527,e0,"19.2.0"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=w(n),t=t!==null?I(t):null,t=t===null?null:t.stateNode,t};var UE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Qe=mh.inject(UE),Je=mh}catch{}}return Lu.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=oy,m=ly,T=uy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Fv(t,1,!1,null,null,a,o,null,h,m,T,Zv),t[or]=n.current,Gd(t),new cm(n)},Lu.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",m=oy,T=ly,M=uy,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(Y=a.formState)),n=Fv(t,1,!0,n,a??null,o,h,Y,m,T,M,Zv),n.context=Hv(null),a=n.current,o=Fr(),o=rr(o),h=Us(o),h.callback=null,js(a,h,o),a=o,n.current.lanes=a,xt(n,a),Oa(n),t[or]=n.current,Gd(t),new dh(n)},Lu.version="19.2.0",Lu}var c0;function QE(){if(c0)return dm.exports;c0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=XE(),dm.exports}var KE=QE();const WE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$E=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),h0=r=>{const e=$E(r);return e.charAt(0).toUpperCase()+e.slice(1)},$_=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),JE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ZE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eT=et.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},E)=>et.createElement("svg",{ref:E,...ZE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:$_("lucide",l),...!c&&!JE(b)&&{"aria-hidden":"true"},...b},[...p.map(([w,I])=>et.createElement(w,I)),...Array.isArray(c)?c:[c]]));const Xn=(r,e)=>{const i=et.forwardRef(({className:s,...l},c)=>et.createElement(eT,{ref:c,iconNode:e,className:$_(`lucide-${WE(h0(r))}`,`lucide-${r}`,s),...l}));return i.displayName=h0(r),i};const tT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],nT=Xn("arrow-down-a-z",tT);const iT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],f0=Xn("arrow-left",iT);const rT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],aT=Xn("book-open",rT);const sT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],oT=Xn("check-check",sT);const lT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uT=Xn("check",lT);const cT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hT=Xn("chevron-left",cT);const fT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dT=Xn("chevron-right",fT);const mT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pT=Xn("circle-alert",mT);const gT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Vm=Xn("crown",gT);const yT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vT=Xn("eye",yT);const _T=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bT=Xn("heart",_T);const wT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ET=Xn("info",wT);const TT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],AT=Xn("log-out",TT);const ST=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CT=Xn("mail",ST);const RT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xT=Xn("play",RT);const IT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],MT=Xn("rotate-ccw",IT);const NT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],DT=Xn("ruler",NT);const OT=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],d0=Xn("scroll-text",OT);const kT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VT=Xn("settings",kT);const PT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],LT=Xn("share-2",PT);const UT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],jT=Xn("shuffle",UT);const zT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ph=Xn("sparkles",zT);const BT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ym=Xn("star",BT);const FT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],m0=Xn("trophy",FT);const HT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vm=Xn("x",HT);var _m={},Ah={exports:{}},qT=Ah.exports,p0;function GT(){return p0||(p0=1,(function(r,e){(function(s,l){r.exports=l()})(qT,()=>(()=>{var i=[,((p,b,E)=>{E.r(b),E.d(b,{default:()=>I});var w=(()=>{var U=typeof document<"u"?document.currentScript?.src:void 0;return(function(j={}){var ie,F=j,Ie,Ce,ke=new Promise((f,d)=>{Ie=f,Ce=d}),Ve=typeof window=="object",Be=typeof importScripts=="function";function Xe(){function f(J){const Z=S;_=d=0,S=new Map,Z.forEach(ce=>{try{ce(J)}catch(oe){console.error(oe)}}),this.nb(),N&&N.Pb()}let d=0,_=0,S=new Map,N=null,B=null;this.requestAnimationFrame=function(J){d||=requestAnimationFrame(f.bind(this));const Z=++_;return S.set(Z,J),Z},this.cancelAnimationFrame=function(J){S.delete(J),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(J){B&&(document.body.remove(B),B=null),J||(B=document.createElement("div"),B.style.backgroundColor="black",B.style.position="fixed",B.style.right=0,B.style.top=0,B.style.color="white",B.style.padding="4px",B.innerHTML="RIVE FPS",J=function(Z){B.innerHTML="RIVE FPS "+Z.toFixed(1)},document.body.appendChild(B)),N=new function(){let Z=0,ce=0;this.Pb=function(){var oe=performance.now();ce?(++Z,oe-=ce,1e3<oe&&(J(1e3*Z/oe),Z=ce=0)):(ce=oe,Z=0)}}},this.Kb=function(){B&&(document.body.remove(B),B=null),N=null},this.nb=function(){}}function ct(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const pt=F.onRuntimeInitialized;F.onRuntimeInitialized=function(){pt&&pt();let f=F.decodeAudio;F.decodeAudio=function(N,B){N=f(N),B(N)};let d=F.decodeFont;F.decodeFont=function(N,B){N=d(N),B(N)};const _=F.FileAssetLoader;F.ptrToAsset=N=>{let B=F.ptrToFileAsset(N);return B.isImage?F.ptrToImageAsset(N):B.isFont?F.ptrToFontAsset(N):B.isAudio?F.ptrToAudioAsset(N):B},F.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:N}){this.__parent.__construct.call(this),this.Db=N},loadContents:function(N,B){return N=F.ptrToAsset(N),this.Db(N,B)}}),F.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(N){let B=F.ptrToAsset(N);return N=B.cdnUuid,N===""?!1:((function(J,Z){var ce=new XMLHttpRequest;ce.responseType="arraybuffer",ce.onreadystatechange=function(){ce.readyState==4&&ce.status==200&&Z(ce)},ce.open("GET",J,!0),ce.send(null)})(B.cdnBaseUrl+"/"+N,J=>{B.decode(new Uint8Array(J.response))}),!0)}}),F.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(N){this.jb.push(N)},loadContents:function(N,B){for(let J of this.jb)if(J.loadContents(N,B))return!0;return!1}});let S=F.computeAlignment;F.computeAlignment=function(N,B,J,Z,ce=1){return S.call(this,N,B,J,Z,ce)}};const q="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),z=new function(){function f(){if(!d){let hn=function(We,Ut,bn){if(Ut=ze.createShader(Ut),ze.shaderSource(Ut,bn),ze.compileShader(Ut),bn=ze.getShaderInfoLog(Ut),0<(bn||"").length)throw bn;ze.attachShader(We,Ut)};var tt=hn,ee=document.createElement("canvas"),je={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let ze;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(ze=ee.getContext("webgl",je),_=1,!ze)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(ze=ee.getContext("webgl2",je))_=2;else if(ze=ee.getContext("webgl",je))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(ze=new Proxy(ze,{get(We,Ut){if(We.isContextLost()){if(ce||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ut),ce=!0),typeof We[Ut]=="function")return function(){}}else return typeof We[Ut]=="function"?function(...bn){return We[Ut].apply(We,bn)}:We[Ut]},set(We,Ut,bn){if(We.isContextLost())ce||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ut),ce=!0);else return We[Ut]=bn,!0}}),S=Math.min(ze.getParameter(ze.MAX_RENDERBUFFER_SIZE),ze.getParameter(ze.MAX_TEXTURE_SIZE)),ee=ze.createProgram(),hn(ee,ze.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),hn(ee,ze.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),ze.bindAttribLocation(ee,0,"vertex"),ze.bindAttribLocation(ee,1,"uv"),ze.linkProgram(ee),je=ze.getProgramInfoLog(ee),0<(je||"").trim().length)throw je;N=ze.getUniformLocation(ee,"mat"),B=ze.getUniformLocation(ee,"translate"),ze.useProgram(ee),ze.bindBuffer(ze.ARRAY_BUFFER,ze.createBuffer()),ze.enableVertexAttribArray(0),ze.enableVertexAttribArray(1),ze.bindBuffer(ze.ELEMENT_ARRAY_BUFFER,ze.createBuffer()),ze.uniform1i(ze.getUniformLocation(ee,"image"),0),ze.pixelStorei(ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=ze}return!0}let d=null,_=0,S=0,N=null,B=null,J=0,Z=0,ce=!1;f(),this.ac=function(){return f(),S},this.Jb=function(ee){d.deleteTexture&&d.deleteTexture(ee)},this.Ib=function(ee){if(!f())return null;const je=d.createTexture();return je?(d.bindTexture(d.TEXTURE_2D,je),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,ee),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),je):null};const oe=new ct(8),Oe=new ct(8),Ke=new ct(10),at=new ct(10);this.Mb=function(ee,je,tt,ze,hn){if(f()){var We=oe.push(ee),Ut=Oe.push(je);if(d.canvas){(d.canvas.width!=We||d.canvas.height!=Ut)&&(d.canvas.width=We,d.canvas.height=Ut),d.viewport(0,Ut-je,ee,je),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),tt.sort((zt,Pr)=>Pr.ub-zt.ub),We=Ke.push(ze),J!=We&&(d.bufferData(d.ARRAY_BUFFER,8*We,d.DYNAMIC_DRAW),J=We),We=0;for(var bn of tt)d.bufferSubData(d.ARRAY_BUFFER,We,bn.Sa),We+=4*bn.Sa.length;console.assert(We==4*ze);for(var oi of tt)d.bufferSubData(d.ARRAY_BUFFER,We,oi.Ab),We+=4*oi.Ab.length;console.assert(We==8*ze),We=at.push(hn),Z!=We&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*We,d.DYNAMIC_DRAW),Z=We),bn=0;for(var Ar of tt)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,bn,Ar.indices),bn+=2*Ar.indices.length;console.assert(bn==2*hn),Ar=0,oi=!0,We=bn=0;for(const zt of tt){zt.image.Ia!=Ar&&(d.bindTexture(d.TEXTURE_2D,zt.image.Ha||null),Ar=zt.image.Ia),zt.fc?(d.scissor(zt.Ya,Ut-zt.Za-zt.ib,zt.tc,zt.ib),oi=!0):oi&&(d.scissor(0,Ut-je,ee,je),oi=!1),tt=2/ee;const Pr=-2/je;d.uniform4f(N,zt.ga[0]*tt*zt.za,zt.ga[1]*Pr*zt.Aa,zt.ga[2]*tt*zt.za,zt.ga[3]*Pr*zt.Aa),d.uniform2f(B,zt.ga[4]*tt*zt.za+tt*(zt.Ya-zt.bc*zt.za)-1,zt.ga[5]*Pr*zt.Aa+Pr*(zt.Za-zt.cc*zt.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,We),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,We+4*ze),d.drawElements(d.TRIANGLES,zt.indices.length,d.UNSIGNED_SHORT,bn),We+=4*zt.Sa.length,bn+=2*zt.indices.length}console.assert(We==4*ze),console.assert(bn==2*hn)}}},this.canvas=function(){return f()&&d.canvas}},V=F.onRuntimeInitialized;F.onRuntimeInitialized=function(){function f(De){switch(De){case oe.srcOver:return"source-over";case oe.screen:return"screen";case oe.overlay:return"overlay";case oe.darken:return"darken";case oe.lighten:return"lighten";case oe.colorDodge:return"color-dodge";case oe.colorBurn:return"color-burn";case oe.hardLight:return"hard-light";case oe.softLight:return"soft-light";case oe.difference:return"difference";case oe.exclusion:return"exclusion";case oe.multiply:return"multiply";case oe.hue:return"hue";case oe.saturation:return"saturation";case oe.color:return"color";case oe.luminosity:return"luminosity"}}function d(De){return"rgba("+((16711680&De)>>>16)+","+((65280&De)>>>8)+","+((255&De)>>>0)+","+((4278190080&De)>>>24)/255+")"}function _(){0<Ut.length&&(z.Mb(We.drawWidth(),We.drawHeight(),Ut,bn,oi),Ut=[],oi=bn=0,We.reset(512,512));for(const De of hn){for(const qe of De.H)qe();De.H=[]}hn.clear()}V&&V();var S=F.RenderPaintStyle;const N=F.RenderPath,B=F.RenderPaint,J=F.Renderer,Z=F.StrokeCap,ce=F.StrokeJoin,oe=F.BlendMode,Oe=S.fill,Ke=S.stroke,at=F.FillRule.evenOdd;let ee=1;var je=F.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:De,va:qe}={}){this.__parent.__construct.call(this),this.Ia=ee,ee=ee+1&2147483647||1,this.ka=De,this.va=qe},__destruct:function(){this.Ha&&(z.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(De){var qe=this;qe.va&&qe.va(qe);var jt=new Image;qe.Va=URL.createObjectURL(new Blob([De],{type:"image/png"})),jt.onload=function(){qe.Cb=jt,qe.Ha=z.Ib(jt),qe.size(jt.width,jt.height),qe.ka&&qe.ka(qe)},jt.src=qe.Va}}),tt=N.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(De,qe,jt,Yt,Ot,Ft,rn){var ln=this.T,pr=ln.addPath;De=De.T;const wn=new DOMMatrix;wn.a=qe,wn.b=jt,wn.c=Yt,wn.d=Ot,wn.e=Ft,wn.f=rn,pr.call(ln,De,wn)},fillRule:function(De){this.Ua=De},moveTo:function(De,qe){this.T.moveTo(De,qe)},lineTo:function(De,qe){this.T.lineTo(De,qe)},cubicTo:function(De,qe,jt,Yt,Ot,Ft){this.T.bezierCurveTo(De,qe,jt,Yt,Ot,Ft)},close:function(){this.T.closePath()}}),ze=B.extend("CanvasRenderPaint",{color:function(De){this.Wa=d(De)},thickness:function(De){this.Fb=De},join:function(De){switch(De){case ce.miter:this.Ga="miter";break;case ce.round:this.Ga="round";break;case ce.bevel:this.Ga="bevel"}},cap:function(De){switch(De){case Z.butt:this.Fa="butt";break;case Z.round:this.Fa="round";break;case Z.square:this.Fa="square"}},style:function(De){this.Eb=De},blendMode:function(De){this.Bb=f(De)},clearGradient:function(){this.ia=null},linearGradient:function(De,qe,jt,Yt){this.ia={wb:De,xb:qe,bb:jt,cb:Yt,Pa:[]}},radialGradient:function(De,qe,jt,Yt){this.ia={wb:De,xb:qe,bb:jt,cb:Yt,Pa:[],$b:!0}},addStop:function(De,qe){this.ia.Pa.push({color:De,stop:qe})},completeGradient:function(){},draw:function(De,qe,jt){let Yt=this.Eb;var Ot=this.Wa,Ft=this.ia;if(De.globalCompositeOperation=this.Bb,Ft!=null){Ot=Ft.wb;var rn=Ft.xb;const pr=Ft.bb;var ln=Ft.cb;const wn=Ft.Pa;Ft.$b?(Ft=pr-Ot,ln-=rn,Ot=De.createRadialGradient(Ot,rn,0,Ot,rn,Math.sqrt(Ft*Ft+ln*ln))):Ot=De.createLinearGradient(Ot,rn,pr,ln);for(let Li=0,gn=wn.length;Li<gn;Li++)rn=wn[Li],Ot.addColorStop(rn.stop,d(rn.color));this.Wa=Ot,this.ia=null}switch(Yt){case Ke:De.strokeStyle=Ot,De.lineWidth=this.Fb,De.lineCap=this.Fa,De.lineJoin=this.Ga,De.stroke(qe);break;case Oe:De.fillStyle=Ot,De.fill(qe,jt)}}});const hn=new Set;let We=null,Ut=[],bn=0,oi=0;var Ar=F.CanvasRenderer=J.extend("Renderer",{__construct:function(De){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=De.getContext("2d"),this.Ta=De,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const De=this.S.length-6;if(6>De)throw"restore() called without matching save().";this.S.splice(De),this.H.push(this.B.restore.bind(this.B))},transform:function(De,qe,jt,Yt,Ot,Ft){const rn=this.S,ln=rn.length-6;rn.splice(ln,6,rn[ln]*De+rn[ln+2]*qe,rn[ln+1]*De+rn[ln+3]*qe,rn[ln]*jt+rn[ln+2]*Yt,rn[ln+1]*jt+rn[ln+3]*Yt,rn[ln]*Ot+rn[ln+2]*Ft+rn[ln+4],rn[ln+1]*Ot+rn[ln+3]*Ft+rn[ln+5]),this.H.push(this.B.transform.bind(this.B,De,qe,jt,Yt,Ot,Ft))},rotate:function(De){const qe=Math.sin(De);De=Math.cos(De),this.transform(De,qe,-qe,De,0,0)},_drawPath:function(De,qe){this.H.push(qe.draw.bind(qe,this.B,De.T,De.Ua===at?"evenodd":"nonzero"))},_drawRiveImage:function(De,qe,jt,Yt){var Ot=De.Cb;if(Ot){var Ft=this.B,rn=f(jt);this.H.push(function(){Ft.globalCompositeOperation=rn,Ft.globalAlpha=Yt,Ft.drawImage(Ot,0,0),Ft.globalAlpha=1})}},_getMatrix:function(De){const qe=this.S,jt=qe.length-6;for(let Yt=0;6>Yt;++Yt)De[Yt]=qe[jt+Yt]},_drawImageMesh:function(De,qe,jt,Yt,Ot,Ft,rn,ln,pr,wn,Li){qe=this.B.canvas.width;var gn=this.B.canvas.height;const es=wn-ln,nl=Li-pr;ln=Math.max(ln,0),pr=Math.max(pr,0),wn=Math.min(wn,qe),Li=Math.min(Li,gn);const xa=wn-ln,Ia=Li-pr;if(console.assert(xa<=Math.min(es,qe)),console.assert(Ia<=Math.min(nl,gn)),!(0>=xa||0>=Ia)){wn=xa<es||Ia<nl,qe=Li=1;var da=Math.ceil(xa*Li),gr=Math.ceil(Ia*qe);gn=z.ac(),da>gn&&(Li*=gn/da,da=gn),gr>gn&&(qe*=gn/gr,gr=gn),We||(We=new F.DynamicRectanizer(gn),We.reset(512,512)),gn=We.addRect(da,gr),0>gn&&(_(),hn.add(this),gn=We.addRect(da,gr),console.assert(0<=gn));var iu=gn&65535,So=gn>>16;Ut.push({ga:this.S.slice(this.S.length-6),image:De,Ya:iu,Za:So,bc:ln,cc:pr,tc:da,ib:gr,za:Li,Aa:qe,Sa:new Float32Array(Ot),Ab:new Float32Array(Ft),indices:new Uint16Array(rn),fc:wn,ub:De.Ia<<1|(wn?1:0)}),bn+=Ot.length,oi+=rn.length;var Lr=this.B,Cf=f(jt);this.H.push(function(){Lr.save(),Lr.resetTransform(),Lr.globalCompositeOperation=Cf,Lr.globalAlpha=Yt;const Ki=z.canvas();Ki&&Lr.drawImage(Ki,iu,So,da,gr,ln,pr,xa,Ia),Lr.restore()})}},_clipPath:function(De){this.H.push(this.B.clip.bind(this.B,De.T,De.Ua===at?"evenodd":"nonzero"))},clear:function(){hn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(De,qe){this.transform(1,0,0,1,De,qe)}});F.makeRenderer=function(De){const qe=new Ar(De),jt=qe.B;return new Proxy(qe,{get(Yt,Ot){if(typeof Yt[Ot]=="function")return function(...Ft){return Yt[Ot].apply(Yt,Ft)};if(typeof jt[Ot]=="function"){if(-1<q.indexOf(Ot))throw Error("RiveException: Method call to '"+Ot+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Ft){qe.H.push(jt[Ot].bind(jt,...Ft))}}return Yt[Ot]},set(Yt,Ot,Ft){if(Ot in jt)return qe.H.push(()=>{jt[Ot]=Ft}),!0}})},F.decodeImage=function(De,qe){new je({ka:qe}).decode(De)},F.renderFactory={makeRenderPaint:function(){return new ze},makeRenderPath:function(){return new tt},makeRenderImage:function(){let De=Pr;return new je({va:()=>{De.total++},ka:()=>{if(De.loaded++,De.loaded===De.total){const qe=De.ready;qe&&(qe(),De.ready=null)}}})}};let zt=F.load,Pr=null;F.load=function(De,qe,jt=!0){const Yt=new F.FallbackFileAssetLoader;return qe!==void 0&&Yt.addLoader(qe),jt&&(qe=new F.CDNFileAssetLoader,Yt.addLoader(qe)),new Promise(function(Ot){let Ft=null;Pr={total:0,loaded:0,ready:function(){Ot(Ft)}},Ft=zt(De,Yt),Pr.total==0&&Ot(Ft)})};let Za=F.RendererWrapper.prototype.align;F.RendererWrapper.prototype.align=function(De,qe,jt,Yt,Ot=1){Za.call(this,De,qe,jt,Yt,Ot)},S=new Xe,F.requestAnimationFrame=S.requestAnimationFrame.bind(S),F.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),F.enableFPSCounter=S.Nb.bind(S),F.disableFPSCounter=S.Kb,S.nb=_,F.resolveAnimationFrame=_,F.cleanup=function(){We&&We.delete()}};var H=Object.assign({},F),x="./this.program",P="",R,Q;(Ve||Be)&&(Be?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),U&&(P=U),P.startsWith("blob:")?P="":P=P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1),Be&&(Q=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),R=(f,d,_)=>{if(hi(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(N=>N.ok?N.arrayBuffer():Promise.reject(Error(N.status+" : "+N.url))).then(d,_)});var ae=F.print||console.log.bind(console),G=F.printErr||console.error.bind(console);Object.assign(F,H),H=null,F.thisProgram&&(x=F.thisProgram);var te;F.wasmBinary&&(te=F.wasmBinary);var ve,he=!1,we,L,K,Ee,ye,Me,He,ht;function mt(){var f=ve.buffer;F.HEAP8=we=new Int8Array(f),F.HEAP16=K=new Int16Array(f),F.HEAPU8=L=new Uint8Array(f),F.HEAPU16=Ee=new Uint16Array(f),F.HEAP32=ye=new Int32Array(f),F.HEAPU32=Me=new Uint32Array(f),F.HEAPF32=He=new Float32Array(f),F.HEAPF64=ht=new Float64Array(f)}var bt=[],kt=[],un=[];function ft(){var f=F.preRun.shift();bt.unshift(f)}var At=0,Dt=null;function wt(f){throw F.onAbort?.(f),f="Aborted("+f+")",G(f),he=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Ce(f),f}var Tn=f=>f.startsWith("data:application/octet-stream;base64,"),hi=f=>f.startsWith("file://"),Jt;function it(f){if(f==Jt&&te)return new Uint8Array(te);if(Q)return Q(f);throw"both async and sync fetching of the wasm failed"}function sn(f){return te?Promise.resolve().then(()=>it(f)):new Promise((d,_)=>{R(f,S=>d(new Uint8Array(S)),()=>{try{d(it(f))}catch(S){_(S)}})})}function mn(f,d,_){return sn(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{G(`failed to asynchronously prepare wasm: ${S}`),wt(S)})}function Gi(f,d){var _=Jt;return te||typeof WebAssembly.instantiateStreaming!="function"||Tn(_)||hi(_)||typeof fetch!="function"?mn(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(N){return G(`wasm streaming compile failed: ${N}`),G("falling back to ArrayBuffer instantiation"),mn(_,f,d)}))}var $n,Gt,An={464256:(f,d,_,S,N)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=N;let B=window.h;B.D=[],B.rc=function(J){for(var Z=0;Z<B.D.length;++Z)if(B.D[Z]==null)return B.D[Z]=J,Z;return B.D.push(J),B.D.length-1},B.zb=function(J){for(B.D[J]=null;0<B.D.length&&B.D[B.D.length-1]==null;)B.D.pop()},B.Oc=function(J){for(var Z=0;Z<B.D.length;++Z)if(B.D[Z]==J)return B.zb(Z)},B.pa=function(J){return B.D[J]},B.Ra=["touchend","click"],B.unlock=function(){for(var J=0;J<B.D.length;++J){var Z=B.D[J];Z!=null&&Z.K!=null&&Z.state===B.fa.vb&&Z.K.resume().then(()=>{Ao(Z.ob)},ce=>{console.error("Failed to resume audiocontext",ce)})}B.Ra.map(function(ce){document.removeEventListener(ce,B.unlock,!0)})},B.Ra.map(function(J){document.addEventListener(J,B.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,N,B)=>{if(typeof window.h>"u")return-1;var J={},Z={};return f==window.h.I.wa&&_!=0&&(Z.sampleRate=_),J.K=new(window.AudioContext||window.webkitAudioContext)(Z),J.K.suspend(),J.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),J.Y=J.K.createScriptProcessor(S,_,d),J.Y.onaudioprocess=function(ce){if((J.qa==null||J.qa.length==0)&&(J.qa=new Float32Array(He.buffer,N,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var oe=0;oe<d;oe+=1)for(var Oe=ce.inputBuffer.getChannelData(oe),Ke=J.qa,at=0;at<S;at+=1)Ke[at*d+oe]=Oe[at];tu(B,S,N)}if(f==window.h.I.wa||f==window.h.I.Ja)for(nu(B,S,N),oe=0;oe<ce.outputBuffer.numberOfChannels;++oe)for(Oe=ce.outputBuffer.getChannelData(oe),Ke=J.qa,at=0;at<S;at+=1)Oe[at]=Ke[at*d+oe];else for(oe=0;oe<ce.outputBuffer.numberOfChannels;++oe)ce.outputBuffer.getChannelData(oe).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ce){J.Ba=J.K.createMediaStreamSource(ce),J.Ba.connect(J.Y),J.Y.connect(J.K.destination)}).catch(function(ce){console.log("Failed to get user media: "+ce)}),f==window.h.I.wa&&J.Y.connect(J.K.destination),J.ob=B,window.h.rc(J)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},C=f=>{for(;0<f.length;)f.shift()(F)};function g(){var f=ye[+ni>>2];return ni+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var N=f[S];N==="."?f.splice(S,1):N===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},D=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},W=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},me=f=>{if(f==="/")return"/";f=D(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Re=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);wt("initRandomDevice")},Qe=f=>(Qe=Re())(f),Je=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(N=>!!N),!_).join("/"),(_?"/":"")+d||"."},Ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,rt=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&Ge)return Ge.decode(f.subarray(d,_));for(S="";d<_;){var N=f[d++];if(N&128){var B=f[d++]&63;if((N&224)==192)S+=String.fromCharCode((N&31)<<6|B);else{var J=f[d++]&63;N=(N&240)==224?(N&15)<<12|B<<6|J:(N&7)<<18|B<<12|J<<6|f[d++]&63,65536>N?S+=String.fromCharCode(N):(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023))}}else S+=String.fromCharCode(N)}return S},Bt=[],xn=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},pn=(f,d,_,S)=>{if(!(0<S))return 0;var N=_;S=_+S-1;for(var B=0;B<f.length;++B){var J=f.charCodeAt(B);if(55296<=J&&57343>=J){var Z=f.charCodeAt(++B);J=65536+((J&1023)<<10)|Z&1023}if(127>=J){if(_>=S)break;d[_++]=J}else{if(2047>=J){if(_+1>=S)break;d[_++]=192|J>>6}else{if(65535>=J){if(_+2>=S)break;d[_++]=224|J>>12}else{if(_+3>=S)break;d[_++]=240|J>>18,d[_++]=128|J>>12&63}d[_++]=128|J>>6&63}d[_++]=128|J&63}}return d[_]=0,_-N};function Bn(f,d){var _=Array(xn(f)+1);return f=pn(f,_,0,_.length),d&&(_.length=f),_}var Jn=[];function Rt(f,d){Jn[f]={input:[],G:[],V:d},Oi(f,Ln)}var Ln={open(f){var d=Jn[f.node.xa];if(!d)throw new Ye(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new Ye(60);for(var N=0,B=0;B<S;B++){try{var J=f.s.V.hb(f.s)}catch{throw new Ye(29)}if(J===void 0&&N===0)throw new Ye(6);if(J==null)break;N++,d[_+B]=J}return N&&(f.node.timestamp=Date.now()),N},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new Ye(60);try{for(var N=0;N<S;N++)f.s.V.Ma(f.s,d[_+N])}catch{throw new Ye(29)}return S&&(f.node.timestamp=Date.now()),N}},Un={hb(){e:{if(!Bt.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}Bt=Bn(f,!0)}f=Bt.shift()}return f},Ma(f,d){d===null||d===10?(ae(rt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(ae(rt(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},vn={Ma(f,d){d===null||d===10?(G(rt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(G(rt(f.G,0)),f.G=[])}};function Ni(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var gt={N:null,U(){return gt.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new Ye(63);return gt.N||(gt.N={dir:{node:{X:gt.j.X,P:gt.j.P,ja:gt.j.ja,ta:gt.j.ta,sb:gt.j.sb,yb:gt.j.yb,tb:gt.j.tb,rb:gt.j.rb,Ca:gt.j.Ca},stream:{aa:gt.m.aa}},file:{node:{X:gt.j.X,P:gt.j.P},stream:{aa:gt.m.aa,read:gt.m.read,write:gt.m.write,Xa:gt.m.Xa,kb:gt.m.kb,mb:gt.m.mb}},link:{node:{X:gt.j.X,P:gt.j.P,la:gt.j.la},stream:{}},$a:{node:{X:gt.j.X,P:gt.j.P},stream:_i}}),_=Rs(f,d,_,S),(_.mode&61440)===16384?(_.j=gt.N.dir.node,_.m=gt.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=gt.N.file.node,_.m=gt.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=gt.N.link.node,_.m=gt.N.link.stream):(_.mode&61440)===8192&&(_.j=gt.N.$a.node,_.m=gt.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw ba[44]},ta(f,d,_,S){return gt.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=Nr(d,_)}catch{}if(S)for(var N in S.l)throw new Ye(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=Nr(f,d),S;for(S in _.l)throw new Ye(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=gt.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new Ye(28);return f.link}},m:{read(f,d,_,S,N){var B=f.node.l;if(N>=f.node.v)return 0;if(f=Math.min(f.node.v-N,S),8<f&&B.subarray)d.set(B.subarray(N,N+f),_);else for(S=0;S<f;S++)d[_+S]=B[N+S];return f},write(f,d,_,S,N,B){if(d.buffer===we.buffer&&(B=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(B)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&N===0)return f.l=d.slice(_,_+S),f.v=S;if(N+S<=f.v)return f.l.set(d.subarray(_,_+S),N),S}if(Ni(f,N+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),N);else for(B=0;B<S;B++)f.l[N+B]=d[_+B];return f.v=Math.max(f.v,N+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Ye(28);return d},Xa(f,d,_){Ni(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,N){if((f.node.mode&61440)!==32768)throw new Ye(43);if(f=f.node.l,N&2||f.buffer!==we.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,wt(),d=void 0,!d)throw new Ye(48);we.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return gt.m.write(f,d,0,S,_,!1),0}}},Zn=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},xt=null,tr={},nr=[],Fa=1,ir=null,rr=!0,Ye=class{constructor(f){this.name="ErrnoError",this.$=f}},ba={},ar=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},sr=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=Fa++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function cn(f,d={}){if(f=Je(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Ye(32);f=f.split("/").filter(J=>!!J);for(var _=xt,S="/",N=0;N<f.length;N++){var B=N===f.length-1;if(B&&d.parent)break;if(_=Nr(_,f[N]),S=D(S+"/"+f[N]),_.ua&&(!B||B&&d.gb)&&(_=_.ua.root),!B||d.fb){for(B=0;(_.mode&61440)===40960;)if(_=qa(S),S=Je(W(S),_),_=cn(S,{Oa:d.Oa+1}).node,40<B++)throw new Ye(32)}}return{path:S,node:_}}function Qn(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function or(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%ir.length}function Nr(f,d){var _=(f.mode&61440)===16384?(_=oa(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new Ye(_);for(_=ir[or(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function Rs(f,d,_,S){return f=new sr(f,d,_,S),d=or(f.parent.id,f.name),f.ec=ir[d],ir[d]=f}function Ha(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function oa(f,d){if(rr)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function lr(f,d){try{return Nr(f,d),20}catch{}return oa(f,"wx")}function Di(f){if(f=nr[f],!f)throw new Ye(8);return f}function ur(f,d=-1){if(f=Object.assign(new ar,f),d==-1)e:{for(d=0;4096>=d;d++)if(!nr[d])break e;throw new Ye(33)}return f.W=d,nr[d]=f}function Yi(f,d=-1){return f=ur(f,d),f.m?.Ec?.(f),f}var _i={open(f){f.m=tr[f.node.xa].m,f.m.open?.(f)},aa(){throw new Ye(70)}};function Oi(f,d){tr[f]={m:d}}function Fn(f,d){var _=d==="/";if(_&&xt)throw new Ye(10);if(!_&&d){var S=cn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Ye(10);if((S.mode&61440)!==16384)throw new Ye(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?xt=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function la(f,d,_){var S=cn(f,{parent:!0}).node;if(f=me(f),!f||f==="."||f==="..")throw new Ye(28);var N=lr(S,f);if(N)throw new Ye(N);if(!S.j.ta)throw new Ye(63);return S.j.ta(S,f,d,_)}function Ci(f){return la(f,16895,0)}function Ri(f,d,_){typeof _>"u"&&(_=d,d=438),la(f,d|8192,_)}function ki(f,d){if(!Je(f))throw new Ye(44);var _=cn(d,{parent:!0}).node;if(!_)throw new Ye(44);d=me(d);var S=lr(_,d);if(S)throw new Ye(S);if(!_.j.Ca)throw new Ye(63);_.j.Ca(_,d,f)}function qa(f){if(f=cn(f).node,!f)throw new Ye(44);if(!f.j.la)throw new Ye(28);return Je(Qn(f.parent),f.j.la(f))}function qr(f,d,_){if(f==="")throw new Ye(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var N=f;else{f=D(f);try{N=cn(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(N){if(d&128)throw new Ye(20)}else N=la(f,_,0),S=!0;if(!N)throw new Ye(44);if((N.mode&61440)===8192&&(d&=-513),d&65536&&(N.mode&61440)!==16384)throw new Ye(54);if(!S&&(_=N?(N.mode&61440)===40960?32:(N.mode&61440)===16384&&(Ha(d)!=="r"||d&512)?31:oa(N,Ha(d)):44))throw new Ye(_);if(d&512&&!S){if(_=N,_=typeof _=="string"?cn(_,{fb:!0}).node:_,!_.j.P)throw new Ye(63);if((_.mode&61440)===16384)throw new Ye(31);if((_.mode&61440)!==32768)throw new Ye(28);if(S=oa(_,"w"))throw new Ye(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,N=ur({node:N,path:Qn(N),flags:d,seekable:!0,position:0,m:N.m,sc:[],error:!1}),N.m.open&&N.m.open(N),!F.logReadFiles||d&1||(Kn||={},f in Kn||(Kn[f]=1)),N}function wa(f,d,_){if(f.W===null)throw new Ye(8);if(!f.seekable||!f.m.aa)throw new Ye(70);if(_!=0&&_!=1&&_!=2)throw new Ye(28);f.position=f.m.aa(f,d,_),f.sc=[]}var Ea;function vr(f,d,_){f=D("/dev/"+f);var S=Zn(!!d,!!_);bi||=64;var N=bi++<<8|0;Oi(N,{open(B){B.seekable=!1},close(){_?.buffer?.length&&_(10)},read(B,J,Z,ce){for(var oe=0,Oe=0;Oe<ce;Oe++){try{var Ke=d()}catch{throw new Ye(29)}if(Ke===void 0&&oe===0)throw new Ye(6);if(Ke==null)break;oe++,J[Z+Oe]=Ke}return oe&&(B.node.timestamp=Date.now()),oe},write(B,J,Z,ce){for(var oe=0;oe<ce;oe++)try{_(J[Z+oe])}catch{throw new Ye(29)}return ce&&(B.node.timestamp=Date.now()),oe}}),Ri(f,S,N)}var bi,_n={},Kn,ni=void 0,_r=(f,d)=>Object.defineProperty(d,"name",{value:f}),Zt=[],wi=[],dt,Vn=f=>{if(!f)throw new dt("Cannot use deleted val. handle = "+f);return wi[f]},In=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=Zt.pop()||wi.length;return wi[d]=f,wi[d+1]=1,d}},Gr=f=>{var d=Error,_=_r(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},Ga,Ta,tn=f=>{for(var d="";L[f];)d+=Ta[L[f++]];return d},$=[],ue=()=>{for(;$.length;){var f=$.pop();f.g.ea=!1,f.delete()}},ge,be={},Ne=(f,d)=>{if(d===void 0)throw new dt("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},Fe={},Ze=f=>{f=gc(f);var d=tn(f);return mr(f),d},Pe=(f,d)=>{var _=Fe[f];if(_===void 0)throw f=`${d} has unknown type ${Ze(f)}`,new dt(f);return _},ut=()=>{},Le=!1,st=(f,d,_)=>d===_?f:_.C===void 0?null:(f=st(f,d,_.C),f===null?null:_.Lb(f)),Sn={},Mn=(f,d)=>(d=Ne(f,d),be[d]),nn,ii=(f,d)=>{if(!d.u||!d.o)throw new nn("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new nn("Both smartPtrType and smartPtr must be specified");return d.count={value:1},Nn(Object.create(f,{g:{value:d,writable:!0}}))},Nn=f=>typeof FinalizationRegistry>"u"?(Nn=d=>d,f):(Le=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),Nn=d=>{var _=d.g;return _.F&&Le.register(d,{g:_},d),d},ut=d=>{Le.unregister(d)},Nn(f)),cr={},br=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function Vi(f){return this.fromWireType(Me[f>>2])}var Ei={},Yr={},Vt=(f,d,_)=>{function S(Z){if(Z=_(Z),Z.length!==f.length)throw new nn("Mismatched type converter count");for(var ce=0;ce<f.length;++ce)Xi(f[ce],Z[ce])}f.forEach(function(Z){Yr[Z]=d});var N=Array(d.length),B=[],J=0;d.forEach((Z,ce)=>{Fe.hasOwnProperty(Z)?N[ce]=Fe[Z]:(B.push(Z),Ei.hasOwnProperty(Z)||(Ei[Z]=[]),Ei[Z].push(()=>{N[ce]=Fe[Z],++J,J===B.length&&S(N)}))}),B.length===0&&S(N)};function Xr(f,d,_={}){var S=d.name;if(!f)throw new dt(`type "${S}" must have a positive integer typeid pointer`);if(Fe.hasOwnProperty(f)){if(_.Vb)return;throw new dt(`Cannot register type '${S}' twice`)}Fe[f]=d,delete Yr[f],Ei.hasOwnProperty(f)&&(d=Ei[f],delete Ei[f],d.forEach(N=>N()))}function Xi(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Xr(f,d,_)}var ua=f=>{throw new dt(f.g.u.i.name+" instance already deleted")};function Aa(){}var ca=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...N){if(!f[d].A.hasOwnProperty(N.length))throw new dt(`Function '${_}' called with an invalid number of arguments (${N.length}) - expects one of (${f[d].A})!`);return f[d].A[N.length].apply(this,N)},f[d].A=[],f[d].A[S.da]=S}},Dr=(f,d,_)=>{if(F.hasOwnProperty(f)){if(_===void 0||F[f].A!==void 0&&F[f].A[_]!==void 0)throw new dt(`Cannot register public name '${f}' twice`);if(ca(F,f,f),F.hasOwnProperty(_))throw new dt(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);F[f].A[_]=d}else F[f]=d,_!==void 0&&(F[f].Lc=_)},Or=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function Ti(f,d,_,S,N,B,J,Z){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=N,this.Qb=B,this.ma=J,this.Lb=Z,this.pb=[]}var wr=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new dt(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function Qr(f,d){if(d===null){if(this.La)throw new dt(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new dt(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new dt(`Cannot pass deleted object as a pointer of type ${this.name}`);return wr(d.g.o,d.g.u.i,this.i)}function Sa(f,d){if(d===null){if(this.La)throw new dt(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new dt(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new dt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new dt(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=wr(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new dt("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new dt(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,In(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new dt("Unsupporting sharing policy")}}return _}function Eo(f,d){if(d===null){if(this.La)throw new dt(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new dt(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new dt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new dt(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return wr(d.g.o,d.g.u.i,this.i)}function kr(f,d,_,S,N,B,J,Z,ce,oe,Oe){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=N,this.hc=B,this.mc=J,this.qb=Z,this.Na=ce,this.ic=oe,this.O=Oe,N||d.C!==void 0?this.toWireType=Sa:(this.toWireType=S?Qr:Eo,this.L=null)}var Ya=(f,d,_)=>{if(!F.hasOwnProperty(f))throw new nn("Replacing nonexistent public symbol");F[f].A!==void 0&&_!==void 0?F[f].A[_]=d:(F[f]=d,F[f].da=_)},hr=[],Xa,xs=f=>{var d=hr[f];return d||(f>=hr.length&&(hr.length=f+1),hr[f]=d=Xa.get(f)),d},Qa=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,F["dynCall_"+f])(d,..._)):d=xs(d)(..._),d),Ko=(f,d)=>(..._)=>Qa(f,d,_),si=(f,d)=>{f=tn(f);var _=f.includes("j")?Ko(f,d):xs(d);if(typeof _!="function")throw new dt(`unknown function pointer with signature ${f}: ${d}`);return _},Ca,fr=(f,d)=>{function _(B){N[B]||Fe[B]||(Yr[B]?Yr[B].forEach(_):(S.push(B),N[B]=!0))}var S=[],N={};throw d.forEach(_),new Ca(`${f}: `+S.map(Ze).join([", "]))};function Wo(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function ha(f,d,_,S,N){var B=d.length;if(2>B)throw new dt("argTypes array size mismatch! Must at least get return value and 'this' types!");var J=d[1]!==null&&_!==null,Z=Wo(d),ce=d[0].name!=="void",oe=B-2,Oe=Array(oe),Ke=[],at=[];return _r(f,function(...ee){if(ee.length!==oe)throw new dt(`function ${f} called with ${ee.length} arguments, expected ${oe}`);if(at.length=0,Ke.length=J?2:1,Ke[0]=N,J){var je=d[1].toWireType(at,this);Ke[1]=je}for(var tt=0;tt<oe;++tt)Oe[tt]=d[tt+2].toWireType(at,ee[tt]),Ke.push(Oe[tt]);if(ee=S(...Ke),Z)br(at);else for(tt=J?1:2;tt<d.length;tt++){var ze=tt===1?je:Oe[tt-2];d[tt].L!==null&&d[tt].L(ze)}return je=ce?d[0].fromWireType(ee):void 0,je})}var Ka=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(Me[d+4*S>>2]);return _},Is=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Vr=(f,d,_)=>{if(!(f instanceof Object))throw new dt(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new dt(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new dt(`cannot call emscripten binding method ${_} on deleted object`);return wr(f.g.o,f.g.u.i,d.i)},Ms=f=>{9<f&&--wi[f+1]===0&&(wi[f]=void 0,Zt.push(f))},$o={name:"emscripten::val",fromWireType:f=>{var d=Vn(f);return Ms(f),d},toWireType:(f,d)=>In(d),argPackAdvance:8,readValueFromPointer:Vi,L:null},Jo=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(we[S])}:function(S){return this.fromWireType(L[S])};case 2:return _?function(S){return this.fromWireType(K[S>>1])}:function(S){return this.fromWireType(Ee[S>>1])};case 4:return _?function(S){return this.fromWireType(ye[S>>2])}:function(S){return this.fromWireType(Me[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ns=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Ra=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(He[_>>2])};case 8:return function(_){return this.fromWireType(ht[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Pi=(f,d,_)=>{switch(d){case 1:return _?S=>we[S]:S=>L[S];case 2:return _?S=>K[S>>1]:S=>Ee[S>>1];case 4:return _?S=>ye[S>>2]:S=>Me[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},To=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Zo=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&Ee[_];)++_;if(_<<=1,32<_-f&&To)return To.decode(L.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var N=K[f+2*S>>1];if(N==0)break;_+=String.fromCharCode(N)}return _},fa=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var N=0;N<_;++N)K[d>>1]=f.charCodeAt(N),d+=2;return K[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var N=ye[f+4*_>>2];if(N==0)break;++_,65536<=N?(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023)):S+=String.fromCharCode(N)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var N=0;N<f.length;++N){var B=f.charCodeAt(N);if(55296<=B&&57343>=B){var J=f.charCodeAt(++N);B=65536+((B&1023)<<10)|J&1023}if(ye[d>>2]=B,d+=4,d+4>_)break}return ye[d>>2]=0,d-S},O=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},re=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(Me[d>>2]=In(S)),f},de={},Ue=f=>{var d=de[f];return d===void 0?tn(f):d},St=[],ei=f=>{var d=St.length;return St.push(f),d},on=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=Pe(Me[d+4*S>>2],"parameter "+S);return _},jn=Reflect.construct,Qi=[],Er={},Tr=()=>{if(!dr){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"},d;for(d in Er)Er[d]===void 0?delete f[d]:f[d]=Er[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);dr=_}return dr},dr,Kr=f=>f%4===0&&(f%100!==0||f%400===0),Wa=[31,29,31,30,31,30,31,31,30,31,30,31],$a=[31,28,31,30,31,30,31,31,30,31,30,31],Sf=(f,d,_,S)=>{function N(ee,je,tt){for(ee=typeof ee=="number"?ee.toString():ee||"";ee.length<je;)ee=tt[0]+ee;return ee}function B(ee,je){return N(ee,je,"0")}function J(ee,je){function tt(hn){return 0>hn?-1:0<hn?1:0}var ze;return(ze=tt(ee.getFullYear()-je.getFullYear()))===0&&(ze=tt(ee.getMonth()-je.getMonth()))===0&&(ze=tt(ee.getDate()-je.getDate())),ze}function Z(ee){switch(ee.getDay()){case 0:return new Date(ee.getFullYear()-1,11,29);case 1:return ee;case 2:return new Date(ee.getFullYear(),0,3);case 3:return new Date(ee.getFullYear(),0,2);case 4:return new Date(ee.getFullYear(),0,1);case 5:return new Date(ee.getFullYear()-1,11,31);case 6:return new Date(ee.getFullYear()-1,11,30)}}function ce(ee){var je=ee.ba;for(ee=new Date(new Date(ee.ca+1900,0,1).getTime());0<je;){var tt=ee.getMonth(),ze=(Kr(ee.getFullYear())?Wa:$a)[tt];if(je>ze-ee.getDate())je-=ze-ee.getDate()+1,ee.setDate(1),11>tt?ee.setMonth(tt+1):(ee.setMonth(0),ee.setFullYear(ee.getFullYear()+1));else{ee.setDate(ee.getDate()+je);break}}return tt=new Date(ee.getFullYear()+1,0,4),je=Z(new Date(ee.getFullYear(),0,4)),tt=Z(tt),0>=J(je,ee)?0>=J(tt,ee)?ee.getFullYear()+1:ee.getFullYear():ee.getFullYear()-1}var oe=Me[S+40>>2];S={pc:ye[S>>2],oc:ye[S+4>>2],Da:ye[S+8>>2],Qa:ye[S+12>>2],Ea:ye[S+16>>2],ca:ye[S+20>>2],R:ye[S+24>>2],ba:ye[S+28>>2],Nc:ye[S+32>>2],nc:ye[S+36>>2],qc:oe&&oe?rt(L,oe):""},_=_?rt(L,_):"",oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Oe in oe)_=_.replace(new RegExp(Oe,"g"),oe[Oe]);var Ke="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),at="January February March April May June July August September October November December".split(" ");oe={"%a":ee=>Ke[ee.R].substring(0,3),"%A":ee=>Ke[ee.R],"%b":ee=>at[ee.Ea].substring(0,3),"%B":ee=>at[ee.Ea],"%C":ee=>B((ee.ca+1900)/100|0,2),"%d":ee=>B(ee.Qa,2),"%e":ee=>N(ee.Qa,2," "),"%g":ee=>ce(ee).toString().substring(2),"%G":ce,"%H":ee=>B(ee.Da,2),"%I":ee=>(ee=ee.Da,ee==0?ee=12:12<ee&&(ee-=12),B(ee,2)),"%j":ee=>{for(var je=0,tt=0;tt<=ee.Ea-1;je+=(Kr(ee.ca+1900)?Wa:$a)[tt++]);return B(ee.Qa+je,3)},"%m":ee=>B(ee.Ea+1,2),"%M":ee=>B(ee.oc,2),"%n":()=>`
`,"%p":ee=>0<=ee.Da&&12>ee.Da?"AM":"PM","%S":ee=>B(ee.pc,2),"%t":()=>"	","%u":ee=>ee.R||7,"%U":ee=>B(Math.floor((ee.ba+7-ee.R)/7),2),"%V":ee=>{var je=Math.floor((ee.ba+7-(ee.R+6)%7)/7);if(2>=(ee.R+371-ee.ba-2)%7&&je++,je)je==53&&(tt=(ee.R+371-ee.ba)%7,tt==4||tt==3&&Kr(ee.ca)||(je=1));else{je=52;var tt=(ee.R+7-ee.ba-1)%7;(tt==4||tt==5&&Kr(ee.ca%400-1))&&je++}return B(je,2)},"%w":ee=>ee.R,"%W":ee=>B(Math.floor((ee.ba+7-(ee.R+6)%7)/7),2),"%y":ee=>(ee.ca+1900).toString().substring(2),"%Y":ee=>ee.ca+1900,"%z":ee=>{ee=ee.nc;var je=0<=ee;return ee=Math.abs(ee)/60,(je?"+":"-")+("0000"+(ee/60*100+ee%60)).slice(-4)},"%Z":ee=>ee.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(Oe in oe)_.includes(Oe)&&(_=_.replace(new RegExp(Oe,"g"),oe[Oe](S)));return _=_.replace(/\0\0/g,"%"),Oe=Bn(_,!1),Oe.length>d?0:(we.set(Oe,f),Oe.length-1)};[44].forEach(f=>{ba[f]=new Ye(f),ba[f].stack="<generic error, no stack>"}),ir=Array(4096),Fn(gt,"/"),Ci("/tmp"),Ci("/home"),Ci("/home/web_user"),(function(){Ci("/dev"),Oi(259,{read:()=>0,write:(S,N,B,J)=>J}),Ri("/dev/null",259),Rt(1280,Un),Rt(1536,vn),Ri("/dev/tty",1280),Ri("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=Qe(f).byteLength),f[--d]);vr("random",_),vr("urandom",_),Ci("/dev/shm"),Ci("/dev/shm/tmp")})(),(function(){Ci("/proc");var f=Ci("/proc/self");Ci("/proc/self/fd"),Fn({U(){var d=Rs(f,"fd",16895,73);return d.j={ja(_,S){var N=Di(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>N.path}},_.parent=_}},d}},"/proc/self/fd")})(),dt=F.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},wi.push(0,1,void 0,1,null,1,!0,1,!1,1),F.count_emval_handles=()=>wi.length/2-5-Zt.length,Ga=F.PureVirtualError=Gr("PureVirtualError");for(var pc=Array(256),el=0;256>el;++el)pc[el]=String.fromCharCode(el);Ta=pc,F.getInheritedInstanceCount=()=>Object.keys(be).length,F.getLiveInheritedInstances=()=>{var f=[],d;for(d in be)be.hasOwnProperty(d)&&f.push(be[d]);return f},F.flushPendingDeletes=ue,F.setDelayFunction=f=>{ge=f,$.length&&ge&&ge(ue)},nn=F.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(Aa.prototype,{isAliasOf:function(f){if(!(this instanceof Aa&&f instanceof Aa))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||ua(this),this.g.ha)return this.g.count.value+=1,this;var f=Nn,d=Object,_=d.create,S=Object.getPrototypeOf(this),N=this.g;return f=f(_.call(d,S,{g:{value:{count:N.count,ea:N.ea,ha:N.ha,o:N.o,u:N.u,F:N.F,J:N.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||ua(this),this.g.ea&&!this.g.ha)throw new dt("Object already scheduled for deletion");ut(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||ua(this),this.g.ea&&!this.g.ha)throw new dt("Object already scheduled for deletion");return $.push(this),$.length===1&&ge&&ge(ue),this.g.ea=!0,this}}),Object.assign(kr.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:Vi,fromWireType:function(f){function d(){return this.sa?ii(this.i.M,{u:this.hc,o:_,J:this,F:f}):ii(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=Mn(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=Sn[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var N=st(_,this.i,S.i);return N===null?d.call(this):this.sa?ii(S.i.M,{u:S,o:N,J:this,F:f}):ii(S.i.M,{u:S,o:N})}}),Ca=F.UnboundTypeError=Gr("UnboundTypeError");var eu={__syscall_fcntl64:function(f,d,_){ni=_;try{var S=Di(f);switch(d){case 0:var N=g();if(0>N)break;for(;nr[N];)N++;return Yi(S,N).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return N=g(),S.flags|=N,0;case 12:return N=g(),K[N+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(B){if(typeof _n>"u"||B.name!=="ErrnoError")throw B;return-B.$}},__syscall_ioctl:function(f,d,_){ni=_;try{var S=Di(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var N=g();ye[N>>2]=25856,ye[N+4>>2]=5,ye[N+8>>2]=191,ye[N+12>>2]=35387;for(var B=0;32>B;B++)we[N+B+17]=f[B]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(N=g(),f=[],B=0;32>B;B++)f.push(we[N+B+17]);return 0;case 21519:return S.s?(N=g(),ye[N>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(N=g(),!S.m.Wb)throw new Ye(59);return S.m.Wb(S,d,N);case 21523:return S.s?(S.s.V.Zb&&(B=[24,80],N=g(),K[N>>1]=B[0],K[N+2>>1]=B[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(J){if(typeof _n>"u"||J.name!=="ErrnoError")throw J;return-J.$}},__syscall_openat:function(f,d,_,S){ni=S;try{d=d?rt(L,d):"";var N=d;if(N.charAt(0)==="/")d=N;else{var B=f===-100?"/":Di(f).path;if(N.length==0)throw new Ye(44);d=D(B+"/"+N)}var J=S?g():0;return qr(d,_,J).W}catch(Z){if(typeof _n>"u"||Z.name!=="ErrnoError")throw Z;return-Z.$}},_abort_js:()=>{wt("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=tn(f),d=Pe(d,"wrapper"),_=Vn(_);var S=d.i,N=S.M,B=S.C.M,J=S.C.constructor;return f=_r(f,function(...Z){S.C.pb.forEach((function(ce){if(this[ce]===B[ce])throw new Ga(`Pure virtual function ${ce} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:N}),this.__construct(...Z)}),N.__construct=function(...Z){if(this===N)throw new dt("Pass correct 'this' to __construct");Z=J.implement(this,...Z),ut(Z);var ce=Z.g;if(Z.notifyOnDestruction(),ce.ha=!0,Object.defineProperties(this,{g:{value:ce}}),Nn(this),Z=ce.o,Z=Ne(S,Z),be.hasOwnProperty(Z))throw new dt(`Tried to register registered instance: ${Z}`);be[Z]=this},N.__destruct=function(){if(this===N)throw new dt("Pass correct 'this' to __destruct");ut(this);var Z=this.g.o;if(Z=Ne(S,Z),be.hasOwnProperty(Z))delete be[Z];else throw new dt(`Tried to unregister unregistered instance: ${Z}`)},f.prototype=Object.create(N),Object.assign(f.prototype,_),In(f)},_embind_finalize_value_object:f=>{var d=cr[f];delete cr[f];var _=d.Na,S=d.O,N=d.eb,B=N.map(J=>J.Ub).concat(N.map(J=>J.kc));Vt([f],B,J=>{var Z={};return N.forEach((ce,oe)=>{var Oe=J[oe],Ke=ce.Sb,at=ce.Tb,ee=J[oe+N.length],je=ce.jc,tt=ce.lc;Z[ce.Ob]={read:ze=>Oe.fromWireType(Ke(at,ze)),write:(ze,hn)=>{var We=[];je(tt,ze,ee.toWireType(We,hn)),br(We)}}}),[{name:d.name,fromWireType:ce=>{var oe={},Oe;for(Oe in Z)oe[Oe]=Z[Oe].read(ce);return S(ce),oe},toWireType:(ce,oe)=>{for(var Oe in Z)if(!(Oe in oe))throw new TypeError(`Missing field: "${Oe}"`);var Ke=_();for(Oe in Z)Z[Oe].write(Ke,oe[Oe]);return ce!==null&&ce.push(S,Ke),Ke},argPackAdvance:8,readValueFromPointer:Vi,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=tn(d),Xi(f,{name:d,fromWireType:function(N){return!!N},toWireType:function(N,B){return B?_:S},argPackAdvance:8,readValueFromPointer:function(N){return this.fromWireType(L[N])},L:null})},_embind_register_class:(f,d,_,S,N,B,J,Z,ce,oe,Oe,Ke,at)=>{Oe=tn(Oe),B=si(N,B),Z&&=si(J,Z),oe&&=si(ce,oe),at=si(Ke,at);var ee=Or(Oe);Dr(ee,function(){fr(`Cannot construct ${Oe} due to unbound types`,[S])}),Vt([f,d,_],S?[S]:[],je=>{if(je=je[0],S)var tt=je.i,ze=tt.M;else ze=Aa.prototype;je=_r(Oe,function(...bn){if(Object.getPrototypeOf(this)!==hn)throw new dt("Use 'new' to construct "+Oe);if(We.Z===void 0)throw new dt(Oe+" has no accessible constructor");var oi=We.Z[bn.length];if(oi===void 0)throw new dt(`Tried to invoke ctor of ${Oe} with invalid number of parameters (${bn.length}) - expected (${Object.keys(We.Z).toString()}) parameters instead!`);return oi.apply(this,bn)});var hn=Object.create(ze,{constructor:{value:je}});je.prototype=hn;var We=new Ti(Oe,je,hn,at,tt,B,Z,oe);if(We.C){var Ut;(Ut=We.C).na??(Ut.na=[]),We.C.na.push(We)}return tt=new kr(Oe,We,!0,!1,!1),Ut=new kr(Oe+"*",We,!1,!1,!1),ze=new kr(Oe+" const*",We,!1,!0,!1),Sn[f]={pointerType:Ut,Hb:ze},Ya(ee,je),[tt,Ut,ze]})},_embind_register_class_class_function:(f,d,_,S,N,B,J)=>{var Z=Ka(_,S);d=tn(d),d=Is(d),B=si(N,B),Vt([],[f],ce=>{function oe(){fr(`Cannot call ${Oe} due to unbound types`,Z)}ce=ce[0];var Oe=`${ce.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Ke=ce.i.constructor;return Ke[d]===void 0?(oe.da=_-1,Ke[d]=oe):(ca(Ke,d,Oe),Ke[d].A[_-1]=oe),Vt([],Z,at=>{if(at=ha(Oe,[at[0],null].concat(at.slice(1)),null,B,J),Ke[d].A===void 0?(at.da=_-1,Ke[d]=at):Ke[d].A[_-1]=at,ce.i.na)for(const ee of ce.i.na)ee.constructor.hasOwnProperty(d)||(ee.constructor[d]=at);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,N,B,J,Z)=>{d=tn(d),B=si(N,B),Vt([],[f],ce=>{ce=ce[0];var oe=`${ce.name}.${d}`,Oe={get(){fr(`Cannot access ${oe} due to unbound types`,[_])},enumerable:!0,configurable:!0};return Oe.set=Z?()=>{fr(`Cannot access ${oe} due to unbound types`,[_])}:()=>{throw new dt(`${oe} is a read-only property`)},Object.defineProperty(ce.i.constructor,d,Oe),Vt([],[_],Ke=>{Ke=Ke[0];var at={get(){return Ke.fromWireType(B(S))},enumerable:!0};return Z&&(Z=si(J,Z),at.set=ee=>{var je=[];Z(S,Ke.toWireType(je,ee)),br(je)}),Object.defineProperty(ce.i.constructor,d,at),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,N,B)=>{var J=Ka(d,_);N=si(S,N),Vt([],[f],Z=>{Z=Z[0];var ce=`constructor ${Z.name}`;if(Z.i.Z===void 0&&(Z.i.Z=[]),Z.i.Z[d-1]!==void 0)throw new dt(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${Z.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return Z.i.Z[d-1]=()=>{fr(`Cannot construct ${Z.name} due to unbound types`,J)},Vt([],J,oe=>(oe.splice(1,0,null),Z.i.Z[d-1]=ha(ce,oe,null,N,B),[])),[]})},_embind_register_class_function:(f,d,_,S,N,B,J,Z)=>{var ce=Ka(_,S);d=tn(d),d=Is(d),B=si(N,B),Vt([],[f],oe=>{function Oe(){fr(`Cannot call ${Ke} due to unbound types`,ce)}oe=oe[0];var Ke=`${oe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),Z&&oe.i.pb.push(d);var at=oe.i.M,ee=at[d];return ee===void 0||ee.A===void 0&&ee.className!==oe.name&&ee.da===_-2?(Oe.da=_-2,Oe.className=oe.name,at[d]=Oe):(ca(at,d,Ke),at[d].A[_-2]=Oe),Vt([],ce,je=>(je=ha(Ke,je,oe,B,J),at[d].A===void 0?(je.da=_-2,at[d]=je):at[d].A[_-2]=je,[])),[]})},_embind_register_class_property:(f,d,_,S,N,B,J,Z,ce,oe)=>{d=tn(d),N=si(S,N),Vt([],[f],Oe=>{Oe=Oe[0];var Ke=`${Oe.name}.${d}`,at={get(){fr(`Cannot access ${Ke} due to unbound types`,[_,J])},enumerable:!0,configurable:!0};return at.set=ce?()=>fr(`Cannot access ${Ke} due to unbound types`,[_,J]):()=>{throw new dt(Ke+" is a read-only property")},Object.defineProperty(Oe.i.M,d,at),Vt([],ce?[_,J]:[_],ee=>{var je=ee[0],tt={get(){var hn=Vr(this,Oe,Ke+" getter");return je.fromWireType(N(B,hn))},enumerable:!0};if(ce){ce=si(Z,ce);var ze=ee[1];tt.set=function(hn){var We=Vr(this,Oe,Ke+" setter"),Ut=[];ce(oe,We,ze.toWireType(Ut,hn)),br(Ut)}}return Object.defineProperty(Oe.i.M,d,tt),[]}),[]})},_embind_register_emval:f=>Xi(f,$o),_embind_register_enum:(f,d,_,S)=>{function N(){}d=tn(d),N.values={},Xi(f,{name:d,constructor:N,fromWireType:function(B){return this.constructor.values[B]},toWireType:(B,J)=>J.value,argPackAdvance:8,readValueFromPointer:Jo(d,_,S),L:null}),Dr(d,N)},_embind_register_enum_value:(f,d,_)=>{var S=Pe(f,"enum");d=tn(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:_r(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=tn(d),Xi(f,{name:d,fromWireType:S=>S,toWireType:(S,N)=>N,argPackAdvance:8,readValueFromPointer:Ra(d,_),L:null})},_embind_register_function:(f,d,_,S,N,B)=>{var J=Ka(d,_);f=tn(f),f=Is(f),N=si(S,N),Dr(f,function(){fr(`Cannot call ${f} due to unbound types`,J)},d-1),Vt([],J,Z=>(Ya(f,ha(f,[Z[0],null].concat(Z.slice(1)),null,N,B),d-1),[]))},_embind_register_integer:(f,d,_,S,N)=>{if(d=tn(d),N===-1&&(N=4294967295),N=Z=>Z,S===0){var B=32-8*_;N=Z=>Z<<B>>>B}var J=d.includes("unsigned")?function(Z,ce){return ce>>>0}:function(Z,ce){return ce};Xi(f,{name:d,fromWireType:N,toWireType:J,argPackAdvance:8,readValueFromPointer:Pi(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(B){return new N(we.buffer,Me[B+4>>2],Me[B>>2])}var N=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=tn(_),Xi(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=tn(d);var _=d==="std::string";Xi(f,{name:d,fromWireType:function(S){var N=Me[S>>2],B=S+4;if(_)for(var J=B,Z=0;Z<=N;++Z){var ce=B+Z;if(Z==N||L[ce]==0){if(J=J?rt(L,J,ce-J):"",oe===void 0)var oe=J;else oe+="\0",oe+=J;J=ce+1}}else{for(oe=Array(N),Z=0;Z<N;++Z)oe[Z]=String.fromCharCode(L[B+Z]);oe=oe.join("")}return mr(S),oe},toWireType:function(S,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var B=typeof N=="string";if(!(B||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array))throw new dt("Cannot pass non-string to std::string");var J=_&&B?xn(N):N.length,Z=Ja(4+J+1),ce=Z+4;if(Me[Z>>2]=J,_&&B)pn(N,L,ce,J+1);else if(B)for(B=0;B<J;++B){var oe=N.charCodeAt(B);if(255<oe)throw mr(ce),new dt("String has UTF-16 code units that do not fit in 8 bits");L[ce+B]=oe}else for(B=0;B<J;++B)L[ce+B]=N[B];return S!==null&&S.push(mr,Z),Z},argPackAdvance:8,readValueFromPointer:Vi,L(S){mr(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=tn(_),d===2)var S=Zo,N=fa,B=u,J=Z=>Ee[Z>>1];else d===4&&(S=y,N=A,B=O,J=Z=>Me[Z>>2]);Xi(f,{name:_,fromWireType:Z=>{for(var ce=Me[Z>>2],oe,Oe=Z+4,Ke=0;Ke<=ce;++Ke){var at=Z+4+Ke*d;(Ke==ce||J(at)==0)&&(Oe=S(Oe,at-Oe),oe===void 0?oe=Oe:(oe+="\0",oe+=Oe),Oe=at+d)}return mr(Z),oe},toWireType:(Z,ce)=>{if(typeof ce!="string")throw new dt(`Cannot pass non-string to C++ string type ${_}`);var oe=B(ce),Oe=Ja(4+oe+d);return Me[Oe>>2]=oe/d,N(ce,Oe+4,oe+d),Z!==null&&Z.push(mr,Oe),Oe},argPackAdvance:8,readValueFromPointer:Vi,L(Z){mr(Z)}})},_embind_register_value_object:(f,d,_,S,N,B)=>{cr[f]={name:tn(d),Na:si(_,S),O:si(N,B),eb:[]}},_embind_register_value_object_field:(f,d,_,S,N,B,J,Z,ce,oe)=>{cr[f].eb.push({Ob:tn(d),Ub:_,Sb:si(S,N),Tb:B,kc:J,jc:si(Z,ce),lc:oe})},_embind_register_void:(f,d)=>{d=tn(d),Xi(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>L.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=Vn(f),d=Pe(d,"emval::as"),re(d,_,f)),_emval_call_method:(f,d,_,S,N)=>(f=St[f],d=Vn(d),_=Ue(_),f(d,d[_],S,N)),_emval_decref:Ms,_emval_get_method_caller:(f,d,_)=>{var S=on(f,d),N=S.shift();f--;var B=Array(f);return d=`methodCaller<(${S.map(J=>J.name).join(", ")}) => ${N.name}>`,ei(_r(d,(J,Z,ce,oe)=>{for(var Oe=0,Ke=0;Ke<f;++Ke)B[Ke]=S[Ke].readValueFromPointer(oe+Oe),Oe+=S[Ke].argPackAdvance;return J=_===1?jn(Z,B):Z.apply(J,B),re(N,ce,J)}))},_emval_get_module_property:f=>(f=Ue(f),In(F[f])),_emval_get_property:(f,d)=>(f=Vn(f),d=Vn(d),In(f[d])),_emval_incref:f=>{9<f&&(wi[f+1]+=1)},_emval_new_array:()=>In([]),_emval_new_cstring:f=>In(Ue(f)),_emval_new_object:()=>In({}),_emval_run_destructors:f=>{var d=Vn(f);br(d),Ms(f)},_emval_set_property:(f,d,_)=>{f=Vn(f),d=Vn(d),_=Vn(_),f[d]=_},_emval_take_value:(f,d)=>(f=Pe(f,"_emval_take_value"),f=f.readValueFromPointer(d),In(f)),emscripten_asm_const_int:(f,d,_)=>{Qi.length=0;for(var S;S=L[d++];){var N=S!=105;N&=S!=112,_+=N&&_%8?4:0,Qi.push(S==112?Me[_>>2]:S==105?ye[_>>2]:ht[_>>3]),_+=N?8:4}return An[f](...Qi)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=L.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var N=Math;S=Math.max(f,S);e:{N=(N.min.call(N,2147483648,S+(65536-S%65536)%65536)-ve.buffer.byteLength+65535)/65536;try{ve.grow(N),mt();var B=1;break e}catch{}B=void 0}if(B)return!0}return!1},environ_get:(f,d)=>{var _=0;return Tr().forEach((S,N)=>{var B=d+_;for(N=Me[f+4*N>>2]=B,B=0;B<S.length;++B)we[N++]=S.charCodeAt(B);we[N]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=Tr();Me[f>>2]=_.length;var S=0;return _.forEach(N=>S+=N.length+1),Me[d>>2]=S,0},fd_close:function(f){try{var d=Di(f);if(d.W===null)throw new Ye(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{nr[d.W]=null}return d.W=null,0}catch(_){if(typeof _n>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var N=Di(f);f=d;for(var B,J=d=0;J<_;J++){var Z=Me[f>>2],ce=Me[f+4>>2];f+=8;var oe=N,Oe=B,Ke=we;if(0>ce||0>Oe)throw new Ye(28);if(oe.W===null)throw new Ye(8);if((oe.flags&2097155)===1)throw new Ye(8);if((oe.node.mode&61440)===16384)throw new Ye(31);if(!oe.m.read)throw new Ye(28);var at=typeof Oe<"u";if(!at)Oe=oe.position;else if(!oe.seekable)throw new Ye(70);var ee=oe.m.read(oe,Ke,Z,ce,Oe);at||(oe.position+=ee);var je=ee;if(0>je){var tt=-1;break e}if(d+=je,je<ce)break;typeof B<"u"&&(B+=je)}tt=d}return Me[S>>2]=tt,0}catch(ze){if(typeof _n>"u"||ze.name!=="ErrnoError")throw ze;return ze.$}},fd_seek:function(f,d,_,S,N){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var B=Di(f);return wa(B,d,S),Gt=[B.position>>>0,($n=B.position,1<=+Math.abs($n)?0<$n?+Math.floor($n/4294967296)>>>0:~~+Math.ceil(($n-+(~~$n>>>0))/4294967296)>>>0:0)],ye[N>>2]=Gt[0],ye[N+4>>2]=Gt[1],B.Ka&&d===0&&S===0&&(B.Ka=null),0}catch(J){if(typeof _n>"u"||J.name!=="ErrnoError")throw J;return J.$}},fd_write:function(f,d,_,S){try{e:{var N=Di(f);f=d;for(var B,J=d=0;J<_;J++){var Z=Me[f>>2],ce=Me[f+4>>2];f+=8;var oe=N,Oe=Z,Ke=ce,at=B,ee=we;if(0>Ke||0>at)throw new Ye(28);if(oe.W===null)throw new Ye(8);if((oe.flags&2097155)===0)throw new Ye(8);if((oe.node.mode&61440)===16384)throw new Ye(31);if(!oe.m.write)throw new Ye(28);oe.seekable&&oe.flags&1024&&wa(oe,0,2);var je=typeof at<"u";if(!je)at=oe.position;else if(!oe.seekable)throw new Ye(70);var tt=oe.m.write(oe,ee,Oe,Ke,at,void 0);je||(oe.position+=tt);var ze=tt;if(0>ze){var hn=-1;break e}d+=ze,typeof B<"u"&&(B+=ze)}hn=d}return Me[S>>2]=hn,0}catch(We){if(typeof _n>"u"||We.name!=="ErrnoError")throw We;return We.$}},strftime_l:(f,d,_,S)=>Sf(f,d,_,S)},Hn=(function(){function f(_){return Hn=_.exports,ve=Hn.memory,mt(),Xa=Hn.__indirect_function_table,kt.unshift(Hn.__wasm_call_ctors),At--,F.monitorRunDependencies?.(At),At==0&&Dt&&(_=Dt,Dt=null,_()),Hn}var d={env:eu,wasi_snapshot_preview1:eu};if(At++,F.monitorRunDependencies?.(At),F.instantiateWasm)try{return F.instantiateWasm(d,f)}catch(_){G(`Module.instantiateWasm callback failed with error: ${_}`),Ce(_)}return Jt||=Tn("canvas_advanced.wasm")?"canvas_advanced.wasm":F.locateFile?F.locateFile("canvas_advanced.wasm",P):P+"canvas_advanced.wasm",Gi(d,function(_){f(_.instance)}).catch(Ce),{}})(),mr=f=>(mr=Hn.free)(f),Ja=f=>(Ja=Hn.malloc)(f),gc=f=>(gc=Hn.__getTypeName)(f),Ao=F._ma_device__on_notification_unlocked=f=>(Ao=F._ma_device__on_notification_unlocked=Hn.ma_device__on_notification_unlocked)(f);F._ma_malloc_emscripten=(f,d)=>(F._ma_malloc_emscripten=Hn.ma_malloc_emscripten)(f,d),F._ma_free_emscripten=(f,d)=>(F._ma_free_emscripten=Hn.ma_free_emscripten)(f,d);var tu=F._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(tu=F._ma_device_process_pcm_frames_capture__webaudio=Hn.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),nu=F._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(nu=F._ma_device_process_pcm_frames_playback__webaudio=Hn.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);F.dynCall_iiji=(f,d,_,S,N)=>(F.dynCall_iiji=Hn.dynCall_iiji)(f,d,_,S,N),F.dynCall_jiji=(f,d,_,S,N)=>(F.dynCall_jiji=Hn.dynCall_jiji)(f,d,_,S,N),F.dynCall_iiiji=(f,d,_,S,N,B)=>(F.dynCall_iiiji=Hn.dynCall_iiiji)(f,d,_,S,N,B),F.dynCall_iij=(f,d,_,S)=>(F.dynCall_iij=Hn.dynCall_iij)(f,d,_,S),F.dynCall_jii=(f,d,_)=>(F.dynCall_jii=Hn.dynCall_jii)(f,d,_),F.dynCall_viijii=(f,d,_,S,N,B,J)=>(F.dynCall_viijii=Hn.dynCall_viijii)(f,d,_,S,N,B,J),F.dynCall_iiiiij=(f,d,_,S,N,B,J)=>(F.dynCall_iiiiij=Hn.dynCall_iiiiij)(f,d,_,S,N,B,J),F.dynCall_iiiiijj=(f,d,_,S,N,B,J,Z,ce)=>(F.dynCall_iiiiijj=Hn.dynCall_iiiiijj)(f,d,_,S,N,B,J,Z,ce),F.dynCall_iiiiiijj=(f,d,_,S,N,B,J,Z,ce,oe)=>(F.dynCall_iiiiiijj=Hn.dynCall_iiiiiijj)(f,d,_,S,N,B,J,Z,ce,oe);var Ds;Dt=function f(){Ds||tl(),Ds||(Dt=f)};function tl(){function f(){if(!Ds&&(Ds=!0,F.calledRun=!0,!he)){if(F.noFSInit||Ea||(Ea=!0,F.stdin=F.stdin,F.stdout=F.stdout,F.stderr=F.stderr,F.stdin?vr("stdin",F.stdin):ki("/dev/tty","/dev/stdin"),F.stdout?vr("stdout",null,F.stdout):ki("/dev/tty","/dev/stdout"),F.stderr?vr("stderr",null,F.stderr):ki("/dev/tty1","/dev/stderr"),qr("/dev/stdin",0),qr("/dev/stdout",1),qr("/dev/stderr",1)),rr=!1,C(kt),Ie(F),F.onRuntimeInitialized&&F.onRuntimeInitialized(),F.postRun)for(typeof F.postRun=="function"&&(F.postRun=[F.postRun]);F.postRun.length;){var d=F.postRun.shift();un.unshift(d)}C(un)}}if(!(0<At)){if(F.preRun)for(typeof F.preRun=="function"&&(F.preRun=[F.preRun]);F.preRun.length;)ft();C(bt),0<At||(F.setStatus?(F.setStatus("Running..."),setTimeout(function(){setTimeout(function(){F.setStatus("")},1),f()},1)):f())}}if(F.preInit)for(typeof F.preInit=="function"&&(F.preInit=[F.preInit]);0<F.preInit.length;)F.preInit.pop()();return tl(),ie=ke,ie})})();const I=w}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w.Animation});var w=E(4)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w});var w=(function(){function I(U,j,ie,F){this.animation=U,this.artboard=j,this.playing=F,this.loopCount=0,this.scrubTo=null,this.instance=new ie.LinearAnimationInstance(U,j)}return Object.defineProperty(I.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"time",{get:function(){return this.instance.time},set:function(U){this.instance.time=U},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),I.prototype.advance=function(U){this.scrubTo===null?this.instance.advance(U):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},I.prototype.apply=function(U){this.instance.apply(U)},I.prototype.cleanup=function(){this.instance.delete()},I})()}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>U.AudioAssetWrapper,AudioWrapper:()=>U.AudioWrapper,BLANK_URL:()=>I.BLANK_URL,CustomFileAssetLoaderWrapper:()=>U.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>U.FileAssetWrapper,FileFinalizer:()=>U.FileFinalizer,FontAssetWrapper:()=>U.FontAssetWrapper,FontWrapper:()=>U.FontWrapper,ImageAssetWrapper:()=>U.ImageAssetWrapper,ImageWrapper:()=>U.ImageWrapper,createFinalization:()=>U.createFinalization,finalizationRegistry:()=>U.finalizationRegistry,registerTouchInteractions:()=>w.registerTouchInteractions,sanitizeUrl:()=>I.sanitizeUrl});var w=E(6),I=E(7),U=E(8)}),((p,b,E)=>{E.r(b),E.d(b,{registerTouchInteractions:()=>U});var w=void 0,I=function(j,ie,F){var Ie,Ce,ke=[];if(["touchstart","touchmove"].indexOf(j.type)>-1&&(!((Ie=j.changedTouches)===null||Ie===void 0)&&Ie.length)){ie||j.preventDefault();for(var Ve=0,Be=F?j.changedTouches.length:1;Ve<Be;){var Xe=j.changedTouches[Ve];ke.push({clientX:Xe.clientX,clientY:Xe.clientY,identifier:Xe.identifier}),Ve++}}else if(j.type==="touchend"&&(!((Ce=j.changedTouches)===null||Ce===void 0)&&Ce.length))for(var Ve=0,Be=F?j.changedTouches.length:1;Ve<Be;){var Xe=j.changedTouches[Ve];ke.push({clientX:Xe.clientX,clientY:Xe.clientY,identifier:Xe.identifier}),Ve++}else ke.push({clientX:j.clientX,clientY:j.clientY,identifier:0});return ke},U=function(j){var ie=j.canvas,F=j.artboard,Ie=j.stateMachines,Ce=Ie===void 0?[]:Ie,ke=j.renderer,Ve=j.rive,Be=j.fit,Xe=j.alignment,ct=j.isTouchScrollEnabled,pt=ct===void 0?!1:ct,q=j.dispatchPointerExit,z=q===void 0?!0:q,V=j.enableMultiTouch,H=V===void 0?!1:V,x=j.layoutScaleFactor,P=x===void 0?1:x;if(!ie||!Ce.length||!ke||!Ve||!F||typeof window>"u")return null;var R=null,Q=!1,ae=function(te){if(Q&&te instanceof MouseEvent){te.type=="mouseup"&&(Q=!1);return}Q=pt&&te.type==="touchend"&&R==="touchstart",R=te.type;var ve=te.currentTarget.getBoundingClientRect(),he=I(te,pt,H),we=Ve.computeAlignment(Be,Xe,{minX:0,minY:0,maxX:ve.width,maxY:ve.height},F.bounds,P),L=new Ve.Mat2D;switch(we.invert(L),he.forEach(function(Jt){var it=Jt.clientX,sn=Jt.clientY;if(!(!it&&!sn)){var mn=it-ve.left,Gi=sn-ve.top,$n=new Ve.Vec2D(mn,Gi),Gt=Ve.mapXY(L,$n),An=Gt.x(),C=Gt.y();Jt.transformedX=An,Jt.transformedY=C,Gt.delete(),$n.delete()}}),L.delete(),we.delete(),te.type){case"mouseout":for(var K=function(Jt){z?he.forEach(function(it){Jt.pointerExit(it.transformedX,it.transformedY,it.identifier)}):he.forEach(function(it){Jt.pointerMove(it.transformedX,it.transformedY,it.identifier)})},Ee=0,ye=Ce;Ee<ye.length;Ee++){var Me=ye[Ee];K(Me)}break;case"touchmove":case"mouseover":case"mousemove":{for(var He=function(Jt){he.forEach(function(it){Jt.pointerMove(it.transformedX,it.transformedY,it.identifier)})},ht=0,mt=Ce;ht<mt.length;ht++){var Me=mt[ht];He(Me)}break}case"touchstart":case"mousedown":{for(var bt=function(Jt){he.forEach(function(it){Jt.pointerDown(it.transformedX,it.transformedY,it.identifier)})},kt=0,un=Ce;kt<un.length;kt++){var Me=un[kt];bt(Me)}break}case"touchend":{for(var ft=function(Jt){he.forEach(function(it){Jt.pointerUp(it.transformedX,it.transformedY,it.identifier),Jt.pointerExit(it.transformedX,it.transformedY,it.identifier)})},At=0,Dt=Ce;At<Dt.length;At++){var Me=Dt[At];ft(Me)}break}case"mouseup":{for(var wt=function(Jt){he.forEach(function(it){Jt.pointerUp(it.transformedX,it.transformedY,it.identifier)})},Tn=0,hi=Ce;Tn<hi.length;Tn++){var Me=hi[Tn];wt(Me)}break}}},G=ae.bind(w);return ie.addEventListener("mouseover",G),ie.addEventListener("mouseout",G),ie.addEventListener("mousemove",G),ie.addEventListener("mousedown",G),ie.addEventListener("mouseup",G),ie.addEventListener("touchmove",G,{passive:pt}),ie.addEventListener("touchstart",G,{passive:pt}),ie.addEventListener("touchend",G),function(){ie.removeEventListener("mouseover",G),ie.removeEventListener("mouseout",G),ie.removeEventListener("mousemove",G),ie.removeEventListener("mousedown",G),ie.removeEventListener("mouseup",G),ie.removeEventListener("touchmove",G),ie.removeEventListener("touchstart",G),ie.removeEventListener("touchend",G)}}}),((p,b,E)=>{E.r(b),E.d(b,{BLANK_URL:()=>Ie,sanitizeUrl:()=>Ve});var w=/^([^\w]*)(javascript|data|vbscript)/im,I=/&#(\w+)(^\w|;)?/g,U=/&(newline|tab);/gi,j=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ie=/^.+(:|&colon;)/gim,F=[".","/"],Ie="about:blank";function Ce(Be){return F.indexOf(Be[0])>-1}function ke(Be){var Xe=Be.replace(j,"");return Xe.replace(I,function(ct,pt){return String.fromCharCode(pt)})}function Ve(Be){if(!Be)return Ie;var Xe=ke(Be).replace(U,"").replace(j,"").trim();if(!Xe)return Ie;if(Ce(Xe))return Xe;var ct=Xe.match(ie);if(!ct)return Xe;var pt=ct[0];return w.test(pt)?Ie:Xe}}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>Be,AudioWrapper:()=>F,CustomFileAssetLoaderWrapper:()=>Ce,FileAssetWrapper:()=>ke,FileFinalizer:()=>I,FontAssetWrapper:()=>Xe,FontWrapper:()=>Ie,ImageAssetWrapper:()=>Ve,ImageWrapper:()=>ie,createFinalization:()=>z,finalizationRegistry:()=>q});var w=(function(){var V=function(H,x){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,R){P.__proto__=R}||function(P,R){for(var Q in R)Object.prototype.hasOwnProperty.call(R,Q)&&(P[Q]=R[Q])},V(H,x)};return function(H,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");V(H,x);function P(){this.constructor=H}H.prototype=x===null?Object.create(x):(P.prototype=x.prototype,new P)}})(),I=(function(){function V(H){this.selfUnref=!1,this._file=H}return V.prototype.unref=function(){this._file&&this._file.unref()},V})(),U=(function(){function V(H){this._finalizableObject=H}return V.prototype.unref=function(){this._finalizableObject.unref()},V})(),j=(function(){function V(){this.selfUnref=!1}return V.prototype.unref=function(){},V})(),ie=(function(V){w(H,V);function H(x){var P=V.call(this)||this;return P._nativeImage=x,P}return Object.defineProperty(H.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},H})(j),F=(function(V){w(H,V);function H(x){var P=V.call(this)||this;return P._nativeAudio=x,P}return Object.defineProperty(H.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},H})(j),Ie=(function(V){w(H,V);function H(x){var P=V.call(this)||this;return P._nativeFont=x,P}return Object.defineProperty(H.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},H})(j),Ce=(function(){function V(H,x){this._assetLoaderCallback=x,this.assetLoader=new H.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return V.prototype.loadContents=function(H,x){var P;return H.isImage?P=new Ve(H):H.isAudio?P=new Be(H):H.isFont&&(P=new Xe(H)),this._assetLoaderCallback(P,x)},V})(),ke=(function(){function V(H){this._nativeFileAsset=H}return V.prototype.decode=function(H){this._nativeFileAsset.decode(H)},Object.defineProperty(V.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),V})(),Ve=(function(V){w(H,V);function H(){return V!==null&&V.apply(this,arguments)||this}return H.prototype.setRenderImage=function(x){this._nativeFileAsset.setRenderImage(x.nativeImage)},H})(ke),Be=(function(V){w(H,V);function H(){return V!==null&&V.apply(this,arguments)||this}return H.prototype.setAudioSource=function(x){this._nativeFileAsset.setAudioSource(x.nativeAudio)},H})(ke),Xe=(function(V){w(H,V);function H(){return V!==null&&V.apply(this,arguments)||this}return H.prototype.setFont=function(x){this._nativeFileAsset.setFont(x.nativeFont)},H})(ke),ct=(function(){function V(H){}return V.prototype.register=function(H){H.selfUnref=!0},V.prototype.unregister=function(H){},V})(),pt=typeof FinalizationRegistry<"u"?FinalizationRegistry:ct,q=new pt(function(V){V?.unref()}),z=function(V,H){var x=new U(H);q.register(V,x)}})],s={};function l(p){var b=s[p];if(b!==void 0)return b.exports;var E=s[p]={exports:{}};return i[p](E,E.exports,l),E.exports}l.d=(p,b)=>{for(var E in b)l.o(b,E)&&!l.o(p,E)&&Object.defineProperty(p,E,{enumerable:!0,get:b[E]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>Ve,DataEnum:()=>ht,EventType:()=>R,Fit:()=>ke,Layout:()=>Be,LoopType:()=>Q,Rive:()=>Me,RiveEventType:()=>q,RiveFile:()=>ye,RuntimeLoader:()=>Xe,StateMachineInput:()=>pt,StateMachineInputType:()=>ct,Testing:()=>Gi,ViewModel:()=>He,ViewModelInstance:()=>bt,ViewModelInstanceArtboard:()=>it,ViewModelInstanceAssetImage:()=>Jt,ViewModelInstanceBoolean:()=>At,ViewModelInstanceColor:()=>hi,ViewModelInstanceEnum:()=>wt,ViewModelInstanceList:()=>Tn,ViewModelInstanceNumber:()=>ft,ViewModelInstanceString:()=>un,ViewModelInstanceTrigger:()=>Dt,ViewModelInstanceValue:()=>kt,decodeAudio:()=>$n,decodeFont:()=>An,decodeImage:()=>Gt});var p=l(1),b=l(2),E=l(3),w=l(5),I=(function(){var C=function(g,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,W){D.__proto__=W}||function(D,W){for(var me in W)Object.prototype.hasOwnProperty.call(W,me)&&(D[me]=W[me])},C(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(g,v);function D(){this.constructor=g}g.prototype=v===null?Object.create(v):(D.prototype=v.prototype,new D)}})(),U=function(){return U=Object.assign||function(C){for(var g,v=1,D=arguments.length;v<D;v++){g=arguments[v];for(var W in g)Object.prototype.hasOwnProperty.call(g,W)&&(C[W]=g[W])}return C},U.apply(this,arguments)},j=function(C,g,v,D){function W(me){return me instanceof v?me:new v(function(Re){Re(me)})}return new(v||(v=Promise))(function(me,Re){function Qe(rt){try{Ge(D.next(rt))}catch(Bt){Re(Bt)}}function Je(rt){try{Ge(D.throw(rt))}catch(Bt){Re(Bt)}}function Ge(rt){rt.done?me(rt.value):W(rt.value).then(Qe,Je)}Ge((D=D.apply(C,g||[])).next())})},ie=function(C,g){var v={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},D,W,me,Re=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Re.next=Qe(0),Re.throw=Qe(1),Re.return=Qe(2),typeof Symbol=="function"&&(Re[Symbol.iterator]=function(){return this}),Re;function Qe(Ge){return function(rt){return Je([Ge,rt])}}function Je(Ge){if(D)throw new TypeError("Generator is already executing.");for(;Re&&(Re=0,Ge[0]&&(v=0)),v;)try{if(D=1,W&&(me=Ge[0]&2?W.return:Ge[0]?W.throw||((me=W.return)&&me.call(W),0):W.next)&&!(me=me.call(W,Ge[1])).done)return me;switch(W=0,me&&(Ge=[Ge[0]&2,me.value]),Ge[0]){case 0:case 1:me=Ge;break;case 4:return v.label++,{value:Ge[1],done:!1};case 5:v.label++,W=Ge[1],Ge=[0];continue;case 7:Ge=v.ops.pop(),v.trys.pop();continue;default:if(me=v.trys,!(me=me.length>0&&me[me.length-1])&&(Ge[0]===6||Ge[0]===2)){v=0;continue}if(Ge[0]===3&&(!me||Ge[1]>me[0]&&Ge[1]<me[3])){v.label=Ge[1];break}if(Ge[0]===6&&v.label<me[1]){v.label=me[1],me=Ge;break}if(me&&v.label<me[2]){v.label=me[2],v.ops.push(Ge);break}me[2]&&v.ops.pop(),v.trys.pop();continue}Ge=g.call(C,v)}catch(rt){Ge=[6,rt],W=0}finally{D=me=0}if(Ge[0]&5)throw Ge[1];return{value:Ge[0]?Ge[1]:void 0,done:!0}}},F=function(C,g,v){if(v||arguments.length===2)for(var D=0,W=g.length,me;D<W;D++)(me||!(D in g))&&(me||(me=Array.prototype.slice.call(g,0,D)),me[D]=g[D]);return C.concat(me||Array.prototype.slice.call(g))},Ie=(function(C){I(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Ce=function(C){return C&&C.isHandledError?C.message:"Problem loading file; may be corrupt!"},ke;(function(C){C.Cover="cover",C.Contain="contain",C.Fill="fill",C.FitWidth="fitWidth",C.FitHeight="fitHeight",C.None="none",C.ScaleDown="scaleDown",C.Layout="layout"})(ke||(ke={}));var Ve;(function(C){C.Center="center",C.TopLeft="topLeft",C.TopCenter="topCenter",C.TopRight="topRight",C.CenterLeft="centerLeft",C.CenterRight="centerRight",C.BottomLeft="bottomLeft",C.BottomCenter="bottomCenter",C.BottomRight="bottomRight"})(Ve||(Ve={}));var Be=(function(){function C(g){var v,D,W,me,Re,Qe,Je;this.fit=(v=g?.fit)!==null&&v!==void 0?v:ke.Contain,this.alignment=(D=g?.alignment)!==null&&D!==void 0?D:Ve.Center,this.layoutScaleFactor=(W=g?.layoutScaleFactor)!==null&&W!==void 0?W:1,this.minX=(me=g?.minX)!==null&&me!==void 0?me:0,this.minY=(Re=g?.minY)!==null&&Re!==void 0?Re:0,this.maxX=(Qe=g?.maxX)!==null&&Qe!==void 0?Qe:0,this.maxY=(Je=g?.maxY)!==null&&Je!==void 0?Je:0}return C.new=function(g){var v=g.fit,D=g.alignment,W=g.minX,me=g.minY,Re=g.maxX,Qe=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new C({fit:v,alignment:D,minX:W,minY:me,maxX:Re,maxY:Qe})},C.prototype.copyWith=function(g){var v=g.fit,D=g.alignment,W=g.layoutScaleFactor,me=g.minX,Re=g.minY,Qe=g.maxX,Je=g.maxY;return new C({fit:v??this.fit,alignment:D??this.alignment,layoutScaleFactor:W??this.layoutScaleFactor,minX:me??this.minX,minY:Re??this.minY,maxX:Qe??this.maxX,maxY:Je??this.maxY})},C.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===ke.Cover?v=g.Fit.cover:this.fit===ke.Contain?v=g.Fit.contain:this.fit===ke.Fill?v=g.Fit.fill:this.fit===ke.FitWidth?v=g.Fit.fitWidth:this.fit===ke.FitHeight?v=g.Fit.fitHeight:this.fit===ke.ScaleDown?v=g.Fit.scaleDown:this.fit===ke.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},C.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===Ve.TopLeft?v=g.Alignment.topLeft:this.alignment===Ve.TopCenter?v=g.Alignment.topCenter:this.alignment===Ve.TopRight?v=g.Alignment.topRight:this.alignment===Ve.CenterLeft?v=g.Alignment.centerLeft:this.alignment===Ve.CenterRight?v=g.Alignment.centerRight:this.alignment===Ve.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===Ve.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===Ve.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},C})(),Xe=(function(){function C(){}return C.loadRuntime=function(){p.default({locateFile:function(){return C.wasmURL}}).then(function(g){var v;for(C.runtime=g;C.callBackQueue.length>0;)(v=C.callBackQueue.shift())===null||v===void 0||v(C.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var D="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(C.wasmURL.toLowerCase()!==D)console.warn("Failed to load WASM from ".concat(C.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),C.setWasmUrl(D),C.loadRuntime();else{var W=["Could not load Rive WASM file from ".concat(C.wasmURL," or ").concat(D,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(W)}})},C.getInstance=function(g){C.isLoading||(C.isLoading=!0,C.loadRuntime()),C.runtime?g(C.runtime):C.callBackQueue.push(g)},C.awaitInstance=function(){return new Promise(function(g){return C.getInstance(function(v){return g(v)})})},C.setWasmUrl=function(g){C.wasmURL=g},C.getWasmUrl=function(){return C.wasmURL},C.isLoading=!1,C.callBackQueue=[],C.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),C})(),ct;(function(C){C[C.Number=56]="Number",C[C.Trigger=58]="Trigger",C[C.Boolean=59]="Boolean"})(ct||(ct={}));var pt=(function(){function C(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(C.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),C.prototype.fire=function(){this.type===ct.Trigger&&this.runtimeInput.fire()},C.prototype.delete=function(){this.runtimeInput=null},C})(),q;(function(C){C[C.General=128]="General",C[C.OpenUrl=131]="OpenUrl"})(q||(q={}));var z=(function(){function C(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return C})(),V=(function(C){I(g,C);function g(v,D){var W=C.call(this,!1)||this;return W.nativeArtboard=v,W.file=D,W}return g})(z),H=(function(C){I(g,C);function g(v){var D=C.call(this,!0)||this;return D.selfUnref=!1,D.nativeArtboard=v,D}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(z),x=(function(){function C(g,v,D,W){this.stateMachine=g,this.playing=D,this.artboard=W,this.inputs=[],this.instance=new v.StateMachineInstance(g,W),this.initInputs(v)}return Object.defineProperty(C.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),C.prototype.advance=function(g){this.instance.advance(g)},C.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},C.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},C.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},C.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var D=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(D,g))}},C.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new pt(ct.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new pt(ct.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new pt(ct.Trigger,g.asTrigger())},C.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},C.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},C})(),P=(function(){function C(g,v,D,W,me){W===void 0&&(W=[]),me===void 0&&(me=[]),this.runtime=g,this.artboard=v,this.eventManager=D,this.animations=W,this.stateMachines=me}return C.prototype.add=function(g,v,D){if(D===void 0&&(D=!0),g=mn(g),g.length===0)this.animations.forEach(function(pn){return pn.playing=v}),this.stateMachines.forEach(function(pn){return pn.playing=v});else for(var W=this.animations.map(function(pn){return pn.name}),me=this.stateMachines.map(function(pn){return pn.name}),Re=0;Re<g.length;Re++){var Qe=W.indexOf(g[Re]),Je=me.indexOf(g[Re]);if(Qe>=0||Je>=0)Qe>=0?this.animations[Qe].playing=v:this.stateMachines[Je].playing=v;else{var Ge=this.artboard.animationByName(g[Re]);if(Ge){var rt=new E.Animation(Ge,this.artboard,this.runtime,v);rt.advance(0),rt.apply(1),this.animations.push(rt)}else{var Bt=this.artboard.stateMachineByName(g[Re]);if(Bt){var xn=new x(Bt,this.runtime,v,this.artboard);this.stateMachines.push(xn)}}}}return D&&(v?this.eventManager.fire({type:R.Play,data:this.playing}):this.eventManager.fire({type:R.Pause,data:this.paused})),v?this.playing:this.paused},C.prototype.initLinearAnimations=function(g,v){for(var D=this.animations.map(function(Je){return Je.name}),W=0;W<g.length;W++){var me=D.indexOf(g[W]);if(me>=0)this.animations[me].playing=v;else{var Re=this.artboard.animationByName(g[W]);if(Re){var Qe=new E.Animation(Re,this.artboard,this.runtime,v);Qe.advance(0),Qe.apply(1),this.animations.push(Qe)}else console.error("Animation with name ".concat(g[W]," not found."))}}},C.prototype.initStateMachines=function(g,v){for(var D=this.stateMachines.map(function(Je){return Je.name}),W=0;W<g.length;W++){var me=D.indexOf(g[W]);if(me>=0)this.stateMachines[me].playing=v;else{var Re=this.artboard.stateMachineByName(g[W]);if(Re){var Qe=new x(Re,this.runtime,v,this.artboard);this.stateMachines.push(Qe)}else console.warn("State Machine with name ".concat(g[W]," not found.")),this.initLinearAnimations([g[W]],v)}}},C.prototype.play=function(g){return this.add(g,!0)},C.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},C.prototype.pause=function(g){return this.add(g,!1)},C.prototype.scrub=function(g,v){var D=this.animations.filter(function(W){return g.includes(W.name)});return D.forEach(function(W){return W.scrubTo=v}),D.map(function(W){return W.name})},Object.defineProperty(C.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),C.prototype.stop=function(g){var v=this;g=mn(g);var D=[];if(g.length===0)D=this.animations.map(function(Re){return Re.name}).concat(this.stateMachines.map(function(Re){return Re.name})),this.animations.forEach(function(Re){return Re.cleanup()}),this.stateMachines.forEach(function(Re){return Re.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var W=this.animations.filter(function(Re){return g.includes(Re.name)});W.forEach(function(Re){Re.cleanup(),v.animations.splice(v.animations.indexOf(Re),1)});var me=this.stateMachines.filter(function(Re){return g.includes(Re.name)});me.forEach(function(Re){Re.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Re),1)}),D=W.map(function(Re){return Re.name}).concat(me.map(function(Re){return Re.name}))}return this.eventManager.fire({type:R.Stop,data:D}),D},Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),C.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var D;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([D=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([D=this.artboard.stateMachineByIndex(0).name],g,v)),D},C.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(W){return W.playing});g<v.length;g++){var D=v[g];D.loopValue===0&&D.loopCount?(D.loopCount=0,this.stop(D.name)):D.loopValue===1&&D.loopCount?(this.eventManager.fire({type:R.Loop,data:{animation:D.name,type:Q.Loop}}),D.loopCount=0):D.loopValue===2&&D.loopCount>1&&(this.eventManager.fire({type:R.Loop,data:{animation:D.name,type:Q.PingPong}}),D.loopCount=0)}},C.prototype.handleStateChanges=function(){for(var g=[],v=0,D=this.stateMachines.filter(function(me){return me.playing});v<D.length;v++){var W=D[v];g.push.apply(g,W.statesChanged)}g.length>0&&this.eventManager.fire({type:R.StateChange,data:g})},C.prototype.handleAdvancing=function(g){this.eventManager.fire({type:R.Advance,data:g})},C})(),R;(function(C){C.Load="load",C.LoadError="loaderror",C.Play="play",C.Pause="pause",C.Stop="stop",C.Loop="loop",C.Draw="draw",C.Advance="advance",C.StateChange="statechange",C.RiveEvent="riveevent",C.AudioStatusChange="audiostatuschange"})(R||(R={}));var Q;(function(C){C.OneShot="oneshot",C.Loop="loop",C.PingPong="pingpong"})(Q||(Q={}));var ae=(function(){function C(g){g===void 0&&(g=[]),this.listeners=g}return C.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},C.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},C.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var D=this.listeners[v];if(D.type===g.type&&D.callback===g.callback){this.listeners.splice(v,1);break}}},C.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(D){return D.type===g}).forEach(function(D){return v.remove(D)}):this.listeners.splice(0,this.listeners.length)},C.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(D){return D.callback(g)})},C})(),G=(function(){function C(g){this.eventManager=g,this.queue=[]}return C.prototype.add=function(g){this.queue.push(g)},C.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},C})(),te;(function(C){C[C.AVAILABLE=0]="AVAILABLE",C[C.UNAVAILABLE=1]="UNAVAILABLE"})(te||(te={}));var ve=(function(C){I(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=te.UNAVAILABLE,v}return g.prototype.delay=function(v){return j(this,void 0,void 0,function(){return ie(this,function(D){return[2,new Promise(function(W){return setTimeout(W,v)})]})})},g.prototype.timeout=function(){return j(this,void 0,void 0,function(){return ie(this,function(v){return[2,new Promise(function(D,W){return setTimeout(W,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:R.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return j(this,void 0,void 0,function(){return ie(this,function(v){return this._enabled||(this._enabled=!0,this._status=te.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return j(this,void 0,void 0,function(){return ie(this,function(v){switch(v.label){case 0:if(!(this._status===te.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return j(this,void 0,void 0,function(){return ie(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==te.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,D=function(){return j(v,void 0,void 0,function(){return ie(this,function(W){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",D,{once:!0})},g.prototype.establishAudio=function(){return j(this,void 0,void 0,function(){return ie(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===te.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(ae),he=new ve,we=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),L=globalThis.ResizeObserver||we,K=(function(){function C(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var D=g._elementsMap.get(v.target);D!==null?D.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new L(this._onObserved)}return C.prototype.add=function(g,v){var D={onResize:v,element:g};return this._elementsMap.set(g,D),this._resizeObserver.observe(g),D},C.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},C})(),Ee=new K,ye=(function(){function C(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new ae,g.onLoad&&this.on(R.Load,g.onLoad),g.onLoadError&&this.on(R.LoadError,g.onLoadError)}return C.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},C.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},C.prototype.initData=function(){return j(this,void 0,void 0,function(){var g,v,D,W,me;return ie(this,function(Re){switch(Re.label){case 0:return this.src?(g=this,[4,sn(this.src)]):[3,2];case 1:g.buffer=Re.sent(),Re.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(D=new w.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=D.assetLoader),W=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return W.file=Re.sent(),me=new w.FileFinalizer(this.file),w.finalizationRegistry.register(this,me),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:R.Load,data:this}):this.fireLoadError(C.fileLoadErrorMessage),[2])}})})},C.prototype.init=function(){return j(this,void 0,void 0,function(){var g,v;return ie(this,function(D){switch(D.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(C.missingErrorMessage),[2];D.label=1;case 1:return D.trys.push([1,4,,5]),g=this,[4,Xe.awaitInstance()];case 2:return g.runtime=D.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return D.sent(),[3,5];case 4:return v=D.sent(),this.fireLoadError(v instanceof Error?v.message:C.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},C.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:R.LoadError,data:g}),new Error(g)},C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},C.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},C.prototype.createBindableArtboard=function(g){if(g!=null){var v=new H(g);return(0,w.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},C.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new V(v,this)},C.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},C.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},C.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},C.missingErrorMessage="Rive source file or data buffer required",C.fileLoadErrorMessage="The file failed to load",C})(),Me=(function(){function C(g){var v=this,D;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(W){var me=v._hasZeroSize!==W;v._hasZeroSize=W,W?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():me&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Ee.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(D=g.layout)!==null&&D!==void 0?D:new Be,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new ae,g.onLoad&&this.on(R.Load,g.onLoad),g.onLoadError&&this.on(R.LoadError,g.onLoadError),g.onPlay&&this.on(R.Play,g.onPlay),g.onPause&&this.on(R.Pause,g.onPause),g.onStop&&this.on(R.Stop,g.onStop),g.onLoop&&this.on(R.Loop,g.onLoop),g.onStateChange&&this.on(R.StateChange,g.onStateChange),g.onAdvance&&this.on(R.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(R.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(R.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(R.Play,g.onplay),g.onpause&&!g.onPause&&this.on(R.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(R.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(R.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(R.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new G(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(C.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),C.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new C(g)},C.prototype.onSystemAudioChanged=function(){this.volume=this._volume},C.prototype.init=function(g){var v=this,D=g.src,W=g.buffer,me=g.riveFile,Re=g.animations,Qe=g.stateMachines,Je=g.artboard,Ge=g.autoplay,rt=Ge===void 0?!1:Ge,Bt=g.useOffscreenRenderer,xn=Bt===void 0?!1:Bt,pn=g.autoBind,Bn=pn===void 0?!1:pn;if(!this.destroyed){if(this.src=D,this.buffer=W,this.riveFile=me,!this.src&&!this.buffer&&!this.riveFile)throw new Ie(C.missingErrorMessage);var Jn=mn(Re),Rt=mn(Qe);this.loaded=!1,this.readyForPlaying=!1,Xe.awaitInstance().then(function(Ln){v.destroyed||(v.runtime=Ln,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,xn),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(Je,Jn,Rt,rt,Bn).then(function(Un){if(Un)return v.setupRiveListeners()}).catch(function(Un){console.error(Un)}))}).catch(function(Ln){console.error(Ln)})}},C.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var D=(this.animator.stateMachines||[]).filter(function(Qe){return Qe.playing&&v.runtime.hasListeners(Qe.instance)}).map(function(Qe){return Qe.instance}),W=this.isTouchScrollEnabled,me=this.dispatchPointerExit,Re=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(W=g.isTouchScrollEnabled),this.eventCleanup=(0,w.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:D,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:W,dispatchPointerExit:me,enableMultiTouch:Re,layoutScaleFactor:this._layout.layoutScaleFactor})}},C.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},C.prototype.initializeAudio=function(){var g=this,v;he.status==te.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:R.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},he.add(this._audioEventListener),he.establishAudio())},C.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},C.prototype.initData=function(g,v,D,W,me){return j(this,void 0,void 0,function(){var Re,Qe,Je,Ge;return ie(this,function(rt){switch(rt.label){case 0:return rt.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Re=new ye({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Re,[4,Re.init()]);case 1:if(rt.sent(),this.destroyed)return Re.destroyIfUnused(),[2,!1];rt.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,D,W,me),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:R.Load,data:(Ge=this.src)!==null&&Ge!==void 0?Ge:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Qe=rt.sent(),Je=Ce(Qe),console.warn(Je),this.eventManager.fire({type:R.LoadError,data:Je}),[2,Promise.reject(Je)];case 4:return[2]}})})},C.prototype.initArtboard=function(g,v,D,W,me){if(this.file){var Re=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Re){var Qe="Invalid artboard name or no default artboard";console.warn(Qe),this.eventManager.fire({type:R.LoadError,data:Qe});return}this.artboard=Re,Re.volume=this._volume*he.systemVolume,this.animator=new P(this.runtime,this.artboard,this.eventManager);var Je;if(v.length>0||D.length>0?(Je=v.concat(D),this.animator.initLinearAnimations(v,W),this.animator.initStateMachines(D,W)):Je=[this.animator.atLeastOne(W,!1)],this.taskQueue.add({event:{type:W?R.Play:R.Pause,data:Je}}),me){var Ge=this.file.defaultArtboardViewModel(Re);if(Ge!==null){var rt=Ge.defaultInstance();if(rt!==null){var Bt=new bt(rt,null);(0,w.createFinalization)(Bt,Bt.runtimeInstance),this.bindViewModelInstance(Bt)}}}}},C.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},C.prototype.draw=function(g,v){var D;this.frameRequestId=null;var W=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var me=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Re=this.animator.animations.filter(function(tr){return tr.playing||tr.needsScrub}).sort(function(tr){return tr.needsScrub?-1:1}),Qe=0,Je=Re;Qe<Je.length;Qe++){var Ge=Je[Qe];Ge.advance(me),Ge.instance.didLoop&&(Ge.loopCount+=1),Ge.apply(1)}for(var rt=this.animator.stateMachines.filter(function(tr){return tr.playing}),Bt=0,xn=rt;Bt<xn.length;Bt++){var pn=xn[Bt],Bn=pn.reportedEventCount();if(Bn)for(var Jn=0;Jn<Bn;Jn++){var Rt=pn.reportedEventAt(Jn);if(Rt)if(Rt.type===q.OpenUrl){if(this.eventManager.fire({type:R.RiveEvent,data:Rt}),this.automaticallyHandleEvents){var Ln=document.createElement("a"),Un=Rt,vn=Un.url,Ni=Un.target,gt=(0,w.sanitizeUrl)(vn);vn&&Ln.setAttribute("href",gt),Ni&&Ln.setAttribute("target",Ni),gt&&gt!==w.BLANK_URL&&Ln.click()}}else this.eventManager.fire({type:R.RiveEvent,data:Rt})}pn.advanceAndApply(me)}this.animator.stateMachines.length==0&&this.artboard.advance(me);var Zn=this.renderer;Zn.clear(),Zn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Zn),Zn.restore(),Zn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(me),this.frameCount++;var xt=performance.now();for(this.frameTimes.push(xt),this.durations.push(xt-W);this.frameTimes[0]<=xt-1e3;)this.frameTimes.shift(),this.durations.shift();(D=this._viewModelInstance)===null||D===void 0||D.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},C.prototype.alignRenderer=function(){var g=this,v=g.renderer,D=g.runtime,W=g._layout,me=g.artboard;v.align(W.runtimeFit(D),W.runtimeAlignment(D),{minX:W.minX,minY:W.minY,maxX:W.maxX,maxY:W.maxY},me.bounds,this._devicePixelRatioUsed*W.layoutScaleFactor)},Object.defineProperty(C.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),C.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ee.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(he.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},C.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},C.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},C.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var D=this.artboard.textRun(g);if(!D){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return D},C.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},C.prototype.setTextRunValue=function(g,v){var D=this.retrieveTextRun(g);D&&(D.text=v)},C.prototype.play=function(g,v){var D=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},C.prototype.pause=function(g){var v=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},C.prototype.scrub=function(g,v){var D=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},C.prototype.stop=function(g){var v=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},C.prototype.reset=function(g){var v,D,W=g?.artboard,me=mn(g?.animations),Re=mn(g?.stateMachines),Qe=(v=g?.autoplay)!==null&&v!==void 0?v:!1,Je=(D=g?.autoBind)!==null&&D!==void 0?D:!1;this.cleanupInstances(),this.initArtboard(W,me,Re,Qe,Je),this.taskQueue.process()},C.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(C.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),C.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},C.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),D=v.width,W=v.height,me=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=me,this.canvas.width=me*D,this.canvas.height=me*W,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===ke.Layout){var Re=this._layout.layoutScaleFactor;this.artboard.width=D/Re,this.artboard.height=W/Re}}},Object.defineProperty(C.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),C.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(D){return D.name===g});return v?.inputs}},C.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.inputByPath(g,v);if(!D){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},C.prototype.setBooleanStateAtPath=function(g,v,D){var W=this.retrieveInputAtPath(g,D);W&&(W.type===ct.Boolean?W.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a boolean")))},C.prototype.setNumberStateAtPath=function(g,v,D){var W=this.retrieveInputAtPath(g,D);W&&(W.type===ct.Number?W.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a number")))},C.prototype.fireStateAtPath=function(g,v){var D=this.retrieveInputAtPath(g,v);D&&(D.type===ct.Trigger?D.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},C.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.textByPath(g,v);if(!D){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},C.prototype.getTextRunValueAtPath=function(g,v){var D=this.retrieveTextAtPath(g,v);if(!D){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D.text},C.prototype.setTextRunValueAtPath=function(g,v,D){var W=this.retrieveTextAtPath(g,D);if(!W){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(D,"'"));return}W.text=v},Object.defineProperty(C.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},C.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},C.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},C.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},C.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(C.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var D=this.file.artboardByIndex(v),W={name:D.name,animations:[],stateMachines:[]},me=0;me<D.animationCount();me++){var Re=D.animationByIndex(me);W.animations.push(Re.name)}for(var Qe=0;Qe<D.stateMachineCount();Qe++){for(var Je=D.stateMachineByIndex(Qe),Ge=Je.name,rt=new this.runtime.StateMachineInstance(Je,D),Bt=[],xn=0;xn<rt.inputCount();xn++){var pn=rt.input(xn);Bt.push({name:pn.name,type:pn.type})}W.stateMachines.push({name:Ge,inputs:Bt})}g.artboards.push(W)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*he.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),C.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(C.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),C.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(D){return D.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(C.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),C.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new He(v):null},C.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new He(v):null},C.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new ht(v)})}return this._dataEnums},C.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new He(g)}return null},C.prototype.getArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&D!==void 0?D:null},C.prototype.getBindableArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&D!==void 0?D:null},C.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},C.missingErrorMessage="Rive source file or data buffer required",C.cleanupErrorMessage="Attempt to use file after calling cleanup.",C})(),He=(function(){function C(g){this._viewModel=g}return Object.defineProperty(C.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),C.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var D=new bt(v,null);return(0,w.createFinalization)(D,v),D}return null},C.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var D=new bt(v,null);return(0,w.createFinalization)(D,v),D}return null},C.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new bt(g,null);return(0,w.createFinalization)(v,g),v}return null},C.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new bt(g,null);return(0,w.createFinalization)(v,g),v}return null},Object.defineProperty(C.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),C})(),ht=(function(){function C(g){this._dataEnum=g}return Object.defineProperty(C.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),C})(),mt;(function(C){C.Number="number",C.String="string",C.Boolean="boolean",C.Color="color",C.Trigger="trigger",C.Enum="enum",C.List="list",C.Image="image",C.Artboard="artboard"})(mt||(mt={}));var bt=(function(){function C(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(C.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),C.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},C.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},C.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var D=this._parents[v];D.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},C.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},C.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},C.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},C.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},C.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},C.prototype.propertyFromPath=function(g,v){var D=g.split("/");return this.propertyFromPathSegments(D,0,v)},C.prototype.viewModelFromPathSegments=function(g,v){var D=this.internalViewModelInstance(g[v]);return D!==null?v==g.length-1?D:D.viewModelFromPathSegments(g,v++):null},C.prototype.propertyFromPathSegments=function(g,v,D){var W,me,Re,Qe,Je,Ge,rt,Bt,xn,pn,Bn,Jn,Rt,Ln,Un,vn,Ni,gt;if(v<g.length-1){var Zn=this.internalViewModelInstance(g[v]);return Zn!==null?Zn.propertyFromPathSegments(g,v+1,D):null}var xt=null;switch(D){case mt.Number:if(xt=(me=(W=this._runtimeInstance)===null||W===void 0?void 0:W.number(g[v]))!==null&&me!==void 0?me:null,xt!==null)return new ft(xt,this);break;case mt.String:if(xt=(Qe=(Re=this._runtimeInstance)===null||Re===void 0?void 0:Re.string(g[v]))!==null&&Qe!==void 0?Qe:null,xt!==null)return new un(xt,this);break;case mt.Boolean:if(xt=(Ge=(Je=this._runtimeInstance)===null||Je===void 0?void 0:Je.boolean(g[v]))!==null&&Ge!==void 0?Ge:null,xt!==null)return new At(xt,this);break;case mt.Color:if(xt=(Bt=(rt=this._runtimeInstance)===null||rt===void 0?void 0:rt.color(g[v]))!==null&&Bt!==void 0?Bt:null,xt!==null)return new hi(xt,this);break;case mt.Trigger:if(xt=(pn=(xn=this._runtimeInstance)===null||xn===void 0?void 0:xn.trigger(g[v]))!==null&&pn!==void 0?pn:null,xt!==null)return new Dt(xt,this);break;case mt.Enum:if(xt=(Jn=(Bn=this._runtimeInstance)===null||Bn===void 0?void 0:Bn.enum(g[v]))!==null&&Jn!==void 0?Jn:null,xt!==null)return new wt(xt,this);break;case mt.List:if(xt=(Ln=(Rt=this._runtimeInstance)===null||Rt===void 0?void 0:Rt.list(g[v]))!==null&&Ln!==void 0?Ln:null,xt!==null)return new Tn(xt,this);break;case mt.Image:if(xt=(vn=(Un=this._runtimeInstance)===null||Un===void 0?void 0:Un.image(g[v]))!==null&&vn!==void 0?vn:null,xt!==null)return new Jt(xt,this);break;case mt.Artboard:if(xt=(gt=(Ni=this._runtimeInstance)===null||Ni===void 0?void 0:Ni.artboard(g[v]))!==null&&gt!==void 0?gt:null,xt!==null)return new it(xt,this);break}return null},C.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var D=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(D!==null){var W=new C(D,this);return(0,w.createFinalization)(W,D),W.internalIncrementReferenceCount(),this._viewModelInstances.set(g,W),W}return null},C.prototype.number=function(g){var v=this.propertyFromPath(g,mt.Number);return v},C.prototype.string=function(g){var v=this.propertyFromPath(g,mt.String);return v},C.prototype.boolean=function(g){var v=this.propertyFromPath(g,mt.Boolean);return v},C.prototype.color=function(g){var v=this.propertyFromPath(g,mt.Color);return v},C.prototype.trigger=function(g){var v=this.propertyFromPath(g,mt.Trigger);return v},C.prototype.enum=function(g){var v=this.propertyFromPath(g,mt.Enum);return v},C.prototype.list=function(g){var v=this.propertyFromPath(g,mt.List);return v},C.prototype.image=function(g){var v=this.propertyFromPath(g,mt.Image);return v},C.prototype.artboard=function(g){var v=this.propertyFromPath(g,mt.Artboard);return v},C.prototype.viewModel=function(g){var v=g.split("/"),D=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return D!=null?D.internalViewModelInstance(v[v.length-1]):null},C.prototype.internalReplaceViewModel=function(g,v){var D;if(v.runtimeInstance!==null){var W=((D=this._runtimeInstance)===null||D===void 0?void 0:D.replaceViewModel(g,v.runtimeInstance))||!1;if(W){v.internalIncrementReferenceCount();var me=this.internalViewModelInstance(g);me!==null&&(me.removeParent(this),this._children.includes(me)&&(this._children=this._children.filter(function(Re){return Re!==me})),me.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return W}return!1},C.prototype.replaceViewModel=function(g,v){var D,W=g.split("/"),me=W.length>1?this.viewModelFromPathSegments(W.slice(0,W.length-1),0):this;return(D=me?.internalReplaceViewModel(W[W.length-1],v))!==null&&D!==void 0?D:!1},C.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},C.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(C.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return U({},v)}))||[]},enumerable:!1,configurable:!0}),C.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},C.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(me){me.cleanup()}),this._viewModelInstances.clear();var D=F([],this._children,!0);this._children.length=0;var W=F([],this._parents,!0);this._parents.length=0,D.forEach(function(me){me.removeParent(g)}),W.forEach(function(me){me.removeFromViewModelCallbacks(g)})}},C})(),kt=(function(){function C(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return C.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},C.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},C.prototype.internalHandleCallback=function(g){},C.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},C.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},C.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),C})(),un=(function(C){I(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),ft=(function(C){I(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),At=(function(C){I(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),Dt=(function(C){I(g,C);function g(v,D){return C.call(this,v,D)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(kt),wt=(function(C){I(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),Tn=(function(C){I(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,D){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,D)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var D=this._viewModelInstanceValue.instanceAt(v);if(D!=null){var W=new bt(D,this._parentViewModel);return(0,w.createFinalization)(W,D),W}return null},g.prototype.swap=function(v,D){this._viewModelInstanceValue.swap(v,D)},g.prototype.internalHandleCallback=function(v){v()},g})(kt),hi=(function(C){I(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,D,W){this._viewModelInstanceValue.rgb(v,D,W)},g.prototype.rgba=function(v,D,W,me){this._viewModelInstanceValue.argb(me,v,D,W)},g.prototype.argb=function(v,D,W,me){this._viewModelInstanceValue.argb(v,D,W,me)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(kt),Jt=(function(C){I(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D;this._viewModelInstanceValue.value((D=v?.nativeImage)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(kt),it=(function(C){I(g,C);function g(v,D){return C.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D,W;v.isBindableArtboard?W=v:W=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((D=W?.nativeArtboard)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(kt),sn=function(C){return j(void 0,void 0,void 0,function(){var g,v,D;return ie(this,function(W){switch(W.label){case 0:return g=new Request(C),[4,fetch(g)];case 1:return v=W.sent(),[4,v.arrayBuffer()];case 2:return D=W.sent(),[2,D]}})})},mn=function(C){return typeof C=="string"?[C]:C instanceof Array?C:[]},Gi={EventManager:ae,TaskQueueManager:G},$n=function(C){return j(void 0,void 0,void 0,function(){var g,v,D;return ie(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return Xe.getInstance(function(Re){Re.decodeAudio(C,me)})}),[4,g];case 1:return v=W.sent(),D=new w.AudioWrapper(v),w.finalizationRegistry.register(D,v),[2,D]}})})},Gt=function(C){return j(void 0,void 0,void 0,function(){var g,v,D;return ie(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return Xe.getInstance(function(Re){Re.decodeImage(C,me)})}),[4,g];case 1:return v=W.sent(),D=new w.ImageWrapper(v),w.finalizationRegistry.register(D,v),[2,D]}})})},An=function(C){return j(void 0,void 0,void 0,function(){var g,v,D;return ie(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return Xe.getInstance(function(Re){Re.decodeFont(C,me)})}),[4,g];case 1:return v=W.sent(),D=new w.FontWrapper(v),w.finalizationRegistry.register(D,v),[2,D]}})})}})(),c})())})(Ah)),Ah.exports}var g0;function YT(){return g0||(g0=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=rf(),i=GT();function s(x){return x&&typeof x=="object"&&"default"in x?x:{default:x}}var l=s(e),c=function(){return c=Object.assign||function(x){for(var P,R=1,Q=arguments.length;R<Q;R++)for(var ae in P=arguments[R])Object.prototype.hasOwnProperty.call(P,ae)&&(x[ae]=P[ae]);return x},c.apply(this,arguments)};function p(x,P){var R={};for(var Q in x)Object.prototype.hasOwnProperty.call(x,Q)&&P.indexOf(Q)<0&&(R[Q]=x[Q]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function"){var ae=0;for(Q=Object.getOwnPropertySymbols(x);ae<Q.length;ae++)P.indexOf(Q[ae])<0&&Object.prototype.propertyIsEnumerable.call(x,Q[ae])&&(R[Q[ae]]=x[Q[ae]])}return R}function b(x,P,R,Q){return new(R||(R=Promise))(function(ae,G){function te(we){try{he(Q.next(we))}catch(L){G(L)}}function ve(we){try{he(Q.throw(we))}catch(L){G(L)}}function he(we){var L;we.done?ae(we.value):(L=we.value,L instanceof R?L:new R(function(K){K(L)})).then(te,ve)}he((Q=Q.apply(x,[])).next())})}function E(x,P){var R,Q,ae,G,te={label:0,sent:function(){if(1&ae[0])throw ae[1];return ae[1]},trys:[],ops:[]};return G={next:ve(0),throw:ve(1),return:ve(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function ve(he){return function(we){return(function(L){if(R)throw new TypeError("Generator is already executing.");for(;te;)try{if(R=1,Q&&(ae=2&L[0]?Q.return:L[0]?Q.throw||((ae=Q.return)&&ae.call(Q),0):Q.next)&&!(ae=ae.call(Q,L[1])).done)return ae;switch(Q=0,ae&&(L=[2&L[0],ae.value]),L[0]){case 0:case 1:ae=L;break;case 4:return te.label++,{value:L[1],done:!1};case 5:te.label++,Q=L[1],L=[0];continue;case 7:L=te.ops.pop(),te.trys.pop();continue;default:if(ae=te.trys,!((ae=ae.length>0&&ae[ae.length-1])||L[0]!==6&&L[0]!==2)){te=0;continue}if(L[0]===3&&(!ae||L[1]>ae[0]&&L[1]<ae[3])){te.label=L[1];break}if(L[0]===6&&te.label<ae[1]){te.label=ae[1],ae=L;break}if(ae&&te.label<ae[2]){te.label=ae[2],te.ops.push(L);break}ae[2]&&te.ops.pop(),te.trys.pop();continue}L=P.call(x,te)}catch(K){L=[6,K],Q=0}finally{R=ae=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}})([he,we])}}}function w(x){var P=x||I(),R=e.useState(P),Q=R[0],ae=R[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var G=function(){var ve=x||I();ae(ve)},te=window.matchMedia("screen and (resolution: ".concat(Q,"dppx)"));return te.hasOwnProperty("addEventListener")?te.addEventListener("change",G):te.addListener(G),function(){te.hasOwnProperty("removeEventListener")?te.removeEventListener("change",G):te.removeListener(G)}}},[Q,x]),Q}function I(){var x=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,x),3)}var U=(function(){function x(){}return x.prototype.observe=function(){},x.prototype.unobserve=function(){},x.prototype.disconnect=function(){},x})(),j=globalThis.ResizeObserver||U,ie=globalThis.ResizeObserver!==void 0,F=!ie;function Ie(x,P){P===void 0&&(P=!0);var R=e.useState({width:0,height:0}),Q=R[0],ae=R[1];e.useEffect(function(){if(typeof window<"u"&&P){var we=function(){ae({width:window.innerWidth,height:window.innerHeight})};return F&&(we(),window.addEventListener("resize",we)),function(){return window.removeEventListener("resize",we)}}},[]);var G,te,ve,he=e.useRef(new j((G=function(we){ie&&ae({width:we[we.length-1].contentRect.width,height:we[we.length-1].contentRect.height})},te=0,ve=0,function(){for(var we=this,L=[],K=0;K<arguments.length;K++)L[K]=arguments[K];clearTimeout(ve),ve=window.setTimeout(function(){return G.apply(we,L)},te)})));return e.useEffect(function(){var we=he.current;if(P){var L=x.current;return x.current&&ie&&we.observe(x.current),function(){we.disconnect(),L&&ie&&we.unobserve(L)}}we.disconnect()},[x,he]),Q}var Ce={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function ke(x){return Object.assign({},Ce,x)}function Ve(x){var P=x.riveLoaded,R=P!==void 0&&P,Q=x.canvasElem,ae=x.containerRef,G=x.options,te=G===void 0?{}:G,ve=x.onCanvasHasResized,he=x.artboardBounds,we=ke(te),L=e.useState({height:0,width:0}),K=L[0],Ee=K.height,ye=K.width,Me=L[1],He=e.useState({height:0,width:0}),ht=He[0],mt=ht.height,bt=ht.width,kt=He[1],un=e.useState(!0),ft=un[0],At=un[1],Dt=we.fitCanvasToArtboardHeight,wt=we.shouldResizeCanvasToContainer,Tn=we.useDevicePixelRatio,hi=we.customDevicePixelRatio,Jt=Ie(ae,wt),it=w(hi),sn=he??{},mn=sn.maxX,Gi=sn.maxY,$n=e.useCallback(function(){var Gt,An,C,g,v=(An=(Gt=ae.current)===null||Gt===void 0?void 0:Gt.clientWidth)!==null&&An!==void 0?An:0,D=(g=(C=ae.current)===null||C===void 0?void 0:C.clientHeight)!==null&&g!==void 0?g:0;return Dt&&he?{width:v,height:v*(he.maxY/he.maxX)}:{width:v,height:D}},[ae,Dt,mn,Gi]);e.useEffect(function(){if(wt&&ae.current&&R){var Gt=$n(),An=Gt.width,C=Gt.height,g=!1;if(Q){var v=An!==ye||C!==Ee;if(we.fitCanvasToArtboardHeight&&v&&(ae.current.style.height=C+"px",g=!0),we.useDevicePixelRatio){if(v||An*it!==bt||C*it!==mt){var D=it*An,W=it*C;Q.width=D,Q.height=W,Q.style.width=An+"px",Q.style.height=C+"px",kt({width:D,height:W}),g=!0}}else v&&(Q.width=An,Q.height=C,kt({width:An,height:C}),g=!0);Me({width:An,height:C})}ve&&(ft||g)&&ve&&ve(),ft&&At(!1)}},[Q,ae,Jt,it,$n,ft,At,mt,bt,Ee,ye,ve,wt,Dt,Tn,R]),e.useEffect(function(){kt({width:0,height:0})},[Q])}var Be,Xe=(function(){function x(){}return x.prototype.observe=function(){},x.prototype.unobserve=function(){},x.prototype.disconnect=function(){},x})(),ct=globalThis.IntersectionObserver||Xe,pt=(function(){function x(){var P=this;this.elementsMap=new Map,this.onObserved=function(R){R.forEach(function(Q){var ae=P.elementsMap.get(Q.target);ae&&ae(Q)})},this.observer=new ct(this.onObserved)}return x.prototype.registerCallback=function(P,R){this.observer.observe(P),this.elementsMap.set(P,R)},x.prototype.removeCallback=function(P){this.observer.unobserve(P),this.elementsMap.delete(P)},x})(),q=function(){return Be||(Be=new pt),Be};function z(x){var P=x.setContainerRef,R=x.setCanvasRef,Q=x.className,ae=Q===void 0?"":Q,G=x.style,te=x.children,ve=p(x,["setContainerRef","setCanvasRef","className","style","children"]),he=c({width:"100%",height:"100%"},G);return l.default.createElement("div",c({ref:P,className:ae},!ae&&{style:he}),l.default.createElement("canvas",c({ref:R,style:{verticalAlign:"top",width:0,height:0}},ve),te))}function V(x,P){P===void 0&&(P={});var R=e.useState(null),Q=R[0],ae=R[1],G=e.useRef(null),te=e.useRef(null),ve=e.useState(null),he=ve[0],we=ve[1],L=!!x,K=ke(P),Ee=w(),ye=e.useCallback(function(){if(he){if(he.layout&&he.layout.fit===i.Fit.Layout&&Q){var ft=Ee*he.layout.layoutScaleFactor;he.devicePixelRatioUsed=Ee,he.artboardWidth=Q?.width/ft,he.artboardHeight=Q?.height/ft}he.startRendering(),he.resizeToCanvas()}},[he,Ee]);Ve({riveLoaded:!!he,canvasElem:Q,containerRef:G,options:K,onCanvasHasResized:ye,artboardBounds:he?.bounds});var Me=e.useCallback(function(ft){ft===null&&Q&&(Q.height=0,Q.width=0),ae(ft)},[]);e.useEffect(function(){if(Q&&x){var ft,At=he!=null;if(he==null){var Dt=K.useOffscreenRenderer,wt=x.onRiveReady,Tn=p(x,["onRiveReady"]);ft=new i.Rive(c(c({useOffscreenRenderer:Dt},Tn),{canvas:Q})),te.current!=null&&te.current.cleanup(),te.current=ft,ft.on(i.EventType.Load,function(){At=!0,wt&&wt(ft),Q?we(ft):ft.cleanup()})}return function(){At||ft==null||ft.cleanup()}}},[Q,L,he]);var He=e.useCallback(function(ft){G.current=ft},[]),ht={observe:e.useCallback(function(ft,At){q().registerCallback(ft,At)},[]),unobserve:e.useCallback(function(ft){q().removeCallback(ft)},[])},mt=ht.observe,bt=ht.unobserve;e.useEffect(function(){var ft,At=!1,Dt=function(){if(Q&&At){var wt=Q.getBoundingClientRect();wt.width>0&&wt.height>0&&wt.top<(window.innerHeight||document.documentElement.clientHeight)&&wt.bottom>0&&wt.left<(window.innerWidth||document.documentElement.clientWidth)&&wt.right>0&&(he?.startRendering(),At=!1)}};return Q&&K.shouldUseIntersectionObserver!==!1&&mt(Q,function(wt){wt.isIntersecting?he&&he.startRendering():he&&he.stopRendering(),At=!wt.isIntersecting,clearTimeout(ft),wt.isIntersecting||wt.boundingClientRect.width!==0||(ft=setTimeout(Dt,10))}),function(){Q&&bt(Q)}},[mt,bt,he,Q,K.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){he&&(he.cleanup(),we(null))}},[he,Q]),e.useEffect(function(){return function(){te.current!=null&&te.current.cleanup()}},[]);var kt=x?.animations;e.useEffect(function(){he&&kt&&(he.isPlaying?(he.stop(he.animationNames),he.play(kt)):he.isPaused&&(he.stop(he.animationNames),he.pause(kt)))},[kt,he]);var un=e.useCallback(function(ft){return l.default.createElement(z,c({setContainerRef:He,setCanvasRef:Me},ft))},[Me,He]);return{canvas:Q,container:G.current,setCanvasRef:Me,setContainerRef:He,rive:he,RiveComponent:un}}function H(x,P,R){var Q=e.useState(null),ae=Q[0],G=Q[1],te=e.useState(R.defaultValue),ve=te[0],he=te[1],we=e.useState(null),L=we[0],K=we[1],Ee=e.useRef(null),ye=e.useRef(x),Me=e.useRef(R);e.useEffect(function(){Me.current=R},[R]);var He=e.useCallback(function(){var kt=Ee.current,un=ye.current,ft=Me.current;if(!kt||!un)return G(null),he(ft.defaultValue),K(null),function(){};var At=ft.getProperty(kt,un);if(At){G(At),he(ft.getValue(At)),ft.getExtendedData&&K(ft.getExtendedData(At));var Dt=function(){he(ft.getValue(At)),ft.getExtendedData&&K(ft.getExtendedData(At)),ft.onPropertyEvent&&ft.onPropertyEvent()};return At.on(Dt),function(){At.off(Dt)}}return function(){}},[]);e.useEffect(function(){return Ee.current=P,ye.current=x,He()},[P,x,He]);var ht=e.useCallback(function(kt){if(ae&&Ee.current===P)try{return kt(ae),void(Me.current.getExtendedData&&K(Me.current.getExtendedData(ae)))}catch{}if(Ee.current)try{var un=Me.current.getProperty(Ee.current,ye.current);un&&(G(un),kt(un),Me.current.getExtendedData&&K(Me.current.getExtendedData(un)))}catch{}},[ae,P]),mt=e.useMemo(function(){return Me.current.buildPropertyOperations(ht)},[ht]),bt=c({value:ve},mt);return R.getExtendedData&&(bt.extendedData=L),bt}r.default=function(x){var P=x.src,R=x.artboard,Q=x.animations,ae=x.stateMachines,G=x.layout,te=x.useOffscreenRenderer,ve=te===void 0||te,he=x.shouldDisableRiveListeners,we=he!==void 0&&he,L=x.shouldResizeCanvasToContainer,K=L===void 0||L,Ee=x.automaticallyHandleEvents,ye=Ee!==void 0&&Ee,Me=x.children,He=p(x,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),ht=V({src:P,artboard:R,animations:Q,layout:G,stateMachines:ae,autoplay:!0,shouldDisableRiveListeners:we,automaticallyHandleEvents:ye},{useOffscreenRenderer:ve,shouldResizeCanvasToContainer:K}).RiveComponent;return l.default.createElement(ht,c({},He),Me)},r.useResizeCanvas=Ve,r.useRive=V,r.useRiveFile=function(x){var P=this,R=e.useState(null),Q=R[0],ae=R[1],G=e.useState("idle"),te=G[0],ve=G[1];return e.useEffect(function(){var he=null;return b(P,void 0,void 0,function(){return E(this,function(we){try{ve("loading"),(he=new i.RiveFile(x)).init(),he.on(i.EventType.Load,function(){he?.getInstance(),ae(he),ve("success")}),he.on(i.EventType.LoadError,function(){ve("failed")}),ae(he)}catch(L){console.error(L),ve("failed")}return[2]})}),function(){he?.cleanup()}},[x.src,x.buffer]),{riveFile:Q,status:te}},r.useStateMachineInput=function(x,P,R,Q){var ae=e.useState(null),G=ae[0],te=ae[1];return e.useEffect(function(){function ve(){if(x&&P&&R||te(null),x&&P&&R){var he=x.stateMachineInputs(P);if(he){var we=he.find(function(L){return L.name===R});Q!==void 0&&we&&(we.value=Q),te(we||null)}}else te(null)}ve(),x&&x.on(i.EventType.Load,function(){ve()})},[x]),G},r.useViewModel=function(x,P){var R=P??{},Q=R.name,ae=R.useDefault,G=ae!==void 0&&ae,te=e.useState(null),ve=te[0],he=te[1];return e.useEffect(function(){function we(){var L;if(x){var K=null;K=Q!=null?((L=x.viewModelByName)===null||L===void 0?void 0:L.call(x,Q))||null:x.defaultViewModel()||null,he(K)}else he(null)}return we(),x&&x.on(i.EventType.Load,we),function(){x&&x.off(i.EventType.Load,we)}},[x,Q,G]),ve},r.useViewModelInstance=function(x,P){var R=P??{},Q=R.name,ae=R.useDefault,G=ae!==void 0&&ae,te=R.useNew,ve=te!==void 0&&te,he=R.rive,we=e.useState(null),L=we[0],K=we[1];return e.useEffect(function(){var Ee,ye,Me;if(x){var He=null;He=Q!=null?x.instanceByName(Q)||null:G?((Ee=x.defaultInstance)===null||Ee===void 0?void 0:Ee.call(x))||null:ve?((ye=x.instance)===null||ye===void 0?void 0:ye.call(x))||null:((Me=x.defaultInstance)===null||Me===void 0?void 0:Me.call(x))||null,K(He),he&&He&&he.viewModelInstance!==He&&he.bindViewModelInstance(He)}else K(null)},[x,Q,G,ve,he]),L},r.useViewModelInstanceArtboard=function(x,P){return{setValue:H(x,P,{getProperty:e.useCallback(function(R,Q){return R.artboard(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(R){return{setValue:function(Q){R(function(ae){ae.value=Q})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(x,P){var R=H(x,P,{getProperty:e.useCallback(function(Q,ae){return Q.boolean(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(G){G.value=ae})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceColor=function(x,P){var R=H(x,P,{getProperty:e.useCallback(function(Q,ae){return Q.color(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(G){G.value=ae})},setRgb:function(ae,G,te){Q(function(ve){ve.rgb(ae,G,te)})},setRgba:function(ae,G,te,ve){Q(function(he){he.rgba(ae,G,te,ve)})},setAlpha:function(ae){Q(function(G){G.alpha(ae)})},setOpacity:function(ae){Q(function(G){G.opacity(ae)})}}},[])});return{value:R.value,setValue:R.setValue,setRgb:R.setRgb,setRgba:R.setRgba,setAlpha:R.setAlpha,setOpacity:R.setOpacity}},r.useViewModelInstanceEnum=function(x,P){var R=H(x,P,{getProperty:e.useCallback(function(Q,ae){return Q.enum(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(Q){return Q.values},[]),buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(G){G.value=ae})}}},[])});return{value:R.value,values:R.extendedData||[],setValue:R.setValue}},r.useViewModelInstanceImage=function(x,P){return{setValue:H(x,P,{getProperty:e.useCallback(function(R,Q){return R.image(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(R){return{setValue:function(Q){R(function(ae){ae.value=Q})}}},[])}).setValue}},r.useViewModelInstanceList=function(x,P){var R,Q=e.useState(0)[1],ae=H(x,P,{getProperty:e.useCallback(function(G,te){return G.list(te)},[]),getValue:e.useCallback(function(G){return G.length},[]),defaultValue:null,onPropertyEvent:function(){Q(function(G){return G+1})},buildPropertyOperations:e.useCallback(function(G){return{addInstance:function(te){G(function(ve){return ve.addInstance(te)})},addInstanceAt:function(te,ve){var he=!1;return G(function(we){he=we.addInstanceAt(te,ve)}),he},removeInstance:function(te){G(function(ve){return ve.removeInstance(te)})},removeInstanceAt:function(te){G(function(ve){return ve.removeInstanceAt(te)})},getInstanceAt:function(te){var ve=null;return G(function(he){ve=he.instanceAt(te)}),ve},swap:function(te,ve){G(function(he){return he.swap(te,ve)})}}},[])});return{length:(R=ae.value)!==null&&R!==void 0?R:0,addInstance:ae.addInstance,addInstanceAt:ae.addInstanceAt,removeInstance:ae.removeInstance,removeInstanceAt:ae.removeInstanceAt,getInstanceAt:ae.getInstanceAt,swap:ae.swap}},r.useViewModelInstanceNumber=function(x,P){var R=H(x,P,{getProperty:e.useCallback(function(Q,ae){return Q.number(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(G){G.value=ae})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceString=function(x,P){var R=H(x,P,{getProperty:e.useCallback(function(Q,ae){return Q.string(ae)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ae){Q(function(G){G.value=ae})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceTrigger=function(x,P,R){var Q=(R??{}).onTrigger;return{trigger:H(x,P,{getProperty:e.useCallback(function(ae,G){return ae.trigger(G)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:Q,buildPropertyOperations:e.useCallback(function(ae){return{trigger:function(){ae(function(G){G.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(x){x==="default"||r.hasOwnProperty(x)||Object.defineProperty(r,x,{enumerable:!0,get:function(){return i[x]}})})})(_m)),_m}var so=YT();const XT=()=>{};var y0={};const J_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},QT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],E=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[s++]=String.fromCharCode(55296+(E>>10)),e[s++]=String.fromCharCode(56320+(E&1023))}else{const c=r[i++],p=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},Z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,E=l+2<r.length,w=E?r[l+2]:0,I=c>>2,U=(c&3)<<4|b>>4;let j=(b&15)<<2|w>>6,ie=w&63;E||(ie=64,p||(j=64)),s.push(i[I],i[U],i[j],i[ie])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(J_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):QT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const w=l<r.length?i[r.charAt(l)]:64;++l;const U=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||w==null||U==null)throw new KT;const j=c<<2|b>>4;if(s.push(j),w!==64){const ie=b<<4&240|w>>2;if(s.push(ie),U!==64){const F=w<<6&192|U;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class KT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WT=function(r){const e=J_(r);return Z_.encodeByteArray(e,!0)},Vh=function(r){return WT(r).replace(/\./g,"")},eb=function(r){try{return Z_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $T(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const JT=()=>$T().__FIREBASE_DEFAULTS__,ZT=()=>{if(typeof process>"u"||typeof y0>"u")return;const r=y0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},eA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&eb(r[1]);return e&&JSON.parse(e)},af=()=>{try{return XT()||JT()||ZT()||eA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tb=r=>af()?.emulatorHosts?.[r],tA=r=>{const e=tb(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},nb=()=>af()?.config,ib=r=>af()?.[`_${r}`];class nA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rb(r){return(await fetch(r,{credentials:"include"})).ok}function iA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Vh(JSON.stringify(i)),Vh(JSON.stringify(p)),""].join(".")}const Bu={};function rA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?r.emulator.push(e):r.prod.push(e);return r}function aA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let v0=!1;function ab(r,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||Bu[r]===e||Bu[r]||v0)return;Bu[r]=e;function i(j){return`__firebase__banner__${j}`}const s="__firebase__banner",c=rA().prod.length>0;function p(){const j=document.getElementById(s);j&&j.remove()}function b(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function E(j,ie){j.setAttribute("width","24"),j.setAttribute("id",ie),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function w(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{v0=!0,p()},j}function I(j,ie){j.setAttribute("id",ie),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function U(){const j=aA(s),ie=i("text"),F=document.getElementById(ie)||document.createElement("span"),Ie=i("learnmore"),Ce=document.getElementById(Ie)||document.createElement("a"),ke=i("preprendIcon"),Ve=document.getElementById(ke)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const Be=j.element;b(Be),I(Ce,Ie);const Xe=w();E(Ve,ke),Be.append(Ve,F,Ce,Xe),document.body.appendChild(Be)}c?(F.innerText="Preview backend disconnected.",Ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",ie)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",U):U()}function er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function oA(){const r=af()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hA(){const r=er();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fA(){return!oA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dA(){try{return typeof indexedDB=="object"}catch{return!1}}function mA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const pA="FirebaseError";class Cs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=pA,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?gA(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Cs(l,b,s)}}function gA(r,e){return r.replace(yA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const yA=/\{\$([^}]+)}/g;function vA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function zo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],p=e[l];if(_0(c)&&_0(p)){if(!zo(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function _0(r){return r!==null&&typeof r=="object"}function rc(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _A(r,e){const i=new bA(r,e);return i.subscribe.bind(i)}class bA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");wA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=bm),l.error===void 0&&(l.error=bm),l.complete===void 0&&(l.complete=bm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function bm(){}function Hr(r){return r&&r._delegate?r._delegate:r}class Bo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Uo="[DEFAULT]";class EA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new nA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AA(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TA(r){return r===Uo?void 0:r}function AA(r){return r.instantiationMode==="EAGER"}class SA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new EA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Kt||(Kt={}));const CA={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},RA=Kt.INFO,xA={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},IA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=xA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=RA,this._logHandler=IA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const MA=(r,e)=>e.some(i=>r instanceof i);let b0,w0;function NA(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DA(){return w0||(w0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sb=new WeakMap,Pm=new WeakMap,ob=new WeakMap,wm=new WeakMap,hp=new WeakMap;function OA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(lo(r.result)),l()},p=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&sb.set(i,r)}).catch(()=>{}),hp.set(e,r),e}function kA(r){if(Pm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});Pm.set(r,e)}let Lm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ob.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lo(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function VA(r){Lm=r(Lm)}function PA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Em(this),e,...i);return ob.set(s,e.sort?e.sort():[e]),lo(s)}:DA().includes(r)?function(...e){return r.apply(Em(this),e),lo(sb.get(this))}:function(...e){return lo(r.apply(Em(this),e))}}function LA(r){return typeof r=="function"?PA(r):(r instanceof IDBTransaction&&kA(r),MA(r,NA())?new Proxy(r,Lm):r)}function lo(r){if(r instanceof IDBRequest)return OA(r);if(wm.has(r))return wm.get(r);const e=LA(r);return e!==r&&(wm.set(r,e),hp.set(e,r)),e}const Em=r=>hp.get(r);function UA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=lo(p);return s&&p.addEventListener("upgradeneeded",E=>{s(lo(p.result),E.oldVersion,E.newVersion,lo(p.transaction),E)}),i&&p.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),b.then(E=>{c&&E.addEventListener("close",()=>c()),l&&E.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),b}const jA=["get","getKey","getAll","getAllKeys","count"],zA=["put","add","delete","clear"],Tm=new Map;function E0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=zA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||jA.includes(i)))return;const c=async function(p,...b){const E=this.transaction(p,l?"readwrite":"readonly");let w=E.store;return s&&(w=w.index(b.shift())),(await Promise.all([w[i](...b),l&&E.done]))[0]};return Tm.set(e,c),c}VA(r=>({...r,get:(e,i,s)=>E0(e,i)||r.get(e,i,s),has:(e,i)=>!!E0(e,i)||r.has(e,i)}));class BA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(FA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function FA(r){return r.getComponent()?.type==="VERSION"}const Um="@firebase/app",T0="0.14.6";const bs=new cp("@firebase/app"),HA="@firebase/app-compat",qA="@firebase/analytics-compat",GA="@firebase/analytics",YA="@firebase/app-check-compat",XA="@firebase/app-check",QA="@firebase/auth",KA="@firebase/auth-compat",WA="@firebase/database",$A="@firebase/data-connect",JA="@firebase/database-compat",ZA="@firebase/functions",eS="@firebase/functions-compat",tS="@firebase/installations",nS="@firebase/installations-compat",iS="@firebase/messaging",rS="@firebase/messaging-compat",aS="@firebase/performance",sS="@firebase/performance-compat",oS="@firebase/remote-config",lS="@firebase/remote-config-compat",uS="@firebase/storage",cS="@firebase/storage-compat",hS="@firebase/firestore",fS="@firebase/ai",dS="@firebase/firestore-compat",mS="firebase",pS="12.6.0";const jm="[DEFAULT]",gS={[Um]:"fire-core",[HA]:"fire-core-compat",[GA]:"fire-analytics",[qA]:"fire-analytics-compat",[XA]:"fire-app-check",[YA]:"fire-app-check-compat",[QA]:"fire-auth",[KA]:"fire-auth-compat",[WA]:"fire-rtdb",[$A]:"fire-data-connect",[JA]:"fire-rtdb-compat",[ZA]:"fire-fn",[eS]:"fire-fn-compat",[tS]:"fire-iid",[nS]:"fire-iid-compat",[iS]:"fire-fcm",[rS]:"fire-fcm-compat",[aS]:"fire-perf",[sS]:"fire-perf-compat",[oS]:"fire-rc",[lS]:"fire-rc-compat",[uS]:"fire-gcs",[cS]:"fire-gcs-compat",[hS]:"fire-fst",[dS]:"fire-fst-compat",[fS]:"fire-vertex","fire-js":"fire-js",[mS]:"fire-js-all"};const Ph=new Map,yS=new Map,zm=new Map;function A0(r,e){try{r.container.addComponent(e)}catch(i){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function jl(r){const e=r.name;if(zm.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,r);for(const i of Ph.values())A0(i,r);for(const i of yS.values())A0(i,r);return!0}function fp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ra(r){return r==null?!1:r.settings!==void 0}const vS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new ic("app","Firebase",vS);class _S{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}const Xl=pS;function lb(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:jm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw uo.create("bad-app-name",{appName:String(l)});if(i||(i=nb()),!i)throw uo.create("no-options");const c=Ph.get(l);if(c){if(zo(i,c.options)&&zo(s,c.config))return c;throw uo.create("duplicate-app",{appName:l})}const p=new SA(l);for(const E of zm.values())p.addComponent(E);const b=new _S(i,s,p);return Ph.set(l,b),b}function ub(r=jm){const e=Ph.get(r);if(!e&&r===jm&&nb())return lb();if(!e)throw uo.create("no-app",{appName:r});return e}function co(r,e,i){let s=gS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(p.join(" "));return}jl(new Bo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const bS="firebase-heartbeat-database",wS=1,Qu="firebase-heartbeat-store";let Am=null;function cb(){return Am||(Am=UA(bS,wS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Qu)}catch(i){console.warn(i)}}}}).catch(r=>{throw uo.create("idb-open",{originalErrorMessage:r.message})})),Am}async function ES(r){try{const i=(await cb()).transaction(Qu),s=await i.objectStore(Qu).get(hb(r));return await i.done,s}catch(e){if(e instanceof Cs)bs.warn(e.message);else{const i=uo.create("idb-get",{originalErrorMessage:e?.message});bs.warn(i.message)}}}async function S0(r,e){try{const s=(await cb()).transaction(Qu,"readwrite");await s.objectStore(Qu).put(e,hb(r)),await s.done}catch(i){if(i instanceof Cs)bs.warn(i.message);else{const s=uo.create("idb-set",{originalErrorMessage:i?.message});bs.warn(s.message)}}}function hb(r){return`${r.name}!${r.options.appId}`}const TS=1024,AS=30;class SS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new RS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=C0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>AS){const l=xS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C0(),{heartbeatsToSend:i,unsentEntries:s}=CS(this._heartbeatsCache.heartbeats),l=Vh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return bs.warn(e),""}}}function C0(){return new Date().toISOString().substring(0,10)}function CS(r,e=TS){const i=[];let s=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),R0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),R0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class RS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dA()?mA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ES(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function R0(r){return Vh(JSON.stringify({version:2,heartbeats:r})).length}function xS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function IS(r){jl(new Bo("platform-logger",e=>new BA(e),"PRIVATE")),jl(new Bo("heartbeat",e=>new SS(e),"PRIVATE")),co(Um,T0,r),co(Um,T0,"esm2020"),co("fire-js","")}IS("");var MS="firebase",NS="12.6.0";co(MS,NS,"app");function fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DS=fb,db=new ic("auth","Firebase",fb());const Lh=new cp("@firebase/auth");function OS(r,...e){Lh.logLevel<=Kt.WARN&&Lh.warn(`Auth (${Xl}): ${r}`,...e)}function Sh(r,...e){Lh.logLevel<=Kt.ERROR&&Lh.error(`Auth (${Xl}): ${r}`,...e)}function ws(r,...e){throw dp(r,...e)}function Va(r,...e){return dp(r,...e)}function mb(r,e,i){const s={...DS(),[e]:i};return new ic("auth","Firebase",s).create(e,{appName:r.name})}function vs(r){return mb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dp(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return db.create(r,...e)}function Tt(r,e,...i){if(!r)throw dp(e,...i)}function gs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function Es(r,e){r||gs(e)}function Bm(){return typeof self<"u"&&self.location?.href||""}function kS(){return x0()==="http:"||x0()==="https:"}function x0(){return typeof self<"u"&&self.location?.protocol||null}function VS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kS()||uA()||"connection"in navigator)?navigator.onLine:!0}function PS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ac{constructor(e,i){this.shortDelay=e,this.longDelay=i,Es(i>e,"Short delay should be less than long delay!"),this.isMobile=sA()||cA()}get(){return VS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mp(r,e){Es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class pb{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const US=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jS=new ac(3e4,6e4);function sc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ql(r,e,i,s,l={}){return gb(r,l,async()=>{let c={},p={};s&&(e==="GET"?p=s:c={body:JSON.stringify(s)});const b=rc({key:r.config.apiKey,...p}).slice(1),E=await r._getAdditionalHeaders();E["Content-Type"]="application/json",r.languageCode&&(E["X-Firebase-Locale"]=r.languageCode);const w={method:e,headers:E,...c};return lA()||(w.referrerPolicy="no-referrer"),r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(w.credentials="include"),pb.fetch()(await yb(r,r.config.apiHost,i,b),w)})}async function gb(r,e,i){r._canInitEmulator=!1;const s={...LS,...e};try{const l=new zS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw gh(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[E,w]=b.split(" : ");if(E==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",p);if(E==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",p);if(E==="USER_DISABLED")throw gh(r,"user-disabled",p);const I=s[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw mb(r,I,w);ws(r,I)}}catch(l){if(l instanceof Cs)throw l;ws(r,"network-request-failed",{message:String(l)})}}async function pp(r,e,i,s,l={}){const c=await Ql(r,e,i,s,l);return"mfaPendingCredential"in c&&ws(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function yb(r,e,i,s){const l=`${e}${i}?${s}`,c=r,p=c.config.emulator?mp(r.config,l):`${r.config.apiScheme}://${l}`;return US.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class zS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Va(this.auth,"network-request-failed")),jS.get())})}}function gh(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Va(r,e,s);return l.customData._tokenResponse=i,l}async function BS(r,e){return Ql(r,"POST","/v1/accounts:delete",e)}async function Uh(r,e){return Ql(r,"POST","/v1/accounts:lookup",e)}function Fu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FS(r,e=!1){const i=Hr(r),s=await i.getIdToken(e),l=gp(s);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:s,authTime:Fu(Sm(l.auth_time)),issuedAtTime:Fu(Sm(l.iat)),expirationTime:Fu(Sm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Sm(r){return Number(r)*1e3}function gp(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const l=eb(i);return l?JSON.parse(l):(Sh("Failed to decode base64 JWT payload"),null)}catch(l){return Sh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function I0(r){const e=gp(r);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ku(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Cs&&HS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function HS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class qS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Fm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jh(r){const e=r.auth,i=await r.getIdToken(),s=await Ku(r,Uh(e,{idToken:i}));Tt(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?vb(l.providerUserInfo):[],p=YS(r.providerData,c),b=r.isAnonymous,E=!(r.email&&l.passwordHash)&&!p?.length,w=b?E:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Fm(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(r,I)}async function GS(r){const e=Hr(r);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YS(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function vb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function XS(r,e){const i=await gb(r,{},async()=>{const s=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await yb(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const E={method:"POST",headers:b,body:s};return r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(E.credentials="include"),pb.fetch()(p,E)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function QS(r,e){return Ql(r,"POST","/v2/accounts:revokeToken",sc(r,e))}class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const i=I0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await XS(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,p=new Ol;return s&&(Tt(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),l&&(Tt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return gs("not implemented")}}function to(r,e){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ya{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new qS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return FS(this,e)}reload(){return GS(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ya({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ra(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Ku(this,BS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,E=i._redirectEventId??void 0,w=i.createdAt??void 0,I=i.lastLoginAt??void 0,{uid:U,emailVerified:j,isAnonymous:ie,providerData:F,stsTokenManager:Ie}=i;Tt(U&&Ie,e,"internal-error");const Ce=Ol.fromJSON(this.name,Ie);Tt(typeof U=="string",e,"internal-error"),to(s,e.name),to(l,e.name),Tt(typeof j=="boolean",e,"internal-error"),Tt(typeof ie=="boolean",e,"internal-error"),to(c,e.name),to(p,e.name),to(b,e.name),to(E,e.name),to(w,e.name),to(I,e.name);const ke=new ya({uid:U,auth:e,email:l,emailVerified:j,displayName:s,isAnonymous:ie,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Ce,createdAt:w,lastLoginAt:I});return F&&Array.isArray(F)&&(ke.providerData=F.map(Ve=>({...Ve}))),E&&(ke._redirectEventId=E),ke}static async _fromIdTokenResponse(e,i,s=!1){const l=new Ol;l.updateFromServerResponse(i);const c=new ya({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await jh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?vb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Ol;b.updateFromIdToken(s);const E=new ya({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(E,w),E}}const M0=new Map;function ys(r){Es(r instanceof Function,"Expected a class definition");let e=M0.get(r);return e?(Es(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,M0.set(r,e),e)}class _b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}_b.type="NONE";const N0=_b;function Ch(r,e,i){return`firebase:${r}:${e}:${i}`}class kl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ch(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ch("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Uh(this.auth,{idToken:e}).catch(()=>{});return i?ya._fromGetAccountInfoResponse(this.auth,i,e):null}return ya._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new kl(ys(N0),e,s);const l=(await Promise.all(i.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let c=l[0]||ys(N0);const p=Ch(s,e.config.apiKey,e.name);let b=null;for(const w of i)try{const I=await w._get(p);if(I){let U;if(typeof I=="string"){const j=await Uh(e,{idToken:I}).catch(()=>{});if(!j)break;U=await ya._fromGetAccountInfoResponse(e,j,I)}else U=ya._fromJSON(e,I);w!==c&&(b=U),c=w;break}}catch{}const E=l.filter(w=>w._shouldAllowMigration);return!c._shouldAllowMigration||!E.length?new kl(c,e,s):(c=E[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async w=>{if(w!==c)try{await w._remove(p)}catch{}})),new kl(c,e,s))}}function D0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sb(e))return"Blackberry";if(Cb(e))return"Webos";if(wb(e))return"Safari";if((e.includes("chrome/")||Eb(e))&&!e.includes("edge/"))return"Chrome";if(Ab(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function bb(r=er()){return/firefox\//i.test(r)}function wb(r=er()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Eb(r=er()){return/crios\//i.test(r)}function Tb(r=er()){return/iemobile/i.test(r)}function Ab(r=er()){return/android/i.test(r)}function Sb(r=er()){return/blackberry/i.test(r)}function Cb(r=er()){return/webos/i.test(r)}function yp(r=er()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function KS(r=er()){return yp(r)&&!!window.navigator?.standalone}function WS(){return hA()&&document.documentMode===10}function Rb(r=er()){return yp(r)||Ab(r)||Cb(r)||Sb(r)||/windows phone/i.test(r)||Tb(r)}function xb(r,e=[]){let i;switch(r){case"Browser":i=D0(er());break;case"Worker":i=`${D0(er())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xl}/${s}`}class $S{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((p,b)=>{try{const E=e(c);p(E)}catch(E){b(E)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function JS(r,e={}){return Ql(r,"GET","/v2/passwordPolicy",sc(r,e))}const ZS=6;class e2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ZS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class t2{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new $S(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Uh(this,{idToken:e}),s=await ya._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ra(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=s?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(s=b.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ra(this.app))return Promise.reject(vs(this));const i=e?Hr(e):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ra(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ra(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JS(this),i=new e2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await QS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const E=e.addObserver(i,s,l);return()=>{p=!0,E()}}else{const E=e.addObserver(i);return()=>{p=!0,E()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ra(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&OS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oc(r){return Hr(r)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_A(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n2(r){vp=r}function i2(r){return vp.loadJS(r)}function r2(){return vp.gapiScript}function a2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function s2(r,e){const i=fp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zo(c,e??{}))return l;ws(l,"already-initialized")}return i.initialize({options:e})}function o2(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function l2(r,e,i){const s=oc(r);Tt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=Ib(e),{host:p,port:b}=u2(e),E=b===null?"":`:${b}`,w={url:`${c}//${p}${E}/`},I=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(zo(w,s.config.emulator)&&zo(I,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=w,s.emulatorConfig=I,s.settings.appVerificationDisabledForTesting=!0,Yl(p)?(rb(`${c}//${p}${E}`),ab("Auth",!0)):c2()}function Ib(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function u2(r){const e=Ib(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:k0(s.substr(c.length+1))}}else{const[c,p]=s.split(":");return{host:c,port:k0(p)}}}function k0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function c2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Mb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function Vl(r,e){return pp(r,"POST","/v1/accounts:signInWithIdp",sc(r,e))}const h2="http://localhost";class Fo extends Mb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ws("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const p=new Fo(s,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return Vl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Vl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Vl(e,i)}buildRequest(){const e={requestUri:h2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=rc(i)}return e}}class Nb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends Nb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class no extends lc{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";class io extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Fo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return io.credential(i,s)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";class ro extends lc{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";class ao extends lc{constructor(){super("twitter.com")}static credential(e,i){return Fo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return ao.credential(i,s)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";async function f2(r,e){return pp(r,"POST","/v1/accounts:signUp",sc(r,e))}class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await ya._fromIdTokenResponse(e,s,l),p=V0(s);return new Ts({user:c,providerId:p,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=V0(s);return new Ts({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function V0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function d2(r){if(ra(r.app))return Promise.reject(vs(r));const e=oc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ts({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await f2(e,{returnSecureToken:!0}),s=await Ts._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class zh extends Cs{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new zh(e,i,s,l)}}function Db(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,c,e,s):c})}async function m2(r,e,i=!1){const s=await Ku(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ts._forOperation(r,"link",s)}async function p2(r,e,i=!1){const{auth:s}=r;if(ra(s.app))return Promise.reject(vs(s));const l="reauthenticate";try{const c=await Ku(r,Db(s,l,e,r),i);Tt(c.idToken,s,"internal-error");const p=gp(c.idToken);Tt(p,s,"internal-error");const{sub:b}=p;return Tt(r.uid===b,s,"user-mismatch"),Ts._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ws(s,"user-mismatch"),c}}async function g2(r,e,i=!1){if(ra(r.app))return Promise.reject(vs(r));const s="signIn",l=await Db(r,s,e),c=await Ts._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function y2(r,e){return pp(r,"POST","/v1/accounts:signInWithCustomToken",sc(r,e))}async function v2(r,e){if(ra(r.app))return Promise.reject(vs(r));const i=oc(r),s=await y2(i,{token:e,returnSecureToken:!0}),l=await Ts._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function _2(r,e,i,s){return Hr(r).onIdTokenChanged(e,i,s)}function b2(r,e,i){return Hr(r).beforeAuthStateChanged(e,i)}function w2(r,e,i,s){return Hr(r).onAuthStateChanged(e,i,s)}const Bh="__sak";class Ob{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const E2=1e3,T2=10;class kb extends Ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,E)=>{this.notifyListeners(p,E)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},c=this.storage.getItem(s);WS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,T2):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}kb.type="LOCAL";const A2=kb;class Vb extends Ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Vb.type="SESSION";const Pb=Vb;function S2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const b=Array.from(p).map(async w=>w(i.origin,c)),E=await S2(b);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:E})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];function _p(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class C2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,E)=>{const w=_p("",20);l.port1.start();const I=setTimeout(()=>{E(new Error("unsupported_event"))},s);p={messageChannel:l,onMessage(U){const j=U;if(j.data.eventId===w)switch(j.data.status){case"ack":clearTimeout(I),c=setTimeout(()=>{E(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(j.data.response);break;default:clearTimeout(I),clearTimeout(c),E(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:w,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Pa(){return window}function R2(r){Pa().location.href=r}function Lb(){return typeof Pa().WorkerGlobalScope<"u"&&typeof Pa().importScripts=="function"}async function x2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I2(){return navigator?.serviceWorker?.controller||null}function M2(){return Lb()?self:null}const Ub="firebaseLocalStorageDb",N2=1,Fh="firebaseLocalStorage",jb="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function of(r,e){return r.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function D2(){const r=indexedDB.deleteDatabase(Ub);return new uc(r).toPromise()}function Hm(){const r=indexedDB.open(Ub,N2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:jb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await D2(),e(await Hm()))})})}async function P0(r,e,i){const s=of(r,!0).put({[jb]:e,value:i});return new uc(s).toPromise()}async function O2(r,e){const i=of(r,!1).get(e),s=await new uc(i).toPromise();return s===void 0?null:s.value}function L0(r,e){const i=of(r,!0).delete(e);return new uc(i).toPromise()}const k2=800,V2=3;class zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>V2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(M2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await x2(),!this.activeServiceWorker)return;this.sender=new C2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await P0(e,Bh,"1"),await L0(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>P0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>O2(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>L0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=of(l,!1).getAll();return new uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zb.type="LOCAL";const P2=zb;new ac(3e4,6e4);function L2(r,e){return e?ys(e):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class bp extends Mb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Vl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function U2(r){return g2(r.auth,new bp(r),r.bypassAuthState)}function j2(r){const{auth:e,user:i}=r;return Tt(i,e,"internal-error"),p2(i,new bp(r),r.bypassAuthState)}async function z2(r){const{auth:e,user:i}=r;return Tt(i,e,"internal-error"),m2(i,new bp(r),r.bypassAuthState)}class Bb{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const E={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(E))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U2;case"linkViaPopup":case"linkViaRedirect":return z2;case"reauthViaPopup":case"reauthViaRedirect":return j2;default:ws(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const B2=new ac(2e3,1e4);class Nl extends Bb{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Va(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Va(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Va(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B2.get())};e()}}Nl.currentPopupAction=null;const F2="pendingRedirect",Rh=new Map;class H2 extends Bb{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const s=await q2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q2(r,e){const i=X2(e),s=Y2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function G2(r,e){Rh.set(r._key(),e)}function Y2(r){return ys(r._redirectPersistence)}function X2(r){return Ch(F2,r.config.apiKey,r.name)}async function Q2(r,e,i=!1){if(ra(r.app))return Promise.reject(vs(r));const s=oc(r),l=L2(s,e),p=await new H2(s,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}const K2=600*1e3;class W2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Fb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Va(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K2&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(e))}saveEventToCache(e){this.cachedEventUids.add(U0(e)),this.lastProcessedEventTime=Date.now()}}function U0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Fb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function $2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fb(r);default:return!1}}async function J2(r,e={}){return Ql(r,"GET","/v1/projects",e)}const Z2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eC=/^https?/;async function tC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await J2(r);for(const i of e)try{if(nC(i))return}catch{}ws(r,"unauthorized-domain")}function nC(r){const e=Bm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===s}if(!eC.test(i))return!1;if(Z2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const iC=new ac(3e4,6e4);function j0(){const r=Pa().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function rC(r){return new Promise((e,i)=>{function s(){j0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j0(),i(Va(r,"network-request-failed"))},timeout:iC.get()})}if(Pa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pa().gapi?.load)s();else{const l=a2("iframefcb");return Pa()[l]=()=>{gapi.load?s():i(Va(r,"network-request-failed"))},i2(`${r2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw xh=null,e})}let xh=null;function aC(r){return xh=xh||rC(r),xh}const sC=new ac(5e3,15e3),oC="__/auth/iframe",lC="emulator/auth/iframe",uC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hC(r){const e=r.config;Tt(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?mp(e,lC):`https://${r.config.authDomain}/${oC}`,s={apiKey:e.apiKey,appName:r.name,v:Xl},l=cC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${rc(s).slice(1)}`}async function fC(r){const e=await aC(r),i=Pa().gapi;return Tt(i,r,"internal-error"),e.open({where:document.body,url:hC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const p=Va(r,"network-request-failed"),b=Pa().setTimeout(()=>{c(p)},sC.get());function E(){Pa().clearTimeout(b),l(s)}s.ping(E).then(E,()=>{c(p)})}))}const dC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mC=500,pC=600,gC="_blank",yC="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vC(r,e,i,s=mC,l=pC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const E={...dC,width:s.toString(),height:l.toString(),top:c,left:p},w=er().toLowerCase();i&&(b=Eb(w)?gC:i),bb(w)&&(e=e||yC,E.scrollbars="yes");const I=Object.entries(E).reduce((j,[ie,F])=>`${j}${ie}=${F},`,"");if(KS(w)&&b!=="_self")return _C(e||"",b),new z0(null);const U=window.open(e||"",b,I);Tt(U,r,"popup-blocked");try{U.focus()}catch{}return new z0(U)}function _C(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const bC="__/auth/handler",wC="emulator/auth/handler",EC=encodeURIComponent("fac");async function B0(r,e,i,s,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Xl,eventId:l};if(e instanceof Nb){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",vA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[I,U]of Object.entries({}))p[I]=U}if(e instanceof lc){const I=e.getScopes().filter(U=>U!=="");I.length>0&&(p.scopes=I.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const I of Object.keys(b))b[I]===void 0&&delete b[I];const E=await r._getAppCheckToken(),w=E?`#${EC}=${encodeURIComponent(E)}`:"";return`${TC(r)}?${rc(b).slice(1)}${w}`}function TC({config:r}){return r.emulator?mp(r,wC):`https://${r.authDomain}/${bC}`}const Cm="webStorageSupport";class AC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pb,this._completeRedirectFn=Q2,this._overrideRedirectResult=G2}async _openPopup(e,i,s,l){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await B0(e,i,s,Bm(),l);return vC(e,c,_p())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await B0(e,i,s,Bm(),l);return R2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Es(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await fC(e),s=new W2(e);return i.register("authEvent",l=>(Tt(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Cm,{type:Cm},l=>{const c=l?.[0]?.[Cm];c!==void 0&&i(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=tC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Rb()||wb()||yp()}}const SC=AC;var F0="@firebase/auth",H0="1.11.1";class CC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xC(r){jl(new Bo("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;Tt(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const E={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xb(r)},w=new t2(s,l,c,E);return o2(w,i),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),jl(new Bo("auth-internal",e=>{const i=oc(e.getProvider("auth").getImmediate());return(s=>new CC(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(F0,H0,RC(r)),co(F0,H0,"esm2020")}const IC=300,MC=ib("authIdTokenMaxAge")||IC;let q0=null;const NC=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>MC)return;const l=i?.token;q0!==l&&(q0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function DC(r=ub()){const e=fp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=s2(r,{popupRedirectResolver:SC,persistence:[P2,A2,Pb]}),s=ib("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const p=NC(c.toString());b2(i,p,()=>p(i.currentUser)),_2(i,b=>p(b))}}const l=tb("auth");return l&&l2(i,`http://${l}`),i}function OC(){return document.getElementsByTagName("head")?.[0]??document}n2({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Va("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",OC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xC("Browser");var G0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ho,Hb;(function(){var r;function e(q,z){function V(){}V.prototype=z.prototype,q.F=z.prototype,q.prototype=new V,q.prototype.constructor=q,q.D=function(H,x,P){for(var R=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)R[Q-2]=arguments[Q];return z.prototype[x].apply(H,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(q,z,V){V||(V=0);const H=Array(16);if(typeof z=="string")for(var x=0;x<16;++x)H[x]=z.charCodeAt(V++)|z.charCodeAt(V++)<<8|z.charCodeAt(V++)<<16|z.charCodeAt(V++)<<24;else for(x=0;x<16;++x)H[x]=z[V++]|z[V++]<<8|z[V++]<<16|z[V++]<<24;z=q.g[0],V=q.g[1],x=q.g[2];let P=q.g[3],R;R=z+(P^V&(x^P))+H[0]+3614090360&4294967295,z=V+(R<<7&4294967295|R>>>25),R=P+(x^z&(V^x))+H[1]+3905402710&4294967295,P=z+(R<<12&4294967295|R>>>20),R=x+(V^P&(z^V))+H[2]+606105819&4294967295,x=P+(R<<17&4294967295|R>>>15),R=V+(z^x&(P^z))+H[3]+3250441966&4294967295,V=x+(R<<22&4294967295|R>>>10),R=z+(P^V&(x^P))+H[4]+4118548399&4294967295,z=V+(R<<7&4294967295|R>>>25),R=P+(x^z&(V^x))+H[5]+1200080426&4294967295,P=z+(R<<12&4294967295|R>>>20),R=x+(V^P&(z^V))+H[6]+2821735955&4294967295,x=P+(R<<17&4294967295|R>>>15),R=V+(z^x&(P^z))+H[7]+4249261313&4294967295,V=x+(R<<22&4294967295|R>>>10),R=z+(P^V&(x^P))+H[8]+1770035416&4294967295,z=V+(R<<7&4294967295|R>>>25),R=P+(x^z&(V^x))+H[9]+2336552879&4294967295,P=z+(R<<12&4294967295|R>>>20),R=x+(V^P&(z^V))+H[10]+4294925233&4294967295,x=P+(R<<17&4294967295|R>>>15),R=V+(z^x&(P^z))+H[11]+2304563134&4294967295,V=x+(R<<22&4294967295|R>>>10),R=z+(P^V&(x^P))+H[12]+1804603682&4294967295,z=V+(R<<7&4294967295|R>>>25),R=P+(x^z&(V^x))+H[13]+4254626195&4294967295,P=z+(R<<12&4294967295|R>>>20),R=x+(V^P&(z^V))+H[14]+2792965006&4294967295,x=P+(R<<17&4294967295|R>>>15),R=V+(z^x&(P^z))+H[15]+1236535329&4294967295,V=x+(R<<22&4294967295|R>>>10),R=z+(x^P&(V^x))+H[1]+4129170786&4294967295,z=V+(R<<5&4294967295|R>>>27),R=P+(V^x&(z^V))+H[6]+3225465664&4294967295,P=z+(R<<9&4294967295|R>>>23),R=x+(z^V&(P^z))+H[11]+643717713&4294967295,x=P+(R<<14&4294967295|R>>>18),R=V+(P^z&(x^P))+H[0]+3921069994&4294967295,V=x+(R<<20&4294967295|R>>>12),R=z+(x^P&(V^x))+H[5]+3593408605&4294967295,z=V+(R<<5&4294967295|R>>>27),R=P+(V^x&(z^V))+H[10]+38016083&4294967295,P=z+(R<<9&4294967295|R>>>23),R=x+(z^V&(P^z))+H[15]+3634488961&4294967295,x=P+(R<<14&4294967295|R>>>18),R=V+(P^z&(x^P))+H[4]+3889429448&4294967295,V=x+(R<<20&4294967295|R>>>12),R=z+(x^P&(V^x))+H[9]+568446438&4294967295,z=V+(R<<5&4294967295|R>>>27),R=P+(V^x&(z^V))+H[14]+3275163606&4294967295,P=z+(R<<9&4294967295|R>>>23),R=x+(z^V&(P^z))+H[3]+4107603335&4294967295,x=P+(R<<14&4294967295|R>>>18),R=V+(P^z&(x^P))+H[8]+1163531501&4294967295,V=x+(R<<20&4294967295|R>>>12),R=z+(x^P&(V^x))+H[13]+2850285829&4294967295,z=V+(R<<5&4294967295|R>>>27),R=P+(V^x&(z^V))+H[2]+4243563512&4294967295,P=z+(R<<9&4294967295|R>>>23),R=x+(z^V&(P^z))+H[7]+1735328473&4294967295,x=P+(R<<14&4294967295|R>>>18),R=V+(P^z&(x^P))+H[12]+2368359562&4294967295,V=x+(R<<20&4294967295|R>>>12),R=z+(V^x^P)+H[5]+4294588738&4294967295,z=V+(R<<4&4294967295|R>>>28),R=P+(z^V^x)+H[8]+2272392833&4294967295,P=z+(R<<11&4294967295|R>>>21),R=x+(P^z^V)+H[11]+1839030562&4294967295,x=P+(R<<16&4294967295|R>>>16),R=V+(x^P^z)+H[14]+4259657740&4294967295,V=x+(R<<23&4294967295|R>>>9),R=z+(V^x^P)+H[1]+2763975236&4294967295,z=V+(R<<4&4294967295|R>>>28),R=P+(z^V^x)+H[4]+1272893353&4294967295,P=z+(R<<11&4294967295|R>>>21),R=x+(P^z^V)+H[7]+4139469664&4294967295,x=P+(R<<16&4294967295|R>>>16),R=V+(x^P^z)+H[10]+3200236656&4294967295,V=x+(R<<23&4294967295|R>>>9),R=z+(V^x^P)+H[13]+681279174&4294967295,z=V+(R<<4&4294967295|R>>>28),R=P+(z^V^x)+H[0]+3936430074&4294967295,P=z+(R<<11&4294967295|R>>>21),R=x+(P^z^V)+H[3]+3572445317&4294967295,x=P+(R<<16&4294967295|R>>>16),R=V+(x^P^z)+H[6]+76029189&4294967295,V=x+(R<<23&4294967295|R>>>9),R=z+(V^x^P)+H[9]+3654602809&4294967295,z=V+(R<<4&4294967295|R>>>28),R=P+(z^V^x)+H[12]+3873151461&4294967295,P=z+(R<<11&4294967295|R>>>21),R=x+(P^z^V)+H[15]+530742520&4294967295,x=P+(R<<16&4294967295|R>>>16),R=V+(x^P^z)+H[2]+3299628645&4294967295,V=x+(R<<23&4294967295|R>>>9),R=z+(x^(V|~P))+H[0]+4096336452&4294967295,z=V+(R<<6&4294967295|R>>>26),R=P+(V^(z|~x))+H[7]+1126891415&4294967295,P=z+(R<<10&4294967295|R>>>22),R=x+(z^(P|~V))+H[14]+2878612391&4294967295,x=P+(R<<15&4294967295|R>>>17),R=V+(P^(x|~z))+H[5]+4237533241&4294967295,V=x+(R<<21&4294967295|R>>>11),R=z+(x^(V|~P))+H[12]+1700485571&4294967295,z=V+(R<<6&4294967295|R>>>26),R=P+(V^(z|~x))+H[3]+2399980690&4294967295,P=z+(R<<10&4294967295|R>>>22),R=x+(z^(P|~V))+H[10]+4293915773&4294967295,x=P+(R<<15&4294967295|R>>>17),R=V+(P^(x|~z))+H[1]+2240044497&4294967295,V=x+(R<<21&4294967295|R>>>11),R=z+(x^(V|~P))+H[8]+1873313359&4294967295,z=V+(R<<6&4294967295|R>>>26),R=P+(V^(z|~x))+H[15]+4264355552&4294967295,P=z+(R<<10&4294967295|R>>>22),R=x+(z^(P|~V))+H[6]+2734768916&4294967295,x=P+(R<<15&4294967295|R>>>17),R=V+(P^(x|~z))+H[13]+1309151649&4294967295,V=x+(R<<21&4294967295|R>>>11),R=z+(x^(V|~P))+H[4]+4149444226&4294967295,z=V+(R<<6&4294967295|R>>>26),R=P+(V^(z|~x))+H[11]+3174756917&4294967295,P=z+(R<<10&4294967295|R>>>22),R=x+(z^(P|~V))+H[2]+718787259&4294967295,x=P+(R<<15&4294967295|R>>>17),R=V+(P^(x|~z))+H[9]+3951481745&4294967295,q.g[0]=q.g[0]+z&4294967295,q.g[1]=q.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,q.g[2]=q.g[2]+x&4294967295,q.g[3]=q.g[3]+P&4294967295}s.prototype.v=function(q,z){z===void 0&&(z=q.length);const V=z-this.blockSize,H=this.C;let x=this.h,P=0;for(;P<z;){if(x==0)for(;P<=V;)l(this,q,P),P+=this.blockSize;if(typeof q=="string"){for(;P<z;)if(H[x++]=q.charCodeAt(P++),x==this.blockSize){l(this,H),x=0;break}}else for(;P<z;)if(H[x++]=q[P++],x==this.blockSize){l(this,H),x=0;break}}this.h=x,this.o+=z},s.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var z=1;z<q.length-8;++z)q[z]=0;z=this.o*8;for(var V=q.length-8;V<q.length;++V)q[V]=z&255,z/=256;for(this.v(q),q=Array(16),z=0,V=0;V<4;++V)for(let H=0;H<32;H+=8)q[z++]=this.g[V]>>>H&255;return q};function c(q,z){var V=b;return Object.prototype.hasOwnProperty.call(V,q)?V[q]:V[q]=z(q)}function p(q,z){this.h=z;const V=[];let H=!0;for(let x=q.length-1;x>=0;x--){const P=q[x]|0;H&&P==z||(V[x]=P,H=!1)}this.g=V}var b={};function E(q){return-128<=q&&q<128?c(q,function(z){return new p([z|0],z<0?-1:0)}):new p([q|0],q<0?-1:0)}function w(q){if(isNaN(q)||!isFinite(q))return U;if(q<0)return Ce(w(-q));const z=[];let V=1;for(let H=0;q>=V;H++)z[H]=q/V|0,V*=4294967296;return new p(z,0)}function I(q,z){if(q.length==0)throw Error("number format error: empty string");if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(q.charAt(0)=="-")return Ce(I(q.substring(1),z));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=w(Math.pow(z,8));let H=U;for(let P=0;P<q.length;P+=8){var x=Math.min(8,q.length-P);const R=parseInt(q.substring(P,P+x),z);x<8?(x=w(Math.pow(z,x)),H=H.j(x).add(w(R))):(H=H.j(V),H=H.add(w(R)))}return H}var U=E(0),j=E(1),ie=E(16777216);r=p.prototype,r.m=function(){if(Ie(this))return-Ce(this).m();let q=0,z=1;for(let V=0;V<this.g.length;V++){const H=this.i(V);q+=(H>=0?H:4294967296+H)*z,z*=4294967296}return q},r.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(F(this))return"0";if(Ie(this))return"-"+Ce(this).toString(q);const z=w(Math.pow(q,6));var V=this;let H="";for(;;){const x=Xe(V,z).g;V=ke(V,x.j(z));let P=((V.g.length>0?V.g[0]:V.h)>>>0).toString(q);if(V=x,F(V))return P+H;for(;P.length<6;)P="0"+P;H=P+H}},r.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function F(q){if(q.h!=0)return!1;for(let z=0;z<q.g.length;z++)if(q.g[z]!=0)return!1;return!0}function Ie(q){return q.h==-1}r.l=function(q){return q=ke(this,q),Ie(q)?-1:F(q)?0:1};function Ce(q){const z=q.g.length,V=[];for(let H=0;H<z;H++)V[H]=~q.g[H];return new p(V,~q.h).add(j)}r.abs=function(){return Ie(this)?Ce(this):this},r.add=function(q){const z=Math.max(this.g.length,q.g.length),V=[];let H=0;for(let x=0;x<=z;x++){let P=H+(this.i(x)&65535)+(q.i(x)&65535),R=(P>>>16)+(this.i(x)>>>16)+(q.i(x)>>>16);H=R>>>16,P&=65535,R&=65535,V[x]=R<<16|P}return new p(V,V[V.length-1]&-2147483648?-1:0)};function ke(q,z){return q.add(Ce(z))}r.j=function(q){if(F(this)||F(q))return U;if(Ie(this))return Ie(q)?Ce(this).j(Ce(q)):Ce(Ce(this).j(q));if(Ie(q))return Ce(this.j(Ce(q)));if(this.l(ie)<0&&q.l(ie)<0)return w(this.m()*q.m());const z=this.g.length+q.g.length,V=[];for(var H=0;H<2*z;H++)V[H]=0;for(H=0;H<this.g.length;H++)for(let x=0;x<q.g.length;x++){const P=this.i(H)>>>16,R=this.i(H)&65535,Q=q.i(x)>>>16,ae=q.i(x)&65535;V[2*H+2*x]+=R*ae,Ve(V,2*H+2*x),V[2*H+2*x+1]+=P*ae,Ve(V,2*H+2*x+1),V[2*H+2*x+1]+=R*Q,Ve(V,2*H+2*x+1),V[2*H+2*x+2]+=P*Q,Ve(V,2*H+2*x+2)}for(q=0;q<z;q++)V[q]=V[2*q+1]<<16|V[2*q];for(q=z;q<2*z;q++)V[q]=0;return new p(V,0)};function Ve(q,z){for(;(q[z]&65535)!=q[z];)q[z+1]+=q[z]>>>16,q[z]&=65535,z++}function Be(q,z){this.g=q,this.h=z}function Xe(q,z){if(F(z))throw Error("division by zero");if(F(q))return new Be(U,U);if(Ie(q))return z=Xe(Ce(q),z),new Be(Ce(z.g),Ce(z.h));if(Ie(z))return z=Xe(q,Ce(z)),new Be(Ce(z.g),z.h);if(q.g.length>30){if(Ie(q)||Ie(z))throw Error("slowDivide_ only works with positive integers.");for(var V=j,H=z;H.l(q)<=0;)V=ct(V),H=ct(H);var x=pt(V,1),P=pt(H,1);for(H=pt(H,2),V=pt(V,2);!F(H);){var R=P.add(H);R.l(q)<=0&&(x=x.add(V),P=R),H=pt(H,1),V=pt(V,1)}return z=ke(q,x.j(z)),new Be(x,z)}for(x=U;q.l(z)>=0;){for(V=Math.max(1,Math.floor(q.m()/z.m())),H=Math.ceil(Math.log(V)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),P=w(V),R=P.j(z);Ie(R)||R.l(q)>0;)V-=H,P=w(V),R=P.j(z);F(P)&&(P=j),x=x.add(P),q=ke(q,R)}return new Be(x,q)}r.B=function(q){return Xe(this,q).h},r.and=function(q){const z=Math.max(this.g.length,q.g.length),V=[];for(let H=0;H<z;H++)V[H]=this.i(H)&q.i(H);return new p(V,this.h&q.h)},r.or=function(q){const z=Math.max(this.g.length,q.g.length),V=[];for(let H=0;H<z;H++)V[H]=this.i(H)|q.i(H);return new p(V,this.h|q.h)},r.xor=function(q){const z=Math.max(this.g.length,q.g.length),V=[];for(let H=0;H<z;H++)V[H]=this.i(H)^q.i(H);return new p(V,this.h^q.h)};function ct(q){const z=q.g.length+1,V=[];for(let H=0;H<z;H++)V[H]=q.i(H)<<1|q.i(H-1)>>>31;return new p(V,q.h)}function pt(q,z){const V=z>>5;z%=32;const H=q.g.length-V,x=[];for(let P=0;P<H;P++)x[P]=z>0?q.i(P+V)>>>z|q.i(P+V+1)<<32-z:q.i(P+V);return new p(x,q.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Hb=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=w,p.fromString=I,ho=p}).apply(typeof G0<"u"?G0:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qb,Uu,Gb,Ih,qm,Yb,Xb,Qb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=i(this);function l(u,y){if(y)e:{var A=s;u=u.split(".");for(var O=0;O<u.length-1;O++){var re=u[O];if(!(re in A))break e;A=A[re]}u=u[u.length-1],O=A[u],y=y(O),y!=O&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],O;for(O in y)Object.prototype.hasOwnProperty.call(y,O)&&A.push([O,y[O]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function E(u,y,A){return u.call.apply(u.bind,arguments)}function w(u,y,A){return w=E,w.apply(null,arguments)}function I(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var O=A.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function U(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(O,re,de){for(var Ue=Array(arguments.length-2),St=2;St<arguments.length;St++)Ue[St-2]=arguments[St];return y.prototype[re].apply(O,Ue)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function ie(u){const y=u.length;if(y>0){const A=Array(y);for(let O=0;O<y;O++)A[O]=u[O];return A}return[]}function F(u,y){for(let O=1;O<arguments.length;O++){const re=arguments[O];var A=typeof re;if(A=A!="object"?A:re?Array.isArray(re)?"array":A:"null",A=="array"||A=="object"&&typeof re.length=="number"){A=u.length||0;const de=re.length||0;u.length=A+de;for(let Ue=0;Ue<de;Ue++)u[A+Ue]=re[Ue]}else u.push(re)}}class Ie{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Ce(u){p.setTimeout(()=>{throw u},0)}function ke(){var u=q;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Ve{constructor(){this.h=this.g=null}add(y,A){const O=Be.get();O.set(y,A),this.h?this.h.next=O:this.g=O,this.h=O}}var Be=new Ie(()=>new Xe,u=>u.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,pt=!1,q=new Ve,z=()=>{const u=Promise.resolve(void 0);ct=()=>{u.then(V)}};function V(){for(var u;u=ke();){try{u.h.call(u.g)}catch(A){Ce(A)}var y=Be;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}pt=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Q(u,y){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}U(Q,x),Q.prototype.init=function(u,y){const A=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(u,y,A,O,re){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!O,this.ha=re,this.key=++G,this.da=this.fa=!1}function ve(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,y,A){for(const O in u)y.call(A,u[O],O,u)}function we(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function L(u){const y={};for(const A in u)y[A]=u[A];return y}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ee(u,y){let A,O;for(let re=1;re<arguments.length;re++){O=arguments[re];for(A in O)u[A]=O[A];for(let de=0;de<K.length;de++)A=K[de],Object.prototype.hasOwnProperty.call(O,A)&&(u[A]=O[A])}}function ye(u){this.src=u,this.g={},this.h=0}ye.prototype.add=function(u,y,A,O,re){const de=u.toString();u=this.g[de],u||(u=this.g[de]=[],this.h++);const Ue=He(u,y,O,re);return Ue>-1?(y=u[Ue],A||(y.fa=!1)):(y=new te(y,this.src,de,!!O,re),y.fa=A,u.push(y)),y};function Me(u,y){const A=y.type;if(A in u.g){var O=u.g[A],re=Array.prototype.indexOf.call(O,y,void 0),de;(de=re>=0)&&Array.prototype.splice.call(O,re,1),de&&(ve(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function He(u,y,A,O){for(let re=0;re<u.length;++re){const de=u[re];if(!de.da&&de.listener==y&&de.capture==!!A&&de.ha==O)return re}return-1}var ht="closure_lm_"+(Math.random()*1e6|0),mt={};function bt(u,y,A,O,re){if(Array.isArray(y)){for(let de=0;de<y.length;de++)bt(u,y[de],A,O,re);return null}return A=Jt(A),u&&u[ae]?u.J(y,A,b(O)?!!O.capture:!1,re):kt(u,y,A,!1,O,re)}function kt(u,y,A,O,re,de){if(!y)throw Error("Invalid event type");const Ue=b(re)?!!re.capture:!!re;let St=Tn(u);if(St||(u[ht]=St=new ye(u)),A=St.add(y,A,O,Ue,de),A.proxy)return A;if(O=un(),A.proxy=O,O.src=u,O.listener=A,u.addEventListener)P||(re=Ue),re===void 0&&(re=!1),u.addEventListener(y.toString(),O,re);else if(u.attachEvent)u.attachEvent(Dt(y.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return A}function un(){function u(A){return y.call(u.src,u.listener,A)}const y=wt;return u}function ft(u,y,A,O,re){if(Array.isArray(y))for(var de=0;de<y.length;de++)ft(u,y[de],A,O,re);else O=b(O)?!!O.capture:!!O,A=Jt(A),u&&u[ae]?(u=u.i,de=String(y).toString(),de in u.g&&(y=u.g[de],A=He(y,A,O,re),A>-1&&(ve(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[de],u.h--)))):u&&(u=Tn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=He(y,A,O,re)),(A=u>-1?y[u]:null)&&At(A))}function At(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ae])Me(y.i,u);else{var A=u.type,O=u.proxy;y.removeEventListener?y.removeEventListener(A,O,u.capture):y.detachEvent?y.detachEvent(Dt(A),O):y.addListener&&y.removeListener&&y.removeListener(O),(A=Tn(y))?(Me(A,u),A.h==0&&(A.src=null,y[ht]=null)):ve(u)}}}function Dt(u){return u in mt?mt[u]:mt[u]="on"+u}function wt(u,y){if(u.da)u=!0;else{y=new Q(y,this);const A=u.listener,O=u.ha||u.src;u.fa&&At(u),u=A.call(O,y)}return u}function Tn(u){return u=u[ht],u instanceof ye?u:null}var hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jt(u){return typeof u=="function"?u:(u[hi]||(u[hi]=function(y){return u.handleEvent(y)}),u[hi])}function it(){H.call(this),this.i=new ye(this),this.M=this,this.G=null}U(it,H),it.prototype[ae]=!0,it.prototype.removeEventListener=function(u,y,A,O){ft(this,u,y,A,O)};function sn(u,y){var A,O=u.G;if(O)for(A=[];O;O=O.G)A.push(O);if(u=u.M,O=y.type||y,typeof y=="string")y=new x(y,u);else if(y instanceof x)y.target=y.target||u;else{var re=y;y=new x(O,u),Ee(y,re)}re=!0;let de,Ue;if(A)for(Ue=A.length-1;Ue>=0;Ue--)de=y.g=A[Ue],re=mn(de,O,!0,y)&&re;if(de=y.g=u,re=mn(de,O,!0,y)&&re,re=mn(de,O,!1,y)&&re,A)for(Ue=0;Ue<A.length;Ue++)de=y.g=A[Ue],re=mn(de,O,!1,y)&&re}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let O=0;O<A.length;O++)ve(A[O]);delete u.g[y],u.h--}}this.G=null},it.prototype.J=function(u,y,A,O){return this.i.add(String(u),y,!1,A,O)},it.prototype.K=function(u,y,A,O){return this.i.add(String(u),y,!0,A,O)};function mn(u,y,A,O){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let re=!0;for(let de=0;de<y.length;++de){const Ue=y[de];if(Ue&&!Ue.da&&Ue.capture==A){const St=Ue.listener,ei=Ue.ha||Ue.src;Ue.fa&&Me(u.i,Ue),re=St.call(ei,O)!==!1&&re}}return re&&!O.defaultPrevented}function Gi(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function $n(u){u.g=Gi(()=>{u.g=null,u.i&&(u.i=!1,$n(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Gt extends H{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(u){H.call(this),this.h=u,this.g={}}U(An,H);var C=[];function g(u){he(u.g,function(y,A){this.g.hasOwnProperty(A)&&At(y)},u),u.g={}}An.prototype.N=function(){An.Z.N.call(this),g(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,D=p.JSON.parse,W=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function me(){}function Re(){}var Qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){x.call(this,"d")}U(Je,x);function Ge(){x.call(this,"c")}U(Ge,x);var rt={},Bt=null;function xn(){return Bt=Bt||new it}rt.Ia="serverreachability";function pn(u){x.call(this,rt.Ia,u)}U(pn,x);function Bn(u){const y=xn();sn(y,new pn(y))}rt.STAT_EVENT="statevent";function Jn(u,y){x.call(this,rt.STAT_EVENT,u),this.stat=y}U(Jn,x);function Rt(u){const y=xn();sn(y,new Jn(y,u))}rt.Ja="timingevent";function Ln(u,y){x.call(this,rt.Ja,u),this.size=y}U(Ln,x);function Un(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function vn(){this.g=!0}vn.prototype.ua=function(){this.g=!1};function Ni(u,y,A,O,re,de){u.info(function(){if(u.g)if(de){var Ue="",St=de.split("&");for(let on=0;on<St.length;on++){var ei=St[on].split("=");if(ei.length>1){const jn=ei[0];ei=ei[1];const Qi=jn.split("_");Ue=Qi.length>=2&&Qi[1]=="type"?Ue+(jn+"="+ei+"&"):Ue+(jn+"=redacted&")}}}else Ue=null;else Ue=de;return"XMLHTTP REQ ("+O+") [attempt "+re+"]: "+y+`
`+A+`
`+Ue})}function gt(u,y,A,O,re,de,Ue){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+re+"]: "+y+`
`+A+`
`+de+" "+Ue})}function Zn(u,y,A,O){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+tr(u,A)+(O?" "+O:"")})}function xt(u,y){u.info(function(){return"TIMEOUT: "+y})}vn.prototype.info=function(){};function tr(u,y){if(!u.g)return y;if(!y)return null;try{const de=JSON.parse(y);if(de){for(u=0;u<de.length;u++)if(Array.isArray(de[u])){var A=de[u];if(!(A.length<2)){var O=A[1];if(Array.isArray(O)&&!(O.length<1)){var re=O[0];if(re!="noop"&&re!="stop"&&re!="close")for(let Ue=1;Ue<O.length;Ue++)O[Ue]=""}}}}return v(de)}catch{return y}}var nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ir;function rr(){}U(rr,me),rr.prototype.g=function(){return new XMLHttpRequest},ir=new rr;function Ye(u){return encodeURIComponent(String(u))}function ba(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function ar(u,y,A,O){this.j=u,this.i=y,this.l=A,this.S=O||1,this.V=new An(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new sr}function sr(){this.i=null,this.g="",this.h=!1}var cn={},Qn={};function or(u,y,A){u.M=1,u.A=wi(_n(y)),u.u=A,u.R=!0,Nr(u,null)}function Nr(u,y){u.F=Date.now(),lr(u),u.B=_n(u.A);var A=u.B,O=u.S;Array.isArray(O)||(O=[String(O)]),Ze(A.i,"t",O),u.C=0,A=u.j.L,u.h=new sr,u.g=Jo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new Gt(w(u.Y,u,u.g),u.P)),y=u.V,A=u.g,O=u.ba;var re="readystatechange";Array.isArray(re)||(re&&(C[0]=re.toString()),re=C);for(let de=0;de<re.length;de++){const Ue=bt(A,re[de],O||y.handleEvent,!1,y.h||y);if(!Ue)break;y.g[Ue.key]=Ue}y=u.J?L(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Bn(),Ni(u.i,u.v,u.B,u.l,u.S,u.u)}ar.prototype.ba=function(u){u=u.target;const y=this.O;y&&Or(u)==3?y.j():this.Y(u)},ar.prototype.Y=function(u){try{if(u==this.g)e:{const St=Or(this.g),ei=this.g.ya(),on=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Ti(this.g)))){this.K||St!=4||ei==7||(ei==8||on<=0?Bn(3):Bn(2)),ur(this);var y=this.g.ca();this.X=y;var A=Rs(this);if(this.o=y==200,gt(this.i,this.v,this.B,this.l,this.S,St,y),this.o){if(this.U&&!this.L){t:{if(this.g){var O,re=this.g;if((O=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(O)){var de=O;break t}}de=null}if(u=de)Zn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,u);else{this.o=!1,this.m=3,Rt(12),_i(this),Yi(this);break e}}if(this.R){u=!0;let jn;for(;!this.K&&this.C<A.length;)if(jn=oa(this,A),jn==Qn){St==4&&(this.m=4,Rt(14),u=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==cn){this.m=4,Rt(15),Zn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Zn(this.i,this.l,jn,null),Oi(this,jn);if(Ha(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||A.length!=0||this.h.h||(this.m=1,Rt(16),u=!1),this.o=this.o&&u,!u)Zn(this.i,this.l,A,"[Invalid Chunked Response]"),_i(this),Yi(this);else if(A.length>0&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.aa&&!Ue.P&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),fr(Ue),Ue.P=!0,Rt(11))}}else Zn(this.i,this.l,A,null),Oi(this,A);St==4&&_i(this),this.o&&!this.K&&(St==4?Ka(this.j,this):(this.o=!1,lr(this)))}else wr(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),_i(this),Yi(this)}}}catch{}finally{}};function Rs(u){if(!Ha(u))return u.g.la();const y=Ti(u.g);if(y==="")return"";let A="";const O=y.length,re=Or(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _i(u),Yi(u),"";u.h.i=new p.TextDecoder}for(let de=0;de<O;de++)u.h.h=!0,A+=u.h.i.decode(y[de],{stream:!(re&&de==O-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function Ha(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function oa(u,y){var A=u.C,O=y.indexOf(`
`,A);return O==-1?Qn:(A=Number(y.substring(A,O)),isNaN(A)?cn:(O+=1,O+A>y.length?Qn:(y=y.slice(O,O+A),u.C=O+A,y)))}ar.prototype.cancel=function(){this.K=!0,_i(this)};function lr(u){u.T=Date.now()+u.H,Di(u,u.H)}function Di(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Un(w(u.aa,u),y)}function ur(u){u.D&&(p.clearTimeout(u.D),u.D=null)}ar.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xt(this.i,this.B),this.M!=2&&(Bn(),Rt(17)),_i(this),this.m=2,Yi(this)):Di(this,this.T-u)};function Yi(u){u.j.I==0||u.K||Ka(u.j,u)}function _i(u){ur(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Oi(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||ki(A.h,u))){if(!u.L&&ki(A.h,u)&&A.I==3){try{var O=A.Ba.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var re=O;if(re[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)ha(A),kr(A);else break e;Ca(A),Rt(18)}}else A.xa=re[1],0<A.xa-A.K&&re[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Un(w(A.Va,A),6e3));Ri(A.h)<=1&&A.ta&&(A.ta=void 0)}else Vr(A,11)}else if((u.L||A.g==u)&&ha(A),!R(y))for(re=A.Ba.g.parse(y),y=0;y<re.length;y++){let on=re[y];const jn=on[0];if(!(jn<=A.K))if(A.K=jn,on=on[1],A.I==2)if(on[0]=="c"){A.M=on[1],A.ba=on[2];const Qi=on[3];Qi!=null&&(A.ka=Qi,A.j.info("VER="+A.ka));const Er=on[4];Er!=null&&(A.za=Er,A.j.info("SVER="+A.za));const Tr=on[5];Tr!=null&&typeof Tr=="number"&&Tr>0&&(O=1.5*Tr,A.O=O,A.j.info("backChannelRequestTimeoutMs_="+O)),O=A;const dr=u.g;if(dr){const Kr=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var de=O.h;de.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(qa(de,de.h),de.h=null))}if(O.G){const Wa=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(O.wa=Wa,Zt(O.J,O.G,Wa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),O=A;var Ue=u;if(O.na=$o(O,O.L?O.ba:null,O.W),Ue.L){qr(O.h,Ue);var St=Ue,ei=O.O;ei&&(St.H=ei),St.D&&(ur(St),lr(St)),O.g=Ue}else si(O);A.i.length>0&&hr(A)}else on[0]!="stop"&&on[0]!="close"||Vr(A,7);else A.I==3&&(on[0]=="stop"||on[0]=="close"?on[0]=="stop"?Vr(A,7):Eo(A):on[0]!="noop"&&A.l&&A.l.qa(on),A.A=0)}}Bn(4)}catch{}}var Fn=class{constructor(u,y){this.g=u,this.map=y}};function la(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ci(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function ki(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function qa(u,y){u.g?u.g.add(y):u.h=y}function qr(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}la.prototype.cancel=function(){if(this.i=wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wa(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return ie(u.i)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vr(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const O=u[A].indexOf("=");let re,de=null;O>=0?(re=u[A].substring(0,O),de=u[A].substring(O+1)):re=u[A],y(re,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function bi(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof bi?(this.l=u.l,Kn(this,u.j),this.o=u.o,this.g=u.g,ni(this,u.u),this.h=u.h,_r(this,Pe(u.i)),this.m=u.m):u&&(y=String(u).match(Ea))?(this.l=!1,Kn(this,y[1]||"",!0),this.o=dt(y[2]||""),this.g=dt(y[3]||"",!0),ni(this,y[4]),this.h=dt(y[5]||"",!0),_r(this,y[6]||"",!0),this.m=dt(y[7]||"")):(this.l=!1,this.i=new ue(null,this.l))}bi.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Vn(y,Gr,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Vn(y,Gr,!0),"@"),u.push(Ye(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(Vn(A,A.charAt(0)=="/"?Ta:Ga,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",Vn(A,$)),u.join("")},bi.prototype.resolve=function(u){const y=_n(this);let A=!!u.j;A?Kn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var O=u.h;if(A)ni(y,u.u);else if(A=!!u.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var re=y.h.lastIndexOf("/");re!=-1&&(O=y.h.slice(0,re+1)+O)}if(re=O,re==".."||re==".")O="";else if(re.indexOf("./")!=-1||re.indexOf("/.")!=-1){O=re.lastIndexOf("/",0)==0,re=re.split("/");const de=[];for(let Ue=0;Ue<re.length;){const St=re[Ue++];St=="."?O&&Ue==re.length&&de.push(""):St==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),O&&Ue==re.length&&de.push("")):(de.push(St),O=!0)}O=de.join("/")}else O=re}return A?y.h=O:A=u.i.toString()!=="",A?_r(y,Pe(u.i)):A=!!u.m,A&&(y.m=u.m),y};function _n(u){return new bi(u)}function Kn(u,y,A){u.j=A?dt(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function ni(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function _r(u,y,A){y instanceof ue?(u.i=y,Le(u.i,u.l)):(A||(y=Vn(y,tn)),u.i=new ue(y,u.l))}function Zt(u,y,A){u.i.set(y,A)}function wi(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function dt(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vn(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,In),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function In(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gr=/[#\/\?@]/g,Ga=/[#\?:]/g,Ta=/[#\?]/g,tn=/[#\?@]/g,$=/#/g;function ue(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function ge(u){u.g||(u.g=new Map,u.h=0,u.i&&vr(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=ue.prototype,r.add=function(u,y){ge(this),this.i=null,u=ut(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function be(u,y){ge(u),y=ut(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Ne(u,y){return ge(u),y=ut(u,y),u.g.has(y)}r.forEach=function(u,y){ge(this),this.g.forEach(function(A,O){A.forEach(function(re){u.call(y,re,O,this)},this)},this)};function Fe(u,y){ge(u);let A=[];if(typeof y=="string")Ne(u,y)&&(A=A.concat(u.g.get(ut(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return ge(this),this.i=null,u=ut(this,u),Ne(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=Fe(this,u),u.length>0?String(u[0]):y):y};function Ze(u,y,A){be(u,y),A.length>0&&(u.i=null,u.g.set(ut(u,y),ie(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let O=0;O<y.length;O++){var A=y[O];const re=Ye(A);A=Fe(this,A);for(let de=0;de<A.length;de++){let Ue=re;A[de]!==""&&(Ue+="="+Ye(A[de])),u.push(Ue)}}return this.i=u.join("&")};function Pe(u){const y=new ue;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function ut(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Le(u,y){y&&!u.j&&(ge(u),u.i=null,u.g.forEach(function(A,O){const re=O.toLowerCase();O!=re&&(be(this,O),Ze(this,re,A))},u)),u.j=y}function st(u,y){const A=new vn;if(p.Image){const O=new Image;O.onload=I(Mn,A,"TestLoadImage: loaded",!0,y,O),O.onerror=I(Mn,A,"TestLoadImage: error",!1,y,O),O.onabort=I(Mn,A,"TestLoadImage: abort",!1,y,O),O.ontimeout=I(Mn,A,"TestLoadImage: timeout",!1,y,O),p.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else y(!1)}function Sn(u,y){const A=new vn,O=new AbortController,re=setTimeout(()=>{O.abort(),Mn(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:O.signal}).then(de=>{clearTimeout(re),de.ok?Mn(A,"TestPingServer: ok",!0,y):Mn(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(re),Mn(A,"TestPingServer: error",!1,y)})}function Mn(u,y,A,O,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),O(A)}catch{}}function nn(){this.g=new W}function ii(u){this.i=u.Sb||null,this.h=u.ab||!1}U(ii,me),ii.prototype.g=function(){return new Nn(this.i,this.h)};function Nn(u,y){it.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}U(Nn,it),r=Nn.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Vi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function cr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?br(this):Vi(this),this.readyState==3&&cr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,br(this))},r.Na=function(u){this.g&&(this.response=u,br(this))},r.ga=function(){this.g&&br(this)};function br(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Vi(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Vi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ei(u){let y="";return he(u,function(A,O){y+=O,y+=":",y+=A,y+=`\r
`}),y}function Yr(u,y,A){e:{for(O in A){var O=!1;break e}O=!0}O||(A=Ei(A),typeof u=="string"?A!=null&&Ye(A):Zt(u,y,A))}function Vt(u){it.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}U(Vt,it);var Xr=/^https?$/i,Xi=["POST","PUT"];r=Vt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ir.g(),this.g.onreadystatechange=j(w(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(de){ua(this,de);return}if(u=A||"",A=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var re in O)A.set(re,O[re]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const de of O.keys())A.set(de,O.get(de));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(A.keys()).find(de=>de.toLowerCase()=="content-type"),re=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Xi,y,void 0)>=0)||O||re||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ue]of A)this.g.setRequestHeader(de,Ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(de){ua(this,de)}};function ua(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Aa(u),Dr(u)}function Aa(u){u.A||(u.A=!0,sn(u,"complete"),sn(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,sn(this,"complete"),sn(this,"abort"),Dr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dr(this,!0)),Vt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},r.Xa=function(){ca(this)};function ca(u){if(u.h&&typeof c<"u"){if(u.v&&Or(u)==4)setTimeout(u.Ca.bind(u),0);else if(sn(u,"readystatechange"),Or(u)==4){u.h=!1;try{const de=u.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var O;if(O=de===0){let Ue=String(u.D).match(Ea)[1]||null;!Ue&&p.self&&p.self.location&&(Ue=p.self.location.protocol.slice(0,-1)),O=!Xr.test(Ue?Ue.toLowerCase():"")}A=O}if(A)sn(u,"complete"),sn(u,"success");else{u.o=6;try{var re=Or(u)>2?u.g.statusText:""}catch{re=""}u.l=re+" ["+u.ca()+"]",Aa(u)}}finally{Dr(u)}}}}function Dr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||sn(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Or(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Or(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),D(y)}};function Ti(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wr(u){const y={};u=(u.g&&Or(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(R(u[O]))continue;var A=ba(u[O]);const re=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const de=y[re]||[];y[re]=de,de.push(A)}we(y,function(O){return O.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Sa(u){this.za=0,this.i=[],this.j=new vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qr("baseRetryDelayMs",5e3,u),this.Za=Qr("retryDelaySeedMs",1e4,u),this.Ta=Qr("forwardChannelMaxRetries",2,u),this.va=Qr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new la(u&&u.concurrentRequestLimit),this.Ba=new nn,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Sa.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,O){Rt(0),this.W=u,this.H=y||{},A&&O!==void 0&&(this.H.OSID=A,this.H.OAID=O),this.F=this.X,this.J=$o(this,null,this.W),hr(this)};function Eo(u){if(Ya(u),u.I==3){var y=u.V++,A=_n(u.J);if(Zt(A,"SID",u.M),Zt(A,"RID",y),Zt(A,"TYPE","terminate"),Qa(u,A),y=new ar(u,u.j,y),y.M=2,y.A=wi(_n(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Jo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),lr(y)}Ms(u)}function kr(u){u.g&&(fr(u),u.g.cancel(),u.g=null)}function Ya(u){kr(u),u.v&&(p.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function hr(u){if(!Ci(u.h)&&!u.m){u.m=!0;var y=u.Ea;ct||z(),pt||(ct(),pt=!0),q.add(y,u),u.D=0}}function Xa(u,y){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Un(w(u.Ea,u,y),Is(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const re=new ar(this,this.j,u);let de=this.o;if(this.U&&(de?(de=L(de),Ee(de,this.U)):de=this.U),this.u!==null||this.R||(re.J=de,de=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var O=this.i[A];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Ko(this,re,y),A=_n(this.J),Zt(A,"RID",u),Zt(A,"CVER",22),this.G&&Zt(A,"X-HTTP-Session-Id",this.G),Qa(this,A),de&&(this.R?y="headers="+Ye(Ei(de))+"&"+y:this.u&&Yr(A,this.u,de)),qa(this.h,re),this.Ra&&Zt(A,"TYPE","init"),this.S?(Zt(A,"$req",y),Zt(A,"SID","null"),re.U=!0,or(re,A,null)):or(re,A,y),this.I=2}}else this.I==3&&(u?xs(this,u):this.i.length==0||Ci(this.h)||xs(this))};function xs(u,y){var A;y?A=y.l:A=u.V++;const O=_n(u.J);Zt(O,"SID",u.M),Zt(O,"RID",A),Zt(O,"AID",u.K),Qa(u,O),u.u&&u.o&&Yr(O,u.u,u.o),A=new ar(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Ko(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),qa(u.h,A),or(A,O,y)}function Qa(u,y){u.H&&he(u.H,function(A,O){Zt(y,O,A)}),u.l&&he({},function(A,O){Zt(y,O,A)})}function Ko(u,y,A){A=Math.min(u.i.length,A);const O=u.l?w(u.l.Ka,u.l,u):null;e:{var re=u.i;let St=-1;for(;;){const ei=["count="+A];St==-1?A>0?(St=re[0].g,ei.push("ofs="+St)):St=0:ei.push("ofs="+St);let on=!0;for(let jn=0;jn<A;jn++){var de=re[jn].g;const Qi=re[jn].map;if(de-=St,de<0)St=Math.max(0,re[jn].g-100),on=!1;else try{de="req"+de+"_"||"";try{var Ue=Qi instanceof Map?Qi:Object.entries(Qi);for(const[Er,Tr]of Ue){let dr=Tr;b(Tr)&&(dr=v(Tr)),ei.push(de+Er+"="+encodeURIComponent(dr))}}catch(Er){throw ei.push(de+"type="+encodeURIComponent("_badmap")),Er}}catch{O&&O(Qi)}}if(on){Ue=ei.join("&");break e}}Ue=void 0}return u=u.i.splice(0,A),y.G=u,Ue}function si(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ct||z(),pt||(ct(),pt=!0),q.add(y,u),u.A=0}}function Ca(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Un(w(u.Da,u),Is(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Wo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Un(w(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),kr(this),Wo(this))};function fr(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Wo(u){u.g=new ar(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=_n(u.na);Zt(y,"RID","rpc"),Zt(y,"SID",u.M),Zt(y,"AID",u.K),Zt(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(y,"TO",u.ia),Zt(y,"TYPE","xmlhttp"),Qa(u,y),u.u&&u.o&&Yr(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=wi(_n(y)),A.u=null,A.R=!0,Nr(A,u)}r.Va=function(){this.C!=null&&(this.C=null,kr(this),Ca(this),Rt(19))};function ha(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Ka(u,y){var A=null;if(u.g==y){ha(u),fr(u),u.g=null;var O=2}else if(ki(u.h,y))A=y.G,qr(u.h,y),O=1;else return;if(u.I!=0){if(y.o)if(O==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var re=u.D;O=xn(),sn(O,new Ln(O,A)),hr(u)}else si(u);else if(re=y.m,re==3||re==0&&y.X>0||!(O==1&&Xa(u,y)||O==2&&Ca(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),re){case 1:Vr(u,5);break;case 4:Vr(u,10);break;case 3:Vr(u,6);break;default:Vr(u,2)}}}function Is(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Vr(u,y){if(u.j.info("Error code "+y),y==2){var A=w(u.bb,u),O=u.Ua;const re=!O;O=new bi(O||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Kn(O,"https"),wi(O),re?st(O.toString(),A):Sn(O.toString(),A)}else Rt(2);u.I=0,u.l&&u.l.pa(y),Ms(u),Ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Ms(u){if(u.I=0,u.ja=[],u.l){const y=wa(u.h);(y.length!=0||u.i.length!=0)&&(F(u.ja,y),F(u.ja,u.i),u.h.i.length=0,ie(u.i),u.i.length=0),u.l.oa()}}function $o(u,y,A){var O=A instanceof bi?_n(A):new bi(A);if(O.g!="")y&&(O.g=y+"."+O.g),ni(O,O.u);else{var re=p.location;O=re.protocol,y=y?y+"."+re.hostname:re.hostname,re=+re.port;const de=new bi(null);O&&Kn(de,O),y&&(de.g=y),re&&ni(de,re),A&&(de.h=A),O=de}return A=u.G,y=u.wa,A&&y&&Zt(O,A,y),Zt(O,"VER",u.ka),Qa(u,O),O}function Jo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Vt(new ii({ab:A})):new Vt(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ns(){}r=Ns.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ra(){}Ra.prototype.g=function(u,y){return new Pi(u,y)};function Pi(u,y){it.call(this),this.g=new Sa(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!R(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new fa(this)}U(Pi,it),Pi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pi.prototype.close=function(){Eo(this.g)},Pi.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new Fn(y.Ya++,u)),y.I==3&&hr(y)},Pi.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Pi.Z.N.call(this)};function To(u){Je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}U(To,Je);function Zo(){Ge.call(this),this.status=1}U(Zo,Ge);function fa(u){this.g=u}U(fa,Ns),fa.prototype.ra=function(){sn(this.g,"a")},fa.prototype.qa=function(u){sn(this.g,new To(u))},fa.prototype.pa=function(u){sn(this.g,new Zo)},fa.prototype.oa=function(){sn(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,Pi.prototype.send=Pi.prototype.o,Pi.prototype.open=Pi.prototype.m,Pi.prototype.close=Pi.prototype.close,Qb=function(){return new Ra},Xb=function(){return xn()},Yb=rt,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,Ih=nr,Fa.COMPLETE="complete",Gb=Fa,Re.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",it.prototype.listen=it.prototype.J,Uu=Re,Vt.prototype.listenOnce=Vt.prototype.K,Vt.prototype.getLastError=Vt.prototype.Ha,Vt.prototype.getLastErrorCode=Vt.prototype.ya,Vt.prototype.getStatus=Vt.prototype.ca,Vt.prototype.getResponseJson=Vt.prototype.La,Vt.prototype.getResponseText=Vt.prototype.la,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Fa,qb=Vt}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",X0="4.9.2";class Ji{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ji.UNAUTHENTICATED=new Ji(null),Ji.GOOGLE_CREDENTIALS=new Ji("google-credentials-uid"),Ji.FIRST_PARTY=new Ji("first-party-uid"),Ji.MOCK_USER=new Ji("mock-user");let Kl="12.3.0";const Ho=new cp("@firebase/firestore");function Rl(){return Ho.logLevel}function nt(r,...e){if(Ho.logLevel<=Kt.DEBUG){const i=e.map(wp);Ho.debug(`Firestore (${Kl}): ${r}`,...i)}}function As(r,...e){if(Ho.logLevel<=Kt.ERROR){const i=e.map(wp);Ho.error(`Firestore (${Kl}): ${r}`,...i)}}function zl(r,...e){if(Ho.logLevel<=Kt.WARN){const i=e.map(wp);Ho.warn(`Firestore (${Kl}): ${r}`,...i)}}function wp(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Kb(r,s,i)}function Kb(r,e,i){let s=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw As(s),new Error(s)}function En(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||Kb(e,l,s)}function Nt(r,e){return r}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Wb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ji.UNAUTHENTICATED)))}shutdown(){}}class VC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class PC{constructor(e){this.t=e,this.currentUser=Ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){En(this.o===void 0,42304);let s=this.i;const l=E=>this.i!==s?(s=this.i,i(E)):Promise.resolve();let c=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const E=c;e.enqueueRetryable((async()=>{await E.promise,await l(this.currentUser)}))},b=E=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((E=>b(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?b(E):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fo)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(En(typeof s.accessToken=="string",31837,{l:s}),new Wb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return En(e===null||typeof e=="string",2055,{h:e}),new Ji(e)}}class LC{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ji.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UC{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new LC(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ji.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jC{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ra(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){En(this.o===void 0,3512);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(En(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Q0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=zC(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Wt(r,e){return r<e?-1:r>e?1:0}function Gm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Rm(l)===Rm(c)?Wt(l,c):Rm(l)?1:-1}return Wt(r.length,e.length)}const BC=55296,FC=57343;function Rm(r){const e=r.charCodeAt(0);return e>=BC&&e<=FC}function Bl(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const K0="__name__";class ka{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Et(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ka.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=ka.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Wt(e.length,i.length)}static compareSegments(e,i){const s=ka.isNumericId(e),l=ka.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ka.extractNumericId(e).compare(ka.extractNumericId(i)):Gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class zn extends ka{construct(e,i,s){return new zn(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new $e(Se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new zn(i)}static emptyPath(){return new zn([])}}const HC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hi extends ka{construct(e,i,s){return new Hi(e,i,s)}static isValidIdentifier(e){return HC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K0}static keyField(){return new Hi([K0])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new $e(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new $e(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[l+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new $e(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=E,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new $e(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hi(i)}static emptyPath(){return new Hi([])}}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(zn.fromString(e))}static fromName(e){return new vt(zn.fromString(e).popFirst(5))}static empty(){return new vt(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return zn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new zn(e.slice()))}}function $b(r,e,i){if(!i)throw new $e(Se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function qC(r,e,i,s){if(e===!0&&s===!0)throw new $e(Se.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function W0(r){if(!vt.isDocumentKey(r))throw new $e(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $0(r){if(vt.isDocumentKey(r))throw new $e(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Jb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Hh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new $e(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lf(r);throw new $e(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function GC(r,e){if(e<=0)throw new $e(Se.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function vi(r,e){const i={typeString:r};return e&&(i.value=e),i}function cc(r,e){if(!Jb(r))throw new $e(Se.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const p=r[s];if(l&&typeof p!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new $e(Se.INVALID_ARGUMENT,i);return!0}const J0=-62135596800,Z0=1e6;class Yn{static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Z0);return new Yn(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new $e(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new $e(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<J0)throw new $e(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z0}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,Yn._jsonSchema))return new Yn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yn._jsonSchemaVersion="firestore/timestamp/1.0",Yn._jsonSchema={type:vi("string",Yn._jsonSchemaVersion),seconds:vi("number"),nanoseconds:vi("number")};class It{static fromTimestamp(e){return new It(e)}static min(){return new It(new Yn(0,0))}static max(){return new It(new Yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wu=-1;function YC(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=It.fromTimestamp(s===1e9?new Yn(i+1,0):new Yn(i,s));return new po(l,vt.empty(),e)}function XC(r){return new po(r.readTime,r.key,Wu)}class po{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new po(It.min(),vt.empty(),Wu)}static max(){return new po(It.max(),vt.empty(),Wu)}}function QC(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=vt.comparator(r.documentKey,e.documentKey),i!==0?i:Wt(r.largestBatchId,e.largestBatchId))}const KC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wl(r){if(r.code!==Se.FAILED_PRECONDITION||r.message!==KC)throw r;nt("LocalStore","Unexpectedly lost primary lease")}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new xe(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof xe?i:xe.resolve(i)}catch(i){return xe.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):xe.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):xe.reject(i)}static resolve(e){return new xe(((i,s)=>{i(e)}))}static reject(e){return new xe(((i,s)=>{s(e)}))}static waitFor(e){return new xe(((i,s)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(E=>s(E)))})),p=!0,c===l&&i()}))}static or(e){let i=xe.resolve(!1);for(const s of e)i=i.next((l=>l?xe.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new xe(((s,l)=>{const c=e.length,p=new Array(c);let b=0;for(let E=0;E<c;E++){const w=E;i(e[w]).next((I=>{p[w]=I,++b,b===c&&s(p)}),(I=>l(I)))}}))}static doWhile(e,i){return new xe(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function $C(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $l(r){return r.name==="IndexedDbTransactionError"}class uf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uf.ce=-1;const Tp=-1;function cf(r){return r==null}function qh(r){return r===0&&1/r==-1/0}function JC(r){return typeof r=="number"&&Number.isInteger(r)&&!qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Zb="";function ZC(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=e_(e)),e=eR(r.get(i),e);return e_(e)}function eR(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Zb:i+="";break;default:i+=c}}return i}function e_(r){return r+Zb+""}function t_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Go(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function e1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ti{constructor(e,i){this.comparator=e,this.root=i||Fi.EMPTY}insert(e,i){return new ti(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Fi.RED,this.left=l??Fi.EMPTY,this.right=c??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Fi(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Fi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1;Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Fi(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Si{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Si(this.comparator);return i.data=e,i}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class va{constructor(e){this.fields=e,e.sort(Hi.comparator)}static empty(){return new va([])}unionWith(e){let i=new Si(Hi.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new va(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class t1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new t1("Invalid base64 string: "+c):c}})(e);return new qi(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new qi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const tR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(r){if(En(!!r,39018),typeof r=="string"){let e=0;const i=tR.exec(r);if(En(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ci(r.seconds),nanos:ci(r.nanos)}}function ci(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yo(r){return typeof r=="string"?qi.fromBase64String(r):qi.fromUint8Array(r)}const n1="server_timestamp",i1="__type__",r1="__previous_value__",a1="__local_write_time__";function Ap(r){return(r?.mapValue?.fields||{})[i1]?.stringValue===n1}function hf(r){const e=r.mapValue.fields[r1];return Ap(e)?hf(e):e}function $u(r){const e=go(r.mapValue.fields[a1].timestampValue);return new Yn(e.seconds,e.nanos)}class nR{constructor(e,i,s,l,c,p,b,E,w,I){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=E,this.useFetchStreams=w,this.isUsingEmulator=I}}const Gh="(default)";class Ju{constructor(e,i){this.projectId=e,this.database=i||Gh}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}const s1="__type__",iR="__max__",_h={mapValue:{}},o1="__vector__",Yh="value";function vo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ap(r)?4:aR(r)?9007199254740991:rR(r)?10:11:Et(28295,{value:r})}function Ba(r,e){if(r===e)return!0;const i=vo(r);if(i!==vo(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $u(r).isEqual($u(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=go(l.timestampValue),b=go(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return yo(l.bytesValue).isEqual(yo(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ci(l.geoPointValue.latitude)===ci(c.geoPointValue.latitude)&&ci(l.geoPointValue.longitude)===ci(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ci(l.integerValue)===ci(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=ci(l.doubleValue),b=ci(c.doubleValue);return p===b?qh(p)===qh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Bl(r.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(t_(p)!==t_(b))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(b[E]===void 0||!Ba(p[E],b[E])))return!1;return!0})(r,e);default:return Et(52216,{left:r})}}function Zu(r,e){return(r.values||[]).find((i=>Ba(i,e)))!==void 0}function Fl(r,e){if(r===e)return 0;const i=vo(r),s=vo(e);if(i!==s)return Wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Wt(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=ci(c.integerValue||c.doubleValue),E=ci(p.integerValue||p.doubleValue);return b<E?-1:b>E?1:b===E?0:isNaN(b)?isNaN(E)?0:-1:1})(r,e);case 3:return i_(r.timestampValue,e.timestampValue);case 4:return i_($u(r),$u(e));case 5:return Gm(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=yo(c),E=yo(p);return b.compareTo(E)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),E=p.split("/");for(let w=0;w<b.length&&w<E.length;w++){const I=Wt(b[w],E[w]);if(I!==0)return I}return Wt(b.length,E.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=Wt(ci(c.latitude),ci(p.latitude));return b!==0?b:Wt(ci(c.longitude),ci(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return r_(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},E=p.fields||{},w=b[Yh]?.arrayValue,I=E[Yh]?.arrayValue,U=Wt(w?.values?.length||0,I?.values?.length||0);return U!==0?U:r_(w,I)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===_h.mapValue&&p===_h.mapValue)return 0;if(c===_h.mapValue)return 1;if(p===_h.mapValue)return-1;const b=c.fields||{},E=Object.keys(b),w=p.fields||{},I=Object.keys(w);E.sort(),I.sort();for(let U=0;U<E.length&&U<I.length;++U){const j=Gm(E[U],I[U]);if(j!==0)return j;const ie=Fl(b[E[U]],w[I[U]]);if(ie!==0)return ie}return Wt(E.length,I.length)})(r.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function i_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Wt(r,e);const i=go(r),s=go(e),l=Wt(i.seconds,s.seconds);return l!==0?l:Wt(i.nanos,s.nanos)}function r_(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Fl(i[l],s[l]);if(c)return c}return Wt(i.length,s.length)}function Hl(r){return Ym(r)}function Ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=go(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return yo(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return vt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Ym(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${Ym(i.fields[p])}`;return l+"}"})(r.mapValue):Et(61005,{value:r})}function Mh(r){switch(vo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hf(r);return e?16+Mh(e):16;case 5:return 2*r.stringValue.length;case 6:return yo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Mh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Go(s.fields,((c,p)=>{l+=c.length+Mh(p)})),l})(r.mapValue);default:throw Et(13486,{value:r})}}function a_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xm(r){return!!r&&"integerValue"in r}function Sp(r){return!!r&&"arrayValue"in r}function s_(r){return!!r&&"nullValue"in r}function o_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nh(r){return!!r&&"mapValue"in r}function rR(r){return(r?.mapValue?.fields||{})[s1]?.stringValue===o1}function Hu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Go(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Hu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hu(r.arrayValue.values[i]);return e}return{...r}}function aR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===iR}class aa{constructor(e){this.value=e}static empty(){return new aa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Nh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(i)}setAll(e){let i=Hi.emptyPath(),s={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const E=this.getFieldsMap(i);this.applyChanges(E,s,l),s={},l=[],i=b.popLast()}p?s[b.lastSegment()]=Hu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Nh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Nh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Go(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new aa(Hu(this.value))}}function l1(r){const e=[];return Go(r.fields,((i,s)=>{const l=new Hi([i]);if(Nh(s)){const c=l1(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new va(e)}class Zi{constructor(e,i,s,l,c,p,b){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new Zi(e,0,It.min(),It.min(),It.min(),aa.empty(),0)}static newFoundDocument(e,i,s,l){return new Zi(e,1,i,It.min(),s,l,0)}static newNoDocument(e,i){return new Zi(e,2,i,It.min(),It.min(),aa.empty(),0)}static newUnknownDocument(e,i){return new Zi(e,3,i,It.min(),It.min(),aa.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=aa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=aa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xh{constructor(e,i){this.position=e,this.inclusive=i}}function l_(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?s=vt.comparator(vt.fromName(p.referenceValue),i.key):s=Fl(p,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function u_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ba(r.position[i],e.position[i]))return!1;return!0}class ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function sR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class u1{}class yi extends u1{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new lR(e,i,s):i==="array-contains"?new hR(e,s):i==="in"?new fR(e,s):i==="not-in"?new dR(e,s):i==="array-contains-any"?new mR(e,s):new yi(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new uR(e,s):new cR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fl(i,this.value)):i!==null&&vo(this.value)===vo(i)&&this.matchesComparison(Fl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _a extends u1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new _a(e,i)}matches(e){return c1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function c1(r){return r.op==="and"}function h1(r){return oR(r)&&c1(r)}function oR(r){for(const e of r.filters)if(e instanceof _a)return!1;return!0}function Qm(r){if(r instanceof yi)return r.field.canonicalString()+r.op.toString()+Hl(r.value);if(h1(r))return r.filters.map((e=>Qm(e))).join(",");{const e=r.filters.map((i=>Qm(i))).join(",");return`${r.op}(${e})`}}function f1(r,e){return r instanceof yi?(function(s,l){return l instanceof yi&&s.op===l.op&&s.field.isEqual(l.field)&&Ba(s.value,l.value)})(r,e):r instanceof _a?(function(s,l){return l instanceof _a&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&f1(p,l.filters[b])),!0):!1})(r,e):void Et(19439)}function d1(r){return r instanceof yi?(function(i){return`${i.field.canonicalString()} ${i.op} ${Hl(i.value)}`})(r):r instanceof _a?(function(i){return i.op.toString()+" {"+i.getFilters().map(d1).join(" ,")+"}"})(r):"Filter"}class lR extends yi{constructor(e,i,s){super(e,i,s),this.key=vt.fromName(s.referenceValue)}matches(e){const i=vt.comparator(e.key,this.key);return this.matchesComparison(i)}}class uR extends yi{constructor(e,i){super(e,"in",i),this.keys=m1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class cR extends yi{constructor(e,i){super(e,"not-in",i),this.keys=m1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function m1(r,e){return(e.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class hR extends yi{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Sp(i)&&Zu(i.arrayValue,this.value)}}class fR extends yi{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zu(this.value.arrayValue,i)}}class dR extends yi{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zu(this.value.arrayValue,i)}}class mR extends yi{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Sp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Zu(this.value.arrayValue,s)))}}class pR{constructor(e,i=null,s=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function c_(r,e=null,i=[],s=[],l=null,c=null,p=null){return new pR(r,e,i,s,l,c,p)}function Cp(r){const e=Nt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Qm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),cf(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Hl(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Hl(s))).join(",")),e.Te=i}return e.Te}function Rp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!sR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!f1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!u_(r.startAt,e.startAt)&&u_(r.endAt,e.endAt)}function Km(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Jl{constructor(e,i=null,s=[],l=[],c=null,p="F",b=null,E=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=E,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gR(r,e,i,s,l,c,p,b){return new Jl(r,e,i,s,l,c,p,b)}function p1(r){return new Jl(r)}function h_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function g1(r){return r.collectionGroup!==null}function qu(r){const e=Nt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Si(Hi.comparator);return p.filters.forEach((E=>{E.getFlattenedFilters().forEach((w=>{w.isInequality()&&(b=b.add(w.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ec(c,s))})),i.has(Hi.keyField().canonicalString())||e.Ie.push(new ec(Hi.keyField(),s))}return e.Ie}function La(r){const e=Nt(r);return e.Ee||(e.Ee=yR(e,qu(r))),e.Ee}function yR(r,e){if(r.limitType==="F")return c_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ec(l.field,c)}));const i=r.endAt?new Xh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xh(r.startAt.position,r.startAt.inclusive):null;return c_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Wm(r,e){const i=r.filters.concat([e]);return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Qh(r,e,i){return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function ff(r,e){return Rp(La(r),La(e))&&r.limitType===e.limitType}function y1(r){return`${Cp(La(r))}|lt:${r.limitType}`}function xl(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>d1(l))).join(", ")}]`),cf(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Hl(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Hl(l))).join(",")),`Target(${s})`})(La(r))}; limitType=${r.limitType})`}function df(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):vt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of qu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(p,b,E){const w=l_(p,b,E);return p.inclusive?w<=0:w<0})(s.startAt,qu(s),l)||s.endAt&&!(function(p,b,E){const w=l_(p,b,E);return p.inclusive?w>=0:w>0})(s.endAt,qu(s),l))})(r,e)}function vR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function v1(r){return(e,i)=>{let s=!1;for(const l of qu(r)){const c=_R(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function _R(r,e,i){const s=r.field.isKeyField()?vt.comparator(e.key,i.key):(function(c,p,b){const E=p.data.field(c),w=b.data.field(c);return E!==null&&w!==null?Fl(E,w):Et(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}class Yo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return e1(this.inner)}size(){return this.innerSize}}const bR=new ti(vt.comparator);function Ss(){return bR}const _1=new ti(vt.comparator);function ju(...r){let e=_1;for(const i of r)e=e.insert(i.key,i);return e}function b1(r){let e=_1;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function jo(){return Gu()}function w1(){return Gu()}function Gu(){return new Yo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wR=new ti(vt.comparator),ER=new Si(vt.comparator);function $t(...r){let e=ER;for(const i of r)e=e.add(i);return e}const TR=new Si(Wt);function AR(){return TR}function xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function E1(r){return{integerValue:""+r}}function SR(r,e){return JC(e)?E1(e):xp(r,e)}class mf{constructor(){this._=void 0}}function CR(r,e,i){return r instanceof Kh?(function(l,c){const p={fields:{[i1]:{stringValue:n1},[a1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ap(c)&&(c=hf(c)),c&&(p.fields[r1]=c),{mapValue:p}})(i,e):r instanceof tc?A1(r,e):r instanceof nc?S1(r,e):(function(l,c){const p=T1(l,c),b=f_(p)+f_(l.Ae);return Xm(p)&&Xm(l.Ae)?E1(b):xp(l.serializer,b)})(r,e)}function RR(r,e,i){return r instanceof tc?A1(r,e):r instanceof nc?S1(r,e):i}function T1(r,e){return r instanceof Wh?(function(s){return Xm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Kh extends mf{}class tc extends mf{constructor(e){super(),this.elements=e}}function A1(r,e){const i=C1(e);for(const s of r.elements)i.some((l=>Ba(l,s)))||i.push(s);return{arrayValue:{values:i}}}class nc extends mf{constructor(e){super(),this.elements=e}}function S1(r,e){let i=C1(e);for(const s of r.elements)i=i.filter((l=>!Ba(l,s)));return{arrayValue:{values:i}}}class Wh extends mf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function f_(r){return ci(r.integerValue||r.doubleValue)}function C1(r){return Sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xR(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof tc&&l instanceof tc||s instanceof nc&&l instanceof nc?Bl(s.elements,l.elements,Ba):s instanceof Wh&&l instanceof Wh?Ba(s.Ae,l.Ae):s instanceof Kh&&l instanceof Kh})(r.transform,e.transform)}class IR{constructor(e,i){this.version=e,this.transformResults=i}}class _s{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pf{}function R1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new I1(r.key,_s.none()):new hc(r.key,r.data,_s.none());{const i=r.data,s=aa.empty();let l=new Si(Hi.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Xo(r.key,s,new va(l.toArray()),_s.none())}}function MR(r,e,i){r instanceof hc?(function(l,c,p){const b=l.value.clone(),E=m_(l.fieldTransforms,c,p.transformResults);b.setAll(E),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Xo?(function(l,c,p){if(!Dh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=m_(l.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(x1(l)),E.setAll(b),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Yu(r,e,i,s){return r instanceof hc?(function(c,p,b,E){if(!Dh(c.precondition,p))return b;const w=c.value.clone(),I=p_(c.fieldTransforms,E,p);return w.setAll(I),p.convertToFoundDocument(p.version,w).setHasLocalMutations(),null})(r,e,i,s):r instanceof Xo?(function(c,p,b,E){if(!Dh(c.precondition,p))return b;const w=p_(c.fieldTransforms,E,p),I=p.data;return I.setAll(x1(c)),I.setAll(w),p.convertToFoundDocument(p.version,I).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((U=>U.field)))})(r,e,i,s):(function(c,p,b){return Dh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function NR(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=T1(s.transform,l||null);c!=null&&(i===null&&(i=aa.empty()),i.set(s.field,c))}return i||null}function d_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Bl(s,l,((c,p)=>xR(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hc extends pf{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xo extends pf{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function x1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function m_(r,e,i){const s=new Map;En(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);s.set(c.field,RR(p,b,i[l]))}return s}function p_(r,e,i){const s=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);s.set(l.field,CR(c,p,e))}return s}class I1 extends pf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DR extends pf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OR{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&MR(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=w1();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const E=R1(p,b);E!==null&&s.set(l.key,E),p.isValidDocument()||p.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),$t())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((i,s)=>d_(i,s)))&&Bl(this.baseMutations,e.baseMutations,((i,s)=>d_(i,s)))}}class Ip{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){En(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return wR})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new Ip(e,i,s,l)}}class kR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VR{constructor(e,i){this.count=e,this.unchangedNames=i}}var gi,an;function PR(r){switch(r){case Se.OK:return Et(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function M1(r){if(r===void 0)return As("GRPC error has no .code"),Se.UNKNOWN;switch(r){case gi.OK:return Se.OK;case gi.CANCELLED:return Se.CANCELLED;case gi.UNKNOWN:return Se.UNKNOWN;case gi.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case gi.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case gi.INTERNAL:return Se.INTERNAL;case gi.UNAVAILABLE:return Se.UNAVAILABLE;case gi.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case gi.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case gi.NOT_FOUND:return Se.NOT_FOUND;case gi.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case gi.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case gi.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case gi.ABORTED:return Se.ABORTED;case gi.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case gi.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case gi.DATA_LOSS:return Se.DATA_LOSS;default:return Et(39323,{code:r})}}(an=gi||(gi={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";function LR(){return new TextEncoder}const UR=new ho([4294967295,4294967295],0);function g_(r){const e=LR().encode(r),i=new Hb;return i.update(e),new Uint8Array(i.digest())}function y_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ho([i,s],0),new ho([l,c],0)]}class Mp{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new zu(`Invalid padding: ${i}`);if(s<0)throw new zu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new zu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ho.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(ho.fromNumber(s)));return l.compare(UR)===1&&(l=new ho([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=g_(e),[s,l]=y_(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Mp(c,l,i);return s.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=g_(e),[s,l]=y_(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gf{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new gf(It.min(),l,new ti(Wt),Ss(),$t())}}class fc{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fc(s,i,$t(),$t(),$t())}}class Oh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class N1{constructor(e,i){this.targetId=e,this.Ce=i}}class D1{constructor(e,i,s=qi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class v_{constructor(){this.ve=0,this.Fe=__(),this.Me=qi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$t(),i=$t(),s=$t();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:c})}})),new fc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=__()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,En(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=bh(),this.He=bh(),this.Ye=new ti(Wt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Km(c))if(s===0){const p=new vt(c.path);this.et(i,p,Zi.newNoDocument(p,It.min()))}else En(s===1,20013,{expectedCount:s});else{const p=this._t(i);if(p!==s){const b=this.ut(e),E=b?this.ct(b,e,p):1;if(E!==0){this.it(i);const w=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,w)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=yo(s).toUint8Array()}catch(E){if(E instanceof t1)return zl("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{b=new Mp(p,l,c)}catch(E){return zl(E instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return b.ge===0?null:b}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Km(b.target)){const E=new vt(b.target.path);this.It(E).has(p)||this.Et(p,E)||this.et(p,E,Zi.newNoDocument(E,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let s=$t();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((E=>{const w=this.ot(E);return!w||w.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new gf(e,i,this.Ye,this.je,s);return this.je=Ss(),this.Je=bh(),this.He=bh(),this.Ye=new ti(Wt),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new v_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Si(Wt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Si(Wt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function bh(){return new ti(vt.comparator)}function __(){return new ti(vt.comparator)}const zR={asc:"ASCENDING",desc:"DESCENDING"},BR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FR={and:"AND",or:"OR"};class HR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $m(r,e){return r.useProto3Json||cf(e)?e:{value:e}}function $h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qR(r,e){return $h(r,e.toTimestamp())}function Ua(r){return En(!!r,49232),It.fromTimestamp((function(i){const s=go(i);return new Yn(s.seconds,s.nanos)})(r))}function Np(r,e){return Jm(r,e).canonicalString()}function Jm(r,e){const i=(function(l){return new zn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function k1(r){const e=zn.fromString(r);return En(j1(e),10190,{key:e.toString()}),e}function Zm(r,e){return Np(r.databaseId,e.path)}function xm(r,e){const i=k1(e);if(i.get(1)!==r.databaseId.projectId)throw new $e(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new $e(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new vt(P1(i))}function V1(r,e){return Np(r.databaseId,e)}function GR(r){const e=k1(r);return e.length===4?zn.emptyPath():P1(e)}function ep(r){return new zn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function P1(r){return En(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function b_(r,e,i){return{name:Zm(r,e),fields:i.value.mapValue.fields}}function YR(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Et(39313,{state:w})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(w,I){return w.useProto3Json?(En(I===void 0||typeof I=="string",58123),qi.fromBase64String(I||"")):(En(I===void 0||I instanceof Buffer||I instanceof Uint8Array,16193),qi.fromUint8Array(I||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(w){const I=w.code===void 0?Se.UNKNOWN:M1(w.code);return new $e(I,w.message||"")})(p);i=new D1(s,l,c,b||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=xm(r,s.document.name),c=Ua(s.document.updateTime),p=s.document.createTime?Ua(s.document.createTime):It.min(),b=new aa({mapValue:{fields:s.document.fields}}),E=Zi.newFoundDocument(l,c,p,b),w=s.targetIds||[],I=s.removedTargetIds||[];i=new Oh(w,I,E.key,E)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=xm(r,s.document),c=s.readTime?Ua(s.readTime):It.min(),p=Zi.newNoDocument(l,c),b=s.removedTargetIds||[];i=new Oh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=xm(r,s.document),c=s.removedTargetIds||[];i=new Oh([],c,l,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new VR(l,c),b=s.targetId;i=new N1(b,p)}}return i}function XR(r,e){let i;if(e instanceof hc)i={update:b_(r,e.key,e.value)};else if(e instanceof I1)i={delete:Zm(r,e.key)};else if(e instanceof Xo)i={update:b_(r,e.key,e.data),updateMask:nx(e.fieldMask)};else{if(!(e instanceof DR))return Et(16599,{Vt:e.type});i={verify:Zm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof Kh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof tc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof nc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Wh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw Et(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:qR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,e.precondition)),i}function QR(r,e){return r&&r.length>0?(En(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?Ua(l.updateTime):Ua(c);return p.isEqual(It.min())&&(p=Ua(c)),new IR(p,l.transformResults||[])})(i,e)))):[]}function KR(r,e){return{documents:[V1(r,e.path)]}}function WR(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=V1(r,l);const c=(function(w){if(w.length!==0)return U1(_a.create(w,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(w){if(w.length!==0)return w.map((I=>(function(j){return{field:Il(j.field),direction:ZR(j.dir)}})(I)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=$m(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{ft:i,parent:l}}function $R(r){let e=GR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){En(s===1,65062);const I=i.from[0];I.allDescendants?l=I.collectionId:e=e.child(I.collectionId)}let c=[];i.where&&(c=(function(U){const j=L1(U);return j instanceof _a&&h1(j)?j.getFilters():[j]})(i.where));let p=[];i.orderBy&&(p=(function(U){return U.map((j=>(function(F){return new ec(Ml(F.field),(function(Ce){switch(Ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(j)))})(i.orderBy));let b=null;i.limit&&(b=(function(U){let j;return j=typeof U=="object"?U.value:U,cf(j)?null:j})(i.limit));let E=null;i.startAt&&(E=(function(U){const j=!!U.before,ie=U.values||[];return new Xh(ie,j)})(i.startAt));let w=null;return i.endAt&&(w=(function(U){const j=!U.before,ie=U.values||[];return new Xh(ie,j)})(i.endAt)),gR(e,l,p,c,b,"F",E,w)}function JR(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function L1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ml(i.unaryFilter.field);return yi.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ml(i.unaryFilter.field);return yi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ml(i.unaryFilter.field);return yi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ml(i.unaryFilter.field);return yi.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return yi.create(Ml(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return _a.create(i.compositeFilter.filters.map((s=>L1(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function ZR(r){return zR[r]}function ex(r){return BR[r]}function tx(r){return FR[r]}function Il(r){return{fieldPath:r.canonicalString()}}function Ml(r){return Hi.fromServerFormat(r.fieldPath)}function U1(r){return r instanceof yi?(function(i){if(i.op==="=="){if(o_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NAN"}};if(s_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(o_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NAN"}};if(s_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(i.field),op:ex(i.op),value:i.value}}})(r):r instanceof _a?(function(i){const s=i.getFilters().map((l=>U1(l)));return s.length===1?s[0]:{compositeFilter:{op:tx(i.op),filters:s}}})(r):Et(54877,{filter:r})}function nx(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function j1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class oo{constructor(e,i,s,l,c=It.min(),p=It.min(),b=qi.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=E}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ix{constructor(e){this.yt=e}}function rx(r){const e=$R({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qh(e,e.limit,"L"):e}class ax{constructor(){this.Cn=new sx}addToCollectionParentIndex(e,i){return this.Cn.add(i),xe.resolve()}getCollectionParents(e,i){return xe.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return xe.resolve()}deleteFieldIndex(e,i){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,i){return xe.resolve()}getDocumentsMatchingTarget(e,i){return xe.resolve(null)}getIndexType(e,i){return xe.resolve(0)}getFieldIndexes(e,i){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,i){return xe.resolve(po.min())}getMinOffsetFromCollectionGroup(e,i){return xe.resolve(po.min())}updateCollectionGroup(e,i,s){return xe.resolve()}updateIndexEntries(e,i){return xe.resolve()}}class sx{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Si(zn.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Si(zn.comparator)).toArray()}}const w_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z1=41943040;class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(z1,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}const E_="LruGarbageCollector",ox=1048576;function T_([r,e],[i,s]){const l=Wt(r,i);return l===0?Wt(e,s):l}class lx{constructor(e){this.Ir=e,this.buffer=new Si(T_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();T_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ux{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){nt(E_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$l(i)?nt(E_,"Ignoring IndexedDB error during garbage collection: ",i):await Wl(i)}await this.Vr(3e5)}))}}class cx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return xe.resolve(uf.ce);const s=new lx(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(w_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,p,b,E,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((U=>(U>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),l=this.params.maximumSequenceNumbersToCollect):l=U,p=Date.now(),this.nthSequenceNumber(e,l)))).next((U=>(s=U,b=Date.now(),this.removeTargets(e,s,i)))).next((U=>(c=U,E=Date.now(),this.removeOrphanedDocuments(e,s)))).next((U=>(w=Date.now(),Rl()<=Kt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-I}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(E-b)+`ms
	Removed ${U} documents in `+(w-E)+`ms
Total Duration: ${w-I}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:U}))))}}function hx(r,e){return new cx(r,e)}class fx{constructor(){this.changes=new Yo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Zi.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?xe.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class mx{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Yu(s.mutation,l,va.empty(),Yn.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,$t()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=$t()){const l=jo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let p=ju();return c.forEach(((b,E)=>{p=p.insert(b,E.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const s=jo();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,$t())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,s,l){let c=Ss();const p=Gu(),b=(function(){return Gu()})();return i.forEach(((E,w)=>{const I=s.get(w.key);l.has(w.key)&&(I===void 0||I.mutation instanceof Xo)?c=c.insert(w.key,w):I!==void 0?(p.set(w.key,I.mutation.getFieldMask()),Yu(I.mutation,w,I.mutation.getFieldMask(),Yn.now())):p.set(w.key,va.empty())})),this.recalculateAndSaveOverlays(e,c).next((E=>(E.forEach(((w,I)=>p.set(w,I))),i.forEach(((w,I)=>b.set(w,new dx(I,p.get(w)??null)))),b)))}recalculateAndSaveOverlays(e,i){const s=Gu();let l=new ti(((p,b)=>p-b)),c=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((E=>{const w=i.get(E);if(w===null)return;let I=s.get(E)||va.empty();I=b.applyToLocalView(w,I),s.set(E,I);const U=(l.get(b.batchId)||$t()).add(E);l=l.insert(b.batchId,U)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const E=b.getNext(),w=E.key,I=E.value,U=w1();I.forEach((j=>{if(!c.has(j)){const ie=R1(i.get(j),s.get(j));ie!==null&&U.set(j,ie),c=c.add(j)}})),p.push(this.documentOverlayCache.saveOverlays(e,w,U))}return xe.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(p){return vt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):g1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):xe.resolve(jo());let b=Wu,E=c;return p.next((w=>xe.forEach(w,((I,U)=>(b<U.largestBatchId&&(b=U.largestBatchId),c.get(I)?xe.resolve():this.remoteDocumentCache.getEntry(e,I).next((j=>{E=E.insert(I,j)}))))).next((()=>this.populateOverlays(e,w,c))).next((()=>this.computeViews(e,E,w,$t()))).next((I=>({batchId:b,changes:b1(I)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new vt(i)).next((s=>{let l=ju();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let p=ju();return this.indexManager.getCollectionParents(e,c).next((b=>xe.forEach(b,(E=>{const w=(function(U,j){return new Jl(j,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt)})(i,E.child(c));return this.getDocumentsMatchingCollectionQuery(e,w,s,l).next((I=>{I.forEach(((U,j)=>{p=p.insert(U,j)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((p=>{c.forEach(((E,w)=>{const I=w.getKey();p.get(I)===null&&(p=p.insert(I,Zi.newInvalidDocument(I)))}));let b=ju();return p.forEach(((E,w)=>{const I=c.get(E);I!==void 0&&Yu(I.mutation,w,va.empty(),Yn.now()),df(i,w)&&(b=b.insert(E,w))})),b}))}}class px{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return xe.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ua(l.createTime)}})(i)),xe.resolve()}getNamedQuery(e,i){return xe.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:rx(l.bundledQuery),readTime:Ua(l.readTime)}})(i)),xe.resolve()}}class gx{constructor(){this.overlays=new ti(vt.comparator),this.qr=new Map}getOverlay(e,i){return xe.resolve(this.overlays.get(i))}getOverlays(e,i){const s=jo();return xe.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),xe.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),xe.resolve()}getOverlaysForCollection(e,i,s){const l=jo(),c=i.length+1,p=new vt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const E=b.getNext().value,w=E.getKey();if(!i.isPrefixOf(w.path))break;w.path.length===c&&E.largestBatchId>s&&l.set(E.getKey(),E)}return xe.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new ti(((w,I)=>w-I));const p=this.overlays.getIterator();for(;p.hasNext();){const w=p.getNext().value;if(w.getKey().getCollectionGroup()===i&&w.largestBatchId>s){let I=c.get(w.largestBatchId);I===null&&(I=jo(),c=c.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const b=jo(),E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((w,I)=>b.set(w,I))),!(b.size()>=l)););return xe.resolve(b)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new kR(i,s));let c=this.qr.get(i);c===void 0&&(c=$t(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class yx{constructor(){this.sessionToken=qi.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,xe.resolve()}}class Dp{constructor(){this.Qr=new Si(Ii.$r),this.Ur=new Si(Ii.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ii(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ii(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new vt(new zn([])),s=new Ii(i,e),l=new Ii(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new vt(new zn([])),s=new Ii(i,e),l=new Ii(i,e+1);let c=$t();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new Ii(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ii{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return vt.comparator(e.key,i.key)||Wt(e.Yr,i.Yr)}static Kr(e,i){return Wt(e.Yr,i.Yr)||vt.comparator(e.key,i.key)}}class vx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Si(Ii.$r)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new OR(c,i,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Ii(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return xe.resolve(p)}lookupMutationBatch(e,i){return xe.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return xe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?Tp:this.tr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ii(i,0),l=new Ii(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),xe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Si(Wt);return i.forEach((l=>{const c=new Ii(l,0),p=new Ii(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),xe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;vt.isDocumentKey(c)||(c=c.child(""));const p=new Ii(new vt(c),0);let b=new Si(Wt);return this.Zr.forEachWhile((E=>{const w=E.key.path;return!!s.isPrefixOf(w)&&(w.length===l&&(b=b.add(E.Yr)),!0)}),p),xe.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){En(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return xe.forEach(i.mutations,(l=>{const c=new Ii(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ii(i,0),l=this.Zr.firstAfterOrEqual(s);return xe.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class _x{constructor(e){this.ri=e,this.docs=(function(){return new ti(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return xe.resolve(s?s.document.mutableCopy():Zi.newInvalidDocument(i))}getEntries(e,i){let s=Ss();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Zi.newInvalidDocument(l))})),xe.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=Ss();const p=i.path,b=new vt(p.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(b);for(;E.hasNext();){const{key:w,value:{document:I}}=E.getNext();if(!p.isPrefixOf(w.path))break;w.path.length>p.length+1||QC(XC(I),s)<=0||(l.has(I.key)||df(i,I))&&(c=c.insert(I.key,I.mutableCopy()))}return xe.resolve(c)}getAllFromCollectionGroup(e,i,s,l){Et(9500)}ii(e,i){return xe.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new bx(this)}getSize(e){return xe.resolve(this.size)}}class bx extends fx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),xe.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class wx{constructor(e){this.persistence=e,this.si=new Yo((i=>Cp(i)),Rp),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new Dp,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),xe.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ql(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,xe.resolve()}updateTargetData(e,i){return this.Pr(i),xe.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),xe.waitFor(c).next((()=>l))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return xe.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),xe.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),xe.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),xe.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return xe.resolve(s)}containsKey(e,i){return xe.resolve(this._i.containsKey(i))}}class B1{constructor(e,i){this.ui={},this.overlays={},this.ci=new uf(0),this.li=!1,this.li=!0,this.hi=new yx,this.referenceDelegate=e(this),this.Pi=new wx(this),this.indexManager=new ax,this.remoteDocumentCache=(function(l){return new _x(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ix(i),this.Ii=new px(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new vx(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){nt("MemoryPersistence","Starting transaction:",e);const l=new Ex(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return xe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class Ex extends WC{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.Ri=new Dp,this.Vi=null}static mi(e){return new Op(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),xe.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),xe.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),xe.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.fi,(s=>{const l=vt.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,It.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return xe.or([()=>xe.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Jh{constructor(e,i){this.persistence=e,this.pi=new Yo((s=>ZC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=hx(this,i)}static mi(e,i){return new Jh(e,i)}Ei(){}di(e){return xe.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return xe.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?xe.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(s++,c.removeEntry(p,It.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),xe.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),xe.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),xe.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Mh(e.data.value)),i}br(e,i,s){return xe.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return xe.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kp{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=$t(),l=$t();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new kp(e,i.fromCache,s,l)}}class Tx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ax{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fA()?8:$C(er())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new Tx;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(Rl()<=Kt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",xl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),xe.resolve()):(Rl()<=Kt.DEBUG&&nt("QueryEngine","Query:",xl(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Rl()<=Kt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",xl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,La(i))):xe.resolve())}ys(e,i){if(h_(i))return xe.resolve(null);let s=La(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Qh(i,null,"F"),s=La(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=$t(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,s).next((E=>{const w=this.Ds(i,b);return this.Cs(i,w,p,E.readTime)?this.ys(e,Qh(i,null,"F")):this.vs(e,w,i,E)}))))})))))}ws(e,i,s,l){return h_(i)||l.isEqual(It.min())?xe.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,s,l)?xe.resolve(null):(Rl()<=Kt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xl(i)),this.vs(e,p,i,YC(l,Wu)).next((b=>b)))}))}Ds(e,i){let s=new Si(v1(e));return i.forEach(((l,c)=>{df(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return Rl()<=Kt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",xl(i)),this.ps.getDocumentsMatchingQuery(e,i,po.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Vp="LocalStore",Sx=3e8;class Cx{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ti(Wt),this.xs=new Yo((c=>Cp(c)),Rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Rx(r,e,i,s){return new Cx(r,e,i,s)}async function F1(r,e){const i=Nt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let E=$t();for(const w of l){p.push(w.batchId);for(const I of w.mutations)E=E.add(I.key)}for(const w of c){b.push(w.batchId);for(const I of w.mutations)E=E.add(I.key)}return i.localDocuments.getDocuments(s,E).next((w=>({Ls:w,removedBatchIds:p,addedBatchIds:b})))}))}))}function xx(r,e){const i=Nt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,E,w,I){const U=w.batch,j=U.keys();let ie=xe.resolve();return j.forEach((F=>{ie=ie.next((()=>I.getEntry(E,F))).next((Ie=>{const Ce=w.docVersions.get(F);En(Ce!==null,48541),Ie.version.compareTo(Ce)<0&&(U.applyToRemoteDocument(Ie,w),Ie.isValidDocument()&&(Ie.setReadTime(w.commitVersion),I.addEntry(Ie)))}))})),ie.next((()=>b.mutationQueue.removeMutationBatch(E,U)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let E=$t();for(let w=0;w<b.mutationResults.length;++w)b.mutationResults[w].transformResults.length>0&&(E=E.add(b.batch.mutations[w].key));return E})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function H1(r){const e=Nt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Ix(r,e){const i=Nt(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((I,U)=>{const j=l.get(U);if(!j)return;b.push(i.Pi.removeMatchingKeys(c,I.removedDocuments,U).next((()=>i.Pi.addMatchingKeys(c,I.addedDocuments,U))));let ie=j.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(U)!==null?ie=ie.withResumeToken(qi.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):I.resumeToken.approximateByteSize()>0&&(ie=ie.withResumeToken(I.resumeToken,s)),l=l.insert(U,ie),(function(Ie,Ce,ke){return Ie.resumeToken.approximateByteSize()===0||Ce.snapshotVersion.toMicroseconds()-Ie.snapshotVersion.toMicroseconds()>=Sx?!0:ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0})(j,ie,I)&&b.push(i.Pi.updateTargetData(c,ie))}));let E=Ss(),w=$t();if(e.documentUpdates.forEach((I=>{e.resolvedLimboDocuments.has(I)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,I))})),b.push(Mx(c,p,e.documentUpdates).next((I=>{E=I.ks,w=I.qs}))),!s.isEqual(It.min())){const I=i.Pi.getLastRemoteSnapshotVersion(c).next((U=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(I)}return xe.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,E,w))).next((()=>E))})).then((c=>(i.Ms=l,c)))}function Mx(r,e,i){let s=$t(),l=$t();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let p=Ss();return i.forEach(((b,E)=>{const w=c.get(b);E.isFoundDocument()!==w.isFoundDocument()&&(l=l.add(b)),E.isNoDocument()&&E.version.isEqual(It.min())?(e.removeEntry(b,E.readTime),p=p.insert(b,E)):!w.isValidDocument()||E.version.compareTo(w.version)>0||E.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(E),p=p.insert(b,E)):nt(Vp,"Ignoring outdated watch update for ",b,". Current version:",w.version," Watch version:",E.version)})),{ks:p,qs:l}}))}function Nx(r,e){const i=Nt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Tp),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Dx(r,e){const i=Nt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,xe.resolve(l)):i.Pi.allocateTargetId(s).next((p=>(l=new oo(e,p,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function tp(r,e,i){const s=Nt(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!$l(p))throw p;nt(Vp,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function A_(r,e,i){const s=Nt(r);let l=It.min(),c=$t();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(E,w,I){const U=Nt(E),j=U.xs.get(I);return j!==void 0?xe.resolve(U.Ms.get(j)):U.Pi.getTargetData(w,I)})(s,p,La(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((E=>{c=E}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,i?l:It.min(),i?c:$t()))).next((b=>(Ox(s,vR(e),b),{documents:b,Qs:c})))))}function Ox(r,e,i){let s=r.Os.get(e)||It.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class S_{constructor(){this.activeTargetIds=AR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kx{constructor(){this.Mo=new S_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vx{Oo(e){}shutdown(){}}const C_="ConnectivityMonitor";class R_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(C_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){nt(C_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wh=null;function np(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}const Im="RestConnection",Px={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Gh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const p=np(),b=this.zo(e,i.toUriEncodedString());nt(Im,`Sending RPC '${e}' ${p}:`,b,s);const E={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(E,l,c);const{host:w}=new URL(b),I=Yl(w);return this.Jo(e,b,E,s,I).then((U=>(nt(Im,`Received RPC '${e}' ${p}: `,U),U)),(U=>{throw zl(Im,`RPC '${e}' ${p} failed with error: `,U,"url: ",b,"request:",s),U}))}Ho(e,i,s,l,c,p){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=Px[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class Ux{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $i="WebChannelConnection";class jx extends Lx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const p=np();return new Promise(((b,E)=>{const w=new qb;w.setWithCredentials(!0),w.listenOnce(Gb.COMPLETE,(()=>{try{switch(w.getLastErrorCode()){case Ih.NO_ERROR:const U=w.getResponseJson();nt($i,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(U)),b(U);break;case Ih.TIMEOUT:nt($i,`RPC '${e}' ${p} timed out`),E(new $e(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const j=w.getStatus();if(nt($i,`RPC '${e}' ${p} failed with status:`,j,"response text:",w.getResponseText()),j>0){let ie=w.getResponseJson();Array.isArray(ie)&&(ie=ie[0]);const F=ie?.error;if(F&&F.status&&F.message){const Ie=(function(ke){const Ve=ke.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(Ve)>=0?Ve:Se.UNKNOWN})(F.status);E(new $e(Ie,F.message))}else E(new $e(Se.UNKNOWN,"Server responded with status "+w.getStatus()))}else E(new $e(Se.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:p,h_:w.getLastErrorCode(),P_:w.getLastError()})}}finally{nt($i,`RPC '${e}' ${p} completed.`)}}));const I=JSON.stringify(l);nt($i,`RPC '${e}' ${p} sending request:`,l),w.send(i,"POST",I,s,15)}))}T_(e,i,s){const l=np(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Qb(),b=Xb(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(E.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(E.useFetchStreams=!0),this.jo(E.initMessageHeaders,i,s),E.encodeInitMessageHeaders=!0;const I=c.join("");nt($i,`Creating RPC '${e}' stream ${l}: ${I}`,E);const U=p.createWebChannel(I,E);this.I_(U);let j=!1,ie=!1;const F=new Ux({Yo:Ce=>{ie?nt($i,`Not sending because RPC '${e}' stream ${l} is closed:`,Ce):(j||(nt($i,`Opening RPC '${e}' stream ${l} transport.`),U.open(),j=!0),nt($i,`RPC '${e}' stream ${l} sending:`,Ce),U.send(Ce))},Zo:()=>U.close()}),Ie=(Ce,ke,Ve)=>{Ce.listen(ke,(Be=>{try{Ve(Be)}catch(Xe){setTimeout((()=>{throw Xe}),0)}}))};return Ie(U,Uu.EventType.OPEN,(()=>{ie||(nt($i,`RPC '${e}' stream ${l} transport opened.`),F.o_())})),Ie(U,Uu.EventType.CLOSE,(()=>{ie||(ie=!0,nt($i,`RPC '${e}' stream ${l} transport closed`),F.a_(),this.E_(U))})),Ie(U,Uu.EventType.ERROR,(Ce=>{ie||(ie=!0,zl($i,`RPC '${e}' stream ${l} transport errored. Name:`,Ce.name,"Message:",Ce.message),F.a_(new $e(Se.UNAVAILABLE,"The operation could not be completed")))})),Ie(U,Uu.EventType.MESSAGE,(Ce=>{if(!ie){const ke=Ce.data[0];En(!!ke,16349);const Ve=ke,Be=Ve?.error||Ve[0]?.error;if(Be){nt($i,`RPC '${e}' stream ${l} received error:`,Be);const Xe=Be.status;let ct=(function(z){const V=gi[z];if(V!==void 0)return M1(V)})(Xe),pt=Be.message;ct===void 0&&(ct=Se.INTERNAL,pt="Unknown error status: "+Xe+" with message "+Be.message),ie=!0,F.a_(new $e(ct,pt)),U.close()}else nt($i,`RPC '${e}' stream ${l} received:`,ke),F.u_(ke)}})),Ie(b,Yb.STAT_EVENT,(Ce=>{Ce.stat===qm.PROXY?nt($i,`RPC '${e}' stream ${l} detected buffering proxy`):Ce.stat===qm.NOPROXY&&nt($i,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Mm(){return typeof document<"u"?document:null}function yf(r){return new HR(r,!0)}class q1{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const x_="PersistentStream";class G1{constructor(e,i,s,l,c,p,b,E){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new q1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Se.RESOURCE_EXHAUSTED?(As(i.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new $e(Se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return nt(x_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(nt(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zx extends G1{constructor(e,i,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=YR(this.serializer,e),s=(function(c){if(!("targetChange"in c))return It.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?It.min():p.readTime?Ua(p.readTime):It.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ep(this.serializer),i.addTarget=(function(c,p){let b;const E=p.target;if(b=Km(E)?{documents:KR(c,E)}:{query:WR(c,E).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=O1(c,p.resumeToken);const w=$m(c,p.expectedCount);w!==null&&(b.expectedCount=w)}else if(p.snapshotVersion.compareTo(It.min())>0){b.readTime=$h(c,p.snapshotVersion.toTimestamp());const w=$m(c,p.expectedCount);w!==null&&(b.expectedCount=w)}return b})(this.serializer,e);const s=JR(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ep(this.serializer),i.removeTarget=e,this.q_(i)}}class Bx extends G1{constructor(e,i,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return En(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,En(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){En(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=QR(e.writeResults,e.commitTime),s=Ua(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ep(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>XR(this.serializer,s)))};this.q_(i)}}class Fx{}class Hx extends Fx{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new $e(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,Jm(i,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new $e(Se.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,Jm(i,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new $e(Se.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qo="RemoteStore";class Gx{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Qo(this)&&(nt(qo,"Restarting streams for network reachability change."),await(async function(E){const w=Nt(E);w.Ea.add(4),await dc(w),w.Ra.set("Unknown"),w.Ea.delete(4),await vf(w)})(this))}))})),this.Ra=new qx(s,l)}}async function vf(r){if(Qo(r))for(const e of r.da)await e(!0)}async function dc(r){for(const e of r.da)await e(!1)}function Y1(r,e){const i=Nt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),jp(i)?Up(i):Zl(i).O_()&&Lp(i,e))}function Pp(r,e){const i=Nt(r),s=Zl(i);i.Ia.delete(e),s.O_()&&X1(i,e),i.Ia.size===0&&(s.O_()?s.L_():Qo(i)&&i.Ra.set("Unknown"))}function Lp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zl(r).Y_(e)}function X1(r,e){r.Va.Ue(e),Zl(r).Z_(e)}function Up(r){r.Va=new jR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zl(r).start(),r.Ra.ua()}function jp(r){return Qo(r)&&!Zl(r).x_()&&r.Ia.size>0}function Qo(r){return Nt(r).Ea.size===0}function Q1(r){r.Va=void 0}async function Yx(r){r.Ra.set("Online")}async function Xx(r){r.Ia.forEach(((e,i)=>{Lp(r,e)}))}async function Qx(r,e){Q1(r),jp(r)?(r.Ra.ha(e),Up(r)):r.Ra.set("Unknown")}async function Kx(r,e,i){if(r.Ra.set("Online"),e instanceof D1&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(s){nt(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zh(r,s)}else if(e instanceof Oh?r.Va.Ze(e):e instanceof N1?r.Va.st(e):r.Va.tt(e),!i.isEqual(It.min()))try{const s=await H1(r.localStore);i.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((E,w)=>{if(E.resumeToken.approximateByteSize()>0){const I=c.Ia.get(w);I&&c.Ia.set(w,I.withResumeToken(E.resumeToken,p))}})),b.targetMismatches.forEach(((E,w)=>{const I=c.Ia.get(E);if(!I)return;c.Ia.set(E,I.withResumeToken(qi.EMPTY_BYTE_STRING,I.snapshotVersion)),X1(c,E);const U=new oo(I.target,E,w,I.sequenceNumber);Lp(c,U)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(s){nt(qo,"Failed to raise snapshot:",s),await Zh(r,s)}}async function Zh(r,e,i){if(!$l(e))throw e;r.Ea.add(1),await dc(r),r.Ra.set("Offline"),i||(i=()=>H1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{nt(qo,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await vf(r)}))}function K1(r,e){return e().catch((i=>Zh(r,i,e)))}async function _f(r){const e=Nt(r),i=_o(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tp;for(;Wx(e);)try{const l=await Nx(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,$x(e,l)}catch(l){await Zh(e,l)}W1(e)&&$1(e)}function Wx(r){return Qo(r)&&r.Ta.length<10}function $x(r,e){r.Ta.push(e);const i=_o(r);i.O_()&&i.X_&&i.ea(e.mutations)}function W1(r){return Qo(r)&&!_o(r).x_()&&r.Ta.length>0}function $1(r){_o(r).start()}async function Jx(r){_o(r).ra()}async function Zx(r){const e=_o(r);for(const i of r.Ta)e.ea(i.mutations)}async function eI(r,e,i){const s=r.Ta.shift(),l=Ip.from(s,e,i);await K1(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await _f(r)}async function tI(r,e){e&&_o(r).X_&&await(async function(s,l){if((function(p){return PR(p)&&p!==Se.ABORTED})(l.code)){const c=s.Ta.shift();_o(s).B_(),await K1(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await _f(s)}})(r,e),W1(r)&&$1(r)}async function I_(r,e){const i=Nt(r);i.asyncQueue.verifyOperationInProgress(),nt(qo,"RemoteStore received new credentials");const s=Qo(i);i.Ea.add(3),await dc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await vf(i)}async function nI(r,e){const i=Nt(r);e?(i.Ea.delete(2),await vf(i)):e||(i.Ea.add(2),await dc(i),i.Ra.set("Unknown"))}function Zl(r){return r.ma||(r.ma=(function(i,s,l){const c=Nt(i);return c.sa(),new zx(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:Yx.bind(null,r),t_:Xx.bind(null,r),r_:Qx.bind(null,r),H_:Kx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),jp(r)?Up(r):r.Ra.set("Unknown")):(await r.ma.stop(),Q1(r))}))),r.ma}function _o(r){return r.fa||(r.fa=(function(i,s,l){const c=Nt(i);return c.sa(),new Bx(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Jx.bind(null,r),r_:tI.bind(null,r),ta:Zx.bind(null,r),na:eI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await _f(r)):(await r.fa.stop(),r.Ta.length>0&&(nt(qo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class zp{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const p=Date.now()+s,b=new zp(e,i,p,l,c);return b.start(s),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,e){if(As("AsyncQueue",`${e}: ${r}`),$l(r))return new $e(Se.UNAVAILABLE,`${e}: ${r}`);throw r}class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||vt.comparator(i.key,s.key):(i,s)=>vt.comparator(i.key,s.key),this.keyedMap=ju(),this.sortedSet=new ti(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Pl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class M_{constructor(){this.ga=new ti(vt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Gl{constructor(e,i,s,l,c,p,b,E,w){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=E,this.hasCachedResults=w}static fromInitialDocuments(e,i,s,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Gl(e,i,Pl.emptySet(i),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class iI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rI{constructor(){this.queries=N_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Nt(i),c=l.queries;l.queries=N_(),c.forEach(((p,b)=>{for(const E of b.Sa)E.onError(s)}))})(this,new $e(Se.ABORTED,"Firestore shutting down"))}}function N_(){return new Yo((r=>y1(r)),ff)}async function aI(r,e){const i=Nt(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new iI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=Bp(p,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Fp(i)}async function sI(r,e){const i=Nt(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function oI(r,e){const i=Nt(r);let s=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&Fp(i)}function lI(r,e,i){const s=Nt(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function Fp(r){r.Ca.forEach((e=>{e.next()}))}var ip,D_;(D_=ip||(ip={})).Ma="default",D_.Cache="cache";class uI{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ip.Cache}}class J1{constructor(e){this.key=e}}class Z1{constructor(e){this.key=e}}class cI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$t(),this.mutatedKeys=$t(),this.eu=v1(e),this.tu=new Pl(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new M_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const E=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,w=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((I,U)=>{const j=l.get(I),ie=df(this.query,U)?U:null,F=!!j&&this.mutatedKeys.has(j.key),Ie=!!ie&&(ie.hasLocalMutations||this.mutatedKeys.has(ie.key)&&ie.hasCommittedMutations);let Ce=!1;j&&ie?j.data.isEqual(ie.data)?F!==Ie&&(s.track({type:3,doc:ie}),Ce=!0):this.su(j,ie)||(s.track({type:2,doc:ie}),Ce=!0,(E&&this.eu(ie,E)>0||w&&this.eu(ie,w)<0)&&(b=!0)):!j&&ie?(s.track({type:0,doc:ie}),Ce=!0):j&&!ie&&(s.track({type:1,doc:j}),Ce=!0,(E||w)&&(b=!0)),Ce&&(ie?(p=p.add(ie),c=Ie?c.add(I):c.delete(I)):(p=p.delete(I),c=c.delete(I)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const I=this.query.limitType==="F"?p.last():p.first();p=p.delete(I.key),c=c.delete(I.key),s.track({type:1,doc:I})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((I,U)=>(function(ie,F){const Ie=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:Ce})}};return Ie(ie)-Ie(F)})(I.type,U.type)||this.eu(I.doc,U.doc))),this.ou(s),l=l??!1;const b=i&&!l?this._u():[],E=this.Xa.size===0&&this.current&&!l?1:0,w=E!==this.Za;return this.Za=E,p.length!==0||w?{snapshot:new Gl(this.query,e.tu,c,p,e.mutatedKeys,E===0,w,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$t(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Z1(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new J1(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=$t();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hp="SyncEngine";class hI{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class fI{constructor(e){this.key=e,this.hu=!1}}class dI{constructor(e,i,s,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Yo((b=>y1(b)),ff),this.Iu=new Map,this.Eu=new Set,this.du=new ti(vt.comparator),this.Au=new Map,this.Ru=new Dp,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mI(r,e,i=!0){const s=aw(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ew(s,e,i,!0),l}async function pI(r,e){const i=aw(r);await ew(i,e,!0,!1)}async function ew(r,e,i,s){const l=await Dx(r.localStore,La(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return s&&(b=await gI(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&Y1(r.remoteStore,l),b}async function gI(r,e,i,s,l){r.pu=(U,j,ie)=>(async function(Ie,Ce,ke,Ve){let Be=Ce.view.ru(ke);Be.Cs&&(Be=await A_(Ie.localStore,Ce.query,!1).then((({documents:q})=>Ce.view.ru(q,Be))));const Xe=Ve&&Ve.targetChanges.get(Ce.targetId),ct=Ve&&Ve.targetMismatches.get(Ce.targetId)!=null,pt=Ce.view.applyChanges(Be,Ie.isPrimaryClient,Xe,ct);return k_(Ie,Ce.targetId,pt.au),pt.snapshot})(r,U,j,ie);const c=await A_(r.localStore,e,!0),p=new cI(e,c.Qs),b=p.ru(c.documents),E=fc.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),w=p.applyChanges(b,r.isPrimaryClient,E);k_(r,i,w.au);const I=new hI(e,i,p);return r.Tu.set(e,I),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),w.snapshot}async function yI(r,e,i){const s=Nt(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!ff(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await tp(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Pp(s.remoteStore,l.targetId),rp(s,l.targetId)})).catch(Wl)):(rp(s,l.targetId),await tp(s.localStore,l.targetId,!0))}async function vI(r,e){const i=Nt(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(i.remoteStore,s.targetId))}async function _I(r,e,i){const s=CI(r);try{const l=await(function(p,b){const E=Nt(p),w=Yn.now(),I=b.reduce(((ie,F)=>ie.add(F.key)),$t());let U,j;return E.persistence.runTransaction("Locally write mutations","readwrite",(ie=>{let F=Ss(),Ie=$t();return E.Ns.getEntries(ie,I).next((Ce=>{F=Ce,F.forEach(((ke,Ve)=>{Ve.isValidDocument()||(Ie=Ie.add(ke))}))})).next((()=>E.localDocuments.getOverlayedDocuments(ie,F))).next((Ce=>{U=Ce;const ke=[];for(const Ve of b){const Be=NR(Ve,U.get(Ve.key).overlayedDocument);Be!=null&&ke.push(new Xo(Ve.key,Be,l1(Be.value.mapValue),_s.exists(!0)))}return E.mutationQueue.addMutationBatch(ie,w,ke,b)})).next((Ce=>{j=Ce;const ke=Ce.applyToLocalDocumentSet(U,Ie);return E.documentOverlayCache.saveOverlays(ie,Ce.batchId,ke)}))})).then((()=>({batchId:j.batchId,changes:b1(U)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,E){let w=p.Vu[p.currentUser.toKey()];w||(w=new ti(Wt)),w=w.insert(b,E),p.Vu[p.currentUser.toKey()]=w})(s,l.batchId,i),await mc(s,l.changes),await _f(s.remoteStore)}catch(l){const c=Bp(l,"Failed to persist write");i.reject(c)}}async function tw(r,e){const i=Nt(r);try{const s=await Ix(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(En(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?En(p.hu,14607):l.removedDocuments.size>0&&(En(p.hu,42227),p.hu=!1))})),await mc(i,s,e)}catch(s){await Wl(s)}}function O_(r,e,i){const s=Nt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const E=Nt(p);E.onlineState=b;let w=!1;E.queries.forEach(((I,U)=>{for(const j of U.Sa)j.va(b)&&(w=!0)})),w&&Fp(E)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bI(r,e,i){const s=Nt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new ti(vt.comparator);p=p.insert(c,Zi.newNoDocument(c,It.min()));const b=$t().add(c),E=new gf(It.min(),new Map,new ti(Wt),p,b);await tw(s,E),s.du=s.du.remove(c),s.Au.delete(e),qp(s)}else await tp(s.localStore,e,!1).then((()=>rp(s,e,i))).catch(Wl)}async function wI(r,e){const i=Nt(r),s=e.batch.batchId;try{const l=await xx(i.localStore,e);iw(i,s,null),nw(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mc(i,l)}catch(l){await Wl(l)}}async function EI(r,e,i){const s=Nt(r);try{const l=await(function(p,b){const E=Nt(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let I;return E.mutationQueue.lookupMutationBatch(w,b).next((U=>(En(U!==null,37113),I=U.keys(),E.mutationQueue.removeMutationBatch(w,U)))).next((()=>E.mutationQueue.performConsistencyCheck(w))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(w,I,b))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,I))).next((()=>E.localDocuments.getDocuments(w,I)))}))})(s.localStore,e);iw(s,e,i),nw(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mc(s,l)}catch(l){await Wl(l)}}function nw(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function iw(r,e,i){const s=Nt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function rp(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||rw(r,s)}))}function rw(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Pp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),qp(r))}function k_(r,e,i){for(const s of i)s instanceof J1?(r.Ru.addReference(s.key,e),TI(r,s)):s instanceof Z1?(nt(Hp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||rw(r,s.key)):Et(19791,{wu:s})}function TI(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(nt(Hp,"New document in limbo: "+i),r.Eu.add(s),qp(r))}function qp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new vt(zn.fromString(e)),s=r.fu.next();r.Au.set(s,new fI(i)),r.du=r.du.insert(i,s),Y1(r.remoteStore,new oo(La(p1(i.path)),s,"TargetPurposeLimboResolution",uf.ce))}}async function mc(r,e,i){const s=Nt(r),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,E)=>{p.push(s.pu(E,e,i).then((w=>{if((w||i)&&s.isPrimaryClient){const I=w?!w.fromCache:i?.targetChanges.get(E.targetId)?.current;s.sharedClientState.updateQueryState(E.targetId,I?"current":"not-current")}if(w){l.push(w);const I=kp.As(E.targetId,w);c.push(I)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(E,w){const I=Nt(E);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",(U=>xe.forEach(w,(j=>xe.forEach(j.Es,(ie=>I.persistence.referenceDelegate.addReference(U,j.targetId,ie))).next((()=>xe.forEach(j.ds,(ie=>I.persistence.referenceDelegate.removeReference(U,j.targetId,ie)))))))))}catch(U){if(!$l(U))throw U;nt(Vp,"Failed to update sequence numbers: "+U)}for(const U of w){const j=U.targetId;if(!U.fromCache){const ie=I.Ms.get(j),F=ie.snapshotVersion,Ie=ie.withLastLimboFreeSnapshotVersion(F);I.Ms=I.Ms.insert(j,Ie)}}})(s.localStore,c))}async function AI(r,e){const i=Nt(r);if(!i.currentUser.isEqual(e)){nt(Hp,"User change. New user:",e.toKey());const s=await F1(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((E=>{E.reject(new $e(Se.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mc(i,s.Ls)}}function SI(r,e){const i=Nt(r),s=i.Au.get(e);if(s&&s.hu)return $t().add(s.key);{let l=$t();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function aw(r){const e=Nt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bI.bind(null,e),e.Pu.H_=oI.bind(null,e.eventManager),e.Pu.yu=lI.bind(null,e.eventManager),e}function CI(r){const e=Nt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EI.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Rx(this.persistence,new Ax,e.initialUser,this.serializer)}Cu(e){return new B1(Op.mi,this.serializer)}Du(e){return new kx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class RI extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){En(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ux(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new B1((s=>Jh.mi(s,i)),this.serializer)}}class ap{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>O_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AI.bind(null,this.syncEngine),await nI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rI})()}createDatastore(e){const i=yf(e.databaseInfo.databaseId),s=(function(c){return new jx(c)})(e.databaseInfo);return(function(c,p,b,E){return new Hx(c,p,b,E)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,p,b){return new Gx(s,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>O_(this.syncEngine,i,0)),(function(){return R_.v()?new R_:new Vx})())}createSyncEngine(e,i){return(function(l,c,p,b,E,w,I){const U=new dI(l,c,p,b,E,w);return I&&(U.gu=!0),U})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Nt(i);nt(qo,"RemoteStore shutting down."),s.Ea.add(5),await dc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ap.provider={build:()=>new ap};class xI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const bo="FirestoreClient";class II{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ji.UNAUTHENTICATED,this.clientId=Ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{nt(bo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(nt(bo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Bp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),nt(bo,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await F1(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function V_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await MI(r);nt(bo,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>I_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>I_(e.remoteStore,l))),r._onlineComponents=e}async function MI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(bo,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Se.FAILED_PRECONDITION||l.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;zl("Error using user provided cache. Falling back to memory cache: "+i),await Nm(r,new ef)}}else nt(bo,"Using default OfflineComponentProvider"),await Nm(r,new RI(void 0));return r._offlineComponents}async function sw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(bo,"Using user provided OnlineComponentProvider"),await V_(r,r._uninitializedComponentsProvider._online)):(nt(bo,"Using default OnlineComponentProvider"),await V_(r,new ap))),r._onlineComponents}function NI(r){return sw(r).then((e=>e.syncEngine))}async function DI(r){const e=await sw(r),i=e.eventManager;return i.onListen=mI.bind(null,e.syncEngine),i.onUnlisten=yI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=pI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=vI.bind(null,e.syncEngine),i}function OI(r,e,i={}){const s=new fo;return r.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,E,w){const I=new xI({next:j=>{I.Nu(),p.enqueueAndForget((()=>sI(c,U))),j.fromCache&&E.source==="server"?w.reject(new $e(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(j)},error:j=>w.reject(j)}),U=new uI(b,I,{includeMetadataChanges:!0,qa:!0});return aI(c,U)})(await DI(r),r.asyncQueue,e,i,s))),s.promise}function ow(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const P_=new Map;const lw="firestore.googleapis.com",L_=!0;class U_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lw,this.ssl=L_}else this.host=e.host,this.ssl=e.ssl??L_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ox)throw new $e(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ow(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $e(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $e(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $e(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bf{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kC;switch(s.type){case"firstParty":return new UC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new $e(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=P_.get(i);s&&(nt("ComponentProvider","Removing Datastore"),P_.delete(i),s.terminate())})(this),Promise.resolve()}}function kI(r,e,i,s={}){r=Hh(r,bf);const l=Yl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(rb(`https://${b}`),ab("Firestore",!0)),c.host!==lw&&c.host!==b&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...c,host:b,ssl:l,emulatorOptions:s};if(!zo(E,p)&&(r._setSettings(E),s.mockUserToken)){let w,I;if(typeof s.mockUserToken=="string")w=s.mockUserToken,I=Ji.MOCK_USER;else{w=iA(s.mockUserToken,r._app?.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new $e(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Ji(U)}r._authCredentials=new VC(new Wb(w,I))}}class wo{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class Mi{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mi(this.firestore,e,this._key)}toJSON(){return{type:Mi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(cc(i,Mi._jsonSchema))return new Mi(e,s||null,new vt(zn.fromString(i.referencePath)))}}Mi._jsonSchemaVersion="firestore/documentReference/1.0",Mi._jsonSchema={type:vi("string",Mi._jsonSchemaVersion),referencePath:vi("string")};class mo extends wo{constructor(e,i,s){super(e,i,p1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mi(this.firestore,null,new vt(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function sp(r,e,...i){if(r=Hr(r),$b("collection","path",e),r instanceof bf){const s=zn.fromString(e,...i);return $0(s),new mo(r,null,s)}{if(!(r instanceof Mi||r instanceof mo))throw new $e(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(zn.fromString(e,...i));return $0(s),new mo(r.firestore,null,s)}}function VI(r,e,...i){if(r=Hr(r),arguments.length===1&&(e=Ep.newId()),$b("doc","path",e),r instanceof bf){const s=zn.fromString(e,...i);return W0(s),new Mi(r,null,new vt(s))}{if(!(r instanceof Mi||r instanceof mo))throw new $e(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(zn.fromString(e,...i));return W0(s),new Mi(r.firestore,r instanceof mo?r.converter:null,new vt(s))}}const j_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new q1(this,"async_queue_retry"),this._c=()=>{const s=Mm();s&&nt(j_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Mm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Mm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;nt(j_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",B_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=zp.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:B_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function B_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Gp extends bf{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new z_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function PI(r,e){const i=typeof r=="object"?r:ub(),s=typeof r=="string"?r:Gh,l=fp(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=tA("firestore");c&&kI(l,...c)}return l}function uw(r){if(r._terminated)throw new $e(Se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LI(r),r._firestoreClient}function LI(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new nR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,ow(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new II(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(qi.fromBase64String(e))}catch(i){throw new $e(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new sa(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,sa._jsonSchema))return sa.fromBase64String(e.bytes)}}sa._jsonSchemaVersion="firestore/bytes/1.0",sa._jsonSchema={type:vi("string",sa._jsonSchemaVersion),bytes:vi("string")};class Yp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new $e(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cw{constructor(e){this._methodName=e}}class ja{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new $e(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new $e(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ja._jsonSchemaVersion}}static fromJSON(e){if(cc(e,ja._jsonSchema))return new ja(e.latitude,e.longitude)}}ja._jsonSchemaVersion="firestore/geoPoint/1.0",ja._jsonSchema={type:vi("string",ja._jsonSchemaVersion),latitude:vi("number"),longitude:vi("number")};class za{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:za._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,za._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new za(e.vectorValues);throw new $e(Se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}za._jsonSchemaVersion="firestore/vectorValue/1.0",za._jsonSchema={type:vi("string",za._jsonSchemaVersion),vectorValues:vi("object")};const UI=/^__.*__$/;class jI{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,i,this.fieldTransforms):new hc(e,this.data,i,this.fieldTransforms)}}function hw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Xp{constructor(e,i,s,l,c,p){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hw(this.Ac)&&UI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zI{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||yf(e)}Cc(e,i,s,l=!1){return new Xp({Ac:e,methodName:i,Dc:s,path:Hi.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fw(r){const e=r._freezeSettings(),i=yf(r._databaseId);return new zI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function BI(r,e,i,s,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);pw("Data must be an object, but it was:",p,s);const b=dw(s,p);let E,w;if(c.merge)E=new va(p.fieldMask),w=p.fieldTransforms;else if(c.mergeFields){const I=[];for(const U of c.mergeFields){const j=HI(e,U,i);if(!p.contains(j))throw new $e(Se.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);GI(I,j)||I.push(j)}E=new va(I),w=p.fieldTransforms.filter((U=>E.covers(U.field)))}else E=null,w=p.fieldTransforms;return new jI(new aa(b),E,w)}function FI(r,e,i,s=!1){return Qp(i,r.Cc(s?4:3,e))}function Qp(r,e){if(mw(r=Hr(r)))return pw("Unsupported field value:",e,r),dw(r,e);if(r instanceof cw)return(function(s,l){if(!hw(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let E=Qp(b,l.wc(p));E==null&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Hr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Yn.fromDate(s);return{timestampValue:$h(l.serializer,c)}}if(s instanceof Yn){const c=new Yn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$h(l.serializer,c)}}if(s instanceof ja)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof sa)return{bytesValue:O1(l.serializer,s._byteString)};if(s instanceof Mi){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Np(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof za)return(function(p,b){return{mapValue:{fields:{[s1]:{stringValue:o1},[Yh]:{arrayValue:{values:p.toArray().map((w=>{if(typeof w!="number")throw b.Sc("VectorValues must only contain numeric values.");return xp(b.serializer,w)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${lf(s)}`)})(r,e)}function dw(r,e){const i={};return e1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(r,((s,l)=>{const c=Qp(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function mw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Yn||r instanceof ja||r instanceof sa||r instanceof Mi||r instanceof cw||r instanceof za)}function pw(r,e,i){if(!mw(i)||!Jb(i)){const s=lf(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function HI(r,e,i){if((e=Hr(e))instanceof Yp)return e._internalPath;if(typeof e=="string")return gw(r,e);throw tf("Field path arguments must be of type string or ",r,!1,void 0,i)}const qI=new RegExp("[~\\*/\\[\\]]");function gw(r,e,i){if(e.search(qI)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Yp(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function tf(r,e,i,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let E="";return(c||p)&&(E+=" (found",c&&(E+=` in field ${s}`),p&&(E+=` in document ${l}`),E+=")"),new $e(Se.INVALID_ARGUMENT,b+r+E)}function GI(r,e){return r.some((i=>i.isEqual(e)))}class yw{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(wf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class YI extends yw{data(){return super.data()}}function wf(r,e){return typeof e=="string"?gw(r,e):e instanceof Yp?e._internalPath:e._delegate._internalPath}function XI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new $e(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class Wp extends Kp{}function vw(r,e,...i){let s=[];e instanceof Kp&&s.push(e),s=s.concat(i),(function(c){const p=c.filter((E=>E instanceof $p)).length,b=c.filter((E=>E instanceof Ef)).length;if(p>1||p>0&&b>0)throw new $e(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Ef extends Wp{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Ef(e,i,s)}_apply(e){const i=this._parse(e);return _w(e._query,i),new wo(e.firestore,e.converter,Wm(e._query,i))}_parse(e){const i=fw(e.firestore);return(function(c,p,b,E,w,I,U){let j;if(w.isKeyField()){if(I==="array-contains"||I==="array-contains-any")throw new $e(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if(I==="in"||I==="not-in"){H_(U,I);const F=[];for(const Ie of U)F.push(F_(E,c,Ie));j={arrayValue:{values:F}}}else j=F_(E,c,U)}else I!=="in"&&I!=="not-in"&&I!=="array-contains-any"||H_(U,I),j=FI(b,p,U,I==="in"||I==="not-in");return yi.create(w,I,j)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Xu(r,e,i){const s=e,l=wf("where",r);return Ef._create(l,s,i)}class $p extends Kp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new $p(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:_a.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const E of b)_w(p,E),p=Wm(p,E)})(e._query,i),new wo(e.firestore,e.converter,Wm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jp extends Wp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Jp(e,i)}_apply(e){const i=(function(l,c,p){if(l.startAt!==null)throw new $e(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new $e(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(c,p)})(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new Jl(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Dl(r,e="asc"){const i=e,s=wf("orderBy",r);return Jp._create(s,i)}class Zp extends Wp{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Zp(e,i,s)}_apply(e){return new wo(e.firestore,e.converter,Qh(e._query,this._limit,this._limitType))}}function nf(r){return GC("limit",r),Zp._create("limit",r,"F")}function F_(r,e,i){if(typeof(i=Hr(i))=="string"){if(i==="")throw new $e(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g1(e)&&i.indexOf("/")!==-1)throw new $e(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(zn.fromString(i));if(!vt.isDocumentKey(s))throw new $e(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a_(r,new vt(s))}if(i instanceof Mi)return a_(r,i._key);throw new $e(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(i)}.`)}function H_(r,e){if(!Array.isArray(r)||r.length===0)throw new $e(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _w(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new $e(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class QI{convertValue(e,i="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Go(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Yh].arrayValue?.values?.map((s=>ci(s.doubleValue)));return new za(i)}convertGeoPoint(e){return new ja(ci(e.latitude),ci(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=hf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const i=go(e);return new Yn(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=zn.fromString(e);En(j1(s),9688,{name:e});const l=new Ju(s.get(1),s.get(3)),c=new vt(s.popFirst(5));return l.isEqual(i)||As(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function KI(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Eh{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends yw{constructor(e,i,s,l,c,p){super(e,i,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(wf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ll._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:vi("string",Ll._jsonSchemaVersion),bundleSource:vi("string","DocumentSnapshot"),bundleName:vi("string"),bundle:vi("string")};class kh extends Ll{data(e={}){return super.data(e)}}class Ul{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Eh(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new kh(this._firestore,this._userDataWriter,s.key,s,new Eh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new $e(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const E=new kh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:E,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const E=new kh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,I=-1;return b.type!==0&&(w=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),I=p.indexOf(b.doc.key)),{type:WI(b.type),doc:E,oldIndex:w,newIndex:I}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:vi("string",Ul._jsonSchemaVersion),bundleSource:vi("string","QuerySnapshot"),bundleName:vi("string"),bundle:vi("string")};class $I extends QI{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,i)}}function bw(r){r=Hh(r,wo);const e=Hh(r.firestore,Gp),i=uw(e),s=new $I(e);return XI(r._query),OI(i,r._query).then((l=>new Ul(e,s,r,l)))}function JI(r,e){const i=Hh(r.firestore,Gp),s=VI(r),l=KI(r.converter,e);return ZI(i,[BI(fw(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,_s.exists(!1))]).then((()=>s))}function ZI(r,e){return(function(s,l){const c=new fo;return s.asyncQueue.enqueueAndForget((async()=>_I(await NI(s),l,c))),c.promise})(uw(r),e)}(function(e,i=!0){(function(l){Kl=l})(Xl),jl(new Bo("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new Gp(new PC(s.getProvider("auth-internal")),new jC(p,s.getProvider("app-check-internal")),(function(w,I){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new $e(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(w.options.projectId,I)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),co(Y0,X0,e),co(Y0,X0,"esm2020")})();const eM={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},tM=typeof __firebase_config<"u"?JSON.parse(__firebase_config):eM,ww=lb(tM),Dm=DC(ww),op=PI(ww),lp=typeof __app_id<"u"?__app_id:"long-jump-game",Ct={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000"},ia=5,up=50,nM=25,Ew=30,iM=15,ga=40,Tw={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},rM=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),q_=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],G_=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],Tf=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Af=r=>{let e=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=s^Math.imul(i^p,2869860233),s=l^Math.imul(s^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(s^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(e^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^s^l)>>>0},aM=()=>new Date().toISOString().split("T")[0],sM=(r,e)=>{const i=Af(r),s=Tf(i),l=[],c=Math.floor(e*.3),p=new Set;for(;l.length<c;){const b=Math.floor(s()*ia),E=Math.floor(s()*e);if(E===0)continue;const w=`${b},${E}`;if(!p.has(w)){p.add(w);const I=s();let U=1;I>.5&&(U=2),I>.8&&(U=3),l.push({r:b,c:E,val:U})}}return l},oM=(r,e)=>{const i=Af(r+"OBSTACLES"),s=Tf(i),l=[],c=Math.floor(e*.1),p=new Set;for(;l.length<c;){const b=Math.floor(s()*ia),E=Math.floor(s()*e);if(E===0)continue;const w=`${b},${E}`;p.has(w)||(p.add(w),l.push({r:b,c:E}))}return l},lM=(r,e,i)=>{const s=Af(r+"WILDCARDS_V3"),l=Tf(s),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*ia),E=5,w=Math.min(29,i-2);if(w<=E)break;const I=Math.floor(l()*(w-E+1))+E;if(!e.some(U=>U.r===b&&U.c===I)){c.push({r:b,c:I});break}p++}if(i>30)for(p=0;p<100;){const b=Math.floor(l()*ia),E=30,w=i-5,I=Math.floor(l()*(w-E+1))+E;if(!e.some(U=>U.r===b&&U.c===I)){c.push({r:b,c:I});break}p++}return c},uM=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],cM=r=>{const e=Af(r),i=Tf(e);let s=[];Object.entries(Tw).forEach(([b,E])=>{for(let w=0;w<E;w++)s.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(s);for(let b=l.length-1;b>0;b--){const E=Math.floor(i()*(b+1));[l[b],l[E]]=[l[E],l[b]]}const c=Ew;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const E=Math.floor(i()*c);[l[E],l[b]]=[l[b],l[E]]}}return l},hM=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},fM=r=>{const e=new Date().toISOString().split("T")[0],i=JSON.parse(localStorage.getItem("longJumpStats"))||{gamesPlayed:0,currentStreak:0,maxStreak:0,totalDistance:0,lastPlayedDate:null};let{gamesPlayed:s,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:b}=i;if(s+=1,p+=r,b!==e){const w=new Date;w.setDate(w.getDate()-1);const I=w.toISOString().split("T")[0];b===I?l+=1:l=1}l>c&&(c=l);const E={gamesPlayed:s,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:e};return localStorage.setItem("longJumpStats",JSON.stringify(E)),E},Y_=()=>{const r=et.useRef(null);return et.useEffect(()=>{const e=r.current;if(!e)return;const i=e.getContext("2d");let s=window.innerWidth,l=window.innerHeight;if(s===0||l===0)return;e.width=s,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",Ct.accentPrimary];for(let I=0;I<150;I++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const E=()=>{!i||!e.width||!e.height||(i.clearRect(0,0,s,l),c.forEach(I=>{I.y+=I.vy,I.x+=I.vx+Math.sin(I.y/50),I.rotation+=I.rotationSpeed,I.y>l&&(I.y=-10,I.x=Math.random()*s),!(!Number.isFinite(I.x)||!Number.isFinite(I.y)||!Number.isFinite(I.rotation)||!Number.isFinite(I.size))&&(i.save(),i.translate(I.x,I.y),i.rotate(I.rotation*Math.PI/180),i.fillStyle=I.color,i.fillRect(-I.size/2,-I.size/2,I.size,I.size),i.restore())}),b=requestAnimationFrame(E))};E();const w=()=>{e&&(s=window.innerWidth,l=window.innerHeight,s>0&&l>0&&(e.width=s,e.height=l))};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w),b&&cancelAnimationFrame(b)}},[]),k.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},X_=()=>{const{RiveComponent:r}=so.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return k.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},Q_=({trigger:r})=>{const{rive:e,RiveComponent:i}=so.useRive({src:"fan.riv",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return et.useEffect(()=>{if(r&&e&&e.viewModelInstance)try{const s=e.viewModelInstance("View Model 1");if(s){const l=s.trigger("Celebrate");l&&l.fire()}}catch(s){console.warn("Rive trigger warning:",s)}},[r,e]),i?k.jsx("div",{style:{width:`${ga}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:k.jsx("div",{style:{width:"39px",height:"60px"},children:k.jsx(i,{})})}):null},Om=({highlightName:r,user:e,onRankFound:i,lastUpdated:s,initialMode:l="standard",onParCalculated:c})=>{const[p,b]=et.useState([]),[E,w]=et.useState(!0),[I,U]=et.useState("daily"),[j,ie]=et.useState(l),[F,Ie]=et.useState(null);et.useEffect(()=>{ie(l)},[l]);const Ce=async()=>{if(!e)return;w(!0),Ie(null);const ke=sp(op,"artifacts",lp,"public","data","scores"),Ve=new Date,Be=Ve.toISOString().split("T")[0],Xe=Ve.getDay(),ct=Ve.getDate()-Xe+(Xe===0?-6:1),q=new Date(Ve.setDate(ct)).toISOString().split("T")[0];let z=[];j==="quick"&&z.push(Xu("mode","==","quick")),I==="daily"?(z.push(Xu("date","==",Be)),z.push(Dl("score","desc")),z.push(Dl("timestamp","asc")),z.push(nf(100))):(z.push(Xu("date",">=",q)),z.push(Dl("date","desc")),z.push(Dl("score","desc")),z.push(nf(500)));try{const V=vw(ke,...z),H=await bw(V);if(H.empty){b([]),w(!1),c&&I==="daily"&&c(j==="quick"?12:25,j);return}let x=H.docs.map(P=>({id:P.id,...P.data()}));if(j==="standard"&&(x=x.filter(P=>!P.mode||P.mode==="standard")),I==="daily"&&c){const R=x.reduce((G,te)=>G+te.score,0)/x.length,ae=Math.floor(((j==="quick"?12:25)+R)/2);c(ae,j)}if(I==="weekly"){const P=new Map;x.forEach(R=>{const Q=P.get(R.name);Q?(R.score>Q.score||R.score===Q.score&&R.timestamp<Q.timestamp)&&P.set(R.name,R):P.set(R.name,R)}),x=Array.from(P.values()),x.sort((R,Q)=>Q.score!==R.score?Q.score-R.score:R.timestamp-Q.timestamp),x=x.slice(0,100)}if(b(x),w(!1),r&&i){const P=x.findIndex(R=>R.name===r);P!==-1&&i(P+1)}}catch(V){console.error(" FIRESTORE ERROR:",V),Ie(V.message),w(!1)}};return et.useEffect(()=>{Ce()},[e,I,j,r,s]),k.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col relative",children:[F&&F.includes("index")&&k.jsxs("div",{className:"absolute inset-0 z-50 bg-white/90 flex flex-col items-center justify-center p-4 text-center",children:[k.jsx(pT,{className:"text-red-500 mb-2",size:32}),k.jsx("p",{className:"text-xs font-bold text-red-600 mb-2",children:"DATABASE INDEX MISSING"}),k.jsx("button",{onClick:Ce,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:"Retry"})]}),k.jsxs("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(Vm,{size:20,className:"text-yellow-500"}),k.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:I==="daily"?"Today's Top":"Weekly Best"})]}),k.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[k.jsx("button",{onClick:()=>U("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${I==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),k.jsx("button",{onClick:()=>U("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${I==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),k.jsx("div",{className:"flex justify-center",children:k.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 w-full",children:[k.jsx("button",{onClick:()=>ie("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${j==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Standard"}),k.jsx("button",{onClick:()=>ie("quick"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${j==="quick"?"bg-white shadow-sm text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:"Quick Mode"})]})})]}),k.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:E?k.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):p.length===0?k.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",k.jsx("br",{}),"Be the first!"]}):k.jsx("div",{className:"space-y-1",children:p.map((ke,Ve)=>{const Be=ke.mode==="quick"?25:40,Xe=ke.score>=Be;return k.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${ke.name===r?`bg-[${Ct.accentPrimary}]/10 border-[${Ct.accentPrimary}]/20`:Xe?"bg-amber-100 border-amber-300":"hover:bg-white/60 border-transparent"}`,children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:`font-black w-5 text-center ${Ve===0?"text-yellow-600 text-lg":Ve===1?"text-gray-600 text-base":Ve===2?"text-orange-800 text-base":"text-gray-500"}`,children:Ve+1}),k.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[Xe&&k.jsx(Vm,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),k.jsx("span",{className:`font-bold truncate max-w-[90px] ${ke.name===r?"text-black":Xe?"text-amber-900":"text-gray-700"}`,children:ke.name}),I==="weekly"&&k.jsx("span",{className:"text-[9px] text-gray-400 font-normal ml-1 border-l pl-1 border-gray-300",children:new Date(ke.date).toLocaleDateString(void 0,{weekday:"short"})})]})]}),k.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${Xe?"bg-amber-200 text-amber-900":"text-gray-900 bg-gray-100"}`,children:[ke.score,"m"]})]},Ve)})})})]})},K_=()=>{const r=q_[Math.floor(Math.random()*q_.length)],e=G_[Math.floor(Math.random()*G_.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},W_=(r=up)=>Array(ia).fill(null).map(()=>Array(r).fill(null)),km=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(s=>s.r===e)||r.every(s=>s.c===i)},Th=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:r,isNew:e});function dM(){const[r,e]=et.useState("menu"),[i,s]=et.useState("standard"),[l,c]=et.useState(()=>localStorage.getItem("longJumpPlayerName")||K_()),[p,b]=et.useState(!1),[E,w]=et.useState(!1),[I,U]=et.useState(()=>{const $=localStorage.getItem("longJumpShowFans");return $===null?!0:$!=="false"}),[j,ie]=et.useState(()=>W_(up)),[F,Ie]=et.useState([]),[Ce,ke]=et.useState([]),[Ve,Be]=et.useState(0),[Xe,ct]=et.useState(!1),[pt,q]=et.useState([]),[z,V]=et.useState(0),[H,x]=et.useState([]),[P,R]=et.useState([]),[Q,ae]=et.useState([]),[G,te]=et.useState([]),[ve,he]=et.useState(null),[we,L]=et.useState(null),[K,Ee]=et.useState([]),[ye,Me]=et.useState(0),[He,ht]=et.useState(0),[mt,bt]=et.useState(null),[kt,un]=et.useState(!1),[ft,At]=et.useState(!1),[Dt,wt]=et.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[Tn,hi]=et.useState(!1),[Jt,it]=et.useState(!1),[sn,mn]=et.useState(!1),[Gi,$n]=et.useState(!1),[Gt,An]=et.useState(!1),[C,g]=et.useState(!1),[v,D]=et.useState(!1),[W,me]=et.useState(!1),[Re,Qe]=et.useState(null),[Je,Ge]=et.useState(null),[rt,Bt]=et.useState(!1),[xn,pn]=et.useState(null),[Bn,Jn]=et.useState(25),[Rt,Ln]=et.useState(null),Un=et.useRef({standard:25,quick:12}),vn=et.useRef(null),[Ni,gt]=et.useState(!1),[Zn,xt]=et.useState(0),[tr,nr]=et.useState(0),Fa=j.some($=>$.some(ue=>ue!==null));et.useEffect(()=>{localStorage.setItem("longJumpPlayerName",l)},[l]),et.useEffect(()=>{localStorage.setItem("longJumpShowFans",I)},[I]),et.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await v2(Dm,__initial_auth_token):await d2(Dm)})();const ue=w2(Dm,Ge);return()=>ue()},[]),et.useEffect(()=>{if(He===ye)return;const $=500,ue=performance.now(),ge=He,be=ye,Ne=Fe=>{const Ze=Fe-ue,Pe=Math.min(Ze/$,1),ut=1-Math.pow(1-Pe,3),Le=Math.floor(ge+(be-ge)*ut);ht(Le),Pe<1&&requestAnimationFrame(Ne)};requestAnimationFrame(Ne)},[ye]),et.useEffect(()=>{(async()=>{try{const ue=sp(op,"artifacts",lp,"public","data","scores"),ge=new Date().toISOString().split("T")[0];let be=[Xu("date","==",ge),Dl("score","desc"),Dl("timestamp","asc")];i==="quick"?(be.push(Xu("mode","==","quick")),be.push(nf(1))):be.push(nf(50));const Ne=vw(ue,...be),Fe=await bw(Ne);let Ze=null;if(!Fe.empty){const Pe=Fe.docs.map(ut=>ut.data());i==="quick"?Ze=Pe[0]:Ze=Pe.find(ut=>!ut.mode||ut.mode==="standard")}pn(Ze||null)}catch(ue){console.error("Error fetching leader:",ue)}})()},[Ve,i]);const ir=et.useCallback(($,ue)=>{(ue==="quick"||ue==="standard")&&(Un.current[ue]=$),Jn($)},[]);et.useEffect(()=>{rr("standard")},[]);const rr=($="standard")=>{const ue=aM(),ge=cM(ue);q(ge),s($);const be=$==="quick"?nM:up,Ne=$==="quick"?iM:Ew;let Fe;$==="quick"?(Fe=ge.slice(0,Ne-1),Fe.push("*")):Fe=ge.slice(0,Ne);const Ze=Fe.map(Le=>Th(Le,!1)).sort((Le,st)=>Le.letter.localeCompare(st.letter));Ie(Ze),V(Ne),ie(W_(be)),Ee([]),ke([]),Me(0),ht(0),bt(null),un(!1),At(!1),x(sM(ue,be));const Pe=oM(ue,be);R(Pe),ae(lM(ue,Pe,be)),te(uM()),wt({text:"Goal: Get as far right as you can.",type:"neutral"}),g(!1),it(!1),$n(!1),An(!1),Bt(!1),D(!1),mn(!1),ct(!1),he(null),L(null),b(!1);const ut=Un.current[$]||($==="quick"?12:25);Jn(ut),vn.current&&(vn.current.scrollLeft=0)},Ye=$=>{l.trim()||c(K_()),e("playing"),rr($),$n(!0)},ba=()=>{e("menu"),rr("standard")},ar=()=>{if(Ce.length===0)return;const $=Ce[Ce.length-1],ue=Ce.slice(0,-1);ie($.grid),Ie($.hand),Me($.score),V($.drawCount),ke(ue),Ee([]),wt({text:"Move undone",type:"info"})},sr=$=>{const ue=$.toUpperCase();return[...F].reverse().find(ge=>ge.letter===ue)},cn=$=>{const ue=j[0].length;if(!we){L({r:2,c:ye});return}let{r:ge,c:be}=we;$==="ArrowUp"&&(ge=Math.max(0,ge-1)),$==="ArrowDown"&&(ge=Math.min(ia-1,ge+1)),$==="ArrowLeft"&&(be=Math.max(0,be-1)),$==="ArrowRight"&&(be=Math.min(ue-1,be+1)),L({r:ge,c:be})};et.useEffect(()=>{const $=ue=>{if(!(r!=="playing"||C||Gt||Gi||Jt||W||sn||p)){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ue.key)){ue.preventDefault(),cn(ue.key);return}if(ue.key==="Backspace"||ue.key==="Delete"){if(we){const{r:ge,c:be}=we;K.find(Fe=>Fe.r===ge&&Fe.c===be)?Ci(ge,be):cn("ArrowLeft")}return}if(ue.key==="Enter"){K.length>0&&bi();return}if(/^[a-zA-Z]$/.test(ue.key)){const ge=j[0].length;if(!we){L({r:2,c:ye});return}const{r:be,c:Ne}=we;if(j[be]&&j[be][Ne]||P.some(Ze=>Ze.r===be&&Ze.c===Ne)){cn("ArrowRight");return}const Fe=sr(ue.key);Fe?(_i(Fe,be,Ne),L({r:be,c:Math.min(ge-1,Ne+1)})):(wt({text:`No '${ue.key.toUpperCase()}' in hand`,type:"error"}),setTimeout(()=>wt({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[r,C,we,F,K,Gt,Gi,Jt,W,sn,p]),et.useEffect(()=>{if(we&&vn.current){const $=vn.current,ue=we.c*ga,ge=ue+ga,be=$.scrollLeft,Ne=be+$.clientWidth,Fe=100;ue<be?$.scrollTo({left:Math.max(0,ue-Fe),behavior:"smooth"}):ge>Ne&&$.scrollTo({left:ge-$.clientWidth+Fe,behavior:"smooth"})}},[we]);const Qn=()=>it(!0),or=async()=>{it(!1),g(!0),Bt(!0);const $=l.trim().toLowerCase()==="test";if(Je&&!$)try{const Ne=new Date().toISOString().split("T")[0],Fe=sp(op,"artifacts",lp,"public","data","scores");await JI(Fe,{name:l||"Anonymous",score:ye,mode:i,date:Ne,timestamp:Date.now(),userId:Je.uid}),Be(Date.now())}catch(Ne){console.error("Error saving score:",Ne)}const ue=fM(ye);Ln(ue),Bt(!1);const ge=ye*50+800;setTimeout(()=>{e("gameOver"),g(!1)},Math.max(ge,2500))},Nr=()=>it(!1),Rs=()=>r==="playing"?mn(!0):e("menu"),Ha=()=>{mn(!1),e("menu"),rr()},oa=async()=>{const $=mt?hM(mt):"top",ue="https://www.longjump.co.za";let ge=mt?`${l} placed ${$} in Long-Jump with a distance of ${ye}m. How far can you get? ${ue}`:`${l} got a distance of ${ye}m in Long-Jump. How far can you get? ${ue}`;try{await navigator.clipboard.writeText(ge),un(!0),setTimeout(()=>un(!1),1e3)}catch(be){console.error("Failed to copy: ",be),wt({text:"Failed to copy result.",type:"error"})}},lr=$=>{$.target.closest('[draggable="true"]')||$.target.tagName==="BUTTON"||(gt(!0),xt($.pageX-vn.current.offsetLeft),nr(vn.current.scrollLeft))},Di=()=>gt(!1),ur=()=>gt(!1),Yi=$=>{if(!Ni)return;$.preventDefault();const ge=($.pageX-vn.current.offsetLeft-Zn)*1.5;vn.current.scrollLeft=tr-ge},_i=($,ue,ge)=>{if($.letter==="*"){Qe({r:ue,c:ge,tileId:$.id}),me(!0);return}Oi($,ue,ge)},Oi=($,ue,ge,be=!1,Ne=null)=>{if(j.every(ut=>ut.every(Le=>Le===null))&&K.length===0&&ge!==0){D(!0),setTimeout(()=>D(!1),3e3);return}const Ze=Ne||$.letter,Pe=[...K,{r:ue,c:ge,letter:Ze,isWild:be,id:$.id}];if(!km(Pe)){wt({text:" Tiles must be placed in a single row or column",type:"error"});return}Ee(Pe),Ie(ut=>ut.filter(Le=>Le.id!==$.id)),D(!1),Dt.type==="error"&&wt({text:"Goal: Get as far right as you can.",type:"neutral"})},Fn=$=>{if(Re){const ue={id:Re.tileId,letter:"*"};Oi(ue,Re.r,Re.c,!0,$),L({r:Re.r,c:Math.min(j[0].length-1,Re.c+1)}),me(!1),Qe(null),he(null)}},la=$=>{if(!C&&r==="playing"){if(we){const{r:ue,c:ge}=we,be=j[0].length;if(!(j[ue]&&j[ue][ge]||P.some(Fe=>Fe.r===ue&&Fe.c===ge))){const Fe=F.find(Ze=>Ze.id===$);Fe&&(_i(Fe,ue,ge),L({r:ue,c:Math.min(be-1,ge+1)}));return}}he(ve===$?null:$)}},Ci=($,ue)=>{if(Ni||C||r!=="playing"||j[$]&&j[$][ue]||P.some(be=>be.r===$&&be.c===ue))return;const ge=K.findIndex(be=>be.r===$&&be.c===ue);if(ge!==-1){const be=K[ge],Ne=[...K];Ne.splice(ge,1),Ee(Ne);const Fe=be.isWild?"*":be.letter,Ze={id:be.id||Math.random().toString(),letter:Fe,isNew:!1};Ie(Pe=>[...Pe,Ze].sort((ut,Le)=>ut.letter!==Le.letter?ut.letter.localeCompare(Le.letter):ut.isNew===Le.isNew?0:ut.isNew?1:-1)),he(null),L({r:$,c:ue});return}if(ve){const be=F.find(Ne=>Ne.id===ve);if(be){const Ne=j[0].length;_i(be,$,ue),he(null),L({r:$,c:Math.min(Ne-1,ue+1)})}}else L({r:$,c:ue})},Ri=($,ue)=>{C||r!=="playing"||($.dataTransfer.setData("text/plain",JSON.stringify(ue)),$.dataTransfer.effectAllowed="move")},ki=$=>{$.preventDefault(),$.dataTransfer.dropEffect="move"},qa=($,ue,ge)=>{if(C||r!=="playing"||($.preventDefault(),$.stopPropagation(),P.some(Ne=>Ne.r===ue&&Ne.c===ge)))return;const be=$.dataTransfer.getData("text/plain");if(be)try{const Ne=JSON.parse(be);if(j[ue]&&j[ue][ge])return;const Fe=K.findIndex(Pe=>Pe.r===ue&&Pe.c===ge),Ze=j[0].length;if(Ne.type==="hand"){const Pe=Ne.tile;if(Pe.letter==="*"){Qe({r:ue,c:ge,tileId:Pe.id}),me(!0);return}if(j.every(Le=>Le.every(st=>st===null))&&K.length===0&&ge!==0){D(!0),setTimeout(()=>D(!1),3e3);return}if(Fe!==-1){const Le=K[Fe],st=[...K],Sn=Le.isWild?"*":Le.letter,Mn={id:Le.id||Math.random().toString(),letter:Sn,isNew:!1};st.splice(Fe,1,{r:ue,c:ge,letter:Pe.letter,isWild:!1,id:Pe.id}),Ee(st),Ie(nn=>[...nn.filter(Nn=>Nn.id!==Pe.id),Mn].sort((Nn,cr)=>Nn.letter!==cr.letter?Nn.letter.localeCompare(cr.letter):Nn.isNew===cr.isNew?0:Nn.isNew?1:-1))}else{const Le=[...K,{r:ue,c:ge,letter:Pe.letter,isWild:!1,id:Pe.id}];if(!km(Le)){wt({text:" Tiles must be placed in a single row or column",type:"error"});return}Ee(Le),Ie(st=>st.filter(Sn=>Sn.id!==Pe.id))}D(!1),he(null),L({r:ue,c:Math.min(Ze-1,ge+1)}),Dt.type==="error"&&wt({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Ne.type==="board"){if(Ne.r===ue&&Ne.c===ge)return;const Pe=K.findIndex(st=>st.r===Ne.r&&st.c===Ne.c);if(Pe===-1)return;const ut=K[Pe],Le=[...K];if(Fe!==-1){const st=K[Fe];Le[Fe]={...st,r:Ne.r,c:Ne.c},Le[Pe]={...ut,r:ue,c:ge}}else Le[Pe]={...ut,r:ue,c:ge};if(!km(Le)){wt({text:" Tiles must be placed in a single row or column",type:"error"});return}Ee(Le),L({r:ue,c:Math.min(Ze-1,ge+1)})}}catch{}},qr=$=>{if(C||r!=="playing")return;$.preventDefault(),$.stopPropagation();const ue=$.dataTransfer.getData("text/plain");if(ue)try{const ge=JSON.parse(ue);if(ge.type==="board"){const be=K.find(Ze=>Ze.r===ge.r&&Ze.c===ge.c),Ne=be&&be.isWild?"*":ge.letter,Fe={id:be?.id||Math.random().toString(),letter:Ne,isNew:!1};Ee(Ze=>Ze.filter(Pe=>!(Pe.r===ge.r&&Pe.c===ge.c))),Ie(Ze=>[...Ze,Fe].sort((Pe,ut)=>Pe.letter!==ut.letter?Pe.letter.localeCompare(ut.letter):Pe.isNew===ut.isNew?0:Pe.isNew?1:-1))}}catch{}},wa=($,ue)=>{if(!j||!j[$])return null;if(j[$][ue])return{letter:j[$][ue],type:"locked"};const ge=K.find(be=>be.r===$&&be.c===ue);return ge?{letter:ge.letter,type:"temp",isWild:ge.isWild}:null},Ea=($,ue)=>H.find(ge=>ge.r===$&&ge.c===ue),vr=($,ue)=>P.find(ge=>ge.r===$&&ge.c===ue),bi=async()=>{if(K.length===0)return;hi(!0),wt({text:"Validating...",type:"info"});const $=j.map(Pe=>[...Pe]);if(K.forEach(Pe=>{$[Pe.r]&&($[Pe.r][Pe.c]=Pe.letter)}),K.length>1){const Pe=[...K].sort((st,Sn)=>st.r-Sn.r||st.c-Sn.c),ut=Pe[0],Le=Pe[Pe.length-1];if(ut.r===Le.r){for(let st=ut.c;st<=Le.c;st++)if(!$[ut.r][st]){ni("Cannot leave gaps between tiles.");return}}else for(let st=ut.r;st<=Le.r;st++)if(!$[st][ut.c]){ni("Cannot leave gaps between tiles.");return}}const ue=j.every(Pe=>Pe.every(ut=>ut===null));let ge=!1,be=!1;const Ne=j[0].length;if(K.forEach(Pe=>{Pe.c===0&&(ge=!0),[{r:Pe.r+1,c:Pe.c},{r:Pe.r-1,c:Pe.c},{r:Pe.r,c:Pe.c+1},{r:Pe.r,c:Pe.c-1}].forEach(Le=>{Le.r>=0&&Le.r<ia&&Le.c>=0&&Le.c<Ne&&j[Le.r]&&j[Le.r][Le.c]&&(be=!0)})}),ue&&!ge){ni("First word must start in Column 1.");return}if(!ue&&!be){ni("Tiles must connect to existing words.");return}const Ze=Kn($).filter(Pe=>Pe.cells.some(ut=>K.some(Le=>Le.r===ut.r&&Le.c===ut.c)));if(Ze.length===0){ni("Words must be at least 2 letters.");return}try{const Pe=[];for(const ut of Ze)await _n(ut.word)||Pe.push(ut.word);if(Pe.length>0){ni(`Invalid word(s): ${Pe.join(", ")}`,Pe[0]);return}_r($,Ze)}catch(Pe){console.error(Pe),ni("Error checking dictionary. Try again.")}},_n=async $=>{const ue=$.toUpperCase();if(rM.has(ue))return!0;if(ue.length===2)return!1;try{const ge=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${$}`);if(!ge.ok)return!1;const be=await ge.json();return Array.isArray(be)&&be.length>0}catch{return!0}},Kn=$=>{let ue=[];const ge=j[0].length;for(let be=0;be<ia;be++){let Ne="",Fe=[];for(let Ze=0;Ze<ge;Ze++)$[be]&&$[be][Ze]?(Ne+=$[be][Ze],Fe.push({r:be,c:Ze})):(Ne.length>1&&ue.push({word:Ne,cells:[...Fe],type:"H"}),Ne="",Fe=[]);Ne.length>1&&ue.push({word:Ne,cells:[...Fe],type:"H"})}for(let be=0;be<ge;be++){let Ne="",Fe=[];for(let Ze=0;Ze<ia;Ze++)$[Ze]&&$[Ze][be]?(Ne+=$[Ze][be],Fe.push({r:Ze,c:be})):(Ne.length>1&&ue.push({word:Ne,cells:[...Fe],type:"V"}),Ne="",Fe=[]);Ne.length>1&&ue.push({word:Ne,cells:[...Fe],type:"V"})}return ue},ni=($,ue=null)=>{wt({text:$,type:"error",invalidWord:ue}),hi(!1)},_r=($,ue)=>{const ge=JSON.parse(JSON.stringify(j)),be=K.map(Le=>({id:Le.id||Math.random().toString(),letter:Le.isWild?"*":Le.letter,isNew:!1})),Ne=[...F,...be].sort((Le,st)=>Le.letter!==st.letter?Le.letter.localeCompare(st.letter):Le.isNew===st.isNew?0:Le.isNew?1:-1);ke(Le=>[...Le,{grid:ge,hand:Ne,score:ye,drawCount:z}]),ie($),At(!0),setTimeout(()=>At(!1),200);let Fe=0,Ze=!1;if(ue.forEach(Le=>{Le.cells.forEach(st=>{const Sn=Ea(st.r,st.c),Mn=K.some(nn=>nn.r===st.r&&nn.c===st.c);Sn&&Mn&&(Fe+=Sn.val),Q.some(nn=>nn.r===st.r&&nn.c===st.c)&&(Ze=!0)})}),Fe>0){const st=pt.slice(z,z+Fe).map(Sn=>Th(Sn,!0));Ie(Sn=>[...Sn,...st].sort((nn,ii)=>nn.letter!==ii.letter?nn.letter.localeCompare(ii.letter):nn.isNew===ii.isNew?0:nn.isNew?1:-1)),V(Sn=>Sn+Fe)}if(Ze){const Le=Th("*",!0);Ie(st=>[...st,Le].sort((Mn,nn)=>Mn.letter!==nn.letter?Mn.letter.localeCompare(nn.letter):Mn.isNew===nn.isNew?0:Mn.isNew?1:-1))}if(Fe>0||Ze){const Le=Ze?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${Fe} Bonus Tiles!`;wt({text:Le,type:"success"})}else wt({text:"Valid move!",type:"success"});let Pe=ye-1;const ut=j[0].length;K.forEach(Le=>{Le.c>Pe&&(Pe=Le.c)});for(let Le=0;Le<ia;Le++)for(let st=0;st<ut;st++)$[Le]&&$[Le][st]&&st>Pe&&(Pe=st);Me(Pe+1),Ee([]),hi(!1),L(null)},Zt=()=>Ie($=>[...$].sort(()=>Math.random()-.5)),wi=()=>Ie($=>[...$].sort((ue,ge)=>ue.letter!==ge.letter?ue.letter.localeCompare(ge.letter):ue.isNew===ge.isNew?0:ue.isNew?1:-1)),dt=F.reduce(($,ue)=>($[ue.letter]||($[ue.letter]=[]),$[ue.letter].push(ue),$),{}),Vn=Array.from(new Set(F.map($=>$.letter))),In=Vn.length>=6,Gr=Math.ceil(Vn.length/2),Ga=In?Vn.slice(0,Gr):Vn,Ta=In?Vn.slice(Gr):[],tn=({letter:$})=>{const ue=dt[$]||[],ge=ue.length,be=ue[ge-1],Ne=be&&ve===be.id,Fe=Math.min(ge,15),Ze=6,Pe=40+(Fe>1?(Fe-1)*Ze:0);return k.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${Pe}px`},children:[[...Array(Fe-1)].map((ut,Le)=>{const Sn=($.charCodeAt(0)+Le)%7-3;return k.jsx("div",{className:"absolute w-10 h-10 rounded-lg border border-black/10 transition-all shadow-md",style:{backgroundColor:"#e5e7eb",bottom:`${Le*Ze}px`,zIndex:Le,transform:`rotate(${Sn}deg)`}},Le)}),k.jsxs("button",{draggable:!C&&r==="playing",onDragStart:ut=>Ri(ut,{type:"hand",tile:be}),onClick:()=>la(be.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${r==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(Fe-1)*Ze}px`,zIndex:Fe,backgroundColor:Ne?Ct.accentPrimary:$==="*"?Ct.tileTemp:"white",color:Ne?"white":Ct.textMain,transform:Ne?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Ne?0:$.charCodeAt(0)%5-2}deg)`},children:[be&&be.isNew&&k.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),$==="*"?k.jsx(ph,{size:20,fill:Ct.starPurple,className:"text-purple-500"}):$]})]})};return r==="menu"?k.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:Ct.background,color:Ct.textMain},children:[k.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch relative",children:[k.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[k.jsx(X_,{}),k.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[k.jsx("span",{children:"Refreshed Daily"}),k.jsx(ym,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),k.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[k.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:Ct.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."}),k.jsxs("div",{className:"bg-red-50 text-red-800 text-xs font-bold px-3 py-1 rounded-full border border-red-200 mt-2",children:["Today's Par: ",Bn,"m"]})]})]}),k.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[k.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:Ct.textSub},children:"Enter your name"}),k.jsx("input",{type:"text",value:l,onChange:$=>c($.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:Ct.textMain,borderColor:"transparent"},onFocus:$=>$.target.style.borderColor=Ct.accentPrimary,onBlur:$=>$.target.style.borderColor="transparent"})]}),k.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center",children:[k.jsxs("button",{onClick:()=>Ye("standard"),className:"flex-1 py-4 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:Ct.accentPrimary},children:["Play ",k.jsx(xT,{size:20,fill:"currentColor"})]}),k.jsxs("button",{onClick:()=>Ye("quick"),className:"flex-1 py-4 bg-blue-500 text-white rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2",children:["Quick ",k.jsx("span",{className:"text-xs bg-blue-600 px-1.5 py-0.5 rounded text-blue-100",children:"25m"})]})]}),k.jsxs("div",{className:"flex flex-col items-center gap-3 mt-8 w-full",children:[k.jsxs("div",{className:"flex flex-row items-center justify-center gap-4",children:[k.jsx("button",{onClick:()=>w(!0),className:"group flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-full text-gray-500 font-bold text-xs hover:bg-gray-200 transition-colors shadow-sm whitespace-nowrap",title:"Updates",children:k.jsx(d0,{size:14})}),k.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-gray-600 border-b border-gray-300 hover:border-gray-500 transition-colors pb-0.5 whitespace-nowrap",children:"By Richard Bolland"}),k.jsx("span",{className:"text-gray-300",children:"|"}),k.jsxs("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap",children:[k.jsx(bT,{size:14,className:"fill-pink-600"}),k.jsx("span",{children:"Tip Jar"})]})]}),k.jsx("span",{className:"text-[10px] text-gray-400 text-center max-w-xs leading-tight",children:"Help cover server costs & keep the game running."})]}),k.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:k.jsx(Om,{user:Je,lastUpdated:Ve,initialMode:"standard",onParCalculated:ir})})]}),k.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:k.jsx(Om,{user:Je,lastUpdated:Ve,initialMode:"standard",onParCalculated:ir})}),E&&k.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:k.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full border border-white/50",children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsxs("h3",{className:"text-xl font-black text-gray-800 uppercase flex items-center gap-2",children:[k.jsx(d0,{size:20})," What's New"]}),k.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:k.jsx(vm,{size:24})})]}),k.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[k.jsxs("div",{className:"border-l-2 border-green-500 pl-3",children:[k.jsx("div",{className:"text-xs font-bold text-green-600 uppercase",children:"v6.00"}),k.jsx("div",{className:"font-bold text-gray-800",children:"New Stats Screen"}),k.jsx("p",{className:"text-xs text-gray-500",children:"Track your Played Games, Streaks, and Average Distance."})]}),k.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[k.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v5.80"}),k.jsx("div",{className:"font-bold text-gray-800",children:"In-Game Settings"}),k.jsx("p",{className:"text-xs text-gray-500",children:"Settings moved to game screen, name sync fixed, improved fan toggle."})]}),k.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[k.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v5.70"}),k.jsx("div",{className:"font-bold text-gray-800",children:"Dynamic Par"}),k.jsx("p",{className:"text-xs text-gray-500",children:"Par line adapts to daily player scores."})]}),k.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[k.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v5.60"}),k.jsx("div",{className:"font-bold text-gray-800",children:"Quick Mode"}),k.jsx("p",{className:"text-xs text-gray-500",children:"New 25m fast-paced mode added."})]})]}),k.jsx("button",{onClick:()=>w(!1),className:"w-full mt-6 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold uppercase tracking-widest hover:bg-gray-200 transition-all",children:"Close"})]})})]}):k.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative",style:{backgroundColor:Ct.background,color:Ct.textMain},children:[r==="gameOver"&&!Xe&&k.jsxs("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6",children:[k.jsx(Y_,{}),k.jsx(Y_,{}),k.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-8 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex flex-col relative z-[101]",children:[k.jsx("h3",{className:"text-xl font-black uppercase tracking-widest mb-6",style:{color:Ct.textMain},children:"STATISTICS"}),k.jsxs("div",{className:"flex justify-between items-start mb-8 px-1 gap-1",children:[k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",children:Rt?.gamesPlayed||0}),k.jsx("span",{className:"text-[9px] md:text-[10px] font-bold text-gray-400 uppercase tracking-wide leading-tight",children:"Played"})]}),k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",children:Rt?.currentStreak||0}),k.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold text-gray-400 uppercase tracking-wide leading-tight",children:["Current",k.jsx("br",{}),"Streak"]})]}),k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",children:Rt?.maxStreak||0}),k.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold text-gray-400 uppercase tracking-wide leading-tight",children:["Max",k.jsx("br",{}),"Streak"]})]}),k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsxs("span",{className:"text-2xl md:text-3xl font-black mb-1",children:[Rt?.gamesPlayed>0?Math.round(Rt.totalDistance/Rt.gamesPlayed):0,"m"]}),k.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold text-gray-400 uppercase tracking-wide leading-tight",children:["Avg",k.jsx("br",{}),"Dist"]})]}),k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",children:(Rt?.totalDistance||0)>=1e3?(Rt.totalDistance/1e3).toFixed(1)+"k":(Rt?.totalDistance||0)+"m"}),k.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold text-gray-400 uppercase tracking-wide leading-tight",children:["Total",k.jsx("br",{}),"Dist"]})]})]}),k.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-sm border border-gray-100",children:[k.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-1",children:"Athlete"}),k.jsx("div",{className:"text-3xl font-black text-gray-800 mb-6",children:l}),k.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-1",children:"Distance"}),k.jsxs("div",{className:"text-6xl font-black",style:{color:Ct.accentPrimary},children:[He,"m"]})]}),k.jsxs("div",{className:"flex flex-col gap-3",children:[k.jsx("button",{onClick:oa,className:"w-full py-4 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300",children:kt?k.jsxs(k.Fragment,{children:[k.jsx(oT,{size:20})," Copied"]}):k.jsxs(k.Fragment,{children:[k.jsx(LT,{size:20})," Share Result"]})}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:ba,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg",style:{backgroundColor:"#111827"},children:"Play Again"}),k.jsx("button",{onClick:()=>ct(!0),className:"flex-none px-4 py-4 bg-white border-2 border-gray-200 rounded-xl text-gray-700 hover:bg-gray-50 shadow-sm transition-all flex items-center justify-center",title:"View Board",children:k.jsx(vT,{size:24})})]})]})]}),k.jsx("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative",children:k.jsx(Om,{highlightName:l,user:Je,onRankFound:bt,lastUpdated:Ve,initialMode:i,onParCalculated:ir})})]}),W&&k.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:k.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[k.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),k.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(Tw).filter($=>$!=="*").map($=>k.jsx("button",{onClick:()=>Fn($),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:Ct.textMain},children:$},$))}),k.jsx("button",{onClick:()=>{me(!1),Qe(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),(Gi||Gt)&&k.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:k.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[k.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:k.jsx(aT,{size:48,style:{color:Ct.accentPrimary}})}),k.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"Game Rules"}),k.jsxs("div",{className:"text-left text-gray-600 mb-6 text-sm space-y-3",children:[k.jsxs("p",{className:"flex gap-2",children:[k.jsx("span",{className:"font-bold text-black",children:""}),k.jsxs("span",{children:["This is a ",k.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),k.jsxs("p",{className:"flex gap-2",children:[k.jsx("span",{className:"font-bold text-black",children:""}),k.jsxs("span",{children:["Place words ",k.jsx("strong",{children:"Left to Right"})," or ",k.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),k.jsxs("p",{className:"flex gap-2",children:[k.jsx("span",{className:"font-bold text-black",children:""}),k.jsxs("span",{children:["Minimum ",k.jsx("strong",{children:"2 letter"})," words."]})]}),k.jsxs("p",{className:"flex gap-2",children:[k.jsx("span",{className:"font-bold text-black",children:""}),k.jsxs("span",{children:["Start in ",k.jsx("strong",{children:"Column 1"})," (left)."]})]}),k.jsxs("p",{className:"flex gap-2 items-center",children:[k.jsx(ym,{size:16,className:"text-yellow-500 fill-yellow-500"}),k.jsxs("span",{children:[k.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),k.jsxs("p",{className:"flex gap-2 items-center",children:[k.jsx(ph,{size:16,className:"text-purple-500 fill-purple-500"}),k.jsxs("span",{children:[k.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]})]}),k.jsx("button",{onClick:()=>{$n(!1),An(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:Ct.accentPrimary},children:Gi?"Let's Jump!":"Close"})]})}),sn&&k.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:k.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[k.jsx("div",{className:"flex justify-center mb-4",children:k.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:k.jsx(AT,{size:32,className:"text-red-500"})})}),k.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Exit Game?"}),k.jsx("p",{className:"text-gray-500 mb-8",children:"Are you sure you want to quit? You will lose your current progress."}),k.jsxs("div",{className:"flex gap-3",children:[k.jsx("button",{onClick:()=>mn(!1),className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),k.jsx("button",{onClick:Ha,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600",children:"Exit"})]})]})}),Jt&&k.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:k.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[k.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),k.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",k.jsx("strong",{style:{color:Ct.accentPrimary},children:ye}),". This will end your current run."]}),k.jsxs("div",{className:"flex gap-3",children:[k.jsx("button",{onClick:Nr,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),k.jsx("button",{onClick:or,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:Ct.accentPrimary},children:"Confirm"})]})]})}),p&&k.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:k.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full border border-white/50",children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsx("h3",{className:"text-xl font-black text-gray-800 uppercase",children:"Settings"}),k.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:k.jsx(vm,{size:24})})]}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{className:"space-y-2",children:[k.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Username"}),k.jsx("input",{type:"text",value:l,onChange:$=>c($.target.value),maxLength:12,className:"w-full bg-gray-100 border border-transparent focus:bg-white focus:border-blue-500 px-4 py-3 rounded-xl font-bold text-gray-800 outline-none transition-all"})]}),k.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[k.jsxs("div",{className:"flex flex-col",children:[k.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Crowd Fans"}),k.jsx("span",{className:"text-[10px] text-gray-400",children:"Animated cheer squad on the board"})]}),k.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[k.jsx("input",{type:"checkbox",className:"sr-only peer",checked:I,onChange:()=>U(!I)}),k.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]})]}),k.jsx("button",{onClick:()=>b(!1),className:"w-full mt-8 py-3 bg-gray-900 text-white rounded-xl font-bold uppercase tracking-widest hover:scale-105 transition-all",children:"Save & Close"})]})}),k.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50",children:[k.jsxs("div",{className:"flex flex-col items-start",children:[k.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),xn&&k.jsxs("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap",children:[k.jsx("span",{className:"text-gray-400 font-bold uppercase tracking-widest",children:i==="quick"?"Quick Leader":"Standard Leader"}),k.jsx(Vm,{size:12,className:"text-yellow-500 fill-yellow-500"}),k.jsx("span",{className:"font-bold text-gray-700",children:xn.name}),k.jsxs("span",{className:"font-mono text-gray-400",children:[xn.score,"m"]})]}),k.jsxs("div",{className:"block md:hidden",children:[ye>0&&r==="playing"&&k.jsxs("button",{onClick:Qn,disabled:C||Tn,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",k.jsx(m0,{size:10,style:{color:Ct.starGold}})]}),r==="gameOver"&&Xe&&k.jsxs("button",{onClick:()=>ct(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:Ct.accentPrimary,color:"white"},children:[k.jsx(f0,{size:12})," RESULTS"]})]})]}),k.jsxs("div",{className:"flex flex-col items-center flex-1",children:[k.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:Rs,children:k.jsx(X_,{})}),k.jsxs("div",{className:"hidden md:block mt-6",children:[r==="playing"&&ye>0&&k.jsxs("button",{onClick:Qn,disabled:C||Tn,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",k.jsx(m0,{size:10,style:{color:Ct.starGold}})]}),r==="gameOver"&&Xe&&k.jsxs("button",{onClick:()=>ct(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:Ct.accentPrimary},children:[k.jsx(f0,{size:14})," BACK TO RESULTS"]})]})]}),k.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[k.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:Ct.accentPrimary},children:l||"PLAYER 1"}),k.jsxs("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:Ct.accentPrimary},children:[k.jsx(DT,{size:16})," ",He,"m"]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsxs("button",{onClick:()=>An(!0),className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 uppercase tracking-widest flex items-center gap-1",children:["Rules ",k.jsx(ET,{size:12})]}),k.jsx("button",{onClick:()=>b(!0),className:"text-gray-400 hover:text-gray-600",children:k.jsx(VT,{size:14})})]})]})]}),k.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:lr,onMouseLeave:Di,onMouseUp:ur,onMouseMove:Yi,children:k.jsx("div",{ref:vn,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${Ni?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"},children:k.jsxs("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area",children:[k.jsx("div",{className:"absolute top-0 bottom-0 border-r-2 border-red-400 border-dashed z-20 pointer-events-none opacity-60",style:{left:`${Bn*ga}px`},children:k.jsx("span",{className:"absolute top-[-20px] right-0 translate-x-1/2 text-red-500 text-[10px] font-black tracking-widest",children:"PAR"})}),k.jsx("div",{className:"flex relative mb-3",style:{width:`${j[0].length*ga}px`,height:"24px"},children:Array(j[0].length).fill(0).map(($,ue)=>{const ge=ue===0,be=(ue+1)%5===0;if(!ge&&!be)return null;const Ne=ye<3;return k.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:ue*ga+ga/2,transform:`translateX(-50%) ${ge&&Ne?"translateY(-45px)":"translateY(0)"}`},children:[k.jsx("span",{className:`text-xs tracking-wider ${ge?"text-black font-black":"text-gray-400"}`,children:ge?"START":`${ue+1}m`}),k.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${ge?"bg-black":"bg-gray-300"}`})]},`ruler-${ue}`)})}),k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:I&&G.filter($=>$.type==="top").map(($,ue)=>{const ge=Math.max($.startCol,ye+$.offset);return k.jsx("div",{className:"absolute -top-[55px]",style:{left:`${ge*ga}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:k.jsx(Q_,{trigger:ft})},`fan-top-${$.id}`)})}),k.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${j[0].length}, ${ga}px)`,gridTemplateRows:`repeat(${ia}, ${ga}px)`,backgroundColor:Ct.boardBackground,borderColor:Ct.boardLines},children:Array(ia).fill(0).map(($,ue)=>Array(j[0].length).fill(0).map((ge,be)=>{const Ne=wa(ue,be),Fe=Ea(ue,be),Ze=vr(ue,be),Pe=Q.some(Nn=>Nn.r===ue&&Nn.c===be),Le=be===0&&!Ne&&!Fa,st=Ne?.type==="locked",Sn=(be+1)%5===0,Mn=be<He,nn=we&&we.r===ue&&we.c===be,ii=C&&st?"animate-jump-green":"";return k.jsxs("div",{onClick:()=>Ci(ue,be),onDragOver:ki,onDrop:Nn=>qa(Nn,ue,be),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${Ne?Ne.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Ze?"cursor-not-allowed":"hover:bg-white/20"}  ${Ne?.type==="temp"?`bg-[${Ct.tileTemp}] ring-2 ring-[${Ct.tileTempRing}] -translate-y-[2px] z-10`:""} ${!Ne&&!Ze&&Mn?"bg-white/20":be===0&&!Ne?"bg-green-100/40":!Ne&&!Ze&&!Le&&(ue+be)%2===0?"bg-black/5":"bg-transparent"} ${nn?"ring-4 ring-blue-400 z-20":""} ${!Ne&&nn?"bg-blue-50/20":""} ${!Ne&&Sn?"border-r-2 border-r-black/10":"border border-black/5"} ${Mn?"animate-pop-green":""} ${ii}`,style:st?{backgroundColor:Mn?Ct.overlayComplete:Ct.tileLocked,color:Ct.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:C?`${be*50}ms`:"0ms"}:Ne?.type==="temp"?{backgroundColor:Ne.isWild?Ct.tileWildPlaced:Ct.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Ze?{backgroundColor:Ct.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!Ne&&Le&&k.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:k.jsx(dT,{size:20,style:{color:Ct.startArrow}})}),!Ne&&Ze&&k.jsx("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Ne&&Fe&&!Ze&&!Pe&&k.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[k.jsx(ym,{className:"w-6 h-6",fill:Ct.starGold,stroke:Ct.starGold}),k.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",Fe.val]})]}),!Ne&&Pe&&!Ze&&k.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:k.jsx(ph,{className:"w-7 h-7",fill:Ct.starPurple,stroke:Ct.starPurple})}),Ne&&k.jsxs("div",{draggable:Ne.type==="temp"&&!C&&r==="playing",onDragStart:Nn=>Ri(Nn,{type:"board",r:ue,c:be,letter:Ne.letter}),className:`w-full h-full flex items-center justify-center ${Ne.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:[k.jsx("span",{className:"text-2xl font-bold select-none font-mono",children:Ne.letter}),Ne.isWild&&k.jsx(ph,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})]})]},`${ue}-${be}`)}))}),k.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:I&&G.filter($=>$.type==="bottom").map(($,ue)=>{const ge=Math.max($.startCol,ye+$.offset);return k.jsx("div",{className:"absolute -bottom-[35px]",style:{left:`${ge*ga}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:k.jsx(Q_,{trigger:ft})},`fan-bottom-${$.id}`)})})]}),v&&k.jsx("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none",children:k.jsxs("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative",children:[k.jsx("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),k.jsx(hT,{size:16}),"Start Here!"]})})]})})}),k.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50",children:[k.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[k.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${Dt.type==="error"?"bg-red-100 text-red-700":Dt.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[k.jsx("span",{children:Tn?"Checking...":Dt.text}),Dt.type==="error"&&Dt.invalidWord&&k.jsxs("a",{href:`mailto:richard@studiobo.io?subject=Report Valid Word: ${Dt.invalidWord}&body=The word "${Dt.invalidWord}" should be valid.`,className:"ml-2 bg-red-200 hover:bg-red-300 text-red-800 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors",children:["Report ",k.jsx(CT,{size:10})]})]}),k.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[k.jsx("button",{onClick:ar,disabled:C||Ce.length===0||r!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",title:"Undo last move",children:k.jsx(MT,{size:16})}),k.jsxs("button",{onClick:Zt,disabled:C||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[k.jsx(jT,{size:16})," Shuffle"]}),k.jsxs("button",{onClick:wi,disabled:C||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[k.jsx(nT,{size:16})," Sort A-Z"]}),K.length>0&&k.jsxs("button",{onClick:bi,disabled:Tn||C||r!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${Tn||C?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:Tn||C?{}:{backgroundColor:Ct.accentPrimary,color:"white"},children:[Tn?"Checking...":"JUMP"," ",k.jsx(uT,{size:18,strokeWidth:4})]}),K.length>0&&k.jsx("button",{onClick:()=>{const ue=K.map(ge=>ge.isWild?"*":ge.letter).map(ge=>Th(ge,!1));Ie(ge=>[...ge,...ue].sort((be,Ne)=>be.letter!==Ne.letter?be.letter.localeCompare(Ne.letter):be.isNew===Ne.isNew?0:be.isNew?1:-1)),Ee([]),he(null)},disabled:C||r!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:k.jsx(vm,{size:16})})]})]}),k.jsxs("div",{onDragOver:ki,onDrop:qr,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:Ct.boardLines},children:[Vn.length===0&&k.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),Vn.length<6?k.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Vn.map($=>k.jsx(tn,{letter:$},$))}):k.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[k.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ga.map($=>k.jsx(tn,{letter:$},$))}),k.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ta.map($=>k.jsx(tn,{letter:$},$))})]})]})]}),k.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `})]})}KE.createRoot(document.getElementById("root")).render(k.jsx(et.StrictMode,{children:k.jsx(dM,{})}));
